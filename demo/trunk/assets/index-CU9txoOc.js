function LD(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var $o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mf={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function ID(){if(Z2)return sl;Z2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:o}}return sl.Fragment=e,sl.jsx=t,sl.jsxs=t,sl}var J2;function ED(){return J2||(J2=1,Mf.exports=ID()),Mf.exports}var re=ED(),Ff={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function _D(){if(ey)return $e;ey=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=m&&G[m]||G["@@iterator"],typeof G=="function"?G:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function C(G,z,j){this.props=G,this.context=z,this.refs=y,this.updater=j||p}C.prototype.isReactComponent={},C.prototype.setState=function(G,z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,z,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function w(){}w.prototype=C.prototype;function D(G,z,j){this.props=G,this.context=z,this.refs=y,this.updater=j||p}var b=D.prototype=new w;b.constructor=D,S(b,C.prototype),b.isPureReactComponent=!0;var x=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function k(G,z,j,$,ee,J){return j=J.ref,{$$typeof:n,type:G,key:z,ref:j!==void 0?j:null,props:J}}function E(G,z){return k(G.type,z,void 0,void 0,void 0,G.props)}function _(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function R(G){var z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(j){return z[j]})}var N=/\/+/g;function U(G,z){return typeof G=="object"&&G!==null&&G.key!=null?R(""+G.key):z.toString(36)}function L(){}function P(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(L,L):(G.status="pending",G.then(function(z){G.status==="pending"&&(G.status="fulfilled",G.value=z)},function(z){G.status==="pending"&&(G.status="rejected",G.reason=z)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function M(G,z,j,$,ee){var J=typeof G;(J==="undefined"||J==="boolean")&&(G=null);var se=!1;if(G===null)se=!0;else switch(J){case"bigint":case"string":case"number":se=!0;break;case"object":switch(G.$$typeof){case n:case e:se=!0;break;case f:return se=G._init,M(se(G._payload),z,j,$,ee)}}if(se)return ee=ee(G),se=$===""?"."+U(G,0):$,x(ee)?(j="",se!=null&&(j=se.replace(N,"$&/")+"/"),M(ee,z,j,"",function(ce){return ce})):ee!=null&&(_(ee)&&(ee=E(ee,j+(ee.key==null||G&&G.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+se)),z.push(ee)),1;se=0;var Z=$===""?".":$+":";if(x(G))for(var te=0;te<G.length;te++)$=G[te],J=Z+U($,te),se+=M($,z,j,J,ee);else if(te=v(G),typeof te=="function")for(G=te.call(G),te=0;!($=G.next()).done;)$=$.value,J=Z+U($,te++),se+=M($,z,j,J,ee);else if(J==="object"){if(typeof G.then=="function")return M(P(G),z,j,$,ee);throw z=String(G),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return se}function F(G,z,j){if(G==null)return G;var $=[],ee=0;return M(G,$,"","",function(J){return z.call(j,J,ee++)}),$}function B(G){if(G._status===-1){var z=G._result;z=z(),z.then(function(j){(G._status===0||G._status===-1)&&(G._status=1,G._result=j)},function(j){(G._status===0||G._status===-1)&&(G._status=2,G._result=j)}),G._status===-1&&(G._status=0,G._result=z)}if(G._status===1)return G._result.default;throw G._result}var H=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function Q(){}return $e.Children={map:F,forEach:function(G,z,j){F(G,function(){z.apply(this,arguments)},j)},count:function(G){var z=0;return F(G,function(){z++}),z},toArray:function(G){return F(G,function(z){return z})||[]},only:function(G){if(!_(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},$e.Component=C,$e.Fragment=t,$e.Profiler=a,$e.PureComponent=D,$e.StrictMode=i,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,$e.__COMPILER_RUNTIME={__proto__:null,c:function(G){return A.H.useMemoCache(G)}},$e.cache=function(G){return function(){return G.apply(null,arguments)}},$e.cloneElement=function(G,z,j){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var $=S({},G.props),ee=G.key,J=void 0;if(z!=null)for(se in z.ref!==void 0&&(J=void 0),z.key!==void 0&&(ee=""+z.key),z)!I.call(z,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&z.ref===void 0||($[se]=z[se]);var se=arguments.length-2;if(se===1)$.children=j;else if(1<se){for(var Z=Array(se),te=0;te<se;te++)Z[te]=arguments[te+2];$.children=Z}return k(G.type,ee,void 0,void 0,J,$)},$e.createContext=function(G){return G={$$typeof:l,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},$e.createElement=function(G,z,j){var $,ee={},J=null;if(z!=null)for($ in z.key!==void 0&&(J=""+z.key),z)I.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ee[$]=z[$]);var se=arguments.length-2;if(se===1)ee.children=j;else if(1<se){for(var Z=Array(se),te=0;te<se;te++)Z[te]=arguments[te+2];ee.children=Z}if(G&&G.defaultProps)for($ in se=G.defaultProps,se)ee[$]===void 0&&(ee[$]=se[$]);return k(G,J,void 0,void 0,null,ee)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(G){return{$$typeof:c,render:G}},$e.isValidElement=_,$e.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:B}},$e.memo=function(G,z){return{$$typeof:h,type:G,compare:z===void 0?null:z}},$e.startTransition=function(G){var z=A.T,j={};A.T=j;try{var $=G(),ee=A.S;ee!==null&&ee(j,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Q,H)}catch(J){H(J)}finally{A.T=z}},$e.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},$e.use=function(G){return A.H.use(G)},$e.useActionState=function(G,z,j){return A.H.useActionState(G,z,j)},$e.useCallback=function(G,z){return A.H.useCallback(G,z)},$e.useContext=function(G){return A.H.useContext(G)},$e.useDebugValue=function(){},$e.useDeferredValue=function(G,z){return A.H.useDeferredValue(G,z)},$e.useEffect=function(G,z,j){var $=A.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(G,z)},$e.useId=function(){return A.H.useId()},$e.useImperativeHandle=function(G,z,j){return A.H.useImperativeHandle(G,z,j)},$e.useInsertionEffect=function(G,z){return A.H.useInsertionEffect(G,z)},$e.useLayoutEffect=function(G,z){return A.H.useLayoutEffect(G,z)},$e.useMemo=function(G,z){return A.H.useMemo(G,z)},$e.useOptimistic=function(G,z){return A.H.useOptimistic(G,z)},$e.useReducer=function(G,z,j){return A.H.useReducer(G,z,j)},$e.useRef=function(G){return A.H.useRef(G)},$e.useState=function(G){return A.H.useState(G)},$e.useSyncExternalStore=function(G,z,j){return A.H.useSyncExternalStore(G,z,j)},$e.useTransition=function(){return A.H.useTransition()},$e.version="19.1.1",$e}var ty;function Sg(){return ty||(ty=1,Ff.exports=_D()),Ff.exports}var K=Sg();const Nn=Rc(K),k0=LD({__proto__:null,default:Nn},[K]);var kf={exports:{}},ll={},Uf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function MD(){return ny||(ny=1,function(n){function e(F,B){var H=F.length;F.push(B);e:for(;0<H;){var Q=H-1>>>1,G=F[Q];if(0<a(G,B))F[Q]=B,F[H]=G,H=Q;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var B=F[0],H=F.pop();if(H!==B){F[0]=H;e:for(var Q=0,G=F.length,z=G>>>1;Q<z;){var j=2*(Q+1)-1,$=F[j],ee=j+1,J=F[ee];if(0>a($,H))ee<G&&0>a(J,$)?(F[Q]=J,F[ee]=H,Q=ee):(F[Q]=$,F[j]=H,Q=j);else if(ee<G&&0>a(J,H))F[Q]=J,F[ee]=H,Q=ee;else break e}}return B}function a(F,B){var H=F.sortIndex-B.sortIndex;return H!==0?H:F.id-B.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,m=null,v=3,p=!1,S=!1,y=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function x(F){for(var B=t(h);B!==null;){if(B.callback===null)i(h);else if(B.startTime<=F)i(h),B.sortIndex=B.expirationTime,e(d,B);else break;B=t(h)}}function A(F){if(y=!1,x(F),!S)if(t(d)!==null)S=!0,I||(I=!0,U());else{var B=t(h);B!==null&&M(A,B.startTime-F)}}var I=!1,k=-1,E=5,_=-1;function R(){return C?!0:!(n.unstable_now()-_<E)}function N(){if(C=!1,I){var F=n.unstable_now();_=F;var B=!0;try{e:{S=!1,y&&(y=!1,D(k),k=-1),p=!0;var H=v;try{t:{for(x(F),m=t(d);m!==null&&!(m.expirationTime>F&&R());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,v=m.priorityLevel;var G=Q(m.expirationTime<=F);if(F=n.unstable_now(),typeof G=="function"){m.callback=G,x(F),B=!0;break t}m===t(d)&&i(d),x(F)}else i(d);m=t(d)}if(m!==null)B=!0;else{var z=t(h);z!==null&&M(A,z.startTime-F),B=!1}}break e}finally{m=null,v=H,p=!1}B=void 0}}finally{B?U():I=!1}}}var U;if(typeof b=="function")U=function(){b(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,P=L.port2;L.port1.onmessage=N,U=function(){P.postMessage(null)}}else U=function(){w(N,0)};function M(F,B){k=w(function(){F(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(F){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var H=v;v=B;try{return F()}finally{v=H}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=v;v=F;try{return B()}finally{v=H}},n.unstable_scheduleCallback=function(F,B,H){var Q=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,F){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=H+G,F={id:f++,callback:B,priorityLevel:F,startTime:H,expirationTime:G,sortIndex:-1},H>Q?(F.sortIndex=H,e(h,F),t(d)===null&&F===t(h)&&(y?(D(k),k=-1):y=!0,M(A,H-Q))):(F.sortIndex=G,e(d,F),S||p||(S=!0,I||(I=!0,U()))),F},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(F){var B=v;return function(){var H=v;v=B;try{return F.apply(this,arguments)}finally{v=H}}}}(Nf)),Nf}var iy;function FD(){return iy||(iy=1,Uf.exports=MD()),Uf.exports}var qf={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function kD(){if(ry)return Dn;ry=1;var n=Sg();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:h,implementation:f}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,f)},Dn.flushSync=function(d){var h=l.T,f=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=f,i.d.f()}},Dn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Dn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,p=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:p}):f==="script"&&i.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:p,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Dn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);i.d.L(d,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Dn.requestFormReset=function(d){i.d.r(d)},Dn.unstable_batchedUpdates=function(d,h){return d(h)},Dn.useFormState=function(d,h,f){return l.H.useFormState(d,h,f)},Dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dn.version="19.1.1",Dn}var ay;function wC(){if(ay)return qf.exports;ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qf.exports=kD(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function UD(){if(oy)return ll;oy=1;var n=FD(),e=Sg(),t=wC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function l(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(o(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var u=r,g=s;;){var T=u.return;if(T===null)break;var O=T.alternate;if(O===null){if(g=T.return,g!==null){u=g;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===u)return c(T),r;if(O===g)return c(T),s;O=O.sibling}throw Error(i(188))}if(u.return!==g.return)u=T,g=O;else{for(var V=!1,Y=T.child;Y;){if(Y===u){V=!0,u=T,g=O;break}if(Y===g){V=!0,g=T,u=O;break}Y=Y.sibling}if(!V){for(Y=O.child;Y;){if(Y===u){V=!0,u=O,g=T;break}if(Y===g){V=!0,g=O,u=T;break}Y=Y.sibling}if(!V)throw Error(i(189))}}if(u.alternate!==g)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:s}function h(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=h(r),s!==null)return s;r=r.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),b=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=N&&r[N]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function P(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case C:return"Profiler";case y:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList";case _:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case p:return"Portal";case b:return(r.displayName||"Context")+".Provider";case D:return(r._context.displayName||"Context")+".Consumer";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:P(r.type)||"Memo";case E:s=r._payload,r=r._init;try{return P(r(s))}catch{}}return null}var M=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Q=[],G=-1;function z(r){return{current:r}}function j(r){0>G||(r.current=Q[G],Q[G]=null,G--)}function $(r,s){G++,Q[G]=r.current,r.current=s}var ee=z(null),J=z(null),se=z(null),Z=z(null);function te(r,s){switch($(se,s),$(J,r),$(ee,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?A2(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=A2(s),r=P2(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}j(ee),$(ee,r)}function ce(){j(ee),j(J),j(se)}function de(r){r.memoizedState!==null&&$(Z,r);var s=ee.current,u=P2(s,r.type);s!==u&&($(J,r),$(ee,u))}function be(r){J.current===r&&(j(ee),j(J)),Z.current===r&&(j(Z),nl._currentValue=H)}var Te=Object.prototype.hasOwnProperty,Me=n.unstable_scheduleCallback,q=n.unstable_cancelCallback,le=n.unstable_shouldYield,he=n.unstable_requestPaint,W=n.unstable_now,X=n.unstable_getCurrentPriorityLevel,ae=n.unstable_ImmediatePriority,ve=n.unstable_UserBlockingPriority,Ce=n.unstable_NormalPriority,ne=n.unstable_LowPriority,Pe=n.unstable_IdlePriority,Ee=n.log,fe=n.unstable_setDisableYieldValue,pe=null,Oe=null;function Ie(r){if(typeof Ee=="function"&&fe(r),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(pe,r)}catch{}}var Fe=Math.clz32?Math.clz32:Ze,qe=Math.log,Ve=Math.LN2;function Ze(r){return r>>>=0,r===0?32:31-(qe(r)/Ve|0)|0}var Ge=256,dt=4194304;function Ne(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function We(r,s,u){var g=r.pendingLanes;if(g===0)return 0;var T=0,O=r.suspendedLanes,V=r.pingedLanes;r=r.warmLanes;var Y=g&134217727;return Y!==0?(g=Y&~O,g!==0?T=Ne(g):(V&=Y,V!==0?T=Ne(V):u||(u=Y&~r,u!==0&&(T=Ne(u))))):(Y=g&~O,Y!==0?T=Ne(Y):V!==0?T=Ne(V):u||(u=g&~r,u!==0&&(T=Ne(u)))),T===0?0:s!==0&&s!==T&&(s&O)===0&&(O=T&-T,u=s&-s,O>=u||O===32&&(u&4194048)!==0)?s:T}function bt(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Kn(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(){var r=Ge;return Ge<<=1,(Ge&4194048)===0&&(Ge=256),r}function br(){var r=dt;return dt<<=1,(dt&62914560)===0&&(dt=4194304),r}function Cr(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function pt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ut(r,s,u,g,T,O){var V=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var Y=r.entanglements,ie=r.expirationTimes,me=r.hiddenUpdates;for(u=V&~u;0<u;){var Ae=31-Fe(u),Le=1<<Ae;Y[Ae]=0,ie[Ae]=-1;var Se=me[Ae];if(Se!==null)for(me[Ae]=null,Ae=0;Ae<Se.length;Ae++){var ye=Se[Ae];ye!==null&&(ye.lane&=-536870913)}u&=~Le}g!==0&&Za(r,g,0),O!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=O&~(V&~s))}function Za(r,s,u){r.pendingLanes|=s,r.suspendedLanes&=~s;var g=31-Fe(s);r.entangledLanes|=s,r.entanglements[g]=r.entanglements[g]|1073741824|u&4194090}function oa(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var g=31-Fe(u),T=1<<g;T&s|r[g]&s&&(r[g]|=s),u&=~T}}function Bn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fp(){var r=B.p;return r!==0?r:(r=window.event,r===void 0?32:j2(r.type))}function v3(r,s){var u=B.p;try{return B.p=r,s()}finally{B.p=u}}var Dr=Math.random().toString(36).slice(2),bn="__reactFiber$"+Dr,Rn="__reactProps$"+Dr,Ja="__reactContainer$"+Dr,xd="__reactEvents$"+Dr,b3="__reactListeners$"+Dr,C3="__reactHandles$"+Dr,gp="__reactResources$"+Dr,fs="__reactMarker$"+Dr;function Ad(r){delete r[bn],delete r[Rn],delete r[xd],delete r[b3],delete r[C3]}function eo(r){var s=r[bn];if(s)return s;for(var u=r.parentNode;u;){if(s=u[Ja]||u[bn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=I2(r);r!==null;){if(u=r[bn])return u;r=I2(r)}return s}r=u,u=r.parentNode}return null}function to(r){if(r=r[bn]||r[Ja]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function gs(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function no(r){var s=r[gp];return s||(s=r[gp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ln(r){r[fs]=!0}var pp=new Set,mp={};function sa(r,s){io(r,s),io(r+"Capture",s)}function io(r,s){for(mp[r]=s,r=0;r<s.length;r++)pp.add(s[r])}var D3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sp={},yp={};function T3(r){return Te.call(yp,r)?!0:Te.call(Sp,r)?!1:D3.test(r)?yp[r]=!0:(Sp[r]=!0,!1)}function Uc(r,s,u){if(T3(s))if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+u)}}function Nc(r,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+u)}}function Vi(r,s,u,g){if(g===null)r.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(s,u,""+g)}}var Pd,vp;function ro(r){if(Pd===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Pd=s&&s[1]||"",vp=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pd+r+vp}var Rd=!1;function Od(r,s){if(!r||Rd)return"";Rd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(ye){var Se=ye}Reflect.construct(r,[],Le)}else{try{Le.call()}catch(ye){Se=ye}r.call(Le.prototype)}}else{try{throw Error()}catch(ye){Se=ye}(Le=r())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(ye){if(ye&&Se&&typeof ye.stack=="string")return[ye.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=g.DetermineComponentFrameRoot(),V=O[0],Y=O[1];if(V&&Y){var ie=V.split(`
`),me=Y.split(`
`);for(T=g=0;g<ie.length&&!ie[g].includes("DetermineComponentFrameRoot");)g++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(g===ie.length||T===me.length)for(g=ie.length-1,T=me.length-1;1<=g&&0<=T&&ie[g]!==me[T];)T--;for(;1<=g&&0<=T;g--,T--)if(ie[g]!==me[T]){if(g!==1||T!==1)do if(g--,T--,0>T||ie[g]!==me[T]){var Ae=`
`+ie[g].replace(" at new "," at ");return r.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",r.displayName)),Ae}while(1<=g&&0<=T);break}}}finally{Rd=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?ro(u):""}function w3(r){switch(r.tag){case 26:case 27:case 5:return ro(r.type);case 16:return ro("Lazy");case 13:return ro("Suspense");case 19:return ro("SuspenseList");case 0:case 15:return Od(r.type,!1);case 11:return Od(r.type.render,!1);case 1:return Od(r.type,!0);case 31:return ro("Activity");default:return""}}function bp(r){try{var s="";do s+=w3(r),r=r.return;while(r);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Cp(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function x3(r){var s=Cp(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),g=""+r[s];if(!r.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var T=u.get,O=u.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return T.call(this)},set:function(V){g=""+V,O.call(this,V)}}),Object.defineProperty(r,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(V){g=""+V},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function qc(r){r._valueTracker||(r._valueTracker=x3(r))}function Dp(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return r&&(g=Cp(r)?r.checked?"true":"false":r.value),r=g,r!==u?(s.setValue(r),!0):!1}function Bc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var A3=/[\n"\\]/g;function Jn(r){return r.replace(A3,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ld(r,s,u,g,T,O,V,Y){r.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?r.type=V:r.removeAttribute("type"),s!=null?V==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Zn(s)):r.value!==""+Zn(s)&&(r.value=""+Zn(s)):V!=="submit"&&V!=="reset"||r.removeAttribute("value"),s!=null?Id(r,V,Zn(s)):u!=null?Id(r,V,Zn(u)):g!=null&&r.removeAttribute("value"),T==null&&O!=null&&(r.defaultChecked=!!O),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?r.name=""+Zn(Y):r.removeAttribute("name")}function Tp(r,s,u,g,T,O,V,Y){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.type=O),s!=null||u!=null){if(!(O!=="submit"&&O!=="reset"||s!=null))return;u=u!=null?""+Zn(u):"",s=s!=null?""+Zn(s):u,Y||s===r.value||(r.value=s),r.defaultValue=s}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=Y?r.checked:!!g,r.defaultChecked=!!g,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(r.name=V)}function Id(r,s,u){s==="number"&&Bc(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function ao(r,s,u,g){if(r=r.options,s){s={};for(var T=0;T<u.length;T++)s["$"+u[T]]=!0;for(u=0;u<r.length;u++)T=s.hasOwnProperty("$"+r[u].value),r[u].selected!==T&&(r[u].selected=T),T&&g&&(r[u].defaultSelected=!0)}else{for(u=""+Zn(u),s=null,T=0;T<r.length;T++){if(r[T].value===u){r[T].selected=!0,g&&(r[T].defaultSelected=!0);return}s!==null||r[T].disabled||(s=r[T])}s!==null&&(s.selected=!0)}}function wp(r,s,u){if(s!=null&&(s=""+Zn(s),s!==r.value&&(r.value=s),u==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=u!=null?""+Zn(u):""}function xp(r,s,u,g){if(s==null){if(g!=null){if(u!=null)throw Error(i(92));if(M(g)){if(1<g.length)throw Error(i(93));g=g[0]}u=g}u==null&&(u=""),s=u}u=Zn(s),r.defaultValue=u,g=r.textContent,g===u&&g!==""&&g!==null&&(r.value=g)}function oo(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var P3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ap(r,s,u){var g=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":g?r.setProperty(s,u):typeof u!="number"||u===0||P3.has(s)?s==="float"?r.cssFloat=u:r[s]=(""+u).trim():r[s]=u+"px"}function Pp(r,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var T in s)g=s[T],s.hasOwnProperty(T)&&u[T]!==g&&Ap(r,T,g)}else for(var O in s)s.hasOwnProperty(O)&&Ap(r,O,s[O])}function Ed(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gc(r){return O3.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _d=null;function Md(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var so=null,lo=null;function Rp(r){var s=to(r);if(s&&(r=s.stateNode)){var u=r[Rn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ld(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Jn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==r&&g.form===r.form){var T=g[Rn]||null;if(!T)throw Error(i(90));Ld(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(s=0;s<u.length;s++)g=u[s],g.form===r.form&&Dp(g)}break e;case"textarea":wp(r,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&ao(r,!!u.multiple,s,!1)}}}var Fd=!1;function Op(r,s,u){if(Fd)return r(s,u);Fd=!0;try{var g=r(s);return g}finally{if(Fd=!1,(so!==null||lo!==null)&&(Au(),so&&(s=so,r=lo,lo=so=null,Rp(s),r)))for(s=0;s<r.length;s++)Rp(r[s])}}function ps(r,s){var u=r.stateNode;if(u===null)return null;var g=u[Rn]||null;if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kd=!1;if(zi)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){kd=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{kd=!1}var Tr=null,Ud=null,Vc=null;function Lp(){if(Vc)return Vc;var r,s=Ud,u=s.length,g,T="value"in Tr?Tr.value:Tr.textContent,O=T.length;for(r=0;r<u&&s[r]===T[r];r++);var V=u-r;for(g=1;g<=V&&s[u-g]===T[O-g];g++);return Vc=T.slice(r,1<g?1-g:void 0)}function zc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Qc(){return!0}function Ip(){return!1}function On(r){function s(u,g,T,O,V){this._reactName=u,this._targetInst=T,this.type=g,this.nativeEvent=O,this.target=V,this.currentTarget=null;for(var Y in r)r.hasOwnProperty(Y)&&(u=r[Y],this[Y]=u?u(O):O[Y]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Qc:Ip,this.isPropagationStopped=Ip,this}return f(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),s}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=On(la),Ss=f({},la,{view:0,detail:0}),L3=On(Ss),Nd,qd,ys,jc=f({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ys&&(ys&&r.type==="mousemove"?(Nd=r.screenX-ys.screenX,qd=r.screenY-ys.screenY):qd=Nd=0,ys=r),Nd)},movementY:function(r){return"movementY"in r?r.movementY:qd}}),Ep=On(jc),I3=f({},jc,{dataTransfer:0}),E3=On(I3),_3=f({},Ss,{relatedTarget:0}),Bd=On(_3),M3=f({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),F3=On(M3),k3=f({},la,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),U3=On(k3),N3=f({},la,{data:0}),_p=On(N3),q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V3(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=G3[r])?!!s[r]:!1}function Gd(){return V3}var z3=f({},Ss,{key:function(r){if(r.key){var s=q3[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=zc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?B3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(r){return r.type==="keypress"?zc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?zc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Q3=On(z3),H3=f({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mp=On(H3),j3=f({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),Y3=On(j3),X3=f({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),W3=On(X3),$3=f({},jc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),K3=On($3),Z3=f({},la,{newState:0,oldState:0}),J3=On(Z3),e6=[9,13,27,32],Vd=zi&&"CompositionEvent"in window,vs=null;zi&&"documentMode"in document&&(vs=document.documentMode);var t6=zi&&"TextEvent"in window&&!vs,Fp=zi&&(!Vd||vs&&8<vs&&11>=vs),kp=" ",Up=!1;function Np(r,s){switch(r){case"keyup":return e6.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var co=!1;function n6(r,s){switch(r){case"compositionend":return qp(s);case"keypress":return s.which!==32?null:(Up=!0,kp);case"textInput":return r=s.data,r===kp&&Up?null:r;default:return null}}function i6(r,s){if(co)return r==="compositionend"||!Vd&&Np(r,s)?(r=Lp(),Vc=Ud=Tr=null,co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Fp&&s.locale!=="ko"?null:s.data;default:return null}}var r6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!r6[r.type]:s==="textarea"}function Gp(r,s,u,g){so?lo?lo.push(g):lo=[g]:so=g,s=Eu(s,"onChange"),0<s.length&&(u=new Hc("onChange","change",null,u,g),r.push({event:u,listeners:s}))}var bs=null,Cs=null;function a6(r){C2(r,0)}function Yc(r){var s=gs(r);if(Dp(s))return r}function Vp(r,s){if(r==="change")return s}var zp=!1;if(zi){var zd;if(zi){var Qd="oninput"in document;if(!Qd){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Qd=typeof Qp.oninput=="function"}zd=Qd}else zd=!1;zp=zd&&(!document.documentMode||9<document.documentMode)}function Hp(){bs&&(bs.detachEvent("onpropertychange",jp),Cs=bs=null)}function jp(r){if(r.propertyName==="value"&&Yc(Cs)){var s=[];Gp(s,Cs,r,Md(r)),Op(a6,s)}}function o6(r,s,u){r==="focusin"?(Hp(),bs=s,Cs=u,bs.attachEvent("onpropertychange",jp)):r==="focusout"&&Hp()}function s6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yc(Cs)}function l6(r,s){if(r==="click")return Yc(s)}function c6(r,s){if(r==="input"||r==="change")return Yc(s)}function u6(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Gn=typeof Object.is=="function"?Object.is:u6;function Ds(r,s){if(Gn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var T=u[g];if(!Te.call(s,T)||!Gn(r[T],s[T]))return!1}return!0}function Yp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Xp(r,s){var u=Yp(r);r=0;for(var g;u;){if(u.nodeType===3){if(g=r+u.textContent.length,r<=s&&g>=s)return{node:u,offset:s-r};r=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Yp(u)}}function Wp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Wp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function $p(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bc(r.document);s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Bc(r.document)}return s}function Hd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var d6=zi&&"documentMode"in document&&11>=document.documentMode,uo=null,jd=null,Ts=null,Yd=!1;function Kp(r,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Yd||uo==null||uo!==Bc(g)||(g=uo,"selectionStart"in g&&Hd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ts&&Ds(Ts,g)||(Ts=g,g=Eu(jd,"onSelect"),0<g.length&&(s=new Hc("onSelect","select",null,s,u),r.push({event:s,listeners:g}),s.target=uo)))}function ca(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var ho={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},Xd={},Zp={};zi&&(Zp=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ua(r){if(Xd[r])return Xd[r];if(!ho[r])return r;var s=ho[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in Zp)return Xd[r]=s[u];return r}var Jp=ua("animationend"),em=ua("animationiteration"),tm=ua("animationstart"),h6=ua("transitionrun"),f6=ua("transitionstart"),g6=ua("transitioncancel"),nm=ua("transitionend"),im=new Map,Wd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wd.push("scrollEnd");function fi(r,s){im.set(r,s),sa(s,[r])}var rm=new WeakMap;function ei(r,s){if(typeof r=="object"&&r!==null){var u=rm.get(r);return u!==void 0?u:(s={value:r,source:s,stack:bp(s)},rm.set(r,s),s)}return{value:r,source:s,stack:bp(s)}}var ti=[],fo=0,$d=0;function Xc(){for(var r=fo,s=$d=fo=0;s<r;){var u=ti[s];ti[s++]=null;var g=ti[s];ti[s++]=null;var T=ti[s];ti[s++]=null;var O=ti[s];if(ti[s++]=null,g!==null&&T!==null){var V=g.pending;V===null?T.next=T:(T.next=V.next,V.next=T),g.pending=T}O!==0&&am(u,T,O)}}function Wc(r,s,u,g){ti[fo++]=r,ti[fo++]=s,ti[fo++]=u,ti[fo++]=g,$d|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function Kd(r,s,u,g){return Wc(r,s,u,g),$c(r)}function go(r,s){return Wc(r,null,null,s),$c(r)}function am(r,s,u){r.lanes|=u;var g=r.alternate;g!==null&&(g.lanes|=u);for(var T=!1,O=r.return;O!==null;)O.childLanes|=u,g=O.alternate,g!==null&&(g.childLanes|=u),O.tag===22&&(r=O.stateNode,r===null||r._visibility&1||(T=!0)),r=O,O=O.return;return r.tag===3?(O=r.stateNode,T&&s!==null&&(T=31-Fe(u),r=O.hiddenUpdates,g=r[T],g===null?r[T]=[s]:g.push(s),s.lane=u|536870912),O):null}function $c(r){if(50<Xs)throw Xs=0,rf=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var po={};function p6(r,s,u,g){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,u,g){return new p6(r,s,u,g)}function Zd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Qi(r,s){var u=r.alternate;return u===null?(u=Vn(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function om(r,s){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,s=u.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Kc(r,s,u,g,T,O){var V=0;if(g=r,typeof r=="function")Zd(r)&&(V=1);else if(typeof r=="string")V=SD(r,u,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case _:return r=Vn(31,u,s,T),r.elementType=_,r.lanes=O,r;case S:return da(u.children,T,O,s);case y:V=8,T|=24;break;case C:return r=Vn(12,u,s,T|2),r.elementType=C,r.lanes=O,r;case A:return r=Vn(13,u,s,T),r.elementType=A,r.lanes=O,r;case I:return r=Vn(19,u,s,T),r.elementType=I,r.lanes=O,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w:case b:V=10;break e;case D:V=9;break e;case x:V=11;break e;case k:V=14;break e;case E:V=16,g=null;break e}V=29,u=Error(i(130,r===null?"null":typeof r,"")),g=null}return s=Vn(V,u,s,T),s.elementType=r,s.type=g,s.lanes=O,s}function da(r,s,u,g){return r=Vn(7,r,g,s),r.lanes=u,r}function Jd(r,s,u){return r=Vn(6,r,null,s),r.lanes=u,r}function eh(r,s,u){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var mo=[],So=0,Zc=null,Jc=0,ni=[],ii=0,ha=null,Hi=1,ji="";function fa(r,s){mo[So++]=Jc,mo[So++]=Zc,Zc=r,Jc=s}function sm(r,s,u){ni[ii++]=Hi,ni[ii++]=ji,ni[ii++]=ha,ha=r;var g=Hi;r=ji;var T=32-Fe(g)-1;g&=~(1<<T),u+=1;var O=32-Fe(s)+T;if(30<O){var V=T-T%5;O=(g&(1<<V)-1).toString(32),g>>=V,T-=V,Hi=1<<32-Fe(s)+T|u<<T|g,ji=O+r}else Hi=1<<O|u<<T|g,ji=r}function th(r){r.return!==null&&(fa(r,1),sm(r,1,0))}function nh(r){for(;r===Zc;)Zc=mo[--So],mo[So]=null,Jc=mo[--So],mo[So]=null;for(;r===ha;)ha=ni[--ii],ni[ii]=null,ji=ni[--ii],ni[ii]=null,Hi=ni[--ii],ni[ii]=null}var An=null,Vt=null,St=!1,ga=null,Ai=!1,ih=Error(i(519));function pa(r){var s=Error(i(418,""));throw As(ei(s,r)),ih}function lm(r){var s=r.stateNode,u=r.type,g=r.memoizedProps;switch(s[bn]=r,s[Rn]=g,u){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(u=0;u<$s.length;u++)st($s[u],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Tp(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),qc(s);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),xp(s,g.value,g.defaultValue,g.children),qc(s)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||g.suppressHydrationWarning===!0||x2(s.textContent,u)?(g.popover!=null&&(st("beforetoggle",s),st("toggle",s)),g.onScroll!=null&&st("scroll",s),g.onScrollEnd!=null&&st("scrollend",s),g.onClick!=null&&(s.onclick=_u),s=!0):s=!1,s||pa(r)}function cm(r){for(An=r.return;An;)switch(An.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:An=An.return}}function ws(r){if(r!==An)return!1;if(!St)return cm(r),St=!0,!1;var s=r.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||bf(r.type,r.memoizedProps)),u=!u),u&&Vt&&pa(r),cm(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(s===0){Vt=pi(r.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;r=r.nextSibling}Vt=null}}else s===27?(s=Vt,qr(r.type)?(r=wf,wf=null,Vt=r):Vt=s):Vt=An?pi(r.stateNode.nextSibling):null;return!0}function xs(){Vt=An=null,St=!1}function um(){var r=ga;return r!==null&&(En===null?En=r:En.push.apply(En,r),ga=null),r}function As(r){ga===null?ga=[r]:ga.push(r)}var rh=z(null),ma=null,Yi=null;function wr(r,s,u){$(rh,s._currentValue),s._currentValue=u}function Xi(r){r._currentValue=rh.current,j(rh)}function ah(r,s,u){for(;r!==null;){var g=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),r===u)break;r=r.return}}function oh(r,s,u,g){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var O=T.dependencies;if(O!==null){var V=T.child;O=O.firstContext;e:for(;O!==null;){var Y=O;O=T;for(var ie=0;ie<s.length;ie++)if(Y.context===s[ie]){O.lanes|=u,Y=O.alternate,Y!==null&&(Y.lanes|=u),ah(O.return,u,r),g||(V=null);break e}O=Y.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(i(341));V.lanes|=u,O=V.alternate,O!==null&&(O.lanes|=u),ah(V,u,r),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===r){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function Ps(r,s,u,g){r=null;for(var T=s,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var Y=T.type;Gn(T.pendingProps.value,V.value)||(r!==null?r.push(Y):r=[Y])}}else if(T===Z.current){if(V=T.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(nl):r=[nl])}T=T.return}r!==null&&oh(s,r,u,g),s.flags|=262144}function eu(r){for(r=r.firstContext;r!==null;){if(!Gn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){ma=r,Yi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Cn(r){return dm(ma,r)}function tu(r,s){return ma===null&&Sa(r),dm(r,s)}function dm(r,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Yi===null){if(r===null)throw Error(i(308));Yi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Yi=Yi.next=s;return u}var m6=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(u,g){r.push(g)}};this.abort=function(){s.aborted=!0,r.forEach(function(u){return u()})}},S6=n.unstable_scheduleCallback,y6=n.unstable_NormalPriority,an={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sh(){return{controller:new m6,data:new Map,refCount:0}}function Rs(r){r.refCount--,r.refCount===0&&S6(y6,function(){r.controller.abort()})}var Os=null,lh=0,yo=0,vo=null;function v6(r,s){if(Os===null){var u=Os=[];lh=0,yo=df(),vo={status:"pending",value:void 0,then:function(g){u.push(g)}}}return lh++,s.then(hm,hm),s}function hm(){if(--lh===0&&Os!==null){vo!==null&&(vo.status="fulfilled");var r=Os;Os=null,yo=0,vo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function b6(r,s){var u=[],g={status:"pending",value:null,reason:null,then:function(T){u.push(T)}};return r.then(function(){g.status="fulfilled",g.value=s;for(var T=0;T<u.length;T++)(0,u[T])(s)},function(T){for(g.status="rejected",g.reason=T,T=0;T<u.length;T++)(0,u[T])(void 0)}),g}var fm=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&v6(r,s),fm!==null&&fm(r,s)};var ya=z(null);function ch(){var r=ya.current;return r!==null?r:_t.pooledCache}function nu(r,s){s===null?$(ya,ya.current):$(ya,s.pool)}function gm(){var r=ch();return r===null?null:{parent:an._currentValue,pool:r}}var Ls=Error(i(460)),pm=Error(i(474)),iu=Error(i(542)),uh={then:function(){}};function mm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ru(){}function Sm(r,s,u){switch(u=r[u],u===void 0?r.push(s):u!==s&&(s.then(ru,ru),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,vm(r),r;default:if(typeof s.status=="string")s.then(ru,ru);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(g){if(s.status==="pending"){var T=s;T.status="fulfilled",T.value=g}},function(g){if(s.status==="pending"){var T=s;T.status="rejected",T.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,vm(r),r}throw Is=s,Ls}}var Is=null;function ym(){if(Is===null)throw Error(i(459));var r=Is;return Is=null,r}function vm(r){if(r===Ls||r===iu)throw Error(i(483))}var xr=!1;function dh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ar(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Pr(r,s,u){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Dt&2)!==0){var T=g.pending;return T===null?s.next=s:(s.next=T.next,T.next=s),g.pending=s,s=$c(r),am(r,null,u),s}return Wc(r,g,s,u),$c(r)}function Es(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var g=s.lanes;g&=r.pendingLanes,u|=g,s.lanes=u,oa(r,u)}}function fh(r,s){var u=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var T=null,O=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};O===null?T=O=V:O=O.next=V,u=u.next}while(u!==null);O===null?T=O=s:O=O.next=s}else T=O=s;u={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:g.shared,callbacks:g.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}var gh=!1;function _s(){if(gh){var r=vo;if(r!==null)throw r}}function Ms(r,s,u,g){gh=!1;var T=r.updateQueue;xr=!1;var O=T.firstBaseUpdate,V=T.lastBaseUpdate,Y=T.shared.pending;if(Y!==null){T.shared.pending=null;var ie=Y,me=ie.next;ie.next=null,V===null?O=me:V.next=me,V=ie;var Ae=r.alternate;Ae!==null&&(Ae=Ae.updateQueue,Y=Ae.lastBaseUpdate,Y!==V&&(Y===null?Ae.firstBaseUpdate=me:Y.next=me,Ae.lastBaseUpdate=ie))}if(O!==null){var Le=T.baseState;V=0,Ae=me=ie=null,Y=O;do{var Se=Y.lane&-536870913,ye=Se!==Y.lane;if(ye?(ht&Se)===Se:(g&Se)===Se){Se!==0&&Se===yo&&(gh=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Ye=r,He=Y;Se=s;var At=u;switch(He.tag){case 1:if(Ye=He.payload,typeof Ye=="function"){Le=Ye.call(At,Le,Se);break e}Le=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=He.payload,Se=typeof Ye=="function"?Ye.call(At,Le,Se):Ye,Se==null)break e;Le=f({},Le,Se);break e;case 2:xr=!0}}Se=Y.callback,Se!==null&&(r.flags|=64,ye&&(r.flags|=8192),ye=T.callbacks,ye===null?T.callbacks=[Se]:ye.push(Se))}else ye={lane:Se,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ae===null?(me=Ae=ye,ie=Le):Ae=Ae.next=ye,V|=Se;if(Y=Y.next,Y===null){if(Y=T.shared.pending,Y===null)break;ye=Y,Y=ye.next,ye.next=null,T.lastBaseUpdate=ye,T.shared.pending=null}}while(!0);Ae===null&&(ie=Le),T.baseState=ie,T.firstBaseUpdate=me,T.lastBaseUpdate=Ae,O===null&&(T.shared.lanes=0),Fr|=V,r.lanes=V,r.memoizedState=Le}}function bm(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Cm(r,s){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)bm(u[r],s)}var bo=z(null),au=z(0);function Dm(r,s){r=tr,$(au,r),$(bo,s),tr=r|s.baseLanes}function ph(){$(au,tr),$(bo,bo.current)}function mh(){tr=au.current,j(bo),j(au)}var Rr=0,Je=null,wt=null,en=null,ou=!1,Co=!1,va=!1,su=0,Fs=0,Do=null,C6=0;function Wt(){throw Error(i(321))}function Sh(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!Gn(r[u],s[u]))return!1;return!0}function yh(r,s,u,g,T,O){return Rr=O,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?aS:oS,va=!1,O=u(g,T),va=!1,Co&&(O=wm(s,u,g,T)),Tm(r),O}function Tm(r){F.H=fu;var s=wt!==null&&wt.next!==null;if(Rr=0,en=wt=Je=null,ou=!1,Fs=0,Do=null,s)throw Error(i(300));r===null||cn||(r=r.dependencies,r!==null&&eu(r)&&(cn=!0))}function wm(r,s,u,g){Je=r;var T=0;do{if(Co&&(Do=null),Fs=0,Co=!1,25<=T)throw Error(i(301));if(T+=1,en=wt=null,r.updateQueue!=null){var O=r.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}F.H=R6,O=s(u,g)}while(Co);return O}function D6(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?ks(s):s,r=r.useState()[0],(wt!==null?wt.memoizedState:null)!==r&&(Je.flags|=1024),s}function vh(){var r=su!==0;return su=0,r}function bh(r,s,u){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~u}function Ch(r){if(ou){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ou=!1}Rr=0,en=wt=Je=null,Co=!1,Fs=su=0,Do=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Je.memoizedState=en=r:en=en.next=r,en}function tn(){if(wt===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=en===null?Je.memoizedState:en.next;if(s!==null)en=s,wt=r;else{if(r===null)throw Je.alternate===null?Error(i(467)):Error(i(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},en===null?Je.memoizedState=en=r:en=en.next=r}return en}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ks(r){var s=Fs;return Fs+=1,Do===null&&(Do=[]),r=Sm(Do,r,s),s=Je,(en===null?s.memoizedState:en.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?aS:oS),r}function lu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ks(r);if(r.$$typeof===b)return Cn(r)}throw Error(i(438,String(r)))}function Th(r){var s=null,u=Je.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var g=Je.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(T){return T.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Dh(),Je.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(r),g=0;g<r;g++)u[g]=R;return s.index++,u}function Wi(r,s){return typeof s=="function"?s(r):s}function cu(r){var s=tn();return wh(s,wt,r)}function wh(r,s,u){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=u;var T=r.baseQueue,O=g.pending;if(O!==null){if(T!==null){var V=T.next;T.next=O.next,O.next=V}s.baseQueue=T=O,g.pending=null}if(O=r.baseState,T===null)r.memoizedState=O;else{s=T.next;var Y=V=null,ie=null,me=s,Ae=!1;do{var Le=me.lane&-536870913;if(Le!==me.lane?(ht&Le)===Le:(Rr&Le)===Le){var Se=me.revertLane;if(Se===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Le===yo&&(Ae=!0);else if((Rr&Se)===Se){me=me.next,Se===yo&&(Ae=!0);continue}else Le={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(Y=ie=Le,V=O):ie=ie.next=Le,Je.lanes|=Se,Fr|=Se;Le=me.action,va&&u(O,Le),O=me.hasEagerState?me.eagerState:u(O,Le)}else Se={lane:Le,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(Y=ie=Se,V=O):ie=ie.next=Se,Je.lanes|=Le,Fr|=Le;me=me.next}while(me!==null&&me!==s);if(ie===null?V=O:ie.next=Y,!Gn(O,r.memoizedState)&&(cn=!0,Ae&&(u=vo,u!==null)))throw u;r.memoizedState=O,r.baseState=V,r.baseQueue=ie,g.lastRenderedState=O}return T===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function xh(r){var s=tn(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var g=u.dispatch,T=u.pending,O=s.memoizedState;if(T!==null){u.pending=null;var V=T=T.next;do O=r(O,V.action),V=V.next;while(V!==T);Gn(O,s.memoizedState)||(cn=!0),s.memoizedState=O,s.baseQueue===null&&(s.baseState=O),u.lastRenderedState=O}return[O,g]}function xm(r,s,u){var g=Je,T=tn(),O=St;if(O){if(u===void 0)throw Error(i(407));u=u()}else u=s();var V=!Gn((wt||T).memoizedState,u);V&&(T.memoizedState=u,cn=!0),T=T.queue;var Y=Rm.bind(null,g,T,r);if(Us(2048,8,Y,[r]),T.getSnapshot!==s||V||en!==null&&en.memoizedState.tag&1){if(g.flags|=2048,To(9,uu(),Pm.bind(null,g,T,u,s),null),_t===null)throw Error(i(349));O||(Rr&124)!==0||Am(g,s,u)}return u}function Am(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Je.updateQueue,s===null?(s=Dh(),Je.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Pm(r,s,u,g){s.value=u,s.getSnapshot=g,Om(s)&&Lm(r)}function Rm(r,s,u){return u(function(){Om(s)&&Lm(r)})}function Om(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!Gn(r,u)}catch{return!0}}function Lm(r){var s=go(r,2);s!==null&&Yn(s,r,2)}function Ah(r){var s=Ln();if(typeof r=="function"){var u=r;if(r=u(),va){Ie(!0);try{u()}finally{Ie(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},s}function Im(r,s,u,g){return r.baseState=u,wh(r,wt,typeof g=="function"?g:Wi)}function T6(r,s,u,g,T){if(hu(r))throw Error(i(485));if(r=s.action,r!==null){var O={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){O.listeners.push(V)}};F.T!==null?u(!0):O.isTransition=!1,g(O),u=s.pending,u===null?(O.next=s.pending=O,Em(s,O)):(O.next=u.next,s.pending=u.next=O)}}function Em(r,s){var u=s.action,g=s.payload,T=r.state;if(s.isTransition){var O=F.T,V={};F.T=V;try{var Y=u(T,g),ie=F.S;ie!==null&&ie(V,Y),_m(r,s,Y)}catch(me){Ph(r,s,me)}finally{F.T=O}}else try{O=u(T,g),_m(r,s,O)}catch(me){Ph(r,s,me)}}function _m(r,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){Mm(r,s,g)},function(g){return Ph(r,s,g)}):Mm(r,s,u)}function Mm(r,s,u){s.status="fulfilled",s.value=u,Fm(s),r.state=u,s=r.pending,s!==null&&(u=s.next,u===s?r.pending=null:(u=u.next,s.next=u,Em(r,u)))}function Ph(r,s,u){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=u,Fm(s),s=s.next;while(s!==g)}r.action=null}function Fm(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function km(r,s){return s}function Um(r,s){if(St){var u=_t.formState;if(u!==null){e:{var g=Je;if(St){if(Vt){t:{for(var T=Vt,O=Ai;T.nodeType!==8;){if(!O){T=null;break t}if(T=pi(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){Vt=pi(T.nextSibling),g=T.data==="F!";break e}}pa(g)}g=!1}g&&(s=u[0])}}return u=Ln(),u.memoizedState=u.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:km,lastRenderedState:s},u.queue=g,u=nS.bind(null,Je,g),g.dispatch=u,g=Ah(!1),O=Eh.bind(null,Je,!1,g.queue),g=Ln(),T={state:s,dispatch:null,action:r,pending:null},g.queue=T,u=T6.bind(null,Je,T,O,u),T.dispatch=u,g.memoizedState=r,[s,u,!1]}function Nm(r){var s=tn();return qm(s,wt,r)}function qm(r,s,u){if(s=wh(r,s,km)[0],r=cu(Wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=ks(s)}catch(V){throw V===Ls?iu:V}else g=s;s=tn();var T=s.queue,O=T.dispatch;return u!==s.memoizedState&&(Je.flags|=2048,To(9,uu(),w6.bind(null,T,u),null)),[g,O,r]}function w6(r,s){r.action=s}function Bm(r){var s=tn(),u=wt;if(u!==null)return qm(s,u,r);tn(),s=s.memoizedState,u=tn();var g=u.queue.dispatch;return u.memoizedState=r,[s,g,!1]}function To(r,s,u,g){return r={tag:r,create:u,deps:g,inst:s,next:null},s=Je.updateQueue,s===null&&(s=Dh(),Je.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=r.next=r:(g=u.next,u.next=r,r.next=g,s.lastEffect=r),r}function uu(){return{destroy:void 0,resource:void 0}}function Gm(){return tn().memoizedState}function du(r,s,u,g){var T=Ln();g=g===void 0?null:g,Je.flags|=r,T.memoizedState=To(1|s,uu(),u,g)}function Us(r,s,u,g){var T=tn();g=g===void 0?null:g;var O=T.memoizedState.inst;wt!==null&&g!==null&&Sh(g,wt.memoizedState.deps)?T.memoizedState=To(s,O,u,g):(Je.flags|=r,T.memoizedState=To(1|s,O,u,g))}function Vm(r,s){du(8390656,8,r,s)}function zm(r,s){Us(2048,8,r,s)}function Qm(r,s){return Us(4,2,r,s)}function Hm(r,s){return Us(4,4,r,s)}function jm(r,s){if(typeof s=="function"){r=r();var u=s(r);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Ym(r,s,u){u=u!=null?u.concat([r]):null,Us(4,4,jm.bind(null,s,r),u)}function Rh(){}function Xm(r,s){var u=tn();s=s===void 0?null:s;var g=u.memoizedState;return s!==null&&Sh(s,g[1])?g[0]:(u.memoizedState=[r,s],r)}function Wm(r,s){var u=tn();s=s===void 0?null:s;var g=u.memoizedState;if(s!==null&&Sh(s,g[1]))return g[0];if(g=r(),va){Ie(!0);try{r()}finally{Ie(!1)}}return u.memoizedState=[g,s],g}function Oh(r,s,u){return u===void 0||(Rr&1073741824)!==0?r.memoizedState=s:(r.memoizedState=u,r=ZS(),Je.lanes|=r,Fr|=r,u)}function $m(r,s,u,g){return Gn(u,s)?u:bo.current!==null?(r=Oh(r,u,g),Gn(r,s)||(cn=!0),r):(Rr&42)===0?(cn=!0,r.memoizedState=u):(r=ZS(),Je.lanes|=r,Fr|=r,s)}function Km(r,s,u,g,T){var O=B.p;B.p=O!==0&&8>O?O:8;var V=F.T,Y={};F.T=Y,Eh(r,!1,s,u);try{var ie=T(),me=F.S;if(me!==null&&me(Y,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var Ae=b6(ie,g);Ns(r,s,Ae,jn(r))}else Ns(r,s,g,jn(r))}catch(Le){Ns(r,s,{then:function(){},status:"rejected",reason:Le},jn())}finally{B.p=O,F.T=V}}function x6(){}function Lh(r,s,u,g){if(r.tag!==5)throw Error(i(476));var T=Zm(r).queue;Km(r,T,s,H,u===null?x6:function(){return Jm(r),u(g)})}function Zm(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:H},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:u},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Jm(r){var s=Zm(r).next.queue;Ns(r,s,{},jn())}function Ih(){return Cn(nl)}function eS(){return tn().memoizedState}function tS(){return tn().memoizedState}function A6(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var u=jn();r=Ar(u);var g=Pr(s,r,u);g!==null&&(Yn(g,s,u),Es(g,s,u)),s={cache:sh()},r.payload=s;return}s=s.return}}function P6(r,s,u){var g=jn();u={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},hu(r)?iS(s,u):(u=Kd(r,s,u,g),u!==null&&(Yn(u,r,g),rS(u,s,g)))}function nS(r,s,u){var g=jn();Ns(r,s,u,g)}function Ns(r,s,u,g){var T={lane:g,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(hu(r))iS(s,T);else{var O=r.alternate;if(r.lanes===0&&(O===null||O.lanes===0)&&(O=s.lastRenderedReducer,O!==null))try{var V=s.lastRenderedState,Y=O(V,u);if(T.hasEagerState=!0,T.eagerState=Y,Gn(Y,V))return Wc(r,s,T,0),_t===null&&Xc(),!1}catch{}finally{}if(u=Kd(r,s,T,g),u!==null)return Yn(u,r,g),rS(u,s,g),!0}return!1}function Eh(r,s,u,g){if(g={lane:2,revertLane:df(),action:g,hasEagerState:!1,eagerState:null,next:null},hu(r)){if(s)throw Error(i(479))}else s=Kd(r,u,g,2),s!==null&&Yn(s,r,2)}function hu(r){var s=r.alternate;return r===Je||s!==null&&s===Je}function iS(r,s){Co=ou=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function rS(r,s,u){if((u&4194048)!==0){var g=s.lanes;g&=r.pendingLanes,u|=g,s.lanes=u,oa(r,u)}}var fu={readContext:Cn,use:lu,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},aS={readContext:Cn,use:lu,useCallback:function(r,s){return Ln().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:Vm,useImperativeHandle:function(r,s,u){u=u!=null?u.concat([r]):null,du(4194308,4,jm.bind(null,s,r),u)},useLayoutEffect:function(r,s){return du(4194308,4,r,s)},useInsertionEffect:function(r,s){du(4,2,r,s)},useMemo:function(r,s){var u=Ln();s=s===void 0?null:s;var g=r();if(va){Ie(!0);try{r()}finally{Ie(!1)}}return u.memoizedState=[g,s],g},useReducer:function(r,s,u){var g=Ln();if(u!==void 0){var T=u(s);if(va){Ie(!0);try{u(s)}finally{Ie(!1)}}}else T=s;return g.memoizedState=g.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},g.queue=r,r=r.dispatch=P6.bind(null,Je,r),[g.memoizedState,r]},useRef:function(r){var s=Ln();return r={current:r},s.memoizedState=r},useState:function(r){r=Ah(r);var s=r.queue,u=nS.bind(null,Je,s);return s.dispatch=u,[r.memoizedState,u]},useDebugValue:Rh,useDeferredValue:function(r,s){var u=Ln();return Oh(u,r,s)},useTransition:function(){var r=Ah(!1);return r=Km.bind(null,Je,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,u){var g=Je,T=Ln();if(St){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),_t===null)throw Error(i(349));(ht&124)!==0||Am(g,s,u)}T.memoizedState=u;var O={value:u,getSnapshot:s};return T.queue=O,Vm(Rm.bind(null,g,O,r),[r]),g.flags|=2048,To(9,uu(),Pm.bind(null,g,O,u,s),null),u},useId:function(){var r=Ln(),s=_t.identifierPrefix;if(St){var u=ji,g=Hi;u=(g&~(1<<32-Fe(g)-1)).toString(32)+u,s="«"+s+"R"+u,u=su++,0<u&&(s+="H"+u.toString(32)),s+="»"}else u=C6++,s="«"+s+"r"+u.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Ih,useFormState:Um,useActionState:Um,useOptimistic:function(r){var s=Ln();s.memoizedState=s.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Eh.bind(null,Je,!0,u),u.dispatch=s,[r,s]},useMemoCache:Th,useCacheRefresh:function(){return Ln().memoizedState=A6.bind(null,Je)}},oS={readContext:Cn,use:lu,useCallback:Xm,useContext:Cn,useEffect:zm,useImperativeHandle:Ym,useInsertionEffect:Qm,useLayoutEffect:Hm,useMemo:Wm,useReducer:cu,useRef:Gm,useState:function(){return cu(Wi)},useDebugValue:Rh,useDeferredValue:function(r,s){var u=tn();return $m(u,wt.memoizedState,r,s)},useTransition:function(){var r=cu(Wi)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:ks(r),s]},useSyncExternalStore:xm,useId:eS,useHostTransitionStatus:Ih,useFormState:Nm,useActionState:Nm,useOptimistic:function(r,s){var u=tn();return Im(u,wt,r,s)},useMemoCache:Th,useCacheRefresh:tS},R6={readContext:Cn,use:lu,useCallback:Xm,useContext:Cn,useEffect:zm,useImperativeHandle:Ym,useInsertionEffect:Qm,useLayoutEffect:Hm,useMemo:Wm,useReducer:xh,useRef:Gm,useState:function(){return xh(Wi)},useDebugValue:Rh,useDeferredValue:function(r,s){var u=tn();return wt===null?Oh(u,r,s):$m(u,wt.memoizedState,r,s)},useTransition:function(){var r=xh(Wi)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:ks(r),s]},useSyncExternalStore:xm,useId:eS,useHostTransitionStatus:Ih,useFormState:Bm,useActionState:Bm,useOptimistic:function(r,s){var u=tn();return wt!==null?Im(u,wt,r,s):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Th,useCacheRefresh:tS},wo=null,qs=0;function gu(r){var s=qs;return qs+=1,wo===null&&(wo=[]),Sm(wo,r,s)}function Bs(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function pu(r,s){throw s.$$typeof===m?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function sS(r){var s=r._init;return s(r._payload)}function lS(r){function s(ue,oe){if(r){var ge=ue.deletions;ge===null?(ue.deletions=[oe],ue.flags|=16):ge.push(oe)}}function u(ue,oe){if(!r)return null;for(;oe!==null;)s(ue,oe),oe=oe.sibling;return null}function g(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function T(ue,oe){return ue=Qi(ue,oe),ue.index=0,ue.sibling=null,ue}function O(ue,oe,ge){return ue.index=ge,r?(ge=ue.alternate,ge!==null?(ge=ge.index,ge<oe?(ue.flags|=67108866,oe):ge):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function V(ue){return r&&ue.alternate===null&&(ue.flags|=67108866),ue}function Y(ue,oe,ge,Re){return oe===null||oe.tag!==6?(oe=Jd(ge,ue.mode,Re),oe.return=ue,oe):(oe=T(oe,ge),oe.return=ue,oe)}function ie(ue,oe,ge,Re){var Be=ge.type;return Be===S?Ae(ue,oe,ge.props.children,Re,ge.key):oe!==null&&(oe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===E&&sS(Be)===oe.type)?(oe=T(oe,ge.props),Bs(oe,ge),oe.return=ue,oe):(oe=Kc(ge.type,ge.key,ge.props,null,ue.mode,Re),Bs(oe,ge),oe.return=ue,oe)}function me(ue,oe,ge,Re){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=eh(ge,ue.mode,Re),oe.return=ue,oe):(oe=T(oe,ge.children||[]),oe.return=ue,oe)}function Ae(ue,oe,ge,Re,Be){return oe===null||oe.tag!==7?(oe=da(ge,ue.mode,Re,Be),oe.return=ue,oe):(oe=T(oe,ge),oe.return=ue,oe)}function Le(ue,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=Jd(""+oe,ue.mode,ge),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case v:return ge=Kc(oe.type,oe.key,oe.props,null,ue.mode,ge),Bs(ge,oe),ge.return=ue,ge;case p:return oe=eh(oe,ue.mode,ge),oe.return=ue,oe;case E:var Re=oe._init;return oe=Re(oe._payload),Le(ue,oe,ge)}if(M(oe)||U(oe))return oe=da(oe,ue.mode,ge,null),oe.return=ue,oe;if(typeof oe.then=="function")return Le(ue,gu(oe),ge);if(oe.$$typeof===b)return Le(ue,tu(ue,oe),ge);pu(ue,oe)}return null}function Se(ue,oe,ge,Re){var Be=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return Be!==null?null:Y(ue,oe,""+ge,Re);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ge.key===Be?ie(ue,oe,ge,Re):null;case p:return ge.key===Be?me(ue,oe,ge,Re):null;case E:return Be=ge._init,ge=Be(ge._payload),Se(ue,oe,ge,Re)}if(M(ge)||U(ge))return Be!==null?null:Ae(ue,oe,ge,Re,null);if(typeof ge.then=="function")return Se(ue,oe,gu(ge),Re);if(ge.$$typeof===b)return Se(ue,oe,tu(ue,ge),Re);pu(ue,ge)}return null}function ye(ue,oe,ge,Re,Be){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ue=ue.get(ge)||null,Y(oe,ue,""+Re,Be);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case v:return ue=ue.get(Re.key===null?ge:Re.key)||null,ie(oe,ue,Re,Be);case p:return ue=ue.get(Re.key===null?ge:Re.key)||null,me(oe,ue,Re,Be);case E:var rt=Re._init;return Re=rt(Re._payload),ye(ue,oe,ge,Re,Be)}if(M(Re)||U(Re))return ue=ue.get(ge)||null,Ae(oe,ue,Re,Be,null);if(typeof Re.then=="function")return ye(ue,oe,ge,gu(Re),Be);if(Re.$$typeof===b)return ye(ue,oe,ge,tu(oe,Re),Be);pu(oe,Re)}return null}function Ye(ue,oe,ge,Re){for(var Be=null,rt=null,Qe=oe,je=oe=0,dn=null;Qe!==null&&je<ge.length;je++){Qe.index>je?(dn=Qe,Qe=null):dn=Qe.sibling;var mt=Se(ue,Qe,ge[je],Re);if(mt===null){Qe===null&&(Qe=dn);break}r&&Qe&&mt.alternate===null&&s(ue,Qe),oe=O(mt,oe,je),rt===null?Be=mt:rt.sibling=mt,rt=mt,Qe=dn}if(je===ge.length)return u(ue,Qe),St&&fa(ue,je),Be;if(Qe===null){for(;je<ge.length;je++)Qe=Le(ue,ge[je],Re),Qe!==null&&(oe=O(Qe,oe,je),rt===null?Be=Qe:rt.sibling=Qe,rt=Qe);return St&&fa(ue,je),Be}for(Qe=g(Qe);je<ge.length;je++)dn=ye(Qe,ue,je,ge[je],Re),dn!==null&&(r&&dn.alternate!==null&&Qe.delete(dn.key===null?je:dn.key),oe=O(dn,oe,je),rt===null?Be=dn:rt.sibling=dn,rt=dn);return r&&Qe.forEach(function(Qr){return s(ue,Qr)}),St&&fa(ue,je),Be}function He(ue,oe,ge,Re){if(ge==null)throw Error(i(151));for(var Be=null,rt=null,Qe=oe,je=oe=0,dn=null,mt=ge.next();Qe!==null&&!mt.done;je++,mt=ge.next()){Qe.index>je?(dn=Qe,Qe=null):dn=Qe.sibling;var Qr=Se(ue,Qe,mt.value,Re);if(Qr===null){Qe===null&&(Qe=dn);break}r&&Qe&&Qr.alternate===null&&s(ue,Qe),oe=O(Qr,oe,je),rt===null?Be=Qr:rt.sibling=Qr,rt=Qr,Qe=dn}if(mt.done)return u(ue,Qe),St&&fa(ue,je),Be;if(Qe===null){for(;!mt.done;je++,mt=ge.next())mt=Le(ue,mt.value,Re),mt!==null&&(oe=O(mt,oe,je),rt===null?Be=mt:rt.sibling=mt,rt=mt);return St&&fa(ue,je),Be}for(Qe=g(Qe);!mt.done;je++,mt=ge.next())mt=ye(Qe,ue,je,mt.value,Re),mt!==null&&(r&&mt.alternate!==null&&Qe.delete(mt.key===null?je:mt.key),oe=O(mt,oe,je),rt===null?Be=mt:rt.sibling=mt,rt=mt);return r&&Qe.forEach(function(OD){return s(ue,OD)}),St&&fa(ue,je),Be}function At(ue,oe,ge,Re){if(typeof ge=="object"&&ge!==null&&ge.type===S&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:e:{for(var Be=ge.key;oe!==null;){if(oe.key===Be){if(Be=ge.type,Be===S){if(oe.tag===7){u(ue,oe.sibling),Re=T(oe,ge.props.children),Re.return=ue,ue=Re;break e}}else if(oe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===E&&sS(Be)===oe.type){u(ue,oe.sibling),Re=T(oe,ge.props),Bs(Re,ge),Re.return=ue,ue=Re;break e}u(ue,oe);break}else s(ue,oe);oe=oe.sibling}ge.type===S?(Re=da(ge.props.children,ue.mode,Re,ge.key),Re.return=ue,ue=Re):(Re=Kc(ge.type,ge.key,ge.props,null,ue.mode,Re),Bs(Re,ge),Re.return=ue,ue=Re)}return V(ue);case p:e:{for(Be=ge.key;oe!==null;){if(oe.key===Be)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){u(ue,oe.sibling),Re=T(oe,ge.children||[]),Re.return=ue,ue=Re;break e}else{u(ue,oe);break}else s(ue,oe);oe=oe.sibling}Re=eh(ge,ue.mode,Re),Re.return=ue,ue=Re}return V(ue);case E:return Be=ge._init,ge=Be(ge._payload),At(ue,oe,ge,Re)}if(M(ge))return Ye(ue,oe,ge,Re);if(U(ge)){if(Be=U(ge),typeof Be!="function")throw Error(i(150));return ge=Be.call(ge),He(ue,oe,ge,Re)}if(typeof ge.then=="function")return At(ue,oe,gu(ge),Re);if(ge.$$typeof===b)return At(ue,oe,tu(ue,ge),Re);pu(ue,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,oe!==null&&oe.tag===6?(u(ue,oe.sibling),Re=T(oe,ge),Re.return=ue,ue=Re):(u(ue,oe),Re=Jd(ge,ue.mode,Re),Re.return=ue,ue=Re),V(ue)):u(ue,oe)}return function(ue,oe,ge,Re){try{qs=0;var Be=At(ue,oe,ge,Re);return wo=null,Be}catch(Qe){if(Qe===Ls||Qe===iu)throw Qe;var rt=Vn(29,Qe,null,ue.mode);return rt.lanes=Re,rt.return=ue,rt}finally{}}}var xo=lS(!0),cS=lS(!1),ri=z(null),Pi=null;function Or(r){var s=r.alternate;$(on,on.current&1),$(ri,r),Pi===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(Pi=r)}function uS(r){if(r.tag===22){if($(on,on.current),$(ri,r),Pi===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Pi=r)}}else Lr()}function Lr(){$(on,on.current),$(ri,ri.current)}function $i(r){j(ri),Pi===r&&(Pi=null),j(on)}var on=z(0);function mu(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Tf(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function _h(r,s,u,g){s=r.memoizedState,u=u(g,s),u=u==null?s:f({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Mh={enqueueSetState:function(r,s,u){r=r._reactInternals;var g=jn(),T=Ar(g);T.payload=s,u!=null&&(T.callback=u),s=Pr(r,T,g),s!==null&&(Yn(s,r,g),Es(s,r,g))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var g=jn(),T=Ar(g);T.tag=1,T.payload=s,u!=null&&(T.callback=u),s=Pr(r,T,g),s!==null&&(Yn(s,r,g),Es(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=jn(),g=Ar(u);g.tag=2,s!=null&&(g.callback=s),s=Pr(r,g,u),s!==null&&(Yn(s,r,u),Es(s,r,u))}};function dS(r,s,u,g,T,O,V){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,O,V):s.prototype&&s.prototype.isPureReactComponent?!Ds(u,g)||!Ds(T,O):!0}function hS(r,s,u,g){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==r&&Mh.enqueueReplaceState(s,s.state,null)}function ba(r,s){var u=s;if("ref"in s){u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}if(r=r.defaultProps){u===s&&(u=f({},u));for(var T in r)u[T]===void 0&&(u[T]=r[T])}return u}var Su=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function fS(r){Su(r)}function gS(r){console.error(r)}function pS(r){Su(r)}function yu(r,s){try{var u=r.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function mS(r,s,u){try{var g=r.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Fh(r,s,u){return u=Ar(u),u.tag=3,u.payload={element:null},u.callback=function(){yu(r,s)},u}function SS(r){return r=Ar(r),r.tag=3,r}function yS(r,s,u,g){var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var O=g.value;r.payload=function(){return T(O)},r.callback=function(){mS(s,u,g)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(r.callback=function(){mS(s,u,g),typeof T!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var Y=g.stack;this.componentDidCatch(g.value,{componentStack:Y!==null?Y:""})})}function O6(r,s,u,g,T){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=u.alternate,s!==null&&Ps(s,u,T,!0),u=ri.current,u!==null){switch(u.tag){case 13:return Pi===null?of():u.alternate===null&&zt===0&&(zt=3),u.flags&=-257,u.flags|=65536,u.lanes=T,g===uh?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([g]):s.add(g),lf(r,g,T)),!1;case 22:return u.flags|=65536,g===uh?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([g]):u.add(g)),lf(r,g,T)),!1}throw Error(i(435,u.tag))}return lf(r,g,T),of(),!1}if(St)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=T,g!==ih&&(r=Error(i(422),{cause:g}),As(ei(r,u)))):(g!==ih&&(s=Error(i(423),{cause:g}),As(ei(s,u))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,g=ei(g,u),T=Fh(r.stateNode,g,T),fh(r,T),zt!==4&&(zt=2)),!1;var O=Error(i(520),{cause:g});if(O=ei(O,u),Ys===null?Ys=[O]:Ys.push(O),zt!==4&&(zt=2),s===null)return!0;g=ei(g,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,r=T&-T,u.lanes|=r,r=Fh(u.stateNode,g,r),fh(u,r),!1;case 1:if(s=u.type,O=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O))))return u.flags|=65536,T&=-T,u.lanes|=T,T=SS(T),yS(T,r,u,g),fh(u,T),!1}u=u.return}while(u!==null);return!1}var vS=Error(i(461)),cn=!1;function gn(r,s,u,g){s.child=r===null?cS(s,null,u,g):xo(s,r.child,u,g)}function bS(r,s,u,g,T){u=u.render;var O=s.ref;if("ref"in g){var V={};for(var Y in g)Y!=="ref"&&(V[Y]=g[Y])}else V=g;return Sa(s),g=yh(r,s,u,V,O,T),Y=vh(),r!==null&&!cn?(bh(r,s,T),Ki(r,s,T)):(St&&Y&&th(s),s.flags|=1,gn(r,s,g,T),s.child)}function CS(r,s,u,g,T){if(r===null){var O=u.type;return typeof O=="function"&&!Zd(O)&&O.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=O,DS(r,s,O,g,T)):(r=Kc(u.type,null,g,s,s.mode,T),r.ref=s.ref,r.return=s,s.child=r)}if(O=r.child,!zh(r,T)){var V=O.memoizedProps;if(u=u.compare,u=u!==null?u:Ds,u(V,g)&&r.ref===s.ref)return Ki(r,s,T)}return s.flags|=1,r=Qi(O,g),r.ref=s.ref,r.return=s,s.child=r}function DS(r,s,u,g,T){if(r!==null){var O=r.memoizedProps;if(Ds(O,g)&&r.ref===s.ref)if(cn=!1,s.pendingProps=g=O,zh(r,T))(r.flags&131072)!==0&&(cn=!0);else return s.lanes=r.lanes,Ki(r,s,T)}return kh(r,s,u,g,T)}function TS(r,s,u){var g=s.pendingProps,T=g.children,O=r!==null?r.memoizedState:null;if(g.mode==="hidden"){if((s.flags&128)!==0){if(g=O!==null?O.baseLanes|u:u,r!==null){for(T=s.child=r.child,O=0;T!==null;)O=O|T.lanes|T.childLanes,T=T.sibling;s.childLanes=O&~g}else s.childLanes=0,s.child=null;return wS(r,s,g,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&nu(s,O!==null?O.cachePool:null),O!==null?Dm(s,O):ph(),uS(s);else return s.lanes=s.childLanes=536870912,wS(r,s,O!==null?O.baseLanes|u:u,u)}else O!==null?(nu(s,O.cachePool),Dm(s,O),Lr(),s.memoizedState=null):(r!==null&&nu(s,null),ph(),Lr());return gn(r,s,T,u),s.child}function wS(r,s,u,g){var T=ch();return T=T===null?null:{parent:an._currentValue,pool:T},s.memoizedState={baseLanes:u,cachePool:T},r!==null&&nu(s,null),ph(),uS(s),r!==null&&Ps(r,s,g,!0),null}function vu(r,s){var u=s.ref;if(u===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(s.flags|=4194816)}}function kh(r,s,u,g,T){return Sa(s),u=yh(r,s,u,g,void 0,T),g=vh(),r!==null&&!cn?(bh(r,s,T),Ki(r,s,T)):(St&&g&&th(s),s.flags|=1,gn(r,s,u,T),s.child)}function xS(r,s,u,g,T,O){return Sa(s),s.updateQueue=null,u=wm(s,g,u,T),Tm(r),g=vh(),r!==null&&!cn?(bh(r,s,O),Ki(r,s,O)):(St&&g&&th(s),s.flags|=1,gn(r,s,u,O),s.child)}function AS(r,s,u,g,T){if(Sa(s),s.stateNode===null){var O=po,V=u.contextType;typeof V=="object"&&V!==null&&(O=Cn(V)),O=new u(g,O),s.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Mh,s.stateNode=O,O._reactInternals=s,O=s.stateNode,O.props=g,O.state=s.memoizedState,O.refs={},dh(s),V=u.contextType,O.context=typeof V=="object"&&V!==null?Cn(V):po,O.state=s.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(_h(s,u,V,g),O.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(V=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),V!==O.state&&Mh.enqueueReplaceState(O,O.state,null),Ms(s,g,O,T),_s(),O.state=s.memoizedState),typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(r===null){O=s.stateNode;var Y=s.memoizedProps,ie=ba(u,Y);O.props=ie;var me=O.context,Ae=u.contextType;V=po,typeof Ae=="object"&&Ae!==null&&(V=Cn(Ae));var Le=u.getDerivedStateFromProps;Ae=typeof Le=="function"||typeof O.getSnapshotBeforeUpdate=="function",Y=s.pendingProps!==Y,Ae||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Y||me!==V)&&hS(s,O,g,V),xr=!1;var Se=s.memoizedState;O.state=Se,Ms(s,g,O,T),_s(),me=s.memoizedState,Y||Se!==me||xr?(typeof Le=="function"&&(_h(s,u,Le,g),me=s.memoizedState),(ie=xr||dS(s,u,ie,g,Se,me,V))?(Ae||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(s.flags|=4194308)):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=me),O.props=g,O.state=me,O.context=V,g=ie):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{O=s.stateNode,hh(r,s),V=s.memoizedProps,Ae=ba(u,V),O.props=Ae,Le=s.pendingProps,Se=O.context,me=u.contextType,ie=po,typeof me=="object"&&me!==null&&(ie=Cn(me)),Y=u.getDerivedStateFromProps,(me=typeof Y=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(V!==Le||Se!==ie)&&hS(s,O,g,ie),xr=!1,Se=s.memoizedState,O.state=Se,Ms(s,g,O,T),_s();var ye=s.memoizedState;V!==Le||Se!==ye||xr||r!==null&&r.dependencies!==null&&eu(r.dependencies)?(typeof Y=="function"&&(_h(s,u,Y,g),ye=s.memoizedState),(Ae=xr||dS(s,u,Ae,g,Se,ye,ie)||r!==null&&r.dependencies!==null&&eu(r.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,ye,ie),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,ye,ie)),typeof O.componentDidUpdate=="function"&&(s.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof O.componentDidUpdate!="function"||V===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=ye),O.props=g,O.state=ye,O.context=ie,g=Ae):(typeof O.componentDidUpdate!="function"||V===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||V===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),g=!1)}return O=g,vu(r,s),g=(s.flags&128)!==0,O||g?(O=s.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:O.render(),s.flags|=1,r!==null&&g?(s.child=xo(s,r.child,null,T),s.child=xo(s,null,u,T)):gn(r,s,u,T),s.memoizedState=O.state,r=s.child):r=Ki(r,s,T),r}function PS(r,s,u,g){return xs(),s.flags|=256,gn(r,s,u,g),s.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(r){return{baseLanes:r,cachePool:gm()}}function qh(r,s,u){return r=r!==null?r.childLanes&~u:0,s&&(r|=ai),r}function RS(r,s,u){var g=s.pendingProps,T=!1,O=(s.flags&128)!==0,V;if((V=O)||(V=r!==null&&r.memoizedState===null?!1:(on.current&2)!==0),V&&(T=!0,s.flags&=-129),V=(s.flags&32)!==0,s.flags&=-33,r===null){if(St){if(T?Or(s):Lr(),St){var Y=Vt,ie;if(ie=Y){e:{for(ie=Y,Y=Ai;ie.nodeType!==8;){if(!Y){Y=null;break e}if(ie=pi(ie.nextSibling),ie===null){Y=null;break e}}Y=ie}Y!==null?(s.memoizedState={dehydrated:Y,treeContext:ha!==null?{id:Hi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},ie=Vn(18,null,null,0),ie.stateNode=Y,ie.return=s,s.child=ie,An=s,Vt=null,ie=!0):ie=!1}ie||pa(s)}if(Y=s.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))return Tf(Y)?s.lanes=32:s.lanes=536870912,null;$i(s)}return Y=g.children,g=g.fallback,T?(Lr(),T=s.mode,Y=bu({mode:"hidden",children:Y},T),g=da(g,T,u,null),Y.return=s,g.return=s,Y.sibling=g,s.child=Y,T=s.child,T.memoizedState=Nh(u),T.childLanes=qh(r,V,u),s.memoizedState=Uh,g):(Or(s),Bh(s,Y))}if(ie=r.memoizedState,ie!==null&&(Y=ie.dehydrated,Y!==null)){if(O)s.flags&256?(Or(s),s.flags&=-257,s=Gh(r,s,u)):s.memoizedState!==null?(Lr(),s.child=r.child,s.flags|=128,s=null):(Lr(),T=g.fallback,Y=s.mode,g=bu({mode:"visible",children:g.children},Y),T=da(T,Y,u,null),T.flags|=2,g.return=s,T.return=s,g.sibling=T,s.child=g,xo(s,r.child,null,u),g=s.child,g.memoizedState=Nh(u),g.childLanes=qh(r,V,u),s.memoizedState=Uh,s=T);else if(Or(s),Tf(Y)){if(V=Y.nextSibling&&Y.nextSibling.dataset,V)var me=V.dgst;V=me,g=Error(i(419)),g.stack="",g.digest=V,As({value:g,source:null,stack:null}),s=Gh(r,s,u)}else if(cn||Ps(r,s,u,!1),V=(u&r.childLanes)!==0,cn||V){if(V=_t,V!==null&&(g=u&-u,g=(g&42)!==0?1:Bn(g),g=(g&(V.suspendedLanes|u))!==0?0:g,g!==0&&g!==ie.retryLane))throw ie.retryLane=g,go(r,g),Yn(V,r,g),vS;Y.data==="$?"||of(),s=Gh(r,s,u)}else Y.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=ie.treeContext,Vt=pi(Y.nextSibling),An=s,St=!0,ga=null,Ai=!1,r!==null&&(ni[ii++]=Hi,ni[ii++]=ji,ni[ii++]=ha,Hi=r.id,ji=r.overflow,ha=s),s=Bh(s,g.children),s.flags|=4096);return s}return T?(Lr(),T=g.fallback,Y=s.mode,ie=r.child,me=ie.sibling,g=Qi(ie,{mode:"hidden",children:g.children}),g.subtreeFlags=ie.subtreeFlags&65011712,me!==null?T=Qi(me,T):(T=da(T,Y,u,null),T.flags|=2),T.return=s,g.return=s,g.sibling=T,s.child=g,g=T,T=s.child,Y=r.child.memoizedState,Y===null?Y=Nh(u):(ie=Y.cachePool,ie!==null?(me=an._currentValue,ie=ie.parent!==me?{parent:me,pool:me}:ie):ie=gm(),Y={baseLanes:Y.baseLanes|u,cachePool:ie}),T.memoizedState=Y,T.childLanes=qh(r,V,u),s.memoizedState=Uh,g):(Or(s),u=r.child,r=u.sibling,u=Qi(u,{mode:"visible",children:g.children}),u.return=s,u.sibling=null,r!==null&&(V=s.deletions,V===null?(s.deletions=[r],s.flags|=16):V.push(r)),s.child=u,s.memoizedState=null,u)}function Bh(r,s){return s=bu({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function bu(r,s){return r=Vn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Gh(r,s,u){return xo(s,r.child,null,u),r=Bh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function OS(r,s,u){r.lanes|=s;var g=r.alternate;g!==null&&(g.lanes|=s),ah(r.return,s,u)}function Vh(r,s,u,g,T){var O=r.memoizedState;O===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:T}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=u,O.tailMode=T)}function LS(r,s,u){var g=s.pendingProps,T=g.revealOrder,O=g.tail;if(gn(r,s,g.children,u),g=on.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&OS(r,u,s);else if(r.tag===19)OS(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch($(on,g),T){case"forwards":for(u=s.child,T=null;u!==null;)r=u.alternate,r!==null&&mu(r)===null&&(T=u),u=u.sibling;u=T,u===null?(T=s.child,s.child=null):(T=u.sibling,u.sibling=null),Vh(s,!1,T,u,O);break;case"backwards":for(u=null,T=s.child,s.child=null;T!==null;){if(r=T.alternate,r!==null&&mu(r)===null){s.child=T;break}r=T.sibling,T.sibling=u,u=T,T=r}Vh(s,!0,u,null,O);break;case"together":Vh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ki(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),Fr|=s.lanes,(u&s.childLanes)===0)if(r!==null){if(Ps(r,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,u=Qi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Qi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function zh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&eu(r)))}function L6(r,s,u){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),wr(s,an,r.memoizedState.cache),xs();break;case 27:case 5:de(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:wr(s,s.type,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Or(s),s.flags|=128,null):(u&s.child.childLanes)!==0?RS(r,s,u):(Or(s),r=Ki(r,s,u),r!==null?r.sibling:null);Or(s);break;case 19:var T=(r.flags&128)!==0;if(g=(u&s.childLanes)!==0,g||(Ps(r,s,u,!1),g=(u&s.childLanes)!==0),T){if(g)return LS(r,s,u);s.flags|=128}if(T=s.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),$(on,on.current),g)break;return null;case 22:case 23:return s.lanes=0,TS(r,s,u);case 24:wr(s,an,r.memoizedState.cache)}return Ki(r,s,u)}function IS(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps)cn=!0;else{if(!zh(r,u)&&(s.flags&128)===0)return cn=!1,L6(r,s,u);cn=(r.flags&131072)!==0}else cn=!1,St&&(s.flags&1048576)!==0&&sm(s,Jc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var g=s.elementType,T=g._init;if(g=T(g._payload),s.type=g,typeof g=="function")Zd(g)?(r=ba(g,r),s.tag=1,s=AS(null,s,g,r,u)):(s.tag=0,s=kh(null,s,g,r,u));else{if(g!=null){if(T=g.$$typeof,T===x){s.tag=11,s=bS(null,s,g,r,u);break e}else if(T===k){s.tag=14,s=CS(null,s,g,r,u);break e}}throw s=P(g)||g,Error(i(306,s,""))}}return s;case 0:return kh(r,s,s.type,s.pendingProps,u);case 1:return g=s.type,T=ba(g,s.pendingProps),AS(r,s,g,T,u);case 3:e:{if(te(s,s.stateNode.containerInfo),r===null)throw Error(i(387));g=s.pendingProps;var O=s.memoizedState;T=O.element,hh(r,s),Ms(s,g,null,u);var V=s.memoizedState;if(g=V.cache,wr(s,an,g),g!==O.cache&&oh(s,[an],u,!0),_s(),g=V.element,O.isDehydrated)if(O={element:g,isDehydrated:!1,cache:V.cache},s.updateQueue.baseState=O,s.memoizedState=O,s.flags&256){s=PS(r,s,g,u);break e}else if(g!==T){T=ei(Error(i(424)),s),As(T),s=PS(r,s,g,u);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Vt=pi(r.firstChild),An=s,St=!0,ga=null,Ai=!0,u=cS(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(xs(),g===T){s=Ki(r,s,u);break e}gn(r,s,g,u)}s=s.child}return s;case 26:return vu(r,s),r===null?(u=F2(s.type,null,s.pendingProps,null))?s.memoizedState=u:St||(u=s.type,r=s.pendingProps,g=Mu(se.current).createElement(u),g[bn]=s,g[Rn]=r,mn(g,u,r),ln(g),s.stateNode=g):s.memoizedState=F2(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return de(s),r===null&&St&&(g=s.stateNode=E2(s.type,s.pendingProps,se.current),An=s,Ai=!0,T=Vt,qr(s.type)?(wf=T,Vt=pi(g.firstChild)):Vt=T),gn(r,s,s.pendingProps.children,u),vu(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&St&&((T=g=Vt)&&(g=rD(g,s.type,s.pendingProps,Ai),g!==null?(s.stateNode=g,An=s,Vt=pi(g.firstChild),Ai=!1,T=!0):T=!1),T||pa(s)),de(s),T=s.type,O=s.pendingProps,V=r!==null?r.memoizedProps:null,g=O.children,bf(T,O)?g=null:V!==null&&bf(T,V)&&(s.flags|=32),s.memoizedState!==null&&(T=yh(r,s,D6,null,null,u),nl._currentValue=T),vu(r,s),gn(r,s,g,u),s.child;case 6:return r===null&&St&&((r=u=Vt)&&(u=aD(u,s.pendingProps,Ai),u!==null?(s.stateNode=u,An=s,Vt=null,r=!0):r=!1),r||pa(s)),null;case 13:return RS(r,s,u);case 4:return te(s,s.stateNode.containerInfo),g=s.pendingProps,r===null?s.child=xo(s,null,g,u):gn(r,s,g,u),s.child;case 11:return bS(r,s,s.type,s.pendingProps,u);case 7:return gn(r,s,s.pendingProps,u),s.child;case 8:return gn(r,s,s.pendingProps.children,u),s.child;case 12:return gn(r,s,s.pendingProps.children,u),s.child;case 10:return g=s.pendingProps,wr(s,s.type,g.value),gn(r,s,g.children,u),s.child;case 9:return T=s.type._context,g=s.pendingProps.children,Sa(s),T=Cn(T),g=g(T),s.flags|=1,gn(r,s,g,u),s.child;case 14:return CS(r,s,s.type,s.pendingProps,u);case 15:return DS(r,s,s.type,s.pendingProps,u);case 19:return LS(r,s,u);case 31:return g=s.pendingProps,u=s.mode,g={mode:g.mode,children:g.children},r===null?(u=bu(g,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=Qi(r.child,g),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return TS(r,s,u);case 24:return Sa(s),g=Cn(an),r===null?(T=ch(),T===null&&(T=_t,O=sh(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=u),T=O),s.memoizedState={parent:g,cache:T},dh(s),wr(s,an,T)):((r.lanes&u)!==0&&(hh(r,s),Ms(s,null,null,u),_s()),T=r.memoizedState,O=s.memoizedState,T.parent!==g?(T={parent:g,cache:g},s.memoizedState=T,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=T),wr(s,an,g)):(g=O.cache,wr(s,an,g),g!==T.cache&&oh(s,[an],u,!0))),gn(r,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Zi(r){r.flags|=4}function ES(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B2(s)){if(s=ri.current,s!==null&&((ht&4194048)===ht?Pi!==null:(ht&62914560)!==ht&&(ht&536870912)===0||s!==Pi))throw Is=uh,pm;r.flags|=8192}}function Cu(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?br():536870912,r.lanes|=s,Oo|=s)}function Gs(r,s){if(!St)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,g=0;if(s)for(var T=r.child;T!==null;)u|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)u|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=g,r.childLanes=u,s}function I6(r,s,u){var g=s.pendingProps;switch(nh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return Gt(s),null;case 3:return u=s.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Xi(an),ce(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ws(s)?Zi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,um())),Gt(s),null;case 26:return u=s.memoizedState,r===null?(Zi(s),u!==null?(Gt(s),ES(s,u)):(Gt(s),s.flags&=-16777217)):u?u!==r.memoizedState?(Zi(s),Gt(s),ES(s,u)):(Gt(s),s.flags&=-16777217):(r.memoizedProps!==g&&Zi(s),Gt(s),s.flags&=-16777217),null;case 27:be(s),u=se.current;var T=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==g&&Zi(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Gt(s),null}r=ee.current,ws(s)?lm(s):(r=E2(T,g,u),s.stateNode=r,Zi(s))}return Gt(s),null;case 5:if(be(s),u=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==g&&Zi(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Gt(s),null}if(r=ee.current,ws(s))lm(s);else{switch(T=Mu(se.current),r){case 1:r=T.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=T.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=T.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=T.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?T.createElement(u,{is:g.is}):T.createElement(u)}}r[bn]=s,r[Rn]=g;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)r.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=r;e:switch(mn(r,u,g),u){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Zi(s)}}return Gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==g&&Zi(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(i(166));if(r=se.current,ws(s)){if(r=s.stateNode,u=s.memoizedProps,g=null,T=An,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}r[bn]=s,r=!!(r.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||x2(r.nodeValue,u)),r||pa(s)}else r=Mu(r).createTextNode(g),r[bn]=s,s.stateNode=r}return Gt(s),null;case 13:if(g=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=ws(s),g!==null&&g.dehydrated!==null){if(r===null){if(!T)throw Error(i(318));if(T=s.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[bn]=s}else xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Gt(s),T=!1}else T=um(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=T),T=!0;if(!T)return s.flags&256?($i(s),s):($i(s),null)}if($i(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=g!==null,r=r!==null&&r.memoizedState!==null,u){g=s.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool);var O=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==T&&(g.flags|=2048)}return u!==r&&u&&(s.child.flags|=8192),Cu(s,s.updateQueue),Gt(s),null;case 4:return ce(),r===null&&pf(s.stateNode.containerInfo),Gt(s),null;case 10:return Xi(s.type),Gt(s),null;case 19:if(j(on),T=s.memoizedState,T===null)return Gt(s),null;if(g=(s.flags&128)!==0,O=T.rendering,O===null)if(g)Gs(T,!1);else{if(zt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(O=mu(r),O!==null){for(s.flags|=128,Gs(T,!1),r=O.updateQueue,s.updateQueue=r,Cu(s,r),s.subtreeFlags=0,r=u,u=s.child;u!==null;)om(u,r),u=u.sibling;return $(on,on.current&1|2),s.child}r=r.sibling}T.tail!==null&&W()>wu&&(s.flags|=128,g=!0,Gs(T,!1),s.lanes=4194304)}else{if(!g)if(r=mu(O),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,Cu(s,r),Gs(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!St)return Gt(s),null}else 2*W()-T.renderingStartTime>wu&&u!==536870912&&(s.flags|=128,g=!0,Gs(T,!1),s.lanes=4194304);T.isBackwards?(O.sibling=s.child,s.child=O):(r=T.last,r!==null?r.sibling=O:s.child=O,T.last=O)}return T.tail!==null?(s=T.tail,T.rendering=s,T.tail=s.sibling,T.renderingStartTime=W(),s.sibling=null,r=on.current,$(on,g?r&1|2:r&1),s):(Gt(s),null);case 22:case 23:return $i(s),mh(),g=s.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(u&536870912)!==0&&(s.flags&128)===0&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),u=s.updateQueue,u!==null&&Cu(s,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==u&&(s.flags|=2048),r!==null&&j(ya),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Xi(an),Gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function E6(r,s){switch(nh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Xi(an),ce(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return be(s),null;case 13:if($i(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));xs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return j(on),null;case 4:return ce(),null;case 10:return Xi(s.type),null;case 22:case 23:return $i(s),mh(),r!==null&&j(ya),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Xi(an),null;case 25:return null;default:return null}}function _S(r,s){switch(nh(s),s.tag){case 3:Xi(an),ce();break;case 26:case 27:case 5:be(s);break;case 4:ce();break;case 13:$i(s);break;case 19:j(on);break;case 10:Xi(s.type);break;case 22:case 23:$i(s),mh(),r!==null&&j(ya);break;case 24:Xi(an)}}function Vs(r,s){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var T=g.next;u=T;do{if((u.tag&r)===r){g=void 0;var O=u.create,V=u.inst;g=O(),V.destroy=g}u=u.next}while(u!==T)}}catch(Y){Ot(s,s.return,Y)}}function Ir(r,s,u){try{var g=s.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var O=T.next;g=O;do{if((g.tag&r)===r){var V=g.inst,Y=V.destroy;if(Y!==void 0){V.destroy=void 0,T=s;var ie=u,me=Y;try{me()}catch(Ae){Ot(T,ie,Ae)}}}g=g.next}while(g!==O)}}catch(Ae){Ot(s,s.return,Ae)}}function MS(r){var s=r.updateQueue;if(s!==null){var u=r.stateNode;try{Cm(s,u)}catch(g){Ot(r,r.return,g)}}}function FS(r,s,u){u.props=ba(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(g){Ot(r,s,g)}}function zs(r,s){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof u=="function"?r.refCleanup=u(g):u.current=g}}catch(T){Ot(r,s,T)}}function Ri(r,s){var u=r.ref,g=r.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(T){Ot(r,s,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(T){Ot(r,s,T)}else u.current=null}function kS(r){var s=r.type,u=r.memoizedProps,g=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(T){Ot(r,r.return,T)}}function Qh(r,s,u){try{var g=r.stateNode;J6(g,r.type,u,s),g[Rn]=s}catch(T){Ot(r,r.return,T)}}function US(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qr(r.type)||r.tag===4}function Hh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||US(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jh(r,s,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(r),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=_u));else if(g!==4&&(g===27&&qr(r.type)&&(u=r.stateNode,s=null),r=r.child,r!==null))for(jh(r,s,u),r=r.sibling;r!==null;)jh(r,s,u),r=r.sibling}function Du(r,s,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(g!==4&&(g===27&&qr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Du(r,s,u),r=r.sibling;r!==null;)Du(r,s,u),r=r.sibling}function NS(r){var s=r.stateNode,u=r.memoizedProps;try{for(var g=r.type,T=s.attributes;T.length;)s.removeAttributeNode(T[0]);mn(s,g,u),s[bn]=r,s[Rn]=u}catch(O){Ot(r,r.return,O)}}var Ji=!1,$t=!1,Yh=!1,qS=typeof WeakSet=="function"?WeakSet:Set,un=null;function _6(r,s){if(r=r.containerInfo,yf=Bu,r=$p(r),Hd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var T=g.anchorOffset,O=g.focusNode;g=g.focusOffset;try{u.nodeType,O.nodeType}catch{u=null;break e}var V=0,Y=-1,ie=-1,me=0,Ae=0,Le=r,Se=null;t:for(;;){for(var ye;Le!==u||T!==0&&Le.nodeType!==3||(Y=V+T),Le!==O||g!==0&&Le.nodeType!==3||(ie=V+g),Le.nodeType===3&&(V+=Le.nodeValue.length),(ye=Le.firstChild)!==null;)Se=Le,Le=ye;for(;;){if(Le===r)break t;if(Se===u&&++me===T&&(Y=V),Se===O&&++Ae===g&&(ie=V),(ye=Le.nextSibling)!==null)break;Le=Se,Se=Le.parentNode}Le=ye}u=Y===-1||ie===-1?null:{start:Y,end:ie}}else u=null}u=u||{start:0,end:0}}else u=null;for(vf={focusedElem:r,selectionRange:u},Bu=!1,un=s;un!==null;)if(s=un,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,un=r;else for(;un!==null;){switch(s=un,O=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&O!==null){r=void 0,u=s,T=O.memoizedProps,O=O.memoizedState,g=u.stateNode;try{var Ye=ba(u.type,T,u.elementType===u.type);r=g.getSnapshotBeforeUpdate(Ye,O),g.__reactInternalSnapshotBeforeUpdate=r}catch(He){Ot(u,u.return,He)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,u=r.nodeType,u===9)Df(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Df(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,un=r;break}un=s.return}}function BS(r,s,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:Er(r,u),g&4&&Vs(5,u);break;case 1:if(Er(r,u),g&4)if(r=u.stateNode,s===null)try{r.componentDidMount()}catch(V){Ot(u,u.return,V)}else{var T=ba(u.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(T,s,r.__reactInternalSnapshotBeforeUpdate)}catch(V){Ot(u,u.return,V)}}g&64&&MS(u),g&512&&zs(u,u.return);break;case 3:if(Er(r,u),g&64&&(r=u.updateQueue,r!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Cm(r,s)}catch(V){Ot(u,u.return,V)}}break;case 27:s===null&&g&4&&NS(u);case 26:case 5:Er(r,u),s===null&&g&4&&kS(u),g&512&&zs(u,u.return);break;case 12:Er(r,u);break;case 13:Er(r,u),g&4&&zS(r,u),g&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=V6.bind(null,u),oD(r,u))));break;case 22:if(g=u.memoizedState!==null||Ji,!g){s=s!==null&&s.memoizedState!==null||$t,T=Ji;var O=$t;Ji=g,($t=s)&&!O?_r(r,u,(u.subtreeFlags&8772)!==0):Er(r,u),Ji=T,$t=O}break;case 30:break;default:Er(r,u)}}function GS(r){var s=r.alternate;s!==null&&(r.alternate=null,GS(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ad(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Nt=null,In=!1;function er(r,s,u){for(u=u.child;u!==null;)VS(r,s,u),u=u.sibling}function VS(r,s,u){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(pe,u)}catch{}switch(u.tag){case 26:$t||Ri(u,s),er(r,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$t||Ri(u,s);var g=Nt,T=In;qr(u.type)&&(Nt=u.stateNode,In=!1),er(r,s,u),Zs(u.stateNode),Nt=g,In=T;break;case 5:$t||Ri(u,s);case 6:if(g=Nt,T=In,Nt=null,er(r,s,u),Nt=g,In=T,Nt!==null)if(In)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(u.stateNode)}catch(O){Ot(u,s,O)}else try{Nt.removeChild(u.stateNode)}catch(O){Ot(u,s,O)}break;case 18:Nt!==null&&(In?(r=Nt,L2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),ol(r)):L2(Nt,u.stateNode));break;case 4:g=Nt,T=In,Nt=u.stateNode.containerInfo,In=!0,er(r,s,u),Nt=g,In=T;break;case 0:case 11:case 14:case 15:$t||Ir(2,u,s),$t||Ir(4,u,s),er(r,s,u);break;case 1:$t||(Ri(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"&&FS(u,s,g)),er(r,s,u);break;case 21:er(r,s,u);break;case 22:$t=(g=$t)||u.memoizedState!==null,er(r,s,u),$t=g;break;default:er(r,s,u)}}function zS(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ol(r)}catch(u){Ot(s,s.return,u)}}function M6(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new qS),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new qS),s;default:throw Error(i(435,r.tag))}}function Xh(r,s){var u=M6(r);s.forEach(function(g){var T=z6.bind(null,r,g);u.has(g)||(u.add(g),g.then(T,T))})}function zn(r,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var T=u[g],O=r,V=s,Y=V;e:for(;Y!==null;){switch(Y.tag){case 27:if(qr(Y.type)){Nt=Y.stateNode,In=!1;break e}break;case 5:Nt=Y.stateNode,In=!1;break e;case 3:case 4:Nt=Y.stateNode.containerInfo,In=!0;break e}Y=Y.return}if(Nt===null)throw Error(i(160));VS(O,V,T),Nt=null,In=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)QS(s,r),s=s.sibling}var gi=null;function QS(r,s){var u=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:zn(s,r),Qn(r),g&4&&(Ir(3,r,r.return),Vs(3,r),Ir(5,r,r.return));break;case 1:zn(s,r),Qn(r),g&512&&($t||u===null||Ri(u,u.return)),g&64&&Ji&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var T=gi;if(zn(s,r),Qn(r),g&512&&($t||u===null||Ri(u,u.return)),g&4){var O=u!==null?u.memoizedState:null;if(g=r.memoizedState,u===null)if(g===null)if(r.stateNode===null){e:{g=r.type,u=r.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":O=T.getElementsByTagName("title")[0],(!O||O[fs]||O[bn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(g),T.head.insertBefore(O,T.querySelector("head > title"))),mn(O,g,u),O[bn]=r,ln(O),g=O;break e;case"link":var V=N2("link","href",T).get(g+(u.href||""));if(V){for(var Y=0;Y<V.length;Y++)if(O=V[Y],O.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&O.getAttribute("rel")===(u.rel==null?null:u.rel)&&O.getAttribute("title")===(u.title==null?null:u.title)&&O.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice(Y,1);break t}}O=T.createElement(g),mn(O,g,u),T.head.appendChild(O);break;case"meta":if(V=N2("meta","content",T).get(g+(u.content||""))){for(Y=0;Y<V.length;Y++)if(O=V[Y],O.getAttribute("content")===(u.content==null?null:""+u.content)&&O.getAttribute("name")===(u.name==null?null:u.name)&&O.getAttribute("property")===(u.property==null?null:u.property)&&O.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&O.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice(Y,1);break t}}O=T.createElement(g),mn(O,g,u),T.head.appendChild(O);break;default:throw Error(i(468,g))}O[bn]=r,ln(O),g=O}r.stateNode=g}else q2(T,r.type,r.stateNode);else r.stateNode=U2(T,g,r.memoizedProps);else O!==g?(O===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):O.count--,g===null?q2(T,r.type,r.stateNode):U2(T,g,r.memoizedProps)):g===null&&r.stateNode!==null&&Qh(r,r.memoizedProps,u.memoizedProps)}break;case 27:zn(s,r),Qn(r),g&512&&($t||u===null||Ri(u,u.return)),u!==null&&g&4&&Qh(r,r.memoizedProps,u.memoizedProps);break;case 5:if(zn(s,r),Qn(r),g&512&&($t||u===null||Ri(u,u.return)),r.flags&32){T=r.stateNode;try{oo(T,"")}catch(ye){Ot(r,r.return,ye)}}g&4&&r.stateNode!=null&&(T=r.memoizedProps,Qh(r,T,u!==null?u.memoizedProps:T)),g&1024&&(Yh=!0);break;case 6:if(zn(s,r),Qn(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,u=r.stateNode;try{u.nodeValue=g}catch(ye){Ot(r,r.return,ye)}}break;case 3:if(Uu=null,T=gi,gi=Fu(s.containerInfo),zn(s,r),gi=T,Qn(r),g&4&&u!==null&&u.memoizedState.isDehydrated)try{ol(s.containerInfo)}catch(ye){Ot(r,r.return,ye)}Yh&&(Yh=!1,HS(r));break;case 4:g=gi,gi=Fu(r.stateNode.containerInfo),zn(s,r),Qn(r),gi=g;break;case 12:zn(s,r),Qn(r);break;case 13:zn(s,r),Qn(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ef=W()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Xh(r,g)));break;case 22:T=r.memoizedState!==null;var ie=u!==null&&u.memoizedState!==null,me=Ji,Ae=$t;if(Ji=me||T,$t=Ae||ie,zn(s,r),$t=Ae,Ji=me,Qn(r),g&8192)e:for(s=r.stateNode,s._visibility=T?s._visibility&-2:s._visibility|1,T&&(u===null||ie||Ji||$t||Ca(r)),u=null,s=r;;){if(s.tag===5||s.tag===26){if(u===null){ie=u=s;try{if(O=ie.stateNode,T)V=O.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Y=ie.stateNode;var Le=ie.memoizedProps.style,Se=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;Y.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(ye){Ot(ie,ie.return,ye)}}}else if(s.tag===6){if(u===null){ie=s;try{ie.stateNode.nodeValue=T?"":ie.memoizedProps}catch(ye){Ot(ie,ie.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=r.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Xh(r,u))));break;case 19:zn(s,r),Qn(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Xh(r,g)));break;case 30:break;case 21:break;default:zn(s,r),Qn(r)}}function Qn(r){var s=r.flags;if(s&2){try{for(var u,g=r.return;g!==null;){if(US(g)){u=g;break}g=g.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var T=u.stateNode,O=Hh(r);Du(r,O,T);break;case 5:var V=u.stateNode;u.flags&32&&(oo(V,""),u.flags&=-33);var Y=Hh(r);Du(r,Y,V);break;case 3:case 4:var ie=u.stateNode.containerInfo,me=Hh(r);jh(r,me,ie);break;default:throw Error(i(161))}}catch(Ae){Ot(r,r.return,Ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function HS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;HS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Er(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)BS(r,s.alternate,s),s=s.sibling}function Ca(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ir(4,s,s.return),Ca(s);break;case 1:Ri(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&FS(s,s.return,u),Ca(s);break;case 27:Zs(s.stateNode);case 26:case 5:Ri(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}r=r.sibling}}function _r(r,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,T=r,O=s,V=O.flags;switch(O.tag){case 0:case 11:case 15:_r(T,O,u),Vs(4,O);break;case 1:if(_r(T,O,u),g=O,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Ot(g,g.return,me)}if(g=O,T=g.updateQueue,T!==null){var Y=g.stateNode;try{var ie=T.shared.hiddenCallbacks;if(ie!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ie.length;T++)bm(ie[T],Y)}catch(me){Ot(g,g.return,me)}}u&&V&64&&MS(O),zs(O,O.return);break;case 27:NS(O);case 26:case 5:_r(T,O,u),u&&g===null&&V&4&&kS(O),zs(O,O.return);break;case 12:_r(T,O,u);break;case 13:_r(T,O,u),u&&V&4&&zS(T,O);break;case 22:O.memoizedState===null&&_r(T,O,u),zs(O,O.return);break;case 30:break;default:_r(T,O,u)}s=s.sibling}}function Wh(r,s){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Rs(u))}function $h(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rs(r))}function Oi(r,s,u,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jS(r,s,u,g),s=s.sibling}function jS(r,s,u,g){var T=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(r,s,u,g),T&2048&&Vs(9,s);break;case 1:Oi(r,s,u,g);break;case 3:Oi(r,s,u,g),T&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Rs(r)));break;case 12:if(T&2048){Oi(r,s,u,g),r=s.stateNode;try{var O=s.memoizedProps,V=O.id,Y=O.onPostCommit;typeof Y=="function"&&Y(V,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ie){Ot(s,s.return,ie)}}else Oi(r,s,u,g);break;case 13:Oi(r,s,u,g);break;case 23:break;case 22:O=s.stateNode,V=s.alternate,s.memoizedState!==null?O._visibility&2?Oi(r,s,u,g):Qs(r,s):O._visibility&2?Oi(r,s,u,g):(O._visibility|=2,Ao(r,s,u,g,(s.subtreeFlags&10256)!==0)),T&2048&&Wh(V,s);break;case 24:Oi(r,s,u,g),T&2048&&$h(s.alternate,s);break;default:Oi(r,s,u,g)}}function Ao(r,s,u,g,T){for(T=T&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var O=r,V=s,Y=u,ie=g,me=V.flags;switch(V.tag){case 0:case 11:case 15:Ao(O,V,Y,ie,T),Vs(8,V);break;case 23:break;case 22:var Ae=V.stateNode;V.memoizedState!==null?Ae._visibility&2?Ao(O,V,Y,ie,T):Qs(O,V):(Ae._visibility|=2,Ao(O,V,Y,ie,T)),T&&me&2048&&Wh(V.alternate,V);break;case 24:Ao(O,V,Y,ie,T),T&&me&2048&&$h(V.alternate,V);break;default:Ao(O,V,Y,ie,T)}s=s.sibling}}function Qs(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=r,g=s,T=g.flags;switch(g.tag){case 22:Qs(u,g),T&2048&&Wh(g.alternate,g);break;case 24:Qs(u,g),T&2048&&$h(g.alternate,g);break;default:Qs(u,g)}s=s.sibling}}var Hs=8192;function Po(r){if(r.subtreeFlags&Hs)for(r=r.child;r!==null;)YS(r),r=r.sibling}function YS(r){switch(r.tag){case 26:Po(r),r.flags&Hs&&r.memoizedState!==null&&vD(gi,r.memoizedState,r.memoizedProps);break;case 5:Po(r);break;case 3:case 4:var s=gi;gi=Fu(r.stateNode.containerInfo),Po(r),gi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Hs,Hs=16777216,Po(r),Hs=s):Po(r));break;default:Po(r)}}function XS(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function js(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];un=g,$S(g,r)}XS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)WS(r),r=r.sibling}function WS(r){switch(r.tag){case 0:case 11:case 15:js(r),r.flags&2048&&Ir(9,r,r.return);break;case 3:js(r);break;case 12:js(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Tu(r)):js(r);break;default:js(r)}}function Tu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];un=g,$S(g,r)}XS(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ir(8,s,s.return),Tu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Tu(s));break;default:Tu(s)}r=r.sibling}}function $S(r,s){for(;un!==null;){var u=un;switch(u.tag){case 0:case 11:case 15:Ir(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Rs(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,un=g;else e:for(u=r;un!==null;){g=un;var T=g.sibling,O=g.return;if(GS(g),g===u){un=null;break e}if(T!==null){T.return=O,un=T;break e}un=O}}}var F6={getCacheForType:function(r){var s=Cn(an),u=s.data.get(r);return u===void 0&&(u=r(),s.data.set(r,u)),u}},k6=typeof WeakMap=="function"?WeakMap:Map,Dt=0,_t=null,ot=null,ht=0,Tt=0,Hn=null,Mr=!1,Ro=!1,Kh=!1,tr=0,zt=0,Fr=0,Da=0,Zh=0,ai=0,Oo=0,Ys=null,En=null,Jh=!1,ef=0,wu=1/0,xu=null,kr=null,pn=0,Ur=null,Lo=null,Io=0,tf=0,nf=null,KS=null,Xs=0,rf=null;function jn(){if((Dt&2)!==0&&ht!==0)return ht&-ht;if(F.T!==null){var r=yo;return r!==0?r:df()}return fp()}function ZS(){ai===0&&(ai=(ht&536870912)===0||St?hi():536870912);var r=ri.current;return r!==null&&(r.flags|=32),ai}function Yn(r,s,u){(r===_t&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)&&(Eo(r,0),Nr(r,ht,ai,!1)),pt(r,u),((Dt&2)===0||r!==_t)&&(r===_t&&((Dt&2)===0&&(Da|=u),zt===4&&Nr(r,ht,ai,!1)),Li(r))}function JS(r,s,u){if((Dt&6)!==0)throw Error(i(327));var g=!u&&(s&124)===0&&(s&r.expiredLanes)===0||bt(r,s),T=g?q6(r,s):sf(r,s,!0),O=g;do{if(T===0){Ro&&!g&&Nr(r,s,0,!1);break}else{if(u=r.current.alternate,O&&!U6(u)){T=sf(r,s,!1),O=!1;continue}if(T===2){if(O=s,r.errorRecoveryDisabledLanes&O)var V=0;else V=r.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){s=V;e:{var Y=r;T=Ys;var ie=Y.current.memoizedState.isDehydrated;if(ie&&(Eo(Y,V).flags|=256),V=sf(Y,V,!1),V!==2){if(Kh&&!ie){Y.errorRecoveryDisabledLanes|=O,Da|=O,T=4;break e}O=En,En=T,O!==null&&(En===null?En=O:En.push.apply(En,O))}T=V}if(O=!1,T!==2)continue}}if(T===1){Eo(r,0),Nr(r,s,0,!0);break}e:{switch(g=r,O=T,O){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Nr(g,s,ai,!Mr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(T=ef+300-W(),10<T)){if(Nr(g,s,ai,!Mr),We(g,0,!0)!==0)break e;g.timeoutHandle=R2(e2.bind(null,g,u,En,xu,Jh,s,ai,Da,Oo,Mr,O,2,-0,0),T);break e}e2(g,u,En,xu,Jh,s,ai,Da,Oo,Mr,O,0,-0,0)}}break}while(!0);Li(r)}function e2(r,s,u,g,T,O,V,Y,ie,me,Ae,Le,Se,ye){if(r.timeoutHandle=-1,Le=s.subtreeFlags,(Le&8192||(Le&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:yD},YS(s),Le=bD(),Le!==null)){r.cancelPendingCommit=Le(s2.bind(null,r,s,O,u,g,T,V,Y,ie,Ae,1,Se,ye)),Nr(r,O,V,!me);return}s2(r,s,O,u,g,T,V,Y,ie)}function U6(r){for(var s=r;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var T=u[g],O=T.getSnapshot;T=T.value;try{if(!Gn(O(),T))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Nr(r,s,u,g){s&=~Zh,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,g&&(r.warmLanes|=s),g=r.expirationTimes;for(var T=s;0<T;){var O=31-Fe(T),V=1<<O;g[O]=-1,T&=~V}u!==0&&Za(r,u,s)}function Au(){return(Dt&6)===0?(Ws(0),!1):!0}function af(){if(ot!==null){if(Tt===0)var r=ot.return;else r=ot,Yi=ma=null,Ch(r),wo=null,qs=0,r=ot;for(;r!==null;)_S(r.alternate,r),r=r.return;ot=null}}function Eo(r,s){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,tD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),af(),_t=r,ot=u=Qi(r.current,null),ht=s,Tt=0,Hn=null,Mr=!1,Ro=bt(r,s),Kh=!1,Oo=ai=Zh=Da=Fr=zt=0,En=Ys=null,Jh=!1,(s&8)!==0&&(s|=s&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=s;0<g;){var T=31-Fe(g),O=1<<T;s|=r[T],g&=~O}return tr=s,Xc(),u}function t2(r,s){Je=null,F.H=fu,s===Ls||s===iu?(s=ym(),Tt=3):s===pm?(s=ym(),Tt=4):Tt=s===vS?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,ot===null&&(zt=1,yu(r,ei(s,r.current)))}function n2(){var r=F.H;return F.H=fu,r===null?fu:r}function i2(){var r=F.A;return F.A=F6,r}function of(){zt=4,Mr||(ht&4194048)!==ht&&ri.current!==null||(Ro=!0),(Fr&134217727)===0&&(Da&134217727)===0||_t===null||Nr(_t,ht,ai,!1)}function sf(r,s,u){var g=Dt;Dt|=2;var T=n2(),O=i2();(_t!==r||ht!==s)&&(xu=null,Eo(r,s)),s=!1;var V=zt;e:do try{if(Tt!==0&&ot!==null){var Y=ot,ie=Hn;switch(Tt){case 8:af(),V=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var me=Tt;if(Tt=0,Hn=null,_o(r,Y,ie,me),u&&Ro){V=0;break e}break;default:me=Tt,Tt=0,Hn=null,_o(r,Y,ie,me)}}N6(),V=zt;break}catch(Ae){t2(r,Ae)}while(!0);return s&&r.shellSuspendCounter++,Yi=ma=null,Dt=g,F.H=T,F.A=O,ot===null&&(_t=null,ht=0,Xc()),V}function N6(){for(;ot!==null;)r2(ot)}function q6(r,s){var u=Dt;Dt|=2;var g=n2(),T=i2();_t!==r||ht!==s?(xu=null,wu=W()+500,Eo(r,s)):Ro=bt(r,s);e:do try{if(Tt!==0&&ot!==null){s=ot;var O=Hn;t:switch(Tt){case 1:Tt=0,Hn=null,_o(r,s,O,1);break;case 2:case 9:if(mm(O)){Tt=0,Hn=null,a2(s);break}s=function(){Tt!==2&&Tt!==9||_t!==r||(Tt=7),Li(r)},O.then(s,s);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:mm(O)?(Tt=0,Hn=null,a2(s)):(Tt=0,Hn=null,_o(r,s,O,7));break;case 5:var V=null;switch(ot.tag){case 26:V=ot.memoizedState;case 5:case 27:var Y=ot;if(!V||B2(V)){Tt=0,Hn=null;var ie=Y.sibling;if(ie!==null)ot=ie;else{var me=Y.return;me!==null?(ot=me,Pu(me)):ot=null}break t}}Tt=0,Hn=null,_o(r,s,O,5);break;case 6:Tt=0,Hn=null,_o(r,s,O,6);break;case 8:af(),zt=6;break e;default:throw Error(i(462))}}B6();break}catch(Ae){t2(r,Ae)}while(!0);return Yi=ma=null,F.H=g,F.A=T,Dt=u,ot!==null?0:(_t=null,ht=0,Xc(),zt)}function B6(){for(;ot!==null&&!le();)r2(ot)}function r2(r){var s=IS(r.alternate,r,tr);r.memoizedProps=r.pendingProps,s===null?Pu(r):ot=s}function a2(r){var s=r,u=s.alternate;switch(s.tag){case 15:case 0:s=xS(u,s,s.pendingProps,s.type,void 0,ht);break;case 11:s=xS(u,s,s.pendingProps,s.type.render,s.ref,ht);break;case 5:Ch(s);default:_S(u,s),s=ot=om(s,tr),s=IS(u,s,tr)}r.memoizedProps=r.pendingProps,s===null?Pu(r):ot=s}function _o(r,s,u,g){Yi=ma=null,Ch(s),wo=null,qs=0;var T=s.return;try{if(O6(r,T,s,u,ht)){zt=1,yu(r,ei(u,r.current)),ot=null;return}}catch(O){if(T!==null)throw ot=T,O;zt=1,yu(r,ei(u,r.current)),ot=null;return}s.flags&32768?(St||g===1?r=!0:Ro||(ht&536870912)!==0?r=!1:(Mr=r=!0,(g===2||g===9||g===3||g===6)&&(g=ri.current,g!==null&&g.tag===13&&(g.flags|=16384))),o2(s,r)):Pu(s)}function Pu(r){var s=r;do{if((s.flags&32768)!==0){o2(s,Mr);return}r=s.return;var u=I6(s.alternate,s,tr);if(u!==null){ot=u;return}if(s=s.sibling,s!==null){ot=s;return}ot=s=r}while(s!==null);zt===0&&(zt=5)}function o2(r,s){do{var u=E6(r.alternate,r);if(u!==null){u.flags&=32767,ot=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(r=r.sibling,r!==null)){ot=r;return}ot=r=u}while(r!==null);zt=6,ot=null}function s2(r,s,u,g,T,O,V,Y,ie){r.cancelPendingCommit=null;do Ru();while(pn!==0);if((Dt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(O=s.lanes|s.childLanes,O|=$d,Ut(r,u,O,V,Y,ie),r===_t&&(ot=_t=null,ht=0),Lo=s,Ur=r,Io=u,tf=O,nf=T,KS=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Q6(Ce,function(){return h2(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,T=B.p,B.p=2,V=Dt,Dt|=4;try{_6(r,s,u)}finally{Dt=V,B.p=T,F.T=g}}pn=1,l2(),c2(),u2()}}function l2(){if(pn===1){pn=0;var r=Ur,s=Lo,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var g=B.p;B.p=2;var T=Dt;Dt|=4;try{QS(s,r);var O=vf,V=$p(r.containerInfo),Y=O.focusedElem,ie=O.selectionRange;if(V!==Y&&Y&&Y.ownerDocument&&Wp(Y.ownerDocument.documentElement,Y)){if(ie!==null&&Hd(Y)){var me=ie.start,Ae=ie.end;if(Ae===void 0&&(Ae=me),"selectionStart"in Y)Y.selectionStart=me,Y.selectionEnd=Math.min(Ae,Y.value.length);else{var Le=Y.ownerDocument||document,Se=Le&&Le.defaultView||window;if(Se.getSelection){var ye=Se.getSelection(),Ye=Y.textContent.length,He=Math.min(ie.start,Ye),At=ie.end===void 0?He:Math.min(ie.end,Ye);!ye.extend&&He>At&&(V=At,At=He,He=V);var ue=Xp(Y,He),oe=Xp(Y,At);if(ue&&oe&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==oe.node||ye.focusOffset!==oe.offset)){var ge=Le.createRange();ge.setStart(ue.node,ue.offset),ye.removeAllRanges(),He>At?(ye.addRange(ge),ye.extend(oe.node,oe.offset)):(ge.setEnd(oe.node,oe.offset),ye.addRange(ge))}}}}for(Le=[],ye=Y;ye=ye.parentNode;)ye.nodeType===1&&Le.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<Le.length;Y++){var Re=Le[Y];Re.element.scrollLeft=Re.left,Re.element.scrollTop=Re.top}}Bu=!!yf,vf=yf=null}finally{Dt=T,B.p=g,F.T=u}}r.current=s,pn=2}}function c2(){if(pn===2){pn=0;var r=Ur,s=Lo,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var g=B.p;B.p=2;var T=Dt;Dt|=4;try{BS(r,s.alternate,s)}finally{Dt=T,B.p=g,F.T=u}}pn=3}}function u2(){if(pn===4||pn===3){pn=0,he();var r=Ur,s=Lo,u=Io,g=KS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?pn=5:(pn=0,Lo=Ur=null,d2(r,r.pendingLanes));var T=r.pendingLanes;if(T===0&&(kr=null),wd(u),s=s.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=F.T,T=B.p,B.p=2,F.T=null;try{for(var O=r.onRecoverableError,V=0;V<g.length;V++){var Y=g[V];O(Y.value,{componentStack:Y.stack})}}finally{F.T=s,B.p=T}}(Io&3)!==0&&Ru(),Li(r),T=r.pendingLanes,(u&4194090)!==0&&(T&42)!==0?r===rf?Xs++:(Xs=0,rf=r):Xs=0,Ws(0)}}function d2(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Rs(s)))}function Ru(r){return l2(),c2(),u2(),h2()}function h2(){if(pn!==5)return!1;var r=Ur,s=tf;tf=0;var u=wd(Io),g=F.T,T=B.p;try{B.p=32>u?32:u,F.T=null,u=nf,nf=null;var O=Ur,V=Io;if(pn=0,Lo=Ur=null,Io=0,(Dt&6)!==0)throw Error(i(331));var Y=Dt;if(Dt|=4,WS(O.current),jS(O,O.current,V,u),Dt=Y,Ws(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(pe,O)}catch{}return!0}finally{B.p=T,F.T=g,d2(r,s)}}function f2(r,s,u){s=ei(u,s),s=Fh(r.stateNode,s,2),r=Pr(r,s,2),r!==null&&(pt(r,2),Li(r))}function Ot(r,s,u){if(r.tag===3)f2(r,r,u);else for(;s!==null;){if(s.tag===3){f2(s,r,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(kr===null||!kr.has(g))){r=ei(u,r),u=SS(2),g=Pr(s,u,2),g!==null&&(yS(u,g,s,r),pt(g,2),Li(g));break}}s=s.return}}function lf(r,s,u){var g=r.pingCache;if(g===null){g=r.pingCache=new k6;var T=new Set;g.set(s,T)}else T=g.get(s),T===void 0&&(T=new Set,g.set(s,T));T.has(u)||(Kh=!0,T.add(u),r=G6.bind(null,r,s,u),s.then(r,r))}function G6(r,s,u){var g=r.pingCache;g!==null&&g.delete(s),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,_t===r&&(ht&u)===u&&(zt===4||zt===3&&(ht&62914560)===ht&&300>W()-ef?(Dt&2)===0&&Eo(r,0):Zh|=u,Oo===ht&&(Oo=0)),Li(r)}function g2(r,s){s===0&&(s=br()),r=go(r,s),r!==null&&(pt(r,s),Li(r))}function V6(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),g2(r,u)}function z6(r,s){var u=0;switch(r.tag){case 13:var g=r.stateNode,T=r.memoizedState;T!==null&&(u=T.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(s),g2(r,u)}function Q6(r,s){return Me(r,s)}var Ou=null,Mo=null,cf=!1,Lu=!1,uf=!1,Ta=0;function Li(r){r!==Mo&&r.next===null&&(Mo===null?Ou=Mo=r:Mo=Mo.next=r),Lu=!0,cf||(cf=!0,j6())}function Ws(r,s){if(!uf&&Lu){uf=!0;do for(var u=!1,g=Ou;g!==null;){if(r!==0){var T=g.pendingLanes;if(T===0)var O=0;else{var V=g.suspendedLanes,Y=g.pingedLanes;O=(1<<31-Fe(42|r)+1)-1,O&=T&~(V&~Y),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(u=!0,y2(g,O))}else O=ht,O=We(g,g===_t?O:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(O&3)===0||bt(g,O)||(u=!0,y2(g,O));g=g.next}while(u);uf=!1}}function H6(){p2()}function p2(){Lu=cf=!1;var r=0;Ta!==0&&(eD()&&(r=Ta),Ta=0);for(var s=W(),u=null,g=Ou;g!==null;){var T=g.next,O=m2(g,s);O===0?(g.next=null,u===null?Ou=T:u.next=T,T===null&&(Mo=u)):(u=g,(r!==0||(O&3)!==0)&&(Lu=!0)),g=T}Ws(r)}function m2(r,s){for(var u=r.suspendedLanes,g=r.pingedLanes,T=r.expirationTimes,O=r.pendingLanes&-62914561;0<O;){var V=31-Fe(O),Y=1<<V,ie=T[V];ie===-1?((Y&u)===0||(Y&g)!==0)&&(T[V]=Kn(Y,s)):ie<=s&&(r.expiredLanes|=Y),O&=~Y}if(s=_t,u=ht,u=We(r,r===s?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,u===0||r===s&&(Tt===2||Tt===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&q(g),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||bt(r,u)){if(s=u&-u,s===r.callbackPriority)return s;switch(g!==null&&q(g),wd(u)){case 2:case 8:u=ve;break;case 32:u=Ce;break;case 268435456:u=Pe;break;default:u=Ce}return g=S2.bind(null,r),u=Me(u,g),r.callbackPriority=s,r.callbackNode=u,s}return g!==null&&g!==null&&q(g),r.callbackPriority=2,r.callbackNode=null,2}function S2(r,s){if(pn!==0&&pn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Ru()&&r.callbackNode!==u)return null;var g=ht;return g=We(r,r===_t?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(JS(r,g,s),m2(r,W()),r.callbackNode!=null&&r.callbackNode===u?S2.bind(null,r):null)}function y2(r,s){if(Ru())return null;JS(r,s,!0)}function j6(){nD(function(){(Dt&6)!==0?Me(ae,H6):p2()})}function df(){return Ta===0&&(Ta=hi()),Ta}function v2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Gc(""+r)}function b2(r,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,r.id&&u.setAttribute("form",r.id),s.parentNode.insertBefore(u,s),r=new FormData(r),u.parentNode.removeChild(u),r}function Y6(r,s,u,g,T){if(s==="submit"&&u&&u.stateNode===T){var O=v2((T[Rn]||null).action),V=g.submitter;V&&(s=(s=V[Rn]||null)?v2(s.formAction):V.getAttribute("formAction"),s!==null&&(O=s,V=null));var Y=new Hc("action","action",null,g,T);r.push({event:Y,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ta!==0){var ie=V?b2(T,V):new FormData(T);Lh(u,{pending:!0,data:ie,method:T.method,action:O},null,ie)}}else typeof O=="function"&&(Y.preventDefault(),ie=V?b2(T,V):new FormData(T),Lh(u,{pending:!0,data:ie,method:T.method,action:O},O,ie))},currentTarget:T}]})}}for(var hf=0;hf<Wd.length;hf++){var ff=Wd[hf],X6=ff.toLowerCase(),W6=ff[0].toUpperCase()+ff.slice(1);fi(X6,"on"+W6)}fi(Jp,"onAnimationEnd"),fi(em,"onAnimationIteration"),fi(tm,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(h6,"onTransitionRun"),fi(f6,"onTransitionStart"),fi(g6,"onTransitionCancel"),fi(nm,"onTransitionEnd"),io("onMouseEnter",["mouseout","mouseover"]),io("onMouseLeave",["mouseout","mouseover"]),io("onPointerEnter",["pointerout","pointerover"]),io("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function C2(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var g=r[u],T=g.event;g=g.listeners;e:{var O=void 0;if(s)for(var V=g.length-1;0<=V;V--){var Y=g[V],ie=Y.instance,me=Y.currentTarget;if(Y=Y.listener,ie!==O&&T.isPropagationStopped())break e;O=Y,T.currentTarget=me;try{O(T)}catch(Ae){Su(Ae)}T.currentTarget=null,O=ie}else for(V=0;V<g.length;V++){if(Y=g[V],ie=Y.instance,me=Y.currentTarget,Y=Y.listener,ie!==O&&T.isPropagationStopped())break e;O=Y,T.currentTarget=me;try{O(T)}catch(Ae){Su(Ae)}T.currentTarget=null,O=ie}}}}function st(r,s){var u=s[xd];u===void 0&&(u=s[xd]=new Set);var g=r+"__bubble";u.has(g)||(D2(s,r,2,!1),u.add(g))}function gf(r,s,u){var g=0;s&&(g|=4),D2(u,r,g,s)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function pf(r){if(!r[Iu]){r[Iu]=!0,pp.forEach(function(u){u!=="selectionchange"&&($6.has(u)||gf(u,!1,r),gf(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Iu]||(s[Iu]=!0,gf("selectionchange",!1,s))}}function D2(r,s,u,g){switch(j2(s)){case 2:var T=TD;break;case 8:T=wD;break;default:T=Of}u=T.bind(null,s,u,r),T=void 0,!kd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(T=!0),g?T!==void 0?r.addEventListener(s,u,{capture:!0,passive:T}):r.addEventListener(s,u,!0):T!==void 0?r.addEventListener(s,u,{passive:T}):r.addEventListener(s,u,!1)}function mf(r,s,u,g,T){var O=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var V=g.tag;if(V===3||V===4){var Y=g.stateNode.containerInfo;if(Y===T)break;if(V===4)for(V=g.return;V!==null;){var ie=V.tag;if((ie===3||ie===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;Y!==null;){if(V=eo(Y),V===null)return;if(ie=V.tag,ie===5||ie===6||ie===26||ie===27){g=O=V;continue e}Y=Y.parentNode}}g=g.return}Op(function(){var me=O,Ae=Md(u),Le=[];e:{var Se=im.get(r);if(Se!==void 0){var ye=Hc,Ye=r;switch(r){case"keypress":if(zc(u)===0)break e;case"keydown":case"keyup":ye=Q3;break;case"focusin":Ye="focus",ye=Bd;break;case"focusout":Ye="blur",ye=Bd;break;case"beforeblur":case"afterblur":ye=Bd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=E3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Y3;break;case Jp:case em:case tm:ye=F3;break;case nm:ye=W3;break;case"scroll":case"scrollend":ye=L3;break;case"wheel":ye=K3;break;case"copy":case"cut":case"paste":ye=U3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Mp;break;case"toggle":case"beforetoggle":ye=J3}var He=(s&4)!==0,At=!He&&(r==="scroll"||r==="scrollend"),ue=He?Se!==null?Se+"Capture":null:Se;He=[];for(var oe=me,ge;oe!==null;){var Re=oe;if(ge=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||ge===null||ue===null||(Re=ps(oe,ue),Re!=null&&He.push(Ks(oe,Re,ge))),At)break;oe=oe.return}0<He.length&&(Se=new ye(Se,Ye,null,u,Ae),Le.push({event:Se,listeners:He}))}}if((s&7)===0){e:{if(Se=r==="mouseover"||r==="pointerover",ye=r==="mouseout"||r==="pointerout",Se&&u!==_d&&(Ye=u.relatedTarget||u.fromElement)&&(eo(Ye)||Ye[Ja]))break e;if((ye||Se)&&(Se=Ae.window===Ae?Ae:(Se=Ae.ownerDocument)?Se.defaultView||Se.parentWindow:window,ye?(Ye=u.relatedTarget||u.toElement,ye=me,Ye=Ye?eo(Ye):null,Ye!==null&&(At=o(Ye),He=Ye.tag,Ye!==At||He!==5&&He!==27&&He!==6)&&(Ye=null)):(ye=null,Ye=me),ye!==Ye)){if(He=Ep,Re="onMouseLeave",ue="onMouseEnter",oe="mouse",(r==="pointerout"||r==="pointerover")&&(He=Mp,Re="onPointerLeave",ue="onPointerEnter",oe="pointer"),At=ye==null?Se:gs(ye),ge=Ye==null?Se:gs(Ye),Se=new He(Re,oe+"leave",ye,u,Ae),Se.target=At,Se.relatedTarget=ge,Re=null,eo(Ae)===me&&(He=new He(ue,oe+"enter",Ye,u,Ae),He.target=ge,He.relatedTarget=At,Re=He),At=Re,ye&&Ye)t:{for(He=ye,ue=Ye,oe=0,ge=He;ge;ge=Fo(ge))oe++;for(ge=0,Re=ue;Re;Re=Fo(Re))ge++;for(;0<oe-ge;)He=Fo(He),oe--;for(;0<ge-oe;)ue=Fo(ue),ge--;for(;oe--;){if(He===ue||ue!==null&&He===ue.alternate)break t;He=Fo(He),ue=Fo(ue)}He=null}else He=null;ye!==null&&T2(Le,Se,ye,He,!1),Ye!==null&&At!==null&&T2(Le,At,Ye,He,!0)}}e:{if(Se=me?gs(me):window,ye=Se.nodeName&&Se.nodeName.toLowerCase(),ye==="select"||ye==="input"&&Se.type==="file")var Be=Vp;else if(Bp(Se))if(zp)Be=c6;else{Be=s6;var rt=o6}else ye=Se.nodeName,!ye||ye.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?me&&Ed(me.elementType)&&(Be=Vp):Be=l6;if(Be&&(Be=Be(r,me))){Gp(Le,Be,u,Ae);break e}rt&&rt(r,Se,me),r==="focusout"&&me&&Se.type==="number"&&me.memoizedProps.value!=null&&Id(Se,"number",Se.value)}switch(rt=me?gs(me):window,r){case"focusin":(Bp(rt)||rt.contentEditable==="true")&&(uo=rt,jd=me,Ts=null);break;case"focusout":Ts=jd=uo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Kp(Le,u,Ae);break;case"selectionchange":if(d6)break;case"keydown":case"keyup":Kp(Le,u,Ae)}var Qe;if(Vd)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else co?Np(r,u)&&(je="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(je="onCompositionStart");je&&(Fp&&u.locale!=="ko"&&(co||je!=="onCompositionStart"?je==="onCompositionEnd"&&co&&(Qe=Lp()):(Tr=Ae,Ud="value"in Tr?Tr.value:Tr.textContent,co=!0)),rt=Eu(me,je),0<rt.length&&(je=new _p(je,r,null,u,Ae),Le.push({event:je,listeners:rt}),Qe?je.data=Qe:(Qe=qp(u),Qe!==null&&(je.data=Qe)))),(Qe=t6?n6(r,u):i6(r,u))&&(je=Eu(me,"onBeforeInput"),0<je.length&&(rt=new _p("onBeforeInput","beforeinput",null,u,Ae),Le.push({event:rt,listeners:je}),rt.data=Qe)),Y6(Le,r,me,u,Ae)}C2(Le,s)})}function Ks(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Eu(r,s){for(var u=s+"Capture",g=[];r!==null;){var T=r,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=ps(r,u),T!=null&&g.unshift(Ks(r,T,O)),T=ps(r,s),T!=null&&g.push(Ks(r,T,O))),r.tag===3)return g;r=r.return}return[]}function Fo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function T2(r,s,u,g,T){for(var O=s._reactName,V=[];u!==null&&u!==g;){var Y=u,ie=Y.alternate,me=Y.stateNode;if(Y=Y.tag,ie!==null&&ie===g)break;Y!==5&&Y!==26&&Y!==27||me===null||(ie=me,T?(me=ps(u,O),me!=null&&V.unshift(Ks(u,me,ie))):T||(me=ps(u,O),me!=null&&V.push(Ks(u,me,ie)))),u=u.return}V.length!==0&&r.push({event:s,listeners:V})}var K6=/\r\n?/g,Z6=/\u0000|\uFFFD/g;function w2(r){return(typeof r=="string"?r:""+r).replace(K6,`
`).replace(Z6,"")}function x2(r,s){return s=w2(s),w2(r)===s}function _u(){}function xt(r,s,u,g,T,O){switch(u){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||oo(r,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&oo(r,""+g);break;case"className":Nc(r,"class",g);break;case"tabIndex":Nc(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Nc(r,u,g);break;case"style":Pp(r,g,O);break;case"data":if(s!=="object"){Nc(r,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||u!=="href")){r.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(u);break}g=Gc(""+g),r.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(u==="formAction"?(s!=="input"&&xt(r,s,"name",T.name,T,null),xt(r,s,"formEncType",T.formEncType,T,null),xt(r,s,"formMethod",T.formMethod,T,null),xt(r,s,"formTarget",T.formTarget,T,null)):(xt(r,s,"encType",T.encType,T,null),xt(r,s,"method",T.method,T,null),xt(r,s,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(u);break}g=Gc(""+g),r.setAttribute(u,g);break;case"onClick":g!=null&&(r.onclick=_u);break;case"onScroll":g!=null&&st("scroll",r);break;case"onScrollEnd":g!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(u=g.__html,u!=null){if(T.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}u=Gc(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,""+g):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":g===!0?r.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,g):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(u,g):r.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(u):r.setAttribute(u,g);break;case"popover":st("beforetoggle",r),st("toggle",r),Uc(r,"popover",g);break;case"xlinkActuate":Vi(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Vi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Vi(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Vi(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Vi(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Vi(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Vi(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Vi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Vi(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Uc(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=R3.get(u)||u,Uc(r,u,g))}}function Sf(r,s,u,g,T,O){switch(u){case"style":Pp(r,g,O);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(u=g.__html,u!=null){if(T.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof g=="string"?oo(r,g):(typeof g=="number"||typeof g=="bigint")&&oo(r,""+g);break;case"onScroll":g!=null&&st("scroll",r);break;case"onScrollEnd":g!=null&&st("scrollend",r);break;case"onClick":g!=null&&(r.onclick=_u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mp.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(T=u.endsWith("Capture"),s=u.slice(2,T?u.length-7:void 0),O=r[Rn]||null,O=O!=null?O[u]:null,typeof O=="function"&&r.removeEventListener(s,O,T),typeof g=="function")){typeof O!="function"&&O!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(s,g,T);break e}u in r?r[u]=g:g===!0?r.setAttribute(u,""):Uc(r,u,g)}}}function mn(r,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var g=!1,T=!1,O;for(O in u)if(u.hasOwnProperty(O)){var V=u[O];if(V!=null)switch(O){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(r,s,O,V,u,null)}}T&&xt(r,s,"srcSet",u.srcSet,u,null),g&&xt(r,s,"src",u.src,u,null);return;case"input":st("invalid",r);var Y=O=V=T=null,ie=null,me=null;for(g in u)if(u.hasOwnProperty(g)){var Ae=u[g];if(Ae!=null)switch(g){case"name":T=Ae;break;case"type":V=Ae;break;case"checked":ie=Ae;break;case"defaultChecked":me=Ae;break;case"value":O=Ae;break;case"defaultValue":Y=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(i(137,s));break;default:xt(r,s,g,Ae,u,null)}}Tp(r,O,Y,ie,me,V,T,!1),qc(r);return;case"select":st("invalid",r),g=V=O=null;for(T in u)if(u.hasOwnProperty(T)&&(Y=u[T],Y!=null))switch(T){case"value":O=Y;break;case"defaultValue":V=Y;break;case"multiple":g=Y;default:xt(r,s,T,Y,u,null)}s=O,u=V,r.multiple=!!g,s!=null?ao(r,!!g,s,!1):u!=null&&ao(r,!!g,u,!0);return;case"textarea":st("invalid",r),O=T=g=null;for(V in u)if(u.hasOwnProperty(V)&&(Y=u[V],Y!=null))switch(V){case"value":g=Y;break;case"defaultValue":T=Y;break;case"children":O=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(91));break;default:xt(r,s,V,Y,u,null)}xp(r,g,T,O),qc(r);return;case"option":for(ie in u)if(u.hasOwnProperty(ie)&&(g=u[ie],g!=null))switch(ie){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:xt(r,s,ie,g,u,null)}return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(g=0;g<$s.length;g++)st($s[g],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(g=u[me],g!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:xt(r,s,me,g,u,null)}return;default:if(Ed(s)){for(Ae in u)u.hasOwnProperty(Ae)&&(g=u[Ae],g!==void 0&&Sf(r,s,Ae,g,u,void 0));return}}for(Y in u)u.hasOwnProperty(Y)&&(g=u[Y],g!=null&&xt(r,s,Y,g,u,null))}function J6(r,s,u,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,V=null,Y=null,ie=null,me=null,Ae=null;for(ye in u){var Le=u[ye];if(u.hasOwnProperty(ye)&&Le!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ie=Le;default:g.hasOwnProperty(ye)||xt(r,s,ye,null,g,Le)}}for(var Se in g){var ye=g[Se];if(Le=u[Se],g.hasOwnProperty(Se)&&(ye!=null||Le!=null))switch(Se){case"type":O=ye;break;case"name":T=ye;break;case"checked":me=ye;break;case"defaultChecked":Ae=ye;break;case"value":V=ye;break;case"defaultValue":Y=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,s));break;default:ye!==Le&&xt(r,s,Se,ye,g,Le)}}Ld(r,V,Y,ie,me,Ae,O,T);return;case"select":ye=V=Y=Se=null;for(O in u)if(ie=u[O],u.hasOwnProperty(O)&&ie!=null)switch(O){case"value":break;case"multiple":ye=ie;default:g.hasOwnProperty(O)||xt(r,s,O,null,g,ie)}for(T in g)if(O=g[T],ie=u[T],g.hasOwnProperty(T)&&(O!=null||ie!=null))switch(T){case"value":Se=O;break;case"defaultValue":Y=O;break;case"multiple":V=O;default:O!==ie&&xt(r,s,T,O,g,ie)}s=Y,u=V,g=ye,Se!=null?ao(r,!!u,Se,!1):!!g!=!!u&&(s!=null?ao(r,!!u,s,!0):ao(r,!!u,u?[]:"",!1));return;case"textarea":ye=Se=null;for(Y in u)if(T=u[Y],u.hasOwnProperty(Y)&&T!=null&&!g.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:xt(r,s,Y,null,g,T)}for(V in g)if(T=g[V],O=u[V],g.hasOwnProperty(V)&&(T!=null||O!=null))switch(V){case"value":Se=T;break;case"defaultValue":ye=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==O&&xt(r,s,V,T,g,O)}wp(r,Se,ye);return;case"option":for(var Ye in u)if(Se=u[Ye],u.hasOwnProperty(Ye)&&Se!=null&&!g.hasOwnProperty(Ye))switch(Ye){case"selected":r.selected=!1;break;default:xt(r,s,Ye,null,g,Se)}for(ie in g)if(Se=g[ie],ye=u[ie],g.hasOwnProperty(ie)&&Se!==ye&&(Se!=null||ye!=null))switch(ie){case"selected":r.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:xt(r,s,ie,Se,g,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var He in u)Se=u[He],u.hasOwnProperty(He)&&Se!=null&&!g.hasOwnProperty(He)&&xt(r,s,He,null,g,Se);for(me in g)if(Se=g[me],ye=u[me],g.hasOwnProperty(me)&&Se!==ye&&(Se!=null||ye!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,s));break;default:xt(r,s,me,Se,g,ye)}return;default:if(Ed(s)){for(var At in u)Se=u[At],u.hasOwnProperty(At)&&Se!==void 0&&!g.hasOwnProperty(At)&&Sf(r,s,At,void 0,g,Se);for(Ae in g)Se=g[Ae],ye=u[Ae],!g.hasOwnProperty(Ae)||Se===ye||Se===void 0&&ye===void 0||Sf(r,s,Ae,Se,g,ye);return}}for(var ue in u)Se=u[ue],u.hasOwnProperty(ue)&&Se!=null&&!g.hasOwnProperty(ue)&&xt(r,s,ue,null,g,Se);for(Le in g)Se=g[Le],ye=u[Le],!g.hasOwnProperty(Le)||Se===ye||Se==null&&ye==null||xt(r,s,Le,Se,g,ye)}var yf=null,vf=null;function Mu(r){return r.nodeType===9?r:r.ownerDocument}function A2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P2(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function bf(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cf=null;function eD(){var r=window.event;return r&&r.type==="popstate"?r===Cf?!1:(Cf=r,!0):(Cf=null,!1)}var R2=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,O2=typeof Promise=="function"?Promise:void 0,nD=typeof queueMicrotask=="function"?queueMicrotask:typeof O2<"u"?function(r){return O2.resolve(null).then(r).catch(iD)}:R2;function iD(r){setTimeout(function(){throw r})}function qr(r){return r==="head"}function L2(r,s){var u=s,g=0,T=0;do{var O=u.nextSibling;if(r.removeChild(u),O&&O.nodeType===8)if(u=O.data,u==="/$"){if(0<g&&8>g){u=g;var V=r.ownerDocument;if(u&1&&Zs(V.documentElement),u&2&&Zs(V.body),u&4)for(u=V.head,Zs(u),V=u.firstChild;V;){var Y=V.nextSibling,ie=V.nodeName;V[fs]||ie==="SCRIPT"||ie==="STYLE"||ie==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=Y}}if(T===0){r.removeChild(O),ol(s);return}T--}else u==="$"||u==="$?"||u==="$!"?T++:g=u.charCodeAt(0)-48;else g=0;u=O}while(u);ol(s)}function Df(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Df(u),Ad(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function rD(r,s,u,g){for(;r.nodeType===1;){var T=u;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[fs])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(O=r.getAttribute("rel"),O==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(O!==T.rel||r.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(O=r.getAttribute("src"),(O!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===O)return r}else return r;if(r=pi(r.nextSibling),r===null)break}return null}function aD(r,s,u){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=pi(r.nextSibling),r===null))return null;return r}function Tf(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function oD(r,s){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")s();else{var g=function(){s(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function pi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var wf=null;function I2(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return r;s--}else u==="/$"&&s++}r=r.previousSibling}return null}function E2(r,s,u){switch(s=Mu(u),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zs(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ad(r)}var oi=new Map,_2=new Set;function Fu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var nr=B.d;B.d={f:sD,r:lD,D:cD,C:uD,L:dD,m:hD,X:gD,S:fD,M:pD};function sD(){var r=nr.f(),s=Au();return r||s}function lD(r){var s=to(r);s!==null&&s.tag===5&&s.type==="form"?Jm(s):nr.r(r)}var ko=typeof document>"u"?null:document;function M2(r,s,u){var g=ko;if(g&&typeof s=="string"&&s){var T=Jn(s);T='link[rel="'+r+'"][href="'+T+'"]',typeof u=="string"&&(T+='[crossorigin="'+u+'"]'),_2.has(T)||(_2.add(T),r={rel:r,crossOrigin:u,href:s},g.querySelector(T)===null&&(s=g.createElement("link"),mn(s,"link",r),ln(s),g.head.appendChild(s)))}}function cD(r){nr.D(r),M2("dns-prefetch",r,null)}function uD(r,s){nr.C(r,s),M2("preconnect",r,s)}function dD(r,s,u){nr.L(r,s,u);var g=ko;if(g&&r&&s){var T='link[rel="preload"][as="'+Jn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(T+='[imagesrcset="'+Jn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(T+='[imagesizes="'+Jn(u.imageSizes)+'"]')):T+='[href="'+Jn(r)+'"]';var O=T;switch(s){case"style":O=Uo(r);break;case"script":O=No(r)}oi.has(O)||(r=f({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:r,as:s},u),oi.set(O,r),g.querySelector(T)!==null||s==="style"&&g.querySelector(Js(O))||s==="script"&&g.querySelector(el(O))||(s=g.createElement("link"),mn(s,"link",r),ln(s),g.head.appendChild(s)))}}function hD(r,s){nr.m(r,s);var u=ko;if(u&&r){var g=s&&typeof s.as=="string"?s.as:"script",T='link[rel="modulepreload"][as="'+Jn(g)+'"][href="'+Jn(r)+'"]',O=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=No(r)}if(!oi.has(O)&&(r=f({rel:"modulepreload",href:r},s),oi.set(O,r),u.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(el(O)))return}g=u.createElement("link"),mn(g,"link",r),ln(g),u.head.appendChild(g)}}}function fD(r,s,u){nr.S(r,s,u);var g=ko;if(g&&r){var T=no(g).hoistableStyles,O=Uo(r);s=s||"default";var V=T.get(O);if(!V){var Y={loading:0,preload:null};if(V=g.querySelector(Js(O)))Y.loading=5;else{r=f({rel:"stylesheet",href:r,"data-precedence":s},u),(u=oi.get(O))&&xf(r,u);var ie=V=g.createElement("link");ln(ie),mn(ie,"link",r),ie._p=new Promise(function(me,Ae){ie.onload=me,ie.onerror=Ae}),ie.addEventListener("load",function(){Y.loading|=1}),ie.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,ku(V,s,g)}V={type:"stylesheet",instance:V,count:1,state:Y},T.set(O,V)}}}function gD(r,s){nr.X(r,s);var u=ko;if(u&&r){var g=no(u).hoistableScripts,T=No(r),O=g.get(T);O||(O=u.querySelector(el(T)),O||(r=f({src:r,async:!0},s),(s=oi.get(T))&&Af(r,s),O=u.createElement("script"),ln(O),mn(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},g.set(T,O))}}function pD(r,s){nr.M(r,s);var u=ko;if(u&&r){var g=no(u).hoistableScripts,T=No(r),O=g.get(T);O||(O=u.querySelector(el(T)),O||(r=f({src:r,async:!0,type:"module"},s),(s=oi.get(T))&&Af(r,s),O=u.createElement("script"),ln(O),mn(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},g.set(T,O))}}function F2(r,s,u,g){var T=(T=se.current)?Fu(T):null;if(!T)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Uo(u.href),u=no(T).hoistableStyles,g=u.get(s),g||(g={type:"style",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Uo(u.href);var O=no(T).hoistableStyles,V=O.get(r);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(r,V),(O=T.querySelector(Js(r)))&&!O._p&&(V.instance=O,V.state.loading=5),oi.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},oi.set(r,u),O||mD(T,r,u,V.state))),s&&g===null)throw Error(i(528,""));return V}if(s&&g!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=No(u),u=no(T).hoistableScripts,g=u.get(s),g||(g={type:"script",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Uo(r){return'href="'+Jn(r)+'"'}function Js(r){return'link[rel="stylesheet"]['+r+"]"}function k2(r){return f({},r,{"data-precedence":r.precedence,precedence:null})}function mD(r,s,u,g){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=r.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),mn(s,"link",u),ln(s),r.head.appendChild(s))}function No(r){return'[src="'+Jn(r)+'"]'}function el(r){return"script[async]"+r}function U2(r,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var g=r.querySelector('style[data-href~="'+Jn(u.href)+'"]');if(g)return s.instance=g,ln(g),g;var T=f({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),ln(g),mn(g,"style",T),ku(g,u.precedence,r),s.instance=g;case"stylesheet":T=Uo(u.href);var O=r.querySelector(Js(T));if(O)return s.state.loading|=4,s.instance=O,ln(O),O;g=k2(u),(T=oi.get(T))&&xf(g,T),O=(r.ownerDocument||r).createElement("link"),ln(O);var V=O;return V._p=new Promise(function(Y,ie){V.onload=Y,V.onerror=ie}),mn(O,"link",g),s.state.loading|=4,ku(O,u.precedence,r),s.instance=O;case"script":return O=No(u.src),(T=r.querySelector(el(O)))?(s.instance=T,ln(T),T):(g=u,(T=oi.get(O))&&(g=f({},u),Af(g,T)),r=r.ownerDocument||r,T=r.createElement("script"),ln(T),mn(T,"link",g),r.head.appendChild(T),s.instance=T);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,ku(g,u.precedence,r));return s.instance}function ku(r,s,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,O=T,V=0;V<g.length;V++){var Y=g[V];if(Y.dataset.precedence===s)O=Y;else if(O!==T)break}O?O.parentNode.insertBefore(r,O.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(r,s.firstChild))}function xf(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Af(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Uu=null;function N2(r,s,u){if(Uu===null){var g=new Map,T=Uu=new Map;T.set(u,g)}else T=Uu,g=T.get(u),g||(g=new Map,T.set(u,g));if(g.has(r))return g;for(g.set(r,null),u=u.getElementsByTagName(r),T=0;T<u.length;T++){var O=u[T];if(!(O[fs]||O[bn]||r==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var V=O.getAttribute(s)||"";V=r+V;var Y=g.get(V);Y?Y.push(O):g.set(V,[O])}}return g}function q2(r,s,u){r=r.ownerDocument||r,r.head.insertBefore(u,s==="title"?r.querySelector("head > title"):null)}function SD(r,s,u){if(u===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function B2(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var tl=null;function yD(){}function vD(r,s,u){if(tl===null)throw Error(i(475));var g=tl;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var T=Uo(u.href),O=r.querySelector(Js(T));if(O){r=O._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=Nu.bind(g),r.then(g,g)),s.state.loading|=4,s.instance=O,ln(O);return}O=r.ownerDocument||r,u=k2(u),(T=oi.get(T))&&xf(u,T),O=O.createElement("link"),ln(O);var V=O;V._p=new Promise(function(Y,ie){V.onload=Y,V.onerror=ie}),mn(O,"link",u),s.instance=O}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(g.count++,s=Nu.bind(g),r.addEventListener("load",s),r.addEventListener("error",s))}}function bD(){if(tl===null)throw Error(i(475));var r=tl;return r.stylesheets&&r.count===0&&Pf(r,r.stylesheets),0<r.count?function(s){var u=setTimeout(function(){if(r.stylesheets&&Pf(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Nu(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qu=null;function Pf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qu=new Map,s.forEach(CD,r),qu=null,Nu.call(r))}function CD(r,s){if(!(s.state.loading&4)){var u=qu.get(r);if(u)var g=u.get(null);else{u=new Map,qu.set(r,u);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var V=T[O];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),g=V)}g&&u.set(null,g)}T=s.instance,V=T.getAttribute("data-precedence"),O=u.get(V)||g,O===g&&u.set(null,T),u.set(V,T),this.count++,g=Nu.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),O?O.parentNode.insertBefore(T,O.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),s.state.loading|=4}}var nl={$$typeof:b,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function DD(r,s,u,g,T,O,V,Y){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function G2(r,s,u,g,T,O,V,Y,ie,me,Ae,Le){return r=new DD(r,s,u,V,Y,ie,me,Le),s=1,O===!0&&(s|=24),O=Vn(3,null,null,s),r.current=O,O.stateNode=r,s=sh(),s.refCount++,r.pooledCache=s,s.refCount++,O.memoizedState={element:g,isDehydrated:u,cache:s},dh(O),r}function V2(r){return r?(r=po,r):po}function z2(r,s,u,g,T,O){T=V2(T),g.context===null?g.context=T:g.pendingContext=T,g=Ar(s),g.payload={element:u},O=O===void 0?null:O,O!==null&&(g.callback=O),u=Pr(r,g,s),u!==null&&(Yn(u,r,s),Es(u,r,s))}function Q2(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Rf(r,s){Q2(r,s),(r=r.alternate)&&Q2(r,s)}function H2(r){if(r.tag===13){var s=go(r,67108864);s!==null&&Yn(s,r,67108864),Rf(r,67108864)}}var Bu=!0;function TD(r,s,u,g){var T=F.T;F.T=null;var O=B.p;try{B.p=2,Of(r,s,u,g)}finally{B.p=O,F.T=T}}function wD(r,s,u,g){var T=F.T;F.T=null;var O=B.p;try{B.p=8,Of(r,s,u,g)}finally{B.p=O,F.T=T}}function Of(r,s,u,g){if(Bu){var T=Lf(g);if(T===null)mf(r,s,g,Gu,u),Y2(r,g);else if(AD(T,r,s,u,g))g.stopPropagation();else if(Y2(r,g),s&4&&-1<xD.indexOf(r)){for(;T!==null;){var O=to(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var V=Ne(O.pendingLanes);if(V!==0){var Y=O;for(Y.pendingLanes|=2,Y.entangledLanes|=2;V;){var ie=1<<31-Fe(V);Y.entanglements[1]|=ie,V&=~ie}Li(O),(Dt&6)===0&&(wu=W()+500,Ws(0))}}break;case 13:Y=go(O,2),Y!==null&&Yn(Y,O,2),Au(),Rf(O,2)}if(O=Lf(g),O===null&&mf(r,s,g,Gu,u),O===T)break;T=O}T!==null&&g.stopPropagation()}else mf(r,s,g,null,u)}}function Lf(r){return r=Md(r),If(r)}var Gu=null;function If(r){if(Gu=null,r=eo(r),r!==null){var s=o(r);if(s===null)r=null;else{var u=s.tag;if(u===13){if(r=l(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Gu=r,null}function j2(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case ae:return 2;case ve:return 8;case Ce:case ne:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var Ef=!1,Br=null,Gr=null,Vr=null,il=new Map,rl=new Map,zr=[],xD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y2(r,s){switch(r){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":il.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(s.pointerId)}}function al(r,s,u,g,T,O){return r===null||r.nativeEvent!==O?(r={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:O,targetContainers:[T]},s!==null&&(s=to(s),s!==null&&H2(s)),r):(r.eventSystemFlags|=g,s=r.targetContainers,T!==null&&s.indexOf(T)===-1&&s.push(T),r)}function AD(r,s,u,g,T){switch(s){case"focusin":return Br=al(Br,r,s,u,g,T),!0;case"dragenter":return Gr=al(Gr,r,s,u,g,T),!0;case"mouseover":return Vr=al(Vr,r,s,u,g,T),!0;case"pointerover":var O=T.pointerId;return il.set(O,al(il.get(O)||null,r,s,u,g,T)),!0;case"gotpointercapture":return O=T.pointerId,rl.set(O,al(rl.get(O)||null,r,s,u,g,T)),!0}return!1}function X2(r){var s=eo(r.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){r.blockedOn=s,v3(r.priority,function(){if(u.tag===13){var g=jn();g=Bn(g);var T=go(u,g);T!==null&&Yn(T,u,g),Rf(u,g)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vu(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=Lf(r.nativeEvent);if(u===null){u=r.nativeEvent;var g=new u.constructor(u.type,u);_d=g,u.target.dispatchEvent(g),_d=null}else return s=to(u),s!==null&&H2(s),r.blockedOn=u,!1;s.shift()}return!0}function W2(r,s,u){Vu(r)&&u.delete(s)}function PD(){Ef=!1,Br!==null&&Vu(Br)&&(Br=null),Gr!==null&&Vu(Gr)&&(Gr=null),Vr!==null&&Vu(Vr)&&(Vr=null),il.forEach(W2),rl.forEach(W2)}function zu(r,s){r.blockedOn===s&&(r.blockedOn=null,Ef||(Ef=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PD)))}var Qu=null;function $2(r){Qu!==r&&(Qu=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Qu===r&&(Qu=null);for(var s=0;s<r.length;s+=3){var u=r[s],g=r[s+1],T=r[s+2];if(typeof g!="function"){if(If(g||u)===null)continue;break}var O=to(u);O!==null&&(r.splice(s,3),s-=3,Lh(O,{pending:!0,data:T,method:u.method,action:g},g,T))}}))}function ol(r){function s(ie){return zu(ie,r)}Br!==null&&zu(Br,r),Gr!==null&&zu(Gr,r),Vr!==null&&zu(Vr,r),il.forEach(s),rl.forEach(s);for(var u=0;u<zr.length;u++){var g=zr[u];g.blockedOn===r&&(g.blockedOn=null)}for(;0<zr.length&&(u=zr[0],u.blockedOn===null);)X2(u),u.blockedOn===null&&zr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var T=u[g],O=u[g+1],V=T[Rn]||null;if(typeof O=="function")V||$2(u);else if(V){var Y=null;if(O&&O.hasAttribute("formAction")){if(T=O,V=O[Rn]||null)Y=V.formAction;else if(If(T)!==null)continue}else Y=V.action;typeof Y=="function"?u[g+1]=Y:(u.splice(g,3),g-=3),$2(u)}}}function _f(r){this._internalRoot=r}Hu.prototype.render=_f.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,g=jn();z2(u,g,r,s,null,null)},Hu.prototype.unmount=_f.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;z2(r.current,2,null,r,null,null),Au(),s[Ja]=null}};function Hu(r){this._internalRoot=r}Hu.prototype.unstable_scheduleHydration=function(r){if(r){var s=fp();r={blockedOn:null,target:r,priority:s};for(var u=0;u<zr.length&&s!==0&&s<zr[u].priority;u++);zr.splice(u,0,r),u===0&&X2(r)}};var K2=e.version;if(K2!=="19.1.1")throw Error(i(527,K2,"19.1.1"));B.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var RD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{pe=ju.inject(RD),Oe=ju}catch{}}return ll.createRoot=function(r,s){if(!a(r))throw Error(i(299));var u=!1,g="",T=fS,O=gS,V=pS,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(O=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(Y=s.unstable_transitionCallbacks)),s=G2(r,1,!1,null,null,u,g,T,O,V,Y,null),r[Ja]=s.current,pf(r),new _f(s)},ll.hydrateRoot=function(r,s,u){if(!a(r))throw Error(i(299));var g=!1,T="",O=fS,V=gS,Y=pS,ie=null,me=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&(Y=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ie=u.unstable_transitionCallbacks),u.formState!==void 0&&(me=u.formState)),s=G2(r,1,!0,s,u??null,g,T,O,V,Y,ie,me),s.context=V2(null),u=s.current,g=jn(),g=Bn(g),T=Ar(g),T.callback=null,Pr(u,T,g),u=g,s.current.lanes=u,pt(s,u),Li(s),r[Ja]=s.current,pf(r),new Hu(s)},ll.version="19.1.1",ll}var sy;function ND(){if(sy)return kf.exports;sy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kf.exports=UD(),kf.exports}var qD=ND();const bc={black:"#000",white:"#fff"},qo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},BD={500:"#e91e63"},Bo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},GD={500:"#3f51b5"},Go={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Vo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},zo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},VD={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Sr(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const Ci="$$material";function U0(){return U0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},U0.apply(null,arguments)}function zD(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function QD(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var HD=function(){function n(t){var i=this;this._insertTag=function(a){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,o),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(QD(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=zD(a);try{o.insertRule(i,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},n}(),wn="-ms-",N0="-moz-",yt="-webkit-",xC="comm",yg="rule",vg="decl",jD="@import",AC="@keyframes",YD="@layer",XD=Math.abs,Z0=String.fromCharCode,WD=Object.assign;function $D(n,e){return yn(n,0)^45?(((e<<2^yn(n,0))<<2^yn(n,1))<<2^yn(n,2))<<2^yn(n,3):0}function PC(n){return n.trim()}function KD(n,e){return(n=e.exec(n))?n[0]:n}function vt(n,e,t){return n.replace(e,t)}function E1(n,e){return n.indexOf(e)}function yn(n,e){return n.charCodeAt(e)|0}function Cc(n,e,t){return n.slice(e,t)}function Fi(n){return n.length}function bg(n){return n.length}function Yu(n,e){return e.push(n),n}function ZD(n,e){return n.map(e).join("")}var J0=1,ts=1,RC=0,qn=0,rn=0,ls="";function ed(n,e,t,i,a,o,l){return{value:n,root:e,parent:t,type:i,props:a,children:o,line:J0,column:ts,length:l,return:""}}function ul(n,e){return WD(ed("",null,null,"",null,null,0),n,{length:-n.length},e)}function JD(){return rn}function e8(){return rn=qn>0?yn(ls,--qn):0,ts--,rn===10&&(ts=1,J0--),rn}function Wn(){return rn=qn<RC?yn(ls,qn++):0,ts++,rn===10&&(ts=1,J0++),rn}function qi(){return yn(ls,qn)}function w0(){return qn}function Oc(n,e){return Cc(ls,n,e)}function Dc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function OC(n){return J0=ts=1,RC=Fi(ls=n),qn=0,[]}function LC(n){return ls="",n}function x0(n){return PC(Oc(qn-1,_1(n===91?n+2:n===40?n+1:n)))}function t8(n){for(;(rn=qi())&&rn<33;)Wn();return Dc(n)>2||Dc(rn)>3?"":" "}function n8(n,e){for(;--e&&Wn()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return Oc(n,w0()+(e<6&&qi()==32&&Wn()==32))}function _1(n){for(;Wn();)switch(rn){case n:return qn;case 34:case 39:n!==34&&n!==39&&_1(rn);break;case 40:n===41&&_1(n);break;case 92:Wn();break}return qn}function i8(n,e){for(;Wn()&&n+rn!==57;)if(n+rn===84&&qi()===47)break;return"/*"+Oc(e,qn-1)+"*"+Z0(n===47?n:Wn())}function r8(n){for(;!Dc(qi());)Wn();return Oc(n,qn)}function a8(n){return LC(A0("",null,null,null,[""],n=OC(n),0,[0],n))}function A0(n,e,t,i,a,o,l,c,d){for(var h=0,f=0,m=l,v=0,p=0,S=0,y=1,C=1,w=1,D=0,b="",x=a,A=o,I=i,k=b;C;)switch(S=D,D=Wn()){case 40:if(S!=108&&yn(k,m-1)==58){E1(k+=vt(x0(D),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=x0(D);break;case 9:case 10:case 13:case 32:k+=t8(S);break;case 92:k+=n8(w0()-1,7);continue;case 47:switch(qi()){case 42:case 47:Yu(o8(i8(Wn(),w0()),e,t),d);break;default:k+="/"}break;case 123*y:c[h++]=Fi(k)*w;case 125*y:case 59:case 0:switch(D){case 0:case 125:C=0;case 59+f:w==-1&&(k=vt(k,/\f/g,"")),p>0&&Fi(k)-m&&Yu(p>32?cy(k+";",i,t,m-1):cy(vt(k," ","")+";",i,t,m-2),d);break;case 59:k+=";";default:if(Yu(I=ly(k,e,t,h,f,a,c,b,x=[],A=[],m),o),D===123)if(f===0)A0(k,e,I,I,x,o,m,c,A);else switch(v===99&&yn(k,3)===110?100:v){case 100:case 108:case 109:case 115:A0(n,I,I,i&&Yu(ly(n,I,I,0,0,a,c,b,a,x=[],m),A),a,A,m,c,i?x:A);break;default:A0(k,I,I,I,[""],A,0,c,A)}}h=f=p=0,y=w=1,b=k="",m=l;break;case 58:m=1+Fi(k),p=S;default:if(y<1){if(D==123)--y;else if(D==125&&y++==0&&e8()==125)continue}switch(k+=Z0(D),D*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:c[h++]=(Fi(k)-1)*w,w=1;break;case 64:qi()===45&&(k+=x0(Wn())),v=qi(),f=m=Fi(b=k+=r8(w0())),D++;break;case 45:S===45&&Fi(k)==2&&(y=0)}}return o}function ly(n,e,t,i,a,o,l,c,d,h,f){for(var m=a-1,v=a===0?o:[""],p=bg(v),S=0,y=0,C=0;S<i;++S)for(var w=0,D=Cc(n,m+1,m=XD(y=l[S])),b=n;w<p;++w)(b=PC(y>0?v[w]+" "+D:vt(D,/&\f/g,v[w])))&&(d[C++]=b);return ed(n,e,t,a===0?yg:c,d,h,f)}function o8(n,e,t){return ed(n,e,t,xC,Z0(JD()),Cc(n,2,-2),0)}function cy(n,e,t,i){return ed(n,e,t,vg,Cc(n,0,i),Cc(n,i+1,-1),i)}function Zo(n,e){for(var t="",i=bg(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function s8(n,e,t,i){switch(n.type){case YD:if(n.children.length)break;case jD:case vg:return n.return=n.return||n.value;case xC:return"";case AC:return n.return=n.value+"{"+Zo(n.children,i)+"}";case yg:n.value=n.props.join(",")}return Fi(t=Zo(n.children,i))?n.return=n.value+"{"+t+"}":""}function l8(n){var e=bg(n);return function(t,i,a,o){for(var l="",c=0;c<e;c++)l+=n[c](t,i,a,o)||"";return l}}function c8(n){return function(e){e.root||(e=e.return)&&n(e)}}function IC(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var u8=function(e,t,i){for(var a=0,o=0;a=o,o=qi(),a===38&&o===12&&(t[i]=1),!Dc(o);)Wn();return Oc(e,qn)},d8=function(e,t){var i=-1,a=44;do switch(Dc(a)){case 0:a===38&&qi()===12&&(t[i]=1),e[i]+=u8(qn-1,t,i);break;case 2:e[i]+=x0(a);break;case 4:if(a===44){e[++i]=qi()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Z0(a)}while(a=Wn());return e},h8=function(e,t){return LC(d8(OC(e),t))},uy=new WeakMap,f8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!uy.get(i))&&!a){uy.set(e,!0);for(var o=[],l=h8(t,o),c=i.props,d=0,h=0;d<l.length;d++)for(var f=0;f<c.length;f++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,c[f]):c[f]+" "+l[d]}}},g8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function EC(n,e){switch($D(n,e)){case 5103:return yt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+n+N0+n+wn+n+n;case 6828:case 4268:return yt+n+wn+n+n;case 6165:return yt+n+wn+"flex-"+n+n;case 5187:return yt+n+vt(n,/(\w+).+(:[^]+)/,yt+"box-$1$2"+wn+"flex-$1$2")+n;case 5443:return yt+n+wn+"flex-item-"+vt(n,/flex-|-self/,"")+n;case 4675:return yt+n+wn+"flex-line-pack"+vt(n,/align-content|flex-|-self/,"")+n;case 5548:return yt+n+wn+vt(n,"shrink","negative")+n;case 5292:return yt+n+wn+vt(n,"basis","preferred-size")+n;case 6060:return yt+"box-"+vt(n,"-grow","")+yt+n+wn+vt(n,"grow","positive")+n;case 4554:return yt+vt(n,/([^-])(transform)/g,"$1"+yt+"$2")+n;case 6187:return vt(vt(vt(n,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),n,"")+n;case 5495:case 3959:return vt(n,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return vt(vt(n,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+n+n;case 4095:case 3583:case 4068:case 2532:return vt(n,/(.+)-inline(.+)/,yt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(n)-1-e>6)switch(yn(n,e+1)){case 109:if(yn(n,e+4)!==45)break;case 102:return vt(n,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+N0+(yn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~E1(n,"stretch")?EC(vt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(yn(n,e+1)!==115)break;case 6444:switch(yn(n,Fi(n)-3-(~E1(n,"!important")&&10))){case 107:return vt(n,":",":"+yt)+n;case 101:return vt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(yn(n,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+wn+"$2box$3")+n}break;case 5936:switch(yn(n,e+11)){case 114:return yt+n+wn+vt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return yt+n+wn+vt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return yt+n+wn+vt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return yt+n+wn+n+n}return n}var p8=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case vg:e.return=EC(e.value,e.length);break;case AC:return Zo([ul(e,{value:vt(e.value,"@","@"+yt)})],a);case yg:if(e.length)return ZD(e.props,function(o){switch(KD(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zo([ul(e,{props:[vt(o,/:(read-\w+)/,":"+N0+"$1")]})],a);case"::placeholder":return Zo([ul(e,{props:[vt(o,/:(plac\w+)/,":"+yt+"input-$1")]}),ul(e,{props:[vt(o,/:(plac\w+)/,":"+N0+"$1")]}),ul(e,{props:[vt(o,/:(plac\w+)/,wn+"input-$1")]})],a)}return""})}},m8=[p8],S8=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(y){var C=y.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||m8,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var C=y.getAttribute("data-emotion").split(" "),w=1;w<C.length;w++)o[C[w]]=!0;c.push(y)});var d,h=[f8,g8];{var f,m=[s8,c8(function(y){f.insert(y)})],v=l8(h.concat(a,m)),p=function(C){return Zo(a8(C),v)};d=function(C,w,D,b){f=D,p(C?C+"{"+w.styles+"}":w.styles),b&&(S.inserted[w.name]=!0)}}var S={key:t,sheet:new HD({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return S.sheet.hydrate(c),S},Bf={exports:{}},Ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function y8(){if(dy)return Ct;dy=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,D=n?Symbol.for("react.scope"):60119;function b(A){if(typeof A=="object"&&A!==null){var I=A.$$typeof;switch(I){case e:switch(A=A.type,A){case d:case h:case i:case o:case a:case m:return A;default:switch(A=A&&A.$$typeof,A){case c:case f:case S:case p:case l:return A;default:return I}}case t:return I}}}function x(A){return b(A)===h}return Ct.AsyncMode=d,Ct.ConcurrentMode=h,Ct.ContextConsumer=c,Ct.ContextProvider=l,Ct.Element=e,Ct.ForwardRef=f,Ct.Fragment=i,Ct.Lazy=S,Ct.Memo=p,Ct.Portal=t,Ct.Profiler=o,Ct.StrictMode=a,Ct.Suspense=m,Ct.isAsyncMode=function(A){return x(A)||b(A)===d},Ct.isConcurrentMode=x,Ct.isContextConsumer=function(A){return b(A)===c},Ct.isContextProvider=function(A){return b(A)===l},Ct.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Ct.isForwardRef=function(A){return b(A)===f},Ct.isFragment=function(A){return b(A)===i},Ct.isLazy=function(A){return b(A)===S},Ct.isMemo=function(A){return b(A)===p},Ct.isPortal=function(A){return b(A)===t},Ct.isProfiler=function(A){return b(A)===o},Ct.isStrictMode=function(A){return b(A)===a},Ct.isSuspense=function(A){return b(A)===m},Ct.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===i||A===h||A===o||A===a||A===m||A===v||typeof A=="object"&&A!==null&&(A.$$typeof===S||A.$$typeof===p||A.$$typeof===l||A.$$typeof===c||A.$$typeof===f||A.$$typeof===C||A.$$typeof===w||A.$$typeof===D||A.$$typeof===y)},Ct.typeOf=b,Ct}var hy;function v8(){return hy||(hy=1,Bf.exports=y8()),Bf.exports}var Gf,fy;function b8(){if(fy)return Gf;fy=1;var n=v8(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=a;function l(S){return n.isMemo(S)?a:o[S.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function p(S,y,C){if(typeof y!="string"){if(v){var w=m(y);w&&w!==v&&p(S,w,C)}var D=d(y);h&&(D=D.concat(h(y)));for(var b=l(S),x=l(y),A=0;A<D.length;++A){var I=D[A];if(!t[I]&&!(C&&C[I])&&!(x&&x[I])&&!(b&&b[I])){var k=f(y,I);try{c(S,I,k)}catch{}}}}return S}return Gf=p,Gf}b8();var C8=!0;function _C(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(i+=a+" ")}),i}var Cg=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||C8===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},Dg=function(e,t,i){Cg(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function D8(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var T8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},w8=/[A-Z]|^ms/g,x8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MC=function(e){return e.charCodeAt(1)===45},gy=function(e){return e!=null&&typeof e!="boolean"},Vf=IC(function(n){return MC(n)?n:n.replace(w8,"-$&").toLowerCase()}),py=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(x8,function(i,a,o){return ki={name:a,styles:o,next:ki},a})}return T8[e]!==1&&!MC(e)&&typeof t=="number"&&t!==0?t+"px":t};function Tc(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return ki={name:a.name,styles:a.styles,next:ki},a.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)ki={name:l.name,styles:l.styles,next:ki},l=l.next;var c=o.styles+";";return c}return A8(n,e,t)}case"function":{if(n!==void 0){var d=ki,h=t(n);return ki=d,Tc(n,e,h)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function A8(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=Tc(n,e,t[a])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?i+=o+"{"+e[c]+"}":gy(c)&&(i+=Vf(o)+":"+py(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)gy(l[d])&&(i+=Vf(o)+":"+py(o,l[d])+";");else{var h=Tc(n,e,l);switch(o){case"animation":case"animationName":{i+=Vf(o)+":"+h+";";break}default:i+=o+"{"+h+"}"}}}return i}var my=/label:\s*([^\s;{]+)\s*(;|$)/g,ki;function Lc(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,a="";ki=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,a+=Tc(t,e,o);else{var l=o;a+=l[0]}for(var c=1;c<n.length;c++)if(a+=Tc(t,e,n[c]),i){var d=o;a+=d[c]}my.lastIndex=0;for(var h="",f;(f=my.exec(a))!==null;)h+="-"+f[1];var m=D8(a)+h;return{name:m,styles:a,next:ki}}var P8=function(e){return e()},FC=k0.useInsertionEffect?k0.useInsertionEffect:!1,kC=FC||P8,Sy=FC||K.useLayoutEffect,UC=K.createContext(typeof HTMLElement<"u"?S8({key:"css"}):null);UC.Provider;var Tg=function(e){return K.forwardRef(function(t,i){var a=K.useContext(UC);return e(t,a,i)})},Ic=K.createContext({}),wg={}.hasOwnProperty,M1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",R8=function(e,t){var i={};for(var a in t)wg.call(t,a)&&(i[a]=t[a]);return i[M1]=e,i},O8=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Cg(t,i,a),kC(function(){return Dg(t,i,a)}),null},L8=Tg(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var a=n[M1],o=[i],l="";typeof n.className=="string"?l=_C(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var c=Lc(o,void 0,K.useContext(Ic));l+=e.key+"-"+c.name;var d={};for(var h in n)wg.call(n,h)&&h!=="css"&&h!==M1&&(d[h]=n[h]);return d.className=l,t&&(d.ref=t),K.createElement(K.Fragment,null,K.createElement(O8,{cache:e,serialized:c,isStringTag:typeof a=="string"}),K.createElement(a,d))}),I8=L8,yy=function(e,t){var i=arguments;if(t==null||!wg.call(t,"css"))return K.createElement.apply(void 0,i);var a=i.length,o=new Array(a);o[0]=I8,o[1]=R8(e,t);for(var l=2;l<a;l++)o[l]=i[l];return K.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(yy||(yy={}));var E8=Tg(function(n,e){var t=n.styles,i=Lc([t],void 0,K.useContext(Ic)),a=K.useRef();return Sy(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+o+" "+i.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",o),l.hydrate([d])),a.current=[l,c],function(){l.flush()}},[e]),Sy(function(){var o=a.current,l=o[0],c=o[1];if(c){o[1]=!1;return}if(i.next!==void 0&&Dg(e,i.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",i,l,!1)},[e,i.name]),null});function cs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Lc(e)}function aa(){var n=cs.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var _8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,M8=IC(function(n){return _8.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),F8=M8,k8=function(e){return e!=="theme"},vy=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?F8:k8},by=function(e,t,i){var a;if(t){var o=t.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},U8=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Cg(t,i,a),kC(function(){return Dg(t,i,a)}),null},N8=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=by(e,t,i),d=c||vy(a),h=!d("as");return function(){var f=arguments,m=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var v=f[0];m.push(v[0]);for(var p=f.length,S=1;S<p;S++)m.push(f[S],v[S])}var y=Tg(function(C,w,D){var b=h&&C.as||a,x="",A=[],I=C;if(C.theme==null){I={};for(var k in C)I[k]=C[k];I.theme=K.useContext(Ic)}typeof C.className=="string"?x=_C(w.registered,A,C.className):C.className!=null&&(x=C.className+" ");var E=Lc(m.concat(A),w.registered,I);x+=w.key+"-"+E.name,l!==void 0&&(x+=" "+l);var _=h&&c===void 0?vy(b):d,R={};for(var N in C)h&&N==="as"||_(N)&&(R[N]=C[N]);return R.className=x,D&&(R.ref=D),K.createElement(K.Fragment,null,K.createElement(U8,{cache:w,serialized:E,isStringTag:typeof b=="string"}),K.createElement(b,R))});return y.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=a,y.__emotion_styles=m,y.__emotion_forwardProp=c,Object.defineProperty(y,"toString",{value:function(){return"."+l}}),y.withComponent=function(C,w){var D=n(C,U0({},t,w,{shouldForwardProp:by(y,w,!0)}));return D.apply(void 0,m)},y}},q8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],F1=N8.bind(null);q8.forEach(function(n){F1[n]=F1(n)});function B8(n){return n==null||Object.keys(n).length===0}function NC(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?a=>e(B8(a)?t:a):e;return re.jsx(E8,{styles:i})}function qC(n,e){return F1(n,e)}function G8(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Cy=[];function Zr(n){return Cy[0]=n,Lc(Cy)}var zf={exports:{}},Pt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function V8(){if(Dy)return Pt;Dy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case n:switch(y=y.type,y){case t:case a:case i:case d:case h:case v:return y;default:switch(y=y&&y.$$typeof,y){case l:case c:case m:case f:return y;case o:return y;default:return C}}case e:return C}}}return Pt.ContextConsumer=o,Pt.ContextProvider=l,Pt.Element=n,Pt.ForwardRef=c,Pt.Fragment=t,Pt.Lazy=m,Pt.Memo=f,Pt.Portal=e,Pt.Profiler=a,Pt.StrictMode=i,Pt.Suspense=d,Pt.SuspenseList=h,Pt.isContextConsumer=function(y){return S(y)===o},Pt.isContextProvider=function(y){return S(y)===l},Pt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},Pt.isForwardRef=function(y){return S(y)===c},Pt.isFragment=function(y){return S(y)===t},Pt.isLazy=function(y){return S(y)===m},Pt.isMemo=function(y){return S(y)===f},Pt.isPortal=function(y){return S(y)===e},Pt.isProfiler=function(y){return S(y)===a},Pt.isStrictMode=function(y){return S(y)===i},Pt.isSuspense=function(y){return S(y)===d},Pt.isSuspenseList=function(y){return S(y)===h},Pt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===a||y===i||y===d||y===h||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===l||y.$$typeof===o||y.$$typeof===c||y.$$typeof===p||y.getModuleId!==void 0)},Pt.typeOf=S,Pt}var Ty;function z8(){return Ty||(Ty=1,zf.exports=V8()),zf.exports}var BC=z8();function Ui(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function GC(n){if(K.isValidElement(n)||BC.isValidElementType(n)||!Ui(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=GC(n[t])}),e}function hn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Ui(n)&&Ui(e)&&Object.keys(e).forEach(a=>{K.isValidElement(e[a])||BC.isValidElementType(e[a])?i[a]=e[a]:Ui(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&Ui(n[a])?i[a]=hn(n[a],e[a],t):t.clone?i[a]=Ui(e[a])?GC(e[a]):e[a]:i[a]=e[a]}),i}const Q8=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function H8(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...a}=n,o=Q8(e),l=Object.keys(o);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-i/100}${t})`}function h(v,p){const S=l.indexOf(p);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:p)-i/100}${t})`}function f(v){return l.indexOf(v)+1<l.length?h(v,l[l.indexOf(v)+1]):c(v)}function m(v){const p=l.indexOf(v);return p===0?c(l[1]):p===l.length-1?d(l[p]):h(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:h,only:f,not:m,unit:t,...a}}function wy(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,a)=>{const o=/min-width:\s*([0-9.]+)/;return+(i.match(o)?.[1]||0)-+(a.match(o)?.[1]||0)});return t.length?t.reduce((i,a)=>{const o=e[a];return delete i[a],i[a]=o,i},{...e}):e}function j8(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function Y8(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,a]=t,o=Number.isNaN(+i)?i||0:+i;return n.containerQueries(a).up(o)}function X8(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(n.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const i={},a=o=>(t(i,o),i);return t(a),{...n,containerQueries:a}}const W8={borderRadius:4};function hc(n,e){return e?hn(n,e,{clone:!1}):n}const td={xs:0,sm:600,md:900,lg:1200,xl:1536},xy={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${td[n]}px)`},$8={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:td[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Di(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const o=i.breakpoints||xy;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=i.breakpoints||xy;return Object.keys(e).reduce((l,c)=>{if(j8(o.keys,c)){const d=Y8(i.containerQueries?i:$8,c);d&&(l[d]=t(e[c],c))}else if(Object.keys(o.values||td).includes(c)){const d=o.up(c);l[d]=t(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return t(e)}function VC(n={}){return n.keys?.reduce((t,i)=>{const a=n.up(i);return t[a]={},t},{})||{}}function k1(n,e){return n.reduce((t,i)=>{const a=t[i];return(!a||Object.keys(a).length===0)&&delete t[i],t},e)}function K8(n,...e){const t=VC(n),i=[t,...e].reduce((a,o)=>hn(a,o),{});return k1(Object.keys(t),i)}function Z8(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((a,o)=>{o<n.length&&(t[a]=!0)}):i.forEach(a=>{n[a]!=null&&(t[a]=!0)}),t}function Qf({values:n,breakpoints:e,base:t}){const i=t||Z8(n,e),a=Object.keys(i);if(a.length===0)return n;let o;return a.reduce((l,c,d)=>(Array.isArray(n)?(l[c]=n[d]!=null?n[d]:n[o],o=d):typeof n=="object"?(l[c]=n[c]!=null?n[c]:n[o],o=c):l[c]=n,l),{})}function Ue(n){if(typeof n!="string")throw new Error(Sr(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Kr(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,n);if(i!=null)return i}return e.split(".").reduce((i,a)=>i&&i[a]!=null?i[a]:null,n)}function q0(n,e,t,i=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||i:a=Kr(n,t)||i,e&&(a=e(a,i,n)),a}function Zt(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:a}=n,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,h=Kr(d,i)||{};return Di(l,c,m=>{let v=q0(h,a,m);return m===v&&typeof m=="string"&&(v=q0(h,a,`${e}${m==="default"?"":Ue(m)}`,m)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function J8(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const eT={m:"margin",p:"padding"},tT={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ay={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},nT=J8(n=>{if(n.length>2)if(Ay[n])n=Ay[n];else return[n];const[e,t]=n.split(""),i=eT[e],a=tT[t]||"";return Array.isArray(a)?a.map(o=>i+o):[i+a]}),xg=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ag=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...xg,...Ag];function Ec(n,e,t,i){const a=Kr(n,e,!0)??t;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=a[l];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof a=="function"?a:()=>{}}function nd(n){return Ec(n,"spacing",8)}function Ya(n,e){return typeof e=="string"||e==null?e:n(e)}function iT(n,e){return t=>n.reduce((i,a)=>(i[a]=Ya(e,t),i),{})}function rT(n,e,t,i){if(!e.includes(t))return null;const a=nT(t),o=iT(a,i),l=n[t];return Di(n,l,o)}function zC(n,e){const t=nd(n.theme);return Object.keys(n).map(i=>rT(n,e,i,t)).reduce(hc,{})}function Ht(n){return zC(n,xg)}Ht.propTypes={};Ht.filterProps=xg;function jt(n){return zC(n,Ag)}jt.propTypes={};jt.filterProps=Ag;function QC(n=8,e=nd({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function id(...n){const e=n.reduce((i,a)=>(a.filterProps.forEach(o=>{i[o]=a}),i),{}),t=i=>Object.keys(i).reduce((a,o)=>e[o]?hc(a,e[o](i)):a,{});return t.propTypes={},t.filterProps=n.reduce((i,a)=>i.concat(a.filterProps),[]),t}function ci(n){return typeof n!="number"?n:`${n}px solid`}function di(n,e){return Zt({prop:n,themeKey:"borders",transform:e})}const aT=di("border",ci),oT=di("borderTop",ci),sT=di("borderRight",ci),lT=di("borderBottom",ci),cT=di("borderLeft",ci),uT=di("borderColor"),dT=di("borderTopColor"),hT=di("borderRightColor"),fT=di("borderBottomColor"),gT=di("borderLeftColor"),pT=di("outline",ci),mT=di("outlineColor"),rd=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Ec(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:Ya(e,i)});return Di(n,n.borderRadius,t)}return null};rd.propTypes={};rd.filterProps=["borderRadius"];id(aT,oT,sT,lT,cT,uT,dT,hT,fT,gT,rd,pT,mT);const ad=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Ec(n.theme,"spacing",8),t=i=>({gap:Ya(e,i)});return Di(n,n.gap,t)}return null};ad.propTypes={};ad.filterProps=["gap"];const od=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Ec(n.theme,"spacing",8),t=i=>({columnGap:Ya(e,i)});return Di(n,n.columnGap,t)}return null};od.propTypes={};od.filterProps=["columnGap"];const sd=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Ec(n.theme,"spacing",8),t=i=>({rowGap:Ya(e,i)});return Di(n,n.rowGap,t)}return null};sd.propTypes={};sd.filterProps=["rowGap"];const ST=Zt({prop:"gridColumn"}),yT=Zt({prop:"gridRow"}),vT=Zt({prop:"gridAutoFlow"}),bT=Zt({prop:"gridAutoColumns"}),CT=Zt({prop:"gridAutoRows"}),DT=Zt({prop:"gridTemplateColumns"}),TT=Zt({prop:"gridTemplateRows"}),wT=Zt({prop:"gridTemplateAreas"}),xT=Zt({prop:"gridArea"});id(ad,od,sd,ST,yT,vT,bT,CT,DT,TT,wT,xT);function Jo(n,e){return e==="grey"?e:n}const AT=Zt({prop:"color",themeKey:"palette",transform:Jo}),PT=Zt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jo}),RT=Zt({prop:"backgroundColor",themeKey:"palette",transform:Jo});id(AT,PT,RT);function Xn(n){return n<=1&&n!==0?`${n*100}%`:n}const OT=Zt({prop:"width",transform:Xn}),Pg=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||td[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Xn(t)}};return Di(n,n.maxWidth,e)}return null};Pg.filterProps=["maxWidth"];const LT=Zt({prop:"minWidth",transform:Xn}),IT=Zt({prop:"height",transform:Xn}),ET=Zt({prop:"maxHeight",transform:Xn}),_T=Zt({prop:"minHeight",transform:Xn});Zt({prop:"size",cssProperty:"width",transform:Xn});Zt({prop:"size",cssProperty:"height",transform:Xn});const MT=Zt({prop:"boxSizing"});id(OT,Pg,LT,IT,ET,_T,MT);const _c={border:{themeKey:"borders",transform:ci},borderTop:{themeKey:"borders",transform:ci},borderRight:{themeKey:"borders",transform:ci},borderBottom:{themeKey:"borders",transform:ci},borderLeft:{themeKey:"borders",transform:ci},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ci},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rd},color:{themeKey:"palette",transform:Jo},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jo},backgroundColor:{themeKey:"palette",transform:Jo},p:{style:jt},pt:{style:jt},pr:{style:jt},pb:{style:jt},pl:{style:jt},px:{style:jt},py:{style:jt},padding:{style:jt},paddingTop:{style:jt},paddingRight:{style:jt},paddingBottom:{style:jt},paddingLeft:{style:jt},paddingX:{style:jt},paddingY:{style:jt},paddingInline:{style:jt},paddingInlineStart:{style:jt},paddingInlineEnd:{style:jt},paddingBlock:{style:jt},paddingBlockStart:{style:jt},paddingBlockEnd:{style:jt},m:{style:Ht},mt:{style:Ht},mr:{style:Ht},mb:{style:Ht},ml:{style:Ht},mx:{style:Ht},my:{style:Ht},margin:{style:Ht},marginTop:{style:Ht},marginRight:{style:Ht},marginBottom:{style:Ht},marginLeft:{style:Ht},marginX:{style:Ht},marginY:{style:Ht},marginInline:{style:Ht},marginInlineStart:{style:Ht},marginInlineEnd:{style:Ht},marginBlock:{style:Ht},marginBlockStart:{style:Ht},marginBlockEnd:{style:Ht},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ad},rowGap:{style:sd},columnGap:{style:od},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Xn},maxWidth:{style:Pg},minWidth:{transform:Xn},height:{transform:Xn},maxHeight:{transform:Xn},minHeight:{transform:Xn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function FT(...n){const e=n.reduce((i,a)=>i.concat(Object.keys(a)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function kT(n,e){return typeof n=="function"?n(e):n}function UT(){function n(t,i,a,o){const l={[t]:i,theme:a},c=o[t];if(!c)return{[t]:i};const{cssProperty:d=t,themeKey:h,transform:f,style:m}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const v=Kr(a,h)||{};return m?m(l):Di(l,i,S=>{let y=q0(v,f,S);return S===y&&typeof S=="string"&&(y=q0(v,f,`${t}${S==="default"?"":Ue(S)}`,S)),d===!1?y:{[d]:y}})}function e(t){const{sx:i,theme:a={},nested:o}=t||{};if(!i)return null;const l=a.unstable_sxConfig??_c;function c(d){let h=d;if(typeof d=="function")h=d(a);else if(typeof d!="object")return d;if(!h)return null;const f=VC(a.breakpoints),m=Object.keys(f);let v=f;return Object.keys(h).forEach(p=>{const S=kT(h[p],a);if(S!=null)if(typeof S=="object")if(l[p])v=hc(v,n(p,S,a,l));else{const y=Di({theme:a},S,C=>({[p]:C}));FT(y,S)?v[p]=e({sx:S,theme:a,nested:!0}):v=hc(v,y)}else v=hc(v,n(p,S,a,l))}),!o&&a.modularCssLayers?{"@layer sx":wy(a,k1(m,v))}:wy(a,k1(m,v))}return Array.isArray(i)?i.map(c):c(i)}return e}const na=UT();na.filterProps=["sx"];function NT(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function ld(n={},...e){const{breakpoints:t={},palette:i={},spacing:a,shape:o={},...l}=n,c=H8(t),d=QC(a);let h=hn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:d,shape:{...W8,...o}},l);return h=X8(h),h.applyStyles=NT,h=e.reduce((f,m)=>hn(f,m),h),h.unstable_sxConfig={..._c,...l?.unstable_sxConfig},h.unstable_sx=function(m){return na({sx:m,theme:this})},h}function qT(n){return Object.keys(n).length===0}function cd(n=null){const e=K.useContext(Ic);return!e||qT(e)?n:e}const BT=ld();function ud(n=BT){return cd(n)}function Hf(n){const e=Zr(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function HC({styles:n,themeId:e,defaultTheme:t={}}){const i=ud(t),a=e&&i[e]||i;let o=typeof n=="function"?n(a):n;return a.modularCssLayers&&(Array.isArray(o)?o=o.map(l=>Hf(typeof l=="function"?l(a):l)):o=Hf(o)),re.jsx(NC,{styles:o})}const GT=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??_c;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function Rg(n){const{sx:e,...t}=n,{systemProps:i,otherProps:a}=GT(t);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return Ui(c)?{...i,...c}:i}:o={...i,...e},{...a,sx:o}}const Py=n=>n,VT=()=>{let n=Py;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Py}}},jC=VT();function YC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=YC(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ze(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=YC(n))&&(i&&(i+=" "),i+=e);return i}function zT(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:a}=n,o=qC("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(na);return K.forwardRef(function(d,h){const f=ud(t),{className:m,component:v="div",...p}=Rg(d);return re.jsx(o,{as:v,ref:h,className:ze(m,a?a(i):i),theme:e&&f[e]||f,...p})})}const QT={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function et(n,e,t="Mui"){const i=QT[e];return i?`${t}-${i}`:`${jC.generate(n)}-${e}`}function tt(n,e,t="Mui"){const i={};return e.forEach(a=>{i[a]=et(n,a,t)}),i}function XC(n){const{variants:e,...t}=n,i={variants:e,style:Zr(t),isProcessed:!0};return i.style===t||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=Zr(a.style))}),i}const HT=ld();function jf(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Ua(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function jT(n){return n?(e,t)=>t[n]:null}function YT(n,e,t){n.theme=WT(n.theme)?t:n.theme[e]||n.theme}function P0(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(a=>P0(n,a,t));if(Array.isArray(i?.variants)){let a;if(i.isProcessed)a=t?Ua(i.style,t):i.style;else{const{variants:o,...l}=i;a=t?Ua(Zr(l),t):l}return WC(n,i.variants,[a],t)}return i?.isProcessed?t?Ua(Zr(i.style),t):i.style:t?Ua(Zr(i),t):i}function WC(n,e,t=[],i=void 0){let a;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(a??={...n,...n.ownerState,ownerState:n.ownerState},!l.props(a))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&n.ownerState?.[c]!==l.props[c])continue e;typeof l.style=="function"?(a??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?Ua(Zr(l.style(a)),i):l.style(a))):t.push(i?Ua(Zr(l.style),i):l.style)}return t}function $C(n={}){const{themeId:e,defaultTheme:t=HT,rootShouldForwardProp:i=jf,slotShouldForwardProp:a=jf}=n;function o(c){YT(c,e,t)}return(c,d={})=>{G8(c,I=>I.filter(k=>k!==na));const{name:h,slot:f,skipVariantsResolver:m,skipSx:v,overridesResolver:p=jT(KT(f)),...S}=d,y=h&&h.startsWith("Mui")||f?"components":"custom",C=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,w=v||!1;let D=jf;f==="Root"||f==="root"?D=i:f?D=a:$T(c)&&(D=void 0);const b=qC(c,{shouldForwardProp:D,label:XT(),...S}),x=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(E){return P0(E,I,E.theme.modularCssLayers?y:void 0)};if(Ui(I)){const k=XC(I);return function(_){return k.variants?P0(_,k,_.theme.modularCssLayers?y:void 0):_.theme.modularCssLayers?Ua(k.style,y):k.style}}return I},A=(...I)=>{const k=[],E=I.map(x),_=[];if(k.push(o),h&&p&&_.push(function(L){const M=L.theme.components?.[h]?.styleOverrides;if(!M)return null;const F={};for(const B in M)F[B]=P0(L,M[B],L.theme.modularCssLayers?"theme":void 0);return p(L,F)}),h&&!C&&_.push(function(L){const M=L.theme?.components?.[h]?.variants;return M?WC(L,M,[],L.theme.modularCssLayers?"theme":void 0):null}),w||_.push(na),Array.isArray(E[0])){const U=E.shift(),L=new Array(k.length).fill(""),P=new Array(_.length).fill("");let M;M=[...L,...U,...P],M.raw=[...L,...U.raw,...P],k.unshift(M)}const R=[...k,...E,..._],N=b(...R);return c.muiName&&(N.muiName=c.muiName),N};return b.withConfig&&(A.withConfig=b.withConfig),A}}function XT(n,e){return void 0}function WT(n){for(const e in n)return!1;return!0}function $T(n){return typeof n=="string"&&n.charCodeAt(0)>96}function KT(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const ZT=$C();function wc(n,e,t=!1){const i={...e};for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const o=a;if(o==="components"||o==="slots")i[o]={...n[o],...i[o]};else if(o==="componentsProps"||o==="slotProps"){const l=n[o],c=e[o];if(!c)i[o]=l||{};else if(!l)i[o]=c;else{i[o]={...c};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const h=d;i[o][h]=wc(l[h],c[h],t)}}}else o==="className"&&t&&e.className?i.className=ze(n?.className,e?.className):o==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[o]===void 0&&(i[o]=n[o])}return i}function KC(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:wc(e.components[t].defaultProps,i)}function JT({props:n,name:e,defaultTheme:t,themeId:i}){let a=ud(t);return i&&(a=a[i]||a),KC({theme:a,name:e,props:n})}const Ti=typeof window<"u"?K.useLayoutEffect:K.useEffect;function ew(n,e,t,i,a){const[o,l]=K.useState(()=>a&&t?t(n).matches:i?i(n).matches:e);return Ti(()=>{if(!t)return;const c=t(n),d=()=>{l(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[n,t]),o}const tw={...k0},ZC=tw.useSyncExternalStore;function nw(n,e,t,i,a){const o=K.useCallback(()=>e,[e]),l=K.useMemo(()=>{if(a&&t)return()=>t(n).matches;if(i!==null){const{matches:f}=i(n);return()=>f}return o},[o,n,i,a,t]),[c,d]=K.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const f=t(n);return[()=>f.matches,m=>(f.addEventListener("change",m),()=>{f.removeEventListener("change",m)})]},[o,t,n]);return ZC(d,c,l)}function JC(n={}){const{themeId:e}=n;return function(i,a={}){let o=cd();o&&e&&(o=o[e]||o);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=l?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=KC({name:"MuiUseMediaQuery",props:a,theme:o});let m=typeof i=="function"?i(o):i;return m=m.replace(/^@media( ?)/m,""),m.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(ZC!==void 0?nw:ew)(m,c,d,h,f)}}JC();function Yo(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Og(n,e=0,t=1){return Yo(n,e,t)}function iw(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,a)=>a<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function ia(n){if(n.type)return n;if(n.charAt(0)==="#")return ia(iw(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Sr(9,n));let i=n.substring(e+1,n.length-1),a;if(t==="color"){if(i=i.split(" "),a=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Sr(10,a))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:t,values:i,colorSpace:a}}const rw=n=>{const e=ia(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},oc=(n,e)=>{try{return rw(n)}catch{return n}};function dd(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function e4(n){n=ia(n);const{values:e}=n,t=e[0],i=e[1]/100,a=e[2]/100,o=i*Math.min(a,1-a),l=(h,f=(h+t/30)%12)=>a-o*Math.max(Math.min(f-3,9-f,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),dd({type:c,values:d})}function U1(n){n=ia(n);let e=n.type==="hsl"||n.type==="hsla"?ia(e4(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function aw(n,e){const t=U1(n),i=U1(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Yt(n,e){return n=ia(n),e=Og(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,dd(n)}function Xu(n,e,t){try{return Yt(n,e)}catch{return n}}function Xa(n,e){if(n=ia(n),e=Og(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return dd(n)}function Lt(n,e,t){try{return Xa(n,e)}catch{return n}}function Wa(n,e){if(n=ia(n),e=Og(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return dd(n)}function It(n,e,t){try{return Wa(n,e)}catch{return n}}function ow(n,e=.15){return U1(n)>.5?Xa(n,e):Wa(n,e)}function Wu(n,e,t){try{return ow(n,e)}catch{return n}}const t4=K.createContext(null);function Lg(){return K.useContext(t4)}const sw=typeof Symbol=="function"&&Symbol.for,lw=sw?Symbol.for("mui.nested"):"__THEME_NESTED__";function cw(n,e){return typeof e=="function"?e(n):{...n,...e}}function uw(n){const{children:e,theme:t}=n,i=Lg(),a=K.useMemo(()=>{const o=i===null?{...t}:cw(i,t);return o!=null&&(o[lw]=i!==null),o},[t,i]);return re.jsx(t4.Provider,{value:a,children:e})}const n4=K.createContext();function dw({value:n,...e}){return re.jsx(n4.Provider,{value:n??!0,...e})}const Ig=()=>K.useContext(n4)??!1,i4=K.createContext(void 0);function hw({value:n,children:e}){return re.jsx(i4.Provider,{value:n,children:e})}function fw(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const a=e.components[t];return a.defaultProps?wc(a.defaultProps,i,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?wc(a,i,e.components.mergeClassNameAndStyle):i}function gw({props:n,name:e}){const t=K.useContext(i4);return fw({props:n,name:e,theme:{components:t}})}let Ry=0;function pw(n){const[e,t]=K.useState(n),i=n||e;return K.useEffect(()=>{e==null&&(Ry+=1,t(`mui-${Ry}`))},[e]),i}const mw={...k0},Oy=mw.useId;function Mc(n){if(Oy!==void 0){const e=Oy();return n??e}return pw(n)}function Sw(n){const e=cd(),t=Mc()||"",{modularCssLayers:i}=n;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!i||e!==null?a="":typeof i=="string"?a=i.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,Ti(()=>{const o=document.querySelector("head");if(!o)return;const l=o.firstChild;if(a){if(l&&l.hasAttribute?.("data-mui-layer-order")&&l.getAttribute("data-mui-layer-order")===t)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",t),c.textContent=a,o.prepend(c)}else o.querySelector(`style[data-mui-layer-order="${t}"]`)?.remove()},[a,t]),a?re.jsx(HC,{styles:a}):null}const Ly={};function Iy(n,e,t,i=!1){return K.useMemo(()=>{const a=n&&e[n]||e;if(typeof t=="function"){const o=t(a),l=n?{...e,[n]:o}:o;return i?()=>l:l}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function r4(n){const{children:e,theme:t,themeId:i}=n,a=cd(Ly),o=Lg()||Ly,l=Iy(i,a,t),c=Iy(i,o,t,!0),d=(i?l[i]:l).direction==="rtl",h=Sw(l);return re.jsx(uw,{theme:c,children:re.jsx(Ic.Provider,{value:l,children:re.jsx(dw,{value:d,children:re.jsxs(hw,{value:i?l[i].components:l.components,children:[h,e]})})})})}const Ey={theme:void 0};function yw(n){let e,t;return function(a){let o=e;return(o===void 0||a.theme!==t)&&(Ey.theme=a.theme,o=XC(n(Ey)),e=o,t=a.theme),o}}const Eg="mode",_g="color-scheme",vw="data-color-scheme";function bw(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:a=Eg,colorSchemeStorageKey:o=_g,attribute:l=vw,colorSchemeNode:c="document.documentElement",nonce:d}=n||{};let h="",f=l;if(l==="class"&&(f=".%s"),l==="data"&&(f="[data-%s]"),f.startsWith(".")){const v=f.substring(1);h+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const m=f.match(/\[([^\]]+)\]/);if(m){const[v,p]=m[1].split("=");p||(h+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else h+=`${c}.setAttribute('${f}', colorScheme);`;return re.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${i}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Cw(){}const Dw=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return Cw;const i=a=>{const o=a.newValue;a.key===n&&t(o)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function Yf(){}function _y(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function a4(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function Tw(n){return a4(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function ww(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:a=[],modeStorageKey:o=Eg,colorSchemeStorageKey:l=_g,storageWindow:c=typeof window>"u"?void 0:window,storageManager:d=Dw,noSsr:h=!1}=n,f=a.join(","),m=a.length>1,v=K.useMemo(()=>d?.({key:o,storageWindow:c}),[d,o,c]),p=K.useMemo(()=>d?.({key:`${l}-light`,storageWindow:c}),[d,l,c]),S=K.useMemo(()=>d?.({key:`${l}-dark`,storageWindow:c}),[d,l,c]),[y,C]=K.useState(()=>{const E=v?.get(e)||e,_=p?.get(t)||t,R=S?.get(i)||i;return{mode:E,systemMode:_y(E),lightColorScheme:_,darkColorScheme:R}}),[w,D]=K.useState(h||!m);K.useEffect(()=>{D(!0)},[]);const b=Tw(y),x=K.useCallback(E=>{C(_=>{if(E===_.mode)return _;const R=E??e;return v?.set(R),{..._,mode:R,systemMode:_y(R)}})},[v,e]),A=K.useCallback(E=>{E?typeof E=="string"?E&&!f.includes(E)?console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`):C(_=>{const R={..._};return a4(_,N=>{N==="light"&&(p?.set(E),R.lightColorScheme=E),N==="dark"&&(S?.set(E),R.darkColorScheme=E)}),R}):C(_=>{const R={..._},N=E.light===null?t:E.light,U=E.dark===null?i:E.dark;return N&&(f.includes(N)?(R.lightColorScheme=N,p?.set(N)):console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`)),U&&(f.includes(U)?(R.darkColorScheme=U,S?.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),R}):C(_=>(p?.set(t),S?.set(i),{..._,lightColorScheme:t,darkColorScheme:i}))},[f,p,S,t,i]),I=K.useCallback(E=>{y.mode==="system"&&C(_=>{const R=E?.matches?"dark":"light";return _.systemMode===R?_:{..._,systemMode:R}})},[y.mode]),k=K.useRef(I);return k.current=I,K.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const E=(...R)=>k.current(...R),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(E),E(_),()=>{_.removeListener(E)}},[m]),K.useEffect(()=>{if(m){const E=v?.subscribe(N=>{(!N||["light","dark","system"].includes(N))&&x(N||e)})||Yf,_=p?.subscribe(N=>{(!N||f.match(N))&&A({light:N})})||Yf,R=S?.subscribe(N=>{(!N||f.match(N))&&A({dark:N})})||Yf;return()=>{E(),_(),R()}}},[A,x,f,e,c,m,v,p,S]),{...y,mode:w?y.mode:void 0,systemMode:w?y.systemMode:void 0,colorScheme:w?b:void 0,setMode:x,setColorScheme:A}}const xw="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Aw(n){const{themeId:e,theme:t={},modeStorageKey:i=Eg,colorSchemeStorageKey:a=_g,disableTransitionOnChange:o=!1,defaultColorScheme:l,resolveTheme:c}=n,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=K.createContext(void 0),f=()=>K.useContext(h)||d,m={},v={};function p(w){const{children:D,theme:b,modeStorageKey:x=i,colorSchemeStorageKey:A=a,disableTransitionOnChange:I=o,storageManager:k,storageWindow:E=typeof window>"u"?void 0:window,documentNode:_=typeof document>"u"?void 0:document,colorSchemeNode:R=typeof document>"u"?void 0:document.documentElement,disableNestedContext:N=!1,disableStyleSheetGeneration:U=!1,defaultMode:L="system",forceThemeRerender:P=!1,noSsr:M}=w,F=K.useRef(!1),B=Lg(),H=K.useContext(h),Q=!!H&&!N,G=K.useMemo(()=>b||(typeof t=="function"?t():t),[b]),z=G[e],j=z||G,{colorSchemes:$=m,components:ee=v,cssVarPrefix:J}=j,se=Object.keys($).filter(pe=>!!$[pe]).join(","),Z=K.useMemo(()=>se.split(","),[se]),te=typeof l=="string"?l:l.light,ce=typeof l=="string"?l:l.dark,de=$[te]&&$[ce]?L:$[j.defaultColorScheme]?.palette?.mode||j.palette?.mode,{mode:be,setMode:Te,systemMode:Me,lightColorScheme:q,darkColorScheme:le,colorScheme:he,setColorScheme:W}=ww({supportedColorSchemes:Z,defaultLightColorScheme:te,defaultDarkColorScheme:ce,modeStorageKey:x,colorSchemeStorageKey:A,defaultMode:de,storageManager:k,storageWindow:E,noSsr:M});let X=be,ae=he;Q&&(X=H.mode,ae=H.colorScheme);let ve=ae||j.defaultColorScheme;j.vars&&!P&&(ve=j.defaultColorScheme);const Ce=K.useMemo(()=>{const pe=j.generateThemeVars?.()||j.vars,Oe={...j,components:ee,colorSchemes:$,cssVarPrefix:J,vars:pe};if(typeof Oe.generateSpacing=="function"&&(Oe.spacing=Oe.generateSpacing()),ve){const Ie=$[ve];Ie&&typeof Ie=="object"&&Object.keys(Ie).forEach(Fe=>{Ie[Fe]&&typeof Ie[Fe]=="object"?Oe[Fe]={...Oe[Fe],...Ie[Fe]}:Oe[Fe]=Ie[Fe]})}return c?c(Oe):Oe},[j,ve,ee,$,J]),ne=j.colorSchemeSelector;Ti(()=>{if(ae&&R&&ne&&ne!=="media"){const pe=ne;let Oe=ne;if(pe==="class"&&(Oe=".%s"),pe==="data"&&(Oe="[data-%s]"),pe?.startsWith("data-")&&!pe.includes("%s")&&(Oe=`[${pe}="%s"]`),Oe.startsWith("."))R.classList.remove(...Z.map(Ie=>Oe.substring(1).replace("%s",Ie))),R.classList.add(Oe.substring(1).replace("%s",ae));else{const Ie=Oe.replace("%s",ae).match(/\[([^\]]+)\]/);if(Ie){const[Fe,qe]=Ie[1].split("=");qe||Z.forEach(Ve=>{R.removeAttribute(Fe.replace(ae,Ve))}),R.setAttribute(Fe,qe?qe.replace(/"|'/g,""):"")}else R.setAttribute(Oe,ae)}}},[ae,ne,R,Z]),K.useEffect(()=>{let pe;if(I&&F.current&&_){const Oe=_.createElement("style");Oe.appendChild(_.createTextNode(xw)),_.head.appendChild(Oe),window.getComputedStyle(_.body),pe=setTimeout(()=>{_.head.removeChild(Oe)},1)}return()=>{clearTimeout(pe)}},[ae,I,_]),K.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const Pe=K.useMemo(()=>({allColorSchemes:Z,colorScheme:ae,darkColorScheme:le,lightColorScheme:q,mode:X,setColorScheme:W,setMode:Te,systemMode:Me}),[Z,ae,le,q,X,W,Te,Me,Ce.colorSchemeSelector]);let Ee=!0;(U||j.cssVariables===!1||Q&&B?.cssVarPrefix===J)&&(Ee=!1);const fe=re.jsxs(K.Fragment,{children:[re.jsx(r4,{themeId:z?e:void 0,theme:Ce,children:D}),Ee&&re.jsx(NC,{styles:Ce.generateStyleSheets?.()||[]})]});return Q?fe:re.jsx(h.Provider,{value:Pe,children:fe})}const S=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:p,useColorScheme:f,getInitColorSchemeScript:w=>bw({colorSchemeStorageKey:a,defaultLightColorScheme:S,defaultDarkColorScheme:y,modeStorageKey:i,...w})}}function Pw(n=""){function e(...i){if(!i.length)return"";const a=i[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...i.slice(1))})`:`, ${a}`}return(i,...a)=>`var(--${n?`${n}-`:""}${i}${e(...a)})`}const My=(n,e,t,i=[])=>{let a=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(a)?a[Number(o)]=t:a&&typeof a=="object"&&(a[o]=t):a&&typeof a=="object"&&(a[o]||(a[o]=i.includes(o)?[]:{}),a=a[o])})},Rw=(n,e,t)=>{function i(a,o=[],l=[]){Object.entries(a).forEach(([c,d])=>{(!t||t&&!t([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?i(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}i(n)},Ow=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Xf(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},a={},o={},l={};return Rw(n,(c,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!i||!i(c,d))){const f=`--${t?`${t}-`:""}${c.join("-")}`,m=Ow(c,d);Object.assign(a,{[f]:m}),My(o,c,`var(${f})`,h),My(l,c,`var(${f}, ${m})`,h)}},c=>c[0]==="vars"),{css:a,vars:o,varsWithDefaults:l}}function Lw(n,e={}){const{getSelector:t=C,disableCssColorScheme:i,colorSchemeSelector:a}=e,{colorSchemes:o={},components:l,defaultColorScheme:c="light",...d}=n,{vars:h,css:f,varsWithDefaults:m}=Xf(d,e);let v=m;const p={},{[c]:S,...y}=o;if(Object.entries(y||{}).forEach(([b,x])=>{const{vars:A,css:I,varsWithDefaults:k}=Xf(x,e);v=hn(v,k),p[b]={css:I,vars:A}}),S){const{css:b,vars:x,varsWithDefaults:A}=Xf(S,e);v=hn(v,A),p[c]={css:b,vars:x}}function C(b,x){let A=a;if(a==="class"&&(A=".%s"),a==="data"&&(A="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(A=`[${a}="%s"]`),b){if(A==="media")return n.defaultColorScheme===b?":root":{[`@media (prefers-color-scheme: ${o[b]?.palette?.mode||b})`]:{":root":x}};if(A)return n.defaultColorScheme===b?`:root, ${A.replace("%s",String(b))}`:A.replace("%s",String(b))}return":root"}return{vars:v,generateThemeVars:()=>{let b={...h};return Object.entries(p).forEach(([,{vars:x}])=>{b=hn(b,x)}),b},generateStyleSheets:()=>{const b=[],x=n.defaultColorScheme||"light";function A(E,_){Object.keys(_).length&&b.push(typeof E=="string"?{[E]:{..._}}:E)}A(t(void 0,{...f}),f);const{[x]:I,...k}=p;if(I){const{css:E}=I,_=o[x]?.palette?.mode,R=!i&&_?{colorScheme:_,...E}:{...E};A(t(x,{...R}),R)}return Object.entries(k).forEach(([E,{css:_}])=>{const R=o[E]?.palette?.mode,N=!i&&R?{colorScheme:R,..._}:{..._};A(t(E,{...N}),N)}),b}}}function Iw(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function nt(n,e,t=void 0){const i={};for(const a in n){const o=n[a];let l="",c=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(l+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(l+=" "+t[h]))}i[a]=l}return i}function Wf(n,e){return K.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const Ew=ld(),_w=ZT("div",{name:"MuiStack",slot:"Root"});function Mw(n){return JT({props:n,name:"MuiStack",defaultTheme:Ew})}function Fw(n,e){const t=K.Children.toArray(n).filter(Boolean);return t.reduce((i,a,o)=>(i.push(a),o<t.length-1&&i.push(K.cloneElement(e,{key:`separator-${o}`})),i),[])}const kw=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Uw=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...Di({theme:e},Qf({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=nd(e),a=Object.keys(e.breakpoints.values).reduce((d,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(d[h]=!0),d),{}),o=Qf({values:n.direction,base:a}),l=Qf({values:n.spacing,base:a});typeof o=="object"&&Object.keys(o).forEach((d,h,f)=>{if(!o[d]){const v=h>0?o[f[h-1]]:"column";o[d]=v}}),t=hn(t,Di({theme:e},l,(d,h)=>n.useFlexGap?{gap:Ya(i,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${kw(h?o[h]:n.direction)}`]:Ya(i,d)}}))}return t=K8(e.breakpoints,t),t};function Nw(n={}){const{createStyledComponent:e=_w,useThemeProps:t=Mw,componentName:i="MuiStack"}=n,a=()=>nt({root:["root"]},d=>et(i,d),{}),o=e(Uw);return K.forwardRef(function(d,h){const f=t(d),m=Rg(f),{component:v="div",direction:p="column",spacing:S=0,divider:y,children:C,className:w,useFlexGap:D=!1,...b}=m,x={direction:p,spacing:S,useFlexGap:D},A=a();return re.jsx(o,{as:v,ownerState:x,ref:h,className:ze(A.root,w),...b,children:y?Fw(C,y):C})})}function o4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bc.white,default:bc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const qw=o4();function s4(){return{text:{primary:bc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Fy=s4();function ky(n,e,t,i){const a=i.light||i,o=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Wa(n.main,a):e==="dark"&&(n.dark=Xa(n.main,o)))}function Bw(n="light"){return n==="dark"?{main:Go[200],light:Go[50],dark:Go[400]}:{main:Go[700],light:Go[400],dark:Go[800]}}function Gw(n="light"){return n==="dark"?{main:Bo[200],light:Bo[50],dark:Bo[400]}:{main:Bo[500],light:Bo[300],dark:Bo[700]}}function Vw(n="light"){return n==="dark"?{main:qo[500],light:qo[300],dark:qo[700]}:{main:qo[700],light:qo[400],dark:qo[800]}}function zw(n="light"){return n==="dark"?{main:Vo[400],light:Vo[300],dark:Vo[700]}:{main:Vo[700],light:Vo[500],dark:Vo[900]}}function Qw(n="light"){return n==="dark"?{main:zo[400],light:zo[300],dark:zo[700]}:{main:zo[800],light:zo[500],dark:zo[900]}}function Hw(n="light"){return n==="dark"?{main:cl[400],light:cl[300],dark:cl[700]}:{main:"#ed6c02",light:cl[500],dark:cl[900]}}function Mg(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...a}=n,o=n.primary||Bw(e),l=n.secondary||Gw(e),c=n.error||Vw(e),d=n.info||zw(e),h=n.success||Qw(e),f=n.warning||Hw(e);function m(y){return aw(y,Fy.text.primary)>=t?Fy.text.primary:qw.text.primary}const v=({color:y,name:C,mainShade:w=500,lightShade:D=300,darkShade:b=700})=>{if(y={...y},!y.main&&y[w]&&(y.main=y[w]),!y.hasOwnProperty("main"))throw new Error(Sr(11,C?` (${C})`:"",w));if(typeof y.main!="string")throw new Error(Sr(12,C?` (${C})`:"",JSON.stringify(y.main)));return ky(y,"light",D,i),ky(y,"dark",b,i),y.contrastText||(y.contrastText=m(y.main)),y};let p;return e==="light"?p=o4():e==="dark"&&(p=s4()),hn({common:{...bc},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:c,name:"error"}),warning:v({color:f,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:h,name:"success"}),grey:VD,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:i,...p},a)}function jw(n){const e={};return Object.entries(n).forEach(i=>{const[a,o]=i;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function Yw(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function Xw(n){return Math.round(n*1e5)/1e5}const Uy={textTransform:"uppercase"},Ny='"Roboto", "Helvetica", "Arial", sans-serif';function l4(n,e){const{fontFamily:t=Ny,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:f,...m}=typeof e=="function"?e(n):e,v=i/14,p=f||(C=>`${C/d*v}rem`),S=(C,w,D,b,x)=>({fontFamily:t,fontWeight:C,fontSize:p(w),lineHeight:D,...t===Ny?{letterSpacing:`${Xw(b/w)}em`}:{},...x,...h}),y={h1:S(a,96,1.167,-1.5),h2:S(a,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,Uy),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,Uy),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hn({htmlFontSize:d,pxToRem:p,fontFamily:t,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...y},m,{clone:!1})}const Ww=.2,$w=.14,Kw=.12;function qt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Ww})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${$w})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Kw})`].join(",")}const Zw=["none",qt(0,2,1,-1,0,1,1,0,0,1,3,0),qt(0,3,1,-2,0,2,2,0,0,1,5,0),qt(0,3,3,-2,0,3,4,0,0,1,8,0),qt(0,2,4,-1,0,4,5,0,0,1,10,0),qt(0,3,5,-1,0,5,8,0,0,1,14,0),qt(0,3,5,-1,0,6,10,0,0,1,18,0),qt(0,4,5,-2,0,7,10,1,0,2,16,1),qt(0,5,5,-3,0,8,10,1,0,3,14,2),qt(0,5,6,-3,0,9,12,1,0,3,16,2),qt(0,6,6,-3,0,10,14,1,0,4,18,3),qt(0,6,7,-4,0,11,15,1,0,4,20,3),qt(0,7,8,-4,0,12,17,2,0,5,22,4),qt(0,7,8,-4,0,13,19,2,0,5,24,4),qt(0,7,9,-4,0,14,21,2,0,5,26,4),qt(0,8,9,-5,0,15,22,2,0,6,28,5),qt(0,8,10,-5,0,16,24,2,0,6,30,5),qt(0,8,11,-5,0,17,26,2,0,6,32,5),qt(0,9,11,-5,0,18,28,2,0,7,34,6),qt(0,9,12,-6,0,19,29,2,0,7,36,6),qt(0,10,13,-6,0,20,31,3,0,8,38,7),qt(0,10,13,-6,0,21,33,3,0,8,40,7),qt(0,10,14,-6,0,22,35,3,0,8,42,7),qt(0,11,14,-7,0,23,36,3,0,9,44,8),qt(0,11,15,-7,0,24,38,3,0,9,46,8)],Jw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ex={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qy(n){return`${Math.round(n)}ms`}function tx(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function nx(n){const e={...Jw,...n.easing},t={...ex,...n.duration};return{getAutoHeightDuration:tx,create:(a=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(a)?a:[a]).map(f=>`${f} ${typeof l=="string"?l:qy(l)} ${c} ${typeof d=="string"?d:qy(d)}`).join(",")},...n,easing:e,duration:t}}const ix={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function rx(n){return Ui(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function c4(n={}){const e={...n};function t(i){const a=Object.entries(i);for(let o=0;o<a.length;o++){const[l,c]=a[o];!rx(c)||l.startsWith("unstable_")?delete i[l]:Ui(c)&&(i[l]={...c},t(i[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function N1(n={},...e){const{breakpoints:t,mixins:i={},spacing:a,palette:o={},transitions:l={},typography:c={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Sr(20));const f=Mg(o),m=ld(n);let v=hn(m,{mixins:Yw(m.breakpoints,i),palette:f,shadows:Zw.slice(),typography:l4(f,c),transitions:nx(l),zIndex:{...ix}});return v=hn(v,h),v=e.reduce((p,S)=>hn(p,S),v),v.unstable_sxConfig={..._c,...h?.unstable_sxConfig},v.unstable_sx=function(S){return na({sx:S,theme:this})},v.toRuntimeSource=c4,v}function q1(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const ax=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=q1(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function u4(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function d4(n){return n==="dark"?ax:[]}function ox(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...a}=n,o=Mg(e);return{palette:o,opacity:{...u4(o.mode),...t},overlays:i||d4(o.mode),...a}}function sx(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const lx=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],cx=n=>(e,t)=>{const i=n.rootSelector||":root",a=n.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return lx(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:l}}:o?{[o.replace("%s",e)]:l,[`${i}, ${o.replace("%s",e)}`]:t}:{[i]:{...t,...l}}}if(o&&o!=="media")return`${i}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(o)return o.replace("%s",String(e))}return i};function ux(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function we(n,e,t){!n[e]&&t&&(n[e]=t)}function sc(n){return typeof n!="string"||!n.startsWith("hsl")?n:e4(n)}function ir(n,e){`${e}Channel`in n||(n[`${e}Channel`]=oc(sc(n[e])))}function dx(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ii=n=>{try{return n()}catch{}},hx=(n="mui")=>Pw(n);function $f(n,e,t,i){if(!e)return;e=e===!0?{}:e;const a=i==="dark"?"dark":"light";if(!t){n[i]=ox({...e,palette:{mode:a,...e?.palette}});return}const{palette:o,...l}=N1({...t,palette:{mode:a,...e?.palette}});return n[i]={...e,palette:o,opacity:{...u4(a),...e?.opacity},overlays:e?.overlays||d4(a)},l}function fx(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=sx,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,f=Object.keys(t)[0],m=i||(t.light&&f!=="light"?"light":f),v=hx(o),{[m]:p,light:S,dark:y,...C}=t,w={...C};let D=p;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(D=!0),!D)throw new Error(Sr(21,m));const b=$f(w,D,h,m);S&&!w.light&&$f(w,S,void 0,"light"),y&&!w.dark&&$f(w,y,void 0,"dark");let x={defaultColorScheme:m,...b,cssVarPrefix:o,colorSchemeSelector:c,rootSelector:d,getCssVar:v,colorSchemes:w,font:{...jw(b.typography),...b.font},spacing:dx(h.spacing)};Object.keys(x.colorSchemes).forEach(_=>{const R=x.colorSchemes[_].palette,N=U=>{const L=U.split("-"),P=L[1],M=L[2];return v(U,R[P][M])};if(R.mode==="light"&&(we(R.common,"background","#fff"),we(R.common,"onBackground","#000")),R.mode==="dark"&&(we(R.common,"background","#000"),we(R.common,"onBackground","#fff")),ux(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){we(R.Alert,"errorColor",Lt(R.error.light,.6)),we(R.Alert,"infoColor",Lt(R.info.light,.6)),we(R.Alert,"successColor",Lt(R.success.light,.6)),we(R.Alert,"warningColor",Lt(R.warning.light,.6)),we(R.Alert,"errorFilledBg",N("palette-error-main")),we(R.Alert,"infoFilledBg",N("palette-info-main")),we(R.Alert,"successFilledBg",N("palette-success-main")),we(R.Alert,"warningFilledBg",N("palette-warning-main")),we(R.Alert,"errorFilledColor",Ii(()=>R.getContrastText(R.error.main))),we(R.Alert,"infoFilledColor",Ii(()=>R.getContrastText(R.info.main))),we(R.Alert,"successFilledColor",Ii(()=>R.getContrastText(R.success.main))),we(R.Alert,"warningFilledColor",Ii(()=>R.getContrastText(R.warning.main))),we(R.Alert,"errorStandardBg",It(R.error.light,.9)),we(R.Alert,"infoStandardBg",It(R.info.light,.9)),we(R.Alert,"successStandardBg",It(R.success.light,.9)),we(R.Alert,"warningStandardBg",It(R.warning.light,.9)),we(R.Alert,"errorIconColor",N("palette-error-main")),we(R.Alert,"infoIconColor",N("palette-info-main")),we(R.Alert,"successIconColor",N("palette-success-main")),we(R.Alert,"warningIconColor",N("palette-warning-main")),we(R.AppBar,"defaultBg",N("palette-grey-100")),we(R.Avatar,"defaultBg",N("palette-grey-400")),we(R.Button,"inheritContainedBg",N("palette-grey-300")),we(R.Button,"inheritContainedHoverBg",N("palette-grey-A100")),we(R.Chip,"defaultBorder",N("palette-grey-400")),we(R.Chip,"defaultAvatarColor",N("palette-grey-700")),we(R.Chip,"defaultIconColor",N("palette-grey-700")),we(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),we(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),we(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),we(R.LinearProgress,"primaryBg",It(R.primary.main,.62)),we(R.LinearProgress,"secondaryBg",It(R.secondary.main,.62)),we(R.LinearProgress,"errorBg",It(R.error.main,.62)),we(R.LinearProgress,"infoBg",It(R.info.main,.62)),we(R.LinearProgress,"successBg",It(R.success.main,.62)),we(R.LinearProgress,"warningBg",It(R.warning.main,.62)),we(R.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),we(R.Slider,"primaryTrack",It(R.primary.main,.62)),we(R.Slider,"secondaryTrack",It(R.secondary.main,.62)),we(R.Slider,"errorTrack",It(R.error.main,.62)),we(R.Slider,"infoTrack",It(R.info.main,.62)),we(R.Slider,"successTrack",It(R.success.main,.62)),we(R.Slider,"warningTrack",It(R.warning.main,.62));const U=Wu(R.background.default,.8);we(R.SnackbarContent,"bg",U),we(R.SnackbarContent,"color",Ii(()=>R.getContrastText(U))),we(R.SpeedDialAction,"fabHoverBg",Wu(R.background.paper,.15)),we(R.StepConnector,"border",N("palette-grey-400")),we(R.StepContent,"border",N("palette-grey-400")),we(R.Switch,"defaultColor",N("palette-common-white")),we(R.Switch,"defaultDisabledColor",N("palette-grey-100")),we(R.Switch,"primaryDisabledColor",It(R.primary.main,.62)),we(R.Switch,"secondaryDisabledColor",It(R.secondary.main,.62)),we(R.Switch,"errorDisabledColor",It(R.error.main,.62)),we(R.Switch,"infoDisabledColor",It(R.info.main,.62)),we(R.Switch,"successDisabledColor",It(R.success.main,.62)),we(R.Switch,"warningDisabledColor",It(R.warning.main,.62)),we(R.TableCell,"border",It(Xu(R.divider,1),.88)),we(R.Tooltip,"bg",Xu(R.grey[700],.92))}if(R.mode==="dark"){we(R.Alert,"errorColor",It(R.error.light,.6)),we(R.Alert,"infoColor",It(R.info.light,.6)),we(R.Alert,"successColor",It(R.success.light,.6)),we(R.Alert,"warningColor",It(R.warning.light,.6)),we(R.Alert,"errorFilledBg",N("palette-error-dark")),we(R.Alert,"infoFilledBg",N("palette-info-dark")),we(R.Alert,"successFilledBg",N("palette-success-dark")),we(R.Alert,"warningFilledBg",N("palette-warning-dark")),we(R.Alert,"errorFilledColor",Ii(()=>R.getContrastText(R.error.dark))),we(R.Alert,"infoFilledColor",Ii(()=>R.getContrastText(R.info.dark))),we(R.Alert,"successFilledColor",Ii(()=>R.getContrastText(R.success.dark))),we(R.Alert,"warningFilledColor",Ii(()=>R.getContrastText(R.warning.dark))),we(R.Alert,"errorStandardBg",Lt(R.error.light,.9)),we(R.Alert,"infoStandardBg",Lt(R.info.light,.9)),we(R.Alert,"successStandardBg",Lt(R.success.light,.9)),we(R.Alert,"warningStandardBg",Lt(R.warning.light,.9)),we(R.Alert,"errorIconColor",N("palette-error-main")),we(R.Alert,"infoIconColor",N("palette-info-main")),we(R.Alert,"successIconColor",N("palette-success-main")),we(R.Alert,"warningIconColor",N("palette-warning-main")),we(R.AppBar,"defaultBg",N("palette-grey-900")),we(R.AppBar,"darkBg",N("palette-background-paper")),we(R.AppBar,"darkColor",N("palette-text-primary")),we(R.Avatar,"defaultBg",N("palette-grey-600")),we(R.Button,"inheritContainedBg",N("palette-grey-800")),we(R.Button,"inheritContainedHoverBg",N("palette-grey-700")),we(R.Chip,"defaultBorder",N("palette-grey-700")),we(R.Chip,"defaultAvatarColor",N("palette-grey-300")),we(R.Chip,"defaultIconColor",N("palette-grey-300")),we(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),we(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),we(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),we(R.LinearProgress,"primaryBg",Lt(R.primary.main,.5)),we(R.LinearProgress,"secondaryBg",Lt(R.secondary.main,.5)),we(R.LinearProgress,"errorBg",Lt(R.error.main,.5)),we(R.LinearProgress,"infoBg",Lt(R.info.main,.5)),we(R.LinearProgress,"successBg",Lt(R.success.main,.5)),we(R.LinearProgress,"warningBg",Lt(R.warning.main,.5)),we(R.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),we(R.Slider,"primaryTrack",Lt(R.primary.main,.5)),we(R.Slider,"secondaryTrack",Lt(R.secondary.main,.5)),we(R.Slider,"errorTrack",Lt(R.error.main,.5)),we(R.Slider,"infoTrack",Lt(R.info.main,.5)),we(R.Slider,"successTrack",Lt(R.success.main,.5)),we(R.Slider,"warningTrack",Lt(R.warning.main,.5));const U=Wu(R.background.default,.98);we(R.SnackbarContent,"bg",U),we(R.SnackbarContent,"color",Ii(()=>R.getContrastText(U))),we(R.SpeedDialAction,"fabHoverBg",Wu(R.background.paper,.15)),we(R.StepConnector,"border",N("palette-grey-600")),we(R.StepContent,"border",N("palette-grey-600")),we(R.Switch,"defaultColor",N("palette-grey-300")),we(R.Switch,"defaultDisabledColor",N("palette-grey-600")),we(R.Switch,"primaryDisabledColor",Lt(R.primary.main,.55)),we(R.Switch,"secondaryDisabledColor",Lt(R.secondary.main,.55)),we(R.Switch,"errorDisabledColor",Lt(R.error.main,.55)),we(R.Switch,"infoDisabledColor",Lt(R.info.main,.55)),we(R.Switch,"successDisabledColor",Lt(R.success.main,.55)),we(R.Switch,"warningDisabledColor",Lt(R.warning.main,.55)),we(R.TableCell,"border",Lt(Xu(R.divider,1),.68)),we(R.Tooltip,"bg",Xu(R.grey[700],.92))}ir(R.background,"default"),ir(R.background,"paper"),ir(R.common,"background"),ir(R.common,"onBackground"),ir(R,"divider"),Object.keys(R).forEach(U=>{const L=R[U];U!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&we(R[U],"mainChannel",oc(sc(L.main))),L.light&&we(R[U],"lightChannel",oc(sc(L.light))),L.dark&&we(R[U],"darkChannel",oc(sc(L.dark))),L.contrastText&&we(R[U],"contrastTextChannel",oc(sc(L.contrastText))),U==="text"&&(ir(R[U],"primary"),ir(R[U],"secondary")),U==="action"&&(L.active&&ir(R[U],"active"),L.selected&&ir(R[U],"selected")))})}),x=e.reduce((_,R)=>hn(_,R),x);const A={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:cx(x)},{vars:I,generateThemeVars:k,generateStyleSheets:E}=Lw(x,A);return x.vars=I,Object.entries(x.colorSchemes[x.defaultColorScheme]).forEach(([_,R])=>{x[_]=R}),x.generateThemeVars=k,x.generateStyleSheets=E,x.generateSpacing=function(){return QC(h.spacing,nd(this))},x.getColorSchemeSelector=Iw(c),x.spacing=x.generateSpacing(),x.shouldSkipGeneratingVar=l,x.unstable_sxConfig={..._c,...h?.unstable_sxConfig},x.unstable_sx=function(R){return na({sx:R,theme:this})},x.toRuntimeSource=c4,x}function By(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:Mg({...t===!0?{}:t.palette,mode:e})})}function hd(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...l}=n,c=o||"light",d=a?.[c],h={...a,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return N1(n,...e);let f=t;"palette"in n||h[c]&&(h[c]!==!0?f=h[c].palette:c==="dark"&&(f={mode:"dark"}));const m=N1({...n,palette:f},...e);return m.defaultColorScheme=c,m.colorSchemes=h,m.palette.mode==="light"&&(m.colorSchemes.light={...h.light!==!0&&h.light,palette:m.palette},By(m,"dark",h.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:m.palette},By(m,"light",h.light)),m}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),fx({...l,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const Fg=hd();function us(){const n=ud(Fg);return n[Ci]||n}function fd(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Gi=n=>fd(n)&&n!=="classes",ke=$C({themeId:Ci,defaultTheme:Fg,rootShouldForwardProp:Gi});function gx({theme:n,...e}){const t=Ci in n?n[Ci]:void 0;return re.jsx(r4,{...e,themeId:t?Ci:void 0,theme:t||n})}const $u={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:px}=Aw({themeId:Ci,theme:()=>hd({cssVariables:!0}),colorSchemeStorageKey:$u.colorSchemeStorageKey,modeStorageKey:$u.modeStorageKey,defaultColorScheme:{light:$u.defaultLightColorScheme,dark:$u.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:l4(n.palette,n.typography)};return e.unstable_sx=function(i){return na({sx:i,theme:this})},e}}),mx=px;function Sx({theme:n,...e}){const t=K.useMemo(()=>{if(typeof n=="function")return n;const i=Ci in n?n[Ci]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return t?re.jsx(gx,{theme:t,...e}):re.jsx(mx,{theme:n,...e})}function Gy(...n){return n.reduce((e,t)=>t==null?e:function(...a){e.apply(this,a),t.apply(this,a)},()=>{})}function yx(n){return re.jsx(HC,{...n,defaultTheme:Fg,themeId:Ci})}function kg(n){return function(t){return re.jsx(yx,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function vx(){return Rg}const Ke=yw;function it(n){return gw(n)}function bx(n){return et("MuiSvgIcon",n)}tt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Cx=n=>{const{color:e,fontSize:t,classes:i}=n,a={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(t)}`]};return nt(a,bx,i)},Dx=ke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ue(t.color)}`],e[`fontSize${Ue(t.fontSize)}`]]}})(Ke(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),B1=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:m,viewBox:v="0 0 24 24",...p}=i,S=K.isValidElement(a)&&a.type==="svg",y={...i,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:v,hasSvgAsChild:S},C={};f||(C.viewBox=v);const w=Cx(y);return re.jsxs(Dx,{as:c,className:ze(w.root,o),focusable:"false",color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,...C,...p,...S&&a.props,ownerState:y,children:[S?a.props.children:a,m?re.jsx("title",{children:m}):null]})});B1.muiName="SvgIcon";function vr(n,e){function t(i,a){return re.jsx(B1,{"data-testid":void 0,ref:a,...i,children:n})}return t.muiName=B1.muiName,K.memo(K.forwardRef(t))}function Ug(n,e=166){let t;function i(...a){const o=()=>{n.apply(this,a)};clearTimeout(t),t=setTimeout(o,e)}return i.clear=()=>{clearTimeout(t)},i}function Pn(n){return n&&n.ownerDocument||document}function wi(n){return Pn(n).defaultView||window}function Vy(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function G1(n){const{controlled:e,default:t,name:i,state:a="value"}=n,{current:o}=K.useRef(e!==void 0),[l,c]=K.useState(t),d=o?e:l,h=K.useCallback(f=>{o||c(f)},[]);return[d,h]}function Bi(n){const e=K.useRef(n);return Ti(()=>{e.current=n}),K.useRef((...t)=>(0,e.current)(...t)).current}function xn(...n){const e=K.useRef(void 0),t=K.useCallback(i=>{const a=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,c=l(i);return typeof c=="function"?c:()=>{l(null)}}return o.current=i,()=>{o.current=null}});return()=>{a.forEach(o=>o?.())}},n);return K.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function Tx(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function wx(n,e){if(!n)return e;function t(l,c){const d={};return Object.keys(c).forEach(h=>{Tx(h,c[h])&&typeof l[h]=="function"&&(d[h]=(...f)=>{l[h](...f),c[h](...f)})}),d}if(typeof n=="function"||typeof e=="function")return l=>{const c=typeof e=="function"?e(l):e,d=typeof n=="function"?n({...l,...c}):n,h=ze(l?.className,c?.className,d?.className),f=t(d,c);return{...c,...d,...f,...!!h&&{className:h},...c?.style&&d?.style&&{style:{...c.style,...d.style}},...c?.sx&&d?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const i=e,a=t(n,i),o=ze(i?.className,n?.className);return{...e,...n,...a,...!!o&&{className:o},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function h4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function V1(n,e){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},V1(n,e)}function f4(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,V1(n,e)}var g4=wC();const Ku=Rc(g4),zy={disabled:!1},B0=Nn.createContext(null);var xx=function(e){return e.scrollTop},lc="unmounted",_a="exited",Ma="entering",Xo="entered",z1="exiting",xi=function(n){f4(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var l=a,c=l&&!l.isMounting?i.enter:i.appear,d;return o.appearStatus=null,i.in?c?(d=_a,o.appearStatus=Ma):d=Xo:i.unmountOnExit||i.mountOnEnter?d=lc:d=_a,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var l=a.in;return l&&o.status===lc?{status:_a}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var o=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==Ma&&l!==Xo&&(o=Ma):(l===Ma||l===Xo)&&(o=z1)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,o,l,c;return o=l=c=a,a!=null&&typeof a!="number"&&(o=a.exit,l=a.enter,c=a.appear!==void 0?a.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===Ma){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this);l&&xx(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_a&&this.setState({status:lc})},t.performEnter=function(a){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:a,d=this.props.nodeRef?[c]:[Ku.findDOMNode(this),c],h=d[0],f=d[1],m=this.getTimeouts(),v=c?m.appear:m.enter;if(!a&&!l||zy.disabled){this.safeSetState({status:Xo},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Ma},function(){o.props.onEntering(h,f),o.onTransitionEnd(v,function(){o.safeSetState({status:Xo},function(){o.props.onEntered(h,f)})})})},t.performExit=function(){var a=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Ku.findDOMNode(this);if(!o||zy.disabled){this.safeSetState({status:_a},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:z1},function(){a.props.onExiting(c),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:_a},function(){a.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},t.setNextCallback=function(a){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,a(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(a,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Ku.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],f=d[1];this.props.addEndListener(h,f)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===lc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=h4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Nn.createElement(B0.Provider,{value:null},typeof l=="function"?l(a,c):Nn.cloneElement(Nn.Children.only(l),c))},e}(Nn.Component);xi.contextType=B0;xi.propTypes={};function Qo(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qo,onEntering:Qo,onEntered:Qo,onExit:Qo,onExiting:Qo,onExited:Qo};xi.UNMOUNTED=lc;xi.EXITED=_a;xi.ENTERING=Ma;xi.ENTERED=Xo;xi.EXITING=z1;function Ax(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ng(n,e){var t=function(o){return e&&K.isValidElement(o)?e(o):o},i=Object.create(null);return n&&K.Children.map(n,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function Px(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var i=Object.create(null),a=[];for(var o in n)o in e?a.length&&(i[o]=a,a=[]):a.push(o);var l,c={};for(var d in e){if(i[d])for(l=0;l<i[d].length;l++){var h=i[d][l];c[i[d][l]]=t(h)}c[d]=t(d)}for(l=0;l<a.length;l++)c[a[l]]=t(a[l]);return c}function Na(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Rx(n,e){return Ng(n.children,function(t){return K.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Na(t,"appear",n),enter:Na(t,"enter",n),exit:Na(t,"exit",n)})})}function Ox(n,e,t){var i=Ng(n.children),a=Px(e,i);return Object.keys(a).forEach(function(o){var l=a[o];if(K.isValidElement(l)){var c=o in e,d=o in i,h=e[o],f=K.isValidElement(h)&&!h.props.in;d&&(!c||f)?a[o]=K.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:Na(l,"exit",n),enter:Na(l,"enter",n)}):!d&&c&&!f?a[o]=K.cloneElement(l,{in:!1}):d&&c&&K.isValidElement(h)&&(a[o]=K.cloneElement(l,{onExited:t.bind(null,l),in:h.props.in,exit:Na(l,"exit",n),enter:Na(l,"enter",n)}))}}),a}var Lx=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Ix={component:"div",childFactory:function(e){return e}},qg=function(n){f4(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var l=o.handleExited.bind(Ax(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var l=o.children,c=o.handleExited,d=o.firstRender;return{children:d?Rx(a,c):Ox(a,l,c),firstRender:!1}},t.handleExited=function(a,o){var l=Ng(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(c){var d=U0({},c.children);return delete d[a.key],{children:d}}))},t.render=function(){var a=this.props,o=a.component,l=a.childFactory,c=h4(a,["component","childFactory"]),d=this.state.contextValue,h=Lx(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?Nn.createElement(B0.Provider,{value:d},h):Nn.createElement(B0.Provider,{value:d},Nn.createElement(o,c,h))},e}(Nn.Component);qg.propTypes={};qg.defaultProps=Ix;const Qy={};function p4(n,e){const t=K.useRef(Qy);return t.current===Qy&&(t.current=n(e)),t}const Ex=[];function _x(n){K.useEffect(n,Ex)}class Bg{static create(){return new Bg}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function m4(){const n=p4(Bg.create).current;return _x(n.disposeEffect),n}const Gg=n=>n.scrollTop;function ns(n,e){const{timeout:t,easing:i,style:a={}}=n;return{duration:a.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:a.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:a.transitionDelay}}function Mx(n){return et("MuiPaper",n)}tt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Fx=n=>{const{square:e,elevation:t,variant:i,classes:a}=n,o={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return nt(o,Mx,a)},kx=ke("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Ke(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Fc=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiPaper"}),a=us(),{className:o,component:l="div",elevation:c=1,square:d=!1,variant:h="elevation",...f}=i,m={...i,component:l,elevation:c,square:d,variant:h},v=Fx(m);return re.jsx(kx,{as:l,ownerState:m,className:ze(v.root,o),ref:t,...f,style:{...h==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[c],...a.vars&&{"--Paper-overlay":a.vars.overlays?.[c]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Yt("#fff",q1(c))}, ${Yt("#fff",q1(c))})`}},...f.style}})});function Ux(n){return typeof n=="string"}function S4(n,e,t){return n===void 0||Ux(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function y4(n,e,t){return typeof n=="function"?n(e,t):n}function fc(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function Hy(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function v4(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:a,className:o}=n;if(!e){const p=ze(t?.className,o,a?.className,i?.className),S={...t?.style,...a?.style,...i?.style},y={...t,...a,...i};return p.length>0&&(y.className=p),Object.keys(S).length>0&&(y.style=S),{props:y,internalRef:void 0}}const l=fc({...a,...i}),c=Hy(i),d=Hy(a),h=e(l),f=ze(h?.className,t?.className,o,a?.className,i?.className),m={...h?.style,...t?.style,...a?.style,...i?.style},v={...h,...t,...d,...c};return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:h.ref}}function Kt(n,e){const{className:t,elementType:i,ownerState:a,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...d}=e,{component:h,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...v}=o,p=f[n]||i,S=y4(m[n],a),{props:{component:y,...C},internalRef:w}=v4({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:S}),D=xn(w,S?.ref,e.ref),b=n==="root"?y||h:y,x=S4(p,{...n==="root"&&!h&&!f[n]&&l,...n!=="root"&&!f[n]&&l,...C,...b&&!c&&{as:b},...b&&c&&{component:b},ref:D},a);return[p,x]}function is(n){try{return n.matches(":focus-visible")}catch{}return!1}class G0{static create(){return new G0}static use(){const e=p4(G0.create).current,[t,i]=K.useState(!1);return e.shouldMount=t,e.setShouldMount=i,K.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=qx(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function Nx(){return G0.use()}function qx(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t}function Bx(n){const{className:e,classes:t,pulsate:i=!1,rippleX:a,rippleY:o,rippleSize:l,in:c,onExited:d,timeout:h}=n,[f,m]=K.useState(!1),v=ze(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),p={width:l,height:l,top:-(l/2)+o,left:-(l/2)+a},S=ze(t.child,f&&t.childLeaving,i&&t.childPulsate);return!c&&!f&&m(!0),K.useEffect(()=>{if(!c&&d!=null){const y=setTimeout(d,h);return()=>{clearTimeout(y)}}},[d,c,h]),re.jsx("span",{className:v,style:p,children:re.jsx("span",{className:S})})}const li=tt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Q1=550,Gx=80,Vx=aa`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,zx=aa`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Qx=aa`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Hx=ke("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),jx=ke(Bx,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${li.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Vx};
    animation-duration: ${Q1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${li.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${li.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${li.childLeaving} {
    opacity: 0;
    animation-name: ${zx};
    animation-duration: ${Q1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${li.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Qx};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Yx=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:l,...c}=i,[d,h]=K.useState([]),f=K.useRef(0),m=K.useRef(null);K.useEffect(()=>{m.current&&(m.current(),m.current=null)},[d]);const v=K.useRef(!1),p=m4(),S=K.useRef(null),y=K.useRef(null),C=K.useCallback(x=>{const{pulsate:A,rippleX:I,rippleY:k,rippleSize:E,cb:_}=x;h(R=>[...R,re.jsx(jx,{classes:{ripple:ze(o.ripple,li.ripple),rippleVisible:ze(o.rippleVisible,li.rippleVisible),ripplePulsate:ze(o.ripplePulsate,li.ripplePulsate),child:ze(o.child,li.child),childLeaving:ze(o.childLeaving,li.childLeaving),childPulsate:ze(o.childPulsate,li.childPulsate)},timeout:Q1,pulsate:A,rippleX:I,rippleY:k,rippleSize:E},f.current)]),f.current+=1,m.current=_},[o]),w=K.useCallback((x={},A={},I=()=>{})=>{const{pulsate:k=!1,center:E=a||A.pulsate,fakeElement:_=!1}=A;if(x?.type==="mousedown"&&v.current){v.current=!1;return}x?.type==="touchstart"&&(v.current=!0);const R=_?null:y.current,N=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,L,P;if(E||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)U=Math.round(N.width/2),L=Math.round(N.height/2);else{const{clientX:M,clientY:F}=x.touches&&x.touches.length>0?x.touches[0]:x;U=Math.round(M-N.left),L=Math.round(F-N.top)}if(E)P=Math.sqrt((2*N.width**2+N.height**2)/3),P%2===0&&(P+=1);else{const M=Math.max(Math.abs((R?R.clientWidth:0)-U),U)*2+2,F=Math.max(Math.abs((R?R.clientHeight:0)-L),L)*2+2;P=Math.sqrt(M**2+F**2)}x?.touches?S.current===null&&(S.current=()=>{C({pulsate:k,rippleX:U,rippleY:L,rippleSize:P,cb:I})},p.start(Gx,()=>{S.current&&(S.current(),S.current=null)})):C({pulsate:k,rippleX:U,rippleY:L,rippleSize:P,cb:I})},[a,C,p]),D=K.useCallback(()=>{w({},{pulsate:!0})},[w]),b=K.useCallback((x,A)=>{if(p.clear(),x?.type==="touchend"&&S.current){S.current(),S.current=null,p.start(0,()=>{b(x,A)});return}S.current=null,h(I=>I.length>0?I.slice(1):I),m.current=A},[p]);return K.useImperativeHandle(t,()=>({pulsate:D,start:w,stop:b}),[D,w,b]),re.jsx(Hx,{className:ze(li.root,o.root,l),ref:y,...c,children:re.jsx(qg,{component:null,exit:!0,children:d})})});function Xx(n){return et("MuiButtonBase",n)}const Wx=tt("MuiButtonBase",["root","disabled","focusVisible"]),$x=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:a}=n,l=nt({root:["root",e&&"disabled",t&&"focusVisible"]},Xx,a);return t&&i&&(l.root+=` ${i}`),l},Kx=ke("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Wx.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),b4=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:l,className:c,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:v=!1,focusVisibleClassName:p,LinkComponent:S="a",onBlur:y,onClick:C,onContextMenu:w,onDragLeave:D,onFocus:b,onFocusVisible:x,onKeyDown:A,onKeyUp:I,onMouseDown:k,onMouseLeave:E,onMouseUp:_,onTouchEnd:R,onTouchMove:N,onTouchStart:U,tabIndex:L=0,TouchRippleProps:P,touchRippleRef:M,type:F,...B}=i,H=K.useRef(null),Q=Nx(),G=xn(Q.ref,M),[z,j]=K.useState(!1);h&&z&&j(!1),K.useImperativeHandle(a,()=>({focusVisible:()=>{j(!0),H.current.focus()}}),[]);const $=Q.shouldMount&&!f&&!h;K.useEffect(()=>{z&&v&&!f&&Q.pulsate()},[f,v,z,Q]);const ee=rr(Q,"start",k,m),J=rr(Q,"stop",w,m),se=rr(Q,"stop",D,m),Z=rr(Q,"stop",_,m),te=rr(Q,"stop",ne=>{z&&ne.preventDefault(),E&&E(ne)},m),ce=rr(Q,"start",U,m),de=rr(Q,"stop",R,m),be=rr(Q,"stop",N,m),Te=rr(Q,"stop",ne=>{is(ne.target)||j(!1),y&&y(ne)},!1),Me=Bi(ne=>{H.current||(H.current=ne.currentTarget),is(ne.target)&&(j(!0),x&&x(ne)),b&&b(ne)}),q=()=>{const ne=H.current;return d&&d!=="button"&&!(ne.tagName==="A"&&ne.href)},le=Bi(ne=>{v&&!ne.repeat&&z&&ne.key===" "&&Q.stop(ne,()=>{Q.start(ne)}),ne.target===ne.currentTarget&&q()&&ne.key===" "&&ne.preventDefault(),A&&A(ne),ne.target===ne.currentTarget&&q()&&ne.key==="Enter"&&!h&&(ne.preventDefault(),C&&C(ne))}),he=Bi(ne=>{v&&ne.key===" "&&z&&!ne.defaultPrevented&&Q.stop(ne,()=>{Q.pulsate(ne)}),I&&I(ne),C&&ne.target===ne.currentTarget&&q()&&ne.key===" "&&!ne.defaultPrevented&&C(ne)});let W=d;W==="button"&&(B.href||B.to)&&(W=S);const X={};W==="button"?(X.type=F===void 0?"button":F,X.disabled=h):(!B.href&&!B.to&&(X.role="button"),h&&(X["aria-disabled"]=h));const ae=xn(t,H),ve={...i,centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:m,focusRipple:v,tabIndex:L,focusVisible:z},Ce=$x(ve);return re.jsxs(Kx,{as:W,className:ze(Ce.root,c),ownerState:ve,onBlur:Te,onClick:C,onContextMenu:J,onFocus:Me,onKeyDown:le,onKeyUp:he,onMouseDown:ee,onMouseLeave:te,onMouseUp:Z,onDragLeave:se,onTouchEnd:de,onTouchMove:be,onTouchStart:ce,ref:ae,tabIndex:h?-1:L,type:F,...X,...B,children:[l,$?re.jsx(Yx,{ref:G,center:o,...P}):null]})});function rr(n,e,t,i=!1){return Bi(a=>(t&&t(a),i||n[e](a),!0))}function Zx(n){return typeof n.main=="string"}function Jx(n,e=[]){if(!Zx(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function sn(n=[]){return([,e])=>e&&Jx(e,n)}function e9(n){return et("MuiCircularProgress",n)}tt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Hr=44,H1=aa`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,j1=aa`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,t9=typeof H1!="string"?cs`
        animation: ${H1} 1.4s linear infinite;
      `:null,n9=typeof j1!="string"?cs`
        animation: ${j1} 1.4s ease-in-out infinite;
      `:null,i9=n=>{const{classes:e,variant:t,color:i,disableShrink:a}=n,o={root:["root",t,`color${Ue(i)}`],svg:["svg"],circle:["circle",`circle${Ue(t)}`,a&&"circleDisableShrink"]};return nt(o,e9,e)},r9=ke("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Ue(t.color)}`]]}})(Ke(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:t9||{animation:`${H1} 1.4s linear infinite`}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),a9=ke("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),o9=ke("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Ue(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Ke(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:n9||{animation:`${j1} 1.4s ease-in-out infinite`}}]}))),s9=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:l=!1,size:c=40,style:d,thickness:h=3.6,value:f=0,variant:m="indeterminate",...v}=i,p={...i,color:o,disableShrink:l,size:c,thickness:h,value:f,variant:m},S=i9(p),y={},C={},w={};if(m==="determinate"){const D=2*Math.PI*((Hr-h)/2);y.strokeDasharray=D.toFixed(3),w["aria-valuenow"]=Math.round(f),y.strokeDashoffset=`${((100-f)/100*D).toFixed(3)}px`,C.transform="rotate(-90deg)"}return re.jsx(r9,{className:ze(S.root,a),style:{width:c,height:c,...C,...d},ownerState:p,ref:t,role:"progressbar",...w,...v,children:re.jsx(a9,{className:S.svg,ownerState:p,viewBox:`${Hr/2} ${Hr/2} ${Hr} ${Hr}`,children:re.jsx(o9,{className:S.circle,style:y,ownerState:p,cx:Hr,cy:Hr,r:(Hr-h)/2,fill:"none",strokeWidth:h})})})});function l9(n){return et("MuiIconButton",n)}const jy=tt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),c9=n=>{const{classes:e,disabled:t,color:i,edge:a,size:o,loading:l}=n,c={root:["root",l&&"loading",t&&"disabled",i!=="default"&&`color${Ue(i)}`,a&&`edge${Ue(a)}`,`size${Ue(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return nt(c,l9,e)},u9=ke(b4,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Ue(t.color)}`],t.edge&&e[`edge${Ue(t.edge)}`],e[`size${Ue(t.size)}`]]}})(Ke(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:Yt(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ke(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Yt((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${jy.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${jy.loading}`]:{color:"transparent"}}))),d9=ke("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),h9=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiIconButton"}),{edge:a=!1,children:o,className:l,color:c="default",disabled:d=!1,disableFocusRipple:h=!1,size:f="medium",id:m,loading:v=null,loadingIndicator:p,...S}=i,y=Mc(m),C=p??re.jsx(s9,{"aria-labelledby":y,color:"inherit",size:16}),w={...i,edge:a,color:c,disabled:d,disableFocusRipple:h,loading:v,loadingIndicator:C,size:f},D=c9(w);return re.jsxs(u9,{id:v?y:m,className:ze(D.root,l),centerRipple:!0,focusRipple:!h,disabled:d||v,ref:t,...S,ownerState:w,children:[typeof v=="boolean"&&re.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:re.jsx(d9,{className:D.loadingIndicator,ownerState:w,children:v&&C})}),o]})});function f9(n){return et("MuiTypography",n)}tt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const g9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},p9=vx(),m9=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:a,variant:o,classes:l}=n,c={root:["root",o,n.align!=="inherit"&&`align${Ue(e)}`,t&&"gutterBottom",i&&"noWrap",a&&"paragraph"]};return nt(c,f9,l)},S9=ke("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Ue(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Ke(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ue(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),Yy={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},V0=K.forwardRef(function(e,t){const{color:i,...a}=it({props:e,name:"MuiTypography"}),o=!g9[i],l=p9({...a,...o&&{color:i}}),{align:c="inherit",className:d,component:h,gutterBottom:f=!1,noWrap:m=!1,paragraph:v=!1,variant:p="body1",variantMapping:S=Yy,...y}=l,C={...l,align:c,color:i,className:d,component:h,gutterBottom:f,noWrap:m,paragraph:v,variant:p,variantMapping:S},w=h||(v?"p":S[p]||Yy[p])||"span",D=m9(C);return re.jsx(S9,{as:w,ref:t,className:ze(D.root,d),...y,ownerState:C,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...y.style}})});function y9(n){return et("MuiAppBar",n)}tt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const v9=n=>{const{color:e,position:t,classes:i}=n,a={root:["root",`color${Ue(e)}`,`position${Ue(t)}`]};return nt(a,y9,i)},Xy=(n,e)=>n?`${n?.replace(")","")}, ${e})`:e,b9=ke(Fc,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ue(t.position)}`],e[`color${Ue(t.color)}`]]}})(Ke(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(sn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?Xy(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?Xy(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),C9=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiAppBar"}),{className:a,color:o="primary",enableColorOnDark:l=!1,position:c="fixed",...d}=i,h={...i,color:o,position:c,enableColorOnDark:l},f=v9(h);return re.jsx(b9,{square:!0,component:"header",ownerState:h,elevation:4,className:ze(f.root,a,c==="fixed"&&"mui-fixed"),ref:t,...d})});function ur(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:a=!1,...o}=n,l=a?{}:y4(t,i),{props:c,internalRef:d}=v4({...o,externalSlotProps:l}),h=xn(d,l?.ref,n.additionalProps?.ref);return S4(e,{...c,ref:h},i)}function ds(n){return parseInt(K.version,10)>=19?n?.props?.ref||null:n?.ref||null}function D9(n){return typeof n=="function"?n():n}const T9=K.forwardRef(function(e,t){const{children:i,container:a,disablePortal:o=!1}=e,[l,c]=K.useState(null),d=xn(K.isValidElement(i)?ds(i):null,t);if(Ti(()=>{o||c(D9(a)||document.body)},[a,o]),Ti(()=>{if(l&&!o)return Vy(t,l),()=>{Vy(t,null)}},[t,l,o]),o){if(K.isValidElement(i)){const h={ref:d};return K.cloneElement(i,h)}return i}return l&&g4.createPortal(i,l)});function Zu(n){return parseInt(n,10)||0}const w9={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function x9(n){for(const e in n)return!1;return!0}function Wy(n){return x9(n)||n.outerHeightStyle===0&&!n.overflowing}const A9=K.forwardRef(function(e,t){const{onChange:i,maxRows:a,minRows:o=1,style:l,value:c,...d}=e,{current:h}=K.useRef(c!=null),f=K.useRef(null),m=xn(t,f),v=K.useRef(null),p=K.useRef(null),S=K.useCallback(()=>{const b=f.current,x=p.current;if(!b||!x)return;const I=wi(b).getComputedStyle(b);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=I.width,x.value=b.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const k=I.boxSizing,E=Zu(I.paddingBottom)+Zu(I.paddingTop),_=Zu(I.borderBottomWidth)+Zu(I.borderTopWidth),R=x.scrollHeight;x.value="x";const N=x.scrollHeight;let U=R;o&&(U=Math.max(Number(o)*N,U)),a&&(U=Math.min(Number(a)*N,U)),U=Math.max(U,N);const L=U+(k==="border-box"?E+_:0),P=Math.abs(U-R)<=1;return{outerHeightStyle:L,overflowing:P}},[a,o,e.placeholder]),y=Bi(()=>{const b=f.current,x=S();if(!b||!x||Wy(x))return!1;const A=x.outerHeightStyle;return v.current!=null&&v.current!==A}),C=K.useCallback(()=>{const b=f.current,x=S();if(!b||!x||Wy(x))return;const A=x.outerHeightStyle;v.current!==A&&(v.current=A,b.style.height=`${A}px`),b.style.overflow=x.overflowing?"hidden":""},[S]),w=K.useRef(-1);Ti(()=>{const b=Ug(C),x=f?.current;if(!x)return;const A=wi(x);A.addEventListener("resize",b);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{y()&&(I.unobserve(x),cancelAnimationFrame(w.current),C(),w.current=requestAnimationFrame(()=>{I.observe(x)}))}),I.observe(x)),()=>{b.clear(),cancelAnimationFrame(w.current),A.removeEventListener("resize",b),I&&I.disconnect()}},[S,C,y]),Ti(()=>{C()});const D=b=>{h||C();const x=b.target,A=x.value.length,I=x.value.endsWith(`
`),k=x.selectionStart===A;I&&k&&x.setSelectionRange(A,A),i&&i(b)};return re.jsxs(K.Fragment,{children:[re.jsx("textarea",{value:c,onChange:D,ref:m,rows:o,style:l,...d}),re.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...w9.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function Qa(n){return typeof n=="string"}function hs({props:n,states:e,muiFormControl:t}){return e.reduce((i,a)=>(i[a]=n[a],t&&typeof n[a]>"u"&&(i[a]=t[a]),i),{})}const gd=K.createContext(void 0);function $a(){return K.useContext(gd)}function $y(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function z0(n,e=!1){return n&&($y(n.value)&&n.value!==""||e&&$y(n.defaultValue)&&n.defaultValue!=="")}function P9(n){return n.startAdornment}function R9(n){return et("MuiInputBase",n)}const rs=tt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Ky;const pd=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Ue(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},md=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},O9=n=>{const{classes:e,color:t,disabled:i,error:a,endAdornment:o,focused:l,formControl:c,fullWidth:d,hiddenLabel:h,multiline:f,readOnly:m,size:v,startAdornment:p,type:S}=n,y={root:["root",`color${Ue(t)}`,i&&"disabled",a&&"error",d&&"fullWidth",l&&"focused",c&&"formControl",v&&v!=="medium"&&`size${Ue(v)}`,f&&"multiline",p&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",m&&"readOnly"],input:["input",i&&"disabled",S==="search"&&"inputTypeSearch",f&&"inputMultiline",v==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",m&&"readOnly"]};return nt(y,R9,e)},Sd=ke("div",{name:"MuiInputBase",slot:"Root",overridesResolver:pd})(Ke(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${rs.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),yd=ke("input",{name:"MuiInputBase",slot:"Input",overridesResolver:md})(Ke(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},a=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${rs.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${rs.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),Zy=kg({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Vg=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:l,className:c,color:d,components:h={},componentsProps:f={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:p,endAdornment:S,error:y,fullWidth:C=!1,id:w,inputComponent:D="input",inputProps:b={},inputRef:x,margin:A,maxRows:I,minRows:k,multiline:E=!1,name:_,onBlur:R,onChange:N,onClick:U,onFocus:L,onKeyDown:P,onKeyUp:M,placeholder:F,readOnly:B,renderSuffix:H,rows:Q,size:G,slotProps:z={},slots:j={},startAdornment:$,type:ee="text",value:J,...se}=i,Z=b.value!=null?b.value:J,{current:te}=K.useRef(Z!=null),ce=K.useRef(),de=K.useCallback(Ve=>{},[]),be=xn(ce,x,b.ref,de),[Te,Me]=K.useState(!1),q=$a(),le=hs({props:i,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=q?q.focused:Te,K.useEffect(()=>{!q&&v&&Te&&(Me(!1),R&&R())},[q,v,Te,R]);const he=q&&q.onFilled,W=q&&q.onEmpty,X=K.useCallback(Ve=>{z0(Ve)?he&&he():W&&W()},[he,W]);Ti(()=>{te&&X({value:Z})},[Z,X,te]);const ae=Ve=>{L&&L(Ve),b.onFocus&&b.onFocus(Ve),q&&q.onFocus?q.onFocus(Ve):Me(!0)},ve=Ve=>{R&&R(Ve),b.onBlur&&b.onBlur(Ve),q&&q.onBlur?q.onBlur(Ve):Me(!1)},Ce=(Ve,...Ze)=>{if(!te){const Ge=Ve.target||ce.current;if(Ge==null)throw new Error(Sr(1));X({value:Ge.value})}b.onChange&&b.onChange(Ve,...Ze),N&&N(Ve,...Ze)};K.useEffect(()=>{X(ce.current)},[]);const ne=Ve=>{ce.current&&Ve.currentTarget===Ve.target&&ce.current.focus(),U&&U(Ve)};let Pe=D,Ee=b;E&&Pe==="input"&&(Q?Ee={type:void 0,minRows:Q,maxRows:Q,...Ee}:Ee={type:void 0,maxRows:I,minRows:k,...Ee},Pe=A9);const fe=Ve=>{X(Ve.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};K.useEffect(()=>{q&&q.setAdornedStart(!!$)},[q,$]);const pe={...i,color:le.color||"primary",disabled:le.disabled,endAdornment:S,error:le.error,focused:le.focused,formControl:q,fullWidth:C,hiddenLabel:le.hiddenLabel,multiline:E,size:le.size,startAdornment:$,type:ee},Oe=O9(pe),Ie=j.root||h.Root||Sd,Fe=z.root||f.root||{},qe=j.input||h.Input||yd;return Ee={...Ee,...z.input??f.input},re.jsxs(K.Fragment,{children:[!p&&typeof Zy=="function"&&(Ky||(Ky=re.jsx(Zy,{}))),re.jsxs(Ie,{...Fe,ref:t,onClick:ne,...se,...!Qa(Ie)&&{ownerState:{...pe,...Fe.ownerState}},className:ze(Oe.root,Fe.className,c,B&&"MuiInputBase-readOnly"),children:[$,re.jsx(gd.Provider,{value:null,children:re.jsx(qe,{"aria-invalid":le.error,"aria-describedby":a,autoComplete:o,autoFocus:l,defaultValue:m,disabled:le.disabled,id:w,onAnimationStart:fe,name:_,placeholder:F,readOnly:B,required:le.required,rows:Q,value:Z,onKeyDown:P,onKeyUp:M,type:ee,...Ee,...!Qa(qe)&&{as:Pe,ownerState:{...pe,...Ee.ownerState}},ref:be,className:ze(Oe.input,Ee.className,B&&"MuiInputBase-readOnly"),onBlur:ve,onChange:Ce,onFocus:ae})}),S,H?H({...le,startAdornment:$}):null]})]})});function L9(n){return et("MuiInput",n)}const dl={...rs,...tt("MuiInput",["root","underline","input"])};function I9(n){return et("MuiOutlinedInput",n)}const Ei={...rs,...tt("MuiOutlinedInput",["root","notchedOutline","input"])};function E9(n){return et("MuiFilledInput",n)}const wa={...rs,...tt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},_9=vr(re.jsx("path",{d:"M7 10l5 5 5-5z"})),M9={entering:{opacity:1},entered:{opacity:1}},Y1=K.forwardRef(function(e,t){const i=us(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:d,in:h,onEnter:f,onEntered:m,onEntering:v,onExit:p,onExited:S,onExiting:y,style:C,timeout:w=a,TransitionComponent:D=xi,...b}=e,x=K.useRef(null),A=xn(x,ds(c),t),I=P=>M=>{if(P){const F=x.current;M===void 0?P(F):P(F,M)}},k=I(v),E=I((P,M)=>{Gg(P);const F=ns({style:C,timeout:w,easing:d},{mode:"enter"});P.style.webkitTransition=i.transitions.create("opacity",F),P.style.transition=i.transitions.create("opacity",F),f&&f(P,M)}),_=I(m),R=I(y),N=I(P=>{const M=ns({style:C,timeout:w,easing:d},{mode:"exit"});P.style.webkitTransition=i.transitions.create("opacity",M),P.style.transition=i.transitions.create("opacity",M),p&&p(P)}),U=I(S),L=P=>{o&&o(x.current,P)};return re.jsx(D,{appear:l,in:h,nodeRef:x,onEnter:E,onEntered:_,onEntering:k,onExit:N,onExited:U,onExiting:R,addEndListener:L,timeout:w,...b,children:(P,{ownerState:M,...F})=>K.cloneElement(c,{style:{opacity:0,visibility:P==="exited"&&!h?"hidden":void 0,...M9[P],...C,...c.props.style},ref:A,...F})})});function F9(n){return et("MuiBackdrop",n)}tt("MuiBackdrop",["root","invisible"]);const k9=n=>{const{classes:e,invisible:t}=n;return nt({root:["root",t&&"invisible"]},F9,e)},U9=ke("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),C4=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiBackdrop"}),{children:a,className:o,component:l="div",invisible:c=!1,open:d,components:h={},componentsProps:f={},slotProps:m={},slots:v={},TransitionComponent:p,transitionDuration:S,...y}=i,C={...i,component:l,invisible:c},w=k9(C),D={transition:p,root:h.Root,...v},b={...f,...m},x={component:l,slots:D,slotProps:b},[A,I]=Kt("root",{elementType:U9,externalForwardedProps:x,className:ze(w.root,o),ownerState:C}),[k,E]=Kt("transition",{elementType:Y1,externalForwardedProps:x,ownerState:C});return re.jsx(k,{in:d,timeout:S,...y,...E,children:re.jsx(A,{"aria-hidden":!0,...I,classes:w,ref:t,children:a})})}),N9=tt("MuiBox",["root"]),q9=hd(),B9=zT({themeId:Ci,defaultTheme:q9,defaultClassName:N9.root,generateClassName:jC.generate});function G9(n){return K.Children.toArray(n).filter(e=>K.isValidElement(e))}const X1=typeof kg({})=="function",V9=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),z9=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),D4=(n,e=!1)=>{const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([o,l])=>{const c=n.getColorSchemeSelector(o);c.startsWith("@")?t[c]={":root":{colorScheme:l.palette?.mode}}:t[c.replace(/\s*&/,"")]={colorScheme:l.palette?.mode}});let i={html:V9(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...z9(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const a=n.components?.MuiCssBaseline?.styleOverrides;return a&&(i=[i,a]),i},R0="mui-ecs",Q9=n=>{const e=D4(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${R0})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,a])=>{const o=n.getColorSchemeSelector(i);o.startsWith("@")?t[o]={[`:root:not(:has(.${R0}))`]:{colorScheme:a.palette?.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${R0}))`]:{colorScheme:a.palette?.mode}}}),e},H9=kg(X1?({theme:n,enableColorScheme:e})=>D4(n,e):({theme:n})=>Q9(n));function j9(n){const e=it({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return re.jsxs(K.Fragment,{children:[X1&&re.jsx(H9,{enableColorScheme:i}),!X1&&!i&&re.jsx("span",{className:R0,style:{display:"none"}}),t]})}function T4(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function Y9(n){const e=Pn(n);return e.body===n?wi(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function gc(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function Jy(n){return parseInt(wi(n).getComputedStyle(n).paddingRight,10)||0}function X9(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function ev(n,e,t,i,a){const o=[e,t,...i];[].forEach.call(n.children,l=>{const c=!o.includes(l),d=!X9(l);c&&d&&gc(l,a)})}function Kf(n,e){let t=-1;return n.some((i,a)=>e(i)?(t=a,!0):!1),t}function W9(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(Y9(i)){const l=T4(wi(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${Jy(i)+l}px`;const c=Pn(i).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${Jy(d)+l}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=Pn(i).body;else{const l=i.parentElement,c=wi(i);o=l?.nodeName==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:i}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function $9(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class K9{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&gc(e.modalRef,!1);const a=$9(t);ev(t,e.mount,e.modalRef,a,!0);const o=Kf(this.containers,l=>l.container===t);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:a}),i)}mount(e,t){const i=Kf(this.containers,o=>o.modals.includes(e)),a=this.containers[i];a.restore||(a.restore=W9(a,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const a=Kf(this.containers,l=>l.modals.includes(e)),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&gc(e.modalRef,t),ev(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&gc(l.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Z9=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function J9(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function eA(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function tA(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||eA(n))}function nA(n){const e=[],t=[];return Array.from(n.querySelectorAll(Z9)).forEach((i,a)=>{const o=J9(i);o===-1||!tA(i)||(o===0?e.push(i):t.push({documentOrder:a,tabIndex:o,node:i}))}),t.sort((i,a)=>i.tabIndex===a.tabIndex?i.documentOrder-a.documentOrder:i.tabIndex-a.tabIndex).map(i=>i.node).concat(e)}function iA(){return!0}function rA(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:a=!1,getTabbable:o=nA,isEnabled:l=iA,open:c}=n,d=K.useRef(!1),h=K.useRef(null),f=K.useRef(null),m=K.useRef(null),v=K.useRef(null),p=K.useRef(!1),S=K.useRef(null),y=xn(ds(e),S),C=K.useRef(null);K.useEffect(()=>{!c||!S.current||(p.current=!t)},[t,c]),K.useEffect(()=>{if(!c||!S.current)return;const b=Pn(S.current);return S.current.contains(b.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),p.current&&S.current.focus()),()=>{a||(m.current&&m.current.focus&&(d.current=!0,m.current.focus()),m.current=null)}},[c]),K.useEffect(()=>{if(!c||!S.current)return;const b=Pn(S.current),x=k=>{C.current=k,!(i||!l()||k.key!=="Tab")&&b.activeElement===S.current&&k.shiftKey&&(d.current=!0,f.current&&f.current.focus())},A=()=>{const k=S.current;if(k===null)return;if(!b.hasFocus()||!l()||d.current){d.current=!1;return}if(k.contains(b.activeElement)||i&&b.activeElement!==h.current&&b.activeElement!==f.current)return;if(b.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!p.current)return;let E=[];if((b.activeElement===h.current||b.activeElement===f.current)&&(E=o(S.current)),E.length>0){const _=!!(C.current?.shiftKey&&C.current?.key==="Tab"),R=E[0],N=E[E.length-1];typeof R!="string"&&typeof N!="string"&&(_?N.focus():R.focus())}else k.focus()};b.addEventListener("focusin",A),b.addEventListener("keydown",x,!0);const I=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(I),b.removeEventListener("focusin",A),b.removeEventListener("keydown",x,!0)}},[t,i,a,l,c,o]);const w=b=>{m.current===null&&(m.current=b.relatedTarget),p.current=!0,v.current=b.target;const x=e.props.onFocus;x&&x(b)},D=b=>{m.current===null&&(m.current=b.relatedTarget),p.current=!0};return re.jsxs(K.Fragment,{children:[re.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:h,"data-testid":"sentinelStart"}),K.cloneElement(e,{ref:y,onFocus:w}),re.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:f,"data-testid":"sentinelEnd"})]})}function aA(n){return typeof n=="function"?n():n}function oA(n){return n?n.props.hasOwnProperty("in"):!1}const tv=()=>{},Ju=new K9;function sA(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:d,open:h,rootRef:f}=n,m=K.useRef({}),v=K.useRef(null),p=K.useRef(null),S=xn(p,f),[y,C]=K.useState(!h),w=oA(c);let D=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(D=!1);const b=()=>Pn(v.current),x=()=>(m.current.modalRef=p.current,m.current.mount=v.current,m.current),A=()=>{Ju.mount(x(),{disableScrollLock:i}),p.current&&(p.current.scrollTop=0)},I=Bi(()=>{const M=aA(e)||b().body;Ju.add(x(),M),p.current&&A()}),k=()=>Ju.isTopModal(x()),E=Bi(M=>{v.current=M,M&&(h&&k()?A():p.current&&gc(p.current,D))}),_=K.useCallback(()=>{Ju.remove(x(),D)},[D]);K.useEffect(()=>()=>{_()},[_]),K.useEffect(()=>{h?I():(!w||!a)&&_()},[h,_,w,a,I]);const R=M=>F=>{M.onKeyDown?.(F),!(F.key!=="Escape"||F.which===229||!k())&&(t||(F.stopPropagation(),d&&d(F,"escapeKeyDown")))},N=M=>F=>{M.onClick?.(F),F.target===F.currentTarget&&d&&d(F,"backdropClick")};return{getRootProps:(M={})=>{const F=fc(n);delete F.onTransitionEnter,delete F.onTransitionExited;const B={...F,...M};return{role:"presentation",...B,onKeyDown:R(B),ref:S}},getBackdropProps:(M={})=>{const F=M;return{"aria-hidden":!0,...F,onClick:N(F),open:h}},getTransitionProps:()=>{const M=()=>{C(!1),o&&o()},F=()=>{C(!0),l&&l(),a&&_()};return{onEnter:Gy(M,c?.props.onEnter??tv),onExited:Gy(F,c?.props.onExited??tv)}},rootRef:S,portalRef:E,isTopModal:k,exited:y,hasTransition:w}}function lA(n){return et("MuiModal",n)}tt("MuiModal",["root","hidden","backdrop"]);const cA=n=>{const{open:e,exited:t,classes:i}=n;return nt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},lA,i)},uA=ke("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Ke(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),dA=ke(C4,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),w4=K.forwardRef(function(e,t){const i=it({name:"MuiModal",props:e}),{BackdropComponent:a=dA,BackdropProps:o,classes:l,className:c,closeAfterTransition:d=!1,children:h,container:f,component:m,components:v={},componentsProps:p={},disableAutoFocus:S=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:C=!1,disablePortal:w=!1,disableRestoreFocus:D=!1,disableScrollLock:b=!1,hideBackdrop:x=!1,keepMounted:A=!1,onClose:I,onTransitionEnter:k,onTransitionExited:E,open:_,slotProps:R={},slots:N={},theme:U,...L}=i,P={...i,closeAfterTransition:d,disableAutoFocus:S,disableEnforceFocus:y,disableEscapeKeyDown:C,disablePortal:w,disableRestoreFocus:D,disableScrollLock:b,hideBackdrop:x,keepMounted:A},{getRootProps:M,getBackdropProps:F,getTransitionProps:B,portalRef:H,isTopModal:Q,exited:G,hasTransition:z}=sA({...P,rootRef:t}),j={...P,exited:G},$=cA(j),ee={};if(h.props.tabIndex===void 0&&(ee.tabIndex="-1"),z){const{onEnter:de,onExited:be}=B();ee.onEnter=de,ee.onExited=be}const J={slots:{root:v.Root,backdrop:v.Backdrop,...N},slotProps:{...p,...R}},[se,Z]=Kt("root",{ref:t,elementType:uA,externalForwardedProps:{...J,...L,component:m},getSlotProps:M,ownerState:j,className:ze(c,$?.root,!j.open&&j.exited&&$?.hidden)}),[te,ce]=Kt("backdrop",{ref:o?.ref,elementType:a,externalForwardedProps:J,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:de=>F({...de,onClick:be=>{de?.onClick&&de.onClick(be)}}),className:ze(o?.className,$?.backdrop),ownerState:j});return!A&&!_&&(!z||G)?null:re.jsx(T9,{ref:H,container:f,disablePortal:w,children:re.jsxs(se,{...Z,children:[!x&&a?re.jsx(te,{...ce}):null,re.jsx(rA,{disableEnforceFocus:y,disableAutoFocus:S,disableRestoreFocus:D,isEnabled:Q,open:_,children:K.cloneElement(h,ee)})]})})});function hA(n){return et("MuiDialog",n)}const Zf=tt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),fA=K.createContext({}),gA=ke(C4,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),pA=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:a,fullScreen:o}=n,l={root:["root"],container:["container",`scroll${Ue(t)}`],paper:["paper",`paperScroll${Ue(t)}`,`paperWidth${Ue(String(i))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return nt(l,hA,e)},mA=ke(w4,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),SA=ke("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Ue(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),yA=ke(Fc,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Ue(t.scroll)}`],e[`paperWidth${Ue(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Ke(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${Zf.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${Zf.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Zf.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),vA=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiDialog"}),a=us(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:h,BackdropProps:f,children:m,className:v,disableEscapeKeyDown:p=!1,fullScreen:S=!1,fullWidth:y=!1,maxWidth:C="sm",onClick:w,onClose:D,open:b,PaperComponent:x=Fc,PaperProps:A={},scroll:I="paper",slots:k={},slotProps:E={},TransitionComponent:_=Y1,transitionDuration:R=o,TransitionProps:N,...U}=i,L={...i,disableEscapeKeyDown:p,fullScreen:S,fullWidth:y,maxWidth:C,scroll:I},P=pA(L),M=K.useRef(),F=Me=>{M.current=Me.target===Me.currentTarget},B=Me=>{w&&w(Me),M.current&&(M.current=null,D&&D(Me,"backdropClick"))},H=Mc(c),Q=K.useMemo(()=>({titleId:H}),[H]),G={transition:_,...k},z={transition:N,paper:A,backdrop:f,...E},j={slots:G,slotProps:z},[$,ee]=Kt("root",{elementType:mA,shouldForwardComponentProp:!0,externalForwardedProps:j,ownerState:L,className:ze(P.root,v),ref:t}),[J,se]=Kt("backdrop",{elementType:gA,shouldForwardComponentProp:!0,externalForwardedProps:j,ownerState:L}),[Z,te]=Kt("paper",{elementType:yA,shouldForwardComponentProp:!0,externalForwardedProps:j,ownerState:L,className:ze(P.paper,A.className)}),[ce,de]=Kt("container",{elementType:SA,externalForwardedProps:j,ownerState:L,className:P.container}),[be,Te]=Kt("transition",{elementType:Y1,externalForwardedProps:j,ownerState:L,additionalProps:{appear:!0,in:b,timeout:R,role:"presentation"}});return re.jsx($,{closeAfterTransition:!0,slots:{backdrop:J},slotProps:{backdrop:{transitionDuration:R,as:h,...se}},disableEscapeKeyDown:p,onClose:D,open:b,onClick:B,...ee,...U,children:re.jsx(be,{...Te,children:re.jsx(ce,{onMouseDown:F,...de,children:re.jsx(Z,{as:x,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":H,"aria-modal":d,...te,children:re.jsx(fA.Provider,{value:Q,children:m})})})})})});function bA(n,e,t){const i=e.getBoundingClientRect(),a=t&&t.getBoundingClientRect(),o=wi(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const h=o.getComputedStyle(e);l=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let c=0,d=0;if(l&&l!=="none"&&typeof l=="string"){const h=l.split("(")[1].split(")")[0].split(",");c=parseInt(h[4],10),d=parseInt(h[5],10)}return n==="left"?a?`translateX(${a.right+c-i.left}px)`:`translateX(${o.innerWidth+c-i.left}px)`:n==="right"?a?`translateX(-${i.right-a.left-c}px)`:`translateX(-${i.left+i.width-c}px)`:n==="up"?a?`translateY(${a.bottom+d-i.top}px)`:`translateY(${o.innerHeight+d-i.top}px)`:a?`translateY(-${i.top-a.top+i.height-d}px)`:`translateY(-${i.top+i.height-d}px)`}function CA(n){return typeof n=="function"?n():n}function e0(n,e,t){const i=CA(t),a=bA(n,e,i);a&&(e.style.webkitTransform=a,e.style.transform=a)}const DA=K.forwardRef(function(e,t){const i=us(),a={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:d,container:h,direction:f="down",easing:m=a,in:v,onEnter:p,onEntered:S,onEntering:y,onExit:C,onExited:w,onExiting:D,style:b,timeout:x=o,TransitionComponent:A=xi,...I}=e,k=K.useRef(null),E=xn(ds(d),k,t),_=H=>Q=>{H&&(Q===void 0?H(k.current):H(k.current,Q))},R=_((H,Q)=>{e0(f,H,h),Gg(H),p&&p(H,Q)}),N=_((H,Q)=>{const G=ns({timeout:x,style:b,easing:m},{mode:"enter"});H.style.webkitTransition=i.transitions.create("-webkit-transform",{...G}),H.style.transition=i.transitions.create("transform",{...G}),H.style.webkitTransform="none",H.style.transform="none",y&&y(H,Q)}),U=_(S),L=_(D),P=_(H=>{const Q=ns({timeout:x,style:b,easing:m},{mode:"exit"});H.style.webkitTransition=i.transitions.create("-webkit-transform",Q),H.style.transition=i.transitions.create("transform",Q),e0(f,H,h),C&&C(H)}),M=_(H=>{H.style.webkitTransition="",H.style.transition="",w&&w(H)}),F=H=>{l&&l(k.current,H)},B=K.useCallback(()=>{k.current&&e0(f,k.current,h)},[f,h]);return K.useEffect(()=>{if(v||f==="down"||f==="right")return;const H=Ug(()=>{k.current&&e0(f,k.current,h)}),Q=wi(k.current);return Q.addEventListener("resize",H),()=>{H.clear(),Q.removeEventListener("resize",H)}},[f,v,h]),K.useEffect(()=>{v||B()},[v,B]),re.jsx(A,{nodeRef:k,onEnter:R,onEntered:U,onEntering:N,onExit:P,onExited:M,onExiting:L,addEndListener:F,appear:c,in:v,timeout:x,...I,children:(H,{ownerState:Q,...G})=>K.cloneElement(d,{ref:E,style:{visibility:H==="exited"&&!v?"hidden":void 0,...b,...d.props.style},...G})})}),TA=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:a,size:o,hiddenLabel:l,multiline:c}=n,d={root:["root",!t&&"underline",i&&"adornedStart",a&&"adornedEnd",o==="small"&&`size${Ue(o)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},h=nt(d,E9,e);return{...e,...h}},wA=ke(Sd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...pd(n,e),!t.disableUnderline&&e.underline]}})(Ke(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${wa.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${wa.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wa.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wa.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wa.disabled}, .${wa.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${wa.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(sn()).map(([l])=>({props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[l]?.main}`}}})),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),xA=ke(yd,{name:"MuiFilledInput",slot:"Input",overridesResolver:md})(Ke(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),zg=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:o={},componentsProps:l,fullWidth:c=!1,hiddenLabel:d,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:p="text",...S}=i,y={...i,disableUnderline:a,fullWidth:c,inputComponent:h,multiline:f,type:p},C=TA(i),w={root:{ownerState:y},input:{ownerState:y}},D=m??l?hn(w,m??l):w,b=v.root??o.Root??wA,x=v.input??o.Input??xA;return re.jsx(Vg,{slots:{root:b,input:x},slotProps:D,fullWidth:c,inputComponent:h,multiline:f,ref:t,type:p,...S,classes:C})});zg.muiName="Input";function AA(n){return et("MuiFormControl",n)}tt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const PA=n=>{const{classes:e,margin:t,fullWidth:i}=n,a={root:["root",t!=="none"&&`margin${Ue(t)}`,i&&"fullWidth"]};return nt(a,AA,e)},RA=ke("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Ue(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),OA=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiFormControl"}),{children:a,className:o,color:l="primary",component:c="div",disabled:d=!1,error:h=!1,focused:f,fullWidth:m=!1,hiddenLabel:v=!1,margin:p="none",required:S=!1,size:y="medium",variant:C="outlined",...w}=i,D={...i,color:l,component:c,disabled:d,error:h,fullWidth:m,hiddenLabel:v,margin:p,required:S,size:y,variant:C},b=PA(D),[x,A]=K.useState(()=>{let M=!1;return a&&K.Children.forEach(a,F=>{if(!Wf(F,["Input","Select"]))return;const B=Wf(F,["Select"])?F.props.input:F;B&&P9(B.props)&&(M=!0)}),M}),[I,k]=K.useState(()=>{let M=!1;return a&&K.Children.forEach(a,F=>{Wf(F,["Input","Select"])&&(z0(F.props,!0)||z0(F.props.inputProps,!0))&&(M=!0)}),M}),[E,_]=K.useState(!1);d&&E&&_(!1);const R=f!==void 0&&!d?f:E;let N;K.useRef(!1);const U=K.useCallback(()=>{k(!0)},[]),L=K.useCallback(()=>{k(!1)},[]),P=K.useMemo(()=>({adornedStart:x,setAdornedStart:A,color:l,disabled:d,error:h,filled:I,focused:R,fullWidth:m,hiddenLabel:v,size:y,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:L,onFilled:U,registerEffect:N,required:S,variant:C}),[x,l,d,h,I,R,m,v,N,L,U,S,y,C]);return re.jsx(gd.Provider,{value:P,children:re.jsx(RA,{as:c,ownerState:D,className:ze(b.root,o),ref:t,...w,children:a})})});function LA(n){return et("MuiFormHelperText",n)}const nv=tt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var iv;const IA=n=>{const{classes:e,contained:t,size:i,disabled:a,error:o,filled:l,focused:c,required:d}=n,h={root:["root",a&&"disabled",o&&"error",i&&`size${Ue(i)}`,t&&"contained",c&&"focused",l&&"filled",d&&"required"]};return nt(h,LA,e)},EA=ke("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Ue(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Ke(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${nv.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${nv.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),_A=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiFormHelperText"}),{children:a,className:o,component:l="p",disabled:c,error:d,filled:h,focused:f,margin:m,required:v,variant:p,...S}=i,y=$a(),C=hs({props:i,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),w={...i,component:l,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete w.ownerState;const D=IA(w);return re.jsx(EA,{as:l,className:ze(D.root,o),ref:t,...S,ownerState:w,children:a===" "?iv||(iv=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function MA(n){return et("MuiFormLabel",n)}const pc=tt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),FA=n=>{const{classes:e,color:t,focused:i,disabled:a,error:o,filled:l,required:c}=n,d={root:["root",`color${Ue(t)}`,a&&"disabled",o&&"error",l&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return nt(d,MA,e)},kA=ke("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Ke(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{[`&.${pc.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${pc.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),UA=ke("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ke(({theme:n})=>({[`&.${pc.error}`]:{color:(n.vars||n).palette.error.main}}))),NA=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiFormLabel"}),{children:a,className:o,color:l,component:c="label",disabled:d,error:h,filled:f,focused:m,required:v,...p}=i,S=$a(),y=hs({props:i,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),C={...i,color:y.color||"primary",component:c,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},w=FA(C);return re.jsxs(kA,{as:c,ownerState:C,className:ze(w.root,o),ref:t,...p,children:[a,y.required&&re.jsxs(UA,{ownerState:C,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})});function W1(n){return`scale(${n}, ${n**2})`}const qA={entering:{opacity:1,transform:W1(1)},entered:{opacity:1,transform:"none"}},Jf=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),$1=K.forwardRef(function(e,t){const{addEndListener:i,appear:a=!0,children:o,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:m,onExited:v,onExiting:p,style:S,timeout:y="auto",TransitionComponent:C=xi,...w}=e,D=m4(),b=K.useRef(),x=us(),A=K.useRef(null),I=xn(A,ds(o),t),k=M=>F=>{if(M){const B=A.current;F===void 0?M(B):M(B,F)}},E=k(f),_=k((M,F)=>{Gg(M);const{duration:B,delay:H,easing:Q}=ns({style:S,timeout:y,easing:l},{mode:"enter"});let G;y==="auto"?(G=x.transitions.getAutoHeightDuration(M.clientHeight),b.current=G):G=B,M.style.transition=[x.transitions.create("opacity",{duration:G,delay:H}),x.transitions.create("transform",{duration:Jf?G:G*.666,delay:H,easing:Q})].join(","),d&&d(M,F)}),R=k(h),N=k(p),U=k(M=>{const{duration:F,delay:B,easing:H}=ns({style:S,timeout:y,easing:l},{mode:"exit"});let Q;y==="auto"?(Q=x.transitions.getAutoHeightDuration(M.clientHeight),b.current=Q):Q=F,M.style.transition=[x.transitions.create("opacity",{duration:Q,delay:B}),x.transitions.create("transform",{duration:Jf?Q:Q*.666,delay:Jf?B:B||Q*.333,easing:H})].join(","),M.style.opacity=0,M.style.transform=W1(.75),m&&m(M)}),L=k(v),P=M=>{y==="auto"&&D.start(b.current||0,M),i&&i(A.current,M)};return re.jsx(C,{appear:a,in:c,nodeRef:A,onEnter:_,onEntered:R,onEntering:E,onExit:U,onExited:L,onExiting:N,addEndListener:P,timeout:y==="auto"?null:y,...w,children:(M,{ownerState:F,...B})=>K.cloneElement(o,{style:{opacity:0,transform:W1(.75),visibility:M==="exited"&&!c?"hidden":void 0,...qA[M],...S,...o.props.style},ref:I,...B})})});$1&&($1.muiSupportAuto=!0);const BA=n=>{const{classes:e,disableUnderline:t}=n,a=nt({root:["root",!t&&"underline"],input:["input"]},L9,e);return{...e,...a}},GA=ke(Sd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...pd(n,e),!t.disableUnderline&&e.underline]}})(Ke(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dl.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dl.disabled}, .${dl.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${dl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(sn()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),VA=ke(yd,{name:"MuiInput",slot:"Input",overridesResolver:md})({}),Qg=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:o={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text",...p}=i,S=BA(i),C={root:{ownerState:{disableUnderline:a}}},w=f??l?hn(f??l,C):C,D=m.root??o.Root??GA,b=m.input??o.Input??VA;return re.jsx(Vg,{slots:{root:D,input:b},slotProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:t,type:v,...p,classes:S})});Qg.muiName="Input";function zA(n){return et("MuiInputAdornment",n)}const rv=tt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var av;const QA=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ue(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},HA=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:i,position:a,size:o,variant:l}=n,c={root:["root",t&&"disablePointerEvents",a&&`position${Ue(a)}`,l,i&&"hiddenLabel",o&&`size${Ue(o)}`]};return nt(c,zA,e)},jA=ke("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:QA})(Ke(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${rv.positionStart}&:not(.${rv.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),YA=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiInputAdornment"}),{children:a,className:o,component:l="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:h,variant:f,...m}=i,v=$a()||{};let p=f;f&&v.variant,v&&!p&&(p=v.variant);const S={...i,hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:c,position:h,variant:p},y=HA(S);return re.jsx(gd.Provider,{value:null,children:re.jsx(jA,{as:l,ownerState:S,className:ze(y.root,o),ref:t,...m,children:typeof a=="string"&&!d?re.jsx(V0,{color:"textSecondary",children:a}):re.jsxs(K.Fragment,{children:[h==="start"?av||(av=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,a]})})})});function XA(n){return et("MuiInputLabel",n)}tt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const WA=n=>{const{classes:e,formControl:t,size:i,shrink:a,disableAnimation:o,variant:l,required:c}=n,d={root:["root",t&&"formControl",!o&&"animated",a&&"shrink",i&&i!=="medium"&&`size${Ue(i)}`,l],asterisk:[c&&"asterisk"]},h=nt(d,XA,e);return{...e,...h}},$A=ke(NA,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pc.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Ke(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),KA=K.forwardRef(function(e,t){const i=it({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:o,shrink:l,variant:c,className:d,...h}=i,f=$a();let m=l;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const v=hs({props:i,muiFormControl:f,states:["size","variant","required","focused"]}),p={...i,disableAnimation:a,formControl:f,shrink:m,size:v.size,variant:v.variant,required:v.required,focused:v.focused},S=WA(p);return re.jsx($A,{"data-shrink":m,ref:t,className:ze(S.root,d),...h,ownerState:p,classes:S})});function ZA(n){return et("MuiLinearProgress",n)}tt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const K1=4,Z1=aa`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,JA=typeof Z1!="string"?cs`
        animation: ${Z1} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,J1=aa`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,e7=typeof J1!="string"?cs`
        animation: ${J1} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,eg=aa`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,t7=typeof eg!="string"?cs`
        animation: ${eg} 3s infinite linear;
      `:null,n7=n=>{const{classes:e,variant:t,color:i}=n,a={root:["root",`color${Ue(i)}`,t],dashed:["dashed",`dashedColor${Ue(i)}`],bar1:["bar","bar1",`barColor${Ue(i)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Ue(i)}`,t==="buffer"&&`color${Ue(i)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return nt(a,ZA,e)},Hg=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?Wa(n.palette[e].main,.62):Xa(n.palette[e].main,.5),i7=ke("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ue(t.color)}`],e[t.variant]]}})(Ke(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{backgroundColor:Hg(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),r7=ke("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Ue(t.color)}`]]}})(Ke(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(sn()).map(([e])=>{const t=Hg(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),t7||{animation:`${eg} 3s infinite linear`}),a7=ke("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Ue(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(Ke(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${K1}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${K1}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:JA||{animation:`${Z1} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),o7=ke("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Ue(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(Ke(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:Hg(n,e),transition:`transform .${K1}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:e7||{animation:`${J1} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),s7=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiLinearProgress"}),{className:a,color:o="primary",value:l,valueBuffer:c,variant:d="indeterminate",...h}=i,f={...i,color:o,variant:d},m=n7(f),v=Ig(),p={},S={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&l!==void 0){p["aria-valuenow"]=Math.round(l),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=l-100;v&&(y=-y),S.bar1.transform=`translateX(${y}%)`}if(d==="buffer"&&c!==void 0){let y=(c||0)-100;v&&(y=-y),S.bar2.transform=`translateX(${y}%)`}return re.jsxs(i7,{className:ze(m.root,a),ownerState:f,role:"progressbar",...p,ref:t,...h,children:[d==="buffer"?re.jsx(r7,{className:m.dashed,ownerState:f}):null,re.jsx(a7,{className:m.bar1,ownerState:f,style:S.bar1}),d==="determinate"?null:re.jsx(o7,{className:m.bar2,ownerState:f,style:S.bar2})]})});function l7(n){return et("MuiLink",n)}const c7=tt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),u7=({theme:n,ownerState:e})=>{const t=e.color,i=Kr(n,`palette.${t}.main`,!1)||Kr(n,`palette.${t}`,!1)||e.color,a=Kr(n,`palette.${t}.mainChannel`)||Kr(n,`palette.${t}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:Yt(i,.4)},ov={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},d7=n=>{const{classes:e,component:t,focusVisible:i,underline:a}=n,o={root:["root",`underline${Ue(a)}`,t==="button"&&"button",i&&"focusVisible"]};return nt(o,l7,e)},h7=ke(V0,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Ue(t.underline)}`],t.component==="button"&&e.button]}})(Ke(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:Yt(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:Yt(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:Yt(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${c7.focusVisible}`]:{outline:"auto"}}}]}))),sv=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiLink"}),a=us(),{className:o,color:l="primary",component:c="a",onBlur:d,onFocus:h,TypographyClasses:f,underline:m="always",variant:v="inherit",sx:p,...S}=i,[y,C]=K.useState(!1),w=A=>{is(A.target)||C(!1),d&&d(A)},D=A=>{is(A.target)&&C(!0),h&&h(A)},b={...i,color:l,component:c,focusVisible:y,underline:m,variant:v},x=d7(b);return re.jsx(h7,{color:l,className:ze(x.root,o),classes:f,component:c,onBlur:w,onFocus:D,ref:t,ownerState:b,variant:v,...S,sx:[...ov[l]===void 0?[{color:l}]:[],...Array.isArray(p)?p:[p]],style:{...S.style,...m==="always"&&l!=="inherit"&&!ov[l]&&{"--Link-underlineColor":u7({theme:a,ownerState:b})}}})}),f7=K.createContext({});function g7(n){return et("MuiList",n)}tt("MuiList",["root","padding","dense","subheader"]);const p7=n=>{const{classes:e,disablePadding:t,dense:i,subheader:a}=n;return nt({root:["root",!t&&"padding",i&&"dense",a&&"subheader"]},g7,e)},m7=ke("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),S7=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiList"}),{children:a,className:o,component:l="ul",dense:c=!1,disablePadding:d=!1,subheader:h,...f}=i,m=K.useMemo(()=>({dense:c}),[c]),v={...i,component:l,dense:c,disablePadding:d},p=p7(v);return re.jsx(f7.Provider,{value:m,children:re.jsxs(m7,{as:l,className:ze(p.root,o),ref:t,ownerState:v,...f,children:[h,a]})})});function e1(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function lv(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function x4(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function hl(n,e,t,i,a,o){let l=!1,c=a(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(l)return!1;l=!0}const d=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!x4(c,o)||d)c=a(n,c,t);else return c.focus(),!0}return!1}const y7=K.forwardRef(function(e,t){const{actions:i,autoFocus:a=!1,autoFocusItem:o=!1,children:l,className:c,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:f,variant:m="selectedMenu",...v}=e,p=K.useRef(null),S=K.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ti(()=>{a&&p.current.focus()},[a]),K.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(b,{direction:x})=>{const A=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&A){const I=`${T4(wi(b))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=I,p.current.style.width=`calc(100% + ${I})`}return p.current}}),[]);const y=b=>{const x=p.current,A=b.key;if(b.ctrlKey||b.metaKey||b.altKey){f&&f(b);return}const k=Pn(x).activeElement;if(A==="ArrowDown")b.preventDefault(),hl(x,k,h,d,e1);else if(A==="ArrowUp")b.preventDefault(),hl(x,k,h,d,lv);else if(A==="Home")b.preventDefault(),hl(x,null,h,d,e1);else if(A==="End")b.preventDefault(),hl(x,null,h,d,lv);else if(A.length===1){const E=S.current,_=A.toLowerCase(),R=performance.now();E.keys.length>0&&(R-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&_!==E.keys[0]&&(E.repeating=!1)),E.lastTime=R,E.keys.push(_);const N=k&&!E.repeating&&x4(k,E);E.previousKeyMatched&&(N||hl(x,k,!1,d,e1,E))?b.preventDefault():E.previousKeyMatched=!1}f&&f(b)},C=xn(p,t);let w=-1;K.Children.forEach(l,(b,x)=>{if(!K.isValidElement(b)){w===x&&(w+=1,w>=l.length&&(w=-1));return}b.props.disabled||(m==="selectedMenu"&&b.props.selected||w===-1)&&(w=x),w===x&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(w+=1,w>=l.length&&(w=-1))});const D=K.Children.map(l,(b,x)=>{if(x===w){const A={};return o&&(A.autoFocus=!0),b.props.tabIndex===void 0&&m==="selectedMenu"&&(A.tabIndex=0),K.cloneElement(b,A)}return b});return re.jsx(S7,{role:"menu",ref:C,className:c,onKeyDown:y,tabIndex:a?0:-1,...v,children:D})});function v7(n){return et("MuiPopover",n)}tt("MuiPopover",["root","paper"]);function cv(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function uv(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function dv(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function t0(n){return typeof n=="function"?n():n}const b7=n=>{const{classes:e}=n;return nt({root:["root"],paper:["paper"]},v7,e)},C7=ke(w4,{name:"MuiPopover",slot:"Root"})({}),A4=ke(Fc,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),D7=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiPopover"}),{action:a,anchorEl:o,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:v=8,marginThreshold:p=16,open:S,PaperProps:y={},slots:C={},slotProps:w={},transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:x="auto",TransitionProps:A={},disableScrollLock:I=!1,...k}=i,E=K.useRef(),_={...i,anchorOrigin:l,anchorReference:d,elevation:v,marginThreshold:p,transformOrigin:D,TransitionComponent:b,transitionDuration:x,TransitionProps:A},R=b7(_),N=K.useCallback(()=>{if(d==="anchorPosition")return c;const de=t0(o),Te=(de&&de.nodeType===1?de:Pn(E.current).body).getBoundingClientRect();return{top:Te.top+cv(Te,l.vertical),left:Te.left+uv(Te,l.horizontal)}},[o,l.horizontal,l.vertical,c,d]),U=K.useCallback(de=>({vertical:cv(de,D.vertical),horizontal:uv(de,D.horizontal)}),[D.horizontal,D.vertical]),L=K.useCallback(de=>{const be={width:de.offsetWidth,height:de.offsetHeight},Te=U(be);if(d==="none")return{top:null,left:null,transformOrigin:dv(Te)};const Me=N();let q=Me.top-Te.vertical,le=Me.left-Te.horizontal;const he=q+be.height,W=le+be.width,X=wi(t0(o)),ae=X.innerHeight-p,ve=X.innerWidth-p;if(p!==null&&q<p){const Ce=q-p;q-=Ce,Te.vertical+=Ce}else if(p!==null&&he>ae){const Ce=he-ae;q-=Ce,Te.vertical+=Ce}if(p!==null&&le<p){const Ce=le-p;le-=Ce,Te.horizontal+=Ce}else if(W>ve){const Ce=W-ve;le-=Ce,Te.horizontal+=Ce}return{top:`${Math.round(q)}px`,left:`${Math.round(le)}px`,transformOrigin:dv(Te)}},[o,d,N,U,p]),[P,M]=K.useState(S),F=K.useCallback(()=>{const de=E.current;if(!de)return;const be=L(de);be.top!==null&&de.style.setProperty("top",be.top),be.left!==null&&(de.style.left=be.left),de.style.transformOrigin=be.transformOrigin,M(!0)},[L]);K.useEffect(()=>(I&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[o,I,F]);const B=()=>{F()},H=()=>{M(!1)};K.useEffect(()=>{S&&F()}),K.useImperativeHandle(a,()=>S?{updatePosition:()=>{F()}}:null,[S,F]),K.useEffect(()=>{if(!S)return;const de=Ug(()=>{F()}),be=wi(t0(o));return be.addEventListener("resize",de),()=>{de.clear(),be.removeEventListener("resize",de)}},[o,S,F]);let Q=x;const G={slots:{transition:b,...C},slotProps:{transition:A,paper:y,...w}},[z,j]=Kt("transition",{elementType:$1,externalForwardedProps:G,ownerState:_,getSlotProps:de=>({...de,onEntering:(be,Te)=>{de.onEntering?.(be,Te),B()},onExited:be=>{de.onExited?.(be),H()}}),additionalProps:{appear:!0,in:S}});x==="auto"&&!z.muiSupportAuto&&(Q=void 0);const $=m||(o?Pn(t0(o)).body:void 0),[ee,{slots:J,slotProps:se,...Z}]=Kt("root",{ref:t,elementType:C7,externalForwardedProps:{...G,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:wx(typeof w.backdrop=="function"?w.backdrop(_):w.backdrop,{invisible:!0})},container:$,open:S},ownerState:_,className:ze(R.root,f)}),[te,ce]=Kt("paper",{ref:E,className:R.paper,elementType:A4,externalForwardedProps:G,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:P?void 0:{opacity:0}},ownerState:_});return re.jsx(ee,{...Z,...!Qa(ee)&&{slots:J,slotProps:se,disableScrollLock:I},children:re.jsx(z,{...j,timeout:Q,children:re.jsx(te,{...ce,children:h})})})});function T7(n){return et("MuiMenu",n)}tt("MuiMenu",["root","paper","list"]);const w7={vertical:"top",horizontal:"right"},x7={vertical:"top",horizontal:"left"},A7=n=>{const{classes:e}=n;return nt({root:["root"],paper:["paper"],list:["list"]},T7,e)},P7=ke(D7,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),R7=ke(A4,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),O7=ke(y7,{name:"MuiMenu",slot:"List"})({outline:0}),L7=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:p="auto",TransitionProps:{onEntering:S,...y}={},variant:C="selectedMenu",slots:w={},slotProps:D={},...b}=i,x=Ig(),A={...i,autoFocus:a,disableAutoFocusItem:c,MenuListProps:d,onEntering:S,PaperProps:m,transitionDuration:p,TransitionProps:y,variant:C},I=A7(A),k=a&&!c&&f,E=K.useRef(null),_=(Q,G)=>{E.current&&E.current.adjustStyleForScrollbar(Q,{direction:x?"rtl":"ltr"}),S&&S(Q,G)},R=Q=>{Q.key==="Tab"&&(Q.preventDefault(),h&&h(Q,"tabKeyDown"))};let N=-1;K.Children.map(o,(Q,G)=>{K.isValidElement(Q)&&(Q.props.disabled||(C==="selectedMenu"&&Q.props.selected||N===-1)&&(N=G))});const U={slots:w,slotProps:{list:d,transition:y,paper:m,...D}},L=ur({elementType:w.root,externalSlotProps:D.root,ownerState:A,className:[I.root,l]}),[P,M]=Kt("paper",{className:I.paper,elementType:R7,externalForwardedProps:U,shouldForwardComponentProp:!0,ownerState:A}),[F,B]=Kt("list",{className:ze(I.list,d.className),elementType:O7,shouldForwardComponentProp:!0,externalForwardedProps:U,getSlotProps:Q=>({...Q,onKeyDown:G=>{R(G),Q.onKeyDown?.(G)}}),ownerState:A}),H=typeof U.slotProps.transition=="function"?U.slotProps.transition(A):U.slotProps.transition;return re.jsx(P7,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?w7:x7,slots:{root:w.root,paper:P,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:L,paper:M,backdrop:typeof D.backdrop=="function"?D.backdrop(A):D.backdrop,transition:{...H,onEntering:(...Q)=>{_(...Q),H?.onEntering?.(...Q)}}},open:f,ref:t,transitionDuration:p,ownerState:A,...b,classes:v,children:re.jsx(F,{actions:E,autoFocus:a&&(N===-1||c),autoFocusItem:k,variant:C,...B,children:o})})});function I7(n){return et("MuiNativeSelect",n)}const jg=tt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),E7=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:l}=n,c={select:["select",t,i&&"disabled",a&&"multiple",l&&"error"],icon:["icon",`icon${Ue(t)}`,o&&"iconOpen",i&&"disabled"]};return nt(c,I7,e)},P4=ke("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${jg.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),_7=ke(P4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Gi,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${jg.multiple}`]:e.multiple}]}})({}),R4=ke("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${jg.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),M7=ke(R4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ue(t.variant)}`],t.open&&e.iconOpen]}})({}),F7=K.forwardRef(function(e,t){const{className:i,disabled:a,error:o,IconComponent:l,inputRef:c,variant:d="standard",...h}=e,f={...e,disabled:a,variant:d,error:o},m=E7(f);return re.jsxs(K.Fragment,{children:[re.jsx(_7,{ownerState:f,className:ze(m.select,i),disabled:a,ref:c||t,...h}),e.multiple?null:re.jsx(M7,{as:l,ownerState:f,className:m.icon})]})});var hv;const k7=ke("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Gi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),U7=ke("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Gi})(Ke(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function N7(n){const{children:e,classes:t,className:i,label:a,notched:o,...l}=n,c=a!=null&&a!=="",d={...n,notched:o,withLabel:c};return re.jsx(k7,{"aria-hidden":!0,className:i,ownerState:d,...l,children:re.jsx(U7,{ownerState:d,children:c?re.jsx("span",{children:a}):hv||(hv=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const q7=n=>{const{classes:e}=n,i=nt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},I9,e);return{...e,...i}},B7=ke(Sd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:pd})(Ke(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ei.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ei.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ei.focused} .${Ei.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(sn()).map(([t])=>({props:{color:t},style:{[`&.${Ei.focused} .${Ei.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Ei.error} .${Ei.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ei.disabled} .${Ei.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),G7=ke(N7,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ke(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),V7=ke(yd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:md})(Ke(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Yg=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:l="input",label:c,multiline:d=!1,notched:h,slots:f={},slotProps:m={},type:v="text",...p}=i,S=q7(i),y=$a(),C=hs({props:i,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...i,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:y,fullWidth:o,hiddenLabel:C.hiddenLabel,multiline:d,size:C.size,type:v},D=f.root??a.Root??B7,b=f.input??a.Input??V7,[x,A]=Kt("notchedOutline",{elementType:G7,className:S.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:f,slotProps:m},additionalProps:{label:c!=null&&c!==""&&C.required?re.jsxs(K.Fragment,{children:[c," ","*"]}):c}});return re.jsx(Vg,{slots:{root:D,input:b},slotProps:m,renderSuffix:I=>re.jsx(x,{...A,notched:typeof h<"u"?h:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:l,multiline:d,ref:t,type:v,...p,classes:{...S,notchedOutline:null}})});Yg.muiName="Input";const z7={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function O4(n){return et("MuiSelect",n)}const fl=tt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var fv;const Q7=ke(P4,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${fl.select}`]:e.select},{[`&.${fl.select}`]:e[t.variant]},{[`&.${fl.error}`]:e.error},{[`&.${fl.multiple}`]:e.multiple}]}})({[`&.${fl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),H7=ke(R4,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ue(t.variant)}`],t.open&&e.iconOpen]}})({}),j7=ke("input",{shouldForwardProp:n=>fd(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function gv(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function Y7(n){return n==null||typeof n=="string"&&!n.trim()}const X7=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:l}=n,c={select:["select",t,i&&"disabled",a&&"multiple",l&&"error"],icon:["icon",`icon${Ue(t)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return nt(c,O4,e)},W7=K.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:l,children:c,className:d,defaultOpen:h,defaultValue:f,disabled:m,displayEmpty:v,error:p=!1,IconComponent:S,inputRef:y,labelId:C,MenuProps:w={},multiple:D,name:b,onBlur:x,onChange:A,onClose:I,onFocus:k,onOpen:E,open:_,readOnly:R,renderValue:N,required:U,SelectDisplayProps:L={},tabIndex:P,type:M,value:F,variant:B="standard",...H}=e,[Q,G]=G1({controlled:F,default:f,name:"Select"}),[z,j]=G1({controlled:_,default:h,name:"Select"}),$=K.useRef(null),ee=K.useRef(null),[J,se]=K.useState(null),{current:Z}=K.useRef(_!=null),[te,ce]=K.useState(),de=xn(t,y),be=K.useCallback(Ne=>{ee.current=Ne,Ne&&se(Ne)},[]),Te=J?.parentNode;K.useImperativeHandle(de,()=>({focus:()=>{ee.current.focus()},node:$.current,value:Q}),[Q]),K.useEffect(()=>{h&&z&&J&&!Z&&(ce(l?null:Te.clientWidth),ee.current.focus())},[J,l]),K.useEffect(()=>{o&&ee.current.focus()},[o]),K.useEffect(()=>{if(!C)return;const Ne=Pn(ee.current).getElementById(C);if(Ne){const We=()=>{getSelection().isCollapsed&&ee.current.focus()};return Ne.addEventListener("click",We),()=>{Ne.removeEventListener("click",We)}}},[C]);const Me=(Ne,We)=>{Ne?E&&E(We):I&&I(We),Z||(ce(l?null:Te.clientWidth),j(Ne))},q=Ne=>{Ne.button===0&&(Ne.preventDefault(),ee.current.focus(),Me(!0,Ne))},le=Ne=>{Me(!1,Ne)},he=K.Children.toArray(c),W=Ne=>{const We=he.find(bt=>bt.props.value===Ne.target.value);We!==void 0&&(G(We.props.value),A&&A(Ne,We))},X=Ne=>We=>{let bt;if(We.currentTarget.hasAttribute("tabindex")){if(D){bt=Array.isArray(Q)?Q.slice():[];const Kn=Q.indexOf(Ne.props.value);Kn===-1?bt.push(Ne.props.value):bt.splice(Kn,1)}else bt=Ne.props.value;if(Ne.props.onClick&&Ne.props.onClick(We),Q!==bt&&(G(bt),A)){const Kn=We.nativeEvent||We,hi=new Kn.constructor(Kn.type,Kn);Object.defineProperty(hi,"target",{writable:!0,value:{value:bt,name:b}}),A(hi,Ne)}D||Me(!1,We)}},ae=Ne=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(Ne.key)&&(Ne.preventDefault(),Me(!0,Ne))},ve=J!==null&&z,Ce=Ne=>{!ve&&x&&(Object.defineProperty(Ne,"target",{writable:!0,value:{value:Q,name:b}}),x(Ne))};delete H["aria-invalid"];let ne,Pe;const Ee=[];let fe=!1;(z0({value:Q})||v)&&(N?ne=N(Q):fe=!0);const pe=he.map(Ne=>{if(!K.isValidElement(Ne))return null;let We;if(D){if(!Array.isArray(Q))throw new Error(Sr(2));We=Q.some(bt=>gv(bt,Ne.props.value)),We&&fe&&Ee.push(Ne.props.children)}else We=gv(Q,Ne.props.value),We&&fe&&(Pe=Ne.props.children);return K.cloneElement(Ne,{"aria-selected":We?"true":"false",onClick:X(Ne),onKeyUp:bt=>{bt.key===" "&&bt.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(bt)},role:"option",selected:We,value:void 0,"data-value":Ne.props.value})});fe&&(D?Ee.length===0?ne=null:ne=Ee.reduce((Ne,We,bt)=>(Ne.push(We),bt<Ee.length-1&&Ne.push(", "),Ne),[]):ne=Pe);let Oe=te;!l&&Z&&J&&(Oe=Te.clientWidth);let Ie;typeof P<"u"?Ie=P:Ie=m?null:0;const Fe=L.id||(b?`mui-component-select-${b}`:void 0),qe={...e,variant:B,value:Q,open:ve,error:p},Ve=X7(qe),Ze={...w.PaperProps,...w.slotProps?.paper},Ge={...w.MenuListProps,...w.slotProps?.list},dt=Mc();return re.jsxs(K.Fragment,{children:[re.jsx(Q7,{as:"div",ref:be,tabIndex:Ie,role:"combobox","aria-controls":ve?dt:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":ve?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[C,Fe].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":U?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:ae,onMouseDown:m||R?null:q,onBlur:Ce,onFocus:k,...L,ownerState:qe,className:ze(L.className,Ve.select,d),id:Fe,children:Y7(ne)?fv||(fv=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):ne}),re.jsx(j7,{"aria-invalid":p,value:Array.isArray(Q)?Q.join(","):Q,name:b,ref:$,"aria-hidden":!0,onChange:W,tabIndex:-1,disabled:m,className:Ve.nativeInput,autoFocus:o,required:U,...H,ownerState:qe}),re.jsx(H7,{as:S,className:Ve.icon,ownerState:qe}),re.jsx(L7,{id:`menu-${b||""}`,anchorEl:Te,open:ve,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":D?"true":void 0,disableListWrap:!0,id:dt,...Ge},paper:{...Ze,style:{minWidth:Oe,...Ze!=null?Ze.style:null}}},children:pe})]})}),$7=n=>{const{classes:e}=n,i=nt({root:["root"]},O4,e);return{...e,...i}},Xg={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Gi(n)&&n!=="variant"},K7=ke(Qg,Xg)(""),Z7=ke(Yg,Xg)(""),J7=ke(zg,Xg)(""),L4=K.forwardRef(function(e,t){const i=it({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:o,classes:l={},className:c,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:f=_9,id:m,input:v,inputProps:p,label:S,labelId:y,MenuProps:C,multiple:w=!1,native:D=!1,onClose:b,onOpen:x,open:A,renderValue:I,SelectDisplayProps:k,variant:E="outlined",..._}=i,R=D?F7:W7,N=$a(),U=hs({props:i,muiFormControl:N,states:["variant","error"]}),L=U.variant||E,P={...i,variant:L,classes:l},M=$7(P),{root:F,...B}=M,H=v||{standard:re.jsx(K7,{ownerState:P}),outlined:re.jsx(Z7,{label:S,ownerState:P}),filled:re.jsx(J7,{ownerState:P})}[L],Q=xn(t,ds(H));return re.jsx(K.Fragment,{children:K.cloneElement(H,{inputComponent:R,inputProps:{children:o,error:U.error,IconComponent:f,variant:L,type:void 0,multiple:w,...D?{id:m}:{autoWidth:a,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:C,onClose:b,onOpen:x,open:A,renderValue:I,SelectDisplayProps:{id:m,...k}},...p,classes:p?hn(B,p.classes):B,...v?v.props.inputProps:{}},...(w&&D||h)&&L==="outlined"?{notched:!0}:{},ref:Q,className:ze(H.props.className,c,M.root),...!v&&{variant:L},..._})})});L4.muiName="Select";function eP(n,e,t=(i,a)=>i===a){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}const tP=2;function Ho(n,e,t,i,a){return t===1?Math.min(n+e,a):Math.max(n-e,i)}function I4(n,e){return n-e}function pv(n,e){const{index:t}=n.reduce((i,a,o)=>{const l=Math.abs(e-a);return i===null||l<i.distance||l===i.distance?{distance:l,index:o}:i},null)??{};return t}function n0(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const a=t.changedTouches[i];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function Q0(n,e,t){return(n-e)*100/(t-e)}function nP(n,e,t){return(t-e)*n+e}function iP(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function rP(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(iP(e)))}function mv({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(I4)}function i0({sliderRef:n,activeIndex:e,setActive:t}){const i=Pn(n.current);(!n.current?.contains(i.activeElement)||Number(i?.activeElement?.getAttribute("data-index"))!==e)&&n.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),t&&t(e)}function r0(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?eP(n,e):!1}const aP={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},oP=n=>n;let a0;function Sv(){return a0===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?a0=CSS.supports("touch-action","none"):a0=!0),a0}function sP(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:a=!1,isRtl:o=!1,marks:l=!1,max:c=100,min:d=0,name:h,onChange:f,onChangeCommitted:m,orientation:v="horizontal",rootRef:p,scale:S=oP,step:y=1,shiftStep:C=10,tabIndex:w,value:D}=n,b=K.useRef(void 0),[x,A]=K.useState(-1),[I,k]=K.useState(-1),[E,_]=K.useState(!1),R=K.useRef(0),N=K.useRef(null),[U,L]=G1({controlled:D,default:t??d,name:"Slider"}),P=f&&((fe,pe,Oe)=>{const Ie=fe.nativeEvent||fe,Fe=new Ie.constructor(Ie.type,Ie);Object.defineProperty(Fe,"target",{writable:!0,value:{value:pe,name:h}}),N.current=pe,f(Fe,pe,Oe)}),M=Array.isArray(U);let F=M?U.slice().sort(I4):[U];F=F.map(fe=>fe==null?d:Yo(fe,d,c));const B=l===!0&&y!==null?[...Array(Math.floor((c-d)/y)+1)].map((fe,pe)=>({value:d+y*pe})):l||[],H=B.map(fe=>fe.value),[Q,G]=K.useState(-1),z=K.useRef(null),j=xn(p,z),$=fe=>pe=>{const Oe=Number(pe.currentTarget.getAttribute("data-index"));is(pe.target)&&G(Oe),k(Oe),fe?.onFocus?.(pe)},ee=fe=>pe=>{is(pe.target)||G(-1),k(-1),fe?.onBlur?.(pe)},J=(fe,pe)=>{const Oe=Number(fe.currentTarget.getAttribute("data-index")),Ie=F[Oe],Fe=H.indexOf(Ie);let qe=pe;if(B&&y==null){const Ve=H[H.length-1];qe>=Ve?qe=Ve:qe<=H[0]?qe=H[0]:qe=qe<Ie?H[Fe-1]:H[Fe+1]}if(qe=Yo(qe,d,c),M){a&&(qe=Yo(qe,F[Oe-1]||-1/0,F[Oe+1]||1/0));const Ve=qe;qe=mv({values:F,newValue:qe,index:Oe});let Ze=Oe;a||(Ze=qe.indexOf(Ve)),i0({sliderRef:z,activeIndex:Ze})}L(qe),G(Oe),P&&!r0(qe,U)&&P(fe,qe,Oe),m&&m(fe,N.current??qe)},se=fe=>pe=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(pe.key)){pe.preventDefault();const Oe=Number(pe.currentTarget.getAttribute("data-index")),Ie=F[Oe];let Fe=null;if(y!=null){const qe=pe.shiftKey?C:y;switch(pe.key){case"ArrowUp":Fe=Ho(Ie,qe,1,d,c);break;case"ArrowRight":Fe=Ho(Ie,qe,o?-1:1,d,c);break;case"ArrowDown":Fe=Ho(Ie,qe,-1,d,c);break;case"ArrowLeft":Fe=Ho(Ie,qe,o?1:-1,d,c);break;case"PageUp":Fe=Ho(Ie,C,1,d,c);break;case"PageDown":Fe=Ho(Ie,C,-1,d,c);break;case"Home":Fe=d;break;case"End":Fe=c;break}}else if(B){const qe=H[H.length-1],Ve=H.indexOf(Ie),Ze=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ge=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ze.includes(pe.key)?Ve===0?Fe=H[0]:Fe=H[Ve-1]:Ge.includes(pe.key)&&(Ve===H.length-1?Fe=qe:Fe=H[Ve+1])}Fe!=null&&J(pe,Fe)}fe?.onKeyDown?.(pe)};Ti(()=>{i&&z.current.contains(document.activeElement)&&document.activeElement?.blur()},[i]),i&&x!==-1&&A(-1),i&&Q!==-1&&G(-1);const Z=fe=>pe=>{fe.onChange?.(pe),J(pe,pe.target.valueAsNumber)},te=K.useRef(void 0);let ce=v;o&&v==="horizontal"&&(ce+="-reverse");const de=({finger:fe,move:pe=!1})=>{const{current:Oe}=z,{width:Ie,height:Fe,bottom:qe,left:Ve}=Oe.getBoundingClientRect();let Ze;ce.startsWith("vertical")?Ze=(qe-fe.y)/Fe:Ze=(fe.x-Ve)/Ie,ce.includes("-reverse")&&(Ze=1-Ze);let Ge;if(Ge=nP(Ze,d,c),y)Ge=rP(Ge,y,d);else{const Ne=pv(H,Ge);Ge=H[Ne]}Ge=Yo(Ge,d,c);let dt=0;if(M){pe?dt=te.current:dt=pv(F,Ge),a&&(Ge=Yo(Ge,F[dt-1]||-1/0,F[dt+1]||1/0));const Ne=Ge;Ge=mv({values:F,newValue:Ge,index:dt}),a&&pe||(dt=Ge.indexOf(Ne),te.current=dt)}return{newValue:Ge,activeIndex:dt}},be=Bi(fe=>{const pe=n0(fe,b);if(!pe)return;if(R.current+=1,fe.type==="mousemove"&&fe.buttons===0){Te(fe);return}const{newValue:Oe,activeIndex:Ie}=de({finger:pe,move:!0});i0({sliderRef:z,activeIndex:Ie,setActive:A}),L(Oe),!E&&R.current>tP&&_(!0),P&&!r0(Oe,U)&&P(fe,Oe,Ie)}),Te=Bi(fe=>{const pe=n0(fe,b);if(_(!1),!pe)return;const{newValue:Oe}=de({finger:pe,move:!0});A(-1),fe.type==="touchend"&&k(-1),m&&m(fe,N.current??Oe),b.current=void 0,q()}),Me=Bi(fe=>{if(i)return;Sv()||fe.preventDefault();const pe=fe.changedTouches[0];pe!=null&&(b.current=pe.identifier);const Oe=n0(fe,b);if(Oe!==!1){const{newValue:Fe,activeIndex:qe}=de({finger:Oe});i0({sliderRef:z,activeIndex:qe,setActive:A}),L(Fe),P&&!r0(Fe,U)&&P(fe,Fe,qe)}R.current=0;const Ie=Pn(z.current);Ie.addEventListener("touchmove",be,{passive:!0}),Ie.addEventListener("touchend",Te,{passive:!0})}),q=K.useCallback(()=>{const fe=Pn(z.current);fe.removeEventListener("mousemove",be),fe.removeEventListener("mouseup",Te),fe.removeEventListener("touchmove",be),fe.removeEventListener("touchend",Te)},[Te,be]);K.useEffect(()=>{const{current:fe}=z;return fe.addEventListener("touchstart",Me,{passive:Sv()}),()=>{fe.removeEventListener("touchstart",Me),q()}},[q,Me]),K.useEffect(()=>{i&&q()},[i,q]);const le=fe=>pe=>{if(fe.onMouseDown?.(pe),i||pe.defaultPrevented||pe.button!==0)return;pe.preventDefault();const Oe=n0(pe,b);if(Oe!==!1){const{newValue:Fe,activeIndex:qe}=de({finger:Oe});i0({sliderRef:z,activeIndex:qe,setActive:A}),L(Fe),P&&!r0(Fe,U)&&P(pe,Fe,qe)}R.current=0;const Ie=Pn(z.current);Ie.addEventListener("mousemove",be,{passive:!0}),Ie.addEventListener("mouseup",Te)},he=Q0(M?F[0]:d,d,c),W=Q0(F[F.length-1],d,c)-he,X=(fe={})=>{const pe=fc(fe),Oe={onMouseDown:le(pe||{})},Ie={...pe,...Oe};return{...fe,ref:j,...Ie}},ae=fe=>pe=>{fe.onMouseOver?.(pe);const Oe=Number(pe.currentTarget.getAttribute("data-index"));k(Oe)},ve=fe=>pe=>{fe.onMouseLeave?.(pe),k(-1)},Ce=(fe={})=>{const pe=fc(fe),Oe={onMouseOver:ae(pe||{}),onMouseLeave:ve(pe||{})};return{...fe,...pe,...Oe}},ne=fe=>({pointerEvents:x!==-1&&x!==fe?"none":void 0});let Pe;return v==="vertical"&&(Pe=o?"vertical-rl":"vertical-lr"),{active:x,axis:ce,axisProps:aP,dragging:E,focusedThumbIndex:Q,getHiddenInputProps:(fe={})=>{const pe=fc(fe),Oe={onChange:Z(pe||{}),onFocus:$(pe||{}),onBlur:ee(pe||{}),onKeyDown:se(pe||{})},Ie={...pe,...Oe};return{tabIndex:w,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(c),"aria-valuemin":S(d),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...fe,...Ie,style:{...z7,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Pe}}},getRootProps:X,getThumbProps:Ce,marks:B,open:I,range:M,rootRef:j,trackLeap:W,trackOffset:he,values:F,getThumbStyle:ne}}const lP=n=>!n||!Qa(n);function cP(n){return et("MuiSlider",n)}const ui=tt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),uP=n=>{const{open:e}=n;return{offset:ze(e&&ui.valueLabelOpen),circle:ui.valueLabelCircle,label:ui.valueLabelLabel}};function dP(n){const{children:e,className:t,value:i}=n,a=uP(n);return e?K.cloneElement(e,{className:e.props.className},re.jsxs(K.Fragment,{children:[e.props.children,re.jsx("span",{className:ze(a.offset,t),"aria-hidden":!0,children:re.jsx("span",{className:a.circle,children:re.jsx("span",{className:a.label,children:i})})})]})):null}function yv(n){return n}const hP=ke("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ue(t.color)}`],t.size!=="medium"&&e[`size${Ue(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(Ke(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${ui.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${ui.dragging}`]:{[`& .${ui.thumb}, & .${ui.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),fP=ke("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),gP=ke("span",{name:"MuiSlider",slot:"Track"})(Ke(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Wa(n.palette[e].main,.62),borderColor:Wa(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:Xa(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:Xa(n.palette[e].main,.5)})}}}))]}))),pP=ke("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Ue(t.color)}`],t.size!=="medium"&&e[`thumbSize${Ue(t.size)}`]]}})(Ke(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${ui.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${ui.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${Yt(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${ui.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${Yt(n.palette[e].main,.16)}`}}}}))]}))),mP=ke(dP,{name:"MuiSlider",slot:"ValueLabel"})(Ke(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${ui.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${ui.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),SP=ke("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>fd(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(Ke(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),yP=ke("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>fd(n)&&n!=="markLabelActive"})(Ke(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),vP=n=>{const{disabled:e,dragging:t,marked:i,orientation:a,track:o,classes:l,color:c,size:d}=n,h={root:["root",e&&"disabled",t&&"dragging",i&&"marked",a==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",c&&`color${Ue(c)}`,d&&`size${Ue(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${Ue(d)}`,c&&`thumbColor${Ue(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return nt(h,cP,l)},bP=({children:n})=>n,CP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiSlider"}),a=Ig(),{"aria-label":o,"aria-valuetext":l,"aria-labelledby":c,component:d="span",components:h={},componentsProps:f={},color:m="primary",classes:v,className:p,disableSwap:S=!1,disabled:y=!1,getAriaLabel:C,getAriaValueText:w,marks:D=!1,max:b=100,min:x=0,name:A,onChange:I,onChangeCommitted:k,orientation:E="horizontal",shiftStep:_=10,size:R="medium",step:N=1,scale:U=yv,slotProps:L,slots:P,tabIndex:M,track:F="normal",value:B,valueLabelDisplay:H="off",valueLabelFormat:Q=yv,...G}=i,z={...i,isRtl:a,max:b,min:x,classes:v,disabled:y,disableSwap:S,orientation:E,marks:D,color:m,size:R,step:N,shiftStep:_,scale:U,track:F,valueLabelDisplay:H,valueLabelFormat:Q},{axisProps:j,getRootProps:$,getHiddenInputProps:ee,getThumbProps:J,open:se,active:Z,axis:te,focusedThumbIndex:ce,range:de,dragging:be,marks:Te,values:Me,trackOffset:q,trackLeap:le,getThumbStyle:he}=sP({...z,rootRef:t});z.marked=Te.length>0&&Te.some(pt=>pt.label),z.dragging=be,z.focusedThumbIndex=ce;const W=vP(z),X=P?.root??h.Root??hP,ae=P?.rail??h.Rail??fP,ve=P?.track??h.Track??gP,Ce=P?.thumb??h.Thumb??pP,ne=P?.valueLabel??h.ValueLabel??mP,Pe=P?.mark??h.Mark??SP,Ee=P?.markLabel??h.MarkLabel??yP,fe=P?.input??h.Input??"input",pe=L?.root??f.root,Oe=L?.rail??f.rail,Ie=L?.track??f.track,Fe=L?.thumb??f.thumb,qe=L?.valueLabel??f.valueLabel,Ve=L?.mark??f.mark,Ze=L?.markLabel??f.markLabel,Ge=L?.input??f.input,dt=ur({elementType:X,getSlotProps:$,externalSlotProps:pe,externalForwardedProps:G,additionalProps:{...lP(X)&&{as:d}},ownerState:{...z,...pe?.ownerState},className:[W.root,p]}),Ne=ur({elementType:ae,externalSlotProps:Oe,ownerState:z,className:W.rail}),We=ur({elementType:ve,externalSlotProps:Ie,additionalProps:{style:{...j[te].offset(q),...j[te].leap(le)}},ownerState:{...z,...Ie?.ownerState},className:W.track}),bt=ur({elementType:Ce,getSlotProps:J,externalSlotProps:Fe,ownerState:{...z,...Fe?.ownerState},className:W.thumb}),Kn=ur({elementType:ne,externalSlotProps:qe,ownerState:{...z,...qe?.ownerState},className:W.valueLabel}),hi=ur({elementType:Pe,externalSlotProps:Ve,ownerState:z,className:W.mark}),br=ur({elementType:Ee,externalSlotProps:Ze,ownerState:z,className:W.markLabel}),Cr=ur({elementType:fe,getSlotProps:ee,externalSlotProps:Ge,ownerState:z});return re.jsxs(X,{...dt,children:[re.jsx(ae,{...Ne}),re.jsx(ve,{...We}),Te.filter(pt=>pt.value>=x&&pt.value<=b).map((pt,Ut)=>{const Za=Q0(pt.value,x,b),oa=j[te].offset(Za);let Bn;return F===!1?Bn=Me.includes(pt.value):Bn=F==="normal"&&(de?pt.value>=Me[0]&&pt.value<=Me[Me.length-1]:pt.value<=Me[0])||F==="inverted"&&(de?pt.value<=Me[0]||pt.value>=Me[Me.length-1]:pt.value>=Me[0]),re.jsxs(K.Fragment,{children:[re.jsx(Pe,{"data-index":Ut,...hi,...!Qa(Pe)&&{markActive:Bn},style:{...oa,...hi.style},className:ze(hi.className,Bn&&W.markActive)}),pt.label!=null?re.jsx(Ee,{"aria-hidden":!0,"data-index":Ut,...br,...!Qa(Ee)&&{markLabelActive:Bn},style:{...oa,...br.style},className:ze(W.markLabel,br.className,Bn&&W.markLabelActive),children:pt.label}):null]},Ut)}),Me.map((pt,Ut)=>{const Za=Q0(pt,x,b),oa=j[te].offset(Za),Bn=H==="off"?bP:ne;return re.jsx(Bn,{...!Qa(Bn)&&{valueLabelFormat:Q,valueLabelDisplay:H,value:typeof Q=="function"?Q(U(pt),Ut):Q,index:Ut,open:se===Ut||Z===Ut||H==="on",disabled:y},...Kn,children:re.jsx(Ce,{"data-index":Ut,...bt,className:ze(W.thumb,bt.className,Z===Ut&&W.active,ce===Ut&&W.focusVisible),style:{...oa,...he(Ut),...bt.style},children:re.jsx(fe,{"data-index":Ut,"aria-label":C?C(Ut):o,"aria-valuenow":U(pt),"aria-labelledby":c,"aria-valuetext":w?w(U(pt),Ut):l,value:Me[Ut],...Cr})})},Ut)})]})}),E4=Nw({createStyledComponent:ke("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>it({props:n,name:"MuiStack"})}),_4=K.createContext();function DP(n){return et("MuiTable",n)}tt("MuiTable",["root","stickyHeader"]);const TP=n=>{const{classes:e,stickyHeader:t}=n;return nt({root:["root",t&&"stickyHeader"]},DP,e)},wP=ke("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(Ke(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),vv="table",xP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTable"}),{className:a,component:o=vv,padding:l="normal",size:c="medium",stickyHeader:d=!1,...h}=i,f={...i,component:o,padding:l,size:c,stickyHeader:d},m=TP(f),v=K.useMemo(()=>({padding:l,size:c,stickyHeader:d}),[l,c,d]);return re.jsx(_4.Provider,{value:v,children:re.jsx(wP,{as:o,role:o===vv?null:"table",ref:t,className:ze(m.root,a),ownerState:f,...h})})}),vd=K.createContext();function AP(n){return et("MuiTableBody",n)}tt("MuiTableBody",["root"]);const PP=n=>{const{classes:e}=n;return nt({root:["root"]},AP,e)},RP=ke("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),OP={variant:"body"},bv="tbody",LP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTableBody"}),{className:a,component:o=bv,...l}=i,c={...i,component:o},d=PP(c);return re.jsx(vd.Provider,{value:OP,children:re.jsx(RP,{className:ze(d.root,a),as:o,ref:t,role:o===bv?null:"rowgroup",ownerState:c,...l})})});function IP(n){return et("MuiTableCell",n)}const EP=tt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),_P=n=>{const{classes:e,variant:t,align:i,padding:a,size:o,stickyHeader:l}=n,c={root:["root",t,l&&"stickyHeader",i!=="inherit"&&`align${Ue(i)}`,a!=="normal"&&`padding${Ue(a)}`,`size${Ue(o)}`]};return nt(c,IP,e)},MP=ke("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Ue(t.size)}`],t.padding!=="normal"&&e[`padding${Ue(t.padding)}`],t.align!=="inherit"&&e[`align${Ue(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(Ke(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?Wa(Yt(n.palette.divider,1),.88):Xa(Yt(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${EP.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),o0=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTableCell"}),{align:a="inherit",className:o,component:l,padding:c,scope:d,size:h,sortDirection:f,variant:m,...v}=i,p=K.useContext(_4),S=K.useContext(vd),y=S&&S.variant==="head";let C;l?C=l:C=y?"th":"td";let w=d;C==="td"?w=void 0:!w&&y&&(w="col");const D=m||S&&S.variant,b={...i,align:a,component:C,padding:c||(p&&p.padding?p.padding:"normal"),size:h||(p&&p.size?p.size:"medium"),sortDirection:f,stickyHeader:D==="head"&&p&&p.stickyHeader,variant:D},x=_P(b);let A=null;return f&&(A=f==="asc"?"ascending":"descending"),re.jsx(MP,{as:C,ref:t,className:ze(x.root,o),"aria-sort":A,scope:w,ownerState:b,...v})});function FP(n){return et("MuiTableContainer",n)}tt("MuiTableContainer",["root"]);const kP=n=>{const{classes:e}=n;return nt({root:["root"]},FP,e)},UP=ke("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),NP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTableContainer"}),{className:a,component:o="div",...l}=i,c={...i,component:o},d=kP(c);return re.jsx(UP,{ref:t,as:o,className:ze(d.root,a),ownerState:c,...l})});function qP(n){return et("MuiTableHead",n)}tt("MuiTableHead",["root"]);const BP=n=>{const{classes:e}=n;return nt({root:["root"]},qP,e)},GP=ke("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),VP={variant:"head"},Cv="thead",zP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTableHead"}),{className:a,component:o=Cv,...l}=i,c={...i,component:o},d=BP(c);return re.jsx(vd.Provider,{value:VP,children:re.jsx(GP,{as:o,className:ze(d.root,a),ref:t,role:o===Cv?null:"rowgroup",ownerState:c,...l})})});function QP(n){return et("MuiToolbar",n)}tt("MuiToolbar",["root","gutters","regular","dense"]);const HP=n=>{const{classes:e,disableGutters:t,variant:i}=n;return nt({root:["root",!t&&"gutters",i]},QP,e)},jP=ke("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(Ke(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),YP=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiToolbar"}),{className:a,component:o="div",disableGutters:l=!1,variant:c="regular",...d}=i,h={...i,component:o,disableGutters:l,variant:c},f=HP(h);return re.jsx(jP,{as:o,className:ze(f.root,a),ref:t,ownerState:h,...d})});function XP(n){return et("MuiTableRow",n)}const Dv=tt("MuiTableRow",["root","selected","hover","head","footer"]),WP=n=>{const{classes:e,selected:t,hover:i,head:a,footer:o}=n;return nt({root:["root",t&&"selected",i&&"hover",a&&"head",o&&"footer"]},XP,e)},$P=ke("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(Ke(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Dv.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Dv.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Yt(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Yt(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),Tv="tr",wv=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTableRow"}),{className:a,component:o=Tv,hover:l=!1,selected:c=!1,...d}=i,h=K.useContext(vd),f={...i,component:o,hover:l,selected:c,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},m=WP(f);return re.jsx($P,{as:o,ref:t,className:ze(m.root,a),role:o===Tv?null:"row",ownerState:f,...d})});function KP(n){return et("MuiTextField",n)}tt("MuiTextField",["root"]);const ZP={standard:Qg,filled:zg,outlined:Yg},JP=n=>{const{classes:e}=n;return nt({root:["root"]},KP,e)},eR=ke(OA,{name:"MuiTextField",slot:"Root"})({}),tR=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:o=!1,children:l,className:c,color:d="primary",defaultValue:h,disabled:f=!1,error:m=!1,FormHelperTextProps:v,fullWidth:p=!1,helperText:S,id:y,InputLabelProps:C,inputProps:w,InputProps:D,inputRef:b,label:x,maxRows:A,minRows:I,multiline:k=!1,name:E,onBlur:_,onChange:R,onFocus:N,placeholder:U,required:L=!1,rows:P,select:M=!1,SelectProps:F,slots:B={},slotProps:H={},type:Q,value:G,variant:z="outlined",...j}=i,$={...i,autoFocus:o,color:d,disabled:f,error:m,fullWidth:p,multiline:k,required:L,select:M,variant:z},ee=JP($),J=Mc(y),se=S&&J?`${J}-helper-text`:void 0,Z=x&&J?`${J}-label`:void 0,te=ZP[z],ce={slots:B,slotProps:{input:D,inputLabel:C,htmlInput:w,formHelperText:v,select:F,...H}},de={},be=ce.slotProps.inputLabel;z==="outlined"&&(be&&typeof be.shrink<"u"&&(de.notched=be.shrink),de.label=x),M&&((!F||!F.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[Te,Me]=Kt("root",{elementType:eR,shouldForwardComponentProp:!0,externalForwardedProps:{...ce,...j},ownerState:$,className:ze(ee.root,c),ref:t,additionalProps:{disabled:f,error:m,fullWidth:p,required:L,color:d,variant:z}}),[q,le]=Kt("input",{elementType:te,externalForwardedProps:ce,additionalProps:de,ownerState:$}),[he,W]=Kt("inputLabel",{elementType:KA,externalForwardedProps:ce,ownerState:$}),[X,ae]=Kt("htmlInput",{elementType:"input",externalForwardedProps:ce,ownerState:$}),[ve,Ce]=Kt("formHelperText",{elementType:_A,externalForwardedProps:ce,ownerState:$}),[ne,Pe]=Kt("select",{elementType:L4,externalForwardedProps:ce,ownerState:$}),Ee=re.jsx(q,{"aria-describedby":se,autoComplete:a,autoFocus:o,defaultValue:h,fullWidth:p,multiline:k,name:E,rows:P,maxRows:A,minRows:I,type:Q,value:G,id:J,inputRef:b,onBlur:_,onChange:R,onFocus:N,placeholder:U,inputProps:ae,slots:{input:B.htmlInput?X:void 0},...le});return re.jsxs(Te,{...Me,children:[x!=null&&x!==""&&re.jsx(he,{htmlFor:J,id:Z,...W,children:x}),M?re.jsx(ne,{"aria-describedby":se,id:J,labelId:Z,value:G,input:Ee,...Pe,children:l}):Ee,S&&re.jsx(ve,{id:se,...Ce,children:S})]})});function nR(n){return et("MuiToggleButton",n)}const qa=tt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),M4=K.createContext({}),F4=K.createContext(void 0);function iR(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const rR=n=>{const{classes:e,fullWidth:t,selected:i,disabled:a,size:o,color:l}=n,c={root:["root",i&&"selected",a&&"disabled",t&&"fullWidth",`size${Ue(o)}`,l]};return nt(c,nR,e)},aR=ke(b4,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Ue(t.size)}`]]}})(Ke(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${qa.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Yt(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${qa.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Yt(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Yt(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:Yt(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(sn()).map(([e])=>({props:{color:e},style:{[`&.${qa.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Yt(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Yt(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Yt(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),s0=K.forwardRef(function(e,t){const{value:i,...a}=K.useContext(M4),o=K.useContext(F4),l=wc({...a,selected:iR(e.value,i)},e),c=it({props:l,name:"MuiToggleButton"}),{children:d,className:h,color:f="standard",disabled:m=!1,disableFocusRipple:v=!1,fullWidth:p=!1,onChange:S,onClick:y,selected:C,size:w="medium",value:D,...b}=c,x={...c,color:f,disabled:m,disableFocusRipple:v,fullWidth:p,size:w},A=rR(x),I=E=>{y&&(y(E,D),E.defaultPrevented)||S&&S(E,D)},k=o||"";return re.jsx(aR,{className:ze(a.className,A.root,h,k),disabled:m,focusRipple:!v,ref:t,onClick:I,onChange:S,value:D,ownerState:x,"aria-pressed":C,...b,children:d})});function oR(n){return et("MuiToggleButtonGroup",n)}const Ft=tt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),sR=n=>{const{classes:e,orientation:t,fullWidth:i,disabled:a}=n,o={root:["root",t,i&&"fullWidth"],grouped:["grouped",`grouped${Ue(t)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return nt(o,oR,e)},lR=ke("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ft.grouped}`]:e.grouped},{[`& .${Ft.grouped}`]:e[`grouped${Ue(t.orientation)}`]},{[`& .${Ft.firstButton}`]:e.firstButton},{[`& .${Ft.lastButton}`]:e.lastButton},{[`& .${Ft.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(Ke(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Ft.grouped}`]:{[`&.${Ft.selected} + .${Ft.grouped}.${Ft.selected}`]:{borderTop:0,marginTop:0}},[`& .${Ft.firstButton},& .${Ft.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Ft.lastButton},& .${Ft.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Ft.lastButton}.${qa.disabled},& .${Ft.middleButton}.${qa.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Ft.grouped}`]:{[`&.${Ft.selected} + .${Ft.grouped}.${Ft.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Ft.firstButton},& .${Ft.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Ft.lastButton},& .${Ft.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Ft.lastButton}.${qa.disabled},& .${Ft.middleButton}.${qa.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),cR=K.forwardRef(function(e,t){const i=it({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:o,color:l="standard",disabled:c=!1,exclusive:d=!1,fullWidth:h=!1,onChange:f,orientation:m="horizontal",size:v="medium",value:p,...S}=i,y={...i,disabled:c,fullWidth:h,orientation:m,size:v},C=sR(y),w=K.useCallback((k,E)=>{if(!f)return;const _=p&&p.indexOf(E);let R;p&&_>=0?(R=p.slice(),R.splice(_,1)):R=p?p.concat(E):[E],f(k,R)},[f,p]),D=K.useCallback((k,E)=>{f&&f(k,p===E?null:E)},[f,p]),b=K.useMemo(()=>({className:C.grouped,onChange:d?D:w,value:p,size:v,fullWidth:h,color:l,disabled:c}),[C.grouped,d,D,w,p,v,h,l,c]),x=G9(a),A=x.length,I=k=>{const E=k===0,_=k===A-1;return E&&_?"":E?C.firstButton:_?C.lastButton:C.middleButton};return re.jsx(lR,{role:"group",className:ze(C.root,o),ref:t,ownerState:y,...S,children:re.jsx(M4.Provider,{value:b,children:x.map((k,E)=>re.jsx(F4.Provider,{value:I(E),children:k},E))})})}),uR=JC({themeId:Ci});var O0={exports:{}},gl={},t1={},n1={},xv;function at(){return xv||(xv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof $o<"u"?$o:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.20",isBrowser:t(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return n.Konva.angleDeg?a*e:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var a;return(a=n.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(a){n.glob.Konva=a}};const i=a=>{n.Konva[a.prototype.getClassName()]=a};n._registerNode=i,n.Konva._injectGlobal(n.Konva)}(n1)),n1}var i1={},Av;function Xt(){return Av||(Av=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=at();class t{constructor(x=[1,0,0,1,0,0]){this.dirty=!1,this.m=x&&x.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(x){x.m[0]=this.m[0],x.m[1]=this.m[1],x.m[2]=this.m[2],x.m[3]=this.m[3],x.m[4]=this.m[4],x.m[5]=this.m[5]}point(x){const A=this.m;return{x:A[0]*x.x+A[2]*x.y+A[4],y:A[1]*x.x+A[3]*x.y+A[5]}}translate(x,A){return this.m[4]+=this.m[0]*x+this.m[2]*A,this.m[5]+=this.m[1]*x+this.m[3]*A,this}scale(x,A){return this.m[0]*=x,this.m[1]*=x,this.m[2]*=A,this.m[3]*=A,this}rotate(x){const A=Math.cos(x),I=Math.sin(x),k=this.m[0]*A+this.m[2]*I,E=this.m[1]*A+this.m[3]*I,_=this.m[0]*-I+this.m[2]*A,R=this.m[1]*-I+this.m[3]*A;return this.m[0]=k,this.m[1]=E,this.m[2]=_,this.m[3]=R,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(x,A){const I=this.m[0]+this.m[2]*A,k=this.m[1]+this.m[3]*A,E=this.m[2]+this.m[0]*x,_=this.m[3]+this.m[1]*x;return this.m[0]=I,this.m[1]=k,this.m[2]=E,this.m[3]=_,this}multiply(x){const A=this.m[0]*x.m[0]+this.m[2]*x.m[1],I=this.m[1]*x.m[0]+this.m[3]*x.m[1],k=this.m[0]*x.m[2]+this.m[2]*x.m[3],E=this.m[1]*x.m[2]+this.m[3]*x.m[3],_=this.m[0]*x.m[4]+this.m[2]*x.m[5]+this.m[4],R=this.m[1]*x.m[4]+this.m[3]*x.m[5]+this.m[5];return this.m[0]=A,this.m[1]=I,this.m[2]=k,this.m[3]=E,this.m[4]=_,this.m[5]=R,this}invert(){const x=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),A=this.m[3]*x,I=-this.m[1]*x,k=-this.m[2]*x,E=this.m[0]*x,_=x*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),R=x*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=A,this.m[1]=I,this.m[2]=k,this.m[3]=E,this.m[4]=_,this.m[5]=R,this}getMatrix(){return this.m}decompose(){const x=this.m[0],A=this.m[1],I=this.m[2],k=this.m[3],E=this.m[4],_=this.m[5],R=x*k-A*I,N={x:E,y:_,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(x!=0||A!=0){const U=Math.sqrt(x*x+A*A);N.rotation=A>0?Math.acos(x/U):-Math.acos(x/U),N.scaleX=U,N.scaleY=R/U,N.skewX=(x*I+A*k)/R,N.skewY=0}else if(I!=0||k!=0){const U=Math.sqrt(I*I+k*k);N.rotation=Math.PI/2-(k>0?Math.acos(-I/U):-Math.acos(I/U)),N.scaleX=R/U,N.scaleY=U,N.skewX=0,N.skewY=(x*I+A*k)/R}return N.rotation=n.Util._getRotation(N.rotation),N}}n.Transform=t;const i="[object Array]",a="[object Number]",o="[object String]",l="[object Boolean]",c=Math.PI/180,d=180/Math.PI,h="#",f="",m="0",v="Konva warning: ",p="Konva error: ",S="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let w=[];const D=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)};n.Util={_isElement(b){return!!(b&&b.nodeType==1)},_isFunction(b){return!!(b&&b.constructor&&b.call&&b.apply)},_isPlainObject(b){return!!b&&b.constructor===Object},_isArray(b){return Object.prototype.toString.call(b)===i},_isNumber(b){return Object.prototype.toString.call(b)===a&&!isNaN(b)&&isFinite(b)},_isString(b){return Object.prototype.toString.call(b)===o},_isBoolean(b){return Object.prototype.toString.call(b)===l},isObject(b){return b instanceof Object},isValidSelector(b){if(typeof b!="string")return!1;const x=b[0];return x==="#"||x==="."||x===x.toUpperCase()},_sign(b){return b===0||b>0?1:-1},requestAnimFrame(b){w.push(b),w.length===1&&D(function(){const x=w;w=[],x.forEach(function(A){A()})})},createCanvasElement(){const b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement(){return document.createElement("img")},_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,x){const A=n.Util.createImageElement();A.onload=function(){x(A)},A.src=b},_rgbToHex(b,x,A){return((1<<24)+(b<<16)+(x<<8)+A).toString(16).slice(1)},_hexToRgb(b){b=b.replace(h,f);const x=parseInt(b,16);return{r:x>>16&255,g:x>>8&255,b:x&255}},getRandomColor(){let b=(Math.random()*16777215<<0).toString(16);for(;b.length<6;)b=m+b;return h+b},getRGB(b){let x;return b in y?(x=y[b],{r:x[0],g:x[1],b:x[2]}):b[0]===h?this._hexToRgb(b.substring(1)):b.substr(0,4)===S?(x=C.exec(b.replace(/ /g,"")),{r:parseInt(x[1],10),g:parseInt(x[2],10),b:parseInt(x[3],10)}):{r:0,g:0,b:0}},colorToRGBA(b){return b=b||"black",n.Util._namedColorToRBA(b)||n.Util._hex3ColorToRGBA(b)||n.Util._hex4ColorToRGBA(b)||n.Util._hex6ColorToRGBA(b)||n.Util._hex8ColorToRGBA(b)||n.Util._rgbColorToRGBA(b)||n.Util._rgbaColorToRGBA(b)||n.Util._hslColorToRGBA(b)},_namedColorToRBA(b){const x=y[b.toLowerCase()];return x?{r:x[0],g:x[1],b:x[2],a:1}:null},_rgbColorToRGBA(b){if(b.indexOf("rgb(")===0){b=b.match(/rgb\(([^)]+)\)/)[1];const x=b.split(/ *, */).map(Number);return{r:x[0],g:x[1],b:x[2],a:1}}},_rgbaColorToRGBA(b){if(b.indexOf("rgba(")===0){b=b.match(/rgba\(([^)]+)\)/)[1];const x=b.split(/ *, */).map((A,I)=>A.slice(-1)==="%"?I===3?parseInt(A)/100:parseInt(A)/100*255:Number(A));return{r:x[0],g:x[1],b:x[2],a:x[3]}}},_hex8ColorToRGBA(b){if(b[0]==="#"&&b.length===9)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:parseInt(b.slice(7,9),16)/255}},_hex6ColorToRGBA(b){if(b[0]==="#"&&b.length===7)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex4ColorToRGBA(b){if(b[0]==="#"&&b.length===5)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:parseInt(b[4]+b[4],16)/255}},_hex3ColorToRGBA(b){if(b[0]==="#"&&b.length===4)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[x,...A]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),I=Number(A[0])/360,k=Number(A[1])/100,E=Number(A[2])/100;let _,R,N;if(k===0)return N=E*255,{r:Math.round(N),g:Math.round(N),b:Math.round(N),a:1};E<.5?_=E*(1+k):_=E+k-E*k;const U=2*E-_,L=[0,0,0];for(let P=0;P<3;P++)R=I+1/3*-(P-1),R<0&&R++,R>1&&R--,6*R<1?N=U+(_-U)*6*R:2*R<1?N=_:3*R<2?N=U+(_-U)*(2/3-R)*6:N=U,L[P]=N*255;return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:1}}},haveIntersection(b,x){return!(x.x>b.x+b.width||x.x+x.width<b.x||x.y>b.y+b.height||x.y+x.height<b.y)},cloneObject(b){const x={};for(const A in b)this._isPlainObject(b[A])?x[A]=this.cloneObject(b[A]):this._isArray(b[A])?x[A]=this.cloneArray(b[A]):x[A]=b[A];return x},cloneArray(b){return b.slice(0)},degToRad(b){return b*c},radToDeg(b){return b*d},_degToRad(b){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(b)},_radToDeg(b){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(b)},_getRotation(b){return e.Konva.angleDeg?n.Util.radToDeg(b):b},_capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)},throw(b){throw new Error(p+b)},error(b){console.error(p+b)},warn(b){e.Konva.showWarnings&&console.warn(v+b)},each(b,x){for(const A in b)x(A,b[A])},_inRange(b,x,A){return x<=b&&b<A},_getProjectionToSegment(b,x,A,I,k,E){let _,R,N;const U=(b-A)*(b-A)+(x-I)*(x-I);if(U==0)_=b,R=x,N=(k-A)*(k-A)+(E-I)*(E-I);else{const L=((k-b)*(A-b)+(E-x)*(I-x))/U;L<0?(_=b,R=x,N=(b-k)*(b-k)+(x-E)*(x-E)):L>1?(_=A,R=I,N=(A-k)*(A-k)+(I-E)*(I-E)):(_=b+L*(A-b),R=x+L*(I-x),N=(_-k)*(_-k)+(R-E)*(R-E))}return[_,R,N]},_getProjectionToLine(b,x,A){const I=n.Util.cloneObject(b);let k=Number.MAX_VALUE;return x.forEach(function(E,_){if(!A&&_===x.length-1)return;const R=x[(_+1)%x.length],N=n.Util._getProjectionToSegment(E.x,E.y,R.x,R.y,b.x,b.y),U=N[0],L=N[1],P=N[2];P<k&&(I.x=U,I.y=L,k=P)}),I},_prepareArrayForTween(b,x,A){const I=[],k=[];if(b.length>x.length){const _=x;x=b,b=_}for(let _=0;_<b.length;_+=2)I.push({x:b[_],y:b[_+1]});for(let _=0;_<x.length;_+=2)k.push({x:x[_],y:x[_+1]});const E=[];return k.forEach(function(_){const R=n.Util._getProjectionToLine(_,I,A);E.push(R.x),E.push(R.y)}),E},_prepareToStringify(b){let x;b.visitedByCircularReferenceRemoval=!0;for(const A in b)if(b.hasOwnProperty(A)&&b[A]&&typeof b[A]=="object"){if(x=Object.getOwnPropertyDescriptor(b,A),b[A].visitedByCircularReferenceRemoval||n.Util._isElement(b[A]))if(x.configurable)delete b[A];else return null;else if(n.Util._prepareToStringify(b[A])===null)if(x.configurable)delete b[A];else return null}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,x){for(const A in x)b[A]=x[A];return b},_getFirstPointerId(b){return b.touches?b.changedTouches[0].identifier:b.pointerId||999},releaseCanvas(...b){e.Konva.releaseCanvasOnDestroy&&b.forEach(x=>{x.width=0,x.height=0})},drawRoundedRectPath(b,x,A,I){let k=0,E=0,_=0,R=0;typeof I=="number"?k=E=_=R=Math.min(I,x/2,A/2):(k=Math.min(I[0]||0,x/2,A/2),E=Math.min(I[1]||0,x/2,A/2),R=Math.min(I[2]||0,x/2,A/2),_=Math.min(I[3]||0,x/2,A/2)),b.moveTo(k,0),b.lineTo(x-E,0),b.arc(x-E,E,E,Math.PI*3/2,0,!1),b.lineTo(x,A-R),b.arc(x-R,A-R,R,0,Math.PI/2,!1),b.lineTo(_,A),b.arc(_,A-_,_,Math.PI/2,Math.PI,!1),b.lineTo(0,k),b.arc(k,k,k,Math.PI,Math.PI*3/2,!1)}}}(i1)),i1}var pl={},r1={},_n={},Pv;function ut(){if(Pv)return _n;Pv=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.RGBComponent=i,_n.alphaComponent=a,_n.getNumberValidator=o,_n.getNumberOrArrayOfNumbersValidator=l,_n.getNumberOrAutoValidator=c,_n.getStringValidator=d,_n.getStringOrGradientValidator=h,_n.getFunctionValidator=f,_n.getNumberArrayValidator=m,_n.getBooleanValidator=v,_n.getComponentValidator=p;const n=at(),e=Xt();function t(S){return e.Util._isString(S)?'"'+S+'"':Object.prototype.toString.call(S)==="[object Number]"||e.Util._isBoolean(S)?S:Object.prototype.toString.call(S)}function i(S){return S>255?255:S<0?0:Math.round(S)}function a(S){return S>1?1:S<1e-4?1e-4:S}function o(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isNumber(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),S}}function l(S){if(n.Konva.isUnminified)return function(y,C){let w=e.Util._isNumber(y),D=e.Util._isArray(y)&&y.length==S;return!w&&!D&&e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+S+")"),y}}function c(){if(n.Konva.isUnminified)return function(S,y){var C=e.Util._isNumber(S),w=S==="auto";return C||w||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),S}}function d(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isString(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),S}}function h(){if(n.Konva.isUnminified)return function(S,y){const C=e.Util._isString(S),w=Object.prototype.toString.call(S)==="[object CanvasGradient]"||S&&S.addColorStop;return C||w||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),S}}function f(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isFunction(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),S}}function m(){if(n.Konva.isUnminified)return function(S,y){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&S instanceof C||(e.Util._isArray(S)?S.forEach(function(w){e.Util._isNumber(w)||e.Util.warn('"'+y+'" attribute has non numeric element '+w+". Make sure that all elements are numbers.")}):e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),S}}function v(){if(n.Konva.isUnminified)return function(S,y){var C=S===!0||S===!1;return C||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),S}}function p(S){if(n.Konva.isUnminified)return function(y,C){return y==null||e.Util.isObject(y)||e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+S),y}}return _n}var Rv;function lt(){return Rv||(Rv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=Xt(),t=ut(),i="get",a="set";n.Factory={addGetterSetter(o,l,c,d,h){n.Factory.addGetter(o,l,c),n.Factory.addSetter(o,l,d,h),n.Factory.addOverloadedGetterSetter(o,l)},addGetter(o,l,c){var d=i+e.Util._capitalize(l);o.prototype[d]=o.prototype[d]||function(){const h=this.attrs[l];return h===void 0?c:h}},addSetter(o,l,c,d){var h=a+e.Util._capitalize(l);o.prototype[h]||n.Factory.overWriteSetter(o,l,c,d)},overWriteSetter(o,l,c,d){var h=a+e.Util._capitalize(l);o.prototype[h]=function(f){return c&&f!==void 0&&f!==null&&(f=c.call(this,f,l)),this._setAttr(l,f),d&&d.call(this),this}},addComponentsGetterSetter(o,l,c,d,h){const f=c.length,m=e.Util._capitalize,v=i+m(l),p=a+m(l);o.prototype[v]=function(){const y={};for(let C=0;C<f;C++){const w=c[C];y[w]=this.getAttr(l+m(w))}return y};const S=(0,t.getComponentValidator)(c);o.prototype[p]=function(y){const C=this.attrs[l];d&&(y=d.call(this,y,l)),S&&S.call(this,y,l);for(const w in y)y.hasOwnProperty(w)&&this._setAttr(l+m(w),y[w]);return y||c.forEach(w=>{this._setAttr(l+m(w),void 0)}),this._fireChangeEvent(l,C,y),h&&h.call(this),this},n.Factory.addOverloadedGetterSetter(o,l)},addOverloadedGetterSetter(o,l){var c=e.Util._capitalize(l),d=a+c,h=i+c;o.prototype[l]=function(){return arguments.length?(this[d](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(o,l,c,d){e.Util.error("Adding deprecated "+l);const h=i+e.Util._capitalize(l),f=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[h]=function(){e.Util.error(f);const m=this.attrs[l];return m===void 0?c:m},n.Factory.addSetter(o,l,d,function(){e.Util.error(f)}),n.Factory.addOverloadedGetterSetter(o,l)},backCompat(o,l){e.Util.each(l,function(c,d){const h=o.prototype[d],f=i+e.Util._capitalize(c),m=a+e.Util._capitalize(c);function v(){h.apply(this,arguments),e.Util.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}o.prototype[c]=v,o.prototype[f]=v,o.prototype[m]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(r1)),r1}var ar={},or={},Ov;function k4(){if(Ov)return or;Ov=1,Object.defineProperty(or,"__esModule",{value:!0}),or.HitContext=or.SceneContext=or.Context=void 0;const n=Xt(),e=at();function t(w){const D=[],b=w.length,x=n.Util;for(let A=0;A<b;A++){let I=w[A];x._isNumber(I)?I=Math.round(I*1e3)/1e3:x._isString(I)||(I=I+""),D.push(I)}return D}const i=",",a="(",o=")",l="([",c="])",d=";",h="()",f="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],p=100;let S=class{constructor(D){this.canvas=D,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(D){D.fillEnabled()&&this._fill(D)}_fill(D){}strokeShape(D){D.hasStroke()&&this._stroke(D)}_stroke(D){}fillStrokeShape(D){D.attrs.fillAfterStrokeEnabled?(this.strokeShape(D),this.fillShape(D)):(this.fillShape(D),this.strokeShape(D))}getTrace(D,b){let x=this.traceArr,A=x.length,I="",k,E,_,R;for(k=0;k<A;k++)E=x[k],_=E.method,_?(R=E.args,I+=_,D?I+=h:n.Util._isArray(R[0])?I+=l+R.join(i)+c:(b&&(R=R.map(N=>typeof N=="number"?Math.floor(N):N)),I+=a+R.join(i)+o)):(I+=E.property,D||(I+=f+E.val)),I+=d;return I}clearTrace(){this.traceArr=[]}_trace(D){let b=this.traceArr,x;b.push(D),x=b.length,x>=p&&b.shift()}reset(){const D=this.getCanvas().getPixelRatio();this.setTransform(1*D,0,0,1*D,0,0)}getCanvas(){return this.canvas}clear(D){const b=this.getCanvas();D?this.clearRect(D.x||0,D.y||0,D.width||0,D.height||0):this.clearRect(0,0,b.getWidth()/b.pixelRatio,b.getHeight()/b.pixelRatio)}_applyLineCap(D){const b=D.attrs.lineCap;b&&this.setAttr("lineCap",b)}_applyOpacity(D){const b=D.getAbsoluteOpacity();b!==1&&this.setAttr("globalAlpha",b)}_applyLineJoin(D){const b=D.attrs.lineJoin;b&&this.setAttr("lineJoin",b)}setAttr(D,b){this._context[D]=b}arc(D,b,x,A,I,k){this._context.arc(D,b,x,A,I,k)}arcTo(D,b,x,A,I){this._context.arcTo(D,b,x,A,I)}beginPath(){this._context.beginPath()}bezierCurveTo(D,b,x,A,I,k){this._context.bezierCurveTo(D,b,x,A,I,k)}clearRect(D,b,x,A){this._context.clearRect(D,b,x,A)}clip(...D){this._context.clip.apply(this._context,D)}closePath(){this._context.closePath()}createImageData(D,b){const x=arguments;if(x.length===2)return this._context.createImageData(D,b);if(x.length===1)return this._context.createImageData(D)}createLinearGradient(D,b,x,A){return this._context.createLinearGradient(D,b,x,A)}createPattern(D,b){return this._context.createPattern(D,b)}createRadialGradient(D,b,x,A,I,k){return this._context.createRadialGradient(D,b,x,A,I,k)}drawImage(D,b,x,A,I,k,E,_,R){const N=arguments,U=this._context;N.length===3?U.drawImage(D,b,x):N.length===5?U.drawImage(D,b,x,A,I):N.length===9&&U.drawImage(D,b,x,A,I,k,E,_,R)}ellipse(D,b,x,A,I,k,E,_){this._context.ellipse(D,b,x,A,I,k,E,_)}isPointInPath(D,b,x,A){return x?this._context.isPointInPath(x,D,b,A):this._context.isPointInPath(D,b,A)}fill(...D){this._context.fill.apply(this._context,D)}fillRect(D,b,x,A){this._context.fillRect(D,b,x,A)}strokeRect(D,b,x,A){this._context.strokeRect(D,b,x,A)}fillText(D,b,x,A){A?this._context.fillText(D,b,x,A):this._context.fillText(D,b,x)}measureText(D){return this._context.measureText(D)}getImageData(D,b,x,A){return this._context.getImageData(D,b,x,A)}lineTo(D,b){this._context.lineTo(D,b)}moveTo(D,b){this._context.moveTo(D,b)}rect(D,b,x,A){this._context.rect(D,b,x,A)}roundRect(D,b,x,A,I){this._context.roundRect(D,b,x,A,I)}putImageData(D,b,x){this._context.putImageData(D,b,x)}quadraticCurveTo(D,b,x,A){this._context.quadraticCurveTo(D,b,x,A)}restore(){this._context.restore()}rotate(D){this._context.rotate(D)}save(){this._context.save()}scale(D,b){this._context.scale(D,b)}setLineDash(D){this._context.setLineDash?this._context.setLineDash(D):"mozDash"in this._context?this._context.mozDash=D:"webkitLineDash"in this._context&&(this._context.webkitLineDash=D)}getLineDash(){return this._context.getLineDash()}setTransform(D,b,x,A,I,k){this._context.setTransform(D,b,x,A,I,k)}stroke(D){D?this._context.stroke(D):this._context.stroke()}strokeText(D,b,x,A){this._context.strokeText(D,b,x,A)}transform(D,b,x,A,I,k){this._context.transform(D,b,x,A,I,k)}translate(D,b){this._context.translate(D,b)}_enableTrace(){let D=this,b=m.length,x=this.setAttr,A,I;const k=function(E){let _=D[E],R;D[E]=function(){return I=t(Array.prototype.slice.call(arguments,0)),R=_.apply(D,arguments),D._trace({method:E,args:I}),R}};for(A=0;A<b;A++)k(m[A]);D.setAttr=function(){x.apply(D,arguments);const E=arguments[0];let _=arguments[1];(E==="shadowOffsetX"||E==="shadowOffsetY"||E==="shadowBlur")&&(_=_/this.canvas.getPixelRatio()),D._trace({property:E,val:_})}}_applyGlobalCompositeOperation(D){const b=D.attrs.globalCompositeOperation;!b||b==="source-over"||this.setAttr("globalCompositeOperation",b)}};or.Context=S,v.forEach(function(w){Object.defineProperty(S.prototype,w,{get(){return this._context[w]},set(D){this._context[w]=D}})});class y extends S{constructor(D,{willReadFrequently:b=!1}={}){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:b})}_fillColor(D){const b=D.fill();this.setAttr("fillStyle",b),D._fillFunc(this)}_fillPattern(D){this.setAttr("fillStyle",D._getFillPattern()),D._fillFunc(this)}_fillLinearGradient(D){const b=D._getLinearGradient();b&&(this.setAttr("fillStyle",b),D._fillFunc(this))}_fillRadialGradient(D){const b=D._getRadialGradient();b&&(this.setAttr("fillStyle",b),D._fillFunc(this))}_fill(D){const b=D.fill(),x=D.getFillPriority();if(b&&x==="color"){this._fillColor(D);return}const A=D.getFillPatternImage();if(A&&x==="pattern"){this._fillPattern(D);return}const I=D.getFillLinearGradientColorStops();if(I&&x==="linear-gradient"){this._fillLinearGradient(D);return}const k=D.getFillRadialGradientColorStops();if(k&&x==="radial-gradient"){this._fillRadialGradient(D);return}b?this._fillColor(D):A?this._fillPattern(D):I?this._fillLinearGradient(D):k&&this._fillRadialGradient(D)}_strokeLinearGradient(D){const b=D.getStrokeLinearGradientStartPoint(),x=D.getStrokeLinearGradientEndPoint(),A=D.getStrokeLinearGradientColorStops(),I=this.createLinearGradient(b.x,b.y,x.x,x.y);if(A){for(let k=0;k<A.length;k+=2)I.addColorStop(A[k],A[k+1]);this.setAttr("strokeStyle",I)}}_stroke(D){const b=D.dash(),x=D.getStrokeScaleEnabled();if(D.hasStroke()){if(!x){this.save();const I=this.getCanvas().getPixelRatio();this.setTransform(I,0,0,I,0,0)}this._applyLineCap(D),b&&D.dashEnabled()&&(this.setLineDash(b),this.setAttr("lineDashOffset",D.dashOffset())),this.setAttr("lineWidth",D.strokeWidth()),D.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),D.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(D):this.setAttr("strokeStyle",D.stroke()),D._strokeFunc(this),x||this.restore()}}_applyShadow(D){var b,x,A;const I=(b=D.getShadowRGBA())!==null&&b!==void 0?b:"black",k=(x=D.getShadowBlur())!==null&&x!==void 0?x:5,E=(A=D.getShadowOffset())!==null&&A!==void 0?A:{x:0,y:0},_=D.getAbsoluteScale(),R=this.canvas.getPixelRatio(),N=_.x*R,U=_.y*R;this.setAttr("shadowColor",I),this.setAttr("shadowBlur",k*Math.min(Math.abs(N),Math.abs(U))),this.setAttr("shadowOffsetX",E.x*N),this.setAttr("shadowOffsetY",E.y*U)}}or.SceneContext=y;class C extends S{constructor(D){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:!0})}_fill(D){this.save(),this.setAttr("fillStyle",D.colorKey),D._fillFuncHit(this),this.restore()}strokeShape(D){D.hasHitStroke()&&this._stroke(D)}_stroke(D){if(D.hasHitStroke()){const b=D.getStrokeScaleEnabled();if(!b){this.save();const I=this.getCanvas().getPixelRatio();this.setTransform(I,0,0,I,0,0)}this._applyLineCap(D);const x=D.hitStrokeWidth(),A=x==="auto"?D.strokeWidth():x;this.setAttr("lineWidth",A),this.setAttr("strokeStyle",D.colorKey),D._strokeFuncHit(this),b||this.restore()}}}return or.HitContext=C,or}var Lv;function bd(){if(Lv)return ar;Lv=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.HitCanvas=ar.SceneCanvas=ar.Canvas=void 0;const n=Xt(),e=k4(),t=at();let i;function a(){if(i)return i;const d=n.Util.createCanvasElement(),h=d.getContext("2d");return i=function(){const f=t.Konva._global.devicePixelRatio||1,m=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return f/m}(),n.Util.releaseCanvas(d),i}let o=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(h||{}).pixelRatio||t.Konva.pixelRatio||a();this.pixelRatio=m,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const f=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,f){this.setWidth(h||0),this.setHeight(f||0)}toDataURL(h,f){try{return this._canvas.toDataURL(h,f)}catch{try{return this._canvas.toDataURL()}catch(v){return n.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};ar.Canvas=o;class l extends o{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}ar.SceneCanvas=l;class c extends o{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return ar.HitCanvas=c,ar}var a1={},Iv;function Wg(){return Iv||(Iv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=at(),t=Xt();n.DD={get isDragging(){let i=!1;return n.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return n.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];n.DD._dragElements.forEach((o,l)=>{const{node:c}=o,d=c.getStage();d.setPointersPositions(i),o.pointerId===void 0&&(o.pointerId=t.Util._getFirstPointerId(i));const h=d._changedPointerPositions.find(f=>f.id===o.pointerId);if(h){if(o.dragStatus!=="dragging"){const f=c.dragDistance();if(Math.max(Math.abs(h.x-o.startPointerPos.x),Math.abs(h.y-o.startPointerPos.y))<f||(c.startDrag({evt:i}),!c.isDragging()))return}c._setDragPosition(i,o),a.push(c)}}),a.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:i},!0)})},_endDragBefore(i){const a=[];n.DD._dragElements.forEach(o=>{const{node:l}=o,c=l.getStage();if(i&&c.setPointersPositions(i),!c._changedPointerPositions.find(f=>f.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const h=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;h&&a.indexOf(h)===-1&&a.push(h)}),a.forEach(o=>{o.draw()})},_endDragAfter(i){n.DD._dragElements.forEach((a,o)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&n.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(a1)),a1}var Ev;function Jt(){if(Ev)return pl;Ev=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Node=void 0;const n=Xt(),e=lt(),t=bd(),i=at(),a=Wg(),o=ut(),l="absoluteOpacity",c="allEventListeners",d="absoluteTransform",h="absoluteScale",f="canvas",m="Change",v="children",p="konva",S="listening",y="mouseenter",C="mouseleave",w="set",D="Shape",b=" ",x="stage",A="transform",I="Stage",k="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let _=1,R=class tg{constructor(L){this._id=_++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(L),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(L){(L===A||L===d)&&this._cache.get(L)?this._cache.get(L).dirty=!0:L?this._cache.delete(L):this._cache.clear()}_getCache(L,P){let M=this._cache.get(L);return(M===void 0||(L===A||L===d)&&M.dirty===!0)&&(M=P.call(this),this._cache.set(L,M)),M}_calculate(L,P,M){if(!this._attachedDepsListeners.get(L)){const F=P.map(B=>B+"Change.konva").join(b);this.on(F,()=>{this._clearCache(L)}),this._attachedDepsListeners.set(L,!0)}return this._getCache(L,M)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(L){this._clearCache(L),L===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:L,filter:P,hit:M}=this._cache.get(f);n.Util.releaseCanvas(L,P,M),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(L){const P=L||{};let M={};(P.x===void 0||P.y===void 0||P.width===void 0||P.height===void 0)&&(M=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let F=Math.ceil(P.width||M.width),B=Math.ceil(P.height||M.height),H=P.pixelRatio,Q=P.x===void 0?Math.floor(M.x):P.x,G=P.y===void 0?Math.floor(M.y):P.y,z=P.offset||0,j=P.drawBorder||!1,$=P.hitCanvasPixelRatio||1;if(!F||!B){n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ee=Math.abs(Math.round(M.x)-Q)>.5?1:0,J=Math.abs(Math.round(M.y)-G)>.5?1:0;F+=z*2+ee,B+=z*2+J,Q-=z,G-=z;const se=new t.SceneCanvas({pixelRatio:H,width:F,height:B}),Z=new t.SceneCanvas({pixelRatio:H,width:0,height:0,willReadFrequently:!0}),te=new t.HitCanvas({pixelRatio:$,width:F,height:B}),ce=se.getContext(),de=te.getContext();return te.isCache=!0,se.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,P.imageSmoothingEnabled===!1&&(se.getContext()._context.imageSmoothingEnabled=!1,Z.getContext()._context.imageSmoothingEnabled=!1),ce.save(),de.save(),ce.translate(-Q,-G),de.translate(-Q,-G),this._isUnderCache=!0,this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this.drawScene(se,this),this.drawHit(te,this),this._isUnderCache=!1,ce.restore(),de.restore(),j&&(ce.save(),ce.beginPath(),ce.rect(0,0,F,B),ce.closePath(),ce.setAttr("strokeStyle","red"),ce.setAttr("lineWidth",5),ce.stroke(),ce.restore()),this._cache.set(f,{scene:se,filter:Z,hit:te,x:Q,y:G}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(L){throw new Error('abstract "getClientRect" method call')}_transformedRect(L,P){const M=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];let F=1/0,B=1/0,H=-1/0,Q=-1/0;const G=this.getAbsoluteTransform(P);return M.forEach(function(z){const j=G.point(z);F===void 0&&(F=H=j.x,B=Q=j.y),F=Math.min(F,j.x),B=Math.min(B,j.y),H=Math.max(H,j.x),Q=Math.max(Q,j.y)}),{x:F,y:B,width:H-F,height:Q-B}}_drawCachedSceneCanvas(L){L.save(),L._applyOpacity(this),L._applyGlobalCompositeOperation(this);const P=this._getCanvasCache();L.translate(P.x,P.y);const M=this._getCachedSceneCanvas(),F=M.pixelRatio;L.drawImage(M._canvas,0,0,M.width/F,M.height/F),L.restore()}_drawCachedHitCanvas(L){const P=this._getCanvasCache(),M=P.hit;L.save(),L.translate(P.x,P.y),L.drawImage(M._canvas,0,0,M.width/M.pixelRatio,M.height/M.pixelRatio),L.restore()}_getCachedSceneCanvas(){let L=this.filters(),P=this._getCanvasCache(),M=P.scene,F=P.filter,B=F.getContext(),H,Q,G,z;if(L){if(!this._filterUpToDate){const j=M.pixelRatio;F.setSize(M.width/M.pixelRatio,M.height/M.pixelRatio);try{for(H=L.length,B.clear(),B.drawImage(M._canvas,0,0,M.getWidth()/j,M.getHeight()/j),Q=B.getImageData(0,0,F.getWidth(),F.getHeight()),G=0;G<H;G++){if(z=L[G],typeof z!="function"){n.Util.error("Filter should be type of function, but got "+typeof z+" instead. Please check correct filters");continue}z.call(this,Q),B.putImageData(Q,0,0)}}catch($){n.Util.error("Unable to apply filter. "+$.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return F}return M}on(L,P){if(this._cache&&this._cache.delete(c),arguments.length===3)return this._delegate.apply(this,arguments);let M=L.split(b),F=M.length,B,H,Q,G,z;for(B=0;B<F;B++)H=M[B],Q=H.split("."),G=Q[0],z=Q[1]||"",this.eventListeners[G]||(this.eventListeners[G]=[]),this.eventListeners[G].push({name:z,handler:P});return this}off(L,P){let M=(L||"").split(b),F=M.length,B,H,Q,G,z,j;if(this._cache&&this._cache.delete(c),!L)for(H in this.eventListeners)this._off(H);for(B=0;B<F;B++)if(Q=M[B],G=Q.split("."),z=G[0],j=G[1],z)this.eventListeners[z]&&this._off(z,j,P);else for(H in this.eventListeners)this._off(H,j,P);return this}dispatchEvent(L){const P={target:this,type:L.type,evt:L};return this.fire(L.type,P),this}addEventListener(L,P){return this.on(L,function(M){P.call(this,M.evt)}),this}removeEventListener(L){return this.off(L),this}_delegate(L,P,M){const F=this;this.on(L,function(B){const H=B.target.findAncestors(P,!0,F);for(let Q=0;Q<H.length;Q++)B=n.Util.cloneObject(B),B.currentTarget=H[Q],M.call(H[Q],B)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(S)}_remove(){this._clearCaches();const L=this.getParent();L&&L.children&&(L.children.splice(this.index,1),L._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(L){const P="get"+n.Util._capitalize(L);return n.Util._isFunction(this[P])?this[P]():this.attrs[L]}getAncestors(){let L=this.getParent(),P=[];for(;L;)P.push(L),L=L.getParent();return P}getAttrs(){return this.attrs||{}}setAttrs(L){return this._batchTransformChanges(()=>{let P,M;if(!L)return this;for(P in L)P!==v&&(M=w+n.Util._capitalize(P),n.Util._isFunction(this[M])?this[M](L[P]):this._setAttr(P,L[P]))}),this}isListening(){return this._getCache(S,this._isListening)}_isListening(L){if(!this.listening())return!1;const M=this.getParent();return M&&M!==L&&this!==L?M._isListening(L):!0}isVisible(){return this._getCache(k,this._isVisible)}_isVisible(L){if(!this.visible())return!1;const M=this.getParent();return M&&M!==L&&this!==L?M._isVisible(L):!0}shouldDrawHit(L,P=!1){if(L)return this._isVisible(L)&&this._isListening(L);const M=this.getLayer();let F=!1;a.DD._dragElements.forEach(H=>{H.dragStatus==="dragging"&&(H.node.nodeType==="Stage"||H.node.getLayer()===M)&&(F=!0)});const B=!P&&!i.Konva.hitOnDragEnabled&&(F||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!B}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let L=this.getDepth(),P=this,M=0,F,B,H,Q;function G(j){for(F=[],B=j.length,H=0;H<B;H++)Q=j[H],M++,Q.nodeType!==D&&(F=F.concat(Q.getChildren().slice())),Q._id===P._id&&(H=B);F.length>0&&F[0].getDepth()<=L&&G(F)}const z=this.getStage();return P.nodeType!==I&&z&&G(z.getChildren()),M}getDepth(){let L=0,P=this.parent;for(;P;)L++,P=P.parent;return L}_batchTransformChanges(L){this._batchingTransformChange=!0,L(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(A),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(L){return this._batchTransformChanges(()=>{this.x(L.x),this.y(L.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const L=this.getStage();if(!L)return null;const P=L.getPointerPosition();if(!P)return null;const M=this.getAbsoluteTransform().copy();return M.invert(),M.point(P)}getAbsolutePosition(L){let P=!1,M=this.parent;for(;M;){if(M.isCached()){P=!0;break}M=M.parent}P&&!L&&(L=!0);const F=this.getAbsoluteTransform(L).getMatrix(),B=new n.Transform,H=this.offset();return B.m=F.slice(),B.translate(H.x,H.y),B.getTranslation()}setAbsolutePosition(L){const{x:P,y:M,...F}=this._clearTransform();this.attrs.x=P,this.attrs.y=M,this._clearCache(A);const B=this._getAbsoluteTransform().copy();return B.invert(),B.translate(L.x,L.y),L={x:this.attrs.x+B.getTranslation().x,y:this.attrs.y+B.getTranslation().y},this._setTransform(F),this.setPosition({x:L.x,y:L.y}),this._clearCache(A),this._clearSelfAndDescendantCache(d),this}_setTransform(L){let P;for(P in L)this.attrs[P]=L[P]}_clearTransform(){const L={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,L}move(L){let P=L.x,M=L.y,F=this.x(),B=this.y();return P!==void 0&&(F+=P),M!==void 0&&(B+=M),this.setPosition({x:F,y:B}),this}_eachAncestorReverse(L,P){let M=[],F=this.getParent(),B,H;if(!(P&&P._id===this._id)){for(M.unshift(this);F&&(!P||F._id!==P._id);)M.unshift(F),F=F.parent;for(B=M.length,H=0;H<B;H++)L(M[H])}}rotate(L){return this.rotation(this.rotation()+L),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const L=this.index,P=this.parent.getChildren().length;return L<P-1?(this.parent.children.splice(L,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;const L=this.index,P=this.parent.getChildren().length;return L<P-1?(this.parent.children.splice(L,1),this.parent.children.splice(L+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.splice(L-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(L){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(L<0||L>=this.parent.children.length)&&n.Util.warn("Unexpected value "+L+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const P=this.index;return this.parent.children.splice(P,1),this.parent.children.splice(L,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(l,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let L=this.opacity();const P=this.getParent();return P&&!P._isUnderCache&&(L*=P.getAbsoluteOpacity()),L}moveTo(L){return this.getParent()!==L&&(this._remove(),L.add(this)),this}toObject(){let L=this.getAttrs(),P,M,F,B,H;const Q={attrs:{},className:this.getClassName()};for(P in L)M=L[P],H=n.Util.isObject(M)&&!n.Util._isPlainObject(M)&&!n.Util._isArray(M),!H&&(F=typeof this[P]=="function"&&this[P],delete L[P],B=F?F.call(this):null,L[P]=M,B!==M&&(Q.attrs[P]=M));return n.Util._prepareToStringify(Q)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(L,P,M){const F=[];P&&this._isMatch(L)&&F.push(this);let B=this.parent;for(;B;){if(B===M)return F;B._isMatch(L)&&F.push(B),B=B.parent}return F}isAncestorOf(L){return!1}findAncestor(L,P,M){return this.findAncestors(L,P,M)[0]}_isMatch(L){if(!L)return!1;if(typeof L=="function")return L(this);let P=L.replace(/ /g,"").split(","),M=P.length,F,B;for(F=0;F<M;F++)if(B=P[F],n.Util.isValidSelector(B)||(n.Util.warn('Selector "'+B+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),B.charAt(0)==="#"){if(this.id()===B.slice(1))return!0}else if(B.charAt(0)==="."){if(this.hasName(B.slice(1)))return!0}else if(this.className===B||this.nodeType===B)return!0;return!1}getLayer(){const L=this.getParent();return L?L.getLayer():null}getStage(){return this._getCache(x,this._getStage)}_getStage(){const L=this.getParent();return L?L.getStage():null}fire(L,P={},M){return P.target=P.target||this,M?this._fireAndBubble(L,P):this._fire(L,P),this}getAbsoluteTransform(L){return L?this._getAbsoluteTransform(L):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(L){let P;if(L)return P=new n.Transform,this._eachAncestorReverse(function(M){const F=M.transformsEnabled();F==="all"?P.multiply(M.getTransform()):F==="position"&&P.translate(M.x()-M.offsetX(),M.y()-M.offsetY())},L),P;{P=this._cache.get(d)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(P):P.reset();const M=this.transformsEnabled();if(M==="all")P.multiply(this.getTransform());else if(M==="position"){const F=this.attrs.x||0,B=this.attrs.y||0,H=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;P.translate(F-H,B-Q)}return P.dirty=!1,P}}getAbsoluteScale(L){let P=this;for(;P;)P._isUnderCache&&(L=P),P=P.getParent();const F=this.getAbsoluteTransform(L).decompose();return{x:F.scaleX,y:F.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(A,this._getTransform)}_getTransform(){var L,P;const M=this._cache.get(A)||new n.Transform;M.reset();const F=this.x(),B=this.y(),H=i.Konva.getAngle(this.rotation()),Q=(L=this.attrs.scaleX)!==null&&L!==void 0?L:1,G=(P=this.attrs.scaleY)!==null&&P!==void 0?P:1,z=this.attrs.skewX||0,j=this.attrs.skewY||0,$=this.attrs.offsetX||0,ee=this.attrs.offsetY||0;return(F!==0||B!==0)&&M.translate(F,B),H!==0&&M.rotate(H),(z!==0||j!==0)&&M.skew(z,j),(Q!==1||G!==1)&&M.scale(Q,G),($!==0||ee!==0)&&M.translate(-1*$,-1*ee),M.dirty=!1,M}clone(L){let P=n.Util.cloneObject(this.attrs),M,F,B,H,Q;for(M in L)P[M]=L[M];const G=new this.constructor(P);for(M in this.eventListeners)for(F=this.eventListeners[M],B=F.length,H=0;H<B;H++)Q=F[H],Q.name.indexOf(p)<0&&(G.eventListeners[M]||(G.eventListeners[M]=[]),G.eventListeners[M].push(Q));return G}_toKonvaCanvas(L){L=L||{};const P=this.getClientRect(),M=this.getStage(),F=L.x!==void 0?L.x:Math.floor(P.x),B=L.y!==void 0?L.y:Math.floor(P.y),H=L.pixelRatio||1,Q=new t.SceneCanvas({width:L.width||Math.ceil(P.width)||(M?M.width():0),height:L.height||Math.ceil(P.height)||(M?M.height():0),pixelRatio:H}),G=Q.getContext(),z=new t.SceneCanvas({width:Q.width/Q.pixelRatio+Math.abs(F),height:Q.height/Q.pixelRatio+Math.abs(B),pixelRatio:Q.pixelRatio});return L.imageSmoothingEnabled===!1&&(G._context.imageSmoothingEnabled=!1),G.save(),(F||B)&&G.translate(-1*F,-1*B),this.drawScene(Q,void 0,z),G.restore(),Q}toCanvas(L){return this._toKonvaCanvas(L)._canvas}toDataURL(L){L=L||{};const P=L.mimeType||null,M=L.quality||null,F=this._toKonvaCanvas(L).toDataURL(P,M);return L.callback&&L.callback(F),F}toImage(L){return new Promise((P,M)=>{try{const F=L?.callback;F&&delete L.callback,n.Util._urlToImage(this.toDataURL(L),function(B){P(B),F?.(B)})}catch(F){M(F)}})}toBlob(L){return new Promise((P,M)=>{try{const F=L?.callback;F&&delete L.callback,this.toCanvas(L).toBlob(B=>{P(B),F?.(B)},L?.mimeType,L?.quality)}catch(F){M(F)}})}setSize(L){return this.width(L.width),this.height(L.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(L,P,M){let F=this.eventListeners[L],B,H,Q;for(B=0;B<F.length;B++)if(H=F[B].name,Q=F[B].handler,(H!=="konva"||P==="konva")&&(!P||H===P)&&(!M||M===Q)){if(F.splice(B,1),F.length===0){delete this.eventListeners[L];break}B--}}_fireChangeEvent(L,P,M){this._fire(L+m,{oldVal:P,newVal:M})}addName(L){if(!this.hasName(L)){const P=this.name(),M=P?P+" "+L:L;this.name(M)}return this}hasName(L){if(!L)return!1;const P=this.name();return P?(P||"").split(/\s/g).indexOf(L)!==-1:!1}removeName(L){const P=(this.name()||"").split(/\s/g),M=P.indexOf(L);return M!==-1&&(P.splice(M,1),this.name(P.join(" "))),this}setAttr(L,P){const M=this[w+n.Util._capitalize(L)];return n.Util._isFunction(M)?M.call(this,P):this._setAttr(L,P),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const L=this.getLayer()||this.getStage();L?.batchDraw()}}_setAttr(L,P){const M=this.attrs[L];M===P&&!n.Util.isObject(P)||(P==null?delete this.attrs[L]:this.attrs[L]=P,this._shouldFireChangeEvents&&this._fireChangeEvent(L,M,P),this._requestDraw())}_setComponentAttr(L,P,M){let F;M!==void 0&&(F=this.attrs[L],F||(this.attrs[L]=this.getAttr(L)),this.attrs[L][P]=M,this._fireChangeEvent(L,F,M))}_fireAndBubble(L,P,M){if(P&&this.nodeType===D&&(P.target=this),!((L===y||L===C)&&(M&&(this===M||this.isAncestorOf&&this.isAncestorOf(M))||this.nodeType==="Stage"&&!M))){this._fire(L,P);const B=(L===y||L===C)&&M&&M.isAncestorOf&&M.isAncestorOf(this)&&!M.isAncestorOf(this.parent);(P&&!P.cancelBubble||!P)&&this.parent&&this.parent.isListening()&&!B&&(M&&M.parent?this._fireAndBubble.call(this.parent,L,P,M):this._fireAndBubble.call(this.parent,L,P))}}_getProtoListeners(L){var P,M,F;const B=(P=this._cache.get(c))!==null&&P!==void 0?P:{};let H=B?.[L];if(H===void 0){H=[];let Q=Object.getPrototypeOf(this);for(;Q;){const G=(F=(M=Q.eventListeners)===null||M===void 0?void 0:M[L])!==null&&F!==void 0?F:[];H.push(...G),Q=Object.getPrototypeOf(Q)}B[L]=H,this._cache.set(c,B)}return H}_fire(L,P){P=P||{},P.currentTarget=this,P.type=L;const M=this._getProtoListeners(L);if(M)for(var F=0;F<M.length;F++)M[F].handler.call(this,P);const B=this.eventListeners[L];if(B)for(var F=0;F<B.length;F++)B[F].handler.call(this,P)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(L){const P=L?L.pointerId:void 0,M=this.getStage(),F=this.getAbsolutePosition();if(!M)return;const B=M._getPointerById(P)||M._changedPointerPositions[0]||F;a.DD._dragElements.set(this._id,{node:this,startPointerPos:B,offset:{x:B.x-F.x,y:B.y-F.y},dragStatus:"ready",pointerId:P})}startDrag(L,P=!0){a.DD._dragElements.has(this._id)||this._createDragElement(L);const M=a.DD._dragElements.get(this._id);M.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:L&&L.evt},P)}_setDragPosition(L,P){const M=this.getStage()._getPointerById(P.pointerId);if(!M)return;let F={x:M.x-P.offset.x,y:M.y-P.offset.y};const B=this.dragBoundFunc();if(B!==void 0){const H=B.call(this,F,L);H?F=H:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==F.x||this._lastPos.y!==F.y)&&(this.setAbsolutePosition(F),this._requestDraw()),this._lastPos=F}stopDrag(L){const P=a.DD._dragElements.get(this._id);P&&(P.dragStatus="stopped"),a.DD._endDragBefore(L),a.DD._endDragAfter(L)}setDraggable(L){this._setAttr("draggable",L),this._dragChange()}isDragging(){const L=a.DD._dragElements.get(this._id);return L?L.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(L){if(!(!(L.evt.button!==void 0)||i.Konva.dragButtons.indexOf(L.evt.button)>=0)||this.isDragging())return;let F=!1;a.DD._dragElements.forEach(B=>{this.isAncestorOf(B.node)&&(F=!0)}),F||this._createDragElement(L)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const P=a.DD._dragElements.get(this._id),M=P&&P.dragStatus==="dragging",F=P&&P.dragStatus==="ready";M?this.stopDrag():F&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(L={x:0,y:0}){const P=this.getStage();if(!P)return!1;const M={x:-L.x,y:-L.y,width:P.width()+2*L.x,height:P.height()+2*L.y};return n.Util.haveIntersection(M,this.getClientRect())}static create(L,P){return n.Util._isString(L)&&(L=JSON.parse(L)),this._createNode(L,P)}static _createNode(L,P){let M=tg.prototype.getClassName.call(L),F=L.children,B,H,Q;P&&(L.attrs.container=P),i.Konva[M]||(n.Util.warn('Can not find a node with class name "'+M+'". Fallback to "Shape".'),M="Shape");const G=i.Konva[M];if(B=new G(L.attrs),F)for(H=F.length,Q=0;Q<H;Q++)B.add(tg._createNode(F[Q]));return B}};pl.Node=R,R.prototype.nodeType="Node",R.prototype._attrsAffectingSize=[],R.prototype.eventListeners={},R.prototype.on.call(R.prototype,E,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(A),this._clearSelfAndDescendantCache(d)}),R.prototype.on.call(R.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(k)}),R.prototype.on.call(R.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S)}),R.prototype.on.call(R.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(l)});const N=e.Factory.addGetterSetter;return N(R,"zIndex"),N(R,"absolutePosition"),N(R,"position"),N(R,"x",0,(0,o.getNumberValidator)()),N(R,"y",0,(0,o.getNumberValidator)()),N(R,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),N(R,"opacity",1,(0,o.getNumberValidator)()),N(R,"name","",(0,o.getStringValidator)()),N(R,"id","",(0,o.getStringValidator)()),N(R,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"scale",["x","y"]),N(R,"scaleX",1,(0,o.getNumberValidator)()),N(R,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"skew",["x","y"]),N(R,"skewX",0,(0,o.getNumberValidator)()),N(R,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"offset",["x","y"]),N(R,"offsetX",0,(0,o.getNumberValidator)()),N(R,"offsetY",0,(0,o.getNumberValidator)()),N(R,"dragDistance",void 0,(0,o.getNumberValidator)()),N(R,"width",0,(0,o.getNumberValidator)()),N(R,"height",0,(0,o.getNumberValidator)()),N(R,"listening",!0,(0,o.getBooleanValidator)()),N(R,"preventDefault",!0,(0,o.getBooleanValidator)()),N(R,"filters",void 0,function(U){return this._filterUpToDate=!1,U}),N(R,"visible",!0,(0,o.getBooleanValidator)()),N(R,"transformsEnabled","all",(0,o.getStringValidator)()),N(R,"size"),N(R,"dragBoundFunc"),N(R,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(R,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),pl}var ml={},_v;function Cd(){if(_v)return ml;_v=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.Container=void 0;const n=lt(),e=Jt(),t=ut();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const l=this.children||[],c=[];return l.forEach(function(d){o(d)&&c.push(d)}),c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let c=0;c<o.length;c++)this.add(o[c]);return this}const l=o[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const l=this._generalFind(o,!0);return l.length>0?l[0]:void 0}_generalFind(o,l){const c=[];return this._descendants(d=>{const h=d._isMatch(o);return h&&c.push(d),!!(h&&l)}),c}_descendants(o){let l=!1;const c=this.getChildren();for(const d of c){if(l=o(d),l)return!0;if(d.hasChildren()&&(l=d._descendants(o),l))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(l=>{o.children.push(l.toObject())}),o}isAncestorOf(o){let l=o.getParent();for(;l;){if(l._id===this._id)return!0;l=l.getParent()}return!1}clone(o){const l=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(c){l.add(c.clone())}),l}getAllIntersections(o){const l=[];return this.find("Shape").forEach(c=>{c.isVisible()&&c.intersects(o)&&l.push(c)}),l}_clearSelfAndDescendantCache(o){var l;super._clearSelfAndDescendantCache(o),!this.isCached()&&((l=this.children)===null||l===void 0||l.forEach(function(c){c._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(l,c){l.index=c}),this._requestDraw()}drawScene(o,l,c){const d=this.getLayer(),h=o||d&&d.getCanvas(),f=h&&h.getContext(),m=this._getCanvasCache(),v=m&&m.scene,p=h&&h.isCache;if(!this.isVisible()&&!p)return this;if(v){f.save();const S=this.getAbsoluteTransform(l).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",h,l,c);return this}drawHit(o,l){if(!this.shouldDrawHit(l))return this;const c=this.getLayer(),d=o||c&&c.hitCanvas,h=d&&d.getContext(),f=this._getCanvasCache();if(f&&f.hit){h.save();const v=this.getAbsoluteTransform(l).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",d,l);return this}_drawChildren(o,l,c,d){var h;const f=l&&l.getContext(),m=this.clipWidth(),v=this.clipHeight(),p=this.clipFunc(),S=typeof m=="number"&&typeof v=="number"||p,y=c===this;if(S){f.save();const w=this.getAbsoluteTransform(c);let D=w.getMatrix();f.transform(D[0],D[1],D[2],D[3],D[4],D[5]),f.beginPath();let b;if(p)b=p.call(this,f,this);else{const x=this.clipX(),A=this.clipY();f.rect(x||0,A||0,m,v)}f.clip.apply(f,b),D=w.copy().invert().getMatrix(),f.transform(D[0],D[1],D[2],D[3],D[4],D[5])}const C=!y&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";C&&(f.save(),f._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(w){w[o](l,c,d)}),C&&f.restore(),S&&f.restore()}getClientRect(o={}){var l;const c=o.skipTransform,d=o.relativeTo;let h,f,m,v,p={x:1/0,y:1/0,width:0,height:0};const S=this;(l=this.children)===null||l===void 0||l.forEach(function(w){if(!w.visible())return;const D=w.getClientRect({relativeTo:S,skipShadow:o.skipShadow,skipStroke:o.skipStroke});D.width===0&&D.height===0||(h===void 0?(h=D.x,f=D.y,m=D.x+D.width,v=D.y+D.height):(h=Math.min(h,D.x),f=Math.min(f,D.y),m=Math.max(m,D.x+D.width),v=Math.max(v,D.y+D.height)))});const y=this.find("Shape");let C=!1;for(let w=0;w<y.length;w++)if(y[w]._isVisible(this)){C=!0;break}return C&&h!==void 0?p={x:h,y:f,width:m-h,height:v-f}:p={x:0,y:0,width:0,height:0},c?p:this._transformedRect(p,d)}};return ml.Container=i,n.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(i,"clipX",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipY",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipWidth",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipHeight",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipFunc"),ml}var o1={},jr={},Mv;function U4(){if(Mv)return jr;Mv=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.getCapturedShape=i,jr.createEvent=a,jr.hasPointerCapture=o,jr.setPointerCapture=l,jr.releaseCapture=c;const n=at(),e=new Map,t=n.Konva._global.PointerEvent!==void 0;function i(d){return e.get(d)}function a(d){return{evt:d,pointerId:d.pointerId}}function o(d,h){return e.get(d)===h}function l(d,h){c(d),h.getStage()&&(e.set(d,h),t&&h._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function c(d,h){const f=e.get(d);if(!f)return;const m=f.getStage();m&&m.content,e.delete(d),t&&f._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return jr}var Fv;function dR(){return Fv||(Fv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=Xt(),t=lt(),i=Cd(),a=at(),o=bd(),l=Wg(),c=at(),d=U4(),h="Stage",f="string",m="px",v="mouseout",p="mouseleave",S="mouseover",y="mouseenter",C="mousemove",w="mousedown",D="mouseup",b="pointermove",x="pointerdown",A="pointerup",I="pointercancel",k="lostpointercapture",E="pointerout",_="pointerleave",R="pointerover",N="pointerenter",U="contextmenu",L="touchstart",P="touchend",M="touchmove",F="touchcancel",B="wheel",H=5,Q=[[y,"_pointerenter"],[w,"_pointerdown"],[C,"_pointermove"],[D,"_pointerup"],[p,"_pointerleave"],[L,"_pointerdown"],[M,"_pointermove"],[P,"_pointerup"],[F,"_pointercancel"],[S,"_pointerover"],[B,"_wheel"],[U,"_contextmenu"],[x,"_pointerdown"],[b,"_pointermove"],[A,"_pointerup"],[I,"_pointercancel"],[k,"_lostpointercapture"]],G={mouse:{[E]:v,[_]:p,[R]:S,[N]:y,[b]:C,[x]:w,[A]:D,[I]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[_]:"touchleave",[R]:"touchover",[N]:"touchenter",[b]:M,[x]:L,[A]:P,[I]:F,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[_]:_,[R]:R,[N]:N,[b]:b,[x]:x,[A]:A,[I]:I,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},z=se=>se.indexOf("pointer")>=0?"pointer":se.indexOf("touch")>=0?"touch":"mouse",j=se=>{const Z=z(se);if(Z==="pointer")return a.Konva.pointerEventsEnabled&&G.pointer;if(Z==="touch")return G.touch;if(Z==="mouse")return G.mouse};function $(se={}){return(se.clipFunc||se.clipWidth||se.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),se}const ee="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class J extends i.Container{constructor(Z){super($(Z)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{$(this.attrs)}),this._checkVisibility()}_validateAdd(Z){const te=Z.getType()==="Layer",ce=Z.getType()==="FastLayer";te||ce||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const Z=this.visible()?"":"none";this.content.style.display=Z}setContainer(Z){if(typeof Z===f){if(Z.charAt(0)==="."){const ce=Z.slice(1);Z=document.getElementsByClassName(ce)[0]}else{var te;Z.charAt(0)!=="#"?te=Z:te=Z.slice(1),Z=document.getElementById(te)}if(!Z)throw"Can not find container in document with id "+te}return this._setAttr("container",Z),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),Z.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const Z=this.children,te=Z.length;for(let ce=0;ce<te;ce++)Z[ce].clear();return this}clone(Z){return Z||(Z={}),Z.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,Z)}destroy(){super.destroy();const Z=this.content;Z&&e.Util._isInDocument(Z)&&this.container().removeChild(Z);const te=n.stages.indexOf(this);return te>-1&&n.stages.splice(te,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const Z=this._pointerPositions[0]||this._changedPointerPositions[0];return Z?{x:Z.x,y:Z.y}:(e.Util.warn(ee),null)}_getPointerById(Z){return this._pointerPositions.find(te=>te.id===Z)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(Z){Z=Z||{},Z.x=Z.x||0,Z.y=Z.y||0,Z.width=Z.width||this.width(),Z.height=Z.height||this.height();const te=new o.SceneCanvas({width:Z.width,height:Z.height,pixelRatio:Z.pixelRatio||1}),ce=te.getContext()._context,de=this.children;return(Z.x||Z.y)&&ce.translate(-1*Z.x,-1*Z.y),de.forEach(function(be){if(!be.isVisible())return;const Te=be._toKonvaCanvas(Z);ce.drawImage(Te._canvas,Z.x,Z.y,Te.getWidth()/Te.getPixelRatio(),Te.getHeight()/Te.getPixelRatio())}),te}getIntersection(Z){if(!Z)return null;const te=this.children,ce=te.length,de=ce-1;for(let be=de;be>=0;be--){const Te=te[be].getIntersection(Z);if(Te)return Te}return null}_resizeDOM(){const Z=this.width(),te=this.height();this.content&&(this.content.style.width=Z+m,this.content.style.height=te+m),this.bufferCanvas.setSize(Z,te),this.bufferHitCanvas.setSize(Z,te),this.children.forEach(ce=>{ce.setSize({width:Z,height:te}),ce.draw()})}add(Z,...te){if(arguments.length>1){for(let de=0;de<arguments.length;de++)this.add(arguments[de]);return this}super.add(Z);const ce=this.children.length;return ce>H&&e.Util.warn("The stage has "+ce+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),Z.setSize({width:this.width(),height:this.height()}),Z.draw(),a.Konva.isBrowser&&this.content.appendChild(Z.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(Z){return d.hasPointerCapture(Z,this)}setPointerCapture(Z){d.setPointerCapture(Z,this)}releaseCapture(Z){d.releaseCapture(Z,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&Q.forEach(([Z,te])=>{this.content.addEventListener(Z,ce=>{this[te](ce)},{passive:!1})})}_pointerenter(Z){this.setPointersPositions(Z);const te=j(Z.type);te&&this._fire(te.pointerenter,{evt:Z,target:this,currentTarget:this})}_pointerover(Z){this.setPointersPositions(Z);const te=j(Z.type);te&&this._fire(te.pointerover,{evt:Z,target:this,currentTarget:this})}_getTargetShape(Z){let te=this[Z+"targetShape"];return te&&!te.getStage()&&(te=null),te}_pointerleave(Z){const te=j(Z.type),ce=z(Z.type);if(!te)return;this.setPointersPositions(Z);const de=this._getTargetShape(ce),be=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;de&&be?(de._fireAndBubble(te.pointerout,{evt:Z}),de._fireAndBubble(te.pointerleave,{evt:Z}),this._fire(te.pointerleave,{evt:Z,target:this,currentTarget:this}),this[ce+"targetShape"]=null):be&&(this._fire(te.pointerleave,{evt:Z,target:this,currentTarget:this}),this._fire(te.pointerout,{evt:Z,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(Z){const te=j(Z.type),ce=z(Z.type);if(!te)return;this.setPointersPositions(Z);let de=!1;this._changedPointerPositions.forEach(be=>{const Te=this.getIntersection(be);if(l.DD.justDragged=!1,a.Konva["_"+ce+"ListenClick"]=!0,!Te||!Te.isListening()){this[ce+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&Te.setPointerCapture(be.id),this[ce+"ClickStartShape"]=Te,Te._fireAndBubble(te.pointerdown,{evt:Z,pointerId:be.id}),de=!0;const Me=Z.type.indexOf("touch")>=0;Te.preventDefault()&&Z.cancelable&&Me&&Z.preventDefault()}),de||this._fire(te.pointerdown,{evt:Z,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(Z){const te=j(Z.type),ce=z(Z.type);if(!te||(a.Konva.isDragging()&&l.DD.node.preventDefault()&&Z.cancelable&&Z.preventDefault(),this.setPointersPositions(Z),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const be={};let Te=!1;const Me=this._getTargetShape(ce);this._changedPointerPositions.forEach(q=>{const le=d.getCapturedShape(q.id)||this.getIntersection(q),he=q.id,W={evt:Z,pointerId:he},X=Me!==le;if(X&&Me&&(Me._fireAndBubble(te.pointerout,{...W},le),Me._fireAndBubble(te.pointerleave,{...W},le)),le){if(be[le._id])return;be[le._id]=!0}le&&le.isListening()?(Te=!0,X&&(le._fireAndBubble(te.pointerover,{...W},Me),le._fireAndBubble(te.pointerenter,{...W},Me),this[ce+"targetShape"]=le),le._fireAndBubble(te.pointermove,{...W})):Me&&(this._fire(te.pointerover,{evt:Z,target:this,currentTarget:this,pointerId:he}),this[ce+"targetShape"]=null)}),Te||this._fire(te.pointermove,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(Z){const te=j(Z.type),ce=z(Z.type);if(!te)return;this.setPointersPositions(Z);const de=this[ce+"ClickStartShape"],be=this[ce+"ClickEndShape"],Te={};let Me=!1;this._changedPointerPositions.forEach(q=>{const le=d.getCapturedShape(q.id)||this.getIntersection(q);if(le){if(le.releaseCapture(q.id),Te[le._id])return;Te[le._id]=!0}const he=q.id,W={evt:Z,pointerId:he};let X=!1;a.Konva["_"+ce+"InDblClickWindow"]?(X=!0,clearTimeout(this[ce+"DblTimeout"])):l.DD.justDragged||(a.Konva["_"+ce+"InDblClickWindow"]=!0,clearTimeout(this[ce+"DblTimeout"])),this[ce+"DblTimeout"]=setTimeout(function(){a.Konva["_"+ce+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),le&&le.isListening()?(Me=!0,this[ce+"ClickEndShape"]=le,le._fireAndBubble(te.pointerup,{...W}),a.Konva["_"+ce+"ListenClick"]&&de&&de===le&&(le._fireAndBubble(te.pointerclick,{...W}),X&&be&&be===le&&le._fireAndBubble(te.pointerdblclick,{...W}))):(this[ce+"ClickEndShape"]=null,a.Konva["_"+ce+"ListenClick"]&&this._fire(te.pointerclick,{evt:Z,target:this,currentTarget:this,pointerId:he}),X&&this._fire(te.pointerdblclick,{evt:Z,target:this,currentTarget:this,pointerId:he}))}),Me||this._fire(te.pointerup,{evt:Z,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+ce+"ListenClick"]=!1,Z.cancelable&&ce!=="touch"&&ce!=="pointer"&&Z.preventDefault()}_contextmenu(Z){this.setPointersPositions(Z);const te=this.getIntersection(this.getPointerPosition());te&&te.isListening()?te._fireAndBubble(U,{evt:Z}):this._fire(U,{evt:Z,target:this,currentTarget:this})}_wheel(Z){this.setPointersPositions(Z);const te=this.getIntersection(this.getPointerPosition());te&&te.isListening()?te._fireAndBubble(B,{evt:Z}):this._fire(B,{evt:Z,target:this,currentTarget:this})}_pointercancel(Z){this.setPointersPositions(Z);const te=d.getCapturedShape(Z.pointerId)||this.getIntersection(this.getPointerPosition());te&&te._fireAndBubble(A,d.createEvent(Z)),d.releaseCapture(Z.pointerId)}_lostpointercapture(Z){d.releaseCapture(Z.pointerId)}setPointersPositions(Z){const te=this._getContentPosition();let ce=null,de=null;Z=Z||window.event,Z.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(Z.touches,be=>{this._pointerPositions.push({id:be.identifier,x:(be.clientX-te.left)/te.scaleX,y:(be.clientY-te.top)/te.scaleY})}),Array.prototype.forEach.call(Z.changedTouches||Z.touches,be=>{this._changedPointerPositions.push({id:be.identifier,x:(be.clientX-te.left)/te.scaleX,y:(be.clientY-te.top)/te.scaleY})})):(ce=(Z.clientX-te.left)/te.scaleX,de=(Z.clientY-te.top)/te.scaleY,this.pointerPos={x:ce,y:de},this._pointerPositions=[{x:ce,y:de,id:e.Util._getFirstPointerId(Z)}],this._changedPointerPositions=[{x:ce,y:de,id:e.Util._getFirstPointerId(Z)}])}_setPointerPosition(Z){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(Z)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const Z=this.content.getBoundingClientRect();return{top:Z.top,left:Z.left,scaleX:Z.width/this.content.clientWidth||1,scaleY:Z.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const Z=this.container();if(!Z)throw"Stage has no container. A container is required.";Z.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),Z.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(Z){Z.batchDraw()}),this}}n.Stage=J,J.prototype.nodeType=h,(0,c._registerNode)(J),t.Factory.addGetterSetter(J,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(se=>{se.batchDraw()})})}(o1)),o1}var Sl={},s1={},kv;function fn(){return kv||(kv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=at(),t=Xt(),i=lt(),a=Jt(),o=ut(),l=at(),c=U4(),d="hasShadow",h="shadowRGBA",f="patternImage",m="linearGradient",v="radialGradient";let p;function S(){return p||(p=t.Util.createCanvasElement().getContext("2d"),p)}n.shapes={};function y(_){const R=this.attrs.fillRule;R?_.fill(R):_.fill()}function C(_){_.stroke()}function w(_){const R=this.attrs.fillRule;R?_.fill(R):_.fill()}function D(_){_.stroke()}function b(){this._clearCache(d)}function x(){this._clearCache(h)}function A(){this._clearCache(f)}function I(){this._clearCache(m)}function k(){this._clearCache(v)}class E extends a.Node{constructor(R){super(R);let N;for(;N=t.Util.getRandomColor(),!(N&&!(N in n.shapes)););this.colorKey=N,n.shapes[N]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const N=S().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(N&&N.setTransform){const U=new t.Transform;U.translate(this.fillPatternX(),this.fillPatternY()),U.rotate(e.Konva.getAngle(this.fillPatternRotation())),U.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),U.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const L=U.getMatrix(),P=typeof DOMMatrix>"u"?{a:L[0],b:L[1],c:L[2],d:L[3],e:L[4],f:L[5]}:new DOMMatrix(L);N.setTransform(P)}return N}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){const R=this.fillLinearGradientColorStops();if(R){const N=S(),U=this.fillLinearGradientStartPoint(),L=this.fillLinearGradientEndPoint(),P=N.createLinearGradient(U.x,U.y,L.x,L.y);for(let M=0;M<R.length;M+=2)P.addColorStop(R[M],R[M+1]);return P}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const R=this.fillRadialGradientColorStops();if(R){const N=S(),U=this.fillRadialGradientStartPoint(),L=this.fillRadialGradientEndPoint(),P=N.createRadialGradient(U.x,U.y,this.fillRadialGradientStartRadius(),L.x,L.y,this.fillRadialGradientEndRadius());for(let M=0;M<R.length;M+=2)P.addColorStop(R[M],R[M+1]);return P}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const R=t.Util.colorToRGBA(this.shadowColor());if(R)return"rgba("+R.r+","+R.g+","+R.b+","+R.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const R=this.hitStrokeWidth();return R==="auto"?this.hasStroke():this.strokeEnabled()&&!!R}intersects(R){const N=this.getStage();if(!N)return!1;const U=N.bufferHitCanvas;return U.getContext().clear(),this.drawHit(U,void 0,!0),U.context.getImageData(Math.round(R.x),Math.round(R.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(R){var N;if(!((N=this.attrs.perfectDrawEnabled)!==null&&N!==void 0?N:!0))return!1;const L=R||this.hasFill(),P=this.hasStroke(),M=this.getAbsoluteOpacity()!==1;if(L&&P&&M)return!0;const F=this.hasShadow(),B=this.shadowForStrokeEnabled();return!!(L&&P&&F&&B)}setStrokeHitEnabled(R){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),R?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const R=this.size();return{x:this._centroid?-R.width/2:0,y:this._centroid?-R.height/2:0,width:R.width,height:R.height}}getClientRect(R={}){let N=!1,U=this.getParent();for(;U;){if(U.isCached()){N=!0;break}U=U.getParent()}const L=R.skipTransform,P=R.relativeTo||N&&this.getStage()||void 0,M=this.getSelfRect(),B=!R.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,H=M.width+B,Q=M.height+B,G=!R.skipShadow&&this.hasShadow(),z=G?this.shadowOffsetX():0,j=G?this.shadowOffsetY():0,$=H+Math.abs(z),ee=Q+Math.abs(j),J=G&&this.shadowBlur()||0,se=$+J*2,Z=ee+J*2,te={width:se,height:Z,x:-(B/2+J)+Math.min(z,0)+M.x,y:-(B/2+J)+Math.min(j,0)+M.y};return L?te:this._transformedRect(te,P)}drawScene(R,N,U){const L=this.getLayer();let P=R||L.getCanvas(),M=P.getContext(),F=this._getCanvasCache(),B=this.getSceneFunc(),H=this.hasShadow(),Q,G;const z=P.isCache,j=N===this;if(!this.isVisible()&&!j)return this;if(F){M.save();const ee=this.getAbsoluteTransform(N).getMatrix();return M.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedSceneCanvas(M),M.restore(),this}if(!B)return this;if(M.save(),this._useBufferCanvas()&&!z){Q=this.getStage();const ee=U||Q.bufferCanvas;G=ee.getContext(),G.clear(),G.save(),G._applyLineJoin(this);var $=this.getAbsoluteTransform(N).getMatrix();G.transform($[0],$[1],$[2],$[3],$[4],$[5]),B.call(this,G,this),G.restore();const J=ee.pixelRatio;H&&M._applyShadow(this),M._applyOpacity(this),M._applyGlobalCompositeOperation(this),M.drawImage(ee._canvas,0,0,ee.width/J,ee.height/J)}else{if(M._applyLineJoin(this),!j){var $=this.getAbsoluteTransform(N).getMatrix();M.transform($[0],$[1],$[2],$[3],$[4],$[5]),M._applyOpacity(this),M._applyGlobalCompositeOperation(this)}H&&M._applyShadow(this),B.call(this,M,this)}return M.restore(),this}drawHit(R,N,U=!1){if(!this.shouldDrawHit(N,U))return this;const L=this.getLayer(),P=R||L.hitCanvas,M=P&&P.getContext(),F=this.hitFunc()||this.sceneFunc(),B=this._getCanvasCache(),H=B&&B.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),H){M.save();const G=this.getAbsoluteTransform(N).getMatrix();return M.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedHitCanvas(M),M.restore(),this}if(!F)return this;if(M.save(),M._applyLineJoin(this),!(this===N)){const G=this.getAbsoluteTransform(N).getMatrix();M.transform(G[0],G[1],G[2],G[3],G[4],G[5])}return F.call(this,M,this),M.restore(),this}drawHitFromCache(R=0){const N=this._getCanvasCache(),U=this._getCachedSceneCanvas(),L=N.hit,P=L.getContext(),M=L.getWidth(),F=L.getHeight();P.clear(),P.drawImage(U._canvas,0,0,M,F);try{const B=P.getImageData(0,0,M,F),H=B.data,Q=H.length,G=t.Util._hexToRgb(this.colorKey);for(let z=0;z<Q;z+=4)H[z+3]>R?(H[z]=G.r,H[z+1]=G.g,H[z+2]=G.b,H[z+3]=255):H[z+3]=0;P.putImageData(B,0,0)}catch(B){t.Util.error("Unable to draw hit graph from cached scene canvas. "+B.message)}return this}hasPointerCapture(R){return c.hasPointerCapture(R,this)}setPointerCapture(R){c.setPointerCapture(R,this)}releaseCapture(R){c.releaseCapture(R,this)}}n.Shape=E,E.prototype._fillFunc=y,E.prototype._strokeFunc=C,E.prototype._fillFuncHit=w,E.prototype._strokeFuncHit=D,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,l._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",A),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",I),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",k),i.Factory.addGetterSetter(E,"stroke",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(E,"strokeWidth",2,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(E,"lineJoin"),i.Factory.addGetterSetter(E,"lineCap"),i.Factory.addGetterSetter(E,"sceneFunc"),i.Factory.addGetterSetter(E,"hitFunc"),i.Factory.addGetterSetter(E,"dash"),i.Factory.addGetterSetter(E,"dashOffset",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"shadowColor",void 0,(0,o.getStringValidator)()),i.Factory.addGetterSetter(E,"shadowBlur",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"shadowOpacity",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillPatternImage"),i.Factory.addGetterSetter(E,"fill",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(E,"fillPatternX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillPatternY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(E,"fillEnabled",!0),i.Factory.addGetterSetter(E,"strokeEnabled",!0),i.Factory.addGetterSetter(E,"shadowEnabled",!0),i.Factory.addGetterSetter(E,"dashEnabled",!0),i.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(E,"fillPriority","color"),i.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(E,"fillPatternRotation",0),i.Factory.addGetterSetter(E,"fillRule",void 0,(0,o.getStringValidator)()),i.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(s1)),s1}var Uv;function N4(){if(Uv)return Sl;Uv=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Layer=void 0;const n=Xt(),e=Cd(),t=Jt(),i=lt(),a=bd(),o=ut(),l=fn(),c=at(),d="#",h="beforeDraw",f="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=m.length;let p=class extends e.Container{constructor(y){super(y),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),y<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[y+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),y&&y.parentNode&&n.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:C}){return this.canvas.setSize(y,C),this.hitCanvas.setSize(y,C),this._setSmoothEnabled(),this}_validateAdd(y){const C=y.getType();C!=="Group"&&C!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let C=1,w=!1;for(;;){for(let D=0;D<v;D++){const b=m[D],x=this._getIntersection({x:y.x+b.x*C,y:y.y+b.y*C}),A=x.shape;if(A)return A;if(w=!!x.antialiased,!x.antialiased)break}if(w)C+=1;else return null}}_getIntersection(y){const C=this.hitCanvas.pixelRatio,w=this.hitCanvas.context.getImageData(Math.round(y.x*C),Math.round(y.y*C),1,1).data,D=w[3];if(D===255){const b=n.Util._rgbToHex(w[0],w[1],w[2]),x=l.shapes[d+b];return x?{shape:x}:{antialiased:!0}}else if(D>0)return{antialiased:!0};return{}}drawScene(y,C){const w=this.getLayer(),D=y||w&&w.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&D.getContext().clear(),e.Container.prototype.drawScene.call(this,D,C),this._fire(f,{node:this}),this}drawHit(y,C){const w=this.getLayer(),D=y||w&&w.hitCanvas;return w&&w.clearBeforeDraw()&&w.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,D,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Sl.Layer=p,p.prototype.nodeType="Layer",(0,c._registerNode)(p),i.Factory.addGetterSetter(p,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(p,"clearBeforeDraw",!0),i.Factory.addGetterSetter(p,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),Sl}var yl={},Nv;function hR(){if(Nv)return yl;Nv=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.FastLayer=void 0;const n=Xt(),e=N4(),t=at();let i=class extends e.Layer{constructor(o){super(o),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return yl.FastLayer=i,i.prototype.nodeType="FastLayer",(0,t._registerNode)(i),yl}var vl={},qv;function $g(){if(qv)return vl;qv=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.Group=void 0;const n=Xt(),e=Cd(),t=at();let i=class extends e.Container{_validateAdd(o){const l=o.getType();l!=="Group"&&l!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return vl.Group=i,i.prototype.nodeType="Group",(0,t._registerNode)(i),vl}var bl={},Bv;function Kg(){if(Bv)return bl;Bv=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.Animation=void 0;const n=at(),e=Xt(),t=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Wo{constructor(o,l){this.id=Wo.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=o,this.setLayers(l)}setLayers(o){let l=[];return o&&(l=Array.isArray(o)?o:[o]),this.layers=l,this}getLayers(){return this.layers}addLayer(o){const l=this.layers,c=l.length;for(let d=0;d<c;d++)if(l[d]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const l=Wo.animations,c=l.length;for(let d=0;d<c;d++)if(l[d].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),Wo._addAnimation(this),this}stop(){return Wo._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const l=o.id,c=this.animations,d=c.length;for(let h=0;h<d;h++)if(c[h].id===l){this.animations.splice(h,1);break}}static _runFrames(){const o={},l=this.animations;for(let c=0;c<l.length;c++){const d=l[c],h=d.layers,f=d.func;d._updateFrameObject(t());const m=h.length;let v;if(f?v=f.call(d,d.frame)!==!1:v=!0,!!v)for(let p=0;p<m;p++){const S=h[p];S._id!==void 0&&(o[S._id]=S)}}for(const c in o)o.hasOwnProperty(c)&&o[c].batchDraw()}static _animationLoop(){const o=Wo;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return bl.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,bl}var l1={},Gv;function fR(){return Gv||(Gv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=Xt(),t=Kg(),i=Jt(),a=at(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,c=2,d=3,h=["fill","stroke","shadowColor"];let f=0;class m{constructor(S,y,C,w,D,b,x){this.prop=S,this.propFunc=y,this.begin=w,this._pos=w,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=x,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=D-this.begin,this.pause()}fire(S){const y=this[S];y&&y()}setTime(S){S>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():S<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=S,this.update())}getTime(){return this._time}setPosition(S){this.prevPos=this._pos,this.propFunc(S),this._pos=S}getPosition(S){return S===void 0&&(S=this._time),this.func(S,this.begin,this._change,this.duration)}play(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(S){this.pause(),this._time=S,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const S=this.getTimer()-this._startTime;this.state===c?this.setTime(S):this.state===d&&this.setTime(this.duration-S)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(S){const y=this,C=S.node,w=C._id,D=S.easing||n.Easings.Linear,b=!!S.yoyo;let x,A;typeof S.duration>"u"?x=.3:S.duration===0?x=.001:x=S.duration,this.node=C,this._id=f++;const I=C.getLayer()||(C instanceof a.Konva.Stage?C.getLayers():null);I||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){y.tween.onEnterFrame()},I),this.tween=new m(A,function(k){y._tweenFunc(k)},D,0,1,x*1e3,b),this._addListeners(),v.attrs[w]||(v.attrs[w]={}),v.attrs[w][this._id]||(v.attrs[w][this._id]={}),v.tweens[w]||(v.tweens[w]={});for(A in S)o[A]===void 0&&this._addAttr(A,S[A]);this.reset(),this.onFinish=S.onFinish,this.onReset=S.onReset,this.onUpdate=S.onUpdate}_addAttr(S,y){const C=this.node,w=C._id;let D,b,x,A,I;const k=v.tweens[w][S];k&&delete v.attrs[w][k][S];let E=C.getAttr(S);if(e.Util._isArray(y))if(D=[],b=Math.max(y.length,E.length),S==="points"&&y.length!==E.length&&(y.length>E.length?(A=E,E=e.Util._prepareArrayForTween(E,y,C.closed())):(x=y,y=e.Util._prepareArrayForTween(y,E,C.closed()))),S.indexOf("fill")===0)for(let _=0;_<b;_++)if(_%2===0)D.push(y[_]-E[_]);else{const R=e.Util.colorToRGBA(E[_]);I=e.Util.colorToRGBA(y[_]),E[_]=R,D.push({r:I.r-R.r,g:I.g-R.g,b:I.b-R.b,a:I.a-R.a})}else for(let _=0;_<b;_++)D.push(y[_]-E[_]);else h.indexOf(S)!==-1?(E=e.Util.colorToRGBA(E),I=e.Util.colorToRGBA(y),D={r:I.r-E.r,g:I.g-E.g,b:I.b-E.b,a:I.a-E.a}):D=y-E;v.attrs[w][this._id][S]={start:E,diff:D,end:y,trueEnd:x,trueStart:A},v.tweens[w][S]=this._id}_tweenFunc(S){const y=this.node,C=v.attrs[y._id][this._id];let w,D,b,x,A,I,k,E;for(w in C){if(D=C[w],b=D.start,x=D.diff,E=D.end,e.Util._isArray(b))if(A=[],k=Math.max(b.length,E.length),w.indexOf("fill")===0)for(I=0;I<k;I++)I%2===0?A.push((b[I]||0)+x[I]*S):A.push("rgba("+Math.round(b[I].r+x[I].r*S)+","+Math.round(b[I].g+x[I].g*S)+","+Math.round(b[I].b+x[I].b*S)+","+(b[I].a+x[I].a*S)+")");else for(I=0;I<k;I++)A.push((b[I]||0)+x[I]*S);else h.indexOf(w)!==-1?A="rgba("+Math.round(b.r+x.r*S)+","+Math.round(b.g+x.g*S)+","+Math.round(b.b+x.b*S)+","+(b.a+x.a*S)+")":A=b+x*S;y.setAttr(w,A)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueEnd&&S.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueStart&&S.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(S){return this.tween.seek(S*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const S=this.node._id,y=this._id,C=v.tweens[S];this.pause();for(const w in C)delete v.tweens[S][w];delete v.attrs[S][y]}}n.Tween=v,v.attrs={},v.tweens={},i.Node.prototype.to=function(p){const S=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),S&&S()},new v(p).play()},n.Easings={BackEaseIn(p,S,y,C){return y*(p/=C)*p*((1.70158+1)*p-1.70158)+S},BackEaseOut(p,S,y,C){return y*((p=p/C-1)*p*((1.70158+1)*p+1.70158)+1)+S},BackEaseInOut(p,S,y,C){let w=1.70158;return(p/=C/2)<1?y/2*(p*p*(((w*=1.525)+1)*p-w))+S:y/2*((p-=2)*p*(((w*=1.525)+1)*p+w)+2)+S},ElasticEaseIn(p,S,y,C,w,D){let b=0;return p===0?S:(p/=C)===1?S+y:(D||(D=C*.3),!w||w<Math.abs(y)?(w=y,b=D/4):b=D/(2*Math.PI)*Math.asin(y/w),-(w*Math.pow(2,10*(p-=1))*Math.sin((p*C-b)*(2*Math.PI)/D))+S)},ElasticEaseOut(p,S,y,C,w,D){let b=0;return p===0?S:(p/=C)===1?S+y:(D||(D=C*.3),!w||w<Math.abs(y)?(w=y,b=D/4):b=D/(2*Math.PI)*Math.asin(y/w),w*Math.pow(2,-10*p)*Math.sin((p*C-b)*(2*Math.PI)/D)+y+S)},ElasticEaseInOut(p,S,y,C,w,D){let b=0;return p===0?S:(p/=C/2)===2?S+y:(D||(D=C*(.3*1.5)),!w||w<Math.abs(y)?(w=y,b=D/4):b=D/(2*Math.PI)*Math.asin(y/w),p<1?-.5*(w*Math.pow(2,10*(p-=1))*Math.sin((p*C-b)*(2*Math.PI)/D))+S:w*Math.pow(2,-10*(p-=1))*Math.sin((p*C-b)*(2*Math.PI)/D)*.5+y+S)},BounceEaseOut(p,S,y,C){return(p/=C)<1/2.75?y*(7.5625*p*p)+S:p<2/2.75?y*(7.5625*(p-=1.5/2.75)*p+.75)+S:p<2.5/2.75?y*(7.5625*(p-=2.25/2.75)*p+.9375)+S:y*(7.5625*(p-=2.625/2.75)*p+.984375)+S},BounceEaseIn(p,S,y,C){return y-n.Easings.BounceEaseOut(C-p,0,y,C)+S},BounceEaseInOut(p,S,y,C){return p<C/2?n.Easings.BounceEaseIn(p*2,0,y,C)*.5+S:n.Easings.BounceEaseOut(p*2-C,0,y,C)*.5+y*.5+S},EaseIn(p,S,y,C){return y*(p/=C)*p+S},EaseOut(p,S,y,C){return-y*(p/=C)*(p-2)+S},EaseInOut(p,S,y,C){return(p/=C/2)<1?y/2*p*p+S:-y/2*(--p*(p-2)-1)+S},StrongEaseIn(p,S,y,C){return y*(p/=C)*p*p*p*p+S},StrongEaseOut(p,S,y,C){return y*((p=p/C-1)*p*p*p*p+1)+S},StrongEaseInOut(p,S,y,C){return(p/=C/2)<1?y/2*p*p*p*p*p+S:y/2*((p-=2)*p*p*p*p+2)+S},Linear(p,S,y,C){return y*p/C+S}}}(l1)),l1}var Vv;function gR(){return Vv||(Vv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=at(),t=Xt(),i=Jt(),a=Cd(),o=dR(),l=N4(),c=hR(),d=$g(),h=Wg(),f=fn(),m=Kg(),v=fR(),p=k4(),S=bd();n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:i.Node,Container:a.Container,Stage:o.Stage,stages:o.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:d.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:m.Animation,Tween:v.Tween,Easings:v.Easings,Context:p.Context,Canvas:S.Canvas}),n.default=n.Konva}(t1)),t1}var Cl={},zv;function pR(){if(zv)return Cl;zv=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Arc=void 0;const n=lt(),e=fn(),t=at(),i=ut(),a=at();let o=class extends e.Shape{_sceneFunc(c){const d=t.Konva.getAngle(this.angle()),h=this.clockwise();c.beginPath(),c.arc(0,0,this.outerRadius(),0,d,h),c.arc(0,0,this.innerRadius(),d,0,!h),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}getSelfRect(){const c=this.innerRadius(),d=this.outerRadius(),h=this.clockwise(),f=t.Konva.getAngle(h?360-this.angle():this.angle()),m=Math.cos(Math.min(f,Math.PI)),v=1,p=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),S=Math.sin(Math.min(f,Math.PI/2)),y=m*(m>0?c:d),C=v*d,w=p*(p>0?c:d),D=S*(S>0?d:c);return{x:y,y:h?-1*D:w,width:C-y,height:D-w}}};return Cl.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1,(0,i.getBooleanValidator)()),Cl}var Dl={},Tl={},Qv;function q4(){if(Qv)return Tl;Qv=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Line=void 0;const n=lt(),e=at(),t=fn(),i=ut();function a(c,d,h,f,m,v,p){const S=Math.sqrt(Math.pow(h-c,2)+Math.pow(f-d,2)),y=Math.sqrt(Math.pow(m-h,2)+Math.pow(v-f,2)),C=p*S/(S+y),w=p*y/(S+y),D=h-C*(m-c),b=f-C*(v-d),x=h+w*(m-c),A=f+w*(v-d);return[D,b,x,A]}function o(c,d){const h=c.length,f=[];for(let m=2;m<h-2;m+=2){const v=a(c[m-2],c[m-1],c[m],c[m+1],c[m+2],c[m+3],d);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(c[m]),f.push(c[m+1]),f.push(v[2]),f.push(v[3]))}return f}let l=class extends t.Shape{constructor(d){super(d),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(d){let h=this.points(),f=h.length,m=this.tension(),v=this.closed(),p=this.bezier(),S,y,C;if(f){if(d.beginPath(),d.moveTo(h[0],h[1]),m!==0&&f>4){for(S=this.getTensionPoints(),y=S.length,C=v?0:4,v||d.quadraticCurveTo(S[0],S[1],S[2],S[3]);C<y-2;)d.bezierCurveTo(S[C++],S[C++],S[C++],S[C++],S[C++],S[C++]);v||d.quadraticCurveTo(S[y-2],S[y-1],h[f-2],h[f-1])}else if(p)for(C=2;C<f;)d.bezierCurveTo(h[C++],h[C++],h[C++],h[C++],h[C++],h[C++]);else for(C=2;C<f;C+=2)d.lineTo(h[C],h[C+1]);v?(d.closePath(),d.fillStrokeShape(this)):d.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const d=this.points(),h=d.length,f=this.tension(),m=a(d[h-2],d[h-1],d[0],d[1],d[2],d[3],f),v=a(d[h-4],d[h-3],d[h-2],d[h-1],d[0],d[1],f),p=o(d,f);return[m[2],m[3]].concat(p).concat([v[0],v[1],d[h-2],d[h-1],v[2],v[3],m[0],m[1],d[0],d[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let d=this.points();if(d.length<4)return{x:d[0]||0,y:d[1]||0,width:0,height:0};this.tension()!==0?d=[d[0],d[1],...this._getTensionPoints(),d[d.length-2],d[d.length-1]]:d=this.points();let h=d[0],f=d[0],m=d[1],v=d[1],p,S;for(let y=0;y<d.length/2;y++)p=d[y*2],S=d[y*2+1],h=Math.min(h,p),f=Math.max(f,p),m=Math.min(m,S),v=Math.max(v,S);return{x:h,y:m,width:f-h,height:v-m}}};return Tl.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(l),n.Factory.addGetterSetter(l,"closed",!1),n.Factory.addGetterSetter(l,"bezier",!1),n.Factory.addGetterSetter(l,"tension",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(l,"points",[],(0,i.getNumberArrayValidator)()),Tl}var wl={},c1={},Hv;function mR(){return Hv||(Hv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,c,d)=>{let h,f;const v=d/2;h=0;for(let p=0;p<20;p++)f=v*n.tValues[20][p]+v,h+=n.cValues[20][p]*i(l,c,f);return v*h};n.getCubicArcLength=e;const t=(l,c,d)=>{d===void 0&&(d=1);const h=l[0]-2*l[1]+l[2],f=c[0]-2*c[1]+c[2],m=2*l[1]-2*l[0],v=2*c[1]-2*c[0],p=4*(h*h+f*f),S=4*(h*m+f*v),y=m*m+v*v;if(p===0)return d*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(c[2]-c[0],2));const C=S/(2*p),w=y/p,D=d+C,b=w-C*C,x=D*D+b>0?Math.sqrt(D*D+b):0,A=C*C+b>0?Math.sqrt(C*C+b):0,I=C+Math.sqrt(C*C+b)!==0?b*Math.log(Math.abs((D+x)/(C+A))):0;return Math.sqrt(p)/2*(D*x-C*A+I)};n.getQuadraticArcLength=t;function i(l,c,d){const h=a(1,d,l),f=a(1,d,c),m=h*h+f*f;return Math.sqrt(m)}const a=(l,c,d)=>{const h=d.length-1;let f,m;if(h===0)return 0;if(l===0){m=0;for(let v=0;v<=h;v++)m+=n.binomialCoefficients[h][v]*Math.pow(1-c,h-v)*Math.pow(c,v)*d[v];return m}else{f=new Array(h);for(let v=0;v<h;v++)f[v]=h*(d[v+1]-d[v]);return a(l-1,c,f)}},o=(l,c,d)=>{let h=1,f=l/c,m=(l-d(f))/c,v=0;for(;h>.001;){const p=d(f+m),S=Math.abs(l-p)/c;if(S<h)h=S,f+=m;else{const y=d(f-m),C=Math.abs(l-y)/c;C<h?(h=C,f-=m):m/=2}if(v++,v>500)break}return f};n.t2length=o}(c1)),c1}var jv;function Zg(){if(jv)return wl;jv=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Path=void 0;const n=lt(),e=fn(),t=at(),i=mR();let a=class Fn extends e.Shape{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Fn.parsePathData(this.data()),this.pathLength=Fn.getPathLength(this.dataArray)}_sceneFunc(l){const c=this.dataArray;l.beginPath();let d=!1;for(let x=0;x<c.length;x++){const A=c[x].command,I=c[x].points;switch(A){case"L":l.lineTo(I[0],I[1]);break;case"M":l.moveTo(I[0],I[1]);break;case"C":l.bezierCurveTo(I[0],I[1],I[2],I[3],I[4],I[5]);break;case"Q":l.quadraticCurveTo(I[0],I[1],I[2],I[3]);break;case"A":var h=I[0],f=I[1],m=I[2],v=I[3],p=I[4],S=I[5],y=I[6],C=I[7],w=m>v?m:v,D=m>v?1:m/v,b=m>v?v/m:1;l.translate(h,f),l.rotate(y),l.scale(D,b),l.arc(0,0,w,p,p+S,1-C),l.scale(1/D,1/b),l.rotate(-y),l.translate(-h,-f);break;case"z":d=!0,l.closePath();break}}!d&&!this.hasFill()?l.strokeShape(this):l.fillStrokeShape(this)}getSelfRect(){let l=[];this.dataArray.forEach(function(p){if(p.command==="A"){const S=p.points[4],y=p.points[5],C=p.points[4]+y;let w=Math.PI/180;if(Math.abs(S-C)<w&&(w=Math.abs(S-C)),y<0)for(let D=S-w;D>C;D-=w){const b=Fn.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],D,0);l.push(b.x,b.y)}else for(let D=S+w;D<C;D+=w){const b=Fn.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],D,0);l.push(b.x,b.y)}}else if(p.command==="C")for(let S=0;S<=1;S+=.01){const y=Fn.getPointOnCubicBezier(S,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);l.push(y.x,y.y)}else l=l.concat(p.points)});let c=l[0],d=l[0],h=l[1],f=l[1],m,v;for(let p=0;p<l.length/2;p++)m=l[p*2],v=l[p*2+1],isNaN(m)||(c=Math.min(c,m),d=Math.max(d,m)),isNaN(v)||(h=Math.min(h,v),f=Math.max(f,v));return{x:c,y:h,width:d-c,height:f-h}}getLength(){return this.pathLength}getPointAtLength(l){return Fn.getPointAtLengthOfDataArray(l,this.dataArray)}static getLineLength(l,c,d,h){return Math.sqrt((d-l)*(d-l)+(h-c)*(h-c))}static getPathLength(l){let c=0;for(let d=0;d<l.length;++d)c+=l[d].pathLength;return c}static getPointAtLengthOfDataArray(l,c){let d,h=0,f=c.length;if(!f)return null;for(;h<f&&l>c[h].pathLength;)l-=c[h].pathLength,++h;if(h===f)return d=c[h-1].points.slice(-2),{x:d[0],y:d[1]};if(l<.01)return d=c[h].points.slice(0,2),{x:d[0],y:d[1]};const m=c[h],v=m.points;switch(m.command){case"L":return Fn.getPointOnLine(l,m.start.x,m.start.y,v[0],v[1]);case"C":return Fn.getPointOnCubicBezier((0,i.t2length)(l,Fn.getPathLength(c),x=>(0,i.getCubicArcLength)([m.start.x,v[0],v[2],v[4]],[m.start.y,v[1],v[3],v[5]],x)),m.start.x,m.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Fn.getPointOnQuadraticBezier((0,i.t2length)(l,Fn.getPathLength(c),x=>(0,i.getQuadraticArcLength)([m.start.x,v[0],v[2]],[m.start.y,v[1],v[3]],x)),m.start.x,m.start.y,v[0],v[1],v[2],v[3]);case"A":var p=v[0],S=v[1],y=v[2],C=v[3],w=v[4],D=v[5],b=v[6];return w+=D*l/m.pathLength,Fn.getPointOnEllipticalArc(p,S,y,C,w,b)}return null}static getPointOnLine(l,c,d,h,f,m,v){m=m??c,v=v??d;const p=this.getLineLength(c,d,h,f);if(p<1e-10)return{x:c,y:d};if(h===c)return{x:m,y:v+(f>d?l:-l)};const S=(f-d)/(h-c),y=Math.sqrt(l*l/(1+S*S))*(h<c?-1:1),C=S*y;if(Math.abs(v-d-S*(m-c))<1e-10)return{x:m+y,y:v+C};const w=((m-c)*(h-c)+(v-d)*(f-d))/(p*p),D=c+w*(h-c),b=d+w*(f-d),x=this.getLineLength(m,v,D,b),A=Math.sqrt(l*l-x*x),I=Math.sqrt(A*A/(1+S*S))*(h<c?-1:1),k=S*I;return{x:D+I,y:b+k}}static getPointOnCubicBezier(l,c,d,h,f,m,v,p,S){function y(A){return A*A*A}function C(A){return 3*A*A*(1-A)}function w(A){return 3*A*(1-A)*(1-A)}function D(A){return(1-A)*(1-A)*(1-A)}const b=p*y(l)+m*C(l)+h*w(l)+c*D(l),x=S*y(l)+v*C(l)+f*w(l)+d*D(l);return{x:b,y:x}}static getPointOnQuadraticBezier(l,c,d,h,f,m,v){function p(D){return D*D}function S(D){return 2*D*(1-D)}function y(D){return(1-D)*(1-D)}const C=m*p(l)+h*S(l)+c*y(l),w=v*p(l)+f*S(l)+d*y(l);return{x:C,y:w}}static getPointOnEllipticalArc(l,c,d,h,f,m){const v=Math.cos(m),p=Math.sin(m),S={x:d*Math.cos(f),y:h*Math.sin(f)};return{x:l+(S.x*v-S.y*p),y:c+(S.x*p+S.y*v)}}static parsePathData(l){if(!l)return[];let c=l;const d=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];c=c.replace(new RegExp(" ","g"),",");for(var h=0;h<d.length;h++)c=c.replace(new RegExp(d[h],"g"),"|"+d[h]);const f=c.split("|"),m=[],v=[];let p=0,S=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(h=1;h<f.length;h++){let L=f[h],P=L.charAt(0);for(L=L.slice(1),v.length=0;C=y.exec(L);)v.push(C[0]);const M=[];for(let F=0,B=v.length;F<B;F++){if(v[F]==="00"){M.push(0,0);continue}const H=parseFloat(v[F]);isNaN(H)?M.push(0):M.push(H)}for(;M.length>0&&!isNaN(M[0]);){let F="",B=[];const H=p,Q=S;var w,D,b,x,A,I,k,E,_,R;switch(P){case"l":p+=M.shift(),S+=M.shift(),F="L",B.push(p,S);break;case"L":p=M.shift(),S=M.shift(),B.push(p,S);break;case"m":var N=M.shift(),U=M.shift();if(p+=N,S+=U,F="M",m.length>2&&m[m.length-1].command==="z"){for(let G=m.length-2;G>=0;G--)if(m[G].command==="M"){p=m[G].points[0]+N,S=m[G].points[1]+U;break}}B.push(p,S),P="l";break;case"M":p=M.shift(),S=M.shift(),F="M",B.push(p,S),P="L";break;case"h":p+=M.shift(),F="L",B.push(p,S);break;case"H":p=M.shift(),F="L",B.push(p,S);break;case"v":S+=M.shift(),F="L",B.push(p,S);break;case"V":S=M.shift(),F="L",B.push(p,S);break;case"C":B.push(M.shift(),M.shift(),M.shift(),M.shift()),p=M.shift(),S=M.shift(),B.push(p,S);break;case"c":B.push(p+M.shift(),S+M.shift(),p+M.shift(),S+M.shift()),p+=M.shift(),S+=M.shift(),F="C",B.push(p,S);break;case"S":D=p,b=S,w=m[m.length-1],w.command==="C"&&(D=p+(p-w.points[2]),b=S+(S-w.points[3])),B.push(D,b,M.shift(),M.shift()),p=M.shift(),S=M.shift(),F="C",B.push(p,S);break;case"s":D=p,b=S,w=m[m.length-1],w.command==="C"&&(D=p+(p-w.points[2]),b=S+(S-w.points[3])),B.push(D,b,p+M.shift(),S+M.shift()),p+=M.shift(),S+=M.shift(),F="C",B.push(p,S);break;case"Q":B.push(M.shift(),M.shift()),p=M.shift(),S=M.shift(),B.push(p,S);break;case"q":B.push(p+M.shift(),S+M.shift()),p+=M.shift(),S+=M.shift(),F="Q",B.push(p,S);break;case"T":D=p,b=S,w=m[m.length-1],w.command==="Q"&&(D=p+(p-w.points[0]),b=S+(S-w.points[1])),p=M.shift(),S=M.shift(),F="Q",B.push(D,b,p,S);break;case"t":D=p,b=S,w=m[m.length-1],w.command==="Q"&&(D=p+(p-w.points[0]),b=S+(S-w.points[1])),p+=M.shift(),S+=M.shift(),F="Q",B.push(D,b,p,S);break;case"A":x=M.shift(),A=M.shift(),I=M.shift(),k=M.shift(),E=M.shift(),_=p,R=S,p=M.shift(),S=M.shift(),F="A",B=this.convertEndpointToCenterParameterization(_,R,p,S,k,E,x,A,I);break;case"a":x=M.shift(),A=M.shift(),I=M.shift(),k=M.shift(),E=M.shift(),_=p,R=S,p+=M.shift(),S+=M.shift(),F="A",B=this.convertEndpointToCenterParameterization(_,R,p,S,k,E,x,A,I);break}m.push({command:F||P,points:B,start:{x:H,y:Q},pathLength:this.calcLength(H,Q,F||P,B)})}(P==="z"||P==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(l,c,d,h){let f,m,v,p;const S=Fn;switch(d){case"L":return S.getLineLength(l,c,h[0],h[1]);case"C":return(0,i.getCubicArcLength)([l,h[0],h[2],h[4]],[c,h[1],h[3],h[5]],1);case"Q":return(0,i.getQuadraticArcLength)([l,h[0],h[2]],[c,h[1],h[3]],1);case"A":f=0;var y=h[4],C=h[5],w=h[4]+C,D=Math.PI/180;if(Math.abs(y-w)<D&&(D=Math.abs(y-w)),m=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],y,0),C<0)for(p=y-D;p>w;p-=D)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],p,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;else for(p=y+D;p<w;p+=D)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],p,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;return v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],w,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(l,c,d,h,f,m,v,p,S){const y=S*(Math.PI/180),C=Math.cos(y)*(l-d)/2+Math.sin(y)*(c-h)/2,w=-1*Math.sin(y)*(l-d)/2+Math.cos(y)*(c-h)/2,D=C*C/(v*v)+w*w/(p*p);D>1&&(v*=Math.sqrt(D),p*=Math.sqrt(D));let b=Math.sqrt((v*v*(p*p)-v*v*(w*w)-p*p*(C*C))/(v*v*(w*w)+p*p*(C*C)));f===m&&(b*=-1),isNaN(b)&&(b=0);const x=b*v*w/p,A=b*-p*C/v,I=(l+d)/2+Math.cos(y)*x-Math.sin(y)*A,k=(c+h)/2+Math.sin(y)*x+Math.cos(y)*A,E=function(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])},_=function(M,F){return(M[0]*F[0]+M[1]*F[1])/(E(M)*E(F))},R=function(M,F){return(M[0]*F[1]<M[1]*F[0]?-1:1)*Math.acos(_(M,F))},N=R([1,0],[(C-x)/v,(w-A)/p]),U=[(C-x)/v,(w-A)/p],L=[(-1*C-x)/v,(-1*w-A)/p];let P=R(U,L);return _(U,L)<=-1&&(P=Math.PI),_(U,L)>=1&&(P=0),m===0&&P>0&&(P=P-2*Math.PI),m===1&&P<0&&(P=P+2*Math.PI),[I,k,v,p,N,P,y,m]}};return wl.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(a),n.Factory.addGetterSetter(a,"data"),wl}var Yv;function SR(){if(Yv)return Dl;Yv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.Arrow=void 0;const n=lt(),e=q4(),t=ut(),i=at(),a=Zg();let o=class extends e.Line{_sceneFunc(c){super._sceneFunc(c);const d=Math.PI*2,h=this.points();let f=h;const m=this.tension()!==0&&h.length>4;m&&(f=this.getTensionPoints());const v=this.pointerLength(),p=h.length;let S,y;if(m){const D=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],h[p-2],h[p-1]],b=a.Path.calcLength(f[f.length-4],f[f.length-3],"C",D),x=a.Path.getPointOnQuadraticBezier(Math.min(1,1-v/b),D[0],D[1],D[2],D[3],D[4],D[5]);S=h[p-2]-x.x,y=h[p-1]-x.y}else S=h[p-2]-h[p-4],y=h[p-1]-h[p-3];const C=(Math.atan2(y,S)+d)%d,w=this.pointerWidth();this.pointerAtEnding()&&(c.save(),c.beginPath(),c.translate(h[p-2],h[p-1]),c.rotate(C),c.moveTo(0,0),c.lineTo(-v,w/2),c.lineTo(-v,-w/2),c.closePath(),c.restore(),this.__fillStroke(c)),this.pointerAtBeginning()&&(c.save(),c.beginPath(),c.translate(h[0],h[1]),m?(S=(f[0]+f[2])/2-h[0],y=(f[1]+f[3])/2-h[1]):(S=h[2]-h[0],y=h[3]-h[1]),c.rotate((Math.atan2(-y,-S)+d)%d),c.moveTo(0,0),c.lineTo(-v,w/2),c.lineTo(-v,-w/2),c.closePath(),c.restore(),this.__fillStroke(c))}__fillStroke(c){const d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,c.setLineDash([])),c.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const c=super.getSelfRect(),d=this.pointerWidth()/2;return{x:c.x,y:c.y-d,width:c.width,height:c.height+d*2}}};return Dl.Arrow=o,o.prototype.className="Arrow",(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"pointerLength",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerWidth",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerAtBeginning",!1),n.Factory.addGetterSetter(o,"pointerAtEnding",!0),Dl}var xl={},Xv;function yR(){if(Xv)return xl;Xv=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.Circle=void 0;const n=lt(),e=fn(),t=ut(),i=at();let a=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}};return xl.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),xl}var Al={},Wv;function vR(){if(Wv)return Al;Wv=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.Ellipse=void 0;const n=lt(),e=fn(),t=ut(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this.radiusX(),d=this.radiusY();l.beginPath(),l.save(),c!==d&&l.scale(1,d/c),l.arc(0,0,c,0,Math.PI*2,!1),l.restore(),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(l){this.radiusX(l/2)}setHeight(l){this.radiusY(l/2)}};return Al.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),n.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),n.Factory.addGetterSetter(a,"radiusX",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"radiusY",0,(0,t.getNumberValidator)()),Al}var Pl={},$v;function bR(){if($v)return Pl;$v=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.Image=void 0;const n=Xt(),e=lt(),t=fn(),i=at(),a=ut();class o extends t.Shape{constructor(c){super(c),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",d=>{this._removeImageLoad(d.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const c=this.image();c&&c.complete||c&&c.readyState===4||c&&c.addEventListener&&c.addEventListener("load",this._loadListener)}_removeImageLoad(c){c&&c.removeEventListener&&c.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const c=!!this.cornerRadius(),d=this.hasShadow();return c&&d?!0:super._useBufferCanvas(!0)}_sceneFunc(c){const d=this.getWidth(),h=this.getHeight(),f=this.cornerRadius(),m=this.attrs.image;let v;if(m){const p=this.attrs.cropWidth,S=this.attrs.cropHeight;p&&S?v=[m,this.cropX(),this.cropY(),p,S,0,0,d,h]:v=[m,0,0,d,h]}(this.hasFill()||this.hasStroke()||f)&&(c.beginPath(),f?n.Util.drawRoundedRectPath(c,d,h,f):c.rect(0,0,d,h),c.closePath(),c.fillStrokeShape(this)),m&&(f&&c.clip(),c.drawImage.apply(c,v))}_hitFunc(c){const d=this.width(),h=this.height(),f=this.cornerRadius();c.beginPath(),f?n.Util.drawRoundedRectPath(c,d,h,f):c.rect(0,0,d,h),c.closePath(),c.fillStrokeShape(this)}getWidth(){var c,d;return(c=this.attrs.width)!==null&&c!==void 0?c:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var c,d;return(c=this.attrs.height)!==null&&c!==void 0?c:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(c,d,h=null){const f=n.Util.createImageElement();f.onload=function(){const m=new o({image:f});d(m)},f.onerror=h,f.crossOrigin="Anonymous",f.src=c}}return Pl.Image=o,o.prototype.className="Image",(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,a.getNumberValidator)()),Pl}var xa={},Kv;function CR(){if(Kv)return xa;Kv=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.Tag=xa.Label=void 0;const n=lt(),e=fn(),t=$g(),i=ut(),a=at(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],l="Change.konva",c="none",d="up",h="right",f="down",m="left",v=o.length;let p=class extends t.Group{constructor(C){super(C),this.on("add.konva",function(w){this._addListeners(w.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){let w=this,D;const b=function(){w._sync()};for(D=0;D<v;D++)C.on(o[D]+l,b)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let C=this.getText(),w=this.getTag(),D,b,x,A,I,k,E;if(C&&w){switch(D=C.width(),b=C.height(),x=w.pointerDirection(),A=w.pointerWidth(),E=w.pointerHeight(),I=0,k=0,x){case d:I=D/2,k=-1*E;break;case h:I=D+A,k=b/2;break;case f:I=D/2,k=b+E;break;case m:I=-1*A,k=b/2;break}w.setAttrs({x:-1*I,y:-1*k,width:D,height:b}),C.setAttrs({x:-1*I,y:-1*k})}}};xa.Label=p,p.prototype.className="Label",(0,a._registerNode)(p);class S extends e.Shape{_sceneFunc(C){const w=this.width(),D=this.height(),b=this.pointerDirection(),x=this.pointerWidth(),A=this.pointerHeight(),I=this.cornerRadius();let k=0,E=0,_=0,R=0;typeof I=="number"?k=E=_=R=Math.min(I,w/2,D/2):(k=Math.min(I[0]||0,w/2,D/2),E=Math.min(I[1]||0,w/2,D/2),R=Math.min(I[2]||0,w/2,D/2),_=Math.min(I[3]||0,w/2,D/2)),C.beginPath(),C.moveTo(k,0),b===d&&(C.lineTo((w-x)/2,0),C.lineTo(w/2,-1*A),C.lineTo((w+x)/2,0)),C.lineTo(w-E,0),C.arc(w-E,E,E,Math.PI*3/2,0,!1),b===h&&(C.lineTo(w,(D-A)/2),C.lineTo(w+x,D/2),C.lineTo(w,(D+A)/2)),C.lineTo(w,D-R),C.arc(w-R,D-R,R,0,Math.PI/2,!1),b===f&&(C.lineTo((w+x)/2,D),C.lineTo(w/2,D+A),C.lineTo((w-x)/2,D)),C.lineTo(_,D),C.arc(_,D-_,_,Math.PI/2,Math.PI,!1),b===m&&(C.lineTo(0,(D+A)/2),C.lineTo(-1*x,D/2),C.lineTo(0,(D-A)/2)),C.lineTo(0,k),C.arc(k,k,k,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){let C=0,w=0,D=this.pointerWidth(),b=this.pointerHeight(),x=this.pointerDirection(),A=this.width(),I=this.height();return x===d?(w-=b,I+=b):x===f?I+=b:x===m?(C-=D*1.5,A+=D):x===h&&(A+=D*1.5),{x:C,y:w,width:A,height:I}}}return xa.Tag=S,S.prototype.className="Tag",(0,a._registerNode)(S),n.Factory.addGetterSetter(S,"pointerDirection",c),n.Factory.addGetterSetter(S,"pointerWidth",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"pointerHeight",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),xa}var Rl={},Zv;function B4(){if(Zv)return Rl;Zv=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.Rect=void 0;const n=lt(),e=fn(),t=at(),i=Xt(),a=ut();let o=class extends e.Shape{_sceneFunc(c){const d=this.cornerRadius(),h=this.width(),f=this.height();c.beginPath(),d?i.Util.drawRoundedRectPath(c,h,f,d):c.rect(0,0,h,f),c.closePath(),c.fillStrokeShape(this)}};return Rl.Rect=o,o.prototype.className="Rect",(0,t._registerNode)(o),n.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),Rl}var Ol={},Jv;function DR(){if(Jv)return Ol;Jv=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.RegularPolygon=void 0;const n=lt(),e=fn(),t=ut(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this._getPoints();l.beginPath(),l.moveTo(c[0].x,c[0].y);for(let d=1;d<c.length;d++)l.lineTo(c[d].x,c[d].y);l.closePath(),l.fillStrokeShape(this)}_getPoints(){const l=this.attrs.sides,c=this.attrs.radius||0,d=[];for(let h=0;h<l;h++)d.push({x:c*Math.sin(h*2*Math.PI/l),y:-1*c*Math.cos(h*2*Math.PI/l)});return d}getSelfRect(){const l=this._getPoints();let c=l[0].x,d=l[0].y,h=l[0].x,f=l[0].y;return l.forEach(m=>{c=Math.min(c,m.x),d=Math.max(d,m.x),h=Math.min(h,m.y),f=Math.max(f,m.y)}),{x:c,y:h,width:d-c,height:f-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return Ol.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"sides",0,(0,t.getNumberValidator)()),Ol}var Ll={},e5;function TR(){if(e5)return Ll;e5=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.Ring=void 0;const n=lt(),e=fn(),t=ut(),i=at(),a=Math.PI*2;let o=class extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.innerRadius(),0,a,!1),c.moveTo(this.outerRadius(),0),c.arc(0,0,this.outerRadius(),a,0,!0),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return Ll.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,t.getNumberValidator)()),Ll}var Il={},t5;function wR(){if(t5)return Il;t5=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.Sprite=void 0;const n=lt(),e=fn(),t=Kg(),i=ut(),a=at();let o=class extends e.Shape{constructor(c){super(c),this._updated=!0,this.anim=new t.Animation(()=>{const d=this._updated;return this._updated=!1,d}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(c){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),p=m[f+0],S=m[f+1],y=m[f+2],C=m[f+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(c.beginPath(),c.rect(0,0,y,C),c.closePath(),c.fillStrokeShape(this)),w)if(v){const D=v[d],b=h*2;c.drawImage(w,p,S,y,C,D[b+0],D[b+1],y,C)}else c.drawImage(w,p,S,y,C,0,0,y,C)}_hitFunc(c){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),p=m[f+2],S=m[f+3];if(c.beginPath(),v){const y=v[d],C=h*2;c.rect(y[C+0],y[C+1],p,S)}else c.rect(0,0,p,S);c.closePath(),c.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const c=this;this.interval=setInterval(function(){c._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const c=this.getLayer();this.anim.setLayers(c),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const c=this.frameIndex(),d=this.animation(),h=this.animations(),f=h[d],m=f.length/4;c<m-1?this.frameIndex(c+1):this.frameIndex(0)}};return Il.Sprite=o,o.prototype.className="Sprite",(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"animation"),n.Factory.addGetterSetter(o,"animations"),n.Factory.addGetterSetter(o,"frameOffsets"),n.Factory.addGetterSetter(o,"image"),n.Factory.addGetterSetter(o,"frameIndex",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"frameRate",17,(0,i.getNumberValidator)()),n.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Il}var El={},n5;function xR(){if(n5)return El;n5=1,Object.defineProperty(El,"__esModule",{value:!0}),El.Star=void 0;const n=lt(),e=fn(),t=ut(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this.innerRadius(),d=this.outerRadius(),h=this.numPoints();l.beginPath(),l.moveTo(0,0-d);for(let f=1;f<h*2;f++){const m=f%2===0?d:c,v=m*Math.sin(f*Math.PI/h),p=-1*m*Math.cos(f*Math.PI/h);l.lineTo(v,p)}l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return El.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"numPoints",5,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"outerRadius",0,(0,t.getNumberValidator)()),El}var jo={},i5;function G4(){if(i5)return jo;i5=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.Text=void 0,jo.stringToArray=l;const n=Xt(),e=lt(),t=fn(),i=at(),a=ut(),o=at();function l(j){return[...j].reduce(($,ee,J,se)=>{if(new RegExp("\\p{Emoji}","u").test(ee)){const Z=se[J+1];Z&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(Z)?($.push(ee+Z),se[J+1]=""):$.push(ee)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ee+(se[J+1]||""))?$.push(ee+se[J+1]):J>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ee)?$[$.length-1]+=ee:ee&&$.push(ee);return $},[])}const c="auto",d="center",h="inherit",f="justify",m="Change.konva",v="2d",p="-",S="left",y="text",C="Text",w="top",D="bottom",b="middle",x="normal",A="px ",I=" ",k="right",E="rtl",_="word",R="char",N="none",U="…",L=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],P=L.length;function M(j){return j.split(",").map($=>{$=$.trim();const ee=$.indexOf(" ")>=0,J=$.indexOf('"')>=0||$.indexOf("'")>=0;return ee&&!J&&($=`"${$}"`),$}).join(", ")}let F;function B(){return F||(F=n.Util.createCanvasElement().getContext(v),F)}function H(j){j.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Q(j){j.setAttr("miterLimit",2),j.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function G(j){return j=j||{},!j.fillLinearGradientColorStops&&!j.fillRadialGradientColorStops&&!j.fillPatternImage&&(j.fill=j.fill||"black"),j}let z=class extends t.Shape{constructor($){super(G($)),this._partialTextX=0,this._partialTextY=0;for(let ee=0;ee<P;ee++)this.on(L[ee]+m,this._setTextData);this._setTextData()}_sceneFunc($){const ee=this.textArr,J=ee.length;if(!this.text())return;let se=this.padding(),Z=this.fontSize(),te=this.lineHeight()*Z,ce=this.verticalAlign(),de=this.direction(),be=0,Te=this.align(),Me=this.getWidth(),q=this.letterSpacing(),le=this.fill(),he=this.textDecoration(),W=he.indexOf("underline")!==-1,X=he.indexOf("line-through")!==-1,ae;de=de===h?$.direction:de;let ve=te/2,Ce=b;if(i.Konva._fixTextRendering){const qe=this.measureSize("M");Ce="alphabetic",ve=(qe.fontBoundingBoxAscent-qe.fontBoundingBoxDescent)/2+te/2}var ne=0,Pe=0;for(de===E&&$.setAttr("direction",de),$.setAttr("font",this._getContextFont()),$.setAttr("textBaseline",Ce),$.setAttr("textAlign",S),ce===b?be=(this.getHeight()-J*te-se*2)/2:ce===D&&(be=this.getHeight()-J*te-se*2),$.translate(se,be+se),ae=0;ae<J;ae++){var ne=0,Pe=0,Ee=ee[ae],fe=Ee.text,pe=Ee.width,Oe=Ee.lastInParagraph,Ie,Fe;if($.save(),Te===k?ne+=Me-pe-se*2:Te===d&&(ne+=(Me-pe-se*2)/2),W){$.save(),$.beginPath();const Ze=i.Konva._fixTextRendering?Math.round(Z/4):Math.round(Z/2),Ge=ne,dt=ve+Pe+Ze;$.moveTo(Ge,dt),Ie=fe.split(" ").length-1,Fe=Te===f&&!Oe?Me-se*2:pe,$.lineTo(Ge+Math.round(Fe),dt),$.lineWidth=Z/15;const Ne=this._getLinearGradient();$.strokeStyle=Ne||le,$.stroke(),$.restore()}if(X){$.save(),$.beginPath();const Ze=i.Konva._fixTextRendering?-Math.round(Z/4):0;$.moveTo(ne,ve+Pe+Ze),Ie=fe.split(" ").length-1,Fe=Te===f&&!Oe?Me-se*2:pe,$.lineTo(ne+Math.round(Fe),ve+Pe+Ze),$.lineWidth=Z/15;const Ge=this._getLinearGradient();$.strokeStyle=Ge||le,$.stroke(),$.restore()}if(de!==E&&(q!==0||Te===f)){Ie=fe.split(" ").length-1;const Ze=l(fe);for(let Ge=0;Ge<Ze.length;Ge++){const dt=Ze[Ge];dt===" "&&!Oe&&Te===f&&(ne+=(Me-se*2-pe)/Ie),this._partialTextX=ne,this._partialTextY=ve+Pe,this._partialText=dt,$.fillStrokeShape(this),ne+=this.measureSize(dt).width+q}}else q!==0&&$.setAttr("letterSpacing",`${q}px`),this._partialTextX=ne,this._partialTextY=ve+Pe,this._partialText=fe,$.fillStrokeShape(this);$.restore(),J>1&&(ve+=te)}}_hitFunc($){const ee=this.getWidth(),J=this.getHeight();$.beginPath(),$.rect(0,0,ee,J),$.closePath(),$.fillStrokeShape(this)}setText($){const ee=n.Util._isString($)?$:$==null?"":$+"";return this._setAttr(y,ee),this}getWidth(){return this.attrs.width===c||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===c||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize($){var ee,J,se,Z,te,ce,de,be,Te,Me,q;let le=B(),he=this.fontSize(),W;le.save(),le.font=this._getContextFont(),W=le.measureText($),le.restore();const X=he/100;return{actualBoundingBoxAscent:(ee=W.actualBoundingBoxAscent)!==null&&ee!==void 0?ee:71.58203125*X,actualBoundingBoxDescent:(J=W.actualBoundingBoxDescent)!==null&&J!==void 0?J:0,actualBoundingBoxLeft:(se=W.actualBoundingBoxLeft)!==null&&se!==void 0?se:-7.421875*X,actualBoundingBoxRight:(Z=W.actualBoundingBoxRight)!==null&&Z!==void 0?Z:75.732421875*X,alphabeticBaseline:(te=W.alphabeticBaseline)!==null&&te!==void 0?te:0,emHeightAscent:(ce=W.emHeightAscent)!==null&&ce!==void 0?ce:100*X,emHeightDescent:(de=W.emHeightDescent)!==null&&de!==void 0?de:-20*X,fontBoundingBoxAscent:(be=W.fontBoundingBoxAscent)!==null&&be!==void 0?be:91*X,fontBoundingBoxDescent:(Te=W.fontBoundingBoxDescent)!==null&&Te!==void 0?Te:21*X,hangingBaseline:(Me=W.hangingBaseline)!==null&&Me!==void 0?Me:72.80000305175781*X,ideographicBaseline:(q=W.ideographicBaseline)!==null&&q!==void 0?q:-21*X,width:W.width,height:he}}_getContextFont(){return this.fontStyle()+I+this.fontVariant()+I+(this.fontSize()+A)+M(this.fontFamily())}_addTextLine($){this.align()===f&&($=$.trim());const J=this._getTextWidth($);return this.textArr.push({text:$,width:J,lastInParagraph:!1})}_getTextWidth($){const ee=this.letterSpacing(),J=$.length;return B().measureText($).width+ee*J}_setTextData(){let $=this.text().split(`
`),ee=+this.fontSize(),J=0,se=this.lineHeight()*ee,Z=this.attrs.width,te=this.attrs.height,ce=Z!==c&&Z!==void 0,de=te!==c&&te!==void 0,be=this.padding(),Te=Z-be*2,Me=te-be*2,q=0,le=this.wrap(),he=le!==N,W=le!==R&&he,X=this.ellipsis();this.textArr=[],B().font=this._getContextFont();const ae=X?this._getTextWidth(U):0;for(let ve=0,Ce=$.length;ve<Ce;++ve){let ne=$[ve],Pe=this._getTextWidth(ne);if(ce&&Pe>Te)for(;ne.length>0;){let Ee=0,fe=l(ne).length,pe="",Oe=0;for(;Ee<fe;){const Ie=Ee+fe>>>1,Fe=l(ne),qe=Fe.slice(0,Ie+1).join(""),Ve=this._getTextWidth(qe);(X&&de&&q+se>Me?Ve+ae:Ve)<=Te?(Ee=Ie+1,pe=qe,Oe=Ve):fe=Ie}if(pe){if(W){const qe=l(ne),Ve=l(pe),Ze=qe[Ve.length],Ge=Ze===I||Ze===p;let dt;if(Ge&&Oe<=Te)dt=Ve.length;else{const Ne=Ve.lastIndexOf(I),We=Ve.lastIndexOf(p);dt=Math.max(Ne,We)+1}dt>0&&(Ee=dt,pe=qe.slice(0,Ee).join(""),Oe=this._getTextWidth(pe))}if(pe=pe.trimRight(),this._addTextLine(pe),J=Math.max(J,Oe),q+=se,this._shouldHandleEllipsis(q)){this._tryToAddEllipsisToLastLine();break}if(ne=l(ne).slice(Ee).join("").trimLeft(),ne.length>0&&(Pe=this._getTextWidth(ne),Pe<=Te)){this._addTextLine(ne),q+=se,J=Math.max(J,Pe);break}}else break}else this._addTextLine(ne),q+=se,J=Math.max(J,Pe),this._shouldHandleEllipsis(q)&&ve<Ce-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),de&&q+se>Me)break}this.textHeight=ee,this.textWidth=J}_shouldHandleEllipsis($){const ee=+this.fontSize(),J=this.lineHeight()*ee,se=this.attrs.height,Z=se!==c&&se!==void 0,te=this.padding(),ce=se-te*2;return!(this.wrap()!==N)||Z&&$+J>ce}_tryToAddEllipsisToLastLine(){const $=this.attrs.width,ee=$!==c&&$!==void 0,J=this.padding(),se=$-J*2,Z=this.ellipsis(),te=this.textArr[this.textArr.length-1];!te||!Z||(ee&&(this._getTextWidth(te.text+U)<se||(te.text=te.text.slice(0,te.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(te.text+U))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const $=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ee=this.hasShadow();return $&&ee?!0:super._useBufferCanvas()}};return jo.Text=z,z.prototype._fillFunc=H,z.prototype._strokeFunc=Q,z.prototype.className=C,z.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(z),e.Factory.overWriteSetter(z,"width",(0,a.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(z,"height",(0,a.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(z,"direction",h),e.Factory.addGetterSetter(z,"fontFamily","Arial"),e.Factory.addGetterSetter(z,"fontSize",12,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(z,"fontStyle",x),e.Factory.addGetterSetter(z,"fontVariant",x),e.Factory.addGetterSetter(z,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(z,"align",S),e.Factory.addGetterSetter(z,"verticalAlign",w),e.Factory.addGetterSetter(z,"lineHeight",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(z,"wrap",_),e.Factory.addGetterSetter(z,"ellipsis",!1,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(z,"letterSpacing",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(z,"text","",(0,a.getStringValidator)()),e.Factory.addGetterSetter(z,"textDecoration",""),jo}var _l={},r5;function AR(){if(r5)return _l;r5=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.TextPath=void 0;const n=Xt(),e=lt(),t=fn(),i=Zg(),a=G4(),o=ut(),l=at(),c="",d="normal";function h(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let m=class extends t.Shape{constructor(p){super(p),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(p){if(!this.attrs.data)return null;const S=this.pathLength;return p-1>S?null:i.Path.getPointAtLengthOfDataArray(p,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(p){p.setAttr("font",this._getContextFont()),p.setAttr("textBaseline",this.textBaseline()),p.setAttr("textAlign","left"),p.save();const S=this.textDecoration(),y=this.fill(),C=this.fontSize(),w=this.glyphInfo;S==="underline"&&p.beginPath();for(let D=0;D<w.length;D++){p.save();const b=w[D].p0;p.translate(b.x,b.y),p.rotate(w[D].rotation),this.partialText=w[D].text,p.fillStrokeShape(this),S==="underline"&&(D===0&&p.moveTo(0,C/2+1),p.lineTo(C,C/2+1)),p.restore()}S==="underline"&&(p.strokeStyle=y,p.lineWidth=C/20,p.stroke()),p.restore()}_hitFunc(p){p.beginPath();const S=this.glyphInfo;if(S.length>=1){const y=S[0].p0;p.moveTo(y.x,y.y)}for(let y=0;y<S.length;y++){const C=S[y].p1;p.lineTo(C.x,C.y)}p.setAttr("lineWidth",this.fontSize()),p.setAttr("strokeStyle",this.colorKey),p.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(p){return a.Text.prototype.setText.call(this,p)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(p){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const C=y.measureText(p);return y.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:p,height:S}=this._getTextSize(this.attrs.text);if(this.textWidth=p,this.textHeight=S,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),C=this.align(),w=this.kerningFunc(),D=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let b=0;C==="center"&&(b=Math.max(0,this.pathLength/2-D/2)),C==="right"&&(b=Math.max(0,this.pathLength-D));const x=(0,a.stringToArray)(this.text());let A=b;for(let I=0;I<x.length;I++){const k=this._getPointAtLength(A);if(!k)return;let E=this._getTextSize(x[I]).width+y;if(x[I]===" "&&C==="justify"){const P=this.text().split(" ").length-1;E+=(this.pathLength-D)/P}const _=this._getPointAtLength(A+E);if(!_)return;const R=i.Path.getLineLength(k.x,k.y,_.x,_.y);let N=0;if(w)try{N=w(x[I-1],x[I])*this.fontSize()}catch{N=0}k.x+=N,_.x+=N,this.textWidth+=N;const U=i.Path.getPointOnLine(N+R/2,k.x,k.y,_.x,_.y),L=Math.atan2(_.y-k.y,_.x-k.x);this.glyphInfo.push({transposeX:U.x,transposeY:U.y,text:x[I],rotation:L,p0:k,p1:_}),A+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const p=[];this.glyphInfo.forEach(function(A){p.push(A.p0.x),p.push(A.p0.y),p.push(A.p1.x),p.push(A.p1.y)});let S=p[0]||0,y=p[0]||0,C=p[1]||0,w=p[1]||0,D,b;for(let A=0;A<p.length/2;A++)D=p[A*2],b=p[A*2+1],S=Math.min(S,D),y=Math.max(y,D),C=Math.min(C,b),w=Math.max(w,b);const x=this.fontSize();return{x:S-x/2,y:C-x/2,width:y-S+x,height:w-C+x}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return _l.TextPath=m,m.prototype._fillFunc=h,m.prototype._strokeFunc=f,m.prototype._fillFuncHit=h,m.prototype._strokeFuncHit=f,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,l._registerNode)(m),e.Factory.addGetterSetter(m,"data"),e.Factory.addGetterSetter(m,"fontFamily","Arial"),e.Factory.addGetterSetter(m,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"fontStyle",d),e.Factory.addGetterSetter(m,"align","left"),e.Factory.addGetterSetter(m,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"textBaseline","middle"),e.Factory.addGetterSetter(m,"fontVariant",d),e.Factory.addGetterSetter(m,"text",c),e.Factory.addGetterSetter(m,"textDecoration",""),e.Factory.addGetterSetter(m,"kerningFunc",void 0),_l}var Ml={},a5;function PR(){if(a5)return Ml;a5=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.Transformer=void 0;const n=Xt(),e=lt(),t=Jt(),i=fn(),a=B4(),o=$g(),l=at(),c=ut(),d=at(),h="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(E=>E+`.${h}`).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],p={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},S="ontouchstart"in l.Konva._global;function y(E,_,R){if(E==="rotater")return R;_+=n.Util.degToRad(p[E]||0);const N=(n.Util.radToDeg(_)%360+360)%360;return n.Util._inRange(N,315+22.5,360)||n.Util._inRange(N,0,22.5)?"ns-resize":n.Util._inRange(N,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(N,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(N,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(N,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(N,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(N,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(N,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+N),"pointer")}const C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(E){return{x:E.x+E.width/2*Math.cos(E.rotation)+E.height/2*Math.sin(-E.rotation),y:E.y+E.height/2*Math.cos(E.rotation)+E.width/2*Math.sin(E.rotation)}}function D(E,_,R){const N=R.x+(E.x-R.x)*Math.cos(_)-(E.y-R.y)*Math.sin(_),U=R.y+(E.x-R.x)*Math.sin(_)+(E.y-R.y)*Math.cos(_);return{...E,rotation:E.rotation+_,x:N,y:U}}function b(E,_){const R=w(E);return D(E,_,R)}function x(E,_,R){let N=_;for(let U=0;U<E.length;U++){const L=l.Konva.getAngle(E[U]),P=Math.abs(L-_)%(Math.PI*2);Math.min(P,Math.PI*2-P)<R&&(N=L)}return N}let A=0,I=class extends o.Group{constructor(_){super(_),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(_){return this.setNode(_),this}setNode(_){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([_])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(_=[]){this._nodes&&this._nodes.length&&this.detach();const R=_.filter(U=>U.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=_=R,_.length===1&&this.useSingleNodeRotation()?this.rotation(_[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(U=>{const L=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(U._attrsAffectingSize.length){const P=U._attrsAffectingSize.map(M=>M+"Change."+this._getEventNamespace()).join(" ");U.on(P,L)}U.on(v.map(P=>P+`.${this._getEventNamespace()}`).join(" "),L),U.on(`absoluteTransformChange.${this._getEventNamespace()}`,L),this._proxyDrag(U)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(_){let R;_.on(`dragstart.${this._getEventNamespace()}`,N=>{R=_.getAbsolutePosition(),!this.isDragging()&&_!==this.findOne(".back")&&this.startDrag(N,!1)}),_.on(`dragmove.${this._getEventNamespace()}`,N=>{if(!R)return;const U=_.getAbsolutePosition(),L=U.x-R.x,P=U.y-R.y;this.nodes().forEach(M=>{if(M===_||M.isDragging())return;const F=M.getAbsolutePosition();M.setAbsolutePosition({x:F.x+L,y:F.y+P}),M.startDrag(N)}),R=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(_=>{_.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(_,R=this.rotation(),N){const U=_.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),L=_.getAbsoluteScale(N),P=_.getAbsolutePosition(N),M=U.x*L.x-_.offsetX()*L.x,F=U.y*L.y-_.offsetY()*L.y,B=(l.Konva.getAngle(_.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),H={x:P.x+M*Math.cos(B)+F*Math.sin(-B),y:P.y+F*Math.cos(B)+M*Math.sin(B),width:U.width*L.x,height:U.height*L.y,rotation:B};return D(H,-l.Konva.getAngle(R),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const R=[];this.nodes().map(B=>{const H=B.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Q=[{x:H.x,y:H.y},{x:H.x+H.width,y:H.y},{x:H.x+H.width,y:H.y+H.height},{x:H.x,y:H.y+H.height}],G=B.getAbsoluteTransform();Q.forEach(function(z){const j=G.point(z);R.push(j)})});const N=new n.Transform;N.rotate(-l.Konva.getAngle(this.rotation()));let U=1/0,L=1/0,P=-1/0,M=-1/0;R.forEach(function(B){const H=N.point(B);U===void 0&&(U=P=H.x,L=M=H.y),U=Math.min(U,H.x),L=Math.min(L,H.y),P=Math.max(P,H.x),M=Math.max(M,H.y)}),N.invert();const F=N.point({x:U,y:L});return{x:F.x,y:F.y,width:P-U,height:M-L,rotation:l.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(_=>{this._createAnchor(_)}),this._createAnchor("rotater")}_createAnchor(_){const R=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:_+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:S?10:"auto"}),N=this;R.on("mousedown touchstart",function(U){N._handleMouseDown(U)}),R.on("dragstart",U=>{R.stopDrag(),U.cancelBubble=!0}),R.on("dragend",U=>{U.cancelBubble=!0}),R.on("mouseenter",()=>{const U=l.Konva.getAngle(this.rotation()),L=this.rotateAnchorCursor(),P=y(_,U,L);R.getStage().content&&(R.getStage().content.style.cursor=P),this._cursorChange=!0}),R.on("mouseout",()=>{R.getStage().content&&(R.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(R)}_createBack(){const _=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(R,N){const U=N.getParent(),L=U.padding();R.beginPath(),R.rect(-L,-L,N.width()+L*2,N.height()+L*2),R.moveTo(N.width()/2,-L),U.rotateEnabled()&&U.rotateLineVisible()&&R.lineTo(N.width()/2,-U.rotateAnchorOffset()*n.Util._sign(N.height())-L),R.fillStrokeShape(N)},hitFunc:(R,N)=>{if(!this.shouldOverdrawWholeArea())return;const U=this.padding();R.beginPath(),R.rect(-U,-U,N.width()+U*2,N.height()+U*2),R.fillStrokeShape(N)}});this.add(_),this._proxyDrag(_),_.on("dragstart",R=>{R.cancelBubble=!0}),_.on("dragmove",R=>{R.cancelBubble=!0}),_.on("dragend",R=>{R.cancelBubble=!0}),this.on("dragmove",R=>{this.update()})}_handleMouseDown(_){if(this._transforming)return;this._movingAnchorName=_.target.name().split(" ")[0];const R=this._getNodeRect(),N=R.width,U=R.height,L=Math.sqrt(Math.pow(N,2)+Math.pow(U,2));this.sin=Math.abs(U/L),this.cos=Math.abs(N/L),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const P=_.target.getAbsolutePosition(),M=_.target.getStage().getPointerPosition();this._anchorDragOffset={x:M.x-P.x,y:M.y-P.y},A++,this._fire("transformstart",{evt:_.evt,target:this.getNode()}),this._nodes.forEach(F=>{F._fire("transformstart",{evt:_.evt,target:F})})}_handleMouseMove(_){let R,N,U;const L=this.findOne("."+this._movingAnchorName),P=L.getStage();P.setPointersPositions(_);const M=P.getPointerPosition();let F={x:M.x-this._anchorDragOffset.x,y:M.y-this._anchorDragOffset.y};const B=L.getAbsolutePosition();this.anchorDragBoundFunc()&&(F=this.anchorDragBoundFunc()(B,F,_)),L.setAbsolutePosition(F);const H=L.getAbsolutePosition();if(B.x===H.x&&B.y===H.y)return;if(this._movingAnchorName==="rotater"){const ce=this._getNodeRect();R=L.x()-ce.width/2,N=-L.y()+ce.height/2;let de=Math.atan2(-N,R)+Math.PI/2;ce.height<0&&(de-=Math.PI);const Te=l.Konva.getAngle(this.rotation())+de,Me=l.Konva.getAngle(this.rotationSnapTolerance()),le=x(this.rotationSnaps(),Te,Me)-ce.rotation,he=b(ce,le);this._fitNodesInto(he,_);return}const Q=this.shiftBehavior();let G;Q==="inverted"?G=this.keepRatio()&&!_.shiftKey:Q==="none"?G=this.keepRatio():G=this.keepRatio()||_.shiftKey;var J=this.centeredScaling()||_.altKey;if(this._movingAnchorName==="top-left"){if(G){var z=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};U=Math.sqrt(Math.pow(z.x-L.x(),2)+Math.pow(z.y-L.y(),2));var j=this.findOne(".top-left").x()>z.x?-1:1,$=this.findOne(".top-left").y()>z.y?-1:1;R=U*this.cos*j,N=U*this.sin*$,this.findOne(".top-left").x(z.x-R),this.findOne(".top-left").y(z.y-N)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(L.y());else if(this._movingAnchorName==="top-right"){if(G){var z=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};U=Math.sqrt(Math.pow(L.x()-z.x,2)+Math.pow(z.y-L.y(),2));var j=this.findOne(".top-right").x()<z.x?-1:1,$=this.findOne(".top-right").y()>z.y?-1:1;R=U*this.cos*j,N=U*this.sin*$,this.findOne(".top-right").x(z.x+R),this.findOne(".top-right").y(z.y-N)}var ee=L.position();this.findOne(".top-left").y(ee.y),this.findOne(".bottom-right").x(ee.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(L.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(L.x());else if(this._movingAnchorName==="bottom-left"){if(G){var z=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};U=Math.sqrt(Math.pow(z.x-L.x(),2)+Math.pow(L.y()-z.y,2));var j=z.x<L.x()?-1:1,$=L.y()<z.y?-1:1;R=U*this.cos*j,N=U*this.sin*$,L.x(z.x-R),L.y(z.y+N)}ee=L.position(),this.findOne(".top-left").x(ee.x),this.findOne(".bottom-right").y(ee.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(L.y());else if(this._movingAnchorName==="bottom-right"){if(G){var z=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};U=Math.sqrt(Math.pow(L.x()-z.x,2)+Math.pow(L.y()-z.y,2));var j=this.findOne(".bottom-right").x()<z.x?-1:1,$=this.findOne(".bottom-right").y()<z.y?-1:1;R=U*this.cos*j,N=U*this.sin*$,this.findOne(".bottom-right").x(z.x+R),this.findOne(".bottom-right").y(z.y+N)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var J=this.centeredScaling()||_.altKey;if(J){const ce=this.findOne(".top-left"),de=this.findOne(".bottom-right"),be=ce.x(),Te=ce.y(),Me=this.getWidth()-de.x(),q=this.getHeight()-de.y();de.move({x:-be,y:-Te}),ce.move({x:Me,y:q})}const se=this.findOne(".top-left").getAbsolutePosition();R=se.x,N=se.y;const Z=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),te=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:R,y:N,width:Z,height:te,rotation:l.Konva.getAngle(this.rotation())},_)}_handleMouseUp(_){this._removeEvents(_)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(_){var R;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const N=this.getNode();A--,this._fire("transformend",{evt:_,target:N}),(R=this.getLayer())===null||R===void 0||R.batchDraw(),N&&this._nodes.forEach(U=>{var L;U._fire("transformend",{evt:_,target:U}),(L=U.getLayer())===null||L===void 0||L.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(_,R){const N=this._getNodeRect(),U=1;if(n.Util._inRange(_.width,-this.padding()*2-U,U)){this.update();return}if(n.Util._inRange(_.height,-this.padding()*2-U,U)){this.update();return}const L=new n.Transform;if(L.rotate(l.Konva.getAngle(this.rotation())),this._movingAnchorName&&_.width<0&&this._movingAnchorName.indexOf("left")>=0){const G=L.point({x:-this.padding()*2,y:0});_.x+=G.x,_.y+=G.y,_.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y}else if(this._movingAnchorName&&_.width<0&&this._movingAnchorName.indexOf("right")>=0){const G=L.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,_.width+=this.padding()*2}if(this._movingAnchorName&&_.height<0&&this._movingAnchorName.indexOf("top")>=0){const G=L.point({x:0,y:-this.padding()*2});_.x+=G.x,_.y+=G.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,_.height+=this.padding()*2}else if(this._movingAnchorName&&_.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const G=L.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=G.x,this._anchorDragOffset.y-=G.y,_.height+=this.padding()*2}if(this.boundBoxFunc()){const G=this.boundBoxFunc()(N,_);G?_=G:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const P=1e7,M=new n.Transform;M.translate(N.x,N.y),M.rotate(N.rotation),M.scale(N.width/P,N.height/P);const F=new n.Transform,B=_.width/P,H=_.height/P;this.flipEnabled()===!1?(F.translate(_.x,_.y),F.rotate(_.rotation),F.translate(_.width<0?_.width:0,_.height<0?_.height:0),F.scale(Math.abs(B),Math.abs(H))):(F.translate(_.x,_.y),F.rotate(_.rotation),F.scale(B,H));const Q=F.multiply(M.invert());this._nodes.forEach(G=>{var z;const j=G.getParent().getAbsoluteTransform(),$=G.getTransform().copy();$.translate(G.offsetX(),G.offsetY());const ee=new n.Transform;ee.multiply(j.copy().invert()).multiply(Q).multiply(j).multiply($);const J=ee.decompose();G.setAttrs(J),(z=G.getLayer())===null||z===void 0||z.batchDraw()}),this.rotation(n.Util._getRotation(_.rotation)),this._nodes.forEach(G=>{this._fire("transform",{evt:R,target:G}),G._fire("transform",{evt:R,target:G})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(_,R){this.findOne(_).setAttrs(R)}update(){var _;const R=this._getNodeRect();this.rotation(n.Util._getRotation(R.rotation));const N=R.width,U=R.height,L=this.enabledAnchors(),P=this.resizeEnabled(),M=this.padding(),F=this.anchorSize(),B=this.find("._anchor");B.forEach(Q=>{Q.setAttrs({width:F,height:F,offsetX:F/2,offsetY:F/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:F/2+M,offsetY:F/2+M,visible:P&&L.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:N/2,y:0,offsetY:F/2+M,visible:P&&L.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:N,y:0,offsetX:F/2-M,offsetY:F/2+M,visible:P&&L.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:U/2,offsetX:F/2+M,visible:P&&L.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:N,y:U/2,offsetX:F/2-M,visible:P&&L.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:U,offsetX:F/2+M,offsetY:F/2-M,visible:P&&L.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:N/2,y:U,offsetY:F/2-M,visible:P&&L.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:N,y:U,offsetX:F/2-M,offsetY:F/2-M,visible:P&&L.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:N/2,y:-this.rotateAnchorOffset()*n.Util._sign(U)-M,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:N,height:U,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const H=this.anchorStyleFunc();H&&B.forEach(Q=>{H(Q)}),(_=this.getLayer())===null||_===void 0||_.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const _=this.findOne("."+this._movingAnchorName);_&&_.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(_){return t.Node.prototype.clone.call(this,_)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ml.Transformer=I,I.isTransforming=()=>A>0;function k(E){return E instanceof Array||n.Util.warn("enabledAnchors value should be an array"),E instanceof Array&&E.forEach(function(_){C.indexOf(_)===-1&&n.Util.warn("Unknown anchor name: "+_+". Available names are: "+C.join(", "))}),E||[]}return I.prototype.className="Transformer",(0,d._registerNode)(I),e.Factory.addGetterSetter(I,"enabledAnchors",C,k),e.Factory.addGetterSetter(I,"flipEnabled",!0,(0,c.getBooleanValidator)()),e.Factory.addGetterSetter(I,"resizeEnabled",!0),e.Factory.addGetterSetter(I,"anchorSize",10,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"rotateEnabled",!0),e.Factory.addGetterSetter(I,"rotateLineVisible",!0),e.Factory.addGetterSetter(I,"rotationSnaps",[]),e.Factory.addGetterSetter(I,"rotateAnchorOffset",50,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(I,"rotationSnapTolerance",5,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderEnabled",!0),e.Factory.addGetterSetter(I,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(I,"anchorStrokeWidth",1,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"anchorFill","white"),e.Factory.addGetterSetter(I,"anchorCornerRadius",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(I,"borderStrokeWidth",1,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderDash"),e.Factory.addGetterSetter(I,"keepRatio",!0),e.Factory.addGetterSetter(I,"shiftBehavior","default"),e.Factory.addGetterSetter(I,"centeredScaling",!1),e.Factory.addGetterSetter(I,"ignoreStroke",!1),e.Factory.addGetterSetter(I,"padding",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"nodes"),e.Factory.addGetterSetter(I,"node"),e.Factory.addGetterSetter(I,"boundBoxFunc"),e.Factory.addGetterSetter(I,"anchorDragBoundFunc"),e.Factory.addGetterSetter(I,"anchorStyleFunc"),e.Factory.addGetterSetter(I,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(I,"useSingleNodeRotation",!0),e.Factory.backCompat(I,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ml}var Fl={},o5;function RR(){if(o5)return Fl;o5=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.Wedge=void 0;const n=lt(),e=fn(),t=at(),i=ut(),a=at();let o=class extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),c.lineTo(0,0),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return Fl.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1),n.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Fl}var kl={},s5;function OR(){if(s5)return kl;s5=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.Blur=void 0;const n=lt(),e=Jt(),t=ut();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function l(d,h){const f=d.data,m=d.width,v=d.height;let p,S,y,C,w,D,b,x,A,I,k,E,_,R,N,U,L,P,M,F,B,H,Q,G;const z=h+h+1,j=m-1,$=v-1,ee=h+1,J=ee*(ee+1)/2,se=new i,Z=a[h],te=o[h];let ce=null,de=se,be=null,Te=null;for(y=1;y<z;y++)de=de.next=new i,y===ee&&(ce=de);for(de.next=se,b=D=0,S=0;S<v;S++){for(U=L=P=M=x=A=I=k=0,E=ee*(F=f[D]),_=ee*(B=f[D+1]),R=ee*(H=f[D+2]),N=ee*(Q=f[D+3]),x+=J*F,A+=J*B,I+=J*H,k+=J*Q,de=se,y=0;y<ee;y++)de.r=F,de.g=B,de.b=H,de.a=Q,de=de.next;for(y=1;y<ee;y++)C=D+((j<y?j:y)<<2),x+=(de.r=F=f[C])*(G=ee-y),A+=(de.g=B=f[C+1])*G,I+=(de.b=H=f[C+2])*G,k+=(de.a=Q=f[C+3])*G,U+=F,L+=B,P+=H,M+=Q,de=de.next;for(be=se,Te=ce,p=0;p<m;p++)f[D+3]=Q=k*Z>>te,Q!==0?(Q=255/Q,f[D]=(x*Z>>te)*Q,f[D+1]=(A*Z>>te)*Q,f[D+2]=(I*Z>>te)*Q):f[D]=f[D+1]=f[D+2]=0,x-=E,A-=_,I-=R,k-=N,E-=be.r,_-=be.g,R-=be.b,N-=be.a,C=b+((C=p+h+1)<j?C:j)<<2,U+=be.r=f[C],L+=be.g=f[C+1],P+=be.b=f[C+2],M+=be.a=f[C+3],x+=U,A+=L,I+=P,k+=M,be=be.next,E+=F=Te.r,_+=B=Te.g,R+=H=Te.b,N+=Q=Te.a,U-=F,L-=B,P-=H,M-=Q,Te=Te.next,D+=4;b+=m}for(p=0;p<m;p++){for(L=P=M=U=A=I=k=x=0,D=p<<2,E=ee*(F=f[D]),_=ee*(B=f[D+1]),R=ee*(H=f[D+2]),N=ee*(Q=f[D+3]),x+=J*F,A+=J*B,I+=J*H,k+=J*Q,de=se,y=0;y<ee;y++)de.r=F,de.g=B,de.b=H,de.a=Q,de=de.next;for(w=m,y=1;y<=h;y++)D=w+p<<2,x+=(de.r=F=f[D])*(G=ee-y),A+=(de.g=B=f[D+1])*G,I+=(de.b=H=f[D+2])*G,k+=(de.a=Q=f[D+3])*G,U+=F,L+=B,P+=H,M+=Q,de=de.next,y<$&&(w+=m);for(D=p,be=se,Te=ce,S=0;S<v;S++)C=D<<2,f[C+3]=Q=k*Z>>te,Q>0?(Q=255/Q,f[C]=(x*Z>>te)*Q,f[C+1]=(A*Z>>te)*Q,f[C+2]=(I*Z>>te)*Q):f[C]=f[C+1]=f[C+2]=0,x-=E,A-=_,I-=R,k-=N,E-=be.r,_-=be.g,R-=be.b,N-=be.a,C=p+((C=S+ee)<$?C:$)*m<<2,x+=U+=be.r=f[C],A+=L+=be.g=f[C+1],I+=P+=be.b=f[C+2],k+=M+=be.a=f[C+3],be=be.next,E+=F=Te.r,_+=B=Te.g,R+=H=Te.b,N+=Q=Te.a,U-=F,L-=B,P-=H,M-=Q,Te=Te.next,D+=m}}const c=function(h){const f=Math.round(this.blurRadius());f>0&&l(h,f)};return kl.Blur=c,n.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),kl}var Ul={},l5;function LR(){if(l5)return Ul;l5=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Brighten=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=this.brightness()*255,l=a.data,c=l.length;for(let d=0;d<c;d+=4)l[d]+=o,l[d+1]+=o,l[d+2]+=o};return Ul.Brighten=i,n.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Ul}var Nl={},c5;function IR(){if(c5)return Nl;c5=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Contrast=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=Math.pow((this.contrast()+100)/100,2),l=a.data,c=l.length;let d=150,h=150,f=150;for(let m=0;m<c;m+=4)d=l[m],h=l[m+1],f=l[m+2],d/=255,d-=.5,d*=o,d+=.5,d*=255,h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,l[m]=d,l[m+1]=h,l[m+2]=f};return Nl.Contrast=i,n.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Nl}var ql={},u5;function ER(){if(u5)return ql;u5=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.Emboss=void 0;const n=lt(),e=Jt(),t=Xt(),i=ut(),a=function(o){const l=this.embossStrength()*10,c=this.embossWhiteLevel()*255,d=this.embossDirection(),h=this.embossBlend(),f=o.data,m=o.width,v=o.height,p=m*4;let S=0,y=0,C=v;switch(d){case"top-left":S=-1,y=-1;break;case"top":S=-1,y=0;break;case"top-right":S=-1,y=1;break;case"right":S=0,y=1;break;case"bottom-right":S=1,y=1;break;case"bottom":S=1,y=0;break;case"bottom-left":S=1,y=-1;break;case"left":S=0,y=-1;break;default:t.Util.error("Unknown emboss direction: "+d)}do{const w=(C-1)*p;let D=S;C+D<1&&(D=0),C+D>v&&(D=0);const b=(C-1+D)*m*4;let x=m;do{const A=w+(x-1)*4;let I=y;x+I<1&&(I=0),x+I>m&&(I=0);const k=b+(x-1+I)*4,E=f[A]-f[k],_=f[A+1]-f[k+1],R=f[A+2]-f[k+2];let N=E;const U=N>0?N:-N,L=_>0?_:-_,P=R>0?R:-R;if(L>U&&(N=_),P>U&&(N=R),N*=l,h){const M=f[A]+N,F=f[A+1]+N,B=f[A+2]+N;f[A]=M>255?255:M<0?0:M,f[A+1]=F>255?255:F<0?0:F,f[A+2]=B>255?255:B<0?0:B}else{let M=c-N;M<0?M=0:M>255&&(M=255),f[A]=f[A+1]=f[A+2]=M}}while(--x)}while(--C)};return ql.Emboss=a,n.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),ql}var Bl={},d5;function _R(){if(d5)return Bl;d5=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.Enhance=void 0;const n=lt(),e=Jt(),t=ut();function i(o,l,c,d,h){const f=c-l,m=h-d;if(f===0)return d+m/2;if(m===0)return d;let v=(o-l)/f;return v=m*v+d,v}const a=function(o){const l=o.data,c=l.length;let d=l[0],h=d,f,m=l[1],v=m,p,S=l[2],y=S,C;const w=this.enhance();if(w===0)return;for(let N=0;N<c;N+=4)f=l[N+0],f<d?d=f:f>h&&(h=f),p=l[N+1],p<m?m=p:p>v&&(v=p),C=l[N+2],C<S?S=C:C>y&&(y=C);h===d&&(h=255,d=0),v===m&&(v=255,m=0),y===S&&(y=255,S=0);let D,b,x,A,I,k,E,_,R;w>0?(b=h+w*(255-h),x=d-w*(d-0),I=v+w*(255-v),k=m-w*(m-0),_=y+w*(255-y),R=S-w*(S-0)):(D=(h+d)*.5,b=h+w*(h-D),x=d+w*(d-D),A=(v+m)*.5,I=v+w*(v-A),k=m+w*(m-A),E=(y+S)*.5,_=y+w*(y-E),R=S+w*(S-E));for(let N=0;N<c;N+=4)l[N+0]=i(l[N+0],d,h,x,b),l[N+1]=i(l[N+1],m,v,k,I),l[N+2]=i(l[N+2],S,y,R,_)};return Bl.Enhance=a,n.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Bl}var Gl={},h5;function MR(){if(h5)return Gl;h5=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.Grayscale=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=.34*t[a]+.5*t[a+1]+.16*t[a+2];t[a]=o,t[a+1]=o,t[a+2]=o}};return Gl.Grayscale=n,Gl}var Vl={},f5;function FR(){if(f5)return Vl;f5=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.HSL=void 0;const n=lt(),e=Jt(),t=ut();n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter);const i=function(a){const o=a.data,l=o.length,c=1,d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=this.luminance()*127,m=c*d*Math.cos(h*Math.PI/180),v=c*d*Math.sin(h*Math.PI/180),p=.299*c+.701*m+.167*v,S=.587*c-.587*m+.33*v,y=.114*c-.114*m-.497*v,C=.299*c-.299*m-.328*v,w=.587*c+.413*m+.035*v,D=.114*c-.114*m+.293*v,b=.299*c-.3*m+1.25*v,x=.587*c-.586*m-1.05*v,A=.114*c+.886*m-.2*v;let I,k,E,_;for(let R=0;R<l;R+=4)I=o[R+0],k=o[R+1],E=o[R+2],_=o[R+3],o[R+0]=p*I+S*k+y*E+f,o[R+1]=C*I+w*k+D*E+f,o[R+2]=b*I+x*k+A*E+f,o[R+3]=_};return Vl.HSL=i,Vl}var zl={},g5;function kR(){if(g5)return zl;g5=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.HSV=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=a.data,l=o.length,c=Math.pow(2,this.value()),d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=c*d*Math.cos(h*Math.PI/180),m=c*d*Math.sin(h*Math.PI/180),v=.299*c+.701*f+.167*m,p=.587*c-.587*f+.33*m,S=.114*c-.114*f-.497*m,y=.299*c-.299*f-.328*m,C=.587*c+.413*f+.035*m,w=.114*c-.114*f+.293*m,D=.299*c-.3*f+1.25*m,b=.587*c-.586*f-1.05*m,x=.114*c+.886*f-.2*m;let A,I,k,E;for(let _=0;_<l;_+=4)A=o[_+0],I=o[_+1],k=o[_+2],E=o[_+3],o[_+0]=v*A+p*I+S*k,o[_+1]=y*A+C*I+w*k,o[_+2]=D*A+b*I+x*k,o[_+3]=E};return zl.HSV=i,n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),zl}var Ql={},p5;function UR(){if(p5)return Ql;p5=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.Invert=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]};return Ql.Invert=n,Ql}var Hl={},m5;function NR(){if(m5)return Hl;m5=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Kaleidoscope=void 0;const n=lt(),e=Jt(),t=Xt(),i=ut(),a=function(c,d,h){const f=c.data,m=d.data,v=c.width,p=c.height,S=h.polarCenterX||v/2,y=h.polarCenterY||p/2;let C=Math.sqrt(S*S+y*y),w=v-S,D=p-y;const b=Math.sqrt(w*w+D*D);C=b>C?b:C;const x=p,A=v,I=360/A*Math.PI/180;for(let k=0;k<A;k+=1){const E=Math.sin(k*I),_=Math.cos(k*I);for(let R=0;R<x;R+=1){w=Math.floor(S+C*R/x*_),D=Math.floor(y+C*R/x*E);let N=(D*v+w)*4;const U=f[N+0],L=f[N+1],P=f[N+2],M=f[N+3];N=(k+R*v)*4,m[N+0]=U,m[N+1]=L,m[N+2]=P,m[N+3]=M}}},o=function(c,d,h){const f=c.data,m=d.data,v=c.width,p=c.height,S=h.polarCenterX||v/2,y=h.polarCenterY||p/2;let C=Math.sqrt(S*S+y*y),w=v-S,D=p-y;const b=Math.sqrt(w*w+D*D);C=b>C?b:C;const x=p,A=v,I=0;let k,E;for(w=0;w<v;w+=1)for(D=0;D<p;D+=1){const _=w-S,R=D-y,N=Math.sqrt(_*_+R*R)*x/C;let U=(Math.atan2(R,_)*180/Math.PI+360+I)%360;U=U*A/360,k=Math.floor(U),E=Math.floor(N);let L=(E*v+k)*4;const P=f[L+0],M=f[L+1],F=f[L+2],B=f[L+3];L=(D*v+w)*4,m[L+0]=P,m[L+1]=M,m[L+2]=F,m[L+3]=B}},l=function(c){const d=c.width,h=c.height;let f,m,v,p,S,y,C,w,D,b,x=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),I=Math.floor(d*(A%360)/360);if(x<1)return;const k=t.Util.createCanvasElement();k.width=d,k.height=h;const E=k.getContext("2d").getImageData(0,0,d,h);t.Util.releaseCanvas(k),a(c,E,{polarCenterX:d/2,polarCenterY:h/2});let _=d/Math.pow(2,x);for(;_<=8;)_=_*2,x-=1;_=Math.ceil(_);let R=_,N=0,U=R,L=1;for(I+_>d&&(N=R,U=0,L=-1),m=0;m<h;m+=1)for(f=N;f!==U;f+=L)v=Math.round(f+I)%d,D=(d*m+v)*4,S=E.data[D+0],y=E.data[D+1],C=E.data[D+2],w=E.data[D+3],b=(d*m+f)*4,E.data[b+0]=S,E.data[b+1]=y,E.data[b+2]=C,E.data[b+3]=w;for(m=0;m<h;m+=1)for(R=Math.floor(_),p=0;p<x;p+=1){for(f=0;f<R+1;f+=1)D=(d*m+f)*4,S=E.data[D+0],y=E.data[D+1],C=E.data[D+2],w=E.data[D+3],b=(d*m+R*2-f-1)*4,E.data[b+0]=S,E.data[b+1]=y,E.data[b+2]=C,E.data[b+3]=w;R*=2}o(E,c,{})};return Hl.Kaleidoscope=l,n.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),Hl}var jl={},S5;function qR(){if(S5)return jl;S5=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.Mask=void 0;const n=lt(),e=Jt(),t=ut();function i(v,p,S){let y=(S*v.width+p)*4;const C=[];return C.push(v.data[y++],v.data[y++],v.data[y++],v.data[y++]),C}function a(v,p){return Math.sqrt(Math.pow(v[0]-p[0],2)+Math.pow(v[1]-p[1],2)+Math.pow(v[2]-p[2],2))}function o(v){const p=[0,0,0];for(let S=0;S<v.length;S++)p[0]+=v[S][0],p[1]+=v[S][1],p[2]+=v[S][2];return p[0]/=v.length,p[1]/=v.length,p[2]/=v.length,p}function l(v,p){const S=i(v,0,0),y=i(v,v.width-1,0),C=i(v,0,v.height-1),w=i(v,v.width-1,v.height-1),D=p||10;if(a(S,y)<D&&a(y,w)<D&&a(w,C)<D&&a(C,S)<D){const b=o([y,S,w,C]),x=[];for(let A=0;A<v.width*v.height;A++){const I=a(b,[v.data[A*4],v.data[A*4+1],v.data[A*4+2]]);x[A]=I<D?0:255}return x}}function c(v,p){for(let S=0;S<v.width*v.height;S++)v.data[4*S+3]=p[S]}function d(v,p,S){const y=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(y.length)),w=Math.floor(C/2),D=[];for(let b=0;b<S;b++)for(let x=0;x<p;x++){const A=b*p+x;let I=0;for(let k=0;k<C;k++)for(let E=0;E<C;E++){const _=b+k-w,R=x+E-w;if(_>=0&&_<S&&R>=0&&R<p){const N=_*p+R,U=y[k*C+E];I+=v[N]*U}}D[A]=I===255*8?255:0}return D}function h(v,p,S){const y=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(y.length)),w=Math.floor(C/2),D=[];for(let b=0;b<S;b++)for(let x=0;x<p;x++){const A=b*p+x;let I=0;for(let k=0;k<C;k++)for(let E=0;E<C;E++){const _=b+k-w,R=x+E-w;if(_>=0&&_<S&&R>=0&&R<p){const N=_*p+R,U=y[k*C+E];I+=v[N]*U}}D[A]=I>=255*4?255:0}return D}function f(v,p,S){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(y.length)),w=Math.floor(C/2),D=[];for(let b=0;b<S;b++)for(let x=0;x<p;x++){const A=b*p+x;let I=0;for(let k=0;k<C;k++)for(let E=0;E<C;E++){const _=b+k-w,R=x+E-w;if(_>=0&&_<S&&R>=0&&R<p){const N=_*p+R,U=y[k*C+E];I+=v[N]*U}}D[A]=I}return D}const m=function(v){const p=this.threshold();let S=l(v,p);return S&&(S=d(S,v.width,v.height),S=h(S,v.width,v.height),S=f(S,v.width,v.height),c(v,S)),v};return jl.Mask=m,n.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),jl}var Yl={},y5;function BR(){if(y5)return Yl;y5=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.Noise=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=this.noise()*255,l=a.data,c=l.length,d=o/2;for(let h=0;h<c;h+=4)l[h+0]+=d-2*d*Math.random(),l[h+1]+=d-2*d*Math.random(),l[h+2]+=d-2*d*Math.random()};return Yl.Noise=i,n.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Yl}var Xl={},v5;function GR(){if(v5)return Xl;v5=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.Pixelate=void 0;const n=lt(),e=Xt(),t=Jt(),i=ut(),a=function(o){let l=Math.ceil(this.pixelSize()),c=o.width,d=o.height,h,f,m,v,p,S,y,C=Math.ceil(c/l),w=Math.ceil(d/l),D,b,x,A,I,k,E,_=o.data;if(l<=0){e.Util.error("pixelSize value can not be <= 0");return}for(I=0;I<C;I+=1)for(k=0;k<w;k+=1){for(v=0,p=0,S=0,y=0,D=I*l,b=D+l,x=k*l,A=x+l,E=0,h=D;h<b;h+=1)if(!(h>=c))for(f=x;f<A;f+=1)f>=d||(m=(c*f+h)*4,v+=_[m+0],p+=_[m+1],S+=_[m+2],y+=_[m+3],E+=1);for(v=v/E,p=p/E,S=S/E,y=y/E,h=D;h<b;h+=1)if(!(h>=c))for(f=x;f<A;f+=1)f>=d||(m=(c*f+h)*4,_[m+0]=v,_[m+1]=p,_[m+2]=S,_[m+3]=y)}};return Xl.Pixelate=a,n.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),Xl}var Wl={},b5;function VR(){if(b5)return Wl;b5=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.Posterize=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=Math.round(this.levels()*254)+1,l=a.data,c=l.length,d=255/o;for(let h=0;h<c;h+=1)l[h]=Math.floor(l[h]/d)*d};return Wl.Posterize=i,n.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Wl}var $l={},C5;function zR(){if(C5)return $l;C5=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.RGB=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=a.data,l=o.length,c=this.red(),d=this.green(),h=this.blue();for(let f=0;f<l;f+=4){const m=(.34*o[f]+.5*o[f+1]+.16*o[f+2])/255;o[f]=m*c,o[f+1]=m*d,o[f+2]=m*h,o[f+3]=o[f+3]}};return $l.RGB=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),$l}var Kl={},D5;function QR(){if(D5)return Kl;D5=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.RGBA=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=a.data,l=o.length,c=this.red(),d=this.green(),h=this.blue(),f=this.alpha();for(let m=0;m<l;m+=4){const v=1-f;o[m]=c*f+o[m]*v,o[m+1]=d*f+o[m+1]*v,o[m+2]=h*f+o[m+2]*v}};return Kl.RGBA=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),Kl}var Zl={},T5;function HR(){if(T5)return Zl;T5=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Sepia=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=t[a+0],l=t[a+1],c=t[a+2];t[a+0]=Math.min(255,o*.393+l*.769+c*.189),t[a+1]=Math.min(255,o*.349+l*.686+c*.168),t[a+2]=Math.min(255,o*.272+l*.534+c*.131)}};return Zl.Sepia=n,Zl}var Jl={},w5;function jR(){if(w5)return Jl;w5=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.Solarize=void 0;const n=function(e){const t=e.data,i=e.width,a=e.height,o=i*4;let l=a;do{const c=(l-1)*o;let d=i;do{const h=c+(d-1)*4;let f=t[h],m=t[h+1],v=t[h+2];f>127&&(f=255-f),m>127&&(m=255-m),v>127&&(v=255-v),t[h]=f,t[h+1]=m,t[h+2]=v}while(--d)}while(--l)};return Jl.Solarize=n,Jl}var ec={},x5;function YR(){if(x5)return ec;x5=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Threshold=void 0;const n=lt(),e=Jt(),t=ut(),i=function(a){const o=this.threshold()*255,l=a.data,c=l.length;for(let d=0;d<c;d+=1)l[d]=l[d]<o?0:255};return ec.Threshold=i,n.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),ec}var A5;function XR(){if(A5)return gl;A5=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.Konva=void 0;const n=gR(),e=pR(),t=SR(),i=yR(),a=vR(),o=bR(),l=CR(),c=q4(),d=Zg(),h=B4(),f=DR(),m=TR(),v=wR(),p=xR(),S=G4(),y=AR(),C=PR(),w=RR(),D=OR(),b=LR(),x=IR(),A=ER(),I=_R(),k=MR(),E=FR(),_=kR(),R=UR(),N=NR(),U=qR(),L=BR(),P=GR(),M=VR(),F=zR(),B=QR(),H=HR(),Q=jR(),G=YR();return gl.Konva=n.Konva.Util._assign(n.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:o.Image,Label:l.Label,Tag:l.Tag,Line:c.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:m.Ring,Sprite:v.Sprite,Star:p.Star,Text:S.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:w.Wedge,Filters:{Blur:D.Blur,Brighten:b.Brighten,Contrast:x.Contrast,Emboss:A.Emboss,Enhance:I.Enhance,Grayscale:k.Grayscale,HSL:E.HSL,HSV:_.HSV,Invert:R.Invert,Kaleidoscope:N.Kaleidoscope,Mask:U.Mask,Noise:L.Noise,Pixelate:P.Pixelate,Posterize:M.Posterize,RGB:F.RGB,RGBA:B.RGBA,Sepia:H.Sepia,Solarize:Q.Solarize,Threshold:G.Threshold}}),gl}var WR=O0.exports,P5;function $R(){if(P5)return O0.exports;P5=1,Object.defineProperty(WR,"__esModule",{value:!0});const n=XR();return O0.exports=n.Konva,O0.exports}var KR=$R();const ZR=Rc(KR);var u1={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var R5;function JR(){return R5||(R5=1,function(n){var e=function(){var t={};t.floodFill=function(c,d,h,f,m,v){return v?a(c,d,h,f,m):i(c,d,h,f,m)};function i(c,d,h,f,m){var v,p,S,y,C,w,D,b,x,A,I=c.data,k=c.width,E=c.height,_=c.bytes,R=-1,N=k+1,U=-1,L=E+1,P=h*k+d,M=new Uint8Array(k*E),F=new Uint8Array(m||k*E);if(F[P]===1)return null;P=P*_;var B=[I[P],I[P+1],I[P+2],I[P+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),A=!1,p=y.left+1;p<y.right;p++)if(D=y.y*k,P=(D+p)*_,F[D+p]!==1&&(v=I[P]-B[0],!(v>f||v<-f)&&(v=I[P+1]-B[1],!(v>f||v<-f)&&(v=I[P+2]-B[2],!(v>f||v<-f))))){for(A=!0,M[D+p]=1,F[D+p]=1,w=p-1;w>-1&&(b=D+w,P=b*_,!(F[b]===1||(v=I[P]-B[0],v>f||v<-f)||(v=I[P+1]-B[1],v>f||v<-f)||(v=I[P+2]-B[2],v>f||v<-f)));)M[b]=1,F[b]=1,w--;for(C=p+1;C<k&&(x=D+C,P=x*_,!(F[x]===1||(v=I[P]-B[0],v>f||v<-f)||(v=I[P+1]-B[1],v>f||v<-f)||(v=I[P+2]-B[2],v>f||v<-f)));)M[x]=1,F[x]=1,C++;w<N&&(N=w+1),C>R&&(R=C-1),S=y.y-y.dir,S>=0&&S<E&&(w<y.left&&H.push({y:S,left:w,right:y.left,dir:-y.dir}),y.right<C&&H.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&w<C&&H.push({y:S,left:w,right:C,dir:y.dir})}A&&(y.y<L&&(L=y.y),y.y>U&&(U=y.y))}while(H.length>0);return{data:M,width:c.width,height:c.height,bounds:{minX:N,minY:L,maxX:R,maxY:U}}}function a(c,d,h,f,m){var v,p,S,y,C,w,D,b,x,A,I=c.data,k=c.width,E=c.height,_=c.bytes,R=-1,N=k+1,U=-1,L=E+1,P=h*k+d,M=new Uint8Array(k*E),F=new Uint8Array(m||k*E);if(F[P]===1)return null;P=P*_;var B=[I[P],I[P+1],I[P+2],I[P+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),A=!1,p=y.left+1;p<y.right;p++)if(D=y.y*k,P=(D+p)*_,F[D+p]!==1&&(A=!0,M[D+p]=1,F[D+p]=1,v=I[P]-B[0],!(v>f||v<-f)&&(v=I[P+1]-B[1],!(v>f||v<-f)&&(v=I[P+2]-B[2],!(v>f||v<-f))))){for(w=p-1;w>-1&&(b=D+w,P=b*_,!(F[b]===1||(M[b]=1,F[b]=1,w--,v=I[P]-B[0],v>f||v<-f)||(v=I[P+1]-B[1],v>f||v<-f)||(v=I[P+2]-B[2],v>f||v<-f))););for(C=p+1;C<k&&(x=D+C,P=x*_,!(F[x]===1||(M[x]=1,F[x]=1,C++,v=I[P]-B[0],v>f||v<-f)||(v=I[P+1]-B[1],v>f||v<-f)||(v=I[P+2]-B[2],v>f||v<-f))););w<N&&(N=w+1),C>R&&(R=C-1),S=y.y-y.dir,S>=0&&S<E&&(w<y.left&&H.push({y:S,left:w,right:y.left,dir:-y.dir}),y.right<C&&H.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&w<C&&H.push({y:S,left:w,right:C,dir:y.dir})}A&&(y.y<L&&(L=y.y),y.y>U&&(U=y.y))}while(H.length>0);return{data:M,width:c.width,height:c.height,bounds:{minX:N,minY:L,maxX:R,maxY:U}}}t.gaussBlur=function(c,d){var h,f,m,v,p,S,y,C,w=d*2+1,D=d*d,b=new Float32Array(w),x=0,A=c.width,I=c.height,k=c.data,E=c.bounds.minX,_=c.bounds.maxX,R=c.bounds.minY,N=c.bounds.maxY;for(h=0;h<d;h++){var U=(d-h)*(d-h),L=Math.exp(-U/(2*D))/(2*Math.PI*D);b[d+h]=b[d-h]=L,x+=2*L}for(h=0;h<w;h++)b[h]/=x;var P=new Uint8Array(A*I),M=d+A,F=d+I;for(p=R;p<N+1;p++)for(v=E;v<_+1;v++){for(S=0,f=p*A+v,y=d-v>0?d-v:0,C=M-v<w?M-v:w,m=f-d,h=y;h<C;h++)S+=k[m+h]*b[h];for(y=d-p>0?d-p:0,C=F-p<w?F-p:w,m=f-d*A,h=y;h<C;h++)S+=k[m+h*A]*b[h];P[f]=S>.5?1:0}return{data:P,width:A,height:I,bounds:{minX:E,minY:R,maxX:_,maxY:N}}};function o(c,d,h){var f,m,v,p,S,y,C,w=c.width,D=c.height,b=c.data,x=new Uint8Array(b),A=c.bounds.minX,I=c.bounds.maxX,k=c.bounds.minY,E=c.bounds.maxY,_=w*D,R=new Uint8Array(_),N=[],U=Math.max(A,1),L=Math.min(I,w-2),P=Math.max(k,1),M=Math.min(E,D-2);if(h&&h.length>0)for(S=0;S<_;S++)h[S]===1&&(x[S]=1);for(p=P;p<M+1;p++)for(f=U;f<L+1;f++)S=p*w+f,b[S]!==0&&(y=S+w,C=S-w,(x[S+1]===0||x[S-1]===0||x[y]===0||x[y+1]===0||x[y-1]===0||x[C]===0||x[C+1]===0||x[C-1]===0)&&N.push(S));if(A==0)for(p=k;p<E+1;p++)b[p*w]===1&&N.push(p*w);if(I==w-1)for(p=k;p<E+1;p++)b[p*w+I]===1&&N.push(p*w+I);if(k==0)for(f=A;f<I+1;f++)b[f]===1&&N.push(f);if(E==D-1)for(f=A;f<I+1;f++)b[E*w+f]===1&&N.push(E*w+f);var F=[],B,H,Q=d+w,G=d+D,z=d*2+1;for(_=N.length,v=0;v<_;v++){for(S=N[v],R[S]=1,F.push(S),f=S%w,p=(S-f)/w,B=d-f>0?d-f:0,H=Q-f<z?Q-f:z,y=S-d,m=B;m<H;m++)C=y+m,R[C]===0&&(R[C]=1,F.push(C));for(B=d-p>0?d-p:0,H=G-p<z?G-p:z,y=S-d*w,m=B;m<H;m++)C=y+m*w,R[C]===0&&(R[C]=1,F.push(C))}return F}t.gaussBlurOnlyBorder=function(c,d,h){var f=o(c,d,h),m,v,p,S,y,C,w,D,b,x,A,I=d*2+1,k=2*d*d,E=new Float32Array(I),_=0,R=c.width,N=c.height,U=c.data,L=c.bounds.minX,P=c.bounds.maxX,M=c.bounds.minY,F=c.bounds.maxY,B=f.length;for(p=0;p<d;p++)v=(d-p)*(d-p),m=Math.exp(-v/k)/Math.PI,E[d+p]=E[d-p]=m,_+=2*m;for(p=0;p<I;p++)E[p]/=_;var H=new Uint8Array(U),Q=d+R,G=d+N;for(p=0;p<B;p++){for(y=f[p],b=0,w=y%R,D=(y-w)/R,x=d-w>0?d-w:0,A=Q-w<I?Q-w:I,C=y-d,S=x;S<A;S++)b+=U[C+S]*E[S];if(b>.5){H[y]=1,w<L&&(L=w),w>P&&(P=w),D<M&&(M=D),D>F&&(F=D);continue}for(x=d-D>0?d-D:0,A=G-D<I?G-D:I,C=y-d*R,S=x;S<A;S++)b+=U[C+S*R]*E[S];b>.5?(H[y]=1,w<L&&(L=w),w>P&&(P=w),D<M&&(M=D),D>F&&(F=D)):H[y]=0}return{data:H,width:R,height:N,bounds:{minX:L,minY:M,maxX:P,maxY:F}}},t.createBorderMask=function(c){var d,h,f,m,v,p=c.width,S=c.height,y=c.data,C=c.bounds.minX,w=c.bounds.maxX,D=c.bounds.minY,b=c.bounds.maxY,x=w-C+1,A=b-D+1,I=new Uint8Array(x*A),k=Math.max(C,1),E=Math.min(w,p-2),_=Math.max(D,1),R=Math.min(b,S-2);for(h=_;h<R+1;h++)for(d=k;d<E+1;d++)f=h*p+d,y[f]!==0&&(m=f+p,v=f-p,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&(I[(h-D)*x+(d-C)]=1));if(C==0)for(h=D;h<b+1;h++)y[h*p]===1&&(I[(h-D)*x]=1);if(w==p-1)for(h=D;h<b+1;h++)y[h*p+w]===1&&(I[(h-D)*x+(w-C)]=1);if(D==0)for(d=C;d<w+1;d++)y[d]===1&&(I[d-C]=1);if(b==S-1)for(d=C;d<w+1;d++)y[b*p+d]===1&&(I[(b-D)*x+(d-C)]=1);return{data:I,width:x,height:A,offset:{x:C,y:D}}},t.getBorderIndices=function(c){var d,h,f,m,v,p=c.width,S=c.height,y=c.data,C=[],w=p-1,D=S-1;for(h=1;h<D;h++)for(d=1;d<w;d++)f=h*p+d,y[f]!==0&&(m=f+p,v=f-p,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&C.push(f));for(h=0;h<S;h++)y[h*p]===1&&C.push(h*p);for(d=0;d<p;d++)y[d]===1&&C.push(d);for(f=p-1,h=0;h<S;h++)y[h*p+f]===1&&C.push(h*p+f);for(f=(S-1)*p,d=0;d<p;d++)y[f+d]===1&&C.push(f+d);return C};function l(c){var d,h,f=c.width,m=c.data,v=c.bounds.minX,p=c.bounds.maxX,S=c.bounds.minY,y=c.bounds.maxY,C=p-v+3,w=y-S+3,D=new Uint8Array(C*w);for(h=S;h<y+1;h++)for(d=v;d<p+1;d++)m[h*f+d]===1&&(D[(h-S+1)*C+(d-v+1)]=1);return{data:D,width:C,height:w,offset:{x:v-1,y:S-1}}}return t.traceContours=function(c){var d=l(c),h=[],f=0,m=d.width,v=m*2,p=d.height,S=d.data,y=d.offset.x,C=d.offset.y,w=new Uint8Array(S),D,b,x,A,I,k,E,_,R,N,U,L,P,M,F,B=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(A=1;A<p-1;A++)for(x=1;x<m-1;x++)if(I=A*m+x,S[I]===1){for(D=-m;D<v;D+=v)if(S[I+D]===0&&w[I+D]===0){for(_=D===m,f++,E=[],R=_?2:6,L=P=N={x,y:A},U=null;;){for(w[L.y*m+L.x]=f,b=0;b<8;b++){if(R=(R+1)%8,F=B[R],M={x:L.x+F[0],y:L.y+F[1]},k=M.y*m+M.x,S[k]===1){w[k]=f;break}w[k]=-1,M=null}if(M===null)break;if(L=M,U){if(P.x===N.x&&P.y===N.y&&L.x===U.x&&L.y===U.y)break}else U=M;E.push({x:P.x+y,y:P.y+C}),P=L,R=(R+4)%8}M!=null&&(E.push({x:N.x+y,y:N.y+C}),h.push({inner:_,label:f,points:E}))}}return h},t.simplifyContours=function(c,d,h){var f=c.length,m=[],v,p,S,y,C,w,D,b,x,A,I,k,E,_,R,N,U,L,P,M,F;for(p=0;p<f;p++){if(y=c[p],C=y.points,w=y.points.length,w<h){for(D=[],S=0;S<w;S++)D.push({x:C[S].x,y:C[S].y});m.push({inner:y.inner,label:y.label,points:D,initialCount:w});continue}b=[0,w-1],x=[{first:0,last:w-1}];do if(A=x.shift(),!(A.last<=A.first+1)){for(I=-1,k=A.first,v=A.first+1;v<A.last;v++)P=C[v],M=C[A.first],F=C[A.last],U=P.x-M.x,L=P.y-M.y,_=Math.sqrt(U*U+L*L),U=P.x-F.x,L=P.y-F.y,R=Math.sqrt(U*U+L*L),U=M.x-F.x,L=M.y-F.y,N=Math.sqrt(U*U+L*L),_>=Math.sqrt(R*R+N*N)?E=R:R>=Math.sqrt(_*_+N*N)?E=_:E=Math.abs((L*P.x-U*P.y+M.x*F.y-F.x*M.y)/N),E>I&&(k=v,I=E);I>d&&(b.push(k),x.push({first:A.first,last:k}),x.push({first:k,last:A.last}))}while(x.length>0);for(D=[],w=b.length,b.sort(function(B,H){return B-H}),S=0;S<w;S++)D.push({x:C[b[S]].x,y:C[b[S]].y});m.push({inner:y.inner,label:y.label,points:D,initialCount:y.points.length})}return m},t}();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)}(u1)),u1.exports}var eO=JR();const tO=Rc(eO);function l0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var d1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var O5;function nO(){return O5||(O5=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,a,o){function l(h,f){if(!a[h]){if(!i[h]){var m=typeof l0=="function"&&l0;if(!f&&m)return m(h,!0);if(c)return c(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var p=a[h]={exports:{}};i[h][0].call(p.exports,function(S){var y=i[h][1][S];return l(y||S)},p,p.exports,t,i,a,o)}return a[h].exports}for(var c=typeof l0=="function"&&l0,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(t,i,a){var o=t("./utils"),l=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,f,m,v,p,S,y,C=[],w=0,D=d.length,b=D,x=o.getTypeOf(d)!=="string";w<d.length;)b=D-w,m=x?(h=d[w++],f=w<D?d[w++]:0,w<D?d[w++]:0):(h=d.charCodeAt(w++),f=w<D?d.charCodeAt(w++):0,w<D?d.charCodeAt(w++):0),v=h>>2,p=(3&h)<<4|f>>4,S=1<b?(15&f)<<2|m>>6:64,y=2<b?63&m:64,C.push(c.charAt(v)+c.charAt(p)+c.charAt(S)+c.charAt(y));return C.join("")},a.decode=function(d){var h,f,m,v,p,S,y=0,C=0,w="data:";if(d.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var D,b=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&b--,d.charAt(d.length-2)===c.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=l.uint8array?new Uint8Array(0|b):new Array(0|b);y<d.length;)h=c.indexOf(d.charAt(y++))<<2|(v=c.indexOf(d.charAt(y++)))>>4,f=(15&v)<<4|(p=c.indexOf(d.charAt(y++)))>>2,m=(3&p)<<6|(S=c.indexOf(d.charAt(y++))),D[C++]=h,p!==64&&(D[C++]=f),S!==64&&(D[C++]=m);return D}},{"./support":30,"./utils":32}],2:[function(t,i,a){var o=t("./external"),l=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function h(f,m,v,p,S){this.compressedSize=f,this.uncompressedSize=m,this.crc32=v,this.compression=p,this.compressedContent=S}h.prototype={getContentWorker:function(){var f=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,v){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,a){var o=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,a){var o=t("./utils"),l=function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d}();i.exports=function(c,d){return c!==void 0&&c.length?o.getTypeOf(c)!=="string"?function(h,f,m,v){var p=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^p[255&(h^f[y])];return-1^h}(0|d,c,c.length,0):function(h,f,m,v){var p=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^p[255&(h^f.charCodeAt(y))];return-1^h}(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(t,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,i,a){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),c=t("./utils"),d=t("./stream/GenericWorker"),h=o?"uint8array":"array";function f(m,v){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}a.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},a.compressWorker=function(m){return new f("Deflate",m)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,a){function o(p,S){var y,C="";for(y=0;y<S;y++)C+=String.fromCharCode(255&p),p>>>=8;return C}function l(p,S,y,C,w,D){var b,x,A=p.file,I=p.compression,k=D!==h.utf8encode,E=c.transformTo("string",D(A.name)),_=c.transformTo("string",h.utf8encode(A.name)),R=A.comment,N=c.transformTo("string",D(R)),U=c.transformTo("string",h.utf8encode(R)),L=_.length!==A.name.length,P=U.length!==R.length,M="",F="",B="",H=A.dir,Q=A.date,G={crc32:0,compressedSize:0,uncompressedSize:0};S&&!y||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var z=0;S&&(z|=8),k||!L&&!P||(z|=2048);var j=0,$=0;H&&(j|=16),w==="UNIX"?($=798,j|=function(J,se){var Z=J;return J||(Z=se?16893:33204),(65535&Z)<<16}(A.unixPermissions,H)):($=20,j|=function(J){return 63&(J||0)}(A.dosPermissions)),b=Q.getUTCHours(),b<<=6,b|=Q.getUTCMinutes(),b<<=5,b|=Q.getUTCSeconds()/2,x=Q.getUTCFullYear()-1980,x<<=4,x|=Q.getUTCMonth()+1,x<<=5,x|=Q.getUTCDate(),L&&(F=o(1,1)+o(f(E),4)+_,M+="up"+o(F.length,2)+F),P&&(B=o(1,1)+o(f(N),4)+U,M+="uc"+o(B.length,2)+B);var ee="";return ee+=`
\0`,ee+=o(z,2),ee+=I.magic,ee+=o(b,2),ee+=o(x,2),ee+=o(G.crc32,4),ee+=o(G.compressedSize,4),ee+=o(G.uncompressedSize,4),ee+=o(E.length,2),ee+=o(M.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ee+E+M,dirRecord:m.CENTRAL_FILE_HEADER+o($,2)+ee+o(N.length,2)+"\0\0\0\0"+o(j,4)+o(C,4)+E+M+N}}var c=t("../utils"),d=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),m=t("../signature");function v(p,S,y,C){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(v,d),v.prototype.push=function(p){var S=p.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,d.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(S+100*(y-C-1))/y:100}}))},v.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var S=this.streamFiles&&!p.file.dir;if(S){var y=l(p,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(p){this.accumulate=!1;var S=this.streamFiles&&!p.file.dir,y=l(p,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),S)this.push({data:function(C){return m.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var p=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var y=this.bytesWritten-p,C=function(w,D,b,x,A){var I=c.transformTo("string",A(x));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(w,2)+o(w,2)+o(D,4)+o(b,4)+o(I.length,2)+I}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(p){this._sources.push(p);var S=this;return p.on("data",function(y){S.processChunk(y)}),p.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),p.on("error",function(y){S.error(y)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(p){var S=this._sources;if(!d.prototype.error.call(this,p))return!1;for(var y=0;y<S.length;y++)try{S[y].error(p)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var p=this._sources,S=0;S<p.length;S++)p[S].lock()},i.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,a){var o=t("../compressions"),l=t("./ZipFileWorker");a.generateWorker=function(c,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{c.forEach(function(v,p){m++;var S=function(D,b){var x=D||b,A=o[x];if(!A)throw new Error(x+" is not a valid compression method !");return A}(p.options.compression,d.compression),y=p.options.compressionOptions||d.compressionOptions||{},C=p.dir,w=p.date;p._compressWorker(S,y).withStreamInfo("file",{name:v,dir:C,date:w,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(l,c){return new o().loadAsync(l,c)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,a){var o=t("./utils"),l=t("./external"),c=t("./utf8"),d=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(v){return new l.Promise(function(p,S){var y=v.decompressed.getContentWorker().pipe(new h);y.on("error",function(C){S(C)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}i.exports=function(v,p){var S=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,p.optimizedBinaryString,p.base64).then(function(y){var C=new d(p);return C.load(y),C}).then(function(y){var C=[l.Promise.resolve(y)],w=y.files;if(p.checkCRC32)for(var D=0;D<w.length;D++)C.push(m(w[D]));return l.Promise.all(C)}).then(function(y){for(var C=y.shift(),w=C.files,D=0;D<w.length;D++){var b=w[D],x=b.fileNameStr,A=o.resolve(b.fileNameStr);S.file(A,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:p.createFolders}),b.dir||(S.file(A).unsafeOriginalName=x)}return C.zipComment.length&&(S.comment=C.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,a){var o=t("../utils"),l=t("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,a){var o=t("readable-stream").Readable;function l(c,d,h){o.call(this,d),this._helper=c;var f=this;c.on("data",function(m,v){f.push(m)||f._helper.pause(),h&&h(v)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,a){function o(A,I,k){var E,_=c.getTypeOf(I),R=c.extend(k||{},f);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(A=w(A)),R.createFolders&&(E=C(A))&&D.call(this,E,!0);var N=_==="string"&&R.binary===!1&&R.base64===!1;k&&k.binary!==void 0||(R.binary=!N),(I instanceof m&&I.uncompressedSize===0||R.dir||!I||I.length===0)&&(R.base64=!1,R.binary=!0,I="",R.compression="STORE",_="string");var U=null;U=I instanceof m||I instanceof d?I:S.isNode&&S.isStream(I)?new y(A,I):c.prepareContent(A,I,R.binary,R.optimizedBinaryString,R.base64);var L=new v(A,U,R);this.files[A]=L}var l=t("./utf8"),c=t("./utils"),d=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),v=t("./zipObject"),p=t("./generate"),S=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),C=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var I=A.lastIndexOf("/");return 0<I?A.substring(0,I):""},w=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},D=function(A,I){return I=I!==void 0?I:f.createFolders,A=w(A),this.files[A]||o.call(this,A,null,{dir:!0,createFolders:I}),this.files[A]};function b(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var I,k,E;for(I in this.files)E=this.files[I],(k=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&A(k,E)},filter:function(A){var I=[];return this.forEach(function(k,E){A(k,E)&&I.push(E)}),I},file:function(A,I,k){if(arguments.length!==1)return A=this.root+A,o.call(this,A,I,k),this;if(b(A)){var E=A;return this.filter(function(R,N){return!N.dir&&E.test(R)})}var _=this.files[this.root+A];return _&&!_.dir?_:null},folder:function(A){if(!A)return this;if(b(A))return this.filter(function(_,R){return R.dir&&A.test(_)});var I=this.root+A,k=D.call(this,I),E=this.clone();return E.root=k.name,E},remove:function(A){A=this.root+A;var I=this.files[A];if(I||(A.slice(-1)!=="/"&&(A+="/"),I=this.files[A]),I&&!I.dir)delete this.files[A];else for(var k=this.filter(function(_,R){return R.name.slice(0,A.length)===A}),E=0;E<k.length;E++)delete this.files[k[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var I,k={};try{if((k=c.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");c.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var E=k.comment||this.comment||"";I=p.generateWorker(this,k,E)}catch(_){(I=new d("error")).error(_)}return new h(I,k.type||"string",k.mimeType)},generateAsync:function(A,I){return this.generateInternalStream(A).accumulate(I)},generateNodeStream:function(A,I){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(I)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,a){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,a){var o=t("./DataReader");function l(c){o.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===h&&this.data[v+2]===f&&this.data[v+3]===m)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),v=this.readData(4);return d===v[0]&&h===v[1]&&f===v[2]&&m===v[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,i,a){var o=t("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=l},{"../utils":32}],19:[function(t,i,a){var o=t("./Uint8ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,a){var o=t("./DataReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,i,a){var o=t("./ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,a){var o=t("../utils"),l=t("../support"),c=t("./ArrayReader"),d=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");i.exports=function(m){var v=o.getTypeOf(m);return o.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new h(m):l.uint8array?new f(o.transformTo("uint8array",m)):new c(o.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,a){var o=t("./GenericWorker"),l=t("../utils");function c(d){o.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,o),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,a){var o=t("./GenericWorker"),l=t("../crc32");function c(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,o),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,a){var o=t("../utils"),l=t("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,a){var o=t("../utils"),l=t("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=o.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}o.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,a){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=o},{}],29:[function(t,i,a){var o=t("../utils"),l=t("./ConvertWorker"),c=t("./GenericWorker"),d=t("../base64"),h=t("../support"),f=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(S,y){return new f.Promise(function(C,w){var D=[],b=S._internalType,x=S._outputType,A=S._mimeType;S.on("data",function(I,k){D.push(I),y&&y(k)}).on("error",function(I){D=[],w(I)}).on("end",function(){try{var I=function(k,E,_){switch(k){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),_);case"base64":return d.encode(E);default:return o.transformTo(k,E)}}(x,function(k,E){var _,R=0,N=null,U=0;for(_=0;_<E.length;_++)U+=E[_].length;switch(k){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(N=new Uint8Array(U),_=0;_<E.length;_++)N.set(E[_],R),R+=E[_].length;return N;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+k+"'")}}(b,D),A);C(I)}catch(k){w(k)}D=[]}).resume()})}function p(S,y,C){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=C,o.checkSupport(w),this._worker=S.pipe(new l(w)),S.lock()}catch(D){this._worker=new c("error"),this._worker.error(D)}}p.prototype={accumulate:function(S){return v(this,S)},on:function(S,y){var C=this;return S==="data"?this._worker.on(S,function(w){y.call(C,w.data,w.meta)}):this._worker.on(S,function(){o.delay(y,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},i.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),a.blob=l.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,a){for(var o=t("./utils"),l=t("./support"),c=t("./nodejsUtils"),d=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}a.utf8encode=function(p){return l.nodebuffer?c.newBufferFrom(p,"utf-8"):function(S){var y,C,w,D,b,x=S.length,A=0;for(D=0;D<x;D++)(64512&(C=S.charCodeAt(D)))==55296&&D+1<x&&(64512&(w=S.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(w-56320),D++),A+=C<128?1:C<2048?2:C<65536?3:4;for(y=l.uint8array?new Uint8Array(A):new Array(A),D=b=0;b<A;D++)(64512&(C=S.charCodeAt(D)))==55296&&D+1<x&&(64512&(w=S.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(w-56320),D++),C<128?y[b++]=C:(C<2048?y[b++]=192|C>>>6:(C<65536?y[b++]=224|C>>>12:(y[b++]=240|C>>>18,y[b++]=128|C>>>12&63),y[b++]=128|C>>>6&63),y[b++]=128|63&C);return y}(p)},a.utf8decode=function(p){return l.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(S){var y,C,w,D,b=S.length,x=new Array(2*b);for(y=C=0;y<b;)if((w=S[y++])<128)x[C++]=w;else if(4<(D=h[w]))x[C++]=65533,y+=D-1;else{for(w&=D===2?31:D===3?15:7;1<D&&y<b;)w=w<<6|63&S[y++],D--;1<D?x[C++]=65533:w<65536?x[C++]=w:(w-=65536,x[C++]=55296|w>>10&1023,x[C++]=56320|1023&w)}return x.length!==C&&(x.subarray?x=x.subarray(0,C):x.length=C),o.applyFromCharCode(x)}(p=o.transformTo(l.uint8array?"uint8array":"array",p))},o.inherits(m,d),m.prototype.processChunk=function(p){var S=o.transformTo(l.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var y=S;(S=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),S.set(y,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var C=function(D,b){var x;for((b=b||D.length)>D.length&&(b=D.length),x=b-1;0<=x&&(192&D[x])==128;)x--;return x<0||x===0?b:x+h[D[x]]>b?x:b}(S),w=S;C!==S.length&&(l.uint8array?(w=S.subarray(0,C),this.leftOver=S.subarray(C,S.length)):(w=S.slice(0,C),this.leftOver=S.slice(C,S.length))),this.push({data:a.utf8decode(w),meta:p.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m,o.inherits(v,d),v.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,a){var o=t("./support"),l=t("./base64"),c=t("./nodejsUtils"),d=t("./external");function h(y){return y}function f(y,C){for(var w=0;w<y.length;++w)C[w]=255&y.charCodeAt(w);return C}t("setimmediate"),a.newBlob=function(y,C){a.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,C,w){var D=[],b=0,x=y.length;if(x<=w)return String.fromCharCode.apply(null,y);for(;b<x;)C==="array"||C==="nodebuffer"?D.push(String.fromCharCode.apply(null,y.slice(b,Math.min(b+w,x)))):D.push(String.fromCharCode.apply(null,y.subarray(b,Math.min(b+w,x)))),b+=w;return D.join("")},stringifyByChar:function(y){for(var C="",w=0;w<y.length;w++)C+=String.fromCharCode(y[w]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var C=65536,w=a.getTypeOf(y),D=!0;if(w==="uint8array"?D=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(D=m.applyCanBeUsed.nodebuffer),D)for(;1<C;)try{return m.stringifyByChunk(y,w,C)}catch{C=Math.floor(C/2)}return m.stringifyByChar(y)}function p(y,C){for(var w=0;w<y.length;w++)C[w]=y[w];return C}a.applyFromCharCode=v;var S={};S.string={string:h,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return S.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,c.allocBuffer(y.length))}},S.array={string:v,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(y)}},S.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(new Uint8Array(y))}},S.uint8array={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return c.newBufferFrom(y)}},S.nodebuffer={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return S.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:h},a.transformTo=function(y,C){if(C=C||"",!y)return C;a.checkSupport(y);var w=a.getTypeOf(C);return S[w][y](C)},a.resolve=function(y){for(var C=y.split("/"),w=[],D=0;D<C.length;D++){var b=C[D];b==="."||b===""&&D!==0&&D!==C.length-1||(b===".."?w.pop():w.push(b))}return w.join("/")},a.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&c.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var C,w,D="";for(w=0;w<(y||"").length;w++)D+="\\x"+((C=y.charCodeAt(w))<16?"0":"")+C.toString(16).toUpperCase();return D},a.delay=function(y,C,w){setImmediate(function(){y.apply(w||null,C||[])})},a.inherits=function(y,C){function w(){}w.prototype=C.prototype,y.prototype=new w},a.extend=function(){var y,C,w={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&w[C]===void 0&&(w[C]=arguments[y][C]);return w},a.prepareContent=function(y,C,w,D,b){return d.Promise.resolve(C).then(function(x){return o.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new d.Promise(function(A,I){var k=new FileReader;k.onload=function(E){A(E.target.result)},k.onerror=function(E){I(E.target.error)},k.readAsArrayBuffer(x)}):x}).then(function(x){var A=a.getTypeOf(x);return A?(A==="arraybuffer"?x=a.transformTo("uint8array",x):A==="string"&&(b?x=l.decode(x):w&&D!==!0&&(x=function(I){return f(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))}(x))),x):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,a){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./signature"),d=t("./zipEntry"),h=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(m)+")")}},isSignature:function(m,v){var p=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===v;return this.reader.setIndex(p),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=h.uint8array?"uint8array":"array",p=l.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,p,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),v=this.reader.readInt(4),p=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var S=v-p;if(0<S)this.isSignature(v,c.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,a){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./compressedObject"),d=t("./crc32"),h=t("./utf8"),f=t("./compressions"),m=t("./support");function v(p,S){this.options=p,this.loadOptions=S}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var S,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(C){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===C)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,S,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var S=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(S),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var S,y,C,w=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<w;)S=p.readInt(2),y=p.readInt(2),C=p.readData(y),this.extraFields[S]={id:S,length:y,value:C};p.setIndex(w)},handleUTF8:function(){var p=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var y=l.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var w=l.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var S=o(p.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:h.utf8decode(S.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var S=o(p.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:h.utf8decode(S.readData(p.length-5))}return null}},i.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,a){function o(S,y,C){this.name=S,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var l=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),d=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");o.prototype={internalStream:function(S){var y=null,C="string";try{if(!S)throw new Error("No output type specified.");var w=(C=S.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var D=!this._dataBinary;D&&!w&&(y=y.pipe(new d.Utf8EncodeWorker)),!D&&w&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(b){(y=new f("error")).error(b)}return new l(y,C,"")},async:function(S,y){return this.internalStream(S).accumulate(y)},nodeStream:function(S,y){return this.internalStream(S||"nodebuffer").toNodejsStream(y)},_compressWorker:function(S,y){if(this._data instanceof h&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(C,S,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<m.length;p++)o.prototype[m[p]]=v;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,a){(function(o){var l,c,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var h=0,f=new d(S),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),l=function(){m.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){S(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(S,0)};else{var v=new o.MessageChannel;v.port1.onmessage=S,l=function(){v.port2.postMessage(0)}}var p=[];function S(){var y,C;c=!0;for(var w=p.length;w;){for(C=p,p=[],y=-1;++y<w;)C[y]();w=p.length}c=!1}i.exports=function(y){p.push(y)!==1||c||l()}}).call(this,typeof $o<"u"?$o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,a){var o=t("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==l&&y(this,w)}function v(w,D,b){this.promise=w,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function p(w,D,b){o(function(){var x;try{x=D(b)}catch(A){return c.reject(w,A)}x===w?c.reject(w,new TypeError("Cannot resolve promise with itself")):c.resolve(w,x)})}function S(w){var D=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof D=="function")return function(){D.apply(w,arguments)}}function y(w,D){var b=!1;function x(k){b||(b=!0,c.reject(w,k))}function A(k){b||(b=!0,c.resolve(w,k))}var I=C(function(){D(A,x)});I.status==="error"&&x(I.value)}function C(w,D){var b={};try{b.value=w(D),b.status="success"}catch(x){b.status="error",b.value=x}return b}(i.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var D=this.constructor;return this.then(function(b){return D.resolve(w()).then(function(){return b})},function(b){return D.resolve(w()).then(function(){throw b})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,D){if(typeof w!="function"&&this.state===h||typeof D!="function"&&this.state===d)return this;var b=new this.constructor(l);return this.state!==f?p(b,this.state===h?w:D,this.outcome):this.queue.push(new v(b,w,D)),b},v.prototype.callFulfilled=function(w){c.resolve(this.promise,w)},v.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},v.prototype.callRejected=function(w){c.reject(this.promise,w)},v.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)},c.resolve=function(w,D){var b=C(S,D);if(b.status==="error")return c.reject(w,b.value);var x=b.value;if(x)y(w,x);else{w.state=h,w.outcome=D;for(var A=-1,I=w.queue.length;++A<I;)w.queue[A].callFulfilled(D)}return w},c.reject=function(w,D){w.state=d,w.outcome=D;for(var b=-1,x=w.queue.length;++b<x;)w.queue[b].callRejected(D);return w},m.resolve=function(w){return w instanceof this?w:c.resolve(new this(l),w)},m.reject=function(w){var D=new this(l);return c.reject(D,w)},m.all=function(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=w.length,x=!1;if(!b)return this.resolve([]);for(var A=new Array(b),I=0,k=-1,E=new this(l);++k<b;)_(w[k],k);return E;function _(R,N){D.resolve(R).then(function(U){A[N]=U,++I!==b||x||(x=!0,c.resolve(E,A))},function(U){x||(x=!0,c.reject(E,U))})}},m.race=function(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=w.length,x=!1;if(!b)return this.resolve([]);for(var A=-1,I=new this(l);++A<b;)k=w[A],D.resolve(k).then(function(E){x||(x=!0,c.resolve(I,E))},function(E){x||(x=!0,c.reject(I,E))});var k;return I}},{immediate:36}],38:[function(t,i,a){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,a){var o=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,m=0,v=-1,p=0,S=8;function y(w){if(!(this instanceof y))return new y(w);this.options=l.assign({level:v,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},w||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=o.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(b!==m)throw new Error(d[b]);if(D.header&&o.deflateSetHeader(this.strm,D.header),D.dictionary){var x;if(x=typeof D.dictionary=="string"?c.string2buf(D.dictionary):f.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(b=o.deflateSetDictionary(this.strm,x))!==m)throw new Error(d[b]);this._dict_set=!0}}function C(w,D){var b=new y(D);if(b.push(w,!0),b.err)throw b.msg||d[b.err];return b.result}y.prototype.push=function(w,D){var b,x,A=this.strm,I=this.options.chunkSize;if(this.ended)return!1;x=D===~~D?D:D===!0?4:0,typeof w=="string"?A.input=c.string2buf(w):f.call(w)==="[object ArrayBuffer]"?A.input=new Uint8Array(w):A.input=w,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new l.Buf8(I),A.next_out=0,A.avail_out=I),(b=o.deflate(A,x))!==1&&b!==m)return this.onEnd(b),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(A.output,A.next_out))):this.onData(l.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&b!==1);return x===4?(b=o.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===m):x!==2||(this.onEnd(m),!(A.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Deflate=y,a.deflate=C,a.deflateRaw=function(w,D){return(D=D||{}).raw=!0,C(w,D)},a.gzip=function(w,D){return(D=D||{}).gzip=!0,C(w,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,a){var o=t("./zlib/inflate"),l=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),v=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=o.inflateInit2(this.strm,C.windowBits);if(w!==d.Z_OK)throw new Error(h[w]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function S(y,C){var w=new p(C);if(w.push(y,!0),w.err)throw w.msg||h[w.err];return w.result}p.prototype.push=function(y,C){var w,D,b,x,A,I,k=this.strm,E=this.options.chunkSize,_=this.options.dictionary,R=!1;if(this.ended)return!1;D=C===~~C?C:C===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?k.input=c.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new l.Buf8(E),k.next_out=0,k.avail_out=E),(w=o.inflate(k,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&_&&(I=typeof _=="string"?c.string2buf(_):v.call(_)==="[object ArrayBuffer]"?new Uint8Array(_):_,w=o.inflateSetDictionary(this.strm,I)),w===d.Z_BUF_ERROR&&R===!0&&(w=d.Z_OK,R=!1),w!==d.Z_STREAM_END&&w!==d.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==d.Z_STREAM_END&&(k.avail_in!==0||D!==d.Z_FINISH&&D!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=c.utf8border(k.output,k.next_out),x=k.next_out-b,A=c.buf2string(k.output,b),k.next_out=x,k.avail_out=E-x,x&&l.arraySet(k.output,k.output,b,x,0),this.onData(A)):this.onData(l.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(R=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==d.Z_STREAM_END);return w===d.Z_STREAM_END&&(D=d.Z_FINISH),D===d.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d.Z_OK):D!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=p,a.inflate=S,a.inflateRaw=function(y,C){return(C=C||{}).raw=!0,S(y,C)},a.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,m,v){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),v);else for(var p=0;p<m;p++)d[v+p]=h[f+p]},flattenChunks:function(d){var h,f,m,v,p,S;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(S=new Uint8Array(m),h=v=0,f=d.length;h<f;h++)p=d[h],S.set(p,v),v+=p.length;return S}},c={arraySet:function(d,h,f,m,v){for(var p=0;p<m;p++)d[v+p]=h[f+p]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(o)},{}],42:[function(t,i,a){var o=t("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new o.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,v){if(v<65537&&(m.subarray&&c||!m.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(m,v));for(var p="",S=0;S<v;S++)p+=String.fromCharCode(m[S]);return p}d[254]=d[254]=1,a.string2buf=function(m){var v,p,S,y,C,w=m.length,D=0;for(y=0;y<w;y++)(64512&(p=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(S=m.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(S-56320),y++),D+=p<128?1:p<2048?2:p<65536?3:4;for(v=new o.Buf8(D),y=C=0;C<D;y++)(64512&(p=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(S=m.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(S-56320),y++),p<128?v[C++]=p:(p<2048?v[C++]=192|p>>>6:(p<65536?v[C++]=224|p>>>12:(v[C++]=240|p>>>18,v[C++]=128|p>>>12&63),v[C++]=128|p>>>6&63),v[C++]=128|63&p);return v},a.buf2binstring=function(m){return f(m,m.length)},a.binstring2buf=function(m){for(var v=new o.Buf8(m.length),p=0,S=v.length;p<S;p++)v[p]=m.charCodeAt(p);return v},a.buf2string=function(m,v){var p,S,y,C,w=v||m.length,D=new Array(2*w);for(p=S=0;p<w;)if((y=m[p++])<128)D[S++]=y;else if(4<(C=d[y]))D[S++]=65533,p+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&p<w;)y=y<<6|63&m[p++],C--;1<C?D[S++]=65533:y<65536?D[S++]=y:(y-=65536,D[S++]=55296|y>>10&1023,D[S++]=56320|1023&y)}return f(D,S)},a.utf8border=function(m,v){var p;for((v=v||m.length)>m.length&&(v=m.length),p=v-1;0<=p&&(192&m[p])==128;)p--;return p<0||p===0?v:p+d[m[p]]>v?p:v}},{"./common":41}],43:[function(t,i,a){i.exports=function(o,l,c,d){for(var h=65535&o|0,f=o>>>16&65535|0,m=0;c!==0;){for(c-=m=2e3<c?2e3:c;f=f+(h=h+l[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,a){var o=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();i.exports=function(l,c,d,h){var f=o,m=h+d;l^=-1;for(var v=h;v<m;v++)l=l>>>8^f[255&(l^c[v])];return-1^l}},{}],46:[function(t,i,a){var o,l=t("../utils/common"),c=t("./trees"),d=t("./adler32"),h=t("./crc32"),f=t("./messages"),m=0,v=4,p=0,S=-2,y=-1,C=4,w=2,D=8,b=9,x=286,A=30,I=19,k=2*x+1,E=15,_=3,R=258,N=R+_+1,U=42,L=113,P=1,M=2,F=3,B=4;function H(q,le){return q.msg=f[le],le}function Q(q){return(q<<1)-(4<q?9:0)}function G(q){for(var le=q.length;0<=--le;)q[le]=0}function z(q){var le=q.state,he=le.pending;he>q.avail_out&&(he=q.avail_out),he!==0&&(l.arraySet(q.output,le.pending_buf,le.pending_out,he,q.next_out),q.next_out+=he,le.pending_out+=he,q.total_out+=he,q.avail_out-=he,le.pending-=he,le.pending===0&&(le.pending_out=0))}function j(q,le){c._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,le),q.block_start=q.strstart,z(q.strm)}function $(q,le){q.pending_buf[q.pending++]=le}function ee(q,le){q.pending_buf[q.pending++]=le>>>8&255,q.pending_buf[q.pending++]=255&le}function J(q,le){var he,W,X=q.max_chain_length,ae=q.strstart,ve=q.prev_length,Ce=q.nice_match,ne=q.strstart>q.w_size-N?q.strstart-(q.w_size-N):0,Pe=q.window,Ee=q.w_mask,fe=q.prev,pe=q.strstart+R,Oe=Pe[ae+ve-1],Ie=Pe[ae+ve];q.prev_length>=q.good_match&&(X>>=2),Ce>q.lookahead&&(Ce=q.lookahead);do if(Pe[(he=le)+ve]===Ie&&Pe[he+ve-1]===Oe&&Pe[he]===Pe[ae]&&Pe[++he]===Pe[ae+1]){ae+=2,he++;do;while(Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&Pe[++ae]===Pe[++he]&&ae<pe);if(W=R-(pe-ae),ae=pe-R,ve<W){if(q.match_start=le,Ce<=(ve=W))break;Oe=Pe[ae+ve-1],Ie=Pe[ae+ve]}}while((le=fe[le&Ee])>ne&&--X!=0);return ve<=q.lookahead?ve:q.lookahead}function se(q){var le,he,W,X,ae,ve,Ce,ne,Pe,Ee,fe=q.w_size;do{if(X=q.window_size-q.lookahead-q.strstart,q.strstart>=fe+(fe-N)){for(l.arraySet(q.window,q.window,fe,fe,0),q.match_start-=fe,q.strstart-=fe,q.block_start-=fe,le=he=q.hash_size;W=q.head[--le],q.head[le]=fe<=W?W-fe:0,--he;);for(le=he=fe;W=q.prev[--le],q.prev[le]=fe<=W?W-fe:0,--he;);X+=fe}if(q.strm.avail_in===0)break;if(ve=q.strm,Ce=q.window,ne=q.strstart+q.lookahead,Pe=X,Ee=void 0,Ee=ve.avail_in,Pe<Ee&&(Ee=Pe),he=Ee===0?0:(ve.avail_in-=Ee,l.arraySet(Ce,ve.input,ve.next_in,Ee,ne),ve.state.wrap===1?ve.adler=d(ve.adler,Ce,Ee,ne):ve.state.wrap===2&&(ve.adler=h(ve.adler,Ce,Ee,ne)),ve.next_in+=Ee,ve.total_in+=Ee,Ee),q.lookahead+=he,q.lookahead+q.insert>=_)for(ae=q.strstart-q.insert,q.ins_h=q.window[ae],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+_-1])&q.hash_mask,q.prev[ae&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ae,ae++,q.insert--,!(q.lookahead+q.insert<_)););}while(q.lookahead<N&&q.strm.avail_in!==0)}function Z(q,le){for(var he,W;;){if(q.lookahead<N){if(se(q),q.lookahead<N&&le===m)return P;if(q.lookahead===0)break}if(he=0,q.lookahead>=_&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+_-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),he!==0&&q.strstart-he<=q.w_size-N&&(q.match_length=J(q,he)),q.match_length>=_)if(W=c._tr_tally(q,q.strstart-q.match_start,q.match_length-_),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=_){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+_-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else W=c._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(W&&(j(q,!1),q.strm.avail_out===0))return P}return q.insert=q.strstart<_-1?q.strstart:_-1,le===v?(j(q,!0),q.strm.avail_out===0?F:B):q.last_lit&&(j(q,!1),q.strm.avail_out===0)?P:M}function te(q,le){for(var he,W,X;;){if(q.lookahead<N){if(se(q),q.lookahead<N&&le===m)return P;if(q.lookahead===0)break}if(he=0,q.lookahead>=_&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+_-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=_-1,he!==0&&q.prev_length<q.max_lazy_match&&q.strstart-he<=q.w_size-N&&(q.match_length=J(q,he),q.match_length<=5&&(q.strategy===1||q.match_length===_&&4096<q.strstart-q.match_start)&&(q.match_length=_-1)),q.prev_length>=_&&q.match_length<=q.prev_length){for(X=q.strstart+q.lookahead-_,W=c._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-_),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=X&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+_-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=_-1,q.strstart++,W&&(j(q,!1),q.strm.avail_out===0))return P}else if(q.match_available){if((W=c._tr_tally(q,0,q.window[q.strstart-1]))&&j(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return P}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(W=c._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<_-1?q.strstart:_-1,le===v?(j(q,!0),q.strm.avail_out===0?F:B):q.last_lit&&(j(q,!1),q.strm.avail_out===0)?P:M}function ce(q,le,he,W,X){this.good_length=q,this.max_lazy=le,this.nice_length=he,this.max_chain=W,this.func=X}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*k),this.dyn_dtree=new l.Buf16(2*(2*A+1)),this.bl_tree=new l.Buf16(2*(2*I+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(E+1),this.heap=new l.Buf16(2*x+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*x+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(q){var le;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=w,(le=q.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?U:L,q.adler=le.wrap===2?0:1,le.last_flush=m,c._tr_init(le),p):H(q,S)}function Te(q){var le=be(q);return le===p&&function(he){he.window_size=2*he.w_size,G(he.head),he.max_lazy_match=o[he.level].max_lazy,he.good_match=o[he.level].good_length,he.nice_match=o[he.level].nice_length,he.max_chain_length=o[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=_-1,he.match_available=0,he.ins_h=0}(q.state),le}function Me(q,le,he,W,X,ae){if(!q)return S;var ve=1;if(le===y&&(le=6),W<0?(ve=0,W=-W):15<W&&(ve=2,W-=16),X<1||b<X||he!==D||W<8||15<W||le<0||9<le||ae<0||C<ae)return H(q,S);W===8&&(W=9);var Ce=new de;return(q.state=Ce).strm=q,Ce.wrap=ve,Ce.gzhead=null,Ce.w_bits=W,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=X+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+_-1)/_),Ce.window=new l.Buf8(2*Ce.w_size),Ce.head=new l.Buf16(Ce.hash_size),Ce.prev=new l.Buf16(Ce.w_size),Ce.lit_bufsize=1<<X+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new l.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=le,Ce.strategy=ae,Ce.method=he,Te(q)}o=[new ce(0,0,0,0,function(q,le){var he=65535;for(he>q.pending_buf_size-5&&(he=q.pending_buf_size-5);;){if(q.lookahead<=1){if(se(q),q.lookahead===0&&le===m)return P;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var W=q.block_start+he;if((q.strstart===0||q.strstart>=W)&&(q.lookahead=q.strstart-W,q.strstart=W,j(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-N&&(j(q,!1),q.strm.avail_out===0))return P}return q.insert=0,le===v?(j(q,!0),q.strm.avail_out===0?F:B):(q.strstart>q.block_start&&(j(q,!1),q.strm.avail_out),P)}),new ce(4,4,8,4,Z),new ce(4,5,16,8,Z),new ce(4,6,32,32,Z),new ce(4,4,16,16,te),new ce(8,16,32,32,te),new ce(8,16,128,128,te),new ce(8,32,128,256,te),new ce(32,128,258,1024,te),new ce(32,258,258,4096,te)],a.deflateInit=function(q,le){return Me(q,le,D,15,8,0)},a.deflateInit2=Me,a.deflateReset=Te,a.deflateResetKeep=be,a.deflateSetHeader=function(q,le){return q&&q.state?q.state.wrap!==2?S:(q.state.gzhead=le,p):S},a.deflate=function(q,le){var he,W,X,ae;if(!q||!q.state||5<le||le<0)return q?H(q,S):S;if(W=q.state,!q.output||!q.input&&q.avail_in!==0||W.status===666&&le!==v)return H(q,q.avail_out===0?-5:S);if(W.strm=q,he=W.last_flush,W.last_flush=le,W.status===U)if(W.wrap===2)q.adler=0,$(W,31),$(W,139),$(W,8),W.gzhead?($(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),$(W,255&W.gzhead.time),$(W,W.gzhead.time>>8&255),$(W,W.gzhead.time>>16&255),$(W,W.gzhead.time>>24&255),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&($(W,255&W.gzhead.extra.length),$(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(q.adler=h(q.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):($(W,0),$(W,0),$(W,0),$(W,0),$(W,0),$(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),$(W,3),W.status=L);else{var ve=D+(W.w_bits-8<<4)<<8;ve|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(ve|=32),ve+=31-ve%31,W.status=L,ee(W,ve),W.strstart!==0&&(ee(W,q.adler>>>16),ee(W,65535&q.adler)),q.adler=1}if(W.status===69)if(W.gzhead.extra){for(X=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),z(q),X=W.pending,W.pending!==W.pending_buf_size));)$(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){X=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),z(q),X=W.pending,W.pending===W.pending_buf_size)){ae=1;break}ae=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,$(W,ae)}while(ae!==0);W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),ae===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){X=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),z(q),X=W.pending,W.pending===W.pending_buf_size)){ae=1;break}ae=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,$(W,ae)}while(ae!==0);W.gzhead.hcrc&&W.pending>X&&(q.adler=h(q.adler,W.pending_buf,W.pending-X,X)),ae===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&z(q),W.pending+2<=W.pending_buf_size&&($(W,255&q.adler),$(W,q.adler>>8&255),q.adler=0,W.status=L)):W.status=L),W.pending!==0){if(z(q),q.avail_out===0)return W.last_flush=-1,p}else if(q.avail_in===0&&Q(le)<=Q(he)&&le!==v)return H(q,-5);if(W.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||W.lookahead!==0||le!==m&&W.status!==666){var Ce=W.strategy===2?function(ne,Pe){for(var Ee;;){if(ne.lookahead===0&&(se(ne),ne.lookahead===0)){if(Pe===m)return P;break}if(ne.match_length=0,Ee=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Ee&&(j(ne,!1),ne.strm.avail_out===0))return P}return ne.insert=0,Pe===v?(j(ne,!0),ne.strm.avail_out===0?F:B):ne.last_lit&&(j(ne,!1),ne.strm.avail_out===0)?P:M}(W,le):W.strategy===3?function(ne,Pe){for(var Ee,fe,pe,Oe,Ie=ne.window;;){if(ne.lookahead<=R){if(se(ne),ne.lookahead<=R&&Pe===m)return P;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=_&&0<ne.strstart&&(fe=Ie[pe=ne.strstart-1])===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]){Oe=ne.strstart+R;do;while(fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&fe===Ie[++pe]&&pe<Oe);ne.match_length=R-(Oe-pe),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=_?(Ee=c._tr_tally(ne,1,ne.match_length-_),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Ee=c._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Ee&&(j(ne,!1),ne.strm.avail_out===0))return P}return ne.insert=0,Pe===v?(j(ne,!0),ne.strm.avail_out===0?F:B):ne.last_lit&&(j(ne,!1),ne.strm.avail_out===0)?P:M}(W,le):o[W.level].func(W,le);if(Ce!==F&&Ce!==B||(W.status=666),Ce===P||Ce===F)return q.avail_out===0&&(W.last_flush=-1),p;if(Ce===M&&(le===1?c._tr_align(W):le!==5&&(c._tr_stored_block(W,0,0,!1),le===3&&(G(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),z(q),q.avail_out===0))return W.last_flush=-1,p}return le!==v?p:W.wrap<=0?1:(W.wrap===2?($(W,255&q.adler),$(W,q.adler>>8&255),$(W,q.adler>>16&255),$(W,q.adler>>24&255),$(W,255&q.total_in),$(W,q.total_in>>8&255),$(W,q.total_in>>16&255),$(W,q.total_in>>24&255)):(ee(W,q.adler>>>16),ee(W,65535&q.adler)),z(q),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?p:1)},a.deflateEnd=function(q){var le;return q&&q.state?(le=q.state.status)!==U&&le!==69&&le!==73&&le!==91&&le!==103&&le!==L&&le!==666?H(q,S):(q.state=null,le===L?H(q,-3):p):S},a.deflateSetDictionary=function(q,le){var he,W,X,ae,ve,Ce,ne,Pe,Ee=le.length;if(!q||!q.state||(ae=(he=q.state).wrap)===2||ae===1&&he.status!==U||he.lookahead)return S;for(ae===1&&(q.adler=d(q.adler,le,Ee,0)),he.wrap=0,Ee>=he.w_size&&(ae===0&&(G(he.head),he.strstart=0,he.block_start=0,he.insert=0),Pe=new l.Buf8(he.w_size),l.arraySet(Pe,le,Ee-he.w_size,he.w_size,0),le=Pe,Ee=he.w_size),ve=q.avail_in,Ce=q.next_in,ne=q.input,q.avail_in=Ee,q.next_in=0,q.input=le,se(he);he.lookahead>=_;){for(W=he.strstart,X=he.lookahead-(_-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[W+_-1])&he.hash_mask,he.prev[W&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=W,W++,--X;);he.strstart=W,he.lookahead=_-1,se(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=_-1,he.match_available=0,q.next_in=Ce,q.input=ne,q.avail_in=ve,he.wrap=ae,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,a){i.exports=function(o,l){var c,d,h,f,m,v,p,S,y,C,w,D,b,x,A,I,k,E,_,R,N,U,L,P,M;c=o.state,d=o.next_in,P=o.input,h=d+(o.avail_in-5),f=o.next_out,M=o.output,m=f-(l-o.avail_out),v=f+(o.avail_out-257),p=c.dmax,S=c.wsize,y=c.whave,C=c.wnext,w=c.window,D=c.hold,b=c.bits,x=c.lencode,A=c.distcode,I=(1<<c.lenbits)-1,k=(1<<c.distbits)-1;e:do{b<15&&(D+=P[d++]<<b,b+=8,D+=P[d++]<<b,b+=8),E=x[D&I];t:for(;;){if(D>>>=_=E>>>24,b-=_,(_=E>>>16&255)===0)M[f++]=65535&E;else{if(!(16&_)){if((64&_)==0){E=x[(65535&E)+(D&(1<<_)-1)];continue t}if(32&_){c.mode=12;break e}o.msg="invalid literal/length code",c.mode=30;break e}R=65535&E,(_&=15)&&(b<_&&(D+=P[d++]<<b,b+=8),R+=D&(1<<_)-1,D>>>=_,b-=_),b<15&&(D+=P[d++]<<b,b+=8,D+=P[d++]<<b,b+=8),E=A[D&k];n:for(;;){if(D>>>=_=E>>>24,b-=_,!(16&(_=E>>>16&255))){if((64&_)==0){E=A[(65535&E)+(D&(1<<_)-1)];continue n}o.msg="invalid distance code",c.mode=30;break e}if(N=65535&E,b<(_&=15)&&(D+=P[d++]<<b,(b+=8)<_&&(D+=P[d++]<<b,b+=8)),p<(N+=D&(1<<_)-1)){o.msg="invalid distance too far back",c.mode=30;break e}if(D>>>=_,b-=_,(_=f-m)<N){if(y<(_=N-_)&&c.sane){o.msg="invalid distance too far back",c.mode=30;break e}if(L=w,(U=0)===C){if(U+=S-_,_<R){for(R-=_;M[f++]=w[U++],--_;);U=f-N,L=M}}else if(C<_){if(U+=S+C-_,(_-=C)<R){for(R-=_;M[f++]=w[U++],--_;);if(U=0,C<R){for(R-=_=C;M[f++]=w[U++],--_;);U=f-N,L=M}}}else if(U+=C-_,_<R){for(R-=_;M[f++]=w[U++],--_;);U=f-N,L=M}for(;2<R;)M[f++]=L[U++],M[f++]=L[U++],M[f++]=L[U++],R-=3;R&&(M[f++]=L[U++],1<R&&(M[f++]=L[U++]))}else{for(U=f-N;M[f++]=M[U++],M[f++]=M[U++],M[f++]=M[U++],2<(R-=3););R&&(M[f++]=M[U++],1<R&&(M[f++]=M[U++]))}break}}break}}while(d<h&&f<v);d-=R=b>>3,D&=(1<<(b-=R<<3))-1,o.next_in=d,o.next_out=f,o.avail_in=d<h?h-d+5:5-(d-h),o.avail_out=f<v?v-f+257:257-(f-v),c.hold=D,c.bits=b}},{}],49:[function(t,i,a){var o=t("../utils/common"),l=t("./adler32"),c=t("./crc32"),d=t("./inffast"),h=t("./inftrees"),f=1,m=2,v=0,p=-2,S=1,y=852,C=592;function w(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(U){var L;return U&&U.state?(L=U.state,U.total_in=U.total_out=L.total=0,U.msg="",L.wrap&&(U.adler=1&L.wrap),L.mode=S,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(y),L.distcode=L.distdyn=new o.Buf32(C),L.sane=1,L.back=-1,v):p}function x(U){var L;return U&&U.state?((L=U.state).wsize=0,L.whave=0,L.wnext=0,b(U)):p}function A(U,L){var P,M;return U&&U.state?(M=U.state,L<0?(P=0,L=-L):(P=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?p:(M.window!==null&&M.wbits!==L&&(M.window=null),M.wrap=P,M.wbits=L,x(U))):p}function I(U,L){var P,M;return U?(M=new D,(U.state=M).window=null,(P=A(U,L))!==v&&(U.state=null),P):p}var k,E,_=!0;function R(U){if(_){var L;for(k=new o.Buf32(512),E=new o.Buf32(32),L=0;L<144;)U.lens[L++]=8;for(;L<256;)U.lens[L++]=9;for(;L<280;)U.lens[L++]=7;for(;L<288;)U.lens[L++]=8;for(h(f,U.lens,0,288,k,0,U.work,{bits:9}),L=0;L<32;)U.lens[L++]=5;h(m,U.lens,0,32,E,0,U.work,{bits:5}),_=!1}U.lencode=k,U.lenbits=9,U.distcode=E,U.distbits=5}function N(U,L,P,M){var F,B=U.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new o.Buf8(B.wsize)),M>=B.wsize?(o.arraySet(B.window,L,P-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(M<(F=B.wsize-B.wnext)&&(F=M),o.arraySet(B.window,L,P-M,F,B.wnext),(M-=F)?(o.arraySet(B.window,L,P-M,M,0),B.wnext=M,B.whave=B.wsize):(B.wnext+=F,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=F))),0}a.inflateReset=x,a.inflateReset2=A,a.inflateResetKeep=b,a.inflateInit=function(U){return I(U,15)},a.inflateInit2=I,a.inflate=function(U,L){var P,M,F,B,H,Q,G,z,j,$,ee,J,se,Z,te,ce,de,be,Te,Me,q,le,he,W,X=0,ae=new o.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return p;(P=U.state).mode===12&&(P.mode=13),H=U.next_out,F=U.output,G=U.avail_out,B=U.next_in,M=U.input,Q=U.avail_in,z=P.hold,j=P.bits,$=Q,ee=G,le=v;e:for(;;)switch(P.mode){case S:if(P.wrap===0){P.mode=13;break}for(;j<16;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(2&P.wrap&&z===35615){ae[P.check=0]=255&z,ae[1]=z>>>8&255,P.check=c(P.check,ae,2,0),j=z=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&z)<<8)+(z>>8))%31){U.msg="incorrect header check",P.mode=30;break}if((15&z)!=8){U.msg="unknown compression method",P.mode=30;break}if(j-=4,q=8+(15&(z>>>=4)),P.wbits===0)P.wbits=q;else if(q>P.wbits){U.msg="invalid window size",P.mode=30;break}P.dmax=1<<q,U.adler=P.check=1,P.mode=512&z?10:12,j=z=0;break;case 2:for(;j<16;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(P.flags=z,(255&P.flags)!=8){U.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){U.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=z>>8&1),512&P.flags&&(ae[0]=255&z,ae[1]=z>>>8&255,P.check=c(P.check,ae,2,0)),j=z=0,P.mode=3;case 3:for(;j<32;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.head&&(P.head.time=z),512&P.flags&&(ae[0]=255&z,ae[1]=z>>>8&255,ae[2]=z>>>16&255,ae[3]=z>>>24&255,P.check=c(P.check,ae,4,0)),j=z=0,P.mode=4;case 4:for(;j<16;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.head&&(P.head.xflags=255&z,P.head.os=z>>8),512&P.flags&&(ae[0]=255&z,ae[1]=z>>>8&255,P.check=c(P.check,ae,2,0)),j=z=0,P.mode=5;case 5:if(1024&P.flags){for(;j<16;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.length=z,P.head&&(P.head.extra_len=z),512&P.flags&&(ae[0]=255&z,ae[1]=z>>>8&255,P.check=c(P.check,ae,2,0)),j=z=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&(Q<(J=P.length)&&(J=Q),J&&(P.head&&(q=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),o.arraySet(P.head.extra,M,B,J,q)),512&P.flags&&(P.check=c(P.check,M,J,B)),Q-=J,B+=J,P.length-=J),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(Q===0)break e;for(J=0;q=M[B+J++],P.head&&q&&P.length<65536&&(P.head.name+=String.fromCharCode(q)),q&&J<Q;);if(512&P.flags&&(P.check=c(P.check,M,J,B)),Q-=J,B+=J,q)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(Q===0)break e;for(J=0;q=M[B+J++],P.head&&q&&P.length<65536&&(P.head.comment+=String.fromCharCode(q)),q&&J<Q;);if(512&P.flags&&(P.check=c(P.check,M,J,B)),Q-=J,B+=J,q)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;j<16;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(z!==(65535&P.check)){U.msg="header crc mismatch",P.mode=30;break}j=z=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),U.adler=P.check=0,P.mode=12;break;case 10:for(;j<32;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}U.adler=P.check=w(z),j=z=0,P.mode=11;case 11:if(P.havedict===0)return U.next_out=H,U.avail_out=G,U.next_in=B,U.avail_in=Q,P.hold=z,P.bits=j,2;U.adler=P.check=1,P.mode=12;case 12:if(L===5||L===6)break e;case 13:if(P.last){z>>>=7&j,j-=7&j,P.mode=27;break}for(;j<3;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}switch(P.last=1&z,j-=1,3&(z>>>=1)){case 0:P.mode=14;break;case 1:if(R(P),P.mode=20,L!==6)break;z>>>=2,j-=2;break e;case 2:P.mode=17;break;case 3:U.msg="invalid block type",P.mode=30}z>>>=2,j-=2;break;case 14:for(z>>>=7&j,j-=7&j;j<32;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if((65535&z)!=(z>>>16^65535)){U.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&z,j=z=0,P.mode=15,L===6)break e;case 15:P.mode=16;case 16:if(J=P.length){if(Q<J&&(J=Q),G<J&&(J=G),J===0)break e;o.arraySet(F,M,B,J,H),Q-=J,B+=J,G-=J,H+=J,P.length-=J;break}P.mode=12;break;case 17:for(;j<14;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(P.nlen=257+(31&z),z>>>=5,j-=5,P.ndist=1+(31&z),z>>>=5,j-=5,P.ncode=4+(15&z),z>>>=4,j-=4,286<P.nlen||30<P.ndist){U.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;j<3;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.lens[ve[P.have++]]=7&z,z>>>=3,j-=3}for(;P.have<19;)P.lens[ve[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,he={bits:P.lenbits},le=h(0,P.lens,0,19,P.lencode,0,P.work,he),P.lenbits=he.bits,le){U.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;ce=(X=P.lencode[z&(1<<P.lenbits)-1])>>>16&255,de=65535&X,!((te=X>>>24)<=j);){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(de<16)z>>>=te,j-=te,P.lens[P.have++]=de;else{if(de===16){for(W=te+2;j<W;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(z>>>=te,j-=te,P.have===0){U.msg="invalid bit length repeat",P.mode=30;break}q=P.lens[P.have-1],J=3+(3&z),z>>>=2,j-=2}else if(de===17){for(W=te+3;j<W;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}j-=te,q=0,J=3+(7&(z>>>=te)),z>>>=3,j-=3}else{for(W=te+7;j<W;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}j-=te,q=0,J=11+(127&(z>>>=te)),z>>>=7,j-=7}if(P.have+J>P.nlen+P.ndist){U.msg="invalid bit length repeat",P.mode=30;break}for(;J--;)P.lens[P.have++]=q}}if(P.mode===30)break;if(P.lens[256]===0){U.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,he={bits:P.lenbits},le=h(f,P.lens,0,P.nlen,P.lencode,0,P.work,he),P.lenbits=he.bits,le){U.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,he={bits:P.distbits},le=h(m,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,he),P.distbits=he.bits,le){U.msg="invalid distances set",P.mode=30;break}if(P.mode=20,L===6)break e;case 20:P.mode=21;case 21:if(6<=Q&&258<=G){U.next_out=H,U.avail_out=G,U.next_in=B,U.avail_in=Q,P.hold=z,P.bits=j,d(U,ee),H=U.next_out,F=U.output,G=U.avail_out,B=U.next_in,M=U.input,Q=U.avail_in,z=P.hold,j=P.bits,P.mode===12&&(P.back=-1);break}for(P.back=0;ce=(X=P.lencode[z&(1<<P.lenbits)-1])>>>16&255,de=65535&X,!((te=X>>>24)<=j);){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(ce&&(240&ce)==0){for(be=te,Te=ce,Me=de;ce=(X=P.lencode[Me+((z&(1<<be+Te)-1)>>be)])>>>16&255,de=65535&X,!(be+(te=X>>>24)<=j);){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}z>>>=be,j-=be,P.back+=be}if(z>>>=te,j-=te,P.back+=te,P.length=de,ce===0){P.mode=26;break}if(32&ce){P.back=-1,P.mode=12;break}if(64&ce){U.msg="invalid literal/length code",P.mode=30;break}P.extra=15&ce,P.mode=22;case 22:if(P.extra){for(W=P.extra;j<W;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.length+=z&(1<<P.extra)-1,z>>>=P.extra,j-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;ce=(X=P.distcode[z&(1<<P.distbits)-1])>>>16&255,de=65535&X,!((te=X>>>24)<=j);){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if((240&ce)==0){for(be=te,Te=ce,Me=de;ce=(X=P.distcode[Me+((z&(1<<be+Te)-1)>>be)])>>>16&255,de=65535&X,!(be+(te=X>>>24)<=j);){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}z>>>=be,j-=be,P.back+=be}if(z>>>=te,j-=te,P.back+=te,64&ce){U.msg="invalid distance code",P.mode=30;break}P.offset=de,P.extra=15&ce,P.mode=24;case 24:if(P.extra){for(W=P.extra;j<W;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}P.offset+=z&(1<<P.extra)-1,z>>>=P.extra,j-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){U.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(G===0)break e;if(J=ee-G,P.offset>J){if((J=P.offset-J)>P.whave&&P.sane){U.msg="invalid distance too far back",P.mode=30;break}se=J>P.wnext?(J-=P.wnext,P.wsize-J):P.wnext-J,J>P.length&&(J=P.length),Z=P.window}else Z=F,se=H-P.offset,J=P.length;for(G<J&&(J=G),G-=J,P.length-=J;F[H++]=Z[se++],--J;);P.length===0&&(P.mode=21);break;case 26:if(G===0)break e;F[H++]=P.length,G--,P.mode=21;break;case 27:if(P.wrap){for(;j<32;){if(Q===0)break e;Q--,z|=M[B++]<<j,j+=8}if(ee-=G,U.total_out+=ee,P.total+=ee,ee&&(U.adler=P.check=P.flags?c(P.check,F,ee,H-ee):l(P.check,F,ee,H-ee)),ee=G,(P.flags?z:w(z))!==P.check){U.msg="incorrect data check",P.mode=30;break}j=z=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;j<32;){if(Q===0)break e;Q--,z+=M[B++]<<j,j+=8}if(z!==(4294967295&P.total)){U.msg="incorrect length check",P.mode=30;break}j=z=0}P.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return p}return U.next_out=H,U.avail_out=G,U.next_in=B,U.avail_in=Q,P.hold=z,P.bits=j,(P.wsize||ee!==U.avail_out&&P.mode<30&&(P.mode<27||L!==4))&&N(U,U.output,U.next_out,ee-U.avail_out)?(P.mode=31,-4):($-=U.avail_in,ee-=U.avail_out,U.total_in+=$,U.total_out+=ee,P.total+=ee,P.wrap&&ee&&(U.adler=P.check=P.flags?c(P.check,F,ee,U.next_out-ee):l(P.check,F,ee,U.next_out-ee)),U.data_type=P.bits+(P.last?64:0)+(P.mode===12?128:0)+(P.mode===20||P.mode===15?256:0),($==0&&ee===0||L===4)&&le===v&&(le=-5),le)},a.inflateEnd=function(U){if(!U||!U.state)return p;var L=U.state;return L.window&&(L.window=null),U.state=null,v},a.inflateGetHeader=function(U,L){var P;return U&&U.state?(2&(P=U.state).wrap)==0?p:((P.head=L).done=!1,v):p},a.inflateSetDictionary=function(U,L){var P,M=L.length;return U&&U.state?(P=U.state).wrap!==0&&P.mode!==11?p:P.mode===11&&l(1,L,M,0)!==P.check?-3:N(U,L,M,M)?(P.mode=31,-4):(P.havedict=1,v):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,a){var o=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(f,m,v,p,S,y,C,w){var D,b,x,A,I,k,E,_,R,N=w.bits,U=0,L=0,P=0,M=0,F=0,B=0,H=0,Q=0,G=0,z=0,j=null,$=0,ee=new o.Buf16(16),J=new o.Buf16(16),se=null,Z=0;for(U=0;U<=15;U++)ee[U]=0;for(L=0;L<p;L++)ee[m[v+L]]++;for(F=N,M=15;1<=M&&ee[M]===0;M--);if(M<F&&(F=M),M===0)return S[y++]=20971520,S[y++]=20971520,w.bits=1,0;for(P=1;P<M&&ee[P]===0;P++);for(F<P&&(F=P),U=Q=1;U<=15;U++)if(Q<<=1,(Q-=ee[U])<0)return-1;if(0<Q&&(f===0||M!==1))return-1;for(J[1]=0,U=1;U<15;U++)J[U+1]=J[U]+ee[U];for(L=0;L<p;L++)m[v+L]!==0&&(C[J[m[v+L]]++]=L);if(k=f===0?(j=se=C,19):f===1?(j=l,$-=257,se=c,Z-=257,256):(j=d,se=h,-1),U=P,I=y,H=L=z=0,x=-1,A=(G=1<<(B=F))-1,f===1&&852<G||f===2&&592<G)return 1;for(;;){for(E=U-H,R=C[L]<k?(_=0,C[L]):C[L]>k?(_=se[Z+C[L]],j[$+C[L]]):(_=96,0),D=1<<U-H,P=b=1<<B;S[I+(z>>H)+(b-=D)]=E<<24|_<<16|R|0,b!==0;);for(D=1<<U-1;z&D;)D>>=1;if(D!==0?(z&=D-1,z+=D):z=0,L++,--ee[U]==0){if(U===M)break;U=m[v+C[L]]}if(F<U&&(z&A)!==x){for(H===0&&(H=F),I+=P,Q=1<<(B=U-H);B+H<M&&!((Q-=ee[B+H])<=0);)B++,Q<<=1;if(G+=1<<B,f===1&&852<G||f===2&&592<G)return 1;S[x=z&A]=F<<24|B<<16|I-y|0}}return z!==0&&(S[I+z]=U-H<<24|64<<16|0),w.bits=F,0}},{"../utils/common":41}],51:[function(t,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,a){var o=t("../utils/common"),l=0,c=1;function d(X){for(var ae=X.length;0<=--ae;)X[ae]=0}var h=0,f=29,m=256,v=m+1+f,p=30,S=19,y=2*v+1,C=15,w=16,D=7,b=256,x=16,A=17,I=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(v+2));d(N);var U=new Array(2*p);d(U);var L=new Array(512);d(L);var P=new Array(256);d(P);var M=new Array(f);d(M);var F,B,H,Q=new Array(p);function G(X,ae,ve,Ce,ne){this.static_tree=X,this.extra_bits=ae,this.extra_base=ve,this.elems=Ce,this.max_length=ne,this.has_stree=X&&X.length}function z(X,ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=ae}function j(X){return X<256?L[X]:L[256+(X>>>7)]}function $(X,ae){X.pending_buf[X.pending++]=255&ae,X.pending_buf[X.pending++]=ae>>>8&255}function ee(X,ae,ve){X.bi_valid>w-ve?(X.bi_buf|=ae<<X.bi_valid&65535,$(X,X.bi_buf),X.bi_buf=ae>>w-X.bi_valid,X.bi_valid+=ve-w):(X.bi_buf|=ae<<X.bi_valid&65535,X.bi_valid+=ve)}function J(X,ae,ve){ee(X,ve[2*ae],ve[2*ae+1])}function se(X,ae){for(var ve=0;ve|=1&X,X>>>=1,ve<<=1,0<--ae;);return ve>>>1}function Z(X,ae,ve){var Ce,ne,Pe=new Array(C+1),Ee=0;for(Ce=1;Ce<=C;Ce++)Pe[Ce]=Ee=Ee+ve[Ce-1]<<1;for(ne=0;ne<=ae;ne++){var fe=X[2*ne+1];fe!==0&&(X[2*ne]=se(Pe[fe]++,fe))}}function te(X){var ae;for(ae=0;ae<v;ae++)X.dyn_ltree[2*ae]=0;for(ae=0;ae<p;ae++)X.dyn_dtree[2*ae]=0;for(ae=0;ae<S;ae++)X.bl_tree[2*ae]=0;X.dyn_ltree[2*b]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function ce(X){8<X.bi_valid?$(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function de(X,ae,ve,Ce){var ne=2*ae,Pe=2*ve;return X[ne]<X[Pe]||X[ne]===X[Pe]&&Ce[ae]<=Ce[ve]}function be(X,ae,ve){for(var Ce=X.heap[ve],ne=ve<<1;ne<=X.heap_len&&(ne<X.heap_len&&de(ae,X.heap[ne+1],X.heap[ne],X.depth)&&ne++,!de(ae,Ce,X.heap[ne],X.depth));)X.heap[ve]=X.heap[ne],ve=ne,ne<<=1;X.heap[ve]=Ce}function Te(X,ae,ve){var Ce,ne,Pe,Ee,fe=0;if(X.last_lit!==0)for(;Ce=X.pending_buf[X.d_buf+2*fe]<<8|X.pending_buf[X.d_buf+2*fe+1],ne=X.pending_buf[X.l_buf+fe],fe++,Ce===0?J(X,ne,ae):(J(X,(Pe=P[ne])+m+1,ae),(Ee=k[Pe])!==0&&ee(X,ne-=M[Pe],Ee),J(X,Pe=j(--Ce),ve),(Ee=E[Pe])!==0&&ee(X,Ce-=Q[Pe],Ee)),fe<X.last_lit;);J(X,b,ae)}function Me(X,ae){var ve,Ce,ne,Pe=ae.dyn_tree,Ee=ae.stat_desc.static_tree,fe=ae.stat_desc.has_stree,pe=ae.stat_desc.elems,Oe=-1;for(X.heap_len=0,X.heap_max=y,ve=0;ve<pe;ve++)Pe[2*ve]!==0?(X.heap[++X.heap_len]=Oe=ve,X.depth[ve]=0):Pe[2*ve+1]=0;for(;X.heap_len<2;)Pe[2*(ne=X.heap[++X.heap_len]=Oe<2?++Oe:0)]=1,X.depth[ne]=0,X.opt_len--,fe&&(X.static_len-=Ee[2*ne+1]);for(ae.max_code=Oe,ve=X.heap_len>>1;1<=ve;ve--)be(X,Pe,ve);for(ne=pe;ve=X.heap[1],X.heap[1]=X.heap[X.heap_len--],be(X,Pe,1),Ce=X.heap[1],X.heap[--X.heap_max]=ve,X.heap[--X.heap_max]=Ce,Pe[2*ne]=Pe[2*ve]+Pe[2*Ce],X.depth[ne]=(X.depth[ve]>=X.depth[Ce]?X.depth[ve]:X.depth[Ce])+1,Pe[2*ve+1]=Pe[2*Ce+1]=ne,X.heap[1]=ne++,be(X,Pe,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],function(Ie,Fe){var qe,Ve,Ze,Ge,dt,Ne,We=Fe.dyn_tree,bt=Fe.max_code,Kn=Fe.stat_desc.static_tree,hi=Fe.stat_desc.has_stree,br=Fe.stat_desc.extra_bits,Cr=Fe.stat_desc.extra_base,pt=Fe.stat_desc.max_length,Ut=0;for(Ge=0;Ge<=C;Ge++)Ie.bl_count[Ge]=0;for(We[2*Ie.heap[Ie.heap_max]+1]=0,qe=Ie.heap_max+1;qe<y;qe++)pt<(Ge=We[2*We[2*(Ve=Ie.heap[qe])+1]+1]+1)&&(Ge=pt,Ut++),We[2*Ve+1]=Ge,bt<Ve||(Ie.bl_count[Ge]++,dt=0,Cr<=Ve&&(dt=br[Ve-Cr]),Ne=We[2*Ve],Ie.opt_len+=Ne*(Ge+dt),hi&&(Ie.static_len+=Ne*(Kn[2*Ve+1]+dt)));if(Ut!==0){do{for(Ge=pt-1;Ie.bl_count[Ge]===0;)Ge--;Ie.bl_count[Ge]--,Ie.bl_count[Ge+1]+=2,Ie.bl_count[pt]--,Ut-=2}while(0<Ut);for(Ge=pt;Ge!==0;Ge--)for(Ve=Ie.bl_count[Ge];Ve!==0;)bt<(Ze=Ie.heap[--qe])||(We[2*Ze+1]!==Ge&&(Ie.opt_len+=(Ge-We[2*Ze+1])*We[2*Ze],We[2*Ze+1]=Ge),Ve--)}}(X,ae),Z(Pe,Oe,X.bl_count)}function q(X,ae,ve){var Ce,ne,Pe=-1,Ee=ae[1],fe=0,pe=7,Oe=4;for(Ee===0&&(pe=138,Oe=3),ae[2*(ve+1)+1]=65535,Ce=0;Ce<=ve;Ce++)ne=Ee,Ee=ae[2*(Ce+1)+1],++fe<pe&&ne===Ee||(fe<Oe?X.bl_tree[2*ne]+=fe:ne!==0?(ne!==Pe&&X.bl_tree[2*ne]++,X.bl_tree[2*x]++):fe<=10?X.bl_tree[2*A]++:X.bl_tree[2*I]++,Pe=ne,Oe=(fe=0)===Ee?(pe=138,3):ne===Ee?(pe=6,3):(pe=7,4))}function le(X,ae,ve){var Ce,ne,Pe=-1,Ee=ae[1],fe=0,pe=7,Oe=4;for(Ee===0&&(pe=138,Oe=3),Ce=0;Ce<=ve;Ce++)if(ne=Ee,Ee=ae[2*(Ce+1)+1],!(++fe<pe&&ne===Ee)){if(fe<Oe)for(;J(X,ne,X.bl_tree),--fe!=0;);else ne!==0?(ne!==Pe&&(J(X,ne,X.bl_tree),fe--),J(X,x,X.bl_tree),ee(X,fe-3,2)):fe<=10?(J(X,A,X.bl_tree),ee(X,fe-3,3)):(J(X,I,X.bl_tree),ee(X,fe-11,7));Pe=ne,Oe=(fe=0)===Ee?(pe=138,3):ne===Ee?(pe=6,3):(pe=7,4)}}d(Q);var he=!1;function W(X,ae,ve,Ce){ee(X,(h<<1)+(Ce?1:0),3),function(ne,Pe,Ee,fe){ce(ne),$(ne,Ee),$(ne,~Ee),o.arraySet(ne.pending_buf,ne.window,Pe,Ee,ne.pending),ne.pending+=Ee}(X,ae,ve)}a._tr_init=function(X){he||(function(){var ae,ve,Ce,ne,Pe,Ee=new Array(C+1);for(ne=Ce=0;ne<f-1;ne++)for(M[ne]=Ce,ae=0;ae<1<<k[ne];ae++)P[Ce++]=ne;for(P[Ce-1]=ne,ne=Pe=0;ne<16;ne++)for(Q[ne]=Pe,ae=0;ae<1<<E[ne];ae++)L[Pe++]=ne;for(Pe>>=7;ne<p;ne++)for(Q[ne]=Pe<<7,ae=0;ae<1<<E[ne]-7;ae++)L[256+Pe++]=ne;for(ve=0;ve<=C;ve++)Ee[ve]=0;for(ae=0;ae<=143;)N[2*ae+1]=8,ae++,Ee[8]++;for(;ae<=255;)N[2*ae+1]=9,ae++,Ee[9]++;for(;ae<=279;)N[2*ae+1]=7,ae++,Ee[7]++;for(;ae<=287;)N[2*ae+1]=8,ae++,Ee[8]++;for(Z(N,v+1,Ee),ae=0;ae<p;ae++)U[2*ae+1]=5,U[2*ae]=se(ae,5);F=new G(N,k,m+1,v,C),B=new G(U,E,0,p,C),H=new G(new Array(0),_,0,S,D)}(),he=!0),X.l_desc=new z(X.dyn_ltree,F),X.d_desc=new z(X.dyn_dtree,B),X.bl_desc=new z(X.bl_tree,H),X.bi_buf=0,X.bi_valid=0,te(X)},a._tr_stored_block=W,a._tr_flush_block=function(X,ae,ve,Ce){var ne,Pe,Ee=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=function(fe){var pe,Oe=4093624447;for(pe=0;pe<=31;pe++,Oe>>>=1)if(1&Oe&&fe.dyn_ltree[2*pe]!==0)return l;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return c;for(pe=32;pe<m;pe++)if(fe.dyn_ltree[2*pe]!==0)return c;return l}(X)),Me(X,X.l_desc),Me(X,X.d_desc),Ee=function(fe){var pe;for(q(fe,fe.dyn_ltree,fe.l_desc.max_code),q(fe,fe.dyn_dtree,fe.d_desc.max_code),Me(fe,fe.bl_desc),pe=S-1;3<=pe&&fe.bl_tree[2*R[pe]+1]===0;pe--);return fe.opt_len+=3*(pe+1)+5+5+4,pe}(X),ne=X.opt_len+3+7>>>3,(Pe=X.static_len+3+7>>>3)<=ne&&(ne=Pe)):ne=Pe=ve+5,ve+4<=ne&&ae!==-1?W(X,ae,ve,Ce):X.strategy===4||Pe===ne?(ee(X,2+(Ce?1:0),3),Te(X,N,U)):(ee(X,4+(Ce?1:0),3),function(fe,pe,Oe,Ie){var Fe;for(ee(fe,pe-257,5),ee(fe,Oe-1,5),ee(fe,Ie-4,4),Fe=0;Fe<Ie;Fe++)ee(fe,fe.bl_tree[2*R[Fe]+1],3);le(fe,fe.dyn_ltree,pe-1),le(fe,fe.dyn_dtree,Oe-1)}(X,X.l_desc.max_code+1,X.d_desc.max_code+1,Ee+1),Te(X,X.dyn_ltree,X.dyn_dtree)),te(X),Ce&&ce(X)},a._tr_tally=function(X,ae,ve){return X.pending_buf[X.d_buf+2*X.last_lit]=ae>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ae,X.pending_buf[X.l_buf+X.last_lit]=255&ve,X.last_lit++,ae===0?X.dyn_ltree[2*ve]++:(X.matches++,ae--,X.dyn_ltree[2*(P[ve]+m+1)]++,X.dyn_dtree[2*j(ae)]++),X.last_lit===X.lit_bufsize-1},a._tr_align=function(X){ee(X,2,3),J(X,b,N),function(ae){ae.bi_valid===16?($(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(X)}},{"../utils/common":41}],53:[function(t,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,a){(function(o){(function(l,c){if(!l.setImmediate){var d,h,f,m,v=1,p={},S=!1,y=l.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(l);C=C&&C.setTimeout?C:l,d={}.toString.call(l.process)==="[object process]"?function(x){process.nextTick(function(){D(x)})}:function(){if(l.postMessage&&!l.importScripts){var x=!0,A=l.onmessage;return l.onmessage=function(){x=!1},l.postMessage("","*"),l.onmessage=A,x}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",b,!1):l.attachEvent("onmessage",b),function(x){l.postMessage(m+x,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(x){D(x.data)},function(x){f.port2.postMessage(x)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(x){var A=y.createElement("script");A.onreadystatechange=function(){D(x),A.onreadystatechange=null,h.removeChild(A),A=null},h.appendChild(A)}):function(x){setTimeout(D,0,x)},C.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var A=new Array(arguments.length-1),I=0;I<A.length;I++)A[I]=arguments[I+1];var k={callback:x,args:A};return p[v]=k,d(v),v++},C.clearImmediate=w}function w(x){delete p[x]}function D(x){if(S)setTimeout(D,0,x);else{var A=p[x];if(A){S=!0;try{(function(I){var k=I.callback,E=I.args;switch(E.length){case 0:k();break;case 1:k(E[0]);break;case 2:k(E[0],E[1]);break;case 3:k(E[0],E[1],E[2]);break;default:k.apply(c,E)}})(A)}finally{w(x),S=!1}}}}function b(x){x.source===l&&typeof x.data=="string"&&x.data.indexOf(m)===0&&D(+x.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof $o<"u"?$o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(d1)),d1.exports}var iO=nO();const rO=Rc(iO);var vn={m:{},d:function(n,e){for(var t in e)vn.o(e,t)&&!vn.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),vn.p=n})(),vn.b=document.baseURI||self.location.href;class gt{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create index with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)t.push(this.get(i)+e.get(i));return new gt(t)}#t(e,t){const i=this.#e.slice();return e<i.length?i[e]+=t:console.warn("Cannot add to given dimension: ",e,i.length),new gt(i)}next(e){return this.#t(e,1)}previous(e){return this.#t(e,-1)}getWithNew2D(e,t){const i=[e,t];for(let a=2,o=this.length();a<o;++a)i.push(this.get(a));return new gt(i)}}class aO{#e;#t;#n;#r;constructor(e,t){if(this.#e=e,this.#t=e.isID(),this.#n=Math.pow(2,t),!this.#t){this.#r=new Float32Array(this.#n);for(let i=0;i<this.#n;++i)this.#r[i]=this.#e.apply(i)}}getRSI(){return this.#e}getLength(){return this.#n}getValue(e){return this.#t?e:this.#r[e]}}class oO{#e;#t;#n;#r=0;#i=!0;constructor(e,t,i){if(this.#e=e,t){const a=this.#e.getLength();this.#r=a/2}else this.#r=0;this.#i=i}getVoiLut(){return this.#t}getModalityLut(){return this.#e}setVoiLut(e){if(this.#t=e,this.#t.setSignedOffset(this.#e.getRSI().getSlope()*this.#r),this.#i){const t=this.#e.getLength();this.#n=new Uint8ClampedArray(t);for(let i=0;i<t;++i)this.#n[i]=this.#t.apply(this.#e.getValue(i))}}getValue(e){return this.#i?this.#n[e+this.#r]:Math.floor(this.#t.apply(e+this.#r))}}function sr(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function h1(n){return n}function f1(n){return 255-n}class Jg{red;green;blue;constructor(e,t,i){this.red=e,this.green=t,this.blue=i}}const L5={plain:{red:sr(h1),green:sr(h1),blue:sr(h1)},invPlain:{red:sr(f1),green:sr(f1),blue:sr(f1)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:sr(function(n){const e=3*n;return e>255?255:e}),green:sr(function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t}),blue:sr(function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},De={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},Fa={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};class I5{#e;#t;#n=0;#r=255;#i;#a;constructor(e,t,i){i===void 0&&(i=!1);let a=e,o=t;i||(a-=.5,o-=1),this.#e=a-o/2,this.#t=a+o/2,this.#i=(this.#r-this.#n)/o,this.#a=(-a/o+.5)*(this.#r-this.#n)+this.#n}getY(e){let t;return t=e<=this.#e?this.#n:e>this.#t?this.#r:e*this.#i+this.#a,t}}class sO{#e=0;#t=255;#n;#r;constructor(e,t){this.#n=e,this.#r=t}getY(e){return(this.#t-this.#e)/(1+Math.exp(-4*(e-this.#n)/this.#r))+this.#e}}class lO{#e;#t=0;#n;#r=Fa.linear;constructor(e,t){if(this.#e=e,t!==void 0){const i=[];for(const a in Fa)i.push(Fa[a]);i.includes(t)?this.#r=t:De.debug("Unknown VOI LUT function: "+t)}this.#i()}getWindowLevel(){return this.#e}#i(){const e=this.#e.center,t=this.#e.width,i=e+this.#t;this.#r===Fa.linear_exact?this.#n=new I5(i,t,!0):this.#r===Fa.sigmoid?this.#n=new sO(i,t):this.#n=new I5(i,t)}setSignedOffset(e){this.#t=e,this.#i()}apply(e){return this.#n.getY(e)}}function E5(n,e,t){if(n===void 0)return;let i=n.center;i=Math.min(i,e.max),i=Math.max(i,e.min);let a=1;t===void 0||t!==Fa.linear_exact&&t!==Fa.sigmoid||(a=0);let o=n.width;return o=Math.max(o,a),o=Math.min(o,e.max-e.min),new Un(i,o)}class Un{center;width;constructor(e,t){this.center=e,this.width=t}equals(e){return e!=null&&this.center===e.center&&this.width===e.width}}class Sn{r;g;b;constructor(e,t,i){this.r=e,this.g=t,this.b=i}}function cO(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function uO(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const V4={x:95.0489,y:100,z:108.884};function dO(n){return function(e){function t(o){let l=null;return l=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,l}const i=V4,a=t(e.y/i.y);return{l:116*a-16,a:500*(t(e.x/i.x)-a),b:200*(a-t(e.z/i.z))}}(function(e){function t(l){let c=null;return c=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4),c}const i=t(e.r/255),a=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*i+.3576*a+.1805*o),y:100*(.2126*i+.7152*a+.0722*o),z:100*(.0193*i+.1192*a+.9505*o)}}(n))}function hO(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const fO={CT:{mediastinum:new Un(40,400),lung:new Un(-500,1500),bone:new Un(500,2e3),brain:new Un(40,80),head:new Un(90,350)}};class gO{create(e,t){const i=new mO(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&i.setColourMap("invPlain");let a={};t.getMeta().windowPresets!==void 0&&(a=t.getMeta().windowPresets),a.minmax={name:"minmax"};const o=t.getMeta().Modality;let l;l=fO[o];for(const c in l){const d=l[c];a[c]={wl:[new Un(d.center,d.width)],name:c}}return i.setWindowPresets(a),i.init(),i}}class Bt{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}norm(){return Math.sqrt(this.#e*this.#e+this.#t*this.#t+this.#n*this.#n)}crossProduct(e){return new Bt(this.#t*e.getZ()-e.getY()*this.#n,this.#n*e.getX()-e.getZ()*this.#e,this.#e*e.getY()-e.getX()*this.#t)}dotProduct(e){return this.#e*e.getX()+this.#t*e.getY()+this.#n*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}}class xe{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getX(){return this.#e}getY(){return this.#t}getValues(){return[this.#e,this.#t]}getCentroid(){return this}equals(e){return e!=null&&this.#e===e.getX()&&this.#t===e.getY()}toString(){return"("+this.#e+", "+this.#t+")"}getDistance(e){const t=this.#e-e.getX(),i=this.#t-e.getY();return Math.sqrt(t*t+i*i)}}class Rt{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}getValues(){return[this.#e,this.#t,this.#n]}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}isSimilar(e,t){return e!==null&&mc(this.#e,e.getX(),t)&&mc(this.#t,e.getY(),t)&&mc(this.#n,e.getZ(),t)}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}getDistance(e){return Math.sqrt(this.#r(e))}#r(e){const t=this.#e-e.getX(),i=this.#t-e.getY(),a=this.#n-e.getZ();return t*t+i*i+a*a}getClosest(e){let t=0,i=this.#r(e[t]);for(let a=0;a<e.length;++a){const o=this.#r(e[a]);o<i&&(t=a,i=o)}return t}minus(e){return new Bt(this.#e-e.getX(),this.#t-e.getY(),this.#n-e.getZ())}}class yr{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create point with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}get3D(){return new Rt(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],i=this.getValues(),a=e.getValues();for(let o=0;o<i.length;++o)t.push(i[o]+a[o]);return new yr(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new yr(t)}}const Dd=1e-4;function mc(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}class fr{#e;#t;constructor(e){this.#e=e}get(e,t){return this.#e[3*e+t]}getInverse(){return this.#t===void 0&&(this.#t=function(e){const t=e.get(0,0),i=e.get(0,1),a=e.get(0,2),o=e.get(1,0),l=e.get(1,1),c=e.get(1,2),d=e.get(2,0),h=e.get(2,1),f=e.get(2,2),m=l*f-c*h,v=c*d-o*f,p=o*h-l*d;let S=t*m+i*v+a*p;if(S!==0)return S=1/S,new fr([S*m,S*(a*h-i*f),S*(i*c-a*l),S*v,S*(t*f-a*d),S*(a*o-t*c),S*p,S*(i*d-t*h),S*(t*l-i*o)]);De.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),this.#t}equals(e){for(let t=0;t<3;++t)for(let i=0;i<3;++i)if(this.get(t,i)!==e.get(t,i))return!1;return!0}isSimilar(e,t){for(let i=0;i<3;++i)for(let a=0;a<3;++a)if(!mc(this.get(i,a),e.get(i,a),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let i=0;i<3;++i)i!==0&&(e+=", "),e+=this.get(t,i)}return e+="]",e}multiply(e){const t=[];for(let i=0;i<3;++i)for(let a=0;a<3;++a){let o=0;for(let l=0;l<3;++l)o+=this.get(i,l)*e.get(l,a);t.push(o)}return new fr(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let i=0;i<3;++i)e.push(Math.abs(this.get(t,i)));return new fr(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=[];for(let i=0;i<3;++i){let a=0;for(let o=0;o<3;++o)a+=this.get(i,o)*e[o];t.push(a)}return t}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Bt(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Rt(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new gt(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(e,a),index:a}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(a,e),index:a}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const i=this.getRowAbsMax(t),a=i.value>0?1:-1;for(let o=0;o<3;++o)o===i.index?e.push(1*a):e.push(0)}return new fr(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}}function Td(){return new fr([1,0,0,0,1,0,0,0,1])}function H0(n){return n.equals(Td())}function Aa(n,e,t,i,a,o,l,c){let d=e;const h=o-a*i;let f=0,m=0;return{next:function(){if(f<t){const v={value:n(d),done:!1,index:d};return d+=i,++f,++m,m===a&&(m=0,d+=h),v}return{done:!0,index:d}}}}function g1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function z4(n,e,t,i){const a=n.getGeometry().getSize();let o=2;i&&i!==void 0&&(o=i.getColAbsMax(2).index);const l=e.getValues(),c=new gt(l.map(function(D,b){return b===o||b>2?D:0}));let d=a.indexToOffset(c);t===void 0&&(t=!1);let h=null;h=t?function(D){return n.getRescaledValueAtOffset(D)}:function(D){return n.getValueAtOffset(D)};const f=a.get(0),m=a.get(1),v=a.get(2);let p=a.getDimSize(2);const S=n.getNumberOfComponents(),y=n.getPlanarConfiguration()===1,C=function(D,b,x,A,I,k,E,_){return S===1?Aa(D,b,x,A,I,k):S===3?function(R,N,U,L,P,M,F,B,H){const Q=[];return H?(Q.push(Aa(R,N,U,L,P,M)),Q.push(Aa(R,N+U*L,U,L,P,M)),Q.push(Aa(R,N+2*U*L,U,L,P,M))):(L*=3,M*=3,Q.push(Aa(R,N,U,L,P,M)),Q.push(Aa(R,N+1,U,L,P,M)),Q.push(Aa(R,N+2,U,L,P,M))),{next:function(){const G=Q[0].next(),z=Q[1].next(),j=Q[2].next();return G.done?{done:!0,index:j.index}:{value:[G.value,z.value,j.value],done:!1,index:[G.index,z.index,j.index]}}}}(D,3*b,x,A,I,k,E,_,y):void 0};let w=null;if(i&&i!==void 0){const D=i.getColAbsMax(0),b=i.getColAbsMax(2),x=!1,A=!1;let I=null;if(b.index===2)I=f*m,w=D.index===0?C(h,d,I,1,f,f,x,A):C(h,d,I,f,m,1,x,A);else if(b.index===0)I=v*m,w=D.index===1?C(h,d,I,f,m,p,x,A):C(h,d,I,p,v,f,x,A);else{if(b.index!==1)throw new Error("Unknown direction: "+b.index);I=v*f,w=D.index===0?C(h,d,I,1,f,p,x,A):C(h,d,I,p,v,1,x,A)}}else if(n.getNumberOfComponents()===1)w=function(D,b,x,A){A===void 0&&(A=1);let I=b;return{next:function(){if(I<x){const k={value:D(I),done:!1,index:I};return I+=A,k}return{done:!0,index:x}}}}(h,d,d+p);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());d*=3,p*=3,w=function(D,b,x,A,I){A===void 0&&(A=1),I===void 0&&(I=!1);let k=b,E=1;I?E=(x-b)/3:A*=3;let _=k+E,R=k+2*E;return{next:function(){if(k<x){const N={value:[D(k),D(_),D(R)],done:!1,index:[k,_,R]};return k+=A,_+=A,R+=A,N}return{done:!0,index:[x]}}}}(h,d,d+p,1,y)}return w}function pO(n,e){let t=0,i=0;return{next:function(){if(t<e){i+1<n.length&&t>=n[i+1].index&&++i;const a={value:n[i].value,done:!1,index:t};return++t,a}return{done:!0,index:e}}}}class $n{#e={};add(e,t){this.#e[e]===void 0&&(this.#e[e]=[]),this.#e[e].push(t)}remove(e,t){if(this.#e[e]===void 0)return;let i=0;for(let a=0;a<this.#e[e].length;++a)this.#e[e][a]===t&&(++i,this.#e[e].splice(a,1));i===0&&De.debug("No callback found on remove listener for type "+e)}fireEvent=e=>{if(this.#e[e.type]===void 0)return;const t=this.#e[e.type].slice();for(let i=0;i<t.length;++i)t[i](e)}}class ep{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getSlope(){return this.#e}getIntercept(){return this.#t}apply(e){return e*this.#e+this.#t}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}const as=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];class mO{#e;#t;#n;#r={minmax:{name:"minmax"}};#i=null;#a;#o="plain";#s=null;#l;#d=new $n;constructor(e){this.#e=e,this.#e.addEventListener("appendframe",()=>{const t=this.getCurrentIndex();if(t.length()===3){const i=t.getValues();i.push(0),this.setCurrentIndex(new gt(i))}})}getImage(){return this.#e}setImage(e){this.#e=e}getOrientation(){return this.#l}setOrientation(e){this.#l=e}init(){this.setInitialIndex()}setInitialIndex(){const e=this.#e.getGeometry().getSize(),t=new Array(e.length());t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),this.setCurrentIndex(new gt(t),!0)}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}#c=function(e,t){return 255};getAlphaFunction(){return this.#c}setAlphaFunction(e){this.#c=e,this.#f({type:"alphafuncchange"})}#u(){if(this.#i&&this.#r[this.#i]!==void 0&&this.#r[this.#i].perslice!==void 0&&this.#r[this.#i].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const i=this.getCurrentIndex(),a=this.#e.getSecondaryOffset(i),o=this.#r[this.#i].wl[a];o!==void 0&&this.setWindowLevel(o,this.#i,!0)}if(this.#a===void 0&&this.setWindowLevelPresetById(0,!0),this.#n===void 0||this.#e.isConstantRSI()!==this.#n){let i,a;this.#n=this.#e.isConstantRSI(),this.#n?(i=this.#e.getRescaleSlopeAndIntercept(),a=!0):(i=new ep(1,0),a=!1);const o=new aO(i,this.#e.getMeta().BitsStored);this.#t=new oO(o,this.#e.getMeta().PixelRepresentation===1,a)}const e=this.#t.getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!this.#a.equals(t)){const i=new lO(this.#a,this.#e.getMeta().VOILUTFunction);this.#t.setVoiLut(i)}return this.#t}getWindowPresets(){return this.#r}getWindowPresetsNames(){return Object.keys(this.#r)}setWindowPresets(e){this.#r=e}addWindowPresets(e){const t=Object.keys(e);let i=null;for(let a=0;a<t.length;++a)if(i=t[a],this.#r[i]!==void 0){if(this.#r[i].perslice!==void 0&&this.#r[i].perslice===!0)throw new Error("Cannot add perslice preset");this.#r[i]=e[i]}else this.#r[i]=e[i],this.#f({type:"wlpresetadd",name:i})}getCurrentWindowPresetName(){return this.#i}getColourMap(){return this.#o}#h(){return L5[this.#o]}setColourMap(e){if(!L5[e])throw new Error("Unknown colour map: '"+e+"'");this.#o=e,this.#f({type:"colourmapchange",value:[e]})}getCurrentPosition(){return this.#s}getCurrentIndex(){const e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null}getCurrentImageUid(){return this.#e.getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=this.#s);const t=this.#e.getGeometry(),i=t.worldToIndex(e),a=[this.getScrollDimIndex()];return i.length()===4&&a.push(3),t.isIndexInBounds(i,a)}getOrigin(e){const t=this.#e.getGeometry();let i=0;return e!==void 0&&(i=t.worldToIndex(e).get(2)),t.getOrigins()[i]}setCurrentIndex(e,t){const i=this.#e.getGeometry().indexToWorld(e);return this.setCurrentPosition(i,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const i=this.#e.getGeometry(),a=i.worldToIndex(e),o=[this.getScrollDimIndex()];if(a.length()===4&&o.push(3),!i.isIndexInBounds(a,o))return this.#s=e,t||this.#f({type:"positionchange",value:[a.getValues(),e.getValues()],valid:!1}),!1;let l=null,c=null;if(this.getCurrentPosition()&&(c=this.getCurrentIndex()),c)if(c.canCompare(a))l=c.compare(a);else{l=[];const d=Math.min(c.length(),a.length());for(let f=0;f<d;++f)c.get(f)!==a.get(f)&&l.push(f);const h=Math.max(c.length(),a.length());for(let f=d;f<h;++f)l.push(f)}else{l=[];for(let d=0;d<a.length();++d)l.push(d)}if(this.#s=e,!t){const d={type:"positionchange",value:[a.getValues(),e.getValues()],diffDims:l,data:{imageUid:this.#e.getImageUid(a)}};if(this.#e.canQuantify()){const h=this.#e.getRescaledValueAtIndex(a);d.value.push(h)}this.#f(d)}return!0}setWindowLevel(e,t,i){if(t===void 0&&(t="manual"),t!=="manual"&&this.#r[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");i===void 0&&(i=!1);const a=E5(e,this.#e.getRescaledDataRange(),this.#e.getMeta().VOILUTFunction),o=!a.equals(this.#a),l=this.#i!==t;(o||l)&&(this.#a=a,this.#i=t,t==="manual"&&(this.#r[t]!==void 0?this.#r[t].wl[0]=a:this.addWindowPresets({manual:{wl:[a],name:"manual"}})),this.#f({type:"wlchange",value:[a.center,a.width,t],wc:a.center,ww:a.width,skipGenerate:i}))}getWindowLevel(){return this.#u().getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const i=this.getWindowPresets()[e];if(i===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&i.wl===void 0&&(i.wl=[this.getWindowLevelMinMax()]);let a=i.wl[0];if(i.perslice!==void 0&&i.perslice===!0){const o=this.#e.getSecondaryOffset(this.getCurrentIndex());a=i.wl[o]}a!==void 0&&this.setWindowLevel(a,e,t)}setWindowLevelPresetById(e,t){const i=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(i[e],t)}addEventListener(e,t){this.#d.add(e,t)}removeEventListener(e,t){this.#d.remove(e,t)}#f=e=>{this.#d.fireEvent(e)};getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,i=e.min+t/2;return E5(new Un(i,t),e,this.#e.getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){t===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());const i=this.getImage(),a=!i.isConstantRSI(),o=z4(i,t,a,this.getOrientation()),l=i.getPhotometricInterpretation();switch(l){case"MONOCHROME1":case"MONOCHROME2":(function(c,d,h,f,m){let v=0,p=0,S=d.next();for(;!S.done;)p=f.getValue(S.value),c.data[v]=m.red[p],c.data[v+1]=m.green[p],c.data[v+2]=m.blue[p],c.data[v+3]=h(S.value,S.index),v+=4,S=d.next()})(e,o,this.getAlphaFunction(),this.#u(),this.#h());break;case"PALETTE COLOR":(function(c,d,h,f,m){const v=function(C){return C>>8};m&&De.info("Scaling 16bits data to 8bits.");let p=0,S=0,y=d.next();for(;!y.done;)S=y.value,m?(c.data[p]=v(f.red[S]),c.data[p+1]=v(f.green[S]),c.data[p+2]=v(f.blue[S])):(c.data[p]=f.red[S],c.data[p+1]=f.green[S],c.data[p+2]=f.blue[S]),c.data[p+3]=h(S,y.index),p+=4,y=d.next()})(e,o,this.getAlphaFunction(),i.getPaletteColourMap(),i.getMeta().BitsStored===16);break;case"RGB":(function(c,d,h){let f=0,m=d.next();for(;!m.done;)c.data[f]=m.value[0],c.data[f+1]=m.value[1],c.data[f+2]=m.value[2],c.data[f+3]=h(m.value,m.index),f+=4,m=d.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(c,d,h){let f=0,m=null,v=d.next();for(;!v.done;)p=v.value[0],S=v.value[1],y=v.value[2],m={r:p+1.402*(y-128),g:p-.34414*(S-128)-.71414*(y-128),b:p+1.772*(S-128)},c.data[f]=m.r,c.data[f+1]=m.g,c.data[f+2]=m.b,c.data[f+3]=h(v.value,v.index),f+=4,v=d.next();var p,S,y})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+l)}}getScrollDimIndex(){let e=null;const t=this.getOrientation();return e=t!==void 0?t.getThirdColMajorDirection():2,e}isAquisitionOrientation(){return H0(this.#l)}}function Q4(){return new fr([1,0,0,0,0,1,0,-1,0])}const pr={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function _5(n){let e;return n===pr.Axial?e=Td():n===pr.Coronal?e=Q4():n===pr.Sagittal&&(e=new fr([0,0,-1,1,0,0,0,-1,0])),e}function H4(n){const e=new Bt(n.get(0,0),n.get(1,0),n.get(2,0)),t=new Bt(n.get(0,1),n.get(1,1),n.get(2,1)),i=new Bt(n.get(0,2),n.get(1,2),n.get(2,2));return p1(e)+p1(t)+p1(i)}function p1(n){let e=new Bt(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const i=n.getX()<0?"R":"L",a=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",l=1e-4;for(let c=0;c<3;c++)if(e.getX()>l&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=i,e=new Bt(0,e.getY(),e.getZ());else if(e.getY()>l&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=a,e=new Bt(e.getX(),0,e.getZ());else{if(!(e.getZ()>l&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new Bt(e.getX(),e.getY(),0)}return t}function SO(n){let e;const t=tp(n);return t!==void 0&&(e=function(i){let a;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(i)?a=pr.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(i)?a=pr.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(i)&&(a=pr.Sagittal),a}(H4(t.asOneAndZeros()))),e}function tp(n){let e;if(n!==void 0&&n.length===6){const t=new Bt(n[0],n[1],n[2]),i=new Bt(n[3],n[4],n[5]),a=t.crossProduct(i);e=new fr([t.getX(),i.getX(),a.getX(),t.getY(),i.getY(),a.getY(),t.getZ(),i.getZ(),a.getZ()])}return e}function M5(n,e){let t=Td();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const yO={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm²",ml:"ml",degree:"°",pixel:"pixels"}[t[1]]),e}};function Pa(n,e,t){if(n==null||e==null)return!1;const i=0;return n.substring(i,i+e.length)===e}function F5(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function k5(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let i=t.exec(n);for(;i;)e.push(i[1]),i=t.exec(n);return e}function Yr(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function vO(n){const e=new Uint8Array(n.length);for(let t=0,i=n.length;t<i;t++)e[t]=n.charCodeAt(t);return e}function Ni(n,e){const t=Math.pow(10,e),i=.01/t;return Math.round(n*t+i)/t}class mr{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create size with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let i=3;i<this.length();++i)t=t||this.moreThanOne(i);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let i=1;for(let a=t;a<e;++a)i*=this.get(a);return i}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}isInBounds(e,t){if(!e)return!1;const i=this.length();if(i!==e.length())return!1;if(t===void 0){t=[];for(let l=0;l<i;++l)t.push(l)}else for(let l=0;l<i;++l)if(t[l]>i-1)throw new Error("Wrong input dir value: "+t[l]);for(let l=0;l<t.length;++l)if(a=e.get(t[l]),o=this.get(t[l]),!(a>=0&&a<o))return!1;var a,o;return!0}indexToOffset(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let i=0;for(let a=t;a<this.length();++a){const o=this.get(a),l=e.get(a);if(l>=o||l<0)return-1;i+=l*this.getDimSize(a,t)}return i}offsetToIndex(e){const t=new Array(this.length());let i=e,a=0;for(let o=this.length()-1;o>0;--o)a=this.getDimSize(o),t[o]=Math.floor(i/a),i-=t[o]*a;return t[0]=i,new gt(t)}get2D(){return{x:this.get(0),y:this.get(1)}}}class Jr{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create spacing with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}function bO(n,e){if(e===void 0){e=[];for(let i=0;i<n.length;++i)e.push(i)}for(let i=0;i<e.length;++i)if(e[i]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let i=0;i<e.length;++i)i!==0&&(t+="_"),t+="#"+e[i]+"-"+n[e[i]];return t}function j4(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&Y4(n.slice().sort(),e.slice().sort())}function Y4(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every(function(t,i){return t===e[i]})}function U5(n){return String.fromCharCode.apply(String,n)}function c0(n,e,t,i){(t===void 0||t<0||t>=n.length)&&(t=0),(i===void 0||i<=t||i>n.length)&&(i=n.length);for(let a=t;a<i;++a)if(e(n[a],a,n))return a}function N5(n){return function(e,t,i){for(let a=0;a<n.length;++a)if(i[t+a]!==n[a])return!1;return!0}}const L0={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},CO={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},DO={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function TO(n){return DO[n]!==void 0}const wO={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function xO(n){return wO[n]!==void 0}const q5={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},B5={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},j0="1.2.840.10008.1.2",ng="1.2.840.10008.1.2.1",Y0="1.2.840.10008.1.2.2";class xc{#e;#t;constructor(e,t){if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);this.#e=e,this.#t=t}getGroup(){return this.#e}getElement(){return this.#t}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&this.#e===e.getGroup()&&this.#t===e.getElement()}getKey(){return this.#e+this.#t}getGroupName(){return CO[this.#e]}isWithVR(){return!(this.#e==="FFFE"&&(this.#t==="E000"||this.#t==="E00D"||this.#t==="E0DD"))}isPrivate(){return parseInt(this.#e,16)%2==1}#n(){let e;return L0[this.#e]!==void 0&&L0[this.#e][this.#t]!==void 0&&(e=L0[this.#e][this.#t]),e}getVrFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[2]),e}}function X4(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new xc(n.substring(0,4),n.substring(4,8))}function AO(n){return n.getKey()==="FFFEE00D"}function G5(n){return n.getKey()==="FFFEE0DD"}function V5(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function W4(n){const e=["7FE00010","7FE00009","7FE00008"];let t=!1;for(const i of e)if(n[i]!==void 0){t=!0;break}return t}function PO(n){if(n==null)return null;let e=null,t=null;const i=L0,a=Object.keys(i);let o,l=null,c=!1;for(let d=0,h=a.length;d<h;++d){e=a[d],l=Object.keys(i[e]);for(let f=0,m=l.length;f<m;++f)if(t=l[f],i[e][t][2]===n){c=!0;break}if(c)break}return c&&(o=new xc(e,t)),o}function $4(n){return function(e,t){const i=X4(t);let a=i.getNameFromDictionary();a===void 0&&(a="x"+i.getKey());const o=n[t];for(const c in o)o[c]===void 0&&delete o[c];let l;if(o.vr==="SQ"){l={value:[]};for(let c=0;c<o.value.length;++c){const d=o.value[c];l.value.push(Object.keys(d).reduce($4(d),{}))}}else l=o.value.length===1?o.value[0]:o.value;return e[a]=l,e}}function RO(n){const e=structuredClone(n);return Object.keys(e).reduce($4(e),{})}class Ha{vr;value;tag;vl;undefinedLength;startOffset;endOffset;items;constructor(e){this.vr=e}}function K4(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function kt(n,e){let t;return K4(n[e])&&(t=n[e].value[0]),t}function _i(n,e){let t;return K4(n[e])&&(t=n[e].value),t}function lr(n,e,t){let i="";if(n===void 0)i+=" "+e+" is undefined,";else if(n.value===void 0)i+=" "+e+" has undefined value,";else if(n.value.length===0)i+=" "+e+" is empty,";else if(t!==void 0)for(let a=0;a<t.length;++a)n.value.includes(t[a])||(i+=" "+e+" does not contain "+t[a]+" (value: "+n.value+"),");return i}function Xr(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),i=n.BYTES_PER_ELEMENT;let a;for(let o=0;o<e;o+=i)for(let l=o+i-1,c=o;l>c;l--,c++)a=t[c],t[c]=t[l],t[l]=a}class m1{#e;#t=!0;#n=function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}();#r;#i;constructor(e,t){this.#e=e,t!==void 0&&(this.#t=t),this.#r=this.#t!==this.#n,this.#i=new DataView(e)}readUint16(e){return this.#i.getUint16(e,this.#t)}readInt16(e){return this.#i.getInt16(e,this.#t)}readUint32(e){return this.#i.getUint32(e,this.#t)}readBigUint64(e){return this.#i.getBigUint64(e,this.#t)}readInt32(e){return this.#i.getInt32(e,this.#t)}readBigInt64(e){return this.#i.getBigInt64(e,this.#t)}readFloat32(e){return this.#i.getFloat32(e,this.#t)}readFloat64(e){return this.#i.getFloat64(e,this.#t)}readBinaryArray(e,t,i){const a=new Uint8Array(this.#e,e,t);let o;o=i!==void 0?i:8*a.length;const l=new Uint8Array(o);let c=0,d=0;for(let h=0;h<o;++h)c=h%8,d=Math.floor(h/8),l[h]=255*!!(a[d]&1<<c);return l}readUint8Array(e,t){return new Uint8Array(this.#e,e,t)}readInt8Array(e,t){return new Int8Array(this.#e,e,t)}readUint16Array(e,t){const i=Uint16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint16Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Uint16Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readUint16(l),l+=i}return o}readInt16Array(e,t){const i=Int16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int16Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Int16Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readInt16(l),l+=i}return o}readUint32Array(e,t){const i=Uint32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint32Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Uint32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readUint32(l),l+=i}return o}readUint64Array(e,t){const i=BigUint64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigUint64Array(this.#e,e,a),this.#r&&Xr(o);else{o=new BigUint64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readBigUint64(l),l+=i}return o}readInt32Array(e,t){const i=Int32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int32Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Int32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readInt32(l),l+=i}return o}readInt64Array(e,t){const i=BigInt64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigInt64Array(this.#e,e,a),this.#r&&Xr(o);else{o=new BigInt64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readBigInt64(l),l+=i}return o}readFloat32Array(e,t){const i=Float32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float32Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Float32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readFloat32(l),l+=i}return o}readFloat64Array(e,t){const i=Float64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float64Array(this.#e,e,a),this.#r&&Xr(o);else{o=new Float64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readFloat64(l),l+=i}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}function OO(){return"0.35.1"}function z5(n){const e=n.split("-");let t=[];for(const i of e)t=t.concat(i.split("."));return t}function Q5(n,e){let t=0;const i=z5(n),a=z5(e);for(let o=0;o<3&&(t=parseInt(i[o],10)-parseInt(a[o],10),t===0);++o);if(t===0){const l=i[4],c=a[4];t=l===void 0&&c===void 0?0:l===void 0&&c!==void 0?1:l!==void 0&&c===void 0?-1:parseInt(l,10)-parseInt(c,10)}return t}const LO=String.fromCharCode("u200B");class IO{decode(e){let t="";for(let i=0,a=e.length;i<a;++i)t+=String.fromCharCode(e[i]);return t}}function H5(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let i=0;i<n.length;i++){const a=e[n.substring(i,i+1)];a&&(t+=a)}return t}function EO(n){return n===j0}function _O(n){return n===Y0}function np(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function ip(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function rp(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function Z4(n){return n==="1.2.840.10008.1.2.5"}function MO(n,e,t){let i=null;try{n===1||n===8?i=e===0?new Uint8Array(t):new Int8Array(t):n===16?i=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(i=e===0?new Uint32Array(t):new Int32Array(t))}catch(a){if(a instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));De.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return i}const j5="00280100",Y5="00280103";class J4{#e={};#t;#n=new IO;#r=this.#n;#i(e){return this.#n.decode(e)}#a(e){return this.#r.decode(e)}getDefaultCharacterSet(){return this.#t}setDefaultCharacterSet(e){this.#t=e}setDecoderCharacterSet(e){this.#r=new TextDecoder(e)}getDicomElements(){return this.#e}safeGet(e){return kt(this.#e,e)}#o(e,t){const i=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const a=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new xc(i,a),endOffset:t}}#s(e,t,i){const a={};let o=this.#d(e,t,i);if(t=o.endOffset,G5(o.tag))return{data:a,endOffset:o.endOffset,isSeqDelim:!0};if(a[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let l=!1;for(;!l;)o=this.#d(e,t,i),t=o.endOffset,l=AO(o.tag),l||(a[o.tag.getKey()]=o)}else{const l=t;for(t-=o.vl;t<l;)o=this.#d(e,t,i),t=o.endOffset,a[o.tag.getKey()]=o}return{data:a,endOffset:t,isSeqDelim:!1}}#l(e,t,i){const a=[];let o=this.#d(e,t,i);const l=o.vl;t=o.endOffset;let c=!1;for(;!c;)o=this.#d(e,t,i),t=o.endOffset,c=G5(o.tag),c||(o.vr="OB",a.push(o));return{data:a,endOffset:t,offsetTableVl:l}}#d(e,t,i,a){const o=this.#o(e,t),l=o.tag;if(a!==void 0&&l.equals(a)){const y=new Ha("");return y.tag=l,y}t=o.endOffset;let c=null,d=!1;l.isWithVR()?i?(c=l.getVrFromDictionary(),c===void 0&&(c="UN"),d=!0):(c=this.#i(e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,d=TO(c),d&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(c="NONE",d=!0),function(y){return Object.keys(q5).concat(["NONE","ox","xx","xs"]).includes(y)}(c)||(De.warn("Unknown VR: "+c+" (for tag "+l.getKey()+"), treating as 'UN'"),c="UN");let h=0;d?(h=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(h=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let f=!1;h===4294967295&&(f=!0,h=0),l.isPrivate()&&c==="UN"&&h===0&&(c="SQ");let m,v=t,p=v+h;if(V5(l)&&f){const y=this.#l(e,t,i);t=y.endOffset,v+=y.offsetTableVl,m=y.data,p=t,h=t-v}else if(c==="SQ"){let y;if(m=[],f){let C=!1;for(;!C;)y=this.#s(e,t,i),C=y.isSeqDelim,t=y.endOffset,C||m.push(y.data);p=t,h=t-v}else if(h!==0){const C=t+h;for(;t<C;)y=this.#s(e,t,i),m.push(y.data),t=y.endOffset;p=t,h=t-v}}const S=new Ha(c);return S.tag=l,S.vl=h,S.startOffset=v,S.endOffset=p,f&&(S.undefinedLength=f),m&&(S.items=m),S}#c(e,t,i){const a=e.tag,o=e.vl,l=e.vr,c=e.startOffset;let d,h;i!==void 0&&(d=i.bitsAllocated,h=i.pixelRepresentation);let f=null;const m=q5[l];if(V5(a))if(e.undefinedLength){f=[];for(let v=0;v<e.items.length;++v)f.push(this.#c(e.items[v],t,i));delete e.items}else if(d>8&&l==="OB"&&(De.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),f=[],d===1)f.push(t.readBinaryArray(c,o,i.imageBufferSize));else if(d===8)h===0?f.push(t.readUint8Array(c,o)):f.push(t.readInt8Array(c,o));else if(d===16)h===0?f.push(t.readUint16Array(c,o)):f.push(t.readInt16Array(c,o));else if(d===32)f.push(t.readFloat32Array(c,o));else{if(d!==64)throw new Error("Unsupported bits allocated: "+d);f.push(t.readFloat64Array(c,o))}else if(m!==void 0)if(m==="Uint8")f=t.readUint8Array(c,o);else if(m==="Uint16")f=t.readUint16Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint32")f=t.readUint32Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint64")f=t.readUint64Array(c,o);else if(m==="Int16")f=Array.from(t.readInt16Array(c,o));else if(m==="Int32")f=Array.from(t.readInt32Array(c,o));else if(m==="Int64")f=t.readInt64Array(c,o);else if(m==="Float32")f=Array.from(t.readFloat32Array(c,o));else if(m==="Float64")f=Array.from(t.readFloat64Array(c,o));else{if(m!=="string")throw new Error("Unknown VR type: "+m);{const v=t.readUint8Array(c,o);f=xO(l)?this.#a(v):this.#i(v),f=function(p){let S=p;const y=p.length-1;return p[y]===LO&&(S=p.substring(0,y)),S=S.trim(),S}(f).split("\\")}}else if(l==="xx")f=Array.from(t.readUint16Array(c,o));else if(l==="ox")f=d===8?h===0?Array.from(t.readUint8Array(c,o)):Array.from(t.readInt8Array(c,o)):h===0?Array.from(t.readUint16Array(c,o)):Array.from(t.readInt16Array(c,o));else if(l==="xs")f=h===0?Array.from(t.readUint16Array(c,o)):Array.from(t.readInt16Array(c,o));else if(l==="AT"){const v=t.readUint16Array(c,o);f=[];for(let p=0,S=v.length;p<S;p+=2){const y=v[p].toString(16),C=v[p+1].toString(16);let w="(";w+="0000".substring(0,4-y.length)+y.toUpperCase(),w+=",",w+="0000".substring(0,4-C.length)+C.toUpperCase(),w+=")",f.push(w)}}else if(l==="SQ"){f=[];for(let v=0;v<e.items.length;++v){const p=e.items[v],S={},y=Object.keys(p);let C=d,w=h;for(let D=0;D<y.length;++D){let b=p[j5];b!==void 0&&b.value!==void 0&&(C=b.value[0]),b=p[Y5],b!==void 0&&b.value!==void 0&&(w=b.value[0]);const x={bitsAllocated:C,pixelRepresentation:w},A=p[y[D]];A.value=this.#c(A,t,x),delete A.tag,delete A.vl,delete A.startOffset,delete A.endOffset,S[y[D]]=A}f.push(S)}delete e.items}else l==="NONE"||De.warn("Unknown VR: "+l+" (for tag "+e.tag.getKey()+")"),f=[];return f}#u(e,t,i){const a=Object.keys(e);for(let o=0;o<a.length;++o){const l=e[a[o]];l.value===void 0&&(l.value=this.#c(l,t,i)),delete l.tag,delete l.vl,delete l.startOffset,delete l.endOffset}}parse(e,t){let i=0,a="",o=null;const l=new m1(e);let c=new m1(e);i=128;const d=this.#i(l.readUint8Array(i,4));if(i+=4*Uint8Array.BYTES_PER_ELEMENT,d==="DICM"){o=this.#d(l,i,!1),o.value=this.#c(o,l),i=o.endOffset,this.#e[o.tag.getKey()]=o;const v=i+o.value[0];for(;i<v;)o=this.#d(l,i,!1),i=o.endOffset,this.#e[o.tag.getKey()]=o;if(o=this.#e["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=this.#c(o,l),a=o.value[0]}else{De.warn("No DICM prefix, trying to guess tansfer syntax."),o=this.#d(c,0,!1);const v=function(p){const S="0008",y=p.tag.getGroup();if(y!=="0800"&&y!==S)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const C=p.vr,w=C.charCodeAt(0),D=C.charCodeAt(1),b=!(w>=65&&w<=90&&D>=65&&D<=90);let x=null;if(y===S)x=b?j0:ng;else{if(b)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");x=Y0}const A=new Ha("UI");return A.tag=new xc("0002","0010"),A.value=[x],A.vl=A.value[0].length,A.startOffset=p.startOffset,A.endOffset=A.startOffset+A.vl,A}(o);this.#e[v.tag.getKey()]=v,a=v.value[0],i=0}if(!function(v){return v===j0||v===ng||v===Y0||np(v)||ip(v)||rp(v)||Z4(v)}(a))throw new Error("Unsupported DICOM transfer syntax: '"+a+"' ("+function(v){let p="Unknown";return B5[v]!==void 0&&(p=B5[v]),p}(a)+")");let h=!1;EO(a)&&(h=!0),_O(a)&&(c=new m1(e,!1));let f,m=!1;for(;i<e.byteLength;){if(o=this.#d(c,i,h,t),t!==void 0&&o.tag.equals(t)){m=!0;break}i=o.endOffset;const v=o.tag.getKey();this.#e[v]===void 0?this.#e[v]=o:De.warn("Not saving duplicate tag: "+v)}if(isNaN(i))throw new Error("Problem while parsing, bad offset");if(m||e.byteLength===i||De.warn("Did not reach the end of the buffer: "+i+" != "+e.byteLength),W4(this.#e)){let v=0;o=this.#e[Y5],o!==void 0?(o.value=this.#c(o,c),v=o.value[0]):De.warn("Reading DICOM pixel data with default pixelRepresentation.");let p=16;o=this.#e[j5],o!==void 0?(o.value=this.#c(o,c),p=o.value[0]):De.warn("Reading DICOM pixel data with default bitsAllocated.");let S,y,C=1;o=this.#e["00280008"],o!==void 0&&(o.value=this.#c(o,c),C=parseInt(o.value[0],10)),f={pixelRepresentation:v,bitsAllocated:p,numberOfFrames:C},o=this.#e["00280010"],o!==void 0&&(o.value=this.#c(o,c),S=parseInt(o.value[0],10)),o=this.#e["00280011"],o!==void 0&&(o.value=this.#c(o,c),y=parseInt(o.value[0],10)),S!==void 0&&y!==void 0&&(f.imageBufferSize=S*y*C)}if(this.#t!==void 0&&this.setDecoderCharacterSet(this.#t),o=this.#e["00080005"],o!==void 0){let v;o.value=this.#c(o,c),o.value.length===1?v=o.value[0]:(v=o.value[1],De.warn("Unsupported character set with code extensions: '"+v+"'.")),this.setDecoderCharacterSet(function(p){let S="utf-8";return p==="ISO_IR 100"?S="iso-8859-1":p==="ISO_IR 101"?S="iso-8859-2":p==="ISO_IR 109"?S="iso-8859-3":p==="ISO_IR 110"?S="iso-8859-4":p==="ISO_IR 144"?S="iso-8859-5":p==="ISO_IR 127"?S="iso-8859-6":p==="ISO_IR 126"?S="iso-8859-7":p==="ISO_IR 138"?S="iso-8859-8":p==="ISO_IR 148"?S="iso-8859-9":p==="ISO_IR 13"?S="shift-jis":p==="ISO_IR 166"?S="iso-8859-11":p==="ISO 2022 IR 87"?S="iso-2022-jp":p==="ISO 2022 IR 149"||p==="ISO 2022 IR 58"||(p==="ISO_IR 192"?S="utf-8":p==="GB18030"?S="gb18030":p==="GB2312"?S="gb2312":p==="GBK"&&(S="chinese")),S}(v))}if(this.#u(this.#e,c,f),o=this.#e["7FE00010"],o!==void 0&&o.undefinedLength){const v=f.numberOfFrames,p=o.value;if(p.length>1&&p.length>v){const S=p.length/v,y=[];let C=0;for(let w=0;w<v;++w){C=w*S;let D=0;for(let A=0;A<S;++A)D+=p[C+A].length;const b=new p[0].constructor(D);let x=0;for(let A=0;A<S;++A)b.set(p[C+A],x),x+=p[C+A].length;y[w]=b}o.value=y}}}}class FO{min;max;mean;stdDev;median;p25;p75;constructor(e,t,i,a){this.min=e,this.max=t,this.mean=i,this.stdDev=a}}function ap(n,e){return function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))}(e)?function(t){const i=ig(t);return t.sort(function(a,o){return a-o}),i.median=S1(t,.5),i.p25=S1(t,.25),i.p75=S1(t,.75),i}(n):ig(n)}function ig(n){let e=n[0],t=e,i=0,a=0,o=0;const l=n.length;for(let f=0;f<l;++f)o=n[f],o<e?e=o:o>t&&(t=o),i+=o,a+=o*o;const c=i/l;let d=a/l-c*c;d<0&&(d=0);const h=Math.sqrt(d);return new FO(e,t,c,h)}function S1(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,i=Math.floor(t),a=n[i];return a+(n[i+1]-a)*(t-i)}class ea{#e;#t;#n;#r={};#i;#a=Td();#o=!1;constructor(e,t,i,a,o){this.#e=e,this.#t=t,this.#n=i,o!==void 0&&(this.#i=o,this.#r[o]=e),a!==void 0&&(this.#a=a)}getInitialTime(){return this.#i}getCurrentTotalNumberOfSlices(){const e=Object.keys(this.#r);if(e.length===0)return this.#e.length;let t=0;for(let i=0;i<e.length;++i)t+=this.#r[e[i]].length;return t}hasSlicesAtTime(e){return this.#r[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(this.#r);if(t.length===0)return;let i=0;for(let a=0;a<t.length;++a){const o=t[a];if(parseInt(o,10)===e)break;i+=this.#r[o].length}return i}getOrigin(){return this.#e[0]}getOrigins(){return this.#e}includesOrigin(e,t){for(let i=0;i<this.#e.length;++i)if(this.#e[i].isSimilar(e,t))return!0;return!1}getSize(e){let t=this.#t;if(e&&e!==void 0){let i=Sc([this.#t.get(0),this.#t.get(1),this.#t.get(2)],e);i=i.map(Math.abs),t=new mr(i.concat(this.#t.getValues().slice(3)))}return t}#s(){const e=function(t){if(t.length<=1)return;const i=[];for(let l=0;l<t.length-1;++l){const c=t[l],d=t[l+1],h=c.getDistance(d);if(h===0)throw new Error("Zero slice spacing "+c.toString()+" "+d.toString());i.push(h)}const a=ig(i),o=Ni(a.mean,4);return a.stdDev>Dd&&De.warn("Varying slice spacing, value: "+o+" (mean: "+a.mean+", min: "+a.min+", max: "+a.max+", stdDev: "+a.stdDev+")"),o}(this.#e);if(e!==void 0){this.#n.get(2)!==1&&this.#n.get(2)!==e&&De.debug("Using geometric spacing "+e+" instead of tag spacing "+this.#n.get(2));const t=this.#n.getValues();t[2]=e,this.#n=new Jr(t)}}getSpacing(e){this.#o&&(this.#s(),this.#o=!1);let t=this.#n;if(e&&e!==void 0){let i=Sc([this.#n.get(0),this.#n.get(1),this.#n.get(2)],e);i=i.map(Math.abs),t=new Jr(i)}return t}getRealSpacing(){return this.getSpacing(this.#a.getInverse().asOneAndZeros())}getOrientation(){return this.#a}getSliceIndex(e,t){let i=this.#e;t!==void 0&&(i=this.#r[t]);const a=e.getClosest(i),o=i[a],l=e.minus(o);return new Bt(this.#a.get(0,2),this.#a.get(1,2),this.#a.get(2,2)).isCodirectional(l)?a+1:a}appendOrigin(e,t,i){const a=function(o){return o.equals(e)};if(i!==void 0){if(this.#r[i].find(a)!==void 0)throw new Error("Cannot append same time origin twice");this.#r[i].splice(t,0,e)}if(i===void 0||i===this.#i){if(this.#e.find(a)!==void 0)throw new Error("Cannot append same origin twice");this.#o=!0,this.#e.splice(t,0,e);const o=this.#t.getValues();o[2]+=1,this.#t=new mr(o)}}appendFrame(e,t){this.#r[t]=[e];const i=this.#t.getValues(),a=this.#n.getValues();i.length===4?i[3]+=1:(i.push(2),a.push(1)),this.#t=new mr(i),this.#n=new Jr(a)}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!==null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const i=new gt(t),a=new gt(this.getSize().getValues());return[this.indexToWorld(i),this.indexToWorld(a)]}indexToWorld(e){const t=this.getSpacing(),i=new Rt(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=e.getValues(),l=this.getOrigin();return o[0]=l.getX()+a.getX(),o[1]=l.getY()+a.getY(),o[2]=l.getZ()+a.getZ(),new yr(o)}pointToWorld(e){const t=this.getSpacing(),i=new Rt(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=this.getOrigin();return new Rt(o.getX()+a.getX(),o.getY()+a.getY(),o.getZ()+a.getZ())}worldToIndex(e){const t=this.getOrigin(),i=new Rt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=Math.floor(Ni(a.getX()/l.get(0),5)),o[1]=Math.floor(Ni(a.getY()/l.get(1),5)),o[2]=Math.floor(Ni(a.getZ()/l.get(2),5)),new gt(o)}worldToPoint(e){const t=this.getOrigin(),i=new Rt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=a.getX()/l.get(0),o[1]=a.getY()/l.get(1),o[2]=a.getZ()/l.get(2),new Rt(o[0],o[1],o[2])}}function Sc(n,e){return e.getInverse().multiplyArray3D(n)}function X5(n,e){return e.multiplyArray3D(n)}const vi={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002"};function rg(n){let e;const t=kt(n,vi.Rows),i=kt(n,vi.Columns);return t!==void 0&&i!==void 0&&(e=[i,t]),e}function e3(n){const e=_i(n,vi.PixelSpacing);if(e===void 0||e.length!==2)return;const t=[parseFloat(e[1]),parseFloat(e[0])],i=kt(n,vi.SpacingBetweenSlices);return i!==void 0&&t.push(parseFloat(i)),new Jr(t)}function W5(n){const e=kt(n,vi.PhotometricInterpretation),t=kt(n,vi.TransferSyntax);if(e!==void 0&&t!==void 0){let i=e.toUpperCase();(rp(t)||np(t)||ip(t))&&!op(i)&&(i="RGB");let a=kt(n,vi.SamplesPerPixel);return a===void 0&&(a=1),i==="RGB"&&a===1&&(i="PALETTE COLOR"),i}}function op(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function yc(n){return("0"+n).slice(-2)}function y1(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,i=6;return e.length===10&&(t=5,i=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===i+2?parseInt(e.substring(i,i+2),10):0}}function u0(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),i=e.length>=4?parseInt(e.substring(2,4),10):0,a=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:i,seconds:a,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function ag(n){return{year:n.getFullYear().toString(),monthIndex:yc((n.getMonth()+1).toString()),day:yc(n.getDate().toString())}}function og(n){return{hours:yc(n.getHours().toString()),minutes:yc(n.getMinutes().toString()),seconds:yc(n.getSeconds().toString())}}function sg(n){return n.year+n.monthIndex+n.day}function lg(n){return n.hours+n.minutes+n.seconds}const $5="00080016",K5="00080060",Z5="00280002",J5="00280100",eb={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};class kO{#e;#t;getWarning(){return this.#e}checkElements(e){if(this.#e=void 0,rg(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!W4(e))throw new Error("No pixel data in DICOM file");const t=kt(e,K5);if(t!==void 0&&t==="PT"){const a=W5(e);if((i=kt(e,$5))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(i)||!op(a))return this.#e;const o=function(l){let c="";const d={};let h;c+=lr(l["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),c+=lr(l["00541102"],"Decay Correction (00541102)",["START"]),c+=lr(l["00541001"],"Units (00541001)",["BQML"]);const f=l["00101030"],m=lr(f," PatientWeight (00101030)");if(m.length===0){const p=parseFloat(f.value[0]);isNaN(p)?c+=" PatientWeight is not a number":h=p}else c+=m;const v=function(p){let S,y="";const C=y1(p["00080021"]);let w,D,b;const x=p["00540016"];if(y+=lr(x,"RadiopharmaceuticalInformationSequence (00540016)"),x!==void 0){x.value.length!==1&&De.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const R="RadionuclideTotalDose (00181074)",N=x.value[0]["00181074"];if(S=lr(N,R),S.length===0){const B=parseFloat(N.value[0]);isNaN(B)?y+=" TotalDose is not a number":w=B}else y+=S;const U="RadionuclideHalfLife (00181075)",L=x.value[0]["00181075"];if(S=lr(L,U),S.length===0){const B=parseFloat(L.value[0]);isNaN(B)?y+=" HalfLife is not a number":D=B}else y+=S;const P=x.value[0]["00181078"];let M,F;if(P===void 0)M=C,F=u0(x.value[0]["00181072"]);else{const B=function(H){if(H===void 0||H.value.length!==1)return;const Q=H.value[0].split("&")[0],G=new Ha("DA");G.value=[Q.substring(0,8)];const z=y1(G),j=new Ha("TM");return j.value=[Q.substring(8)],{date:z,time:Q.length>=9?u0(j):void 0}}(P);M=B.date,F=B.time}F===void 0&&(F={hours:0,minutes:0,seconds:0,milliseconds:0}),b=new Date(M.year,M.monthIndex,M.day,F.hours,F.minutes,F.seconds,F.milliseconds)}const A=u0(p["00080031"]);let I=new Date(C.year,C.monthIndex,C.day,A.hours,A.minutes,A.seconds,A.milliseconds);const k=p["00080022"],E=p["00080032"];if(k!==void 0&&E!==void 0){const R=y1(k),N=u0(E),U=new Date(R.year,R.monthIndex,R.day,N.hours,N.minutes,N.seconds,N.milliseconds);if(I>U){const L="Series date/time is after Aquisition date/time (diff="+(I.getTime()-U.getTime()).toString()+"ms) ";De.debug(L);let P=0;const M="FrameReferenceTime (00541300)",F=p["00541300"];y+=lr(F,M),F!==void 0&&(P=F.value[0]);let B=0;const H="ActualFrameDuration (00181242)",Q=p["00181242"];if(y+=lr(Q,H),Q!==void 0&&(B=Q.value[0]),P>0&&B>0){B/=1e3,P/=1e3;const G=Math.log(2)/D,z=G*B,j=1/G*Math.log(z/(1-Math.exp(-z)))-P;I=new Date(R.year,R.monthIndex,R.day,N.hours,N.minutes,N.seconds+j,N.milliseconds)}}}let _;if(I!==void 0&&b!==void 0&&w!==void 0&&D!==void 0){const R=(I.getTime()-b.getTime())/1e3;_=w*Math.pow(2,-R/D)}return{value:_,warning:y}}(l);return c+=v.warning,c.length!==0?d.warning="Cannot calculate PET SUV:"+c:d.value=1e3*h/v.value,d}(e);this.#t=o.value,this.#e=o.warning}var i;return this.#e}create(e,t,i){const a=function(Q){return kt(e,Q)},o=function(Q){return _i(e,Q)},l=rg(e),c=[l[0],l[1],1],d=a("00280008");if(d!==void 0){const Q=parseInt(d,10);Q>1&&c.push(Q)}const h=new mr(c);let f=[1,1,1];const m=function(Q){let G;const z=["PixelSpacing","ImagerPixelSpacing","NominalScannedPixelSpacing","PixelAspectRatio"];for(const j of z){const $=_i(Q,vi[j]);if($!==void 0&&$.length===2){G=[parseFloat($[1]),parseFloat($[0])];break}}return G}(e);m!==void 0&&(f=[m[0],m[1],1]);const v=new Jr(f),p=o("00200032");let S=new Array(0,0,0);p!==void 0&&(S=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]);const y=function(Q){const G=_i(Q,vi.ImageOrientationPatient);let z;return G!==void 0&&(z=tp(G.map(j=>parseFloat(j)))),z}(e),C=new Rt(S[0],S[1],S[2]),w=void 0,D=new ea([C],h,v,y,w),b=a("00080018");let x=a(Z5);x===void 0&&(x=1);const A=h.getTotalSize()*x;if(A!==t.length){if(De.warn("Badly sized pixel buffer: "+t.length+" != "+A),!(A<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,h.getTotalSize())}const I=new Ka(D,t,[b]),k=W5(e);k!==void 0&&I.setPhotometricInterpretation(k);const E=a("00280006");E!==void 0&&I.setPlanarConfiguration(E);let _=1;const R=a("00281053");if(R!==void 0){const Q=parseFloat(R);isNaN(Q)||(_=Q)}let N=0;const U=a("00281052");if(U!==void 0){const Q=parseFloat(U);isNaN(Q)||(N=Q)}let L=!1,P=1;this.#t!==void 0&&(L=!0,P=this.#t,De.info("Applying PET SUV calibration: "+P),_*=P,N*=P);const M=new ep(_,N);if(I.setRescaleSlopeAndIntercept(M),I.getPhotometricInterpretation()==="PALETTE COLOR"){const Q=function(G){let z;const j=_i(G,"00281101");if(j!==void 0&&j.length===3){let $,ee,J;const se=G["00281201"],Z=G["00281202"],te=G["00281203"];if(j[2]===16){let ce=!1,de=j[0];de===0&&(de=65536);const be=se.vl;if(be!==2*de&&(ce=!0,De.info("16bits lut but size is not double. desc: "+de+" vl: "+be)),parseInt(kt(G,J5),10)===8&&(ce=!0,De.info("Scaling 16bits color lut since bits allocated is 8.")),ce){const Te=function(Me){return Me>>8};$=se.value.map(Te),ee=Z.value.map(Te),J=te.value.map(Te)}}else if(j[2]===8){De.info("Scaling 16bits color lut since the lut descriptor is 8.");let ce=se.value.slice(0);$=Array.from(new Uint8Array(ce.buffer)),ce=Z.value.slice(0),ee=Array.from(new Uint8Array(ce.buffer)),ce=te.value.slice(0),J=Array.from(new Uint8Array(ce.buffer))}z=new Jg($,ee,J)}return z}(e);Q!==void 0&&I.setPaletteColourMap(Q)}const F={numberOfFiles:i};F.TransferSyntaxUID=a("00020010"),F.MediaStorageSOPClassUID=a("00020002"),F.SOPClassUID=a($5),F.Modality=a(K5),F.ImageType=a("00080008"),F.SamplesPerPixel=a(Z5),F.PhotometricInterpretation=a("00280004"),F.PixelRepresentation=a("00280103"),F.BitsAllocated=a(J5),F.BitsStored=a("00280101"),F.HighBit=a("00280102"),F.ImageOrientationPatient=o("00200037");const B=Object.keys(eb);for(const Q of B)F[Q]=a(eb[Q]);if(L)F.pixelUnit="SUV";else{const Q=function(G){return function(z){let j;const $=["RescaleType","Units"];for(const ee of $)if(kt(z,vi[ee])!==void 0)break;if(j===void 0){const ee=kt(z,vi.Modality);ee!==void 0&&ee==="CT"&&(j="HU")}return j}(G)}(e);Q!==void 0&&(F.pixelUnit=Q)}F.lengthUnit=m===void 0?"unit.pixel":"unit.mm";const H=function(Q,G){let z;const j=_i(Q,"00281050"),$=_i(Q,"00281051");if(j!==void 0&&$!==void 0){z={};const ee=_i(Q,"00281055");let J;for(let se=0;se<j.length;++se){const Z=parseFloat(j[se]);let te=parseFloat($[se]);Z&&te&&te!==0&&(J="",ee!==void 0&&(J=ee[se]),J===""&&(J="Default"+se),te*=G,te<1&&(te=1),z[J]={wl:[new Un(Z*G,te)],name:J}),te===0&&De.warn("Zero window width found in DICOM.")}}return z}(e,P);return H!==void 0&&(F.windowPresets=H),F.VOILUTFunction=a("00281056"),I.setMeta(F),I}}let tb=0;function UO(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);tb+=1;const t="."+tb;let i="1.2.826.0.1.3680043.9.7278.1.";const a=29+t.length+e.length,o=Math.min(n.length,64-a);if(o>1){let l="";for(let c=0;c<o;++c)l+=n.charCodeAt(c);i+=l.substring(0,o)}return i+=e+t,i}function Ac(n){const e=Object.keys(n),t={};for(const i of e){const a=PO(i);if(a===void 0)continue;const o=a.getVrFromDictionary();let l,c=!1;const d=n[i];if(o==="SQ"){const f=[];if(d.undefinedLength!==void 0&&(c=d.undefinedLength),Array.isArray(d.value))for(const m of d.value)f.push(Ac(m));else De.debug("Non array simpleTag SQ value");l=f}else l=Array.isArray(d)?d:[d];const h=new Ha(o);h.tag=a,h.value=l,c&&(h.undefinedLength=c),t[a.getKey()]=h}return t}const nb="00080100",ib="00080102",rb="00080119",ab="00080120";class Pc{meaning;value;longValue;urnValue;schemeDesignator;constructor(e){this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function I0(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function Ko(n){const e=new Pc(n["00080104"].value[0]);if(n[nb]!==void 0)e.value=n[nb].value[0];else if(n[rb]!==void 0)e.longValue=n[rb].value[0];else{if(n[ab]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[ab].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[ib]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[ib].value[0]}return e}function ra(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const ob={value:"111017",meaning:"CAD Processing and Findings Summary"},sb={value:"111030",meaning:"Image Region"},lb={value:"111059",meaning:"Single Image Finding"},NO={value:"111099",meaning:"Selected region"},qO={value:"111242",meaning:"All algorithms succeeded; with findings"},cb={value:"112000",meaning:"Chest CAD Report"},ub={value:"112020",meaning:"Response Evaluation"},BO={value:"112021",meaning:"Response Evaluation Method"},GO={value:"112022",meaning:"RECIST"},d0={value:"112039",meaning:"Tracking Identifier"},db={value:"112051",meaning:"Measurement of Response"},v1={value:"112040",meaning:"Tracking Unique Identifier"},hb={value:"112048",meaning:"Current Response"},VO={value:"113076",meaning:"Segmentation"},zO={value:"121055",meaning:"Path"},fb={value:"121106",meaning:"Comment"},QO={value:"121322",meaning:"Source image for image processing operation"},HO={value:"121324",meaning:"Source Image"},h0={value:"122438",meaning:"Reference Points"},f0={value:"125007",meaning:"Measurement Group"},gb={value:"125309",meaning:"Short Label"},b1={value:"126000",meaning:"Imaging Measurement Report"},pb={value:"126010",meaning:"Imaging Measurements"},mb={value:"128773",meaning:"Reference Geometry"},jO={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},YO={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function Xe(n){const e=new Pc(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function X0(n,e){let t,i;return e==="SCT"?t=jO[n]:e==="UCUM"&&(t=YO[n]),t!==void 0&&(i=new Pc(t),i.schemeDesignator=e,i.value=n),i}function Sb(){return X0("718499004","SCT")}const cg={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},ug={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function t3(n){const e=ug[n];let t;return e!==void 0?t=X0(e,"UCUM"):e===void 0&&(t=X0("1","UCUM")),t}const yb="00620005",vb="00620009",bb="0062000C",Cb="0062000D",Db="00620003",Tb="0062000F",wb="00620020";class XO{number;label;algorithmType;algorithmName;displayValue;displayRGBValue;propertyTypeCode;propertyCategoryCode;trackingUid;trackingId;constructor(e,t,i){this.number=e,this.label=t,this.algorithmType=i}}function WO(n){const e=new XO(n["00620004"].value[0],n[yb]?n[yb].value[0]:"n/a",n["00620008"].value[0]);if(n[vb]!==void 0&&(e.algorithmName=n[vb].value[0]),n[bb]!==void 0)e.displayValue=n[bb].value[0];else if(n[Cb]!==void 0){const i=n[Cb].value,a=function(o){return function(l){function c(m){let v=null;return v=m<=.0031308?12.92*m:1.055*Math.pow(m,.416666667)-.055,Math.min(1,Math.max(0,v))}const d=l.x/100,h=l.y/100,f=l.z/100;return{r:Math.round(255*c(3.2406*d-1.5372*h-.4986*f)),g:Math.round(255*c(-.9689*d+1.8758*h+.0415*f)),b:Math.round(255*c(.0557*d-.204*h+1.057*f))}}(function(l){function c(f){let m=null;return m=f>.206896552?Math.pow(f,3):.128418549*f-.017712903,m}const d=V4,h=(l.l+16)/116;return{x:d.x*c(h+l.a/500),y:d.y*c(h),z:d.z*c(h-l.b/200)}}(o))}({l:.001525902*(t={l:i[0],a:i[1],b:i[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=a}else De.warn("No recommended colour for segment, using default"),e.displayRGBValue=function(i){const a=[new Sn(0,0,0),new Sn(255,0,0),new Sn(0,255,0),new Sn(0,0,255),new Sn(255,255,0),new Sn(0,255,255),new Sn(255,0,255),new Sn(255,239,213),new Sn(0,0,205),new Sn(205,133,63),new Sn(210,180,140),new Sn(102,205,170),new Sn(0,0,128),new Sn(0,139,139),new Sn(46,139,87),new Sn(255,228,225)];let o;return o=i<a.length?a[i]:new Sn(255*Math.random(),255*Math.random(),255*Math.random()),o}(e.number);var t;if(n[Db]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=Ko(n[Db].value[0]),n[Tb]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=Ko(n[Tb].value[0]),n[wb]!==void 0&&(e.trackingId=n[wb].value[0],e.trackingUid=n["00620021"].value[0]),e}function $O(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const i=uO(dO(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(i.l),Math.round(i.a),Math.round(i.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[ra(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[ra(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const xb="00089124",Ab="00082112",Pb="00081150",Rb="00081155",Ob="00209116",Lb="00289110";class KO{dimIndex;imagePosPat;derivationImages;refSegmentNumber;imageOrientationPatient;spacing;constructor(e,t,i,a){this.dimIndex=e,this.imagePosPat=t,this.derivationImages=i,this.refSegmentNumber=a}}function ZO(n){const e=[];if(n[xb]!==void 0){const c=n[xb].value;for(let d=0;d<c.length;++d){const h=[];if(c[d][Ab]!==void 0){const f=c[d][Ab].value;for(let m=0;m<f.length;++m){const v={};f[m][Pb]!==void 0&&(v.referencedSOPClassUID=f[m][Pb].value[0]),f[m][Rb]!==void 0&&(v.referencedSOPInstanceUID=f[m][Rb].value[0]),h.push(v)}}e.push({sourceImages:h})}}const t=n["00209111"].value[0]["00209157"].value,i=n["0062000A"].value,a=parseInt(i[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let c=0;c<o.length;++c)o[c]=parseFloat(o[c]);const l=new KO(t,o,e,a);if(n[Ob]!==void 0){const c=n[Ob];if(c.value.length!==0){const d=c.value[0]["00200037"].value;d!==void 0&&(l.imageOrientationPatient=d)}}if(n[Lb]!==void 0){const c=n[Lb];if(c.value.length!==0){const d=e3(c.value[0]);d!==void 0&&(l.spacing=d)}else De.warn("No shared functional group pixel measure sequence items.")}return l}function JO(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=ra(Xe(QO)),i=ra(Xe(VO)),a=[];for(const o of n.derivationImages){const l=[];for(const c of o.sourceImages)l.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:c.referencedSOPClassUID,ReferencedSOPInstanceUID:c.referencedSOPInstanceUID});a.push({DerivationCodeSequence:{value:[i]},SourceImageSequence:{value:l}})}e.DerivationImageSequence={value:a}}return e}const Ib="00209116",Eb="00289110",_b={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function eL(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let i,a=!1;if(i=t.value.length===1?t.value[0]:t.value,Array.isArray(i))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(j4(e.enum[o],i)){a=!0;break}}else a=e.enum.includes(i);if(!a)throw new Error("Unsupported "+e.name+" value: "+i)}function tL(n,e,t){const i=n.getGeometry().getSize().getDimSize(2),a={};for(let o=0;o<i;++o){const l=t+o,c=n.getValueAtOffset(l);for(const d of e){const h=d.number-1;c===d.number&&(a[h]===void 0&&(a[h]=new Uint8Array(i)),a[h][o]=1)}}return a}const n3=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[j0,ng,Y0]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function i3(){const n={};for(const e of n3)n[e.name]=e.enum[0];return n}class dg{#e;getWarning(){return this.#e}checkElements(e){}create(e,t,i){const a=function(J){return kt(e,J)},o=function(J){return _i(e,J)};for(const J of n3)eL(e,J);const l=rg(e),c=new mr([l[0],l[1],1]),d=c.getTotalSize();let h=a("00280008");if(h=h!==void 0?parseInt(h,10):1,h!==t.length/d)throw new Error("Buffer and numberOfFrames meta are not equal "+h+" "+t.length/d);const f=function(J){const se=J["00209221"];if(se===void 0||se.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const Z=se.value[0]["00209164"].value[0],te=[],ce=J["00209222"];if(ce!==void 0){const de=ce.value;if(de.length!==2)throw new Error("Unsupported dimension index sequence length");let be;for(let Te=0;Te<de.length;++Te){const Me=de[Te]["00209164"].value[0];if(Me!==Z)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");be=de[Te]["00209165"].value[0];const q={DimensionOrganizationUID:Me,DimensionIndexPointer:be};de[Te]["00209421"]!==void 0&&(q.DimensionDescriptionLabel=de[Te]["00209421"].value[0]),te.push(q)}if(be!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:Z}]},indices:{value:te}}}(e),m=o("00620002");if(m===void 0)throw new Error("Missing or empty segmentation sequence");const v=[],p=[0],S=[0],y=[0];for(let J=0;J<m.length;++J){const se=WO(m[J]);se.displayRGBValue!==void 0&&(p[se.number]=se.displayRGBValue.r,S[se.number]=se.displayRGBValue.g,y[se.number]=se.displayRGBValue.b),v.push(se)}let C,w,D,b=!1;p.length>1&&(b=!0,C=new Jg(p,S,y));const x=o("52009229");if(x!==void 0){const J=x[0];if(J[Ib]!==void 0){const se=J[Ib];se.value.length!==0?D=se.value[0]["00200037"].value:De.warn("No shared functional group plane orientation sequence items.")}if(J[Eb]!==void 0){const se=J[Eb];se.value.length!==0?w=e3(se.value[0]):De.warn("No shared functional group pixel measure sequence items.")}}const A=function(J,se){return J.some(function(Z){return te=se,ce=Z,JSON.stringify(te)===JSON.stringify(ce);var te,ce})},I=function(J,se){return J.findIndex(function(Z){return se.equals(Z)})},k=o("52009230");if(k===void 0)throw new Error("Missing or empty per frame functional sequence");if(h!==k.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const E=[];for(let J=0;J<k.length;++J)E.push(ZO(k[J]));const _=[];for(let J=0;J<E.length;++J){if(A(_,E[J].imagePosPat)||_.push(E[J].imagePosPat),E[J].imageOrientationPatient!==void 0){if(D===void 0)D=E[J].imageOrientationPatient;else if(!j4(D,E[J].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(E[J].spacing!==void 0){if(w===void 0)w=E[J].spacing;else if(!w.equals(E[J].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(w===void 0)throw new Error("No spacing found for DICOM SEG");if(w.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(D===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const R=tp(D.map(J=>parseFloat(J)));if(R===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");_.sort(function(J){const se=J.getInverse();return function(Z,te){const ce=se.multiplyArray3D(Z),de=se.multiplyArray3D(te);return ce[2]-de[2]}}(R));const N=function(J){return new Rt(J[0],J[1],J[2])},U=[];for(const J of _)U.push(N(J));let L;L=i!==void 0?this.#t(U,c,w,R,i.getGeometry().getOrigins()):this.#n(U,c,w,R);const P=L.getSize().get(2),M=function(J){return function(se){return se.number===J}},F=new t.constructor(d*P);F.fill(0);const B=L.getOrigins();let H,Q,G;for(let J=0;J<E.length;++J){if(H=I(B,N(E[J].imagePosPat)),H===-1)throw new Error("Cannot find frame origin in mask origins");Q=d*J,G=d*H;const se=v.find(M(E[J].refSegmentNumber));for(let Z=0;Z<d;++Z)t[Q+Z]!==0&&(F[G+Z]=b?se.number:se.displayValue)}const z=[];for(let J=0;J<P;++J)z.push(J.toString());const j=new Ka(L,F,z);b&&(j.setPhotometricInterpretation("PALETTE COLOR"),j.setPaletteColourMap(C));const $=i3(),ee=Object.keys(_b);for(const J of ee)$[J]=a(_b[J]);return $.DimensionOrganizationSequence=f.organizations,$.DimensionIndexSequence=f.indices,$.custom={segments:v,frameInfos:E,SOPInstanceUID:a("00080018")},$.lengthUnit=i.getMeta().lengthUnit,$.numberOfFiles=P,j.setMeta($),j}#t(e,t,i,a,o){const l=function(f,m){return f.findIndex(function(v){return m.isSimilar(v,1e-4)})},c=[];c.push(e[0]);let d=l(o,e[0]);if(d===-1)throw new Error("No index for first frame origin");for(let f=1;f<e.length;++f){const m=e[f],v=l(o,m);if(v===-1)throw new Error("No index for frame origin "+f);if(v!==d+1)for(let p=d+1;p<v;++p)c.push(o[p]);c.push(m),d=v}const h=new ea([e[0]],t,i,a);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}#n(e,t,i,a){De.warn("Guessing image geometry for DICOM SEG");const o=new ea([e[0]],t,i,a),l=function(f){let m=f>Dd;return m&&(m=f>.001,m?(m=f>.01,m||De.warn("Using larger+ real world epsilon in SEG pos pat adding")):De.warn("Using larger real world epsilon in SEG pos pat adding")),m},c=[];c.push(e[0]);let d=0;for(let f=1;f<e.length;++f){++d;let m=new gt([0,0,d]),v=o.indexToWorld(m).get3D();const p=e[f];let S=p.getDistance(v);const y=S;for(;l(S);)if(De.debug("Adding intermediate pos pats for DICOM seg at "+v.toString()),c.push(v),++d,m=new gt([0,0,d]),v=o.indexToWorld(m).get3D(),S=p.getDistance(v),S>y)throw new Error("Test distance is increasing when adding intermediate pos pats");c.push(p)}const h=new ea([e[0]],t,i,a);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}toDicom(e,t,i,a){const o=e.getMeta();t===void 0&&(t=o.segments);const l=e.getGeometry(),c=l.getSize();o.Rows=c.get(1),o.Columns=c.get(0);const d=new Date;o.ContentDate=sg(ag(d)),o.ContentTime=lg(og(d)),i!==void 0&&(o.StudyInstanceUID=i.getMeta().StudyInstanceUID);const h=[];for(const A of t)h.push($O(A));var f,m;o.SegmentSequence={value:h},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(m=l.getOrientation(),{ImageOrientationPatient:[m.get(0,0),m.get(1,0),m.get(2,0),m.get(0,1),m.get(1,1),m.get(2,1)]})]},PixelMeasuresSequence:{value:[(f=l.getSpacing(),{SpacingBetweenSlices:f.get(2),PixelSpacing:[f.get(1),f.get(0)]})]}}]};const v=function(A,I){const k=A.getGeometry().getSize(),E=k.getDimSize(2),_={};for(let R=0;R<k.get(2);++R){const N=tL(A,I,R*E),U=Object.keys(N);for(const L of U)_[L]===void 0&&(_[L]={}),_[L][R]=N[L]}return _}(e,t),p=[],S=[],y=[];for(const A of t){const I=A.number,k=I-1;if(v[k]===void 0)continue;const E=Object.keys(v[k]);for(let _=E.length-1;_>=0;--_){const R=Number.parseInt(E[_],10);S.push(v[k][R]);const N=e.getGeometry().getOrigins()[R],U=[N.getX(),N.getY(),N.getZ()],L={dimIndex:[I,E.length-_],imagePosPat:U,refSegmentNumber:I};if(i!==void 0){const P=i.getGeometry().worldToIndex(new yr([N.getX(),N.getY(),N.getZ()]));L.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:i.getImageUid(P),referencedSOPClassUID:i.getMeta().SOPClassUID}]}],y.push({ReferencedSOPInstanceUID:i.getImageUid(P),ReferencedSOPClassUID:i.getMeta().SOPClassUID})}p.push(L)}}o.NumberOfFrames=S.length.toString();const C=[];for(const A of p)C.push(JO(A));if(o.PerFrameFunctionalGroupsSequence={value:C},i!==void 0){const A=[];A.push({ReferencedInstanceSequence:{value:y},SeriesInstanceUID:i.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:A}}a!==void 0&&function(A,I){const k=Object.keys(I);for(const E of k)A[E]!==void 0&&De.debug("Overwritting tag: "+E),A[E]=I[E]}(o,a);const w=Ac(o),D=c.getDimSize(2),b=S.length*D/8,x=new Ha("OB");return x.tag=new xc("7FE0","0010"),x.vl=b,x.value=S,w["7FE00010"]=x,w}}class r3{poolSize;taskQueue;freeThreads;runningThreads;constructor(e){this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new nL(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){this.#e(),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}handleWorkerError=e=>{this.#e(),this.onerror({error:e}),this.onworkend({type:"work-end"})};#e(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}class nL{parentPool;id;runningTask;worker;constructor(e){this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}onmessage=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)};onerror=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.handleWorkerError(e),this.stop()}}class kc{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class iL extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+vn.u(391),vn.b),{name:"labeling.worker",type:"module"})}}class rL{#e=new r3(1);constructor(){this.#e.onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){this.#e.onworkitem=this.ondone;const i=new iL(function(a,o){const l=o.length(),c=Array(l).fill(0);for(let h=0;h<l;h++)c[h]=o.getDimSize(h);const d=Array(l).fill(0);for(let h=0;h<l;h++)d[h]=o.get(h);return{imageBuffer:a,unitVectors:c,sizes:d,totalSize:o.getTotalSize()}}(e,t),{});this.#e.addWorkerTask(i)}ondone(e){}}class Ka{#e;#t;#n;#r=new ep(1,0);#i=null;#a=!0;#o=!0;#s="MONOCHROME2";#l;#d=0;#c;#u={};#h=null;#f=null;#g=null;#m=new $n;#p;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i,this.#p=null,this.#c=this.#t.length/this.#e.getSize().getTotalSize()}getImageUid(e){let t=this.#n[0];return this.#n.length!==1&&e!==void 0&&(t=this.#n[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const i=this.#n.indexOf(e);return i!==-1&&(t=this.getGeometry().getOrigins()[i]),t}includesImageUid(e){return this.#n.includes(e)}containsImageUids(e){return function(t,i){if(t===null||i===null||t===void 0||i===void 0||t.length===0||i.length===0||i.length>t.length)return!1;for(const a of i)if(!t.includes(a))return!1;return!0}(this.#n,e)}getGeometry(){return this.#e}getBuffer(){return this.#t}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return op(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let i=1;return this.#u.numberOfFiles!==void 0&&(i=this.#u.numberOfFiles),t.canScroll(e)||i!==1}#b(){return this.#e.getSize().getTotalSize(2)}getSecondaryOffset(e){return this.#e.getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=this.#r;if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const i=this.getSecondaryOffset(e);this.#i[i]!==void 0?t=this.#i[i]:De.warn("undefined non constant rsi at "+i)}return t}#S(e){return this.#i[e]}setRescaleSlopeAndIntercept(e,t){if(this.#a=this.#a&&e.isID(),this.#o){if(!this.#r.equals(e))if(t===void 0)this.#r=e;else{this.#o=!1,this.#i=[];for(let i=0,a=this.#b();i<a;++i)this.#i.push(this.#r);this.#r=null,this.#i.splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");this.#i.splice(t,0,e)}}isIdentityRSI(){return this.#a}isConstantRSI(){return this.#o}getPhotometricInterpretation(){return this.#s}setPhotometricInterpretation(e){this.#s=e}setPaletteColourMap(e){this.#l=e,this.#C({type:"imagecontentchange"})}getPaletteColourMap(){return this.#l}updatePaletteColourMap(e,t){this.#l.red[e]=t.r,this.#l.green[e]=t.g,this.#l.blue[e]=t.b,this.#C({type:"imagecontentchange"})}getPlanarConfiguration(){return this.#d}setPlanarConfiguration(e){this.#d=e}getNumberOfComponents(){return this.#c}getMeta(){return this.#u}setMeta(e){this.#u=e}getValueAtOffset(e){return this.#t[e]}getOffsets(e){let t;if(typeof e=="number"){if(this.#c!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(this.#c!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const i=[];let a;for(let o=0;o<this.#t.length;o+=this.#c){a=!0;for(let l=0;l<this.#c;++l)if(this.#t[o+l]!==t[l]){a=!1;break}a&&i.push(o)}return i}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let h=0;h<e.length;++h)this.#c===1?t.push([e[h]]):this.#c===3&&t.push([e[h].r,e[h].g,e[h].b]);let i;this.#c===1?i=function(h,f){return h[0]===f[0]}:this.#c===3&&(i=function(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]});const a=function(h){return function(f){return i(f,h)}},o=new Array(e.length);o.fill(!1);const l=t.slice();let c,d;for(let h=0,f=this.#t.length;h<f;h+=this.#c){d=[];for(let m=0;m<l.length;++m){c=!0;for(let v=0;v<this.#c;++v)if(this.#t[h+v]!==l[m][v]){c=!1;break}c&&(o[t.findIndex(a(l[m]))]=!0,d.push(m))}for(let m=0;m<d.length;++m)l.splice(d[m],1);if(l.length===0)break}return o}clone(){const e=this.#t.slice(0),t=new Ka(this.getGeometry(),e,this.#n);if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let i=0;i<this.#b();++i)t.setRescaleSlopeAndIntercept(this.#S(i),i);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setMeta(this.getMeta()),t}#y(e){let t=this.#t;if(this.#t=MO(8*this.#t.BYTES_PER_ELEMENT,this.#u.PixelRepresentation,e),this.#t===null)throw new Error("Cannot reallocate data for image.");this.#t.set(t),t=null}appendSlice(e){if(e===null)throw new Error("Cannot append null slice");const t=e.getGeometry().getSize();let i=this.#e.getSize();if(t.get(2)!==1)throw new Error("Cannot append more than one slice");if(i.get(0)!==t.get(0))throw new Error("Cannot append a slice with different number of columns");if(i.get(1)!==t.get(1))throw new Error("Cannot append a slice with different number of rows");if(!this.#e.getOrientation().isSimilar(e.getGeometry().getOrientation(),Dd))throw new Error("Cannot append a slice with different orientation");if(this.#s!==e.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const D in this.#u)if(D!=="windowPresets"&&D!=="numberOfFiles"&&D!=="custom"&&D!=="ImageOrientationPatient"&&this.#u[D]!==e.getMeta()[D])throw new Error("Cannot append a slice with different "+D+": "+this.#u[D]+" != "+e.getMeta()[D]);const a=e.getDataRange(),o=this.getDataRange();this.#h={min:Math.min(a.min,o.min),max:Math.max(a.max,o.max)};const l=e.getRescaledDataRange(),c=this.getRescaledDataRange();this.#f={min:Math.min(l.min,c.min),max:Math.max(l.max,c.max)};const d=e.getGeometry().getInitialTime();let h=!1;d===void 0||this.#e.hasSlicesAtTime(d)||(this.appendFrame(d,e.getGeometry().getOrigin()),i=this.#e.getSize(),h=!0);const f=function(D,b){const x=b.getInitialTime(),A=[];return A.push(0),A.push(0),A.push(D.getSliceIndex(b.getOrigin(),x)),x!==void 0&&A.push(x),new gt(A)}(this.#e,e.getGeometry()),m=this.#c*i.getDimSize(2);if(this.#u.numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const v=m*this.#u.numberOfFiles;this.#t.length!==v&&this.#y(v);const p=f.get(2);let S=p;d!==void 0&&(S+=this.#e.getCurrentNumberOfSlicesBeforeTime(d));const y=S*m,C=this.#e.getCurrentTotalNumberOfSlices()*m;y<C&&this.#t.set(this.#t.subarray(y,C),y+m),this.#t.set(e.getBuffer(),y),h||this.#e.appendOrigin(e.getGeometry().getOrigin(),p,d),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),S);const w=this.#n.length;if(this.#n.splice(S,0,e.getImageUid()),this.#u.windowPresets!==void 0){const D=this.#u.windowPresets,b=e.getMeta().windowPresets,x=Object.keys(b);let A=null;for(let I=0;I<x.length;++I){A=x[I];const k=b[A],E=D[A];if(E!==void 0){if((E.perslice===void 0||E.perslice===!1)&&!E.wl[0].equals(k.wl[0])){E.perslice=!0;for(let _=0;_<w-1;++_)E.wl.push(E.wl[0])}E.perslice!==void 0&&E.perslice===!0&&D[A].wl.splice(S,0,k.wl[0])}else D[A]=b[A]}}this.#C({type:"imagegeometrychange"})}appendFrameBuffer(e,t){const i=this.#e.getSize(),a=this.#c*i.getDimSize(2);if(this.#u.numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=a*this.#u.numberOfFiles;this.#t.length!==o&&this.#y(o),t>=this.#u.numberOfFiles?De.warn("Ignoring frame at index "+t+" (size: "+this.#u.numberOfFiles+")"):(this.#t.set(e,a*t),this.appendFrame(t,new Rt(0,0,0)))}appendFrame(e,t){this.#e.appendFrame(t,e),this.#C({type:"appendframe"})}getDataRange(){return this.#h||(this.#h=this.calculateDataRange()),this.#h}getRescaledDataRange(){return this.#f||(this.#f=this.calculateRescaledDataRange()),this.#f}getHistogram(){if(!this.#g){const e=this.calculateHistogram();this.#h=e.dataRange,this.#f=e.rescaledDataRange,this.#g=e.histogram}return this.#g}addEventListener(e,t){this.#m.add(e,t)}removeEventListener(e,t){this.#m.remove(e,t)}#C=e=>{this.#m.fireEvent(e)};setAtOffsets(e,t){let i,a;if(typeof t=="number"){if(this.#c!==1)throw new Error("Number of components is not 1 for setting single value.");i=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(this.#c!==3)throw new Error("Number of components is not 3 for setting RGB value.");i=[t.r,t.g,t.b]}for(let o=0,l=e.length;o<l;++o){a=e[o];for(let c=0;c<this.#c;++c)this.#t[a+c]=i[c]}this.#C({type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(e,t){const i=[];for(let a=0;a<e.length;++a){const o=e[a];let l=o[0],c=this.#t[l];const d=[];d.push({index:0,value:c});for(let h=0;h<o.length;++h){l=o[h];const f=this.#t[l];c!==f&&(d.push({index:h,value:f}),c=f),this.#t[l]=t}i.push(d)}return this.#C({type:"imagecontentchange"}),i}setAtOffsetsWithIterator(e,t){const i=Array.isArray(t);for(let a=0;a<e.length;++a){const o=e[a];let l;l=pO(i?t[a]:[{index:0,value:t}],o.length);let c=l.next();for(;!c.done;){const d=o[c.index];this.#t[d]=c.value,c=l.next()}}this.#C({type:"imagecontentchange"})}getValue(e,t,i,a){const o=new gt([e,t,i,a||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(o))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,i,a){a===void 0&&(a=0);let o=this.getValue(e,t,i,a);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const l=new gt([e,t,i,a]);o=this.getRescaleSlopeAndIntercept(l).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const i=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(i).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()>=3&&(o=a.getDimSize(3));for(let l=0;l<o;++l)i=this.getValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),i=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<i?t:i,max:t>i?t:i}}{let e=this.getRescaledValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()===3&&(o=a.getDimSize(3));for(let l=0;l<o;++l)i=this.getRescaledValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let i=this.getValueAtOffset(0),a=i,o=0,l=this.getRescaledValueAtOffset(0),c=l,d=0;for(let v=0,p=e.getTotalSize();v<p;++v)o=this.getValueAtOffset(v),o>a&&(a=o),o<i&&(i=o),d=this.getRescaledValueAtOffset(v),d>c&&(c=d),d<l&&(l=d),t[d]=(t[d]||0)+1;const h={min:i,max:a},f={min:l,max:c},m=[];for(let v=l;v<=c;++v)m.push([v,t[v]||0]);return{dataRange:h,rescaledDataRange:f,histogram:m}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),i=t.getBuffer(),a=this.getGeometry().getSize(),o=a.getDimSize(2)*this.getNumberOfComponents();for(let l=0;l<a.get(2);++l)this.convoluteBuffer(e,i,l*o);return t}convoluteBuffer(e,t,i){const a=this.getGeometry().getSize(),o=a.get(0),l=a.get(1),c=this.getNumberOfComponents();let d=1,h=1;c===3&&(this.getPlanarConfiguration()===0?d=3:h=a.getDimSize(2));const f=[];f[0]=(-o-1)*d,f[1]=-o*d,f[2]=(1-o)*d,f[3]=-d,f[4]=0,f[5]=1*d,f[6]=(o-1)*d,f[7]=o*d,f[8]=(o+1)*d;const m=[];m[0]=f[4],m[1]=f[4],m[2]=f[5],m[3]=f[4],m[4]=f[4],m[5]=f[5],m[6]=f[7],m[7]=f[7],m[8]=f[8];const v=[];v[0]=f[1],v[1]=f[1],v[2]=f[2],v[3]=f[4],v[4]=f[4],v[5]=f[5],v[6]=f[7],v[7]=f[7],v[8]=f[8];const p=[];p[0]=f[1],p[1]=f[1],p[2]=f[2],p[3]=f[4],p[4]=f[4],p[5]=f[5],p[6]=f[4],p[7]=f[4],p[8]=f[5];const S=[];S[0]=f[3],S[1]=f[4],S[2]=f[5],S[3]=f[3],S[4]=f[4],S[5]=f[5],S[6]=f[6],S[7]=f[7],S[8]=f[8];const y=[];y[0]=f[0],y[1]=f[1],y[2]=f[2],y[3]=f[3],y[4]=f[4],y[5]=f[5],y[6]=f[3],y[7]=f[4],y[8]=f[5];const C=[];C[0]=f[3],C[1]=f[4],C[2]=f[4],C[3]=f[3],C[4]=f[4],C[5]=f[4],C[6]=f[6],C[7]=f[7],C[8]=f[7];const w=[];w[0]=f[0],w[1]=f[1],w[2]=f[1],w[3]=f[3],w[4]=f[4],w[5]=f[4],w[6]=f[6],w[7]=f[7],w[8]=f[7];const D=[];D[0]=f[0],D[1]=f[1],D[2]=f[1],D[3]=f[3],D[4]=f[4],D[5]=f[4],D[6]=f[3],D[7]=f[4],D[8]=f[4];let b=i,x=0,A=[];for(let I=0;I<c;++I){b+=I*h;for(let k=0;k<l;++k)for(let E=0;E<o;++E){A=f,E===0&&k===0?A=m:E===0&&k===l-1?A=p:E===o-1&&k===0?A=C:E===o-1&&k===l-1?A=D:E===0&&k!==l-1&&k!==0?A=v:E===o-1&&k!==l-1&&k!==0?A=w:E!==0&&E!==o-1&&k===0?A=S:E!==0&&E!==o-1&&k===l-1&&(A=y),x=0;for(let _=0;_<9;++_)x+=this.getValueAtOffset(b+A[_])*e[_];t[b]=x,b+=d}}}transform(e){const t=this.clone(),i=t.getBuffer();for(let a=0,o=i.length;a<o;++a)i[a]=e(t.getValueAtOffset(a));return t}compose(e,t){const i=this.clone(),a=i.getBuffer();for(let o=0,l=a.length;o<l;++o)a[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return i}recalculateLabels(){if(this.#p===null){this.#p=new rL;const e=this.#e.getSpacing(),t=this.getMeta().lengthUnit;let i=1,a="unit.pixel";t==="unit.mm"&&(i=e.get(0)*e.get(1)*e.get(2)*.001,a="unit.ml"),this.#p.ondone=o=>{const l=o.data.labels;for(const d of l)d.centroid=this.#e.indexToWorld(new gt(d.centroidIndex)),d.volume=d.count*i,d.unit=a;const c=l.sort((d,h)=>h.volume-d.volume).sort((d,h)=>d.id-h.id);this.#C({type:"labelschanged",labels:c})}}this.#p.run(this.#t,this.#e.getSize())}}class a3{#e;#t;#n;#r;#i;constructor(e,t){this.#e=e,this.#t=e.getRealSpacing(),this.#n=e.getOrientation(),this.#r=t,this.#i=function(i,a){let o=i.asOneAndZeros().multiply(a);return i.asOneAndZeros().getAbs().isSimilar(Q4().getAbs())&&(o=o.getAbs()),o}(this.#n,t)}getViewOrientation(){return this.#r}getTargetOrientation(){return this.#i}getOffset3DFromPlaneOffset(e){const t=new Bt(e.x,e.y,0),i=this.getTargetDeOrientedVector3D(t);return new Bt(i.getX()*this.#t.get(0),i.getY()*this.#t.get(1),i.getZ()*this.#t.get(2))}getPlaneOffsetFromOffset3D(e){const t=new Bt(e.x/this.#t.get(0),e.y/this.#t.get(1),e.z/this.#t.get(2)),i=this.getTargetOrientedVector3D(t);return{x:i.getX(),y:i.getY()}}getTargetOrientedVector3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(this.#r!==void 0){const i=X5([e.getX(),e.getY(),e.getZ()],this.#r);t=new Bt(i[0],i[1],i[2])}return t}getImageOrientedPoint3D(e){let t=e;if(this.#r!==void 0){const i=X5([e.getX(),e.getY(),e.getZ()],this.#r);t=new Rt(i[0],i[1],i[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(this.#r!==void 0){const i=Sc([e.getX(),e.getY(),e.getZ()],this.#r);t=new Bt(i[0],i[1],i[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(this.#r!==void 0){const i=Sc([e.getX(),e.getY(),e.getZ()],this.#r);t=new Rt(i[0],i[1],i[2])}return t}getPositionFromPlanePoint(e,t){const i=new Rt(e.getX(),e.getY(),t),a=this.getImageOrientedPoint3D(i);return this.#e.pointToWorld(a)}getPlanePointFromPosition(e){const t=this.#e.worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=this.#i).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),i=this.indexToWorld(t),a=this.getPlanePointFromPosition(i),o=this.getPositionFromPlanePoint(new xe(0,0),a.getZ()),l=this.#e.getOrigins(),c=l[o.getClosest(l)],d=o.getValues(),h=c.getValues(),f=this.getNativeScrollDimIndex();d[f]=h[f];const m=this.getCosines();return[new Rt(d[0],d[1],d[2]),new Rt(m[0],m[1],m[2]),new Rt(m[3],m[4],m[5])]}worldToIndex(e){return this.#e.worldToIndex(e)}indexToWorld(e){return this.#e.indexToWorld(e)}isAquisitionOrientation(){return H0(this.#r)}getTargetOrientedPositiveXYZ(e){const t=Sc([e.x,e.y,e.z],this.#i);return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=this.#r!==void 0?this.#r.getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=this.#n!==void 0?this.#n.getThirdColMajorDirection():2,e}}class aL{#e;constructor(e){this.#e=e}getCurrentPosition(){return this.#e.getCurrentPosition()}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=this.#e.setCurrentPosition(e,t)),i}}class Mb{#e;#t;#n;constructor(e){this.#e=new aL(e),this.#t=e.getImage().getGeometry(),this.#n=e.getScrollDimIndex()}getGeometry(){return this.#t}getScrollDimIndex(){return this.#n}getMaximumDimValue(e){return this.#t.getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(this.#n)}getCurrentPosition(){return this.#e.getCurrentPosition()}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(this.#n)}getCurrentPositionAtDimValue(e,t){const i=this.getCurrentIndex().getValues();return i[e]=t,this.#t.indexToWorld(new gt(i))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(this.#n,e)}getCurrentIndex(){return this.#t.worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=this.#e.setCurrentPosition(e,t)),i}setCurrentPositionSafe(e,t){let i=!1;return this.isPositionInBounds(e)&&(i=this.setCurrentPosition(e,t)),i}merge(e){if(this.#n!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");this.#t=function(t,i){const a=t.getOrientation();if(!a.isSimilar(i.getOrientation()))throw new Error("Cannot merge geometries with different orientation");const o=a.getInverse(),l=function(D,b){return D.map((x,A)=>Math.min(x,b[A]))},c=new Jr(l(t.getSpacing().getValues(),i.getSpacing().getValues())),d=function(D){return o.multiplyPoint3D(D.get3D())},h=t.getRange().map(d),f=i.getRange().map(d),m=l(h[0].getValues(),f[0].getValues()),v=(p=h[1].getValues(),S=f[1].getValues(),p.map((D,b)=>Math.max(D,S[b])));var p,S;const y=[];for(let D=0;D<m.length;++D)y.push(Math.round(Math.abs(v[D]-m[D])/c.get(D)));const C=new mr(y),w=[];for(let D=0;D<C.get(2);++D){const b=m.slice();b[2]=m[2]+D*c.get(2);const x=new Rt(b[0],b[1],b[2]);w.push(a.multiplyPoint3D(x))}return new ea(w,C,c,a)}(this.#t,e.getGeometry())}isPositionInBounds(e){const t=this.#t.worldToIndex(e),i=[this.#n];return t.length()===4&&i.push(3),this.#t.isIndexInBounds(t,i)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return this.#t.indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return this.#t.indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(this.#n)}decrementPositionAlongScroll(){return this.decrementPosition(this.#n)}}class oL{#e;#t;#n;#r;#i=!1;constructor(e){if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");this.#e=e,this.#t=new a3(e.getImage().getGeometry(),e.getOrientation()),this.#n=new Mb(e),e.getImage().getMeta().Modality==="SEG"&&(this.#i=!0)}getPlaneHelper(){return this.#t}isMask(){return this.#i}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new xe(0,0)))}getModality(){return this.#e.getImage().getMeta().Modality}getSopClassUid(){return this.#e.getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return this.#e.getWindowPresetsNames()}addWindowLevelPresets(e){return this.#e.addWindowPresets(e)}setWindowLevelPreset(e){this.#e.setWindowLevelPreset(e)}setWindowLevelPresetById(e){this.#e.setWindowLevelPresetById(e)}isPlaying(){return this.#r!==void 0}getPositionHelper(){return this.#n}getPositionHelperClone(){return new Mb(this.#e)}getCurrentPosition(){return this.#n.getCurrentPosition()}getCurrentIndex(){return this.#n.getCurrentIndex()}getCurrentImageUid(){return this.#e.getCurrentImageUid()}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(this.#e.getOrientation()!==void 0){const t=this.#t.getImageDeOrientedVector3D(new Bt(e.get(0),e.get(1),e.get(2)));e=new gt([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return this.#e.getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(this.#e.getScrollDimIndex())}getOrigin(e){return this.#e.getOrigin(e)}isAquisitionOrientation(){return this.#e.isAquisitionOrientation()}getPlanePoints(e){return this.#t.getPlanePoints(e)}getCurrentScrollPosition(){const e=this.#e.getScrollDimIndex();return this.#e.getCurrentPosition().get(e)}generateImageData(e,t){this.#e.generateImageData(e,t)}setImage(e){this.#e.setImage(e)}get2DSpacing(){return this.#e.getImage().getGeometry().getSpacing(this.#e.getOrientation()).get2D()}getRescaledImageValue(e){const t=this.#e.getImage();if(!t.canQuantify())return;const i=t.getGeometry(),a=i.worldToIndex(e);let o;return i.isIndexInBounds(a)&&(o=t.getRescaledValueAtIndex(a)),o}getPixelUnit(){return this.#e.getImage().getMeta().pixelUnit}getLengthUnit(){return this.#e.getImage().getMeta().lengthUnit}#a(e,t,i,a){const o=g1(z4(e,t,i,a)),l=e.getGeometry().getSize(a).getValues();l[2]=1;const c=new mr(l),d=e.getGeometry().getSpacing(a).getValues();d[2]=1;const h=new Jr(d),f=new Rt(0,0,0),m=new ea([f],c,h);return new Ka(m,o)}getImageRegionValues(e,t,i){let a=this.#e.getImage();const o=this.#e.getOrientation();let l=i,c=!0;H0(o)||(a=this.#a(a,l,c,o),l=new gt([0,0,0]),c=!1);const d=function(f,m,v,p,S){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());v===void 0&&(v=!1);let y=null;y=v?function(x){return f.getRescaledValueAtOffset(x)}:function(x){return f.getValueAtOffset(x)};const C=f.getGeometry().getSize();p===void 0&&(p=new xe(0,0)),S===void 0&&(S=new xe(C.get(0)-1,C.get(1)));const w=C.indexToOffset(m.getWithNew2D(p.getX(),p.getY())),D=C.indexToOffset(m.getWithNew2D(S.getX(),S.getY()-1)),b=Math.max(1,S.getX()-p.getX());return function(x,A,I,k,E,_){let R=A,N=0;return{next:function(){if(R<I){const U={value:x(R),done:!1,index:R};return N+=1,R+=1,N===E&&(N=0,R+=_),U}return{done:!0,index:I}}}}(y,w,D+1,0,b,C.get(0)-b)}(a,l,c,e,t);let h=[];return d&&(h=g1(d)),h}getImageVariableRegionValues(e,t){let i=this.#e.getImage();const a=this.#e.getOrientation();let o=t,l=!0;H0(a)||(i=this.#a(i,o,l,a),o=new gt([0,0,0]),l=!1);const c=function(h,f,m,v){if(h.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+h.getNumberOfComponents());m===void 0&&(m=!1);let p=null;p=m?function(x){return h.getRescaledValueAtOffset(x)}:function(x){return h.getValueAtOffset(x)};const S=h.getGeometry().getSize(),y=[];let C,w=null,D=null,b=null;for(let x=0;x<v.length;++x){C=v[x];const A=C[1][0]-C[0][0];A!==0&&(b=x,w||(w=C[0]),y.push([C[0][0],A,S.get(0)-C[1][0]]))}if(b!==null&&(D=v[b][1]),y.length!==0)return function(x,A,I,k,E){let _=A,R=0,N=0;return{next:function(){if(_<I){const U={value:x(_),done:!1,index:_};return N+=1,_+=1,N===E[R][1]&&(N=0,_+=E[R][2],R+=1,R<E.length&&(_+=E[R][0])),U}return{done:!0,index:I}}}}(p,S.indexToOffset(f.getWithNew2D(w[0],w[1])),S.indexToOffset(f.getWithNew2D(D[0],D[1]))+1,0,y)}(i,o,l,e);let d=[];return c&&(d=g1(c)),d}canQuantifyImage(){return this.#e.getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return this.#e.getImage().isMonochrome()}canScroll(){return this.#e.getImage().canScroll(this.#e.getOrientation())}getImageSize(){return this.#e.getImage().getGeometry().getSize(this.#e.getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=this.#e.getImage().getGeometry(),t=e.getSize(this.#e.getOrientation()).get2D(),i=e.getSpacing(this.#e.getOrientation()).get2D();return{x:t.x*i.x,y:t.y*i.y}}getImageRescaledDataRange(){return this.#e.getImage().getRescaledDataRange()}equalImageMeta(e){const t=this.#e.getImage().getMeta(),i=Object.keys(e);for(let a=0;a<i.length;++a){const o=i[a];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return this.#e.isPositionInBounds(e)}setCurrentPosition(e,t){return this.#e.setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const i=new Rt(e.getX(),e.getY(),t),a=this.#t.getImageOrientedPoint3D(i),o=this.#e.getImage().getGeometry().pointToWorld(a);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=this.#e.getImage().getGeometry().worldToPoint(e),i=this.#t.getImageDeOrientedPoint3D(t);return new xe(i.getX(),i.getY())}getIndexFromPosition(e){return this.#e.getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return this.#e.setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),i=new Rt(e.getX(),e.getY(),t),a=this.#t.getTargetDeOrientedPoint3D(i),o=this.#e.getImage().getGeometry().getRealSpacing();return new Rt(a.getX()*o.get(0),a.getY()*o.get(1),a.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return this.#t.getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(this.#r===void 0){const e=this.#e.getImage(),t=e.getMeta().RecommendedDisplayFrameRate,i=this.#e.getPlaybackMilliseconds(t),a=e.getGeometry().getSize().canScroll3D();this.#r=window.setInterval(()=>{let o=!1;if(o=a?this.#n.incrementPositionAlongScroll():this.#n.incrementPosition(3),!o){const l=this.getCurrentIndex().getValues(),c=this.#e.getOrientation();a?l[c.getThirdColMajorDirection()]=0:l[3]=0;const d=new gt(l),h=this.#e.getImage().getGeometry();this.setCurrentPosition(h.indexToWorld(d))}},i)}else this.stop()}stop(){this.#r!==void 0&&(clearInterval(this.#r),this.#r=void 0)}getWindowLevel(){return this.#e.getWindowLevel()}getCurrentWindowPresetName(){return this.#e.getCurrentWindowPresetName()}setWindowLevel(e){this.#e.setWindowLevel(e)}getColourMap(){return this.#e.getColourMap()}setColourMap(e){this.#e.setColourMap(e)}setViewAlphaFunction(e){this.#e.setAlphaFunction(e)}bindImageAndLayer(e){const t=this.#e.getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange)}unbindImageAndLayer(e){const t=this.#e.getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange)}}const os=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function Fb(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let a=n[0].target.offsetParent;for(;a;)isNaN(a.offsetLeft)||(e+=a.offsetLeft),isNaN(a.offsetTop)||(t+=a.offsetTop),a=a.offsetParent}else De.debug("No touch target offset parent.");const i=[];for(let a=0;a<n.length;++a)i.push(new xe(n[a].pageX-e,n[a].pageY-t));return i}function Mn(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=Fb(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=Fb(n.changedTouches)),e}function nn(n){return new xe(n.offsetX,n.offsetY)}function kb(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const i=document.createElement("canvas");i.width=1,i.height=1;const a=t.getContext("2d"),o=i.getContext("2d");return a&&(a.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}class Tn{#e;#t=null;#n=null;#r=null;#i=null;#a=!0;#o=null;#s;#l;#d=1;#c={x:1,y:1};#u={x:1,y:1};#h={x:1,y:1,z:1};#f={x:0,y:0};#g={x:0,y:0};#m={x:0,y:0};#p={x:0,y:0};#b={x:0,y:0};#S={x:0,y:0};#y=null;#C;#v=new $n;#w=!1;#D;#T;constructor(e){this.#e=e,this.#e.className+=" viewLayer"}getDataId(){return this.#C}getScale(){return this.#c}getAbsoluteZoomOffset(){return{x:this.#p.x*this.#u.x,y:this.#p.y*this.#u.y}}setImageSmoothing(e){this.#w=e}setView(e,t){this.#C=t,e.addEventListener("wlchange",this.#O),e.addEventListener("colourmapchange",this.#P),e.addEventListener("positionchange",this.#L),e.addEventListener("alphafuncchange",this.#I);for(let i=0;i<as.length;++i)e.addEventListener(as[i],this.#x);this.#t=new oL(e),this.bindImage()}getViewController(){return this.#t}getImageData(){return this.#o}onimageset=e=>{this.#C===e.dataid&&(this.#t.setImage(e.value[0]),this.#A(this.#t.getImageSize().get2D()),this.#y=!0)};bindImage(){this.#t&&this.#t.bindImageAndLayer(this)}unbindImage(){this.#t&&this.#t.unbindImageAndLayer(this)}onimagecontentchange=e=>{this.#C===e.dataid&&(this.#a=this.#t.isPositionInBounds(),this.#y=!0,this.draw())};onimagegeometrychange=e=>{if(this.#C===e.dataid){const t=this.#t.getImageSize().get2D();if(this.#s.x!==t.x||this.#s.y!==t.y){if(this.#D!==void 0&&this.#T!==void 0){const i=this.#t.getOrigin(),a=this.#T.minus(i),o=this.#t.getOrigin(this.#t.getCurrentPosition()),l=this.#D.minus(o);this.setBaseOffset(a,l)}this.#A(t),this.#y=!0,this.draw()}}};getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#s}getImageWorldSize(){return this.#t.getImageWorldSize()}getOpacity(){return this.#d}setOpacity(e){if(e===this.#d)return;this.#d=Math.min(Math.max(e,0),1);const t={type:"opacitychange",value:[this.#d]};this.#x(t)}addFlipOffsetX(){this.#S.x+=this.#n.width/this.#c.x,this.#f.x+=this.#S.x}addFlipOffsetY(){this.#S.y+=this.#n.height/this.#c.y,this.#f.y+=this.#S.y}flipScaleX(){this.#h.x*=-1}flipScaleY(){this.#h.y*=-1}flipScaleZ(){this.#h.z*=-1}setScale(e,t){const i=this.#t.getPlaneHelper(),a=i.getTargetOrientedPositiveXYZ({x:e.x*this.#h.x,y:e.y*this.#h.y,z:e.z*this.#h.z}),o={x:this.#u.x*a.x,y:this.#u.y*a.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:this.#f.x-this.#p.x,y:this.#f.y-this.#p.y};this.#p={x:0,y:0},this.#f=l}else if(t!==void 0){let l=i.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#g.x,y:l.y+this.#g.y};const c=l3(this.#f,this.#c,o,l),d={x:this.#p.x+c.x-this.#f.x,y:this.#p.y+c.y-this.#f.y};this.#p=d,this.#f=c}this.#c=o}initScale(e,t){const i=this.#t.getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*this.#h.x,y:e.y*this.#h.y,z:e.z*this.#h.z}),a={x:this.#u.x*i.x,y:this.#u.y*i.y};this.#c=a,this.#p={x:t.x/this.#u.x,y:t.y/this.#u.y},this.#f={x:this.#f.x+this.#p.x,y:this.#f.y+this.#p.y}}setBaseOffset(e,t,i,a){const o=this.#t.getPlaneHelper(),l=o.getNativeScrollDimIndex(),c=o.getPlaneOffsetFromOffset3D({x:l===0?e.getX():t.getX(),y:l===1?e.getY():t.getY(),z:l===2?e.getZ():t.getZ()}),d=this.#g.x!==c.x||this.#g.y!==c.y;return i!==void 0&&a!==void 0&&(this.#D=i,this.#T=a),d&&(this.#f={x:this.#f.x-this.#g.x+c.x,y:this.#f.y-this.#g.y+c.y},this.#g=c),d}setOffset(e){const t=this.#t.getPlaneHelper().getPlaneOffsetFromOffset3D(e);this.#f={x:this.#f.x-this.#b.x+t.x,y:this.#f.y-this.#b.y+t.y},this.#b=t}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new gt([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new xe(e.getX()/this.#c.x,e.getY()/this.#c.y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new xe(t.getX()+this.#f.x,t.getY()+this.#f.y)}planePosToDisplay(e){let t=(e.getX()-this.#f.x+this.#g.x)*this.#c.x,i=(e.getY()-this.#f.y+this.#g.y)*this.#c.y;return(t<0||t>=this.#n.width)&&(t=void 0),(i<0||i>=this.#n.height)&&(i=void 0),new xe(t,i)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new xe(t.getX()-this.#g.x,t.getY()-this.#g.y)}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){if(!this.#a)return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};this.#x(e),this.#y&&this.#R(),this.#i.globalAlpha=this.#d,this.clear(),this.#i.setTransform(this.#c.x,0,0,this.#c.y,-1*this.#f.x*this.#c.x,-1*this.#f.y*this.#c.y),this.#i.imageSmoothingEnabled=this.#w,this.#i.drawImage(this.#r,0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},this.#x(e)}initialise(e,t,i){this.#l=t,this.#d=Math.min(Math.max(i,0),1),this.#n=document.createElement("canvas"),this.#e.appendChild(this.#n),this.#n.getContext?(this.#i=this.#n.getContext("2d"),this.#i?(this.#r=document.createElement("canvas"),this.#A(e),this.#y=!0):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}#A(e){if(!kb(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);this.#s=e,this.#r.width=this.#s.x,this.#r.height=this.#s.y,this.#i.clearRect(0,0,this.#s.x,this.#s.y),this.#o=this.#i.createImageData(this.#s.x,this.#s.y)}fitToContainer(e,t,i){let a=!1;const o={x:t*this.#l.x,y:t*this.#l.y},l=o.x/this.#u.x,c=o.y/this.#u.y,d=e.x/(this.#n.width*l),h=e.y/(this.#n.height*c);if(this.#n.width!==e.x||this.#n.height!==e.y){if(!kb(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);this.#n.width=e.x,this.#n.height=e.y,a=!0}const f={x:this.#c.x*l,y:this.#c.y*c};this.#c.x===f.x&&this.#c.y===f.y||(this.#u=o,this.#c=f,a=!0);const m={x:i.x/o.x,y:i.y/o.y},v={x:e.x/o.x,y:e.y/o.y},p={x:this.#S.x!==0?v.x:0,y:this.#S.y!==0?v.y:0};if(this.#m.x!==m.x||this.#m.y!==m.y||this.#S.x!==p.x||this.#S.y!==p.y){const S={x:this.#p.x*d,y:this.#p.y*h};this.#f={x:this.#f.x+m.x-this.#m.x+p.x-this.#S.x+S.x-this.#p.x,y:this.#f.y+m.y-this.#m.y+p.y-this.#S.y+S.y-this.#p.y},this.#S=p,this.#m=m,this.#p=S,a=!0}a&&this.draw()}bindInteraction(){this.#e.style.pointerEvents="auto";const e=os;for(let t=0;t<e.length;++t){const i=e[t],a=i!=="wheel";this.#e.addEventListener(i,this.#x,{passive:a})}}unbindInteraction(){this.#e.style.pointerEvents="none";const e=os;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#x)}addEventListener(e,t){this.#v.add(e,t)}removeEventListener(e,t){this.#v.remove(e,t)}#x=e=>{e.srclayerid=this.getId(),e.dataid=this.#C,this.#v.fireEvent(e)};#R(){this.#t.generateImageData(this.#o),this.#r.getContext("2d").putImageData(this.#o,0,0),this.#y=!1}#O=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};#P=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};#L=e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const i=[0,1,2],a=i.indexOf(this.#t.getScrollDimIndex());i.splice(a,1),e.diffDims.filter(function(o){return i.indexOf(o)===-1}).length===0&&this.#a||(this.#a=!0,this.#y=!0,this.draw())}else this.#a&&(this.#a=!1,this.clear())}};#I=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};setCurrentPosition(e,t){return this.#t.setCurrentPosition(e)}clear(){this.#i.save(),this.#i.setTransform(1,0,0,1,0,0),this.#i.clearRect(0,0,this.#n.width,this.#n.height),this.#i.restore()}}class vc{#e;#t={};#n=new $n;#r;#i;constructor(e){this.#e=e!==void 0?e:[],this.#r=!0}getList(){return this.#e}getLength(){return this.#e.length}isEditable(){return this.#r}setEditable(e){this.#r=e,this.#a({type:"annotationgroupeditablechange",data:e})}getColour(){return this.#i}setColour(e){this.#i=e}add(e){this.#e.push(e),this.#a({type:"annotationadd",data:e})}update(e,t,i){const a=this.#e.findIndex(o=>o.trackingUid===e.trackingUid);a!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),this.#e[a]=e,this.#a({type:"annotationupdate",data:e,keys:t,propagate:i})):De.warn("Cannot find annotation to update")}remove(e){const t=this.#e.findIndex(i=>i.trackingUid===e);if(t!==-1){const i=this.#e.splice(t,1)[0];this.#a({type:"annotationremove",data:i})}else De.warn("Cannot find annotation to remove")}setViewController(e){for(const t of this.#e)t.setViewController(e),t.updateQuantification()}find(e){return this.#e.find(t=>t.trackingUid===e)}getMeta(){return this.#t}hasMeta(e){return this.#t[e]!==void 0}getMetaValue(e){return this.#t[e]}setMetaValue(e,t){this.#t[e]=t}addEventListener(e,t){this.#n.add(e,t)}removeEventListener(e,t){this.#n.remove(e,t)}#a=e=>{this.#n.fireEvent(e)}}var Ub,C1,_e=(Ub={default:function(){return ZR}},C1={},vn.d(C1,Ub),C1);class E0{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getName(){return"AddAnnotation-"+this.#e.trackingUid}execute(){this.#t.addAnnotation(this.#e)}undo(){this.#t.removeAnnotation(this.#e.trackingUid)}}class sp{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getName(){return"RemoveAnnotation-"+this.#e.trackingUid}execute(){this.#t.removeAnnotation(this.#e.trackingUid)}undo(){this.#t.addAnnotation(this.#e)}}class ja{#e;#t;#n;#r;constructor(e,t,i,a){this.#e=e,this.#t=a,this.#n=t,this.#r=i}getName(){return"UpdateAnnotation-"+this.#e.trackingUid}execute(){const e=Object.keys(this.#r);for(const t of e)this.#e[t]=this.#r[t];this.#t.updateAnnotation(this.#e,e)}undo(){const e=Object.keys(this.#n);for(const t of e)this.#e[t]=this.#n[t];this.#t.updateAnnotation(this.#e,e)}}class sL{#e;getAnnotation(e){return this.#e.find(e)}getAnnotationGroup(){return this.#e}isAnnotationGroupEditable(){return this.#e.isEditable()}setAnnotationGroupEditable(e){this.#e.setEditable(e)}addAnnotation(e){this.#e.add(e)}updateAnnotation(e,t,i){this.#e.update(e,t,i)}removeAnnotation(e){this.#e.remove(e)}removeAnnotationWithCommand(e,t){const i=this.getAnnotation(e);if(i===void 0)return void De.warn("Cannot create remove command for undefined annotation: "+e);const a=new sp(i,this);t(a),a.execute()}updateAnnotationWithCommand(e,t,i,a){const o=this.getAnnotation(e);if(o===void 0)return void De.warn("Cannot create update command for undefined annotation: "+e);const l=new ja(o,t,i,this);a(l),l.execute()}removeAllAnnotationsWithCommand(e){for(const t of this.#e.getList())this.removeAnnotationWithCommand(t.trackingUid,e)}constructor(e){this.#e=e!==void 0?e:new vc}hasAnnotationMeta(e){return this.#e.hasMeta(e)}setAnnotationMeta(e,t){this.#e.setMetaValue(e,t)}}const Ra={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function hg(n){return n.name()==="label"}function ta(n){return n.name()==="shape"}function o3(n){return n.name()==="position-group"}function g0(n){const e=n.getChildren(ta)[0];if(e instanceof _e.default.Line)return e}function ct(n,e){const t=n.getChildren(function(i){return i.id()==="anchor"+e})[0];if(t instanceof _e.default.Ellipse)return t}function D1(n){return function(e){return e.id()===n}}function Oa(n,e,t,i){const a=i.applyZoomScale(6),o={x:Math.abs(a.x),y:Math.abs(a.y)};return new _e.default.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function Nb(n){return parseInt(n.substring(6),10)}class W0{#e=10;#t="Verdana";#n="#fff";#r="#ffff80";#i={x:1,y:1};#a={x:1,y:1};#o=2;#s={x:.25,y:.25};#l=.2;#d=3;getFontFamily(){return this.#t}getFontSize(){return this.#e}getStrokeWidth(){return this.#o}getTextColour(){return this.#n}getLineColour(){return this.#r}setLineColour(e){this.#r=e}setBaseScale(e){this.#i=e}setZoomScale(e){this.#a=e}getBaseScale(){return this.#i}getZoomScale(){return this.#a}scale(e){return e/this.#i.x}applyZoomScale(e){return{x:e/this.#a.x,y:e/this.#a.y}}applyZoomRatio(e){return e*this.#a.x/this.#a.y}getShadowOffset(){return this.#s}getTagOpacity(){return this.#l}getTextPadding(){return this.#d}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return function(e){return .001172549*(t=cO(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t}(this.getLineColour())?"#fff":"#000"}}class Mt{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const i=this.getDeltaX()*e.x,a=this.getDeltaY()*e.y;t=Math.sqrt(i*i+a*a)}return t}getMidpoint(){return new xe((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(e){const t={},i=e.get2DSpacing(),a=this.getWorldLength(i);return a!==null&&(t.length={value:a,unit:e.getLengthUnit()}),t}}function fg(n,e){const t=n.getDeltaX(),i=n.getDeltaY(),a=e.getDeltaX(),o=e.getDeltaY(),l=t*a+i*o,c=t*o-i*a;return 360-(180-180*Math.atan2(c,l)/Math.PI)}function T1(n,e){const t=n.getDeltaX(),i=n.getDeltaY();return t*e.getDeltaX()+i*e.getDeltaY()==0}function Si(n,e,t,i){i===void 0&&(i={x:1,y:1});const a=-i.x*i.x/(i.y*i.y*n.getSlope());return s3(a,e.getY()-a*e.getX(),e,t,i)}function qb(n,e,t,i){const a=s3(n.getSlope(),n.getIntercept(),n.getBegin(),e,i);let o;return o=function(l,c){const d=Math.min(c.getBegin().getX(),c.getEnd().getX()),h=Math.max(c.getBegin().getX(),c.getEnd().getX()),f=Math.min(c.getBegin().getY(),c.getEnd().getY()),m=Math.max(c.getBegin().getY(),c.getEnd().getY());return l.getX()>=d&&l.getX()<=h&&l.getY()>=f&&l.getY()<=m}(a.getBegin(),n)?a.getBegin():a.getEnd(),Si(n,o,t,i)}function s3(n,e,t,i,a){a===void 0&&(a={x:1,y:1});let o=0,l=0,c=0,d=0;if(mc(n,0,Dd))o=t.getX()-i/(2*a.x),l=t.getY(),c=t.getX()+i/(2*a.x),d=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),l=t.getY()-i/(2*a.y),c=t.getX(),d=t.getY()+i/(2*a.y);else{const h=a.x*a.x,f=a.y*a.y,m=i/(2*Math.sqrt(h+f*n*n));o=t.getX()-m,l=n*o+e,c=t.getX()+m,d=n*c+e}return new Mt(new xe(o,l),new xe(c,d))}class Ba{#e;#t;constructor(e,t){this.#e=new xe(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY())),this.#t=new xe(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY()))}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new xe(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new xe(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new xe(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.width={value:this.getWidth()*o.x,unit:l},a.height={value:this.getHeight()*o.y,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound(),h=e.getImageRegionValues(d.min,d.max,t),f=e.getPixelUnit(),m=ap(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}return a}}class bi{#e=[];constructor(e){e!==void 0&&(this.#e=e)}getPoint(e){return this.#e[e]}getPoints(){return this.#e}getLength(){return this.#e.length}addPoint(e){this.#e.push(e)}addPoints(e){this.#e=this.#e.concat(e)}getCentroid(){let e,t=0,i=0,a=0;for(let o=0;o<this.#e.length;++o){const l=this.#e[o];let c;c=o===this.#e.length-1?this.#e[0]:this.#e[o+1];const d=l.getX()*c.getY()-c.getX()*l.getY();t+=d,i+=(l.getX()+c.getX())*d,a+=(l.getY()+c.getY())*d}if(t!==0){const o=1/(3*t);e=new xe(o*i,o*a)}return e}}class Ga{#e;constructor(e){if(e.length>3)throw new Error("Too many points for a protractor");this.#e=e.slice(0,3)}getPoint(e){return this.#e[e]}getLength(){return this.#e.length}getCentroid(){return this.#e[1]}quantify(e,t){const i={};if(this.#e.length===3){let a=fg(new Mt(this.#e[0],this.#e[1]),new Mt(this.#e[1],this.#e[2]));a>180&&(a=360-a),i.angle={value:a,unit:"unit.degree"}}return i}}class Va{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getCenter(){return this.#e}getCentroid(){return this.#e}getA(){return this.#t}getB(){return this.#n}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getA(),a=this.getB(),o=i/a,l=Math.pow(a,2),c=t+a,d=[];for(let h=t-a;h<c;++h){const f=l-Math.pow(h-t,2);if(Math.abs(f)<1e-7)continue;const m=o*Math.sqrt(f);m<.5||d.push([[Math.round(e-m),Math.round(h)],[Math.round(e+m),Math.round(h)]])}return d}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.a={value:this.getA()*o.x,unit:l},a.b={value:this.getB()*o.y,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=ap(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}}return a}}function lL(n,e,t){const i=n.getValues(),a=i.slice(),o=[],l=e[0],c=e[1],d=l/c,h=Math.pow(c,2),f=t[0],m=t[1];for(let v=0;v<c;++v){const p=Math.round(d*Math.sqrt(h-Math.pow(v,2))),S=i[m]+v,y=i[m]-v;for(let C=0;C<p;++C){const w=i[f]+C,D=i[f]-C;a[f]=w,a[m]=S,o.push(new gt(a.slice())),y!==S&&(a[m]=y,o.push(new gt(a.slice()))),D!==w&&(a[f]=D,a[m]=S,o.push(new gt(a.slice())),y!==S&&(a[m]=y,o.push(new gt(a.slice()))))}}return o}class za{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getCenter(){return this.#e}getCentroid(){return this.#e}getRadius(){return this.#t}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getRadius(),a=Math.pow(i,2),o=t+i,l=[];for(let c=t-i;c<o;++c){const d=a-Math.pow(c-t,2);if(Math.abs(d)<1e-7)continue;const h=Math.sqrt(d);h<.5||l.push([[Math.round(e-h),Math.round(c)],[Math.round(e+h),Math.round(c)]])}return l}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.radius={value:this.getRadius()*o.x,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=ap(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}}return a}}class cL{#e=0;getSum(){return this.#e}add(e){this.#e+=function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60}(e)}clear(){this.#e=0}isTick(){return Math.abs(this.#e)>=1}}class cc{#e;#t=new cL;constructor(e){this.#e=e}wheel(e){this.#t.add(e);const t=this.#t.getSum()>=0;if(!this.#t.isTick())return;this.#t.clear(),e.preventDefault();const i=ft(e),a=this.#e.getLayerGroupByDivId(i.groupDivId),o=a.getPositionHelper();a.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():a.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}class uL{#e;#t;constructor(e,t){this.#e=e,this.#t=t}#n=null;#r=null;#i;#a;#o=!1;setShape(e,t,i){if(this.#r=e,this.#i=t,this.#a=i,this.#r){if(this.#d(),this.#n=i.getFactory(),this.#n===void 0)throw new Error("Could not find a factory to update shape.");this.#c()}}getShape(){return this.#r}getAnnotation(){return this.#a}isActive(){return this.#o}enable(){this.#o=!0,this.#r&&(this.#l(!0),this.#r.getLayer()&&this.#r.getLayer().draw())}disable(){this.#o=!1,this.#r&&(this.#l(!1),this.#r.getLayer()&&this.#r.getLayer().draw())}reset(){this.#r=void 0,this.#i=void 0,this.#a=void 0}resetAnchors(){this.#d(),this.#c(),this.#l(!0)}#s(e){this.#r&&this.#r.getParent()&&this.#r.getParent().find(".anchor").forEach(e)}#l(e){this.#s(function(t){t.visible(e)})}setAnchorsActive(e){let t=null;t=e?i=>{this.#u(i)}:i=>{this.#h(i)},this.#s(t)}#d(){this.#s(function(e){e.remove()})}#c(){if(!this.#r||!this.#r.getLayer())return;const e=this.#r.getParent(),t=this.#n.getAnchors(this.#r,this.#e.getStyle());for(let i=0;i<t.length;++i)this.#u(t[i]),e.add(t[i])}#u(e){let t;e.on("dragstart.edit",i=>{i.cancelBubble=!0,t={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints}}),e.on("dragmove.edit",i=>{const a=i.target;a instanceof _e.default.Shape&&(function(o,l){const c=l.getParent();(function(d,h,f){d.x()<h.getX()?d.x(h.getX()):d.x()>f.getX()&&d.x(f.getX()),d.y()<h.getY()?d.y(h.getY()):d.y()>f.getY()&&d.y(f.getY())})(l,new xe(-c.x(),-c.y()),new xe(o.x-c.x(),o.y-c.y()))}(this.#i.getBaseSize(),a),this.#n.constrainAnchorMove!==void 0&&this.#n.constrainAnchorMove(a),this.#n.updateAnnotationOnAnchorMove(this.#a,a),this.#n.updateShapeGroupOnAnchorMove(this.#a,a,this.#e.getStyle()),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"),i.cancelBubble=!0)}),e.on("dragend.edit",i=>{const a={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints},o=new ja(this.#a,t,a,this.#i.getDrawController());this.#e.addToUndoStack(o),this.#t({type:"annotationupdate",data:this.#a,dataid:this.#i.getDataId(),keys:Object.keys(a)}),t={mathShape:a.mathShape,referencePoints:a.referencePoints},i.cancelBubble=!0}),e.on("mousedown touchstart",i=>{i.target.moveToTop()}),e.on("mouseover.edit",i=>{const a=i.target;a instanceof _e.default.Shape&&(a.stroke("#ddd"),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"))}),e.on("mouseout.edit",i=>{const a=i.target;a instanceof _e.default.Shape&&(a.stroke("#999"),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"))})}#h(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")}}class dL{#e;constructor(){this.createTrashIcon()}createTrashIcon(){this.#e=new _e.default.Group;const e=new _e.default.Line({points:[-10,-10,10,10],stroke:"red"}),t=new _e.default.Line({points:[10,-10,-10,10],stroke:"red"});this.#e.width(20),this.#e.height(20),this.#e.add(e),this.#e.add(t)}activate(e){const t=e.getKonvaStage(),i=t.scale(),a=e.getKonvaLayer(),o={x:1/i.x,y:1/i.y};this.#e.x(t.offset().x+t.width()/(2*i.x)),this.#e.y(t.offset().y+t.height()/(15*i.y)),this.#e.scale(o),a.add(this.#e),a.draw()}changeChildrenColourOnTrashHover(e,t,i){if(this.isOverTrash(e))return this.changeGroupChildrenColour(this.#e,"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(this.#e,"red"),this.changeGroupChildrenColour(t,i)}changeGroupChildrenColour(e,t){e.getChildren().forEach(function(i){i instanceof _e.default.Shape&&i.stroke!==void 0&&i.stroke(t)})}remove(){this.#e.remove()}isOverTrash(e){const t=this.#e.width()*Math.abs(this.#e.scaleX())/2,i=this.#e.height()*Math.abs(this.#e.scaleY())/2;return Math.abs(e.x-this.#e.x())<t&&Math.abs(e.y-this.#e.y())<i}}class hL{#e;#t;#n;#r="pointer";#i;#a;#o;constructor(e,t){this.#e=e,this.#o=t,this.#t=new uL(e,t),this.#n=new dL}setEditorShape(e,t){const i=t.getDrawController();e&&e instanceof _e.default.Shape&&e!==this.#t.getShape()&&i.isAnnotationGroupEditable()&&(this.#t.disable(),this.#t.setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),this.#t.enable())}getEditorShapeGroup(){let e;if(!this.#t.isActive()||(e=this.#t.getShape().getParent(),e instanceof _e.default.Group))return e}getEditorAnnotation(){let e;return this.#t.isActive()&&(e=this.#t.getAnnotation()),e}disableAndResetEditor(){this.#t.disable(),this.#t.reset()}#s(e,t){const i=t.getKonvaStage();return{x:i.offset().x+e.x/i.scale().x,y:i.offset().y+e.y/i.scale().y}}storeMouseOverCursor(e){this.#r=e}#l(){this.#i=document.body.style.cursor,document.body.style.cursor=this.#r,this.#a.opacity(.75)}onMouseOutShapeGroup(){this.#i!==void 0&&(document.body.style.cursor=this.#i,this.#i=void 0),this.#a!==void 0&&this.#a.opacity(1)}#d(e){e.on("mouseover",()=>{this.#a=e,this.#l()}),e.on("mouseout",()=>{this.onMouseOutShapeGroup(),this.#a=void 0})}#c(e){e.off("mouseover"),e.off("mouseout")}addShapeGroupListeners(e,t,i){this.#d(e),this.#u(e,t,i),this.#h(e,t,i),e.on("dblclick",()=>{const a=t.textExpr;(function(l,c){const d=prompt("Label",l.textExpr);d!==null&&(l.textExpr=d,c(l))})(t,l=>{const c=l.textExpr,d=new ja(l,{textExpr:a},{textExpr:c},i.getDrawController());this.#e.addToUndoStack(d),d.execute()})})}#u(e,t,i){const a=i.getKonvaLayer(),o=e.getChildren(ta)[0];if(!(o instanceof _e.default.Shape))return;let l,c,d,h;o.draggable(!0),o.on("dragstart.draw",f=>{h=o.stroke(),l={x:o.x(),y:o.y()},c={x:f.target.x(),y:f.target.y()},d={mathShape:t.mathShape,referencePoints:t.referencePoints},this.#n.activate(i),this.#t.setAnchorsActive(!1),a.draw()}),o.on("dragmove.draw",f=>{const m=function(b,x){return{min:new xe(0,0),max:new xe(b.x-Math.abs(x.width()),b.y-Math.abs(x.height()))}}(i.getBaseSize(),o);if(m&&!function(b,x,A){const I=b.getClientRect({relativeTo:b.getParent()});return I.x>x.getX()&&I.x<A.getX()&&I.y>x.getY()&&I.y<A.getY()}(o,m.min,m.max))return o.x(c.x),void o.y(c.y);const v={x:f.target.x()-c.x,y:f.target.y()-c.y},p=e.getChildren(),S=t.labelPosition===void 0;for(const b of p)b===f.target||b.name()==="label"&&!S||b.name()==="connector"||b.move(v);c={x:f.target.x(),y:f.target.y()};const y=t.getFactory();if(y===void 0)throw new Error("Cannot follow drag move without factory");y.updateAnnotationOnTranslation(t,v),y.updateLabelContent(t,e,this.#e.getStyle()),y.updateConnector(e);const C=nn(f.evt),w={x:C.getX(),y:C.getY()},D=this.#s(w,i);this.#n.changeChildrenColourOnTrashHover(D,e,h),a.draw()}),o.on("dragend.draw",f=>{if(this.#n.remove(),f===void 0||f.evt===void 0)return;const m=o.x(),v=o.y(),p=nn(f.evt),S={x:p.getX(),y:p.getY()},y=this.#s(S,i);if(this.#n.isOverTrash(y)){e.x(l.x),e.y(l.y),this.#t.disable(),this.#t.reset(),this.#n.changeGroupChildrenColour(e,h),t.mathShape=d.mathShape,t.referencePoints=d.referencePoints;const C=new sp(t,i.getDrawController());this.#e.addToUndoStack(C),C.execute(),this.onMouseOutShapeGroup()}else{const C={x:m-l.x,y:v-l.y};if(C.x!==0||C.y!==0){const w={mathShape:t.mathShape,referencePoints:t.referencePoints},D=new ja(t,d,w,i.getDrawController());this.#e.addToUndoStack(D),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:Object.keys(w)}),d={mathShape:w.mathShape,referencePoints:w.referencePoints}}this.#t.setAnchorsActive(!0),this.#t.resetAnchors()}a.draw(),l={x:o.x(),y:o.y()}})}#h(e,t,i){const a=e.getChildren(hg)[0];if(!(a instanceof _e.default.Label))return;let o,l;a.draggable(!0),a.on("dragstart.draw",()=>{o={x:a.x(),y:a.y()},l=t.labelPosition}),a.on("dragmove.draw",()=>{const c=t.getFactory();if(c===void 0)throw new Error("Cannot udpate connector without factory");c.updateConnector(e)}),a.on("dragend.draw",()=>{const c=a.x()-o.x,d=a.y()-o.y;if(c!==0||d!==0){const h=new xe(a.x(),a.y());t.labelPosition=h;const f=new ja(t,{labelPosition:l},{labelPosition:h},i.getDrawController());this.#e.addToUndoStack(f),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:["labelPosition"]}),l=h}o={x:a.x(),y:a.y()}})}removeShapeListeners(e){this.#c(e),e.off("dblclick");const t=e.getChildren(ta)[0];t instanceof _e.default.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const i=e.getChildren(hg)[0];i instanceof _e.default.Label&&(i.draggable(!1),i.off("dragstart.draw"),i.off("dragend.draw"))}}class lp{meta;image;annotationGroup;buffer;constructor(e){this.meta=e}}class fL{#e={};#t=-1;#n=new $n;getNextDataId(){return++this.#t,this.#t.toString()}getDataIds(){return Object.keys(this.#e)}reset(){this.#e={}}get(e){return this.#e[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const i=Object.keys(this.#e);for(const a of i)this.#e[a].image!==void 0&&this.#e[a].image.containsImageUids(e)&&t.push(a);return t}getDataIdFromSeriesUid(e){let t;const i=Object.keys(this.#e);for(const a of i){const o=this.#e[a].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=a;break}}return t}setImage(e,t){this.#e[e].image=t,this.#r({type:"dataimageset",value:[t],dataid:e}),t.addEventListener("imagecontentchange",this.#i(e)),t.addEventListener("imagegeometrychange",this.#i(e))}add(e,t){if(this.#e[e]!==void 0)throw new Error("Data id already used in storage: "+e);let i;if(this.#e[e]=t,t.meta["00080060"]!==void 0&&(i=t.meta["00080060"].value[0]),i==="SEG"&&t.image===void 0){let a;const o=t.meta["00081115"];if(o!==void 0&&(a=o.value[0]["0020000E"].value[0]),a===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const l=this.getDataIdFromSeriesUid(a);if(l===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");const c=new dg;t.image=c.create(t.meta,t.buffer,this.#e[l].image)}this.#r({type:"dataadd",dataid:e}),t.image!==void 0&&(t.image.addEventListener("imagecontentchange",this.#i(e)),t.image.addEventListener("imagegeometrychange",this.#i(e))),t.annotationGroup!==void 0&&(t.annotationGroup.addEventListener("annotationadd",this.#i(e)),t.annotationGroup.addEventListener("annotationupdate",this.#i(e)),t.annotationGroup.addEventListener("annotationremove",this.#i(e)))}remove(e){if(this.#e[e]!==void 0){const t=this.#e[e].image;t!==void 0&&(t.removeEventListener("imagecontentchange",this.#i(e)),t.removeEventListener("imagegeometrychange",this.#i(e)));const i=this.#e[e].annotationGroup;i!==void 0&&(i.removeEventListener("annotationadd",this.#i(e)),i.removeEventListener("annotationupdate",this.#i(e)),i.removeEventListener("annotationremove",this.#i(e))),delete this.#e[e],this.#r({type:"dataremove",dataid:e})}}update(e,t){if(this.#e[e]===void 0)throw new Error("Cannot find data to update: "+e);const i=this.#e[e];i.image!==void 0&&t.image!==void 0&&i.image.appendSlice(t.image);let a="";a=t.meta["00020010"]!==void 0?"00200013":"imageUid",i.meta=function(o,l,c,d){const h={};if(!c)throw new Error("Cannot merge object with an undefined id key: "+c);if(!Object.prototype.hasOwnProperty.call(o,c))throw new Error("Id key not found in first object while merging: "+c+", obj: "+o);if(!Object.prototype.hasOwnProperty.call(l,c))throw new Error("Id key not found in second object while merging: "+c+", obj: "+l);let f=!1;if(Object.prototype.hasOwnProperty.call(o[c],"merged")&&o[c].merged&&(f=!0),!Object.prototype.hasOwnProperty.call(o[c],d))throw new Error("Id value not found in first object while merging: "+c+", valueKey: "+d+", ojb: "+o);if(!Object.prototype.hasOwnProperty.call(l[c],d))throw new Error("Id value not found in second object while merging: "+c+", valueKey: "+d+", ojb: "+l);let m=o[c][d];const v=l[c][d][0];if(h[c]=o[c],f){for(let C=0;C<m.length;++C)if(m[C]===v)throw new Error("The first object already contains id2: "+v+", id1: "+m);h[c][d].push(v)}else{if(m=m[0],m===v)throw new Error("Cannot merge object with same ids: "+m+", id2: "+v);h[c][d].push(v),h[c].merged=!0}const p=Object.keys(o),S=Object.keys(l).filter(function(C){return p.indexOf(C)<0}),y=p.concat(S);for(let C=0;C<y.length;++C){const w=y[C];if(w!==c){let D,b,x,A,I;if(Object.prototype.hasOwnProperty.call(o,w)&&(D=o[w],Object.prototype.hasOwnProperty.call(D,d)&&(b=D[d])),Object.prototype.hasOwnProperty.call(l,w)&&(x=l[w],Object.prototype.hasOwnProperty.call(x,d)&&(A=x[d])),D!==void 0?I=D:x!==void 0&&(I=x),!Y4(b,A))if(f){if(Array.isArray(b)){I[d]={};for(let k=0;k<m.length;++k)I[d][m[k]]=b}else I[d]=b;I[d]===void 0&&(I[d]={}),I[d][v]=A}else{const k={};k[m]=b,k[v]=A,I[d]=k}h[w]=I}}return h}(i.meta,t.meta,a,"value"),this.#r({type:"dataupdate",dataid:e})}addEventListener(e,t){this.#n.add(e,t)}removeEventListener(e,t){this.#n.remove(e,t)}#r=e=>{this.#n.fireEvent(e)};#i(e){return t=>{t.dataid=e,this.#r(t)}}}const gL="No source image to create mask",Bb="No source image to get offsets, ID: {0}",pL="No brush origins",mL="No mask defined when adding mask slices",SL="No created mask image",yL="No mask image for temporary draw command, ID: {0}",vL="No mask image to get offsets from",bL="No mask image for draw command, ID: {0}",Gb="No mask ID to apply mask index",CL="No mask view layers",DL="No selected segment number",TL="Too many mask view layers: {0}",wL="More mask layers than expected",xL="Cannot display mask with no mask ID",AL="Cannot draw with no mask data ID",PL="Cannot draw with no offsets",RL="Cannot draw with no colour list",OL="Cannot get mask layers with no mask ID",LL="Cannot get mask view controller: no mask ID",IL="Cannot get mask view controller: no mask layers",EL="Cannot find source data for an existing mask, ID: {0}",_L="Unsupported scroll index: {0}";function Wr(n,...e){return n.replace(/{(\d+)}/g,(t,i)=>e[i]||"")}const _0="del",w1="add";function Vb(n,e,t,i){return lL(n.worldToIndex(e),t,i)}class zb{mask;dataId;offsetsLists;mode;segmentNumber;srclayerid;originalValuesLists;isSilent}class Qb{#e;#t;#n;#r;#i;#a;#o;#s;#l;#d;constructor(e){this.#e=e.mask,this.#t=e.dataId,this.#n=e.offsetsLists,this.#r=e.mode,this.#i=e.segmentNumber,this.#a=e.srclayerid,e.originalValuesLists!==void 0&&(this.#o=e.originalValuesLists),this.#s=e.isSilent??!1,this.#l=this.#r===_0?"brushremove":"brushdraw",this.#d=this.#l==="brushdraw"?"brushremove":"brushdraw"}getOriginalValuesLists(){return this.#o}getExecuteEvent(){const e=this.#l==="brushdraw"?this.#i:void 0;return new CustomEvent(this.#l,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}})}getName(){return"Draw-brush"}execute(){if(this.#i===void 0)return;let e=this.#i;this.#l==="brushremove"&&(e=0),this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,e):this.#e.setAtOffsetsWithIterator(this.#n,e),this.#s||this.onExecute(this.getExecuteEvent())}undo(){this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,0):this.#e.setAtOffsetsWithIterator(this.#n,this.#o);const e=this.#d==="brushdraw"?this.#i:void 0,t=new CustomEvent(this.#d,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}});this.onUndo(t)}onExecute(e){}onUndo(e){}}class ML extends EventTarget{#e;#t;constructor(e){super(),this.#e=e,this.#t=new cc(e)}#n=!1;#r;#i;#a=10;#o={min:1,max:20};#s=_0;#l;#d=0;#c;#u;#h;#f;#g=[];#m(e,t,i){const a=e.getSize().getValues();a[2]=1;const o=new mr(a),l=new ea([t],o,e.getSpacing(),e.getOrientation()),c=new Uint8Array(o.getDimSize(2));c.fill(0),++this.#d;const d=[this.#d.toString()],h=new Ka(l,c,d);return h.setMeta(i),h.setPhotometricInterpretation("PALETTE COLOR"),h.setPaletteColourMap(new Jg([0],[0],[0])),h}#p(e,t,i,a,o,l){const c=function(y,C){const w=C.sort(function(F,B){let H=0;const Q=F.get(2),G=B.get(2);return Q!==void 0&&G!==void 0&&(H=Q-G),H}),D=w[0].get(2);if(D===void 0)return[];const b=new gt([0,0,D]),x=y.indexToWorld(b),A=w.at(-1).get(2);if(A===void 0)return[];const I=new gt([0,0,A]),k=y.indexToWorld(I),E=y.getOrigins(),_=.1*y.getSpacing().get(2),R=x.get3D().getClosest(E),N=E[R],U=x.get3D().getDistance(N);U>_&&De.warn("Large distance between origin and origin for first index: "+U);const L=k.get3D().getClosest(E),P=E[L],M=k.get3D().getDistance(P);return M>_&&De.warn("Large distance between origin and origin for last index: "+M),[R,L]}(e,Vb(e,i,o,a));if(c===void 0||c.length===0)throw new Error(pL);const d=e.getOrigins(),h=t.getOrigins(),f=h[0].getClosest(d),m=h.at(-1).getClosest(d),v=[];if(c[0]<f)for(let y=f-1;y>=c[0];--y)v.push(y);if(c[1]>m)for(let y=m+1;y<=c[1];++y)v.push(y);const p=[];for(const y of v)p.push(d[y]);if(this.#r===void 0)throw new Error(mL);const S=this.#r.getMeta();for(const y of p)S.numberOfFiles+=1,this.#r.appendSlice(this.#m(t,y,l))}#b(e){const t=this.#P().getId();if(this.#i===void 0)throw new Error(Gb);const i=this.#e.getData(this.#i);if(!i)throw new Error(Wr(yL,this.#i));const a=new zb;a.mask=i.image,a.dataId=this.#i,a.offsetsLists=[e],a.mode=this.#s,a.segmentNumber=this.#l,a.srclayerid=t;const o=new Qb(a);o.execute(),this.#h.push(e);const l=o.getOriginalValuesLists();l!==void 0&&this.#f.push(l[0])}#S(e,t){if(!t)throw new Error(Wr(gL));const i=t.getGeometry(),a=i.worldToIndex(e).get(2);if(a===void 0)throw new Error("Z position is undefined");const o=new gt([0,0,a]),l=i3(),c=function(){const p="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:p,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:p,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:p}]}}}();l.DimensionOrganizationSequence=c.organizations,l.DimensionIndexSequence=c.indices,l.PixelRepresentation=0,l.numberOfFiles=1;const d=t.getMeta();l.PatientID=d.PatientID,l.StudyInstanceUID=d.StudyInstanceUID,l.SeriesInstanceUID=d.SeriesInstanceUID;const h=[{referencedSOPClassUID:d.SOPClassUID,referencedSOPInstanceUID:t.getImageUid(o)}],f=[];f.push({ReferencedInstanceSequence:{value:h},SeriesInstanceUID:d.SeriesInstanceUID}),l.ReferencedSeriesSequence={value:f},l.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:d.ImageOrientationPatient,derivationImages:[{sourceImages:h}]}]},l.lengthUnit=t.getMeta().lengthUnit,this.#r=this.#m(i,i.getOrigins()[a],l);const m=Ac(l),v=new lp(m);return v.image=this.#r,this.#e.addData(v)}#y(e){const t=this.#e.getDataViewConfigs();let i;for(const a in t){const o=t[a].find(function(l){return l.divId===e});if(o!==void 0){i=o.orientation;break}}return i}#C(e){if(this.#i===void 0)throw new Error(xL);const t=new S3(e);t.orientation=this.#y(e),this.#e.addDataViewConfig(this.#i,t),this.#e.render(this.#i)}#v(e){let t;const i=e.custom.frameInfos;if(i.length===0)return t;const a=i[0].derivationImages;if(a===void 0||a.length===0)return t;const o=a[0].sourceImages;return o===void 0?t:o.length!==0?o[0].referencedSOPInstanceUID:void 0}#w(e){const t=e.getMeta(),i=this.#v(t);let a=[];i!=="undefined"&&(a=this.#e.getDataIdsFromSopUids([i]));let o="0";return a.length>0?o=a[0]:De.warn(Wr(EL,i)),o}#D(e){if(this.#i===void 0)throw new Error(OL);const t=e.getViewLayersByDataId(this.#i);if(t.length===0)throw new Error(CL);return t.length!==1&&De.warn(Wr(TL,t.length)),t[0]}#T(e){if(e===void 0)throw new Error(Gb);const t=this.#e.getData(e);if(t===void 0)throw new Error(vL);return t.image}#A(e){const t=ft(e),i=new xe(e.offsetX,e.offsetY),a=this.#e.getLayerGroupByDivId(t.groupDivId);if(a===void 0)throw new Error("No layergroup to get mask offsets");let o;if(this.#c=a,o=this.#i===void 0?a.getBaseViewLayer():a.getViewLayersByDataId(this.#i)[0],o===void 0)return[];const l=o.getViewController(),c=l.getCurrentPosition();let d,h,f,m;if(l.equalImageMeta({Modality:"SEG"})){this.#r=this.#T(this.#i);const x=this.#w(this.#r),A=this.#e.getData(x);if(!A)throw new Error(Wr(Bb,x));m=A.image;const I=a.getViewLayersByDataId(x)[0],k=I.getViewController(),E=I.displayToPlanePos(i);f=k.getPositionFromPlanePoint(E),d=o,h=l}else{const x=o.getDataId(),A=this.#e.getData(x);if(!A)throw new Error(Wr(Bb,x));m=A.image;const I=o.displayToPlanePos(i);if(f=l.getPositionFromPlanePoint(I),this.#i=this.#S(c,m),this.#r===void 0)throw new Error(SL);const k=a.getDivId(),E=k!==void 0;E&&this.#C(k),d=this.#D(a),h=d.getViewController(),E&&h.setCurrentPosition(c)}const v=m.getGeometry(),p=this.#r.getMeta(),S=this.#r.getGeometry(),y=l.get2DSpacing(),C=[Math.round(this.#a/y.x),Math.round(this.#a/y.y)];let w;const D=l.getScrollDimIndex();switch(D){case 0:w=[1,2];break;case 1:w=[0,2];break;case 2:w=[0,1];break;default:throw new Error(Wr(_L,D))}this.#p(v,S,f,w,C,p);const b=d.displayToPlanePos(i);return function(x,A){const I=x.getSize(),k=[];for(const E of A){const _=I.indexToOffset(E);_>=0&&k.push(_)}return k.sort(function(E,_){return E-_})}(S,Vb(S,h.getPositionFromPlanePoint(b),C,w))}#x(e){const t=ft(e),i=this.#e.getLayerGroupByDivId(t.groupDivId);if(i===void 0)throw new Error("No layergroup to check black list");if(i.getActiveDrawLayer()===void 0){const a=i.getActiveViewLayer().getDataId(),o=this.#e.getData(a).image.getMeta().SeriesInstanceUID;if(this.#g.includes(o))return!0}return!1}mousedown=e=>{if(this.#x(e))return;if(this.#l===void 0)return void De.warn(DL);this.#n=!0,this.#u=new xe(e.offsetX,e.offsetY),this.#h=[],this.#f=[],this.#R(e);const t=this.#A(e);t.length>0?this.#b(t):(this.#n=!1,this.#O(e))};#R(e){if(e.button===2){this.#s=_0;const t=new CustomEvent("erasingactivated");this.dispatchEvent(t)}}#O(e){if(e.button===2){this.#s=w1;const t=new CustomEvent("erasingdeactivated");this.dispatchEvent(t)}}mousemove=e=>{if(!this.#n||this.#u===void 0)return;const t=new xe(e.offsetX,e.offsetY),i=Math.abs(t.getX()-this.#u.getX()),a=Math.abs(t.getY()-this.#u.getY());if(i>this.#a/2||a>this.#a/2){const o=this.#A(e);o.length>0&&this.#b(o),this.#u=t}};mouseup=e=>{if(this.#n){if(this.#n=!1,this.#O(e),this.#i===void 0)throw new Error(AL);if(this.#h===void 0)throw new Error(PL);if(this.#f===void 0)throw new Error(RL);this.#h.reverse(),this.#f.reverse();const t=this.#P().getId(),i=this.#e.getData(this.#i);if(!i)throw new Error(Wr(bL,this.#i));const a=new zb;a.mask=i.image,a.dataId=this.#i,a.offsetsLists=this.#h,a.mode=this.#s,a.segmentNumber=this.#l,a.srclayerid=t,a.originalValuesLists=this.#f;const o=new Qb(a);o.onExecute=l=>{this.dispatchEvent(l)},o.onUndo=l=>{this.dispatchEvent(l),this.#r.recalculateLabels()},this.#e.addToUndoStack(o),this.dispatchEvent(o.getExecuteEvent()),this.#r.recalculateLabels()}};mouseout=e=>{this.mouseup(e)};touchstart=e=>{this.mousedown(e)};touchmove=e=>{this.mousemove(e)};touchend=e=>{this.mouseup(e)};wheel=e=>{this.#t.wheel(e)};#P(){if(this.#i===void 0)throw new Error(LL);if(this.#c===void 0)throw new Error("No current layer group");const e=this.#c.getViewLayersByDataId(this.#i);if(e.length===0)throw new Error(IL);return e.length!==1&&De.warn(wL),e[0]}keydown=e=>{e.context="Brush",this.#e.onKeydown(e);const t=e.ctrlKey||e.altKey;!t&&e.key==="+"&&this.#a+1<this.#o.max?(this.#a+=1,De.debug("Brush size: "+this.#a)):!t&&e.key==="-"&&this.#a-1>=this.#o.min?(this.#a-=1,De.debug("Brush size: "+this.#a)):t||Number.isNaN(Number.parseInt(e.key,10))?t||e.key!=="a"?t||e.key!=="d"||(this.#s=_0,De.debug("Brush mode: "+this.#s)):(this.#s=w1,De.debug("Brush mode: "+this.#s)):this.#s=w1};activate(e){const t=function(i){let a=[];if(!i)return[];for(const o in i)if(i[o]){const l=i[o];if(Array.isArray(l)){const c=l.map(function(d){return d.divId});a=[...a,...c]}}return[...new Set(a)]}(this.#e.getDataViewConfigs());e?this.#L(t):this.#I(t)}#L(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",a=>{a.preventDefault(),a.stopPropagation()})}}#I(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",a=>{})}}setFeatures(e){e.brushSizeRange!==void 0&&(this.#o=e.brushSizeRange),e.brushSize!==void 0&&e.brushSize>=this.#o.min&&e.brushSize<this.#o.max&&(this.#a=e.brushSize),e.brushMode!==void 0&&(this.#s=e.brushMode),e.createMask?this.#i=void 0:e.maskDataId!==void 0&&(this.#i=e.maskDataId),e.selectedSegmentNumber!==void 0&&(this.#l=e.selectedSegmentNumber),e.blacklist!==void 0&&(this.#g=e.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}var p0=function(n){var e={};return vn.d(e,n),e}({default:function(){return tO}});class tc{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const i=[];for(let a=0;a<e.controlPointIndexArray.length;++a)i[a]=e.controlPointIndexArray[a]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(i)}}class FL{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(i){return i},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let i=this.buckets[t];for(;i!==null&&(i.next===null||e.x!==i.next.x||e.y!==i.next.y);)i=i.next;return i!==null&&(i.next=i.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let i=0;i<t.length;i++)t[i]=null;return t}}const kL=2/(3*Math.PI);function x1(n,e,t,i,a){const o=n[i][t],l=e[i][t];let c=Math.sqrt(o*o+l*l);c=Math.max(c,1e-100),a.x=o/c,a.y=l/c}class UL{constructor(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(i,a,o){const l={data:[]};for(let c=0;c<o;c++){l.data[c]=[];for(let d=0;d<a;d++){const h=4*(c*a+d);l.data[c][d]=(i[h]+i[h+1]+i[h+2])/765}}return l.dx=function(c,d){return c+1===this.data[d].length&&c--,this.data[d][c+1]-this.data[d][c]},l.dy=function(c,d){return d+1===this.data.length&&d--,this.data[d][c]-this.data[d+1][c]},l.gradMagnitude=function(c,d){const h=this.dx(c,d),f=this.dy(c,d);return Math.sqrt(h*h+f*f)},l.laplace=function(c,d){let h=-16*this.data[d][c];return h+=this.data[d-2][c],h+=this.data[d-1][c-1]+2*this.data[d-1][c]+this.data[d-1][c+1],h+=this.data[d][c-2]+2*this.data[d][c-1]+2*this.data[d][c+1]+this.data[d][c+2],h+=this.data[d+1][c-1]+2*this.data[d+1][c]+this.data[d+1][c+1],h+=this.data[d+2][c],h},l}(e,this.width,this.height),this.laplace=function(i){const a=[];a[0]=[],a[1]=[];for(let o=1;o<i.data.length;o++)a[0][o]=1,a[1][o]=1;for(let o=2;o<i.data.length-2;o++){a[o]=[],a[o][0]=1,a[o][1]=1;for(let l=2;l<i.data[o].length-2;l++)a[o][l]=i.laplace(l,o)>.33?0:1;a[o][i.data[o].length-2]=1,a[o][i.data[o].length-1]=1}a[i.data.length-2]=[],a[i.data.length-1]=[];for(let o=1;o<i.data.length;o++)a[i.data.length-2][o]=1,a[i.data.length-1][o]=1;return a}(this.greyscale),this.gradient=function(i){const a=[];let o=0,l=0,c=0;for(c=0;c<i.data.length-1;c++){for(a[c]=[],l=0;l<i.data[c].length-1;l++)a[c][l]=i.gradMagnitude(l,c),o=Math.max(a[c][l],o);a[c][i.data[c].length-1]=a[c][i.data.length-2]}a[i.data.length-1]=[];for(let d=0;d<a[0].length;d++)a[i.data.length-1][d]=a[i.data.length-2][d];for(c=0;c<a.length;c++)for(l=0;l<a[c].length;l++)a[c][l]=1-a[c][l]/o;return a}(this.greyscale),this.gradX=function(i){const a=[];for(let o=0;o<i.data.length;o++){a[o]=[];for(let l=0;l<i.data[o].length-1;l++)a[o][l]=i.dx(l,o);a[o][i.data[o].length-1]=a[o][i.data[o].length-2]}return a}(this.greyscale),this.gradY=function(i){const a=[];for(let o=0;o<i.data.length-1;o++){a[o]=[];for(let l=0;l<i.data[o].length;l++)a[o][l]=i.dy(l,o)}a[i.data.length-1]=[];for(let o=0;o<i.data[0].length;o++)a[i.data.length-1][o]=a[i.data.length-2][o];return a}(this.greyscale);const t=function(i,a,o,l){const c={inside:[],outside:[]},d={x:-1,y:-1};for(let h=0;h<a.length;h++){c.inside[h]=[],c.outside[h]=[];for(let f=0;f<a[h].length;f++){x1(a,o,f,h,d);let m=Math.round(f+i*d.y),v=Math.round(h-i*d.x),p=Math.round(f-i*d.y),S=Math.round(h+i*d.x);m=Math.max(Math.min(m,a[h].length-1),0),p=Math.max(Math.min(p,a[h].length-1),0),v=Math.max(Math.min(v,a.length-1),0),S=Math.max(Math.min(S,a.length-1),0),c.inside[h][f]=l.data[v][m],c.outside[h][f]=l.data[S][p]}}return c}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let i=0;i<this.trainingLength&&e;i++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,i,a){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let l=1;for(o=0;o<this.trainingPoints.length;o++){const c=this.trainingPoints[o],d=this.getTrainingIdx(t,i[c.y][c.x]);e[d]+=1,l=Math.max(l,e[d])}for(o=0;o<t;o++)e[o]=1-e[o]/l;(function(c,d){d[0]=.4*c[0]+.5*c[1]+.1*c[1],d[1]=.25*c[0]+.4*c[1]+.25*c[2]+.1*c[3];for(let f=2;f<c.length-2;f++)d[f]=.05*c[f-2]+.25*c[f-1]+.4*c[f]+.25*c[f+1]+.05*c[f+2];const h=c.length;d[h-2]=.25*c[h-1]+.4*c[h-2]+.25*c[h-3]+.1*c[h-4],d[h-1]=.4*c[h-1]+.5*c[h-2]+.1*c[h-3]})(e,a)}addInStaticGrad(e,t){for(let i=0;i<this.gradGran;i++)this.gradTraining[i]=Math.min(this.gradTraining[i],1-i*(t-e)/(t*this.gradGran))}gradDirection(e,t,i,a){return function(o,l,c,d,h,f){const m={x:-1,y:-1},v={x:-1,y:-1};x1(o,l,c,d,m),x1(o,l,h,f,v);let p=m.y*(h-c)-m.x*(f-d),S=v.y*(h-c)-v.x*(f-d);return p<0&&(p=-p,S=-S),c!==h&&d!==f&&(p*=Math.SQRT1_2,S*=Math.SQRT1_2),kL*(Math.acos(p)+Math.acos(S))}(this.gradX,this.gradY,e,t,i,a)}dist(e,t,i,a){let o=this.gradient[a][i];e!==i&&t!==a||(o*=Math.SQRT1_2);const l=this.laplace[a][i],c=this.gradDirection(e,t,i,a);return this.trained?.3*this.getTrainedGrad(o)+.3*l+.1*(c+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*l+.11*c}adj(e){const t=[],i=Math.max(e.x-1,0),a=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),l=Math.min(e.y+1,this.greyscale.data.length-1);let c=0;for(let d=a;d<=l;d++)for(let h=i;h<=o;h++)h===e.x&&d===e.y||(t[c++]={x:h,y:d});return t}#e=e=>Math.round(this.searchGran*this.cost[e.y][e.x]);setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,i=0;for(this.visited=[],i=0;i<this.height;i++)for(this.visited[i]=[],t=0;t<this.width;t++)this.visited[i][t]=!1;for(this.parents=[],i=0;i<this.height;i++)this.parents[i]=[];for(this.cost=[],i=0;i<this.height;i++)for(this.cost[i]=[],t=0;t<this.width;t++)this.cost[i][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new FL(this.searchGranBits,this.#e),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const i=this.pq.pop();t.push(i),t.push(this.parents[i.y][i.x]),this.visited[i.y][i.x]=!0;const a=this.adj(i);for(let o=0;o<a.length;o++){const l=a[o],c=this.cost[i.y][i.x]+this.dist(i.x,i.y,l.x,l.y);c<this.cost[l.y][l.x]&&(this.cost[l.y][l.x]!==Number.MAX_VALUE&&this.pq.remove(l),this.cost[l.y][l.x]=c,this.parents[l.y][l.x]=i,this.pq.push(l))}e++}return t}}class La{#e;constructor(e){this.#e=e}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=this.#e(e)),t}create(e,t){const i=new _e.default.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),a=e.getText();i.setText(a);const o=t.applyZoomScale(1),l={x:2*o.x,y:2*o.y},c=this.getPosition(e),d=new _e.default.Label({x:c.getX(),y:c.getY(),scale:l,visible:a.length!==0,name:"label"});return d.add(i),d.add(new _e.default.Tag({fill:e.colour,opacity:t.getTagOpacity()})),d}updatePosition(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof _e.default.Label))return;const a=this.getPosition(e);i.position({x:a.getX(),y:a.getY()})}getLabelAnchorsPosition(e){const t=e.x(),i=e.y(),a=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new xe(t+a/2,i),new xe(t,i+o/2),new xe(t+a/2,i+o),new xe(t+a,i+o/2)]}getClosestPoints(e,t){let i=e[0].getDistance(t[0]),a=e[0],o=t[0];for(const l of e)for(const c of t){const d=l.getDistance(c);d<i&&(i=d,a=l,o=c)}return[a,o]}getConnector(e,t,i){const a=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,a);return new _e.default.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const i=e.getChildren(function(c){return c.name()==="label"})[0];if(!(i instanceof _e.default.Label))return;const a=this.getLabelAnchorsPosition(i),o=this.getClosestPoints(t,a),l=e.getChildren(function(c){return c.name()==="connector"})[0];l instanceof _e.default.Line&&l.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof _e.default.Label))return;const a=e.getText();i.getText().setText(a),i.visible()&&i.visible(a.length!==0)}}class NL{#e=0;#t=0;getMin(){return this.#e}setMin(e){this.#e=e}getMax(){return this.#t}setMax(e){this.#t=e}getName(){return"Threshold"}#n=null;setOriginalImage(e){this.#n=e}getOriginalImage(){return this.#n}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform(i=>i<this.getMin()||i>this.getMax()?t:i)}}class qL{getName(){return"Sharpen"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}class BL{getName(){return"Sobel"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),i=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(i,function(a,o){return Math.sqrt(a*a+o*o)})}}class A1{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getName(){return"Filter-"+this.#e.getName()}execute(){this.#n.setImage(this.#t,this.#e.update()),this.#n.render(this.#t);const e={type:"filterrun",id:this.getName(),dataId:this.#t};this.onExecute(e)}undo(){this.#n.setImage(this.#t,this.#e.getOriginalImage()),this.#n.render(this.#t);const e={type:"filterundo",id:this.getName(),dataid:this.#t};this.onUndo(e)}onExecute(e){}onUndo(e){}}const GL={},M0={},VL={WindowLevel:class{#e;#t=!1;#n;#r;#i=!0;constructor(n){this.#e=n,this.#r=new cc(n)}#a(n){let e;if(this.#i)e=n.getActiveViewLayer();else{const t=function(i){return i.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e}#o(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);i!==void 0&&i.getViewController().isMonochrome()&&(this.#t=!0,this.#n=n)}#s(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);if(i===void 0)return;const a=i.getViewController(),o=n.getX()-this.#n.getX(),l=this.#n.getY()-n.getY(),c=a.getImageRescaledDataRange(),d=.001*(c.max-c.min),h=a.getWindowLevel().center,f=a.getWindowLevel().width,m=new Un(h+l*d,f+o*d);a.setWindowLevel(m),this.#n=n}#l(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=nn(n),t=ft(n);this.#o(e,t.groupDivId)};mousemove=n=>{const e=nn(n),t=ft(n);this.#s(e,t.groupDivId)};mouseup=n=>{this.#l()};mouseout=n=>{this.#l()};touchstart=n=>{const e=Mn(n),t=ft(n);this.#o(e[0],t.groupDivId)};touchmove=n=>{const e=Mn(n),t=ft(n);this.#s(e[0],t.groupDivId)};touchend=n=>{this.#l()};dblclick=n=>{const e=ft(n),t=nn(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),a=this.#a(i);if(a===void 0)return;const o=a.displayToPlaneIndex(t),l=a.getViewController();if(!l.isMonochrome())return;const c=this.#e.getData(a.getDataId()).image,d=new Un(c.getRescaledValueAtIndex(l.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),l.getWindowLevel().width);l.setWindowLevel(d)};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="WindowLevel",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&(this.#i=n.strictViewLayer)}},Scroll:class{#e;#t=!1;#n;#r;#i;#a=!1;#o;constructor(n){this.#e=n,this.#r=new cc(n)}#s(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#l(n,e){this.#h();const t=this.#e.getLayerGroupByDivId(e),i=this.#s(t);if(i===void 0)return void De.warn("No view layer to start scroll");const a=i.getViewController();a.isPlaying()&&a.stop();const o=i.displayToPlanePos(n),l=a.getPositionFromPlanePoint(o);a.setCurrentPosition(l),this.#t=!0,this.#n=n}#d(n,e){if(!this.#t)return void(this.#a&&this.#u(n,e));const t=this.#e.getLayerGroupByDivId(e),i=t.getPositionHelper(),a=n.getY()-this.#n.getY(),o=Math.abs(a)>15,l=n.getX()-this.#n.getX(),c=Math.abs(l)>15;o&&t.canScroll()?a>0?i.decrementPositionAlongScroll():i.incrementPositionAlongScroll():c&&t.moreThanOne(3)&&(l>0?i.incrementPosition(3):i.decrementPosition(3)),(c||o)&&(this.#n=n)}#c(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=nn(n),t=ft(n);this.#l(e,t.groupDivId)};mousemove=n=>{const e=nn(n),t=ft(n);this.#d(e,t.groupDivId)};mouseup=n=>{this.#c()};mouseout=n=>{this.#c(),this.#h()};touchstart=n=>{this.#i=setTimeout(()=>{this.dblclick(n)},500);const e=Mn(n),t=ft(n);this.#l(e[0],t.groupDivId)};touchmove=n=>{this.#i!==null&&(clearTimeout(this.#i),this.#i=null);const e=Mn(n),t=ft(n);this.#d(e[0],t.groupDivId)};touchend=n=>{this.#i!==null&&(clearTimeout(this.#i),this.#i=null),this.#c()};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="Scroll",this.#e.onKeydown(n)};dblclick=n=>{const e=ft(n),t=this.#e.getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()};#u(n,e){const t=this.#e.getLayerGroupByDivId(e);this.#o=e,t.showTooltip(n)}#h(){this.#o!==void 0&&(this.#e.getLayerGroupByDivId(this.#o).removeTooltipDiv(),this.#o=void 0)}activate(n){n||this.#h()}setFeatures(n){n.displayTooltip!==void 0&&(this.#a=n.displayTooltip)}init(){}},ZoomAndPan:class{#e;#t=!1;#n;#r;#i;#a;constructor(n){this.#e=n}#o(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#s(n){this.#t=!0,this.#n=n,this.#r=!1}#l=n=>{this.#t=!0,this.#n=n[0],this.#r=!1,this.#i=new Mt(n[0],n[1]),this.#a=this.#i.getMidpoint()};#d(n,e){if(!this.#t)return;this.#r=!0;const t=n.getX()-this.#n.getX(),i=n.getY()-this.#n.getY(),a=this.#e.getLayerGroupByDivId(e),o=this.#o(a);if(o===void 0)return void De.warn("No view layer to update zoom/pan");const l=o.getViewController(),c=o.displayToPlaneScale(new xe(t,i)),d=l.getOffset3DFromPlaneOffset({x:c.getX(),y:c.getY()});a.addTranslation({x:d.getX(),y:d.getY(),z:d.getZ()}),a.draw(),this.#n=n}#c=(n,e)=>{if(!this.#t)return;this.#r=!0;const t=new Mt(n[0],n[1]).getLength()/this.#i.getLength(),i=this.#e.getLayerGroupByDivId(e),a=i.getPositionHelper();if(t===1){const o=n[0].getY()-this.#n.getY();if(Math.abs(o)<15)return;i.canScroll()&&(o>0?a.incrementPositionAlongScroll():a.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&this.#a!==void 0){const l=this.#o(i);if(l===void 0)return void De.warn("No view layer to do touch zoom/pan");const c=l.getViewController(),d=l.displayToMainPlanePos(this.#a),h=c.getPlanePositionFromPlanePoint(d);i.addScale(o,h),i.draw()}}};#u(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#o(t);if(i===void 0)return void De.warn("No view layer to set current position");const a=i.getViewController(),o=i.displayToPlanePos(n),l=a.getPositionFromPlanePoint(o);a.setCurrentPosition(l)}#h(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=nn(n);this.#s(e)};mousemove=n=>{const e=nn(n),t=ft(n);this.#d(e,t.groupDivId)};mouseup=n=>{if(!this.#r){const e=nn(n),t=ft(n);this.#u(e,t.groupDivId)}this.#h()};mouseout=n=>{this.#h()};touchstart=n=>{const e=Mn(n);e.length===1?this.#s(e[0]):e.length===2&&this.#l(e)};touchmove=n=>{const e=Mn(n),t=ft(n);e.length===1?this.#d(e[0],t.groupDivId):e.length===2&&this.#c(e,t.groupDivId)};touchend=n=>{if(!this.#r){const e=nn(n),t=ft(n);this.#u(e,t.groupDivId)}this.#h()};wheel=n=>{n.preventDefault();const e=-n.deltaY/500,t=ft(n),i=nn(n),a=this.#e.getLayerGroupByDivId(t.groupDivId),o=this.#o(a);if(o===void 0)return void De.warn("No view layer to do wheel zoom/pan");const l=o.getViewController(),c=o.displayToMainPlanePos(i),d=l.getPlanePositionFromPlanePoint(c);a.addScale(e,d),a.draw()};keydown=n=>{n.context="ZoomAndPan",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Opacity:class{#e;#t=!1;#n;#r;constructor(n){this.#e=n,this.#r=new cc(n)}#i(n){this.#t=!0,this.#n=n}#a(n,e){if(!this.#t)return;const t=n.getX()-this.#n.getX();if(Math.abs(t)>15){const i=this.#e.getLayerGroupByDivId(e).getActiveLayer(),a=i.getOpacity();i.setOpacity(a+t/200),i.draw(),this.#n=n}}#o(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=nn(n);this.#i(e)};mousemove=n=>{const e=nn(n),t=ft(n);this.#a(e,t.groupDivId)};mouseup=n=>{this.#o()};mouseout=n=>{this.#o()};touchstart=n=>{const e=Mn(n);this.#i(e[0])};touchmove=n=>{const e=Mn(n),t=ft(n);this.#a(e[0],t.groupDivId)};touchend=n=>{this.#o()};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="Opacity",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Draw:class{#e;#t;#n;#r=!1;#i=null;#a=null;#o=null;#s;#l=[];#d=null;#c=!0;#u;#h;#f;#g;#m;#p=!1;#b={};#S=!1;#y=[];constructor(n){this.#e=n,this.#t=new cc(n),this.#m=new hL(n,this.#_),this.#n=n.getStyle()}#C(n){let e=!0;if(this.#u!==void 0){const t=n.getActiveViewLayer().getDataId(),i=this.#e.getData(t).image.getMeta();e=this.#u(i)}return e}#v(n){let e=!0;if(this.#h!==void 0){const t=n.getDataId(),i=this.#e.getData(t).annotationGroup.getMeta();e=this.#h(i)}return e}#w(n){const e=n.getActiveViewLayer().getDataId(),t=this.#e.createAnnotationData(e);if(this.#f!==void 0)for(const a of this.#f)t.annotationGroup.setMetaValue(a.concept,a.value);this.#e.addAndRenderAnnotationData(t,n.getDivId(),e);const i=n.getActiveDrawLayer();return i.setShapeHandler(this.#m),n.setActiveLayerByDataId(i.getDataId()),i}#D(n,e){const t=this.#e.getLayerGroupByDivId(e);let i=t.getActiveDrawLayer();if(i===void 0){if(!this.#C(t))return void this.#_({type:"warn",message:"Cannot create draw layer, reference meta is invalid"});i=this.#w(t)}else if(!this.#v(i))return void this.#_({type:"warn",message:"Cannot create draw, data meta is invalid"});const a=i.getDrawController().getAnnotationGroup(),o=i.getKonvaStage();if(this.#n.setZoomScale(o.scale()),a.isEditable()){const l=o.getIntersection({x:n.getX(),y:n.getY()});l?this.#O(i,l):this.#A(t,n)}}#T(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());De.warn("No draw layer to do draw")}#A(n,e){this.#m.disableAndResetEditor(),this.#x();const t=this.#T(n);t!==void 0?(this.#d=t.displayToPlanePos(e),this.#l.push(this.#d)):De.warn("No view layer to start shape")}#x(){this.#r=!0,this.#a=new this.#i[this.#s],this.#l=[]}#R(){this.#r=!1,this.#l=[]}#O(n,e){let t=e.getParent();e instanceof _e.default.Tag&&(t=t.getParent());const i=t.find(".shape")[0];i instanceof _e.default.Shape&&(this.#_({type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),this.#m.setEditorShape(i,n))}#P(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#T(t);if(i===void 0)return void De.warn("No view layer to update shape");const a=i.displayToPlanePos(n);(Math.abs(a.getX()-this.#d.getX())>0||Math.abs(a.getY()-this.#d.getY())>0)&&(this.#S&&this.#l.pop(),this.#d=a,this.#S=!0,this.#l.push(this.#d),this.#I(this.#l,t))}#L(n){if(this.#l.length!==0){if(this.#l.length===this.#a.getNPoints()){const e=this.#e.getLayerGroupByDivId(n);this.#M(this.#l,e),this.#R()}this.#S=!1}else De.warn("Draw mouseup but no points...")}mousedown=n=>{if(this.#r)return;const e=nn(n),t=ft(n);this.#D(e,t.groupDivId)};mousemove=n=>{if(!this.#r)return;const e=nn(n),t=ft(n);this.#P(e,t.groupDivId)};mouseup=n=>{if(!this.#r)return;const e=ft(n);this.#L(e.groupDivId)};dblclick=n=>{if(this.#a&&this.#a.getNPoints()!==void 0||!this.#r)return;if(this.#l.length===0)return void De.warn("Draw dblclick but no points...");const e=ft(n),t=this.#e.getLayerGroupByDivId(e.groupDivId);this.#M(this.#l,t),this.#R()};touchstart=n=>{if(this.#r)return;const e=Mn(n),t=ft(n);this.#D(e[0],t.groupDivId)};touchmove=n=>{if(!this.#r)return;const e=ft(n),t=Mn(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),a=this.#T(i);if(a===void 0)return void De.warn("No view layer to handle touch move");const o=a.displayToPlanePos(t[0]);(Math.abs(o.getX()-this.#d.getX())>0||Math.abs(o.getY()-this.#d.getY())>0)&&(this.#l.length!==1&&this.#l.pop(),this.#d=o,this.#l.push(this.#d),this.#l.length<this.#a.getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.#l.push(this.#d)},this.#a.getTimeout())),this.#I(this.#l,i))};touchend=n=>{this.dblclick(n)};wheel=n=>{this.#c&&this.#t.wheel(n)};keydown=n=>{this.#r||(n.context="Draw",this.#e.onKeydown(n));const e=this.#m.getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=this.#e.getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle key down");const i=t.getDrawController(),a=new sp(e,i);this.#e.addToUndoStack(a),a.execute(),this.#m.onMouseOutShapeGroup()}if(n.key==="Escape"&&this.#o!==null){const t=this.#o.getLayer();this.#o.destroy(),this.#o=null,this.#R(),t.draw()}};#I(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle new points");const i=t.getDrawController(),a=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void De.warn("No view layer to handle new points");const l=o.getViewController();if(this.#p){const h=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],f=t.getId(),m=f.substring(f.length-1),v=h[parseInt(m,10)-1];v!==void 0&&this.#n.setLineColour(v)}const c=new gr,d=i.getAnnotationGroup().getColour();c.colour=d!==void 0?d:this.#n.getLineColour(),c.init(l),this.#a.setAnnotationMathShape(c,n),this.#o=this.#a.createShapeGroup(c,this.#n),t.setLabelVisibility(this.#o),this.#o.getChildren(ta)[0].listening(!1),a.listening(!1),a.add(this.#o),a.draw()}#M(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle final points");const i=t.getKonvaLayer(),a=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void De.warn("No view layer to handle final points");const l=o.getViewController(),c=new gr,d=a.getAnnotationGroup().getColour();if(c.colour=d!==void 0?d:this.#n.getLineColour(),c.init(l),this.#g!==void 0)for(const f of this.#g)c.addMetaItem(f.concept,f.value);this.#a.setAnnotationMathShape(c,n);const h=new E0(c,a);this.#e.addToUndoStack(h),h.execute(),i.listening(!0)}#E(n){const e=n.getId();return this.#y[e]===void 0&&(this.#y[e]=()=>{n.activateCurrentPositionShapes(!0)}),this.#y[e]}#F(n,e){n.setShapeHandler(this.#m),n.activateCurrentPositionShapes(e),e?this.#e.addEventListener("positionchange",this.#E(n)):this.#e.removeEventListener("positionchange",this.#E(n))}activate(n){n||this.#m.onMouseOutShapeGroup();const e=this.#e.getDrawLayers();for(const t of e)t!==void 0&&this.#F(t,n);this.#e.addEventListener("drawlayeradd",t=>{const i=this.#e.getDrawLayers(function(a){return a.getId()===t.layerid});i.length===1&&this.#F(i[0],n)})}setOptions(n){this.#i=n}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&(this.#p=n.autoShapeColour),n.shapeColour!==void 0&&(this.#n.setLineColour(n.shapeColour),this.#p=!1),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");this.#s=n.shapeName}n.mouseOverCursor!==void 0&&this.#m.storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&(this.#c=n.withScroll),n.refMetaValidator!==void 0&&(this.#u=n.refMetaValidator),n.drawMetaValidator!==void 0&&(this.#h=n.drawMetaValidator),n.annotationGroupMeta!==void 0&&(this.#f=n.annotationGroupMeta),n.annotationMeta!==void 0&&(this.#g=n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){this.#b[n]===void 0&&(this.#b[n]=[]),this.#b[n].push(e)}removeEventListener(n,e){if(this.#b[n]!==void 0)for(let t=0;t<this.#b[n].length;++t)this.#b[n][t]===e&&this.#b[n].splice(t,1)}#_=n=>{if(this.#b[n.type]!==void 0)for(let e=0;e<this.#b[n.type].length;++e)this.#b[n.type][e](n)};hasShape(n){return this.#i[n]!==void 0}},Brush:ML,Filter:class{#e;constructor(n){this.#e=n}#t=null;#n=0;#r=new $n;activate(n){for(const e in this.#t)n?(this.#t[e].addEventListener("filterrun",this.#i),this.#t[e].addEventListener("filterundo",this.#i)):(this.#t[e].removeEventListener("filterrun",this.#i),this.#t[e].removeEventListener("filterundo",this.#i))}setOptions(n){this.#t={};for(const e in n)this.#t[e]=new n[e](this.#e)}getOptionsType(){return"instance"}init(){for(const n in this.#t)this.#t[n].init()}keydown=n=>{n.context="Filter",this.#e.onKeydown(n)};getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){this.#r.add(n,e)}removeEventListener(n,e){this.#r.remove(n,e)}#i=n=>{this.#r.fireEvent(n)};getSelectedFilter(){return this.#n}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");this.#n&&this.#n.activate(!1),this.#n=this.#t[n.filterName],this.#n.activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return this.#t}hasFilter(n){return this.#t[n]}},Floodfill:class{#e;constructor(n){this.#e=n}#t=5;#n=0;#r=2e3;#i=null;#a=null;#o=10;#s=null;#l=!1;#d;#c;#u=null;#h=[];#f=!1;#g=new W0;setExtend(n){this.#f=n}getExtend(){return this.#f}#m(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());De.warn("No draw layer to do floodfill")}#p=(n,e)=>{const t=this.#e.getLayerGroupByDivId(e),i=this.#m(t);if(i===void 0)return void De.warn("No view layer to get index");const a=i.displayToPlaneIndex(n);return{x:a.get(0),y:a.get(1)}};#b(n,e,t){this.#h=[];const i={data:this.#i.data,width:this.#i.width,height:this.#i.height,bytes:4};this.#a=p0.default.floodFill(i,n.x,n.y,e),this.#a=p0.default.gaussBlurOnlyBorder(this.#a,this.#t);let a=p0.default.traceContours(this.#a);if(a=p0.default.simplifyContours(a,this.#n,this.#r),a.length>0&&a[0].points[0].x){if(t)return a[0].points;for(let o=0,l=a[0].points.length;o<l;o++)this.#h.push(new xe(a[0].points[o].x,a[0].points[o].y));return this.#h}return[]}#S(n,e,t){if(this.#u=this.#b(n,e,!1),this.#u.length!==0){const i=t.getActiveDrawLayer();if(i===void 0)return De.warn("No draw layer to paint border"),!1;const a=i.getDrawController(),o=new bi(this.#u);let l;if(this.#d===void 0){this.#d=new gr,this.#d.colour=this.#g.getLineColour();const c=t.getViewLayerById(i.getReferenceLayerId());if(c===void 0)return De.warn("No view layer to paint border"),!1;const d=c.getViewController();this.#d.init(d),this.#d.mathShape=o,l=new E0(this.#d,a)}else{const c=this.#d.mathShape;l=new ja(this.#d,{mathShape:c},{mathShape:o},a)}this.#e.addToUndoStack(l),l.execute()}return this.#u.length!==0}extend(n,e,t){if(!this.#c)throw"'initialpoint' not found. User must click before use extend!";const i=t.getPositionHelper(),a=this.#m(t);if(a===void 0)return void De.warn("No view layer to extend floodfill");const o=a.getViewController(),l=o.getCurrentIndex(),c=o.getImageSize(),d=this.#s||this.#o;for(let h=l.get(2),f=e||c.get(2);h<f&&this.#S(this.#c,d,t);h++)i.incrementPositionAlongScroll();o.setCurrentIndex(l);for(let h=l.get(2),f=n||0;h>f&&this.#S(this.#c,d,t);h--)i.decrementPositionAlongScroll();o.setCurrentIndex(l)}onThresholdChange(n){}#y(n,e){this.#d=void 0;const t=this.#e.getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();if(a===void 0){i=t.getActiveViewLayer();const o=i.getDataId(),l=this.#e.createAnnotationData(o);this.#e.addAndRenderAnnotationData(l,e,o),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}else if(i=t.getViewLayerById(a.getReferenceLayerId()),i===void 0)return void De.warn("No view layer to start floodfill");this.#i=i.getImageData(),this.#i?(this.#g.setZoomScale(a.getKonvaLayer().getAbsoluteScale()),this.#l=!0,this.#c=this.#p(n,e),this.#S(this.#c,this.#o,t),this.onThresholdChange(this.#o)):De.error("No image found")}#C(n,e){if(!this.#l)return;const t=this.#p(n,e);this.#s=Math.round(Math.sqrt(Math.pow(this.#c.x-t.x,2)+Math.pow(this.#c.y-t.y,2))/2),this.#s=this.#s<this.#o?this.#o:this.#s-this.#o,this.#S(this.#c,this.#s,this.#e.getLayerGroupByDivId(e)),this.onThresholdChange(this.#s)}#v(){this.#l&&(this.#l=!1)}mousedown=n=>{const e=nn(n),t=ft(n);this.#y(e,t.groupDivId)};mousemove=n=>{const e=nn(n),t=ft(n);this.#C(e,t.groupDivId)};mouseup=n=>{this.#v()};mouseout=n=>{this.#v()};touchstart=n=>{const e=Mn(n),t=ft(n);this.#y(e[0],t.groupDivId)};touchmove=n=>{const e=Mn(n),t=ft(n);this.#C(e[0],t.groupDivId)};touchend=n=>{this.#v()};keydown=n=>{n.context="Floodfill",this.#e.onKeydown(n)};activate(n){n&&(this.#g.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#g.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#g.setLineColour(n.shapeColour)}},Livewire:class{#e;constructor(n){this.#e=n}#t=!1;#n;#r;#i=new W0;#a=new tc;#o=new tc;#s=[];#l=5;#d(n){const e=n.get(1);for(let t=0;t<e;++t)this.#s[t]=[]}#c(){this.#a=new tc,this.#o=new tc}#u=new UL;#h(n,e){const t=this.#e.getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();i=a===void 0?t.getActiveViewLayer():t.getViewLayerById(a.getReferenceLayerId());const o=i.getViewController().getImageSize();this.#u.setDimensions(o.get(0),o.get(1)),this.#u.setData(i.getImageData().data);const l=i.displayToPlaneIndex(n);if(this.#t){const c=Math.abs(l.get(0)-this.#n.getX()),d=Math.abs(l.get(1)-this.#n.getY());if(c<this.#l&&d<this.#l)this.#g();else{this.#a=this.#o,this.#d(o);const h={x:l.get(0),y:l.get(1)};this.#u.doTraining(h),this.#a.addControlPoint(this.#o.getPoint(0))}}else{if(this.#r=void 0,this.#t=!0,this.#n=new xe(l.get(0),l.get(1)),this.#c(),this.#d(o),a===void 0){const h=i.getDataId(),f=this.#e.createAnnotationData(h);this.#e.addAndRenderAnnotationData(f,e,h),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}this.#i.setZoomScale(a.getKonvaLayer().getAbsoluteScale());const c={x:l.get(0),y:l.get(1)};this.#u.doTraining(c);const d=new xe(l.get(0),l.get(1));this.#a.addPoint(d),this.#a.addControlPoint(d)}}#f(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=t.getActiveDrawLayer();if(i===void 0)return void De.warn("No draw layer to update livewire");const a=t.getViewLayerById(i.getReferenceLayerId());if(a===void 0)return void De.warn("No view layer to update livewire");const o=a.displayToPlaneIndex(n);let l={x:o.get(0),y:o.get(1)};this.#u.setPoint(l);let c=[],d=!1;for(;!this.#s[l.y][l.x]&&!d;)if(c=this.#u.doWork(),c.length===0)d=!0;else for(let v=0;v<c.length-1;v+=2){const p=c[v],S=c[v+1];this.#s[p.y][p.x]=S}for(this.#o=new tc,d=!1;l&&!d;)this.#o.addPoint(new xe(l.x,l.y)),this.#s[l.y]&&this.#s[l.y][l.x]?l=this.#s[l.y][l.x]:d=!0;this.#o.appenPath(this.#a);const h=i.getDrawController(),f=new bi(this.#o.pointArray);let m;if(this.#r===void 0){this.#r=new gr,this.#r.colour=this.#i.getLineColour();const v=a.getViewController();this.#r.init(v),this.#r.mathShape=f,m=new E0(this.#r,h)}else{const v=this.#r.mathShape;m=new ja(this.#r,{mathShape:v},{mathShape:f},h)}this.#e.addToUndoStack(m),m.execute()}#g(){this.#t=!1}mousedown=n=>{const e=nn(n),t=ft(n);this.#h(e,t.groupDivId)};mousemove=n=>{const e=nn(n),t=ft(n);this.#f(e,t.groupDivId)};mouseup(n){}mouseout=n=>{};dblclick=n=>{this.#g()};touchstart=n=>{const e=Mn(n),t=ft(n);this.#h(e[0],t.groupDivId)};touchmove=n=>{const e=Mn(n),t=ft(n);this.#f(e[0],t.groupDivId)};touchend=n=>{};keydown=n=>{n.context="Livewire",this.#e.onKeydown(n)};activate(n){n&&(this.#i.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#i.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#i.setLineColour(n.shapeColour)}}},gg={draw:{ArrowFactory:class{#e="arrow";#t=new La(this.#d);static supports(n){return n instanceof xe}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.referencePoints=[e[1]],n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const a=this.#l(n,e);for(const c of a)t.add(c);const o=this.#t.create(n,e);t.add(o);const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new xe(a,o)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new xe(e[0]+t,e[1]+i),new xe(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const i=this.#s(t),a=ct(t,0),o=ct(t,1),l=new xe(a.x()-i.x(),a.y()-i.y()),c=new xe(o.x()-i.x(),o.y()-i.y());n.mathShape=l,n.referencePoints=[c],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new Mt(t,i),o=a.getBegin(),l=new xe(o.getX()+e.x,o.getY()+e.y),c=a.getEnd(),d=new xe(c.getX()+e.x,c.getY()+e.y);n.mathShape=l,n.referencePoints=[d],n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return n[0]}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const i=n.referencePoints[0],a=new Mt(t,i),o=new _e.default.Line({points:[t.getX(),t.getY(),i.getX(),i.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),l=Si(a,t,20,e.getZoomScale()),c=Si(a,i,20,e.getZoomScale());return o.hitFunc(function(d){d.beginPath(),d.moveTo(l.getBegin().getX(),l.getBegin().getY()),d.lineTo(l.getEnd().getX(),l.getEnd().getY()),d.lineTo(c.getEnd().getX(),c.getEnd().getY()),d.lineTo(c.getBegin().getX(),c.getBegin().getY()),d.closePath(),d.fillStrokeShape(o)}),o}#s(n){return g0(n)}#l(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new Mt(t,i),o=qb(a,40,20,e.getZoomScale());return[new _e.default.Line({points:[a.getBegin().getX(),a.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]}#d(n){return n.mathShape}#c(n,e,t){const i=n.mathShape,a=n.referencePoints[0],o=new Mt(i,a),l=e.getParent();if(!(l instanceof _e.default.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getX(),i.getY(),a.getX(),a.getY()]);const d=l.getChildren(function(S){return S.name()==="shape-triangle"})[0];if(!(d instanceof _e.default.Line))return;const h=ct(l,0),f=ct(l,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:De.error("Unhandled anchor id: "+e.id())}const m=qb(o,40,20,t.getZoomScale());d.position({x:0,y:0}),d.points([o.getBegin().getX(),o.getBegin().getY(),m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]);const v=Si(o,i,20,t.getZoomScale()),p=Si(o,a,20,t.getZoomScale());c.hitFunc(function(S){S.beginPath(),S.moveTo(v.getBegin().getX(),v.getBegin().getY()),S.lineTo(v.getEnd().getX(),v.getEnd().getY()),S.lineTo(p.getEnd().getX(),p.getEnd().getY()),S.lineTo(p.getBegin().getX(),p.getBegin().getY()),S.closePath(),S.fillStrokeShape(c)})}#u(n,e){}#h(n,e){}},CircleFactory:class{#e="circle";#t=new La(this.#l);static supports(n){return n instanceof za}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radius()*Math.sqrt(2)/2;return[new xe(e-i,t-i),new xe(e+i,t-i),new xe(e-i,t+i),new xe(e+i,t+i)]}#r(n){const e=n.x(),t=n.y(),i=n.radius();return[new xe(e-i,t),new xe(e+i,t),new xe(e,t+i),new xe(e,t-i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof _e.default.Group))return;const t=ct(e,0),i=ct(e,1),a=ct(e,2),o=ct(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:De.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=new xe(t.getCenter().getX(),t.getCenter().getY()),a=new xe(e.x(),e.y()),o=i.getDistance(a);n.mathShape=new za(i,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new xe(i.getX()+e.x,i.getY()+e.y);n.mathShape=new za(a,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),i=Math.round(Math.sqrt(e*e+t*t));return new za(n[0],i)}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape;return new _e.default.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ta)[0];if(e instanceof _e.default.Circle)return e}#l(n){const e=n.mathShape,t=e.getCenter(),i=e.getRadius();return new xe(t.getX()-i,t.getY()+i)}#d(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getRadius(),l=e.getParent();if(!(l instanceof _e.default.Group))return;this.#s(l).radius(o);const c=ct(l,0),d=ct(l,1),h=ct(l,2),f=ct(l,3),m=d.x()<c.x()?-1:1,v=f.y()<h.y()?1:-1;switch(e.id()){case"anchor0":c.x(e.x()),d.x(a.getX()+m*o),h.y(a.getY()+o),f.y(a.getY()-o);break;case"anchor1":d.x(e.x()),c.x(a.getX()-m*o),h.y(a.getY()+o),f.y(a.getY()-o);break;case"anchor2":h.y(e.y()),c.x(a.getX()-o),d.x(a.getX()+o),f.y(a.getY()-v*o);break;case"anchor3":f.y(e.y()),c.x(a.getX()-o),d.x(a.getX()+o),h.y(a.getY()+v*o);break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new _e.default.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const d=l[c],h=d[0][0],f=d[0][1],m=d[1][0],v=new _e.default.Rect({x:h-i,y:f-a,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n,e);e.add(i),i.moveToBottom()}}},EllipseFactory:class{#e="ellipse";#t=new La(this.#l);static supports(n){return n instanceof Va}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radiusX()*Math.sqrt(2)/2,a=n.radiusY()*Math.sqrt(2)/2;return[new xe(e-i,t-a),new xe(e+i,t-a),new xe(e-i,t+a),new xe(e+i,t+a)]}#r(n){const e=n.x(),t=n.y(),i=n.radius();return[new xe(e-i.x,t),new xe(e+i.x,t),new xe(e,t+i.y),new xe(e,t-i.y)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof _e.default.Group))return;const t=ct(e,0),i=ct(e,1),a=ct(e,2),o=ct(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:De.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=t.getCenter();let a=t.getA(),o=t.getB();switch(e.id()){case"anchor0":a=i.getX()-e.x();break;case"anchor1":a=e.x()-i.getX();break;case"anchor2":o=e.y()-i.getY();break;case"anchor3":o=i.getY()-e.y();break;default:De.error("Unhandled anchor id: "+e.id())}n.mathShape=new Va(i,Math.abs(a),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new xe(i.getX()+e.x,i.getY()+e.y);n.mathShape=new Va(a,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new Va(n[0],e,t)}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape,i=t.getCenter(),a={x:t.getA(),y:t.getB()};return new _e.default.Ellipse({x:i.getX(),y:i.getY(),radius:a,radiusX:a.x,radiusY:a.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ta)[0];if(e instanceof _e.default.Ellipse)return e}#l(n){const e=n.mathShape,t=e.getCenter();return new xe(t.getX()-e.getA(),t.getY()+e.getB())}#d(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getA(),l=i.getB(),c=e.getParent();if(!(c instanceof _e.default.Group))return;this.#s(c).radius({x:o,y:l});const d=ct(c,0),h=ct(c,1),f=ct(c,2),m=ct(c,3),v=h.x()<d.x()?-1:1,p=m.y()<f.y()?1:-1;switch(e.id()){case"anchor0":d.x(e.x()),h.x(a.getX()+v*o),f.y(a.getY()+l),m.y(a.getY()-l);break;case"anchor1":h.x(e.x()),d.x(a.getX()-v*o),f.y(a.getY()+l),m.y(a.getY()-l);break;case"anchor2":f.y(e.y()),d.x(a.getX()-o),h.x(a.getX()+o),m.y(a.getY()-p*l);break;case"anchor3":m.y(e.y()),d.x(a.getX()-o),h.x(a.getX()+o),f.y(a.getY()+p*l);break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new _e.default.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const d=l[c],h=d[0][0],f=d[0][1],m=d[1][0],v=new _e.default.Rect({x:h-i,y:f-a,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n,e);e.add(i),i.moveToBottom()}}},ProtractorFactory:class{#e="protractor";#t=new La(this.#d);static supports(n){return n instanceof Ga}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,i=new _e.default.Group;i.name(this.getGroupName()),i.visible(!0),i.id(n.trackingUid);const a=this.#o(n,e);if(i.add(this.#o(n,e)),t.getLength()===this.getNPoints()){const o=this.#l(n,e);for(const d of o)i.add(d);const l=this.#t.create(n,e);i.add(this.#t.create(n,e));const c=this.#n(a);i.add(this.#t.getConnector(c,l,e))}return i}#n(n){const e=n.points(),t=n.x(),i=n.y();return[new xe(e[2]+t,e[3]+i)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new xe(e[0]+t,e[1]+i),new xe(e[2]+t,e[3]+i),new xe(e[4]+t,e[5]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const i=this.#s(t),a=ct(t,0),o=ct(t,1),l=ct(t,2),c=new xe(a.x()-i.x(),a.y()-i.y()),d=new xe(o.x()-i.x(),o.y()-i.y()),h=new xe(l.x()-i.x(),l.y()-i.y());n.mathShape=new Ga([c,d,h]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<3;++a)i.push(new xe(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new Ga(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new Ga(n)}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let o=0;o<t.getLength();++o)i.push(t.getPoint(o).getX()),i.push(t.getPoint(o).getY());const a=new _e.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&a.hitFunc(function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(a)}),a}#s(n){return g0(n)}#l(n,e){const t=n.mathShape,i=new Mt(t.getPoint(0),t.getPoint(1)),a=new Mt(t.getPoint(1),t.getPoint(2));let o=fg(i,a),l=i.getInclination();o>180&&(o=360-o,l+=o);const c=33*Math.min(i.getLength(),a.getLength())/100;return[new _e.default.Arc({innerRadius:c,outerRadius:c,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-l,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]}#d(n){const e=n.mathShape,t=new Mt(e.getPoint(0),e.getPoint(1)),i=new Mt(e.getPoint(1),e.getPoint(2)),a=(t.getMidpoint().getX()+i.getMidpoint().getX())/2,o=(t.getMidpoint().getY()+i.getMidpoint().getY())/2;return new xe(a,o)}#c(n,e,t){const i=n.mathShape,a=new Mt(i.getPoint(0),i.getPoint(1)),o=new Mt(i.getPoint(1),i.getPoint(2)),l=e.getParent();if(!(l instanceof _e.default.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getPoint(0).getX(),i.getPoint(0).getY(),i.getPoint(1).getX(),i.getPoint(1).getY(),i.getPoint(2).getX(),i.getPoint(2).getY()]);const d=l.getChildren(function(C){return C.name()==="shape-arc"})[0];if(!(d instanceof _e.default.Arc))return;const h=ct(l,0),f=ct(l,1),m=ct(l,2);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;case"anchor2":m.x(e.x()),m.y(e.y())}let v=fg(a,o),p=a.getInclination();v>180&&(v=360-v,p+=v);const S=33*Math.min(a.getLength(),o.getLength())/100;d.innerRadius(S),d.outerRadius(S),d.angle(v),d.rotation(-p);const y={x:f.x(),y:f.y()};d.position(y),c.hitFunc(function(C){C.beginPath(),C.moveTo(i.getPoint(0).getX(),i.getPoint(0).getY()),C.lineTo(i.getPoint(1).getX(),i.getPoint(1).getY()),C.lineTo(i.getPoint(2).getX(),i.getPoint(2).getY()),C.closePath(),C.fillStrokeShape(c)})}#u(n,e){}#h(n,e){}},RectangleFactory:class{#e="rectangle";#t=new La(this.#l);static supports(n){return n instanceof Ba}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const a=this.#t.create(n,e);t.add(a);const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new xe(e+i/2,t),new xe(e,t+a/2),new xe(e+i/2,t+a),new xe(e+i,t+a/2)]}#r(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new xe(e,t),new xe(e+i,t),new xe(e+i,t+a),new xe(e,t+a)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const i=ct(t,0),a=ct(t,2),o=new xe(i.x(),i.y()),l=new xe(a.x(),a.y());n.mathShape=new Ba(o,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new xe(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new xe(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Ba(a,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new Ba(n[0],n[1])}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape;return new _e.default.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ta)[0];if(e instanceof _e.default.Rect)return e}#l(n){const e=n.mathShape;return new xe(e.getBegin().getX(),e.getEnd().getY())}#d(n,e,t){const i=n.mathShape,a=i.getBegin(),o=e.getParent();if(!(o instanceof _e.default.Group))return;const l=this.#s(o);l.position({x:a.getX(),y:a.getY()}),l.size({width:i.getWidth(),height:i.getHeight()});const c=ct(o,0),d=ct(o,1),h=ct(o,2),f=ct(o,3);switch(e.id()){case"anchor0":c.x(e.x()),c.y(e.y()),d.y(e.y()),f.x(e.x());break;case"anchor1":d.x(e.x()),d.y(e.y()),c.y(e.y()),h.x(e.x());break;case"anchor2":h.x(e.x()),h.y(e.y()),f.y(e.y()),d.x(e.x());break;case"anchor3":f.x(e.x()),f.y(e.y()),h.y(e.y()),c.x(e.x());break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape.getRound(),i=t.max.getX()-t.min.getX(),a=t.max.getY()-t.min.getY();return new _e.default.Rect({x:t.min.getX(),y:t.min.getY(),width:i,height:a,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n);e.add(i),i.moveToBottom()}}},RoiFactory:class{#e="roi";#t=new La(this.#l);static supports(n){return n instanceof bi}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#r(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2)a.push(new xe(e[o]+t,e[o+1]+i));return a}#r(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2){const l=(o+2)%e.length,c=(e[o]+e[l])/2+t,d=(e[o+1]+e[l+1])/2+i;a.push(new xe(c,d))}return a}getAnchors(n,e){const t=this.#n(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const i=this.#s(t),a=n.mathShape.getPoints().slice(),o=new xe(e.x()-i.x(),e.y()-i.y());a[Nb(e.id())]=o,n.mathShape=new bi(a),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(new xe(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new bi(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#r(e);this.#t.updateConnector(n,t)}#i(n){return new bi(n)}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(t.getPoint(a).getX()),i.push(t.getPoint(a).getY());return new _e.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})}#s(n){return g0(n)}#l(n){const e=n.mathShape;return new xe(e.getPoint(0).getX(),e.getPoint(0).getY())}#d(n,e,t){const i=e.getParent();if(!(i instanceof _e.default.Group))return;const a=this.#s(i),o=a.points(),l=2*Nb(e.id());o[l]=e.x()-a.x(),o[l+1]=e.y()-a.y(),a.points(o);const c=i.getChildren(function(d){return d.id()===e.id()})[0];c.x(e.x()),c.y(e.y())}#c(n,e){}#u(n,e){}},RulerFactory:class{#e="ruler";#t=new La(this.#d);static supports(n){return n instanceof Mt}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#l(n,e);for(const c of a)t.add(c);const o=this.#t.create(n,e);t.add(this.#t.create(n,e));const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new xe(a,o)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new xe(e[0]+t,e[1]+i),new xe(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Oa(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof _e.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const i=this.#s(t),a=ct(t,0),o=ct(t,1),l=new xe(a.x()-i.x(),a.y()-i.y()),c=new xe(o.x()-i.x(),o.y()-i.y());n.mathShape=new Mt(l,c),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new xe(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new xe(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Mt(a,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new Mt(n[0],n[1])}#a(){return Ra[this.#e]}#o(n,e){const t=n.mathShape,i=new _e.default.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),a=Si(t,t.getBegin(),20,e.getZoomScale()),o=Si(t,t.getEnd(),20,e.getZoomScale());return i.hitFunc(function(l){l.beginPath(),l.moveTo(a.getBegin().getX(),a.getBegin().getY()),l.lineTo(a.getEnd().getX(),a.getEnd().getY()),l.lineTo(o.getEnd().getX(),o.getEnd().getY()),l.lineTo(o.getBegin().getX(),o.getBegin().getY()),l.closePath(),l.fillStrokeShape(i)}),i}#s(n){return g0(n)}#l(n,e){const t=n.mathShape,i=Si(t,t.getBegin(),20,e.getZoomScale()),a=new _e.default.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=Si(t,t.getEnd(),20,e.getZoomScale());return[a,new _e.default.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]}#d(n){const e=n.mathShape,t=e.getBegin(),i=e.getEnd();let a=t;return t.getY()<i.getY()&&(a=i),a}#c(n,e,t){const i=n.mathShape,a=e.getParent();if(!(a instanceof _e.default.Group))return;const o=this.#s(a);o.position({x:0,y:0}),o.points([i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()]);const l=a.getChildren(function(v){return v.name()==="shape-tick0"})[0];if(!(l instanceof _e.default.Line))return;const c=a.getChildren(function(v){return v.name()==="shape-tick1"})[0];if(!(c instanceof _e.default.Line))return;const d=ct(a,0),h=ct(a,1);switch(e.id()){case"anchor0":d.x(e.x()),d.y(e.y());break;case"anchor1":h.x(e.x()),h.y(e.y());break;default:De.error("Unhandled anchor id: "+e.id())}const f=Si(i,i.getBegin(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([f.getBegin().getX(),f.getBegin().getY(),f.getEnd().getX(),f.getEnd().getY()]);const m=Si(i,i.getEnd(),20,t.getZoomScale());c.position({x:0,y:0}),c.points([m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]),o.hitFunc(function(v){v.beginPath(),v.moveTo(f.getBegin().getX(),f.getBegin().getY()),v.lineTo(f.getEnd().getX(),f.getEnd().getY()),v.lineTo(m.getEnd().getX(),m.getEnd().getY()),v.lineTo(m.getBegin().getX(),m.getBegin().getY()),v.closePath(),v.fillStrokeShape(o)})}#u(n,e){}#h(n,e){}}},filter:{Threshold:class{#e;constructor(n){this.#e=n}#t=new NL;#n=!0;#r=new $n;activate(n){n&&(this.#n=!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(this.#t.setMin(n.min),this.#t.setMax(n.max),this.#n){const t=this.#e.getData(n.dataId).image;this.#t.setOriginalImage(t),this.#n=!1}const e=new A1(this.#t,n.dataId,this.#e);e.onExecute=this.#i,e.onUndo=this.#i,e.execute(),this.#e.addToUndoStack(e)}addEventListener(n,e){this.#r.add(n,e)}removeEventListener(n,e){this.#r.remove(n,e)}#i=n=>{this.#r.fireEvent(n)}},Sobel:class{#e;constructor(n){this.#e=n}#t=new $n;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new BL,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new A1(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}},Sharpen:class{#e;constructor(n){this.#e=n}#t=new $n;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new qL,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new A1(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}}}};class gr{trackingId;trackingUid;referencedSopInstanceUID;referencedSopClassUID;referencedFrameNumber;mathShape;referencePoints;colour="#ffff80";quantification;textExpr="";labelPosition;planeOrigin;planePoints;#e;#t={};constructor(){this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=UO("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(this.#t)}getMetaItem(e){return this.#t[e]}addMetaItem(e,t){const i=e.value;this.#t[i]!==void 0&&De.warn("Overwriting annotation meta with id="+i),this.#t[e.value]={concept:e,value:t}}removeMetaItem(e){this.#t[e]!==void 0&&delete this.#t[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=SO(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void De.debug("Cannot initialise annotation twice");this.#e=e;const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return this.#e!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const i=e.getCosines(),a=new Rt(i[0],i[1],i[2]),o=new Rt(i[3],i[4],i[5]);a.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(this.#e=e,this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):De.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}#n(){let e;if(this.#e!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const i=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&i.push(this.referencedFrameNumber);const a=new yr(i);e=this.#e.getIndexFromPosition(a)}return e}getCentroid(){let e;if(this.#e!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=this.#n(),i=this.#e.getScrollDimIndex(),a=t.getValues()[i],o=this.mathShape.getCentroid();if(e=this.#e.getPositionFromPlanePoint(o,a),this.referencedFrameNumber!==void 0){const l=e.getValues();l[3]=this.referencedFrameNumber,e=new yr(l)}}return e}setTextExpr(e){if(this.#e!==void 0){const t=this.#e.getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else De.warn("Cannot set text expr without a view controller")}getText(){return function(e,t){let i="";if(e==null||(i=e,t==null))return i;const a=k5(e);for(let o=0;o<a.length;++o){const l=t[a[o]];if(l!=null&&l.value!==null&&l.value!==void 0){let c=l.value.toPrecision(4);l.unit!==null&&l.unit!==void 0&&l.unit.length!==0&&(l.unit!=="unit.degree"&&(c+=" "),c+=yO.t(l.unit));const d="{"+a[o]+"}";i=i.replace(d,c)}}return i}(this.textExpr,this.quantification)}updateQuantification(){this.#e!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(this.#e,this.#n(),k5(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(M0.draw!==void 0)for(const t in M0.draw){const i=M0.draw[t];if(i.supports(this.mathShape)){e=new i;break}}if(e===void 0)for(const t in gg.draw){const i=gg.draw[t];if(i.supports(this.mathShape)){e=new i;break}}return e===void 0&&De.warn("No shape factory found for math shape"),e}}class m0{#e;#t=null;#n;#r;#i={x:1,y:1};#a={x:1,y:1,z:1};#o={x:0,y:0};#s={x:0,y:0};#l={x:0,y:0};#d={x:0,y:0};#c={x:0,y:0};#u;#h;#f;#g;#m;#p;#b=!0;constructor(e){this.#e=e,this.#e.className+=" drawLayer"}setShapeHandler(e){this.#p=e}getDataId(){return this.#f}getReferenceLayerId(){return this.#g}#S=new $n;getKonvaStage(){return this.#t}getKonvaLayer(){return this.#t.getLayers()[0]}getDrawController(){return this.#u}setPlaneHelper(e){this.#h=e}getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#n}getOpacity(){return this.#t.opacity()}setOpacity(e){this.#t.opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=this.#t.scale(),t=this.#t.size();this.#c.x+=t.width/e.x;const i=this.#t.offset();i.x+=this.#c.x,this.#t.offset(i)}addFlipOffsetY(){const e=this.#t.scale(),t=this.#t.size();this.#c.y+=t.height/e.y;const i=this.#t.offset();i.y+=this.#c.y,this.#t.offset(i)}flipScaleX(){this.#a.x*=-1}flipScaleY(){this.#a.y*=-1}flipScaleZ(){this.#a.z*=-1}setScale(e,t){const i=this.#h.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),a={x:this.#i.x*i.x,y:this.#i.y*i.y},o=this.#t.offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:o.x-this.#l.x,y:o.y-this.#l.y};this.#l={x:0,y:0},this.#t.offset(l)}else if(t!==void 0){let l=this.#h.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#o.x,y:l.y+this.#o.y};const c=l3(o,this.#t.scale(),a,l),d={x:this.#l.x+c.x-o.x,y:this.#l.y+c.y-o.y};this.#l=d,this.#t.offset(c)}this.#t.scale(a),this.#L(a)}initScale(e,t){const i=this.#h.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),a={x:this.#i.x*i.x,y:this.#i.y*i.y};this.#t.scale(a),this.#l={x:t.x/this.#i.x,y:t.y/this.#i.y};const o=this.#t.offset();this.#t.offset({x:o.x+this.#l.x,y:o.y+this.#l.y})}setOffset(e){const t=this.#h.getPlaneOffsetFromOffset3D(e),i=this.#t.offset();this.#t.offset({x:i.x-this.#d.x+t.x,y:i.y-this.#d.y+t.y}),this.#d=t}setBaseOffset(e,t){const i=this.#h.getNativeScrollDimIndex(),a=this.#h.getPlaneOffsetFromOffset3D({x:i===0?e.getX():t.getX(),y:i===1?e.getY():t.getY(),z:i===2?e.getZ():t.getZ()}),o=this.#o.x!==a.x||this.#o.y!==a.y;if(o){const l=this.#t.offset();this.#t.offset({x:l.x-this.#o.x+a.x,y:l.y-this.#o.y+a.y}),this.#o=a}return o}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){this.#t.draw()}initialise(e,t,i){this.#n=e,this.#r=t,this.#g=i,this.#t=new _e.default.Stage({container:this.#e,width:this.#n.x,height:this.#n.y,listening:!1}),this.#t.getContent().setAttribute("style","");const a=new _e.default.Layer({listening:!1,visible:!0});this.#t.add(a)}setAnnotationGroup(e,t,i){if(this.#f=t,e.addEventListener("annotationadd",a=>{this.#w(a.data,!0),this.getKonvaLayer().draw()}),e.addEventListener("annotationupdate",a=>{this.#T(a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationremove",a=>{this.#D(a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationgroupeditablechange",a=>{this.activateCurrentPositionShapes(a.data)}),this.#u=new sL(e),e.getLength()!==0)for(const a of e.getList())this.#w(a,!1),i(new E0(a,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(this.#t.listening(!1),this.#p!==void 0){this.#p.disableAndResetEditor();const a=t.getChildren();for(const o of a)o instanceof _e.default.Group&&o.getChildren().forEach(l=>{l instanceof _e.default.Group&&this.#p.removeShapeListeners(l)})}const i=this.getDrawController();if(e&&i.getAnnotationGroup().isEditable()){this.#t.listening(!0);const a=this.#R().getChildren();a.length!==0&&t.listening(!0),this.#p!==void 0&&a.forEach(o=>{if(o instanceof _e.default.Group){const l=i.getAnnotation(o.id());this.#p.addShapeGroupListeners(o,l,this)}})}t.draw()}#y(e){let t,i;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(i=this.#C(t,e.referencedFrameNumber)),i}#C(e,t){let i="";for(const a of e)i.length!==0&&(i+="-"),i+=bO([Ni(a.getX(),2),Ni(a.getY(),2),Ni(a.getZ(),2)]);return t!==void 0&&(i+="-"+t),i}#v(e){let t;const i=this.#y(e),a=this.getKonvaLayer().getChildren(D1(i));if(a.length!==0){const o=a[0];if(!(o instanceof _e.default.Group))return;const l=o.getChildren(D1(e.trackingUid));l.length!==0&&l[0]instanceof _e.default.Group&&(t=l[0])}return t}#w(e,t){if(!e.canView()||!e.isCompatibleView(this.#h))return;const i=this.#y(e);let a=this.getKonvaLayer().getChildren(D1(i))[0];if(a===void 0&&(a=new _e.default.Group({id:i,name:"position-group",visible:t}),this.getKonvaLayer().add(a)),!(a instanceof _e.default.Group))return;const o=new W0,l=this.getKonvaStage();o.setZoomScale(l.scale());const c=e.getFactory();if(c===void 0)throw new Error("Cannot add an annotation draw without factory");const d=c.createShapeGroup(e,o);a.add(d),t&&this.#p!==void 0&&this.#p.addShapeGroupListeners(d,e,this),this.setLabelVisibility(d)}#D(e){const t=this.#v(e);return t instanceof _e.default.Group?(t.remove(),!0):(De.debug("No shape group to remove"),!1)}#T(e){this.#D(e)&&this.#w(e,!0)}fitToContainer(e,t,i){const a={x:t*this.#r.x,y:t*this.#r.y},o=a.x/this.#i.x,l=a.y/this.#i.y,c=e.x/(this.#t.width()*o),d=e.y/(this.#t.height()*l);this.#t.width()===e.x&&this.#t.height()===e.y||(this.#t.width(e.x),this.#t.height(e.y));const h={x:this.#t.scale().x*o,y:this.#t.scale().y*l};this.#t.scale().x===h.x&&this.#t.scale().y===h.y||(this.#i=a,this.#t.scale(h),this.#L(h));const f={x:i.x/a.x,y:i.y/a.y},m={x:e.x/a.x,y:e.y/a.y},v={x:this.#c.x!==0?m.x:0,y:this.#c.y!==0?m.y:0};if(this.#s.x!==f.x||this.#s.y!==f.y||this.#c.x!==v.x||this.#c.y!==v.y){const p={x:this.#l.x*c,y:this.#l.y*d};this.#t.offset({x:this.#t.offset().x+f.x-this.#s.x+v.x-this.#c.x+p.x-this.#l.x,y:this.#t.offset().y+f.y-this.#s.y+v.y-this.#c.y+p.y-this.#l.y}),this.#c=v,this.#s=f,this.#l=p}}isAnnotationVisible(e){const t=this.#O(e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const i=this.#O(e);return i!==void 0&&(t===void 0&&(t=!i.isVisible()),i.visible(t),this.draw(),!0)}setLabelsVisibility(e){this.#b=e;const t=this.getKonvaLayer().getChildren();for(const i of t)if(i instanceof _e.default.Group){const a=i.getChildren();for(const o of a)o instanceof _e.default.Group&&this.#A(o,e)}}#A(e,t){const i=e.getChildren(hg)[0];if(i instanceof _e.default.Label&&(t===void 0&&(t=!i.isVisible()),i.getText()!==void 0&&i.getText().text().length!==0)){i.visible(t);const a=e.getChildren(o=>o.className==="Line"&&o.name()==="connector")[0];a&&a.visible(t)}}setLabelVisibility(e){this.#A(e,this.#b)}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const i of e)i instanceof _e.default.Group&&(t+=i.getChildren().length);return t}bindInteraction(){this.#t.listening(!0),this.#e.style.pointerEvents="auto";const e=os;for(let t=0;t<e.length;++t)this.#e.addEventListener(e[t],this.#P)}unbindInteraction(){this.#t.listening(!1),this.#e.style.pointerEvents="none";const e=os;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#P)}setCurrentPosition(e,t){t===void 0&&(t=this.#h.worldToIndex(e));const i=this.#h.getPlanePoints(e);let a,o;a=this.#h.isAquisitionOrientation()?[i[0]]:i,e.length()>3&&(o=e.get(3));const l=this.#C(a,o);return this.#x(l),this.#P({type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}#x(e){this.#m=e;const t=this.getKonvaLayer().getChildren(o3);let i;for(let a=0,o=t.length;a<o;++a)i=!1,e!==void 0&&t[a].id()===e&&(i=!0),t[a].visible(i);this.getKonvaLayer().draw()}#R(){if(this.#m===void 0)return;const e=this.getKonvaLayer().getChildren(i=>i.id()===this.#m);let t;return e.length===1?e[0]instanceof _e.default.Group&&(t=e[0]):e.length===0?(t=new _e.default.Group,t.name("position-group"),t.id(this.#m),t.visible(!0),this.getKonvaLayer().add(t)):De.warn("Unexpected number of draw position groups"),t}#O(e){return this.getKonvaLayer().findOne("#"+e)}addEventListener(e,t){this.#S.add(e,t)}removeEventListener(e,t){this.#S.remove(e,t)}#P=e=>{e.srclayerid=this.getId(),e.dataid=this.#f,this.#S.fireEvent(e)};#L(e){const t=2/e.x,i=2/e.y,a=this.#t.find("Label");for(let o=0;o<a.length;++o)a[o].scale({x:t,y:i})}}function zL(n){const e=[0,0,0],t=n.split("#");for(const i of t){const a=i.split("-");e[a[0]]=a[1]}return e}function F0(n){const e=n.split("-layer-");return e.length!==2&&De.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function ft(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=F0(t.id)),e}function l3(n,e,t,i){const a=(i.x-n.x)*e.x,o=(i.y-n.y)*e.y;return{x:i.x-a/t.x,y:i.y-o/t.y}}class QL{#e;#t=[];#n={x:1,y:1,z:1};#r={x:1,y:1,z:1};#i={x:0,y:0,z:0};#a=void 0;#o=new $n;#s=!1;#l=[];#d;#c;#u=!1;#h;getPositionHelper(){if(this.#h===void 0){for(const e of this.#t)if(e instanceof Tn){const t=e.getViewController().getPositionHelperClone();this.#h===void 0?this.#h=t:this.#h.merge(t)}}return this.#h}constructor(e){this.#e=e}getShowCrosshair(){return this.#s}setShowCrosshair(e){this.#s=e,e?(this.addEventListener("offsetchange",this.#f),this.addEventListener("zoomchange",this.#f),this.#y()):(this.removeEventListener("offsetchange",this.#f),this.removeEventListener("zoomchange",this.#f),this.#C())}setImageSmoothing(e){this.#u=e;for(const t of this.#t)t instanceof Tn&&t.setImageSmoothing(e)}#f=e=>{this.#y()};getDivId(){let e;return this.#e!==null&&(e=this.#e.id),e}getScale(){return this.#n}getBaseScale(){return this.#r}getAddedScale(){return{x:this.#n.x/this.#r.x,y:this.#n.y/this.#r.y,z:this.#n.z/this.#r.z}}getOffset(){return this.#i}getNumberOfLayers(){let e=0;return this.#t.forEach(t=>{t!==void 0&&e++}),e}includes(e){if(e===void 0)return!1;for(const t of this.#t)if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof Tn&&e(i)&&t.push(i);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;this.#a!==void 0&&(t=this.#a);const i=[];for(let o=t;o>=0;o--)i.push(o);for(let o=this.#t.length-1;o>t;o--)i.push(o);const a=[];for(const o of i){const l=this.#t[o];l instanceof Tn&&e(l)&&a.push(l)}return a}someViewLayer(e){let t=!1;for(const i of this.#t)if(i instanceof Tn&&e(i)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof m0&&e(i)&&t.push(i);return t}getNumberOfViewLayers(){let e=0;return this.#t.forEach(t=>{t!==void 0&&t instanceof Tn&&e++}),e}getActiveLayer(){let e;return this.#a!==void 0&&(e=this.#t[this.#a]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof Tn&&(e=t),e}getBaseViewLayer(){let e;for(const t of this.#t)if(t instanceof Tn){e=t;break}if(e!==void 0)return e;De.warn("No layer found")}getViewLayerById(e){const t=this.getViewLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getViewLayersByDataId(e){return this.getViewLayers(function(t){return t.getDataId()===e})}searchViewLayers(e){const t=structuredClone(e);let i;t.SOPInstanceUID!==void 0&&(i=t.SOPInstanceUID,delete t.SOPInstanceUID);const a=i!==void 0,o=Object.keys(t).length!==0,l=[];for(const c of this.#t)if(c instanceof Tn){let d=!1;o&&(d=c.getViewController().equalImageMeta(t));let h=!1;a&&(h=c.getViewController().includesImageUid(i));let f=!1;o&&a?f=d&&h:o?f=d:a&&(f=h),f&&l.push(c)}return l}getViewDataIndices(){const e=[];for(const t of this.#t)t instanceof Tn&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof m0&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getDrawLayersByDataId(e){return this.getDrawLayers(function(t){return t.getDataId()===e})}setActiveLayer(e){this.#a=e,this.#v({type:"activelayerchange",value:[this.#t[e]]})}setActiveLayerById(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):De.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getDataId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):De.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=this.#t.length,t=this.#S();this.#e.append(t);const i=new Tn(t);return i.setImageSmoothing(this.#u),this.#t.push(i),this.setActiveLayer(e),this.#g(i),this.#h=void 0,i}addDrawLayer(){this.#a=this.#t.length;const e=this.#S();this.#e.append(e);const t=new m0(e);return this.#t.push(t),this.#p(t),t}#g(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of as)e.addEventListener(t,this.#v);e.addEventListener("renderstart",this.#v),e.addEventListener("renderend",this.#v)}#m(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of as)e.removeEventListener(t,this.#v);e.removeEventListener("renderstart",this.#v),e.removeEventListener("renderend",this.#v),e.unbindImage()}#p(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",this.#v)}#b(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",this.#v)}#S(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+this.#t.length,e.className="layer",e.style.pointerEvents="none",e}empty(){for(const e of this.#t)e!==void 0&&this.removeLayer(e);this.#t=[],this.#C()}removeLayersByDataId(e){for(const t of this.#t)t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=this.#t.findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layer to remove");this.#a===t&&(this.#a=void 0),e instanceof Tn?this.#m(e):this.#b(e),this.#t[t]=void 0,this.#h=void 0,e.removeFromDOM(),this.#v({type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}#y(e){let t;e===void 0&&(e=this.#c),this.#C();for(const o of this.#t)if(o instanceof Tn){t=o;break}if(t===void 0)return void De.warn("No layer to show crosshair");const i=t.getViewController().getPlanePositionFromPosition(e),a=t.planePosToDisplay(i);if(a.getY()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-horizontal",o.className="horizontal",o.style.width=this.#e.offsetWidth+"px",o.style.left="0px",o.style.top=a.getY()+"px",this.#l.push(o),this.#e.appendChild(o)}if(a.getX()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-vertical",o.className="vertical",o.style.width=this.#e.offsetHeight+"px",o.style.left=a.getX()+"px",o.style.top="0px",this.#l.push(o),this.#e.appendChild(o)}}#C(){for(const e of this.#l)e.remove();this.#l=[]}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),i=t.getViewController(),a=t.displayToPlanePos(e),o=i.getPositionFromPlanePoint(a),l=i.getRescaledImageValue(o);if(l!==void 0){const c=document.createElement("span");c.id="scroll-tooltip",c.style.left=e.getX()+10+"px",c.style.top=e.getY()+10+"px";let d=Ni(l,3).toString();i.getPixelUnit()!==void 0&&(d+=" "+i.getPixelUnit()),c.appendChild(document.createTextNode(d)),this.#d=c,this.#e.appendChild(c)}}removeTooltipDiv(){this.#d!==void 0&&(this.#d.remove(),this.#d=void 0)}isPositionInBounds(e){return this.someViewLayer(function(t){return t.getViewController().isPositionInBounds(e)})}canScroll(){return this.someViewLayer(function(e){return e.getViewController().canScroll()})}moreThanOne(e){return this.someViewLayer(function(t){return t.getViewController().moreThanOne(e)})}updateLayersToPositionChange=e=>{for(const c of this.#t)c!==void 0&&(c.removeEventListener("positionchange",this.updateLayersToPositionChange),c.removeEventListener("positionchange",this.#v));const t=new gt(e.value[0]),i=new yr(e.value[1]);this.#c=i,this.#s&&this.#y(i);const a={};let o,l;for(const c of this.#t){if(c===void 0)continue;let d=!1;if(c instanceof Tn){const f=c.getViewController(),m=f.getOrigin(),v=f.getOrigin(i);let p,S;if(l===void 0)o=m,l=v,p=new Bt(0,0,0),S=new Bt(0,0,0);else if(f.isPositionInBounds(i)&&v!==void 0){const y=o.minus(m);p=new Bt(y.getX(),y.getY(),y.getZ());const C=l.minus(v);S=new Bt(C.getX(),C.getY(),C.getZ())}p!==void 0&&S!==void 0&&(d=c.setBaseOffset(p,S,l,o),a[c.getId()]={scroll:p,plane:S})}if(c instanceof m0){const f=a[c.getReferenceLayerId()];f!==void 0&&(d=c.setBaseOffset(f.scroll,f.plane))}let h=!1;c.getId()!==e.srclayerid&&(h=c.setCurrentPosition(i,t)),!h&&d&&c.draw()}for(const c of this.#t)c!==void 0&&(c.addEventListener("positionchange",this.updateLayersToPositionChange),c.addEventListener("positionchange",this.#v))};getDivToWorldSizeRatio(){if(this.#e.offsetWidth===0&&this.#e.offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+this.#e.id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(this.#e.offsetHeight===0){const t=this.#e.offsetWidth/e.x,i=e.y*t;this.#e.style.height=i+"px"}return Math.min(this.#e.offsetWidth/e.x,this.#e.offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const i={x:this.#e.offsetWidth,y:this.#e.offsetHeight},a={x:-.5*(i.x-Math.floor(t.x*e)),y:-.5*(i.y-Math.floor(t.y*e))};for(const o of this.#t)o!==void 0&&o.fitToContainer(i,e,a);this.#s&&this.#y()}getMaxWorldSize(){let e={x:0,y:0};for(const t of this.#t)if(t instanceof Tn){const i=t.getImageWorldSize();i.x>e.x&&(e.x=i.x),i.y>e.y&&(e.y=i.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){this.#r.z*=-1,this.setScale(this.#r)}addScale(e,t){const i={x:this.#n.x*(1+e),y:this.#n.y*(1+e),z:this.#n.z*(1+e)};this.setScale(i,t)}setScale(e,t){this.#n=e;for(const a of this.#t)a!==void 0&&a.setScale(this.#n,t);const i=[e.x,e.y,e.z];t!==void 0&&(i.push(t.getX()),i.push(t.getY()),i.push(t.getZ())),this.#v({type:"zoomchange",value:i})}addTranslation(e){this.setOffset({x:this.#i.x-e.x,y:this.#i.y-e.y,z:this.#i.z-e.z})}setOffset(e){this.#i=e;for(const t of this.#t)t!==void 0&&t.setOffset(this.#i);this.#v({type:"offsetchange",value:[this.#i.x,this.#i.y,this.#i.z]})}reset(){this.setScale(this.#r),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(this.#r),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of this.#t)if(t!==void 0&&t instanceof Tn){const i=t.getViewController();e&&(i.resetPosition(),e=!1),i.resetWindowLevel()}}draw(){for(const e of this.#t)e!==void 0&&e.draw()}display(e){for(const t of this.#t)t!==void 0&&t.display(e)}addEventListener(e,t){this.#o.add(e,t)}removeEventListener(e,t){this.#o.remove(e,t)}#v=e=>{this.#o.fireEvent(e)}}const Hb={WindowLevelBinder:class{getEventType=function(){return"wlchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const i=t[0].getViewController();if(e.value.length===2){const a=new Un(e.value[0],e.value[1]);i.setWindowLevel(a)}e.value.length===3&&i.setWindowLevelPreset(e.value[2])}}}},PositionBinder:class{getEventType=function(){return"positionchange"};getCallback=function(n){return function(e){const t=e.value[1],i=n.getBaseViewLayer().getViewController(),a=i.getCurrentPosition(),o=a.length(),l=t.length;l!==o&&(l===o-1?t.push(a.get(o-1)):l===o+1&&t.pop()),i.setCurrentPosition(new yr(t))}}},ZoomBinder:class{getEventType=function(){return"zoomchange"};getCallback=function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let i;e.value.length===6&&(i=new Rt(e.value[3],e.value[4],e.value[5])),n.setScale(t,i),n.draw()}}},OffsetBinder:class{getEventType=function(){return"offsetchange"};getCallback=function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}}},OpacityBinder:class{getEventType=function(){return"opacitychange"};getCallback=function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),i=n.getBaseViewLayer();t.length!==0&&i!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}}},ColourMapBinder:class{getEventType=function(){return"colourmapchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}}}};class HL{#e=[];#t;#n=!1;#r=[];#i=null;getLayerGroup(e){return this.#e[e]}getNumberOfLayerGroups(){return this.#e.length}getActiveLayerGroup(){return this.getLayerGroup(this.#t)}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?this.#t=e:De.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayers(e));return t}addLayerGroup(e){this.#t=this.#e.length;const t=new QL(e);t.setImageSmoothing(this.#n);const i=this.#i&&this.#i.length!==0;return i&&this.unbindLayerGroups(),this.#e.push(t),i&&this.bindLayerGroups(),t}getLayerGroupByDivId(e){return this.#e.find(function(t){return t.getDivId()===e})}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");this.#r.length!==0&&this.unbindLayerGroups(),this.#r=e.slice(),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of this.#e)e.empty();this.#e=[],this.#t=void 0}removeLayersByDataId(e){for(const t of this.#e)t.removeLayersByDataId(e)}removeLayerGroup(e){const t=this.#e.findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),this.#e.splice(t,1),this.#t===t&&(this.#t=void 0),this.bindLayerGroups()}reset(){for(const e of this.#e)e.reset()}resetZoomPan(){for(const e of this.#e)e.resetZoomPan()}resetViews(){for(const e of this.#e)e.resetViews()}draw(){for(const e of this.#e)e.draw()}fitToContainer(){let e;const t=[];for(let i=0;i<this.#e.length;++i){const a=this.#e[i].getDivToWorldSizeRatio();a!==void 0&&(t.push(i),(e===void 0||a<e)&&(e=a))}if(e!==void 0)for(let i=0;i<this.#e.length;++i)t.includes(i)&&this.#e[i].fitToContainer(e)}bindLayerGroups(){if(this.#e.length!==0&&this.#e.length!==1&&this.#r.length!==0){this.#i=new Array(this.#e.length);for(let e=0;e<this.#e.length;++e)for(let t=0;t<this.#r.length;++t)this.#o(e,this.#r[t])}}unbindLayerGroups(){if(this.#e.length!==0&&this.#e.length!==1&&this.#r.length!==0&&this.#i){for(let e=0;e<this.#e.length;++e)for(let t=0;t<this.#r.length;++t)this.#s(e,this.#r[t]);this.#i=null}}setImageSmoothing(e){this.#n=e;for(const t of this.#e)t.setImageSmoothing(e)}#a(e,t){this.#i[t]===void 0&&(this.#i[t]=[]);let i=this.#i[t].find(function(a){return a.binder===e});return i===void 0&&(i={binder:e,callback:a=>{this.#s(t,e),e.getCallback(this.#e[t])(a),this.#o(t,e)}},this.#i[t].push(i)),i.callback}#o(e,t){for(let i=0;i<this.#e.length;++i)i!==e&&this.#e[e].addEventListener(t.getEventType(),this.#a(t,i))}#s(e,t){for(let i=0;i<this.#e.length;++i)i!==e&&this.#e[e].removeEventListener(t.getEventType(),this.#a(t,i))}}class jL{#e;constructor(e){this.#e=e}fromJSON(e){const t=JSON.parse(e);let i=null;if(t.version==="0.1")i=this.#t(t);else if(t.version==="0.2")i=this.#n(t);else if(t.version==="0.3")i=this.#r(t);else if(t.version==="0.4")i=this.#i(t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");i=this.#a(t)}return i}apply(e,t){const i=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),a=new Un(t["window-center"],t["window-width"]);i.setWindowLevel(a);const o=e.getActiveLayerGroup().getBaseScale();let l=null,c=null;if(t.scaleCenter!==void 0){l={x:t.scale*o.x,y:t.scale*o.y,z:1};const d=t.scaleCenter.x-t.scaleCenter.x*t.scale,h=t.scaleCenter.y-t.scaleCenter.y*t.scale,f=d+t.translation.x*l.x,m=h+t.translation.y*l.y;c={x:-f/l.x,y:-m/l.y,z:0}}else l={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},c={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(l),e.getActiveLayerGroup().setOffset(c),e.setDrawings(t.drawings,t.drawingsDetails,this.#e)}#t(e){const t=function(i){const a=[],o={};let l,c;for(let d=0,h=i.length;d<h;++d){a[d]=[];for(let f=0,m=i[d].length;f<m;++f){l=i[d][f];const v=[];for(let p=0,S=l.length;p<S;++p){c=_e.default.Node.create(l[p]),c.visible(!0);let y={x:0,y:0};const C=c.getChildren(function(E){return E.name()==="shape"})[0];if(C.stroke(hO(C.stroke())),c.name()==="line-group"){c.name("ruler-group");const E=new _e.default.Line({points:[C.points()[0],C.points()[1],C.points()[0],C.points()[1]],name:"shape-tick0"});c.add(E);const _=new _e.default.Line({points:[C.points()[2],C.points()[3],C.points()[2],C.points()[3]],name:"shape-tick1"});c.add(_)}const w=c.getChildren(function(E){return E.name()==="arc"});w.length===1&&w[0].name("shape-arc");const D=c.getChildren(function(E){return E.name()==="text"});let b=new _e.default.Text({name:"text",text:""});D.length===1?(y.x=D[0].x(),y.y=D[0].y(),D[0].remove(),b=D[0]):C.points().length!==0&&(y={x:C.points()[0],y:C.points()[1]});const x=new _e.default.Label({x:y.x,y:y.y,name:"label"});x.add(b),x.add(new _e.default.Tag),c.add(x),v.push(JSON.stringify(c.toObject()));let A=b.text();const I=A.length;let k=null;c.name()==="ruler-group"?(k={length:{value:parseFloat(A.substring(0,I-2)),unit:A.substring(-2)}},A="{length}"):c.name()==="ellipse-group"||c.name()==="rectangle-group"?(k={surface:{value:parseFloat(A.substring(0,I-3)),unit:A.substring(-3)}},A="{surface}"):c.name()!=="protractor-group"&&c.name()!=="rectangle-group"||(k={angle:{value:parseFloat(A.substring(0,I-1)),unit:A.substring(-1)}},A="{angle}"),o[c.id()]={textExpr:A,longText:"",quant:k}}a[d].push(v)}}return{drawings:a,drawingsDetails:o}}(e.drawings);return e.drawings=jb(t.drawings).toObject(),e.drawingsDetails=P1(t.drawingsDetails),(e=S0(e)).drawings=y0(e.drawings),e}#n(e){return e.drawings=jb(e.drawings).toObject(),e.drawingsDetails=P1(function(t){const i={},a=typeof t=="string"?JSON.parse(t):t;for(let o=0,l=a.length;o<l;++o)for(let c=0,d=a[o].length;c<d;++c)for(let h=0,f=a[o][c].length;h<f;++h){const m=a[o][c][h];i[m.id]={textExpr:m.textExpr,longText:m.longText,quant:m.quant}}return i}(e.drawingsDetails)),(e=S0(e)).drawings=y0(e.drawings),e}#r(e){return e.drawingsDetails=P1(e.drawingsDetails),(e=S0(e)).drawings=y0(e.drawings),e}#i(e){return(e=S0(e)).drawings=y0(e.drawings),e}#a(e){return e}}function jb(n){let e,t,i;const a=new _e.default.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let c=0,d=o.length;c<d;++c)for(let h=0,f=o[c].length;h<f;++h)if(t=o[c][h],t.length!==0){i=new _e.default.Group({id:(l=new gt([1,1,c,h]),"slice-"+l.get(2)+"_frame-"+(l.length()===4?l.get(3):0)),name:"position-group",visible:!1});for(let m=0,v=t.length;m<v;++m)e=_e.default.Node.create(t[m]),e.draggable(!0),e.getChildren().forEach(function(p){p.draggable(!1)}),i.add(e);a.add(i)}var l;return a}function P1(n){const e={},t=Object.keys(n);for(let i=0,a=t.length;i<a;++i){const o=n[t[i]];e[t[i]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function S0(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function y0(n){const e=n.children;for(let t=0,i=e.length;t<i;++t){const a=e[t],o=a.attrs.id.split("_"),l=parseInt(o[0].substring(6),10),c=parseInt(o[1].substring(6),10);let d="#2-";d+=l===0&&c!==0?c:l,a.attrs.id=d}return n}function nc(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function Yb(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let i=n.indexOf("#");i===-1&&(i=n.length);const a=n.substring(t+1,i);e.query=function(o){const l={};if(o){const c=o.split("&");for(let d=0;d<c.length;++d){const h=c[d].split("=");l[h[0]]?(l[h[0]]instanceof Array||(l[h[0]]=[l[h[0]]]),l[h[0]].push(h[1])):l[h[0]]=h[1]}}return l}(a)}return e}class Xb extends EventTarget{#e=[];#t=0;getStackSize(){return this.#e.length}getCurrentStackIndex(){return this.#t}getCurrentCommand(){return this.#e[this.#t-1]}add(e){this.#e=this.#e.slice(0,this.#t),this.#e.push(e),++this.#t,this.dispatchEvent(new Event("undoadd"))}remove(e){let t=!1;const i=this.#e.findIndex(function(a){return a.getName()===e});return i!==-1&&(t=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:e}})),this.#e.splice(i,1),--this.#t),t}undo(){this.#t>0&&(this.dispatchEvent(new Event("undo")),--this.#t,this.#e[this.#t].undo())}redo(){this.#t<this.#e.length&&(this.#e[this.#t].execute(),++this.#t,this.dispatchEvent(new Event("redo")))}}class YL{#e;#t=null;#n=[];#r={};constructor(e){this.#e=e}init(){for(const e in this.#e)this.#e[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",this.#l("window","keydown"),!0):window.removeEventListener("keydown",this.#l("window","keydown"),!0)}getToolList(){return this.#e}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return this.#t}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");this.#t&&this.#t.activate(!1),this.#t=this.#e[e],this.#t.activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const i=e.getDivId();e.addEventListener("activelayerchange",this.#a(i)),this.#i(i,t)}#i(e,t){this.#r[e]!==void 0&&this.#s(this.#r[e]),this.#r[e]=t,this.#o(t)}#a(e){return t=>{const i=t.value[0];i!==void 0&&this.#i(e,i)}}#o(e){e.bindInteraction();const t=os;for(let i=0;i<t.length;++i)e.addEventListener(t[i],this.#l(e.getId(),t[i]))}#s(e){e.unbindInteraction();const t=os;for(let i=0;i<t.length;++i)e.removeEventListener(t[i],this.#l(e.getId(),t[i]))}#l(e,t){if(this.#n[e]===void 0&&(this.#n[e]=[]),this.#n[e][t]===void 0){const i=a=>{if(this.#t){const o=this.#t[a.type];o&&o(a)}};this.#n[e][t]=i}return this.#n[e][t]}}class cp{#e=[];#t=2;#n;constructor(e){this.#n=e}setNumberOfDimensions(e){this.#t=e}setNToLoad(e){for(let t=0;t<e;++t){this.#e[t]=[];for(let i=0;i<this.#t;++i)this.#e[t][i]=0}}onprogress=e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;this.#e[e.index][e.subindex]=t;let i=null;i=e.item!==void 0?e.item:{loaded:this.#r(e.index),total:100,source:e.source},this.#n({lengthComputable:!0,loaded:this.#i(),total:100,item:i})};#r(e){let t=0;for(let i=0;i<this.#t;++i)t+=this.#e[e][i];return t/this.#t}#i(){let e=0;const t=this.#e.length;for(let i=0;i<t;++i)e+=this.#r(i);return Math.round(e/t)}getMonoProgressHandler(e,t){return i=>{i.index=e,i.subindex=t,this.onprogress(i)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}class Wb{#e=null;#t=[];#n=null;#r=0;#i=0;#a;#o;getDefaultCharacterSet(){return this.#o}setDefaultCharacterSet(e){this.#o=e}#s(e){this.#e=e,this.#r=0,this.#i=0,this.#a=!1,this.#d(),this.#u()}#l(e){this.#t.push(e)}#d(){this.#t=[]}#c(e){this.#n=e}#u(){this.#n=null}#h=e=>{this.#r++,this.#r===this.#e.length&&this.onload({source:this.#e})};#f=e=>{this.#i++,this.#i===this.#e.length&&this.onloadend({source:this.#e})};#g(e,t){return i=>{i.source=t,e(i)}}load(e,t){this.onloadstart({source:e}),e.length===1&&(F5(e[0],"DICOMDIR")||F5(e[0],".dcmdir"))?this.#b(e[0],t):this.#p(e,t)}#m(e,t,i){return a=>{const o=a.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),this.#f()):e.load(a.target.response,t,i)}}#p(e,t){if(e===void 0||e.length===0)return;this.#s(e);const i=new cp(this.onprogress);i.setNToLoad(e.length);const a=[];for(let m=0;m<ss.length;++m)a.push(new ss[m]);let o=e[0],l=null,c=!1;for(let m=0;m<a.length;++m)if(l=a[m],l.canLoadUrl(o,t)){c=!0,l.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),l.onprogress=i.getUndefinedMonoProgressHandler(1),l.onloaditem=this.onloaditem,l.onload=this.#h,l.onloadend=this.#f,l.onerror=this.onerror,l.onabort=this.onabort,this.#c(l);break}if(!c)throw new Error("No loader found for url: "+o);let d=0;const h=()=>{d<this.#t.length-1&&!this.#a&&(++d,this.#t[d].send(null))};for(let m=0;m<e.length;++m){if(o=e[m],!l.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const v=new XMLHttpRequest;if(v.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const C=t.requestHeaders;for(let w=0;w<C.length;++w)C[w].name!==void 0&&C[w].value!==void 0&&v.setRequestHeader(C[w].name,C[w].value)}t.withCredentials!==void 0&&(v.withCredentials=t.withCredentials)}v.onprogress=this.#g(i.getMonoProgressHandler(m,0),o),v.onload=this.#m(l,o,m),v.onloadend=h;const p=this.#g(this.onerror,o);v.onerror=C=>{this.#f(),p(C)};const S=this.#g(this.ontimeout,o);v.ontimeout=C=>{this.#f(),S(C)};const y=this.#g(this.onabort,o);v.onabort=C=>{this.#f(),y(C)},l.loadUrlAs()===1&&(v.responseType="arraybuffer"),this.#l(v)}let f=this.#t.length;t!==void 0&&t.batchSize!==void 0&&f!==0&&(f=Math.min(t.batchSize,this.#t.length));for(let m=0;m<f;++m)this.#a||(d=m,this.#t[d].send(null))}#b(e,t){const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=a=>{const o=a.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),this.onloadend({});else{const l=function(h){const f=new J4;return f.parse(h),function(m){const v=m["00041220"];if(v===void 0||v.value===void 0)return void De.warn("No Directory Record Sequence found in DICOMDIR.");const p=v.value;if(p.length===0)return void De.warn("The Directory Record Sequence of the DICOMDIR is empty.");const S=[];let y=null,C=null;for(let w=0;w<p.length;++w){const D=p[w]["00041430"];if(D===void 0||D.value===void 0)continue;const b=D.value[0];if(b==="STUDY")C=[],S.push(C);else if(b==="SERIES")y=[],C.push(y);else if(b==="IMAGE"){const x=p[w]["00041500"];if(x===void 0||x.value===void 0)continue;const A=x.value;y.push(A.join("/"))}}return S}(f.getDicomElements())}(a.target.response)[0][0],c=e.split("/").slice(0,-1).join("/"),d=[];for(let h=0;h<l.length;++h)d.push(c+"/"+l[h]);this.#p(d,t)}},i.onerror=a=>{this.#g(this.onerror,e)(a),this.onloadend({})},i.onabort=a=>{this.#g(this.onabort,e)(a),this.onloadend({})},i.send(null)}abort(){this.#a=!0;for(let e=0;e<this.#t.length;++e)this.#t[e].readyState!==4&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}class XL extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+vn.u(968),vn.b),{name:"jpegbaseline.worker",type:"module"})}}class WL extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+vn.u(112),vn.b),{name:"jpegloss.worker",type:"module"})}}class $L extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+vn.u(557),vn.b),{name:"jpeg2000.worker",type:"module"})}}class KL extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+vn.u(326),vn.b),{name:"rle.worker",type:"module"})}}class ZL{#e;#t;#n=!1;constructor(e){this.#e=e,this.#t=new r3(10)}decode(e,t,i){this.#n||(this.#n=!0,this.#t.onworkstart=this.ondecodestart,this.#t.onworkitem=this.ondecodeditem,this.#t.onwork=this.ondecoded,this.#t.onworkend=this.ondecodeend,this.#t.onerror=this.onerror,this.#t.onabort=this.onabort);const a={buffer:e,meta:t};let o;this.#e==="jpeg-baseline"?o=new XL(a,i):this.#e==="jpeg-lossless"?o=new WL(a,i):this.#e==="jpeg2000"?o=new $L(a,i):this.#e==="rle"&&(o=new KL(a,i)),o!==void 0&&this.#t.addWorkerTask(o)}abort(){this.#t.abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}const $b="0040A30A",Kb="0040A161",Zb="0040A162",Jb="0040A163",eC="004008EA";class up{numericValue;floatingPointValue;rationalNumeratorValue;rationalDenominatorValue;measurementUnitsCode;toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function JL(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[ra(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const tC="0040A300",nC="0040A301";class dp{measuredValue;numericValueQualifierCode;toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function eI(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[JL(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[ra(n.numericValueQualifierCode)]}),e}const iC="00081150",rC="00081155";class c3{referencedSOPClassUID;referencedSOPInstanceUID;toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function aC(n){const e=new c3;return n[iC]!==void 0&&(e.referencedSOPClassUID=n[iC].value[0]),n[rC]!==void 0&&(e.referencedSOPInstanceUID=n[rC].value[0]),e}function u3(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const oC="00081160",sC="00081199",lC="0062000B";class d3{referencedSOPSequence;referencedFrameNumber;referencedSegmentNumber;toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function tI(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[u3(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}const cC="00480301",uC="00700022",dC="00700023",hC="0070031A",hp="POINT",v0="MULTIPOINT",uc="POLYLINE",h3="CIRCLE",f3="ELLIPSE";class $0{graphicData;graphicType;pixelOriginInterpretation;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function nI(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function fC(n){const e=new $0;if(n instanceof xe)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=hp;else if(n instanceof Mt)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=uc;else if(n instanceof Ga){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=uc}else if(n instanceof bi){e.graphicData=[];for(let i=0;i<n.getLength();++i)e.graphicData.push(n.getPoint(i).getX().toString()),e.graphicData.push(n.getPoint(i).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=uc}else if(n instanceof za){const t=n.getCenter(),i=new xe(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),i.getX().toString(),i.getY().toString()],e.graphicType=h3}else if(n instanceof Va){const t=n.getCenter(),i=n.getA(),a=n.getB();e.graphicData=[(t.getX()-i).toString(),t.getY().toString(),(t.getX()+i).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-a).toString(),t.getX().toString(),(t.getY()+a).toString()],e.graphicType=f3}else if(n instanceof Ba){const t=n.getBegin(),i=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),i.getY().toString(),i.getX().toString(),i.getY().toString(),i.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=uc}return e}function b0(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let l=0;l<e;l+=2)t.push(new xe(parseFloat(n.graphicData[l]),parseFloat(n.graphicData[l+1])));let i=!1;const a=t.length;if(a>2){const l=t[0],c=t[a-1];i=l.equals(c)}let o;if(n.graphicType===hp)t.length>1&&De.warn("Expecting 1 point for point, got "+a),o=t[0];else if(n.graphicType===h3){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+a);t.length>2&&De.warn("Expecting 2 points for circles, got "+a);const l=t[0],c=t[1].getDistance(l);o=new za(l,c)}else if(n.graphicType===f3){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+a);t.length>4&&De.warn("Expecting 4 points for ellipses, got "+a);const l=t[0].getDistance(t[1])/2,c=t[2].getDistance(t[3])/2,d=new xe(t[0].getX()+l,t[0].getY());o=new Va(d,l,c)}else if(n.graphicType===uc)if(i)if(t.length===5){const l=new Mt(t[0],t[1]),c=new Mt(t[1],t[2]),d=new Mt(t[2],t[3]),h=new Mt(t[3],t[4]);o=T1(l,c)&&T1(c,d)&&T1(d,h)?new Ba(t[0],t[2]):new bi(t.slice(0,-1))}else o=new bi(t.slice(0,-1));else t.length===2?o=new Mt(t[0],t[1]):t.length===3&&(o=new Ga([t[0],t[1],t[2]]));return o}const gC="00700022",pC="00700023",mC="30060024",SC="0070031A";class g3{graphicData;graphicType;referencedFrameofReferenceUID;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function iI(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const Mi={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},Qt="CONTAINS",cr="HAS PROPERTIES",Ia="HAS OBS CONTEXT",Ea="INFERRED FROM",ic="SELECTED FROM",C0="HAS CONCEPT MOD",si="TEXT",$r="NUM",yi="CODE",D0="UIDREF",p3="COMPOSITE",ka="IMAGE",kn="SCOORD",K0="SCOORD3D",mi="CONTAINER",rc="SEPARATE",m3={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function R1(n){let e;const t=kt(n,Mi.ContentTemplateSequence);if(t!==void 0){const i=kt(t,Mi.MappingResource),a=kt(t,Mi.TemplateIdentifier);i!==void 0&&a!==void 0&&(e=i+"-"+a)}return e}class Et{valueType;conceptNameCode;relationshipType;contentSequence=[];value;constructor(e){this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const i of this.contentSequence)t+=`
`+e+"- "+i.toString(e+"  ");return t}hasHeader(e,t,i){return this.valueType===e&&I0(this.conceptNameCode,t)&&this.relationshipType===i}}function dc(n){let e=kt(n,Mi.ValueType);e===void 0&&(e="");const t=new Et(e);t.relationshipType=kt(n,Mi.RelationshipType);const i=kt(n,Mi.ConceptNameCodeSequence);if(i!==void 0&&(t.conceptNameCode=Ko(i)),e===yi)t.value=Ko(kt(n,Mi.ConceptCodeSequence));else if(e===$r)t.value=function(o){const l=new dp;return o[tC]!==void 0&&(l.measuredValue=function(c){const d=new up;return c[$b]!==void 0&&(d.numericValue=parseFloat(c[$b].value[0])),c[Kb]!==void 0&&(d.floatingPointValue=parseFloat(c[Kb].value[0])),c[Zb]!==void 0&&(d.rationalNumeratorValue=parseInt(c[Zb].value[0],10)),c[Jb]!==void 0&&(d.rationalDenominatorValue=parseInt(c[Jb].value[0],10)),c[eC]!==void 0&&(d.measurementUnitsCode=Ko(c[eC].value[0])),d}(o[tC].value[0])),o[nC]!==void 0&&(l.numericValueQualifierCode=Ko(o[nC].value[0])),l}(n);else if(e===ka)t.value=function(o){const l=new d3;return o[oC]!==void 0&&(l.referencedFrameNumber=o[oC].value[0]),o[sC]!==void 0&&(l.referencedSOPSequence=aC(o[sC].value[0])),o[lC]!==void 0&&(l.referencedSegmentNumber=o[lC].value[0]),l}(n);else if(e===p3)t.value=aC(kt(n,Mi.ReferencedSOPSequence));else if(e===kn)t.value=function(o){const l=new $0;return o[uC]!==void 0&&(l.graphicData=o[uC].value),o[dC]!==void 0&&(l.graphicType=o[dC].value[0]),o[cC]!==void 0&&(l.pixelOriginInterpretation=o[cC].value[0]),o[hC]!==void 0&&(l.fiducialUID=o[hC].value[0]),l}(n);else if(e===K0)t.value=function(o){const l=new g3;return o[gC]!==void 0&&(l.graphicData=o[gC].value),o[pC]!==void 0&&(l.graphicType=o[pC].value[0]),o[mC]!==void 0&&(l.referencedFrameofReferenceUID=o[mC].value[0]),o[SC]!==void 0&&(l.fiducialUID=o[SC].value[0]),l}(n);else{const o=m3[e];o!==void 0?t.value=kt(n,Mi[o]):console.warn("Unsupported input ValueType: "+e)}const a=_i(n,Mi.ContentSequence);if(a!==void 0)for(const o of a)t.contentSequence.push(dc(o));return t}function pg(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[ra(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[ra(n.value)]};else if(n.valueType===$r)e={...e,...eI(n.value)};else if(n.valueType===ka)e={...e,...tI(n.value)};else if(n.valueType===p3)e={...e,...u3(n.value)};else if(n.valueType===kn)e={...e,...nI(n.value)};else if(n.valueType===K0)e={...e,...iI(n.value)};else{const t=m3[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(pg(t))}return e}function yC(n,e,t,i){const a=function(h){const f=cg[h];let m;return f!==void 0&&(m=X0(f.key,f.scheme)),m}(n);if(a===void 0)return;let o=Qt;i!==void 0&&(o=i);const l=new Et($r);l.relationshipType=o,l.conceptNameCode=a;const c=new up;c.numericValue=e,c.measurementUnitsCode=t3(t);const d=new dp;return d.measuredValue=c,l.value=d,l}function vC(n,e){const t=Object.keys(e);for(const i of t)n[i]!==void 0&&De.debug("Overwritting tag: "+i),n[i]=e[i]}class rI{current;measure}class aI{annotationGroups;responseEvaluations;comment}class O1{#e;getWarning(){return this.#e}#t(e){const t=function(c){let d;return c.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(d=c.substring(29).replace(".99","-beta")),d}(kt(e,"00020012")),i=t!==void 0&&function(c){const d=Q5(c,"0.34.0"),h=Q5(c,"0.35.0-beta.21");return d>=0&&h<=0}(t),a=R1(e);let o;const l=dc(e);return l.conceptNameCode!==void 0&&(o=l.conceptNameCode.value),i&&a===void 0&&o===f0.value}#n(e){const t=R1(e)==="DCMR-1500";let i;const a=dc(e);a.conceptNameCode!==void 0&&(i=a.conceptNameCode.value);let o=!1;if(t&&i===b1.value){const l=a.contentSequence.find(this.#c);if(l!==void 0){const c=l.contentSequence.find(this.#u);if(c!==void 0){const d=c.contentSequence.find(this.#S),h=c.contentSequence.find(this.#v);d===void 0&&h===void 0||(o=!0)}}}return o}#r(e){return R1(e)==="DCMR-4100"}checkElements(e){return this.#e=void 0,this.#t(e)||this.#n(e)||this.#r(e)||(this.#e="Not a dwv supported annotation"),this.#e}#i(e,t){t.valueType===ka&&t.relationshipType===ic&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))}#a(e,t){t.hasHeader(D0,Xe(d0),cr)&&(e.trackingId=t.value,e.trackingUid=t.value)}#o(e,t){t.hasHeader(si,Xe(d0),Ia)&&(e.trackingId=t.value),t.hasHeader(D0,Xe(v1),Ia)&&(e.trackingUid=t.value)}#s(e,t,i){i===void 0&&(i=!1);let a=C0;if(i&&(a=cr),t.hasHeader(si,Xe(gb),a)){e.textExpr=t.value;const o=t.contentSequence.find(function(l){return l.hasHeader(kn,Xe(h0),cr)});o!==void 0&&(e.labelPosition=new xe(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader(si,Sb(),a)&&(e.colour=t.value),t.hasHeader(kn,Xe(h0),a)&&t.value.graphicType===v0){const o=[];for(let l=0;l<t.value.graphicData.length;l+=2)o.push(new xe(t.value.graphicData[l],t.value.graphicData[l+1]));e.referencePoints=o}if(t.hasHeader(K0,Xe(mb),Qt)&&t.value.graphicType===v0){const o=t.value.graphicData,l=[],c=Math.floor(o.length/3);for(let d=0;d<c;++d){const h=3*d;l.push(new Rt(o[h],o[h+1],o[h+2]))}e.planePoints=l}this.#l(e,t),this.#d(e,t)}#l(e,t,i){let a;if(i===void 0&&(a=Qt),t.valueType===$r&&t.relationshipType===a){const o=function(l){let c;for(const d in cg){const h=cg[d];if(h.scheme===l.schemeDesignator&&h.key===l.value){c=d;break}}return c}(t.conceptNameCode);if(o!==void 0){const l=t.value.measuredValue,c=function(d){let h;for(const f in ug){const m=ug[f];if(d.schemeDesignator==="UCUM"&&m===d.value){h=f;break}}return h}(l.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:l.numericValue,unit:c}}}}#d(e,t){t.valueType!==yi&&t.valueType!==si||t.relationshipType!==Qt||e.addMetaItem(t.conceptNameCode,t.value)}#c(e){return e.hasHeader(mi,Xe(pb),Qt)}#u(e){return e.hasHeader(mi,Xe(f0),Qt)}#h(e){return e.hasHeader(yi,Xe(lb),Ea)}#f(e){return e.hasHeader(mi,Xe(ub),cr)}#g(e){return e.hasHeader(si,Xe(fb),Qt)}#m(e){return e.hasHeader(yi,Xe(hb),Qt)}#p(e){return e.hasHeader($r,Xe(db),Qt)}#b(e){return e.hasHeader(yi,Xe(ob),Qt)}#S(e){return e.hasHeader(kn,Xe(sb),Qt)}#y(e){return e.contentSequence.find(this.#S)!==void 0}#C(e){let t;const i=e.contentSequence.find(this.#S);if(i!==void 0){t=new gr,t.mathShape=b0(i.value);const a=i.contentSequence.find(function(o){return o.valueType===ka&&o.relationshipType===ic});a!==void 0&&this.#i(t,a);for(const o of e.contentSequence)this.#o(t,o),this.#s(t,o)}return t}#v(e){let t;return e.valueType===$r&&e.relationshipType===Qt&&(t=e.contentSequence.find(function(i){return i.valueType===kn&&i.relationshipType===Ea})),t!==void 0}#w(e){let t;return e.valueType===$r&&e.relationshipType===cr&&(t=e.contentSequence.find(function(i){return i.valueType===kn&&i.relationshipType===Ea})),t!==void 0}#D(e){return e.contentSequence.find(this.#v)!==void 0}#T(e){let t;const i=e.contentSequence.find(this.#v);if(i!==void 0){t=new gr;const a=i.contentSequence.find(function(l){return l.valueType===kn&&l.relationshipType===Ea});t.mathShape=b0(a.value),t.mathShape instanceof xe&&a.value.graphicData.length>=4&&(t.referencePoints=[new xe(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(l){return l.valueType===ka&&l.relationshipType===ic});o!==void 0&&this.#i(t,o)}if(t!==void 0)for(const a of e.contentSequence)this.#o(t,a),this.#l(t,i),this.#d(t,a);return t}#A(e){let t;const i=e.contentSequence.find(this.#w);if(i!==void 0){t=new gr;const a=i.contentSequence.find(function(l){return l.valueType===kn&&l.relationshipType===Ea});t.mathShape=b0(a.value),t.mathShape instanceof xe&&a.value.graphicData.length>=4&&(t.referencePoints=[new xe(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(l){return l.valueType===ka&&l.relationshipType===ic});o!==void 0&&this.#i(t,o)}if(t!==void 0)for(const a of e.contentSequence)this.#o(t,a),this.#l(t,i,cr),this.#d(t,a);return t}#x(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let i=!1,a=!1;this.#u(t)&&(i=this.#y(t),a=this.#D(t));const o=[];let l,c=!1;for(const d of e.contentSequence)if(this.#u(d)){let h;c=!0,i?h=this.#C(d):a&&(h=this.#T(d)),h!==void 0&&o.push(h)}return c?o.length!==0?l=new vc(o):De.warn("No valid measurement groups in TID 1500 SR"):De.warn("No measurement groups in TID 1500 SR"),l}#R(e){const t=[];let i=!1;for(const o of e.contentSequence)if(this.#h(o)){i=!0;const l=this.#A(o);l!==void 0&&t.push(l)}const a=[];return i?t.length!==0?a.push(new vc(t)):De.warn("No valid measurement groups in TID 4100 SR"):De.warn("No image findings in TID 4100 SR"),a}#O(e){const t=new gr;t.mathShape=b0(e.value);for(const i of e.contentSequence)this.#i(t,i),this.#a(t,i),this.#s(t,i,!0);return t}#P(e){let t;e.valueType===mi&&I0(e.conceptNameCode,Xe(b1))||De.warn("Not the expected TID 1500 SR content header");const i=e.contentSequence.find(this.#c);return i!==void 0?t=this.#x(i):De.warn("No imaging measurements in TID 1500 SR"),t}#L(e){return e.valueType===mi&&I0(e.conceptNameCode,Xe(cb))||De.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(this.#b)}#I(e){e.valueType===mi&&I0(e.conceptNameCode,Xe(f0))||console.warn("Not the expected dwv034 content header");const t=[];for(const i of e.contentSequence)i.valueType===kn&&t.push(this.#O(i));return new vc(t)}#M(e,t){const i=function(l){return kt(t,l)};e.setMetaValue("StudyInstanceUID",i("0020000D")),e.setMetaValue("StudyID",i("00200010")),e.setMetaValue("SeriesInstanceUID",i("0020000E")),e.setMetaValue("SeriesNumber",i("00200011")),e.setMetaValue("Modality",i("00080060")),e.setMetaValue("PatientName",i("00100010")),e.setMetaValue("PatientID",i("00100020")),e.setMetaValue("PatientBirthDate",i("00100030")),e.setMetaValue("PatientSex",i("00100040"));const a="0040A375",o=t[a];if(o!==void 0){const l=RO({[a]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",l.CurrentRequestedProcedureEvidenceSequence)}}create(e){const t=dc(e);let i,a;if(this.#n(e)?(a="TID 1500 SR",i=this.#P(t)):this.#t(e)&&(De.warn("DWV v0.34 annotation"),a="DWV v0.34 SR",i=this.#I(t)),this.#r(e)){a="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(i=o.annotationGroups[0])}if(i===void 0)throw new Error("Cannot create annotation group from "+a);return this.#M(i,e),i}createCADReport(e){const t=dc(e),i=this.#L(t);if(i===void 0)return void De.warn("No CAD processing and Findings Summary in TID 4100 SR");let a=[];if(this.#r(e)&&(a=this.#R(i)),a===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const d of a)this.#M(d,e);const o=[];let l;for(const d of i.contentSequence)if(this.#f(d)){const h=this.#B(d);h!==void 0&&o.push(h)}else this.#g(d)&&(l=d.value);const c=new aI;return c.annotationGroups=a,c.responseEvaluations=o,c.comment=l,c}#E(e){const t=new Et(ka);t.relationshipType=ic,t.conceptNameCode=Xe(HO);const i=new c3;i.referencedSOPClassUID=e.referencedSopClassUID,i.referencedSOPInstanceUID=e.referencedSopInstanceUID;const a=new d3;return a.referencedSOPSequence=i,e.referencedFrameNumber!==void 0&&(a.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=a,t}#F(e){const t=[],i=new Et(si);i.relationshipType=Ia,i.conceptNameCode=Xe(d0),i.value=e.trackingId,t.push(i);const a=new Et(D0);if(a.relationshipType=Ia,a.conceptNameCode=Xe(v1),a.value=e.trackingUid,t.push(a),e.textExpr!==void 0&&e.textExpr.length!==0){const c=new Et(si);if(c.relationshipType=C0,c.conceptNameCode=Xe(gb),c.value=e.textExpr,e.labelPosition!==void 0){const d=new Et(kn);d.relationshipType=cr,d.conceptNameCode=Xe(h0);const h=new $0;h.graphicType=hp;const f=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];h.graphicData=f,d.value=h;const m=this.#E(e);d.contentSequence=[m],c.contentSequence=[d]}t.push(c)}const o=new Et(si);if(o.relationshipType=C0,o.conceptNameCode=Sb(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const c=new Et(kn);c.relationshipType=C0,c.conceptNameCode=Xe(h0);const d=new $0;d.graphicType=v0;const h=[];for(const m of e.referencePoints)h.push(m.getX().toString()),h.push(m.getY().toString());d.graphicData=h,c.value=d;const f=this.#E(e);c.contentSequence=[f],t.push(c)}if(e.planePoints!==void 0){const c=new Et(K0);c.relationshipType=Qt,c.conceptNameCode=Xe(mb);const d=new g3;d.graphicType=v0;const h=[];for(const m of e.planePoints)h.push(m.getX().toString()),h.push(m.getY().toString()),h.push(m.getZ().toString());d.graphicData=h,c.value=d;const f=this.#E(e);c.contentSequence=[f],t.push(c)}if(e.quantification!==void 0)for(const c in e.quantification){const d=yC(c,Ni(e.quantification[c].value,12),e.quantification[c].unit);d!==void 0&&t.push(d)}const l=e.getMetaConceptIds();for(const c of l){const d=e.getMetaItem(c);let h=si;d.value instanceof Pc&&(h=yi);const f=new Et(h);f.relationshipType=Qt,f.conceptNameCode=d.concept,f.value=d.value,t.push(f)}return t}#_(e){const t=new Et(mi);t.relationshipType=Qt,t.conceptNameCode=Xe(f0),t.value=rc;const i=new Et(kn);i.relationshipType=Qt,i.conceptNameCode=Xe(sb),i.value=fC(e.mathShape);const a=this.#E(e);return i.contentSequence=[a],t.contentSequence=[i].concat(this.#F(e)),t}#k(e){let t;if(e.getList().length!==0){const i=new Et(mi);i.conceptNameCode=Xe(pb),i.relationshipType=Qt,i.value=rc;const a=[];for(const o of e.getList())a.push(this.#_(o));i.contentSequence=a,t=new Et(mi),t.conceptNameCode=Xe(b1),t.value=rc,t.contentSequence=[i]}return t}toDicom(e,t){let i=e.getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=sg(ag(a)),i.ContentTime=lg(og(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const h of e.getList()){const f={ReferencedSOPInstanceUID:h.referencedSopInstanceUID,ReferencedSOPClassUID:h.referencedSopClassUID},m=function(v){return v.ReferencedSOPInstanceUID===f.ReferencedSOPInstanceUID&&v.ReferencedSOPClassUID===f.ReferencedSOPClassUID};c.find(m)===void 0&&c.push(f)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const d=this.#k(e);if(d===void 0)throw new Error("No annotation group SR content");return i={...i,...pg(d)},t!==void 0&&vC(i,t),Ac(i)}#U(e){const t=new Et(yi);t.relationshipType=Ea,t.conceptNameCode=Xe(lb),t.value=Xe(NO),t.contentSequence=[];const i=new Et(si);i.relationshipType=Ia,i.conceptNameCode=Xe(d0),i.value=e.trackingId,t.contentSequence.push(i);const a=new Et(D0);if(a.relationshipType=Ia,a.conceptNameCode=Xe(v1),a.value=e.trackingUid,t.contentSequence.push(a),e.quantification!==void 0)for(const l in e.quantification){const c=yC(l,Ni(e.quantification[l].value,12),e.quantification[l].unit,cr);if(c!==void 0){const d=new Et(kn);d.relationshipType=Ea,d.conceptNameCode=Xe(zO),d.value=fC(e.mathShape);const h=this.#E(e);d.contentSequence=[h],c.contentSequence=[d],t.contentSequence.push(c)}}const o=e.getMetaConceptIds();for(const l of o){const c=e.getMetaItem(l);let d=si;c.value instanceof Pc&&(d=yi);const h=new Et(d);h.relationshipType=Qt,h.conceptNameCode=c.concept,h.value=c.value,t.contentSequence.push(h)}return t}#N(e,t){if(e.getList().length!==0)for(const i of e.getList())t.push(this.#U(i))}#q(e){const t=new Et(mi);t.relationshipType=cr,t.conceptNameCode=Xe(ub),t.value=rc,t.contentSequence=[];const i=new Et(yi);if(i.relationshipType=Ia,i.conceptNameCode=Xe(BO),i.value=Xe(GO),t.contentSequence.push(i),e!==void 0){if(e.current!==void 0){const a=new Et(yi);a.relationshipType=Qt,a.conceptNameCode=Xe(hb),a.value=e.current,t.contentSequence.push(a)}if(e.measure!==void 0){const a=new Et($r);a.relationshipType=Qt,a.conceptNameCode=Xe(db);const o=new up;o.numericValue=e.measure,o.measurementUnitsCode=t3("unit.mm");const l=new dp;l.measuredValue=o,a.value=l,t.contentSequence.push(a)}}return t}#B(e){let t,i,a;for(const o of e.contentSequence)this.#m(o)?t=o.value:this.#p(o)&&(i=o.value.measuredValue.numericValue);return t!==void 0&&(a=new rI,a.current=t,i!==void 0&&(a.measure=i)),a}toDicomCADReport(e,t){let i=e.annotationGroups[0].getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=sg(ag(a)),i.ContentTime=lg(og(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const f of e.annotationGroups)for(const m of f.getList()){const v={ReferencedSOPInstanceUID:m.referencedSopInstanceUID,ReferencedSOPClassUID:m.referencedSopClassUID},p=function(S){return S.ReferencedSOPInstanceUID===v.ReferencedSOPInstanceUID&&S.ReferencedSOPClassUID===v.ReferencedSOPClassUID};c.find(p)===void 0&&c.push(v)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const d=new Et(yi);d.relationshipType=Qt,d.conceptNameCode=Xe(ob),d.value=Xe(qO),d.contentSequence=[];for(const f of e.responseEvaluations){const m=this.#q(f);d.contentSequence.push(m)}for(const f of e.annotationGroups)this.#N(f,d.contentSequence);if(e.comment!==void 0){const f=new Et(si);f.relationshipType=Qt,f.conceptNameCode=Xe(fb),f.value=e.comment,d.contentSequence.push(f)}const h=new Et(mi);if(h.conceptNameCode=Xe(cb),h.value=rc,h.contentSequence.push(d),h===void 0)throw new Error("No annotation group SR content");return i={...i,...pg(h)},t!==void 0&&vC(i,t),Ac(i)}}class oI{#e;setOptions(e){this.#e=e}#t=null;#n=[];#r=[];#i=[];#a=[];#o(e){let t;const i=e["00080060"];if(i!==void 0){const a=i.value[0];a==="SEG"?t=new dg:a==="SR"&&(t=new O1)}return t===void 0&&(t=new kO),t}#s(e,t){const i=this.#n[e].getDicomElements(),a=this.#a[e];if(a===void 0)return!1;try{const o=new lp(i);a instanceof O1?a.checkElements(i)===void 0&&(o.annotationGroup=a.create(i)):a instanceof dg?o.buffer=this.#i[e]:o.image=a.create(i,this.#i[e],this.#e.numberOfFiles),this.onloaditem({data:o,source:t,warn:a.getWarning()})}catch(o){return this.onerror({error:o,source:t}),this.onloadend({source:t}),!1}return!0}#l(e,t){this.#s(e,t)&&this.onload({source:t}),this.onloadend({source:t})}#d(e,t){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),this.#l(e,t)}#c(e,t,i){const a=this.#n[e],o={bitsAllocated:a.getDicomElements()["00280100"].value[0],isSigned:a.getDicomElements()["00280103"].value[0]===1},l=a.getDicomElements()["00280011"],c=a.getDicomElements()["00280010"];l!==void 0&&c!==void 0&&(o.sliceSize=l.value[0]*c.value[0]);const d=a.getDicomElements()["00280002"];d!==void 0&&(o.samplesPerPixel=d.value[0]);const h=a.getDicomElements()["00280006"];h!==void 0&&(o.planarConfiguration=h.value[0]);const f=t.length;this.#t===null&&(this.#t=new ZL(i),this.#t.ondecodeditem=m=>{this.#u(m),m.itemNumber+1===m.numberOfItems&&(this.onload(m),this.onloadend(m))},this.#t.onerror=this.onerror,this.#t.onabort=this.onabort);for(let m=0;m<f;++m)this.#t.decode(t[m],o,{itemNumber:m,numberOfItems:f,index:e})}#u(e){this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:origin});const t=e.index,i=e.data[0];if(e.numberOfItems!==1){if(this.#r[t]===void 0){this.#r[t]=i.length;const a=e.numberOfItems*this.#r[t];try{this.#i[t]=new i.constructor(a)}catch(o){if(o instanceof RangeError){const l=Math.floor(Math.log(a)/Math.log(2));De.error("Cannot allocate "+i.constructor.name+" of size: "+a+" (>2^"+l+") for decompressed data.")}return this.#t.abort(),this.onerror({error:o,source:origin}),void this.onloadend({source:origin})}}i.length!==this.#r[t]&&De.warn("Unsupported varying decompressed data size: "+i.length+" != "+this.#r[t]),this.#i[t].set(i,this.#r[t]*e.itemNumber)}else this.#i[t]=i;e.itemNumber===0&&this.#s(t,origin)}#h(e,t){this.#l(e,t)}#f(e,t){const i=this.#n[e].getDicomElements();let a=i["7FE00010"];a===void 0&&(a=i["7FE00008"]),a===void 0&&(a=i["7FE00009"]);const o=a.value;this.#i[e]=o[0];const l=function(c){let d;return rp(c)?d="jpeg2000":np(c)?d="jpeg-baseline":ip(c)?d="jpeg-lossless":Z4(c)&&(d="rle"),d}(i["00020010"].value[0]);l!==void 0?this.#c(e,o,l):this.#d(e,t)}convert(e,t,i){this.onloadstart({source:t,index:i});const a=new J4;let o;this.#e.defaultCharacterSet!==void 0&&a.setDefaultCharacterSet(this.#e.defaultCharacterSet);try{a.parse(e),o=this.#o(a.getDicomElements()),o.checkElements(a.getDicomElements())}catch(l){return this.onerror({error:l,source:t}),void this.onloadend({source:t})}this.#n[i]=a,this.#a[i]=o,o instanceof O1?this.#h(i,t):this.#f(i,t)}abort(){this.#t&&this.#t.abort()}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class mg{#e=null;#t=null;#n=0;#r=0;#i;getDefaultCharacterSet(){return this.#i}setDefaultCharacterSet(e){this.#i=e}#a(e){this.#e=e,this.#n=0,this.#r=0,this.#s()}#o(e){this.#t=e}#s(){this.#t=null}#l=e=>{this.#n++,this.#n===this.#e.length&&this.onload({source:this.#e})};#d=e=>{this.#r++,this.#r===this.#e.length&&this.onloadend({source:this.#e})};load(e){if(e===void 0||e.length===0)return;this.#a(e),this.onloadstart({source:e});const t=new cp(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const i=[];for(let c=0;c<ss.length;++c)i.push(new ss[c]);let a=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadMemory(a)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=this.#l,o.onloadend=this.#d,o.onerror=this.onerror,o.onabort=this.onabort,this.#o(o);break}if(!l)throw new Error("No loader found for data: "+a.filename);for(let c=0;c<e.length;++c){if(a=e[c],!o.canLoadMemory(a))throw new Error("Input data of different type: "+a.filename);o.load(a.data,a.filename,c)}}abort(){this.#t&&this.#t.isLoading()&&this.#t.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}function T0(n){return parseInt(n,36).toString()}function bC(n){const e=n.data.length,t=new Uint8Array(e/4*3);let i=0;for(let a=0;a<e;a+=4)t[i]=n.data[a],t[i+1]=n.data[a+1],t[i+2]=n.data[a+2],i+=3;return t}function CC(n,e,t,i,a,o){const l=new mr([n,e,1]),c=new Jr([1,1,1]),d=new Rt(0,0,t),h=new ea([d],l,c),f=new Ka(h,i,[o]);f.setPhotometricInterpretation("RGB");const m={BitsStored:8};return a!==void 0&&(m.numberOfFiles=a),f.setMeta(m),f}var sI=function(n){var e={};return vn.d(e,n),e}({default:function(){return rO}});const ss=[class{#e={};#t=!1;setOptions(n){this.#e=n}isLoading(){return this.#t}#n=new oI;load(n,e,t){this.#t||(this.#n.setOptions(this.#e),this.#n.onloadstart=this.onloadstart,this.#n.onprogress=this.onprogress,this.#n.onloaditem=this.onloaditem,this.#n.onload=this.onload,this.#n.onloadend=i=>{this.#t=!1,this.onloadend(i)},this.#n.onerror=i=>{i.source=e,this.onerror(i)},this.#n.onabort=this.onabort),this.#t=!0,this.#n.convert(n,e,t)}abort(){this.#t=!1,this.#n.abort()}canLoadFile(n){const e=Yr(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const c=function(h){return h.name==="Accept"},d=e.requestHeaders.find(c);if(d!==void 0){const h="application/dicom";return Pa(d.value,h)&&d.value[h.length]!=="+"}}}const t=nc(n),i=Yr(t.pathname),a=i===null,o=i==="dcm",l=t.searchParams.get("contentType");return l!=null?l==="application/dicom":a||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return dr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.#e=!0,this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i={data:n,source:e};this.onloaditem(i),this.onload(i)}catch(i){this.onerror({error:i,source:e})}finally{this.#e=!1,this.onloadend({source:e})}}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return Yr(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Pa(i.value,"application/json")||Pa(i.value,"application/dicom+json")}}return Yr(nc(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return dr.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.onloadstart({source:e}),this.#e=!0;const i=new mg;i.onprogress=a=>{a.loaded=50+a.loaded/2,a.index=t,this.onprogress(a)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=a=>{this.#e=!1,this.onloadend(a)},i.onerror=this.onerror,i.onabort=this.onabort,i.load(function(a){const o=new Uint8Array(a),l=[];if(o.length===0)return l;const c=N5(new Uint8Array([13,10,13,10]));let d=c0(o,c,0);if(d===void 0)throw new Error("Can't find the end of the first multipart header");const h=U5(o.slice(0,d)).split(`\r
`);let f;for(let S=0;S<h.length;++S)if(h[S][0]==="-"&&h[S][1]==="-"){f=h[S];break}if(f===void 0)throw new Error("Can't find the boundary between multi-parts");const m=N5(vO(f)),v=f.length;let p=c0(o,m,0);for(;d!==void 0;){const S={},y=U5(o.slice(p+v,d)).split(`\r
`);for(let D=0;D<y.length;++D){const b=y[D],x=b.indexOf(":");if(x!==-1){const A=b.substring(0,x).trim(),I=b.substring(x+1).trim();S[A]=I}}if(p=c0(o,m,d),p===void 0)break;const C=d+4,w=p-2;S.data=C<w?o.slice(C,w).buffer:new Uint8Array,l.push(S),d=c0(o,c,p+v)}return l}(n))}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Pa(i.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return dr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return!0}#t(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const i=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(i)}load(n,e,t){this.#e=!1;const i=new Image;if(i.onload=()=>{try{if(!this.#e){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const a=function(o,l,c){const d=o.width,h=o.height,f=document.createElement("canvas");f.width=d,f.height=h;const m=f.getContext("2d");m.drawImage(o,0,0);const v=m.getImageData(0,0,d,h),p={};let S;typeof l=="string"?(p.origin={value:l},S=T0(l)):(p.fileName={value:l.name},S=T0(l.name),p.fileType={value:l.type},p.fileLastModifiedDate={value:l.lastModified}),p.imageWidth={value:d},p.imageHeight={value:h};const y=c||0;p.imageUid={value:y},p.seriesUid={value:S};const C=CC(d,h,y,bC(v),1,y.toString()),w=C.getMeta();return w.SeriesInstanceUID=S,C.setMeta(w),{data:{image:C,meta:p},source:l}}(i,e,t);this.onloaditem(a),this.onload(a)}}catch(a){this.onerror({error:a,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")i.src=n;else if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=this.#t(n,a)}}abort(){this.#e=!0,this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const l=function(d){return d.name==="Accept"},c=e.requestHeaders.find(l);if(c!==void 0)return Pa(c.value,"image/")}}const t=nc(n),i=Yr(t.pathname),a=i==="jpeg"||i==="jpg"||i==="png"||i==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":a}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return dr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{setOptions(n){}isLoading(){return!0}#e(n,e){const t=new Uint8Array(n);let i="";for(let a=0;a<t.byteLength;++a)i+=String.fromCharCode(t[a]);return"data:video/"+e+";base64,"+window.btoa(i)}load(n,e,t){const i=document.createElement("video");if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=this.#e(n,a)}else i.src=n;i.onloadedmetadata=a=>{try{(function(o,l,c,d,h,f,m){const v=o.videoWidth,p=o.videoHeight,S=Math.ceil(30*o.duration),y={};let C;typeof f=="string"?(y.origin={value:f},C=T0(f)):(y.fileName={value:f.name},C=T0(f.name),y.fileType={value:f.type},y.fileLastModifiedDate={value:f.lastModified}),y.imageWidth={value:v},y.imageHeight={value:p},y.numberOfFrames={value:S},y.imageUid={value:0},y.seriesUid={value:C};const w=document.createElement("canvas");w.width=v,w.height=p;const D=w.getContext("2d");o.addEventListener("seeked",function I(k){(function(){d({lengthComputable:!0,loaded:b,total:S,index:m,source:f}),D.drawImage(o,0,0);const E=bC(D.getImageData(0,0,v,p));if(b===0){x=CC(v,p,1,E,S,m.toString());const _=x.getMeta();_.SeriesInstanceUID=C,x.setMeta(_),l({data:{image:x,meta:y},source:f})}else x.appendFrameBuffer(E,b);++b})(),A+=1/30,A<=k.target.duration?this.currentTime=A:(c({source:f}),h({source:f}),o.removeEventListener("seeked",I))},!1);let b=0,x=null,A=0;o.currentTime=A})(a.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const i=function(o){return o.name==="Accept"},a=e.requestHeaders.find(i);if(a!==void 0)return Pa(a.value,"video/")}}const t=Yr(nc(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return dr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}#t="";#n=[];#r=null;#i(n,e,t){this.#n.push({filename:this.#t,data:n});const i=100*this.#n.length/this.#r.length;if(this.onprogress({lengthComputable:!0,loaded:i/2,total:100,index:t,item:{loaded:i,total:100,source:e}}),this.#n.length<this.#r.length){const a=this.#n.length;this.#t=this.#r[a].name,this.#r[a].async("arrayBuffer").then(o=>{this.#i(o,e,t)})}else{const a=new mg;a.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},a.onloaditem=this.onloaditem,a.onload=this.onload,a.onloadend=o=>{this.#e=!1,this.onloadend(o)},a.onerror=this.onerror,a.onabort=this.onabort,a.load(this.#n)}}load(n,e,t){this.onloadstart({source:e}),this.#e=!0,sI.default.loadAsync(n).then(i=>{this.#n=[],this.#r=i.file(/.*\.dcm/);const a=this.#n.length;this.#t=this.#r[a].name,this.#r[a].async("arrayBuffer").then(o=>{this.#i(o,e,t)})})}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return Yr(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Pa(i.value,"application/zip")}}return Yr(nc(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return dr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}}],dr={Text:0,ArrayBuffer:1,DataURL:2};class DC{#e=null;#t=[];#n=null;#r=0;#i=0;#a;getDefaultCharacterSet(){return this.#a}setDefaultCharacterSet(e){this.#a=e}#o(e){this.#e=e,this.#r=0,this.#i=0,this.#l(),this.#c()}#s(e){this.#t.push(e)}#l(){this.#t=[]}#d(e){this.#n=e}#c(){this.#n=null}#u=e=>{this.#r++,this.#r===this.#e.length&&this.onload({source:this.#e})};#h=e=>{this.#i++,this.#i===this.#e.length&&this.onloadend({source:this.#e})};#f(e,t){return i=>{i.source=t,e(i)}}#g(e,t,i){return a=>{e.load(a.target.result,t,i)}}load(e){if(e===void 0||e.length===0)return;this.#o(e),this.onloadstart({source:e});const t=new cp(this.onprogress);t.setNToLoad(e.length);const i=[];for(let c=0;c<ss.length;++c)i.push(new ss[c]);let a=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadFile(a)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=this.#u,o.onloadend=this.#h,o.onerror=this.onerror,o.onabort=this.onabort,this.#d(o);break}if(!l)throw new Error("No loader found for file: "+a.name);for(let c=0;c<e.length;++c){if(a=e[c],!o.canLoadFile(a))throw new Error("Input file of different type: "+a);const d=new FileReader;this.#s(d),d.onprogress=this.#f(t.getMonoProgressHandler(c,0),a),d.onload=this.#g(o,a,c);const h=this.#f(this.onerror,a);d.onerror=m=>{this.#h(),h(m)};const f=this.#f(this.onabort,a);d.onabort=m=>{this.#h(),f(m)},o.loadFileAs()===dr.Text?d.readAsText(a):o.loadFileAs()===dr.DataURL?d.readAsDataURL(a):o.loadFileAs()===dr.ArrayBuffer&&d.readAsArrayBuffer(a)}}abort(){for(let e=0;e<this.#t.length;++e)this.#t[e].readyState===1&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class lI{#e;#t={};constructor(e){this.#e=e}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?this.#i(e[0],t):this.#n(e,t)}loadURLs(e,t,i){e[0].split(".").pop().toLowerCase()==="json"?this.#a(e[0],t,i):this.#r(e,t,i)}loadImageObject(e,t){const i=new mg;this.#o(e,i,"image",t)}getLoadingDataIds(){return Object.keys(this.#t)}abort(e){this.#t[e]!==void 0&&(this.#t[e].loader.abort(),delete this.#t[e])}#n(e,t){const i=new DC;i.setDefaultCharacterSet(this.#e),this.#o(e,i,"image",t)}#r(e,t,i){const a=new Wb;a.setDefaultCharacterSet(this.#e),this.#o(e,a,"image",t,i)}#i(e,t){const i=new DC;this.#o([e],i,"state",t)}#a(e,t,i){const a=new Wb;this.#o([e],a,"state",t,i)}#o(e,t,i,a,o){const l={loadtype:i,dataid:a};t.onloadstart=c=>{this.#t[a]={loader:t,isFirstItem:!0},this.#s(this.onloadstart,l)(c)},t.onprogress=this.#s(this.onprogress,l),t.onloaditem=c=>{const d={loadtype:i,dataid:a};this.#t[a]!==void 0&&(d.isfirstitem=this.#t[a].isFirstItem),this.#s(this.onloaditem,d)(c),this.#t[a]!==void 0&&this.#t[a].isFirstItem&&(this.#t[a].isFirstItem=!1)},t.onload=this.#s(this.onload,l),t.onloadend=c=>{delete this.#t[a],this.#s(this.onloadend,l)(c)},t.onerror=this.#s(this.onerror,l),t.onabort=this.#s(this.onabort,l),t.ontimeout!==void 0&&(t.ontimeout=this.#s(this.ontimeout,l));try{t.load(e,o)}catch(c){return this.onerror({error:c,dataid:a}),void this.onloadend({dataid:a})}}#s(e,t){return function(i){const a=Object.keys(t);for(let o=0;o<a.length;++o){const l=a[o];i[l]=t[l]}e(i)}}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}function cI(n){return function(e){return Number(e).toPrecision(n)}}function TC(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function L1(n,e){let t=n;for(let i=0;i<e.length;++i)t=t.replace("{v"+i+"}",e[i]);return t}class uI{#e;#t;#n;#r=[];#i;#a=[];#o;#s=new $n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i;const a=Object.keys(this.#n);for(let o=0;o<a.length;++o){const l=this.#n[a[o]];for(let c=0;c<l.length;++c){const d=l[c].event;d!==void 0&&(this.#r.includes(d)||this.#r.push(d))}}this.addAppListeners()}reset(){this.#a=[],this.#o=void 0}addItemMeta(e){let t;if(e["00020010"]!==void 0)t=e["00080018"]!==void 0?e["00080018"].value[0]:e.length,this.#a[t]=function(i,a){const o=[];let l;const c=i["00080060"];if(c===void 0)return o;l=c.value[0];const d=a[l]||a["*"];if(!d)return o;for(let f=0;f<d.length;++f){const m=JSON.parse(JSON.stringify(d[f])),v=m.tags;if(v!==void 0&&v.length!==0){const p=[];for(let S=0;S<v.length;++S)i[v[S]]!==void 0?p.push(i[v[S]].value):p.push("");m.format!==void 0&&m.format!==null||(m.format=TC(p.length)),m.value=L1(m.format,p).trim()}o.push(m)}const h=i["00200020"];if(h!==void 0&&h.value.length===2){const f=h.value[0],m=h.value[1];o.push({pos:"cr",value:f,format:"{v0}"}),o.push({pos:"cl",value:H5(f),format:"{v0}"}),o.push({pos:"bc",value:m,format:"{v0}"}),o.push({pos:"tc",value:H5(m),format:"{v0}"})}return o}(e,this.#n);else{const i=Object.keys(e);for(let a=0;a<i.length;++a){const o=e[i[a]];if(i[a]==="imageUid"){t=o.value;break}}this.#a[t]=function(a,o){const l=[],c=o.DOM;if(!c)return l;const d=Object.keys(a);for(let h=0;h<c.length;++h){const f=JSON.parse(JSON.stringify(c[h])),m=f.tags;if(m!==void 0&&m.length!==0){const v=[];for(let p=0;p<m.length;++p)for(let S=0;S<d.length;++S)m[p]===d[S]&&v.push(a[d[S]].value);f.format!==void 0&&f.format!==null||(f.format=TC(v.length)),f.value=L1(f.format,v).trim()}l.push(f)}return l}(e,this.#n)}this.#o=t}#l=e=>{e.dataid===this.#t&&e.data!==void 0&&e.data.imageUid!==void 0&&this.#o!==e.data.imageUid&&(this.#o=e.data.imageUid,this.#d(e))};#d=e=>{if(e.dataid!==this.#t)return;const t=this.#a[this.#o];if(t!==void 0){for(let i=0;i<t.length;++i){let a;if(t[i].tags!==void 0)e.type==="positionchange"&&(a=t[i].value);else if(t[i].event!==void 0&&t[i].event===e.type){const o=t[i].format;let l=e.value;if(t[i].precision!==void 0){let c=null;c=t[i].precision==="round"?Math.round:cI(t[i].precision),l=l.map(c)}a=L1(o,l)}a!==void 0&&(t[i].value=a)}this.#c({type:"valuechange",data:t})}else console.warn("No slice overlay data for: "+this.#o)};isListening(){return this.#i}addAppListeners(){this.#e.addEventListener("positionchange",this.#l);for(let e=0;e<this.#r.length;++e)this.#e.addEventListener(this.#r[e],this.#d);this.#i=!0}removeAppListeners(){this.#e.removeEventListener("positionchange",this.#l);for(let e=0;e<this.#r.length;++e)this.#e.removeEventListener(this.#r[e],this.#d);this.#i=!1}addEventListener(e,t){this.#s.add(e,t)}removeEventListener(e,t){this.#s.remove(e,t)}#c(e){this.#s.fireEvent(e)}}class S3{divId;orientation;colourMap;opacity;wlPresetName;windowCenter;windowWidth;constructor(e){this.divId=e}}class dI{#e=null;#t=null;#n=null;#r=null;#i=null;#a=null;#o=new W0;#s={};#l=new $n;getData(e){return this.#t.get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){this.#t.setImage(e,t)}addData(e){const t=this.#t.getNextDataId();return this.#t.add(t,e),t}getMetaData(e){let t;return this.#t.get(e)!==void 0&&(t=this.#t.get(e).meta),t}getDataIds(){return this.#t.getDataIds()}getDataIdsFromSopUids(e){return this.#t.getDataIdsFromSopUids(e)}canScroll(){return this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return this.#i.getActiveLayerGroup().getAddedScale()}getBaseScale(){return this.#i.getActiveLayerGroup().getBaseScale()}getOffset(){return this.#i.getActiveLayerGroup().getOffset()}getToolboxController(){return this.#n}getActiveLayerGroup(){return this.#i.getActiveLayerGroup()}setActiveLayerGroup(e){this.#i.setActiveLayerGroup(e)}getViewLayersByDataId(e){return this.#i.getViewLayersByDataId(e)}getViewLayers(e){return this.#i.getViewLayers(e)}getDrawLayersByDataId(e){return this.#i.getDrawLayersByDataId(e)}getDrawLayers(e){return this.#i.getDrawLayers(e)}getLayerGroupByDivId(e){return this.#i.getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return this.#i.getNumberOfLayerGroups()}getStyle(){return this.#o}addToUndoStack=e=>{this.#a!==null&&this.#a.add(e)};removeFromUndoStack=e=>{let t=!1;return this.#a!==null&&(t=this.#a.remove(e)),t};init(e){if(this.#e=e,this.#e.viewOnFirstLoadItem===void 0&&(this.#e.viewOnFirstLoadItem=!0),this.#e.dataViewConfigs===void 0&&(this.#e.dataViewConfigs={}),this.#e.rootDocument===void 0&&(this.#e.rootDocument=document),this.#a=new Xb,this.#a.addEventListener("undoadd",this.#u),this.#a.addEventListener("undo",this.#u),this.#a.addEventListener("redo",this.#u),this.#e.tools!==void 0){const t={},i=Object.keys(this.#e.tools);for(let a=0;a<i.length;++a){const o=i[a];let l=VL[o];if(l===void 0&&(l=GL[o]),l!==void 0){if(t[o]=new l(this),t[o].addEventListener!==void 0){const d=t[o].getEventNames();for(let h=0;h<d.length;++h)t[o].addEventListener(d[h],this.#u)}const c=this.#e.tools[o];if(c.options!==void 0&&c.options.length!==0){let d,h="raw";if(t[o].getOptionsType!==void 0&&(h=t[o].getOptionsType()),h==="instance"||h==="factory"){d={};for(let f=0;f<c.options.length;++f){const m=c.options[f];let v=m;h==="factory"&&(v+="Factory");const p=o.charAt(0).toLowerCase()+o.slice(1);let S,y=M0[p];y!==void 0&&(S=y[v]),S===void 0&&(y=gg[p],y!==void 0&&(S=y[v])),S!==void 0?d[m]=S:De.warn("Could not find option class for: "+m)}}else d=c.options;t[o].setOptions(d)}}else De.warn("Could not initialise unknown tool: "+o)}this.#n=new YL(t)}this.#r=new lI(this.#e.defaultCharacterSet),this.#r.onloadstart=this.#h,this.#r.onprogress=this.#f,this.#r.onloaditem=this.#g,this.#r.onload=this.#m,this.#r.onloadend=this.#p,this.#r.onerror=this.#b,this.#r.ontimeout=this.#S,this.#r.onabort=this.#y,this.#t=new fL,this.#t.addEventListener("dataadd",this.#u),this.#t.addEventListener("dataremove",this.#u),this.#t.addEventListener("dataimageset",this.#u),this.#t.addEventListener("dataupdate",this.#u),this.#t.addEventListener("imagecontentchange",this.#u),this.#t.addEventListener("imagegeometrychange",this.#u),this.#t.addEventListener("annotationadd",this.#u),this.#t.addEventListener("annotationupdate",this.#u),this.#t.addEventListener("annotationremove",this.#u),this.#t.addEventListener("annotationgroupeditablechange",this.#u),this.#i=new HL,this.#e.binders!==void 0&&this.#i.setBinders(this.#e.binders)}reset(){this.#i.empty(),this.#s={},this.#a&&(this.#a=new Xb,this.#a.addEventListener("undoadd",this.#u),this.#a.addEventListener("undo",this.#u),this.#a.addEventListener("redo",this.#u))}resetLayout(){this.#i.reset(),this.#i.draw()}resetZoomPan(){this.#i.resetZoomPan(),this.#i.draw()}resetViews(){this.#i.resetViews()}addEventListener(e,t){this.#l.add(e,t)}removeEventListener(e,t){this.#l.remove(e,t)}loadFiles=e=>{if(e.length===0)return De.warn("Ignoring empty input file list."),"-1";const t=this.#t.getNextDataId();return this.#r.loadFiles(e,t),t};loadURLs=(e,t)=>{if(e.length===0)return De.warn("Ignoring empty input url list."),"-1";const i=this.#t.getNextDataId();return this.#r.loadURLs(e,i,t),i};loadFromUri=(e,t)=>{const i=function(o){const l=Yb(o);return Object.keys(l).length===0?null:l.query}(e),a=()=>{this.removeEventListener("loadend",a),this.loadURLs([i.state])};i&&i.input!==void 0&&(i.state!==void 0&&this.addEventListener("loadend",a),function(o,l,c){o.type&&o.type==="manifest"?function(d,h){let f="";d.input[0]==="/"&&(f=window.location.protocol+"//"+window.location.host),f+=d.input;const m=new XMLHttpRequest;m.open("GET",decodeURIComponent(f),!0),m.responseType="document",m.onload=function(v){h(function(p,S){const y=[],C=p.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",w=p.getElementsByTagName("Patient");w.length>1&&De.warn("More than one patient, loading first one.");const D=w[0].getElementsByTagName("Study");D.length>1&&De.warn("More than one study, loading first one.");const b=D[0].getAttribute("StudyInstanceUID"),x=D[0].getElementsByTagName("Series");x.length>1&&De.warn("More than one series, loading first one.");const A=x[0].getAttribute("SeriesInstanceUID"),I=x[0].getElementsByTagName("Instance");let k=I.length;S<k&&(k=S);for(let E=0;E<k;++E){const _=C+"&studyUID="+b+"&seriesUID="+A+"&objectUID="+I[E].getAttribute("SOPInstanceUID");y.push(_)}return y}(v.target.responseXML,d.nslices))},m.onerror=function(v){De.warn("RequestError while receiving manifest: "+v.target.status)},m.send(null)}(o,l):l(function(d,h){const f=[];let m="key";h&&(m=h);const v=decodeURIComponent(d),p=Yb(v);if(Object.keys(p).length===0)f.push(v);else{const S=Object.keys(p.query);let y=null;for(let C=0;C<S.length;++C)if(p.query[S[C]]instanceof Array){y=S[C];break}if(y){const C=p.query[y];let w=p.base;w!==""&&y!=="file"&&(w+="?");let D,b=!1;for(let x=0;x<S.length;++x)S[x]!==y&&(b&&(w+="&"),w+=S[x]+"="+p.query[S[x]],b=!0);for(let x=0;x<C.length;++x)D=w,b&&(D+="&"),m==="key"&&(D+=y+"="),D+=C[x],f.push(D)}else f.push(v)}return f}(o.input,o.dwvReplaceMode),c)}(i,this.loadURLs,t))};loadImageObject=e=>{const t=this.#t.getNextDataId();return this.#r.loadImageObject(e,t),t};abortAllLoads(){const e=this.#r.getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){this.#r.abort(e),this.#t.remove(e),this.#i.removeLayersByDataId(e)}fitToContainer(){this.#i.fitToContainer()}initWLDisplay(){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){this.#i.setImageSmoothing(e),this.#i.draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),this.#e.dataViewConfigs===null||this.#e.dataViewConfigs===void 0)throw new Error("No available data view configuration");let i=[];return this.#e.dataViewConfigs[e]!==void 0?i=this.#e.dataViewConfigs[e]:t||this.#e.dataViewConfigs["*"]===void 0||(i=this.#e.dataViewConfigs["*"]),i}getViewConfig(e,t,i){return this.getViewConfigs(e,i).find(function(a){return a.divId===t})}getDataViewConfigs(){return this.#e.dataViewConfigs}setDataViewConfigs(e){this.#i.empty(),this.#e.dataViewConfigs=e,this.#d(e)}addDataViewConfig(e,t){const i=this.#e.dataViewConfigs;if(i[e]===void 0&&(i[e]=[]),i[e].findIndex(function(a){return a.divId===t.divId})!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);this.#e.dataViewConfigs[e].push(t),this.#i.getLayerGroupByDivId(t.divId)===void 0&&this.#c(t),this.#t.get(e)!==void 0&&this.render(e,[t])}removeDataViewConfig(e,t){const i=this.#e.dataViewConfigs;if(i[e]===void 0)return;const a=i[e].findIndex(function(l){return l.divId===t});if(a===-1)return;i[e].splice(a,1),i[e].length===0&&delete i[e];const o=this.#i.getLayerGroupByDivId(t);if(o!==void 0){const l=o.getViewLayersByDataId(e);l.length===1&&o.removeLayer(l[0]);const c=o.getDrawLayersByDataId(e);c.length===1&&o.removeLayer(c[0]),o.getNumberOfLayers()===0&&this.#i.removeLayerGroup(o)}}updateDataViewConfig(e,t,i){const a=this.#e.dataViewConfigs;if(a[e]===void 0)throw new Error("No config for dataId: "+e);const o=a[e].findIndex(function(d){return d.divId===t});if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const l=a[e][o];for(const d in i)l[d]=i[d];const c=this.#i.getLayerGroupByDivId(l.divId);if(c!==void 0){const d=c.getViewLayersByDataId(e);d.length===1&&c.removeLayer(d[0]);const h=c.getDrawLayersByDataId(e);h.length===1&&c.removeLayer(h[0])}this.#t.get(e)!==void 0&&this.render(e,[l])}#d(e){const t=Object.keys(e),i=[];for(let a=0;a<t.length;++a){const o=e[t[a]];for(let l=0;l<o.length;++l){const c=o[l];i.includes(c.divId)||(this.#c(c),i.push(c.divId))}}}#c(e){const t=this.#e.rootDocument.getElementById(e.divId),i=this.#i.addLayerGroup(t);this.#C(i)}setLayerGroupsBinders(e){const t=[];for(let i=0;i<e.length;++i)Hb[e[i]]!==void 0&&t.push(new Hb[e[i]]);this.#i.setBinders(t)}render(e,t){if(e==null)throw new Error("Cannot render without data id");const i=this.getData(e).image!==void 0,a=this.getData(e).annotationGroup!==void 0;if(this.#i.getNumberOfLayerGroups()===0&&this.#d(this.#e.dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let o=0;o<t.length;++o){const l=t[o],c=this.#i.getLayerGroupByDivId(l.divId);if(!c)throw new Error("No layer group for "+l.divId);this.#t.get(e)!==void 0&&(i&&c.getViewLayersByDataId(e).length===0?this.#v(e,l):a&&c.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,l)),c.draw()}else De.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,i){const a=this.#i.getActiveLayerGroup(),o=a.getBaseViewLayer().getViewController().getCurrentScrollPosition(),l=new Rt(t,i,o);a.addScale(e,l),a.draw()}translate(e,t){const i=this.#i.getActiveLayerGroup();i.addTranslation({x:e,y:t,z:0}),i.draw()}setOpacity(e){const t=this.#i.getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,i){const a=this.#i.getActiveLayerGroup().getBaseViewLayer(),o=a.getDataId(),l=this.getData(o),c=a.getViewController(),d=function(f,m,v){const p=[],S=_e.default.Node.create(f).getChildren(o3);for(let y=0,C=S.length;y<C;++y){const w=S[y],D=w.getChildren();for(let b=0,x=D.length;b<x;++b){const A=new gr,I=new gt(zL(w.id()));A.referencedSopInstanceUID=v.getImageUid(I);const k=D[0];A.trackingId=k.id(),A.trackingUid=k.id();const E=k.getChildren(ta)[0];if(A.colour=E.stroke(),k.name()==="line-group"){const _=E.points();A.mathShape=new xe(_[0],_[1]),A.referencePoints=[new xe(_[2],_[3])]}else if(k.name()==="ruler-group"){const _=E.points();A.mathShape=new Mt(new xe(_[0],_[1]),new xe(_[2],_[3]))}else if(k.name()==="rectangle-group")A.mathShape=new Ba(new xe(E.x(),E.y()),new xe(E.x()+E.width(),E.y()+E.height()));else if(k.name()==="roi-group"){const _=E.points(),R=[];for(let N=0;N<_.length;N+=2)R.push(new xe(_[N],_[N+1]));A.mathShape=new bi(R)}else if(k.name()==="freeHand-group"){De.warn("Converting freehand into ROI shape");const _=E.points(),R=[];for(let N=0;N<_.length;N+=2)R.push(new xe(_[N],_[N+1]));A.mathShape=new bi(R)}else if(k.name()==="protractor-group"){const _=E.points();A.mathShape=new Ga([new xe(_[0],_[1]),new xe(_[2],_[3]),new xe(_[4],_[5])])}else if(k.name()==="ellipse-group"){const _=E.absolutePosition();A.mathShape=new Va(new xe(_.x,_.y),E.radiusX(),E.radiusY())}else if(k.name()==="circle-group"){const _=E.absolutePosition();A.mathShape=new za(new xe(_.x,_.y),E.radius())}if(m){const _=m[k.id()];A.textExpr=_.meta.textExpr,A.quantification=_.meta.quantification}p.push(A)}}return p}(e,t,l.image),h=this.createAnnotationData(o);for(const f of d)f.setViewController(c),h.annotationGroup.add(f);this.#t.add(i,h),this.render(i)}applyJsonState(e,t){const i=new jL(t);i.apply(this,i.fromJSON(e))}onResize=()=>{this.fitToContainer()};onKeydown=e=>{this.#u(e)};defaultOnKeydown=e=>{if(e.ctrlKey){if(e.shiftKey){const t=this.#i.getActiveLayerGroup(),i=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&i.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&i.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&i.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&i.decrementPositionAlongScroll()}else if(e.key==="y")this.#a.redo();else if(e.key==="z")this.#a.undo();else if(e.key===" ")for(let t=0;t<this.#i.getNumberOfLayerGroups();++t)this.#i.getLayerGroup(t).setShowCrosshair(!this.#i.getLayerGroup(t).getShowCrosshair())}};resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<this.#i.getNumberOfLayerGroups();++t){const i=this.#i.getLayerGroup(t),a=i.getActiveLayer();a!==void 0&&this.#n.bindLayerGroup(i,a)}this.#n.setSelectedTool(e)}setToolFeatures(e){this.#n.setToolFeatures(e)}undo(){this.#a.undo()}redo(){this.#a.redo()}getStackSize(){return this.#a.getStackSize()}getCurrentStackIndex(){return this.#a.getCurrentStackIndex()}getOverlayData(e){let t;return this.#s!==void 0&&(t=this.#s[e]),t}toggleOverlayListeners(e){const t=this.getOverlayData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),i=new lp({});i.annotationGroup=new vc,i.annotationGroup.setMetaValue("Modality","SR");const a=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of a)i.annotationGroup.setMetaValue(o,t[o]);return i.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),i}addAndRenderAnnotationData(e,t,i){const a=this.addData(e),o=this.getViewConfigs(i).find(c=>c.divId===t);if(o===void 0)throw new Error("No reference data view config for draw");const l=new S3(t);l.orientation=o.orientation,this.addDataViewConfig(a,l),this.render(a)}#u=e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&this.#l.fireEvent(e)};#h=e=>{this.#e.overlayConfig!==void 0&&(this.#s[e.dataid]=new uI(this,e.dataid,this.#e.overlayConfig)),e.type="loadstart",this.#u(e)};#f=e=>{e.type="loadprogress",this.#u(e)};#g=e=>{let t;e.data===void 0&&De.error("Missing loaditem event data."),e.loadtype===void 0&&De.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state"),this.#u({type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn});const i=e.isfirstitem;e.loadtype==="image"?i?this.#t.add(e.dataid,e.data):this.#t.update(e.dataid,e.data):e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid),this.#s!==void 0&&this.#s[e.dataid]!==void 0&&this.#s[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&i&&this.#e.viewOnFirstLoadItem&&this.render(e.dataid)};#m=e=>{e.type="load",this.#u(e)};#p=e=>{e.type="loadend",this.#u(e)};#b=e=>{e.type===void 0&&(e.type="error"),this.#u(e)};#S=e=>{e.type===void 0&&(e.type="timeout"),this.#u(e)};#y=e=>{e.type===void 0&&(e.type="abort"),this.#u(e)};#C(e){e.addEventListener("zoomchange",this.#u),e.addEventListener("offsetchange",this.#u),e.addEventListener("layerremove",this.#u),e.addEventListener("renderstart",this.#u),e.addEventListener("renderend",this.#u);for(let t=0;t<as.length;++t)e.addEventListener(as[t],this.#u);e.addEventListener("wlchange",t=>{const i=F0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.windowCenter=void 0,a.windowWidth=void 0,a.wlPresetName=void 0,t.value.length===3&&(a.windowCenter=t.value[0],a.windowWidth=t.value[1],a.wlPresetName=t.value[2]))}),e.addEventListener("opacitychange",t=>{const i=F0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.opacity=t.value[0])}),e.addEventListener("colourmapchange",t=>{const i=F0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.colourMap=t.value[0])})}#v(e,t){const i=this.#t.get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const a=this.#i.getLayerGroupByDivId(t.divId);if(!a)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=i.image.getGeometry();this.#i.unbindLayerGroups();const l=new gO().create(i.meta,i.image),c=M5(o.getOrientation(),_5(t.orientation));l.setOrientation(c),i.image.getMeta().Modality==="SEG"&&l.setAlphaFunction(function(C){return C===0?0:255});const d=a.getNumberOfViewLayers()===0;let h=1;t.opacity!==void 0?h=t.opacity:d||(h=.5);const f=a.addViewLayer();f.setView(l,e);const m=o.getSize(c).get2D(),v=o.getSpacing(c).get2D();f.initialise(m,v,h);const p=f.getViewController();if(t.wlPresetName!==void 0)p.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const C=new Un(t.windowCenter,t.windowWidth);p.setWindowLevel(C)}t.colourMap!==void 0?p.setColourMap(t.colourMap):d||(i.image.getMeta().Modality==="PT"?p.setColourMap("hot"):p.setColourMap("rainbow")),this.#t.addEventListener("dataimageset",f.onimageset);const S=[p.getCurrentIndex().getValues(),p.getCurrentPosition().getValues()];a.updateLayersToPositionChange({value:S,srclayerid:f.getId()}),this.#i.fitToContainer(),f.setOffset(a.getOffset());const y=this.#D(o.getOrientation(),t.orientation);if(this.#T(y,f),d)f.setScale(a.getScale());else{const C=a.getBaseViewLayer();f.initScale(a.getScale(),C.getAbsoluteZoomOffset())}this.#i.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(a,f),this.#u({type:"viewlayeradd",layerid:f.getId(),layergroupid:a.getDivId(),dataid:e}),d&&this.#n&&this.#n.init()}#w(e,t){let i;const a=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(a!==void 0){const l=a.value[0],c=l?.ReferencedSeriesSequence,d=c?.value[0],h=d?.SeriesInstanceUID,f={SeriesInstanceUID:h},m=t.searchViewLayers(f);m.length!==0&&(i=m[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const l=o.value[0],c=l?.SeriesInstanceUID,d={SeriesInstanceUID:c},h=t.searchViewLayers(d);h.length!==0&&(i=h[0])}if(i===void 0)for(const l of e.getList()){const c={SOPInstanceUID:l.referencedSopInstanceUID,SOPClassUID:l.referencedSopClassUID},d=t.searchViewLayers(c);if(d.length!==0){i=d[0];break}}return i}addDrawLayer(e,t){const i=this.#i.getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const a=this.#t.get(e);if(!a)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=a.annotationGroup,l=this.#w(o,i);if(l===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const c=l.getDataId();this.#i.unbindLayerGroups();const d=l.getViewController();a.annotationGroup.setViewController(d);const h=this.#t.get(c);if(!h)throw new Error("Cannot initialise layer without reference data, id: "+c);const f=h.image.getGeometry(),m=M5(f.getOrientation(),_5(t.orientation)),v=f.getSize(m).get2D(),p=f.getSpacing(m).get2D(),S=i.addDrawLayer();S.initialise(v,p,l.getId());const y=new a3(f,m);S.setPlaneHelper(y);const C=[d.getCurrentIndex().getValues(),d.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:C,srclayerid:S.getId()}),this.#i.fitToContainer(),S.setOffset(i.getOffset());const w=this.#D(f.getOrientation(),t.orientation);this.#T(w,S),S.initScale(i.getScale(),l.getAbsoluteZoomOffset()),S.setAnnotationGroup(a.annotationGroup,e,this.addToUndoStack),S.setCurrentPosition(d.getCurrentPosition(),d.getCurrentIndex()),this.#i.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(i,S),this.#u({type:"drawlayeradd",layerid:S.getId(),layergroupid:i.getDivId(),dataid:e})}#D(e,t){const i=H4(e.asOneAndZeros());if(i===void 0)throw new Error("Unsupported undefined orientation code");const a=t===void 0,o=!a&&t===pr.Axial,l=!a&&t===pr.Coronal,c=!a&&t===pr.Sagittal,d={x:!1,y:!1},h={x:!1,y:!1,z:!1};return i==="LPS"?(l||c)&&(h.z=!0,d.y=!0):i==="LAI"?a||o?d.y=!0:l?h.z=!0:c&&(h.z=!0,d.x=!0):i==="RPI"?a||o?d.x=!0:l?(h.z=!0,d.x=!0):c&&(h.z=!0):i==="RAS"?(d.x=!0,d.y=!0,(l||c)&&(h.z=!0)):i==="LSA"?(d.y=!0,a||l?h.z=!0:o?h.y=!0:c&&(d.x=!0,h.y=!0,h.z=!0)):i==="RSP"?a||l?(d.x=!0,d.y=!0,h.x=!0,h.z=!0):o?(d.x=!0,h.x=!0):c&&(d.y=!0,h.z=!0):i==="RIA"?(d.x=!0,a||l?h.x=!0:o?(d.y=!0,h.x=!0,h.y=!0):c&&(h.y=!0)):i==="PSL"?(h.z=!0,(a||c||l)&&(d.y=!0)):i==="PIR"?(h.z=!0,(o||l)&&(d.x=!0)):i==="ASR"?(d.x=!0,d.y=!0,(a||c||l)&&(h.z=!0)):i==="AIL"?a||c?(d.x=!0,h.z=!0):o?d.y=!0:l&&(h.z=!0):i!=="LIP"&&De.warn("Unsupported orientation code: "+i+", display could be incorrect"),{scale:h,offset:d}}#T(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()}}const y3=vr(re.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),ac="TagsTable",hr={flex:`${ac}-flex`,spacer:`${ac}-spacer`,searchField:`${ac}-searchField`,slider:`${ac}-slider`,container:`${ac}-container`},hI=ke("div")(({theme:n})=>({[`& .${hr.flex}`]:{flex:1},[`& .${hr.spacer}`]:{flex:"1 1 100%"},[`& .${hr.searchField}`]:{width:"45%"},[`& .${hr.slider}`]:{margin:20},[`&.${hr.container}`]:{padding:10,overflow:"hidden"}}));class fI extends Nn.Component{constructor(e){super(e);const t=this.props.data;this.state={fullMetaData:t,searchfor:"",instanceNumber:0};const i=t["00200013"];if(typeof i<"u"){let a=i.value;typeof a=="string"&&(a=[a]),this.state.instanceNumbers=a.map(Number),this.state.instanceNumbers.sort((o,l)=>o-l),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(e,t){var i=e.toLowerCase(),a=this.getMetaArray(t),o=a.filter(function(l){for(var c in l)if(l.hasOwnProperty(c)){var d=l[c];if(typeof d<"u"&&(typeof d!="string"&&(d=d.toString()),d.toLowerCase().indexOf(i)!==-1))return!0}return!1});this.setState({searchfor:e,displayData:o})}getMetaArray(e){let t;return this.isDicomMeta(this.state.fullMetaData)?t=this.getDicomTagReducer(this.state.fullMetaData,e,""):t=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(t,[])}isDicomMeta(e){return typeof e["00020010"]<"u"}getTagReducer(e){return function(t,i){return t.push({name:i,value:e[i].value}),t}}getDicomTagReducer(e,t,i){return(a,o)=>{const l=X4(o);let c=l.getNameFromDictionary();typeof c>"u"&&(c="x"+l.getKey());const d=c,h=e[o];let f=h.value;if(typeof f.slice>"u"&&typeof f[t]<"u"&&(f=f[t]),d==="InstanceNumber"&&(f=t),h.vr==="SQ"){a.push({name:(i?i+" ":"")+d,value:""});for(let m=0;m<f.length;++m){const v=f[m],S=Object.keys(v).reduce(this.getDicomTagReducer(v,t,i+"["+m+"]"),[]);a=a.concat(S)}}else h.vr[0]==="O"&&f.length>10&&(f=f.slice(0,10).toString()+"... (len:"+f.length+")"),a.push({name:(i?i+" ":"")+d,value:f.toString()});return a}}onSliderChange=e=>{const t=parseInt(e.target.value,10),i=this.state.instanceNumbers[t],a=this.getMetaArray(i);this.setState({instanceNumber:i,displayData:a}),this.filterList(this.state.searchfor,i)};onSearch=e=>{var t=e.target.value;this.filterList(t,this.state.instanceNumber)};render(){const{displayData:e,searchfor:t,sliderMin:i,sliderMax:a}=this.state;return re.jsxs(hI,{className:hr.container,children:[re.jsxs(E4,{direction:"row",spacing:2,children:[re.jsx(tR,{id:"search",type:"search",value:t,className:hr.searchField,onChange:this.onSearch,margin:"normal",size:"small",slotProps:{input:{startAdornment:re.jsx(YA,{position:"start",children:re.jsx(y3,{})})}}}),re.jsxs(B9,{width:300,display:"flex",alignItems:"center",children:[re.jsx(CP,{title:"Instance number",className:hr.slider,marks:!0,min:i,max:a,onChange:this.onSliderChange}),re.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),re.jsx(Fc,{sx:{width:"100%",overflow:"hidden"},children:re.jsx(NP,{sx:{maxHeight:400},children:re.jsxs(xP,{stickyHeader:!0,className:hr.table,children:[re.jsx(zP,{children:re.jsxs(wv,{children:[re.jsx(o0,{children:"Tag"}),re.jsx(o0,{children:"Value"})]})}),re.jsx(LP,{children:e.map((o,l)=>re.jsxs(wv,{children:[re.jsx(o0,{children:o.name}),re.jsx(o0,{children:o.value})]},l))})]})})})]})}}const gI=vr(re.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),pI=vr(re.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),mI=vr(re.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),SI=vr(re.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"})),yI=vr(re.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),vI=vr(re.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),bI=vr([re.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),re.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")]),I1="DwvComponent",es={appBar:`${I1}-appBar`,title:`${I1}-title`,iconSmall:`${I1}-iconSmall`},CI=ke("div")(({theme:n})=>({[`& .${es.appBar}`]:{position:"relative"},[`& .${es.title}`]:{flex:"0 0 auto"},[`& .${es.iconSmall}`]:{fontSize:20}})),DI=Nn.forwardRef((n,e)=>re.jsx(DA,{direction:"up",...n,ref:e}));class TI extends Nn.Component{constructor(e){super(e),this.state={versions:{dwv:OO(),react:Nn.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){const{versions:e,tools:t,loadProgress:i,dataLoaded:a,metaData:o}=this.state,l=(d,h)=>{h&&this.onChangeTool(h)},c=Object.keys(t).map(d=>re.jsx(s0,{value:d,title:d,disabled:!a||!this.canRunTool(d),children:this.getToolIcon(d)},d));return re.jsxs(CI,{className:es.root,id:"dwv",children:[re.jsx(s7,{variant:"determinate",value:i}),re.jsxs(E4,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[re.jsx(cR,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:l,children:c}),re.jsx(s0,{size:"small",value:"reset",title:"Reset",disabled:!a,onChange:this.onReset,children:re.jsx(pI,{})}),re.jsx(s0,{size:"small",value:"toggleOrientation",title:"Toggle Orientation",disabled:!a,onClick:this.toggleOrientation,children:re.jsx(bI,{})}),re.jsx(s0,{size:"small",value:"tags",title:"Tags",disabled:!a,onClick:this.handleTagsDialogOpen,children:re.jsx(yI,{})}),re.jsxs(vA,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,slots:{transition:DI},children:[re.jsx(C9,{className:es.appBar,position:"sticky",children:re.jsxs(YP,{children:[re.jsx(h9,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:re.jsx(gI,{})}),re.jsx(V0,{variant:"h6",color:"inherit",className:es.flex,children:"DICOM Tags"})]})}),re.jsx(fI,{data:o})]})]}),re.jsx("div",{id:"layerGroup0",className:"layerGroup",children:re.jsx("div",{id:"dropBox"})}),re.jsx("div",{children:re.jsx("p",{className:"legend",children:re.jsxs(V0,{variant:"caption",children:["Powered by ",re.jsx(sv,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",e.dwv," and ",re.jsx(sv,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",e.react]})})})]})}componentDidMount(){const e=new dI;e.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});let t=null,i=null,a=null,o=null;e.addEventListener("loadstart",()=>{t=0,i=0,a=0,o=!0,this.showDropbox(e,!1)}),e.addEventListener("loadprogress",l=>{this.setState({loadProgress:l.loaded})}),e.addEventListener("renderend",l=>{if(o){o=!1;const d=this.state.dwvApp.getViewLayersByDataId(l.dataid)[0].getViewController();d.canScroll()&&this.setState({canScroll:!0}),d.isMonochrome()&&this.setState({canWindowLevel:!0});let h="ZoomAndPan";d.canScroll()&&(h="Scroll"),this.onChangeTool(h)}}),e.addEventListener("load",l=>{this.setState({metaData:e.getMetaData(l.dataid)}),this.setState({loadProgress:100}),this.setState({dataLoaded:!0})}),e.addEventListener("loadend",()=>{i&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),t||this.showDropbox(e,!0)),a&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(e,!0))}),e.addEventListener("loaditem",()=>{++t}),e.addEventListener("loaderror",l=>{console.error(l.error),++i}),e.addEventListener("loadabort",()=>{++a}),e.addEventListener("keydown",l=>{e.defaultOnKeydown(l)}),window.addEventListener("resize",e.onResize),this.setState({dwvApp:e}),this.setupDropbox(e),e.loadFromUri(window.location.href)}getToolIcon=e=>{let t;return e==="Scroll"?t=re.jsx(mI,{}):e==="ZoomAndPan"?t=re.jsx(y3,{}):e==="WindowLevel"?t=re.jsx(SI,{}):e==="Draw"&&(t=re.jsx(vI,{})),t};onChangeTool=e=>{this.state.dwvApp&&(this.setState({selectedTool:e}),this.state.dwvApp.setTool(e),e==="Draw"?this.onChangeShape(this.state.tools.Draw.options[0]):this.state.dwvApp.getActiveLayerGroup()?.setActiveLayer(0))};canRunTool=e=>{let t;return e==="Scroll"?t=this.state.canScroll:e==="WindowLevel"?t=this.state.canWindowLevel:t=!0,t};toggleOrientation=()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const e={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(e);const t=this.state.dwvApp.getDataIds();for(const i of t)this.state.dwvApp.render(i)};onChangeShape=e=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:e})};onReset=()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()};handleTagsDialogOpen=()=>{this.setState({showDicomTags:!0})};handleTagsDialogClose=()=>{this.setState({showDicomTags:!1})};setupDropbox=e=>{this.showDropbox(e,!0)};defaultHandleDragEvent=e=>{e.stopPropagation(),e.preventDefault()};onBoxDragOver=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)===-1&&(t.className+=" "+this.state.hoverClassName)};onBoxDragLeave=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)!==-1&&(t.className=t.className.replace(" "+this.state.hoverClassName,""))};onDrop=e=>{this.defaultHandleDragEvent(e),this.state.dwvApp.loadFiles(e.dataTransfer.files)};onInputFile=e=>{e.target&&e.target.files&&this.state.dwvApp.loadFiles(e.target.files)};showDropbox=(e,t)=>{const i=document.getElementById(this.state.dropboxDivId);if(!i)return;const a=document.getElementById("layerGroup0");if(t){if(i.className=this.state.dropboxClassName+" "+this.state.borderClassName,i.innerHTML===""){const o=document.createElement("p");o.appendChild(document.createTextNode("Drag and drop data here or "));const l=document.createElement("input");l.onchange=this.onInputFile,l.type="file",l.multiple=!0,l.id="input-file",l.style.display="none";const c=document.createElement("label");c.htmlFor="input-file";const d=document.createElement("a");d.appendChild(document.createTextNode("click here")),d.id="input-file-link",c.appendChild(d),o.appendChild(l),o.appendChild(c),i.appendChild(o)}i.setAttribute("style","display:initial"),a&&(a.removeEventListener("dragover",this.defaultHandleDragEvent),a.removeEventListener("dragleave",this.defaultHandleDragEvent),a.removeEventListener("drop",this.onDrop)),i.addEventListener("dragover",this.onBoxDragOver),i.addEventListener("dragleave",this.onBoxDragLeave),i.addEventListener("drop",this.onDrop)}else i.className=this.state.dropboxClassName,i.innerHTML="",i.setAttribute("style","display:none"),i.removeEventListener("dragover",this.onBoxDragOver),i.removeEventListener("dragleave",this.onBoxDragLeave),i.removeEventListener("drop",this.onDrop),a&&(a.addEventListener("dragover",this.defaultHandleDragEvent),a.addEventListener("dragleave",this.defaultHandleDragEvent),a.addEventListener("drop",this.onDrop))}}function wI(){const n=uR("(prefers-color-scheme: dark)"),e=hd({typography:{useNextVariants:!0},palette:{primary:{main:GD[500]},secondary:{main:BD[500]},mode:n?"dark":"light"}});return re.jsxs(Sx,{theme:e,children:[re.jsx(j9,{}),re.jsx("div",{className:"App",children:re.jsx(TI,{})})]})}qD.createRoot(document.getElementById("app")).render(re.jsx(K.StrictMode,{children:re.jsx(wI,{})}));
