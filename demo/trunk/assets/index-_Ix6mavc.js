var mk=Object.defineProperty;var KD=n=>{throw TypeError(n)};var Sk=(n,e,t)=>e in n?mk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>Sk(n,typeof e!="symbol"?e+"":e,t),U5=(n,e,t)=>e.has(n)||KD("Cannot "+t);var u=(n,e,t)=>(U5(n,e,"read from private field"),t?t.call(n):e.get(n)),G=(n,e,t)=>e.has(n)?KD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),z=(n,e,t,r)=>(U5(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Q=(n,e,t)=>(U5(n,e,"access private method"),t);var Di=(n,e,t,r)=>({set _(i){z(n,e,i,t)},get _(){return u(n,e,r)}});function yk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var q5={exports:{}},$f={},B5={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD;function vk(){if(ZD)return vt;ZD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function C(V,$,ne){this.props=V,this.context=$,this.refs=y,this.updater=ne||g}C.prototype.isReactComponent={},C.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function x(){}x.prototype=C.prototype;function w(V,$,ne){this.props=V,this.context=$,this.refs=y,this.updater=ne||g}var b=w.prototype=new x;b.constructor=w,S(b,C.prototype),b.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function E(V,$,ne){var ie,te={},pe=null,ee=null;if($!=null)for(ie in $.ref!==void 0&&(ee=$.ref),$.key!==void 0&&(pe=""+$.key),$)P.call($,ie)&&!F.hasOwnProperty(ie)&&(te[ie]=$[ie]);var oe=arguments.length-2;if(oe===1)te.children=ne;else if(1<oe){for(var de=Array(oe),me=0;me<oe;me++)de[me]=arguments[me+2];te.children=de}if(V&&V.defaultProps)for(ie in oe=V.defaultProps,oe)te[ie]===void 0&&(te[ie]=oe[ie]);return{$$typeof:n,type:V,key:pe,ref:ee,props:te,_owner:A.current}}function k(V,$){return{$$typeof:n,type:V.type,key:$,ref:V.ref,props:V.props,_owner:V._owner}}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function U(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ne){return $[ne]})}var N=/\/+/g;function L(V,$){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):$.toString(36)}function I(V,$,ne,ie,te){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var ee=!1;if(V===null)ee=!0;else switch(pe){case"string":case"number":ee=!0;break;case"object":switch(V.$$typeof){case n:case e:ee=!0}}if(ee)return ee=V,te=te(ee),V=ie===""?"."+L(ee,0):ie,T(te)?(ne="",V!=null&&(ne=V.replace(N,"$&/")+"/"),I(te,$,ne,"",function(me){return me})):te!=null&&(R(te)&&(te=k(te,ne+(!te.key||ee&&ee.key===te.key?"":(""+te.key).replace(N,"$&/")+"/")+V)),$.push(te)),1;if(ee=0,ie=ie===""?".":ie+":",T(V))for(var oe=0;oe<V.length;oe++){pe=V[oe];var de=ie+L(pe,oe);ee+=I(pe,$,ne,de,te)}else if(de=v(V),typeof de=="function")for(V=de.call(V),oe=0;!(pe=V.next()).done;)pe=pe.value,de=ie+L(pe,oe++),ee+=I(pe,$,ne,de,te);else if(pe==="object")throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return ee}function _(V,$,ne){if(V==null)return V;var ie=[],te=0;return I(V,ie,"","",function(pe){return $.call(ne,pe,te++)}),ie}function B(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(ne){(V._status===0||V._status===-1)&&(V._status=1,V._result=ne)},function(ne){(V._status===0||V._status===-1)&&(V._status=2,V._result=ne)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var W={current:null},H={transition:null},j={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:H,ReactCurrentOwner:A};function X(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:_,forEach:function(V,$,ne){_(V,function(){$.apply(this,arguments)},ne)},count:function(V){var $=0;return _(V,function(){$++}),$},toArray:function(V){return _(V,function($){return $})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},vt.Component=C,vt.Fragment=t,vt.Profiler=i,vt.PureComponent=w,vt.StrictMode=r,vt.Suspense=d,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,vt.act=X,vt.cloneElement=function(V,$,ne){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ie=S({},V.props),te=V.key,pe=V.ref,ee=V._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,ee=A.current),$.key!==void 0&&(te=""+$.key),V.type&&V.type.defaultProps)var oe=V.type.defaultProps;for(de in $)P.call($,de)&&!F.hasOwnProperty(de)&&(ie[de]=$[de]===void 0&&oe!==void 0?oe[de]:$[de])}var de=arguments.length-2;if(de===1)ie.children=ne;else if(1<de){oe=Array(de);for(var me=0;me<de;me++)oe[me]=arguments[me+2];ie.children=oe}return{$$typeof:n,type:V.type,key:te,ref:pe,props:ie,_owner:ee}},vt.createContext=function(V){return V={$$typeof:s,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},vt.createElement=E,vt.createFactory=function(V){var $=E.bind(null,V);return $.type=V,$},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:l,render:V}},vt.isValidElement=R,vt.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:B}},vt.memo=function(V,$){return{$$typeof:h,type:V,compare:$===void 0?null:$}},vt.startTransition=function(V){var $=H.transition;H.transition={};try{V()}finally{H.transition=$}},vt.unstable_act=X,vt.useCallback=function(V,$){return W.current.useCallback(V,$)},vt.useContext=function(V){return W.current.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V){return W.current.useDeferredValue(V)},vt.useEffect=function(V,$){return W.current.useEffect(V,$)},vt.useId=function(){return W.current.useId()},vt.useImperativeHandle=function(V,$,ne){return W.current.useImperativeHandle(V,$,ne)},vt.useInsertionEffect=function(V,$){return W.current.useInsertionEffect(V,$)},vt.useLayoutEffect=function(V,$){return W.current.useLayoutEffect(V,$)},vt.useMemo=function(V,$){return W.current.useMemo(V,$)},vt.useReducer=function(V,$,ne){return W.current.useReducer(V,$,ne)},vt.useRef=function(V){return W.current.useRef(V)},vt.useState=function(V){return W.current.useState(V)},vt.useSyncExternalStore=function(V,$,ne){return W.current.useSyncExternalStore(V,$,ne)},vt.useTransition=function(){return W.current.useTransition()},vt.version="18.3.1",vt}var JD;function gb(){return JD||(JD=1,B5.exports=vk()),B5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e8;function Ck(){if(e8)return $f;e8=1;var n=gb(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(l,d,h){var f,m={},v=null,g=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(g=d.ref);for(f in d)r.call(d,f)&&!o.hasOwnProperty(f)&&(m[f]=d[f]);if(l&&l.defaultProps)for(f in d=l.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:e,type:l,key:v,ref:g,props:m,_owner:i.current}}return $f.Fragment=t,$f.jsx=s,$f.jsxs=s,$f}var t8;function bk(){return t8||(t8=1,q5.exports=Ck()),q5.exports}var le=bk(),J=gb();const Si=gd(J),P2=yk({__proto__:null,default:Si},[J]);var sS={},V5={exports:{}},Xr={},G5={exports:{}},Q5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n8;function wk(){return n8||(n8=1,function(n){function e(H,j){var X=H.length;H.push(j);e:for(;0<X;){var V=X-1>>>1,$=H[V];if(0<i($,j))H[V]=j,H[X]=$,X=V;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var j=H[0],X=H.pop();if(X!==j){H[0]=X;e:for(var V=0,$=H.length,ne=$>>>1;V<ne;){var ie=2*(V+1)-1,te=H[ie],pe=ie+1,ee=H[pe];if(0>i(te,X))pe<$&&0>i(ee,te)?(H[V]=ee,H[pe]=X,V=pe):(H[V]=te,H[ie]=X,V=ie);else if(pe<$&&0>i(ee,X))H[V]=ee,H[pe]=X,V=pe;else break e}}return j}function i(H,j){var X=H.sortIndex-j.sortIndex;return X!==0?X:H.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();n.unstable_now=function(){return s.now()-l}}var d=[],h=[],f=1,m=null,v=3,g=!1,S=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var j=t(h);j!==null;){if(j.callback===null)r(h);else if(j.startTime<=H)r(h),j.sortIndex=j.expirationTime,e(d,j);else break;j=t(h)}}function T(H){if(y=!1,b(H),!S)if(t(d)!==null)S=!0,B(P);else{var j=t(h);j!==null&&W(T,j.startTime-H)}}function P(H,j){S=!1,y&&(y=!1,x(E),E=-1),g=!0;var X=v;try{for(b(j),m=t(d);m!==null&&(!(m.expirationTime>j)||H&&!U());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var $=V(m.expirationTime<=j);j=n.unstable_now(),typeof $=="function"?m.callback=$:m===t(d)&&r(d),b(j)}else r(d);m=t(d)}if(m!==null)var ne=!0;else{var ie=t(h);ie!==null&&W(T,ie.startTime-j),ne=!1}return ne}finally{m=null,v=X,g=!1}}var A=!1,F=null,E=-1,k=5,R=-1;function U(){return!(n.unstable_now()-R<k)}function N(){if(F!==null){var H=n.unstable_now();R=H;var j=!0;try{j=F(!0,H)}finally{j?L():(A=!1,F=null)}}else A=!1}var L;if(typeof w=="function")L=function(){w(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,_=I.port2;I.port1.onmessage=N,L=function(){_.postMessage(null)}}else L=function(){C(N,0)};function B(H){F=H,A||(A=!0,L())}function W(H,j){E=C(function(){H(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){S||g||(S=!0,B(P))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(H){switch(v){case 1:case 2:case 3:var j=3;break;default:j=v}var X=v;v=j;try{return H()}finally{v=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=v;v=H;try{return j()}finally{v=X}},n.unstable_scheduleCallback=function(H,j,X){var V=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?V+X:V):X=V,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=X+$,H={id:f++,callback:j,priorityLevel:H,startTime:X,expirationTime:$,sortIndex:-1},X>V?(H.sortIndex=X,e(h,H),t(d)===null&&H===t(h)&&(y?(x(E),E=-1):y=!0,W(T,X-V))):(H.sortIndex=$,e(d,H),S||g||(S=!0,B(P))),H},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(H){var j=v;return function(){var X=v;v=j;try{return H.apply(this,arguments)}finally{v=X}}}}(Q5)),Q5}var r8;function Dk(){return r8||(r8=1,G5.exports=wk()),G5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i8;function xk(){if(i8)return Xr;i8=1;var n=gb(),e=Dk();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){s(a,c),s(a+"Capture",c)}function s(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(a){return d.call(m,a)?!0:d.call(f,a)?!1:h.test(a)?m[a]=!0:(f[a]=!0,!1)}function g(a,c,p,D){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return D?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,c,p,D){if(c===null||typeof c>"u"||g(a,c,p,D))return!0;if(D)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(a,c,p,D,O,M,Y){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=D,this.attributeNamespace=O,this.mustUseProperty=p,this.propertyName=a,this.type=c,this.sanitizeURL=M,this.removeEmptyString=Y}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new y(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];C[c]=new y(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new y(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new y(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new y(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new y(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function w(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(x,w);C[c]=new y(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(x,w);C[c]=new y(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(x,w);C[c]=new y(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});function b(a,c,p,D){var O=C.hasOwnProperty(c)?C[c]:null;(O!==null?O.type!==0:D||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,p,O,D)&&(p=null),D||O===null?v(c)&&(p===null?a.removeAttribute(c):a.setAttribute(c,""+p)):O.mustUseProperty?a[O.propertyName]=p===null?O.type===3?!1:"":p:(c=O.attributeName,D=O.attributeNamespace,p===null?a.removeAttribute(c):(O=O.type,p=O===3||O===4&&p===!0?"":""+p,D?a.setAttributeNS(D,c,p):a.setAttribute(c,p))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),U=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),H=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var X=Object.assign,V;function $(a){if(V===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);V=c&&c[1]||""}return`
`+V+a}var ne=!1;function ie(a,c){if(!a||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(De){var D=De}Reflect.construct(a,[],c)}else{try{c.call()}catch(De){D=De}a.call(c.prototype)}else{try{throw Error()}catch(De){D=De}a()}}catch(De){if(De&&D&&typeof De.stack=="string"){for(var O=De.stack.split(`
`),M=D.stack.split(`
`),Y=O.length-1,re=M.length-1;1<=Y&&0<=re&&O[Y]!==M[re];)re--;for(;1<=Y&&0<=re;Y--,re--)if(O[Y]!==M[re]){if(Y!==1||re!==1)do if(Y--,re--,0>re||O[Y]!==M[re]){var ue=`
`+O[Y].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=Y&&0<=re);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?$(a):""}function te(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case A:return"Portal";case k:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case I:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case R:return(a._context.displayName||"Context")+".Provider";case N:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return c=a.displayName||null,c!==null?c:pe(a.type)||"Memo";case B:c=a._payload,a=a._init;try{return pe(a(c))}catch{}}return null}function ee(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function de(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(a){var c=de(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),D=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,M=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return O.call(this)},set:function(Y){D=""+Y,M.call(this,Y)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return D},setValue:function(Y){D=""+Y},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function we(a){a._valueTracker||(a._valueTracker=me(a))}function Te(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),D="";return a&&(D=de(a)?a.checked?"true":"false":a.value),a=D,a!==p?(c.setValue(a),!0):!1}function qe(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function q(a,c){var p=c.checked;return X({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function ge(a,c){var p=c.defaultValue==null?"":c.defaultValue,D=c.checked!=null?c.checked:c.defaultChecked;p=oe(c.value!=null?c.value:p),a._wrapperState={initialChecked:D,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Se(a,c){c=c.checked,c!=null&&b(a,"checked",c,!1)}function Z(a,c){Se(a,c);var p=oe(c.value),D=c.type;if(p!=null)D==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(D==="submit"||D==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?ce(a,c.type,p):c.hasOwnProperty("defaultValue")&&ce(a,c.type,oe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function K(a,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var D=c.type;if(!(D!=="submit"&&D!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,p||c===a.value||(a.value=c),a.defaultValue=c}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function ce(a,c,p){(c!=="number"||qe(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var Ce=Array.isArray;function xe(a,c,p,D){if(a=a.options,c){c={};for(var O=0;O<p.length;O++)c["$"+p[O]]=!0;for(p=0;p<a.length;p++)O=c.hasOwnProperty("$"+a[p].value),a[p].selected!==O&&(a[p].selected=O),O&&D&&(a[p].defaultSelected=!0)}else{for(p=""+oe(p),c=null,O=0;O<a.length;O++){if(a[O].value===p){a[O].selected=!0,D&&(a[O].defaultSelected=!0);return}c!==null||a[O].disabled||(c=a[O])}c!==null&&(c.selected=!0)}}function se(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Ae(a,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(t(92));if(Ce(p)){if(1<p.length)throw Error(t(93));p=p[0]}c=p}c==null&&(c=""),p=c}a._wrapperState={initialValue:oe(p)}}function ke(a,c){var p=oe(c.value),D=oe(c.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),c.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),D!=null&&(a.defaultValue=""+D)}function he(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function be(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ne(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?be(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ee,We=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,D,O){MSApp.execUnsafeLocalFunction(function(){return a(c,p,D,O)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Ee.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Be(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(a){nt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Qe[c]=Qe[a]})});function je(a,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Qe.hasOwnProperty(a)&&Qe[a]?(""+c).trim():c+"px"}function It(a,c){a=a.style;for(var p in c)if(c.hasOwnProperty(p)){var D=p.indexOf("--")===0,O=je(p,c[p],D);p==="float"&&(p="cssFloat"),D?a.setProperty(p,O):a[p]=O}}var Ye=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(a,c){if(c){if(Ye[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Gt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function Qi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ba=null,Ao=null,Lt=null;function Jt(a){if(a=kf(a)){if(typeof Ba!="function")throw Error(t(280));var c=a.stateNode;c&&(c=wm(c),Ba(a.stateNode,a.type,c))}}function Sd(a){Ao?Lt?Lt.push(a):Lt=[a]:Ao=a}function Iu(){if(Ao){var a=Ao,c=Lt;if(Lt=Ao=null,Jt(a),c)for(a=0;a<c.length;a++)Jt(c[a])}}function zi(a,c){return a(c)}function yw(){}var tv=!1;function vw(a,c,p){if(tv)return a(c,p);tv=!0;try{return zi(a,c,p)}finally{tv=!1,(Ao!==null||Lt!==null)&&(yw(),Iu())}}function hf(a,c){var p=a.stateNode;if(p===null)return null;var D=wm(p);if(D===null)return null;p=D[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(a=a.type,D=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!D;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(t(231,c,typeof p));return p}var nv=!1;if(l)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){nv=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{nv=!1}function wO(a,c,p,D,O,M,Y,re,ue){var De=Array.prototype.slice.call(arguments,3);try{c.apply(p,De)}catch(Me){this.onError(Me)}}var pf=!1,em=null,tm=!1,rv=null,DO={onError:function(a){pf=!0,em=a}};function xO(a,c,p,D,O,M,Y,re,ue){pf=!1,em=null,wO.apply(DO,arguments)}function TO(a,c,p,D,O,M,Y,re,ue){if(xO.apply(this,arguments),pf){if(pf){var De=em;pf=!1,em=null}else throw Error(t(198));tm||(tm=!0,rv=De)}}function Ru(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function Cw(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function bw(a){if(Ru(a)!==a)throw Error(t(188))}function PO(a){var c=a.alternate;if(!c){if(c=Ru(a),c===null)throw Error(t(188));return c!==a?null:a}for(var p=a,D=c;;){var O=p.return;if(O===null)break;var M=O.alternate;if(M===null){if(D=O.return,D!==null){p=D;continue}break}if(O.child===M.child){for(M=O.child;M;){if(M===p)return bw(O),a;if(M===D)return bw(O),c;M=M.sibling}throw Error(t(188))}if(p.return!==D.return)p=O,D=M;else{for(var Y=!1,re=O.child;re;){if(re===p){Y=!0,p=O,D=M;break}if(re===D){Y=!0,D=O,p=M;break}re=re.sibling}if(!Y){for(re=M.child;re;){if(re===p){Y=!0,p=M,D=O;break}if(re===D){Y=!0,D=M,p=O;break}re=re.sibling}if(!Y)throw Error(t(189))}}if(p.alternate!==D)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?a:c}function ww(a){return a=PO(a),a!==null?Dw(a):null}function Dw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Dw(a);if(c!==null)return c;a=a.sibling}return null}var xw=e.unstable_scheduleCallback,Tw=e.unstable_cancelCallback,IO=e.unstable_shouldYield,RO=e.unstable_requestPaint,On=e.unstable_now,LO=e.unstable_getCurrentPriorityLevel,iv=e.unstable_ImmediatePriority,Pw=e.unstable_UserBlockingPriority,nm=e.unstable_NormalPriority,AO=e.unstable_LowPriority,Iw=e.unstable_IdlePriority,rm=null,oa=null;function OO(a){if(oa&&typeof oa.onCommitFiberRoot=="function")try{oa.onCommitFiberRoot(rm,a,void 0,(a.current.flags&128)===128)}catch{}}var Oo=Math.clz32?Math.clz32:_O,EO=Math.log,kO=Math.LN2;function _O(a){return a>>>=0,a===0?32:31-(EO(a)/kO|0)|0}var im=64,om=4194304;function gf(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function am(a,c){var p=a.pendingLanes;if(p===0)return 0;var D=0,O=a.suspendedLanes,M=a.pingedLanes,Y=p&268435455;if(Y!==0){var re=Y&~O;re!==0?D=gf(re):(M&=Y,M!==0&&(D=gf(M)))}else Y=p&~O,Y!==0?D=gf(Y):M!==0&&(D=gf(M));if(D===0)return 0;if(c!==0&&c!==D&&(c&O)===0&&(O=D&-D,M=c&-c,O>=M||O===16&&(M&4194240)!==0))return c;if((D&4)!==0&&(D|=p&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=D;0<c;)p=31-Oo(c),O=1<<p,D|=a[p],c&=~O;return D}function FO(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MO(a,c){for(var p=a.suspendedLanes,D=a.pingedLanes,O=a.expirationTimes,M=a.pendingLanes;0<M;){var Y=31-Oo(M),re=1<<Y,ue=O[Y];ue===-1?((re&p)===0||(re&D)!==0)&&(O[Y]=FO(re,c)):ue<=c&&(a.expiredLanes|=re),M&=~re}}function ov(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Rw(){var a=im;return im<<=1,(im&4194240)===0&&(im=64),a}function av(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function mf(a,c,p){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Oo(c),a[c]=p}function NO(a,c){var p=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var D=a.eventTimes;for(a=a.expirationTimes;0<p;){var O=31-Oo(p),M=1<<O;c[O]=0,D[O]=-1,a[O]=-1,p&=~M}}function sv(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var D=31-Oo(p),O=1<<D;O&c|a[D]&c&&(a[D]|=c),p&=~O}}var qt=0;function Lw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Aw,lv,Ow,Ew,kw,uv=!1,sm=[],Hs=null,$s=null,Ys=null,Sf=new Map,yf=new Map,Xs=[],UO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _w(a,c){switch(a){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Sf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(c.pointerId)}}function vf(a,c,p,D,O,M){return a===null||a.nativeEvent!==M?(a={blockedOn:c,domEventName:p,eventSystemFlags:D,nativeEvent:M,targetContainers:[O]},c!==null&&(c=kf(c),c!==null&&lv(c)),a):(a.eventSystemFlags|=D,c=a.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),a)}function qO(a,c,p,D,O){switch(c){case"focusin":return Hs=vf(Hs,a,c,p,D,O),!0;case"dragenter":return $s=vf($s,a,c,p,D,O),!0;case"mouseover":return Ys=vf(Ys,a,c,p,D,O),!0;case"pointerover":var M=O.pointerId;return Sf.set(M,vf(Sf.get(M)||null,a,c,p,D,O)),!0;case"gotpointercapture":return M=O.pointerId,yf.set(M,vf(yf.get(M)||null,a,c,p,D,O)),!0}return!1}function Fw(a){var c=Lu(a.target);if(c!==null){var p=Ru(c);if(p!==null){if(c=p.tag,c===13){if(c=Cw(p),c!==null){a.blockedOn=c,kw(a.priority,function(){Ow(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function lm(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=dv(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var D=new p.constructor(p.type,p);zr=D,p.target.dispatchEvent(D),zr=null}else return c=kf(p),c!==null&&lv(c),a.blockedOn=p,!1;c.shift()}return!0}function Mw(a,c,p){lm(a)&&p.delete(c)}function BO(){uv=!1,Hs!==null&&lm(Hs)&&(Hs=null),$s!==null&&lm($s)&&($s=null),Ys!==null&&lm(Ys)&&(Ys=null),Sf.forEach(Mw),yf.forEach(Mw)}function Cf(a,c){a.blockedOn===c&&(a.blockedOn=null,uv||(uv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BO)))}function bf(a){function c(O){return Cf(O,a)}if(0<sm.length){Cf(sm[0],a);for(var p=1;p<sm.length;p++){var D=sm[p];D.blockedOn===a&&(D.blockedOn=null)}}for(Hs!==null&&Cf(Hs,a),$s!==null&&Cf($s,a),Ys!==null&&Cf(Ys,a),Sf.forEach(c),yf.forEach(c),p=0;p<Xs.length;p++)D=Xs[p],D.blockedOn===a&&(D.blockedOn=null);for(;0<Xs.length&&(p=Xs[0],p.blockedOn===null);)Fw(p),p.blockedOn===null&&Xs.shift()}var yd=T.ReactCurrentBatchConfig,um=!0;function VO(a,c,p,D){var O=qt,M=yd.transition;yd.transition=null;try{qt=1,cv(a,c,p,D)}finally{qt=O,yd.transition=M}}function GO(a,c,p,D){var O=qt,M=yd.transition;yd.transition=null;try{qt=4,cv(a,c,p,D)}finally{qt=O,yd.transition=M}}function cv(a,c,p,D){if(um){var O=dv(a,c,p,D);if(O===null)Rv(a,c,D,cm,p),_w(a,D);else if(qO(O,a,c,p,D))D.stopPropagation();else if(_w(a,D),c&4&&-1<UO.indexOf(a)){for(;O!==null;){var M=kf(O);if(M!==null&&Aw(M),M=dv(a,c,p,D),M===null&&Rv(a,c,D,cm,p),M===O)break;O=M}O!==null&&D.stopPropagation()}else Rv(a,c,D,null,p)}}var cm=null;function dv(a,c,p,D){if(cm=null,a=Qi(D),a=Lu(a),a!==null)if(c=Ru(a),c===null)a=null;else if(p=c.tag,p===13){if(a=Cw(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return cm=a,null}function Nw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LO()){case iv:return 1;case Pw:return 4;case nm:case AO:return 16;case Iw:return 536870912;default:return 16}default:return 16}}var Ks=null,hv=null,dm=null;function Uw(){if(dm)return dm;var a,c=hv,p=c.length,D,O="value"in Ks?Ks.value:Ks.textContent,M=O.length;for(a=0;a<p&&c[a]===O[a];a++);var Y=p-a;for(D=1;D<=Y&&c[p-D]===O[M-D];D++);return dm=O.slice(a,1<D?1-D:void 0)}function hm(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function fm(){return!0}function qw(){return!1}function vi(a){function c(p,D,O,M,Y){this._reactName=p,this._targetInst=O,this.type=D,this.nativeEvent=M,this.target=Y,this.currentTarget=null;for(var re in a)a.hasOwnProperty(re)&&(p=a[re],this[re]=p?p(M):M[re]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?fm:qw,this.isPropagationStopped=qw,this}return X(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=fm)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=fm)},persist:function(){},isPersistent:fm}),c}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fv=vi(vd),wf=X({},vd,{view:0,detail:0}),QO=vi(wf),pv,gv,Df,pm=X({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sv,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Df&&(Df&&a.type==="mousemove"?(pv=a.screenX-Df.screenX,gv=a.screenY-Df.screenY):gv=pv=0,Df=a),pv)},movementY:function(a){return"movementY"in a?a.movementY:gv}}),Bw=vi(pm),zO=X({},pm,{dataTransfer:0}),WO=vi(zO),jO=X({},wf,{relatedTarget:0}),mv=vi(jO),HO=X({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=vi(HO),YO=X({},vd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),XO=vi(YO),KO=X({},vd,{data:0}),Vw=vi(KO),ZO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tE(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=eE[a])?!!c[a]:!1}function Sv(){return tE}var nE=X({},wf,{key:function(a){if(a.key){var c=ZO[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=hm(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?JO[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sv,charCode:function(a){return a.type==="keypress"?hm(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?hm(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),rE=vi(nE),iE=X({},pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gw=vi(iE),oE=X({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sv}),aE=vi(oE),sE=X({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=vi(sE),uE=X({},pm,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),cE=vi(uE),dE=[9,13,27,32],yv=l&&"CompositionEvent"in window,xf=null;l&&"documentMode"in document&&(xf=document.documentMode);var hE=l&&"TextEvent"in window&&!xf,Qw=l&&(!yv||xf&&8<xf&&11>=xf),zw=" ",Ww=!1;function jw(a,c){switch(a){case"keyup":return dE.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cd=!1;function fE(a,c){switch(a){case"compositionend":return Hw(c);case"keypress":return c.which!==32?null:(Ww=!0,zw);case"textInput":return a=c.data,a===zw&&Ww?null:a;default:return null}}function pE(a,c){if(Cd)return a==="compositionend"||!yv&&jw(a,c)?(a=Uw(),dm=hv=Ks=null,Cd=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Qw&&c.locale!=="ko"?null:c.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $w(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!gE[a.type]:c==="textarea"}function Yw(a,c,p,D){Sd(D),c=vm(c,"onChange"),0<c.length&&(p=new fv("onChange","change",null,p,D),a.push({event:p,listeners:c}))}var Tf=null,Pf=null;function mE(a){f6(a,0)}function gm(a){var c=Td(a);if(Te(c))return a}function SE(a,c){if(a==="change")return c}var Xw=!1;if(l){var vv;if(l){var Cv="oninput"in document;if(!Cv){var Kw=document.createElement("div");Kw.setAttribute("oninput","return;"),Cv=typeof Kw.oninput=="function"}vv=Cv}else vv=!1;Xw=vv&&(!document.documentMode||9<document.documentMode)}function Zw(){Tf&&(Tf.detachEvent("onpropertychange",Jw),Pf=Tf=null)}function Jw(a){if(a.propertyName==="value"&&gm(Pf)){var c=[];Yw(c,Pf,a,Qi(a)),vw(mE,c)}}function yE(a,c,p){a==="focusin"?(Zw(),Tf=c,Pf=p,Tf.attachEvent("onpropertychange",Jw)):a==="focusout"&&Zw()}function vE(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return gm(Pf)}function CE(a,c){if(a==="click")return gm(c)}function bE(a,c){if(a==="input"||a==="change")return gm(c)}function wE(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Eo=typeof Object.is=="function"?Object.is:wE;function If(a,c){if(Eo(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),D=Object.keys(c);if(p.length!==D.length)return!1;for(D=0;D<p.length;D++){var O=p[D];if(!d.call(c,O)||!Eo(a[O],c[O]))return!1}return!0}function e6(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function t6(a,c){var p=e6(a);a=0;for(var D;p;){if(p.nodeType===3){if(D=a+p.textContent.length,a<=c&&D>=c)return{node:p,offset:c-a};a=D}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=e6(p)}}function n6(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?n6(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function r6(){for(var a=window,c=qe();c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=qe(a.document)}return c}function bv(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function DE(a){var c=r6(),p=a.focusedElem,D=a.selectionRange;if(c!==p&&p&&p.ownerDocument&&n6(p.ownerDocument.documentElement,p)){if(D!==null&&bv(p)){if(c=D.start,a=D.end,a===void 0&&(a=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(a,p.value.length);else if(a=(c=p.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var O=p.textContent.length,M=Math.min(D.start,O);D=D.end===void 0?M:Math.min(D.end,O),!a.extend&&M>D&&(O=D,D=M,M=O),O=t6(p,M);var Y=t6(p,D);O&&Y&&(a.rangeCount!==1||a.anchorNode!==O.node||a.anchorOffset!==O.offset||a.focusNode!==Y.node||a.focusOffset!==Y.offset)&&(c=c.createRange(),c.setStart(O.node,O.offset),a.removeAllRanges(),M>D?(a.addRange(c),a.extend(Y.node,Y.offset)):(c.setEnd(Y.node,Y.offset),a.addRange(c)))}}for(c=[],a=p;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)a=c[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var xE=l&&"documentMode"in document&&11>=document.documentMode,bd=null,wv=null,Rf=null,Dv=!1;function i6(a,c,p){var D=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Dv||bd==null||bd!==qe(D)||(D=bd,"selectionStart"in D&&bv(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Rf&&If(Rf,D)||(Rf=D,D=vm(wv,"onSelect"),0<D.length&&(c=new fv("onSelect","select",null,c,p),a.push({event:c,listeners:D}),c.target=bd)))}function mm(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var wd={animationend:mm("Animation","AnimationEnd"),animationiteration:mm("Animation","AnimationIteration"),animationstart:mm("Animation","AnimationStart"),transitionend:mm("Transition","TransitionEnd")},xv={},o6={};l&&(o6=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function Sm(a){if(xv[a])return xv[a];if(!wd[a])return a;var c=wd[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in o6)return xv[a]=c[p];return a}var a6=Sm("animationend"),s6=Sm("animationiteration"),l6=Sm("animationstart"),u6=Sm("transitionend"),c6=new Map,d6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(a,c){c6.set(a,c),o(c,[a])}for(var Tv=0;Tv<d6.length;Tv++){var Pv=d6[Tv],TE=Pv.toLowerCase(),PE=Pv[0].toUpperCase()+Pv.slice(1);Zs(TE,"on"+PE)}Zs(a6,"onAnimationEnd"),Zs(s6,"onAnimationIteration"),Zs(l6,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(u6,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lf));function h6(a,c,p){var D=a.type||"unknown-event";a.currentTarget=p,TO(D,c,void 0,a),a.currentTarget=null}function f6(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var D=a[p],O=D.event;D=D.listeners;e:{var M=void 0;if(c)for(var Y=D.length-1;0<=Y;Y--){var re=D[Y],ue=re.instance,De=re.currentTarget;if(re=re.listener,ue!==M&&O.isPropagationStopped())break e;h6(O,re,De),M=ue}else for(Y=0;Y<D.length;Y++){if(re=D[Y],ue=re.instance,De=re.currentTarget,re=re.listener,ue!==M&&O.isPropagationStopped())break e;h6(O,re,De),M=ue}}}if(tm)throw a=rv,tm=!1,rv=null,a}function en(a,c){var p=c[_v];p===void 0&&(p=c[_v]=new Set);var D=a+"__bubble";p.has(D)||(p6(c,a,2,!1),p.add(D))}function Iv(a,c,p){var D=0;c&&(D|=4),p6(p,a,D,c)}var ym="_reactListening"+Math.random().toString(36).slice(2);function Af(a){if(!a[ym]){a[ym]=!0,r.forEach(function(p){p!=="selectionchange"&&(IE.has(p)||Iv(p,!1,a),Iv(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[ym]||(c[ym]=!0,Iv("selectionchange",!1,c))}}function p6(a,c,p,D){switch(Nw(c)){case 1:var O=VO;break;case 4:O=GO;break;default:O=cv}p=O.bind(null,c,p,a),O=void 0,!nv||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),D?O!==void 0?a.addEventListener(c,p,{capture:!0,passive:O}):a.addEventListener(c,p,!0):O!==void 0?a.addEventListener(c,p,{passive:O}):a.addEventListener(c,p,!1)}function Rv(a,c,p,D,O){var M=D;if((c&1)===0&&(c&2)===0&&D!==null)e:for(;;){if(D===null)return;var Y=D.tag;if(Y===3||Y===4){var re=D.stateNode.containerInfo;if(re===O||re.nodeType===8&&re.parentNode===O)break;if(Y===4)for(Y=D.return;Y!==null;){var ue=Y.tag;if((ue===3||ue===4)&&(ue=Y.stateNode.containerInfo,ue===O||ue.nodeType===8&&ue.parentNode===O))return;Y=Y.return}for(;re!==null;){if(Y=Lu(re),Y===null)return;if(ue=Y.tag,ue===5||ue===6){D=M=Y;continue e}re=re.parentNode}}D=D.return}vw(function(){var De=M,Me=Qi(p),Ue=[];e:{var _e=c6.get(a);if(_e!==void 0){var He=fv,Xe=a;switch(a){case"keypress":if(hm(p)===0)break e;case"keydown":case"keyup":He=rE;break;case"focusin":Xe="focus",He=mv;break;case"focusout":Xe="blur",He=mv;break;case"beforeblur":case"afterblur":He=mv;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Bw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=WO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=aE;break;case a6:case s6:case l6:He=$O;break;case u6:He=lE;break;case"scroll":He=QO;break;case"wheel":He=cE;break;case"copy":case"cut":case"paste":He=XO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Gw}var Ke=(c&4)!==0,En=!Ke&&a==="scroll",ye=Ke?_e!==null?_e+"Capture":null:_e;Ke=[];for(var fe=De,ve;fe!==null;){ve=fe;var Ve=ve.stateNode;if(ve.tag===5&&Ve!==null&&(ve=Ve,ye!==null&&(Ve=hf(fe,ye),Ve!=null&&Ke.push(Of(fe,Ve,ve)))),En)break;fe=fe.return}0<Ke.length&&(_e=new He(_e,Xe,null,p,Me),Ue.push({event:_e,listeners:Ke}))}}if((c&7)===0){e:{if(_e=a==="mouseover"||a==="pointerover",He=a==="mouseout"||a==="pointerout",_e&&p!==zr&&(Xe=p.relatedTarget||p.fromElement)&&(Lu(Xe)||Xe[Va]))break e;if((He||_e)&&(_e=Me.window===Me?Me:(_e=Me.ownerDocument)?_e.defaultView||_e.parentWindow:window,He?(Xe=p.relatedTarget||p.toElement,He=De,Xe=Xe?Lu(Xe):null,Xe!==null&&(En=Ru(Xe),Xe!==En||Xe.tag!==5&&Xe.tag!==6)&&(Xe=null)):(He=null,Xe=De),He!==Xe)){if(Ke=Bw,Ve="onMouseLeave",ye="onMouseEnter",fe="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=Gw,Ve="onPointerLeave",ye="onPointerEnter",fe="pointer"),En=He==null?_e:Td(He),ve=Xe==null?_e:Td(Xe),_e=new Ke(Ve,fe+"leave",He,p,Me),_e.target=En,_e.relatedTarget=ve,Ve=null,Lu(Me)===De&&(Ke=new Ke(ye,fe+"enter",Xe,p,Me),Ke.target=ve,Ke.relatedTarget=En,Ve=Ke),En=Ve,He&&Xe)t:{for(Ke=He,ye=Xe,fe=0,ve=Ke;ve;ve=Dd(ve))fe++;for(ve=0,Ve=ye;Ve;Ve=Dd(Ve))ve++;for(;0<fe-ve;)Ke=Dd(Ke),fe--;for(;0<ve-fe;)ye=Dd(ye),ve--;for(;fe--;){if(Ke===ye||ye!==null&&Ke===ye.alternate)break t;Ke=Dd(Ke),ye=Dd(ye)}Ke=null}else Ke=null;He!==null&&g6(Ue,_e,He,Ke,!1),Xe!==null&&En!==null&&g6(Ue,En,Xe,Ke,!0)}}e:{if(_e=De?Td(De):window,He=_e.nodeName&&_e.nodeName.toLowerCase(),He==="select"||He==="input"&&_e.type==="file")var Je=SE;else if($w(_e))if(Xw)Je=bE;else{Je=vE;var rt=yE}else(He=_e.nodeName)&&He.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Je=CE);if(Je&&(Je=Je(a,De))){Yw(Ue,Je,p,Me);break e}rt&&rt(a,_e,De),a==="focusout"&&(rt=_e._wrapperState)&&rt.controlled&&_e.type==="number"&&ce(_e,"number",_e.value)}switch(rt=De?Td(De):window,a){case"focusin":($w(rt)||rt.contentEditable==="true")&&(bd=rt,wv=De,Rf=null);break;case"focusout":Rf=wv=bd=null;break;case"mousedown":Dv=!0;break;case"contextmenu":case"mouseup":case"dragend":Dv=!1,i6(Ue,p,Me);break;case"selectionchange":if(xE)break;case"keydown":case"keyup":i6(Ue,p,Me)}var it;if(yv)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Cd?jw(a,p)&&(at="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(at="onCompositionStart");at&&(Qw&&p.locale!=="ko"&&(Cd||at!=="onCompositionStart"?at==="onCompositionEnd"&&Cd&&(it=Uw()):(Ks=Me,hv="value"in Ks?Ks.value:Ks.textContent,Cd=!0)),rt=vm(De,at),0<rt.length&&(at=new Vw(at,a,null,p,Me),Ue.push({event:at,listeners:rt}),it?at.data=it:(it=Hw(p),it!==null&&(at.data=it)))),(it=hE?fE(a,p):pE(a,p))&&(De=vm(De,"onBeforeInput"),0<De.length&&(Me=new Vw("onBeforeInput","beforeinput",null,p,Me),Ue.push({event:Me,listeners:De}),Me.data=it))}f6(Ue,c)})}function Of(a,c,p){return{instance:a,listener:c,currentTarget:p}}function vm(a,c){for(var p=c+"Capture",D=[];a!==null;){var O=a,M=O.stateNode;O.tag===5&&M!==null&&(O=M,M=hf(a,p),M!=null&&D.unshift(Of(a,M,O)),M=hf(a,c),M!=null&&D.push(Of(a,M,O))),a=a.return}return D}function Dd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function g6(a,c,p,D,O){for(var M=c._reactName,Y=[];p!==null&&p!==D;){var re=p,ue=re.alternate,De=re.stateNode;if(ue!==null&&ue===D)break;re.tag===5&&De!==null&&(re=De,O?(ue=hf(p,M),ue!=null&&Y.unshift(Of(p,ue,re))):O||(ue=hf(p,M),ue!=null&&Y.push(Of(p,ue,re)))),p=p.return}Y.length!==0&&a.push({event:c,listeners:Y})}var RE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function m6(a){return(typeof a=="string"?a:""+a).replace(RE,`
`).replace(LE,"")}function Cm(a,c,p){if(c=m6(c),m6(a)!==c&&p)throw Error(t(425))}function bm(){}var Lv=null,Av=null;function Ov(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,AE=typeof clearTimeout=="function"?clearTimeout:void 0,S6=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof S6<"u"?function(a){return S6.resolve(null).then(a).catch(EE)}:Ev;function EE(a){setTimeout(function(){throw a})}function kv(a,c){var p=c,D=0;do{var O=p.nextSibling;if(a.removeChild(p),O&&O.nodeType===8)if(p=O.data,p==="/$"){if(D===0){a.removeChild(O),bf(c);return}D--}else p!=="$"&&p!=="$?"&&p!=="$!"||D++;p=O}while(p);bf(c)}function Js(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function y6(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}var xd=Math.random().toString(36).slice(2),aa="__reactFiber$"+xd,Ef="__reactProps$"+xd,Va="__reactContainer$"+xd,_v="__reactEvents$"+xd,kE="__reactListeners$"+xd,_E="__reactHandles$"+xd;function Lu(a){var c=a[aa];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Va]||p[aa]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=y6(a);a!==null;){if(p=a[aa])return p;a=y6(a)}return c}a=p,p=a.parentNode}return null}function kf(a){return a=a[aa]||a[Va],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Td(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function wm(a){return a[Ef]||null}var Fv=[],Pd=-1;function el(a){return{current:a}}function tn(a){0>Pd||(a.current=Fv[Pd],Fv[Pd]=null,Pd--)}function $t(a,c){Pd++,Fv[Pd]=a.current,a.current=c}var tl={},br=el(tl),Wr=el(!1),Au=tl;function Id(a,c){var p=a.type.contextTypes;if(!p)return tl;var D=a.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===c)return D.__reactInternalMemoizedMaskedChildContext;var O={},M;for(M in p)O[M]=c[M];return D&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=O),O}function jr(a){return a=a.childContextTypes,a!=null}function Dm(){tn(Wr),tn(br)}function v6(a,c,p){if(br.current!==tl)throw Error(t(168));$t(br,c),$t(Wr,p)}function C6(a,c,p){var D=a.stateNode;if(c=c.childContextTypes,typeof D.getChildContext!="function")return p;D=D.getChildContext();for(var O in D)if(!(O in c))throw Error(t(108,ee(a)||"Unknown",O));return X({},p,D)}function xm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||tl,Au=br.current,$t(br,a),$t(Wr,Wr.current),!0}function b6(a,c,p){var D=a.stateNode;if(!D)throw Error(t(169));p?(a=C6(a,c,Au),D.__reactInternalMemoizedMergedChildContext=a,tn(Wr),tn(br),$t(br,a)):tn(Wr),$t(Wr,p)}var Ga=null,Tm=!1,Mv=!1;function w6(a){Ga===null?Ga=[a]:Ga.push(a)}function FE(a){Tm=!0,w6(a)}function nl(){if(!Mv&&Ga!==null){Mv=!0;var a=0,c=qt;try{var p=Ga;for(qt=1;a<p.length;a++){var D=p[a];do D=D(!0);while(D!==null)}Ga=null,Tm=!1}catch(O){throw Ga!==null&&(Ga=Ga.slice(a+1)),xw(iv,nl),O}finally{qt=c,Mv=!1}}return null}var Rd=[],Ld=0,Pm=null,Im=0,Wi=[],ji=0,Ou=null,Qa=1,za="";function Eu(a,c){Rd[Ld++]=Im,Rd[Ld++]=Pm,Pm=a,Im=c}function D6(a,c,p){Wi[ji++]=Qa,Wi[ji++]=za,Wi[ji++]=Ou,Ou=a;var D=Qa;a=za;var O=32-Oo(D)-1;D&=~(1<<O),p+=1;var M=32-Oo(c)+O;if(30<M){var Y=O-O%5;M=(D&(1<<Y)-1).toString(32),D>>=Y,O-=Y,Qa=1<<32-Oo(c)+O|p<<O|D,za=M+a}else Qa=1<<M|p<<O|D,za=a}function Nv(a){a.return!==null&&(Eu(a,1),D6(a,1,0))}function Uv(a){for(;a===Pm;)Pm=Rd[--Ld],Rd[Ld]=null,Im=Rd[--Ld],Rd[Ld]=null;for(;a===Ou;)Ou=Wi[--ji],Wi[ji]=null,za=Wi[--ji],Wi[ji]=null,Qa=Wi[--ji],Wi[ji]=null}var Ci=null,bi=null,sn=!1,ko=null;function x6(a,c){var p=Xi(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=a,c=a.deletions,c===null?(a.deletions=[p],a.flags|=16):c.push(p)}function T6(a,c){switch(a.tag){case 5:var p=a.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Ci=a,bi=Js(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Ci=a,bi=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Ou!==null?{id:Qa,overflow:za}:null,a.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=Xi(18,null,null,0),p.stateNode=c,p.return=a,a.child=p,Ci=a,bi=null,!0):!1;default:return!1}}function qv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Bv(a){if(sn){var c=bi;if(c){var p=c;if(!T6(a,c)){if(qv(a))throw Error(t(418));c=Js(p.nextSibling);var D=Ci;c&&T6(a,c)?x6(D,p):(a.flags=a.flags&-4097|2,sn=!1,Ci=a)}}else{if(qv(a))throw Error(t(418));a.flags=a.flags&-4097|2,sn=!1,Ci=a}}}function P6(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Ci=a}function Rm(a){if(a!==Ci)return!1;if(!sn)return P6(a),sn=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Ov(a.type,a.memoizedProps)),c&&(c=bi)){if(qv(a))throw I6(),Error(t(418));for(;c;)x6(a,c),c=Js(c.nextSibling)}if(P6(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(c===0){bi=Js(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}a=a.nextSibling}bi=null}}else bi=Ci?Js(a.stateNode.nextSibling):null;return!0}function I6(){for(var a=bi;a;)a=Js(a.nextSibling)}function Ad(){bi=Ci=null,sn=!1}function Vv(a){ko===null?ko=[a]:ko.push(a)}var ME=T.ReactCurrentBatchConfig;function _f(a,c,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var D=p.stateNode}if(!D)throw Error(t(147,a));var O=D,M=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===M?c.ref:(c=function(Y){var re=O.refs;Y===null?delete re[M]:re[M]=Y},c._stringRef=M,c)}if(typeof a!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,a))}return a}function Lm(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function R6(a){var c=a._init;return c(a._payload)}function L6(a){function c(ye,fe){if(a){var ve=ye.deletions;ve===null?(ye.deletions=[fe],ye.flags|=16):ve.push(fe)}}function p(ye,fe){if(!a)return null;for(;fe!==null;)c(ye,fe),fe=fe.sibling;return null}function D(ye,fe){for(ye=new Map;fe!==null;)fe.key!==null?ye.set(fe.key,fe):ye.set(fe.index,fe),fe=fe.sibling;return ye}function O(ye,fe){return ye=cl(ye,fe),ye.index=0,ye.sibling=null,ye}function M(ye,fe,ve){return ye.index=ve,a?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<fe?(ye.flags|=2,fe):ve):(ye.flags|=2,fe)):(ye.flags|=1048576,fe)}function Y(ye){return a&&ye.alternate===null&&(ye.flags|=2),ye}function re(ye,fe,ve,Ve){return fe===null||fe.tag!==6?(fe=E5(ve,ye.mode,Ve),fe.return=ye,fe):(fe=O(fe,ve),fe.return=ye,fe)}function ue(ye,fe,ve,Ve){var Je=ve.type;return Je===F?Me(ye,fe,ve.props.children,Ve,ve.key):fe!==null&&(fe.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&R6(Je)===fe.type)?(Ve=O(fe,ve.props),Ve.ref=_f(ye,fe,ve),Ve.return=ye,Ve):(Ve=Jm(ve.type,ve.key,ve.props,null,ye.mode,Ve),Ve.ref=_f(ye,fe,ve),Ve.return=ye,Ve)}function De(ye,fe,ve,Ve){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ve.containerInfo||fe.stateNode.implementation!==ve.implementation?(fe=k5(ve,ye.mode,Ve),fe.return=ye,fe):(fe=O(fe,ve.children||[]),fe.return=ye,fe)}function Me(ye,fe,ve,Ve,Je){return fe===null||fe.tag!==7?(fe=Bu(ve,ye.mode,Ve,Je),fe.return=ye,fe):(fe=O(fe,ve),fe.return=ye,fe)}function Ue(ye,fe,ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=E5(""+fe,ye.mode,ve),fe.return=ye,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case P:return ve=Jm(fe.type,fe.key,fe.props,null,ye.mode,ve),ve.ref=_f(ye,null,fe),ve.return=ye,ve;case A:return fe=k5(fe,ye.mode,ve),fe.return=ye,fe;case B:var Ve=fe._init;return Ue(ye,Ve(fe._payload),ve)}if(Ce(fe)||j(fe))return fe=Bu(fe,ye.mode,ve,null),fe.return=ye,fe;Lm(ye,fe)}return null}function _e(ye,fe,ve,Ve){var Je=fe!==null?fe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Je!==null?null:re(ye,fe,""+ve,Ve);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:return ve.key===Je?ue(ye,fe,ve,Ve):null;case A:return ve.key===Je?De(ye,fe,ve,Ve):null;case B:return Je=ve._init,_e(ye,fe,Je(ve._payload),Ve)}if(Ce(ve)||j(ve))return Je!==null?null:Me(ye,fe,ve,Ve,null);Lm(ye,ve)}return null}function He(ye,fe,ve,Ve,Je){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number")return ye=ye.get(ve)||null,re(fe,ye,""+Ve,Je);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case P:return ye=ye.get(Ve.key===null?ve:Ve.key)||null,ue(fe,ye,Ve,Je);case A:return ye=ye.get(Ve.key===null?ve:Ve.key)||null,De(fe,ye,Ve,Je);case B:var rt=Ve._init;return He(ye,fe,ve,rt(Ve._payload),Je)}if(Ce(Ve)||j(Ve))return ye=ye.get(ve)||null,Me(fe,ye,Ve,Je,null);Lm(fe,Ve)}return null}function Xe(ye,fe,ve,Ve){for(var Je=null,rt=null,it=fe,at=fe=0,lr=null;it!==null&&at<ve.length;at++){it.index>at?(lr=it,it=null):lr=it.sibling;var Et=_e(ye,it,ve[at],Ve);if(Et===null){it===null&&(it=lr);break}a&&it&&Et.alternate===null&&c(ye,it),fe=M(Et,fe,at),rt===null?Je=Et:rt.sibling=Et,rt=Et,it=lr}if(at===ve.length)return p(ye,it),sn&&Eu(ye,at),Je;if(it===null){for(;at<ve.length;at++)it=Ue(ye,ve[at],Ve),it!==null&&(fe=M(it,fe,at),rt===null?Je=it:rt.sibling=it,rt=it);return sn&&Eu(ye,at),Je}for(it=D(ye,it);at<ve.length;at++)lr=He(it,ye,at,ve[at],Ve),lr!==null&&(a&&lr.alternate!==null&&it.delete(lr.key===null?at:lr.key),fe=M(lr,fe,at),rt===null?Je=lr:rt.sibling=lr,rt=lr);return a&&it.forEach(function(dl){return c(ye,dl)}),sn&&Eu(ye,at),Je}function Ke(ye,fe,ve,Ve){var Je=j(ve);if(typeof Je!="function")throw Error(t(150));if(ve=Je.call(ve),ve==null)throw Error(t(151));for(var rt=Je=null,it=fe,at=fe=0,lr=null,Et=ve.next();it!==null&&!Et.done;at++,Et=ve.next()){it.index>at?(lr=it,it=null):lr=it.sibling;var dl=_e(ye,it,Et.value,Ve);if(dl===null){it===null&&(it=lr);break}a&&it&&dl.alternate===null&&c(ye,it),fe=M(dl,fe,at),rt===null?Je=dl:rt.sibling=dl,rt=dl,it=lr}if(Et.done)return p(ye,it),sn&&Eu(ye,at),Je;if(it===null){for(;!Et.done;at++,Et=ve.next())Et=Ue(ye,Et.value,Ve),Et!==null&&(fe=M(Et,fe,at),rt===null?Je=Et:rt.sibling=Et,rt=Et);return sn&&Eu(ye,at),Je}for(it=D(ye,it);!Et.done;at++,Et=ve.next())Et=He(it,ye,at,Et.value,Ve),Et!==null&&(a&&Et.alternate!==null&&it.delete(Et.key===null?at:Et.key),fe=M(Et,fe,at),rt===null?Je=Et:rt.sibling=Et,rt=Et);return a&&it.forEach(function(gk){return c(ye,gk)}),sn&&Eu(ye,at),Je}function En(ye,fe,ve,Ve){if(typeof ve=="object"&&ve!==null&&ve.type===F&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:e:{for(var Je=ve.key,rt=fe;rt!==null;){if(rt.key===Je){if(Je=ve.type,Je===F){if(rt.tag===7){p(ye,rt.sibling),fe=O(rt,ve.props.children),fe.return=ye,ye=fe;break e}}else if(rt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===B&&R6(Je)===rt.type){p(ye,rt.sibling),fe=O(rt,ve.props),fe.ref=_f(ye,rt,ve),fe.return=ye,ye=fe;break e}p(ye,rt);break}else c(ye,rt);rt=rt.sibling}ve.type===F?(fe=Bu(ve.props.children,ye.mode,Ve,ve.key),fe.return=ye,ye=fe):(Ve=Jm(ve.type,ve.key,ve.props,null,ye.mode,Ve),Ve.ref=_f(ye,fe,ve),Ve.return=ye,ye=Ve)}return Y(ye);case A:e:{for(rt=ve.key;fe!==null;){if(fe.key===rt)if(fe.tag===4&&fe.stateNode.containerInfo===ve.containerInfo&&fe.stateNode.implementation===ve.implementation){p(ye,fe.sibling),fe=O(fe,ve.children||[]),fe.return=ye,ye=fe;break e}else{p(ye,fe);break}else c(ye,fe);fe=fe.sibling}fe=k5(ve,ye.mode,Ve),fe.return=ye,ye=fe}return Y(ye);case B:return rt=ve._init,En(ye,fe,rt(ve._payload),Ve)}if(Ce(ve))return Xe(ye,fe,ve,Ve);if(j(ve))return Ke(ye,fe,ve,Ve);Lm(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,fe!==null&&fe.tag===6?(p(ye,fe.sibling),fe=O(fe,ve),fe.return=ye,ye=fe):(p(ye,fe),fe=E5(ve,ye.mode,Ve),fe.return=ye,ye=fe),Y(ye)):p(ye,fe)}return En}var Od=L6(!0),A6=L6(!1),Am=el(null),Om=null,Ed=null,Gv=null;function Qv(){Gv=Ed=Om=null}function zv(a){var c=Am.current;tn(Am),a._currentValue=c}function Wv(a,c,p){for(;a!==null;){var D=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,D!==null&&(D.childLanes|=c)):D!==null&&(D.childLanes&c)!==c&&(D.childLanes|=c),a===p)break;a=a.return}}function kd(a,c){Om=a,Gv=Ed=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(Hr=!0),a.firstContext=null)}function Hi(a){var c=a._currentValue;if(Gv!==a)if(a={context:a,memoizedValue:c,next:null},Ed===null){if(Om===null)throw Error(t(308));Ed=a,Om.dependencies={lanes:0,firstContext:a}}else Ed=Ed.next=a;return c}var ku=null;function jv(a){ku===null?ku=[a]:ku.push(a)}function O6(a,c,p,D){var O=c.interleaved;return O===null?(p.next=p,jv(c)):(p.next=O.next,O.next=p),c.interleaved=p,Wa(a,D)}function Wa(a,c){a.lanes|=c;var p=a.alternate;for(p!==null&&(p.lanes|=c),p=a,a=a.return;a!==null;)a.childLanes|=c,p=a.alternate,p!==null&&(p.childLanes|=c),p=a,a=a.return;return p.tag===3?p.stateNode:null}var rl=!1;function Hv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E6(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ja(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function il(a,c,p){var D=a.updateQueue;if(D===null)return null;if(D=D.shared,(At&2)!==0){var O=D.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),D.pending=c,Wa(a,p)}return O=D.interleaved,O===null?(c.next=c,jv(D)):(c.next=O.next,O.next=c),D.interleaved=c,Wa(a,p)}function Em(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var D=c.lanes;D&=a.pendingLanes,p|=D,c.lanes=p,sv(a,p)}}function k6(a,c){var p=a.updateQueue,D=a.alternate;if(D!==null&&(D=D.updateQueue,p===D)){var O=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};M===null?O=M=Y:M=M.next=Y,p=p.next}while(p!==null);M===null?O=M=c:M=M.next=c}else O=M=c;p={baseState:D.baseState,firstBaseUpdate:O,lastBaseUpdate:M,shared:D.shared,effects:D.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}function km(a,c,p,D){var O=a.updateQueue;rl=!1;var M=O.firstBaseUpdate,Y=O.lastBaseUpdate,re=O.shared.pending;if(re!==null){O.shared.pending=null;var ue=re,De=ue.next;ue.next=null,Y===null?M=De:Y.next=De,Y=ue;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,re=Me.lastBaseUpdate,re!==Y&&(re===null?Me.firstBaseUpdate=De:re.next=De,Me.lastBaseUpdate=ue))}if(M!==null){var Ue=O.baseState;Y=0,Me=De=ue=null,re=M;do{var _e=re.lane,He=re.eventTime;if((D&_e)===_e){Me!==null&&(Me=Me.next={eventTime:He,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var Xe=a,Ke=re;switch(_e=c,He=p,Ke.tag){case 1:if(Xe=Ke.payload,typeof Xe=="function"){Ue=Xe.call(He,Ue,_e);break e}Ue=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Ke.payload,_e=typeof Xe=="function"?Xe.call(He,Ue,_e):Xe,_e==null)break e;Ue=X({},Ue,_e);break e;case 2:rl=!0}}re.callback!==null&&re.lane!==0&&(a.flags|=64,_e=O.effects,_e===null?O.effects=[re]:_e.push(re))}else He={eventTime:He,lane:_e,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Me===null?(De=Me=He,ue=Ue):Me=Me.next=He,Y|=_e;if(re=re.next,re===null){if(re=O.shared.pending,re===null)break;_e=re,re=_e.next,_e.next=null,O.lastBaseUpdate=_e,O.shared.pending=null}}while(!0);if(Me===null&&(ue=Ue),O.baseState=ue,O.firstBaseUpdate=De,O.lastBaseUpdate=Me,c=O.shared.interleaved,c!==null){O=c;do Y|=O.lane,O=O.next;while(O!==c)}else M===null&&(O.shared.lanes=0);Mu|=Y,a.lanes=Y,a.memoizedState=Ue}}function _6(a,c,p){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var D=a[c],O=D.callback;if(O!==null){if(D.callback=null,D=p,typeof O!="function")throw Error(t(191,O));O.call(D)}}}var Ff={},sa=el(Ff),Mf=el(Ff),Nf=el(Ff);function _u(a){if(a===Ff)throw Error(t(174));return a}function $v(a,c){switch($t(Nf,c),$t(Mf,a),$t(sa,Ff),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Ne(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Ne(c,a)}tn(sa),$t(sa,c)}function _d(){tn(sa),tn(Mf),tn(Nf)}function F6(a){_u(Nf.current);var c=_u(sa.current),p=Ne(c,a.type);c!==p&&($t(Mf,a),$t(sa,p))}function Yv(a){Mf.current===a&&(tn(sa),tn(Mf))}var gn=el(0);function _m(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Xv=[];function Kv(){for(var a=0;a<Xv.length;a++)Xv[a]._workInProgressVersionPrimary=null;Xv.length=0}var Fm=T.ReactCurrentDispatcher,Zv=T.ReactCurrentBatchConfig,Fu=0,mn=null,Zn=null,ar=null,Mm=!1,Uf=!1,qf=0,NE=0;function wr(){throw Error(t(321))}function Jv(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!Eo(a[p],c[p]))return!1;return!0}function e5(a,c,p,D,O,M){if(Fu=M,mn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Fm.current=a===null||a.memoizedState===null?VE:GE,a=p(D,O),Uf){M=0;do{if(Uf=!1,qf=0,25<=M)throw Error(t(301));M+=1,ar=Zn=null,c.updateQueue=null,Fm.current=QE,a=p(D,O)}while(Uf)}if(Fm.current=qm,c=Zn!==null&&Zn.next!==null,Fu=0,ar=Zn=mn=null,Mm=!1,c)throw Error(t(300));return a}function t5(){var a=qf!==0;return qf=0,a}function la(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?mn.memoizedState=ar=a:ar=ar.next=a,ar}function $i(){if(Zn===null){var a=mn.alternate;a=a!==null?a.memoizedState:null}else a=Zn.next;var c=ar===null?mn.memoizedState:ar.next;if(c!==null)ar=c,Zn=a;else{if(a===null)throw Error(t(310));Zn=a,a={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},ar===null?mn.memoizedState=ar=a:ar=ar.next=a}return ar}function Bf(a,c){return typeof c=="function"?c(a):c}function n5(a){var c=$i(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var D=Zn,O=D.baseQueue,M=p.pending;if(M!==null){if(O!==null){var Y=O.next;O.next=M.next,M.next=Y}D.baseQueue=O=M,p.pending=null}if(O!==null){M=O.next,D=D.baseState;var re=Y=null,ue=null,De=M;do{var Me=De.lane;if((Fu&Me)===Me)ue!==null&&(ue=ue.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),D=De.hasEagerState?De.eagerState:a(D,De.action);else{var Ue={lane:Me,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ue===null?(re=ue=Ue,Y=D):ue=ue.next=Ue,mn.lanes|=Me,Mu|=Me}De=De.next}while(De!==null&&De!==M);ue===null?Y=D:ue.next=re,Eo(D,c.memoizedState)||(Hr=!0),c.memoizedState=D,c.baseState=Y,c.baseQueue=ue,p.lastRenderedState=D}if(a=p.interleaved,a!==null){O=a;do M=O.lane,mn.lanes|=M,Mu|=M,O=O.next;while(O!==a)}else O===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function r5(a){var c=$i(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var D=p.dispatch,O=p.pending,M=c.memoizedState;if(O!==null){p.pending=null;var Y=O=O.next;do M=a(M,Y.action),Y=Y.next;while(Y!==O);Eo(M,c.memoizedState)||(Hr=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),p.lastRenderedState=M}return[M,D]}function M6(){}function N6(a,c){var p=mn,D=$i(),O=c(),M=!Eo(D.memoizedState,O);if(M&&(D.memoizedState=O,Hr=!0),D=D.queue,i5(B6.bind(null,p,D,a),[a]),D.getSnapshot!==c||M||ar!==null&&ar.memoizedState.tag&1){if(p.flags|=2048,Vf(9,q6.bind(null,p,D,O,c),void 0,null),sr===null)throw Error(t(349));(Fu&30)!==0||U6(p,c,O)}return O}function U6(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=mn.updateQueue,c===null?(c={lastEffect:null,stores:null},mn.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function q6(a,c,p,D){c.value=p,c.getSnapshot=D,V6(c)&&G6(a)}function B6(a,c,p){return p(function(){V6(c)&&G6(a)})}function V6(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!Eo(a,p)}catch{return!0}}function G6(a){var c=Wa(a,1);c!==null&&No(c,a,1,-1)}function Q6(a){var c=la();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bf,lastRenderedState:a},c.queue=a,a=a.dispatch=BE.bind(null,mn,a),[c.memoizedState,a]}function Vf(a,c,p,D){return a={tag:a,create:c,destroy:p,deps:D,next:null},c=mn.updateQueue,c===null?(c={lastEffect:null,stores:null},mn.updateQueue=c,c.lastEffect=a.next=a):(p=c.lastEffect,p===null?c.lastEffect=a.next=a:(D=p.next,p.next=a,a.next=D,c.lastEffect=a)),a}function z6(){return $i().memoizedState}function Nm(a,c,p,D){var O=la();mn.flags|=a,O.memoizedState=Vf(1|c,p,void 0,D===void 0?null:D)}function Um(a,c,p,D){var O=$i();D=D===void 0?null:D;var M=void 0;if(Zn!==null){var Y=Zn.memoizedState;if(M=Y.destroy,D!==null&&Jv(D,Y.deps)){O.memoizedState=Vf(c,p,M,D);return}}mn.flags|=a,O.memoizedState=Vf(1|c,p,M,D)}function W6(a,c){return Nm(8390656,8,a,c)}function i5(a,c){return Um(2048,8,a,c)}function j6(a,c){return Um(4,2,a,c)}function H6(a,c){return Um(4,4,a,c)}function $6(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function Y6(a,c,p){return p=p!=null?p.concat([a]):null,Um(4,4,$6.bind(null,c,a),p)}function o5(){}function X6(a,c){var p=$i();c=c===void 0?null:c;var D=p.memoizedState;return D!==null&&c!==null&&Jv(c,D[1])?D[0]:(p.memoizedState=[a,c],a)}function K6(a,c){var p=$i();c=c===void 0?null:c;var D=p.memoizedState;return D!==null&&c!==null&&Jv(c,D[1])?D[0]:(a=a(),p.memoizedState=[a,c],a)}function Z6(a,c,p){return(Fu&21)===0?(a.baseState&&(a.baseState=!1,Hr=!0),a.memoizedState=p):(Eo(p,c)||(p=Rw(),mn.lanes|=p,Mu|=p,a.baseState=!0),c)}function UE(a,c){var p=qt;qt=p!==0&&4>p?p:4,a(!0);var D=Zv.transition;Zv.transition={};try{a(!1),c()}finally{qt=p,Zv.transition=D}}function J6(){return $i().memoizedState}function qE(a,c,p){var D=ll(a);if(p={lane:D,action:p,hasEagerState:!1,eagerState:null,next:null},eD(a))tD(c,p);else if(p=O6(a,c,p,D),p!==null){var O=kr();No(p,a,D,O),nD(p,c,D)}}function BE(a,c,p){var D=ll(a),O={lane:D,action:p,hasEagerState:!1,eagerState:null,next:null};if(eD(a))tD(c,O);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var Y=c.lastRenderedState,re=M(Y,p);if(O.hasEagerState=!0,O.eagerState=re,Eo(re,Y)){var ue=c.interleaved;ue===null?(O.next=O,jv(c)):(O.next=ue.next,ue.next=O),c.interleaved=O;return}}catch{}finally{}p=O6(a,c,O,D),p!==null&&(O=kr(),No(p,a,D,O),nD(p,c,D))}}function eD(a){var c=a.alternate;return a===mn||c!==null&&c===mn}function tD(a,c){Uf=Mm=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function nD(a,c,p){if((p&4194240)!==0){var D=c.lanes;D&=a.pendingLanes,p|=D,c.lanes=p,sv(a,p)}}var qm={readContext:Hi,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},VE={readContext:Hi,useCallback:function(a,c){return la().memoizedState=[a,c===void 0?null:c],a},useContext:Hi,useEffect:W6,useImperativeHandle:function(a,c,p){return p=p!=null?p.concat([a]):null,Nm(4194308,4,$6.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Nm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Nm(4,2,a,c)},useMemo:function(a,c){var p=la();return c=c===void 0?null:c,a=a(),p.memoizedState=[a,c],a},useReducer:function(a,c,p){var D=la();return c=p!==void 0?p(c):c,D.memoizedState=D.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},D.queue=a,a=a.dispatch=qE.bind(null,mn,a),[D.memoizedState,a]},useRef:function(a){var c=la();return a={current:a},c.memoizedState=a},useState:Q6,useDebugValue:o5,useDeferredValue:function(a){return la().memoizedState=a},useTransition:function(){var a=Q6(!1),c=a[0];return a=UE.bind(null,a[1]),la().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,p){var D=mn,O=la();if(sn){if(p===void 0)throw Error(t(407));p=p()}else{if(p=c(),sr===null)throw Error(t(349));(Fu&30)!==0||U6(D,c,p)}O.memoizedState=p;var M={value:p,getSnapshot:c};return O.queue=M,W6(B6.bind(null,D,M,a),[a]),D.flags|=2048,Vf(9,q6.bind(null,D,M,p,c),void 0,null),p},useId:function(){var a=la(),c=sr.identifierPrefix;if(sn){var p=za,D=Qa;p=(D&~(1<<32-Oo(D)-1)).toString(32)+p,c=":"+c+"R"+p,p=qf++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=NE++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},GE={readContext:Hi,useCallback:X6,useContext:Hi,useEffect:i5,useImperativeHandle:Y6,useInsertionEffect:j6,useLayoutEffect:H6,useMemo:K6,useReducer:n5,useRef:z6,useState:function(){return n5(Bf)},useDebugValue:o5,useDeferredValue:function(a){var c=$i();return Z6(c,Zn.memoizedState,a)},useTransition:function(){var a=n5(Bf)[0],c=$i().memoizedState;return[a,c]},useMutableSource:M6,useSyncExternalStore:N6,useId:J6,unstable_isNewReconciler:!1},QE={readContext:Hi,useCallback:X6,useContext:Hi,useEffect:i5,useImperativeHandle:Y6,useInsertionEffect:j6,useLayoutEffect:H6,useMemo:K6,useReducer:r5,useRef:z6,useState:function(){return r5(Bf)},useDebugValue:o5,useDeferredValue:function(a){var c=$i();return Zn===null?c.memoizedState=a:Z6(c,Zn.memoizedState,a)},useTransition:function(){var a=r5(Bf)[0],c=$i().memoizedState;return[a,c]},useMutableSource:M6,useSyncExternalStore:N6,useId:J6,unstable_isNewReconciler:!1};function _o(a,c){if(a&&a.defaultProps){c=X({},c),a=a.defaultProps;for(var p in a)c[p]===void 0&&(c[p]=a[p]);return c}return c}function a5(a,c,p,D){c=a.memoizedState,p=p(D,c),p=p==null?c:X({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Bm={isMounted:function(a){return(a=a._reactInternals)?Ru(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var D=kr(),O=ll(a),M=ja(D,O);M.payload=c,p!=null&&(M.callback=p),c=il(a,M,O),c!==null&&(No(c,a,O,D),Em(c,a,O))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var D=kr(),O=ll(a),M=ja(D,O);M.tag=1,M.payload=c,p!=null&&(M.callback=p),c=il(a,M,O),c!==null&&(No(c,a,O,D),Em(c,a,O))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=kr(),D=ll(a),O=ja(p,D);O.tag=2,c!=null&&(O.callback=c),c=il(a,O,D),c!==null&&(No(c,a,D,p),Em(c,a,D))}};function rD(a,c,p,D,O,M,Y){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(D,M,Y):c.prototype&&c.prototype.isPureReactComponent?!If(p,D)||!If(O,M):!0}function iD(a,c,p){var D=!1,O=tl,M=c.contextType;return typeof M=="object"&&M!==null?M=Hi(M):(O=jr(c)?Au:br.current,D=c.contextTypes,M=(D=D!=null)?Id(a,O):tl),c=new c(p,M),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Bm,a.stateNode=c,c._reactInternals=a,D&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=O,a.__reactInternalMemoizedMaskedChildContext=M),c}function oD(a,c,p,D){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,D),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,D),c.state!==a&&Bm.enqueueReplaceState(c,c.state,null)}function s5(a,c,p,D){var O=a.stateNode;O.props=p,O.state=a.memoizedState,O.refs={},Hv(a);var M=c.contextType;typeof M=="object"&&M!==null?O.context=Hi(M):(M=jr(c)?Au:br.current,O.context=Id(a,M)),O.state=a.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(a5(a,c,M,p),O.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(c=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),c!==O.state&&Bm.enqueueReplaceState(O,O.state,null),km(a,p,O,D),O.state=a.memoizedState),typeof O.componentDidMount=="function"&&(a.flags|=4194308)}function Fd(a,c){try{var p="",D=c;do p+=te(D),D=D.return;while(D);var O=p}catch(M){O=`
Error generating stack: `+M.message+`
`+M.stack}return{value:a,source:c,stack:O,digest:null}}function l5(a,c,p){return{value:a,source:null,stack:p??null,digest:c??null}}function u5(a,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var zE=typeof WeakMap=="function"?WeakMap:Map;function aD(a,c,p){p=ja(-1,p),p.tag=3,p.payload={element:null};var D=c.value;return p.callback=function(){Hm||(Hm=!0,x5=D),u5(a,c)},p}function sD(a,c,p){p=ja(-1,p),p.tag=3;var D=a.type.getDerivedStateFromError;if(typeof D=="function"){var O=c.value;p.payload=function(){return D(O)},p.callback=function(){u5(a,c)}}var M=a.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(p.callback=function(){u5(a,c),typeof D!="function"&&(al===null?al=new Set([this]):al.add(this));var Y=c.stack;this.componentDidCatch(c.value,{componentStack:Y!==null?Y:""})}),p}function lD(a,c,p){var D=a.pingCache;if(D===null){D=a.pingCache=new zE;var O=new Set;D.set(c,O)}else O=D.get(c),O===void 0&&(O=new Set,D.set(c,O));O.has(p)||(O.add(p),a=ik.bind(null,a,c,p),c.then(a,a))}function uD(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function cD(a,c,p,D,O){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=ja(-1,1),c.tag=2,il(p,c,1))),p.lanes|=1),a):(a.flags|=65536,a.lanes=O,a)}var WE=T.ReactCurrentOwner,Hr=!1;function Er(a,c,p,D){c.child=a===null?A6(c,null,p,D):Od(c,a.child,p,D)}function dD(a,c,p,D,O){p=p.render;var M=c.ref;return kd(c,O),D=e5(a,c,p,D,M,O),p=t5(),a!==null&&!Hr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~O,Ha(a,c,O)):(sn&&p&&Nv(c),c.flags|=1,Er(a,c,D,O),c.child)}function hD(a,c,p,D,O){if(a===null){var M=p.type;return typeof M=="function"&&!O5(M)&&M.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=M,fD(a,c,M,D,O)):(a=Jm(p.type,null,D,c,c.mode,O),a.ref=c.ref,a.return=c,c.child=a)}if(M=a.child,(a.lanes&O)===0){var Y=M.memoizedProps;if(p=p.compare,p=p!==null?p:If,p(Y,D)&&a.ref===c.ref)return Ha(a,c,O)}return c.flags|=1,a=cl(M,D),a.ref=c.ref,a.return=c,c.child=a}function fD(a,c,p,D,O){if(a!==null){var M=a.memoizedProps;if(If(M,D)&&a.ref===c.ref)if(Hr=!1,c.pendingProps=D=M,(a.lanes&O)!==0)(a.flags&131072)!==0&&(Hr=!0);else return c.lanes=a.lanes,Ha(a,c,O)}return c5(a,c,p,D,O)}function pD(a,c,p){var D=c.pendingProps,O=D.children,M=a!==null?a.memoizedState:null;if(D.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Nd,wi),wi|=p;else{if((p&1073741824)===0)return a=M!==null?M.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,$t(Nd,wi),wi|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=M!==null?M.baseLanes:p,$t(Nd,wi),wi|=D}else M!==null?(D=M.baseLanes|p,c.memoizedState=null):D=p,$t(Nd,wi),wi|=D;return Er(a,c,O,p),c.child}function gD(a,c){var p=c.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function c5(a,c,p,D,O){var M=jr(p)?Au:br.current;return M=Id(c,M),kd(c,O),p=e5(a,c,p,D,M,O),D=t5(),a!==null&&!Hr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~O,Ha(a,c,O)):(sn&&D&&Nv(c),c.flags|=1,Er(a,c,p,O),c.child)}function mD(a,c,p,D,O){if(jr(p)){var M=!0;xm(c)}else M=!1;if(kd(c,O),c.stateNode===null)Gm(a,c),iD(c,p,D),s5(c,p,D,O),D=!0;else if(a===null){var Y=c.stateNode,re=c.memoizedProps;Y.props=re;var ue=Y.context,De=p.contextType;typeof De=="object"&&De!==null?De=Hi(De):(De=jr(p)?Au:br.current,De=Id(c,De));var Me=p.getDerivedStateFromProps,Ue=typeof Me=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Ue||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(re!==D||ue!==De)&&oD(c,Y,D,De),rl=!1;var _e=c.memoizedState;Y.state=_e,km(c,D,Y,O),ue=c.memoizedState,re!==D||_e!==ue||Wr.current||rl?(typeof Me=="function"&&(a5(c,p,Me,D),ue=c.memoizedState),(re=rl||rD(c,p,re,D,_e,ue,De))?(Ue||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(c.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=D,c.memoizedState=ue),Y.props=D,Y.state=ue,Y.context=De,D=re):(typeof Y.componentDidMount=="function"&&(c.flags|=4194308),D=!1)}else{Y=c.stateNode,E6(a,c),re=c.memoizedProps,De=c.type===c.elementType?re:_o(c.type,re),Y.props=De,Ue=c.pendingProps,_e=Y.context,ue=p.contextType,typeof ue=="object"&&ue!==null?ue=Hi(ue):(ue=jr(p)?Au:br.current,ue=Id(c,ue));var He=p.getDerivedStateFromProps;(Me=typeof He=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(re!==Ue||_e!==ue)&&oD(c,Y,D,ue),rl=!1,_e=c.memoizedState,Y.state=_e,km(c,D,Y,O);var Xe=c.memoizedState;re!==Ue||_e!==Xe||Wr.current||rl?(typeof He=="function"&&(a5(c,p,He,D),Xe=c.memoizedState),(De=rl||rD(c,p,De,D,_e,Xe,ue)||!1)?(Me||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(D,Xe,ue),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(D,Xe,ue)),typeof Y.componentDidUpdate=="function"&&(c.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof Y.componentDidUpdate!="function"||re===a.memoizedProps&&_e===a.memoizedState||(c.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&_e===a.memoizedState||(c.flags|=1024),c.memoizedProps=D,c.memoizedState=Xe),Y.props=D,Y.state=Xe,Y.context=ue,D=De):(typeof Y.componentDidUpdate!="function"||re===a.memoizedProps&&_e===a.memoizedState||(c.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&_e===a.memoizedState||(c.flags|=1024),D=!1)}return d5(a,c,p,D,M,O)}function d5(a,c,p,D,O,M){gD(a,c);var Y=(c.flags&128)!==0;if(!D&&!Y)return O&&b6(c,p,!1),Ha(a,c,M);D=c.stateNode,WE.current=c;var re=Y&&typeof p.getDerivedStateFromError!="function"?null:D.render();return c.flags|=1,a!==null&&Y?(c.child=Od(c,a.child,null,M),c.child=Od(c,null,re,M)):Er(a,c,re,M),c.memoizedState=D.state,O&&b6(c,p,!0),c.child}function SD(a){var c=a.stateNode;c.pendingContext?v6(a,c.pendingContext,c.pendingContext!==c.context):c.context&&v6(a,c.context,!1),$v(a,c.containerInfo)}function yD(a,c,p,D,O){return Ad(),Vv(O),c.flags|=256,Er(a,c,p,D),c.child}var h5={dehydrated:null,treeContext:null,retryLane:0};function f5(a){return{baseLanes:a,cachePool:null,transitions:null}}function vD(a,c,p){var D=c.pendingProps,O=gn.current,M=!1,Y=(c.flags&128)!==0,re;if((re=Y)||(re=a!==null&&a.memoizedState===null?!1:(O&2)!==0),re?(M=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(O|=1),$t(gn,O&1),a===null)return Bv(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(Y=D.children,a=D.fallback,M?(D=c.mode,M=c.child,Y={mode:"hidden",children:Y},(D&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=Y):M=eS(Y,D,0,null),a=Bu(a,D,p,null),M.return=c,a.return=c,M.sibling=a,c.child=M,c.child.memoizedState=f5(p),c.memoizedState=h5,a):p5(c,Y));if(O=a.memoizedState,O!==null&&(re=O.dehydrated,re!==null))return jE(a,c,Y,D,re,O,p);if(M){M=D.fallback,Y=c.mode,O=a.child,re=O.sibling;var ue={mode:"hidden",children:D.children};return(Y&1)===0&&c.child!==O?(D=c.child,D.childLanes=0,D.pendingProps=ue,c.deletions=null):(D=cl(O,ue),D.subtreeFlags=O.subtreeFlags&14680064),re!==null?M=cl(re,M):(M=Bu(M,Y,p,null),M.flags|=2),M.return=c,D.return=c,D.sibling=M,c.child=D,D=M,M=c.child,Y=a.child.memoizedState,Y=Y===null?f5(p):{baseLanes:Y.baseLanes|p,cachePool:null,transitions:Y.transitions},M.memoizedState=Y,M.childLanes=a.childLanes&~p,c.memoizedState=h5,D}return M=a.child,a=M.sibling,D=cl(M,{mode:"visible",children:D.children}),(c.mode&1)===0&&(D.lanes=p),D.return=c,D.sibling=null,a!==null&&(p=c.deletions,p===null?(c.deletions=[a],c.flags|=16):p.push(a)),c.child=D,c.memoizedState=null,D}function p5(a,c){return c=eS({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function Vm(a,c,p,D){return D!==null&&Vv(D),Od(c,a.child,null,p),a=p5(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function jE(a,c,p,D,O,M,Y){if(p)return c.flags&256?(c.flags&=-257,D=l5(Error(t(422))),Vm(a,c,Y,D)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(M=D.fallback,O=c.mode,D=eS({mode:"visible",children:D.children},O,0,null),M=Bu(M,O,Y,null),M.flags|=2,D.return=c,M.return=c,D.sibling=M,c.child=D,(c.mode&1)!==0&&Od(c,a.child,null,Y),c.child.memoizedState=f5(Y),c.memoizedState=h5,M);if((c.mode&1)===0)return Vm(a,c,Y,null);if(O.data==="$!"){if(D=O.nextSibling&&O.nextSibling.dataset,D)var re=D.dgst;return D=re,M=Error(t(419)),D=l5(M,D,void 0),Vm(a,c,Y,D)}if(re=(Y&a.childLanes)!==0,Hr||re){if(D=sr,D!==null){switch(Y&-Y){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(D.suspendedLanes|Y))!==0?0:O,O!==0&&O!==M.retryLane&&(M.retryLane=O,Wa(a,O),No(D,a,O,-1))}return A5(),D=l5(Error(t(421))),Vm(a,c,Y,D)}return O.data==="$?"?(c.flags|=128,c.child=a.child,c=ok.bind(null,a),O._reactRetry=c,null):(a=M.treeContext,bi=Js(O.nextSibling),Ci=c,sn=!0,ko=null,a!==null&&(Wi[ji++]=Qa,Wi[ji++]=za,Wi[ji++]=Ou,Qa=a.id,za=a.overflow,Ou=c),c=p5(c,D.children),c.flags|=4096,c)}function CD(a,c,p){a.lanes|=c;var D=a.alternate;D!==null&&(D.lanes|=c),Wv(a.return,c,p)}function g5(a,c,p,D,O){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:D,tail:p,tailMode:O}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=D,M.tail=p,M.tailMode=O)}function bD(a,c,p){var D=c.pendingProps,O=D.revealOrder,M=D.tail;if(Er(a,c,D.children,p),D=gn.current,(D&2)!==0)D=D&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&CD(a,p,c);else if(a.tag===19)CD(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}D&=1}if($t(gn,D),(c.mode&1)===0)c.memoizedState=null;else switch(O){case"forwards":for(p=c.child,O=null;p!==null;)a=p.alternate,a!==null&&_m(a)===null&&(O=p),p=p.sibling;p=O,p===null?(O=c.child,c.child=null):(O=p.sibling,p.sibling=null),g5(c,!1,O,p,M);break;case"backwards":for(p=null,O=c.child,c.child=null;O!==null;){if(a=O.alternate,a!==null&&_m(a)===null){c.child=O;break}a=O.sibling,O.sibling=p,p=O,O=a}g5(c,!0,p,null,M);break;case"together":g5(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Gm(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function Ha(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),Mu|=c.lanes,(p&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,p=cl(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=cl(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function HE(a,c,p){switch(c.tag){case 3:SD(c),Ad();break;case 5:F6(c);break;case 1:jr(c.type)&&xm(c);break;case 4:$v(c,c.stateNode.containerInfo);break;case 10:var D=c.type._context,O=c.memoizedProps.value;$t(Am,D._currentValue),D._currentValue=O;break;case 13:if(D=c.memoizedState,D!==null)return D.dehydrated!==null?($t(gn,gn.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?vD(a,c,p):($t(gn,gn.current&1),a=Ha(a,c,p),a!==null?a.sibling:null);$t(gn,gn.current&1);break;case 19:if(D=(p&c.childLanes)!==0,(a.flags&128)!==0){if(D)return bD(a,c,p);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),$t(gn,gn.current),D)break;return null;case 22:case 23:return c.lanes=0,pD(a,c,p)}return Ha(a,c,p)}var wD,m5,DD,xD;wD=function(a,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},m5=function(){},DD=function(a,c,p,D){var O=a.memoizedProps;if(O!==D){a=c.stateNode,_u(sa.current);var M=null;switch(p){case"input":O=q(a,O),D=q(a,D),M=[];break;case"select":O=X({},O,{value:void 0}),D=X({},D,{value:void 0}),M=[];break;case"textarea":O=se(a,O),D=se(a,D),M=[];break;default:typeof O.onClick!="function"&&typeof D.onClick=="function"&&(a.onclick=bm)}ut(p,D);var Y;p=null;for(De in O)if(!D.hasOwnProperty(De)&&O.hasOwnProperty(De)&&O[De]!=null)if(De==="style"){var re=O[De];for(Y in re)re.hasOwnProperty(Y)&&(p||(p={}),p[Y]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?M||(M=[]):(M=M||[]).push(De,null));for(De in D){var ue=D[De];if(re=O!=null?O[De]:void 0,D.hasOwnProperty(De)&&ue!==re&&(ue!=null||re!=null))if(De==="style")if(re){for(Y in re)!re.hasOwnProperty(Y)||ue&&ue.hasOwnProperty(Y)||(p||(p={}),p[Y]="");for(Y in ue)ue.hasOwnProperty(Y)&&re[Y]!==ue[Y]&&(p||(p={}),p[Y]=ue[Y])}else p||(M||(M=[]),M.push(De,p)),p=ue;else De==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,re=re?re.__html:void 0,ue!=null&&re!==ue&&(M=M||[]).push(De,ue)):De==="children"?typeof ue!="string"&&typeof ue!="number"||(M=M||[]).push(De,""+ue):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(ue!=null&&De==="onScroll"&&en("scroll",a),M||re===ue||(M=[])):(M=M||[]).push(De,ue))}p&&(M=M||[]).push("style",p);var De=M;(c.updateQueue=De)&&(c.flags|=4)}},xD=function(a,c,p,D){p!==D&&(c.flags|=4)};function Gf(a,c){if(!sn)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var D=null;p!==null;)p.alternate!==null&&(D=p),p=p.sibling;D===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:D.sibling=null}}function Dr(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,D=0;if(c)for(var O=a.child;O!==null;)p|=O.lanes|O.childLanes,D|=O.subtreeFlags&14680064,D|=O.flags&14680064,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)p|=O.lanes|O.childLanes,D|=O.subtreeFlags,D|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=D,a.childLanes=p,c}function $E(a,c,p){var D=c.pendingProps;switch(Uv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(c),null;case 1:return jr(c.type)&&Dm(),Dr(c),null;case 3:return D=c.stateNode,_d(),tn(Wr),tn(br),Kv(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(a===null||a.child===null)&&(Rm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,ko!==null&&(I5(ko),ko=null))),m5(a,c),Dr(c),null;case 5:Yv(c);var O=_u(Nf.current);if(p=c.type,a!==null&&c.stateNode!=null)DD(a,c,p,D,O),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!D){if(c.stateNode===null)throw Error(t(166));return Dr(c),null}if(a=_u(sa.current),Rm(c)){D=c.stateNode,p=c.type;var M=c.memoizedProps;switch(D[aa]=c,D[Ef]=M,a=(c.mode&1)!==0,p){case"dialog":en("cancel",D),en("close",D);break;case"iframe":case"object":case"embed":en("load",D);break;case"video":case"audio":for(O=0;O<Lf.length;O++)en(Lf[O],D);break;case"source":en("error",D);break;case"img":case"image":case"link":en("error",D),en("load",D);break;case"details":en("toggle",D);break;case"input":ge(D,M),en("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!M.multiple},en("invalid",D);break;case"textarea":Ae(D,M),en("invalid",D)}ut(p,M),O=null;for(var Y in M)if(M.hasOwnProperty(Y)){var re=M[Y];Y==="children"?typeof re=="string"?D.textContent!==re&&(M.suppressHydrationWarning!==!0&&Cm(D.textContent,re,a),O=["children",re]):typeof re=="number"&&D.textContent!==""+re&&(M.suppressHydrationWarning!==!0&&Cm(D.textContent,re,a),O=["children",""+re]):i.hasOwnProperty(Y)&&re!=null&&Y==="onScroll"&&en("scroll",D)}switch(p){case"input":we(D),K(D,M,!0);break;case"textarea":we(D),he(D);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(D.onclick=bm)}D=O,c.updateQueue=D,D!==null&&(c.flags|=4)}else{Y=O.nodeType===9?O:O.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=be(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=Y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof D.is=="string"?a=Y.createElement(p,{is:D.is}):(a=Y.createElement(p),p==="select"&&(Y=a,D.multiple?Y.multiple=!0:D.size&&(Y.size=D.size))):a=Y.createElementNS(a,p),a[aa]=c,a[Ef]=D,wD(a,c,!1,!1),c.stateNode=a;e:{switch(Y=Gt(p,D),p){case"dialog":en("cancel",a),en("close",a),O=D;break;case"iframe":case"object":case"embed":en("load",a),O=D;break;case"video":case"audio":for(O=0;O<Lf.length;O++)en(Lf[O],a);O=D;break;case"source":en("error",a),O=D;break;case"img":case"image":case"link":en("error",a),en("load",a),O=D;break;case"details":en("toggle",a),O=D;break;case"input":ge(a,D),O=q(a,D),en("invalid",a);break;case"option":O=D;break;case"select":a._wrapperState={wasMultiple:!!D.multiple},O=X({},D,{value:void 0}),en("invalid",a);break;case"textarea":Ae(a,D),O=se(a,D),en("invalid",a);break;default:O=D}ut(p,O),re=O;for(M in re)if(re.hasOwnProperty(M)){var ue=re[M];M==="style"?It(a,ue):M==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&We(a,ue)):M==="children"?typeof ue=="string"?(p!=="textarea"||ue!=="")&&Be(a,ue):typeof ue=="number"&&Be(a,""+ue):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ue!=null&&M==="onScroll"&&en("scroll",a):ue!=null&&b(a,M,ue,Y))}switch(p){case"input":we(a),K(a,D,!1);break;case"textarea":we(a),he(a);break;case"option":D.value!=null&&a.setAttribute("value",""+oe(D.value));break;case"select":a.multiple=!!D.multiple,M=D.value,M!=null?xe(a,!!D.multiple,M,!1):D.defaultValue!=null&&xe(a,!!D.multiple,D.defaultValue,!0);break;default:typeof O.onClick=="function"&&(a.onclick=bm)}switch(p){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Dr(c),null;case 6:if(a&&c.stateNode!=null)xD(a,c,a.memoizedProps,D);else{if(typeof D!="string"&&c.stateNode===null)throw Error(t(166));if(p=_u(Nf.current),_u(sa.current),Rm(c)){if(D=c.stateNode,p=c.memoizedProps,D[aa]=c,(M=D.nodeValue!==p)&&(a=Ci,a!==null))switch(a.tag){case 3:Cm(D.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Cm(D.nodeValue,p,(a.mode&1)!==0)}M&&(c.flags|=4)}else D=(p.nodeType===9?p:p.ownerDocument).createTextNode(D),D[aa]=c,c.stateNode=D}return Dr(c),null;case 13:if(tn(gn),D=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(sn&&bi!==null&&(c.mode&1)!==0&&(c.flags&128)===0)I6(),Ad(),c.flags|=98560,M=!1;else if(M=Rm(c),D!==null&&D.dehydrated!==null){if(a===null){if(!M)throw Error(t(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[aa]=c}else Ad(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Dr(c),M=!1}else ko!==null&&(I5(ko),ko=null),M=!0;if(!M)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(D=D!==null,D!==(a!==null&&a.memoizedState!==null)&&D&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(gn.current&1)!==0?Jn===0&&(Jn=3):A5())),c.updateQueue!==null&&(c.flags|=4),Dr(c),null);case 4:return _d(),m5(a,c),a===null&&Af(c.stateNode.containerInfo),Dr(c),null;case 10:return zv(c.type._context),Dr(c),null;case 17:return jr(c.type)&&Dm(),Dr(c),null;case 19:if(tn(gn),M=c.memoizedState,M===null)return Dr(c),null;if(D=(c.flags&128)!==0,Y=M.rendering,Y===null)if(D)Gf(M,!1);else{if(Jn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(Y=_m(a),Y!==null){for(c.flags|=128,Gf(M,!1),D=Y.updateQueue,D!==null&&(c.updateQueue=D,c.flags|=4),c.subtreeFlags=0,D=p,p=c.child;p!==null;)M=p,a=D,M.flags&=14680066,Y=M.alternate,Y===null?(M.childLanes=0,M.lanes=a,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=Y.childLanes,M.lanes=Y.lanes,M.child=Y.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=Y.memoizedProps,M.memoizedState=Y.memoizedState,M.updateQueue=Y.updateQueue,M.type=Y.type,a=Y.dependencies,M.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return $t(gn,gn.current&1|2),c.child}a=a.sibling}M.tail!==null&&On()>Ud&&(c.flags|=128,D=!0,Gf(M,!1),c.lanes=4194304)}else{if(!D)if(a=_m(Y),a!==null){if(c.flags|=128,D=!0,p=a.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),Gf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!Y.alternate&&!sn)return Dr(c),null}else 2*On()-M.renderingStartTime>Ud&&p!==1073741824&&(c.flags|=128,D=!0,Gf(M,!1),c.lanes=4194304);M.isBackwards?(Y.sibling=c.child,c.child=Y):(p=M.last,p!==null?p.sibling=Y:c.child=Y,M.last=Y)}return M.tail!==null?(c=M.tail,M.rendering=c,M.tail=c.sibling,M.renderingStartTime=On(),c.sibling=null,p=gn.current,$t(gn,D?p&1|2:p&1),c):(Dr(c),null);case 22:case 23:return L5(),D=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==D&&(c.flags|=8192),D&&(c.mode&1)!==0?(wi&1073741824)!==0&&(Dr(c),c.subtreeFlags&6&&(c.flags|=8192)):Dr(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function YE(a,c){switch(Uv(c),c.tag){case 1:return jr(c.type)&&Dm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return _d(),tn(Wr),tn(br),Kv(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Yv(c),null;case 13:if(tn(gn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Ad()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return tn(gn),null;case 4:return _d(),null;case 10:return zv(c.type._context),null;case 22:case 23:return L5(),null;case 24:return null;default:return null}}var Qm=!1,xr=!1,XE=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Md(a,c){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(D){Cn(a,c,D)}else p.current=null}function S5(a,c,p){try{p()}catch(D){Cn(a,c,D)}}var TD=!1;function KE(a,c){if(Lv=um,a=r6(),bv(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var D=p.getSelection&&p.getSelection();if(D&&D.rangeCount!==0){p=D.anchorNode;var O=D.anchorOffset,M=D.focusNode;D=D.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var Y=0,re=-1,ue=-1,De=0,Me=0,Ue=a,_e=null;t:for(;;){for(var He;Ue!==p||O!==0&&Ue.nodeType!==3||(re=Y+O),Ue!==M||D!==0&&Ue.nodeType!==3||(ue=Y+D),Ue.nodeType===3&&(Y+=Ue.nodeValue.length),(He=Ue.firstChild)!==null;)_e=Ue,Ue=He;for(;;){if(Ue===a)break t;if(_e===p&&++De===O&&(re=Y),_e===M&&++Me===D&&(ue=Y),(He=Ue.nextSibling)!==null)break;Ue=_e,_e=Ue.parentNode}Ue=He}p=re===-1||ue===-1?null:{start:re,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(Av={focusedElem:a,selectionRange:p},um=!1,$e=c;$e!==null;)if(c=$e,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,$e=a;else for(;$e!==null;){c=$e;try{var Xe=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Xe!==null){var Ke=Xe.memoizedProps,En=Xe.memoizedState,ye=c.stateNode,fe=ye.getSnapshotBeforeUpdate(c.elementType===c.type?Ke:_o(c.type,Ke),En);ye.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ve=c.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ve){Cn(c,c.return,Ve)}if(a=c.sibling,a!==null){a.return=c.return,$e=a;break}$e=c.return}return Xe=TD,TD=!1,Xe}function Qf(a,c,p){var D=c.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var O=D=D.next;do{if((O.tag&a)===a){var M=O.destroy;O.destroy=void 0,M!==void 0&&S5(c,p,M)}O=O.next}while(O!==D)}}function zm(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&a)===a){var D=p.create;p.destroy=D()}p=p.next}while(p!==c)}}function y5(a){var c=a.ref;if(c!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof c=="function"?c(a):c.current=a}}function PD(a){var c=a.alternate;c!==null&&(a.alternate=null,PD(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[aa],delete c[Ef],delete c[_v],delete c[kE],delete c[_E])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ID(a){return a.tag===5||a.tag===3||a.tag===4}function RD(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ID(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function v5(a,c,p){var D=a.tag;if(D===5||D===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=bm));else if(D!==4&&(a=a.child,a!==null))for(v5(a,c,p),a=a.sibling;a!==null;)v5(a,c,p),a=a.sibling}function C5(a,c,p){var D=a.tag;if(D===5||D===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(D!==4&&(a=a.child,a!==null))for(C5(a,c,p),a=a.sibling;a!==null;)C5(a,c,p),a=a.sibling}var hr=null,Fo=!1;function ol(a,c,p){for(p=p.child;p!==null;)LD(a,c,p),p=p.sibling}function LD(a,c,p){if(oa&&typeof oa.onCommitFiberUnmount=="function")try{oa.onCommitFiberUnmount(rm,p)}catch{}switch(p.tag){case 5:xr||Md(p,c);case 6:var D=hr,O=Fo;hr=null,ol(a,c,p),hr=D,Fo=O,hr!==null&&(Fo?(a=hr,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):hr.removeChild(p.stateNode));break;case 18:hr!==null&&(Fo?(a=hr,p=p.stateNode,a.nodeType===8?kv(a.parentNode,p):a.nodeType===1&&kv(a,p),bf(a)):kv(hr,p.stateNode));break;case 4:D=hr,O=Fo,hr=p.stateNode.containerInfo,Fo=!0,ol(a,c,p),hr=D,Fo=O;break;case 0:case 11:case 14:case 15:if(!xr&&(D=p.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){O=D=D.next;do{var M=O,Y=M.destroy;M=M.tag,Y!==void 0&&((M&2)!==0||(M&4)!==0)&&S5(p,c,Y),O=O.next}while(O!==D)}ol(a,c,p);break;case 1:if(!xr&&(Md(p,c),D=p.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=p.memoizedProps,D.state=p.memoizedState,D.componentWillUnmount()}catch(re){Cn(p,c,re)}ol(a,c,p);break;case 21:ol(a,c,p);break;case 22:p.mode&1?(xr=(D=xr)||p.memoizedState!==null,ol(a,c,p),xr=D):ol(a,c,p);break;default:ol(a,c,p)}}function AD(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new XE),c.forEach(function(D){var O=ak.bind(null,a,D);p.has(D)||(p.add(D),D.then(O,O))})}}function Mo(a,c){var p=c.deletions;if(p!==null)for(var D=0;D<p.length;D++){var O=p[D];try{var M=a,Y=c,re=Y;e:for(;re!==null;){switch(re.tag){case 5:hr=re.stateNode,Fo=!1;break e;case 3:hr=re.stateNode.containerInfo,Fo=!0;break e;case 4:hr=re.stateNode.containerInfo,Fo=!0;break e}re=re.return}if(hr===null)throw Error(t(160));LD(M,Y,O),hr=null,Fo=!1;var ue=O.alternate;ue!==null&&(ue.return=null),O.return=null}catch(De){Cn(O,c,De)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)OD(c,a),c=c.sibling}function OD(a,c){var p=a.alternate,D=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Mo(c,a),ua(a),D&4){try{Qf(3,a,a.return),zm(3,a)}catch(Ke){Cn(a,a.return,Ke)}try{Qf(5,a,a.return)}catch(Ke){Cn(a,a.return,Ke)}}break;case 1:Mo(c,a),ua(a),D&512&&p!==null&&Md(p,p.return);break;case 5:if(Mo(c,a),ua(a),D&512&&p!==null&&Md(p,p.return),a.flags&32){var O=a.stateNode;try{Be(O,"")}catch(Ke){Cn(a,a.return,Ke)}}if(D&4&&(O=a.stateNode,O!=null)){var M=a.memoizedProps,Y=p!==null?p.memoizedProps:M,re=a.type,ue=a.updateQueue;if(a.updateQueue=null,ue!==null)try{re==="input"&&M.type==="radio"&&M.name!=null&&Se(O,M),Gt(re,Y);var De=Gt(re,M);for(Y=0;Y<ue.length;Y+=2){var Me=ue[Y],Ue=ue[Y+1];Me==="style"?It(O,Ue):Me==="dangerouslySetInnerHTML"?We(O,Ue):Me==="children"?Be(O,Ue):b(O,Me,Ue,De)}switch(re){case"input":Z(O,M);break;case"textarea":ke(O,M);break;case"select":var _e=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!M.multiple;var He=M.value;He!=null?xe(O,!!M.multiple,He,!1):_e!==!!M.multiple&&(M.defaultValue!=null?xe(O,!!M.multiple,M.defaultValue,!0):xe(O,!!M.multiple,M.multiple?[]:"",!1))}O[Ef]=M}catch(Ke){Cn(a,a.return,Ke)}}break;case 6:if(Mo(c,a),ua(a),D&4){if(a.stateNode===null)throw Error(t(162));O=a.stateNode,M=a.memoizedProps;try{O.nodeValue=M}catch(Ke){Cn(a,a.return,Ke)}}break;case 3:if(Mo(c,a),ua(a),D&4&&p!==null&&p.memoizedState.isDehydrated)try{bf(c.containerInfo)}catch(Ke){Cn(a,a.return,Ke)}break;case 4:Mo(c,a),ua(a);break;case 13:Mo(c,a),ua(a),O=a.child,O.flags&8192&&(M=O.memoizedState!==null,O.stateNode.isHidden=M,!M||O.alternate!==null&&O.alternate.memoizedState!==null||(D5=On())),D&4&&AD(a);break;case 22:if(Me=p!==null&&p.memoizedState!==null,a.mode&1?(xr=(De=xr)||Me,Mo(c,a),xr=De):Mo(c,a),ua(a),D&8192){if(De=a.memoizedState!==null,(a.stateNode.isHidden=De)&&!Me&&(a.mode&1)!==0)for($e=a,Me=a.child;Me!==null;){for(Ue=$e=Me;$e!==null;){switch(_e=$e,He=_e.child,_e.tag){case 0:case 11:case 14:case 15:Qf(4,_e,_e.return);break;case 1:Md(_e,_e.return);var Xe=_e.stateNode;if(typeof Xe.componentWillUnmount=="function"){D=_e,p=_e.return;try{c=D,Xe.props=c.memoizedProps,Xe.state=c.memoizedState,Xe.componentWillUnmount()}catch(Ke){Cn(D,p,Ke)}}break;case 5:Md(_e,_e.return);break;case 22:if(_e.memoizedState!==null){_D(Ue);continue}}He!==null?(He.return=_e,$e=He):_D(Ue)}Me=Me.sibling}e:for(Me=null,Ue=a;;){if(Ue.tag===5){if(Me===null){Me=Ue;try{O=Ue.stateNode,De?(M=O.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(re=Ue.stateNode,ue=Ue.memoizedProps.style,Y=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,re.style.display=je("display",Y))}catch(Ke){Cn(a,a.return,Ke)}}}else if(Ue.tag===6){if(Me===null)try{Ue.stateNode.nodeValue=De?"":Ue.memoizedProps}catch(Ke){Cn(a,a.return,Ke)}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===a)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===a)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===a)break e;Me===Ue&&(Me=null),Ue=Ue.return}Me===Ue&&(Me=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}}break;case 19:Mo(c,a),ua(a),D&4&&AD(a);break;case 21:break;default:Mo(c,a),ua(a)}}function ua(a){var c=a.flags;if(c&2){try{e:{for(var p=a.return;p!==null;){if(ID(p)){var D=p;break e}p=p.return}throw Error(t(160))}switch(D.tag){case 5:var O=D.stateNode;D.flags&32&&(Be(O,""),D.flags&=-33);var M=RD(a);C5(a,M,O);break;case 3:case 4:var Y=D.stateNode.containerInfo,re=RD(a);v5(a,re,Y);break;default:throw Error(t(161))}}catch(ue){Cn(a,a.return,ue)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function ZE(a,c,p){$e=a,ED(a)}function ED(a,c,p){for(var D=(a.mode&1)!==0;$e!==null;){var O=$e,M=O.child;if(O.tag===22&&D){var Y=O.memoizedState!==null||Qm;if(!Y){var re=O.alternate,ue=re!==null&&re.memoizedState!==null||xr;re=Qm;var De=xr;if(Qm=Y,(xr=ue)&&!De)for($e=O;$e!==null;)Y=$e,ue=Y.child,Y.tag===22&&Y.memoizedState!==null?FD(O):ue!==null?(ue.return=Y,$e=ue):FD(O);for(;M!==null;)$e=M,ED(M),M=M.sibling;$e=O,Qm=re,xr=De}kD(a)}else(O.subtreeFlags&8772)!==0&&M!==null?(M.return=O,$e=M):kD(a)}}function kD(a){for(;$e!==null;){var c=$e;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:xr||zm(5,c);break;case 1:var D=c.stateNode;if(c.flags&4&&!xr)if(p===null)D.componentDidMount();else{var O=c.elementType===c.type?p.memoizedProps:_o(c.type,p.memoizedProps);D.componentDidUpdate(O,p.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var M=c.updateQueue;M!==null&&_6(c,M,D);break;case 3:var Y=c.updateQueue;if(Y!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}_6(c,Y,p)}break;case 5:var re=c.stateNode;if(p===null&&c.flags&4){p=re;var ue=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&p.focus();break;case"img":ue.src&&(p.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var De=c.alternate;if(De!==null){var Me=De.memoizedState;if(Me!==null){var Ue=Me.dehydrated;Ue!==null&&bf(Ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xr||c.flags&512&&y5(c)}catch(_e){Cn(c,c.return,_e)}}if(c===a){$e=null;break}if(p=c.sibling,p!==null){p.return=c.return,$e=p;break}$e=c.return}}function _D(a){for(;$e!==null;){var c=$e;if(c===a){$e=null;break}var p=c.sibling;if(p!==null){p.return=c.return,$e=p;break}$e=c.return}}function FD(a){for(;$e!==null;){var c=$e;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{zm(4,c)}catch(ue){Cn(c,p,ue)}break;case 1:var D=c.stateNode;if(typeof D.componentDidMount=="function"){var O=c.return;try{D.componentDidMount()}catch(ue){Cn(c,O,ue)}}var M=c.return;try{y5(c)}catch(ue){Cn(c,M,ue)}break;case 5:var Y=c.return;try{y5(c)}catch(ue){Cn(c,Y,ue)}}}catch(ue){Cn(c,c.return,ue)}if(c===a){$e=null;break}var re=c.sibling;if(re!==null){re.return=c.return,$e=re;break}$e=c.return}}var JE=Math.ceil,Wm=T.ReactCurrentDispatcher,b5=T.ReactCurrentOwner,Yi=T.ReactCurrentBatchConfig,At=0,sr=null,qn=null,fr=0,wi=0,Nd=el(0),Jn=0,zf=null,Mu=0,jm=0,w5=0,Wf=null,$r=null,D5=0,Ud=1/0,$a=null,Hm=!1,x5=null,al=null,$m=!1,sl=null,Ym=0,jf=0,T5=null,Xm=-1,Km=0;function kr(){return(At&6)!==0?On():Xm!==-1?Xm:Xm=On()}function ll(a){return(a.mode&1)===0?1:(At&2)!==0&&fr!==0?fr&-fr:ME.transition!==null?(Km===0&&(Km=Rw()),Km):(a=qt,a!==0||(a=window.event,a=a===void 0?16:Nw(a.type)),a)}function No(a,c,p,D){if(50<jf)throw jf=0,T5=null,Error(t(185));mf(a,p,D),((At&2)===0||a!==sr)&&(a===sr&&((At&2)===0&&(jm|=p),Jn===4&&ul(a,fr)),Yr(a,D),p===1&&At===0&&(c.mode&1)===0&&(Ud=On()+500,Tm&&nl()))}function Yr(a,c){var p=a.callbackNode;MO(a,c);var D=am(a,a===sr?fr:0);if(D===0)p!==null&&Tw(p),a.callbackNode=null,a.callbackPriority=0;else if(c=D&-D,a.callbackPriority!==c){if(p!=null&&Tw(p),c===1)a.tag===0?FE(ND.bind(null,a)):w6(ND.bind(null,a)),OE(function(){(At&6)===0&&nl()}),p=null;else{switch(Lw(D)){case 1:p=iv;break;case 4:p=Pw;break;case 16:p=nm;break;case 536870912:p=Iw;break;default:p=nm}p=WD(p,MD.bind(null,a))}a.callbackPriority=c,a.callbackNode=p}}function MD(a,c){if(Xm=-1,Km=0,(At&6)!==0)throw Error(t(327));var p=a.callbackNode;if(qd()&&a.callbackNode!==p)return null;var D=am(a,a===sr?fr:0);if(D===0)return null;if((D&30)!==0||(D&a.expiredLanes)!==0||c)c=Zm(a,D);else{c=D;var O=At;At|=2;var M=qD();(sr!==a||fr!==c)&&($a=null,Ud=On()+500,Uu(a,c));do try{nk();break}catch(re){UD(a,re)}while(!0);Qv(),Wm.current=M,At=O,qn!==null?c=0:(sr=null,fr=0,c=Jn)}if(c!==0){if(c===2&&(O=ov(a),O!==0&&(D=O,c=P5(a,O))),c===1)throw p=zf,Uu(a,0),ul(a,D),Yr(a,On()),p;if(c===6)ul(a,D);else{if(O=a.current.alternate,(D&30)===0&&!ek(O)&&(c=Zm(a,D),c===2&&(M=ov(a),M!==0&&(D=M,c=P5(a,M))),c===1))throw p=zf,Uu(a,0),ul(a,D),Yr(a,On()),p;switch(a.finishedWork=O,a.finishedLanes=D,c){case 0:case 1:throw Error(t(345));case 2:qu(a,$r,$a);break;case 3:if(ul(a,D),(D&130023424)===D&&(c=D5+500-On(),10<c)){if(am(a,0)!==0)break;if(O=a.suspendedLanes,(O&D)!==D){kr(),a.pingedLanes|=a.suspendedLanes&O;break}a.timeoutHandle=Ev(qu.bind(null,a,$r,$a),c);break}qu(a,$r,$a);break;case 4:if(ul(a,D),(D&4194240)===D)break;for(c=a.eventTimes,O=-1;0<D;){var Y=31-Oo(D);M=1<<Y,Y=c[Y],Y>O&&(O=Y),D&=~M}if(D=O,D=On()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*JE(D/1960))-D,10<D){a.timeoutHandle=Ev(qu.bind(null,a,$r,$a),D);break}qu(a,$r,$a);break;case 5:qu(a,$r,$a);break;default:throw Error(t(329))}}}return Yr(a,On()),a.callbackNode===p?MD.bind(null,a):null}function P5(a,c){var p=Wf;return a.current.memoizedState.isDehydrated&&(Uu(a,c).flags|=256),a=Zm(a,c),a!==2&&(c=$r,$r=p,c!==null&&I5(c)),a}function I5(a){$r===null?$r=a:$r.push.apply($r,a)}function ek(a){for(var c=a;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var D=0;D<p.length;D++){var O=p[D],M=O.getSnapshot;O=O.value;try{if(!Eo(M(),O))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ul(a,c){for(c&=~w5,c&=~jm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var p=31-Oo(c),D=1<<p;a[p]=-1,c&=~D}}function ND(a){if((At&6)!==0)throw Error(t(327));qd();var c=am(a,0);if((c&1)===0)return Yr(a,On()),null;var p=Zm(a,c);if(a.tag!==0&&p===2){var D=ov(a);D!==0&&(c=D,p=P5(a,D))}if(p===1)throw p=zf,Uu(a,0),ul(a,c),Yr(a,On()),p;if(p===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,qu(a,$r,$a),Yr(a,On()),null}function R5(a,c){var p=At;At|=1;try{return a(c)}finally{At=p,At===0&&(Ud=On()+500,Tm&&nl())}}function Nu(a){sl!==null&&sl.tag===0&&(At&6)===0&&qd();var c=At;At|=1;var p=Yi.transition,D=qt;try{if(Yi.transition=null,qt=1,a)return a()}finally{qt=D,Yi.transition=p,At=c,(At&6)===0&&nl()}}function L5(){wi=Nd.current,tn(Nd)}function Uu(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,AE(p)),qn!==null)for(p=qn.return;p!==null;){var D=p;switch(Uv(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&Dm();break;case 3:_d(),tn(Wr),tn(br),Kv();break;case 5:Yv(D);break;case 4:_d();break;case 13:tn(gn);break;case 19:tn(gn);break;case 10:zv(D.type._context);break;case 22:case 23:L5()}p=p.return}if(sr=a,qn=a=cl(a.current,null),fr=wi=c,Jn=0,zf=null,w5=jm=Mu=0,$r=Wf=null,ku!==null){for(c=0;c<ku.length;c++)if(p=ku[c],D=p.interleaved,D!==null){p.interleaved=null;var O=D.next,M=p.pending;if(M!==null){var Y=M.next;M.next=O,D.next=Y}p.pending=D}ku=null}return a}function UD(a,c){do{var p=qn;try{if(Qv(),Fm.current=qm,Mm){for(var D=mn.memoizedState;D!==null;){var O=D.queue;O!==null&&(O.pending=null),D=D.next}Mm=!1}if(Fu=0,ar=Zn=mn=null,Uf=!1,qf=0,b5.current=null,p===null||p.return===null){Jn=1,zf=c,qn=null;break}e:{var M=a,Y=p.return,re=p,ue=c;if(c=fr,re.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var De=ue,Me=re,Ue=Me.tag;if((Me.mode&1)===0&&(Ue===0||Ue===11||Ue===15)){var _e=Me.alternate;_e?(Me.updateQueue=_e.updateQueue,Me.memoizedState=_e.memoizedState,Me.lanes=_e.lanes):(Me.updateQueue=null,Me.memoizedState=null)}var He=uD(Y);if(He!==null){He.flags&=-257,cD(He,Y,re,M,c),He.mode&1&&lD(M,De,c),c=He,ue=De;var Xe=c.updateQueue;if(Xe===null){var Ke=new Set;Ke.add(ue),c.updateQueue=Ke}else Xe.add(ue);break e}else{if((c&1)===0){lD(M,De,c),A5();break e}ue=Error(t(426))}}else if(sn&&re.mode&1){var En=uD(Y);if(En!==null){(En.flags&65536)===0&&(En.flags|=256),cD(En,Y,re,M,c),Vv(Fd(ue,re));break e}}M=ue=Fd(ue,re),Jn!==4&&(Jn=2),Wf===null?Wf=[M]:Wf.push(M),M=Y;do{switch(M.tag){case 3:M.flags|=65536,c&=-c,M.lanes|=c;var ye=aD(M,ue,c);k6(M,ye);break e;case 1:re=ue;var fe=M.type,ve=M.stateNode;if((M.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(al===null||!al.has(ve)))){M.flags|=65536,c&=-c,M.lanes|=c;var Ve=sD(M,re,c);k6(M,Ve);break e}}M=M.return}while(M!==null)}VD(p)}catch(Je){c=Je,qn===p&&p!==null&&(qn=p=p.return);continue}break}while(!0)}function qD(){var a=Wm.current;return Wm.current=qm,a===null?qm:a}function A5(){(Jn===0||Jn===3||Jn===2)&&(Jn=4),sr===null||(Mu&268435455)===0&&(jm&268435455)===0||ul(sr,fr)}function Zm(a,c){var p=At;At|=2;var D=qD();(sr!==a||fr!==c)&&($a=null,Uu(a,c));do try{tk();break}catch(O){UD(a,O)}while(!0);if(Qv(),At=p,Wm.current=D,qn!==null)throw Error(t(261));return sr=null,fr=0,Jn}function tk(){for(;qn!==null;)BD(qn)}function nk(){for(;qn!==null&&!IO();)BD(qn)}function BD(a){var c=zD(a.alternate,a,wi);a.memoizedProps=a.pendingProps,c===null?VD(a):qn=c,b5.current=null}function VD(a){var c=a;do{var p=c.alternate;if(a=c.return,(c.flags&32768)===0){if(p=$E(p,c,wi),p!==null){qn=p;return}}else{if(p=YE(p,c),p!==null){p.flags&=32767,qn=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Jn=6,qn=null;return}}if(c=c.sibling,c!==null){qn=c;return}qn=c=a}while(c!==null);Jn===0&&(Jn=5)}function qu(a,c,p){var D=qt,O=Yi.transition;try{Yi.transition=null,qt=1,rk(a,c,p,D)}finally{Yi.transition=O,qt=D}return null}function rk(a,c,p,D){do qd();while(sl!==null);if((At&6)!==0)throw Error(t(327));p=a.finishedWork;var O=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var M=p.lanes|p.childLanes;if(NO(a,M),a===sr&&(qn=sr=null,fr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||$m||($m=!0,WD(nm,function(){return qd(),null})),M=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||M){M=Yi.transition,Yi.transition=null;var Y=qt;qt=1;var re=At;At|=4,b5.current=null,KE(a,p),OD(p,a),DE(Av),um=!!Lv,Av=Lv=null,a.current=p,ZE(p),RO(),At=re,qt=Y,Yi.transition=M}else a.current=p;if($m&&($m=!1,sl=a,Ym=O),M=a.pendingLanes,M===0&&(al=null),OO(p.stateNode),Yr(a,On()),c!==null)for(D=a.onRecoverableError,p=0;p<c.length;p++)O=c[p],D(O.value,{componentStack:O.stack,digest:O.digest});if(Hm)throw Hm=!1,a=x5,x5=null,a;return(Ym&1)!==0&&a.tag!==0&&qd(),M=a.pendingLanes,(M&1)!==0?a===T5?jf++:(jf=0,T5=a):jf=0,nl(),null}function qd(){if(sl!==null){var a=Lw(Ym),c=Yi.transition,p=qt;try{if(Yi.transition=null,qt=16>a?16:a,sl===null)var D=!1;else{if(a=sl,sl=null,Ym=0,(At&6)!==0)throw Error(t(331));var O=At;for(At|=4,$e=a.current;$e!==null;){var M=$e,Y=M.child;if(($e.flags&16)!==0){var re=M.deletions;if(re!==null){for(var ue=0;ue<re.length;ue++){var De=re[ue];for($e=De;$e!==null;){var Me=$e;switch(Me.tag){case 0:case 11:case 15:Qf(8,Me,M)}var Ue=Me.child;if(Ue!==null)Ue.return=Me,$e=Ue;else for(;$e!==null;){Me=$e;var _e=Me.sibling,He=Me.return;if(PD(Me),Me===De){$e=null;break}if(_e!==null){_e.return=He,$e=_e;break}$e=He}}}var Xe=M.alternate;if(Xe!==null){var Ke=Xe.child;if(Ke!==null){Xe.child=null;do{var En=Ke.sibling;Ke.sibling=null,Ke=En}while(Ke!==null)}}$e=M}}if((M.subtreeFlags&2064)!==0&&Y!==null)Y.return=M,$e=Y;else e:for(;$e!==null;){if(M=$e,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Qf(9,M,M.return)}var ye=M.sibling;if(ye!==null){ye.return=M.return,$e=ye;break e}$e=M.return}}var fe=a.current;for($e=fe;$e!==null;){Y=$e;var ve=Y.child;if((Y.subtreeFlags&2064)!==0&&ve!==null)ve.return=Y,$e=ve;else e:for(Y=fe;$e!==null;){if(re=$e,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:zm(9,re)}}catch(Je){Cn(re,re.return,Je)}if(re===Y){$e=null;break e}var Ve=re.sibling;if(Ve!==null){Ve.return=re.return,$e=Ve;break e}$e=re.return}}if(At=O,nl(),oa&&typeof oa.onPostCommitFiberRoot=="function")try{oa.onPostCommitFiberRoot(rm,a)}catch{}D=!0}return D}finally{qt=p,Yi.transition=c}}return!1}function GD(a,c,p){c=Fd(p,c),c=aD(a,c,1),a=il(a,c,1),c=kr(),a!==null&&(mf(a,1,c),Yr(a,c))}function Cn(a,c,p){if(a.tag===3)GD(a,a,p);else for(;c!==null;){if(c.tag===3){GD(c,a,p);break}else if(c.tag===1){var D=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(al===null||!al.has(D))){a=Fd(p,a),a=sD(c,a,1),c=il(c,a,1),a=kr(),c!==null&&(mf(c,1,a),Yr(c,a));break}}c=c.return}}function ik(a,c,p){var D=a.pingCache;D!==null&&D.delete(c),c=kr(),a.pingedLanes|=a.suspendedLanes&p,sr===a&&(fr&p)===p&&(Jn===4||Jn===3&&(fr&130023424)===fr&&500>On()-D5?Uu(a,0):w5|=p),Yr(a,c)}function QD(a,c){c===0&&((a.mode&1)===0?c=1:(c=om,om<<=1,(om&130023424)===0&&(om=4194304)));var p=kr();a=Wa(a,c),a!==null&&(mf(a,c,p),Yr(a,p))}function ok(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),QD(a,p)}function ak(a,c){var p=0;switch(a.tag){case 13:var D=a.stateNode,O=a.memoizedState;O!==null&&(p=O.retryLane);break;case 19:D=a.stateNode;break;default:throw Error(t(314))}D!==null&&D.delete(c),QD(a,p)}var zD;zD=function(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps||Wr.current)Hr=!0;else{if((a.lanes&p)===0&&(c.flags&128)===0)return Hr=!1,HE(a,c,p);Hr=(a.flags&131072)!==0}else Hr=!1,sn&&(c.flags&1048576)!==0&&D6(c,Im,c.index);switch(c.lanes=0,c.tag){case 2:var D=c.type;Gm(a,c),a=c.pendingProps;var O=Id(c,br.current);kd(c,p),O=e5(null,c,D,a,O,p);var M=t5();return c.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,jr(D)?(M=!0,xm(c)):M=!1,c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Hv(c),O.updater=Bm,c.stateNode=O,O._reactInternals=c,s5(c,D,a,p),c=d5(null,c,D,!0,M,p)):(c.tag=0,sn&&M&&Nv(c),Er(null,c,O,p),c=c.child),c;case 16:D=c.elementType;e:{switch(Gm(a,c),a=c.pendingProps,O=D._init,D=O(D._payload),c.type=D,O=c.tag=lk(D),a=_o(D,a),O){case 0:c=c5(null,c,D,a,p);break e;case 1:c=mD(null,c,D,a,p);break e;case 11:c=dD(null,c,D,a,p);break e;case 14:c=hD(null,c,D,_o(D.type,a),p);break e}throw Error(t(306,D,""))}return c;case 0:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:_o(D,O),c5(a,c,D,O,p);case 1:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:_o(D,O),mD(a,c,D,O,p);case 3:e:{if(SD(c),a===null)throw Error(t(387));D=c.pendingProps,M=c.memoizedState,O=M.element,E6(a,c),km(c,D,null,p);var Y=c.memoizedState;if(D=Y.element,M.isDehydrated)if(M={element:D,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){O=Fd(Error(t(423)),c),c=yD(a,c,D,p,O);break e}else if(D!==O){O=Fd(Error(t(424)),c),c=yD(a,c,D,p,O);break e}else for(bi=Js(c.stateNode.containerInfo.firstChild),Ci=c,sn=!0,ko=null,p=A6(c,null,D,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Ad(),D===O){c=Ha(a,c,p);break e}Er(a,c,D,p)}c=c.child}return c;case 5:return F6(c),a===null&&Bv(c),D=c.type,O=c.pendingProps,M=a!==null?a.memoizedProps:null,Y=O.children,Ov(D,O)?Y=null:M!==null&&Ov(D,M)&&(c.flags|=32),gD(a,c),Er(a,c,Y,p),c.child;case 6:return a===null&&Bv(c),null;case 13:return vD(a,c,p);case 4:return $v(c,c.stateNode.containerInfo),D=c.pendingProps,a===null?c.child=Od(c,null,D,p):Er(a,c,D,p),c.child;case 11:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:_o(D,O),dD(a,c,D,O,p);case 7:return Er(a,c,c.pendingProps,p),c.child;case 8:return Er(a,c,c.pendingProps.children,p),c.child;case 12:return Er(a,c,c.pendingProps.children,p),c.child;case 10:e:{if(D=c.type._context,O=c.pendingProps,M=c.memoizedProps,Y=O.value,$t(Am,D._currentValue),D._currentValue=Y,M!==null)if(Eo(M.value,Y)){if(M.children===O.children&&!Wr.current){c=Ha(a,c,p);break e}}else for(M=c.child,M!==null&&(M.return=c);M!==null;){var re=M.dependencies;if(re!==null){Y=M.child;for(var ue=re.firstContext;ue!==null;){if(ue.context===D){if(M.tag===1){ue=ja(-1,p&-p),ue.tag=2;var De=M.updateQueue;if(De!==null){De=De.shared;var Me=De.pending;Me===null?ue.next=ue:(ue.next=Me.next,Me.next=ue),De.pending=ue}}M.lanes|=p,ue=M.alternate,ue!==null&&(ue.lanes|=p),Wv(M.return,p,c),re.lanes|=p;break}ue=ue.next}}else if(M.tag===10)Y=M.type===c.type?null:M.child;else if(M.tag===18){if(Y=M.return,Y===null)throw Error(t(341));Y.lanes|=p,re=Y.alternate,re!==null&&(re.lanes|=p),Wv(Y,p,c),Y=M.sibling}else Y=M.child;if(Y!==null)Y.return=M;else for(Y=M;Y!==null;){if(Y===c){Y=null;break}if(M=Y.sibling,M!==null){M.return=Y.return,Y=M;break}Y=Y.return}M=Y}Er(a,c,O.children,p),c=c.child}return c;case 9:return O=c.type,D=c.pendingProps.children,kd(c,p),O=Hi(O),D=D(O),c.flags|=1,Er(a,c,D,p),c.child;case 14:return D=c.type,O=_o(D,c.pendingProps),O=_o(D.type,O),hD(a,c,D,O,p);case 15:return fD(a,c,c.type,c.pendingProps,p);case 17:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:_o(D,O),Gm(a,c),c.tag=1,jr(D)?(a=!0,xm(c)):a=!1,kd(c,p),iD(c,D,O),s5(c,D,O,p),d5(null,c,D,!0,a,p);case 19:return bD(a,c,p);case 22:return pD(a,c,p)}throw Error(t(156,c.tag))};function WD(a,c){return xw(a,c)}function sk(a,c,p,D){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xi(a,c,p,D){return new sk(a,c,p,D)}function O5(a){return a=a.prototype,!(!a||!a.isReactComponent)}function lk(a){if(typeof a=="function")return O5(a)?1:0;if(a!=null){if(a=a.$$typeof,a===N)return 11;if(a===_)return 14}return 2}function cl(a,c){var p=a.alternate;return p===null?(p=Xi(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Jm(a,c,p,D,O,M){var Y=2;if(D=a,typeof a=="function")O5(a)&&(Y=1);else if(typeof a=="string")Y=5;else e:switch(a){case F:return Bu(p.children,O,M,c);case E:Y=8,O|=8;break;case k:return a=Xi(12,p,c,O|2),a.elementType=k,a.lanes=M,a;case L:return a=Xi(13,p,c,O),a.elementType=L,a.lanes=M,a;case I:return a=Xi(19,p,c,O),a.elementType=I,a.lanes=M,a;case W:return eS(p,O,M,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:Y=10;break e;case U:Y=9;break e;case N:Y=11;break e;case _:Y=14;break e;case B:Y=16,D=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=Xi(Y,p,c,O),c.elementType=a,c.type=D,c.lanes=M,c}function Bu(a,c,p,D){return a=Xi(7,a,D,c),a.lanes=p,a}function eS(a,c,p,D){return a=Xi(22,a,D,c),a.elementType=W,a.lanes=p,a.stateNode={isHidden:!1},a}function E5(a,c,p){return a=Xi(6,a,null,c),a.lanes=p,a}function k5(a,c,p){return c=Xi(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function uk(a,c,p,D,O){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=av(0),this.expirationTimes=av(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=av(0),this.identifierPrefix=D,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function _5(a,c,p,D,O,M,Y,re,ue){return a=new uk(a,c,p,re,ue),c===1?(c=1,M===!0&&(c|=8)):c=0,M=Xi(3,null,null,c),a.current=M,M.stateNode=a,M.memoizedState={element:D,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hv(M),a}function ck(a,c,p){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:D==null?null:""+D,children:a,containerInfo:c,implementation:p}}function jD(a){if(!a)return tl;a=a._reactInternals;e:{if(Ru(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(jr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var p=a.type;if(jr(p))return C6(a,p,c)}return c}function HD(a,c,p,D,O,M,Y,re,ue){return a=_5(p,D,!0,a,O,M,Y,re,ue),a.context=jD(null),p=a.current,D=kr(),O=ll(p),M=ja(D,O),M.callback=c??null,il(p,M,O),a.current.lanes=O,mf(a,O,D),Yr(a,D),a}function tS(a,c,p,D){var O=c.current,M=kr(),Y=ll(O);return p=jD(p),c.context===null?c.context=p:c.pendingContext=p,c=ja(M,Y),c.payload={element:a},D=D===void 0?null:D,D!==null&&(c.callback=D),a=il(O,c,Y),a!==null&&(No(a,O,Y,M),Em(a,O,Y)),Y}function nS(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function $D(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function F5(a,c){$D(a,c),(a=a.alternate)&&$D(a,c)}function dk(){return null}var YD=typeof reportError=="function"?reportError:function(a){console.error(a)};function M5(a){this._internalRoot=a}rS.prototype.render=M5.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));tS(a,c,null,null)},rS.prototype.unmount=M5.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Nu(function(){tS(null,a,null,null)}),c[Va]=null}};function rS(a){this._internalRoot=a}rS.prototype.unstable_scheduleHydration=function(a){if(a){var c=Ew();a={blockedOn:null,target:a,priority:c};for(var p=0;p<Xs.length&&c!==0&&c<Xs[p].priority;p++);Xs.splice(p,0,a),p===0&&Fw(a)}};function N5(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function iS(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function XD(){}function hk(a,c,p,D,O){if(O){if(typeof D=="function"){var M=D;D=function(){var De=nS(Y);M.call(De)}}var Y=HD(c,D,a,0,null,!1,!1,"",XD);return a._reactRootContainer=Y,a[Va]=Y.current,Af(a.nodeType===8?a.parentNode:a),Nu(),Y}for(;O=a.lastChild;)a.removeChild(O);if(typeof D=="function"){var re=D;D=function(){var De=nS(ue);re.call(De)}}var ue=_5(a,0,!1,null,null,!1,!1,"",XD);return a._reactRootContainer=ue,a[Va]=ue.current,Af(a.nodeType===8?a.parentNode:a),Nu(function(){tS(c,ue,p,D)}),ue}function oS(a,c,p,D,O){var M=p._reactRootContainer;if(M){var Y=M;if(typeof O=="function"){var re=O;O=function(){var ue=nS(Y);re.call(ue)}}tS(c,Y,a,O)}else Y=hk(p,c,a,O,D);return nS(Y)}Aw=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var p=gf(c.pendingLanes);p!==0&&(sv(c,p|1),Yr(c,On()),(At&6)===0&&(Ud=On()+500,nl()))}break;case 13:Nu(function(){var D=Wa(a,1);if(D!==null){var O=kr();No(D,a,1,O)}}),F5(a,1)}},lv=function(a){if(a.tag===13){var c=Wa(a,134217728);if(c!==null){var p=kr();No(c,a,134217728,p)}F5(a,134217728)}},Ow=function(a){if(a.tag===13){var c=ll(a),p=Wa(a,c);if(p!==null){var D=kr();No(p,a,c,D)}F5(a,c)}},Ew=function(){return qt},kw=function(a,c){var p=qt;try{return qt=a,c()}finally{qt=p}},Ba=function(a,c,p){switch(c){case"input":if(Z(a,p),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var D=p[c];if(D!==a&&D.form===a.form){var O=wm(D);if(!O)throw Error(t(90));Te(D),Z(D,O)}}}break;case"textarea":ke(a,p);break;case"select":c=p.value,c!=null&&xe(a,!!p.multiple,c,!1)}},zi=R5,yw=Nu;var fk={usingClientEntryPoint:!1,Events:[kf,Td,wm,Sd,Iu,R5]},Hf={findFiberByHostInstance:Lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pk={bundleType:Hf.bundleType,version:Hf.version,rendererPackageName:Hf.rendererPackageName,rendererConfig:Hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ww(a),a===null?null:a.stateNode},findFiberByHostInstance:Hf.findFiberByHostInstance||dk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aS.isDisabled&&aS.supportsFiber)try{rm=aS.inject(pk),oa=aS}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk,Xr.createPortal=function(a,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N5(c))throw Error(t(200));return ck(a,c,null,p)},Xr.createRoot=function(a,c){if(!N5(a))throw Error(t(299));var p=!1,D="",O=YD;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(D=c.identifierPrefix),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=_5(a,1,!1,null,null,p,!1,D,O),a[Va]=c.current,Af(a.nodeType===8?a.parentNode:a),new M5(c)},Xr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=ww(c),a=a===null?null:a.stateNode,a},Xr.flushSync=function(a){return Nu(a)},Xr.hydrate=function(a,c,p){if(!iS(c))throw Error(t(200));return oS(null,a,c,!0,p)},Xr.hydrateRoot=function(a,c,p){if(!N5(a))throw Error(t(405));var D=p!=null&&p.hydratedSources||null,O=!1,M="",Y=YD;if(p!=null&&(p.unstable_strictMode===!0&&(O=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError)),c=HD(c,null,a,1,p??null,O,!1,M,Y),a[Va]=c.current,Af(a),D)for(a=0;a<D.length;a++)p=D[a],O=p._getVersion,O=O(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,O]:c.mutableSourceEagerHydrationData.push(p,O);return new rS(c)},Xr.render=function(a,c,p){if(!iS(c))throw Error(t(200));return oS(null,a,c,!1,p)},Xr.unmountComponentAtNode=function(a){if(!iS(a))throw Error(t(40));return a._reactRootContainer?(Nu(function(){oS(null,null,a,!1,function(){a._reactRootContainer=null,a[Va]=null})}),!0):!1},Xr.unstable_batchedUpdates=R5,Xr.unstable_renderSubtreeIntoContainer=function(a,c,p,D){if(!iS(p))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return oS(a,c,p,!1,D)},Xr.version="18.3.1-next-f1338f8080-20240426",Xr}var o8;function dI(){if(o8)return V5.exports;o8=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),V5.exports=xk(),V5.exports}var a8;function Tk(){if(a8)return sS;a8=1;var n=dI();return sS.createRoot=n.createRoot,sS.hydrateRoot=n.hydrateRoot,sS}var Pk=Tk();const mp={black:"#000",white:"#fff"},Bd={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Ik={500:"#e91e63"},Vd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Rk={500:"#3f51b5"},Gd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qd={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},zd={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Yf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Lk={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ws(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const ea="$$material";function yn(){return yn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},yn.apply(null,arguments)}function Ak(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Ok(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ek=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Ok(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Ak(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Pr="-ms-",I2="-moz-",Ft="-webkit-",hI="comm",mb="rule",Sb="decl",kk="@import",fI="@keyframes",_k="@layer",Fk=Math.abs,Py=String.fromCharCode,Mk=Object.assign;function Nk(n,e){return vr(n,0)^45?(((e<<2^vr(n,0))<<2^vr(n,1))<<2^vr(n,2))<<2^vr(n,3):0}function pI(n){return n.trim()}function Uk(n,e){return(n=e.exec(n))?n[0]:n}function Mt(n,e,t){return n.replace(e,t)}function YC(n,e){return n.indexOf(e)}function vr(n,e){return n.charCodeAt(e)|0}function Sp(n,e,t){return n.slice(e,t)}function Oa(n){return n.length}function yb(n){return n.length}function lS(n,e){return e.push(n),n}function qk(n,e){return n.map(e).join("")}var Iy=1,Xh=1,gI=0,yi=0,jn=0,af="";function Ry(n,e,t,r,i,o,s){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Iy,column:Xh,length:s,return:""}}function Xf(n,e){return Mk(Ry("",null,null,"",null,null,0),n,{length:-n.length},e)}function Bk(){return jn}function Vk(){return jn=yi>0?vr(af,--yi):0,Xh--,jn===10&&(Xh=1,Iy--),jn}function Vi(){return jn=yi<gI?vr(af,yi++):0,Xh++,jn===10&&(Xh=1,Iy++),jn}function Fa(){return vr(af,yi)}function qS(){return yi}function jg(n,e){return Sp(af,n,e)}function yp(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mI(n){return Iy=Xh=1,gI=Oa(af=n),yi=0,[]}function SI(n){return af="",n}function BS(n){return pI(jg(yi-1,XC(n===91?n+2:n===40?n+1:n)))}function Gk(n){for(;(jn=Fa())&&jn<33;)Vi();return yp(n)>2||yp(jn)>3?"":" "}function Qk(n,e){for(;--e&&Vi()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return jg(n,qS()+(e<6&&Fa()==32&&Vi()==32))}function XC(n){for(;Vi();)switch(jn){case n:return yi;case 34:case 39:n!==34&&n!==39&&XC(jn);break;case 40:n===41&&XC(n);break;case 92:Vi();break}return yi}function zk(n,e){for(;Vi()&&n+jn!==57;)if(n+jn===84&&Fa()===47)break;return"/*"+jg(e,yi-1)+"*"+Py(n===47?n:Vi())}function Wk(n){for(;!yp(Fa());)Vi();return jg(n,yi)}function jk(n){return SI(VS("",null,null,null,[""],n=mI(n),0,[0],n))}function VS(n,e,t,r,i,o,s,l,d){for(var h=0,f=0,m=s,v=0,g=0,S=0,y=1,C=1,x=1,w=0,b="",T=i,P=o,A=r,F=b;C;)switch(S=w,w=Vi()){case 40:if(S!=108&&vr(F,m-1)==58){YC(F+=Mt(BS(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:F+=BS(w);break;case 9:case 10:case 13:case 32:F+=Gk(S);break;case 92:F+=Qk(qS()-1,7);continue;case 47:switch(Fa()){case 42:case 47:lS(Hk(zk(Vi(),qS()),e,t),d);break;default:F+="/"}break;case 123*y:l[h++]=Oa(F)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:C=0;case 59+f:x==-1&&(F=Mt(F,/\f/g,"")),g>0&&Oa(F)-m&&lS(g>32?l8(F+";",r,t,m-1):l8(Mt(F," ","")+";",r,t,m-2),d);break;case 59:F+=";";default:if(lS(A=s8(F,e,t,h,f,i,l,b,T=[],P=[],m),o),w===123)if(f===0)VS(F,e,A,A,T,o,m,l,P);else switch(v===99&&vr(F,3)===110?100:v){case 100:case 108:case 109:case 115:VS(n,A,A,r&&lS(s8(n,A,A,0,0,i,l,b,i,T=[],m),P),i,P,m,l,r?T:P);break;default:VS(F,A,A,A,[""],P,0,l,P)}}h=f=g=0,y=x=1,b=F="",m=s;break;case 58:m=1+Oa(F),g=S;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&Vk()==125)continue}switch(F+=Py(w),w*y){case 38:x=f>0?1:(F+="\f",-1);break;case 44:l[h++]=(Oa(F)-1)*x,x=1;break;case 64:Fa()===45&&(F+=BS(Vi())),v=Fa(),f=m=Oa(b=F+=Wk(qS())),w++;break;case 45:S===45&&Oa(F)==2&&(y=0)}}return o}function s8(n,e,t,r,i,o,s,l,d,h,f){for(var m=i-1,v=i===0?o:[""],g=yb(v),S=0,y=0,C=0;S<r;++S)for(var x=0,w=Sp(n,m+1,m=Fk(y=s[S])),b=n;x<g;++x)(b=pI(y>0?v[x]+" "+w:Mt(w,/&\f/g,v[x])))&&(d[C++]=b);return Ry(n,e,t,i===0?mb:l,d,h,f)}function Hk(n,e,t){return Ry(n,e,t,hI,Py(Bk()),Sp(n,2,-2),0)}function l8(n,e,t,r){return Ry(n,e,t,Sb,Sp(n,0,r),Sp(n,r+1,-1),r)}function o0(n,e){for(var t="",r=yb(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function $k(n,e,t,r){switch(n.type){case _k:if(n.children.length)break;case kk:case Sb:return n.return=n.return||n.value;case hI:return"";case fI:return n.return=n.value+"{"+o0(n.children,r)+"}";case mb:n.value=n.props.join(",")}return Oa(t=o0(n.children,r))?n.return=n.value+"{"+t+"}":""}function Yk(n){var e=yb(n);return function(t,r,i,o){for(var s="",l=0;l<e;l++)s+=n[l](t,r,i,o)||"";return s}}function Xk(n){return function(e){e.root||(e=e.return)&&n(e)}}function yI(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var Kk=function(e,t,r){for(var i=0,o=0;i=o,o=Fa(),i===38&&o===12&&(t[r]=1),!yp(o);)Vi();return jg(e,yi)},Zk=function(e,t){var r=-1,i=44;do switch(yp(i)){case 0:i===38&&Fa()===12&&(t[r]=1),e[r]+=Kk(yi-1,t,r);break;case 2:e[r]+=BS(i);break;case 4:if(i===44){e[++r]=Fa()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Py(i)}while(i=Vi());return e},Jk=function(e,t){return SI(Zk(mI(e),t))},u8=new WeakMap,e_=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!u8.get(r))&&!i){u8.set(e,!0);for(var o=[],s=Jk(t,o),l=r.props,d=0,h=0;d<s.length;d++)for(var f=0;f<l.length;f++,h++)e.props[h]=o[d]?s[d].replace(/&\f/g,l[f]):l[f]+" "+s[d]}}},t_=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function vI(n,e){switch(Nk(n,e)){case 5103:return Ft+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ft+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ft+n+I2+n+Pr+n+n;case 6828:case 4268:return Ft+n+Pr+n+n;case 6165:return Ft+n+Pr+"flex-"+n+n;case 5187:return Ft+n+Mt(n,/(\w+).+(:[^]+)/,Ft+"box-$1$2"+Pr+"flex-$1$2")+n;case 5443:return Ft+n+Pr+"flex-item-"+Mt(n,/flex-|-self/,"")+n;case 4675:return Ft+n+Pr+"flex-line-pack"+Mt(n,/align-content|flex-|-self/,"")+n;case 5548:return Ft+n+Pr+Mt(n,"shrink","negative")+n;case 5292:return Ft+n+Pr+Mt(n,"basis","preferred-size")+n;case 6060:return Ft+"box-"+Mt(n,"-grow","")+Ft+n+Pr+Mt(n,"grow","positive")+n;case 4554:return Ft+Mt(n,/([^-])(transform)/g,"$1"+Ft+"$2")+n;case 6187:return Mt(Mt(Mt(n,/(zoom-|grab)/,Ft+"$1"),/(image-set)/,Ft+"$1"),n,"")+n;case 5495:case 3959:return Mt(n,/(image-set\([^]*)/,Ft+"$1$`$1");case 4968:return Mt(Mt(n,/(.+:)(flex-)?(.*)/,Ft+"box-pack:$3"+Pr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ft+n+n;case 4095:case 3583:case 4068:case 2532:return Mt(n,/(.+)-inline(.+)/,Ft+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Oa(n)-1-e>6)switch(vr(n,e+1)){case 109:if(vr(n,e+4)!==45)break;case 102:return Mt(n,/(.+:)(.+)-([^]+)/,"$1"+Ft+"$2-$3$1"+I2+(vr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~YC(n,"stretch")?vI(Mt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(vr(n,e+1)!==115)break;case 6444:switch(vr(n,Oa(n)-3-(~YC(n,"!important")&&10))){case 107:return Mt(n,":",":"+Ft)+n;case 101:return Mt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ft+(vr(n,14)===45?"inline-":"")+"box$3$1"+Ft+"$2$3$1"+Pr+"$2box$3")+n}break;case 5936:switch(vr(n,e+11)){case 114:return Ft+n+Pr+Mt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ft+n+Pr+Mt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ft+n+Pr+Mt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ft+n+Pr+n+n}return n}var n_=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Sb:e.return=vI(e.value,e.length);break;case fI:return o0([Xf(e,{value:Mt(e.value,"@","@"+Ft)})],i);case mb:if(e.length)return qk(e.props,function(o){switch(Uk(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return o0([Xf(e,{props:[Mt(o,/:(read-\w+)/,":"+I2+"$1")]})],i);case"::placeholder":return o0([Xf(e,{props:[Mt(o,/:(plac\w+)/,":"+Ft+"input-$1")]}),Xf(e,{props:[Mt(o,/:(plac\w+)/,":"+I2+"$1")]}),Xf(e,{props:[Mt(o,/:(plac\w+)/,Pr+"input-$1")]})],i)}return""})}},r_=[n_],i_=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var C=y.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||r_,o={},s,l=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var C=y.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)o[C[x]]=!0;l.push(y)});var d,h=[e_,t_];{var f,m=[$k,Xk(function(y){f.insert(y)})],v=Yk(h.concat(i,m)),g=function(C){return o0(jk(C),v)};d=function(C,x,w,b){f=w,g(C?C+"{"+x.styles+"}":x.styles),b&&(S.inserted[x.name]=!0)}}var S={key:t,sheet:new Ek({key:t,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return S.sheet.hydrate(l),S},z5={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c8;function o_(){if(c8)return Nt;c8=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(P){if(typeof P=="object"&&P!==null){var A=P.$$typeof;switch(A){case e:switch(P=P.type,P){case d:case h:case r:case o:case i:case m:return P;default:switch(P=P&&P.$$typeof,P){case l:case f:case S:case g:case s:return P;default:return A}}case t:return A}}}function T(P){return b(P)===h}return Nt.AsyncMode=d,Nt.ConcurrentMode=h,Nt.ContextConsumer=l,Nt.ContextProvider=s,Nt.Element=e,Nt.ForwardRef=f,Nt.Fragment=r,Nt.Lazy=S,Nt.Memo=g,Nt.Portal=t,Nt.Profiler=o,Nt.StrictMode=i,Nt.Suspense=m,Nt.isAsyncMode=function(P){return T(P)||b(P)===d},Nt.isConcurrentMode=T,Nt.isContextConsumer=function(P){return b(P)===l},Nt.isContextProvider=function(P){return b(P)===s},Nt.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Nt.isForwardRef=function(P){return b(P)===f},Nt.isFragment=function(P){return b(P)===r},Nt.isLazy=function(P){return b(P)===S},Nt.isMemo=function(P){return b(P)===g},Nt.isPortal=function(P){return b(P)===t},Nt.isProfiler=function(P){return b(P)===o},Nt.isStrictMode=function(P){return b(P)===i},Nt.isSuspense=function(P){return b(P)===m},Nt.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===h||P===o||P===i||P===m||P===v||typeof P=="object"&&P!==null&&(P.$$typeof===S||P.$$typeof===g||P.$$typeof===s||P.$$typeof===l||P.$$typeof===f||P.$$typeof===C||P.$$typeof===x||P.$$typeof===w||P.$$typeof===y)},Nt.typeOf=b,Nt}var d8;function a_(){return d8||(d8=1,z5.exports=o_()),z5.exports}var W5,h8;function s_(){if(h8)return W5;h8=1;var n=a_(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=i;function s(S){return n.isMemo(S)?i:o[S.$$typeof]||e}var l=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function g(S,y,C){if(typeof y!="string"){if(v){var x=m(y);x&&x!==v&&g(S,x,C)}var w=d(y);h&&(w=w.concat(h(y)));for(var b=s(S),T=s(y),P=0;P<w.length;++P){var A=w[P];if(!t[A]&&!(C&&C[A])&&!(T&&T[A])&&!(b&&b[A])){var F=f(y,A);try{l(S,A,F)}catch{}}}}return S}return W5=g,W5}var l_=s_();const u_=gd(l_);var c_=!0;function CI(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var vb=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||c_===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Cb=function(e,t,r){vb(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function d_(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var h_={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f_=/[A-Z]|^ms/g,p_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bI=function(e){return e.charCodeAt(1)===45},f8=function(e){return e!=null&&typeof e!="boolean"},j5=yI(function(n){return bI(n)?n:n.replace(f_,"-$&").toLowerCase()}),p8=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(p_,function(r,i,o){return Ea={name:i,styles:o,next:Ea},i})}return h_[e]!==1&&!bI(e)&&typeof t=="number"&&t!==0?t+"px":t};function vp(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ea={name:i.name,styles:i.styles,next:Ea},i.name;var o=t;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ea={name:s.name,styles:s.styles,next:Ea},s=s.next;var l=o.styles+";";return l}return g_(n,e,t)}case"function":{if(n!==void 0){var d=Ea,h=t(n);return Ea=d,vp(n,e,h)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function g_(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=vp(n,e,t[i])+";";else for(var o in t){var s=t[o];if(typeof s!="object"){var l=s;e!=null&&e[l]!==void 0?r+=o+"{"+e[l]+"}":f8(l)&&(r+=j5(o)+":"+p8(o,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var d=0;d<s.length;d++)f8(s[d])&&(r+=j5(o)+":"+p8(o,s[d])+";");else{var h=vp(n,e,s);switch(o){case"animation":case"animationName":{r+=j5(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var g8=/label:\s*([^\s;{]+)\s*(;|$)/g,Ea;function Hg(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ea=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=vp(t,e,o);else{var s=o;i+=s[0]}for(var l=1;l<n.length;l++)if(i+=vp(t,e,n[l]),r){var d=o;i+=d[l]}g8.lastIndex=0;for(var h="",f;(f=g8.exec(i))!==null;)h+="-"+f[1];var m=d_(i)+h;return{name:m,styles:i,next:Ea}}var m_=function(e){return e()},wI=P2.useInsertionEffect?P2.useInsertionEffect:!1,DI=wI||m_,m8=wI||J.useLayoutEffect,xI=J.createContext(typeof HTMLElement<"u"?i_({key:"css"}):null);xI.Provider;var bb=function(e){return J.forwardRef(function(t,r){var i=J.useContext(xI);return e(t,i,r)})},$g=J.createContext({}),wb={}.hasOwnProperty,KC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",S_=function(e,t){var r={};for(var i in t)wb.call(t,i)&&(r[i]=t[i]);return r[KC]=e,r},y_=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return vb(t,r,i),DI(function(){return Cb(t,r,i)}),null},v_=bb(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[KC],o=[r],s="";typeof n.className=="string"?s=CI(e.registered,o,n.className):n.className!=null&&(s=n.className+" ");var l=Hg(o,void 0,J.useContext($g));s+=e.key+"-"+l.name;var d={};for(var h in n)wb.call(n,h)&&h!=="css"&&h!==KC&&(d[h]=n[h]);return d.className=s,t&&(d.ref=t),J.createElement(J.Fragment,null,J.createElement(y_,{cache:e,serialized:l,isStringTag:typeof i=="string"}),J.createElement(i,d))}),C_=v_,S8=function(e,t){var r=arguments;if(t==null||!wb.call(t,"css"))return J.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=C_,o[1]=S_(e,t);for(var s=2;s<i;s++)o[s]=r[s];return J.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(S8||(S8={}));var b_=bb(function(n,e){var t=n.styles,r=Hg([t],void 0,J.useContext($g)),i=J.useRef();return m8(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,d=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),d!==null&&(l=!0,d.setAttribute("data-emotion",o),s.hydrate([d])),i.current=[s,l],function(){s.flush()}},[e]),m8(function(){var o=i.current,s=o[0],l=o[1];if(l){o[1]=!1;return}if(r.next!==void 0&&Cb(e,r.next,!0),s.tags.length){var d=s.tags[s.tags.length-1].nextElementSibling;s.before=d,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function sf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Hg(e)}function Pu(){var n=sf.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var w_=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,D_=yI(function(n){return w_.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),x_=D_,T_=function(e){return e!=="theme"},y8=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?x_:T_},v8=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},P_=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return vb(t,r,i),DI(function(){return Cb(t,r,i)}),null},I_=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;t!==void 0&&(o=t.label,s=t.target);var l=v8(e,t,r),d=l||y8(i),h=!d("as");return function(){var f=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var v=f[0];m.push(v[0]);for(var g=f.length,S=1;S<g;S++)m.push(f[S],v[S])}var y=bb(function(C,x,w){var b=h&&C.as||i,T="",P=[],A=C;if(C.theme==null){A={};for(var F in C)A[F]=C[F];A.theme=J.useContext($g)}typeof C.className=="string"?T=CI(x.registered,P,C.className):C.className!=null&&(T=C.className+" ");var E=Hg(m.concat(P),x.registered,A);T+=x.key+"-"+E.name,s!==void 0&&(T+=" "+s);var k=h&&l===void 0?y8(b):d,R={};for(var U in C)h&&U==="as"||k(U)&&(R[U]=C[U]);return R.className=T,w&&(R.ref=w),J.createElement(J.Fragment,null,J.createElement(P_,{cache:x,serialized:E,isStringTag:typeof b=="string"}),J.createElement(b,R))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=m,y.__emotion_forwardProp=l,Object.defineProperty(y,"toString",{value:function(){return"."+s}}),y.withComponent=function(C,x){var w=n(C,yn({},t,x,{shouldForwardProp:v8(y,x,!0)}));return w.apply(void 0,m)},y}},R_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ZC=I_.bind(null);R_.forEach(function(n){ZC[n]=ZC(n)});var H5={exports:{}},$5,C8;function L_(){if(C8)return $5;C8=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $5=n,$5}var Y5,b8;function A_(){if(b8)return Y5;b8=1;var n=L_();function e(){}function t(){}return t.resetWarningCache=e,Y5=function(){function r(s,l,d,h,f,m){if(m!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},Y5}var w8;function O_(){return w8||(w8=1,H5.exports=A_()()),H5.exports}var E_=O_();const TI=gd(E_);function k_(n){return n==null||Object.keys(n).length===0}function PI(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(k_(i)?t:i):e;return le.jsx(b_,{styles:r})}/**
 * @mui/styled-engine v6.4.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function II(n,e){return ZC(n,e)}function __(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const D8=[];function x8(n){return D8[0]=n,Hg(D8)}var X5={exports:{}},Qt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8;function F_(){if(T8)return Qt;T8=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case n:switch(y=y.type,y){case t:case i:case r:case d:case h:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case m:case f:return y;case o:return y;default:return C}}case e:return C}}}return Qt.ContextConsumer=o,Qt.ContextProvider=s,Qt.Element=n,Qt.ForwardRef=l,Qt.Fragment=t,Qt.Lazy=m,Qt.Memo=f,Qt.Portal=e,Qt.Profiler=i,Qt.StrictMode=r,Qt.Suspense=d,Qt.SuspenseList=h,Qt.isContextConsumer=function(y){return S(y)===o},Qt.isContextProvider=function(y){return S(y)===s},Qt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},Qt.isForwardRef=function(y){return S(y)===l},Qt.isFragment=function(y){return S(y)===t},Qt.isLazy=function(y){return S(y)===m},Qt.isMemo=function(y){return S(y)===f},Qt.isPortal=function(y){return S(y)===e},Qt.isProfiler=function(y){return S(y)===i},Qt.isStrictMode=function(y){return S(y)===r},Qt.isSuspense=function(y){return S(y)===d},Qt.isSuspenseList=function(y){return S(y)===h},Qt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===d||y===h||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===s||y.$$typeof===o||y.$$typeof===l||y.$$typeof===g||y.getModuleId!==void 0)},Qt.typeOf=S,Qt}var P8;function M_(){return P8||(P8=1,X5.exports=F_()),X5.exports}var RI=M_();function ka(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function LI(n){if(J.isValidElement(n)||RI.isValidElementType(n)||!ka(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=LI(n[t])}),e}function $n(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ka(n)&&ka(e)&&Object.keys(e).forEach(i=>{J.isValidElement(e[i])||RI.isValidElementType(e[i])?r[i]=e[i]:ka(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ka(n[i])?r[i]=$n(n[i],e[i],t):t.clone?r[i]=ka(e[i])?LI(e[i]):e[i]:r[i]=e[i]}),r}const N_=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function U_(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=N_(e),s=Object.keys(o);function l(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function h(v,g){const S=s.indexOf(g);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[s[S]]=="number"?e[s[S]]:g)-r/100}${t})`}function f(v){return s.indexOf(v)+1<s.length?h(v,s[s.indexOf(v)+1]):l(v)}function m(v){const g=s.indexOf(v);return g===0?l(s[1]):g===s.length-1?d(s[g]):h(v,s[s.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:l,down:d,between:h,only:f,not:m,unit:t,...i}}function q_(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var s,l;const o=/min-width:\s*([0-9.]+)/;return+(((s=r.match(o))==null?void 0:s[1])||0)-+(((l=i.match(o))==null?void 0:l[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function B_(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function V_(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function G_(n){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function t(o,s){o.up=(...l)=>e(n.breakpoints.up(...l),s),o.down=(...l)=>e(n.breakpoints.down(...l),s),o.between=(...l)=>e(n.breakpoints.between(...l),s),o.only=(...l)=>e(n.breakpoints.only(...l),s),o.not=(...l)=>{const d=e(n.breakpoints.not(...l),s);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const Q_={borderRadius:4};function op(n,e){return e?$n(n,e,{clone:!1}):n}const Ly={xs:0,sm:600,md:900,lg:1200,xl:1536},I8={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Ly[n]}px)`},z_={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Ly[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ta(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||I8;return e.reduce((s,l,d)=>(s[o.up(o.keys[d])]=t(e[d]),s),{})}if(typeof e=="object"){const o=r.breakpoints||I8;return Object.keys(e).reduce((s,l)=>{if(B_(o.keys,l)){const d=V_(r.containerQueries?r:z_,l);d&&(s[d]=t(e[l],l))}else if(Object.keys(o.values||Ly).includes(l)){const d=o.up(l);s[d]=t(e[l],l)}else{const d=l;s[d]=e[d]}return s},{})}return t(e)}function AI(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function OI(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function W_(n,...e){const t=AI(n),r=[t,...e].reduce((i,o)=>$n(i,o),{});return OI(Object.keys(t),r)}function j_(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((i,o)=>{o<n.length&&(t[i]=!0)}):r.forEach(i=>{n[i]!=null&&(t[i]=!0)}),t}function K5({values:n,breakpoints:e,base:t}){const r=t||j_(n,e),i=Object.keys(r);if(i.length===0)return n;let o;return i.reduce((s,l,d)=>(Array.isArray(n)?(s[l]=n[d]!=null?n[d]:n[o],o=d):typeof n=="object"?(s[l]=n[l]!=null?n[l]:n[o],o=l):s[l]=n,s),{})}function Ge(n){if(typeof n!="string")throw new Error(Ws(7));return n.charAt(0).toUpperCase()+n.slice(1)}function pu(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function R2(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=pu(n,t)||r,e&&(i=e(i,r,n)),i}function Nn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=s=>{if(s[e]==null)return null;const l=s[e],d=s.theme,h=pu(d,r)||{};return ta(s,l,m=>{let v=R2(h,i,m);return m===v&&typeof m=="string"&&(v=R2(h,i,`${e}${m==="default"?"":Ge(m)}`,m)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function H_(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const $_={m:"margin",p:"padding"},Y_={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},R8={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},X_=H_(n=>{if(n.length>2)if(R8[n])n=R8[n];else return[n];const[e,t]=n.split(""),r=$_[e],i=Y_[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Db=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],xb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Db,...xb];function Yg(n,e,t,r){const i=pu(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),l=i[s];return o>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function Ay(n){return Yg(n,"spacing",8)}function ud(n,e){return typeof e=="string"||e==null?e:n(e)}function K_(n,e){return t=>n.reduce((r,i)=>(r[i]=ud(e,t),r),{})}function Z_(n,e,t,r){if(!e.includes(t))return null;const i=X_(t),o=K_(i,r),s=n[t];return ta(n,s,o)}function EI(n,e){const t=Ay(n.theme);return Object.keys(n).map(r=>Z_(n,e,r,t)).reduce(op,{})}function wn(n){return EI(n,Db)}wn.propTypes={};wn.filterProps=Db;function Dn(n){return EI(n,xb)}Dn.propTypes={};Dn.filterProps=xb;function kI(n=8,e=Ay({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return t.mui=!0,t}function Oy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?op(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function To(n){return typeof n!="number"?n:`${n}px solid`}function Lo(n,e){return Nn({prop:n,themeKey:"borders",transform:e})}const J_=Lo("border",To),eF=Lo("borderTop",To),tF=Lo("borderRight",To),nF=Lo("borderBottom",To),rF=Lo("borderLeft",To),iF=Lo("borderColor"),oF=Lo("borderTopColor"),aF=Lo("borderRightColor"),sF=Lo("borderBottomColor"),lF=Lo("borderLeftColor"),uF=Lo("outline",To),cF=Lo("outlineColor"),Ey=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Yg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:ud(e,r)});return ta(n,n.borderRadius,t)}return null};Ey.propTypes={};Ey.filterProps=["borderRadius"];Oy(J_,eF,tF,nF,rF,iF,oF,aF,sF,lF,Ey,uF,cF);const ky=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Yg(n.theme,"spacing",8),t=r=>({gap:ud(e,r)});return ta(n,n.gap,t)}return null};ky.propTypes={};ky.filterProps=["gap"];const _y=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Yg(n.theme,"spacing",8),t=r=>({columnGap:ud(e,r)});return ta(n,n.columnGap,t)}return null};_y.propTypes={};_y.filterProps=["columnGap"];const Fy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Yg(n.theme,"spacing",8),t=r=>({rowGap:ud(e,r)});return ta(n,n.rowGap,t)}return null};Fy.propTypes={};Fy.filterProps=["rowGap"];const dF=Nn({prop:"gridColumn"}),hF=Nn({prop:"gridRow"}),fF=Nn({prop:"gridAutoFlow"}),pF=Nn({prop:"gridAutoColumns"}),gF=Nn({prop:"gridAutoRows"}),mF=Nn({prop:"gridTemplateColumns"}),SF=Nn({prop:"gridTemplateRows"}),yF=Nn({prop:"gridTemplateAreas"}),vF=Nn({prop:"gridArea"});Oy(ky,_y,Fy,dF,hF,fF,pF,gF,mF,SF,yF,vF);function a0(n,e){return e==="grey"?e:n}const CF=Nn({prop:"color",themeKey:"palette",transform:a0}),bF=Nn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:a0}),wF=Nn({prop:"backgroundColor",themeKey:"palette",transform:a0});Oy(CF,bF,wF);function Bi(n){return n<=1&&n!==0?`${n*100}%`:n}const DF=Nn({prop:"width",transform:Bi}),Tb=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,s,l,d;const r=((s=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[t])||Ly[t];return r?((d=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Bi(t)}};return ta(n,n.maxWidth,e)}return null};Tb.filterProps=["maxWidth"];const xF=Nn({prop:"minWidth",transform:Bi}),TF=Nn({prop:"height",transform:Bi}),PF=Nn({prop:"maxHeight",transform:Bi}),IF=Nn({prop:"minHeight",transform:Bi});Nn({prop:"size",cssProperty:"width",transform:Bi});Nn({prop:"size",cssProperty:"height",transform:Bi});const RF=Nn({prop:"boxSizing"});Oy(DF,Tb,xF,TF,PF,IF,RF);const Xg={border:{themeKey:"borders",transform:To},borderTop:{themeKey:"borders",transform:To},borderRight:{themeKey:"borders",transform:To},borderBottom:{themeKey:"borders",transform:To},borderLeft:{themeKey:"borders",transform:To},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:To},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ey},color:{themeKey:"palette",transform:a0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:a0},backgroundColor:{themeKey:"palette",transform:a0},p:{style:Dn},pt:{style:Dn},pr:{style:Dn},pb:{style:Dn},pl:{style:Dn},px:{style:Dn},py:{style:Dn},padding:{style:Dn},paddingTop:{style:Dn},paddingRight:{style:Dn},paddingBottom:{style:Dn},paddingLeft:{style:Dn},paddingX:{style:Dn},paddingY:{style:Dn},paddingInline:{style:Dn},paddingInlineStart:{style:Dn},paddingInlineEnd:{style:Dn},paddingBlock:{style:Dn},paddingBlockStart:{style:Dn},paddingBlockEnd:{style:Dn},m:{style:wn},mt:{style:wn},mr:{style:wn},mb:{style:wn},ml:{style:wn},mx:{style:wn},my:{style:wn},margin:{style:wn},marginTop:{style:wn},marginRight:{style:wn},marginBottom:{style:wn},marginLeft:{style:wn},marginX:{style:wn},marginY:{style:wn},marginInline:{style:wn},marginInlineStart:{style:wn},marginInlineEnd:{style:wn},marginBlock:{style:wn},marginBlockStart:{style:wn},marginBlockEnd:{style:wn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ky},rowGap:{style:Fy},columnGap:{style:_y},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Bi},maxWidth:{style:Tb},minWidth:{transform:Bi},height:{transform:Bi},maxHeight:{transform:Bi},minHeight:{transform:Bi},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function LF(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function AF(n,e){return typeof n=="function"?n(e):n}function OF(){function n(t,r,i,o){const s={[t]:r,theme:i},l=o[t];if(!l)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:f,style:m}=l;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const v=pu(i,h)||{};return m?m(s):ta(s,r,S=>{let y=R2(v,f,S);return S===y&&typeof S=="string"&&(y=R2(v,f,`${t}${S==="default"?"":Ge(S)}`,S)),d===!1?y:{[d]:y}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Xg;function s(l){let d=l;if(typeof l=="function")d=l(i);else if(typeof l!="object")return l;if(!d)return null;const h=AI(i.breakpoints),f=Object.keys(h);let m=h;return Object.keys(d).forEach(v=>{const g=AF(d[v],i);if(g!=null)if(typeof g=="object")if(o[v])m=op(m,n(v,g,i,o));else{const S=ta({theme:i},g,y=>({[v]:y}));LF(S,g)?m[v]=e({sx:g,theme:i}):m=op(m,S)}else m=op(m,n(v,g,i,o))}),q_(i,OI(f,m))}return Array.isArray(r)?r.map(s):s(r)}return e}const Cu=OF();Cu.filterProps=["sx"];function EF(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function My(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...s}=n,l=U_(t),d=kI(i);let h=$n({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...Q_,...o}},s);return h=G_(h),h.applyStyles=EF,h=e.reduce((f,m)=>$n(f,m),h),h.unstable_sxConfig={...Xg,...s==null?void 0:s.unstable_sxConfig},h.unstable_sx=function(m){return Cu({sx:m,theme:this})},h}function kF(n){return Object.keys(n).length===0}function Pb(n=null){const e=J.useContext($g);return!e||kF(e)?n:e}const _F=My();function Ny(n=_F){return Pb(n)}function FF({styles:n,themeId:e,defaultTheme:t={}}){const r=Ny(t),i=typeof n=="function"?n(e&&r[e]||r):n;return le.jsx(PI,{styles:i})}const MF=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??Xg;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function Ib(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=MF(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const l=e(...s);return ka(l)?{...r,...l}:r}:o={...r,...e},{...i,sx:o}}const L8=n=>n,NF=()=>{let n=L8;return{configure(e){n=e},generate(e){return n(e)},reset(){n=L8}}},_I=NF();function FI(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=FI(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function et(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=FI(n))&&(r&&(r+=" "),r+=e);return r}function UF(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=II("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(Cu);return J.forwardRef(function(d,h){const f=Ny(t),{className:m,component:v="div",...g}=Ib(d);return le.jsx(o,{as:v,ref:h,className:et(m,i?i(r):r),theme:e&&f[e]||f,...g})})}const qF={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gt(n,e,t="Mui"){const r=qF[e];return r?`${t}-${r}`:`${_I.generate(n)}-${e}`}function mt(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=gt(n,i,t)}),r}function MI(n){const{variants:e,...t}=n,r={variants:e,style:x8(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=x8(i.style))}),r}const BF=My();function Z5(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function VF(n){return n?(e,t)=>t[n]:null}function GF(n,e,t){n.theme=zF(n.theme)?t:n.theme[e]||n.theme}function GS(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>GS(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return NI(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function NI(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!s.props(r))continue}else for(const l in s.props)if(n[l]!==s.props[l]&&((i=n.ownerState)==null?void 0:i[l])!==s.props[l])continue e;typeof s.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(s.style(r))):t.push(s.style)}return t}function UI(n={}){const{themeId:e,defaultTheme:t=BF,rootShouldForwardProp:r=Z5,slotShouldForwardProp:i=Z5}=n;function o(l){GF(l,e,t)}return(l,d={})=>{__(l,P=>P.filter(A=>A!==Cu));const{name:h,slot:f,skipVariantsResolver:m,skipSx:v,overridesResolver:g=VF(jF(f)),...S}=d,y=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,C=v||!1;let x=Z5;f==="Root"||f==="root"?x=r:f?x=i:WF(l)&&(x=void 0);const w=II(l,{shouldForwardProp:x,label:QF(),...S}),b=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(F){return GS(F,P)};if(ka(P)){const A=MI(P);return A.variants?function(E){return GS(E,A)}:A.style}return P},T=(...P)=>{const A=[],F=P.map(b),E=[];if(A.push(o),h&&g&&E.push(function(N){var B,W;const I=(W=(B=N.theme.components)==null?void 0:B[h])==null?void 0:W.styleOverrides;if(!I)return null;const _={};for(const H in I)_[H]=GS(N,I[H]);return g(N,_)}),h&&!y&&E.push(function(N){var _,B;const L=N.theme,I=(B=(_=L==null?void 0:L.components)==null?void 0:_[h])==null?void 0:B.variants;return I?NI(N,I):null}),C||E.push(Cu),Array.isArray(F[0])){const U=F.shift(),N=new Array(A.length).fill(""),L=new Array(E.length).fill("");let I;I=[...N,...U,...L],I.raw=[...N,...U.raw,...L],A.unshift(I)}const k=[...A,...F,...E],R=w(...k);return l.muiName&&(R.muiName=l.muiName),R};return w.withConfig&&(T.withConfig=w.withConfig),T}}function QF(n,e){return void 0}function zF(n){for(const e in n)return!1;return!0}function WF(n){return typeof n=="string"&&n.charCodeAt(0)>96}function jF(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const HF=UI();function Cp(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],s=e[i];if(!s)t[i]=o||{};else if(!o)t[i]=s;else{t[i]={...s};for(const l in o)if(Object.prototype.hasOwnProperty.call(o,l)){const d=l;t[i][d]=Cp(o[d],s[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function qI(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:Cp(e.components[t].defaultProps,r)}function $F({props:n,name:e,defaultTheme:t,themeId:r}){let i=Ny(t);return r&&(i=i[r]||i),qI({theme:i,name:e,props:n})}const Na=typeof window<"u"?J.useLayoutEffect:J.useEffect;function YF(n,e,t,r,i){const[o,s]=J.useState(()=>i&&t?t(n).matches:r?r(n).matches:e);return Na(()=>{if(!t)return;const l=t(n),d=()=>{s(l.matches)};return d(),l.addEventListener("change",d),()=>{l.removeEventListener("change",d)}},[n,t]),o}const XF={...P2},BI=XF.useSyncExternalStore;function KF(n,e,t,r,i){const o=J.useCallback(()=>e,[e]),s=J.useMemo(()=>{if(i&&t)return()=>t(n).matches;if(r!==null){const{matches:f}=r(n);return()=>f}return o},[o,n,r,i,t]),[l,d]=J.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const f=t(n);return[()=>f.matches,m=>(f.addEventListener("change",m),()=>{f.removeEventListener("change",m)})]},[o,t,n]);return BI(d,l,s)}function VI(n={}){const{themeId:e}=n;return function(r,i={}){let o=Pb();o&&e&&(o=o[e]||o);const s=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:d=s?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=qI({name:"MuiUseMediaQuery",props:i,theme:o});let m=typeof r=="function"?r(o):r;return m=m.replace(/^@media( ?)/m,""),(BI!==void 0?KF:YF)(m,l,d,h,f)}}VI();function Xd(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Rb(n,e=0,t=1){return Xd(n,e,t)}function ZF(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bu(n){if(n.type)return n;if(n.charAt(0)==="#")return bu(ZF(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ws(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Ws(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const JF=n=>{const e=bu(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},j1=(n,e)=>{try{return JF(n)}catch{return n}};function Uy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function GI(n){n=bu(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(h,f=(h+t/30)%12)=>i-o*Math.max(Math.min(f-3,9-f,1),-1);let l="rgb";const d=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return n.type==="hsla"&&(l+="a",d.push(e[3])),Uy({type:l,values:d})}function JC(n){n=bu(n);let e=n.type==="hsl"||n.type==="hsla"?bu(GI(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function eM(n,e){const t=JC(n),r=JC(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function In(n,e){return n=bu(n),e=Rb(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Uy(n)}function uS(n,e,t){try{return In(n,e)}catch{return n}}function cd(n,e){if(n=bu(n),e=Rb(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Uy(n)}function Wt(n,e,t){try{return cd(n,e)}catch{return n}}function dd(n,e){if(n=bu(n),e=Rb(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Uy(n)}function jt(n,e,t){try{return dd(n,e)}catch{return n}}function tM(n,e=.15){return JC(n)>.5?cd(n,e):dd(n,e)}function cS(n,e,t){try{return tM(n,e)}catch{return n}}function A8(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function Lb(n,e=166){let t;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function J5(n,e){var t,r,i;return J.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Gr(n){return n&&n.ownerDocument||document}function na(n){return Gr(n).defaultView||window}function O8(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let E8=0;function nM(n){const[e,t]=J.useState(n),r=n||e;return J.useEffect(()=>{e==null&&(E8+=1,t(`mui-${E8}`))},[e]),r}const rM={...P2},k8=rM.useId;function qy(n){if(k8!==void 0){const e=k8();return n??e}return nM(n)}function e4({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=J.useRef(n!==void 0),[o,s]=J.useState(e),l=i?n:o,d=J.useCallback(h=>{i||s(h)},[]);return[l,d]}function Ma(n){const e=J.useRef(n);return Na(()=>{e.current=n}),J.useRef((...t)=>(0,e.current)(...t)).current}function Ar(...n){const e=J.useRef(void 0),t=J.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const s=o,l=s(r);return typeof l=="function"?l:()=>{s(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return J.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const _8={};function QI(n,e){const t=J.useRef(_8);return t.current===_8&&(t.current=n(e)),t}const iM=[];function oM(n){J.useEffect(n,iM)}class Ab{constructor(){ae(this,"currentId",null);ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ae(this,"disposeEffect",()=>this.clear)}static create(){return new Ab}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function zI(){const n=QI(Ab.create).current;return oM(n.disposeEffect),n}function Kh(n){try{return n.matches(":focus-visible")}catch{}return!1}function WI(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function aM(n){return J.Children.toArray(n).filter(e=>J.isValidElement(e))}const sM={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function St(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let s="",l=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(s+=(l===!0?"":" ")+e(h),l=!1,t&&t[h]&&(s+=" "+t[h]))}r[i]=s}return r}function lM(n){return typeof n=="string"}function jI(n,e,t){return n===void 0||lM(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function ap(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function F8(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function HI(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const g=et(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),S={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...t,...i,...r};return g.length>0&&(y.className=g),Object.keys(S).length>0&&(y.style=S),{props:y,internalRef:void 0}}const s=ap({...i,...r}),l=F8(r),d=F8(i),h=e(s),f=et(h==null?void 0:h.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...h==null?void 0:h.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...h,...t,...d,...l};return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:h.ref}}function $I(n,e,t){return typeof n=="function"?n(e,t):n}function ns(n){var m;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...o}=n,s=i?{}:$I(t,r),{props:l,internalRef:d}=HI({...o,externalSlotProps:s}),h=Ar(d,s==null?void 0:s.ref,(m=n.additionalProps)==null?void 0:m.ref);return jI(e,{...l,ref:h},r)}function lf(n){var e;return parseInt(J.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const YI=J.createContext(null);function By(){return J.useContext(YI)}const uM=typeof Symbol=="function"&&Symbol.for,XI=uM?Symbol.for("mui.nested"):"__THEME_NESTED__";function cM(n,e){return typeof e=="function"?e(n):{...n,...e}}function dM(n){const{children:e,theme:t}=n,r=By(),i=J.useMemo(()=>{const o=r===null?{...t}:cM(r,t);return o!=null&&(o[XI]=r!==null),o},[t,r]);return le.jsx(YI.Provider,{value:i,children:e})}const KI=J.createContext();function hM({value:n,...e}){return le.jsx(KI.Provider,{value:n??!0,...e})}const Ob=()=>J.useContext(KI)??!1,ZI=J.createContext(void 0);function fM({value:n,children:e}){return le.jsx(ZI.Provider,{value:n,children:e})}function pM(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?Cp(i.defaultProps,r):!i.styleOverrides&&!i.variants?Cp(i,r):r}function gM({props:n,name:e}){const t=J.useContext(ZI);return pM({props:n,name:e,theme:{components:t}})}const M8={};function N8(n,e,t,r=!1){return J.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const o=t(i),s=n?{...e,[n]:o}:o;return r?()=>s:s}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,r])}function JI(n){const{children:e,theme:t,themeId:r}=n,i=Pb(M8),o=By()||M8,s=N8(r,i,t),l=N8(r,o,t,!0),d=(r?s[r]:s).direction==="rtl";return le.jsx(dM,{theme:l,children:le.jsx($g.Provider,{value:s,children:le.jsx(hM,{value:d,children:le.jsx(fM,{value:r?s[r].components:s.components,children:e})})})})}const U8={theme:void 0};function mM(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(U8.theme=i.theme,o=MI(n(U8)),e=o,t=i.theme),o}}const Eb="mode",kb="color-scheme",SM="data-color-scheme";function yM(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=Eb,colorSchemeStorageKey:o=kb,attribute:s=SM,colorSchemeNode:l="document.documentElement",nonce:d}=n||{};let h="",f=s;if(s==="class"&&(f=".%s"),s==="data"&&(f="[data-%s]"),f.startsWith(".")){const v=f.substring(1);h+=`${l}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${l}.classList.add('${v}'.replace('%s', colorScheme));`}const m=f.match(/\[([^\]]+)\]/);if(m){const[v,g]=m[1].split("=");g||(h+=`${l}.removeAttribute('${v}'.replace('%s', light));
      ${l}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${l}.setAttribute('${v}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else h+=`${l}.setAttribute('${f}', colorScheme);`;return le.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function vM(){}const CM=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let r;try{r=e.localStorage.getItem(n)}catch{}return r||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return vM;const r=i=>{const o=i.newValue;i.key===n&&t(o)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function eC(){}function q8(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function eR(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function bM(n){return eR(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function wM(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=Eb,colorSchemeStorageKey:s=kb,storageWindow:l=typeof window>"u"?void 0:window,storageManager:d=CM,noSsr:h=!1}=n,f=i.join(","),m=i.length>1,v=J.useMemo(()=>d==null?void 0:d({key:o,storageWindow:l}),[d,o,l]),g=J.useMemo(()=>d==null?void 0:d({key:`${s}-light`,storageWindow:l}),[d,s,l]),S=J.useMemo(()=>d==null?void 0:d({key:`${s}-dark`,storageWindow:l}),[d,s,l]),[y,C]=J.useState(()=>{const E=(v==null?void 0:v.get(e))||e,k=(g==null?void 0:g.get(t))||t,R=(S==null?void 0:S.get(r))||r;return{mode:E,systemMode:q8(E),lightColorScheme:k,darkColorScheme:R}}),[x,w]=J.useState(h||!m);J.useEffect(()=>{w(!0)},[]);const b=bM(y),T=J.useCallback(E=>{C(k=>{if(E===k.mode)return k;const R=E??e;return v==null||v.set(R),{...k,mode:R,systemMode:q8(R)}})},[v,e]),P=J.useCallback(E=>{E?typeof E=="string"?E&&!f.includes(E)?console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`):C(k=>{const R={...k};return eR(k,U=>{U==="light"&&(g==null||g.set(E),R.lightColorScheme=E),U==="dark"&&(S==null||S.set(E),R.darkColorScheme=E)}),R}):C(k=>{const R={...k},U=E.light===null?t:E.light,N=E.dark===null?r:E.dark;return U&&(f.includes(U)?(R.lightColorScheme=U,g==null||g.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),N&&(f.includes(N)?(R.darkColorScheme=N,S==null||S.set(N)):console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`)),R}):C(k=>(g==null||g.set(t),S==null||S.set(r),{...k,lightColorScheme:t,darkColorScheme:r}))},[f,g,S,t,r]),A=J.useCallback(E=>{y.mode==="system"&&C(k=>{const R=E!=null&&E.matches?"dark":"light";return k.systemMode===R?k:{...k,systemMode:R}})},[y.mode]),F=J.useRef(A);return F.current=A,J.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const E=(...R)=>F.current(...R),k=window.matchMedia("(prefers-color-scheme: dark)");return k.addListener(E),E(k),()=>{k.removeListener(E)}},[m]),J.useEffect(()=>{if(m){const E=(v==null?void 0:v.subscribe(U=>{(!U||["light","dark","system"].includes(U))&&T(U||e)}))||eC,k=(g==null?void 0:g.subscribe(U=>{(!U||f.match(U))&&P({light:U})}))||eC,R=(S==null?void 0:S.subscribe(U=>{(!U||f.match(U))&&P({dark:U})}))||eC;return()=>{E(),k(),R()}}},[P,T,f,e,l,m,v,g,S]),{...y,mode:x?y.mode:void 0,systemMode:x?y.systemMode:void 0,colorScheme:x?b:void 0,setMode:T,setColorScheme:P}}const DM="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function xM(n){const{themeId:e,theme:t={},modeStorageKey:r=Eb,colorSchemeStorageKey:i=kb,disableTransitionOnChange:o=!1,defaultColorScheme:s,resolveTheme:l}=n,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=J.createContext(void 0),f=()=>J.useContext(h)||d,m={},v={};function g(x){var ke,he,be,Ne;const{children:w,theme:b,modeStorageKey:T=r,colorSchemeStorageKey:P=i,disableTransitionOnChange:A=o,storageManager:F,storageWindow:E=typeof window>"u"?void 0:window,documentNode:k=typeof document>"u"?void 0:document,colorSchemeNode:R=typeof document>"u"?void 0:document.documentElement,disableNestedContext:U=!1,disableStyleSheetGeneration:N=!1,defaultMode:L="system",noSsr:I}=x,_=J.useRef(!1),B=By(),W=J.useContext(h),H=!!W&&!U,j=J.useMemo(()=>b||(typeof t=="function"?t():t),[b]),X=j[e],V=X||j,{colorSchemes:$=m,components:ne=v,cssVarPrefix:ie}=V,te=Object.keys($).filter(Ee=>!!$[Ee]).join(","),pe=J.useMemo(()=>te.split(","),[te]),ee=typeof s=="string"?s:s.light,oe=typeof s=="string"?s:s.dark,de=$[ee]&&$[oe]?L:((he=(ke=$[V.defaultColorScheme])==null?void 0:ke.palette)==null?void 0:he.mode)||((be=V.palette)==null?void 0:be.mode),{mode:me,setMode:we,systemMode:Te,lightColorScheme:qe,darkColorScheme:q,colorScheme:ge,setColorScheme:Se}=wM({supportedColorSchemes:pe,defaultLightColorScheme:ee,defaultDarkColorScheme:oe,modeStorageKey:T,colorSchemeStorageKey:P,defaultMode:de,storageManager:F,storageWindow:E,noSsr:I});let Z=me,K=ge;H&&(Z=W.mode,K=W.colorScheme);const ce=J.useMemo(()=>{var Qe;const Ee=K||V.defaultColorScheme,We=((Qe=V.generateThemeVars)==null?void 0:Qe.call(V))||V.vars,Be={...V,components:ne,colorSchemes:$,cssVarPrefix:ie,vars:We};if(typeof Be.generateSpacing=="function"&&(Be.spacing=Be.generateSpacing()),Ee){const nt=$[Ee];nt&&typeof nt=="object"&&Object.keys(nt).forEach(je=>{nt[je]&&typeof nt[je]=="object"?Be[je]={...Be[je],...nt[je]}:Be[je]=nt[je]})}return l?l(Be):Be},[V,K,ne,$,ie]),Ce=V.colorSchemeSelector;Na(()=>{if(K&&R&&Ce&&Ce!=="media"){const Ee=Ce;let We=Ce;if(Ee==="class"&&(We=".%s"),Ee==="data"&&(We="[data-%s]"),Ee!=null&&Ee.startsWith("data-")&&!Ee.includes("%s")&&(We=`[${Ee}="%s"]`),We.startsWith("."))R.classList.remove(...pe.map(Be=>We.substring(1).replace("%s",Be))),R.classList.add(We.substring(1).replace("%s",K));else{const Be=We.replace("%s",K).match(/\[([^\]]+)\]/);if(Be){const[Qe,nt]=Be[1].split("=");nt||pe.forEach(je=>{R.removeAttribute(Qe.replace(K,je))}),R.setAttribute(Qe,nt?nt.replace(/"|'/g,""):"")}else R.setAttribute(We,K)}}},[K,Ce,R,pe]),J.useEffect(()=>{let Ee;if(A&&_.current&&k){const We=k.createElement("style");We.appendChild(k.createTextNode(DM)),k.head.appendChild(We),window.getComputedStyle(k.body),Ee=setTimeout(()=>{k.head.removeChild(We)},1)}return()=>{clearTimeout(Ee)}},[K,A,k]),J.useEffect(()=>(_.current=!0,()=>{_.current=!1}),[]);const xe=J.useMemo(()=>({allColorSchemes:pe,colorScheme:K,darkColorScheme:q,lightColorScheme:qe,mode:Z,setColorScheme:Se,setMode:we,systemMode:Te}),[pe,K,q,qe,Z,Se,we,Te,ce.colorSchemeSelector]);let se=!0;(N||V.cssVariables===!1||H&&(B==null?void 0:B.cssVarPrefix)===ie)&&(se=!1);const Ae=le.jsxs(J.Fragment,{children:[le.jsx(JI,{themeId:X?e:void 0,theme:ce,children:w}),se&&le.jsx(PI,{styles:((Ne=ce.generateStyleSheets)==null?void 0:Ne.call(ce))||[]})]});return H?Ae:le.jsx(h.Provider,{value:xe,children:Ae})}const S=typeof s=="string"?s:s.light,y=typeof s=="string"?s:s.dark;return{CssVarsProvider:g,useColorScheme:f,getInitColorSchemeScript:x=>yM({colorSchemeStorageKey:i,defaultLightColorScheme:S,defaultDarkColorScheme:y,modeStorageKey:r,...x})}}function TM(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const B8=(n,e,t,r=[])=>{let i=n;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},PM=(n,e,t)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([l,d])=>{(!t||t&&!t([...o,l]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,l],Array.isArray(d)?[...s,l]:s):e([...o,l],d,s))})}r(n)},IM=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function tC(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return PM(n,(l,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(l,d))){const f=`--${t?`${t}-`:""}${l.join("-")}`,m=IM(l,d);Object.assign(i,{[f]:m}),B8(o,l,`var(${f})`,h),B8(s,l,`var(${f}, ${m})`,h)}},l=>l[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function RM(n,e={}){const{getSelector:t=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:l="light",...d}=n,{vars:h,css:f,varsWithDefaults:m}=tC(d,e);let v=m;const g={},{[l]:S,...y}=o;if(Object.entries(y||{}).forEach(([b,T])=>{const{vars:P,css:A,varsWithDefaults:F}=tC(T,e);v=$n(v,F),g[b]={css:A,vars:P}}),S){const{css:b,vars:T,varsWithDefaults:P}=tC(S,e);v=$n(v,P),g[l]={css:b,vars:T}}function C(b,T){var A,F;let P=i;if(i==="class"&&(P=".%s"),i==="data"&&(P="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(P=`[${i}="%s"]`),b){if(P==="media")return n.defaultColorScheme===b?":root":{[`@media (prefers-color-scheme: ${((F=(A=o[b])==null?void 0:A.palette)==null?void 0:F.mode)||b})`]:{":root":T}};if(P)return n.defaultColorScheme===b?`:root, ${P.replace("%s",String(b))}`:P.replace("%s",String(b))}return":root"}return{vars:v,generateThemeVars:()=>{let b={...h};return Object.entries(g).forEach(([,{vars:T}])=>{b=$n(b,T)}),b},generateStyleSheets:()=>{var E,k;const b=[],T=n.defaultColorScheme||"light";function P(R,U){Object.keys(U).length&&b.push(typeof R=="string"?{[R]:{...U}}:R)}P(t(void 0,{...f}),f);const{[T]:A,...F}=g;if(A){const{css:R}=A,U=(k=(E=o[T])==null?void 0:E.palette)==null?void 0:k.mode,N=!r&&U?{colorScheme:U,...R}:{...R};P(t(T,{...N}),N)}return Object.entries(F).forEach(([R,{css:U}])=>{var I,_;const N=(_=(I=o[R])==null?void 0:I.palette)==null?void 0:_.mode,L=!r&&N?{colorScheme:N,...U}:{...U};P(t(R,{...L}),L)}),b}}}function LM(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const AM=My(),OM=HF("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function EM(n){return $F({props:n,name:"MuiStack",defaultTheme:AM})}function kM(n,e){const t=J.Children.toArray(n).filter(Boolean);return t.reduce((r,i,o)=>(r.push(i),o<t.length-1&&r.push(J.cloneElement(e,{key:`separator-${o}`})),r),[])}const _M=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],FM=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...ta({theme:e},K5({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(n.spacing){const r=Ay(e),i=Object.keys(e.breakpoints.values).reduce((d,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(d[h]=!0),d),{}),o=K5({values:n.direction,base:i}),s=K5({values:n.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((d,h,f)=>{if(!o[d]){const v=h>0?o[f[h-1]]:"column";o[d]=v}}),t=$n(t,ta({theme:e},s,(d,h)=>n.useFlexGap?{gap:ud(r,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${_M(h?o[h]:n.direction)}`]:ud(r,d)}}))}return t=W_(e.breakpoints,t),t};function MM(n={}){const{createStyledComponent:e=OM,useThemeProps:t=EM,componentName:r="MuiStack"}=n,i=()=>St({root:["root"]},d=>gt(r,d),{}),o=e(FM);return J.forwardRef(function(d,h){const f=t(d),m=Ib(f),{component:v="div",direction:g="column",spacing:S=0,divider:y,children:C,className:x,useFlexGap:w=!1,...b}=m,T={direction:g,spacing:S,useFlexGap:w},P=i();return le.jsx(o,{as:v,ownerState:T,ref:h,className:et(P.root,x),...b,children:y?kM(C,y):C})})}function tR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:mp.white,default:mp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const NM=tR();function nR(){return{text:{primary:mp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:mp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const V8=nR();function G8(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=dd(n.main,i):e==="dark"&&(n.dark=cd(n.main,o)))}function UM(n="light"){return n==="dark"?{main:Gd[200],light:Gd[50],dark:Gd[400]}:{main:Gd[700],light:Gd[400],dark:Gd[800]}}function qM(n="light"){return n==="dark"?{main:Vd[200],light:Vd[50],dark:Vd[400]}:{main:Vd[500],light:Vd[300],dark:Vd[700]}}function BM(n="light"){return n==="dark"?{main:Bd[500],light:Bd[300],dark:Bd[700]}:{main:Bd[700],light:Bd[400],dark:Bd[800]}}function VM(n="light"){return n==="dark"?{main:Qd[400],light:Qd[300],dark:Qd[700]}:{main:Qd[700],light:Qd[500],dark:Qd[900]}}function GM(n="light"){return n==="dark"?{main:zd[400],light:zd[300],dark:zd[700]}:{main:zd[800],light:zd[500],dark:zd[900]}}function QM(n="light"){return n==="dark"?{main:Yf[400],light:Yf[300],dark:Yf[700]}:{main:"#ed6c02",light:Yf[500],dark:Yf[900]}}function _b(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||UM(e),s=n.secondary||qM(e),l=n.error||BM(e),d=n.info||VM(e),h=n.success||GM(e),f=n.warning||QM(e);function m(y){return eM(y,V8.text.primary)>=t?V8.text.primary:NM.text.primary}const v=({color:y,name:C,mainShade:x=500,lightShade:w=300,darkShade:b=700})=>{if(y={...y},!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(Ws(11,C?` (${C})`:"",x));if(typeof y.main!="string")throw new Error(Ws(12,C?` (${C})`:"",JSON.stringify(y.main)));return G8(y,"light",w,r),G8(y,"dark",b,r),y.contrastText||(y.contrastText=m(y.main)),y};let g;return e==="light"?g=tR():e==="dark"&&(g=nR()),$n({common:{...mp},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:f,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:h,name:"success"}),grey:Lk,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:r,...g},i)}function zM(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function WM(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function jM(n){return Math.round(n*1e5)/1e5}const Q8={textTransform:"uppercase"},z8='"Roboto", "Helvetica", "Arial", sans-serif';function rR(n,e){const{fontFamily:t=z8,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:d=16,allVariants:h,pxToRem:f,...m}=typeof e=="function"?e(n):e,v=r/14,g=f||(C=>`${C/d*v}rem`),S=(C,x,w,b,T)=>({fontFamily:t,fontWeight:C,fontSize:g(x),lineHeight:w,...t===z8?{letterSpacing:`${jM(b/x)}em`}:{},...T,...h}),y={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(s,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(s,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(s,14,1.75,.4,Q8),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,Q8),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $n({htmlFontSize:d,pxToRem:g,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:l,...y},m,{clone:!1})}const HM=.2,$M=.14,YM=.12;function ln(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${HM})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${$M})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${YM})`].join(",")}const XM=["none",ln(0,2,1,-1,0,1,1,0,0,1,3,0),ln(0,3,1,-2,0,2,2,0,0,1,5,0),ln(0,3,3,-2,0,3,4,0,0,1,8,0),ln(0,2,4,-1,0,4,5,0,0,1,10,0),ln(0,3,5,-1,0,5,8,0,0,1,14,0),ln(0,3,5,-1,0,6,10,0,0,1,18,0),ln(0,4,5,-2,0,7,10,1,0,2,16,1),ln(0,5,5,-3,0,8,10,1,0,3,14,2),ln(0,5,6,-3,0,9,12,1,0,3,16,2),ln(0,6,6,-3,0,10,14,1,0,4,18,3),ln(0,6,7,-4,0,11,15,1,0,4,20,3),ln(0,7,8,-4,0,12,17,2,0,5,22,4),ln(0,7,8,-4,0,13,19,2,0,5,24,4),ln(0,7,9,-4,0,14,21,2,0,5,26,4),ln(0,8,9,-5,0,15,22,2,0,6,28,5),ln(0,8,10,-5,0,16,24,2,0,6,30,5),ln(0,8,11,-5,0,17,26,2,0,6,32,5),ln(0,9,11,-5,0,18,28,2,0,7,34,6),ln(0,9,12,-6,0,19,29,2,0,7,36,6),ln(0,10,13,-6,0,20,31,3,0,8,38,7),ln(0,10,13,-6,0,21,33,3,0,8,40,7),ln(0,10,14,-6,0,22,35,3,0,8,42,7),ln(0,11,14,-7,0,23,36,3,0,9,44,8),ln(0,11,15,-7,0,24,38,3,0,9,46,8)],KM={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ZM={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function W8(n){return`${Math.round(n)}ms`}function JM(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function eN(n){const e={...KM,...n.easing},t={...ZM,...n.duration};return{getAutoHeightDuration:JM,create:(i=["all"],o={})=>{const{duration:s=t.standard,easing:l=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof s=="string"?s:W8(s)} ${l} ${typeof d=="string"?d:W8(d)}`).join(",")},...n,easing:e,duration:t}}const tN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function nN(n){return ka(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function iR(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[s,l]=i[o];!nN(l)||s.startsWith("unstable_")?delete r[s]:ka(l)&&(r[s]={...l},t(r[s]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function t4(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:s={},typography:l={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ws(20));const f=_b(o),m=My(n);let v=$n(m,{mixins:WM(m.breakpoints,r),palette:f,shadows:XM.slice(),typography:rR(f,l),transitions:eN(s),zIndex:{...tN}});return v=$n(v,h),v=e.reduce((g,S)=>$n(g,S),v),v.unstable_sxConfig={...Xg,...h==null?void 0:h.unstable_sxConfig},v.unstable_sx=function(S){return Cu({sx:S,theme:this})},v.toRuntimeSource=iR,v}function n4(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const rN=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=n4(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function oR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function aR(n){return n==="dark"?rN:[]}function iN(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=_b(e);return{palette:o,opacity:{...oR(o.mode),...t},overlays:r||aR(o.mode),...i}}function oN(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const aN=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],sN=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const s={};return aN(n.cssVarPrefix).forEach(l=>{s[l]=t[l],delete t[l]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:s}}:o?{[o.replace("%s",e)]:s,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...s}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function lN(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ie(n,e,t){!n[e]&&t&&(n[e]=t)}function H1(n){return typeof n!="string"||!n.startsWith("hsl")?n:GI(n)}function Ya(n,e){`${e}Channel`in n||(n[`${e}Channel`]=j1(H1(n[e])))}function uN(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const ca=n=>{try{return n()}catch{}},cN=(n="mui")=>TM(n);function nC(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=iN({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=t4({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...oR(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||aR(i)},s}function dN(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=oN,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,f=Object.keys(t)[0],m=r||(t.light&&f!=="light"?"light":f),v=cN(o),{[m]:g,light:S,dark:y,...C}=t,x={...C};let w=g;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(w=!0),!w)throw new Error(Ws(21,m));const b=nC(x,w,h,m);S&&!x.light&&nC(x,S,void 0,"light"),y&&!x.dark&&nC(x,y,void 0,"dark");let T={defaultColorScheme:m,...b,cssVarPrefix:o,colorSchemeSelector:l,rootSelector:d,getCssVar:v,colorSchemes:x,font:{...zM(b.typography),...b.font},spacing:uN(h.spacing)};Object.keys(T.colorSchemes).forEach(k=>{const R=T.colorSchemes[k].palette,U=N=>{const L=N.split("-"),I=L[1],_=L[2];return v(N,R[I][_])};if(R.mode==="light"&&(Ie(R.common,"background","#fff"),Ie(R.common,"onBackground","#000")),R.mode==="dark"&&(Ie(R.common,"background","#000"),Ie(R.common,"onBackground","#fff")),lN(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){Ie(R.Alert,"errorColor",Wt(R.error.light,.6)),Ie(R.Alert,"infoColor",Wt(R.info.light,.6)),Ie(R.Alert,"successColor",Wt(R.success.light,.6)),Ie(R.Alert,"warningColor",Wt(R.warning.light,.6)),Ie(R.Alert,"errorFilledBg",U("palette-error-main")),Ie(R.Alert,"infoFilledBg",U("palette-info-main")),Ie(R.Alert,"successFilledBg",U("palette-success-main")),Ie(R.Alert,"warningFilledBg",U("palette-warning-main")),Ie(R.Alert,"errorFilledColor",ca(()=>R.getContrastText(R.error.main))),Ie(R.Alert,"infoFilledColor",ca(()=>R.getContrastText(R.info.main))),Ie(R.Alert,"successFilledColor",ca(()=>R.getContrastText(R.success.main))),Ie(R.Alert,"warningFilledColor",ca(()=>R.getContrastText(R.warning.main))),Ie(R.Alert,"errorStandardBg",jt(R.error.light,.9)),Ie(R.Alert,"infoStandardBg",jt(R.info.light,.9)),Ie(R.Alert,"successStandardBg",jt(R.success.light,.9)),Ie(R.Alert,"warningStandardBg",jt(R.warning.light,.9)),Ie(R.Alert,"errorIconColor",U("palette-error-main")),Ie(R.Alert,"infoIconColor",U("palette-info-main")),Ie(R.Alert,"successIconColor",U("palette-success-main")),Ie(R.Alert,"warningIconColor",U("palette-warning-main")),Ie(R.AppBar,"defaultBg",U("palette-grey-100")),Ie(R.Avatar,"defaultBg",U("palette-grey-400")),Ie(R.Button,"inheritContainedBg",U("palette-grey-300")),Ie(R.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Ie(R.Chip,"defaultBorder",U("palette-grey-400")),Ie(R.Chip,"defaultAvatarColor",U("palette-grey-700")),Ie(R.Chip,"defaultIconColor",U("palette-grey-700")),Ie(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ie(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ie(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ie(R.LinearProgress,"primaryBg",jt(R.primary.main,.62)),Ie(R.LinearProgress,"secondaryBg",jt(R.secondary.main,.62)),Ie(R.LinearProgress,"errorBg",jt(R.error.main,.62)),Ie(R.LinearProgress,"infoBg",jt(R.info.main,.62)),Ie(R.LinearProgress,"successBg",jt(R.success.main,.62)),Ie(R.LinearProgress,"warningBg",jt(R.warning.main,.62)),Ie(R.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Ie(R.Slider,"primaryTrack",jt(R.primary.main,.62)),Ie(R.Slider,"secondaryTrack",jt(R.secondary.main,.62)),Ie(R.Slider,"errorTrack",jt(R.error.main,.62)),Ie(R.Slider,"infoTrack",jt(R.info.main,.62)),Ie(R.Slider,"successTrack",jt(R.success.main,.62)),Ie(R.Slider,"warningTrack",jt(R.warning.main,.62));const N=cS(R.background.default,.8);Ie(R.SnackbarContent,"bg",N),Ie(R.SnackbarContent,"color",ca(()=>R.getContrastText(N))),Ie(R.SpeedDialAction,"fabHoverBg",cS(R.background.paper,.15)),Ie(R.StepConnector,"border",U("palette-grey-400")),Ie(R.StepContent,"border",U("palette-grey-400")),Ie(R.Switch,"defaultColor",U("palette-common-white")),Ie(R.Switch,"defaultDisabledColor",U("palette-grey-100")),Ie(R.Switch,"primaryDisabledColor",jt(R.primary.main,.62)),Ie(R.Switch,"secondaryDisabledColor",jt(R.secondary.main,.62)),Ie(R.Switch,"errorDisabledColor",jt(R.error.main,.62)),Ie(R.Switch,"infoDisabledColor",jt(R.info.main,.62)),Ie(R.Switch,"successDisabledColor",jt(R.success.main,.62)),Ie(R.Switch,"warningDisabledColor",jt(R.warning.main,.62)),Ie(R.TableCell,"border",jt(uS(R.divider,1),.88)),Ie(R.Tooltip,"bg",uS(R.grey[700],.92))}if(R.mode==="dark"){Ie(R.Alert,"errorColor",jt(R.error.light,.6)),Ie(R.Alert,"infoColor",jt(R.info.light,.6)),Ie(R.Alert,"successColor",jt(R.success.light,.6)),Ie(R.Alert,"warningColor",jt(R.warning.light,.6)),Ie(R.Alert,"errorFilledBg",U("palette-error-dark")),Ie(R.Alert,"infoFilledBg",U("palette-info-dark")),Ie(R.Alert,"successFilledBg",U("palette-success-dark")),Ie(R.Alert,"warningFilledBg",U("palette-warning-dark")),Ie(R.Alert,"errorFilledColor",ca(()=>R.getContrastText(R.error.dark))),Ie(R.Alert,"infoFilledColor",ca(()=>R.getContrastText(R.info.dark))),Ie(R.Alert,"successFilledColor",ca(()=>R.getContrastText(R.success.dark))),Ie(R.Alert,"warningFilledColor",ca(()=>R.getContrastText(R.warning.dark))),Ie(R.Alert,"errorStandardBg",Wt(R.error.light,.9)),Ie(R.Alert,"infoStandardBg",Wt(R.info.light,.9)),Ie(R.Alert,"successStandardBg",Wt(R.success.light,.9)),Ie(R.Alert,"warningStandardBg",Wt(R.warning.light,.9)),Ie(R.Alert,"errorIconColor",U("palette-error-main")),Ie(R.Alert,"infoIconColor",U("palette-info-main")),Ie(R.Alert,"successIconColor",U("palette-success-main")),Ie(R.Alert,"warningIconColor",U("palette-warning-main")),Ie(R.AppBar,"defaultBg",U("palette-grey-900")),Ie(R.AppBar,"darkBg",U("palette-background-paper")),Ie(R.AppBar,"darkColor",U("palette-text-primary")),Ie(R.Avatar,"defaultBg",U("palette-grey-600")),Ie(R.Button,"inheritContainedBg",U("palette-grey-800")),Ie(R.Button,"inheritContainedHoverBg",U("palette-grey-700")),Ie(R.Chip,"defaultBorder",U("palette-grey-700")),Ie(R.Chip,"defaultAvatarColor",U("palette-grey-300")),Ie(R.Chip,"defaultIconColor",U("palette-grey-300")),Ie(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ie(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ie(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ie(R.LinearProgress,"primaryBg",Wt(R.primary.main,.5)),Ie(R.LinearProgress,"secondaryBg",Wt(R.secondary.main,.5)),Ie(R.LinearProgress,"errorBg",Wt(R.error.main,.5)),Ie(R.LinearProgress,"infoBg",Wt(R.info.main,.5)),Ie(R.LinearProgress,"successBg",Wt(R.success.main,.5)),Ie(R.LinearProgress,"warningBg",Wt(R.warning.main,.5)),Ie(R.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Ie(R.Slider,"primaryTrack",Wt(R.primary.main,.5)),Ie(R.Slider,"secondaryTrack",Wt(R.secondary.main,.5)),Ie(R.Slider,"errorTrack",Wt(R.error.main,.5)),Ie(R.Slider,"infoTrack",Wt(R.info.main,.5)),Ie(R.Slider,"successTrack",Wt(R.success.main,.5)),Ie(R.Slider,"warningTrack",Wt(R.warning.main,.5));const N=cS(R.background.default,.98);Ie(R.SnackbarContent,"bg",N),Ie(R.SnackbarContent,"color",ca(()=>R.getContrastText(N))),Ie(R.SpeedDialAction,"fabHoverBg",cS(R.background.paper,.15)),Ie(R.StepConnector,"border",U("palette-grey-600")),Ie(R.StepContent,"border",U("palette-grey-600")),Ie(R.Switch,"defaultColor",U("palette-grey-300")),Ie(R.Switch,"defaultDisabledColor",U("palette-grey-600")),Ie(R.Switch,"primaryDisabledColor",Wt(R.primary.main,.55)),Ie(R.Switch,"secondaryDisabledColor",Wt(R.secondary.main,.55)),Ie(R.Switch,"errorDisabledColor",Wt(R.error.main,.55)),Ie(R.Switch,"infoDisabledColor",Wt(R.info.main,.55)),Ie(R.Switch,"successDisabledColor",Wt(R.success.main,.55)),Ie(R.Switch,"warningDisabledColor",Wt(R.warning.main,.55)),Ie(R.TableCell,"border",Wt(uS(R.divider,1),.68)),Ie(R.Tooltip,"bg",uS(R.grey[700],.92))}Ya(R.background,"default"),Ya(R.background,"paper"),Ya(R.common,"background"),Ya(R.common,"onBackground"),Ya(R,"divider"),Object.keys(R).forEach(N=>{const L=R[N];N!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&Ie(R[N],"mainChannel",j1(H1(L.main))),L.light&&Ie(R[N],"lightChannel",j1(H1(L.light))),L.dark&&Ie(R[N],"darkChannel",j1(H1(L.dark))),L.contrastText&&Ie(R[N],"contrastTextChannel",j1(H1(L.contrastText))),N==="text"&&(Ya(R[N],"primary"),Ya(R[N],"secondary")),N==="action"&&(L.active&&Ya(R[N],"active"),L.selected&&Ya(R[N],"selected")))})}),T=e.reduce((k,R)=>$n(k,R),T);const P={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:sN(T)},{vars:A,generateThemeVars:F,generateStyleSheets:E}=RM(T,P);return T.vars=A,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([k,R])=>{T[k]=R}),T.generateThemeVars=F,T.generateStyleSheets=E,T.generateSpacing=function(){return kI(h.spacing,Ay(this))},T.getColorSchemeSelector=LM(l),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=s,T.unstable_sxConfig={...Xg,...h==null?void 0:h.unstable_sxConfig},T.unstable_sx=function(R){return Cu({sx:R,theme:this})},T.toRuntimeSource=iR,T}function j8(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:_b({...t===!0?{}:t.palette,mode:e})})}function Vy(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...s}=n,l=o||"light",d=i==null?void 0:i[l],h={...i,...t?{[l]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return t4(n,...e);let f=t;"palette"in n||h[l]&&(h[l]!==!0?f=h[l].palette:l==="dark"&&(f={mode:"dark"}));const m=t4({...n,palette:f},...e);return m.defaultColorScheme=l,m.colorSchemes=h,m.palette.mode==="light"&&(m.colorSchemes.light={...h.light!==!0&&h.light,palette:m.palette},j8(m,"dark",h.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:m.palette},j8(m,"light",h.light)),m}return!t&&!("light"in h)&&l==="light"&&(h.light=!0),dN({...s,colorSchemes:h,defaultColorScheme:l,...typeof r!="boolean"&&r},...e)}const Fb=Vy();function uf(){const n=Ny(Fb);return n[ea]||n}function Gy(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const qa=n=>Gy(n)&&n!=="classes",ze=UI({themeId:ea,defaultTheme:Fb,rootShouldForwardProp:qa});function rC({theme:n,...e}){const t=ea in n?n[ea]:void 0;return le.jsx(JI,{...e,themeId:t?ea:void 0,theme:t||n})}const dS={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:hN}=xM({themeId:ea,theme:()=>Vy({cssVariables:!0}),colorSchemeStorageKey:dS.colorSchemeStorageKey,modeStorageKey:dS.modeStorageKey,defaultColorScheme:{light:dS.defaultLightColorScheme,dark:dS.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:rR(n.palette,n.typography)};return e.unstable_sx=function(r){return Cu({sx:r,theme:this})},e}}),fN=hN;function pN({theme:n,...e}){if(typeof n=="function")return le.jsx(rC,{theme:n,...e});const t=ea in n?n[ea]:n;return"colorSchemes"in t?le.jsx(fN,{theme:n,...e}):"vars"in t?le.jsx(rC,{theme:n,...e}):le.jsx(rC,{theme:{...n,vars:null},...e})}function gN(n){return le.jsx(FF,{...n,defaultTheme:Fb,themeId:ea})}function Mb(n){return function(t){return le.jsx(gN,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function mN(){return Ib}const ht=mM;function yt(n){return gM(n)}function SN(n){return gt("MuiSvgIcon",n)}mt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const yN=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(t)}`]};return St(i,SN,r)},vN=ze("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ge(t.color)}`],e[`fontSize${Ge(t.fontSize)}`]]}})(ht(({theme:n})=>{var e,t,r,i,o,s,l,d,h,f,m,v,g,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:d.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,y])=>y&&y.main).map(([y])=>{var C,x;return{props:{color:y},style:{color:(x=(C=(n.vars??n).palette)==null?void 0:C[y])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(v=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(S=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),r4=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:l="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:m,viewBox:v="0 0 24 24",...g}=r,S=J.isValidElement(i)&&i.type==="svg",y={...r,color:s,component:l,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:v,hasSvgAsChild:S},C={};f||(C.viewBox=v);const x=yN(y);return le.jsxs(vN,{as:l,className:et(x.root,o),focusable:"false",color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,...C,...g,...S&&i.props,ownerState:y,children:[S?i.props.children:i,m?le.jsx("title",{children:m}):null]})});r4.muiName="SvgIcon";function js(n,e){function t(r,i){return le.jsx(r4,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=r4.muiName,J.memo(J.forwardRef(t))}function CN(n,e){if(!n)return e;if(typeof n=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,s=typeof n=="function"?n({...i,...o}):n,l=et(i==null?void 0:i.className,o==null?void 0:o.className,s==null?void 0:s.className);return{...o,...s,...!!l&&{className:l},...(o==null?void 0:o.style)&&(s==null?void 0:s.style)&&{style:{...o.style,...s.style}},...(o==null?void 0:o.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const t=e,r=et(t==null?void 0:t.className,n==null?void 0:n.className);return{...e,...n,...!!r&&{className:r},...(t==null?void 0:t.style)&&(n==null?void 0:n.style)&&{style:{...t.style,...n.style}},...(t==null?void 0:t.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function Nb(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function i4(n,e){return i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},i4(n,e)}function Qy(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,i4(n,e)}var sR=dI();const hS=gd(sR),H8={disabled:!1},L2=Si.createContext(null);var bN=function(e){return e.scrollTop},$1="unmounted",Xu="exited",Ku="entering",Kd="entered",o4="exiting",ia=function(n){Qy(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?l?(d=Xu,o.appearStatus=Ku):d=Kd:r.unmountOnExit||r.mountOnEnter?d=$1:d=Xu,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===$1?{status:Xu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ku&&s!==Kd&&(o=Ku):(s===Ku||s===Kd)&&(o=o4)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ku){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:hS.findDOMNode(this);s&&bN(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xu&&this.setState({status:$1})},t.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,d=this.props.nodeRef?[l]:[hS.findDOMNode(this),l],h=d[0],f=d[1],m=this.getTimeouts(),v=l?m.appear:m.enter;if(!i&&!s||H8.disabled){this.safeSetState({status:Kd},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Ku},function(){o.props.onEntering(h,f),o.onTransitionEnd(v,function(){o.safeSetState({status:Kd},function(){o.props.onEntered(h,f)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:hS.findDOMNode(this);if(!o||H8.disabled){this.safeSetState({status:Xu},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:o4},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Xu},function(){i.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:hS.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],h=d[0],f=d[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===$1)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Nb(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Si.createElement(L2.Provider,{value:null},typeof s=="function"?s(i,l):Si.cloneElement(Si.Children.only(s),l))},e}(Si.Component);ia.contextType=L2;ia.propTypes={};function Wd(){}ia.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wd,onEntering:Wd,onEntered:Wd,onExit:Wd,onExiting:Wd,onExited:Wd};ia.UNMOUNTED=$1;ia.EXITED=Xu;ia.ENTERING=Ku;ia.ENTERED=Kd;ia.EXITING=o4;function a4(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ub(n,e){var t=function(o){return e&&J.isValidElement(o)?e(o):o},r=Object.create(null);return n&&J.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function wN(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,l={};for(var d in e){if(r[d])for(s=0;s<r[d].length;s++){var h=r[d][s];l[r[d][s]]=t(h)}l[d]=t(d)}for(s=0;s<i.length;s++)l[i[s]]=t(i[s]);return l}function nc(n,e,t){return t[e]!=null?t[e]:n.props[e]}function DN(n,e){return Ub(n.children,function(t){return J.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:nc(t,"appear",n),enter:nc(t,"enter",n),exit:nc(t,"exit",n)})})}function xN(n,e,t){var r=Ub(n.children),i=wN(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(J.isValidElement(s)){var l=o in e,d=o in r,h=e[o],f=J.isValidElement(h)&&!h.props.in;d&&(!l||f)?i[o]=J.cloneElement(s,{onExited:t.bind(null,s),in:!0,exit:nc(s,"exit",n),enter:nc(s,"enter",n)}):!d&&l&&!f?i[o]=J.cloneElement(s,{in:!1}):d&&l&&J.isValidElement(h)&&(i[o]=J.cloneElement(s,{onExited:t.bind(null,s),in:h.props.in,exit:nc(s,"exit",n),enter:nc(s,"enter",n)}))}}),i}var TN=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},PN={component:"div",childFactory:function(e){return e}},qb=function(n){Qy(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=o.handleExited.bind(a4(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,l=o.handleExited,d=o.firstRender;return{children:d?DN(i,l):xN(i,s,l),firstRender:!1}},t.handleExited=function(i,o){var s=Ub(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(l){var d=yn({},l.children);return delete d[i.key],{children:d}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,l=Nb(i,["component","childFactory"]),d=this.state.contextValue,h=TN(this.state.children).map(s);return delete l.appear,delete l.enter,delete l.exit,o===null?Si.createElement(L2.Provider,{value:d},h):Si.createElement(L2.Provider,{value:d},Si.createElement(o,l,h))},e}(Si.Component);qb.propTypes={};qb.defaultProps=PN;const Bb=n=>n.scrollTop;function Zh(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function IN(n){return gt("MuiPaper",n)}mt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const RN=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return St(o,IN,i)},LN=ze("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(ht(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Kg=J.forwardRef(function(e,t){var g;const r=yt({props:e,name:"MuiPaper"}),i=uf(),{className:o,component:s="div",elevation:l=1,square:d=!1,variant:h="elevation",...f}=r,m={...r,component:s,elevation:l,square:d,variant:h},v=RN(m);return le.jsx(LN,{as:s,ownerState:m,className:et(v.root,o),ref:t,...f,style:{...h==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(g=i.vars.overlays)==null?void 0:g[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${In("#fff",n4(l))}, ${In("#fff",n4(l))})`}},...f.style}})});function ir(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:l=!1,...d}=e,{component:h,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...v}=o,g=f[n]||r,S=$I(m[n],i),{props:{component:y,...C},internalRef:x}=HI({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:S}),w=Ar(x,S==null?void 0:S.ref,e.ref),b=n==="root"?y||h:y,T=jI(g,{...n==="root"&&!h&&!f[n]&&s,...n!=="root"&&!f[n]&&s,...C,...b&&!l&&{as:b},...b&&l&&{component:b},ref:w},i);return[g,T]}class A2{constructor(){ae(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new A2}static use(){const e=QI(A2.create).current,[t,r]=J.useState(!1);return e.shouldMount=t,e.setShouldMount=r,J.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=ON(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function AN(){return A2.use()}function ON(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function EN(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:l,onExited:d,timeout:h}=n,[f,m]=J.useState(!1),v=et(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},S=et(t.child,f&&t.childLeaving,r&&t.childPulsate);return!l&&!f&&m(!0),J.useEffect(()=>{if(!l&&d!=null){const y=setTimeout(d,h);return()=>{clearTimeout(y)}}},[d,l,h]),le.jsx("span",{className:v,style:g,children:le.jsx("span",{className:S})})}const xo=mt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),s4=550,kN=80,_N=Pu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,FN=Pu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,MN=Pu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,NN=ze("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),UN=ze(EN,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${_N};
    animation-duration: ${s4}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${xo.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${xo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xo.childLeaving} {
    opacity: 0;
    animation-name: ${FN};
    animation-duration: ${s4}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${xo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${MN};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,qN=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s,...l}=r,[d,h]=J.useState([]),f=J.useRef(0),m=J.useRef(null);J.useEffect(()=>{m.current&&(m.current(),m.current=null)},[d]);const v=J.useRef(!1),g=zI(),S=J.useRef(null),y=J.useRef(null),C=J.useCallback(T=>{const{pulsate:P,rippleX:A,rippleY:F,rippleSize:E,cb:k}=T;h(R=>[...R,le.jsx(UN,{classes:{ripple:et(o.ripple,xo.ripple),rippleVisible:et(o.rippleVisible,xo.rippleVisible),ripplePulsate:et(o.ripplePulsate,xo.ripplePulsate),child:et(o.child,xo.child),childLeaving:et(o.childLeaving,xo.childLeaving),childPulsate:et(o.childPulsate,xo.childPulsate)},timeout:s4,pulsate:P,rippleX:A,rippleY:F,rippleSize:E},f.current)]),f.current+=1,m.current=k},[o]),x=J.useCallback((T={},P={},A=()=>{})=>{const{pulsate:F=!1,center:E=i||P.pulsate,fakeElement:k=!1}=P;if((T==null?void 0:T.type)==="mousedown"&&v.current){v.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(v.current=!0);const R=k?null:y.current,U=R?R.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,L,I;if(E||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)N=Math.round(U.width/2),L=Math.round(U.height/2);else{const{clientX:_,clientY:B}=T.touches&&T.touches.length>0?T.touches[0]:T;N=Math.round(_-U.left),L=Math.round(B-U.top)}if(E)I=Math.sqrt((2*U.width**2+U.height**2)/3),I%2===0&&(I+=1);else{const _=Math.max(Math.abs((R?R.clientWidth:0)-N),N)*2+2,B=Math.max(Math.abs((R?R.clientHeight:0)-L),L)*2+2;I=Math.sqrt(_**2+B**2)}T!=null&&T.touches?S.current===null&&(S.current=()=>{C({pulsate:F,rippleX:N,rippleY:L,rippleSize:I,cb:A})},g.start(kN,()=>{S.current&&(S.current(),S.current=null)})):C({pulsate:F,rippleX:N,rippleY:L,rippleSize:I,cb:A})},[i,C,g]),w=J.useCallback(()=>{x({},{pulsate:!0})},[x]),b=J.useCallback((T,P)=>{if(g.clear(),(T==null?void 0:T.type)==="touchend"&&S.current){S.current(),S.current=null,g.start(0,()=>{b(T,P)});return}S.current=null,h(A=>A.length>0?A.slice(1):A),m.current=P},[g]);return J.useImperativeHandle(t,()=>({pulsate:w,start:x,stop:b}),[w,x,b]),le.jsx(NN,{className:et(xo.root,o.root,s),ref:y,...l,children:le.jsx(qb,{component:null,exit:!0,children:d})})});function BN(n){return gt("MuiButtonBase",n)}const VN=mt("MuiButtonBase",["root","disabled","focusVisible"]),GN=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,s=St({root:["root",e&&"disabled",t&&"focusVisible"]},BN,i);return t&&r&&(s.root+=` ${r}`),s},QN=ze("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${VN.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),lR=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:l,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:v=!1,focusVisibleClassName:g,LinkComponent:S="a",onBlur:y,onClick:C,onContextMenu:x,onDragLeave:w,onFocus:b,onFocusVisible:T,onKeyDown:P,onKeyUp:A,onMouseDown:F,onMouseLeave:E,onMouseUp:k,onTouchEnd:R,onTouchMove:U,onTouchStart:N,tabIndex:L=0,TouchRippleProps:I,touchRippleRef:_,type:B,...W}=r,H=J.useRef(null),j=AN(),X=Ar(j.ref,_),[V,$]=J.useState(!1);h&&V&&$(!1),J.useImperativeHandle(i,()=>({focusVisible:()=>{$(!0),H.current.focus()}}),[]);const ne=j.shouldMount&&!f&&!h;J.useEffect(()=>{V&&v&&!f&&j.pulsate()},[f,v,V,j]);const ie=Xa(j,"start",F,m),te=Xa(j,"stop",x,m),pe=Xa(j,"stop",w,m),ee=Xa(j,"stop",k,m),oe=Xa(j,"stop",se=>{V&&se.preventDefault(),E&&E(se)},m),de=Xa(j,"start",N,m),me=Xa(j,"stop",R,m),we=Xa(j,"stop",U,m),Te=Xa(j,"stop",se=>{Kh(se.target)||$(!1),y&&y(se)},!1),qe=Ma(se=>{H.current||(H.current=se.currentTarget),Kh(se.target)&&($(!0),T&&T(se)),b&&b(se)}),q=()=>{const se=H.current;return d&&d!=="button"&&!(se.tagName==="A"&&se.href)},ge=Ma(se=>{v&&!se.repeat&&V&&se.key===" "&&j.stop(se,()=>{j.start(se)}),se.target===se.currentTarget&&q()&&se.key===" "&&se.preventDefault(),P&&P(se),se.target===se.currentTarget&&q()&&se.key==="Enter"&&!h&&(se.preventDefault(),C&&C(se))}),Se=Ma(se=>{v&&se.key===" "&&V&&!se.defaultPrevented&&j.stop(se,()=>{j.pulsate(se)}),A&&A(se),C&&se.target===se.currentTarget&&q()&&se.key===" "&&!se.defaultPrevented&&C(se)});let Z=d;Z==="button"&&(W.href||W.to)&&(Z=S);const K={};Z==="button"?(K.type=B===void 0?"button":B,K.disabled=h):(!W.href&&!W.to&&(K.role="button"),h&&(K["aria-disabled"]=h));const ce=Ar(t,H),Ce={...r,centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:m,focusRipple:v,tabIndex:L,focusVisible:V},xe=GN(Ce);return le.jsxs(QN,{as:Z,className:et(xe.root,l),ownerState:Ce,onBlur:Te,onClick:C,onContextMenu:te,onFocus:qe,onKeyDown:ge,onKeyUp:Se,onMouseDown:ie,onMouseLeave:oe,onMouseUp:ee,onDragLeave:pe,onTouchEnd:me,onTouchMove:we,onTouchStart:de,ref:ce,tabIndex:h?-1:L,type:B,...K,...W,children:[s,ne?le.jsx(qN,{ref:X,center:o,...I}):null]})});function Xa(n,e,t,r=!1){return Ma(i=>(t&&t(i),r||n[e](i),!0))}function zN(n){return typeof n.main=="string"}function WN(n,e=[]){if(!zN(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function or(n=[]){return([,e])=>e&&WN(e,n)}function jN(n){return gt("MuiCircularProgress",n)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const hl=44,l4=Pu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,u4=Pu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,HN=typeof l4!="string"?sf`
        animation: ${l4} 1.4s linear infinite;
      `:null,$N=typeof u4!="string"?sf`
        animation: ${u4} 1.4s ease-in-out infinite;
      `:null,YN=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,o={root:["root",t,`color${Ge(r)}`],svg:["svg"],circle:["circle",`circle${Ge(t)}`,i&&"circleDisableShrink"]};return St(o,jN,e)},XN=ze("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Ge(t.color)}`]]}})(ht(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:HN||{animation:`${l4} 1.4s linear infinite`}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),KN=ze("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),ZN=ze("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Ge(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ht(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:$N||{animation:`${u4} 1.4s ease-in-out infinite`}}]}))),JN=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:l=40,style:d,thickness:h=3.6,value:f=0,variant:m="indeterminate",...v}=r,g={...r,color:o,disableShrink:s,size:l,thickness:h,value:f,variant:m},S=YN(g),y={},C={},x={};if(m==="determinate"){const w=2*Math.PI*((hl-h)/2);y.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(f),y.strokeDashoffset=`${((100-f)/100*w).toFixed(3)}px`,C.transform="rotate(-90deg)"}return le.jsx(XN,{className:et(S.root,i),style:{width:l,height:l,...C,...d},ownerState:g,ref:t,role:"progressbar",...x,...v,children:le.jsx(KN,{className:S.svg,ownerState:g,viewBox:`${hl/2} ${hl/2} ${hl} ${hl}`,children:le.jsx(ZN,{className:S.circle,style:y,ownerState:g,cx:hl,cy:hl,r:(hl-h)/2,fill:"none",strokeWidth:h})})})});function eU(n){return gt("MuiIconButton",n)}const $8=mt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),tU=n=>{const{classes:e,disabled:t,color:r,edge:i,size:o,loading:s}=n,l={root:["root",s&&"loading",t&&"disabled",r!=="default"&&`color${Ge(r)}`,i&&`edge${Ge(i)}`,`size${Ge(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return St(l,eU,e)},nU=ze(lR,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Ge(t.color)}`],t.edge&&e[`edge${Ge(t.edge)}`],e[`size${Ge(t.size)}`]]}})(ht(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:In(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ht(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:In((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${$8.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${$8.loading}`]:{color:"transparent"}}))),rU=ze("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),iU=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:l="default",disabled:d=!1,disableFocusRipple:h=!1,size:f="medium",id:m,loading:v=null,loadingIndicator:g,...S}=r,y=qy(m),C=g??le.jsx(JN,{"aria-labelledby":y,color:"inherit",size:16}),x={...r,edge:i,color:l,disabled:d,disableFocusRipple:h,loading:v,loadingIndicator:C,size:f},w=tU(x);return le.jsxs(nU,{id:v?y:m,className:et(w.root,s),centerRipple:!0,focusRipple:!h,disabled:d||v,ref:t,...S,ownerState:x,children:[typeof v=="boolean"&&le.jsx("span",{className:w.loadingWrapper,style:{display:"contents"},children:le.jsx(rU,{className:w.loadingIndicator,ownerState:x,children:v&&C})}),o]})});function oU(n){return gt("MuiTypography",n)}mt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const aU={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},sU=mN(),lU=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:o,classes:s}=n,l={root:["root",o,n.align!=="inherit"&&`align${Ge(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return St(l,oU,s)},uU=ze("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Ge(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(ht(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(or()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Ge(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),Y8={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},O2=J.forwardRef(function(e,t){const{color:r,...i}=yt({props:e,name:"MuiTypography"}),o=!aU[r],s=sU({...i,...o&&{color:r}}),{align:l="inherit",className:d,component:h,gutterBottom:f=!1,noWrap:m=!1,paragraph:v=!1,variant:g="body1",variantMapping:S=Y8,...y}=s,C={...s,align:l,color:r,className:d,component:h,gutterBottom:f,noWrap:m,paragraph:v,variant:g,variantMapping:S},x=h||(v?"p":S[g]||Y8[g])||"span",w=lU(C);return le.jsx(uU,{as:x,ref:t,className:et(w.root,d),...y,ownerState:C,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...y.style}})});function cU(n){return gt("MuiAppBar",n)}mt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const dU=n=>{const{color:e,position:t,classes:r}=n,i={root:["root",`color${Ge(e)}`,`position${Ge(t)}`]};return St(i,cU,r)},X8=(n,e)=>n?`${n==null?void 0:n.replace(")","")}, ${e})`:e,hU=ze(Kg,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ge(t.position)}`],e[`color${Ge(t.color)}`]]}})(ht(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(or(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?X8(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?X8(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),fU=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:l="fixed",...d}=r,h={...r,color:o,position:l,enableColorOnDark:s},f=dU(h);return le.jsx(hU,{square:!0,component:"header",ownerState:h,elevation:4,className:et(f.root,i,l==="fixed"&&"mui-fixed"),ref:t,...d})});function pU(n){return typeof n=="function"?n():n}const gU=J.forwardRef(function(e,t){const{children:r,container:i,disablePortal:o=!1}=e,[s,l]=J.useState(null),d=Ar(J.isValidElement(r)?lf(r):null,t);if(Na(()=>{o||l(pU(i)||document.body)},[i,o]),Na(()=>{if(s&&!o)return O8(t,s),()=>{O8(t,null)}},[t,s,o]),o){if(J.isValidElement(r)){const h={ref:d};return J.cloneElement(r,h)}return r}return s&&sR.createPortal(r,s)});function fS(n){return parseInt(n,10)||0}const mU={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function SU(n){for(const e in n)return!1;return!0}function K8(n){return SU(n)||n.outerHeightStyle===0&&!n.overflowing}const yU=J.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:l,...d}=e,{current:h}=J.useRef(l!=null),f=J.useRef(null),m=Ar(t,f),v=J.useRef(null),g=J.useRef(null),S=J.useCallback(()=>{const b=f.current,T=g.current;if(!b||!T)return;const A=na(b).getComputedStyle(b);if(A.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=A.width,T.value=b.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const F=A.boxSizing,E=fS(A.paddingBottom)+fS(A.paddingTop),k=fS(A.borderBottomWidth)+fS(A.borderTopWidth),R=T.scrollHeight;T.value="x";const U=T.scrollHeight;let N=R;o&&(N=Math.max(Number(o)*U,N)),i&&(N=Math.min(Number(i)*U,N)),N=Math.max(N,U);const L=N+(F==="border-box"?E+k:0),I=Math.abs(N-R)<=1;return{outerHeightStyle:L,overflowing:I}},[i,o,e.placeholder]),y=Ma(()=>{const b=f.current,T=S();if(!b||!T||K8(T))return!1;const P=T.outerHeightStyle;return v.current!=null&&v.current!==P}),C=J.useCallback(()=>{const b=f.current,T=S();if(!b||!T||K8(T))return;const P=T.outerHeightStyle;v.current!==P&&(v.current=P,b.style.height=`${P}px`),b.style.overflow=T.overflowing?"hidden":""},[S]),x=J.useRef(-1);Na(()=>{const b=Lb(C),T=f==null?void 0:f.current;if(!T)return;const P=na(T);P.addEventListener("resize",b);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(()=>{y()&&(A.unobserve(T),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{A.observe(T)}))}),A.observe(T)),()=>{b.clear(),cancelAnimationFrame(x.current),P.removeEventListener("resize",b),A&&A.disconnect()}},[S,C,y]),Na(()=>{C()});const w=b=>{h||C(),r&&r(b)};return le.jsxs(J.Fragment,{children:[le.jsx("textarea",{value:l,onChange:w,ref:m,rows:o,style:s,...d}),le.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...mU.shadow,...s,paddingTop:0,paddingBottom:0}})]})});function od(n){return typeof n=="string"}function cf({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const zy=J.createContext(void 0);function md(){return J.useContext(zy)}function Z8(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function E2(n,e=!1){return n&&(Z8(n.value)&&n.value!==""||e&&Z8(n.defaultValue)&&n.defaultValue!=="")}function vU(n){return n.startAdornment}function CU(n){return gt("MuiInputBase",n)}const Jh=mt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var J8;const Wy=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Ge(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},jy=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},bU=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:o,focused:s,formControl:l,fullWidth:d,hiddenLabel:h,multiline:f,readOnly:m,size:v,startAdornment:g,type:S}=n,y={root:["root",`color${Ge(t)}`,r&&"disabled",i&&"error",d&&"fullWidth",s&&"focused",l&&"formControl",v&&v!=="medium"&&`size${Ge(v)}`,f&&"multiline",g&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",m&&"readOnly"],input:["input",r&&"disabled",S==="search"&&"inputTypeSearch",f&&"inputMultiline",v==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",g&&"inputAdornedStart",o&&"inputAdornedEnd",m&&"readOnly"]};return St(y,CU,e)},Hy=ze("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Wy})(ht(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Jh.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),$y=ze("input",{name:"MuiInputBase",slot:"Input",overridesResolver:jy})(ht(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Jh.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Jh.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),ex=Mb({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Vb=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:s,className:l,color:d,components:h={},componentsProps:f={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:g,endAdornment:S,error:y,fullWidth:C=!1,id:x,inputComponent:w="input",inputProps:b={},inputRef:T,margin:P,maxRows:A,minRows:F,multiline:E=!1,name:k,onBlur:R,onChange:U,onClick:N,onFocus:L,onKeyDown:I,onKeyUp:_,placeholder:B,readOnly:W,renderSuffix:H,rows:j,size:X,slotProps:V={},slots:$={},startAdornment:ne,type:ie="text",value:te,...pe}=r,ee=b.value!=null?b.value:te,{current:oe}=J.useRef(ee!=null),de=J.useRef(),me=J.useCallback(Qe=>{},[]),we=Ar(de,T,b.ref,me),[Te,qe]=J.useState(!1),q=md(),ge=cf({props:r,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ge.focused=q?q.focused:Te,J.useEffect(()=>{!q&&v&&Te&&(qe(!1),R&&R())},[q,v,Te,R]);const Se=q&&q.onFilled,Z=q&&q.onEmpty,K=J.useCallback(Qe=>{E2(Qe)?Se&&Se():Z&&Z()},[Se,Z]);Na(()=>{oe&&K({value:ee})},[ee,K,oe]);const ce=Qe=>{L&&L(Qe),b.onFocus&&b.onFocus(Qe),q&&q.onFocus?q.onFocus(Qe):qe(!0)},Ce=Qe=>{R&&R(Qe),b.onBlur&&b.onBlur(Qe),q&&q.onBlur?q.onBlur(Qe):qe(!1)},xe=(Qe,...nt)=>{if(!oe){const je=Qe.target||de.current;if(je==null)throw new Error(Ws(1));K({value:je.value})}b.onChange&&b.onChange(Qe,...nt),U&&U(Qe,...nt)};J.useEffect(()=>{K(de.current)},[]);const se=Qe=>{de.current&&Qe.currentTarget===Qe.target&&de.current.focus(),N&&N(Qe)};let Ae=w,ke=b;E&&Ae==="input"&&(j?ke={type:void 0,minRows:j,maxRows:j,...ke}:ke={type:void 0,maxRows:A,minRows:F,...ke},Ae=yU);const he=Qe=>{K(Qe.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};J.useEffect(()=>{q&&q.setAdornedStart(!!ne)},[q,ne]);const be={...r,color:ge.color||"primary",disabled:ge.disabled,endAdornment:S,error:ge.error,focused:ge.focused,formControl:q,fullWidth:C,hiddenLabel:ge.hiddenLabel,multiline:E,size:ge.size,startAdornment:ne,type:ie},Ne=bU(be),Ee=$.root||h.Root||Hy,We=V.root||f.root||{},Be=$.input||h.Input||$y;return ke={...ke,...V.input??f.input},le.jsxs(J.Fragment,{children:[!g&&typeof ex=="function"&&(J8||(J8=le.jsx(ex,{}))),le.jsxs(Ee,{...We,ref:t,onClick:se,...pe,...!od(Ee)&&{ownerState:{...be,...We.ownerState}},className:et(Ne.root,We.className,l,W&&"MuiInputBase-readOnly"),children:[ne,le.jsx(zy.Provider,{value:null,children:le.jsx(Be,{"aria-invalid":ge.error,"aria-describedby":i,autoComplete:o,autoFocus:s,defaultValue:m,disabled:ge.disabled,id:x,onAnimationStart:he,name:k,placeholder:B,readOnly:W,required:ge.required,rows:j,value:ee,onKeyDown:I,onKeyUp:_,type:ie,...ke,...!od(Be)&&{as:Ae,ownerState:{...be,...ke.ownerState}},ref:we,className:et(Ne.input,ke.className,W&&"MuiInputBase-readOnly"),onBlur:Ce,onChange:xe,onFocus:ce})}),S,H?H({...ge,startAdornment:ne}):null]})]})});function wU(n){return gt("MuiInput",n)}const Kf={...Jh,...mt("MuiInput",["root","underline","input"])};function DU(n){return gt("MuiOutlinedInput",n)}const da={...Jh,...mt("MuiOutlinedInput",["root","notchedOutline","input"])};function xU(n){return gt("MuiFilledInput",n)}const Vu={...Jh,...mt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},TU=js(le.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),PU={entering:{opacity:1},entered:{opacity:1}},c4=J.forwardRef(function(e,t){const r=uf(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:l,easing:d,in:h,onEnter:f,onEntered:m,onEntering:v,onExit:g,onExited:S,onExiting:y,style:C,timeout:x=i,TransitionComponent:w=ia,...b}=e,T=J.useRef(null),P=Ar(T,lf(l),t),A=I=>_=>{if(I){const B=T.current;_===void 0?I(B):I(B,_)}},F=A(v),E=A((I,_)=>{Bb(I);const B=Zh({style:C,timeout:x,easing:d},{mode:"enter"});I.style.webkitTransition=r.transitions.create("opacity",B),I.style.transition=r.transitions.create("opacity",B),f&&f(I,_)}),k=A(m),R=A(y),U=A(I=>{const _=Zh({style:C,timeout:x,easing:d},{mode:"exit"});I.style.webkitTransition=r.transitions.create("opacity",_),I.style.transition=r.transitions.create("opacity",_),g&&g(I)}),N=A(S),L=I=>{o&&o(T.current,I)};return le.jsx(w,{appear:s,in:h,nodeRef:T,onEnter:E,onEntered:k,onEntering:F,onExit:U,onExited:N,onExiting:R,addEndListener:L,timeout:x,...b,children:(I,{ownerState:_,...B})=>J.cloneElement(l,{style:{opacity:0,visibility:I==="exited"&&!h?"hidden":void 0,...PU[I],...C,...l.props.style},ref:P,...B})})});function IU(n){return gt("MuiBackdrop",n)}mt("MuiBackdrop",["root","invisible"]);const RU=n=>{const{classes:e,invisible:t}=n;return St({root:["root",t&&"invisible"]},IU,e)},LU=ze("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),uR=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:l=!1,open:d,components:h={},componentsProps:f={},slotProps:m={},slots:v={},TransitionComponent:g,transitionDuration:S,...y}=r,C={...r,component:s,invisible:l},x=RU(C),w={transition:g,root:h.Root,...v},b={...f,...m},T={slots:w,slotProps:b},[P,A]=ir("root",{elementType:LU,externalForwardedProps:T,className:et(x.root,o),ownerState:C}),[F,E]=ir("transition",{elementType:c4,externalForwardedProps:T,ownerState:C});return le.jsx(F,{in:d,timeout:S,...y,...E,children:le.jsx(P,{"aria-hidden":!0,...A,classes:x,ref:t,children:i})})}),AU=mt("MuiBox",["root"]),OU=Vy(),EU=UF({themeId:ea,defaultTheme:OU,defaultClassName:AU.root,generateClassName:_I.generate}),d4=typeof Mb({})=="function",kU=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),_U=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),cR=(n,e=!1)=>{var o,s;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([l,d])=>{var f,m;const h=n.getColorSchemeSelector(l);h.startsWith("@")?t[h]={":root":{colorScheme:(f=d.palette)==null?void 0:f.mode}}:t[h.replace(/\s*&/,"")]={colorScheme:(m=d.palette)==null?void 0:m.mode}});let r={html:kU(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,..._U(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const i=(s=(o=n.components)==null?void 0:o.MuiCssBaseline)==null?void 0:s.styleOverrides;return i&&(r=[r,i]),r},QS="mui-ecs",FU=n=>{const e=cR(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${QS})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([r,i])=>{var s,l;const o=n.getColorSchemeSelector(r);o.startsWith("@")?t[o]={[`:root:not(:has(.${QS}))`]:{colorScheme:(s=i.palette)==null?void 0:s.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${QS}))`]:{colorScheme:(l=i.palette)==null?void 0:l.mode}}}),e},MU=Mb(d4?({theme:n,enableColorScheme:e})=>cR(n,e):({theme:n})=>FU(n));function NU(n){const e=yt({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:r=!1}=e;return le.jsxs(J.Fragment,{children:[d4&&le.jsx(MU,{enableColorScheme:r}),!d4&&!r&&le.jsx("span",{className:QS,style:{display:"none"}}),t]})}function UU(n){const e=Gr(n);return e.body===n?na(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function sp(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function tx(n){return parseInt(na(n).getComputedStyle(n).paddingRight,10)||0}function qU(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function nx(n,e,t,r,i){const o=[e,t,...r];[].forEach.call(n.children,s=>{const l=!o.includes(s),d=!qU(s);l&&d&&sp(s,i)})}function iC(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function BU(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(UU(r)){const s=WI(na(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${tx(r)+s}px`;const l=Gr(r).querySelectorAll(".mui-fixed");[].forEach.call(l,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${tx(d)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Gr(r).body;else{const s=r.parentElement,l=na(r);o=(s==null?void 0:s.nodeName)==="HTML"&&l.getComputedStyle(s).overflowY==="scroll"?s:r}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:s,property:l})=>{o?s.style.setProperty(l,o):s.style.removeProperty(l)})}}function VU(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class GU{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&sp(e.modalRef,!1);const i=VU(t);nx(t,e.mount,e.modalRef,i,!0);const o=iC(this.containers,s=>s.container===t);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=iC(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=BU(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=iC(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&sp(e.modalRef,t),nx(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&sp(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const QU=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zU(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function WU(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function jU(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||WU(n))}function HU(n){const e=[],t=[];return Array.from(n.querySelectorAll(QU)).forEach((r,i)=>{const o=zU(r);o===-1||!jU(r)||(o===0?e.push(r):t.push({documentOrder:i,tabIndex:o,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function $U(){return!0}function YU(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=HU,isEnabled:s=$U,open:l}=n,d=J.useRef(!1),h=J.useRef(null),f=J.useRef(null),m=J.useRef(null),v=J.useRef(null),g=J.useRef(!1),S=J.useRef(null),y=Ar(lf(e),S),C=J.useRef(null);J.useEffect(()=>{!l||!S.current||(g.current=!t)},[t,l]),J.useEffect(()=>{if(!l||!S.current)return;const b=Gr(S.current);return S.current.contains(b.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),g.current&&S.current.focus()),()=>{i||(m.current&&m.current.focus&&(d.current=!0,m.current.focus()),m.current=null)}},[l]),J.useEffect(()=>{if(!l||!S.current)return;const b=Gr(S.current),T=F=>{C.current=F,!(r||!s()||F.key!=="Tab")&&b.activeElement===S.current&&F.shiftKey&&(d.current=!0,f.current&&f.current.focus())},P=()=>{var k,R;const F=S.current;if(F===null)return;if(!b.hasFocus()||!s()||d.current){d.current=!1;return}if(F.contains(b.activeElement)||r&&b.activeElement!==h.current&&b.activeElement!==f.current)return;if(b.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!g.current)return;let E=[];if((b.activeElement===h.current||b.activeElement===f.current)&&(E=o(S.current)),E.length>0){const U=!!((k=C.current)!=null&&k.shiftKey&&((R=C.current)==null?void 0:R.key)==="Tab"),N=E[0],L=E[E.length-1];typeof N!="string"&&typeof L!="string"&&(U?L.focus():N.focus())}else F.focus()};b.addEventListener("focusin",P),b.addEventListener("keydown",T,!0);const A=setInterval(()=>{b.activeElement&&b.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(A),b.removeEventListener("focusin",P),b.removeEventListener("keydown",T,!0)}},[t,r,i,s,l,o]);const x=b=>{m.current===null&&(m.current=b.relatedTarget),g.current=!0,v.current=b.target;const T=e.props.onFocus;T&&T(b)},w=b=>{m.current===null&&(m.current=b.relatedTarget),g.current=!0};return le.jsxs(J.Fragment,{children:[le.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:h,"data-testid":"sentinelStart"}),J.cloneElement(e,{ref:y,onFocus:x}),le.jsx("div",{tabIndex:l?0:-1,onFocus:w,ref:f,"data-testid":"sentinelEnd"})]})}function XU(n){return typeof n=="function"?n():n}function KU(n){return n?n.props.hasOwnProperty("in"):!1}const rx=()=>{},pS=new GU;function ZU(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:l,onClose:d,open:h,rootRef:f}=n,m=J.useRef({}),v=J.useRef(null),g=J.useRef(null),S=Ar(g,f),[y,C]=J.useState(!h),x=KU(l);let w=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(w=!1);const b=()=>Gr(v.current),T=()=>(m.current.modalRef=g.current,m.current.mount=v.current,m.current),P=()=>{pS.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},A=Ma(()=>{const _=XU(e)||b().body;pS.add(T(),_),g.current&&P()}),F=()=>pS.isTopModal(T()),E=Ma(_=>{v.current=_,_&&(h&&F()?P():g.current&&sp(g.current,w))}),k=J.useCallback(()=>{pS.remove(T(),w)},[w]);J.useEffect(()=>()=>{k()},[k]),J.useEffect(()=>{h?A():(!x||!i)&&k()},[h,k,x,i,A]);const R=_=>B=>{var W;(W=_.onKeyDown)==null||W.call(_,B),!(B.key!=="Escape"||B.which===229||!F())&&(t||(B.stopPropagation(),d&&d(B,"escapeKeyDown")))},U=_=>B=>{var W;(W=_.onClick)==null||W.call(_,B),B.target===B.currentTarget&&d&&d(B,"backdropClick")};return{getRootProps:(_={})=>{const B=ap(n);delete B.onTransitionEnter,delete B.onTransitionExited;const W={...B,..._};return{role:"presentation",...W,onKeyDown:R(W),ref:S}},getBackdropProps:(_={})=>{const B=_;return{"aria-hidden":!0,...B,onClick:U(B),open:h}},getTransitionProps:()=>{const _=()=>{C(!1),o&&o()},B=()=>{C(!0),s&&s(),i&&k()};return{onEnter:A8(_,(l==null?void 0:l.props.onEnter)??rx),onExited:A8(B,(l==null?void 0:l.props.onExited)??rx)}},rootRef:S,portalRef:E,isTopModal:F,exited:y,hasTransition:x}}function JU(n){return gt("MuiModal",n)}mt("MuiModal",["root","hidden","backdrop"]);const eq=n=>{const{open:e,exited:t,classes:r}=n;return St({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},JU,r)},tq=ze("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(ht(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),nq=ze(uR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),dR=J.forwardRef(function(e,t){const r=yt({name:"MuiModal",props:e}),{BackdropComponent:i=nq,BackdropProps:o,classes:s,className:l,closeAfterTransition:d=!1,children:h,container:f,component:m,components:v={},componentsProps:g={},disableAutoFocus:S=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:w=!1,disableScrollLock:b=!1,hideBackdrop:T=!1,keepMounted:P=!1,onBackdropClick:A,onClose:F,onTransitionEnter:E,onTransitionExited:k,open:R,slotProps:U={},slots:N={},theme:L,...I}=r,_={...r,closeAfterTransition:d,disableAutoFocus:S,disableEnforceFocus:y,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:w,disableScrollLock:b,hideBackdrop:T,keepMounted:P},{getRootProps:B,getBackdropProps:W,getTransitionProps:H,portalRef:j,isTopModal:X,exited:V,hasTransition:$}=ZU({..._,rootRef:t}),ne={..._,exited:V},ie=eq(ne),te={};if(h.props.tabIndex===void 0&&(te.tabIndex="-1"),$){const{onEnter:we,onExited:Te}=H();te.onEnter=we,te.onExited=Te}const pe={slots:{root:v.Root,backdrop:v.Backdrop,...N},slotProps:{...g,...U}},[ee,oe]=ir("root",{ref:t,elementType:tq,externalForwardedProps:{...pe,...I,component:m},getSlotProps:B,ownerState:ne,className:et(l,ie==null?void 0:ie.root,!ne.open&&ne.exited&&(ie==null?void 0:ie.hidden))}),[de,me]=ir("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:we=>W({...we,onClick:Te=>{A&&A(Te),we!=null&&we.onClick&&we.onClick(Te)}}),className:et(o==null?void 0:o.className,ie==null?void 0:ie.backdrop),ownerState:ne});return!P&&!R&&(!$||V)?null:le.jsx(gU,{ref:j,container:f,disablePortal:x,children:le.jsxs(ee,{...oe,children:[!T&&i?le.jsx(de,{...me}):null,le.jsx(YU,{disableEnforceFocus:y,disableAutoFocus:S,disableRestoreFocus:w,isEnabled:X,open:R,children:J.cloneElement(h,te)})]})})});function rq(n){return gt("MuiDialog",n)}const oC=mt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),iq=J.createContext({}),oq=ze(uR,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),aq=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:o}=n,s={root:["root"],container:["container",`scroll${Ge(t)}`],paper:["paper",`paperScroll${Ge(t)}`,`paperWidth${Ge(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return St(s,rq,e)},sq=ze(dR,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),lq=ze("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Ge(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),uq=ze(Kg,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Ge(t.scroll)}`],e[`paperWidth${Ge(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(ht(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${oC.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${oC.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${oC.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),cq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiDialog"}),i=uf(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":l,"aria-modal":d=!0,BackdropComponent:h,BackdropProps:f,children:m,className:v,disableEscapeKeyDown:g=!1,fullScreen:S=!1,fullWidth:y=!1,maxWidth:C="sm",onBackdropClick:x,onClick:w,onClose:b,open:T,PaperComponent:P=Kg,PaperProps:A={},scroll:F="paper",slots:E={},slotProps:k={},TransitionComponent:R=c4,transitionDuration:U=o,TransitionProps:N,...L}=r,I={...r,disableEscapeKeyDown:g,fullScreen:S,fullWidth:y,maxWidth:C,scroll:F},_=aq(I),B=J.useRef(),W=q=>{B.current=q.target===q.currentTarget},H=q=>{w&&w(q),B.current&&(B.current=null,x&&x(q),b&&b(q,"backdropClick"))},j=qy(l),X=J.useMemo(()=>({titleId:j}),[j]),V={transition:R,...E},$={transition:N,paper:A,backdrop:f,...k},ne={slots:V,slotProps:$},[ie,te]=ir("root",{elementType:sq,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I,className:et(_.root,v),ref:t}),[pe,ee]=ir("backdrop",{elementType:oq,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I}),[oe,de]=ir("paper",{elementType:uq,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I,className:et(_.paper,A.className)}),[me,we]=ir("container",{elementType:lq,externalForwardedProps:ne,ownerState:I,className:et(_.container)}),[Te,qe]=ir("transition",{elementType:c4,externalForwardedProps:ne,ownerState:I,additionalProps:{appear:!0,in:T,timeout:U,role:"presentation"}});return le.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:pe},slotProps:{backdrop:{transitionDuration:U,as:h,...ee}},disableEscapeKeyDown:g,onClose:b,open:T,onClick:H,...te,...L,children:le.jsx(Te,{...qe,children:le.jsx(me,{onMouseDown:W,...we,children:le.jsx(oe,{as:P,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":j,"aria-modal":d,...de,children:le.jsx(iq.Provider,{value:X,children:m})})})})})});function dq(n,e,t){const r=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),o=na(e);let s;if(e.fakeTransform)s=e.fakeTransform;else{const h=o.getComputedStyle(e);s=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let l=0,d=0;if(s&&s!=="none"&&typeof s=="string"){const h=s.split("(")[1].split(")")[0].split(",");l=parseInt(h[4],10),d=parseInt(h[5],10)}return n==="left"?i?`translateX(${i.right+l-r.left}px)`:`translateX(${o.innerWidth+l-r.left}px)`:n==="right"?i?`translateX(-${r.right-i.left-l}px)`:`translateX(-${r.left+r.width-l}px)`:n==="up"?i?`translateY(${i.bottom+d-r.top}px)`:`translateY(${o.innerHeight+d-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-d}px)`:`translateY(-${r.top+r.height-d}px)`}function hq(n){return typeof n=="function"?n():n}function gS(n,e,t){const r=hq(t),i=dq(n,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const fq=J.forwardRef(function(e,t){const r=uf(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:d,container:h,direction:f="down",easing:m=i,in:v,onEnter:g,onEntered:S,onEntering:y,onExit:C,onExited:x,onExiting:w,style:b,timeout:T=o,TransitionComponent:P=ia,...A}=e,F=J.useRef(null),E=Ar(lf(d),F,t),k=H=>j=>{H&&(j===void 0?H(F.current):H(F.current,j))},R=k((H,j)=>{gS(f,H,h),Bb(H),g&&g(H,j)}),U=k((H,j)=>{const X=Zh({timeout:T,style:b,easing:m},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",{...X}),H.style.transition=r.transitions.create("transform",{...X}),H.style.webkitTransform="none",H.style.transform="none",y&&y(H,j)}),N=k(S),L=k(w),I=k(H=>{const j=Zh({timeout:T,style:b,easing:m},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",j),H.style.transition=r.transitions.create("transform",j),gS(f,H,h),C&&C(H)}),_=k(H=>{H.style.webkitTransition="",H.style.transition="",x&&x(H)}),B=H=>{s&&s(F.current,H)},W=J.useCallback(()=>{F.current&&gS(f,F.current,h)},[f,h]);return J.useEffect(()=>{if(v||f==="down"||f==="right")return;const H=Lb(()=>{F.current&&gS(f,F.current,h)}),j=na(F.current);return j.addEventListener("resize",H),()=>{H.clear(),j.removeEventListener("resize",H)}},[f,v,h]),J.useEffect(()=>{v||W()},[v,W]),le.jsx(P,{nodeRef:F,onEnter:R,onEntered:N,onEntering:U,onExit:I,onExited:_,onExiting:L,addEndListener:B,appear:l,in:v,timeout:T,...A,children:(H,{ownerState:j,...X})=>J.cloneElement(d,{ref:E,style:{visibility:H==="exited"&&!v?"hidden":void 0,...b,...d.props.style},...X})})}),pq=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:o,hiddenLabel:s,multiline:l}=n,d={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Ge(o)}`,s&&"hiddenLabel",l&&"multiline"],input:["input"]},h=St(d,xU,e);return{...e,...h}},gq=ze(Hy,{shouldForwardProp:n=>qa(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Wy(n,e),!t.disableUnderline&&e.underline]}})(ht(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Vu.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Vu.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:s})=>!s.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vu.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vu.disabled}, .${Vu.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Vu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(or()).map(([s])=>{var l;return{props:{disableUnderline:!1,color:s},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[s])==null?void 0:l.main}`}}}}),{props:({ownerState:s})=>s.startAdornment,style:{paddingLeft:12}},{props:({ownerState:s})=>s.endAdornment,style:{paddingRight:12}},{props:({ownerState:s})=>s.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:s,size:l})=>s.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:s})=>s.multiline&&s.hiddenLabel&&s.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),mq=ze($y,{name:"MuiFilledInput",slot:"Input",overridesResolver:jy})(ht(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Gb=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:l=!1,hiddenLabel:d,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:g="text",...S}=r,y={...r,disableUnderline:i,fullWidth:l,inputComponent:h,multiline:f,type:g},C=pq(r),x={root:{ownerState:y},input:{ownerState:y}},w=m??s?$n(x,m??s):x,b=v.root??o.Root??gq,T=v.input??o.Input??mq;return le.jsx(Vb,{slots:{root:b,input:T},slotProps:w,fullWidth:l,inputComponent:h,multiline:f,ref:t,type:g,...S,classes:C})});Gb.muiName="Input";function Sq(n){return gt("MuiFormControl",n)}mt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const yq=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Ge(t)}`,r&&"fullWidth"]};return St(i,Sq,e)},vq=ze("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Ge(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Cq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:l="div",disabled:d=!1,error:h=!1,focused:f,fullWidth:m=!1,hiddenLabel:v=!1,margin:g="none",required:S=!1,size:y="medium",variant:C="outlined",...x}=r,w={...r,color:s,component:l,disabled:d,error:h,fullWidth:m,hiddenLabel:v,margin:g,required:S,size:y,variant:C},b=yq(w),[T,P]=J.useState(()=>{let _=!1;return i&&J.Children.forEach(i,B=>{if(!J5(B,["Input","Select"]))return;const W=J5(B,["Select"])?B.props.input:B;W&&vU(W.props)&&(_=!0)}),_}),[A,F]=J.useState(()=>{let _=!1;return i&&J.Children.forEach(i,B=>{J5(B,["Input","Select"])&&(E2(B.props,!0)||E2(B.props.inputProps,!0))&&(_=!0)}),_}),[E,k]=J.useState(!1);d&&E&&k(!1);const R=f!==void 0&&!d?f:E;let U;J.useRef(!1);const N=J.useCallback(()=>{F(!0)},[]),L=J.useCallback(()=>{F(!1)},[]),I=J.useMemo(()=>({adornedStart:T,setAdornedStart:P,color:s,disabled:d,error:h,filled:A,focused:R,fullWidth:m,hiddenLabel:v,size:y,onBlur:()=>{k(!1)},onFocus:()=>{k(!0)},onEmpty:L,onFilled:N,registerEffect:U,required:S,variant:C}),[T,s,d,h,A,R,m,v,U,L,N,S,y,C]);return le.jsx(zy.Provider,{value:I,children:le.jsx(vq,{as:l,ownerState:w,className:et(b.root,o),ref:t,...x,children:i})})});function bq(n){return gt("MuiFormHelperText",n)}const ix=mt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ox;const wq=n=>{const{classes:e,contained:t,size:r,disabled:i,error:o,filled:s,focused:l,required:d}=n,h={root:["root",i&&"disabled",o&&"error",r&&`size${Ge(r)}`,t&&"contained",l&&"focused",s&&"filled",d&&"required"]};return St(h,bq,e)},Dq=ze("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Ge(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(ht(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ix.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${ix.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),xq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p",disabled:l,error:d,filled:h,focused:f,margin:m,required:v,variant:g,...S}=r,y=md(),C=cf({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:s,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const w=wq(x);return le.jsx(Dq,{as:s,className:et(w.root,o),ref:t,...S,ownerState:x,children:i===" "?ox||(ox=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function Tq(n){return gt("MuiFormLabel",n)}const lp=mt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Pq=n=>{const{classes:e,color:t,focused:r,disabled:i,error:o,filled:s,required:l}=n,d={root:["root",`color${Ge(t)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return St(d,Tq,e)},Iq=ze("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(ht(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&.${lp.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${lp.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${lp.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),Rq=ze("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(ht(({theme:n})=>({[`&.${lp.error}`]:{color:(n.vars||n).palette.error.main}}))),Lq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:s,component:l="label",disabled:d,error:h,filled:f,focused:m,required:v,...g}=r,S=md(),y=cf({props:r,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),C={...r,color:y.color||"primary",component:l,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=Pq(C);return le.jsxs(Iq,{as:l,ownerState:C,className:et(x.root,o),ref:t,...g,children:[i,y.required&&le.jsxs(Rq,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:["","*"]})]})});function h4(n){return`scale(${n}, ${n**2})`}const Aq={entering:{opacity:1,transform:h4(1)},entered:{opacity:1,transform:"none"}},aC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),f4=J.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:l,onEnter:d,onEntered:h,onEntering:f,onExit:m,onExited:v,onExiting:g,style:S,timeout:y="auto",TransitionComponent:C=ia,...x}=e,w=zI(),b=J.useRef(),T=uf(),P=J.useRef(null),A=Ar(P,lf(o),t),F=_=>B=>{if(_){const W=P.current;B===void 0?_(W):_(W,B)}},E=F(f),k=F((_,B)=>{Bb(_);const{duration:W,delay:H,easing:j}=Zh({style:S,timeout:y,easing:s},{mode:"enter"});let X;y==="auto"?(X=T.transitions.getAutoHeightDuration(_.clientHeight),b.current=X):X=W,_.style.transition=[T.transitions.create("opacity",{duration:X,delay:H}),T.transitions.create("transform",{duration:aC?X:X*.666,delay:H,easing:j})].join(","),d&&d(_,B)}),R=F(h),U=F(g),N=F(_=>{const{duration:B,delay:W,easing:H}=Zh({style:S,timeout:y,easing:s},{mode:"exit"});let j;y==="auto"?(j=T.transitions.getAutoHeightDuration(_.clientHeight),b.current=j):j=B,_.style.transition=[T.transitions.create("opacity",{duration:j,delay:W}),T.transitions.create("transform",{duration:aC?j:j*.666,delay:aC?W:W||j*.333,easing:H})].join(","),_.style.opacity=0,_.style.transform=h4(.75),m&&m(_)}),L=F(v),I=_=>{y==="auto"&&w.start(b.current||0,_),r&&r(P.current,_)};return le.jsx(C,{appear:i,in:l,nodeRef:P,onEnter:k,onEntered:R,onEntering:E,onExit:N,onExited:L,onExiting:U,addEndListener:I,timeout:y==="auto"?null:y,...x,children:(_,{ownerState:B,...W})=>J.cloneElement(o,{style:{opacity:0,transform:h4(.75),visibility:_==="exited"&&!l?"hidden":void 0,...Aq[_],...S,...o.props.style},ref:A,...W})})});f4&&(f4.muiSupportAuto=!0);const Oq=VI({themeId:ea}),Eq=n=>{const{classes:e,disableUnderline:t}=n,i=St({root:["root",!t&&"underline"],input:["input"]},wU,e);return{...e,...i}},kq=ze(Hy,{shouldForwardProp:n=>qa(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Wy(n,e),!t.disableUnderline&&e.underline]}})(ht(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Kf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Kf.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Kf.disabled}, .${Kf.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Kf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(or()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),_q=ze($y,{name:"MuiInput",slot:"Input",overridesResolver:jy})({}),Qb=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:s,fullWidth:l=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text",...g}=r,S=Eq(r),C={root:{ownerState:{disableUnderline:i}}},x=f??s?$n(f??s,C):C,w=m.root??o.Root??kq,b=m.input??o.Input??_q;return le.jsx(Vb,{slots:{root:w,input:b},slotProps:x,fullWidth:l,inputComponent:d,multiline:h,ref:t,type:v,...g,classes:S})});Qb.muiName="Input";function Fq(n){return gt("MuiInputAdornment",n)}const ax=mt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var sx;const Mq=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ge(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},Nq=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:r,position:i,size:o,variant:s}=n,l={root:["root",t&&"disablePointerEvents",i&&`position${Ge(i)}`,s,r&&"hiddenLabel",o&&`size${Ge(o)}`]};return St(l,Fq,e)},Uq=ze("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Mq})(ht(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${ax.positionStart}&:not(.${ax.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),qq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:l=!1,disableTypography:d=!1,position:h,variant:f,...m}=r,v=md()||{};let g=f;f&&v.variant,v&&!g&&(g=v.variant);const S={...r,hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:l,position:h,variant:g},y=Nq(S);return le.jsx(zy.Provider,{value:null,children:le.jsx(Uq,{as:s,ownerState:S,className:et(y.root,o),ref:t,...m,children:typeof i=="string"&&!d?le.jsx(O2,{color:"textSecondary",children:i}):le.jsxs(J.Fragment,{children:[h==="start"?sx||(sx=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function Bq(n){return gt("MuiInputLabel",n)}mt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Vq=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:o,variant:s,required:l}=n,d={root:["root",t&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ge(r)}`,s],asterisk:[l&&"asterisk"]},h=St(d,Bq,e);return{...e,...h}},Gq=ze(Lq,{shouldForwardProp:n=>qa(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${lp.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(ht(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Qq=J.forwardRef(function(e,t){const r=yt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:s,variant:l,className:d,...h}=r,f=md();let m=s;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const v=cf({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),g={...r,disableAnimation:i,formControl:f,shrink:m,size:v.size,variant:v.variant,required:v.required,focused:v.focused},S=Vq(g);return le.jsx(Gq,{"data-shrink":m,ref:t,className:et(S.root,d),...h,ownerState:g,classes:S})});function zq(n){return gt("MuiLinearProgress",n)}mt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const p4=4,g4=Pu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Wq=typeof g4!="string"?sf`
        animation: ${g4} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,m4=Pu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,jq=typeof m4!="string"?sf`
        animation: ${m4} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,S4=Pu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,Hq=typeof S4!="string"?sf`
        animation: ${S4} 3s infinite linear;
      `:null,$q=n=>{const{classes:e,variant:t,color:r}=n,i={root:["root",`color${Ge(r)}`,t],dashed:["dashed",`dashedColor${Ge(r)}`],bar1:["bar","bar1",`barColor${Ge(r)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Ge(r)}`,t==="buffer"&&`color${Ge(r)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return St(i,zq,e)},zb=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?dd(n.palette[e].main,.62):cd(n.palette[e].main,.5),Yq=ze("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ge(t.color)}`],e[t.variant]]}})(ht(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{backgroundColor:zb(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Xq=ze("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Ge(t.color)}`]]}})(ht(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(or()).map(([e])=>{const t=zb(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),Hq||{animation:`${S4} 3s infinite linear`}),Kq=ze("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Ge(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(ht(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${p4}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${p4}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:Wq||{animation:`${g4} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Zq=ze("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Ge(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(ht(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:zb(n,e),transition:`transform .${p4}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:jq||{animation:`${m4} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Jq=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:l,variant:d="indeterminate",...h}=r,f={...r,color:o,variant:d},m=$q(f),v=Ob(),g={},S={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&s!==void 0){g["aria-valuenow"]=Math.round(s),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let y=s-100;v&&(y=-y),S.bar1.transform=`translateX(${y}%)`}if(d==="buffer"&&l!==void 0){let y=(l||0)-100;v&&(y=-y),S.bar2.transform=`translateX(${y}%)`}return le.jsxs(Yq,{className:et(m.root,i),ownerState:f,role:"progressbar",...g,ref:t,...h,children:[d==="buffer"?le.jsx(Xq,{className:m.dashed,ownerState:f}):null,le.jsx(Kq,{className:m.bar1,ownerState:f,style:S.bar1}),d==="determinate"?null:le.jsx(Zq,{className:m.bar2,ownerState:f,style:S.bar2})]})});function eB(n){return gt("MuiLink",n)}const tB=mt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),nB=({theme:n,ownerState:e})=>{const t=e.color,r=pu(n,`palette.${t}.main`,!1)||pu(n,`palette.${t}`,!1)||e.color,i=pu(n,`palette.${t}.mainChannel`)||pu(n,`palette.${t}Channel`);return"vars"in n&&i?`rgba(${i} / 0.4)`:In(r,.4)},lx={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},rB=n=>{const{classes:e,component:t,focusVisible:r,underline:i}=n,o={root:["root",`underline${Ge(i)}`,t==="button"&&"button",r&&"focusVisible"]};return St(o,eB,e)},iB=ze(O2,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Ge(t.underline)}`],t.component==="button"&&e.button]}})(ht(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:In(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:In(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:In(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${tB.focusVisible}`]:{outline:"auto"}}}]}))),ux=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiLink"}),i=uf(),{className:o,color:s="primary",component:l="a",onBlur:d,onFocus:h,TypographyClasses:f,underline:m="always",variant:v="inherit",sx:g,...S}=r,[y,C]=J.useState(!1),x=P=>{Kh(P.target)||C(!1),d&&d(P)},w=P=>{Kh(P.target)&&C(!0),h&&h(P)},b={...r,color:s,component:l,focusVisible:y,underline:m,variant:v},T=rB(b);return le.jsx(iB,{color:s,className:et(T.root,o),classes:f,component:l,onBlur:x,onFocus:w,ref:t,ownerState:b,variant:v,...S,sx:[...lx[s]===void 0?[{color:s}]:[],...Array.isArray(g)?g:[g]],style:{...S.style,...m==="always"&&s!=="inherit"&&!lx[s]&&{"--Link-underlineColor":nB({theme:i,ownerState:b})}}})}),oB=J.createContext({});function aB(n){return gt("MuiList",n)}mt("MuiList",["root","padding","dense","subheader"]);const sB=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return St({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},aB,e)},lB=ze("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),uB=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:l=!1,disablePadding:d=!1,subheader:h,...f}=r,m=J.useMemo(()=>({dense:l}),[l]),v={...r,component:s,dense:l,disablePadding:d},g=sB(v);return le.jsx(oB.Provider,{value:m,children:le.jsxs(lB,{as:s,className:et(g.root,o),ref:t,ownerState:v,...f,children:[h,i]})})});function sC(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function cx(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function hR(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Zf(n,e,t,r,i,o){let s=!1,l=i(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(s)return!1;s=!0}const d=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!hR(l,o)||d)l=i(n,l,t);else return l.focus(),!0}return!1}const cB=J.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:l,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:f,variant:m="selectedMenu",...v}=e,g=J.useRef(null),S=J.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Na(()=>{i&&g.current.focus()},[i]),J.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,{direction:T})=>{const P=!g.current.style.width;if(b.clientHeight<g.current.clientHeight&&P){const A=`${WI(na(b))}px`;g.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=A,g.current.style.width=`calc(100% + ${A})`}return g.current}}),[]);const y=b=>{const T=g.current,P=b.key;if(b.ctrlKey||b.metaKey||b.altKey){f&&f(b);return}const F=Gr(T).activeElement;if(P==="ArrowDown")b.preventDefault(),Zf(T,F,h,d,sC);else if(P==="ArrowUp")b.preventDefault(),Zf(T,F,h,d,cx);else if(P==="Home")b.preventDefault(),Zf(T,null,h,d,sC);else if(P==="End")b.preventDefault(),Zf(T,null,h,d,cx);else if(P.length===1){const E=S.current,k=P.toLowerCase(),R=performance.now();E.keys.length>0&&(R-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&k!==E.keys[0]&&(E.repeating=!1)),E.lastTime=R,E.keys.push(k);const U=F&&!E.repeating&&hR(F,E);E.previousKeyMatched&&(U||Zf(T,F,!1,d,sC,E))?b.preventDefault():E.previousKeyMatched=!1}f&&f(b)},C=Ar(g,t);let x=-1;J.Children.forEach(s,(b,T)=>{if(!J.isValidElement(b)){x===T&&(x+=1,x>=s.length&&(x=-1));return}b.props.disabled||(m==="selectedMenu"&&b.props.selected||x===-1)&&(x=T),x===T&&(b.props.disabled||b.props.muiSkipListHighlight||b.type.muiSkipListHighlight)&&(x+=1,x>=s.length&&(x=-1))});const w=J.Children.map(s,(b,T)=>{if(T===x){const P={};return o&&(P.autoFocus=!0),b.props.tabIndex===void 0&&m==="selectedMenu"&&(P.tabIndex=0),J.cloneElement(b,P)}return b});return le.jsx(uB,{role:"menu",ref:C,className:l,onKeyDown:y,tabIndex:i?0:-1,...v,children:w})});function dB(n){return gt("MuiPopover",n)}mt("MuiPopover",["root","paper"]);function dx(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function hx(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function fx(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function lC(n){return typeof n=="function"?n():n}const hB=n=>{const{classes:e}=n;return St({root:["root"],paper:["paper"]},dB,e)},fB=ze(dR,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),fR=ze(Kg,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),pB=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:v=8,marginThreshold:g=16,open:S,PaperProps:y={},slots:C={},slotProps:x={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:b,transitionDuration:T="auto",TransitionProps:P={},disableScrollLock:A=!1,...F}=r,E=J.useRef(),k={...r,anchorOrigin:s,anchorReference:d,elevation:v,marginThreshold:g,transformOrigin:w,TransitionComponent:b,transitionDuration:T,TransitionProps:P},R=hB(k),U=J.useCallback(()=>{if(d==="anchorPosition")return l;const me=lC(o),Te=(me&&me.nodeType===1?me:Gr(E.current).body).getBoundingClientRect();return{top:Te.top+dx(Te,s.vertical),left:Te.left+hx(Te,s.horizontal)}},[o,s.horizontal,s.vertical,l,d]),N=J.useCallback(me=>({vertical:dx(me,w.vertical),horizontal:hx(me,w.horizontal)}),[w.horizontal,w.vertical]),L=J.useCallback(me=>{const we={width:me.offsetWidth,height:me.offsetHeight},Te=N(we);if(d==="none")return{top:null,left:null,transformOrigin:fx(Te)};const qe=U();let q=qe.top-Te.vertical,ge=qe.left-Te.horizontal;const Se=q+we.height,Z=ge+we.width,K=na(lC(o)),ce=K.innerHeight-g,Ce=K.innerWidth-g;if(g!==null&&q<g){const xe=q-g;q-=xe,Te.vertical+=xe}else if(g!==null&&Se>ce){const xe=Se-ce;q-=xe,Te.vertical+=xe}if(g!==null&&ge<g){const xe=ge-g;ge-=xe,Te.horizontal+=xe}else if(Z>Ce){const xe=Z-Ce;ge-=xe,Te.horizontal+=xe}return{top:`${Math.round(q)}px`,left:`${Math.round(ge)}px`,transformOrigin:fx(Te)}},[o,d,U,N,g]),[I,_]=J.useState(S),B=J.useCallback(()=>{const me=E.current;if(!me)return;const we=L(me);we.top!==null&&me.style.setProperty("top",we.top),we.left!==null&&(me.style.left=we.left),me.style.transformOrigin=we.transformOrigin,_(!0)},[L]);J.useEffect(()=>(A&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[o,A,B]);const W=()=>{B()},H=()=>{_(!1)};J.useEffect(()=>{S&&B()}),J.useImperativeHandle(i,()=>S?{updatePosition:()=>{B()}}:null,[S,B]),J.useEffect(()=>{if(!S)return;const me=Lb(()=>{B()}),we=na(o);return we.addEventListener("resize",me),()=>{me.clear(),we.removeEventListener("resize",me)}},[o,S,B]);let j=T;const X={slots:{transition:b,...C},slotProps:{transition:P,paper:y,...x}},[V,$]=ir("transition",{elementType:f4,externalForwardedProps:X,ownerState:k,getSlotProps:me=>({...me,onEntering:(we,Te)=>{var qe;(qe=me.onEntering)==null||qe.call(me,we,Te),W()},onExited:we=>{var Te;(Te=me.onExited)==null||Te.call(me,we),H()}}),additionalProps:{appear:!0,in:S}});T==="auto"&&!V.muiSupportAuto&&(j=void 0);const ne=m||(o?Gr(lC(o)).body:void 0),[ie,{slots:te,slotProps:pe,...ee}]=ir("root",{ref:t,elementType:fB,externalForwardedProps:{...X,...F},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:CN(typeof x.backdrop=="function"?x.backdrop(k):x.backdrop,{invisible:!0})},container:ne,open:S},ownerState:k,className:et(R.root,f)}),[oe,de]=ir("paper",{ref:E,className:R.paper,elementType:fR,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:I?void 0:{opacity:0}},ownerState:k});return le.jsx(ie,{...ee,...!od(ie)&&{slots:te,slotProps:pe,disableScrollLock:A},children:le.jsx(V,{...$,timeout:j,children:le.jsx(oe,{...de,children:h})})})});function gB(n){return gt("MuiMenu",n)}mt("MuiMenu",["root","paper","list"]);const mB={vertical:"top",horizontal:"right"},SB={vertical:"top",horizontal:"left"},yB=n=>{const{classes:e}=n;return St({root:["root"],paper:["paper"],list:["list"]},gB,e)},vB=ze(pB,{shouldForwardProp:n=>qa(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),CB=ze(fR,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),bB=ze(cB,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),wB=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:s,disableAutoFocusItem:l=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:S,...y}={},variant:C="selectedMenu",slots:x={},slotProps:w={},...b}=r,T=Ob(),P={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:d,onEntering:S,PaperProps:m,transitionDuration:g,TransitionProps:y,variant:C},A=yB(P),F=i&&!l&&f,E=J.useRef(null),k=(j,X)=>{E.current&&E.current.adjustStyleForScrollbar(j,{direction:T?"rtl":"ltr"}),S&&S(j,X)},R=j=>{j.key==="Tab"&&(j.preventDefault(),h&&h(j,"tabKeyDown"))};let U=-1;J.Children.map(o,(j,X)=>{J.isValidElement(j)&&(j.props.disabled||(C==="selectedMenu"&&j.props.selected||U===-1)&&(U=X))});const N={slots:x,slotProps:{list:d,transition:y,paper:m,...w}},L=ns({elementType:x.root,externalSlotProps:w.root,ownerState:P,className:[A.root,s]}),[I,_]=ir("paper",{className:A.paper,elementType:CB,externalForwardedProps:N,shouldForwardComponentProp:!0,ownerState:P}),[B,W]=ir("list",{className:et(A.list,d.className),elementType:bB,shouldForwardComponentProp:!0,externalForwardedProps:N,getSlotProps:j=>({...j,onKeyDown:X=>{var V;R(X),(V=j.onKeyDown)==null||V.call(j,X)}}),ownerState:P}),H=typeof N.slotProps.transition=="function"?N.slotProps.transition(P):N.slotProps.transition;return le.jsx(vB,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?mB:SB,slots:{root:x.root,paper:I,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:L,paper:_,backdrop:typeof w.backdrop=="function"?w.backdrop(P):w.backdrop,transition:{...H,onEntering:(...j)=>{var X;k(...j),(X=H==null?void 0:H.onEntering)==null||X.call(H,...j)}}},open:f,ref:t,transitionDuration:g,ownerState:P,...b,classes:v,children:le.jsx(B,{actions:E,autoFocus:i&&(U===-1||l),autoFocusItem:F,variant:C,...W,children:o})})});function DB(n){return gt("MuiNativeSelect",n)}const Wb=mt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),xB=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,l={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ge(t)}`,o&&"iconOpen",r&&"disabled"]};return St(l,DB,e)},pR=ze("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Wb.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),TB=ze(pR,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:qa,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Wb.multiple}`]:e.multiple}]}})({}),gR=ze("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Wb.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),PB=ze(gR,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ge(t.variant)}`],t.open&&e.iconOpen]}})({}),IB=J.forwardRef(function(e,t){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:l,variant:d="standard",...h}=e,f={...e,disabled:i,variant:d,error:o},m=xB(f);return le.jsxs(J.Fragment,{children:[le.jsx(TB,{ownerState:f,className:et(m.select,r),disabled:i,ref:l||t,...h}),e.multiple?null:le.jsx(PB,{as:s,ownerState:f,className:m.icon})]})});var px;const RB=ze("fieldset",{shouldForwardProp:qa})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),LB=ze("legend",{shouldForwardProp:qa})(ht(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function AB(n){const{children:e,classes:t,className:r,label:i,notched:o,...s}=n,l=i!=null&&i!=="",d={...n,notched:o,withLabel:l};return le.jsx(RB,{"aria-hidden":!0,className:r,ownerState:d,...s,children:le.jsx(LB,{ownerState:d,children:l?le.jsx("span",{children:i}):px||(px=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const OB=n=>{const{classes:e}=n,r=St({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},DU,e);return{...e,...r}},EB=ze(Hy,{shouldForwardProp:n=>qa(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Wy})(ht(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${da.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${da.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${da.focused} .${da.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(or()).map(([t])=>({props:{color:t},style:{[`&.${da.focused} .${da.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${da.error} .${da.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${da.disabled} .${da.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),kB=ze(AB,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(ht(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),_B=ze($y,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:jy})(ht(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),jb=J.forwardRef(function(e,t){var r;const i=yt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:s=!1,inputComponent:l="input",label:d,multiline:h=!1,notched:f,slots:m={},type:v="text",...g}=i,S=OB(i),y=md(),C=cf({props:i,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:y,fullWidth:s,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:v},w=m.root??o.Root??EB,b=m.input??o.Input??_B;return le.jsx(Vb,{slots:{root:w,input:b},renderSuffix:T=>le.jsx(kB,{ownerState:x,className:S.notchedOutline,label:d!=null&&d!==""&&C.required?r||(r=le.jsxs(J.Fragment,{children:[d,"","*"]})):d,notched:typeof f<"u"?f:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:s,inputComponent:l,multiline:h,ref:t,type:v,...g,classes:{...S,notchedOutline:null}})});jb.muiName="Input";function mR(n){return gt("MuiSelect",n)}const Jf=mt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var gx;const FB=ze(pR,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Jf.select}`]:e.select},{[`&.${Jf.select}`]:e[t.variant]},{[`&.${Jf.error}`]:e.error},{[`&.${Jf.multiple}`]:e.multiple}]}})({[`&.${Jf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),MB=ze(gR,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ge(t.variant)}`],t.open&&e.iconOpen]}})({}),NB=ze("input",{shouldForwardProp:n=>Gy(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function mx(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function UB(n){return n==null||typeof n=="string"&&!n.trim()}const qB=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:s}=n,l={select:["select",t,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ge(t)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return St(l,mR,e)},BB=J.forwardRef(function(e,t){var It;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:s,children:l,className:d,defaultOpen:h,defaultValue:f,disabled:m,displayEmpty:v,error:g=!1,IconComponent:S,inputRef:y,labelId:C,MenuProps:x={},multiple:w,name:b,onBlur:T,onChange:P,onClose:A,onFocus:F,onOpen:E,open:k,readOnly:R,renderValue:U,required:N,SelectDisplayProps:L={},tabIndex:I,type:_,value:B,variant:W="standard",...H}=e,[j,X]=e4({controlled:B,default:f,name:"Select"}),[V,$]=e4({controlled:k,default:h,name:"Select"}),ne=J.useRef(null),ie=J.useRef(null),[te,pe]=J.useState(null),{current:ee}=J.useRef(k!=null),[oe,de]=J.useState(),me=Ar(t,y),we=J.useCallback(Ye=>{ie.current=Ye,Ye&&pe(Ye)},[]),Te=te==null?void 0:te.parentNode;J.useImperativeHandle(me,()=>({focus:()=>{ie.current.focus()},node:ne.current,value:j}),[j]),J.useEffect(()=>{h&&V&&te&&!ee&&(de(s?null:Te.clientWidth),ie.current.focus())},[te,s]),J.useEffect(()=>{o&&ie.current.focus()},[o]),J.useEffect(()=>{if(!C)return;const Ye=Gr(ie.current).getElementById(C);if(Ye){const ut=()=>{getSelection().isCollapsed&&ie.current.focus()};return Ye.addEventListener("click",ut),()=>{Ye.removeEventListener("click",ut)}}},[C]);const qe=(Ye,ut)=>{Ye?E&&E(ut):A&&A(ut),ee||(de(s?null:Te.clientWidth),$(Ye))},q=Ye=>{Ye.button===0&&(Ye.preventDefault(),ie.current.focus(),qe(!0,Ye))},ge=Ye=>{qe(!1,Ye)},Se=J.Children.toArray(l),Z=Ye=>{const ut=Se.find(Gt=>Gt.props.value===Ye.target.value);ut!==void 0&&(X(ut.props.value),P&&P(Ye,ut))},K=Ye=>ut=>{let Gt;if(ut.currentTarget.hasAttribute("tabindex")){if(w){Gt=Array.isArray(j)?j.slice():[];const zr=j.indexOf(Ye.props.value);zr===-1?Gt.push(Ye.props.value):Gt.splice(zr,1)}else Gt=Ye.props.value;if(Ye.props.onClick&&Ye.props.onClick(ut),j!==Gt&&(X(Gt),P)){const zr=ut.nativeEvent||ut,Qi=new zr.constructor(zr.type,zr);Object.defineProperty(Qi,"target",{writable:!0,value:{value:Gt,name:b}}),P(Qi,Ye)}w||qe(!1,ut)}},ce=Ye=>{R||[" ","ArrowUp","ArrowDown","Enter"].includes(Ye.key)&&(Ye.preventDefault(),qe(!0,Ye))},Ce=te!==null&&V,xe=Ye=>{!Ce&&T&&(Object.defineProperty(Ye,"target",{writable:!0,value:{value:j,name:b}}),T(Ye))};delete H["aria-invalid"];let se,Ae;const ke=[];let he=!1;(E2({value:j})||v)&&(U?se=U(j):he=!0);const be=Se.map(Ye=>{if(!J.isValidElement(Ye))return null;let ut;if(w){if(!Array.isArray(j))throw new Error(Ws(2));ut=j.some(Gt=>mx(Gt,Ye.props.value)),ut&&he&&ke.push(Ye.props.children)}else ut=mx(j,Ye.props.value),ut&&he&&(Ae=Ye.props.children);return J.cloneElement(Ye,{"aria-selected":ut?"true":"false",onClick:K(Ye),onKeyUp:Gt=>{Gt.key===" "&&Gt.preventDefault(),Ye.props.onKeyUp&&Ye.props.onKeyUp(Gt)},role:"option",selected:ut,value:void 0,"data-value":Ye.props.value})});he&&(w?ke.length===0?se=null:se=ke.reduce((Ye,ut,Gt)=>(Ye.push(ut),Gt<ke.length-1&&Ye.push(", "),Ye),[]):se=Ae);let Ne=oe;!s&&ee&&te&&(Ne=Te.clientWidth);let Ee;typeof I<"u"?Ee=I:Ee=m?null:0;const We=L.id||(b?`mui-component-select-${b}`:void 0),Be={...e,variant:W,value:j,open:Ce,error:g},Qe=qB(Be),nt={...x.PaperProps,...(It=x.slotProps)==null?void 0:It.paper},je=qy();return le.jsxs(J.Fragment,{children:[le.jsx(FB,{as:"div",ref:we,tabIndex:Ee,role:"combobox","aria-controls":Ce?je:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":Ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[C,We].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":N?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:ce,onMouseDown:m||R?null:q,onBlur:xe,onFocus:F,...L,ownerState:Be,className:et(L.className,Qe.select,d),id:We,children:UB(se)?gx||(gx=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):se}),le.jsx(NB,{"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:b,ref:ne,"aria-hidden":!0,onChange:Z,tabIndex:-1,disabled:m,className:Qe.nativeInput,autoFocus:o,required:N,...H,ownerState:Be}),le.jsx(MB,{as:S,className:Qe.icon,ownerState:Be}),le.jsx(wB,{id:`menu-${b||""}`,anchorEl:Te,open:Ce,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:je,...x.MenuListProps},paper:{...nt,style:{minWidth:Ne,...nt!=null?nt.style:null}}},children:be})]})}),VB=n=>{const{classes:e}=n,r=St({root:["root"]},mR,e);return{...e,...r}},Hb={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>qa(n)&&n!=="variant",slot:"Root"},GB=ze(Qb,Hb)(""),QB=ze(jb,Hb)(""),zB=ze(Gb,Hb)(""),SR=J.forwardRef(function(e,t){const r=yt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:l,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:f=TU,id:m,input:v,inputProps:g,label:S,labelId:y,MenuProps:C,multiple:x=!1,native:w=!1,onClose:b,onOpen:T,open:P,renderValue:A,SelectDisplayProps:F,variant:E="outlined",...k}=r,R=w?IB:BB,U=md(),N=cf({props:r,muiFormControl:U,states:["variant","error"]}),L=N.variant||E,I={...r,variant:L,classes:s},_=VB(I),{root:B,...W}=_,H=v||{standard:le.jsx(GB,{ownerState:I}),outlined:le.jsx(QB,{label:S,ownerState:I}),filled:le.jsx(zB,{ownerState:I})}[L],j=Ar(t,lf(H));return le.jsx(J.Fragment,{children:J.cloneElement(H,{inputComponent:R,inputProps:{children:o,error:N.error,IconComponent:f,variant:L,type:void 0,multiple:x,...w?{id:m}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:C,onClose:b,onOpen:T,open:P,renderValue:A,SelectDisplayProps:{id:m,...F}},...g,classes:g?$n(W,g.classes):W,...v?v.props.inputProps:{}},...(x&&w||h)&&L==="outlined"?{notched:!0}:{},ref:j,className:et(H.props.className,l,_.root),...!v&&{variant:L},...k})})});SR.muiName="Select";function WB(n,e,t=(r,i)=>r===i){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}const jB=2;function jd(n,e,t,r,i){return t===1?Math.min(n+e,i):Math.max(n-e,r)}function yR(n,e){return n-e}function Sx(n,e){const{index:t}=n.reduce((r,i,o)=>{const s=Math.abs(e-i);return r===null||s<r.distance||s===r.distance?{distance:s,index:o}:r},null)??{};return t}function mS(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let r=0;r<t.changedTouches.length;r+=1){const i=t.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function k2(n,e,t){return(n-e)*100/(t-e)}function HB(n,e,t){return(t-e)*n+e}function $B(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function YB(n,e,t){const r=Math.round((n-t)/e)*e+t;return Number(r.toFixed($B(e)))}function yx({values:n,newValue:e,index:t}){const r=n.slice();return r[t]=e,r.sort(yR)}function SS({sliderRef:n,activeIndex:e,setActive:t}){var i,o,s;const r=Gr(n.current);(!((i=n.current)!=null&&i.contains(r.activeElement))||Number((o=r==null?void 0:r.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((s=n.current)==null||s.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function yS(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?WB(n,e):!1}const XB={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},KB=n=>n;let vS;function vx(){return vS===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?vS=CSS.supports("touch-action","none"):vS=!0),vS}function ZB(n){const{"aria-labelledby":e,defaultValue:t,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:s=!1,max:l=100,min:d=0,name:h,onChange:f,onChangeCommitted:m,orientation:v="horizontal",rootRef:g,scale:S=KB,step:y=1,shiftStep:C=10,tabIndex:x,value:w}=n,b=J.useRef(void 0),[T,P]=J.useState(-1),[A,F]=J.useState(-1),[E,k]=J.useState(!1),R=J.useRef(0),U=J.useRef(null),[N,L]=e4({controlled:w,default:t??d,name:"Slider"}),I=f&&((he,be,Ne)=>{const Ee=he.nativeEvent||he,We=new Ee.constructor(Ee.type,Ee);Object.defineProperty(We,"target",{writable:!0,value:{value:be,name:h}}),U.current=be,f(We,be,Ne)}),_=Array.isArray(N);let B=_?N.slice().sort(yR):[N];B=B.map(he=>he==null?d:Xd(he,d,l));const W=s===!0&&y!==null?[...Array(Math.floor((l-d)/y)+1)].map((he,be)=>({value:d+y*be})):s||[],H=W.map(he=>he.value),[j,X]=J.useState(-1),V=J.useRef(null),$=Ar(g,V),ne=he=>be=>{var Ee;const Ne=Number(be.currentTarget.getAttribute("data-index"));Kh(be.target)&&X(Ne),F(Ne),(Ee=he==null?void 0:he.onFocus)==null||Ee.call(he,be)},ie=he=>be=>{var Ne;Kh(be.target)||X(-1),F(-1),(Ne=he==null?void 0:he.onBlur)==null||Ne.call(he,be)},te=(he,be)=>{const Ne=Number(he.currentTarget.getAttribute("data-index")),Ee=B[Ne],We=H.indexOf(Ee);let Be=be;if(W&&y==null){const Qe=H[H.length-1];Be>=Qe?Be=Qe:Be<=H[0]?Be=H[0]:Be=Be<Ee?H[We-1]:H[We+1]}if(Be=Xd(Be,d,l),_){i&&(Be=Xd(Be,B[Ne-1]||-1/0,B[Ne+1]||1/0));const Qe=Be;Be=yx({values:B,newValue:Be,index:Ne});let nt=Ne;i||(nt=Be.indexOf(Qe)),SS({sliderRef:V,activeIndex:nt})}L(Be),X(Ne),I&&!yS(Be,N)&&I(he,Be,Ne),m&&m(he,U.current??Be)},pe=he=>be=>{var Ne;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(be.key)){be.preventDefault();const Ee=Number(be.currentTarget.getAttribute("data-index")),We=B[Ee];let Be=null;if(y!=null){const Qe=be.shiftKey?C:y;switch(be.key){case"ArrowUp":Be=jd(We,Qe,1,d,l);break;case"ArrowRight":Be=jd(We,Qe,o?-1:1,d,l);break;case"ArrowDown":Be=jd(We,Qe,-1,d,l);break;case"ArrowLeft":Be=jd(We,Qe,o?1:-1,d,l);break;case"PageUp":Be=jd(We,C,1,d,l);break;case"PageDown":Be=jd(We,C,-1,d,l);break;case"Home":Be=d;break;case"End":Be=l;break}}else if(W){const Qe=H[H.length-1],nt=H.indexOf(We),je=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],It=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];je.includes(be.key)?nt===0?Be=H[0]:Be=H[nt-1]:It.includes(be.key)&&(nt===H.length-1?Be=Qe:Be=H[nt+1])}Be!=null&&te(be,Be)}(Ne=he==null?void 0:he.onKeyDown)==null||Ne.call(he,be)};Na(()=>{var he;r&&V.current.contains(document.activeElement)&&((he=document.activeElement)==null||he.blur())},[r]),r&&T!==-1&&P(-1),r&&j!==-1&&X(-1);const ee=he=>be=>{var Ne;(Ne=he.onChange)==null||Ne.call(he,be),te(be,be.target.valueAsNumber)},oe=J.useRef(void 0);let de=v;o&&v==="horizontal"&&(de+="-reverse");const me=({finger:he,move:be=!1})=>{const{current:Ne}=V,{width:Ee,height:We,bottom:Be,left:Qe}=Ne.getBoundingClientRect();let nt;de.startsWith("vertical")?nt=(Be-he.y)/We:nt=(he.x-Qe)/Ee,de.includes("-reverse")&&(nt=1-nt);let je;if(je=HB(nt,d,l),y)je=YB(je,y,d);else{const Ye=Sx(H,je);je=H[Ye]}je=Xd(je,d,l);let It=0;if(_){be?It=oe.current:It=Sx(B,je),i&&(je=Xd(je,B[It-1]||-1/0,B[It+1]||1/0));const Ye=je;je=yx({values:B,newValue:je,index:It}),i&&be||(It=je.indexOf(Ye),oe.current=It)}return{newValue:je,activeIndex:It}},we=Ma(he=>{const be=mS(he,b);if(!be)return;if(R.current+=1,he.type==="mousemove"&&he.buttons===0){Te(he);return}const{newValue:Ne,activeIndex:Ee}=me({finger:be,move:!0});SS({sliderRef:V,activeIndex:Ee,setActive:P}),L(Ne),!E&&R.current>jB&&k(!0),I&&!yS(Ne,N)&&I(he,Ne,Ee)}),Te=Ma(he=>{const be=mS(he,b);if(k(!1),!be)return;const{newValue:Ne}=me({finger:be,move:!0});P(-1),he.type==="touchend"&&F(-1),m&&m(he,U.current??Ne),b.current=void 0,q()}),qe=Ma(he=>{if(r)return;vx()||he.preventDefault();const be=he.changedTouches[0];be!=null&&(b.current=be.identifier);const Ne=mS(he,b);if(Ne!==!1){const{newValue:We,activeIndex:Be}=me({finger:Ne});SS({sliderRef:V,activeIndex:Be,setActive:P}),L(We),I&&!yS(We,N)&&I(he,We,Be)}R.current=0;const Ee=Gr(V.current);Ee.addEventListener("touchmove",we,{passive:!0}),Ee.addEventListener("touchend",Te,{passive:!0})}),q=J.useCallback(()=>{const he=Gr(V.current);he.removeEventListener("mousemove",we),he.removeEventListener("mouseup",Te),he.removeEventListener("touchmove",we),he.removeEventListener("touchend",Te)},[Te,we]);J.useEffect(()=>{const{current:he}=V;return he.addEventListener("touchstart",qe,{passive:vx()}),()=>{he.removeEventListener("touchstart",qe),q()}},[q,qe]),J.useEffect(()=>{r&&q()},[r,q]);const ge=he=>be=>{var We;if((We=he.onMouseDown)==null||We.call(he,be),r||be.defaultPrevented||be.button!==0)return;be.preventDefault();const Ne=mS(be,b);if(Ne!==!1){const{newValue:Be,activeIndex:Qe}=me({finger:Ne});SS({sliderRef:V,activeIndex:Qe,setActive:P}),L(Be),I&&!yS(Be,N)&&I(be,Be,Qe)}R.current=0;const Ee=Gr(V.current);Ee.addEventListener("mousemove",we,{passive:!0}),Ee.addEventListener("mouseup",Te)},Se=k2(_?B[0]:d,d,l),Z=k2(B[B.length-1],d,l)-Se,K=(he={})=>{const be=ap(he),Ne={onMouseDown:ge(be||{})},Ee={...be,...Ne};return{...he,ref:$,...Ee}},ce=he=>be=>{var Ee;(Ee=he.onMouseOver)==null||Ee.call(he,be);const Ne=Number(be.currentTarget.getAttribute("data-index"));F(Ne)},Ce=he=>be=>{var Ne;(Ne=he.onMouseLeave)==null||Ne.call(he,be),F(-1)},xe=(he={})=>{const be=ap(he),Ne={onMouseOver:ce(be||{}),onMouseLeave:Ce(be||{})};return{...he,...be,...Ne}},se=he=>({pointerEvents:T!==-1&&T!==he?"none":void 0});let Ae;return v==="vertical"&&(Ae=o?"vertical-rl":"vertical-lr"),{active:T,axis:de,axisProps:XB,dragging:E,focusedThumbIndex:j,getHiddenInputProps:(he={})=>{const be=ap(he),Ne={onChange:ee(be||{}),onFocus:ne(be||{}),onBlur:ie(be||{}),onKeyDown:pe(be||{})},Ee={...be,...Ne};return{tabIndex:x,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(l),"aria-valuemin":S(d),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:r,...he,...Ee,style:{...sM,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Ae}}},getRootProps:K,getThumbProps:xe,marks:W,open:A,range:_,rootRef:$,trackLeap:Z,trackOffset:Se,values:B,getThumbStyle:se}}const JB=n=>!n||!od(n);function eV(n){return gt("MuiSlider",n)}const Po=mt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),tV=n=>{const{open:e}=n;return{offset:et(e&&Po.valueLabelOpen),circle:Po.valueLabelCircle,label:Po.valueLabelLabel}};function nV(n){const{children:e,className:t,value:r}=n,i=tV(n);return e?J.cloneElement(e,{className:et(e.props.className)},le.jsxs(J.Fragment,{children:[e.props.children,le.jsx("span",{className:et(i.offset,t),"aria-hidden":!0,children:le.jsx("span",{className:i.circle,children:le.jsx("span",{className:i.label,children:r})})})]})):null}function Cx(n){return n}const rV=ze("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ge(t.color)}`],t.size!=="medium"&&e[`size${Ge(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(ht(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Po.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${Po.dragging}`]:{[`& .${Po.thumb}, & .${Po.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),iV=ze("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(n,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),oV=ze("span",{name:"MuiSlider",slot:"Track",overridesResolver:(n,e)=>e.track})(ht(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:dd(n.palette[e].main,.62),borderColor:dd(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:cd(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:cd(n.palette[e].main,.5)})}}}))]}))),aV=ze("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Ge(t.color)}`],t.size!=="medium"&&e[`thumbSize${Ge(t.size)}`]]}})(ht(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Po.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Po.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${In(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Po.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${In(n.palette[e].main,.16)}`}}}}))]}))),sV=ze(nV,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(n,e)=>e.valueLabel})(ht(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Po.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Po.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),lV=ze("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Gy(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(ht(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),uV=ze("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Gy(n)&&n!=="markLabelActive",overridesResolver:(n,e)=>e.markLabel})(ht(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),cV=n=>{const{disabled:e,dragging:t,marked:r,orientation:i,track:o,classes:s,color:l,size:d}=n,h={root:["root",e&&"disabled",t&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",l&&`color${Ge(l)}`,d&&`size${Ge(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${Ge(d)}`,l&&`thumbColor${Ge(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return St(h,eV,s)},dV=({children:n})=>n,hV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiSlider"}),i=Ob(),{"aria-label":o,"aria-valuetext":s,"aria-labelledby":l,component:d="span",components:h={},componentsProps:f={},color:m="primary",classes:v,className:g,disableSwap:S=!1,disabled:y=!1,getAriaLabel:C,getAriaValueText:x,marks:w=!1,max:b=100,min:T=0,name:P,onChange:A,onChangeCommitted:F,orientation:E="horizontal",shiftStep:k=10,size:R="medium",step:U=1,scale:N=Cx,slotProps:L,slots:I,tabIndex:_,track:B="normal",value:W,valueLabelDisplay:H="off",valueLabelFormat:j=Cx,...X}=r,V={...r,isRtl:i,max:b,min:T,classes:v,disabled:y,disableSwap:S,orientation:E,marks:w,color:m,size:R,step:U,shiftStep:k,scale:N,track:B,valueLabelDisplay:H,valueLabelFormat:j},{axisProps:$,getRootProps:ne,getHiddenInputProps:ie,getThumbProps:te,open:pe,active:ee,axis:oe,focusedThumbIndex:de,range:me,dragging:we,marks:Te,values:qe,trackOffset:q,trackLeap:ge,getThumbStyle:Se}=ZB({...V,rootRef:t});V.marked=Te.length>0&&Te.some(Lt=>Lt.label),V.dragging=we,V.focusedThumbIndex=de;const Z=cV(V),K=(I==null?void 0:I.root)??h.Root??rV,ce=(I==null?void 0:I.rail)??h.Rail??iV,Ce=(I==null?void 0:I.track)??h.Track??oV,xe=(I==null?void 0:I.thumb)??h.Thumb??aV,se=(I==null?void 0:I.valueLabel)??h.ValueLabel??sV,Ae=(I==null?void 0:I.mark)??h.Mark??lV,ke=(I==null?void 0:I.markLabel)??h.MarkLabel??uV,he=(I==null?void 0:I.input)??h.Input??"input",be=(L==null?void 0:L.root)??f.root,Ne=(L==null?void 0:L.rail)??f.rail,Ee=(L==null?void 0:L.track)??f.track,We=(L==null?void 0:L.thumb)??f.thumb,Be=(L==null?void 0:L.valueLabel)??f.valueLabel,Qe=(L==null?void 0:L.mark)??f.mark,nt=(L==null?void 0:L.markLabel)??f.markLabel,je=(L==null?void 0:L.input)??f.input,It=ns({elementType:K,getSlotProps:ne,externalSlotProps:be,externalForwardedProps:X,additionalProps:{...JB(K)&&{as:d}},ownerState:{...V,...be==null?void 0:be.ownerState},className:[Z.root,g]}),Ye=ns({elementType:ce,externalSlotProps:Ne,ownerState:V,className:Z.rail}),ut=ns({elementType:Ce,externalSlotProps:Ee,additionalProps:{style:{...$[oe].offset(q),...$[oe].leap(ge)}},ownerState:{...V,...Ee==null?void 0:Ee.ownerState},className:Z.track}),Gt=ns({elementType:xe,getSlotProps:te,externalSlotProps:We,ownerState:{...V,...We==null?void 0:We.ownerState},className:Z.thumb}),zr=ns({elementType:se,externalSlotProps:Be,ownerState:{...V,...Be==null?void 0:Be.ownerState},className:Z.valueLabel}),Qi=ns({elementType:Ae,externalSlotProps:Qe,ownerState:V,className:Z.mark}),Ba=ns({elementType:ke,externalSlotProps:nt,ownerState:V,className:Z.markLabel}),Ao=ns({elementType:he,getSlotProps:ie,externalSlotProps:je,ownerState:V});return le.jsxs(K,{...It,children:[le.jsx(ce,{...Ye}),le.jsx(Ce,{...ut}),Te.filter(Lt=>Lt.value>=T&&Lt.value<=b).map((Lt,Jt)=>{const Sd=k2(Lt.value,T,b),Iu=$[oe].offset(Sd);let zi;return B===!1?zi=qe.includes(Lt.value):zi=B==="normal"&&(me?Lt.value>=qe[0]&&Lt.value<=qe[qe.length-1]:Lt.value<=qe[0])||B==="inverted"&&(me?Lt.value<=qe[0]||Lt.value>=qe[qe.length-1]:Lt.value>=qe[0]),le.jsxs(J.Fragment,{children:[le.jsx(Ae,{"data-index":Jt,...Qi,...!od(Ae)&&{markActive:zi},style:{...Iu,...Qi.style},className:et(Qi.className,zi&&Z.markActive)}),Lt.label!=null?le.jsx(ke,{"aria-hidden":!0,"data-index":Jt,...Ba,...!od(ke)&&{markLabelActive:zi},style:{...Iu,...Ba.style},className:et(Z.markLabel,Ba.className,zi&&Z.markLabelActive),children:Lt.label}):null]},Jt)}),qe.map((Lt,Jt)=>{const Sd=k2(Lt,T,b),Iu=$[oe].offset(Sd),zi=H==="off"?dV:se;return le.jsx(zi,{...!od(zi)&&{valueLabelFormat:j,valueLabelDisplay:H,value:typeof j=="function"?j(N(Lt),Jt):j,index:Jt,open:pe===Jt||ee===Jt||H==="on",disabled:y},...zr,children:le.jsx(xe,{"data-index":Jt,...Gt,className:et(Z.thumb,Gt.className,ee===Jt&&Z.active,de===Jt&&Z.focusVisible),style:{...Iu,...Se(Jt),...Gt.style},children:le.jsx(he,{"data-index":Jt,"aria-label":C?C(Jt):o,"aria-valuenow":N(Lt),"aria-labelledby":l,"aria-valuetext":x?x(N(Lt),Jt):s,value:qe[Jt],...Ao})})},Jt)})]})}),vR=MM({createStyledComponent:ze("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root}),useThemeProps:n=>yt({props:n,name:"MuiStack"})}),CR=J.createContext();function fV(n){return gt("MuiTable",n)}mt("MuiTable",["root","stickyHeader"]);const pV=n=>{const{classes:e,stickyHeader:t}=n;return St({root:["root",t&&"stickyHeader"]},fV,e)},gV=ze("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(ht(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),bx="table",mV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTable"}),{className:i,component:o=bx,padding:s="normal",size:l="medium",stickyHeader:d=!1,...h}=r,f={...r,component:o,padding:s,size:l,stickyHeader:d},m=pV(f),v=J.useMemo(()=>({padding:s,size:l,stickyHeader:d}),[s,l,d]);return le.jsx(CR.Provider,{value:v,children:le.jsx(gV,{as:o,role:o===bx?null:"table",ref:t,className:et(m.root,i),ownerState:f,...h})})}),Yy=J.createContext();function SV(n){return gt("MuiTableBody",n)}mt("MuiTableBody",["root"]);const yV=n=>{const{classes:e}=n;return St({root:["root"]},SV,e)},vV=ze("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-row-group"}),CV={variant:"body"},wx="tbody",bV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTableBody"}),{className:i,component:o=wx,...s}=r,l={...r,component:o},d=yV(l);return le.jsx(Yy.Provider,{value:CV,children:le.jsx(vV,{className:et(d.root,i),as:o,ref:t,role:o===wx?null:"rowgroup",ownerState:l,...s})})});function wV(n){return gt("MuiTableCell",n)}const DV=mt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),xV=n=>{const{classes:e,variant:t,align:r,padding:i,size:o,stickyHeader:s}=n,l={root:["root",t,s&&"stickyHeader",r!=="inherit"&&`align${Ge(r)}`,i!=="normal"&&`padding${Ge(i)}`,`size${Ge(o)}`]};return St(l,wV,e)},TV=ze("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Ge(t.size)}`],t.padding!=="normal"&&e[`padding${Ge(t.padding)}`],t.align!=="inherit"&&e[`align${Ge(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(ht(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?dd(In(n.palette.divider,1),.88):cd(In(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${DV.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),CS=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:l,scope:d,size:h,sortDirection:f,variant:m,...v}=r,g=J.useContext(CR),S=J.useContext(Yy),y=S&&S.variant==="head";let C;s?C=s:C=y?"th":"td";let x=d;C==="td"?x=void 0:!x&&y&&(x="col");const w=m||S&&S.variant,b={...r,align:i,component:C,padding:l||(g&&g.padding?g.padding:"normal"),size:h||(g&&g.size?g.size:"medium"),sortDirection:f,stickyHeader:w==="head"&&g&&g.stickyHeader,variant:w},T=xV(b);let P=null;return f&&(P=f==="asc"?"ascending":"descending"),le.jsx(TV,{as:C,ref:t,className:et(T.root,o),"aria-sort":P,scope:x,ownerState:b,...v})});function PV(n){return gt("MuiTableContainer",n)}mt("MuiTableContainer",["root"]);const IV=n=>{const{classes:e}=n;return St({root:["root"]},PV,e)},RV=ze("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(n,e)=>e.root})({width:"100%",overflowX:"auto"}),LV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTableContainer"}),{className:i,component:o="div",...s}=r,l={...r,component:o},d=IV(l);return le.jsx(RV,{ref:t,as:o,className:et(d.root,i),ownerState:l,...s})});function AV(n){return gt("MuiTableHead",n)}mt("MuiTableHead",["root"]);const OV=n=>{const{classes:e}=n;return St({root:["root"]},AV,e)},EV=ze("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-header-group"}),kV={variant:"head"},Dx="thead",_V=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTableHead"}),{className:i,component:o=Dx,...s}=r,l={...r,component:o},d=OV(l);return le.jsx(Yy.Provider,{value:kV,children:le.jsx(EV,{as:o,className:et(d.root,i),ref:t,role:o===Dx?null:"rowgroup",ownerState:l,...s})})});function FV(n){return gt("MuiToolbar",n)}mt("MuiToolbar",["root","gutters","regular","dense"]);const MV=n=>{const{classes:e,disableGutters:t,variant:r}=n;return St({root:["root",!t&&"gutters",r]},FV,e)},NV=ze("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(ht(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),UV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:l="regular",...d}=r,h={...r,component:o,disableGutters:s,variant:l},f=MV(h);return le.jsx(NV,{as:o,className:et(f.root,i),ref:t,ownerState:h,...d})});function qV(n){return gt("MuiTableRow",n)}const xx=mt("MuiTableRow",["root","selected","hover","head","footer"]),BV=n=>{const{classes:e,selected:t,hover:r,head:i,footer:o}=n;return St({root:["root",t&&"selected",r&&"hover",i&&"head",o&&"footer"]},qV,e)},VV=ze("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(ht(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${xx.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${xx.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),Tx="tr",Px=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTableRow"}),{className:i,component:o=Tx,hover:s=!1,selected:l=!1,...d}=r,h=J.useContext(Yy),f={...r,component:o,hover:s,selected:l,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},m=BV(f);return le.jsx(VV,{as:o,ref:t,className:et(m.root,i),role:o===Tx?null:"row",ownerState:f,...d})});function GV(n){return gt("MuiTextField",n)}mt("MuiTextField",["root"]);const QV={standard:Qb,filled:Gb,outlined:jb},zV=n=>{const{classes:e}=n;return St({root:["root"]},GV,e)},WV=ze(Cq,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),jV=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:l,color:d="primary",defaultValue:h,disabled:f=!1,error:m=!1,FormHelperTextProps:v,fullWidth:g=!1,helperText:S,id:y,InputLabelProps:C,inputProps:x,InputProps:w,inputRef:b,label:T,maxRows:P,minRows:A,multiline:F=!1,name:E,onBlur:k,onChange:R,onFocus:U,placeholder:N,required:L=!1,rows:I,select:_=!1,SelectProps:B,slots:W={},slotProps:H={},type:j,value:X,variant:V="outlined",...$}=r,ne={...r,autoFocus:o,color:d,disabled:f,error:m,fullWidth:g,multiline:F,required:L,select:_,variant:V},ie=zV(ne),te=qy(y),pe=S&&te?`${te}-helper-text`:void 0,ee=T&&te?`${te}-label`:void 0,oe=QV[V],de={slots:W,slotProps:{input:w,inputLabel:C,htmlInput:x,formHelperText:v,select:B,...H}},me={},we=de.slotProps.inputLabel;V==="outlined"&&(we&&typeof we.shrink<"u"&&(me.notched=we.shrink),me.label=T),_&&((!B||!B.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[Te,qe]=ir("input",{elementType:oe,externalForwardedProps:de,additionalProps:me,ownerState:ne}),[q,ge]=ir("inputLabel",{elementType:Qq,externalForwardedProps:de,ownerState:ne}),[Se,Z]=ir("htmlInput",{elementType:"input",externalForwardedProps:de,ownerState:ne}),[K,ce]=ir("formHelperText",{elementType:xq,externalForwardedProps:de,ownerState:ne}),[Ce,xe]=ir("select",{elementType:SR,externalForwardedProps:de,ownerState:ne}),se=le.jsx(Te,{"aria-describedby":pe,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:g,multiline:F,name:E,rows:I,maxRows:P,minRows:A,type:j,value:X,id:te,inputRef:b,onBlur:k,onChange:R,onFocus:U,placeholder:N,inputProps:Z,slots:{input:W.htmlInput?Se:void 0},...qe});return le.jsxs(WV,{className:et(ie.root,l),disabled:f,error:m,fullWidth:g,ref:t,required:L,color:d,variant:V,ownerState:ne,...$,children:[T!=null&&T!==""&&le.jsx(q,{htmlFor:te,id:ee,...ge,children:T}),_?le.jsx(Ce,{"aria-describedby":pe,id:te,labelId:ee,value:X,input:se,...xe,children:s}):se,S&&le.jsx(K,{id:pe,...ce,children:S})]})});function HV(n){return gt("MuiToggleButton",n)}const rc=mt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),bR=J.createContext({}),wR=J.createContext(void 0);function $V(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const YV=n=>{const{classes:e,fullWidth:t,selected:r,disabled:i,size:o,color:s}=n,l={root:["root",r&&"selected",i&&"disabled",t&&"fullWidth",`size${Ge(o)}`,s]};return St(l,HV,e)},XV=ze(lR,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Ge(t.size)}`]]}})(ht(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${rc.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:In(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${rc.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(or()).map(([e])=>({props:{color:e},style:{[`&.${rc.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),bS=J.forwardRef(function(e,t){const{value:r,...i}=J.useContext(bR),o=J.useContext(wR),s=Cp({...i,selected:$V(e.value,r)},e),l=yt({props:s,name:"MuiToggleButton"}),{children:d,className:h,color:f="standard",disabled:m=!1,disableFocusRipple:v=!1,fullWidth:g=!1,onChange:S,onClick:y,selected:C,size:x="medium",value:w,...b}=l,T={...l,color:f,disabled:m,disableFocusRipple:v,fullWidth:g,size:x},P=YV(T),A=E=>{y&&(y(E,w),E.defaultPrevented)||S&&S(E,w)},F=o||"";return le.jsx(XV,{className:et(i.className,P.root,h,F),disabled:m,focusRipple:!v,ref:t,onClick:A,onChange:S,value:w,ownerState:T,"aria-pressed":C,...b,children:d})});function KV(n){return gt("MuiToggleButtonGroup",n)}const nn=mt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ZV=n=>{const{classes:e,orientation:t,fullWidth:r,disabled:i}=n,o={root:["root",t,r&&"fullWidth"],grouped:["grouped",`grouped${Ge(t)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return St(o,KV,e)},JV=ze("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${nn.grouped}`]:e.grouped},{[`& .${nn.grouped}`]:e[`grouped${Ge(t.orientation)}`]},{[`& .${nn.firstButton}`]:e.firstButton},{[`& .${nn.lastButton}`]:e.lastButton},{[`& .${nn.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(ht(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${nn.grouped}`]:{[`&.${nn.selected} + .${nn.grouped}.${nn.selected}`]:{borderTop:0,marginTop:0}},[`& .${nn.firstButton},& .${nn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${nn.lastButton},& .${nn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${nn.lastButton}.${rc.disabled},& .${nn.middleButton}.${rc.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${nn.grouped}`]:{[`&.${nn.selected} + .${nn.grouped}.${nn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${nn.firstButton},& .${nn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${nn.lastButton},& .${nn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${nn.lastButton}.${rc.disabled},& .${nn.middleButton}.${rc.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),eG=J.forwardRef(function(e,t){const r=yt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:s="standard",disabled:l=!1,exclusive:d=!1,fullWidth:h=!1,onChange:f,orientation:m="horizontal",size:v="medium",value:g,...S}=r,y={...r,disabled:l,fullWidth:h,orientation:m,size:v},C=ZV(y),x=J.useCallback((F,E)=>{if(!f)return;const k=g&&g.indexOf(E);let R;g&&k>=0?(R=g.slice(),R.splice(k,1)):R=g?g.concat(E):[E],f(F,R)},[f,g]),w=J.useCallback((F,E)=>{f&&f(F,g===E?null:E)},[f,g]),b=J.useMemo(()=>({className:C.grouped,onChange:d?w:x,value:g,size:v,fullWidth:h,color:s,disabled:l}),[C.grouped,d,w,x,g,v,h,s,l]),T=aM(i),P=T.length,A=F=>{const E=F===0,k=F===P-1;return E&&k?"":E?C.firstButton:k?C.lastButton:C.middleButton};return le.jsx(JV,{role:"group",className:et(C.root,o),ref:t,ownerState:y,...S,children:le.jsx(bR.Provider,{value:b,children:T.map((F,E)=>le.jsx(wR.Provider,{value:A(E),children:F},E))})})}),tG=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function nG(n={}){const{disableGlobal:e=!1,productionPrefix:t="jss",seed:r=""}=n,i=r===""?"":`${r}-`;let o=0;const s=()=>(o+=1,o);return(l,d)=>{const h=d.options.name;if(h&&h.startsWith("Mui")&&!d.options.link&&!e){if(tG.includes(l.key))return`Mui-${l.key}`;const f=`${i}${h}-${l.key}`;return!d.options.theme[XI]||r!==""?f:`${f}-${s()}`}return`${i}${t}${s()}`}}function rG(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t]||!e.components[t].defaultProps)return r;const i={...r},o=e.components[t].defaultProps;let s;for(s in o)i[s]===void 0&&(i[s]=o[s]);return i}var Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zg=(typeof window>"u"?"undefined":Ix(window))==="object"&&(typeof document>"u"?"undefined":Ix(document))==="object"&&document.nodeType===9;function bp(n){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(n)}function iG(n,e){if(bp(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function oG(n){var e=iG(n,"string");return bp(e)=="symbol"?e:e+""}function aG(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oG(r.key),r)}}function DR(n,e,t){return e&&aG(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}var sG={}.constructor;function y4(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(y4);if(n.constructor!==sG)return n;var e={};for(var t in n)e[t]=y4(n[t]);return e}function $b(n,e,t){n===void 0&&(n="unnamed");var r=t.jss,i=y4(e),o=r.plugins.onCreateRule(n,i,t);return o||(n[0],null)}var Rx=function(e,t){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=t),r+=e[i];return r},ad=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&e[r]!=="!important";r++)t&&(t+=", "),t+=Rx(e[r]," ");else t=Rx(e,", ");return e[e.length-1]==="!important"&&(t+=" !important"),t};function df(n){return n&&n.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function e1(n,e){for(var t="",r=0;r<e;r++)t+="  ";return t+n}function wp(n,e,t){t===void 0&&(t={});var r="";if(!e)return r;var i=t,o=i.indent,s=o===void 0?0:o,l=e.fallbacks;t.format===!1&&(s=-1/0);var d=df(t),h=d.linebreak,f=d.space;if(n&&s++,l)if(Array.isArray(l))for(var m=0;m<l.length;m++){var v=l[m];for(var g in v){var S=v[g];S!=null&&(r&&(r+=h),r+=e1(g+":"+f+ad(S)+";",s))}}else for(var y in l){var C=l[y];C!=null&&(r&&(r+=h),r+=e1(y+":"+f+ad(C)+";",s))}for(var x in e){var w=e[x];w!=null&&x!=="fallbacks"&&(r&&(r+=h),r+=e1(x+":"+f+ad(w)+";",s))}return!r&&!t.allowEmpty||!n?r:(s--,r&&(r=""+h+r+h),e1(""+n+f+"{"+r,s)+e1("}",s))}var lG=/([[\].#*$><+~=|^:(),"'`\s])/g,Lx=typeof CSS<"u"&&CSS.escape,Yb=function(n){return Lx?Lx(n):n.replace(lG,"\\$1")},xR=function(){function n(t,r,i){this.type="style",this.isProcessed=!1;var o=i.sheet,s=i.Renderer;this.key=t,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var e=n.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var l=i;(!o||o.process!==!1)&&(l=this.options.jss.plugins.onChangeValue(i,r,this));var d=l==null||l===!1,h=r in this.style;if(d&&!h&&!s)return this;var f=d&&h;if(f?delete this.style[r]:this.style[r]=l,this.renderable&&this.renderer)return f?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,l),this;var m=this.options.sheet;return m&&m.attached,this},n}(),v4=function(n){Qy(e,n);function e(r,i,o){var s;s=n.call(this,r,i,o)||this;var l=o.selector,d=o.scoped,h=o.sheet,f=o.generateId;return l?s.selectorText=l:d!==!1&&(s.id=f(a4(a4(s)),h),s.selectorText="."+Yb(s.id)),s}var t=e.prototype;return t.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var l in s)o.setProperty(i,l,s[l])}return this},t.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=ad(s))}return i},t.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,l=s?yn({},i,{allowEmpty:!0}):i;return wp(this.selectorText,this.style,l)},DR(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var l=o.setSelector(s,i);l||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),e}(xR),uG={onCreateRule:function(e,t,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new v4(e,t,r)}},uC={indent:1,children:!0},cG=/@([\w-]+)/,dG=function(){function n(t,r,i){this.type="conditional",this.isProcessed=!1,this.key=t;var o=t.match(cG);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new Xy(yn({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},e.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.toString=function(r){r===void 0&&(r=uC);var i=df(r),o=i.linebreak;if(r.indent==null&&(r.indent=uC.indent),r.children==null&&(r.children=uC.children),r.children===!1)return this.query+" {}";var s=this.rules.toString(r);return s?this.query+" {"+o+s+o+"}":""},n}(),hG=/@container|@media|@supports\s+/,fG={onCreateRule:function(e,t,r){return hG.test(e)?new dG(e,t,r):null}},cC={indent:1,children:!0},pG=/@keyframes\s+([\w-]+)/,C4=function(){function n(t,r,i){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var o=t.match(pG);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,l=i.sheet,d=i.generateId;this.id=s===!1?this.name:Yb(d(this,l)),this.rules=new Xy(yn({},i,{parent:this}));for(var h in r)this.rules.add(h,r[h],yn({},i,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(r){r===void 0&&(r=cC);var i=df(r),o=i.linebreak;if(r.indent==null&&(r.indent=cC.indent),r.children==null&&(r.children=cC.children),r.children===!1)return this.at+" "+this.id+" {}";var s=this.rules.toString(r);return s&&(s=""+o+s+o),this.at+" "+this.id+" {"+s+"}"},n}(),gG=/@keyframes\s+/,mG=/\$([\w-]+)/g,b4=function(e,t){return typeof e=="string"?e.replace(mG,function(r,i){return i in t?t[i]:r}):e},Ax=function(e,t,r){var i=e[t],o=b4(i,r);o!==i&&(e[t]=o)},SG={onCreateRule:function(e,t,r){return typeof e=="string"&&gG.test(e)?new C4(e,t,r):null},onProcessStyle:function(e,t,r){return t.type!=="style"||!r||("animation-name"in e&&Ax(e,"animation-name",r.keyframes),"animation"in e&&Ax(e,"animation",r.keyframes)),e},onChangeValue:function(e,t,r){var i=r.options.sheet;if(!i)return e;switch(t){case"animation":return b4(e,i.keyframes);case"animation-name":return b4(e,i.keyframes);default:return e}}},yG=function(n){Qy(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,l=s?yn({},i,{allowEmpty:!0}):i;return wp(this.key,this.style,l)},e}(xR),vG={onCreateRule:function(e,t,r){return r.parent&&r.parent.type==="keyframes"?new yG(e,t,r):null}},CG=function(){function n(t,r,i){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){var i=df(r),o=i.linebreak;if(Array.isArray(this.style)){for(var s="",l=0;l<this.style.length;l++)s+=wp(this.at,this.style[l]),this.style[l+1]&&(s+=o);return s}return wp(this.at,this.style,r)},n}(),bG=/@font-face/,wG={onCreateRule:function(e,t,r){return bG.test(e)?new CG(e,t,r):null}},DG=function(){function n(t,r,i){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){return wp(this.key,this.style,r)},n}(),xG={onCreateRule:function(e,t,r){return e==="@viewport"||e==="@-ms-viewport"?new DG(e,t,r):null}},TG=function(){function n(t,r,i){this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},n}(),PG={"@charset":!0,"@import":!0,"@namespace":!0},IG={onCreateRule:function(e,t,r){return e in PG?new TG(e,t,r):null}},Ox=[uG,fG,SG,vG,wG,xG,IG],RG={process:!0},Ex={force:!0,process:!0},Xy=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(r,i,o){var s=this.options,l=s.parent,d=s.sheet,h=s.jss,f=s.Renderer,m=s.generateId,v=s.scoped,g=yn({classes:this.classes,parent:l,sheet:d,jss:h,Renderer:f,generateId:m,scoped:v,name:r,keyframes:this.keyframes,selector:void 0},o),S=r;r in this.raw&&(S=r+"-d"+this.counter++),this.raw[S]=i,S in this.classes&&(g.selector="."+Yb(this.classes[S]));var y=$b(S,i,g);if(!y)return null;this.register(y);var C=g.index===void 0?this.index.length:g.index;return this.index.splice(C,0,y),y},e.replace=function(r,i,o){var s=this.get(r),l=this.index.indexOf(s);s&&this.remove(s);var d=o;return l!==-1&&(d=yn({},o,{index:l})),this.add(r,i,d)},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof v4?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof C4&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof v4?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof C4&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.get(r),i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=RG);var s=this.options,l=s.jss.plugins,d=s.sheet;if(r.rules instanceof n){r.rules.update(i,o);return}var h=r.style;if(l.onUpdate(i,r,d,o),o.process&&h&&h!==r.style){l.onProcessStyle(r.style,r,d);for(var f in r.style){var m=r.style[f],v=h[f];m!==v&&r.prop(f,m,Ex)}for(var g in h){var S=r.style[g],y=h[g];S==null&&S!==y&&r.prop(g,null,Ex)}}},e.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,l=df(r),d=l.linebreak,h=0;h<this.index.length;h++){var f=this.index[h],m=f.toString(r);!m&&!s||(i&&(i+=d),i+=m)}return i},n}(),TR=function(){function n(t,r){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=yn({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new Xy(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var l=this.rules.add(r,i,o);return l?(this.options.jss.plugins.onProcessRule(l),this.attached?(this.deployed&&(s?s.push(l):(this.insertRule(l),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),l):(this.deployed=!1,l)):null},e.replaceRule=function(r,i,o){var s=this.rules.get(r);if(!s)return this.addRule(r,i,o);var l=this.rules.replace(r,i,o);return l&&this.options.jss.plugins.onProcessRule(l),this.attached?(this.deployed&&this.renderer&&(l?s.renderable&&this.renderer.replaceRule(s.renderable,l):this.renderer.deleteRule(s)),l):(this.deployed=!1,l)},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var s in r){var l=this.addRule(s,r[s],i);l&&o.push(l)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},n}(),LG=function(){function n(){this.plugins={internal:[],external:[]},this.registry={}}var e=n.prototype;return e.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var l=this.registry.onCreateRule[s](r,i,o);if(l)return l}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,s){for(var l=0;l<this.registry.onUpdate.length;l++)this.registry.onUpdate[l](r,i,o,s)},e.onChangeValue=function(r,i,o){for(var s=r,l=0;l<this.registry.onChangeValue.length;l++)s=this.registry.onChangeValue[l](s,i,o);return s},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,l){for(var d in l)d in s&&s[d].push(l[d]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),AG=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=Nb(i,["attached"]),l=df(s),d=l.linebreak,h="",f=0;f<this.registry.length;f++){var m=this.registry[f];o!=null&&m.attached!==o||(h&&(h+=d),h+=m.toString(s))}return h},DR(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),up=new AG,w4=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),D4="2f1acc6c3a606b082e5eef5e54414ffb";w4[D4]==null&&(w4[D4]=0);var kx=w4[D4]++,_x=function(e){e===void 0&&(e={});var t=0,r=function(o,s){t+=1;var l="",d="";return s&&(s.options.classNamePrefix&&(d=s.options.classNamePrefix),s.options.jss.id!=null&&(l=String(s.options.jss.id))),e.minify?""+(d||"c")+kx+l+t:d+o.key+"-"+kx+(l?"-"+l:"")+"-"+t};return r},PR=function(e){var t;return function(){return t||(t=e()),t}},OG=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch{return""}},EG=function(e,t,r){try{var i=r;if(Array.isArray(r)&&(i=ad(r)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var o=i?i.indexOf("!important"):-1,s=o>-1?i.substr(0,o-1):i;e.style.setProperty(t,s,o>-1?"important":"")}}catch{return!1}return!0},kG=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch{}},_G=function(e,t){return e.selectorText=t,e.selectorText===t},IR=PR(function(){return document.querySelector("head")});function FG(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function MG(n,e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function NG(n){for(var e=IR(),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===n)return r}return null}function UG(n){var e=up.registry;if(e.length>0){var t=FG(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=MG(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=n.insertionPoint;if(r&&typeof r=="string"){var i=NG(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function qG(n,e){var t=e.insertionPoint,r=UG(e);if(r!==!1&&r.parent){r.parent.insertBefore(n,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,o=i.parentNode;o&&o.insertBefore(n,i.nextSibling);return}IR().appendChild(n)}var BG=PR(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),Fx=function(e,t,r){try{"insertRule"in e?e.insertRule(t,r):"appendRule"in e&&e.appendRule(t)}catch{return!1}return e.cssRules[r]},Mx=function(e,t){var r=e.cssRules.length;return t===void 0||t>r?r:t},VG=function(){var e=document.createElement("style");return e.textContent=`
`,e},GG=function(){function n(t){this.getPropertyValue=OG,this.setProperty=EG,this.removeProperty=kG,this.setSelector=_G,this.hasInsertedRules=!1,this.cssRules=[],t&&up.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||VG(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var l=BG();l&&this.element.setAttribute("nonce",l)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){qG(this.element,this.sheet.options);var r=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,l=o;if(r.type==="conditional"||r.type==="keyframes"){var d=Mx(o,i);if(l=Fx(o,s.toString({children:!1}),d),l===!1)return!1;this.refCssRule(r,d,l)}return this.insertRules(s.rules,l),l}var h=r.toString();if(!h)return!1;var f=Mx(o,i),m=Fx(o,h,f);return m===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,f,m),m)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof TR&&this.cssRules.splice(i,0,o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},n}(),QG=0,zG=function(){function n(t){this.id=QG++,this.version="10.10.0",this.plugins=new LG,this.options={id:{minify:!1},createGenerateId:_x,Renderer:Zg?GG:null,plugins:[]},this.generateId=_x({minify:!1});for(var r=0;r<Ox.length;r++)this.plugins.use(Ox[r],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=yn({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=up.index===0?0:up.index+1);var l=new TR(r,yn({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(l),l},e.removeStyleSheet=function(r){return r.detach(),up.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=yn({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var l=$b(r,i,s);return l&&this.plugins.onProcessRule(l),l},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(l){r.plugins.use(l)}),this},n}(),RR=function(e){return new zG(e)},Xb=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function LR(n){var e=null;for(var t in n){var r=n[t],i=typeof r;if(i==="function")e||(e={}),e[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=LR(r);o&&(e||(e={}),e[t]=o)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */RR();var AR=Date.now(),dC="fnValues"+AR,hC="fnStyle"+ ++AR,WG=function(){return{onCreateRule:function(t,r,i){if(typeof r!="function")return null;var o=$b(t,{},i);return o[hC]=r,o},onProcessStyle:function(t,r){if(dC in r||hC in r)return t;var i={};for(var o in t){var s=t[o];typeof s=="function"&&(delete t[o],i[o]=s)}return r[dC]=i,t},onUpdate:function(t,r,i,o){var s=r,l=s[hC];l&&(s.style=l(t)||{});var d=s[dC];if(d)for(var h in d)s.prop(h,d[h](t),o)}}},gu="@global",x4="@global ",jG=function(){function n(t,r,i){this.type="global",this.at=gu,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new Xy(yn({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.replaceRule=function(r,i,o){var s=this.rules.replace(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(r){return this.rules.toString(r)},n}(),HG=function(){function n(t,r,i){this.type="global",this.at=gu,this.isProcessed=!1,this.key=t,this.options=i;var o=t.substr(x4.length);this.rule=i.jss.createRule(o,r,yn({},i,{parent:this}))}var e=n.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},n}(),$G=/\s*,\s*/g;function OR(n,e){for(var t=n.split($G),r="",i=0;i<t.length;i++)r+=e+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function YG(n,e){var t=n.options,r=n.style,i=r?r[gu]:null;if(i){for(var o in i)e.addRule(o,i[o],yn({},t,{selector:OR(o,n.selector)}));delete r[gu]}}function XG(n,e){var t=n.options,r=n.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,gu.length)!==gu)){var o=OR(i.substr(gu.length),n.selector);e.addRule(o,r[i],yn({},t,{selector:o})),delete r[i]}}function KG(){function n(t,r,i){if(!t)return null;if(t===gu)return new jG(t,r,i);if(t[0]==="@"&&t.substr(0,x4.length)===x4)return new HG(t,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),!i.selector&&i.scoped===!1&&(i.selector=t),null}function e(t,r){t.type!=="style"||!r||(YG(t,r),XG(t,r))}return{onCreateRule:n,onProcessRule:e}}var Nx=/\s*,\s*/g,ZG=/&/g,JG=/\$([\w-]+)/g;function eQ(){function n(i,o){return function(s,l){var d=i.getRule(l)||o&&o.getRule(l);return d?d.selector:l}}function e(i,o){for(var s=o.split(Nx),l=i.split(Nx),d="",h=0;h<s.length;h++)for(var f=s[h],m=0;m<l.length;m++){var v=l[m];d&&(d+=", "),d+=v.indexOf("&")!==-1?v.replace(ZG,f):f+" "+v}return d}function t(i,o,s){if(s)return yn({},s,{index:s.index+1});var l=i.options.nestingLevel;l=l===void 0?1:l+1;var d=yn({},i.options,{nestingLevel:l,index:o.indexOf(i)+1});return delete d.name,d}function r(i,o,s){if(o.type!=="style")return i;var l=o,d=l.options.parent,h,f;for(var m in i){var v=m.indexOf("&")!==-1,g=m[0]==="@";if(!(!v&&!g)){if(h=t(l,d,h),v){var S=e(m,l.selector);f||(f=n(d,s)),S=S.replace(JG,f);var y=l.key+"-"+m;"replaceRule"in d?d.replaceRule(y,i[m],yn({},h,{selector:S})):d.addRule(y,i[m],yn({},h,{selector:S}))}else g&&d.addRule(m,{},h).addRule(l.key,i[m],{selector:l.selector});delete i[m]}}return i}return{onProcessStyle:r}}var tQ=/[A-Z]/g,nQ=/^ms-/,fC={};function rQ(n){return"-"+n.toLowerCase()}function ER(n){if(fC.hasOwnProperty(n))return fC[n];var e=n.replace(tQ,rQ);return fC[n]=nQ.test(e)?"-"+e:e}function _2(n){var e={};for(var t in n){var r=t.indexOf("--")===0?t:ER(t);e[r]=n[t]}return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(_2):e.fallbacks=_2(n.fallbacks)),e}function iQ(){function n(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=_2(t[r]);return t}return _2(t)}function e(t,r,i){if(r.indexOf("--")===0)return t;var o=ER(r);return r===o?t:(i.prop(o,t),null)}return{onProcessStyle:n,onChangeValue:e}}var Le=Xb&&CSS?CSS.px:"px",wS=Xb&&CSS?CSS.ms:"ms",Hd=Xb&&CSS?CSS.percent:"%",oQ={"animation-delay":wS,"animation-duration":wS,"background-position":Le,"background-position-x":Le,"background-position-y":Le,"background-size":Le,border:Le,"border-bottom":Le,"border-bottom-left-radius":Le,"border-bottom-right-radius":Le,"border-bottom-width":Le,"border-left":Le,"border-left-width":Le,"border-radius":Le,"border-right":Le,"border-right-width":Le,"border-top":Le,"border-top-left-radius":Le,"border-top-right-radius":Le,"border-top-width":Le,"border-width":Le,"border-block":Le,"border-block-end":Le,"border-block-end-width":Le,"border-block-start":Le,"border-block-start-width":Le,"border-block-width":Le,"border-inline":Le,"border-inline-end":Le,"border-inline-end-width":Le,"border-inline-start":Le,"border-inline-start-width":Le,"border-inline-width":Le,"border-start-start-radius":Le,"border-start-end-radius":Le,"border-end-start-radius":Le,"border-end-end-radius":Le,margin:Le,"margin-bottom":Le,"margin-left":Le,"margin-right":Le,"margin-top":Le,"margin-block":Le,"margin-block-end":Le,"margin-block-start":Le,"margin-inline":Le,"margin-inline-end":Le,"margin-inline-start":Le,padding:Le,"padding-bottom":Le,"padding-left":Le,"padding-right":Le,"padding-top":Le,"padding-block":Le,"padding-block-end":Le,"padding-block-start":Le,"padding-inline":Le,"padding-inline-end":Le,"padding-inline-start":Le,"mask-position-x":Le,"mask-position-y":Le,"mask-size":Le,height:Le,width:Le,"min-height":Le,"max-height":Le,"min-width":Le,"max-width":Le,bottom:Le,left:Le,top:Le,right:Le,inset:Le,"inset-block":Le,"inset-block-end":Le,"inset-block-start":Le,"inset-inline":Le,"inset-inline-end":Le,"inset-inline-start":Le,"box-shadow":Le,"text-shadow":Le,"column-gap":Le,"column-rule":Le,"column-rule-width":Le,"column-width":Le,"font-size":Le,"font-size-delta":Le,"letter-spacing":Le,"text-decoration-thickness":Le,"text-indent":Le,"text-stroke":Le,"text-stroke-width":Le,"word-spacing":Le,motion:Le,"motion-offset":Le,outline:Le,"outline-offset":Le,"outline-width":Le,perspective:Le,"perspective-origin-x":Hd,"perspective-origin-y":Hd,"transform-origin":Hd,"transform-origin-x":Hd,"transform-origin-y":Hd,"transform-origin-z":Hd,"transition-delay":wS,"transition-duration":wS,"vertical-align":Le,"flex-basis":Le,"shape-margin":Le,size:Le,gap:Le,grid:Le,"grid-gap":Le,"row-gap":Le,"grid-row-gap":Le,"grid-column-gap":Le,"grid-template-rows":Le,"grid-template-columns":Le,"grid-auto-rows":Le,"grid-auto-columns":Le,"box-shadow-x":Le,"box-shadow-y":Le,"box-shadow-blur":Le,"box-shadow-spread":Le,"font-line-height":Le,"text-shadow-x":Le,"text-shadow-y":Le,"text-shadow-blur":Le};function kR(n){var e=/(-[a-z])/g,t=function(s){return s[1].toUpperCase()},r={};for(var i in n)r[i]=n[i],r[i.replace(e,t)]=n[i];return r}var aQ=kR(oQ);function cp(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=cp(n,e[r],t);else if(typeof e=="object")if(n==="fallbacks")for(var i in e)e[i]=cp(i,e[i],t);else for(var o in e)e[o]=cp(n+"-"+o,e[o],t);else if(typeof e=="number"&&isNaN(e)===!1){var s=t[n]||aQ[n];return s&&!(e===0&&s===Le)?typeof s=="function"?s(e).toString():""+e+s:e.toString()}return e}function sQ(n){n===void 0&&(n={});var e=kR(n);function t(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=cp(s,i[s],e);return i}function r(i,o){return cp(o,i,e)}return{onProcessStyle:t,onChangeValue:r}}function T4(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function lQ(n){if(Array.isArray(n))return T4(n)}function uQ(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function cQ(n,e){if(n){if(typeof n=="string")return T4(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T4(n,e):void 0}}function dQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(n){return lQ(n)||uQ(n)||cQ(n)||dQ()}var Y1="",P4="",_R="",FR="",fQ=Zg&&"ontouchstart"in document.documentElement;if(Zg){var pC={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},pQ=document.createElement("p"),gC=pQ.style,gQ="Transform";for(var mC in pC)if(mC+gQ in gC){Y1=mC,P4=pC[mC];break}Y1==="Webkit"&&"msHyphens"in gC&&(Y1="ms",P4=pC.ms,FR="edge"),Y1==="Webkit"&&"-apple-trailing-word"in gC&&(_R="apple")}var ct={js:Y1,css:P4,vendor:_R,browser:FR,isTouch:fQ};function mQ(n){return n[1]==="-"||ct.js==="ms"?n:"@"+ct.css+"keyframes"+n.substr(10)}var SQ={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ct.js==="ms"?"-webkit-"+e:ct.css+e}},yQ={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ct.js==="Webkit"?ct.css+"print-"+e:e}},vQ=/[-\s]+(.)?/g;function CQ(n,e){return e?e.toUpperCase():""}function Kb(n){return n.replace(vQ,CQ)}function wu(n){return Kb("-"+n)}var bQ={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if(ct.js==="Webkit"){var r="mask-image";if(Kb(r)in t)return e;if(ct.js+wu(r)in t)return ct.css+e}return e}},wQ={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ct.vendor==="apple"&&!ct.isTouch?ct.css+e:e}},DQ={noPrefill:["transform"],supportedProperty:function(e,t,r){return e!=="transform"?!1:r.transform?e:ct.css+e}},xQ={noPrefill:["transition"],supportedProperty:function(e,t,r){return e!=="transition"?!1:r.transition?e:ct.css+e}},TQ={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ct.js==="Webkit"||ct.js==="ms"&&ct.browser!=="edge"?ct.css+e:e}},PQ={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ct.js==="Moz"||ct.js==="ms"||ct.vendor==="apple"?ct.css+e:e}},IQ={supportedProperty:function(e,t){if(!/^break-/.test(e))return!1;if(ct.js==="Webkit"){var r="WebkitColumn"+wu(e);return r in t?ct.css+"column-"+e:!1}if(ct.js==="Moz"){var i="page"+wu(e);return i in t?"page-"+e:!1}return!1}},RQ={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ct.js==="Moz")return e;var r=e.replace("-inline","");return ct.js+wu(r)in t?ct.css+r:!1}},LQ={supportedProperty:function(e,t){return Kb(e)in t?e:!1}},AQ={supportedProperty:function(e,t){var r=wu(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ct.js+r in t?ct.css+e:ct.js!=="Webkit"&&"Webkit"+r in t?"-webkit-"+e:!1}},OQ={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ct.js==="ms"?""+ct.css+e:e}},EQ={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ct.js==="ms"?ct.css+"scroll-chaining":e}},kQ={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},_Q={supportedProperty:function(e,t){var r=kQ[e];return r&&ct.js+wu(r)in t?ct.css+r:!1}},MR={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},FQ=Object.keys(MR),MQ=function(e){return ct.css+e},NQ={supportedProperty:function(e,t,r){var i=r.multiple;if(FQ.indexOf(e)>-1){var o=MR[e];if(!Array.isArray(o))return ct.js+wu(o)in t?ct.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(ct.js+wu(o[0])in t))return!1;return o.map(MQ)}return!1}},NR=[SQ,yQ,bQ,wQ,DQ,xQ,TQ,PQ,IQ,RQ,LQ,AQ,OQ,EQ,_Q,NQ],Ux=NR.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),UQ=NR.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,hQ(e.noPrefill)),n},[]),X1,Ju={};if(Zg){X1=document.createElement("p");var SC=window.getComputedStyle(document.documentElement,"");for(var yC in SC)isNaN(yC)||(Ju[SC[yC]]=SC[yC]);UQ.forEach(function(n){return delete Ju[n]})}function I4(n,e){if(e===void 0&&(e={}),!X1)return n;if(Ju[n]!=null)return Ju[n];(n==="transition"||n==="transform")&&(e[n]=n in X1.style);for(var t=0;t<Ux.length&&(Ju[n]=Ux[t](n,X1.style,e),!Ju[n]);t++);try{X1.style[n]=""}catch{return!1}return Ju[n]}var $d={},qQ={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},BQ=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Sl;function VQ(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var r=e?I4(e):", "+I4(t);return r||e||t}Zg&&(Sl=document.createElement("p"));function qx(n,e){var t=e;if(!Sl||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=n+t;if($d[r]!=null)return $d[r];try{Sl.style[n]=t}catch{return $d[r]=!1,!1}if(qQ[n])t=t.replace(BQ,VQ);else if(Sl.style[n]===""&&(t=ct.css+t,t==="-ms-flex"&&(Sl.style[n]="-ms-flexbox"),Sl.style[n]=t,Sl.style[n]===""))return $d[r]=!1,!1;return Sl.style[n]="",$d[r]=t,$d[r]}function GQ(){function n(i){if(i.type==="keyframes"){var o=i;o.at=mQ(o.at)}}function e(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(e);continue}var l=!1,d=I4(o);d&&d!==o&&(l=!0);var h=!1,f=qx(d,ad(s));f&&f!==s&&(h=!0),(l||h)&&(l&&delete i[o],i[d||o]=f||s)}return i}function t(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return qx(o,ad(i))||i}return{onProcessRule:n,onProcessStyle:t,onChangeValue:r}}function QQ(){var n=function(t,r){return t.length===r.length?t>r?1:-1:t.length-r.length};return{onProcessStyle:function(t,r){if(r.type!=="style")return t;for(var i={},o=Object.keys(t).sort(n),s=0;s<o.length;s++)i[o[s]]=t[o[s]];return i}}}function zQ(){return{plugins:[WG(),KG(),eQ(),iQ(),sQ(),typeof window>"u"?null:GQ(),QQ()]}}function UR(n={}){const{baseClasses:e,newClasses:t,Component:r}=n;if(!t)return e;const i={...e};return Object.keys(t).forEach(o=>{t[o]&&(i[o]=`${e[o]} ${t[o]}`)}),i}const n0={set:(n,e,t,r)=>{let i=n.get(e);i||(i=new Map,n.set(e,i)),i.set(t,r)},get:(n,e,t)=>{const r=n.get(e);return r?r.get(t):void 0},delete:(n,e,t)=>{n.get(e).delete(t)}};function qR(){const n=By();return(n==null?void 0:n.$$material)??n}const WQ=RR(zQ()),jQ=nG(),HQ=new Map,$Q={disableGeneration:!1,generateClassName:jQ,jss:WQ,sheetsCache:null,sheetsManager:HQ,sheetsRegistry:null},YQ=J.createContext($Q);let Bx=-1e9;function XQ(){return Bx+=1,Bx}function Vx(n){return n.length===0}function KQ(n){const{variant:e,...t}=n;let r=e||"";return Object.keys(t).sort().forEach(i=>{i==="color"?r+=Vx(r)?n[i]:Ge(n[i]):r+=`${Vx(r)?i:Ge(i)}${Ge(n[i].toString())}`}),r}const ZQ={};function JQ(n){const e=typeof n=="function";return{create:(t,r)=>{let i;try{i=e?n(t):n}catch(d){throw d}if(!r||!t.components||!t.components[r]||!t.components[r].styleOverrides&&!t.components[r].variants)return i;const o=t.components[r].styleOverrides||{},s=t.components[r].variants||[],l={...i};return Object.keys(o).forEach(d=>{l[d]=$n(l[d]||{},o[d])}),s.forEach(d=>{const h=KQ(d.props);l[h]=$n(l[h]||{},d.style)}),l},options:{}}}function ez({state:n,stylesOptions:e},t,r){if(e.disableGeneration)return t||{};n.cacheClasses||(n.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return n.classes!==n.cacheClasses.lastJSS&&(n.cacheClasses.lastJSS=n.classes,i=!0),t!==n.cacheClasses.lastProp&&(n.cacheClasses.lastProp=t,i=!0),i&&(n.cacheClasses.value=UR({baseClasses:n.cacheClasses.lastJSS,newClasses:t,Component:r})),n.cacheClasses.value}function tz({state:n,theme:e,stylesOptions:t,stylesCreator:r,name:i},o){if(t.disableGeneration)return;let s=n0.get(t.sheetsManager,r,e);s||(s={refs:0,staticSheet:null,dynamicStyles:null},n0.set(t.sheetsManager,r,e,s));const l={...r.options,...t,theme:e,flip:typeof t.flip=="boolean"?t.flip:e.direction==="rtl"};l.generateId=l.serverGenerateClassName||l.generateClassName;const d=t.sheetsRegistry;if(s.refs===0){let h;t.sheetsCache&&(h=n0.get(t.sheetsCache,r,e));const f=r.create(e,i);h||(h=t.jss.createStyleSheet(f,{link:!1,...l}),h.attach(),t.sheetsCache&&n0.set(t.sheetsCache,r,e,h)),d&&d.add(h),s.staticSheet=h,s.dynamicStyles=LR(f)}if(s.dynamicStyles){const h=t.jss.createStyleSheet(s.dynamicStyles,{link:!0,...l});h.update(o),h.attach(),n.dynamicSheet=h,n.classes=UR({baseClasses:s.staticSheet.classes,newClasses:h.classes}),d&&d.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}function nz({state:n},e){n.dynamicSheet&&n.dynamicSheet.update(e)}function rz({state:n,theme:e,stylesOptions:t,stylesCreator:r}){if(t.disableGeneration)return;const i=n0.get(t.sheetsManager,r,e);i.refs-=1;const o=t.sheetsRegistry;i.refs===0&&(n0.delete(t.sheetsManager,r,e),t.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),n.dynamicSheet&&(t.jss.removeStyleSheet(n.dynamicSheet),o&&o.remove(n.dynamicSheet))}function iz(n,e){const t=J.useRef([]);let r;const i=J.useMemo(()=>({}),e);t.current!==i&&(t.current=i,r=n()),J.useEffect(()=>()=>{r&&r()},[i])}function oz(n,e={}){const{name:t,classNamePrefix:r,Component:i,defaultTheme:o=ZQ,...s}=e,l=JQ(n),d=t||r||"makeStyles";return l.options={index:XQ(),name:t,meta:d,classNamePrefix:d},(f={})=>{const m=qR()||o,v={...J.useContext(YQ),...s},g=J.useRef(),S=J.useRef();return iz(()=>{const C={name:t,state:{},stylesCreator:l,stylesOptions:v,theme:m};return tz(C,f),S.current=!1,g.current=C,()=>{rz(C)}},[m,l]),J.useEffect(()=>{S.current&&nz(g.current,f),S.current=!0}),ez(g.current,f.classes,i)}}const BR=(n,e={})=>t=>{const{defaultTheme:r,withTheme:i=!1,name:o,...s}=e;let l=o;const d=oz(n,{defaultTheme:r,Component:t,name:o||t.displayName,classNamePrefix:l,...s}),h=J.forwardRef(function(m,v){const{classes:g,...S}=m,y=d({...t.defaultProps,...m});let C,x=S;return(typeof o=="string"||i)&&(C=qR()||r,o&&(x=rG({theme:C,name:o,props:S})),i&&!x.theme&&(x.theme=C)),le.jsx(t,{ref:v,classes:y,...x})});return u_(h,t),h};var zS={exports:{}},t1={},vC={},CC={},Gx;function bt(){return Gx||(Gx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof t0<"u"?t0:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.20",isBrowser:t(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return n.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var i;return(i=n.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(i){n.glob.Konva=i}};const r=i=>{n.Konva[i.prototype.getClassName()]=i};n._registerNode=r,n.Konva._injectGlobal(n.Konva)}(CC)),CC}var bC={},Qx;function An(){return Qx||(Qx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=bt();class t{constructor(T=[1,0,0,1,0,0]){this.dirty=!1,this.m=T&&T.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(T){T.m[0]=this.m[0],T.m[1]=this.m[1],T.m[2]=this.m[2],T.m[3]=this.m[3],T.m[4]=this.m[4],T.m[5]=this.m[5]}point(T){const P=this.m;return{x:P[0]*T.x+P[2]*T.y+P[4],y:P[1]*T.x+P[3]*T.y+P[5]}}translate(T,P){return this.m[4]+=this.m[0]*T+this.m[2]*P,this.m[5]+=this.m[1]*T+this.m[3]*P,this}scale(T,P){return this.m[0]*=T,this.m[1]*=T,this.m[2]*=P,this.m[3]*=P,this}rotate(T){const P=Math.cos(T),A=Math.sin(T),F=this.m[0]*P+this.m[2]*A,E=this.m[1]*P+this.m[3]*A,k=this.m[0]*-A+this.m[2]*P,R=this.m[1]*-A+this.m[3]*P;return this.m[0]=F,this.m[1]=E,this.m[2]=k,this.m[3]=R,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(T,P){const A=this.m[0]+this.m[2]*P,F=this.m[1]+this.m[3]*P,E=this.m[2]+this.m[0]*T,k=this.m[3]+this.m[1]*T;return this.m[0]=A,this.m[1]=F,this.m[2]=E,this.m[3]=k,this}multiply(T){const P=this.m[0]*T.m[0]+this.m[2]*T.m[1],A=this.m[1]*T.m[0]+this.m[3]*T.m[1],F=this.m[0]*T.m[2]+this.m[2]*T.m[3],E=this.m[1]*T.m[2]+this.m[3]*T.m[3],k=this.m[0]*T.m[4]+this.m[2]*T.m[5]+this.m[4],R=this.m[1]*T.m[4]+this.m[3]*T.m[5]+this.m[5];return this.m[0]=P,this.m[1]=A,this.m[2]=F,this.m[3]=E,this.m[4]=k,this.m[5]=R,this}invert(){const T=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),P=this.m[3]*T,A=-this.m[1]*T,F=-this.m[2]*T,E=this.m[0]*T,k=T*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),R=T*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=P,this.m[1]=A,this.m[2]=F,this.m[3]=E,this.m[4]=k,this.m[5]=R,this}getMatrix(){return this.m}decompose(){const T=this.m[0],P=this.m[1],A=this.m[2],F=this.m[3],E=this.m[4],k=this.m[5],R=T*F-P*A,U={x:E,y:k,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(T!=0||P!=0){const N=Math.sqrt(T*T+P*P);U.rotation=P>0?Math.acos(T/N):-Math.acos(T/N),U.scaleX=N,U.scaleY=R/N,U.skewX=(T*A+P*F)/R,U.skewY=0}else if(A!=0||F!=0){const N=Math.sqrt(A*A+F*F);U.rotation=Math.PI/2-(F>0?Math.acos(-A/N):-Math.acos(A/N)),U.scaleX=R/N,U.scaleY=N,U.skewX=0,U.skewY=(T*A+P*F)/R}return U.rotation=n.Util._getRotation(U.rotation),U}}n.Transform=t;const r="[object Array]",i="[object Number]",o="[object String]",s="[object Boolean]",l=Math.PI/180,d=180/Math.PI,h="#",f="",m="0",v="Konva warning: ",g="Konva error: ",S="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let x=[];const w=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)};n.Util={_isElement(b){return!!(b&&b.nodeType==1)},_isFunction(b){return!!(b&&b.constructor&&b.call&&b.apply)},_isPlainObject(b){return!!b&&b.constructor===Object},_isArray(b){return Object.prototype.toString.call(b)===r},_isNumber(b){return Object.prototype.toString.call(b)===i&&!isNaN(b)&&isFinite(b)},_isString(b){return Object.prototype.toString.call(b)===o},_isBoolean(b){return Object.prototype.toString.call(b)===s},isObject(b){return b instanceof Object},isValidSelector(b){if(typeof b!="string")return!1;const T=b[0];return T==="#"||T==="."||T===T.toUpperCase()},_sign(b){return b===0||b>0?1:-1},requestAnimFrame(b){x.push(b),x.length===1&&w(function(){const T=x;x=[],T.forEach(function(P){P()})})},createCanvasElement(){const b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement(){return document.createElement("img")},_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,T){const P=n.Util.createImageElement();P.onload=function(){T(P)},P.src=b},_rgbToHex(b,T,P){return((1<<24)+(b<<16)+(T<<8)+P).toString(16).slice(1)},_hexToRgb(b){b=b.replace(h,f);const T=parseInt(b,16);return{r:T>>16&255,g:T>>8&255,b:T&255}},getRandomColor(){let b=(Math.random()*16777215<<0).toString(16);for(;b.length<6;)b=m+b;return h+b},getRGB(b){let T;return b in y?(T=y[b],{r:T[0],g:T[1],b:T[2]}):b[0]===h?this._hexToRgb(b.substring(1)):b.substr(0,4)===S?(T=C.exec(b.replace(/ /g,"")),{r:parseInt(T[1],10),g:parseInt(T[2],10),b:parseInt(T[3],10)}):{r:0,g:0,b:0}},colorToRGBA(b){return b=b||"black",n.Util._namedColorToRBA(b)||n.Util._hex3ColorToRGBA(b)||n.Util._hex4ColorToRGBA(b)||n.Util._hex6ColorToRGBA(b)||n.Util._hex8ColorToRGBA(b)||n.Util._rgbColorToRGBA(b)||n.Util._rgbaColorToRGBA(b)||n.Util._hslColorToRGBA(b)},_namedColorToRBA(b){const T=y[b.toLowerCase()];return T?{r:T[0],g:T[1],b:T[2],a:1}:null},_rgbColorToRGBA(b){if(b.indexOf("rgb(")===0){b=b.match(/rgb\(([^)]+)\)/)[1];const T=b.split(/ *, */).map(Number);return{r:T[0],g:T[1],b:T[2],a:1}}},_rgbaColorToRGBA(b){if(b.indexOf("rgba(")===0){b=b.match(/rgba\(([^)]+)\)/)[1];const T=b.split(/ *, */).map((P,A)=>P.slice(-1)==="%"?A===3?parseInt(P)/100:parseInt(P)/100*255:Number(P));return{r:T[0],g:T[1],b:T[2],a:T[3]}}},_hex8ColorToRGBA(b){if(b[0]==="#"&&b.length===9)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:parseInt(b.slice(7,9),16)/255}},_hex6ColorToRGBA(b){if(b[0]==="#"&&b.length===7)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex4ColorToRGBA(b){if(b[0]==="#"&&b.length===5)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:parseInt(b[4]+b[4],16)/255}},_hex3ColorToRGBA(b){if(b[0]==="#"&&b.length===4)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[T,...P]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),A=Number(P[0])/360,F=Number(P[1])/100,E=Number(P[2])/100;let k,R,U;if(F===0)return U=E*255,{r:Math.round(U),g:Math.round(U),b:Math.round(U),a:1};E<.5?k=E*(1+F):k=E+F-E*F;const N=2*E-k,L=[0,0,0];for(let I=0;I<3;I++)R=A+1/3*-(I-1),R<0&&R++,R>1&&R--,6*R<1?U=N+(k-N)*6*R:2*R<1?U=k:3*R<2?U=N+(k-N)*(2/3-R)*6:U=N,L[I]=U*255;return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:1}}},haveIntersection(b,T){return!(T.x>b.x+b.width||T.x+T.width<b.x||T.y>b.y+b.height||T.y+T.height<b.y)},cloneObject(b){const T={};for(const P in b)this._isPlainObject(b[P])?T[P]=this.cloneObject(b[P]):this._isArray(b[P])?T[P]=this.cloneArray(b[P]):T[P]=b[P];return T},cloneArray(b){return b.slice(0)},degToRad(b){return b*l},radToDeg(b){return b*d},_degToRad(b){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(b)},_radToDeg(b){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(b)},_getRotation(b){return e.Konva.angleDeg?n.Util.radToDeg(b):b},_capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)},throw(b){throw new Error(g+b)},error(b){console.error(g+b)},warn(b){e.Konva.showWarnings&&console.warn(v+b)},each(b,T){for(const P in b)T(P,b[P])},_inRange(b,T,P){return T<=b&&b<P},_getProjectionToSegment(b,T,P,A,F,E){let k,R,U;const N=(b-P)*(b-P)+(T-A)*(T-A);if(N==0)k=b,R=T,U=(F-P)*(F-P)+(E-A)*(E-A);else{const L=((F-b)*(P-b)+(E-T)*(A-T))/N;L<0?(k=b,R=T,U=(b-F)*(b-F)+(T-E)*(T-E)):L>1?(k=P,R=A,U=(P-F)*(P-F)+(A-E)*(A-E)):(k=b+L*(P-b),R=T+L*(A-T),U=(k-F)*(k-F)+(R-E)*(R-E))}return[k,R,U]},_getProjectionToLine(b,T,P){const A=n.Util.cloneObject(b);let F=Number.MAX_VALUE;return T.forEach(function(E,k){if(!P&&k===T.length-1)return;const R=T[(k+1)%T.length],U=n.Util._getProjectionToSegment(E.x,E.y,R.x,R.y,b.x,b.y),N=U[0],L=U[1],I=U[2];I<F&&(A.x=N,A.y=L,F=I)}),A},_prepareArrayForTween(b,T,P){const A=[],F=[];if(b.length>T.length){const k=T;T=b,b=k}for(let k=0;k<b.length;k+=2)A.push({x:b[k],y:b[k+1]});for(let k=0;k<T.length;k+=2)F.push({x:T[k],y:T[k+1]});const E=[];return F.forEach(function(k){const R=n.Util._getProjectionToLine(k,A,P);E.push(R.x),E.push(R.y)}),E},_prepareToStringify(b){let T;b.visitedByCircularReferenceRemoval=!0;for(const P in b)if(b.hasOwnProperty(P)&&b[P]&&typeof b[P]=="object"){if(T=Object.getOwnPropertyDescriptor(b,P),b[P].visitedByCircularReferenceRemoval||n.Util._isElement(b[P]))if(T.configurable)delete b[P];else return null;else if(n.Util._prepareToStringify(b[P])===null)if(T.configurable)delete b[P];else return null}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,T){for(const P in T)b[P]=T[P];return b},_getFirstPointerId(b){return b.touches?b.changedTouches[0].identifier:b.pointerId||999},releaseCanvas(...b){e.Konva.releaseCanvasOnDestroy&&b.forEach(T=>{T.width=0,T.height=0})},drawRoundedRectPath(b,T,P,A){let F=0,E=0,k=0,R=0;typeof A=="number"?F=E=k=R=Math.min(A,T/2,P/2):(F=Math.min(A[0]||0,T/2,P/2),E=Math.min(A[1]||0,T/2,P/2),R=Math.min(A[2]||0,T/2,P/2),k=Math.min(A[3]||0,T/2,P/2)),b.moveTo(F,0),b.lineTo(T-E,0),b.arc(T-E,E,E,Math.PI*3/2,0,!1),b.lineTo(T,P-R),b.arc(T-R,P-R,R,0,Math.PI/2,!1),b.lineTo(k,P),b.arc(k,P-k,k,Math.PI/2,Math.PI,!1),b.lineTo(0,F),b.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}}(bC)),bC}var n1={},wC={},Kr={},zx;function Pt(){if(zx)return Kr;zx=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.RGBComponent=r,Kr.alphaComponent=i,Kr.getNumberValidator=o,Kr.getNumberOrArrayOfNumbersValidator=s,Kr.getNumberOrAutoValidator=l,Kr.getStringValidator=d,Kr.getStringOrGradientValidator=h,Kr.getFunctionValidator=f,Kr.getNumberArrayValidator=m,Kr.getBooleanValidator=v,Kr.getComponentValidator=g;const n=bt(),e=An();function t(S){return e.Util._isString(S)?'"'+S+'"':Object.prototype.toString.call(S)==="[object Number]"||e.Util._isBoolean(S)?S:Object.prototype.toString.call(S)}function r(S){return S>255?255:S<0?0:Math.round(S)}function i(S){return S>1?1:S<1e-4?1e-4:S}function o(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isNumber(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),S}}function s(S){if(n.Konva.isUnminified)return function(y,C){let x=e.Util._isNumber(y),w=e.Util._isArray(y)&&y.length==S;return!x&&!w&&e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+S+")"),y}}function l(){if(n.Konva.isUnminified)return function(S,y){var C=e.Util._isNumber(S),x=S==="auto";return C||x||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),S}}function d(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isString(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),S}}function h(){if(n.Konva.isUnminified)return function(S,y){const C=e.Util._isString(S),x=Object.prototype.toString.call(S)==="[object CanvasGradient]"||S&&S.addColorStop;return C||x||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),S}}function f(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isFunction(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),S}}function m(){if(n.Konva.isUnminified)return function(S,y){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&S instanceof C||(e.Util._isArray(S)?S.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),S}}function v(){if(n.Konva.isUnminified)return function(S,y){var C=S===!0||S===!1;return C||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),S}}function g(S){if(n.Konva.isUnminified)return function(y,C){return y==null||e.Util.isObject(y)||e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+S),y}}return Kr}var Wx;function Dt(){return Wx||(Wx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=An(),t=Pt(),r="get",i="set";n.Factory={addGetterSetter(o,s,l,d,h){n.Factory.addGetter(o,s,l),n.Factory.addSetter(o,s,d,h),n.Factory.addOverloadedGetterSetter(o,s)},addGetter(o,s,l){var d=r+e.Util._capitalize(s);o.prototype[d]=o.prototype[d]||function(){const h=this.attrs[s];return h===void 0?l:h}},addSetter(o,s,l,d){var h=i+e.Util._capitalize(s);o.prototype[h]||n.Factory.overWriteSetter(o,s,l,d)},overWriteSetter(o,s,l,d){var h=i+e.Util._capitalize(s);o.prototype[h]=function(f){return l&&f!==void 0&&f!==null&&(f=l.call(this,f,s)),this._setAttr(s,f),d&&d.call(this),this}},addComponentsGetterSetter(o,s,l,d,h){const f=l.length,m=e.Util._capitalize,v=r+m(s),g=i+m(s);o.prototype[v]=function(){const y={};for(let C=0;C<f;C++){const x=l[C];y[x]=this.getAttr(s+m(x))}return y};const S=(0,t.getComponentValidator)(l);o.prototype[g]=function(y){const C=this.attrs[s];d&&(y=d.call(this,y,s)),S&&S.call(this,y,s);for(const x in y)y.hasOwnProperty(x)&&this._setAttr(s+m(x),y[x]);return y||l.forEach(x=>{this._setAttr(s+m(x),void 0)}),this._fireChangeEvent(s,C,y),h&&h.call(this),this},n.Factory.addOverloadedGetterSetter(o,s)},addOverloadedGetterSetter(o,s){var l=e.Util._capitalize(s),d=i+l,h=r+l;o.prototype[s]=function(){return arguments.length?(this[d](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(o,s,l,d){e.Util.error("Adding deprecated "+s);const h=r+e.Util._capitalize(s),f=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[h]=function(){e.Util.error(f);const m=this.attrs[s];return m===void 0?l:m},n.Factory.addSetter(o,s,d,function(){e.Util.error(f)}),n.Factory.addOverloadedGetterSetter(o,s)},backCompat(o,s){e.Util.each(s,function(l,d){const h=o.prototype[d],f=r+e.Util._capitalize(l),m=i+e.Util._capitalize(l);function v(){h.apply(this,arguments),e.Util.error('"'+l+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}o.prototype[l]=v,o.prototype[f]=v,o.prototype[m]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(wC)),wC}var Ka={},Za={},jx;function VR(){if(jx)return Za;jx=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.HitContext=Za.SceneContext=Za.Context=void 0;const n=An(),e=bt();function t(x){const w=[],b=x.length,T=n.Util;for(let P=0;P<b;P++){let A=x[P];T._isNumber(A)?A=Math.round(A*1e3)/1e3:T._isString(A)||(A=A+""),w.push(A)}return w}const r=",",i="(",o=")",s="([",l="])",d=";",h="()",f="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],g=100;let S=class{constructor(w){this.canvas=w,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(w){w.fillEnabled()&&this._fill(w)}_fill(w){}strokeShape(w){w.hasStroke()&&this._stroke(w)}_stroke(w){}fillStrokeShape(w){w.attrs.fillAfterStrokeEnabled?(this.strokeShape(w),this.fillShape(w)):(this.fillShape(w),this.strokeShape(w))}getTrace(w,b){let T=this.traceArr,P=T.length,A="",F,E,k,R;for(F=0;F<P;F++)E=T[F],k=E.method,k?(R=E.args,A+=k,w?A+=h:n.Util._isArray(R[0])?A+=s+R.join(r)+l:(b&&(R=R.map(U=>typeof U=="number"?Math.floor(U):U)),A+=i+R.join(r)+o)):(A+=E.property,w||(A+=f+E.val)),A+=d;return A}clearTrace(){this.traceArr=[]}_trace(w){let b=this.traceArr,T;b.push(w),T=b.length,T>=g&&b.shift()}reset(){const w=this.getCanvas().getPixelRatio();this.setTransform(1*w,0,0,1*w,0,0)}getCanvas(){return this.canvas}clear(w){const b=this.getCanvas();w?this.clearRect(w.x||0,w.y||0,w.width||0,w.height||0):this.clearRect(0,0,b.getWidth()/b.pixelRatio,b.getHeight()/b.pixelRatio)}_applyLineCap(w){const b=w.attrs.lineCap;b&&this.setAttr("lineCap",b)}_applyOpacity(w){const b=w.getAbsoluteOpacity();b!==1&&this.setAttr("globalAlpha",b)}_applyLineJoin(w){const b=w.attrs.lineJoin;b&&this.setAttr("lineJoin",b)}setAttr(w,b){this._context[w]=b}arc(w,b,T,P,A,F){this._context.arc(w,b,T,P,A,F)}arcTo(w,b,T,P,A){this._context.arcTo(w,b,T,P,A)}beginPath(){this._context.beginPath()}bezierCurveTo(w,b,T,P,A,F){this._context.bezierCurveTo(w,b,T,P,A,F)}clearRect(w,b,T,P){this._context.clearRect(w,b,T,P)}clip(...w){this._context.clip.apply(this._context,w)}closePath(){this._context.closePath()}createImageData(w,b){const T=arguments;if(T.length===2)return this._context.createImageData(w,b);if(T.length===1)return this._context.createImageData(w)}createLinearGradient(w,b,T,P){return this._context.createLinearGradient(w,b,T,P)}createPattern(w,b){return this._context.createPattern(w,b)}createRadialGradient(w,b,T,P,A,F){return this._context.createRadialGradient(w,b,T,P,A,F)}drawImage(w,b,T,P,A,F,E,k,R){const U=arguments,N=this._context;U.length===3?N.drawImage(w,b,T):U.length===5?N.drawImage(w,b,T,P,A):U.length===9&&N.drawImage(w,b,T,P,A,F,E,k,R)}ellipse(w,b,T,P,A,F,E,k){this._context.ellipse(w,b,T,P,A,F,E,k)}isPointInPath(w,b,T,P){return T?this._context.isPointInPath(T,w,b,P):this._context.isPointInPath(w,b,P)}fill(...w){this._context.fill.apply(this._context,w)}fillRect(w,b,T,P){this._context.fillRect(w,b,T,P)}strokeRect(w,b,T,P){this._context.strokeRect(w,b,T,P)}fillText(w,b,T,P){P?this._context.fillText(w,b,T,P):this._context.fillText(w,b,T)}measureText(w){return this._context.measureText(w)}getImageData(w,b,T,P){return this._context.getImageData(w,b,T,P)}lineTo(w,b){this._context.lineTo(w,b)}moveTo(w,b){this._context.moveTo(w,b)}rect(w,b,T,P){this._context.rect(w,b,T,P)}roundRect(w,b,T,P,A){this._context.roundRect(w,b,T,P,A)}putImageData(w,b,T){this._context.putImageData(w,b,T)}quadraticCurveTo(w,b,T,P){this._context.quadraticCurveTo(w,b,T,P)}restore(){this._context.restore()}rotate(w){this._context.rotate(w)}save(){this._context.save()}scale(w,b){this._context.scale(w,b)}setLineDash(w){this._context.setLineDash?this._context.setLineDash(w):"mozDash"in this._context?this._context.mozDash=w:"webkitLineDash"in this._context&&(this._context.webkitLineDash=w)}getLineDash(){return this._context.getLineDash()}setTransform(w,b,T,P,A,F){this._context.setTransform(w,b,T,P,A,F)}stroke(w){w?this._context.stroke(w):this._context.stroke()}strokeText(w,b,T,P){this._context.strokeText(w,b,T,P)}transform(w,b,T,P,A,F){this._context.transform(w,b,T,P,A,F)}translate(w,b){this._context.translate(w,b)}_enableTrace(){let w=this,b=m.length,T=this.setAttr,P,A;const F=function(E){let k=w[E],R;w[E]=function(){return A=t(Array.prototype.slice.call(arguments,0)),R=k.apply(w,arguments),w._trace({method:E,args:A}),R}};for(P=0;P<b;P++)F(m[P]);w.setAttr=function(){T.apply(w,arguments);const E=arguments[0];let k=arguments[1];(E==="shadowOffsetX"||E==="shadowOffsetY"||E==="shadowBlur")&&(k=k/this.canvas.getPixelRatio()),w._trace({property:E,val:k})}}_applyGlobalCompositeOperation(w){const b=w.attrs.globalCompositeOperation;!b||b==="source-over"||this.setAttr("globalCompositeOperation",b)}};Za.Context=S,v.forEach(function(x){Object.defineProperty(S.prototype,x,{get(){return this._context[x]},set(w){this._context[x]=w}})});class y extends S{constructor(w,{willReadFrequently:b=!1}={}){super(w),this._context=w._canvas.getContext("2d",{willReadFrequently:b})}_fillColor(w){const b=w.fill();this.setAttr("fillStyle",b),w._fillFunc(this)}_fillPattern(w){this.setAttr("fillStyle",w._getFillPattern()),w._fillFunc(this)}_fillLinearGradient(w){const b=w._getLinearGradient();b&&(this.setAttr("fillStyle",b),w._fillFunc(this))}_fillRadialGradient(w){const b=w._getRadialGradient();b&&(this.setAttr("fillStyle",b),w._fillFunc(this))}_fill(w){const b=w.fill(),T=w.getFillPriority();if(b&&T==="color"){this._fillColor(w);return}const P=w.getFillPatternImage();if(P&&T==="pattern"){this._fillPattern(w);return}const A=w.getFillLinearGradientColorStops();if(A&&T==="linear-gradient"){this._fillLinearGradient(w);return}const F=w.getFillRadialGradientColorStops();if(F&&T==="radial-gradient"){this._fillRadialGradient(w);return}b?this._fillColor(w):P?this._fillPattern(w):A?this._fillLinearGradient(w):F&&this._fillRadialGradient(w)}_strokeLinearGradient(w){const b=w.getStrokeLinearGradientStartPoint(),T=w.getStrokeLinearGradientEndPoint(),P=w.getStrokeLinearGradientColorStops(),A=this.createLinearGradient(b.x,b.y,T.x,T.y);if(P){for(let F=0;F<P.length;F+=2)A.addColorStop(P[F],P[F+1]);this.setAttr("strokeStyle",A)}}_stroke(w){const b=w.dash(),T=w.getStrokeScaleEnabled();if(w.hasStroke()){if(!T){this.save();const A=this.getCanvas().getPixelRatio();this.setTransform(A,0,0,A,0,0)}this._applyLineCap(w),b&&w.dashEnabled()&&(this.setLineDash(b),this.setAttr("lineDashOffset",w.dashOffset())),this.setAttr("lineWidth",w.strokeWidth()),w.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),w.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(w):this.setAttr("strokeStyle",w.stroke()),w._strokeFunc(this),T||this.restore()}}_applyShadow(w){var b,T,P;const A=(b=w.getShadowRGBA())!==null&&b!==void 0?b:"black",F=(T=w.getShadowBlur())!==null&&T!==void 0?T:5,E=(P=w.getShadowOffset())!==null&&P!==void 0?P:{x:0,y:0},k=w.getAbsoluteScale(),R=this.canvas.getPixelRatio(),U=k.x*R,N=k.y*R;this.setAttr("shadowColor",A),this.setAttr("shadowBlur",F*Math.min(Math.abs(U),Math.abs(N))),this.setAttr("shadowOffsetX",E.x*U),this.setAttr("shadowOffsetY",E.y*N)}}Za.SceneContext=y;class C extends S{constructor(w){super(w),this._context=w._canvas.getContext("2d",{willReadFrequently:!0})}_fill(w){this.save(),this.setAttr("fillStyle",w.colorKey),w._fillFuncHit(this),this.restore()}strokeShape(w){w.hasHitStroke()&&this._stroke(w)}_stroke(w){if(w.hasHitStroke()){const b=w.getStrokeScaleEnabled();if(!b){this.save();const A=this.getCanvas().getPixelRatio();this.setTransform(A,0,0,A,0,0)}this._applyLineCap(w);const T=w.hitStrokeWidth(),P=T==="auto"?w.strokeWidth():T;this.setAttr("lineWidth",P),this.setAttr("strokeStyle",w.colorKey),w._strokeFuncHit(this),b||this.restore()}}}return Za.HitContext=C,Za}var Hx;function Ky(){if(Hx)return Ka;Hx=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.HitCanvas=Ka.SceneCanvas=Ka.Canvas=void 0;const n=An(),e=VR(),t=bt();let r;function i(){if(r)return r;const d=n.Util.createCanvasElement(),h=d.getContext("2d");return r=function(){const f=t.Konva._global.devicePixelRatio||1,m=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return f/m}(),n.Util.releaseCanvas(d),r}let o=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(h||{}).pixelRatio||t.Konva.pixelRatio||i();this.pixelRatio=m,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const f=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,f){this.setWidth(h||0),this.setHeight(f||0)}toDataURL(h,f){try{return this._canvas.toDataURL(h,f)}catch{try{return this._canvas.toDataURL()}catch(v){return n.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Ka.Canvas=o;class s extends o{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}Ka.SceneCanvas=s;class l extends o{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return Ka.HitCanvas=l,Ka}var DC={},$x;function Zb(){return $x||($x=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=bt(),t=An();n.DD={get isDragging(){let r=!1;return n.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return n.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];n.DD._dragElements.forEach((o,s)=>{const{node:l}=o,d=l.getStage();d.setPointersPositions(r),o.pointerId===void 0&&(o.pointerId=t.Util._getFirstPointerId(r));const h=d._changedPointerPositions.find(f=>f.id===o.pointerId);if(h){if(o.dragStatus!=="dragging"){const f=l.dragDistance();if(Math.max(Math.abs(h.x-o.startPointerPos.x),Math.abs(h.y-o.startPointerPos.y))<f||(l.startDrag({evt:r}),!l.isDragging()))return}l._setDragPosition(r,o),i.push(l)}}),i.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:r},!0)})},_endDragBefore(r){const i=[];n.DD._dragElements.forEach(o=>{const{node:s}=o,l=s.getStage();if(r&&l.setPointersPositions(r),!l._changedPointerPositions.find(f=>f.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const h=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;h&&i.indexOf(h)===-1&&i.push(h)}),i.forEach(o=>{o.draw()})},_endDragAfter(r){n.DD._dragElements.forEach((i,o)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&n.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(DC)),DC}var Yx;function Un(){if(Yx)return n1;Yx=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.Node=void 0;const n=An(),e=Dt(),t=Ky(),r=bt(),i=Zb(),o=Pt(),s="absoluteOpacity",l="allEventListeners",d="absoluteTransform",h="absoluteScale",f="canvas",m="Change",v="children",g="konva",S="listening",y="mouseenter",C="mouseleave",x="set",w="Shape",b=" ",T="stage",P="transform",A="Stage",F="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let k=1,R=class R4{constructor(L){this._id=k++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(L),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(L){(L===P||L===d)&&this._cache.get(L)?this._cache.get(L).dirty=!0:L?this._cache.delete(L):this._cache.clear()}_getCache(L,I){let _=this._cache.get(L);return(_===void 0||(L===P||L===d)&&_.dirty===!0)&&(_=I.call(this),this._cache.set(L,_)),_}_calculate(L,I,_){if(!this._attachedDepsListeners.get(L)){const B=I.map(W=>W+"Change.konva").join(b);this.on(B,()=>{this._clearCache(L)}),this._attachedDepsListeners.set(L,!0)}return this._getCache(L,_)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(L){this._clearCache(L),L===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:L,filter:I,hit:_}=this._cache.get(f);n.Util.releaseCanvas(L,I,_),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(L){const I=L||{};let _={};(I.x===void 0||I.y===void 0||I.width===void 0||I.height===void 0)&&(_=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let B=Math.ceil(I.width||_.width),W=Math.ceil(I.height||_.height),H=I.pixelRatio,j=I.x===void 0?Math.floor(_.x):I.x,X=I.y===void 0?Math.floor(_.y):I.y,V=I.offset||0,$=I.drawBorder||!1,ne=I.hitCanvasPixelRatio||1;if(!B||!W){n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ie=Math.abs(Math.round(_.x)-j)>.5?1:0,te=Math.abs(Math.round(_.y)-X)>.5?1:0;B+=V*2+ie,W+=V*2+te,j-=V,X-=V;const pe=new t.SceneCanvas({pixelRatio:H,width:B,height:W}),ee=new t.SceneCanvas({pixelRatio:H,width:0,height:0,willReadFrequently:!0}),oe=new t.HitCanvas({pixelRatio:ne,width:B,height:W}),de=pe.getContext(),me=oe.getContext();return oe.isCache=!0,pe.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,I.imageSmoothingEnabled===!1&&(pe.getContext()._context.imageSmoothingEnabled=!1,ee.getContext()._context.imageSmoothingEnabled=!1),de.save(),me.save(),de.translate(-j,-X),me.translate(-j,-X),this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(h),this.drawScene(pe,this),this.drawHit(oe,this),this._isUnderCache=!1,de.restore(),me.restore(),$&&(de.save(),de.beginPath(),de.rect(0,0,B,W),de.closePath(),de.setAttr("strokeStyle","red"),de.setAttr("lineWidth",5),de.stroke(),de.restore()),this._cache.set(f,{scene:pe,filter:ee,hit:oe,x:j,y:X}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(L){throw new Error('abstract "getClientRect" method call')}_transformedRect(L,I){const _=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];let B=1/0,W=1/0,H=-1/0,j=-1/0;const X=this.getAbsoluteTransform(I);return _.forEach(function(V){const $=X.point(V);B===void 0&&(B=H=$.x,W=j=$.y),B=Math.min(B,$.x),W=Math.min(W,$.y),H=Math.max(H,$.x),j=Math.max(j,$.y)}),{x:B,y:W,width:H-B,height:j-W}}_drawCachedSceneCanvas(L){L.save(),L._applyOpacity(this),L._applyGlobalCompositeOperation(this);const I=this._getCanvasCache();L.translate(I.x,I.y);const _=this._getCachedSceneCanvas(),B=_.pixelRatio;L.drawImage(_._canvas,0,0,_.width/B,_.height/B),L.restore()}_drawCachedHitCanvas(L){const I=this._getCanvasCache(),_=I.hit;L.save(),L.translate(I.x,I.y),L.drawImage(_._canvas,0,0,_.width/_.pixelRatio,_.height/_.pixelRatio),L.restore()}_getCachedSceneCanvas(){let L=this.filters(),I=this._getCanvasCache(),_=I.scene,B=I.filter,W=B.getContext(),H,j,X,V;if(L){if(!this._filterUpToDate){const $=_.pixelRatio;B.setSize(_.width/_.pixelRatio,_.height/_.pixelRatio);try{for(H=L.length,W.clear(),W.drawImage(_._canvas,0,0,_.getWidth()/$,_.getHeight()/$),j=W.getImageData(0,0,B.getWidth(),B.getHeight()),X=0;X<H;X++){if(V=L[X],typeof V!="function"){n.Util.error("Filter should be type of function, but got "+typeof V+" instead. Please check correct filters");continue}V.call(this,j),W.putImageData(j,0,0)}}catch(ne){n.Util.error("Unable to apply filter. "+ne.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return B}return _}on(L,I){if(this._cache&&this._cache.delete(l),arguments.length===3)return this._delegate.apply(this,arguments);let _=L.split(b),B=_.length,W,H,j,X,V;for(W=0;W<B;W++)H=_[W],j=H.split("."),X=j[0],V=j[1]||"",this.eventListeners[X]||(this.eventListeners[X]=[]),this.eventListeners[X].push({name:V,handler:I});return this}off(L,I){let _=(L||"").split(b),B=_.length,W,H,j,X,V,$;if(this._cache&&this._cache.delete(l),!L)for(H in this.eventListeners)this._off(H);for(W=0;W<B;W++)if(j=_[W],X=j.split("."),V=X[0],$=X[1],V)this.eventListeners[V]&&this._off(V,$,I);else for(H in this.eventListeners)this._off(H,$,I);return this}dispatchEvent(L){const I={target:this,type:L.type,evt:L};return this.fire(L.type,I),this}addEventListener(L,I){return this.on(L,function(_){I.call(this,_.evt)}),this}removeEventListener(L){return this.off(L),this}_delegate(L,I,_){const B=this;this.on(L,function(W){const H=W.target.findAncestors(I,!0,B);for(let j=0;j<H.length;j++)W=n.Util.cloneObject(W),W.currentTarget=H[j],_.call(H[j],W)})}remove(){return this.isDragging()&&this.stopDrag(),i.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(T),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(S)}_remove(){this._clearCaches();const L=this.getParent();L&&L.children&&(L.children.splice(this.index,1),L._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(L){const I="get"+n.Util._capitalize(L);return n.Util._isFunction(this[I])?this[I]():this.attrs[L]}getAncestors(){let L=this.getParent(),I=[];for(;L;)I.push(L),L=L.getParent();return I}getAttrs(){return this.attrs||{}}setAttrs(L){return this._batchTransformChanges(()=>{let I,_;if(!L)return this;for(I in L)I!==v&&(_=x+n.Util._capitalize(I),n.Util._isFunction(this[_])?this[_](L[I]):this._setAttr(I,L[I]))}),this}isListening(){return this._getCache(S,this._isListening)}_isListening(L){if(!this.listening())return!1;const _=this.getParent();return _&&_!==L&&this!==L?_._isListening(L):!0}isVisible(){return this._getCache(F,this._isVisible)}_isVisible(L){if(!this.visible())return!1;const _=this.getParent();return _&&_!==L&&this!==L?_._isVisible(L):!0}shouldDrawHit(L,I=!1){if(L)return this._isVisible(L)&&this._isListening(L);const _=this.getLayer();let B=!1;i.DD._dragElements.forEach(H=>{H.dragStatus==="dragging"&&(H.node.nodeType==="Stage"||H.node.getLayer()===_)&&(B=!0)});const W=!I&&!r.Konva.hitOnDragEnabled&&(B||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!W}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let L=this.getDepth(),I=this,_=0,B,W,H,j;function X($){for(B=[],W=$.length,H=0;H<W;H++)j=$[H],_++,j.nodeType!==w&&(B=B.concat(j.getChildren().slice())),j._id===I._id&&(H=W);B.length>0&&B[0].getDepth()<=L&&X(B)}const V=this.getStage();return I.nodeType!==A&&V&&X(V.getChildren()),_}getDepth(){let L=0,I=this.parent;for(;I;)L++,I=I.parent;return L}_batchTransformChanges(L){this._batchingTransformChange=!0,L(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(P),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(L){return this._batchTransformChanges(()=>{this.x(L.x),this.y(L.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const L=this.getStage();if(!L)return null;const I=L.getPointerPosition();if(!I)return null;const _=this.getAbsoluteTransform().copy();return _.invert(),_.point(I)}getAbsolutePosition(L){let I=!1,_=this.parent;for(;_;){if(_.isCached()){I=!0;break}_=_.parent}I&&!L&&(L=!0);const B=this.getAbsoluteTransform(L).getMatrix(),W=new n.Transform,H=this.offset();return W.m=B.slice(),W.translate(H.x,H.y),W.getTranslation()}setAbsolutePosition(L){const{x:I,y:_,...B}=this._clearTransform();this.attrs.x=I,this.attrs.y=_,this._clearCache(P);const W=this._getAbsoluteTransform().copy();return W.invert(),W.translate(L.x,L.y),L={x:this.attrs.x+W.getTranslation().x,y:this.attrs.y+W.getTranslation().y},this._setTransform(B),this.setPosition({x:L.x,y:L.y}),this._clearCache(P),this._clearSelfAndDescendantCache(d),this}_setTransform(L){let I;for(I in L)this.attrs[I]=L[I]}_clearTransform(){const L={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,L}move(L){let I=L.x,_=L.y,B=this.x(),W=this.y();return I!==void 0&&(B+=I),_!==void 0&&(W+=_),this.setPosition({x:B,y:W}),this}_eachAncestorReverse(L,I){let _=[],B=this.getParent(),W,H;if(!(I&&I._id===this._id)){for(_.unshift(this);B&&(!I||B._id!==I._id);)_.unshift(B),B=B.parent;for(W=_.length,H=0;H<W;H++)L(_[H])}}rotate(L){return this.rotation(this.rotation()+L),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const L=this.index,I=this.parent.getChildren().length;return L<I-1?(this.parent.children.splice(L,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;const L=this.index,I=this.parent.getChildren().length;return L<I-1?(this.parent.children.splice(L,1),this.parent.children.splice(L+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.splice(L-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(L){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(L<0||L>=this.parent.children.length)&&n.Util.warn("Unexpected value "+L+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const I=this.index;return this.parent.children.splice(I,1),this.parent.children.splice(L,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let L=this.opacity();const I=this.getParent();return I&&!I._isUnderCache&&(L*=I.getAbsoluteOpacity()),L}moveTo(L){return this.getParent()!==L&&(this._remove(),L.add(this)),this}toObject(){let L=this.getAttrs(),I,_,B,W,H;const j={attrs:{},className:this.getClassName()};for(I in L)_=L[I],H=n.Util.isObject(_)&&!n.Util._isPlainObject(_)&&!n.Util._isArray(_),!H&&(B=typeof this[I]=="function"&&this[I],delete L[I],W=B?B.call(this):null,L[I]=_,W!==_&&(j.attrs[I]=_));return n.Util._prepareToStringify(j)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(L,I,_){const B=[];I&&this._isMatch(L)&&B.push(this);let W=this.parent;for(;W;){if(W===_)return B;W._isMatch(L)&&B.push(W),W=W.parent}return B}isAncestorOf(L){return!1}findAncestor(L,I,_){return this.findAncestors(L,I,_)[0]}_isMatch(L){if(!L)return!1;if(typeof L=="function")return L(this);let I=L.replace(/ /g,"").split(","),_=I.length,B,W;for(B=0;B<_;B++)if(W=I[B],n.Util.isValidSelector(W)||(n.Util.warn('Selector "'+W+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),W.charAt(0)==="#"){if(this.id()===W.slice(1))return!0}else if(W.charAt(0)==="."){if(this.hasName(W.slice(1)))return!0}else if(this.className===W||this.nodeType===W)return!0;return!1}getLayer(){const L=this.getParent();return L?L.getLayer():null}getStage(){return this._getCache(T,this._getStage)}_getStage(){const L=this.getParent();return L?L.getStage():null}fire(L,I={},_){return I.target=I.target||this,_?this._fireAndBubble(L,I):this._fire(L,I),this}getAbsoluteTransform(L){return L?this._getAbsoluteTransform(L):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(L){let I;if(L)return I=new n.Transform,this._eachAncestorReverse(function(_){const B=_.transformsEnabled();B==="all"?I.multiply(_.getTransform()):B==="position"&&I.translate(_.x()-_.offsetX(),_.y()-_.offsetY())},L),I;{I=this._cache.get(d)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(I):I.reset();const _=this.transformsEnabled();if(_==="all")I.multiply(this.getTransform());else if(_==="position"){const B=this.attrs.x||0,W=this.attrs.y||0,H=this.attrs.offsetX||0,j=this.attrs.offsetY||0;I.translate(B-H,W-j)}return I.dirty=!1,I}}getAbsoluteScale(L){let I=this;for(;I;)I._isUnderCache&&(L=I),I=I.getParent();const B=this.getAbsoluteTransform(L).decompose();return{x:B.scaleX,y:B.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(P,this._getTransform)}_getTransform(){var L,I;const _=this._cache.get(P)||new n.Transform;_.reset();const B=this.x(),W=this.y(),H=r.Konva.getAngle(this.rotation()),j=(L=this.attrs.scaleX)!==null&&L!==void 0?L:1,X=(I=this.attrs.scaleY)!==null&&I!==void 0?I:1,V=this.attrs.skewX||0,$=this.attrs.skewY||0,ne=this.attrs.offsetX||0,ie=this.attrs.offsetY||0;return(B!==0||W!==0)&&_.translate(B,W),H!==0&&_.rotate(H),(V!==0||$!==0)&&_.skew(V,$),(j!==1||X!==1)&&_.scale(j,X),(ne!==0||ie!==0)&&_.translate(-1*ne,-1*ie),_.dirty=!1,_}clone(L){let I=n.Util.cloneObject(this.attrs),_,B,W,H,j;for(_ in L)I[_]=L[_];const X=new this.constructor(I);for(_ in this.eventListeners)for(B=this.eventListeners[_],W=B.length,H=0;H<W;H++)j=B[H],j.name.indexOf(g)<0&&(X.eventListeners[_]||(X.eventListeners[_]=[]),X.eventListeners[_].push(j));return X}_toKonvaCanvas(L){L=L||{};const I=this.getClientRect(),_=this.getStage(),B=L.x!==void 0?L.x:Math.floor(I.x),W=L.y!==void 0?L.y:Math.floor(I.y),H=L.pixelRatio||1,j=new t.SceneCanvas({width:L.width||Math.ceil(I.width)||(_?_.width():0),height:L.height||Math.ceil(I.height)||(_?_.height():0),pixelRatio:H}),X=j.getContext(),V=new t.SceneCanvas({width:j.width/j.pixelRatio+Math.abs(B),height:j.height/j.pixelRatio+Math.abs(W),pixelRatio:j.pixelRatio});return L.imageSmoothingEnabled===!1&&(X._context.imageSmoothingEnabled=!1),X.save(),(B||W)&&X.translate(-1*B,-1*W),this.drawScene(j,void 0,V),X.restore(),j}toCanvas(L){return this._toKonvaCanvas(L)._canvas}toDataURL(L){L=L||{};const I=L.mimeType||null,_=L.quality||null,B=this._toKonvaCanvas(L).toDataURL(I,_);return L.callback&&L.callback(B),B}toImage(L){return new Promise((I,_)=>{try{const B=L==null?void 0:L.callback;B&&delete L.callback,n.Util._urlToImage(this.toDataURL(L),function(W){I(W),B==null||B(W)})}catch(B){_(B)}})}toBlob(L){return new Promise((I,_)=>{try{const B=L==null?void 0:L.callback;B&&delete L.callback,this.toCanvas(L).toBlob(W=>{I(W),B==null||B(W)},L==null?void 0:L.mimeType,L==null?void 0:L.quality)}catch(B){_(B)}})}setSize(L){return this.width(L.width),this.height(L.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(L,I,_){let B=this.eventListeners[L],W,H,j;for(W=0;W<B.length;W++)if(H=B[W].name,j=B[W].handler,(H!=="konva"||I==="konva")&&(!I||H===I)&&(!_||_===j)){if(B.splice(W,1),B.length===0){delete this.eventListeners[L];break}W--}}_fireChangeEvent(L,I,_){this._fire(L+m,{oldVal:I,newVal:_})}addName(L){if(!this.hasName(L)){const I=this.name(),_=I?I+" "+L:L;this.name(_)}return this}hasName(L){if(!L)return!1;const I=this.name();return I?(I||"").split(/\s/g).indexOf(L)!==-1:!1}removeName(L){const I=(this.name()||"").split(/\s/g),_=I.indexOf(L);return _!==-1&&(I.splice(_,1),this.name(I.join(" "))),this}setAttr(L,I){const _=this[x+n.Util._capitalize(L)];return n.Util._isFunction(_)?_.call(this,I):this._setAttr(L,I),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const L=this.getLayer()||this.getStage();L==null||L.batchDraw()}}_setAttr(L,I){const _=this.attrs[L];_===I&&!n.Util.isObject(I)||(I==null?delete this.attrs[L]:this.attrs[L]=I,this._shouldFireChangeEvents&&this._fireChangeEvent(L,_,I),this._requestDraw())}_setComponentAttr(L,I,_){let B;_!==void 0&&(B=this.attrs[L],B||(this.attrs[L]=this.getAttr(L)),this.attrs[L][I]=_,this._fireChangeEvent(L,B,_))}_fireAndBubble(L,I,_){if(I&&this.nodeType===w&&(I.target=this),!((L===y||L===C)&&(_&&(this===_||this.isAncestorOf&&this.isAncestorOf(_))||this.nodeType==="Stage"&&!_))){this._fire(L,I);const W=(L===y||L===C)&&_&&_.isAncestorOf&&_.isAncestorOf(this)&&!_.isAncestorOf(this.parent);(I&&!I.cancelBubble||!I)&&this.parent&&this.parent.isListening()&&!W&&(_&&_.parent?this._fireAndBubble.call(this.parent,L,I,_):this._fireAndBubble.call(this.parent,L,I))}}_getProtoListeners(L){var I,_,B;const W=(I=this._cache.get(l))!==null&&I!==void 0?I:{};let H=W==null?void 0:W[L];if(H===void 0){H=[];let j=Object.getPrototypeOf(this);for(;j;){const X=(B=(_=j.eventListeners)===null||_===void 0?void 0:_[L])!==null&&B!==void 0?B:[];H.push(...X),j=Object.getPrototypeOf(j)}W[L]=H,this._cache.set(l,W)}return H}_fire(L,I){I=I||{},I.currentTarget=this,I.type=L;const _=this._getProtoListeners(L);if(_)for(var B=0;B<_.length;B++)_[B].handler.call(this,I);const W=this.eventListeners[L];if(W)for(var B=0;B<W.length;B++)W[B].handler.call(this,I)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(L){const I=L?L.pointerId:void 0,_=this.getStage(),B=this.getAbsolutePosition();if(!_)return;const W=_._getPointerById(I)||_._changedPointerPositions[0]||B;i.DD._dragElements.set(this._id,{node:this,startPointerPos:W,offset:{x:W.x-B.x,y:W.y-B.y},dragStatus:"ready",pointerId:I})}startDrag(L,I=!0){i.DD._dragElements.has(this._id)||this._createDragElement(L);const _=i.DD._dragElements.get(this._id);_.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:L&&L.evt},I)}_setDragPosition(L,I){const _=this.getStage()._getPointerById(I.pointerId);if(!_)return;let B={x:_.x-I.offset.x,y:_.y-I.offset.y};const W=this.dragBoundFunc();if(W!==void 0){const H=W.call(this,B,L);H?B=H:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==B.x||this._lastPos.y!==B.y)&&(this.setAbsolutePosition(B),this._requestDraw()),this._lastPos=B}stopDrag(L){const I=i.DD._dragElements.get(this._id);I&&(I.dragStatus="stopped"),i.DD._endDragBefore(L),i.DD._endDragAfter(L)}setDraggable(L){this._setAttr("draggable",L),this._dragChange()}isDragging(){const L=i.DD._dragElements.get(this._id);return L?L.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(L){if(!(!(L.evt.button!==void 0)||r.Konva.dragButtons.indexOf(L.evt.button)>=0)||this.isDragging())return;let B=!1;i.DD._dragElements.forEach(W=>{this.isAncestorOf(W.node)&&(B=!0)}),B||this._createDragElement(L)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const I=i.DD._dragElements.get(this._id),_=I&&I.dragStatus==="dragging",B=I&&I.dragStatus==="ready";_?this.stopDrag():B&&i.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(L={x:0,y:0}){const I=this.getStage();if(!I)return!1;const _={x:-L.x,y:-L.y,width:I.width()+2*L.x,height:I.height()+2*L.y};return n.Util.haveIntersection(_,this.getClientRect())}static create(L,I){return n.Util._isString(L)&&(L=JSON.parse(L)),this._createNode(L,I)}static _createNode(L,I){let _=R4.prototype.getClassName.call(L),B=L.children,W,H,j;I&&(L.attrs.container=I),r.Konva[_]||(n.Util.warn('Can not find a node with class name "'+_+'". Fallback to "Shape".'),_="Shape");const X=r.Konva[_];if(W=new X(L.attrs),B)for(H=B.length,j=0;j<H;j++)W.add(R4._createNode(B[j]));return W}};n1.Node=R,R.prototype.nodeType="Node",R.prototype._attrsAffectingSize=[],R.prototype.eventListeners={},R.prototype.on.call(R.prototype,E,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(P),this._clearSelfAndDescendantCache(d)}),R.prototype.on.call(R.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(F)}),R.prototype.on.call(R.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S)}),R.prototype.on.call(R.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const U=e.Factory.addGetterSetter;return U(R,"zIndex"),U(R,"absolutePosition"),U(R,"position"),U(R,"x",0,(0,o.getNumberValidator)()),U(R,"y",0,(0,o.getNumberValidator)()),U(R,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),U(R,"opacity",1,(0,o.getNumberValidator)()),U(R,"name","",(0,o.getStringValidator)()),U(R,"id","",(0,o.getStringValidator)()),U(R,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"scale",["x","y"]),U(R,"scaleX",1,(0,o.getNumberValidator)()),U(R,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"skew",["x","y"]),U(R,"skewX",0,(0,o.getNumberValidator)()),U(R,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(R,"offset",["x","y"]),U(R,"offsetX",0,(0,o.getNumberValidator)()),U(R,"offsetY",0,(0,o.getNumberValidator)()),U(R,"dragDistance",void 0,(0,o.getNumberValidator)()),U(R,"width",0,(0,o.getNumberValidator)()),U(R,"height",0,(0,o.getNumberValidator)()),U(R,"listening",!0,(0,o.getBooleanValidator)()),U(R,"preventDefault",!0,(0,o.getBooleanValidator)()),U(R,"filters",void 0,function(N){return this._filterUpToDate=!1,N}),U(R,"visible",!0,(0,o.getBooleanValidator)()),U(R,"transformsEnabled","all",(0,o.getStringValidator)()),U(R,"size"),U(R,"dragBoundFunc"),U(R,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(R,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),n1}var r1={},Xx;function Zy(){if(Xx)return r1;Xx=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.Container=void 0;const n=Dt(),e=Un(),t=Pt();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const s=this.children||[],l=[];return s.forEach(function(d){o(d)&&l.push(d)}),l}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let l=0;l<o.length;l++)this.add(o[l]);return this}const s=o[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const s=this._generalFind(o,!0);return s.length>0?s[0]:void 0}_generalFind(o,s){const l=[];return this._descendants(d=>{const h=d._isMatch(o);return h&&l.push(d),!!(h&&s)}),l}_descendants(o){let s=!1;const l=this.getChildren();for(const d of l){if(s=o(d),s)return!0;if(d.hasChildren()&&(s=d._descendants(o),s))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(s=>{o.children.push(s.toObject())}),o}isAncestorOf(o){let s=o.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(o){const s=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(l){s.add(l.clone())}),s}getAllIntersections(o){const s=[];return this.find("Shape").forEach(l=>{l.isVisible()&&l.intersects(o)&&s.push(l)}),s}_clearSelfAndDescendantCache(o){var s;super._clearSelfAndDescendantCache(o),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(l){l._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(s,l){s.index=l}),this._requestDraw()}drawScene(o,s,l){const d=this.getLayer(),h=o||d&&d.getCanvas(),f=h&&h.getContext(),m=this._getCanvasCache(),v=m&&m.scene,g=h&&h.isCache;if(!this.isVisible()&&!g)return this;if(v){f.save();const S=this.getAbsoluteTransform(s).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",h,s,l);return this}drawHit(o,s){if(!this.shouldDrawHit(s))return this;const l=this.getLayer(),d=o||l&&l.hitCanvas,h=d&&d.getContext(),f=this._getCanvasCache();if(f&&f.hit){h.save();const v=this.getAbsoluteTransform(s).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",d,s);return this}_drawChildren(o,s,l,d){var h;const f=s&&s.getContext(),m=this.clipWidth(),v=this.clipHeight(),g=this.clipFunc(),S=typeof m=="number"&&typeof v=="number"||g,y=l===this;if(S){f.save();const x=this.getAbsoluteTransform(l);let w=x.getMatrix();f.transform(w[0],w[1],w[2],w[3],w[4],w[5]),f.beginPath();let b;if(g)b=g.call(this,f,this);else{const T=this.clipX(),P=this.clipY();f.rect(T||0,P||0,m,v)}f.clip.apply(f,b),w=x.copy().invert().getMatrix(),f.transform(w[0],w[1],w[2],w[3],w[4],w[5])}const C=!y&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";C&&(f.save(),f._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(x){x[o](s,l,d)}),C&&f.restore(),S&&f.restore()}getClientRect(o={}){var s;const l=o.skipTransform,d=o.relativeTo;let h,f,m,v,g={x:1/0,y:1/0,width:0,height:0};const S=this;(s=this.children)===null||s===void 0||s.forEach(function(x){if(!x.visible())return;const w=x.getClientRect({relativeTo:S,skipShadow:o.skipShadow,skipStroke:o.skipStroke});w.width===0&&w.height===0||(h===void 0?(h=w.x,f=w.y,m=w.x+w.width,v=w.y+w.height):(h=Math.min(h,w.x),f=Math.min(f,w.y),m=Math.max(m,w.x+w.width),v=Math.max(v,w.y+w.height)))});const y=this.find("Shape");let C=!1;for(let x=0;x<y.length;x++)if(y[x]._isVisible(this)){C=!0;break}return C&&h!==void 0?g={x:h,y:f,width:m-h,height:v-f}:g={x:0,y:0,width:0,height:0},l?g:this._transformedRect(g,d)}};return r1.Container=r,n.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(r,"clipX",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipY",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipWidth",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipHeight",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipFunc"),r1}var xC={},fl={},Kx;function GR(){if(Kx)return fl;Kx=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.getCapturedShape=r,fl.createEvent=i,fl.hasPointerCapture=o,fl.setPointerCapture=s,fl.releaseCapture=l;const n=bt(),e=new Map,t=n.Konva._global.PointerEvent!==void 0;function r(d){return e.get(d)}function i(d){return{evt:d,pointerId:d.pointerId}}function o(d,h){return e.get(d)===h}function s(d,h){l(d),h.getStage()&&(e.set(d,h),t&&h._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}function l(d,h){const f=e.get(d);if(!f)return;const m=f.getStage();m&&m.content,e.delete(d),t&&f._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return fl}var Zx;function az(){return Zx||(Zx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=An(),t=Dt(),r=Zy(),i=bt(),o=Ky(),s=Zb(),l=bt(),d=GR(),h="Stage",f="string",m="px",v="mouseout",g="mouseleave",S="mouseover",y="mouseenter",C="mousemove",x="mousedown",w="mouseup",b="pointermove",T="pointerdown",P="pointerup",A="pointercancel",F="lostpointercapture",E="pointerout",k="pointerleave",R="pointerover",U="pointerenter",N="contextmenu",L="touchstart",I="touchend",_="touchmove",B="touchcancel",W="wheel",H=5,j=[[y,"_pointerenter"],[x,"_pointerdown"],[C,"_pointermove"],[w,"_pointerup"],[g,"_pointerleave"],[L,"_pointerdown"],[_,"_pointermove"],[I,"_pointerup"],[B,"_pointercancel"],[S,"_pointerover"],[W,"_wheel"],[N,"_contextmenu"],[T,"_pointerdown"],[b,"_pointermove"],[P,"_pointerup"],[A,"_pointercancel"],[F,"_lostpointercapture"]],X={mouse:{[E]:v,[k]:g,[R]:S,[U]:y,[b]:C,[T]:x,[P]:w,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[k]:"touchleave",[R]:"touchover",[U]:"touchenter",[b]:_,[T]:L,[P]:I,[A]:B,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[k]:k,[R]:R,[U]:U,[b]:b,[T]:T,[P]:P,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},V=pe=>pe.indexOf("pointer")>=0?"pointer":pe.indexOf("touch")>=0?"touch":"mouse",$=pe=>{const ee=V(pe);if(ee==="pointer")return i.Konva.pointerEventsEnabled&&X.pointer;if(ee==="touch")return X.touch;if(ee==="mouse")return X.mouse};function ne(pe={}){return(pe.clipFunc||pe.clipWidth||pe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),pe}const ie="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class te extends r.Container{constructor(ee){super(ne(ee)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ne(this.attrs)}),this._checkVisibility()}_validateAdd(ee){const oe=ee.getType()==="Layer",de=ee.getType()==="FastLayer";oe||de||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ee=this.visible()?"":"none";this.content.style.display=ee}setContainer(ee){if(typeof ee===f){if(ee.charAt(0)==="."){const de=ee.slice(1);ee=document.getElementsByClassName(de)[0]}else{var oe;ee.charAt(0)!=="#"?oe=ee:oe=ee.slice(1),ee=document.getElementById(oe)}if(!ee)throw"Can not find container in document with id "+oe}return this._setAttr("container",ee),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ee.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const ee=this.children,oe=ee.length;for(let de=0;de<oe;de++)ee[de].clear();return this}clone(ee){return ee||(ee={}),ee.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,ee)}destroy(){super.destroy();const ee=this.content;ee&&e.Util._isInDocument(ee)&&this.container().removeChild(ee);const oe=n.stages.indexOf(this);return oe>-1&&n.stages.splice(oe,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ee=this._pointerPositions[0]||this._changedPointerPositions[0];return ee?{x:ee.x,y:ee.y}:(e.Util.warn(ie),null)}_getPointerById(ee){return this._pointerPositions.find(oe=>oe.id===ee)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ee){ee=ee||{},ee.x=ee.x||0,ee.y=ee.y||0,ee.width=ee.width||this.width(),ee.height=ee.height||this.height();const oe=new o.SceneCanvas({width:ee.width,height:ee.height,pixelRatio:ee.pixelRatio||1}),de=oe.getContext()._context,me=this.children;return(ee.x||ee.y)&&de.translate(-1*ee.x,-1*ee.y),me.forEach(function(we){if(!we.isVisible())return;const Te=we._toKonvaCanvas(ee);de.drawImage(Te._canvas,ee.x,ee.y,Te.getWidth()/Te.getPixelRatio(),Te.getHeight()/Te.getPixelRatio())}),oe}getIntersection(ee){if(!ee)return null;const oe=this.children,de=oe.length,me=de-1;for(let we=me;we>=0;we--){const Te=oe[we].getIntersection(ee);if(Te)return Te}return null}_resizeDOM(){const ee=this.width(),oe=this.height();this.content&&(this.content.style.width=ee+m,this.content.style.height=oe+m),this.bufferCanvas.setSize(ee,oe),this.bufferHitCanvas.setSize(ee,oe),this.children.forEach(de=>{de.setSize({width:ee,height:oe}),de.draw()})}add(ee,...oe){if(arguments.length>1){for(let me=0;me<arguments.length;me++)this.add(arguments[me]);return this}super.add(ee);const de=this.children.length;return de>H&&e.Util.warn("The stage has "+de+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ee.setSize({width:this.width(),height:this.height()}),ee.draw(),i.Konva.isBrowser&&this.content.appendChild(ee.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ee){return d.hasPointerCapture(ee,this)}setPointerCapture(ee){d.setPointerCapture(ee,this)}releaseCapture(ee){d.releaseCapture(ee,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&j.forEach(([ee,oe])=>{this.content.addEventListener(ee,de=>{this[oe](de)},{passive:!1})})}_pointerenter(ee){this.setPointersPositions(ee);const oe=$(ee.type);oe&&this._fire(oe.pointerenter,{evt:ee,target:this,currentTarget:this})}_pointerover(ee){this.setPointersPositions(ee);const oe=$(ee.type);oe&&this._fire(oe.pointerover,{evt:ee,target:this,currentTarget:this})}_getTargetShape(ee){let oe=this[ee+"targetShape"];return oe&&!oe.getStage()&&(oe=null),oe}_pointerleave(ee){const oe=$(ee.type),de=V(ee.type);if(!oe)return;this.setPointersPositions(ee);const me=this._getTargetShape(de),we=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;me&&we?(me._fireAndBubble(oe.pointerout,{evt:ee}),me._fireAndBubble(oe.pointerleave,{evt:ee}),this._fire(oe.pointerleave,{evt:ee,target:this,currentTarget:this}),this[de+"targetShape"]=null):we&&(this._fire(oe.pointerleave,{evt:ee,target:this,currentTarget:this}),this._fire(oe.pointerout,{evt:ee,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(ee){const oe=$(ee.type),de=V(ee.type);if(!oe)return;this.setPointersPositions(ee);let me=!1;this._changedPointerPositions.forEach(we=>{const Te=this.getIntersection(we);if(s.DD.justDragged=!1,i.Konva["_"+de+"ListenClick"]=!0,!Te||!Te.isListening()){this[de+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Te.setPointerCapture(we.id),this[de+"ClickStartShape"]=Te,Te._fireAndBubble(oe.pointerdown,{evt:ee,pointerId:we.id}),me=!0;const qe=ee.type.indexOf("touch")>=0;Te.preventDefault()&&ee.cancelable&&qe&&ee.preventDefault()}),me||this._fire(oe.pointerdown,{evt:ee,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(ee){const oe=$(ee.type),de=V(ee.type);if(!oe||(i.Konva.isDragging()&&s.DD.node.preventDefault()&&ee.cancelable&&ee.preventDefault(),this.setPointersPositions(ee),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const we={};let Te=!1;const qe=this._getTargetShape(de);this._changedPointerPositions.forEach(q=>{const ge=d.getCapturedShape(q.id)||this.getIntersection(q),Se=q.id,Z={evt:ee,pointerId:Se},K=qe!==ge;if(K&&qe&&(qe._fireAndBubble(oe.pointerout,{...Z},ge),qe._fireAndBubble(oe.pointerleave,{...Z},ge)),ge){if(we[ge._id])return;we[ge._id]=!0}ge&&ge.isListening()?(Te=!0,K&&(ge._fireAndBubble(oe.pointerover,{...Z},qe),ge._fireAndBubble(oe.pointerenter,{...Z},qe),this[de+"targetShape"]=ge),ge._fireAndBubble(oe.pointermove,{...Z})):qe&&(this._fire(oe.pointerover,{evt:ee,target:this,currentTarget:this,pointerId:Se}),this[de+"targetShape"]=null)}),Te||this._fire(oe.pointermove,{evt:ee,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ee){const oe=$(ee.type),de=V(ee.type);if(!oe)return;this.setPointersPositions(ee);const me=this[de+"ClickStartShape"],we=this[de+"ClickEndShape"],Te={};let qe=!1;this._changedPointerPositions.forEach(q=>{const ge=d.getCapturedShape(q.id)||this.getIntersection(q);if(ge){if(ge.releaseCapture(q.id),Te[ge._id])return;Te[ge._id]=!0}const Se=q.id,Z={evt:ee,pointerId:Se};let K=!1;i.Konva["_"+de+"InDblClickWindow"]?(K=!0,clearTimeout(this[de+"DblTimeout"])):s.DD.justDragged||(i.Konva["_"+de+"InDblClickWindow"]=!0,clearTimeout(this[de+"DblTimeout"])),this[de+"DblTimeout"]=setTimeout(function(){i.Konva["_"+de+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ge&&ge.isListening()?(qe=!0,this[de+"ClickEndShape"]=ge,ge._fireAndBubble(oe.pointerup,{...Z}),i.Konva["_"+de+"ListenClick"]&&me&&me===ge&&(ge._fireAndBubble(oe.pointerclick,{...Z}),K&&we&&we===ge&&ge._fireAndBubble(oe.pointerdblclick,{...Z}))):(this[de+"ClickEndShape"]=null,i.Konva["_"+de+"ListenClick"]&&this._fire(oe.pointerclick,{evt:ee,target:this,currentTarget:this,pointerId:Se}),K&&this._fire(oe.pointerdblclick,{evt:ee,target:this,currentTarget:this,pointerId:Se}))}),qe||this._fire(oe.pointerup,{evt:ee,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+de+"ListenClick"]=!1,ee.cancelable&&de!=="touch"&&de!=="pointer"&&ee.preventDefault()}_contextmenu(ee){this.setPointersPositions(ee);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(N,{evt:ee}):this._fire(N,{evt:ee,target:this,currentTarget:this})}_wheel(ee){this.setPointersPositions(ee);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(W,{evt:ee}):this._fire(W,{evt:ee,target:this,currentTarget:this})}_pointercancel(ee){this.setPointersPositions(ee);const oe=d.getCapturedShape(ee.pointerId)||this.getIntersection(this.getPointerPosition());oe&&oe._fireAndBubble(P,d.createEvent(ee)),d.releaseCapture(ee.pointerId)}_lostpointercapture(ee){d.releaseCapture(ee.pointerId)}setPointersPositions(ee){const oe=this._getContentPosition();let de=null,me=null;ee=ee||window.event,ee.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ee.touches,we=>{this._pointerPositions.push({id:we.identifier,x:(we.clientX-oe.left)/oe.scaleX,y:(we.clientY-oe.top)/oe.scaleY})}),Array.prototype.forEach.call(ee.changedTouches||ee.touches,we=>{this._changedPointerPositions.push({id:we.identifier,x:(we.clientX-oe.left)/oe.scaleX,y:(we.clientY-oe.top)/oe.scaleY})})):(de=(ee.clientX-oe.left)/oe.scaleX,me=(ee.clientY-oe.top)/oe.scaleY,this.pointerPos={x:de,y:me},this._pointerPositions=[{x:de,y:me,id:e.Util._getFirstPointerId(ee)}],this._changedPointerPositions=[{x:de,y:me,id:e.Util._getFirstPointerId(ee)}])}_setPointerPosition(ee){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ee)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const ee=this.content.getBoundingClientRect();return{top:ee.top,left:ee.left,scaleX:ee.width/this.content.clientWidth||1,scaleY:ee.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const ee=this.container();if(!ee)throw"Stage has no container. A container is required.";ee.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ee.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ee){ee.batchDraw()}),this}}n.Stage=te,te.prototype.nodeType=h,(0,l._registerNode)(te),t.Factory.addGetterSetter(te,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(pe=>{pe.batchDraw()})})}(xC)),xC}var i1={},TC={},Jx;function dr(){return Jx||(Jx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=bt(),t=An(),r=Dt(),i=Un(),o=Pt(),s=bt(),l=GR(),d="hasShadow",h="shadowRGBA",f="patternImage",m="linearGradient",v="radialGradient";let g;function S(){return g||(g=t.Util.createCanvasElement().getContext("2d"),g)}n.shapes={};function y(k){const R=this.attrs.fillRule;R?k.fill(R):k.fill()}function C(k){k.stroke()}function x(k){const R=this.attrs.fillRule;R?k.fill(R):k.fill()}function w(k){k.stroke()}function b(){this._clearCache(d)}function T(){this._clearCache(h)}function P(){this._clearCache(f)}function A(){this._clearCache(m)}function F(){this._clearCache(v)}class E extends i.Node{constructor(R){super(R);let U;for(;U=t.Util.getRandomColor(),!(U&&!(U in n.shapes)););this.colorKey=U,n.shapes[U]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const U=S().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(U&&U.setTransform){const N=new t.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(e.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const L=N.getMatrix(),I=typeof DOMMatrix>"u"?{a:L[0],b:L[1],c:L[2],d:L[3],e:L[4],f:L[5]}:new DOMMatrix(L);U.setTransform(I)}return U}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){const R=this.fillLinearGradientColorStops();if(R){const U=S(),N=this.fillLinearGradientStartPoint(),L=this.fillLinearGradientEndPoint(),I=U.createLinearGradient(N.x,N.y,L.x,L.y);for(let _=0;_<R.length;_+=2)I.addColorStop(R[_],R[_+1]);return I}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const R=this.fillRadialGradientColorStops();if(R){const U=S(),N=this.fillRadialGradientStartPoint(),L=this.fillRadialGradientEndPoint(),I=U.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),L.x,L.y,this.fillRadialGradientEndRadius());for(let _=0;_<R.length;_+=2)I.addColorStop(R[_],R[_+1]);return I}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const R=t.Util.colorToRGBA(this.shadowColor());if(R)return"rgba("+R.r+","+R.g+","+R.b+","+R.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const R=this.hitStrokeWidth();return R==="auto"?this.hasStroke():this.strokeEnabled()&&!!R}intersects(R){const U=this.getStage();if(!U)return!1;const N=U.bufferHitCanvas;return N.getContext().clear(),this.drawHit(N,void 0,!0),N.context.getImageData(Math.round(R.x),Math.round(R.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(R){var U;if(!((U=this.attrs.perfectDrawEnabled)!==null&&U!==void 0?U:!0))return!1;const L=R||this.hasFill(),I=this.hasStroke(),_=this.getAbsoluteOpacity()!==1;if(L&&I&&_)return!0;const B=this.hasShadow(),W=this.shadowForStrokeEnabled();return!!(L&&I&&B&&W)}setStrokeHitEnabled(R){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),R?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const R=this.size();return{x:this._centroid?-R.width/2:0,y:this._centroid?-R.height/2:0,width:R.width,height:R.height}}getClientRect(R={}){let U=!1,N=this.getParent();for(;N;){if(N.isCached()){U=!0;break}N=N.getParent()}const L=R.skipTransform,I=R.relativeTo||U&&this.getStage()||void 0,_=this.getSelfRect(),W=!R.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,H=_.width+W,j=_.height+W,X=!R.skipShadow&&this.hasShadow(),V=X?this.shadowOffsetX():0,$=X?this.shadowOffsetY():0,ne=H+Math.abs(V),ie=j+Math.abs($),te=X&&this.shadowBlur()||0,pe=ne+te*2,ee=ie+te*2,oe={width:pe,height:ee,x:-(W/2+te)+Math.min(V,0)+_.x,y:-(W/2+te)+Math.min($,0)+_.y};return L?oe:this._transformedRect(oe,I)}drawScene(R,U,N){const L=this.getLayer();let I=R||L.getCanvas(),_=I.getContext(),B=this._getCanvasCache(),W=this.getSceneFunc(),H=this.hasShadow(),j,X;const V=I.isCache,$=U===this;if(!this.isVisible()&&!$)return this;if(B){_.save();const ie=this.getAbsoluteTransform(U).getMatrix();return _.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),this._drawCachedSceneCanvas(_),_.restore(),this}if(!W)return this;if(_.save(),this._useBufferCanvas()&&!V){j=this.getStage();const ie=N||j.bufferCanvas;X=ie.getContext(),X.clear(),X.save(),X._applyLineJoin(this);var ne=this.getAbsoluteTransform(U).getMatrix();X.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),W.call(this,X,this),X.restore();const te=ie.pixelRatio;H&&_._applyShadow(this),_._applyOpacity(this),_._applyGlobalCompositeOperation(this),_.drawImage(ie._canvas,0,0,ie.width/te,ie.height/te)}else{if(_._applyLineJoin(this),!$){var ne=this.getAbsoluteTransform(U).getMatrix();_.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),_._applyOpacity(this),_._applyGlobalCompositeOperation(this)}H&&_._applyShadow(this),W.call(this,_,this)}return _.restore(),this}drawHit(R,U,N=!1){if(!this.shouldDrawHit(U,N))return this;const L=this.getLayer(),I=R||L.hitCanvas,_=I&&I.getContext(),B=this.hitFunc()||this.sceneFunc(),W=this._getCanvasCache(),H=W&&W.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),H){_.save();const X=this.getAbsoluteTransform(U).getMatrix();return _.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(_),_.restore(),this}if(!B)return this;if(_.save(),_._applyLineJoin(this),!(this===U)){const X=this.getAbsoluteTransform(U).getMatrix();_.transform(X[0],X[1],X[2],X[3],X[4],X[5])}return B.call(this,_,this),_.restore(),this}drawHitFromCache(R=0){const U=this._getCanvasCache(),N=this._getCachedSceneCanvas(),L=U.hit,I=L.getContext(),_=L.getWidth(),B=L.getHeight();I.clear(),I.drawImage(N._canvas,0,0,_,B);try{const W=I.getImageData(0,0,_,B),H=W.data,j=H.length,X=t.Util._hexToRgb(this.colorKey);for(let V=0;V<j;V+=4)H[V+3]>R?(H[V]=X.r,H[V+1]=X.g,H[V+2]=X.b,H[V+3]=255):H[V+3]=0;I.putImageData(W,0,0)}catch(W){t.Util.error("Unable to draw hit graph from cached scene canvas. "+W.message)}return this}hasPointerCapture(R){return l.hasPointerCapture(R,this)}setPointerCapture(R){l.setPointerCapture(R,this)}releaseCapture(R){l.releaseCapture(R,this)}}n.Shape=E,E.prototype._fillFunc=y,E.prototype._strokeFunc=C,E.prototype._fillFuncHit=x,E.prototype._strokeFuncHit=w,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,s._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",T),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",P),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),r.Factory.addGetterSetter(E,"stroke",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"strokeWidth",2,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"lineJoin"),r.Factory.addGetterSetter(E,"lineCap"),r.Factory.addGetterSetter(E,"sceneFunc"),r.Factory.addGetterSetter(E,"hitFunc"),r.Factory.addGetterSetter(E,"dash"),r.Factory.addGetterSetter(E,"dashOffset",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowColor",void 0,(0,o.getStringValidator)()),r.Factory.addGetterSetter(E,"shadowBlur",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOpacity",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternImage"),r.Factory.addGetterSetter(E,"fill",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"fillPatternX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(E,"fillEnabled",!0),r.Factory.addGetterSetter(E,"strokeEnabled",!0),r.Factory.addGetterSetter(E,"shadowEnabled",!0),r.Factory.addGetterSetter(E,"dashEnabled",!0),r.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(E,"fillPriority","color"),r.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(E,"fillPatternRotation",0),r.Factory.addGetterSetter(E,"fillRule",void 0,(0,o.getStringValidator)()),r.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(TC)),TC}var eT;function QR(){if(eT)return i1;eT=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.Layer=void 0;const n=An(),e=Zy(),t=Un(),r=Dt(),i=Ky(),o=Pt(),s=dr(),l=bt(),d="#",h="beforeDraw",f="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=m.length;let g=class extends e.Container{constructor(y){super(y),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),y<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[y+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),y&&y.parentNode&&n.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:C}){return this.canvas.setSize(y,C),this.hitCanvas.setSize(y,C),this._setSmoothEnabled(),this}_validateAdd(y){const C=y.getType();C!=="Group"&&C!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let C=1,x=!1;for(;;){for(let w=0;w<v;w++){const b=m[w],T=this._getIntersection({x:y.x+b.x*C,y:y.y+b.y*C}),P=T.shape;if(P)return P;if(x=!!T.antialiased,!T.antialiased)break}if(x)C+=1;else return null}}_getIntersection(y){const C=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*C),Math.round(y.y*C),1,1).data,w=x[3];if(w===255){const b=n.Util._rgbToHex(x[0],x[1],x[2]),T=s.shapes[d+b];return T?{shape:T}:{antialiased:!0}}else if(w>0)return{antialiased:!0};return{}}drawScene(y,C){const x=this.getLayer(),w=y||x&&x.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&w.getContext().clear(),e.Container.prototype.drawScene.call(this,w,C),this._fire(f,{node:this}),this}drawHit(y,C){const x=this.getLayer(),w=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,w,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return i1.Layer=g,g.prototype.nodeType="Layer",(0,l._registerNode)(g),r.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(g,"clearBeforeDraw",!0),r.Factory.addGetterSetter(g,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),i1}var o1={},tT;function sz(){if(tT)return o1;tT=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.FastLayer=void 0;const n=An(),e=QR(),t=bt();let r=class extends e.Layer{constructor(o){super(o),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return o1.FastLayer=r,r.prototype.nodeType="FastLayer",(0,t._registerNode)(r),o1}var a1={},nT;function Jb(){if(nT)return a1;nT=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.Group=void 0;const n=An(),e=Zy(),t=bt();let r=class extends e.Container{_validateAdd(o){const s=o.getType();s!=="Group"&&s!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return a1.Group=r,r.prototype.nodeType="Group",(0,t._registerNode)(r),a1}var s1={},rT;function ew(){if(rT)return s1;rT=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.Animation=void 0;const n=bt(),e=An(),t=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class Zd{constructor(o,s){this.id=Zd.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=o,this.setLayers(s)}setLayers(o){let s=[];return o&&(s=Array.isArray(o)?o:[o]),this.layers=s,this}getLayers(){return this.layers}addLayer(o){const s=this.layers,l=s.length;for(let d=0;d<l;d++)if(s[d]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const s=Zd.animations,l=s.length;for(let d=0;d<l;d++)if(s[d].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),Zd._addAnimation(this),this}stop(){return Zd._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const s=o.id,l=this.animations,d=l.length;for(let h=0;h<d;h++)if(l[h].id===s){this.animations.splice(h,1);break}}static _runFrames(){const o={},s=this.animations;for(let l=0;l<s.length;l++){const d=s[l],h=d.layers,f=d.func;d._updateFrameObject(t());const m=h.length;let v;if(f?v=f.call(d,d.frame)!==!1:v=!0,!!v)for(let g=0;g<m;g++){const S=h[g];S._id!==void 0&&(o[S._id]=S)}}for(const l in o)o.hasOwnProperty(l)&&o[l].batchDraw()}static _animationLoop(){const o=Zd;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return s1.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,s1}var PC={},iT;function lz(){return iT||(iT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=An(),t=ew(),r=Un(),i=bt(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,l=2,d=3,h=["fill","stroke","shadowColor"];let f=0;class m{constructor(S,y,C,x,w,b,T){this.prop=S,this.propFunc=y,this.begin=x,this._pos=x,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=T,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=w-this.begin,this.pause()}fire(S){const y=this[S];y&&y()}setTime(S){S>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():S<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=S,this.update())}getTime(){return this._time}setPosition(S){this.prevPos=this._pos,this.propFunc(S),this._pos=S}getPosition(S){return S===void 0&&(S=this._time),this.func(S,this.begin,this._change,this.duration)}play(){this.state=l,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(S){this.pause(),this._time=S,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const S=this.getTimer()-this._startTime;this.state===l?this.setTime(S):this.state===d&&this.setTime(this.duration-S)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(S){const y=this,C=S.node,x=C._id,w=S.easing||n.Easings.Linear,b=!!S.yoyo;let T,P;typeof S.duration>"u"?T=.3:S.duration===0?T=.001:T=S.duration,this.node=C,this._id=f++;const A=C.getLayer()||(C instanceof i.Konva.Stage?C.getLayers():null);A||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){y.tween.onEnterFrame()},A),this.tween=new m(P,function(F){y._tweenFunc(F)},w,0,1,T*1e3,b),this._addListeners(),v.attrs[x]||(v.attrs[x]={}),v.attrs[x][this._id]||(v.attrs[x][this._id]={}),v.tweens[x]||(v.tweens[x]={});for(P in S)o[P]===void 0&&this._addAttr(P,S[P]);this.reset(),this.onFinish=S.onFinish,this.onReset=S.onReset,this.onUpdate=S.onUpdate}_addAttr(S,y){const C=this.node,x=C._id;let w,b,T,P,A;const F=v.tweens[x][S];F&&delete v.attrs[x][F][S];let E=C.getAttr(S);if(e.Util._isArray(y))if(w=[],b=Math.max(y.length,E.length),S==="points"&&y.length!==E.length&&(y.length>E.length?(P=E,E=e.Util._prepareArrayForTween(E,y,C.closed())):(T=y,y=e.Util._prepareArrayForTween(y,E,C.closed()))),S.indexOf("fill")===0)for(let k=0;k<b;k++)if(k%2===0)w.push(y[k]-E[k]);else{const R=e.Util.colorToRGBA(E[k]);A=e.Util.colorToRGBA(y[k]),E[k]=R,w.push({r:A.r-R.r,g:A.g-R.g,b:A.b-R.b,a:A.a-R.a})}else for(let k=0;k<b;k++)w.push(y[k]-E[k]);else h.indexOf(S)!==-1?(E=e.Util.colorToRGBA(E),A=e.Util.colorToRGBA(y),w={r:A.r-E.r,g:A.g-E.g,b:A.b-E.b,a:A.a-E.a}):w=y-E;v.attrs[x][this._id][S]={start:E,diff:w,end:y,trueEnd:T,trueStart:P},v.tweens[x][S]=this._id}_tweenFunc(S){const y=this.node,C=v.attrs[y._id][this._id];let x,w,b,T,P,A,F,E;for(x in C){if(w=C[x],b=w.start,T=w.diff,E=w.end,e.Util._isArray(b))if(P=[],F=Math.max(b.length,E.length),x.indexOf("fill")===0)for(A=0;A<F;A++)A%2===0?P.push((b[A]||0)+T[A]*S):P.push("rgba("+Math.round(b[A].r+T[A].r*S)+","+Math.round(b[A].g+T[A].g*S)+","+Math.round(b[A].b+T[A].b*S)+","+(b[A].a+T[A].a*S)+")");else for(A=0;A<F;A++)P.push((b[A]||0)+T[A]*S);else h.indexOf(x)!==-1?P="rgba("+Math.round(b.r+T.r*S)+","+Math.round(b.g+T.g*S)+","+Math.round(b.b+T.b*S)+","+(b.a+T.a*S)+")":P=b+T*S;y.setAttr(x,P)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueEnd&&S.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueStart&&S.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(S){return this.tween.seek(S*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const S=this.node._id,y=this._id,C=v.tweens[S];this.pause();for(const x in C)delete v.tweens[S][x];delete v.attrs[S][y]}}n.Tween=v,v.attrs={},v.tweens={},r.Node.prototype.to=function(g){const S=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),S&&S()},new v(g).play()},n.Easings={BackEaseIn(g,S,y,C){return y*(g/=C)*g*((1.70158+1)*g-1.70158)+S},BackEaseOut(g,S,y,C){return y*((g=g/C-1)*g*((1.70158+1)*g+1.70158)+1)+S},BackEaseInOut(g,S,y,C){let x=1.70158;return(g/=C/2)<1?y/2*(g*g*(((x*=1.525)+1)*g-x))+S:y/2*((g-=2)*g*(((x*=1.525)+1)*g+x)+2)+S},ElasticEaseIn(g,S,y,C,x,w){let b=0;return g===0?S:(g/=C)===1?S+y:(w||(w=C*.3),!x||x<Math.abs(y)?(x=y,b=w/4):b=w/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(g-=1))*Math.sin((g*C-b)*(2*Math.PI)/w))+S)},ElasticEaseOut(g,S,y,C,x,w){let b=0;return g===0?S:(g/=C)===1?S+y:(w||(w=C*.3),!x||x<Math.abs(y)?(x=y,b=w/4):b=w/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*g)*Math.sin((g*C-b)*(2*Math.PI)/w)+y+S)},ElasticEaseInOut(g,S,y,C,x,w){let b=0;return g===0?S:(g/=C/2)===2?S+y:(w||(w=C*(.3*1.5)),!x||x<Math.abs(y)?(x=y,b=w/4):b=w/(2*Math.PI)*Math.asin(y/x),g<1?-.5*(x*Math.pow(2,10*(g-=1))*Math.sin((g*C-b)*(2*Math.PI)/w))+S:x*Math.pow(2,-10*(g-=1))*Math.sin((g*C-b)*(2*Math.PI)/w)*.5+y+S)},BounceEaseOut(g,S,y,C){return(g/=C)<1/2.75?y*(7.5625*g*g)+S:g<2/2.75?y*(7.5625*(g-=1.5/2.75)*g+.75)+S:g<2.5/2.75?y*(7.5625*(g-=2.25/2.75)*g+.9375)+S:y*(7.5625*(g-=2.625/2.75)*g+.984375)+S},BounceEaseIn(g,S,y,C){return y-n.Easings.BounceEaseOut(C-g,0,y,C)+S},BounceEaseInOut(g,S,y,C){return g<C/2?n.Easings.BounceEaseIn(g*2,0,y,C)*.5+S:n.Easings.BounceEaseOut(g*2-C,0,y,C)*.5+y*.5+S},EaseIn(g,S,y,C){return y*(g/=C)*g+S},EaseOut(g,S,y,C){return-y*(g/=C)*(g-2)+S},EaseInOut(g,S,y,C){return(g/=C/2)<1?y/2*g*g+S:-y/2*(--g*(g-2)-1)+S},StrongEaseIn(g,S,y,C){return y*(g/=C)*g*g*g*g+S},StrongEaseOut(g,S,y,C){return y*((g=g/C-1)*g*g*g*g+1)+S},StrongEaseInOut(g,S,y,C){return(g/=C/2)<1?y/2*g*g*g*g*g+S:y/2*((g-=2)*g*g*g*g+2)+S},Linear(g,S,y,C){return y*g/C+S}}}(PC)),PC}var oT;function uz(){return oT||(oT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=bt(),t=An(),r=Un(),i=Zy(),o=az(),s=QR(),l=sz(),d=Jb(),h=Zb(),f=dr(),m=ew(),v=lz(),g=VR(),S=Ky();n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:i.Container,Stage:o.Stage,stages:o.stages,Layer:s.Layer,FastLayer:l.FastLayer,Group:d.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:m.Animation,Tween:v.Tween,Easings:v.Easings,Context:g.Context,Canvas:S.Canvas}),n.default=n.Konva}(vC)),vC}var l1={},aT;function cz(){if(aT)return l1;aT=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.Arc=void 0;const n=Dt(),e=dr(),t=bt(),r=Pt(),i=bt();let o=class extends e.Shape{_sceneFunc(l){const d=t.Konva.getAngle(this.angle()),h=this.clockwise();l.beginPath(),l.arc(0,0,this.outerRadius(),0,d,h),l.arc(0,0,this.innerRadius(),d,0,!h),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}getSelfRect(){const l=this.innerRadius(),d=this.outerRadius(),h=this.clockwise(),f=t.Konva.getAngle(h?360-this.angle():this.angle()),m=Math.cos(Math.min(f,Math.PI)),v=1,g=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),S=Math.sin(Math.min(f,Math.PI/2)),y=m*(m>0?l:d),C=v*d,x=g*(g>0?l:d),w=S*(S>0?d:l);return{x:y,y:h?-1*w:x,width:C-y,height:w-x}}};return l1.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1,(0,r.getBooleanValidator)()),l1}var u1={},c1={},sT;function zR(){if(sT)return c1;sT=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.Line=void 0;const n=Dt(),e=bt(),t=dr(),r=Pt();function i(l,d,h,f,m,v,g){const S=Math.sqrt(Math.pow(h-l,2)+Math.pow(f-d,2)),y=Math.sqrt(Math.pow(m-h,2)+Math.pow(v-f,2)),C=g*S/(S+y),x=g*y/(S+y),w=h-C*(m-l),b=f-C*(v-d),T=h+x*(m-l),P=f+x*(v-d);return[w,b,T,P]}function o(l,d){const h=l.length,f=[];for(let m=2;m<h-2;m+=2){const v=i(l[m-2],l[m-1],l[m],l[m+1],l[m+2],l[m+3],d);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(l[m]),f.push(l[m+1]),f.push(v[2]),f.push(v[3]))}return f}let s=class extends t.Shape{constructor(d){super(d),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(d){let h=this.points(),f=h.length,m=this.tension(),v=this.closed(),g=this.bezier(),S,y,C;if(f){if(d.beginPath(),d.moveTo(h[0],h[1]),m!==0&&f>4){for(S=this.getTensionPoints(),y=S.length,C=v?0:4,v||d.quadraticCurveTo(S[0],S[1],S[2],S[3]);C<y-2;)d.bezierCurveTo(S[C++],S[C++],S[C++],S[C++],S[C++],S[C++]);v||d.quadraticCurveTo(S[y-2],S[y-1],h[f-2],h[f-1])}else if(g)for(C=2;C<f;)d.bezierCurveTo(h[C++],h[C++],h[C++],h[C++],h[C++],h[C++]);else for(C=2;C<f;C+=2)d.lineTo(h[C],h[C+1]);v?(d.closePath(),d.fillStrokeShape(this)):d.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const d=this.points(),h=d.length,f=this.tension(),m=i(d[h-2],d[h-1],d[0],d[1],d[2],d[3],f),v=i(d[h-4],d[h-3],d[h-2],d[h-1],d[0],d[1],f),g=o(d,f);return[m[2],m[3]].concat(g).concat([v[0],v[1],d[h-2],d[h-1],v[2],v[3],m[0],m[1],d[0],d[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let d=this.points();if(d.length<4)return{x:d[0]||0,y:d[1]||0,width:0,height:0};this.tension()!==0?d=[d[0],d[1],...this._getTensionPoints(),d[d.length-2],d[d.length-1]]:d=this.points();let h=d[0],f=d[0],m=d[1],v=d[1],g,S;for(let y=0;y<d.length/2;y++)g=d[y*2],S=d[y*2+1],h=Math.min(h,g),f=Math.max(f,g),m=Math.min(m,S),v=Math.max(v,S);return{x:h,y:m,width:f-h,height:v-m}}};return c1.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(s),n.Factory.addGetterSetter(s,"closed",!1),n.Factory.addGetterSetter(s,"bezier",!1),n.Factory.addGetterSetter(s,"tension",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(s,"points",[],(0,r.getNumberArrayValidator)()),c1}var d1={},IC={},lT;function dz(){return lT||(lT=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,l,d)=>{let h,f;const v=d/2;h=0;for(let g=0;g<20;g++)f=v*n.tValues[20][g]+v,h+=n.cValues[20][g]*r(s,l,f);return v*h};n.getCubicArcLength=e;const t=(s,l,d)=>{d===void 0&&(d=1);const h=s[0]-2*s[1]+s[2],f=l[0]-2*l[1]+l[2],m=2*s[1]-2*s[0],v=2*l[1]-2*l[0],g=4*(h*h+f*f),S=4*(h*m+f*v),y=m*m+v*v;if(g===0)return d*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(l[2]-l[0],2));const C=S/(2*g),x=y/g,w=d+C,b=x-C*C,T=w*w+b>0?Math.sqrt(w*w+b):0,P=C*C+b>0?Math.sqrt(C*C+b):0,A=C+Math.sqrt(C*C+b)!==0?b*Math.log(Math.abs((w+T)/(C+P))):0;return Math.sqrt(g)/2*(w*T-C*P+A)};n.getQuadraticArcLength=t;function r(s,l,d){const h=i(1,d,s),f=i(1,d,l),m=h*h+f*f;return Math.sqrt(m)}const i=(s,l,d)=>{const h=d.length-1;let f,m;if(h===0)return 0;if(s===0){m=0;for(let v=0;v<=h;v++)m+=n.binomialCoefficients[h][v]*Math.pow(1-l,h-v)*Math.pow(l,v)*d[v];return m}else{f=new Array(h);for(let v=0;v<h;v++)f[v]=h*(d[v+1]-d[v]);return i(s-1,l,f)}},o=(s,l,d)=>{let h=1,f=s/l,m=(s-d(f))/l,v=0;for(;h>.001;){const g=d(f+m),S=Math.abs(s-g)/l;if(S<h)h=S,f+=m;else{const y=d(f-m),C=Math.abs(s-y)/l;C<h?(h=C,f-=m):m/=2}if(v++,v>500)break}return f};n.t2length=o}(IC)),IC}var uT;function tw(){if(uT)return d1;uT=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.Path=void 0;const n=Dt(),e=dr(),t=bt(),r=dz();let i=class Jr extends e.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Jr.parsePathData(this.data()),this.pathLength=Jr.getPathLength(this.dataArray)}_sceneFunc(s){const l=this.dataArray;s.beginPath();let d=!1;for(let T=0;T<l.length;T++){const P=l[T].command,A=l[T].points;switch(P){case"L":s.lineTo(A[0],A[1]);break;case"M":s.moveTo(A[0],A[1]);break;case"C":s.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case"Q":s.quadraticCurveTo(A[0],A[1],A[2],A[3]);break;case"A":var h=A[0],f=A[1],m=A[2],v=A[3],g=A[4],S=A[5],y=A[6],C=A[7],x=m>v?m:v,w=m>v?1:m/v,b=m>v?v/m:1;s.translate(h,f),s.rotate(y),s.scale(w,b),s.arc(0,0,x,g,g+S,1-C),s.scale(1/w,1/b),s.rotate(-y),s.translate(-h,-f);break;case"z":d=!0,s.closePath();break}}!d&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){let s=[];this.dataArray.forEach(function(g){if(g.command==="A"){const S=g.points[4],y=g.points[5],C=g.points[4]+y;let x=Math.PI/180;if(Math.abs(S-C)<x&&(x=Math.abs(S-C)),y<0)for(let w=S-x;w>C;w-=x){const b=Jr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],w,0);s.push(b.x,b.y)}else for(let w=S+x;w<C;w+=x){const b=Jr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],w,0);s.push(b.x,b.y)}}else if(g.command==="C")for(let S=0;S<=1;S+=.01){const y=Jr.getPointOnCubicBezier(S,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);s.push(y.x,y.y)}else s=s.concat(g.points)});let l=s[0],d=s[0],h=s[1],f=s[1],m,v;for(let g=0;g<s.length/2;g++)m=s[g*2],v=s[g*2+1],isNaN(m)||(l=Math.min(l,m),d=Math.max(d,m)),isNaN(v)||(h=Math.min(h,v),f=Math.max(f,v));return{x:l,y:h,width:d-l,height:f-h}}getLength(){return this.pathLength}getPointAtLength(s){return Jr.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,l,d,h){return Math.sqrt((d-s)*(d-s)+(h-l)*(h-l))}static getPathLength(s){let l=0;for(let d=0;d<s.length;++d)l+=s[d].pathLength;return l}static getPointAtLengthOfDataArray(s,l){let d,h=0,f=l.length;if(!f)return null;for(;h<f&&s>l[h].pathLength;)s-=l[h].pathLength,++h;if(h===f)return d=l[h-1].points.slice(-2),{x:d[0],y:d[1]};if(s<.01)return d=l[h].points.slice(0,2),{x:d[0],y:d[1]};const m=l[h],v=m.points;switch(m.command){case"L":return Jr.getPointOnLine(s,m.start.x,m.start.y,v[0],v[1]);case"C":return Jr.getPointOnCubicBezier((0,r.t2length)(s,Jr.getPathLength(l),T=>(0,r.getCubicArcLength)([m.start.x,v[0],v[2],v[4]],[m.start.y,v[1],v[3],v[5]],T)),m.start.x,m.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Jr.getPointOnQuadraticBezier((0,r.t2length)(s,Jr.getPathLength(l),T=>(0,r.getQuadraticArcLength)([m.start.x,v[0],v[2]],[m.start.y,v[1],v[3]],T)),m.start.x,m.start.y,v[0],v[1],v[2],v[3]);case"A":var g=v[0],S=v[1],y=v[2],C=v[3],x=v[4],w=v[5],b=v[6];return x+=w*s/m.pathLength,Jr.getPointOnEllipticalArc(g,S,y,C,x,b)}return null}static getPointOnLine(s,l,d,h,f,m,v){m=m??l,v=v??d;const g=this.getLineLength(l,d,h,f);if(g<1e-10)return{x:l,y:d};if(h===l)return{x:m,y:v+(f>d?s:-s)};const S=(f-d)/(h-l),y=Math.sqrt(s*s/(1+S*S))*(h<l?-1:1),C=S*y;if(Math.abs(v-d-S*(m-l))<1e-10)return{x:m+y,y:v+C};const x=((m-l)*(h-l)+(v-d)*(f-d))/(g*g),w=l+x*(h-l),b=d+x*(f-d),T=this.getLineLength(m,v,w,b),P=Math.sqrt(s*s-T*T),A=Math.sqrt(P*P/(1+S*S))*(h<l?-1:1),F=S*A;return{x:w+A,y:b+F}}static getPointOnCubicBezier(s,l,d,h,f,m,v,g,S){function y(P){return P*P*P}function C(P){return 3*P*P*(1-P)}function x(P){return 3*P*(1-P)*(1-P)}function w(P){return(1-P)*(1-P)*(1-P)}const b=g*y(s)+m*C(s)+h*x(s)+l*w(s),T=S*y(s)+v*C(s)+f*x(s)+d*w(s);return{x:b,y:T}}static getPointOnQuadraticBezier(s,l,d,h,f,m,v){function g(w){return w*w}function S(w){return 2*w*(1-w)}function y(w){return(1-w)*(1-w)}const C=m*g(s)+h*S(s)+l*y(s),x=v*g(s)+f*S(s)+d*y(s);return{x:C,y:x}}static getPointOnEllipticalArc(s,l,d,h,f,m){const v=Math.cos(m),g=Math.sin(m),S={x:d*Math.cos(f),y:h*Math.sin(f)};return{x:s+(S.x*v-S.y*g),y:l+(S.x*g+S.y*v)}}static parsePathData(s){if(!s)return[];let l=s;const d=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];l=l.replace(new RegExp(" ","g"),",");for(var h=0;h<d.length;h++)l=l.replace(new RegExp(d[h],"g"),"|"+d[h]);const f=l.split("|"),m=[],v=[];let g=0,S=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(h=1;h<f.length;h++){let L=f[h],I=L.charAt(0);for(L=L.slice(1),v.length=0;C=y.exec(L);)v.push(C[0]);const _=[];for(let B=0,W=v.length;B<W;B++){if(v[B]==="00"){_.push(0,0);continue}const H=parseFloat(v[B]);isNaN(H)?_.push(0):_.push(H)}for(;_.length>0&&!isNaN(_[0]);){let B="",W=[];const H=g,j=S;var x,w,b,T,P,A,F,E,k,R;switch(I){case"l":g+=_.shift(),S+=_.shift(),B="L",W.push(g,S);break;case"L":g=_.shift(),S=_.shift(),W.push(g,S);break;case"m":var U=_.shift(),N=_.shift();if(g+=U,S+=N,B="M",m.length>2&&m[m.length-1].command==="z"){for(let X=m.length-2;X>=0;X--)if(m[X].command==="M"){g=m[X].points[0]+U,S=m[X].points[1]+N;break}}W.push(g,S),I="l";break;case"M":g=_.shift(),S=_.shift(),B="M",W.push(g,S),I="L";break;case"h":g+=_.shift(),B="L",W.push(g,S);break;case"H":g=_.shift(),B="L",W.push(g,S);break;case"v":S+=_.shift(),B="L",W.push(g,S);break;case"V":S=_.shift(),B="L",W.push(g,S);break;case"C":W.push(_.shift(),_.shift(),_.shift(),_.shift()),g=_.shift(),S=_.shift(),W.push(g,S);break;case"c":W.push(g+_.shift(),S+_.shift(),g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),B="C",W.push(g,S);break;case"S":w=g,b=S,x=m[m.length-1],x.command==="C"&&(w=g+(g-x.points[2]),b=S+(S-x.points[3])),W.push(w,b,_.shift(),_.shift()),g=_.shift(),S=_.shift(),B="C",W.push(g,S);break;case"s":w=g,b=S,x=m[m.length-1],x.command==="C"&&(w=g+(g-x.points[2]),b=S+(S-x.points[3])),W.push(w,b,g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),B="C",W.push(g,S);break;case"Q":W.push(_.shift(),_.shift()),g=_.shift(),S=_.shift(),W.push(g,S);break;case"q":W.push(g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),B="Q",W.push(g,S);break;case"T":w=g,b=S,x=m[m.length-1],x.command==="Q"&&(w=g+(g-x.points[0]),b=S+(S-x.points[1])),g=_.shift(),S=_.shift(),B="Q",W.push(w,b,g,S);break;case"t":w=g,b=S,x=m[m.length-1],x.command==="Q"&&(w=g+(g-x.points[0]),b=S+(S-x.points[1])),g+=_.shift(),S+=_.shift(),B="Q",W.push(w,b,g,S);break;case"A":T=_.shift(),P=_.shift(),A=_.shift(),F=_.shift(),E=_.shift(),k=g,R=S,g=_.shift(),S=_.shift(),B="A",W=this.convertEndpointToCenterParameterization(k,R,g,S,F,E,T,P,A);break;case"a":T=_.shift(),P=_.shift(),A=_.shift(),F=_.shift(),E=_.shift(),k=g,R=S,g+=_.shift(),S+=_.shift(),B="A",W=this.convertEndpointToCenterParameterization(k,R,g,S,F,E,T,P,A);break}m.push({command:B||I,points:W,start:{x:H,y:j},pathLength:this.calcLength(H,j,B||I,W)})}(I==="z"||I==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(s,l,d,h){let f,m,v,g;const S=Jr;switch(d){case"L":return S.getLineLength(s,l,h[0],h[1]);case"C":return(0,r.getCubicArcLength)([s,h[0],h[2],h[4]],[l,h[1],h[3],h[5]],1);case"Q":return(0,r.getQuadraticArcLength)([s,h[0],h[2]],[l,h[1],h[3]],1);case"A":f=0;var y=h[4],C=h[5],x=h[4]+C,w=Math.PI/180;if(Math.abs(y-x)<w&&(w=Math.abs(y-x)),m=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],y,0),C<0)for(g=y-w;g>x;g-=w)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;else for(g=y+w;g<x;g+=w)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;return v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],x,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(s,l,d,h,f,m,v,g,S){const y=S*(Math.PI/180),C=Math.cos(y)*(s-d)/2+Math.sin(y)*(l-h)/2,x=-1*Math.sin(y)*(s-d)/2+Math.cos(y)*(l-h)/2,w=C*C/(v*v)+x*x/(g*g);w>1&&(v*=Math.sqrt(w),g*=Math.sqrt(w));let b=Math.sqrt((v*v*(g*g)-v*v*(x*x)-g*g*(C*C))/(v*v*(x*x)+g*g*(C*C)));f===m&&(b*=-1),isNaN(b)&&(b=0);const T=b*v*x/g,P=b*-g*C/v,A=(s+d)/2+Math.cos(y)*T-Math.sin(y)*P,F=(l+h)/2+Math.sin(y)*T+Math.cos(y)*P,E=function(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])},k=function(_,B){return(_[0]*B[0]+_[1]*B[1])/(E(_)*E(B))},R=function(_,B){return(_[0]*B[1]<_[1]*B[0]?-1:1)*Math.acos(k(_,B))},U=R([1,0],[(C-T)/v,(x-P)/g]),N=[(C-T)/v,(x-P)/g],L=[(-1*C-T)/v,(-1*x-P)/g];let I=R(N,L);return k(N,L)<=-1&&(I=Math.PI),k(N,L)>=1&&(I=0),m===0&&I>0&&(I=I-2*Math.PI),m===1&&I<0&&(I=I+2*Math.PI),[A,F,v,g,U,I,y,m]}};return d1.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(i),n.Factory.addGetterSetter(i,"data"),d1}var cT;function hz(){if(cT)return u1;cT=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.Arrow=void 0;const n=Dt(),e=zR(),t=Pt(),r=bt(),i=tw();let o=class extends e.Line{_sceneFunc(l){super._sceneFunc(l);const d=Math.PI*2,h=this.points();let f=h;const m=this.tension()!==0&&h.length>4;m&&(f=this.getTensionPoints());const v=this.pointerLength(),g=h.length;let S,y;if(m){const w=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],h[g-2],h[g-1]],b=i.Path.calcLength(f[f.length-4],f[f.length-3],"C",w),T=i.Path.getPointOnQuadraticBezier(Math.min(1,1-v/b),w[0],w[1],w[2],w[3],w[4],w[5]);S=h[g-2]-T.x,y=h[g-1]-T.y}else S=h[g-2]-h[g-4],y=h[g-1]-h[g-3];const C=(Math.atan2(y,S)+d)%d,x=this.pointerWidth();this.pointerAtEnding()&&(l.save(),l.beginPath(),l.translate(h[g-2],h[g-1]),l.rotate(C),l.moveTo(0,0),l.lineTo(-v,x/2),l.lineTo(-v,-x/2),l.closePath(),l.restore(),this.__fillStroke(l)),this.pointerAtBeginning()&&(l.save(),l.beginPath(),l.translate(h[0],h[1]),m?(S=(f[0]+f[2])/2-h[0],y=(f[1]+f[3])/2-h[1]):(S=h[2]-h[0],y=h[3]-h[1]),l.rotate((Math.atan2(-y,-S)+d)%d),l.moveTo(0,0),l.lineTo(-v,x/2),l.lineTo(-v,-x/2),l.closePath(),l.restore(),this.__fillStroke(l))}__fillStroke(l){const d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,l.setLineDash([])),l.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const l=super.getSelfRect(),d=this.pointerWidth()/2;return{x:l.x,y:l.y-d,width:l.width,height:l.height+d*2}}};return u1.Arrow=o,o.prototype.className="Arrow",(0,r._registerNode)(o),n.Factory.addGetterSetter(o,"pointerLength",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerWidth",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerAtBeginning",!1),n.Factory.addGetterSetter(o,"pointerAtEnding",!0),u1}var h1={},dT;function fz(){if(dT)return h1;dT=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.Circle=void 0;const n=Dt(),e=dr(),t=Pt(),r=bt();let i=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}};return h1.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"radius",0,(0,t.getNumberValidator)()),h1}var f1={},hT;function pz(){if(hT)return f1;hT=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.Ellipse=void 0;const n=Dt(),e=dr(),t=Pt(),r=bt();let i=class extends e.Shape{_sceneFunc(s){const l=this.radiusX(),d=this.radiusY();s.beginPath(),s.save(),l!==d&&s.scale(1,d/l),s.arc(0,0,l,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return f1.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(i),n.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),n.Factory.addGetterSetter(i,"radiusX",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"radiusY",0,(0,t.getNumberValidator)()),f1}var p1={},fT;function gz(){if(fT)return p1;fT=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.Image=void 0;const n=An(),e=Dt(),t=dr(),r=bt(),i=Pt();class o extends t.Shape{constructor(l){super(l),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",d=>{this._removeImageLoad(d.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const l=this.image();l&&l.complete||l&&l.readyState===4||l&&l.addEventListener&&l.addEventListener("load",this._loadListener)}_removeImageLoad(l){l&&l.removeEventListener&&l.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const l=!!this.cornerRadius(),d=this.hasShadow();return l&&d?!0:super._useBufferCanvas(!0)}_sceneFunc(l){const d=this.getWidth(),h=this.getHeight(),f=this.cornerRadius(),m=this.attrs.image;let v;if(m){const g=this.attrs.cropWidth,S=this.attrs.cropHeight;g&&S?v=[m,this.cropX(),this.cropY(),g,S,0,0,d,h]:v=[m,0,0,d,h]}(this.hasFill()||this.hasStroke()||f)&&(l.beginPath(),f?n.Util.drawRoundedRectPath(l,d,h,f):l.rect(0,0,d,h),l.closePath(),l.fillStrokeShape(this)),m&&(f&&l.clip(),l.drawImage.apply(l,v))}_hitFunc(l){const d=this.width(),h=this.height(),f=this.cornerRadius();l.beginPath(),f?n.Util.drawRoundedRectPath(l,d,h,f):l.rect(0,0,d,h),l.closePath(),l.fillStrokeShape(this)}getWidth(){var l,d;return(l=this.attrs.width)!==null&&l!==void 0?l:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var l,d;return(l=this.attrs.height)!==null&&l!==void 0?l:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(l,d,h=null){const f=n.Util.createImageElement();f.onload=function(){const m=new o({image:f});d(m)},f.onerror=h,f.crossOrigin="Anonymous",f.src=l}}return p1.Image=o,o.prototype.className="Image",(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,i.getNumberValidator)()),p1}var Gu={},pT;function mz(){if(pT)return Gu;pT=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Tag=Gu.Label=void 0;const n=Dt(),e=dr(),t=Jb(),r=Pt(),i=bt(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",l="none",d="up",h="right",f="down",m="left",v=o.length;let g=class extends t.Group{constructor(C){super(C),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){let x=this,w;const b=function(){x._sync()};for(w=0;w<v;w++)C.on(o[w]+s,b)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let C=this.getText(),x=this.getTag(),w,b,T,P,A,F,E;if(C&&x){switch(w=C.width(),b=C.height(),T=x.pointerDirection(),P=x.pointerWidth(),E=x.pointerHeight(),A=0,F=0,T){case d:A=w/2,F=-1*E;break;case h:A=w+P,F=b/2;break;case f:A=w/2,F=b+E;break;case m:A=-1*P,F=b/2;break}x.setAttrs({x:-1*A,y:-1*F,width:w,height:b}),C.setAttrs({x:-1*A,y:-1*F})}}};Gu.Label=g,g.prototype.className="Label",(0,i._registerNode)(g);class S extends e.Shape{_sceneFunc(C){const x=this.width(),w=this.height(),b=this.pointerDirection(),T=this.pointerWidth(),P=this.pointerHeight(),A=this.cornerRadius();let F=0,E=0,k=0,R=0;typeof A=="number"?F=E=k=R=Math.min(A,x/2,w/2):(F=Math.min(A[0]||0,x/2,w/2),E=Math.min(A[1]||0,x/2,w/2),R=Math.min(A[2]||0,x/2,w/2),k=Math.min(A[3]||0,x/2,w/2)),C.beginPath(),C.moveTo(F,0),b===d&&(C.lineTo((x-T)/2,0),C.lineTo(x/2,-1*P),C.lineTo((x+T)/2,0)),C.lineTo(x-E,0),C.arc(x-E,E,E,Math.PI*3/2,0,!1),b===h&&(C.lineTo(x,(w-P)/2),C.lineTo(x+T,w/2),C.lineTo(x,(w+P)/2)),C.lineTo(x,w-R),C.arc(x-R,w-R,R,0,Math.PI/2,!1),b===f&&(C.lineTo((x+T)/2,w),C.lineTo(x/2,w+P),C.lineTo((x-T)/2,w)),C.lineTo(k,w),C.arc(k,w-k,k,Math.PI/2,Math.PI,!1),b===m&&(C.lineTo(0,(w+P)/2),C.lineTo(-1*T,w/2),C.lineTo(0,(w-P)/2)),C.lineTo(0,F),C.arc(F,F,F,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){let C=0,x=0,w=this.pointerWidth(),b=this.pointerHeight(),T=this.pointerDirection(),P=this.width(),A=this.height();return T===d?(x-=b,A+=b):T===f?A+=b:T===m?(C-=w*1.5,P+=w):T===h&&(P+=w*1.5),{x:C,y:x,width:P,height:A}}}return Gu.Tag=S,S.prototype.className="Tag",(0,i._registerNode)(S),n.Factory.addGetterSetter(S,"pointerDirection",l),n.Factory.addGetterSetter(S,"pointerWidth",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(S,"pointerHeight",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(S,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Gu}var g1={},gT;function WR(){if(gT)return g1;gT=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.Rect=void 0;const n=Dt(),e=dr(),t=bt(),r=An(),i=Pt();let o=class extends e.Shape{_sceneFunc(l){const d=this.cornerRadius(),h=this.width(),f=this.height();l.beginPath(),d?r.Util.drawRoundedRectPath(l,h,f,d):l.rect(0,0,h,f),l.closePath(),l.fillStrokeShape(this)}};return g1.Rect=o,o.prototype.className="Rect",(0,t._registerNode)(o),n.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),g1}var m1={},mT;function Sz(){if(mT)return m1;mT=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.RegularPolygon=void 0;const n=Dt(),e=dr(),t=Pt(),r=bt();let i=class extends e.Shape{_sceneFunc(s){const l=this._getPoints();s.beginPath(),s.moveTo(l[0].x,l[0].y);for(let d=1;d<l.length;d++)s.lineTo(l[d].x,l[d].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,l=this.attrs.radius||0,d=[];for(let h=0;h<s;h++)d.push({x:l*Math.sin(h*2*Math.PI/s),y:-1*l*Math.cos(h*2*Math.PI/s)});return d}getSelfRect(){const s=this._getPoints();let l=s[0].x,d=s[0].y,h=s[0].x,f=s[0].y;return s.forEach(m=>{l=Math.min(l,m.x),d=Math.max(d,m.x),h=Math.min(h,m.y),f=Math.max(f,m.y)}),{x:l,y:h,width:d-l,height:f-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return m1.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"radius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"sides",0,(0,t.getNumberValidator)()),m1}var S1={},ST;function yz(){if(ST)return S1;ST=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.Ring=void 0;const n=Dt(),e=dr(),t=Pt(),r=bt(),i=Math.PI*2;let o=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.innerRadius(),0,i,!1),l.moveTo(this.outerRadius(),0),l.arc(0,0,this.outerRadius(),i,0,!0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return S1.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,t.getNumberValidator)()),S1}var y1={},yT;function vz(){if(yT)return y1;yT=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.Sprite=void 0;const n=Dt(),e=dr(),t=ew(),r=Pt(),i=bt();let o=class extends e.Shape{constructor(l){super(l),this._updated=!0,this.anim=new t.Animation(()=>{const d=this._updated;return this._updated=!1,d}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(l){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),g=m[f+0],S=m[f+1],y=m[f+2],C=m[f+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(l.beginPath(),l.rect(0,0,y,C),l.closePath(),l.fillStrokeShape(this)),x)if(v){const w=v[d],b=h*2;l.drawImage(x,g,S,y,C,w[b+0],w[b+1],y,C)}else l.drawImage(x,g,S,y,C,0,0,y,C)}_hitFunc(l){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),g=m[f+2],S=m[f+3];if(l.beginPath(),v){const y=v[d],C=h*2;l.rect(y[C+0],y[C+1],g,S)}else l.rect(0,0,g,S);l.closePath(),l.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const l=this;this.interval=setInterval(function(){l._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const l=this.getLayer();this.anim.setLayers(l),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const l=this.frameIndex(),d=this.animation(),h=this.animations(),f=h[d],m=f.length/4;l<m-1?this.frameIndex(l+1):this.frameIndex(0)}};return y1.Sprite=o,o.prototype.className="Sprite",(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"animation"),n.Factory.addGetterSetter(o,"animations"),n.Factory.addGetterSetter(o,"frameOffsets"),n.Factory.addGetterSetter(o,"image"),n.Factory.addGetterSetter(o,"frameIndex",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"frameRate",17,(0,r.getNumberValidator)()),n.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),y1}var v1={},vT;function Cz(){if(vT)return v1;vT=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.Star=void 0;const n=Dt(),e=dr(),t=Pt(),r=bt();let i=class extends e.Shape{_sceneFunc(s){const l=this.innerRadius(),d=this.outerRadius(),h=this.numPoints();s.beginPath(),s.moveTo(0,0-d);for(let f=1;f<h*2;f++){const m=f%2===0?d:l,v=m*Math.sin(f*Math.PI/h),g=-1*m*Math.cos(f*Math.PI/h);s.lineTo(v,g)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return v1.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"numPoints",5,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"outerRadius",0,(0,t.getNumberValidator)()),v1}var Yd={},CT;function jR(){if(CT)return Yd;CT=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.Text=void 0,Yd.stringToArray=s;const n=An(),e=Dt(),t=dr(),r=bt(),i=Pt(),o=bt();function s($){return[...$].reduce((ne,ie,te,pe)=>{if(new RegExp("\\p{Emoji}","u").test(ie)){const ee=pe[te+1];ee&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(ee)?(ne.push(ie+ee),pe[te+1]=""):ne.push(ie)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ie+(pe[te+1]||""))?ne.push(ie+pe[te+1]):te>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ie)?ne[ne.length-1]+=ie:ie&&ne.push(ie);return ne},[])}const l="auto",d="center",h="inherit",f="justify",m="Change.konva",v="2d",g="-",S="left",y="text",C="Text",x="top",w="bottom",b="middle",T="normal",P="px ",A=" ",F="right",E="rtl",k="word",R="char",U="none",N="",L=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],I=L.length;function _($){return $.split(",").map(ne=>{ne=ne.trim();const ie=ne.indexOf(" ")>=0,te=ne.indexOf('"')>=0||ne.indexOf("'")>=0;return ie&&!te&&(ne=`"${ne}"`),ne}).join(", ")}let B;function W(){return B||(B=n.Util.createCanvasElement().getContext(v),B)}function H($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function j($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function X($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let V=class extends t.Shape{constructor(ne){super(X(ne)),this._partialTextX=0,this._partialTextY=0;for(let ie=0;ie<I;ie++)this.on(L[ie]+m,this._setTextData);this._setTextData()}_sceneFunc(ne){const ie=this.textArr,te=ie.length;if(!this.text())return;let pe=this.padding(),ee=this.fontSize(),oe=this.lineHeight()*ee,de=this.verticalAlign(),me=this.direction(),we=0,Te=this.align(),qe=this.getWidth(),q=this.letterSpacing(),ge=this.fill(),Se=this.textDecoration(),Z=Se.indexOf("underline")!==-1,K=Se.indexOf("line-through")!==-1,ce;me=me===h?ne.direction:me;let Ce=oe/2,xe=b;if(r.Konva._fixTextRendering){const Be=this.measureSize("M");xe="alphabetic",Ce=(Be.fontBoundingBoxAscent-Be.fontBoundingBoxDescent)/2+oe/2}var se=0,Ae=0;for(me===E&&ne.setAttr("direction",me),ne.setAttr("font",this._getContextFont()),ne.setAttr("textBaseline",xe),ne.setAttr("textAlign",S),de===b?we=(this.getHeight()-te*oe-pe*2)/2:de===w&&(we=this.getHeight()-te*oe-pe*2),ne.translate(pe,we+pe),ce=0;ce<te;ce++){var se=0,Ae=0,ke=ie[ce],he=ke.text,be=ke.width,Ne=ke.lastInParagraph,Ee,We;if(ne.save(),Te===F?se+=qe-be-pe*2:Te===d&&(se+=(qe-be-pe*2)/2),Z){ne.save(),ne.beginPath();const nt=r.Konva._fixTextRendering?Math.round(ee/4):Math.round(ee/2),je=se,It=Ce+Ae+nt;ne.moveTo(je,It),Ee=he.split(" ").length-1,We=Te===f&&!Ne?qe-pe*2:be,ne.lineTo(je+Math.round(We),It),ne.lineWidth=ee/15;const Ye=this._getLinearGradient();ne.strokeStyle=Ye||ge,ne.stroke(),ne.restore()}if(K){ne.save(),ne.beginPath();const nt=r.Konva._fixTextRendering?-Math.round(ee/4):0;ne.moveTo(se,Ce+Ae+nt),Ee=he.split(" ").length-1,We=Te===f&&!Ne?qe-pe*2:be,ne.lineTo(se+Math.round(We),Ce+Ae+nt),ne.lineWidth=ee/15;const je=this._getLinearGradient();ne.strokeStyle=je||ge,ne.stroke(),ne.restore()}if(me!==E&&(q!==0||Te===f)){Ee=he.split(" ").length-1;const nt=s(he);for(let je=0;je<nt.length;je++){const It=nt[je];It===" "&&!Ne&&Te===f&&(se+=(qe-pe*2-be)/Ee),this._partialTextX=se,this._partialTextY=Ce+Ae,this._partialText=It,ne.fillStrokeShape(this),se+=this.measureSize(It).width+q}}else q!==0&&ne.setAttr("letterSpacing",`${q}px`),this._partialTextX=se,this._partialTextY=Ce+Ae,this._partialText=he,ne.fillStrokeShape(this);ne.restore(),te>1&&(Ce+=oe)}}_hitFunc(ne){const ie=this.getWidth(),te=this.getHeight();ne.beginPath(),ne.rect(0,0,ie,te),ne.closePath(),ne.fillStrokeShape(this)}setText(ne){const ie=n.Util._isString(ne)?ne:ne==null?"":ne+"";return this._setAttr(y,ie),this}getWidth(){return this.attrs.width===l||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===l||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ne){var ie,te,pe,ee,oe,de,me,we,Te,qe,q;let ge=W(),Se=this.fontSize(),Z;ge.save(),ge.font=this._getContextFont(),Z=ge.measureText(ne),ge.restore();const K=Se/100;return{actualBoundingBoxAscent:(ie=Z.actualBoundingBoxAscent)!==null&&ie!==void 0?ie:71.58203125*K,actualBoundingBoxDescent:(te=Z.actualBoundingBoxDescent)!==null&&te!==void 0?te:0,actualBoundingBoxLeft:(pe=Z.actualBoundingBoxLeft)!==null&&pe!==void 0?pe:-7.421875*K,actualBoundingBoxRight:(ee=Z.actualBoundingBoxRight)!==null&&ee!==void 0?ee:75.732421875*K,alphabeticBaseline:(oe=Z.alphabeticBaseline)!==null&&oe!==void 0?oe:0,emHeightAscent:(de=Z.emHeightAscent)!==null&&de!==void 0?de:100*K,emHeightDescent:(me=Z.emHeightDescent)!==null&&me!==void 0?me:-20*K,fontBoundingBoxAscent:(we=Z.fontBoundingBoxAscent)!==null&&we!==void 0?we:91*K,fontBoundingBoxDescent:(Te=Z.fontBoundingBoxDescent)!==null&&Te!==void 0?Te:21*K,hangingBaseline:(qe=Z.hangingBaseline)!==null&&qe!==void 0?qe:72.80000305175781*K,ideographicBaseline:(q=Z.ideographicBaseline)!==null&&q!==void 0?q:-21*K,width:Z.width,height:Se}}_getContextFont(){return this.fontStyle()+A+this.fontVariant()+A+(this.fontSize()+P)+_(this.fontFamily())}_addTextLine(ne){this.align()===f&&(ne=ne.trim());const te=this._getTextWidth(ne);return this.textArr.push({text:ne,width:te,lastInParagraph:!1})}_getTextWidth(ne){const ie=this.letterSpacing(),te=ne.length;return W().measureText(ne).width+ie*te}_setTextData(){let ne=this.text().split(`
`),ie=+this.fontSize(),te=0,pe=this.lineHeight()*ie,ee=this.attrs.width,oe=this.attrs.height,de=ee!==l&&ee!==void 0,me=oe!==l&&oe!==void 0,we=this.padding(),Te=ee-we*2,qe=oe-we*2,q=0,ge=this.wrap(),Se=ge!==U,Z=ge!==R&&Se,K=this.ellipsis();this.textArr=[],W().font=this._getContextFont();const ce=K?this._getTextWidth(N):0;for(let Ce=0,xe=ne.length;Ce<xe;++Ce){let se=ne[Ce],Ae=this._getTextWidth(se);if(de&&Ae>Te)for(;se.length>0;){let ke=0,he=s(se).length,be="",Ne=0;for(;ke<he;){const Ee=ke+he>>>1,We=s(se),Be=We.slice(0,Ee+1).join(""),Qe=this._getTextWidth(Be);(K&&me&&q+pe>qe?Qe+ce:Qe)<=Te?(ke=Ee+1,be=Be,Ne=Qe):he=Ee}if(be){if(Z){const Be=s(se),Qe=s(be),nt=Be[Qe.length],je=nt===A||nt===g;let It;if(je&&Ne<=Te)It=Qe.length;else{const Ye=Qe.lastIndexOf(A),ut=Qe.lastIndexOf(g);It=Math.max(Ye,ut)+1}It>0&&(ke=It,be=Be.slice(0,ke).join(""),Ne=this._getTextWidth(be))}if(be=be.trimRight(),this._addTextLine(be),te=Math.max(te,Ne),q+=pe,this._shouldHandleEllipsis(q)){this._tryToAddEllipsisToLastLine();break}if(se=s(se).slice(ke).join("").trimLeft(),se.length>0&&(Ae=this._getTextWidth(se),Ae<=Te)){this._addTextLine(se),q+=pe,te=Math.max(te,Ae);break}}else break}else this._addTextLine(se),q+=pe,te=Math.max(te,Ae),this._shouldHandleEllipsis(q)&&Ce<xe-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),me&&q+pe>qe)break}this.textHeight=ie,this.textWidth=te}_shouldHandleEllipsis(ne){const ie=+this.fontSize(),te=this.lineHeight()*ie,pe=this.attrs.height,ee=pe!==l&&pe!==void 0,oe=this.padding(),de=pe-oe*2;return!(this.wrap()!==U)||ee&&ne+te>de}_tryToAddEllipsisToLastLine(){const ne=this.attrs.width,ie=ne!==l&&ne!==void 0,te=this.padding(),pe=ne-te*2,ee=this.ellipsis(),oe=this.textArr[this.textArr.length-1];!oe||!ee||(ie&&(this._getTextWidth(oe.text+N)<pe||(oe.text=oe.text.slice(0,oe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(oe.text+N))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const ne=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ie=this.hasShadow();return ne&&ie?!0:super._useBufferCanvas()}};return Yd.Text=V,V.prototype._fillFunc=H,V.prototype._strokeFunc=j,V.prototype.className=C,V.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(V),e.Factory.overWriteSetter(V,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(V,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(V,"direction",h),e.Factory.addGetterSetter(V,"fontFamily","Arial"),e.Factory.addGetterSetter(V,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"fontStyle",T),e.Factory.addGetterSetter(V,"fontVariant",T),e.Factory.addGetterSetter(V,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"align",S),e.Factory.addGetterSetter(V,"verticalAlign",x),e.Factory.addGetterSetter(V,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"wrap",k),e.Factory.addGetterSetter(V,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(V,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(V,"textDecoration",""),Yd}var C1={},bT;function bz(){if(bT)return C1;bT=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.TextPath=void 0;const n=An(),e=Dt(),t=dr(),r=tw(),i=jR(),o=Pt(),s=bt(),l="",d="normal";function h(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let m=class extends t.Shape{constructor(g){super(g),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(g){if(!this.attrs.data)return null;const S=this.pathLength;return g-1>S?null:r.Path.getPointAtLengthOfDataArray(g,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(g){g.setAttr("font",this._getContextFont()),g.setAttr("textBaseline",this.textBaseline()),g.setAttr("textAlign","left"),g.save();const S=this.textDecoration(),y=this.fill(),C=this.fontSize(),x=this.glyphInfo;S==="underline"&&g.beginPath();for(let w=0;w<x.length;w++){g.save();const b=x[w].p0;g.translate(b.x,b.y),g.rotate(x[w].rotation),this.partialText=x[w].text,g.fillStrokeShape(this),S==="underline"&&(w===0&&g.moveTo(0,C/2+1),g.lineTo(C,C/2+1)),g.restore()}S==="underline"&&(g.strokeStyle=y,g.lineWidth=C/20,g.stroke()),g.restore()}_hitFunc(g){g.beginPath();const S=this.glyphInfo;if(S.length>=1){const y=S[0].p0;g.moveTo(y.x,y.y)}for(let y=0;y<S.length;y++){const C=S[y].p1;g.lineTo(C.x,C.y)}g.setAttr("lineWidth",this.fontSize()),g.setAttr("strokeStyle",this.colorKey),g.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(g){return i.Text.prototype.setText.call(this,g)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(g){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const C=y.measureText(g);return y.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:g,height:S}=this._getTextSize(this.attrs.text);if(this.textWidth=g,this.textHeight=S,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),C=this.align(),x=this.kerningFunc(),w=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let b=0;C==="center"&&(b=Math.max(0,this.pathLength/2-w/2)),C==="right"&&(b=Math.max(0,this.pathLength-w));const T=(0,i.stringToArray)(this.text());let P=b;for(let A=0;A<T.length;A++){const F=this._getPointAtLength(P);if(!F)return;let E=this._getTextSize(T[A]).width+y;if(T[A]===" "&&C==="justify"){const I=this.text().split(" ").length-1;E+=(this.pathLength-w)/I}const k=this._getPointAtLength(P+E);if(!k)return;const R=r.Path.getLineLength(F.x,F.y,k.x,k.y);let U=0;if(x)try{U=x(T[A-1],T[A])*this.fontSize()}catch{U=0}F.x+=U,k.x+=U,this.textWidth+=U;const N=r.Path.getPointOnLine(U+R/2,F.x,F.y,k.x,k.y),L=Math.atan2(k.y-F.y,k.x-F.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:T[A],rotation:L,p0:F,p1:k}),P+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const g=[];this.glyphInfo.forEach(function(P){g.push(P.p0.x),g.push(P.p0.y),g.push(P.p1.x),g.push(P.p1.y)});let S=g[0]||0,y=g[0]||0,C=g[1]||0,x=g[1]||0,w,b;for(let P=0;P<g.length/2;P++)w=g[P*2],b=g[P*2+1],S=Math.min(S,w),y=Math.max(y,w),C=Math.min(C,b),x=Math.max(x,b);const T=this.fontSize();return{x:S-T/2,y:C-T/2,width:y-S+T,height:x-C+T}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return C1.TextPath=m,m.prototype._fillFunc=h,m.prototype._strokeFunc=f,m.prototype._fillFuncHit=h,m.prototype._strokeFuncHit=f,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(m),e.Factory.addGetterSetter(m,"data"),e.Factory.addGetterSetter(m,"fontFamily","Arial"),e.Factory.addGetterSetter(m,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"fontStyle",d),e.Factory.addGetterSetter(m,"align","left"),e.Factory.addGetterSetter(m,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"textBaseline","middle"),e.Factory.addGetterSetter(m,"fontVariant",d),e.Factory.addGetterSetter(m,"text",l),e.Factory.addGetterSetter(m,"textDecoration",""),e.Factory.addGetterSetter(m,"kerningFunc",void 0),C1}var b1={},wT;function wz(){if(wT)return b1;wT=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.Transformer=void 0;const n=An(),e=Dt(),t=Un(),r=dr(),i=WR(),o=Jb(),s=bt(),l=Pt(),d=bt(),h="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(E=>E+`.${h}`).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},S="ontouchstart"in s.Konva._global;function y(E,k,R){if(E==="rotater")return R;k+=n.Util.degToRad(g[E]||0);const U=(n.Util.radToDeg(k)%360+360)%360;return n.Util._inRange(U,315+22.5,360)||n.Util._inRange(U,0,22.5)?"ns-resize":n.Util._inRange(U,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(U,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(U,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(U,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(U,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(U,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(U,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+U),"pointer")}const C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function x(E){return{x:E.x+E.width/2*Math.cos(E.rotation)+E.height/2*Math.sin(-E.rotation),y:E.y+E.height/2*Math.cos(E.rotation)+E.width/2*Math.sin(E.rotation)}}function w(E,k,R){const U=R.x+(E.x-R.x)*Math.cos(k)-(E.y-R.y)*Math.sin(k),N=R.y+(E.x-R.x)*Math.sin(k)+(E.y-R.y)*Math.cos(k);return{...E,rotation:E.rotation+k,x:U,y:N}}function b(E,k){const R=x(E);return w(E,k,R)}function T(E,k,R){let U=k;for(let N=0;N<E.length;N++){const L=s.Konva.getAngle(E[N]),I=Math.abs(L-k)%(Math.PI*2);Math.min(I,Math.PI*2-I)<R&&(U=L)}return U}let P=0,A=class extends o.Group{constructor(k){super(k),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(k){return this.setNode(k),this}setNode(k){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([k])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(k=[]){this._nodes&&this._nodes.length&&this.detach();const R=k.filter(N=>N.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=k=R,k.length===1&&this.useSingleNodeRotation()?this.rotation(k[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const L=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(N._attrsAffectingSize.length){const I=N._attrsAffectingSize.map(_=>_+"Change."+this._getEventNamespace()).join(" ");N.on(I,L)}N.on(v.map(I=>I+`.${this._getEventNamespace()}`).join(" "),L),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,L),this._proxyDrag(N)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(k){let R;k.on(`dragstart.${this._getEventNamespace()}`,U=>{R=k.getAbsolutePosition(),!this.isDragging()&&k!==this.findOne(".back")&&this.startDrag(U,!1)}),k.on(`dragmove.${this._getEventNamespace()}`,U=>{if(!R)return;const N=k.getAbsolutePosition(),L=N.x-R.x,I=N.y-R.y;this.nodes().forEach(_=>{if(_===k||_.isDragging())return;const B=_.getAbsolutePosition();_.setAbsolutePosition({x:B.x+L,y:B.y+I}),_.startDrag(U)}),R=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(k=>{k.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(k,R=this.rotation(),U){const N=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),L=k.getAbsoluteScale(U),I=k.getAbsolutePosition(U),_=N.x*L.x-k.offsetX()*L.x,B=N.y*L.y-k.offsetY()*L.y,W=(s.Konva.getAngle(k.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),H={x:I.x+_*Math.cos(W)+B*Math.sin(-W),y:I.y+B*Math.cos(W)+_*Math.sin(W),width:N.width*L.x,height:N.height*L.y,rotation:W};return w(H,-s.Konva.getAngle(R),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const R=[];this.nodes().map(W=>{const H=W.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),j=[{x:H.x,y:H.y},{x:H.x+H.width,y:H.y},{x:H.x+H.width,y:H.y+H.height},{x:H.x,y:H.y+H.height}],X=W.getAbsoluteTransform();j.forEach(function(V){const $=X.point(V);R.push($)})});const U=new n.Transform;U.rotate(-s.Konva.getAngle(this.rotation()));let N=1/0,L=1/0,I=-1/0,_=-1/0;R.forEach(function(W){const H=U.point(W);N===void 0&&(N=I=H.x,L=_=H.y),N=Math.min(N,H.x),L=Math.min(L,H.y),I=Math.max(I,H.x),_=Math.max(_,H.y)}),U.invert();const B=U.point({x:N,y:L});return{x:B.x,y:B.y,width:I-N,height:_-L,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(k=>{this._createAnchor(k)}),this._createAnchor("rotater")}_createAnchor(k){const R=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:k+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:S?10:"auto"}),U=this;R.on("mousedown touchstart",function(N){U._handleMouseDown(N)}),R.on("dragstart",N=>{R.stopDrag(),N.cancelBubble=!0}),R.on("dragend",N=>{N.cancelBubble=!0}),R.on("mouseenter",()=>{const N=s.Konva.getAngle(this.rotation()),L=this.rotateAnchorCursor(),I=y(k,N,L);R.getStage().content&&(R.getStage().content.style.cursor=I),this._cursorChange=!0}),R.on("mouseout",()=>{R.getStage().content&&(R.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(R)}_createBack(){const k=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(R,U){const N=U.getParent(),L=N.padding();R.beginPath(),R.rect(-L,-L,U.width()+L*2,U.height()+L*2),R.moveTo(U.width()/2,-L),N.rotateEnabled()&&N.rotateLineVisible()&&R.lineTo(U.width()/2,-N.rotateAnchorOffset()*n.Util._sign(U.height())-L),R.fillStrokeShape(U)},hitFunc:(R,U)=>{if(!this.shouldOverdrawWholeArea())return;const N=this.padding();R.beginPath(),R.rect(-N,-N,U.width()+N*2,U.height()+N*2),R.fillStrokeShape(U)}});this.add(k),this._proxyDrag(k),k.on("dragstart",R=>{R.cancelBubble=!0}),k.on("dragmove",R=>{R.cancelBubble=!0}),k.on("dragend",R=>{R.cancelBubble=!0}),this.on("dragmove",R=>{this.update()})}_handleMouseDown(k){if(this._transforming)return;this._movingAnchorName=k.target.name().split(" ")[0];const R=this._getNodeRect(),U=R.width,N=R.height,L=Math.sqrt(Math.pow(U,2)+Math.pow(N,2));this.sin=Math.abs(N/L),this.cos=Math.abs(U/L),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const I=k.target.getAbsolutePosition(),_=k.target.getStage().getPointerPosition();this._anchorDragOffset={x:_.x-I.x,y:_.y-I.y},P++,this._fire("transformstart",{evt:k.evt,target:this.getNode()}),this._nodes.forEach(B=>{B._fire("transformstart",{evt:k.evt,target:B})})}_handleMouseMove(k){let R,U,N;const L=this.findOne("."+this._movingAnchorName),I=L.getStage();I.setPointersPositions(k);const _=I.getPointerPosition();let B={x:_.x-this._anchorDragOffset.x,y:_.y-this._anchorDragOffset.y};const W=L.getAbsolutePosition();this.anchorDragBoundFunc()&&(B=this.anchorDragBoundFunc()(W,B,k)),L.setAbsolutePosition(B);const H=L.getAbsolutePosition();if(W.x===H.x&&W.y===H.y)return;if(this._movingAnchorName==="rotater"){const de=this._getNodeRect();R=L.x()-de.width/2,U=-L.y()+de.height/2;let me=Math.atan2(-U,R)+Math.PI/2;de.height<0&&(me-=Math.PI);const Te=s.Konva.getAngle(this.rotation())+me,qe=s.Konva.getAngle(this.rotationSnapTolerance()),ge=T(this.rotationSnaps(),Te,qe)-de.rotation,Se=b(de,ge);this._fitNodesInto(Se,k);return}const j=this.shiftBehavior();let X;j==="inverted"?X=this.keepRatio()&&!k.shiftKey:j==="none"?X=this.keepRatio():X=this.keepRatio()||k.shiftKey;var te=this.centeredScaling()||k.altKey;if(this._movingAnchorName==="top-left"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(V.x-L.x(),2)+Math.pow(V.y-L.y(),2));var $=this.findOne(".top-left").x()>V.x?-1:1,ne=this.findOne(".top-left").y()>V.y?-1:1;R=N*this.cos*$,U=N*this.sin*ne,this.findOne(".top-left").x(V.x-R),this.findOne(".top-left").y(V.y-U)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(L.y());else if(this._movingAnchorName==="top-right"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(L.x()-V.x,2)+Math.pow(V.y-L.y(),2));var $=this.findOne(".top-right").x()<V.x?-1:1,ne=this.findOne(".top-right").y()>V.y?-1:1;R=N*this.cos*$,U=N*this.sin*ne,this.findOne(".top-right").x(V.x+R),this.findOne(".top-right").y(V.y-U)}var ie=L.position();this.findOne(".top-left").y(ie.y),this.findOne(".bottom-right").x(ie.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(L.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(L.x());else if(this._movingAnchorName==="bottom-left"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(V.x-L.x(),2)+Math.pow(L.y()-V.y,2));var $=V.x<L.x()?-1:1,ne=L.y()<V.y?-1:1;R=N*this.cos*$,U=N*this.sin*ne,L.x(V.x-R),L.y(V.y+U)}ie=L.position(),this.findOne(".top-left").x(ie.x),this.findOne(".bottom-right").y(ie.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(L.y());else if(this._movingAnchorName==="bottom-right"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(L.x()-V.x,2)+Math.pow(L.y()-V.y,2));var $=this.findOne(".bottom-right").x()<V.x?-1:1,ne=this.findOne(".bottom-right").y()<V.y?-1:1;R=N*this.cos*$,U=N*this.sin*ne,this.findOne(".bottom-right").x(V.x+R),this.findOne(".bottom-right").y(V.y+U)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var te=this.centeredScaling()||k.altKey;if(te){const de=this.findOne(".top-left"),me=this.findOne(".bottom-right"),we=de.x(),Te=de.y(),qe=this.getWidth()-me.x(),q=this.getHeight()-me.y();me.move({x:-we,y:-Te}),de.move({x:qe,y:q})}const pe=this.findOne(".top-left").getAbsolutePosition();R=pe.x,U=pe.y;const ee=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),oe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:R,y:U,width:ee,height:oe,rotation:s.Konva.getAngle(this.rotation())},k)}_handleMouseUp(k){this._removeEvents(k)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(k){var R;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const U=this.getNode();P--,this._fire("transformend",{evt:k,target:U}),(R=this.getLayer())===null||R===void 0||R.batchDraw(),U&&this._nodes.forEach(N=>{var L;N._fire("transformend",{evt:k,target:N}),(L=N.getLayer())===null||L===void 0||L.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(k,R){const U=this._getNodeRect(),N=1;if(n.Util._inRange(k.width,-this.padding()*2-N,N)){this.update();return}if(n.Util._inRange(k.height,-this.padding()*2-N,N)){this.update();return}const L=new n.Transform;if(L.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("left")>=0){const X=L.point({x:-this.padding()*2,y:0});k.x+=X.x,k.y+=X.y,k.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y}else if(this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("right")>=0){const X=L.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.width+=this.padding()*2}if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("top")>=0){const X=L.point({x:0,y:-this.padding()*2});k.x+=X.x,k.y+=X.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.height+=this.padding()*2}else if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const X=L.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.height+=this.padding()*2}if(this.boundBoxFunc()){const X=this.boundBoxFunc()(U,k);X?k=X:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const I=1e7,_=new n.Transform;_.translate(U.x,U.y),_.rotate(U.rotation),_.scale(U.width/I,U.height/I);const B=new n.Transform,W=k.width/I,H=k.height/I;this.flipEnabled()===!1?(B.translate(k.x,k.y),B.rotate(k.rotation),B.translate(k.width<0?k.width:0,k.height<0?k.height:0),B.scale(Math.abs(W),Math.abs(H))):(B.translate(k.x,k.y),B.rotate(k.rotation),B.scale(W,H));const j=B.multiply(_.invert());this._nodes.forEach(X=>{var V;const $=X.getParent().getAbsoluteTransform(),ne=X.getTransform().copy();ne.translate(X.offsetX(),X.offsetY());const ie=new n.Transform;ie.multiply($.copy().invert()).multiply(j).multiply($).multiply(ne);const te=ie.decompose();X.setAttrs(te),(V=X.getLayer())===null||V===void 0||V.batchDraw()}),this.rotation(n.Util._getRotation(k.rotation)),this._nodes.forEach(X=>{this._fire("transform",{evt:R,target:X}),X._fire("transform",{evt:R,target:X})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(k,R){this.findOne(k).setAttrs(R)}update(){var k;const R=this._getNodeRect();this.rotation(n.Util._getRotation(R.rotation));const U=R.width,N=R.height,L=this.enabledAnchors(),I=this.resizeEnabled(),_=this.padding(),B=this.anchorSize(),W=this.find("._anchor");W.forEach(j=>{j.setAttrs({width:B,height:B,offsetX:B/2,offsetY:B/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:B/2+_,offsetY:B/2+_,visible:I&&L.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:U/2,y:0,offsetY:B/2+_,visible:I&&L.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:U,y:0,offsetX:B/2-_,offsetY:B/2+_,visible:I&&L.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:B/2+_,visible:I&&L.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:U,y:N/2,offsetX:B/2-_,visible:I&&L.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:B/2+_,offsetY:B/2-_,visible:I&&L.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:U/2,y:N,offsetY:B/2-_,visible:I&&L.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:U,y:N,offsetX:B/2-_,offsetY:B/2-_,visible:I&&L.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:U/2,y:-this.rotateAnchorOffset()*n.Util._sign(N)-_,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:U,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const H=this.anchorStyleFunc();H&&W.forEach(j=>{H(j)}),(k=this.getLayer())===null||k===void 0||k.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const k=this.findOne("."+this._movingAnchorName);k&&k.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(k){return t.Node.prototype.clone.call(this,k)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};b1.Transformer=A,A.isTransforming=()=>P>0;function F(E){return E instanceof Array||n.Util.warn("enabledAnchors value should be an array"),E instanceof Array&&E.forEach(function(k){C.indexOf(k)===-1&&n.Util.warn("Unknown anchor name: "+k+". Available names are: "+C.join(", "))}),E||[]}return A.prototype.className="Transformer",(0,d._registerNode)(A),e.Factory.addGetterSetter(A,"enabledAnchors",C,F),e.Factory.addGetterSetter(A,"flipEnabled",!0,(0,l.getBooleanValidator)()),e.Factory.addGetterSetter(A,"resizeEnabled",!0),e.Factory.addGetterSetter(A,"anchorSize",10,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateEnabled",!0),e.Factory.addGetterSetter(A,"rotateLineVisible",!0),e.Factory.addGetterSetter(A,"rotationSnaps",[]),e.Factory.addGetterSetter(A,"rotateAnchorOffset",50,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(A,"rotationSnapTolerance",5,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderEnabled",!0),e.Factory.addGetterSetter(A,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"anchorStrokeWidth",1,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"anchorFill","white"),e.Factory.addGetterSetter(A,"anchorCornerRadius",0,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"borderStrokeWidth",1,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderDash"),e.Factory.addGetterSetter(A,"keepRatio",!0),e.Factory.addGetterSetter(A,"shiftBehavior","default"),e.Factory.addGetterSetter(A,"centeredScaling",!1),e.Factory.addGetterSetter(A,"ignoreStroke",!1),e.Factory.addGetterSetter(A,"padding",0,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(A,"nodes"),e.Factory.addGetterSetter(A,"node"),e.Factory.addGetterSetter(A,"boundBoxFunc"),e.Factory.addGetterSetter(A,"anchorDragBoundFunc"),e.Factory.addGetterSetter(A,"anchorStyleFunc"),e.Factory.addGetterSetter(A,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(A,"useSingleNodeRotation",!0),e.Factory.backCompat(A,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),b1}var w1={},DT;function Dz(){if(DT)return w1;DT=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.Wedge=void 0;const n=Dt(),e=dr(),t=bt(),r=Pt(),i=bt();let o=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),l.lineTo(0,0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return w1.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"radius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1),n.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),w1}var D1={},xT;function xz(){if(xT)return D1;xT=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.Blur=void 0;const n=Dt(),e=Un(),t=Pt();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(d,h){const f=d.data,m=d.width,v=d.height;let g,S,y,C,x,w,b,T,P,A,F,E,k,R,U,N,L,I,_,B,W,H,j,X;const V=h+h+1,$=m-1,ne=v-1,ie=h+1,te=ie*(ie+1)/2,pe=new r,ee=i[h],oe=o[h];let de=null,me=pe,we=null,Te=null;for(y=1;y<V;y++)me=me.next=new r,y===ie&&(de=me);for(me.next=pe,b=w=0,S=0;S<v;S++){for(N=L=I=_=T=P=A=F=0,E=ie*(B=f[w]),k=ie*(W=f[w+1]),R=ie*(H=f[w+2]),U=ie*(j=f[w+3]),T+=te*B,P+=te*W,A+=te*H,F+=te*j,me=pe,y=0;y<ie;y++)me.r=B,me.g=W,me.b=H,me.a=j,me=me.next;for(y=1;y<ie;y++)C=w+(($<y?$:y)<<2),T+=(me.r=B=f[C])*(X=ie-y),P+=(me.g=W=f[C+1])*X,A+=(me.b=H=f[C+2])*X,F+=(me.a=j=f[C+3])*X,N+=B,L+=W,I+=H,_+=j,me=me.next;for(we=pe,Te=de,g=0;g<m;g++)f[w+3]=j=F*ee>>oe,j!==0?(j=255/j,f[w]=(T*ee>>oe)*j,f[w+1]=(P*ee>>oe)*j,f[w+2]=(A*ee>>oe)*j):f[w]=f[w+1]=f[w+2]=0,T-=E,P-=k,A-=R,F-=U,E-=we.r,k-=we.g,R-=we.b,U-=we.a,C=b+((C=g+h+1)<$?C:$)<<2,N+=we.r=f[C],L+=we.g=f[C+1],I+=we.b=f[C+2],_+=we.a=f[C+3],T+=N,P+=L,A+=I,F+=_,we=we.next,E+=B=Te.r,k+=W=Te.g,R+=H=Te.b,U+=j=Te.a,N-=B,L-=W,I-=H,_-=j,Te=Te.next,w+=4;b+=m}for(g=0;g<m;g++){for(L=I=_=N=P=A=F=T=0,w=g<<2,E=ie*(B=f[w]),k=ie*(W=f[w+1]),R=ie*(H=f[w+2]),U=ie*(j=f[w+3]),T+=te*B,P+=te*W,A+=te*H,F+=te*j,me=pe,y=0;y<ie;y++)me.r=B,me.g=W,me.b=H,me.a=j,me=me.next;for(x=m,y=1;y<=h;y++)w=x+g<<2,T+=(me.r=B=f[w])*(X=ie-y),P+=(me.g=W=f[w+1])*X,A+=(me.b=H=f[w+2])*X,F+=(me.a=j=f[w+3])*X,N+=B,L+=W,I+=H,_+=j,me=me.next,y<ne&&(x+=m);for(w=g,we=pe,Te=de,S=0;S<v;S++)C=w<<2,f[C+3]=j=F*ee>>oe,j>0?(j=255/j,f[C]=(T*ee>>oe)*j,f[C+1]=(P*ee>>oe)*j,f[C+2]=(A*ee>>oe)*j):f[C]=f[C+1]=f[C+2]=0,T-=E,P-=k,A-=R,F-=U,E-=we.r,k-=we.g,R-=we.b,U-=we.a,C=g+((C=S+ie)<ne?C:ne)*m<<2,T+=N+=we.r=f[C],P+=L+=we.g=f[C+1],A+=I+=we.b=f[C+2],F+=_+=we.a=f[C+3],we=we.next,E+=B=Te.r,k+=W=Te.g,R+=H=Te.b,U+=j=Te.a,N-=B,L-=W,I-=H,_-=j,Te=Te.next,w+=m}}const l=function(h){const f=Math.round(this.blurRadius());f>0&&s(h,f)};return D1.Blur=l,n.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),D1}var x1={},TT;function Tz(){if(TT)return x1;TT=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.Brighten=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=this.brightness()*255,s=i.data,l=s.length;for(let d=0;d<l;d+=4)s[d]+=o,s[d+1]+=o,s[d+2]+=o};return x1.Brighten=r,n.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),x1}var T1={},PT;function Pz(){if(PT)return T1;PT=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.Contrast=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=Math.pow((this.contrast()+100)/100,2),s=i.data,l=s.length;let d=150,h=150,f=150;for(let m=0;m<l;m+=4)d=s[m],h=s[m+1],f=s[m+2],d/=255,d-=.5,d*=o,d+=.5,d*=255,h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,s[m]=d,s[m+1]=h,s[m+2]=f};return T1.Contrast=r,n.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),T1}var P1={},IT;function Iz(){if(IT)return P1;IT=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.Emboss=void 0;const n=Dt(),e=Un(),t=An(),r=Pt(),i=function(o){const s=this.embossStrength()*10,l=this.embossWhiteLevel()*255,d=this.embossDirection(),h=this.embossBlend(),f=o.data,m=o.width,v=o.height,g=m*4;let S=0,y=0,C=v;switch(d){case"top-left":S=-1,y=-1;break;case"top":S=-1,y=0;break;case"top-right":S=-1,y=1;break;case"right":S=0,y=1;break;case"bottom-right":S=1,y=1;break;case"bottom":S=1,y=0;break;case"bottom-left":S=1,y=-1;break;case"left":S=0,y=-1;break;default:t.Util.error("Unknown emboss direction: "+d)}do{const x=(C-1)*g;let w=S;C+w<1&&(w=0),C+w>v&&(w=0);const b=(C-1+w)*m*4;let T=m;do{const P=x+(T-1)*4;let A=y;T+A<1&&(A=0),T+A>m&&(A=0);const F=b+(T-1+A)*4,E=f[P]-f[F],k=f[P+1]-f[F+1],R=f[P+2]-f[F+2];let U=E;const N=U>0?U:-U,L=k>0?k:-k,I=R>0?R:-R;if(L>N&&(U=k),I>N&&(U=R),U*=s,h){const _=f[P]+U,B=f[P+1]+U,W=f[P+2]+U;f[P]=_>255?255:_<0?0:_,f[P+1]=B>255?255:B<0?0:B,f[P+2]=W>255?255:W<0?0:W}else{let _=l-U;_<0?_=0:_>255&&(_=255),f[P]=f[P+1]=f[P+2]=_}}while(--T)}while(--C)};return P1.Emboss=i,n.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),P1}var I1={},RT;function Rz(){if(RT)return I1;RT=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.Enhance=void 0;const n=Dt(),e=Un(),t=Pt();function r(o,s,l,d,h){const f=l-s,m=h-d;if(f===0)return d+m/2;if(m===0)return d;let v=(o-s)/f;return v=m*v+d,v}const i=function(o){const s=o.data,l=s.length;let d=s[0],h=d,f,m=s[1],v=m,g,S=s[2],y=S,C;const x=this.enhance();if(x===0)return;for(let U=0;U<l;U+=4)f=s[U+0],f<d?d=f:f>h&&(h=f),g=s[U+1],g<m?m=g:g>v&&(v=g),C=s[U+2],C<S?S=C:C>y&&(y=C);h===d&&(h=255,d=0),v===m&&(v=255,m=0),y===S&&(y=255,S=0);let w,b,T,P,A,F,E,k,R;x>0?(b=h+x*(255-h),T=d-x*(d-0),A=v+x*(255-v),F=m-x*(m-0),k=y+x*(255-y),R=S-x*(S-0)):(w=(h+d)*.5,b=h+x*(h-w),T=d+x*(d-w),P=(v+m)*.5,A=v+x*(v-P),F=m+x*(m-P),E=(y+S)*.5,k=y+x*(y-E),R=S+x*(S-E));for(let U=0;U<l;U+=4)s[U+0]=r(s[U+0],d,h,T,b),s[U+1]=r(s[U+1],m,v,F,A),s[U+2]=r(s[U+2],S,y,R,k)};return I1.Enhance=i,n.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),I1}var R1={},LT;function Lz(){if(LT)return R1;LT=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.Grayscale=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const o=.34*t[i]+.5*t[i+1]+.16*t[i+2];t[i]=o,t[i+1]=o,t[i+2]=o}};return R1.Grayscale=n,R1}var L1={},AT;function Az(){if(AT)return L1;AT=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.HSL=void 0;const n=Dt(),e=Un(),t=Pt();n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter);const r=function(i){const o=i.data,s=o.length,l=1,d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=this.luminance()*127,m=l*d*Math.cos(h*Math.PI/180),v=l*d*Math.sin(h*Math.PI/180),g=.299*l+.701*m+.167*v,S=.587*l-.587*m+.33*v,y=.114*l-.114*m-.497*v,C=.299*l-.299*m-.328*v,x=.587*l+.413*m+.035*v,w=.114*l-.114*m+.293*v,b=.299*l-.3*m+1.25*v,T=.587*l-.586*m-1.05*v,P=.114*l+.886*m-.2*v;let A,F,E,k;for(let R=0;R<s;R+=4)A=o[R+0],F=o[R+1],E=o[R+2],k=o[R+3],o[R+0]=g*A+S*F+y*E+f,o[R+1]=C*A+x*F+w*E+f,o[R+2]=b*A+T*F+P*E+f,o[R+3]=k};return L1.HSL=r,L1}var A1={},OT;function Oz(){if(OT)return A1;OT=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.HSV=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=i.data,s=o.length,l=Math.pow(2,this.value()),d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=l*d*Math.cos(h*Math.PI/180),m=l*d*Math.sin(h*Math.PI/180),v=.299*l+.701*f+.167*m,g=.587*l-.587*f+.33*m,S=.114*l-.114*f-.497*m,y=.299*l-.299*f-.328*m,C=.587*l+.413*f+.035*m,x=.114*l-.114*f+.293*m,w=.299*l-.3*f+1.25*m,b=.587*l-.586*f-1.05*m,T=.114*l+.886*f-.2*m;let P,A,F,E;for(let k=0;k<s;k+=4)P=o[k+0],A=o[k+1],F=o[k+2],E=o[k+3],o[k+0]=v*P+g*A+S*F,o[k+1]=y*P+C*A+x*F,o[k+2]=w*P+b*A+T*F,o[k+3]=E};return A1.HSV=r,n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),A1}var O1={},ET;function Ez(){if(ET)return O1;ET=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.Invert=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};return O1.Invert=n,O1}var E1={},kT;function kz(){if(kT)return E1;kT=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.Kaleidoscope=void 0;const n=Dt(),e=Un(),t=An(),r=Pt(),i=function(l,d,h){const f=l.data,m=d.data,v=l.width,g=l.height,S=h.polarCenterX||v/2,y=h.polarCenterY||g/2;let C=Math.sqrt(S*S+y*y),x=v-S,w=g-y;const b=Math.sqrt(x*x+w*w);C=b>C?b:C;const T=g,P=v,A=360/P*Math.PI/180;for(let F=0;F<P;F+=1){const E=Math.sin(F*A),k=Math.cos(F*A);for(let R=0;R<T;R+=1){x=Math.floor(S+C*R/T*k),w=Math.floor(y+C*R/T*E);let U=(w*v+x)*4;const N=f[U+0],L=f[U+1],I=f[U+2],_=f[U+3];U=(F+R*v)*4,m[U+0]=N,m[U+1]=L,m[U+2]=I,m[U+3]=_}}},o=function(l,d,h){const f=l.data,m=d.data,v=l.width,g=l.height,S=h.polarCenterX||v/2,y=h.polarCenterY||g/2;let C=Math.sqrt(S*S+y*y),x=v-S,w=g-y;const b=Math.sqrt(x*x+w*w);C=b>C?b:C;const T=g,P=v,A=0;let F,E;for(x=0;x<v;x+=1)for(w=0;w<g;w+=1){const k=x-S,R=w-y,U=Math.sqrt(k*k+R*R)*T/C;let N=(Math.atan2(R,k)*180/Math.PI+360+A)%360;N=N*P/360,F=Math.floor(N),E=Math.floor(U);let L=(E*v+F)*4;const I=f[L+0],_=f[L+1],B=f[L+2],W=f[L+3];L=(w*v+x)*4,m[L+0]=I,m[L+1]=_,m[L+2]=B,m[L+3]=W}},s=function(l){const d=l.width,h=l.height;let f,m,v,g,S,y,C,x,w,b,T=Math.round(this.kaleidoscopePower());const P=Math.round(this.kaleidoscopeAngle()),A=Math.floor(d*(P%360)/360);if(T<1)return;const F=t.Util.createCanvasElement();F.width=d,F.height=h;const E=F.getContext("2d").getImageData(0,0,d,h);t.Util.releaseCanvas(F),i(l,E,{polarCenterX:d/2,polarCenterY:h/2});let k=d/Math.pow(2,T);for(;k<=8;)k=k*2,T-=1;k=Math.ceil(k);let R=k,U=0,N=R,L=1;for(A+k>d&&(U=R,N=0,L=-1),m=0;m<h;m+=1)for(f=U;f!==N;f+=L)v=Math.round(f+A)%d,w=(d*m+v)*4,S=E.data[w+0],y=E.data[w+1],C=E.data[w+2],x=E.data[w+3],b=(d*m+f)*4,E.data[b+0]=S,E.data[b+1]=y,E.data[b+2]=C,E.data[b+3]=x;for(m=0;m<h;m+=1)for(R=Math.floor(k),g=0;g<T;g+=1){for(f=0;f<R+1;f+=1)w=(d*m+f)*4,S=E.data[w+0],y=E.data[w+1],C=E.data[w+2],x=E.data[w+3],b=(d*m+R*2-f-1)*4,E.data[b+0]=S,E.data[b+1]=y,E.data[b+2]=C,E.data[b+3]=x;R*=2}o(E,l,{})};return E1.Kaleidoscope=s,n.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),E1}var k1={},_T;function _z(){if(_T)return k1;_T=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.Mask=void 0;const n=Dt(),e=Un(),t=Pt();function r(v,g,S){let y=(S*v.width+g)*4;const C=[];return C.push(v.data[y++],v.data[y++],v.data[y++],v.data[y++]),C}function i(v,g){return Math.sqrt(Math.pow(v[0]-g[0],2)+Math.pow(v[1]-g[1],2)+Math.pow(v[2]-g[2],2))}function o(v){const g=[0,0,0];for(let S=0;S<v.length;S++)g[0]+=v[S][0],g[1]+=v[S][1],g[2]+=v[S][2];return g[0]/=v.length,g[1]/=v.length,g[2]/=v.length,g}function s(v,g){const S=r(v,0,0),y=r(v,v.width-1,0),C=r(v,0,v.height-1),x=r(v,v.width-1,v.height-1),w=g||10;if(i(S,y)<w&&i(y,x)<w&&i(x,C)<w&&i(C,S)<w){const b=o([y,S,x,C]),T=[];for(let P=0;P<v.width*v.height;P++){const A=i(b,[v.data[P*4],v.data[P*4+1],v.data[P*4+2]]);T[P]=A<w?0:255}return T}}function l(v,g){for(let S=0;S<v.width*v.height;S++)v.data[4*S+3]=g[S]}function d(v,g,S){const y=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),w=[];for(let b=0;b<S;b++)for(let T=0;T<g;T++){const P=b*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=b+F-x,R=T+E-x;if(k>=0&&k<S&&R>=0&&R<g){const U=k*g+R,N=y[F*C+E];A+=v[U]*N}}w[P]=A===255*8?255:0}return w}function h(v,g,S){const y=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),w=[];for(let b=0;b<S;b++)for(let T=0;T<g;T++){const P=b*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=b+F-x,R=T+E-x;if(k>=0&&k<S&&R>=0&&R<g){const U=k*g+R,N=y[F*C+E];A+=v[U]*N}}w[P]=A>=255*4?255:0}return w}function f(v,g,S){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),w=[];for(let b=0;b<S;b++)for(let T=0;T<g;T++){const P=b*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=b+F-x,R=T+E-x;if(k>=0&&k<S&&R>=0&&R<g){const U=k*g+R,N=y[F*C+E];A+=v[U]*N}}w[P]=A}return w}const m=function(v){const g=this.threshold();let S=s(v,g);return S&&(S=d(S,v.width,v.height),S=h(S,v.width,v.height),S=f(S,v.width,v.height),l(v,S)),v};return k1.Mask=m,n.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),k1}var _1={},FT;function Fz(){if(FT)return _1;FT=1,Object.defineProperty(_1,"__esModule",{value:!0}),_1.Noise=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=this.noise()*255,s=i.data,l=s.length,d=o/2;for(let h=0;h<l;h+=4)s[h+0]+=d-2*d*Math.random(),s[h+1]+=d-2*d*Math.random(),s[h+2]+=d-2*d*Math.random()};return _1.Noise=r,n.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),_1}var F1={},MT;function Mz(){if(MT)return F1;MT=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.Pixelate=void 0;const n=Dt(),e=An(),t=Un(),r=Pt(),i=function(o){let s=Math.ceil(this.pixelSize()),l=o.width,d=o.height,h,f,m,v,g,S,y,C=Math.ceil(l/s),x=Math.ceil(d/s),w,b,T,P,A,F,E,k=o.data;if(s<=0){e.Util.error("pixelSize value can not be <= 0");return}for(A=0;A<C;A+=1)for(F=0;F<x;F+=1){for(v=0,g=0,S=0,y=0,w=A*s,b=w+s,T=F*s,P=T+s,E=0,h=w;h<b;h+=1)if(!(h>=l))for(f=T;f<P;f+=1)f>=d||(m=(l*f+h)*4,v+=k[m+0],g+=k[m+1],S+=k[m+2],y+=k[m+3],E+=1);for(v=v/E,g=g/E,S=S/E,y=y/E,h=w;h<b;h+=1)if(!(h>=l))for(f=T;f<P;f+=1)f>=d||(m=(l*f+h)*4,k[m+0]=v,k[m+1]=g,k[m+2]=S,k[m+3]=y)}};return F1.Pixelate=i,n.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),F1}var M1={},NT;function Nz(){if(NT)return M1;NT=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.Posterize=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=Math.round(this.levels()*254)+1,s=i.data,l=s.length,d=255/o;for(let h=0;h<l;h+=1)s[h]=Math.floor(s[h]/d)*d};return M1.Posterize=r,n.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),M1}var N1={},UT;function Uz(){if(UT)return N1;UT=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.RGB=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=i.data,s=o.length,l=this.red(),d=this.green(),h=this.blue();for(let f=0;f<s;f+=4){const m=(.34*o[f]+.5*o[f+1]+.16*o[f+2])/255;o[f]=m*l,o[f+1]=m*d,o[f+2]=m*h,o[f+3]=o[f+3]}};return N1.RGB=r,n.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),N1}var U1={},qT;function qz(){if(qT)return U1;qT=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.RGBA=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=i.data,s=o.length,l=this.red(),d=this.green(),h=this.blue(),f=this.alpha();for(let m=0;m<s;m+=4){const v=1-f;o[m]=l*f+o[m]*v,o[m+1]=d*f+o[m+1]*v,o[m+2]=h*f+o[m+2]*v}};return U1.RGBA=r,n.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),U1}var q1={},BT;function Bz(){if(BT)return q1;BT=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.Sepia=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const o=t[i+0],s=t[i+1],l=t[i+2];t[i+0]=Math.min(255,o*.393+s*.769+l*.189),t[i+1]=Math.min(255,o*.349+s*.686+l*.168),t[i+2]=Math.min(255,o*.272+s*.534+l*.131)}};return q1.Sepia=n,q1}var B1={},VT;function Vz(){if(VT)return B1;VT=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.Solarize=void 0;const n=function(e){const t=e.data,r=e.width,i=e.height,o=r*4;let s=i;do{const l=(s-1)*o;let d=r;do{const h=l+(d-1)*4;let f=t[h],m=t[h+1],v=t[h+2];f>127&&(f=255-f),m>127&&(m=255-m),v>127&&(v=255-v),t[h]=f,t[h+1]=m,t[h+2]=v}while(--d)}while(--s)};return B1.Solarize=n,B1}var V1={},GT;function Gz(){if(GT)return V1;GT=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.Threshold=void 0;const n=Dt(),e=Un(),t=Pt(),r=function(i){const o=this.threshold()*255,s=i.data,l=s.length;for(let d=0;d<l;d+=1)s[d]=s[d]<o?0:255};return V1.Threshold=r,n.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),V1}var QT;function Qz(){if(QT)return t1;QT=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.Konva=void 0;const n=uz(),e=cz(),t=hz(),r=fz(),i=pz(),o=gz(),s=mz(),l=zR(),d=tw(),h=WR(),f=Sz(),m=yz(),v=vz(),g=Cz(),S=jR(),y=bz(),C=wz(),x=Dz(),w=xz(),b=Tz(),T=Pz(),P=Iz(),A=Rz(),F=Lz(),E=Az(),k=Oz(),R=Ez(),U=kz(),N=_z(),L=Fz(),I=Mz(),_=Nz(),B=Uz(),W=qz(),H=Bz(),j=Vz(),X=Gz();return t1.Konva=n.Konva.Util._assign(n.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:r.Circle,Ellipse:i.Ellipse,Image:o.Image,Label:s.Label,Tag:s.Tag,Line:l.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:m.Ring,Sprite:v.Sprite,Star:g.Star,Text:S.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:x.Wedge,Filters:{Blur:w.Blur,Brighten:b.Brighten,Contrast:T.Contrast,Emboss:P.Emboss,Enhance:A.Enhance,Grayscale:F.Grayscale,HSL:E.HSL,HSV:k.HSV,Invert:R.Invert,Kaleidoscope:U.Kaleidoscope,Mask:N.Mask,Noise:L.Noise,Pixelate:I.Pixelate,Posterize:_.Posterize,RGB:B.RGB,RGBA:W.RGBA,Sepia:H.Sepia,Solarize:j.Solarize,Threshold:X.Threshold}}),t1}var zz=zS.exports,zT;function Wz(){if(zT)return zS.exports;zT=1,Object.defineProperty(zz,"__esModule",{value:!0});const n=Qz();return zS.exports=n.Konva,zS.exports}var jz=Wz();const Hz=gd(jz);var RC={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var WT;function $z(){return WT||(WT=1,function(n){var e=function(){var t={};t.floodFill=function(l,d,h,f,m,v){return v?i(l,d,h,f,m):r(l,d,h,f,m)};function r(l,d,h,f,m){var v,g,S,y,C,x,w,b,T,P,A=l.data,F=l.width,E=l.height,k=l.bytes,R=-1,U=F+1,N=-1,L=E+1,I=h*F+d,_=new Uint8Array(F*E),B=new Uint8Array(m||F*E);if(B[I]===1)return null;I=I*k;var W=[A[I],A[I+1],A[I+2],A[I+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),P=!1,g=y.left+1;g<y.right;g++)if(w=y.y*F,I=(w+g)*k,B[w+g]!==1&&(v=A[I]-W[0],!(v>f||v<-f)&&(v=A[I+1]-W[1],!(v>f||v<-f)&&(v=A[I+2]-W[2],!(v>f||v<-f))))){for(P=!0,_[w+g]=1,B[w+g]=1,x=g-1;x>-1&&(b=w+x,I=b*k,!(B[b]===1||(v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f)));)_[b]=1,B[b]=1,x--;for(C=g+1;C<F&&(T=w+C,I=T*k,!(B[T]===1||(v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f)));)_[T]=1,B[T]=1,C++;x<U&&(U=x+1),C>R&&(R=C-1),S=y.y-y.dir,S>=0&&S<E&&(x<y.left&&H.push({y:S,left:x,right:y.left,dir:-y.dir}),y.right<C&&H.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&x<C&&H.push({y:S,left:x,right:C,dir:y.dir})}P&&(y.y<L&&(L=y.y),y.y>N&&(N=y.y))}while(H.length>0);return{data:_,width:l.width,height:l.height,bounds:{minX:U,minY:L,maxX:R,maxY:N}}}function i(l,d,h,f,m){var v,g,S,y,C,x,w,b,T,P,A=l.data,F=l.width,E=l.height,k=l.bytes,R=-1,U=F+1,N=-1,L=E+1,I=h*F+d,_=new Uint8Array(F*E),B=new Uint8Array(m||F*E);if(B[I]===1)return null;I=I*k;var W=[A[I],A[I+1],A[I+2],A[I+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),P=!1,g=y.left+1;g<y.right;g++)if(w=y.y*F,I=(w+g)*k,B[w+g]!==1&&(P=!0,_[w+g]=1,B[w+g]=1,v=A[I]-W[0],!(v>f||v<-f)&&(v=A[I+1]-W[1],!(v>f||v<-f)&&(v=A[I+2]-W[2],!(v>f||v<-f))))){for(x=g-1;x>-1&&(b=w+x,I=b*k,!(B[b]===1||(_[b]=1,B[b]=1,x--,v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f))););for(C=g+1;C<F&&(T=w+C,I=T*k,!(B[T]===1||(_[T]=1,B[T]=1,C++,v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f))););x<U&&(U=x+1),C>R&&(R=C-1),S=y.y-y.dir,S>=0&&S<E&&(x<y.left&&H.push({y:S,left:x,right:y.left,dir:-y.dir}),y.right<C&&H.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&x<C&&H.push({y:S,left:x,right:C,dir:y.dir})}P&&(y.y<L&&(L=y.y),y.y>N&&(N=y.y))}while(H.length>0);return{data:_,width:l.width,height:l.height,bounds:{minX:U,minY:L,maxX:R,maxY:N}}}t.gaussBlur=function(l,d){var h,f,m,v,g,S,y,C,x=d*2+1,w=d*d,b=new Float32Array(x),T=0,P=l.width,A=l.height,F=l.data,E=l.bounds.minX,k=l.bounds.maxX,R=l.bounds.minY,U=l.bounds.maxY;for(h=0;h<d;h++){var N=(d-h)*(d-h),L=Math.exp(-N/(2*w))/(2*Math.PI*w);b[d+h]=b[d-h]=L,T+=2*L}for(h=0;h<x;h++)b[h]/=T;var I=new Uint8Array(P*A),_=d+P,B=d+A;for(g=R;g<U+1;g++)for(v=E;v<k+1;v++){for(S=0,f=g*P+v,y=d-v>0?d-v:0,C=_-v<x?_-v:x,m=f-d,h=y;h<C;h++)S+=F[m+h]*b[h];for(y=d-g>0?d-g:0,C=B-g<x?B-g:x,m=f-d*P,h=y;h<C;h++)S+=F[m+h*P]*b[h];I[f]=S>.5?1:0}return{data:I,width:P,height:A,bounds:{minX:E,minY:R,maxX:k,maxY:U}}};function o(l,d,h){var f,m,v,g,S,y,C,x=l.width,w=l.height,b=l.data,T=new Uint8Array(b),P=l.bounds.minX,A=l.bounds.maxX,F=l.bounds.minY,E=l.bounds.maxY,k=x*w,R=new Uint8Array(k),U=[],N=Math.max(P,1),L=Math.min(A,x-2),I=Math.max(F,1),_=Math.min(E,w-2);if(h&&h.length>0)for(S=0;S<k;S++)h[S]===1&&(T[S]=1);for(g=I;g<_+1;g++)for(f=N;f<L+1;f++)S=g*x+f,b[S]!==0&&(y=S+x,C=S-x,(T[S+1]===0||T[S-1]===0||T[y]===0||T[y+1]===0||T[y-1]===0||T[C]===0||T[C+1]===0||T[C-1]===0)&&U.push(S));if(P==0)for(g=F;g<E+1;g++)b[g*x]===1&&U.push(g*x);if(A==x-1)for(g=F;g<E+1;g++)b[g*x+A]===1&&U.push(g*x+A);if(F==0)for(f=P;f<A+1;f++)b[f]===1&&U.push(f);if(E==w-1)for(f=P;f<A+1;f++)b[E*x+f]===1&&U.push(E*x+f);var B=[],W,H,j=d+x,X=d+w,V=d*2+1;for(k=U.length,v=0;v<k;v++){for(S=U[v],R[S]=1,B.push(S),f=S%x,g=(S-f)/x,W=d-f>0?d-f:0,H=j-f<V?j-f:V,y=S-d,m=W;m<H;m++)C=y+m,R[C]===0&&(R[C]=1,B.push(C));for(W=d-g>0?d-g:0,H=X-g<V?X-g:V,y=S-d*x,m=W;m<H;m++)C=y+m*x,R[C]===0&&(R[C]=1,B.push(C))}return B}t.gaussBlurOnlyBorder=function(l,d,h){var f=o(l,d,h),m,v,g,S,y,C,x,w,b,T,P,A=d*2+1,F=2*d*d,E=new Float32Array(A),k=0,R=l.width,U=l.height,N=l.data,L=l.bounds.minX,I=l.bounds.maxX,_=l.bounds.minY,B=l.bounds.maxY,W=f.length;for(g=0;g<d;g++)v=(d-g)*(d-g),m=Math.exp(-v/F)/Math.PI,E[d+g]=E[d-g]=m,k+=2*m;for(g=0;g<A;g++)E[g]/=k;var H=new Uint8Array(N),j=d+R,X=d+U;for(g=0;g<W;g++){for(y=f[g],b=0,x=y%R,w=(y-x)/R,T=d-x>0?d-x:0,P=j-x<A?j-x:A,C=y-d,S=T;S<P;S++)b+=N[C+S]*E[S];if(b>.5){H[y]=1,x<L&&(L=x),x>I&&(I=x),w<_&&(_=w),w>B&&(B=w);continue}for(T=d-w>0?d-w:0,P=X-w<A?X-w:A,C=y-d*R,S=T;S<P;S++)b+=N[C+S*R]*E[S];b>.5?(H[y]=1,x<L&&(L=x),x>I&&(I=x),w<_&&(_=w),w>B&&(B=w)):H[y]=0}return{data:H,width:R,height:U,bounds:{minX:L,minY:_,maxX:I,maxY:B}}},t.createBorderMask=function(l){var d,h,f,m,v,g=l.width,S=l.height,y=l.data,C=l.bounds.minX,x=l.bounds.maxX,w=l.bounds.minY,b=l.bounds.maxY,T=x-C+1,P=b-w+1,A=new Uint8Array(T*P),F=Math.max(C,1),E=Math.min(x,g-2),k=Math.max(w,1),R=Math.min(b,S-2);for(h=k;h<R+1;h++)for(d=F;d<E+1;d++)f=h*g+d,y[f]!==0&&(m=f+g,v=f-g,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&(A[(h-w)*T+(d-C)]=1));if(C==0)for(h=w;h<b+1;h++)y[h*g]===1&&(A[(h-w)*T]=1);if(x==g-1)for(h=w;h<b+1;h++)y[h*g+x]===1&&(A[(h-w)*T+(x-C)]=1);if(w==0)for(d=C;d<x+1;d++)y[d]===1&&(A[d-C]=1);if(b==S-1)for(d=C;d<x+1;d++)y[b*g+d]===1&&(A[(b-w)*T+(d-C)]=1);return{data:A,width:T,height:P,offset:{x:C,y:w}}},t.getBorderIndices=function(l){var d,h,f,m,v,g=l.width,S=l.height,y=l.data,C=[],x=g-1,w=S-1;for(h=1;h<w;h++)for(d=1;d<x;d++)f=h*g+d,y[f]!==0&&(m=f+g,v=f-g,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&C.push(f));for(h=0;h<S;h++)y[h*g]===1&&C.push(h*g);for(d=0;d<g;d++)y[d]===1&&C.push(d);for(f=g-1,h=0;h<S;h++)y[h*g+f]===1&&C.push(h*g+f);for(f=(S-1)*g,d=0;d<g;d++)y[f+d]===1&&C.push(f+d);return C};function s(l){var d,h,f=l.width,m=l.data,v=l.bounds.minX,g=l.bounds.maxX,S=l.bounds.minY,y=l.bounds.maxY,C=g-v+3,x=y-S+3,w=new Uint8Array(C*x);for(h=S;h<y+1;h++)for(d=v;d<g+1;d++)m[h*f+d]===1&&(w[(h-S+1)*C+(d-v+1)]=1);return{data:w,width:C,height:x,offset:{x:v-1,y:S-1}}}return t.traceContours=function(l){var d=s(l),h=[],f=0,m=d.width,v=m*2,g=d.height,S=d.data,y=d.offset.x,C=d.offset.y,x=new Uint8Array(S),w,b,T,P,A,F,E,k,R,U,N,L,I,_,B,W=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(P=1;P<g-1;P++)for(T=1;T<m-1;T++)if(A=P*m+T,S[A]===1){for(w=-m;w<v;w+=v)if(S[A+w]===0&&x[A+w]===0){for(k=w===m,f++,E=[],R=k?2:6,L=I=U={x:T,y:P},N=null;;){for(x[L.y*m+L.x]=f,b=0;b<8;b++){if(R=(R+1)%8,B=W[R],_={x:L.x+B[0],y:L.y+B[1]},F=_.y*m+_.x,S[F]===1){x[F]=f;break}x[F]=-1,_=null}if(_===null)break;if(L=_,N){if(I.x===U.x&&I.y===U.y&&L.x===N.x&&L.y===N.y)break}else N=_;E.push({x:I.x+y,y:I.y+C}),I=L,R=(R+4)%8}_!=null&&(E.push({x:U.x+y,y:U.y+C}),h.push({inner:k,label:f,points:E}))}}return h},t.simplifyContours=function(l,d,h){var f=l.length,m=[],v,g,S,y,C,x,w,b,T,P,A,F,E,k,R,U,N,L,I,_,B;for(g=0;g<f;g++){if(y=l[g],C=y.points,x=y.points.length,x<h){for(w=[],S=0;S<x;S++)w.push({x:C[S].x,y:C[S].y});m.push({inner:y.inner,label:y.label,points:w,initialCount:x});continue}b=[0,x-1],T=[{first:0,last:x-1}];do if(P=T.shift(),!(P.last<=P.first+1)){for(A=-1,F=P.first,v=P.first+1;v<P.last;v++)I=C[v],_=C[P.first],B=C[P.last],N=I.x-_.x,L=I.y-_.y,k=Math.sqrt(N*N+L*L),N=I.x-B.x,L=I.y-B.y,R=Math.sqrt(N*N+L*L),N=_.x-B.x,L=_.y-B.y,U=Math.sqrt(N*N+L*L),k>=Math.sqrt(R*R+U*U)?E=R:R>=Math.sqrt(k*k+U*U)?E=k:E=Math.abs((L*I.x-N*I.y+_.x*B.y-B.x*_.y)/U),E>A&&(F=v,A=E);A>d&&(b.push(F),T.push({first:P.first,last:F}),T.push({first:F,last:P.last}))}while(T.length>0);for(w=[],x=b.length,b.sort(function(W,H){return W-H}),S=0;S<x;S++)w.push({x:C[b[S]].x,y:C[b[S]].y});m.push({inner:y.inner,label:y.label,points:w,initialCount:y.points.length})}return m},t}();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)}(RC)),RC.exports}var Yz=$z();const Xz=gd(Yz);function DS(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var LC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var jT;function Kz(){return jT||(jT=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function s(h,f){if(!i[h]){if(!r[h]){var m=typeof DS=="function"&&DS;if(!f&&m)return m(h,!0);if(l)return l(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var g=i[h]={exports:{}};r[h][0].call(g.exports,function(S){var y=r[h][1][S];return s(y||S)},g,g.exports,t,r,i,o)}return i[h].exports}for(var l=typeof DS=="function"&&DS,d=0;d<o.length;d++)s(o[d]);return s}({1:[function(t,r,i){var o=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,m,v,g,S,y,C=[],x=0,w=d.length,b=w,T=o.getTypeOf(d)!=="string";x<d.length;)b=w-x,m=T?(h=d[x++],f=x<w?d[x++]:0,x<w?d[x++]:0):(h=d.charCodeAt(x++),f=x<w?d.charCodeAt(x++):0,x<w?d.charCodeAt(x++):0),v=h>>2,g=(3&h)<<4|f>>4,S=1<b?(15&f)<<2|m>>6:64,y=2<b?63&m:64,C.push(l.charAt(v)+l.charAt(g)+l.charAt(S)+l.charAt(y));return C.join("")},i.decode=function(d){var h,f,m,v,g,S,y=0,C=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var w,b=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===l.charAt(64)&&b--,d.charAt(d.length-2)===l.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|b):new Array(0|b);y<d.length;)h=l.indexOf(d.charAt(y++))<<2|(v=l.indexOf(d.charAt(y++)))>>4,f=(15&v)<<4|(g=l.indexOf(d.charAt(y++)))>>2,m=(3&g)<<6|(S=l.indexOf(d.charAt(y++))),w[C++]=h,g!==64&&(w[C++]=f),S!==64&&(w[C++]=m);return w}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function h(f,m,v,g,S){this.compressedSize=f,this.uncompressedSize=m,this.crc32=v,this.compression=g,this.compressedContent=S}h.prototype={getContentWorker:function(){var f=new s(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new s(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,v){return f.pipe(new l).pipe(new d("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),s=function(){for(var l,d=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;d[h]=l}return d}();r.exports=function(l,d){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(h,f,m,v){var g=s,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^g[255&(h^f[y])];return-1^h}(0|d,l,l.length,0):function(h,f,m,v){var g=s,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^g[255&(h^f.charCodeAt(y))];return-1^h}(0|d,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),d=t("./stream/GenericWorker"),h=o?"uint8array":"array";function f(m,v){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}i.magic="\b\0",l.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},i.compressWorker=function(m){return new f("Deflate",m)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(g,S){var y,C="";for(y=0;y<S;y++)C+=String.fromCharCode(255&g),g>>>=8;return C}function s(g,S,y,C,x,w){var b,T,P=g.file,A=g.compression,F=w!==h.utf8encode,E=l.transformTo("string",w(P.name)),k=l.transformTo("string",h.utf8encode(P.name)),R=P.comment,U=l.transformTo("string",w(R)),N=l.transformTo("string",h.utf8encode(R)),L=k.length!==P.name.length,I=N.length!==R.length,_="",B="",W="",H=P.dir,j=P.date,X={crc32:0,compressedSize:0,uncompressedSize:0};S&&!y||(X.crc32=g.crc32,X.compressedSize=g.compressedSize,X.uncompressedSize=g.uncompressedSize);var V=0;S&&(V|=8),F||!L&&!I||(V|=2048);var $=0,ne=0;H&&($|=16),x==="UNIX"?(ne=798,$|=function(te,pe){var ee=te;return te||(ee=pe?16893:33204),(65535&ee)<<16}(P.unixPermissions,H)):(ne=20,$|=function(te){return 63&(te||0)}(P.dosPermissions)),b=j.getUTCHours(),b<<=6,b|=j.getUTCMinutes(),b<<=5,b|=j.getUTCSeconds()/2,T=j.getUTCFullYear()-1980,T<<=4,T|=j.getUTCMonth()+1,T<<=5,T|=j.getUTCDate(),L&&(B=o(1,1)+o(f(E),4)+k,_+="up"+o(B.length,2)+B),I&&(W=o(1,1)+o(f(U),4)+N,_+="uc"+o(W.length,2)+W);var ie="";return ie+=`
\0`,ie+=o(V,2),ie+=A.magic,ie+=o(b,2),ie+=o(T,2),ie+=o(X.crc32,4),ie+=o(X.compressedSize,4),ie+=o(X.uncompressedSize,4),ie+=o(E.length,2),ie+=o(_.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ie+E+_,dirRecord:m.CENTRAL_FILE_HEADER+o(ne,2)+ie+o(U.length,2)+"\0\0\0\0"+o($,4)+o(C,4)+E+_+U}}var l=t("../utils"),d=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),m=t("../signature");function v(g,S,y,C){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(v,d),v.prototype.push=function(g){var S=g.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,d.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(S+100*(y-C-1))/y:100}}))},v.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var S=this.streamFiles&&!g.file.dir;if(S){var y=s(g,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(g){this.accumulate=!1;var S=this.streamFiles&&!g.file.dir,y=s(g,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),S)this.push({data:function(C){return m.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var g=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var y=this.bytesWritten-g,C=function(x,w,b,T,P){var A=l.transformTo("string",P(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(w,4)+o(b,4)+o(A.length,2)+A}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(g){this._sources.push(g);var S=this;return g.on("data",function(y){S.processChunk(y)}),g.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),g.on("error",function(y){S.error(y)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(g){var S=this._sources;if(!d.prototype.error.call(this,g))return!1;for(var y=0;y<S.length;y++)try{S[y].error(g)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var g=this._sources,S=0;S<g.length;S++)g[S].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,d,h){var f=new s(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{l.forEach(function(v,g){m++;var S=function(w,b){var T=w||b,P=o[T];if(!P)throw new Error(T+" is not a valid compression method !");return P}(g.options.compression,d.compression),y=g.options.compressionOptions||d.compressionOptions||{},C=g.dir,x=g.date;g._compressWorker(S,y).withStreamInfo("file",{name:v,dir:C,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new o;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(s,l){return new o().loadAsync(s,l)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),s=t("./external"),l=t("./utf8"),d=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(v){return new s.Promise(function(g,S){var y=v.decompressed.getContentWorker().pipe(new h);y.on("error",function(C){S(C)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(v,g){var S=this;return g=o.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,g.optimizedBinaryString,g.base64).then(function(y){var C=new d(g);return C.load(y),C}).then(function(y){var C=[s.Promise.resolve(y)],x=y.files;if(g.checkCRC32)for(var w=0;w<x.length;w++)C.push(m(x[w]));return s.Promise.all(C)}).then(function(y){for(var C=y.shift(),x=C.files,w=0;w<x.length;w++){var b=x[w],T=b.fileNameStr,P=o.resolve(b.fileNameStr);S.file(P,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:g.createFolders}),b.dir||(S.file(P).unsafeOriginalName=T)}return C.zipComment.length&&(S.comment=C.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),s=t("../stream/GenericWorker");function l(d,h){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(l,s),l.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function s(l,d,h){o.call(this,d),this._helper=l;var f=this;l.on("data",function(m,v){f.push(m)||f._helper.pause(),h&&h(v)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(s,o),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,s);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,s)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var s=new Buffer(o);return s.fill(0),s},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(P,A,F){var E,k=l.getTypeOf(A),R=l.extend(F||{},f);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(P=x(P)),R.createFolders&&(E=C(P))&&w.call(this,E,!0);var U=k==="string"&&R.binary===!1&&R.base64===!1;F&&F.binary!==void 0||(R.binary=!U),(A instanceof m&&A.uncompressedSize===0||R.dir||!A||A.length===0)&&(R.base64=!1,R.binary=!0,A="",R.compression="STORE",k="string");var N=null;N=A instanceof m||A instanceof d?A:S.isNode&&S.isStream(A)?new y(P,A):l.prepareContent(P,A,R.binary,R.optimizedBinaryString,R.base64);var L=new v(P,N,R);this.files[P]=L}var s=t("./utf8"),l=t("./utils"),d=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),v=t("./zipObject"),g=t("./generate"),S=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),C=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var A=P.lastIndexOf("/");return 0<A?P.substring(0,A):""},x=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},w=function(P,A){return A=A!==void 0?A:f.createFolders,P=x(P),this.files[P]||o.call(this,P,null,{dir:!0,createFolders:A}),this.files[P]};function b(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var A,F,E;for(A in this.files)E=this.files[A],(F=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&P(F,E)},filter:function(P){var A=[];return this.forEach(function(F,E){P(F,E)&&A.push(E)}),A},file:function(P,A,F){if(arguments.length!==1)return P=this.root+P,o.call(this,P,A,F),this;if(b(P)){var E=P;return this.filter(function(R,U){return!U.dir&&E.test(R)})}var k=this.files[this.root+P];return k&&!k.dir?k:null},folder:function(P){if(!P)return this;if(b(P))return this.filter(function(k,R){return R.dir&&P.test(k)});var A=this.root+P,F=w.call(this,A),E=this.clone();return E.root=F.name,E},remove:function(P){P=this.root+P;var A=this.files[P];if(A||(P.slice(-1)!=="/"&&(P+="/"),A=this.files[P]),A&&!A.dir)delete this.files[P];else for(var F=this.filter(function(k,R){return R.name.slice(0,P.length)===P}),E=0;E<F.length;E++)delete this.files[F[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var A,F={};try{if((F=l.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");l.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var E=F.comment||this.comment||"";A=g.generateWorker(this,F,E)}catch(k){(A=new d("error")).error(k)}return new h(A,F.type||"string",F.mimeType)},generateAsync:function(P,A){return this.generateInternalStream(P).accumulate(A)},generateNodeStream:function(P,A){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(A)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function s(l){o.call(this,l);for(var d=0;d<this.data.length;d++)l[d]=255&l[d]}t("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var d=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===h&&this.data[v+2]===f&&this.data[v+3]===m)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var d=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),v=this.readData(4);return d===v[0]&&h===v[1]&&f===v[2]&&m===v[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var d,h=0;for(this.checkOffset(l),d=this.index+l-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=l,h},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function s(l){o.call(this,l)}t("../utils").inherits(s,o),s.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function s(l){o.call(this,l)}t("../utils").inherits(s,o),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function s(l){o.call(this,l)}t("../utils").inherits(s,o),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),s=t("../support"),l=t("./ArrayReader"),d=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(m){var v=o.getTypeOf(m);return o.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new h(m):s.uint8array?new f(o.transformTo("uint8array",m)):new l(o.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),s=t("../utils");function l(d){o.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(l,o),l.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),s=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),s=t("./GenericWorker");function l(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(l,s),l.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}s.prototype.processChunk.call(this,d)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),s=t("./GenericWorker");function l(d){s.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=o.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}o.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(d){l.processChunk(d)}),s.on("end",function(){l.end()}),s.on("error",function(d){l.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),d=t("../base64"),h=t("../support"),f=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(S,y){return new f.Promise(function(C,x){var w=[],b=S._internalType,T=S._outputType,P=S._mimeType;S.on("data",function(A,F){w.push(A),y&&y(F)}).on("error",function(A){w=[],x(A)}).on("end",function(){try{var A=function(F,E,k){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),k);case"base64":return d.encode(E);default:return o.transformTo(F,E)}}(T,function(F,E){var k,R=0,U=null,N=0;for(k=0;k<E.length;k++)N+=E[k].length;switch(F){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(U=new Uint8Array(N),k=0;k<E.length;k++)U.set(E[k],R),R+=E[k].length;return U;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+F+"'")}}(b,w),P);C(A)}catch(F){x(F)}w=[]}).resume()})}function g(S,y,C){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=C,o.checkSupport(x),this._worker=S.pipe(new s(x)),S.lock()}catch(w){this._worker=new l("error"),this._worker.error(w)}}g.prototype={accumulate:function(S){return v(this,S)},on:function(S,y){var C=this;return S==="data"?this._worker.on(S,function(x){y.call(C,x.data,x.meta)}):this._worker.on(S,function(){o.delay(y,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(o),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),d=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}i.utf8encode=function(g){return s.nodebuffer?l.newBufferFrom(g,"utf-8"):function(S){var y,C,x,w,b,T=S.length,P=0;for(w=0;w<T;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),w++),P+=C<128?1:C<2048?2:C<65536?3:4;for(y=s.uint8array?new Uint8Array(P):new Array(P),w=b=0;b<P;w++)(64512&(C=S.charCodeAt(w)))==55296&&w+1<T&&(64512&(x=S.charCodeAt(w+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),w++),C<128?y[b++]=C:(C<2048?y[b++]=192|C>>>6:(C<65536?y[b++]=224|C>>>12:(y[b++]=240|C>>>18,y[b++]=128|C>>>12&63),y[b++]=128|C>>>6&63),y[b++]=128|63&C);return y}(g)},i.utf8decode=function(g){return s.nodebuffer?o.transformTo("nodebuffer",g).toString("utf-8"):function(S){var y,C,x,w,b=S.length,T=new Array(2*b);for(y=C=0;y<b;)if((x=S[y++])<128)T[C++]=x;else if(4<(w=h[x]))T[C++]=65533,y+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&y<b;)x=x<<6|63&S[y++],w--;1<w?T[C++]=65533:x<65536?T[C++]=x:(x-=65536,T[C++]=55296|x>>10&1023,T[C++]=56320|1023&x)}return T.length!==C&&(T.subarray?T=T.subarray(0,C):T.length=C),o.applyFromCharCode(T)}(g=o.transformTo(s.uint8array?"uint8array":"array",g))},o.inherits(m,d),m.prototype.processChunk=function(g){var S=o.transformTo(s.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=S;(S=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),S.set(y,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var C=function(w,b){var T;for((b=b||w.length)>w.length&&(b=w.length),T=b-1;0<=T&&(192&w[T])==128;)T--;return T<0||T===0?b:T+h[w[T]]>b?T:b}(S),x=S;C!==S.length&&(s.uint8array?(x=S.subarray(0,C),this.leftOver=S.subarray(C,S.length)):(x=S.slice(0,C),this.leftOver=S.slice(C,S.length))),this.push({data:i.utf8decode(x),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,o.inherits(v,d),v.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),d=t("./external");function h(y){return y}function f(y,C){for(var x=0;x<y.length;++x)C[x]=255&y.charCodeAt(x);return C}t("setimmediate"),i.newBlob=function(y,C){i.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,C,x){var w=[],b=0,T=y.length;if(T<=x)return String.fromCharCode.apply(null,y);for(;b<T;)C==="array"||C==="nodebuffer"?w.push(String.fromCharCode.apply(null,y.slice(b,Math.min(b+x,T)))):w.push(String.fromCharCode.apply(null,y.subarray(b,Math.min(b+x,T)))),b+=x;return w.join("")},stringifyByChar:function(y){for(var C="",x=0;x<y.length;x++)C+=String.fromCharCode(y[x]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var C=65536,x=i.getTypeOf(y),w=!0;if(x==="uint8array"?w=m.applyCanBeUsed.uint8array:x==="nodebuffer"&&(w=m.applyCanBeUsed.nodebuffer),w)for(;1<C;)try{return m.stringifyByChunk(y,x,C)}catch{C=Math.floor(C/2)}return m.stringifyByChar(y)}function g(y,C){for(var x=0;x<y.length;x++)C[x]=y[x];return C}i.applyFromCharCode=v;var S={};S.string={string:h,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return S.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,l.allocBuffer(y.length))}},S.array={string:v,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},S.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},S.uint8array={string:v,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return l.newBufferFrom(y)}},S.nodebuffer={string:v,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return S.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:h},i.transformTo=function(y,C){if(C=C||"",!y)return C;i.checkSupport(y);var x=i.getTypeOf(C);return S[x][y](C)},i.resolve=function(y){for(var C=y.split("/"),x=[],w=0;w<C.length;w++){var b=C[w];b==="."||b===""&&w!==0&&w!==C.length-1||(b===".."?x.pop():x.push(b))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var C,x,w="";for(x=0;x<(y||"").length;x++)w+="\\x"+((C=y.charCodeAt(x))<16?"0":"")+C.toString(16).toUpperCase();return w},i.delay=function(y,C,x){setImmediate(function(){y.apply(x||null,C||[])})},i.inherits=function(y,C){function x(){}x.prototype=C.prototype,y.prototype=new x},i.extend=function(){var y,C,x={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&x[C]===void 0&&(x[C]=arguments[y][C]);return x},i.prepareContent=function(y,C,x,w,b){return d.Promise.resolve(C).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new d.Promise(function(P,A){var F=new FileReader;F.onload=function(E){P(E.target.result)},F.onerror=function(E){A(E.target.error)},F.readAsArrayBuffer(T)}):T}).then(function(T){var P=i.getTypeOf(T);return P?(P==="arraybuffer"?T=i.transformTo("uint8array",T):P==="string"&&(b?T=s.decode(T):x&&w!==!0&&(T=function(A){return f(A,o.uint8array?new Uint8Array(A.length):new Array(A.length))}(T))),T):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),d=t("./zipEntry"),h=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(m)+")")}},isSignature:function(m,v){var g=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===v;return this.reader.setIndex(g),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=h.uint8array?"uint8array":"array",g=s.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,g,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),v=this.reader.readInt(4),g=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var S=v-g;if(0<S)this.isSignature(v,l.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),d=t("./crc32"),h=t("./utf8"),f=t("./compressions"),m=t("./support");function v(g,S){this.options=g,this.loadOptions=S}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var S,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(C){for(var x in f)if(Object.prototype.hasOwnProperty.call(f,x)&&f[x].magic===C)return f[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,S,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var S=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(S),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var S,y,C,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)S=g.readInt(2),y=g.readInt(2),C=g.readData(y),this.extraFields[S]={id:S,length:y,value:C};g.setIndex(x)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var y=s.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var x=s.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var S=o(g.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:h.utf8decode(S.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var S=o(g.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:h.utf8decode(S.readData(g.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(S,y,C){this.name=S,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),d=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");o.prototype={internalStream:function(S){var y=null,C="string";try{if(!S)throw new Error("No output type specified.");var x=(C=S.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var w=!this._dataBinary;w&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!w&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(b){(y=new f("error")).error(b)}return new s(y,C,"")},async:function(S,y){return this.internalStream(S).accumulate(y)},nodeStream:function(S,y){return this.internalStream(S||"nodebuffer").toNodejsStream(y)},_compressWorker:function(S,y){if(this._data instanceof h&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(C,S,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)o.prototype[m[g]]=v;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var s,l,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var h=0,f=new d(S),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),s=function(){m.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)s="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){S(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(S,0)};else{var v=new o.MessageChannel;v.port1.onmessage=S,s=function(){v.port2.postMessage(0)}}var g=[];function S(){var y,C;l=!0;for(var x=g.length;x;){for(C=g,g=[],y=-1;++y<x;)C[y]();x=g.length}l=!1}r.exports=function(y){g.push(y)!==1||l||s()}}).call(this,typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function s(){}var l={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function v(x,w,b){this.promise=x,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function g(x,w,b){o(function(){var T;try{T=w(b)}catch(P){return l.reject(x,P)}T===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,T)})}function S(x){var w=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof w=="function")return function(){w.apply(x,arguments)}}function y(x,w){var b=!1;function T(F){b||(b=!0,l.reject(x,F))}function P(F){b||(b=!0,l.resolve(x,F))}var A=C(function(){w(P,T)});A.status==="error"&&T(A.value)}function C(x,w){var b={};try{b.value=x(w),b.status="success"}catch(T){b.status="error",b.value=T}return b}(r.exports=m).prototype.finally=function(x){if(typeof x!="function")return this;var w=this.constructor;return this.then(function(b){return w.resolve(x()).then(function(){return b})},function(b){return w.resolve(x()).then(function(){throw b})})},m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,w){if(typeof x!="function"&&this.state===h||typeof w!="function"&&this.state===d)return this;var b=new this.constructor(s);return this.state!==f?g(b,this.state===h?x:w,this.outcome):this.queue.push(new v(b,x,w)),b},v.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},v.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},v.prototype.callRejected=function(x){l.reject(this.promise,x)},v.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},l.resolve=function(x,w){var b=C(S,w);if(b.status==="error")return l.reject(x,b.value);var T=b.value;if(T)y(x,T);else{x.state=h,x.outcome=w;for(var P=-1,A=x.queue.length;++P<A;)x.queue[P].callFulfilled(w)}return x},l.reject=function(x,w){x.state=d,x.outcome=w;for(var b=-1,T=x.queue.length;++b<T;)x.queue[b].callRejected(w);return x},m.resolve=function(x){return x instanceof this?x:l.resolve(new this(s),x)},m.reject=function(x){var w=new this(s);return l.reject(w,x)},m.all=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=x.length,T=!1;if(!b)return this.resolve([]);for(var P=new Array(b),A=0,F=-1,E=new this(s);++F<b;)k(x[F],F);return E;function k(R,U){w.resolve(R).then(function(N){P[U]=N,++A!==b||T||(T=!0,l.resolve(E,P))},function(N){T||(T=!0,l.reject(E,N))})}},m.race=function(x){var w=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=x.length,T=!1;if(!b)return this.resolve([]);for(var P=-1,A=new this(s);++P<b;)F=x[P],w.resolve(F).then(function(E){T||(T=!0,l.resolve(A,E))},function(E){T||(T=!0,l.reject(A,E))});var F;return A}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),d=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,m=0,v=-1,g=0,S=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:v,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=o.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(b!==m)throw new Error(d[b]);if(w.header&&o.deflateSetHeader(this.strm,w.header),w.dictionary){var T;if(T=typeof w.dictionary=="string"?l.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(b=o.deflateSetDictionary(this.strm,T))!==m)throw new Error(d[b]);this._dict_set=!0}}function C(x,w){var b=new y(w);if(b.push(x,!0),b.err)throw b.msg||d[b.err];return b.result}y.prototype.push=function(x,w){var b,T,P=this.strm,A=this.options.chunkSize;if(this.ended)return!1;T=w===~~w?w:w===!0?4:0,typeof x=="string"?P.input=l.string2buf(x):f.call(x)==="[object ArrayBuffer]"?P.input=new Uint8Array(x):P.input=x,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new s.Buf8(A),P.next_out=0,P.avail_out=A),(b=o.deflate(P,T))!==1&&b!==m)return this.onEnd(b),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(P.output,P.next_out))):this.onData(s.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&b!==1);return T===4?(b=o.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===m):T!==2||(this.onEnd(m),!(P.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=C,i.deflateRaw=function(x,w){return(w=w||{}).raw=!0,C(x,w)},i.gzip=function(x,w){return(w=w||{}).gzip=!0,C(x,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),d=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),v=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,C.windowBits);if(x!==d.Z_OK)throw new Error(h[x]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function S(y,C){var x=new g(C);if(x.push(y,!0),x.err)throw x.msg||h[x.err];return x.result}g.prototype.push=function(y,C){var x,w,b,T,P,A,F=this.strm,E=this.options.chunkSize,k=this.options.dictionary,R=!1;if(this.ended)return!1;w=C===~~C?C:C===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?F.input=l.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?F.input=new Uint8Array(y):F.input=y,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new s.Buf8(E),F.next_out=0,F.avail_out=E),(x=o.inflate(F,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&k&&(A=typeof k=="string"?l.string2buf(k):v.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,x=o.inflateSetDictionary(this.strm,A)),x===d.Z_BUF_ERROR&&R===!0&&(x=d.Z_OK,R=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&x!==d.Z_STREAM_END&&(F.avail_in!==0||w!==d.Z_FINISH&&w!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=l.utf8border(F.output,F.next_out),T=F.next_out-b,P=l.buf2string(F.output,b),F.next_out=T,F.avail_out=E-T,T&&s.arraySet(F.output,F.output,b,T,0),this.onData(P)):this.onData(s.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(R=!0)}while((0<F.avail_in||F.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(w=d.Z_FINISH),w===d.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):w!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(F.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=g,i.inflate=S,i.inflateRaw=function(y,C){return(C=C||{}).raw=!0,S(y,C)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var s={arraySet:function(d,h,f,m,v){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),v);else for(var g=0;g<m;g++)d[v+g]=h[f+g]},flattenChunks:function(d){var h,f,m,v,g,S;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(S=new Uint8Array(m),h=v=0,f=d.length;h<f;h++)g=d[h],S.set(g,v),v+=g.length;return S}},l={arraySet:function(d,h,f,m,v){for(var g=0;g<m;g++)d[v+g]=h[f+g]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var d=new o.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,v){if(v<65537&&(m.subarray&&l||!m.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(m,v));for(var g="",S=0;S<v;S++)g+=String.fromCharCode(m[S]);return g}d[254]=d[254]=1,i.string2buf=function(m){var v,g,S,y,C,x=m.length,w=0;for(y=0;y<x;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(S=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(S-56320),y++),w+=g<128?1:g<2048?2:g<65536?3:4;for(v=new o.Buf8(w),y=C=0;C<w;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(S=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(S-56320),y++),g<128?v[C++]=g:(g<2048?v[C++]=192|g>>>6:(g<65536?v[C++]=224|g>>>12:(v[C++]=240|g>>>18,v[C++]=128|g>>>12&63),v[C++]=128|g>>>6&63),v[C++]=128|63&g);return v},i.buf2binstring=function(m){return f(m,m.length)},i.binstring2buf=function(m){for(var v=new o.Buf8(m.length),g=0,S=v.length;g<S;g++)v[g]=m.charCodeAt(g);return v},i.buf2string=function(m,v){var g,S,y,C,x=v||m.length,w=new Array(2*x);for(g=S=0;g<x;)if((y=m[g++])<128)w[S++]=y;else if(4<(C=d[y]))w[S++]=65533,g+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&g<x;)y=y<<6|63&m[g++],C--;1<C?w[S++]=65533:y<65536?w[S++]=y:(y-=65536,w[S++]=55296|y>>10&1023,w[S++]=56320|1023&y)}return f(w,S)},i.utf8border=function(m,v){var g;for((v=v||m.length)>m.length&&(v=m.length),g=v-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?v:g+d[m[g]]>v?g:v}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,s,l,d){for(var h=65535&o|0,f=o>>>16&65535|0,m=0;l!==0;){for(l-=m=2e3<l?2e3:l;f=f+(h=h+s[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var s,l=[],d=0;d<256;d++){s=d;for(var h=0;h<8;h++)s=1&s?3988292384^s>>>1:s>>>1;l[d]=s}return l}();r.exports=function(s,l,d,h){var f=o,m=h+d;s^=-1;for(var v=h;v<m;v++)s=s>>>8^f[255&(s^l[v])];return-1^s}},{}],46:[function(t,r,i){var o,s=t("../utils/common"),l=t("./trees"),d=t("./adler32"),h=t("./crc32"),f=t("./messages"),m=0,v=4,g=0,S=-2,y=-1,C=4,x=2,w=8,b=9,T=286,P=30,A=19,F=2*T+1,E=15,k=3,R=258,U=R+k+1,N=42,L=113,I=1,_=2,B=3,W=4;function H(q,ge){return q.msg=f[ge],ge}function j(q){return(q<<1)-(4<q?9:0)}function X(q){for(var ge=q.length;0<=--ge;)q[ge]=0}function V(q){var ge=q.state,Se=ge.pending;Se>q.avail_out&&(Se=q.avail_out),Se!==0&&(s.arraySet(q.output,ge.pending_buf,ge.pending_out,Se,q.next_out),q.next_out+=Se,ge.pending_out+=Se,q.total_out+=Se,q.avail_out-=Se,ge.pending-=Se,ge.pending===0&&(ge.pending_out=0))}function $(q,ge){l._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,ge),q.block_start=q.strstart,V(q.strm)}function ne(q,ge){q.pending_buf[q.pending++]=ge}function ie(q,ge){q.pending_buf[q.pending++]=ge>>>8&255,q.pending_buf[q.pending++]=255&ge}function te(q,ge){var Se,Z,K=q.max_chain_length,ce=q.strstart,Ce=q.prev_length,xe=q.nice_match,se=q.strstart>q.w_size-U?q.strstart-(q.w_size-U):0,Ae=q.window,ke=q.w_mask,he=q.prev,be=q.strstart+R,Ne=Ae[ce+Ce-1],Ee=Ae[ce+Ce];q.prev_length>=q.good_match&&(K>>=2),xe>q.lookahead&&(xe=q.lookahead);do if(Ae[(Se=ge)+Ce]===Ee&&Ae[Se+Ce-1]===Ne&&Ae[Se]===Ae[ce]&&Ae[++Se]===Ae[ce+1]){ce+=2,Se++;do;while(Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&Ae[++ce]===Ae[++Se]&&ce<be);if(Z=R-(be-ce),ce=be-R,Ce<Z){if(q.match_start=ge,xe<=(Ce=Z))break;Ne=Ae[ce+Ce-1],Ee=Ae[ce+Ce]}}while((ge=he[ge&ke])>se&&--K!=0);return Ce<=q.lookahead?Ce:q.lookahead}function pe(q){var ge,Se,Z,K,ce,Ce,xe,se,Ae,ke,he=q.w_size;do{if(K=q.window_size-q.lookahead-q.strstart,q.strstart>=he+(he-U)){for(s.arraySet(q.window,q.window,he,he,0),q.match_start-=he,q.strstart-=he,q.block_start-=he,ge=Se=q.hash_size;Z=q.head[--ge],q.head[ge]=he<=Z?Z-he:0,--Se;);for(ge=Se=he;Z=q.prev[--ge],q.prev[ge]=he<=Z?Z-he:0,--Se;);K+=he}if(q.strm.avail_in===0)break;if(Ce=q.strm,xe=q.window,se=q.strstart+q.lookahead,Ae=K,ke=void 0,ke=Ce.avail_in,Ae<ke&&(ke=Ae),Se=ke===0?0:(Ce.avail_in-=ke,s.arraySet(xe,Ce.input,Ce.next_in,ke,se),Ce.state.wrap===1?Ce.adler=d(Ce.adler,xe,ke,se):Ce.state.wrap===2&&(Ce.adler=h(Ce.adler,xe,ke,se)),Ce.next_in+=ke,Ce.total_in+=ke,ke),q.lookahead+=Se,q.lookahead+q.insert>=k)for(ce=q.strstart-q.insert,q.ins_h=q.window[ce],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ce+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ce+k-1])&q.hash_mask,q.prev[ce&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ce,ce++,q.insert--,!(q.lookahead+q.insert<k)););}while(q.lookahead<U&&q.strm.avail_in!==0)}function ee(q,ge){for(var Se,Z;;){if(q.lookahead<U){if(pe(q),q.lookahead<U&&ge===m)return I;if(q.lookahead===0)break}if(Se=0,q.lookahead>=k&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+k-1])&q.hash_mask,Se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),Se!==0&&q.strstart-Se<=q.w_size-U&&(q.match_length=te(q,Se)),q.match_length>=k)if(Z=l._tr_tally(q,q.strstart-q.match_start,q.match_length-k),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=k){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+k-1])&q.hash_mask,Se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else Z=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(Z&&($(q,!1),q.strm.avail_out===0))return I}return q.insert=q.strstart<k-1?q.strstart:k-1,ge===v?($(q,!0),q.strm.avail_out===0?B:W):q.last_lit&&($(q,!1),q.strm.avail_out===0)?I:_}function oe(q,ge){for(var Se,Z,K;;){if(q.lookahead<U){if(pe(q),q.lookahead<U&&ge===m)return I;if(q.lookahead===0)break}if(Se=0,q.lookahead>=k&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+k-1])&q.hash_mask,Se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=k-1,Se!==0&&q.prev_length<q.max_lazy_match&&q.strstart-Se<=q.w_size-U&&(q.match_length=te(q,Se),q.match_length<=5&&(q.strategy===1||q.match_length===k&&4096<q.strstart-q.match_start)&&(q.match_length=k-1)),q.prev_length>=k&&q.match_length<=q.prev_length){for(K=q.strstart+q.lookahead-k,Z=l._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-k),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=K&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+k-1])&q.hash_mask,Se=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=k-1,q.strstart++,Z&&($(q,!1),q.strm.avail_out===0))return I}else if(q.match_available){if((Z=l._tr_tally(q,0,q.window[q.strstart-1]))&&$(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return I}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(Z=l._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<k-1?q.strstart:k-1,ge===v?($(q,!0),q.strm.avail_out===0?B:W):q.last_lit&&($(q,!1),q.strm.avail_out===0)?I:_}function de(q,ge,Se,Z,K){this.good_length=q,this.max_lazy=ge,this.nice_length=Se,this.max_chain=Z,this.func=K}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*F),this.dyn_dtree=new s.Buf16(2*(2*P+1)),this.bl_tree=new s.Buf16(2*(2*A+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*T+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function we(q){var ge;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=x,(ge=q.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?N:L,q.adler=ge.wrap===2?0:1,ge.last_flush=m,l._tr_init(ge),g):H(q,S)}function Te(q){var ge=we(q);return ge===g&&function(Se){Se.window_size=2*Se.w_size,X(Se.head),Se.max_lazy_match=o[Se.level].max_lazy,Se.good_match=o[Se.level].good_length,Se.nice_match=o[Se.level].nice_length,Se.max_chain_length=o[Se.level].max_chain,Se.strstart=0,Se.block_start=0,Se.lookahead=0,Se.insert=0,Se.match_length=Se.prev_length=k-1,Se.match_available=0,Se.ins_h=0}(q.state),ge}function qe(q,ge,Se,Z,K,ce){if(!q)return S;var Ce=1;if(ge===y&&(ge=6),Z<0?(Ce=0,Z=-Z):15<Z&&(Ce=2,Z-=16),K<1||b<K||Se!==w||Z<8||15<Z||ge<0||9<ge||ce<0||C<ce)return H(q,S);Z===8&&(Z=9);var xe=new me;return(q.state=xe).strm=q,xe.wrap=Ce,xe.gzhead=null,xe.w_bits=Z,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=K+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+k-1)/k),xe.window=new s.Buf8(2*xe.w_size),xe.head=new s.Buf16(xe.hash_size),xe.prev=new s.Buf16(xe.w_size),xe.lit_bufsize=1<<K+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new s.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=ge,xe.strategy=ce,xe.method=Se,Te(q)}o=[new de(0,0,0,0,function(q,ge){var Se=65535;for(Se>q.pending_buf_size-5&&(Se=q.pending_buf_size-5);;){if(q.lookahead<=1){if(pe(q),q.lookahead===0&&ge===m)return I;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var Z=q.block_start+Se;if((q.strstart===0||q.strstart>=Z)&&(q.lookahead=q.strstart-Z,q.strstart=Z,$(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-U&&($(q,!1),q.strm.avail_out===0))return I}return q.insert=0,ge===v?($(q,!0),q.strm.avail_out===0?B:W):(q.strstart>q.block_start&&($(q,!1),q.strm.avail_out),I)}),new de(4,4,8,4,ee),new de(4,5,16,8,ee),new de(4,6,32,32,ee),new de(4,4,16,16,oe),new de(8,16,32,32,oe),new de(8,16,128,128,oe),new de(8,32,128,256,oe),new de(32,128,258,1024,oe),new de(32,258,258,4096,oe)],i.deflateInit=function(q,ge){return qe(q,ge,w,15,8,0)},i.deflateInit2=qe,i.deflateReset=Te,i.deflateResetKeep=we,i.deflateSetHeader=function(q,ge){return q&&q.state?q.state.wrap!==2?S:(q.state.gzhead=ge,g):S},i.deflate=function(q,ge){var Se,Z,K,ce;if(!q||!q.state||5<ge||ge<0)return q?H(q,S):S;if(Z=q.state,!q.output||!q.input&&q.avail_in!==0||Z.status===666&&ge!==v)return H(q,q.avail_out===0?-5:S);if(Z.strm=q,Se=Z.last_flush,Z.last_flush=ge,Z.status===N)if(Z.wrap===2)q.adler=0,ne(Z,31),ne(Z,139),ne(Z,8),Z.gzhead?(ne(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),ne(Z,255&Z.gzhead.time),ne(Z,Z.gzhead.time>>8&255),ne(Z,Z.gzhead.time>>16&255),ne(Z,Z.gzhead.time>>24&255),ne(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ne(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(ne(Z,255&Z.gzhead.extra.length),ne(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(q.adler=h(q.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ne(Z,3),Z.status=L);else{var Ce=w+(Z.w_bits-8<<4)<<8;Ce|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,Z.status=L,ie(Z,Ce),Z.strstart!==0&&(ie(Z,q.adler>>>16),ie(Z,65535&q.adler)),q.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(K=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),V(q),K=Z.pending,Z.pending!==Z.pending_buf_size));)ne(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),V(q),K=Z.pending,Z.pending===Z.pending_buf_size)){ce=1;break}ce=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,ne(Z,ce)}while(ce!==0);Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),ce===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),V(q),K=Z.pending,Z.pending===Z.pending_buf_size)){ce=1;break}ce=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,ne(Z,ce)}while(ce!==0);Z.gzhead.hcrc&&Z.pending>K&&(q.adler=h(q.adler,Z.pending_buf,Z.pending-K,K)),ce===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&V(q),Z.pending+2<=Z.pending_buf_size&&(ne(Z,255&q.adler),ne(Z,q.adler>>8&255),q.adler=0,Z.status=L)):Z.status=L),Z.pending!==0){if(V(q),q.avail_out===0)return Z.last_flush=-1,g}else if(q.avail_in===0&&j(ge)<=j(Se)&&ge!==v)return H(q,-5);if(Z.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||Z.lookahead!==0||ge!==m&&Z.status!==666){var xe=Z.strategy===2?function(se,Ae){for(var ke;;){if(se.lookahead===0&&(pe(se),se.lookahead===0)){if(Ae===m)return I;break}if(se.match_length=0,ke=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,ke&&($(se,!1),se.strm.avail_out===0))return I}return se.insert=0,Ae===v?($(se,!0),se.strm.avail_out===0?B:W):se.last_lit&&($(se,!1),se.strm.avail_out===0)?I:_}(Z,ge):Z.strategy===3?function(se,Ae){for(var ke,he,be,Ne,Ee=se.window;;){if(se.lookahead<=R){if(pe(se),se.lookahead<=R&&Ae===m)return I;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=k&&0<se.strstart&&(he=Ee[be=se.strstart-1])===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]){Ne=se.strstart+R;do;while(he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&he===Ee[++be]&&be<Ne);se.match_length=R-(Ne-be),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=k?(ke=l._tr_tally(se,1,se.match_length-k),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(ke=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),ke&&($(se,!1),se.strm.avail_out===0))return I}return se.insert=0,Ae===v?($(se,!0),se.strm.avail_out===0?B:W):se.last_lit&&($(se,!1),se.strm.avail_out===0)?I:_}(Z,ge):o[Z.level].func(Z,ge);if(xe!==B&&xe!==W||(Z.status=666),xe===I||xe===B)return q.avail_out===0&&(Z.last_flush=-1),g;if(xe===_&&(ge===1?l._tr_align(Z):ge!==5&&(l._tr_stored_block(Z,0,0,!1),ge===3&&(X(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),V(q),q.avail_out===0))return Z.last_flush=-1,g}return ge!==v?g:Z.wrap<=0?1:(Z.wrap===2?(ne(Z,255&q.adler),ne(Z,q.adler>>8&255),ne(Z,q.adler>>16&255),ne(Z,q.adler>>24&255),ne(Z,255&q.total_in),ne(Z,q.total_in>>8&255),ne(Z,q.total_in>>16&255),ne(Z,q.total_in>>24&255)):(ie(Z,q.adler>>>16),ie(Z,65535&q.adler)),V(q),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?g:1)},i.deflateEnd=function(q){var ge;return q&&q.state?(ge=q.state.status)!==N&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==L&&ge!==666?H(q,S):(q.state=null,ge===L?H(q,-3):g):S},i.deflateSetDictionary=function(q,ge){var Se,Z,K,ce,Ce,xe,se,Ae,ke=ge.length;if(!q||!q.state||(ce=(Se=q.state).wrap)===2||ce===1&&Se.status!==N||Se.lookahead)return S;for(ce===1&&(q.adler=d(q.adler,ge,ke,0)),Se.wrap=0,ke>=Se.w_size&&(ce===0&&(X(Se.head),Se.strstart=0,Se.block_start=0,Se.insert=0),Ae=new s.Buf8(Se.w_size),s.arraySet(Ae,ge,ke-Se.w_size,Se.w_size,0),ge=Ae,ke=Se.w_size),Ce=q.avail_in,xe=q.next_in,se=q.input,q.avail_in=ke,q.next_in=0,q.input=ge,pe(Se);Se.lookahead>=k;){for(Z=Se.strstart,K=Se.lookahead-(k-1);Se.ins_h=(Se.ins_h<<Se.hash_shift^Se.window[Z+k-1])&Se.hash_mask,Se.prev[Z&Se.w_mask]=Se.head[Se.ins_h],Se.head[Se.ins_h]=Z,Z++,--K;);Se.strstart=Z,Se.lookahead=k-1,pe(Se)}return Se.strstart+=Se.lookahead,Se.block_start=Se.strstart,Se.insert=Se.lookahead,Se.lookahead=0,Se.match_length=Se.prev_length=k-1,Se.match_available=0,q.next_in=xe,q.input=se,q.avail_in=Ce,Se.wrap=ce,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,s){var l,d,h,f,m,v,g,S,y,C,x,w,b,T,P,A,F,E,k,R,U,N,L,I,_;l=o.state,d=o.next_in,I=o.input,h=d+(o.avail_in-5),f=o.next_out,_=o.output,m=f-(s-o.avail_out),v=f+(o.avail_out-257),g=l.dmax,S=l.wsize,y=l.whave,C=l.wnext,x=l.window,w=l.hold,b=l.bits,T=l.lencode,P=l.distcode,A=(1<<l.lenbits)-1,F=(1<<l.distbits)-1;e:do{b<15&&(w+=I[d++]<<b,b+=8,w+=I[d++]<<b,b+=8),E=T[w&A];t:for(;;){if(w>>>=k=E>>>24,b-=k,(k=E>>>16&255)===0)_[f++]=65535&E;else{if(!(16&k)){if((64&k)==0){E=T[(65535&E)+(w&(1<<k)-1)];continue t}if(32&k){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}R=65535&E,(k&=15)&&(b<k&&(w+=I[d++]<<b,b+=8),R+=w&(1<<k)-1,w>>>=k,b-=k),b<15&&(w+=I[d++]<<b,b+=8,w+=I[d++]<<b,b+=8),E=P[w&F];n:for(;;){if(w>>>=k=E>>>24,b-=k,!(16&(k=E>>>16&255))){if((64&k)==0){E=P[(65535&E)+(w&(1<<k)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(U=65535&E,b<(k&=15)&&(w+=I[d++]<<b,(b+=8)<k&&(w+=I[d++]<<b,b+=8)),g<(U+=w&(1<<k)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(w>>>=k,b-=k,(k=f-m)<U){if(y<(k=U-k)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(L=x,(N=0)===C){if(N+=S-k,k<R){for(R-=k;_[f++]=x[N++],--k;);N=f-U,L=_}}else if(C<k){if(N+=S+C-k,(k-=C)<R){for(R-=k;_[f++]=x[N++],--k;);if(N=0,C<R){for(R-=k=C;_[f++]=x[N++],--k;);N=f-U,L=_}}}else if(N+=C-k,k<R){for(R-=k;_[f++]=x[N++],--k;);N=f-U,L=_}for(;2<R;)_[f++]=L[N++],_[f++]=L[N++],_[f++]=L[N++],R-=3;R&&(_[f++]=L[N++],1<R&&(_[f++]=L[N++]))}else{for(N=f-U;_[f++]=_[N++],_[f++]=_[N++],_[f++]=_[N++],2<(R-=3););R&&(_[f++]=_[N++],1<R&&(_[f++]=_[N++]))}break}}break}}while(d<h&&f<v);d-=R=b>>3,w&=(1<<(b-=R<<3))-1,o.next_in=d,o.next_out=f,o.avail_in=d<h?h-d+5:5-(d-h),o.avail_out=f<v?v-f+257:257-(f-v),l.hold=w,l.bits=b}},{}],49:[function(t,r,i){var o=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),d=t("./inffast"),h=t("./inftrees"),f=1,m=2,v=0,g=-2,S=1,y=852,C=592;function x(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(N){var L;return N&&N.state?(L=N.state,N.total_in=N.total_out=L.total=0,N.msg="",L.wrap&&(N.adler=1&L.wrap),L.mode=S,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(y),L.distcode=L.distdyn=new o.Buf32(C),L.sane=1,L.back=-1,v):g}function T(N){var L;return N&&N.state?((L=N.state).wsize=0,L.whave=0,L.wnext=0,b(N)):g}function P(N,L){var I,_;return N&&N.state?(_=N.state,L<0?(I=0,L=-L):(I=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?g:(_.window!==null&&_.wbits!==L&&(_.window=null),_.wrap=I,_.wbits=L,T(N))):g}function A(N,L){var I,_;return N?(_=new w,(N.state=_).window=null,(I=P(N,L))!==v&&(N.state=null),I):g}var F,E,k=!0;function R(N){if(k){var L;for(F=new o.Buf32(512),E=new o.Buf32(32),L=0;L<144;)N.lens[L++]=8;for(;L<256;)N.lens[L++]=9;for(;L<280;)N.lens[L++]=7;for(;L<288;)N.lens[L++]=8;for(h(f,N.lens,0,288,F,0,N.work,{bits:9}),L=0;L<32;)N.lens[L++]=5;h(m,N.lens,0,32,E,0,N.work,{bits:5}),k=!1}N.lencode=F,N.lenbits=9,N.distcode=E,N.distbits=5}function U(N,L,I,_){var B,W=N.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new o.Buf8(W.wsize)),_>=W.wsize?(o.arraySet(W.window,L,I-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(_<(B=W.wsize-W.wnext)&&(B=_),o.arraySet(W.window,L,I-_,B,W.wnext),(_-=B)?(o.arraySet(W.window,L,I-_,_,0),W.wnext=_,W.whave=W.wsize):(W.wnext+=B,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=B))),0}i.inflateReset=T,i.inflateReset2=P,i.inflateResetKeep=b,i.inflateInit=function(N){return A(N,15)},i.inflateInit2=A,i.inflate=function(N,L){var I,_,B,W,H,j,X,V,$,ne,ie,te,pe,ee,oe,de,me,we,Te,qe,q,ge,Se,Z,K=0,ce=new o.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return g;(I=N.state).mode===12&&(I.mode=13),H=N.next_out,B=N.output,X=N.avail_out,W=N.next_in,_=N.input,j=N.avail_in,V=I.hold,$=I.bits,ne=j,ie=X,ge=v;e:for(;;)switch(I.mode){case S:if(I.wrap===0){I.mode=13;break}for(;$<16;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(2&I.wrap&&V===35615){ce[I.check=0]=255&V,ce[1]=V>>>8&255,I.check=l(I.check,ce,2,0),$=V=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&V)<<8)+(V>>8))%31){N.msg="incorrect header check",I.mode=30;break}if((15&V)!=8){N.msg="unknown compression method",I.mode=30;break}if($-=4,q=8+(15&(V>>>=4)),I.wbits===0)I.wbits=q;else if(q>I.wbits){N.msg="invalid window size",I.mode=30;break}I.dmax=1<<q,N.adler=I.check=1,I.mode=512&V?10:12,$=V=0;break;case 2:for(;$<16;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(I.flags=V,(255&I.flags)!=8){N.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){N.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=V>>8&1),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=l(I.check,ce,2,0)),$=V=0,I.mode=3;case 3:for(;$<32;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.head&&(I.head.time=V),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,ce[2]=V>>>16&255,ce[3]=V>>>24&255,I.check=l(I.check,ce,4,0)),$=V=0,I.mode=4;case 4:for(;$<16;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.head&&(I.head.xflags=255&V,I.head.os=V>>8),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=l(I.check,ce,2,0)),$=V=0,I.mode=5;case 5:if(1024&I.flags){for(;$<16;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.length=V,I.head&&(I.head.extra_len=V),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=l(I.check,ce,2,0)),$=V=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(j<(te=I.length)&&(te=j),te&&(I.head&&(q=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),o.arraySet(I.head.extra,_,W,te,q)),512&I.flags&&(I.check=l(I.check,_,te,W)),j-=te,W+=te,I.length-=te),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(j===0)break e;for(te=0;q=_[W+te++],I.head&&q&&I.length<65536&&(I.head.name+=String.fromCharCode(q)),q&&te<j;);if(512&I.flags&&(I.check=l(I.check,_,te,W)),j-=te,W+=te,q)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(j===0)break e;for(te=0;q=_[W+te++],I.head&&q&&I.length<65536&&(I.head.comment+=String.fromCharCode(q)),q&&te<j;);if(512&I.flags&&(I.check=l(I.check,_,te,W)),j-=te,W+=te,q)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;$<16;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(V!==(65535&I.check)){N.msg="header crc mismatch",I.mode=30;break}$=V=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),N.adler=I.check=0,I.mode=12;break;case 10:for(;$<32;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}N.adler=I.check=x(V),$=V=0,I.mode=11;case 11:if(I.havedict===0)return N.next_out=H,N.avail_out=X,N.next_in=W,N.avail_in=j,I.hold=V,I.bits=$,2;N.adler=I.check=1,I.mode=12;case 12:if(L===5||L===6)break e;case 13:if(I.last){V>>>=7&$,$-=7&$,I.mode=27;break}for(;$<3;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}switch(I.last=1&V,$-=1,3&(V>>>=1)){case 0:I.mode=14;break;case 1:if(R(I),I.mode=20,L!==6)break;V>>>=2,$-=2;break e;case 2:I.mode=17;break;case 3:N.msg="invalid block type",I.mode=30}V>>>=2,$-=2;break;case 14:for(V>>>=7&$,$-=7&$;$<32;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if((65535&V)!=(V>>>16^65535)){N.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&V,$=V=0,I.mode=15,L===6)break e;case 15:I.mode=16;case 16:if(te=I.length){if(j<te&&(te=j),X<te&&(te=X),te===0)break e;o.arraySet(B,_,W,te,H),j-=te,W+=te,X-=te,H+=te,I.length-=te;break}I.mode=12;break;case 17:for(;$<14;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(I.nlen=257+(31&V),V>>>=5,$-=5,I.ndist=1+(31&V),V>>>=5,$-=5,I.ncode=4+(15&V),V>>>=4,$-=4,286<I.nlen||30<I.ndist){N.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;$<3;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.lens[Ce[I.have++]]=7&V,V>>>=3,$-=3}for(;I.have<19;)I.lens[Ce[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Se={bits:I.lenbits},ge=h(0,I.lens,0,19,I.lencode,0,I.work,Se),I.lenbits=Se.bits,ge){N.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;de=(K=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(me<16)V>>>=oe,$-=oe,I.lens[I.have++]=me;else{if(me===16){for(Z=oe+2;$<Z;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(V>>>=oe,$-=oe,I.have===0){N.msg="invalid bit length repeat",I.mode=30;break}q=I.lens[I.have-1],te=3+(3&V),V>>>=2,$-=2}else if(me===17){for(Z=oe+3;$<Z;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}$-=oe,q=0,te=3+(7&(V>>>=oe)),V>>>=3,$-=3}else{for(Z=oe+7;$<Z;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}$-=oe,q=0,te=11+(127&(V>>>=oe)),V>>>=7,$-=7}if(I.have+te>I.nlen+I.ndist){N.msg="invalid bit length repeat",I.mode=30;break}for(;te--;)I.lens[I.have++]=q}}if(I.mode===30)break;if(I.lens[256]===0){N.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,Se={bits:I.lenbits},ge=h(f,I.lens,0,I.nlen,I.lencode,0,I.work,Se),I.lenbits=Se.bits,ge){N.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,Se={bits:I.distbits},ge=h(m,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Se),I.distbits=Se.bits,ge){N.msg="invalid distances set",I.mode=30;break}if(I.mode=20,L===6)break e;case 20:I.mode=21;case 21:if(6<=j&&258<=X){N.next_out=H,N.avail_out=X,N.next_in=W,N.avail_in=j,I.hold=V,I.bits=$,d(N,ie),H=N.next_out,B=N.output,X=N.avail_out,W=N.next_in,_=N.input,j=N.avail_in,V=I.hold,$=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;de=(K=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(de&&(240&de)==0){for(we=oe,Te=de,qe=me;de=(K=I.lencode[qe+((V&(1<<we+Te)-1)>>we)])>>>16&255,me=65535&K,!(we+(oe=K>>>24)<=$);){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}V>>>=we,$-=we,I.back+=we}if(V>>>=oe,$-=oe,I.back+=oe,I.length=me,de===0){I.mode=26;break}if(32&de){I.back=-1,I.mode=12;break}if(64&de){N.msg="invalid literal/length code",I.mode=30;break}I.extra=15&de,I.mode=22;case 22:if(I.extra){for(Z=I.extra;$<Z;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.length+=V&(1<<I.extra)-1,V>>>=I.extra,$-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;de=(K=I.distcode[V&(1<<I.distbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if((240&de)==0){for(we=oe,Te=de,qe=me;de=(K=I.distcode[qe+((V&(1<<we+Te)-1)>>we)])>>>16&255,me=65535&K,!(we+(oe=K>>>24)<=$);){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}V>>>=we,$-=we,I.back+=we}if(V>>>=oe,$-=oe,I.back+=oe,64&de){N.msg="invalid distance code",I.mode=30;break}I.offset=me,I.extra=15&de,I.mode=24;case 24:if(I.extra){for(Z=I.extra;$<Z;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}I.offset+=V&(1<<I.extra)-1,V>>>=I.extra,$-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){N.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(X===0)break e;if(te=ie-X,I.offset>te){if((te=I.offset-te)>I.whave&&I.sane){N.msg="invalid distance too far back",I.mode=30;break}pe=te>I.wnext?(te-=I.wnext,I.wsize-te):I.wnext-te,te>I.length&&(te=I.length),ee=I.window}else ee=B,pe=H-I.offset,te=I.length;for(X<te&&(te=X),X-=te,I.length-=te;B[H++]=ee[pe++],--te;);I.length===0&&(I.mode=21);break;case 26:if(X===0)break e;B[H++]=I.length,X--,I.mode=21;break;case 27:if(I.wrap){for(;$<32;){if(j===0)break e;j--,V|=_[W++]<<$,$+=8}if(ie-=X,N.total_out+=ie,I.total+=ie,ie&&(N.adler=I.check=I.flags?l(I.check,B,ie,H-ie):s(I.check,B,ie,H-ie)),ie=X,(I.flags?V:x(V))!==I.check){N.msg="incorrect data check",I.mode=30;break}$=V=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;$<32;){if(j===0)break e;j--,V+=_[W++]<<$,$+=8}if(V!==(4294967295&I.total)){N.msg="incorrect length check",I.mode=30;break}$=V=0}I.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return g}return N.next_out=H,N.avail_out=X,N.next_in=W,N.avail_in=j,I.hold=V,I.bits=$,(I.wsize||ie!==N.avail_out&&I.mode<30&&(I.mode<27||L!==4))&&U(N,N.output,N.next_out,ie-N.avail_out)?(I.mode=31,-4):(ne-=N.avail_in,ie-=N.avail_out,N.total_in+=ne,N.total_out+=ie,I.total+=ie,I.wrap&&ie&&(N.adler=I.check=I.flags?l(I.check,B,ie,N.next_out-ie):s(I.check,B,ie,N.next_out-ie)),N.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(ne==0&&ie===0||L===4)&&ge===v&&(ge=-5),ge)},i.inflateEnd=function(N){if(!N||!N.state)return g;var L=N.state;return L.window&&(L.window=null),N.state=null,v},i.inflateGetHeader=function(N,L){var I;return N&&N.state?(2&(I=N.state).wrap)==0?g:((I.head=L).done=!1,v):g},i.inflateSetDictionary=function(N,L){var I,_=L.length;return N&&N.state?(I=N.state).wrap!==0&&I.mode!==11?g:I.mode===11&&s(1,L,_,0)!==I.check?-3:U(N,L,_,_)?(I.mode=31,-4):(I.havedict=1,v):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,m,v,g,S,y,C,x){var w,b,T,P,A,F,E,k,R,U=x.bits,N=0,L=0,I=0,_=0,B=0,W=0,H=0,j=0,X=0,V=0,$=null,ne=0,ie=new o.Buf16(16),te=new o.Buf16(16),pe=null,ee=0;for(N=0;N<=15;N++)ie[N]=0;for(L=0;L<g;L++)ie[m[v+L]]++;for(B=U,_=15;1<=_&&ie[_]===0;_--);if(_<B&&(B=_),_===0)return S[y++]=20971520,S[y++]=20971520,x.bits=1,0;for(I=1;I<_&&ie[I]===0;I++);for(B<I&&(B=I),N=j=1;N<=15;N++)if(j<<=1,(j-=ie[N])<0)return-1;if(0<j&&(f===0||_!==1))return-1;for(te[1]=0,N=1;N<15;N++)te[N+1]=te[N]+ie[N];for(L=0;L<g;L++)m[v+L]!==0&&(C[te[m[v+L]]++]=L);if(F=f===0?($=pe=C,19):f===1?($=s,ne-=257,pe=l,ee-=257,256):($=d,pe=h,-1),N=I,A=y,H=L=V=0,T=-1,P=(X=1<<(W=B))-1,f===1&&852<X||f===2&&592<X)return 1;for(;;){for(E=N-H,R=C[L]<F?(k=0,C[L]):C[L]>F?(k=pe[ee+C[L]],$[ne+C[L]]):(k=96,0),w=1<<N-H,I=b=1<<W;S[A+(V>>H)+(b-=w)]=E<<24|k<<16|R|0,b!==0;);for(w=1<<N-1;V&w;)w>>=1;if(w!==0?(V&=w-1,V+=w):V=0,L++,--ie[N]==0){if(N===_)break;N=m[v+C[L]]}if(B<N&&(V&P)!==T){for(H===0&&(H=B),A+=I,j=1<<(W=N-H);W+H<_&&!((j-=ie[W+H])<=0);)W++,j<<=1;if(X+=1<<W,f===1&&852<X||f===2&&592<X)return 1;S[T=V&P]=B<<24|W<<16|A-y|0}}return V!==0&&(S[A+V]=N-H<<24|64<<16|0),x.bits=B,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),s=0,l=1;function d(K){for(var ce=K.length;0<=--ce;)K[ce]=0}var h=0,f=29,m=256,v=m+1+f,g=30,S=19,y=2*v+1,C=15,x=16,w=7,b=256,T=16,P=17,A=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(v+2));d(U);var N=new Array(2*g);d(N);var L=new Array(512);d(L);var I=new Array(256);d(I);var _=new Array(f);d(_);var B,W,H,j=new Array(g);function X(K,ce,Ce,xe,se){this.static_tree=K,this.extra_bits=ce,this.extra_base=Ce,this.elems=xe,this.max_length=se,this.has_stree=K&&K.length}function V(K,ce){this.dyn_tree=K,this.max_code=0,this.stat_desc=ce}function $(K){return K<256?L[K]:L[256+(K>>>7)]}function ne(K,ce){K.pending_buf[K.pending++]=255&ce,K.pending_buf[K.pending++]=ce>>>8&255}function ie(K,ce,Ce){K.bi_valid>x-Ce?(K.bi_buf|=ce<<K.bi_valid&65535,ne(K,K.bi_buf),K.bi_buf=ce>>x-K.bi_valid,K.bi_valid+=Ce-x):(K.bi_buf|=ce<<K.bi_valid&65535,K.bi_valid+=Ce)}function te(K,ce,Ce){ie(K,Ce[2*ce],Ce[2*ce+1])}function pe(K,ce){for(var Ce=0;Ce|=1&K,K>>>=1,Ce<<=1,0<--ce;);return Ce>>>1}function ee(K,ce,Ce){var xe,se,Ae=new Array(C+1),ke=0;for(xe=1;xe<=C;xe++)Ae[xe]=ke=ke+Ce[xe-1]<<1;for(se=0;se<=ce;se++){var he=K[2*se+1];he!==0&&(K[2*se]=pe(Ae[he]++,he))}}function oe(K){var ce;for(ce=0;ce<v;ce++)K.dyn_ltree[2*ce]=0;for(ce=0;ce<g;ce++)K.dyn_dtree[2*ce]=0;for(ce=0;ce<S;ce++)K.bl_tree[2*ce]=0;K.dyn_ltree[2*b]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function de(K){8<K.bi_valid?ne(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function me(K,ce,Ce,xe){var se=2*ce,Ae=2*Ce;return K[se]<K[Ae]||K[se]===K[Ae]&&xe[ce]<=xe[Ce]}function we(K,ce,Ce){for(var xe=K.heap[Ce],se=Ce<<1;se<=K.heap_len&&(se<K.heap_len&&me(ce,K.heap[se+1],K.heap[se],K.depth)&&se++,!me(ce,xe,K.heap[se],K.depth));)K.heap[Ce]=K.heap[se],Ce=se,se<<=1;K.heap[Ce]=xe}function Te(K,ce,Ce){var xe,se,Ae,ke,he=0;if(K.last_lit!==0)for(;xe=K.pending_buf[K.d_buf+2*he]<<8|K.pending_buf[K.d_buf+2*he+1],se=K.pending_buf[K.l_buf+he],he++,xe===0?te(K,se,ce):(te(K,(Ae=I[se])+m+1,ce),(ke=F[Ae])!==0&&ie(K,se-=_[Ae],ke),te(K,Ae=$(--xe),Ce),(ke=E[Ae])!==0&&ie(K,xe-=j[Ae],ke)),he<K.last_lit;);te(K,b,ce)}function qe(K,ce){var Ce,xe,se,Ae=ce.dyn_tree,ke=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,be=ce.stat_desc.elems,Ne=-1;for(K.heap_len=0,K.heap_max=y,Ce=0;Ce<be;Ce++)Ae[2*Ce]!==0?(K.heap[++K.heap_len]=Ne=Ce,K.depth[Ce]=0):Ae[2*Ce+1]=0;for(;K.heap_len<2;)Ae[2*(se=K.heap[++K.heap_len]=Ne<2?++Ne:0)]=1,K.depth[se]=0,K.opt_len--,he&&(K.static_len-=ke[2*se+1]);for(ce.max_code=Ne,Ce=K.heap_len>>1;1<=Ce;Ce--)we(K,Ae,Ce);for(se=be;Ce=K.heap[1],K.heap[1]=K.heap[K.heap_len--],we(K,Ae,1),xe=K.heap[1],K.heap[--K.heap_max]=Ce,K.heap[--K.heap_max]=xe,Ae[2*se]=Ae[2*Ce]+Ae[2*xe],K.depth[se]=(K.depth[Ce]>=K.depth[xe]?K.depth[Ce]:K.depth[xe])+1,Ae[2*Ce+1]=Ae[2*xe+1]=se,K.heap[1]=se++,we(K,Ae,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(Ee,We){var Be,Qe,nt,je,It,Ye,ut=We.dyn_tree,Gt=We.max_code,zr=We.stat_desc.static_tree,Qi=We.stat_desc.has_stree,Ba=We.stat_desc.extra_bits,Ao=We.stat_desc.extra_base,Lt=We.stat_desc.max_length,Jt=0;for(je=0;je<=C;je++)Ee.bl_count[je]=0;for(ut[2*Ee.heap[Ee.heap_max]+1]=0,Be=Ee.heap_max+1;Be<y;Be++)Lt<(je=ut[2*ut[2*(Qe=Ee.heap[Be])+1]+1]+1)&&(je=Lt,Jt++),ut[2*Qe+1]=je,Gt<Qe||(Ee.bl_count[je]++,It=0,Ao<=Qe&&(It=Ba[Qe-Ao]),Ye=ut[2*Qe],Ee.opt_len+=Ye*(je+It),Qi&&(Ee.static_len+=Ye*(zr[2*Qe+1]+It)));if(Jt!==0){do{for(je=Lt-1;Ee.bl_count[je]===0;)je--;Ee.bl_count[je]--,Ee.bl_count[je+1]+=2,Ee.bl_count[Lt]--,Jt-=2}while(0<Jt);for(je=Lt;je!==0;je--)for(Qe=Ee.bl_count[je];Qe!==0;)Gt<(nt=Ee.heap[--Be])||(ut[2*nt+1]!==je&&(Ee.opt_len+=(je-ut[2*nt+1])*ut[2*nt],ut[2*nt+1]=je),Qe--)}}(K,ce),ee(Ae,Ne,K.bl_count)}function q(K,ce,Ce){var xe,se,Ae=-1,ke=ce[1],he=0,be=7,Ne=4;for(ke===0&&(be=138,Ne=3),ce[2*(Ce+1)+1]=65535,xe=0;xe<=Ce;xe++)se=ke,ke=ce[2*(xe+1)+1],++he<be&&se===ke||(he<Ne?K.bl_tree[2*se]+=he:se!==0?(se!==Ae&&K.bl_tree[2*se]++,K.bl_tree[2*T]++):he<=10?K.bl_tree[2*P]++:K.bl_tree[2*A]++,Ae=se,Ne=(he=0)===ke?(be=138,3):se===ke?(be=6,3):(be=7,4))}function ge(K,ce,Ce){var xe,se,Ae=-1,ke=ce[1],he=0,be=7,Ne=4;for(ke===0&&(be=138,Ne=3),xe=0;xe<=Ce;xe++)if(se=ke,ke=ce[2*(xe+1)+1],!(++he<be&&se===ke)){if(he<Ne)for(;te(K,se,K.bl_tree),--he!=0;);else se!==0?(se!==Ae&&(te(K,se,K.bl_tree),he--),te(K,T,K.bl_tree),ie(K,he-3,2)):he<=10?(te(K,P,K.bl_tree),ie(K,he-3,3)):(te(K,A,K.bl_tree),ie(K,he-11,7));Ae=se,Ne=(he=0)===ke?(be=138,3):se===ke?(be=6,3):(be=7,4)}}d(j);var Se=!1;function Z(K,ce,Ce,xe){ie(K,(h<<1)+(xe?1:0),3),function(se,Ae,ke,he){de(se),ne(se,ke),ne(se,~ke),o.arraySet(se.pending_buf,se.window,Ae,ke,se.pending),se.pending+=ke}(K,ce,Ce)}i._tr_init=function(K){Se||(function(){var ce,Ce,xe,se,Ae,ke=new Array(C+1);for(se=xe=0;se<f-1;se++)for(_[se]=xe,ce=0;ce<1<<F[se];ce++)I[xe++]=se;for(I[xe-1]=se,se=Ae=0;se<16;se++)for(j[se]=Ae,ce=0;ce<1<<E[se];ce++)L[Ae++]=se;for(Ae>>=7;se<g;se++)for(j[se]=Ae<<7,ce=0;ce<1<<E[se]-7;ce++)L[256+Ae++]=se;for(Ce=0;Ce<=C;Ce++)ke[Ce]=0;for(ce=0;ce<=143;)U[2*ce+1]=8,ce++,ke[8]++;for(;ce<=255;)U[2*ce+1]=9,ce++,ke[9]++;for(;ce<=279;)U[2*ce+1]=7,ce++,ke[7]++;for(;ce<=287;)U[2*ce+1]=8,ce++,ke[8]++;for(ee(U,v+1,ke),ce=0;ce<g;ce++)N[2*ce+1]=5,N[2*ce]=pe(ce,5);B=new X(U,F,m+1,v,C),W=new X(N,E,0,g,C),H=new X(new Array(0),k,0,S,w)}(),Se=!0),K.l_desc=new V(K.dyn_ltree,B),K.d_desc=new V(K.dyn_dtree,W),K.bl_desc=new V(K.bl_tree,H),K.bi_buf=0,K.bi_valid=0,oe(K)},i._tr_stored_block=Z,i._tr_flush_block=function(K,ce,Ce,xe){var se,Ae,ke=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(he){var be,Ne=4093624447;for(be=0;be<=31;be++,Ne>>>=1)if(1&Ne&&he.dyn_ltree[2*be]!==0)return s;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return l;for(be=32;be<m;be++)if(he.dyn_ltree[2*be]!==0)return l;return s}(K)),qe(K,K.l_desc),qe(K,K.d_desc),ke=function(he){var be;for(q(he,he.dyn_ltree,he.l_desc.max_code),q(he,he.dyn_dtree,he.d_desc.max_code),qe(he,he.bl_desc),be=S-1;3<=be&&he.bl_tree[2*R[be]+1]===0;be--);return he.opt_len+=3*(be+1)+5+5+4,be}(K),se=K.opt_len+3+7>>>3,(Ae=K.static_len+3+7>>>3)<=se&&(se=Ae)):se=Ae=Ce+5,Ce+4<=se&&ce!==-1?Z(K,ce,Ce,xe):K.strategy===4||Ae===se?(ie(K,2+(xe?1:0),3),Te(K,U,N)):(ie(K,4+(xe?1:0),3),function(he,be,Ne,Ee){var We;for(ie(he,be-257,5),ie(he,Ne-1,5),ie(he,Ee-4,4),We=0;We<Ee;We++)ie(he,he.bl_tree[2*R[We]+1],3);ge(he,he.dyn_ltree,be-1),ge(he,he.dyn_dtree,Ne-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,ke+1),Te(K,K.dyn_ltree,K.dyn_dtree)),oe(K),xe&&de(K)},i._tr_tally=function(K,ce,Ce){return K.pending_buf[K.d_buf+2*K.last_lit]=ce>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ce,K.pending_buf[K.l_buf+K.last_lit]=255&Ce,K.last_lit++,ce===0?K.dyn_ltree[2*Ce]++:(K.matches++,ce--,K.dyn_ltree[2*(I[Ce]+m+1)]++,K.dyn_dtree[2*$(ce)]++),K.last_lit===K.lit_bufsize-1},i._tr_align=function(K){ie(K,2,3),te(K,b,U),function(ce){ce.bi_valid===16?(ne(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(s,l){if(!s.setImmediate){var d,h,f,m,v=1,g={},S=!1,y=s.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(s);C=C&&C.setTimeout?C:s,d={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){w(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,P=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=P,T}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",b,!1):s.attachEvent("onmessage",b),function(T){s.postMessage(m+T,"*")}):s.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){w(T.data)},function(T){f.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(T){var P=y.createElement("script");P.onreadystatechange=function(){w(T),P.onreadystatechange=null,h.removeChild(P),P=null},h.appendChild(P)}):function(T){setTimeout(w,0,T)},C.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var P=new Array(arguments.length-1),A=0;A<P.length;A++)P[A]=arguments[A+1];var F={callback:T,args:P};return g[v]=F,d(v),v++},C.clearImmediate=x}function x(T){delete g[T]}function w(T){if(S)setTimeout(w,0,T);else{var P=g[T];if(P){S=!0;try{(function(A){var F=A.callback,E=A.args;switch(E.length){case 0:F();break;case 1:F(E[0]);break;case 2:F(E[0],E[1]);break;case 3:F(E[0],E[1],E[2]);break;default:F.apply(l,E)}})(P)}finally{x(T),S=!1}}}}function b(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(m)===0&&w(+T.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(LC)),LC.exports}var Zz=Kz();const Jz=gd(Zz);var Cr={m:{},d:function(n,e){for(var t in e)Cr.o(e,t)&&!Cr.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Cr.p=n})(),Cr.b=document.baseURI||self.location.href;var os,Pp,L4;const gp=class gp{constructor(e){G(this,Pp);G(this,os);if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create index with non number values.");z(this,os,e)}get(e){return u(this,os)[e]}length(){return u(this,os).length}toString(){return"("+u(this,os).toString()+")"}getValues(){return u(this,os).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,r=this.length();t<r;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)this.get(r)!==e.get(r)&&t.push(r);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)t.push(this.get(r)+e.get(r));return new gp(t)}next(e){return Q(this,Pp,L4).call(this,e,1)}previous(e){return Q(this,Pp,L4).call(this,e,-1)}getWithNew2D(e,t){const r=[e,t];for(let i=2,o=this.length();i<o;++i)r.push(this.get(i));return new gp(r)}};os=new WeakMap,Pp=new WeakSet,L4=function(e,t){const r=u(this,os).slice();return e<r.length?r[e]+=t:console.warn("Cannot add to given dimension: ",e,r.length),new gp(r)};let kt=gp;var s0,l0,lc,u0;class eW{constructor(e,t){G(this,s0);G(this,l0);G(this,lc);G(this,u0);if(z(this,s0,e),z(this,l0,e.isID()),z(this,lc,Math.pow(2,t)),!u(this,l0)){z(this,u0,new Float32Array(u(this,lc)));for(let r=0;r<u(this,lc);++r)u(this,u0)[r]=u(this,s0).apply(r)}}getRSI(){return u(this,s0)}getLength(){return u(this,lc)}getValue(e){return u(this,l0)?e:u(this,u0)[e]}}s0=new WeakMap,l0=new WeakMap,lc=new WeakMap,u0=new WeakMap;var as,vl,c0,Cl,d0;class tW{constructor(e,t,r){G(this,as);G(this,vl);G(this,c0);G(this,Cl,0);G(this,d0,!0);if(z(this,as,e),t){const i=u(this,as).getLength();z(this,Cl,i/2)}else z(this,Cl,0);z(this,d0,r)}getVoiLut(){return u(this,vl)}getModalityLut(){return u(this,as)}setVoiLut(e){if(z(this,vl,e),u(this,vl).setSignedOffset(u(this,as).getRSI().getSlope()*u(this,Cl)),u(this,d0)){const t=u(this,as).getLength();z(this,c0,new Uint8ClampedArray(t));for(let r=0;r<t;++r)u(this,c0)[r]=u(this,vl).apply(u(this,as).getValue(r))}}getValue(e){return u(this,d0)?u(this,c0)[e+u(this,Cl)]:Math.floor(u(this,vl).apply(e+u(this,Cl)))}}as=new WeakMap,vl=new WeakMap,c0=new WeakMap,Cl=new WeakMap,d0=new WeakMap;function Ja(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function AC(n){return n}function OC(n){return 255-n}class nw{constructor(e,t,r){ae(this,"red");ae(this,"green");ae(this,"blue");this.red=e,this.green=t,this.blue=r}}const HT={plain:{red:Ja(AC),green:Ja(AC),blue:Ja(AC)},invPlain:{red:Ja(OC),green:Ja(OC),blue:Ja(OC)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:Ja(function(n){const e=3*n;return e>255?255:e}),green:Ja(function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t}),blue:Ja(function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},Pe={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},ec={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};var Ip,Rp,uc,h0,Lp,Ap;class $T{constructor(e,t,r){G(this,Ip);G(this,Rp);G(this,uc,0);G(this,h0,255);G(this,Lp);G(this,Ap);r===void 0&&(r=!1);let i=e,o=t;r||(i-=.5,o-=1),z(this,Ip,i-o/2),z(this,Rp,i+o/2),z(this,Lp,(u(this,h0)-u(this,uc))/o),z(this,Ap,(-i/o+.5)*(u(this,h0)-u(this,uc))+u(this,uc))}getY(e){let t;return t=e<=u(this,Ip)?u(this,uc):e>u(this,Rp)?u(this,h0):e*u(this,Lp)+u(this,Ap),t}}Ip=new WeakMap,Rp=new WeakMap,uc=new WeakMap,h0=new WeakMap,Lp=new WeakMap,Ap=new WeakMap;var Op,G2,Ep,kp;class nW{constructor(e,t){G(this,Op,0);G(this,G2,255);G(this,Ep);G(this,kp);z(this,Ep,e),z(this,kp,t)}getY(e){return(u(this,G2)-u(this,Op))/(1+Math.exp(-4*(e-u(this,Ep))/u(this,kp)))+u(this,Op)}}Op=new WeakMap,G2=new WeakMap,Ep=new WeakMap,kp=new WeakMap;var cc,_p,dc,f0,Fp,A4;class rW{constructor(e,t){G(this,Fp);G(this,cc);G(this,_p,0);G(this,dc);G(this,f0,ec.linear);if(z(this,cc,e),t!==void 0){const r=[];for(const i in ec)r.push(ec[i]);r.includes(t)?z(this,f0,t):Pe.debug("Unknown VOI LUT function: "+t)}Q(this,Fp,A4).call(this)}getWindowLevel(){return u(this,cc)}setSignedOffset(e){z(this,_p,e),Q(this,Fp,A4).call(this)}apply(e){return u(this,dc).getY(e)}}cc=new WeakMap,_p=new WeakMap,dc=new WeakMap,f0=new WeakMap,Fp=new WeakSet,A4=function(){const e=u(this,cc).center,t=u(this,cc).width,r=e+u(this,_p);u(this,f0)===ec.linear_exact?z(this,dc,new $T(r,t,!0)):u(this,f0)===ec.sigmoid?z(this,dc,new nW(r,t)):z(this,dc,new $T(r,t))};function YT(n,e,t){if(n===void 0)return;let r=n.center;r=Math.min(r,e.max),r=Math.max(r,e.min);let i=1;t===void 0||t!==ec.linear_exact&&t!==ec.sigmoid||(i=0);let o=n.width;return o=Math.max(o,i),o=Math.min(o,e.max-e.min),new mi(r,o)}class mi{constructor(e,t){ae(this,"center");ae(this,"width");this.center=e,this.width=t}equals(e){return e!=null&&this.center===e.center&&this.width===e.width}}class pr{constructor(e,t,r){ae(this,"r");ae(this,"g");ae(this,"b");this.r=e,this.g=t,this.b=r}}function iW(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function oW(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const HR={x:95.0489,y:100,z:108.884};function aW(n){return function(e){function t(o){let s=null;return s=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,s}const r=HR,i=t(e.y/r.y);return{l:116*i-16,a:500*(t(e.x/r.x)-i),b:200*(i-t(e.z/r.z))}}(function(e){function t(s){let l=null;return l=s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4),l}const r=t(e.r/255),i=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*r+.3576*i+.1805*o),y:100*(.2126*r+.7152*i+.0722*o),z:100*(.0193*r+.1192*i+.9505*o)}}(n))}function sW(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const lW={CT:{mediastinum:new mi(40,400),lung:new mi(-500,1500),bone:new mi(500,2e3),brain:new mi(40,80),head:new mi(90,350)}};class uW{create(e,t){const r=new dW(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&r.setColourMap("invPlain");let i={};t.getMeta().windowPresets!==void 0&&(i=t.getMeta().windowPresets),i.minmax={name:"minmax"};const o=t.getMeta().Modality;let s;s=lW[o];for(const l in s){const d=s[l];i[l]={wl:[new mi(d.center,d.width)],name:l}}return r.setWindowPresets(i),r.init(),r}}var Ji,eo,to;const mw=class mw{constructor(e,t,r){G(this,Ji);G(this,eo);G(this,to);z(this,Ji,e),z(this,eo,t),z(this,to,r)}getX(){return u(this,Ji)}getY(){return u(this,eo)}getZ(){return u(this,to)}equals(e){return e!==null&&u(this,Ji)===e.getX()&&u(this,eo)===e.getY()&&u(this,to)===e.getZ()}toString(){return"("+u(this,Ji)+", "+u(this,eo)+", "+u(this,to)+")"}norm(){return Math.sqrt(u(this,Ji)*u(this,Ji)+u(this,eo)*u(this,eo)+u(this,to)*u(this,to))}crossProduct(e){return new mw(u(this,eo)*e.getZ()-e.getY()*u(this,to),u(this,to)*e.getX()-e.getZ()*u(this,Ji),u(this,Ji)*e.getY()-e.getX()*u(this,eo))}dotProduct(e){return u(this,Ji)*e.getX()+u(this,eo)*e.getY()+u(this,to)*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}};Ji=new WeakMap,eo=new WeakMap,to=new WeakMap;let dn=mw;var ss,ls;class Re{constructor(e,t){G(this,ss);G(this,ls);z(this,ss,e),z(this,ls,t)}getX(){return u(this,ss)}getY(){return u(this,ls)}getValues(){return[u(this,ss),u(this,ls)]}getCentroid(){return this}equals(e){return e!=null&&u(this,ss)===e.getX()&&u(this,ls)===e.getY()}toString(){return"("+u(this,ss)+", "+u(this,ls)+")"}getDistance(e){const t=u(this,ss)-e.getX(),r=u(this,ls)-e.getY();return Math.sqrt(t*t+r*r)}}ss=new WeakMap,ls=new WeakMap;var Vo,Go,Qo,p0,WS;class zt{constructor(e,t,r){G(this,p0);G(this,Vo);G(this,Go);G(this,Qo);z(this,Vo,e),z(this,Go,t),z(this,Qo,r)}getX(){return u(this,Vo)}getY(){return u(this,Go)}getZ(){return u(this,Qo)}getValues(){return[u(this,Vo),u(this,Go),u(this,Qo)]}equals(e){return e!==null&&u(this,Vo)===e.getX()&&u(this,Go)===e.getY()&&u(this,Qo)===e.getZ()}isSimilar(e,t){return e!==null&&dp(u(this,Vo),e.getX(),t)&&dp(u(this,Go),e.getY(),t)&&dp(u(this,Qo),e.getZ(),t)}toString(){return"("+u(this,Vo)+", "+u(this,Go)+", "+u(this,Qo)+")"}getDistance(e){return Math.sqrt(Q(this,p0,WS).call(this,e))}getClosest(e){let t=0,r=Q(this,p0,WS).call(this,e[t]);for(let i=0;i<e.length;++i){const o=Q(this,p0,WS).call(this,e[i]);o<r&&(t=i,r=o)}return t}minus(e){return new dn(u(this,Vo)-e.getX(),u(this,Go)-e.getY(),u(this,Qo)-e.getZ())}}Vo=new WeakMap,Go=new WeakMap,Qo=new WeakMap,p0=new WeakSet,WS=function(e){const t=u(this,Vo)-e.getX(),r=u(this,Go)-e.getY(),i=u(this,Qo)-e.getZ();return t*t+r*r+i*i};var bl;const Q2=class Q2{constructor(e){G(this,bl);if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create point with non number values.");z(this,bl,e)}get(e){return u(this,bl)[e]}length(){return u(this,bl).length}toString(){return"("+u(this,bl).toString()+")"}getValues(){return u(this,bl).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,r=this.length();t<r;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)this.get(r)!==e.get(r)&&t.push(r);return t}get3D(){return new zt(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],r=this.getValues(),i=e.getValues();for(let o=0;o<r.length;++o)t.push(r[o]+i[o]);return new Q2(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new Q2(t)}};bl=new WeakMap;let Du=Q2;const Jy=1e-4;function dp(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}var Mp,g0;const i0=class i0{constructor(e){G(this,Mp);G(this,g0);z(this,Mp,e)}get(e,t){return u(this,Mp)[3*e+t]}getInverse(){return u(this,g0)===void 0&&z(this,g0,function(e){const t=e.get(0,0),r=e.get(0,1),i=e.get(0,2),o=e.get(1,0),s=e.get(1,1),l=e.get(1,2),d=e.get(2,0),h=e.get(2,1),f=e.get(2,2),m=s*f-l*h,v=l*d-o*f,g=o*h-s*d;let S=t*m+r*v+i*g;if(S!==0)return S=1/S,new i0([S*m,S*(i*h-r*f),S*(r*l-i*s),S*v,S*(t*f-i*d),S*(i*o-t*l),S*g,S*(r*d-t*h),S*(t*s-r*o)]);Pe.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),u(this,g0)}equals(e){for(let t=0;t<3;++t)for(let r=0;r<3;++r)if(this.get(t,r)!==e.get(t,r))return!1;return!0}isSimilar(e,t){for(let r=0;r<3;++r)for(let i=0;i<3;++i)if(!dp(this.get(r,i),e.get(r,i),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let r=0;r<3;++r)r!==0&&(e+=", "),e+=this.get(t,r)}return e+="]",e}multiply(e){const t=[];for(let r=0;r<3;++r)for(let i=0;i<3;++i){let o=0;for(let s=0;s<3;++s)o+=this.get(r,s)*e.get(s,i);t.push(o)}return new i0(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let r=0;r<3;++r)e.push(Math.abs(this.get(t,r)));return new i0(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=[];for(let r=0;r<3;++r){let i=0;for(let o=0;o<3;++o)i+=this.get(r,o)*e[o];t.push(i)}return t}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new dn(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new zt(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new kt(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],r=Math.max.apply(null,t),i=t.indexOf(r);return{value:this.get(e,i),index:i}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],r=Math.max.apply(null,t),i=t.indexOf(r);return{value:this.get(i,e),index:i}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const r=this.getRowAbsMax(t),i=r.value>0?1:-1;for(let o=0;o<3;++o)o===r.index?e.push(1*i):e.push(0)}return new i0(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}};Mp=new WeakMap,g0=new WeakMap;let ef=i0;function ev(){return new ef([1,0,0,0,1,0,0,0,1])}function F2(n){return n.equals(ev())}function Qu(n,e,t,r,i,o,s,l){let d=e;const h=o-i*r;let f=0,m=0;return{next:function(){if(f<t){const v={value:n(d),done:!1,index:d};return d+=r,++f,++m,m===i&&(m=0,d+=h),v}return{done:!0,index:d}}}}function EC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function $R(n,e,t,r){const i=n.getGeometry().getSize();let o=2;r&&r!==void 0&&(o=r.getColAbsMax(2).index);const s=e.getValues(),l=new kt(s.map(function(w,b){return b===o||b>2?w:0}));let d=i.indexToOffset(l);t===void 0&&(t=!1);let h=null;h=t?function(w){return n.getRescaledValueAtOffset(w)}:function(w){return n.getValueAtOffset(w)};const f=i.get(0),m=i.get(1),v=i.get(2);let g=i.getDimSize(2);const S=n.getNumberOfComponents(),y=n.getPlanarConfiguration()===1,C=function(w,b,T,P,A,F,E,k){return S===1?Qu(w,b,T,P,A,F):S===3?function(R,U,N,L,I,_,B,W,H){const j=[];return H?(j.push(Qu(R,U,N,L,I,_)),j.push(Qu(R,U+N*L,N,L,I,_)),j.push(Qu(R,U+2*N*L,N,L,I,_))):(L*=3,_*=3,j.push(Qu(R,U,N,L,I,_)),j.push(Qu(R,U+1,N,L,I,_)),j.push(Qu(R,U+2,N,L,I,_))),{next:function(){const X=j[0].next(),V=j[1].next(),$=j[2].next();return X.done?{done:!0,index:$.index}:{value:[X.value,V.value,$.value],done:!1,index:[X.index,V.index,$.index]}}}}(w,3*b,T,P,A,F,E,k,y):void 0};let x=null;if(r&&r!==void 0){const w=r.getColAbsMax(0),b=r.getColAbsMax(2),T=!1,P=!1;let A=null;if(b.index===2)A=f*m,x=w.index===0?C(h,d,A,1,f,f,T,P):C(h,d,A,f,m,1,T,P);else if(b.index===0)A=v*m,x=w.index===1?C(h,d,A,f,m,g,T,P):C(h,d,A,g,v,f,T,P);else{if(b.index!==1)throw new Error("Unknown direction: "+b.index);A=v*f,x=w.index===0?C(h,d,A,1,f,g,T,P):C(h,d,A,g,v,1,T,P)}}else if(n.getNumberOfComponents()===1)x=function(w,b,T,P){P===void 0&&(P=1);let A=b;return{next:function(){if(A<T){const F={value:w(A),done:!1,index:A};return A+=P,F}return{done:!0,index:T}}}}(h,d,d+g);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());d*=3,g*=3,x=function(w,b,T,P,A){P===void 0&&(P=1),A===void 0&&(A=!1);let F=b,E=1;A?E=(T-b)/3:P*=3;let k=F+E,R=F+2*E;return{next:function(){if(F<T){const U={value:[w(F),w(k),w(R)],done:!1,index:[F,k,R]};return F+=P,k+=P,R+=P,U}return{done:!0,index:[T]}}}}(h,d,d+g,1,y)}return x}function cW(n,e){let t=0,r=0;return{next:function(){if(t<e){r+1<n.length&&t>=n[r+1].index&&++r;const i={value:n[r].value,done:!1,index:t};return++t,i}return{done:!0,index:e}}}}var no;class Gi{constructor(){G(this,no,{});ae(this,"fireEvent",e=>{if(u(this,no)[e.type]===void 0)return;const t=u(this,no)[e.type].slice();for(let r=0;r<t.length;++r)t[r](e)})}add(e,t){u(this,no)[e]===void 0&&(u(this,no)[e]=[]),u(this,no)[e].push(t)}remove(e,t){if(u(this,no)[e]===void 0)return;let r=0;for(let i=0;i<u(this,no)[e].length;++i)u(this,no)[e][i]===t&&(++r,u(this,no)[e].splice(i,1));r===0&&Pe.debug("No callback found on remove listener for type "+e)}}no=new WeakMap;var m0,S0;class rw{constructor(e,t){G(this,m0);G(this,S0);z(this,m0,e),z(this,S0,t)}getSlope(){return u(this,m0)}getIntercept(){return u(this,S0)}apply(e){return e*u(this,m0)+u(this,S0)}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}m0=new WeakMap,S0=new WeakMap;const tf=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];var Bt,hc,fc,ur,ro,wl,y0,pc,v0,C0,Np,fd,O4,YR,us;class dW{constructor(e){G(this,fd);G(this,Bt);G(this,hc);G(this,fc);G(this,ur,{minmax:{name:"minmax"}});G(this,ro,null);G(this,wl);G(this,y0,"plain");G(this,pc,null);G(this,v0);G(this,C0,new Gi);G(this,Np,function(e,t){return 255});G(this,us,e=>{u(this,C0).fireEvent(e)});z(this,Bt,e),u(this,Bt).addEventListener("appendframe",()=>{const t=this.getCurrentIndex();if(t.length()===3){const r=t.getValues();r.push(0),this.setCurrentIndex(new kt(r))}})}getImage(){return u(this,Bt)}setImage(e){z(this,Bt,e)}getOrientation(){return u(this,v0)}setOrientation(e){z(this,v0,e)}init(){this.setInitialIndex()}setInitialIndex(){const e=u(this,Bt).getGeometry().getSize(),t=new Array(e.length());t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),this.setCurrentIndex(new kt(t),!0)}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}getAlphaFunction(){return u(this,Np)}setAlphaFunction(e){z(this,Np,e),u(this,us).call(this,{type:"alphafuncchange"})}getWindowPresets(){return u(this,ur)}getWindowPresetsNames(){return Object.keys(u(this,ur))}setWindowPresets(e){z(this,ur,e)}addWindowPresets(e){const t=Object.keys(e);let r=null;for(let i=0;i<t.length;++i)if(r=t[i],u(this,ur)[r]!==void 0){if(u(this,ur)[r].perslice!==void 0&&u(this,ur)[r].perslice===!0)throw new Error("Cannot add perslice preset");u(this,ur)[r]=e[r]}else u(this,ur)[r]=e[r],u(this,us).call(this,{type:"wlpresetadd",name:r})}getCurrentWindowPresetName(){return u(this,ro)}getColourMap(){return u(this,y0)}setColourMap(e){if(!HT[e])throw new Error("Unknown colour map: '"+e+"'");z(this,y0,e),u(this,us).call(this,{type:"colourmapchange",value:[e]})}getCurrentPosition(){return u(this,pc)}getCurrentIndex(){const e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null}getCurrentImageUid(){return u(this,Bt).getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return u(this,Bt).getOriginForImageUid(e)}includesImageUid(e){return u(this,Bt).includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=u(this,pc));const t=u(this,Bt).getGeometry(),r=t.worldToIndex(e),i=[this.getScrollDimIndex()];return r.length()===4&&i.push(3),t.isIndexInBounds(r,i)}getOrigin(e){const t=u(this,Bt).getGeometry();let r=0;return e!==void 0&&(r=t.worldToIndex(e).get(2)),t.getOrigins()[r]}setCurrentIndex(e,t){const r=u(this,Bt).getGeometry().indexToWorld(e);return this.setCurrentPosition(r,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const r=u(this,Bt).getGeometry(),i=r.worldToIndex(e),o=[this.getScrollDimIndex()];if(i.length()===4&&o.push(3),!r.isIndexInBounds(i,o))return z(this,pc,e),t||u(this,us).call(this,{type:"positionchange",value:[i.getValues(),e.getValues()],valid:!1}),!1;let s=null,l=null;if(this.getCurrentPosition()&&(l=this.getCurrentIndex()),l)if(l.canCompare(i))s=l.compare(i);else{s=[];const d=Math.min(l.length(),i.length());for(let f=0;f<d;++f)l.get(f)!==i.get(f)&&s.push(f);const h=Math.max(l.length(),i.length());for(let f=d;f<h;++f)s.push(f)}else{s=[];for(let d=0;d<i.length();++d)s.push(d)}if(z(this,pc,e),!t){const d={type:"positionchange",value:[i.getValues(),e.getValues()],diffDims:s,data:{imageUid:u(this,Bt).getImageUid(i)}};if(u(this,Bt).canQuantify()){const h=u(this,Bt).getRescaledValueAtIndex(i);d.value.push(h)}u(this,us).call(this,d)}return!0}setWindowLevel(e,t,r){if(t===void 0&&(t="manual"),t!=="manual"&&u(this,ur)[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");r===void 0&&(r=!1);const i=YT(e,u(this,Bt).getRescaledDataRange(),u(this,Bt).getMeta().VOILUTFunction),o=!i.equals(u(this,wl)),s=u(this,ro)!==t;(o||s)&&(z(this,wl,i),z(this,ro,t),t==="manual"&&(u(this,ur)[t]!==void 0?u(this,ur)[t].wl[0]=i:this.addWindowPresets({manual:{wl:[i],name:"manual"}})),u(this,us).call(this,{type:"wlchange",value:[i.center,i.width,t],wc:i.center,ww:i.width,skipGenerate:r}))}getWindowLevel(){return Q(this,fd,O4).call(this).getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const r=this.getWindowPresets()[e];if(r===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&r.wl===void 0&&(r.wl=[this.getWindowLevelMinMax()]);let i=r.wl[0];if(r.perslice!==void 0&&r.perslice===!0){const o=u(this,Bt).getSecondaryOffset(this.getCurrentIndex());i=r.wl[o]}i!==void 0&&this.setWindowLevel(i,e,t)}setWindowLevelPresetById(e,t){const r=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(r[e],t)}addEventListener(e,t){u(this,C0).add(e,t)}removeEventListener(e,t){u(this,C0).remove(e,t)}getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,r=e.min+t/2;return YT(new mi(r,t),e,u(this,Bt).getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){t===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());const r=this.getImage(),i=!r.isConstantRSI(),o=$R(r,t,i,this.getOrientation()),s=r.getPhotometricInterpretation();switch(s){case"MONOCHROME1":case"MONOCHROME2":(function(l,d,h,f,m){let v=0,g=0,S=d.next();for(;!S.done;)g=f.getValue(S.value),l.data[v]=m.red[g],l.data[v+1]=m.green[g],l.data[v+2]=m.blue[g],l.data[v+3]=h(S.value,S.index),v+=4,S=d.next()})(e,o,this.getAlphaFunction(),Q(this,fd,O4).call(this),Q(this,fd,YR).call(this));break;case"PALETTE COLOR":(function(l,d,h,f,m){const v=function(C){return C>>8};m&&Pe.info("Scaling 16bits data to 8bits.");let g=0,S=0,y=d.next();for(;!y.done;)S=y.value,m?(l.data[g]=v(f.red[S]),l.data[g+1]=v(f.green[S]),l.data[g+2]=v(f.blue[S])):(l.data[g]=f.red[S],l.data[g+1]=f.green[S],l.data[g+2]=f.blue[S]),l.data[g+3]=h(S,y.index),g+=4,y=d.next()})(e,o,this.getAlphaFunction(),r.getPaletteColourMap(),r.getMeta().BitsStored===16);break;case"RGB":(function(l,d,h){let f=0,m=d.next();for(;!m.done;)l.data[f]=m.value[0],l.data[f+1]=m.value[1],l.data[f+2]=m.value[2],l.data[f+3]=h(m.value,m.index),f+=4,m=d.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(l,d,h){let f=0,m=null,v=d.next();for(;!v.done;)g=v.value[0],S=v.value[1],y=v.value[2],m={r:g+1.402*(y-128),g:g-.34414*(S-128)-.71414*(y-128),b:g+1.772*(S-128)},l.data[f]=m.r,l.data[f+1]=m.g,l.data[f+2]=m.b,l.data[f+3]=h(v.value,v.index),f+=4,v=d.next();var g,S,y})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+s)}}getScrollDimIndex(){let e=null;const t=this.getOrientation();return e=t!==void 0?t.getThirdColMajorDirection():2,e}isAquisitionOrientation(){return F2(u(this,v0))}}Bt=new WeakMap,hc=new WeakMap,fc=new WeakMap,ur=new WeakMap,ro=new WeakMap,wl=new WeakMap,y0=new WeakMap,pc=new WeakMap,v0=new WeakMap,C0=new WeakMap,Np=new WeakMap,fd=new WeakSet,O4=function(){if(u(this,ro)&&u(this,ur)[u(this,ro)]!==void 0&&u(this,ur)[u(this,ro)].perslice!==void 0&&u(this,ur)[u(this,ro)].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const r=this.getCurrentIndex(),i=u(this,Bt).getSecondaryOffset(r),o=u(this,ur)[u(this,ro)].wl[i];o!==void 0&&this.setWindowLevel(o,u(this,ro),!0)}if(u(this,wl)===void 0&&this.setWindowLevelPresetById(0,!0),u(this,fc)===void 0||u(this,Bt).isConstantRSI()!==u(this,fc)){let r,i;z(this,fc,u(this,Bt).isConstantRSI()),u(this,fc)?(r=u(this,Bt).getRescaleSlopeAndIntercept(),i=!0):(r=new rw(1,0),i=!1);const o=new eW(r,u(this,Bt).getMeta().BitsStored);z(this,hc,new tW(o,u(this,Bt).getMeta().PixelRepresentation===1,i))}const e=u(this,hc).getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!u(this,wl).equals(t)){const r=new rW(u(this,wl),u(this,Bt).getMeta().VOILUTFunction);u(this,hc).setVoiLut(r)}return u(this,hc)},YR=function(){return HT[u(this,y0)]},us=new WeakMap;function XR(){return new ef([1,0,0,0,0,1,0,-1,0])}const Qs={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function XT(n){let e;return n===Qs.Axial?e=ev():n===Qs.Coronal?e=XR():n===Qs.Sagittal&&(e=new ef([0,0,-1,1,0,0,0,-1,0])),e}function KR(n){const e=new dn(n.get(0,0),n.get(1,0),n.get(2,0)),t=new dn(n.get(0,1),n.get(1,1),n.get(2,1)),r=new dn(n.get(0,2),n.get(1,2),n.get(2,2));return kC(e)+kC(t)+kC(r)}function kC(n){let e=new dn(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const r=n.getX()<0?"R":"L",i=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",s=1e-4;for(let l=0;l<3;l++)if(e.getX()>s&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=r,e=new dn(0,e.getY(),e.getZ());else if(e.getY()>s&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=i,e=new dn(e.getX(),0,e.getZ());else{if(!(e.getZ()>s&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new dn(e.getX(),e.getY(),0)}return t}function hW(n){let e;const t=iw(n);return t!==void 0&&(e=function(r){let i;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(r)?i=Qs.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(r)?i=Qs.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(r)&&(i=Qs.Sagittal),i}(KR(t.asOneAndZeros()))),e}function iw(n){let e;if(n!==void 0&&n.length===6){const t=new dn(n[0],n[1],n[2]),r=new dn(n[3],n[4],n[5]),i=t.crossProduct(r);e=new ef([t.getX(),r.getX(),i.getX(),t.getY(),r.getY(),i.getY(),t.getZ(),r.getZ(),i.getZ()])}return e}function KT(n,e){let t=ev();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const fW={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm",ml:"ml",degree:"",pixel:"pixels"}[t[1]]),e}};function zu(n,e,t){if(n==null||e==null)return!1;const r=0;return n.substring(r,r+e.length)===e}function ZT(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function JT(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let r=t.exec(n);for(;r;)e.push(r[1]),r=t.exec(n);return e}function pl(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function pW(n){const e=new Uint8Array(n.length);for(let t=0,r=n.length;t<r;t++)e[t]=n.charCodeAt(t);return e}function _a(n,e){const t=Math.pow(10,e),r=.01/t;return Math.round(n*t+r)/t}var Dl;class zs{constructor(e){G(this,Dl);if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create size with non number or zero values.");z(this,Dl,e)}get(e){return u(this,Dl)[e]}length(){return u(this,Dl).length}toString(){return"("+u(this,Dl).toString()+")"}getValues(){return u(this,Dl).slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let r=3;r<this.length();++r)t=t||this.moreThanOne(r);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let r=1;for(let i=t;i<e;++i)r*=this.get(i);return r}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let r=0;r<t;++r)if(this.get(r)!==e.get(r))return!1;return!0}isInBounds(e,t){if(!e)return!1;const r=this.length();if(r!==e.length())return!1;if(t===void 0){t=[];for(let s=0;s<r;++s)t.push(s)}else for(let s=0;s<r;++s)if(t[s]>r-1)throw new Error("Wrong input dir value: "+t[s]);for(let s=0;s<t.length;++s)if(i=e.get(t[s]),o=this.get(t[s]),!(i>=0&&i<o))return!1;var i,o;return!0}indexToOffset(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let r=0;for(let i=t;i<this.length();++i){const o=this.get(i),s=e.get(i);if(s>=o||s<0)return-1;r+=s*this.getDimSize(i,t)}return r}offsetToIndex(e){const t=new Array(this.length());let r=e,i=0;for(let o=this.length()-1;o>0;--o)i=this.getDimSize(o),t[o]=Math.floor(r/i),r-=t[o]*i;return t[0]=r,new kt(t)}get2D(){return{x:this.get(0),y:this.get(1)}}}Dl=new WeakMap;var xl;class mu{constructor(e){G(this,xl);if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create spacing with non number or zero values.");z(this,xl,e)}get(e){return u(this,xl)[e]}length(){return u(this,xl).length}toString(){return"("+u(this,xl).toString()+")"}getValues(){return u(this,xl).slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let r=0;r<t;++r)if(this.get(r)!==e.get(r))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}xl=new WeakMap;function gW(n,e){if(e===void 0){e=[];for(let r=0;r<n.length;++r)e.push(r)}for(let r=0;r<e.length;++r)if(e[r]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let r=0;r<e.length;++r)r!==0&&(t+="_"),t+="#"+e[r]+"-"+n[e[r]];return t}function ZR(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&JR(n.slice().sort(),e.slice().sort())}function JR(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every(function(t,r){return t===e[r]})}function eP(n){return String.fromCharCode.apply(String,n)}function xS(n,e,t,r){(t===void 0||t<0||t>=n.length)&&(t=0),(r===void 0||r<=t||r>n.length)&&(r=n.length);for(let i=t;i<r;++i)if(e(n[i],i,n))return i}function tP(n){return function(e,t,r){for(let i=0;i<n.length;++i)if(r[t+i]!==n[i])return!1;return!0}}const jS={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},mW={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},SW={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function yW(n){return SW[n]!==void 0}const vW={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function CW(n){return vW[n]!==void 0}const nP={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},rP={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},M2="1.2.840.10008.1.2",E4="1.2.840.10008.1.2.1",N2="1.2.840.10008.1.2.2";var Ti,io,b0,HS;class Dp{constructor(e,t){G(this,b0);G(this,Ti);G(this,io);if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);z(this,Ti,e),z(this,io,t)}getGroup(){return u(this,Ti)}getElement(){return u(this,io)}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&u(this,Ti)===e.getGroup()&&u(this,io)===e.getElement()}getKey(){return u(this,Ti)+u(this,io)}getGroupName(){return mW[u(this,Ti)]}isWithVR(){return!(u(this,Ti)==="FFFE"&&(u(this,io)==="E000"||u(this,io)==="E00D"||u(this,io)==="E0DD"))}isPrivate(){return parseInt(u(this,Ti),16)%2==1}getVrFromDictionary(){let e;const t=Q(this,b0,HS).call(this);return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=Q(this,b0,HS).call(this);return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=Q(this,b0,HS).call(this);return t!==void 0&&(e=t[2]),e}}Ti=new WeakMap,io=new WeakMap,b0=new WeakSet,HS=function(){let e;return jS[u(this,Ti)]!==void 0&&jS[u(this,Ti)][u(this,io)]!==void 0&&(e=jS[u(this,Ti)][u(this,io)]),e};function eL(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new Dp(n.substring(0,4),n.substring(4,8))}function bW(n){return n.getKey()==="FFFEE00D"}function iP(n){return n.getKey()==="FFFEE0DD"}function oP(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function tL(n){const e=["7FE00010","7FE00009","7FE00008"];let t=!1;for(const r of e)if(n[r]!==void 0){t=!0;break}return t}function wW(n){if(n==null)return null;let e=null,t=null;const r=jS,i=Object.keys(r);let o,s=null,l=!1;for(let d=0,h=i.length;d<h;++d){e=i[d],s=Object.keys(r[e]);for(let f=0,m=s.length;f<m;++f)if(t=s[f],r[e][t][2]===n){l=!0;break}if(l)break}return l&&(o=new Dp(e,t)),o}function nL(n){return function(e,t){const r=eL(t);let i=r.getNameFromDictionary();i===void 0&&(i="x"+r.getKey());const o=n[t];for(const l in o)o[l]===void 0&&delete o[l];let s;if(o.vr==="SQ"){s={value:[]};for(let l=0;l<o.value.length;++l){const d=o.value[l];s.value.push(Object.keys(d).reduce(nL(d),{}))}}else s=o.value.length===1?o.value[0]:o.value;return e[i]=s,e}}function DW(n){const e=structuredClone(n);return Object.keys(e).reduce(nL(e),{})}class sd{constructor(e){ae(this,"vr");ae(this,"value");ae(this,"tag");ae(this,"vl");ae(this,"undefinedLength");ae(this,"startOffset");ae(this,"endOffset");ae(this,"items");this.vr=e}}function rL(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function on(n,e){let t;return rL(n[e])&&(t=n[e].value[0]),t}function fa(n,e){let t;return rL(n[e])&&(t=n[e].value),t}function es(n,e,t){let r="";if(n===void 0)r+=" "+e+" is undefined,";else if(n.value===void 0)r+=" "+e+" has undefined value,";else if(n.value.length===0)r+=" "+e+" is empty,";else if(t!==void 0)for(let i=0;i<t.length;++i)n.value.includes(t[i])||(r+=" "+e+" does not contain "+t[i]+" (value: "+n.value+"),");return r}function gl(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),r=n.BYTES_PER_ELEMENT;let i;for(let o=0;o<e;o+=r)for(let s=o+r-1,l=o;s>l;s--,l++)i=t[l],t[l]=t[s],t[s]=i}var _r,Pi,z2,oo,ao;class _C{constructor(e,t){G(this,_r);G(this,Pi,!0);G(this,z2,function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}());G(this,oo);G(this,ao);z(this,_r,e),t!==void 0&&z(this,Pi,t),z(this,oo,u(this,Pi)!==u(this,z2)),z(this,ao,new DataView(e))}readUint16(e){return u(this,ao).getUint16(e,u(this,Pi))}readInt16(e){return u(this,ao).getInt16(e,u(this,Pi))}readUint32(e){return u(this,ao).getUint32(e,u(this,Pi))}readBigUint64(e){return u(this,ao).getBigUint64(e,u(this,Pi))}readInt32(e){return u(this,ao).getInt32(e,u(this,Pi))}readBigInt64(e){return u(this,ao).getBigInt64(e,u(this,Pi))}readFloat32(e){return u(this,ao).getFloat32(e,u(this,Pi))}readFloat64(e){return u(this,ao).getFloat64(e,u(this,Pi))}readBinaryArray(e,t,r){const i=new Uint8Array(u(this,_r),e,t);let o;o=r!==void 0?r:8*i.length;const s=new Uint8Array(o);let l=0,d=0;for(let h=0;h<o;++h)l=h%8,d=Math.floor(h/8),s[h]=255*!!(i[d]&1<<l);return s}readUint8Array(e,t){return new Uint8Array(u(this,_r),e,t)}readInt8Array(e,t){return new Int8Array(u(this,_r),e,t)}readUint16Array(e,t){const r=Uint16Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Uint16Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Uint16Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readUint16(s),s+=r}return o}readInt16Array(e,t){const r=Int16Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Int16Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Int16Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readInt16(s),s+=r}return o}readUint32Array(e,t){const r=Uint32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Uint32Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Uint32Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readUint32(s),s+=r}return o}readUint64Array(e,t){const r=BigUint64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new BigUint64Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new BigUint64Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readBigUint64(s),s+=r}return o}readInt32Array(e,t){const r=Int32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Int32Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Int32Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readInt32(s),s+=r}return o}readInt64Array(e,t){const r=BigInt64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new BigInt64Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new BigInt64Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readBigInt64(s),s+=r}return o}readFloat32Array(e,t){const r=Float32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Float32Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Float32Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readFloat32(s),s+=r}return o}readFloat64Array(e,t){const r=Float64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Float64Array(u(this,_r),e,i),u(this,oo)&&gl(o);else{o=new Float64Array(i);let s=e;for(let l=0;l<i;++l)o[l]=this.readFloat64(s),s+=r}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}_r=new WeakMap,Pi=new WeakMap,z2=new WeakMap,oo=new WeakMap,ao=new WeakMap;function xW(){return"0.35.1"}function aP(n){const e=n.split("-");let t=[];for(const r of e)t=t.concat(r.split("."));return t}function sP(n,e){let t=0;const r=aP(n),i=aP(e);for(let o=0;o<3&&(t=parseInt(r[o],10)-parseInt(i[o],10),t===0);++o);if(t===0){const s=r[4],l=i[4];t=s===void 0&&l===void 0?0:s===void 0&&l!==void 0?1:s!==void 0&&l===void 0?-1:parseInt(s,10)-parseInt(l,10)}return t}const TW=String.fromCharCode("u200B");class PW{decode(e){let t="";for(let r=0,i=e.length;r<i;++r)t+=String.fromCharCode(e[r]);return t}}function lP(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let r=0;r<n.length;r++){const i=e[n.substring(r,r+1)];i&&(t+=i)}return t}function IW(n){return n===M2}function RW(n){return n===N2}function ow(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function aw(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function sw(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function iL(n){return n==="1.2.840.10008.1.2.5"}function LW(n,e,t){let r=null;try{n===1||n===8?r=e===0?new Uint8Array(t):new Int8Array(t):n===16?r=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(r=e===0?new Uint32Array(t):new Int32Array(t))}catch(i){if(i instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));Pe.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return r}const uP="00280100",cP="00280103";var Vn,gc,Up,qp,pt,$S,aL,sL,k4,lL,ha,Zi,uL;class oL{constructor(){G(this,pt);G(this,Vn,{});G(this,gc);G(this,Up,new PW);G(this,qp,u(this,Up))}getDefaultCharacterSet(){return u(this,gc)}setDefaultCharacterSet(e){z(this,gc,e)}setDecoderCharacterSet(e){z(this,qp,new TextDecoder(e))}getDicomElements(){return u(this,Vn)}safeGet(e){return on(u(this,Vn),e)}parse(e,t){let r=0,i="",o=null;const s=new _C(e);let l=new _C(e);r=128;const d=Q(this,pt,$S).call(this,s.readUint8Array(r,4));if(r+=4*Uint8Array.BYTES_PER_ELEMENT,d==="DICM"){o=Q(this,pt,ha).call(this,s,r,!1),o.value=Q(this,pt,Zi).call(this,o,s),r=o.endOffset,u(this,Vn)[o.tag.getKey()]=o;const v=r+o.value[0];for(;r<v;)o=Q(this,pt,ha).call(this,s,r,!1),r=o.endOffset,u(this,Vn)[o.tag.getKey()]=o;if(o=u(this,Vn)["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=Q(this,pt,Zi).call(this,o,s),i=o.value[0]}else{Pe.warn("No DICM prefix, trying to guess tansfer syntax."),o=Q(this,pt,ha).call(this,l,0,!1);const v=function(g){const S="0008",y=g.tag.getGroup();if(y!=="0800"&&y!==S)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const C=g.vr,x=C.charCodeAt(0),w=C.charCodeAt(1),b=!(x>=65&&x<=90&&w>=65&&w<=90);let T=null;if(y===S)T=b?M2:E4;else{if(b)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");T=N2}const P=new sd("UI");return P.tag=new Dp("0002","0010"),P.value=[T],P.vl=P.value[0].length,P.startOffset=g.startOffset,P.endOffset=P.startOffset+P.vl,P}(o);u(this,Vn)[v.tag.getKey()]=v,i=v.value[0],r=0}if(!function(v){return v===M2||v===E4||v===N2||ow(v)||aw(v)||sw(v)||iL(v)}(i))throw new Error("Unsupported DICOM transfer syntax: '"+i+"' ("+function(v){let g="Unknown";return rP[v]!==void 0&&(g=rP[v]),g}(i)+")");let h=!1;IW(i)&&(h=!0),RW(i)&&(l=new _C(e,!1));let f,m=!1;for(;r<e.byteLength;){if(o=Q(this,pt,ha).call(this,l,r,h,t),t!==void 0&&o.tag.equals(t)){m=!0;break}r=o.endOffset;const v=o.tag.getKey();u(this,Vn)[v]===void 0?u(this,Vn)[v]=o:Pe.warn("Not saving duplicate tag: "+v)}if(isNaN(r))throw new Error("Problem while parsing, bad offset");if(m||e.byteLength===r||Pe.warn("Did not reach the end of the buffer: "+r+" != "+e.byteLength),tL(u(this,Vn))){let v=0;o=u(this,Vn)[cP],o!==void 0?(o.value=Q(this,pt,Zi).call(this,o,l),v=o.value[0]):Pe.warn("Reading DICOM pixel data with default pixelRepresentation.");let g=16;o=u(this,Vn)[uP],o!==void 0?(o.value=Q(this,pt,Zi).call(this,o,l),g=o.value[0]):Pe.warn("Reading DICOM pixel data with default bitsAllocated.");let S,y,C=1;o=u(this,Vn)["00280008"],o!==void 0&&(o.value=Q(this,pt,Zi).call(this,o,l),C=parseInt(o.value[0],10)),f={pixelRepresentation:v,bitsAllocated:g,numberOfFrames:C},o=u(this,Vn)["00280010"],o!==void 0&&(o.value=Q(this,pt,Zi).call(this,o,l),S=parseInt(o.value[0],10)),o=u(this,Vn)["00280011"],o!==void 0&&(o.value=Q(this,pt,Zi).call(this,o,l),y=parseInt(o.value[0],10)),S!==void 0&&y!==void 0&&(f.imageBufferSize=S*y*C)}if(u(this,gc)!==void 0&&this.setDecoderCharacterSet(u(this,gc)),o=u(this,Vn)["00080005"],o!==void 0){let v;o.value=Q(this,pt,Zi).call(this,o,l),o.value.length===1?v=o.value[0]:(v=o.value[1],Pe.warn("Unsupported character set with code extensions: '"+v+"'.")),this.setDecoderCharacterSet(function(g){let S="utf-8";return g==="ISO_IR 100"?S="iso-8859-1":g==="ISO_IR 101"?S="iso-8859-2":g==="ISO_IR 109"?S="iso-8859-3":g==="ISO_IR 110"?S="iso-8859-4":g==="ISO_IR 144"?S="iso-8859-5":g==="ISO_IR 127"?S="iso-8859-6":g==="ISO_IR 126"?S="iso-8859-7":g==="ISO_IR 138"?S="iso-8859-8":g==="ISO_IR 148"?S="iso-8859-9":g==="ISO_IR 13"?S="shift-jis":g==="ISO_IR 166"?S="iso-8859-11":g==="ISO 2022 IR 87"?S="iso-2022-jp":g==="ISO 2022 IR 149"||g==="ISO 2022 IR 58"||(g==="ISO_IR 192"?S="utf-8":g==="GB18030"?S="gb18030":g==="GB2312"?S="gb2312":g==="GBK"&&(S="chinese")),S}(v))}if(Q(this,pt,uL).call(this,u(this,Vn),l,f),o=u(this,Vn)["7FE00010"],o!==void 0&&o.undefinedLength){const v=f.numberOfFrames,g=o.value;if(g.length>1&&g.length>v){const S=g.length/v,y=[];let C=0;for(let x=0;x<v;++x){C=x*S;let w=0;for(let P=0;P<S;++P)w+=g[C+P].length;const b=new g[0].constructor(w);let T=0;for(let P=0;P<S;++P)b.set(g[C+P],T),T+=g[C+P].length;y[x]=b}o.value=y}}}}Vn=new WeakMap,gc=new WeakMap,Up=new WeakMap,qp=new WeakMap,pt=new WeakSet,$S=function(e){return u(this,Up).decode(e)},aL=function(e){return u(this,qp).decode(e)},sL=function(e,t){const r=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const i=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new Dp(r,i),endOffset:t}},k4=function(e,t,r){const i={};let o=Q(this,pt,ha).call(this,e,t,r);if(t=o.endOffset,iP(o.tag))return{data:i,endOffset:o.endOffset,isSeqDelim:!0};if(i[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let s=!1;for(;!s;)o=Q(this,pt,ha).call(this,e,t,r),t=o.endOffset,s=bW(o.tag),s||(i[o.tag.getKey()]=o)}else{const s=t;for(t-=o.vl;t<s;)o=Q(this,pt,ha).call(this,e,t,r),t=o.endOffset,i[o.tag.getKey()]=o}return{data:i,endOffset:t,isSeqDelim:!1}},lL=function(e,t,r){const i=[];let o=Q(this,pt,ha).call(this,e,t,r);const s=o.vl;t=o.endOffset;let l=!1;for(;!l;)o=Q(this,pt,ha).call(this,e,t,r),t=o.endOffset,l=iP(o.tag),l||(o.vr="OB",i.push(o));return{data:i,endOffset:t,offsetTableVl:s}},ha=function(e,t,r,i){const o=Q(this,pt,sL).call(this,e,t),s=o.tag;if(i!==void 0&&s.equals(i)){const y=new sd("");return y.tag=s,y}t=o.endOffset;let l=null,d=!1;s.isWithVR()?r?(l=s.getVrFromDictionary(),l===void 0&&(l="UN"),d=!0):(l=Q(this,pt,$S).call(this,e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,d=yW(l),d&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(l="NONE",d=!0),function(y){return Object.keys(nP).concat(["NONE","ox","xx","xs"]).includes(y)}(l)||(Pe.warn("Unknown VR: "+l+" (for tag "+s.getKey()+"), treating as 'UN'"),l="UN");let h=0;d?(h=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(h=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let f=!1;h===4294967295&&(f=!0,h=0),s.isPrivate()&&l==="UN"&&h===0&&(l="SQ");let m,v=t,g=v+h;if(oP(s)&&f){const y=Q(this,pt,lL).call(this,e,t,r);t=y.endOffset,v+=y.offsetTableVl,m=y.data,g=t,h=t-v}else if(l==="SQ"){let y;if(m=[],f){let C=!1;for(;!C;)y=Q(this,pt,k4).call(this,e,t,r),C=y.isSeqDelim,t=y.endOffset,C||m.push(y.data);g=t,h=t-v}else if(h!==0){const C=t+h;for(;t<C;)y=Q(this,pt,k4).call(this,e,t,r),m.push(y.data),t=y.endOffset;g=t,h=t-v}}const S=new sd(l);return S.tag=s,S.vl=h,S.startOffset=v,S.endOffset=g,f&&(S.undefinedLength=f),m&&(S.items=m),S},Zi=function(e,t,r){const i=e.tag,o=e.vl,s=e.vr,l=e.startOffset;let d,h;r!==void 0&&(d=r.bitsAllocated,h=r.pixelRepresentation);let f=null;const m=nP[s];if(oP(i))if(e.undefinedLength){f=[];for(let v=0;v<e.items.length;++v)f.push(Q(this,pt,Zi).call(this,e.items[v],t,r));delete e.items}else if(d>8&&s==="OB"&&(Pe.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),f=[],d===1)f.push(t.readBinaryArray(l,o,r.imageBufferSize));else if(d===8)h===0?f.push(t.readUint8Array(l,o)):f.push(t.readInt8Array(l,o));else if(d===16)h===0?f.push(t.readUint16Array(l,o)):f.push(t.readInt16Array(l,o));else if(d===32)f.push(t.readFloat32Array(l,o));else{if(d!==64)throw new Error("Unsupported bits allocated: "+d);f.push(t.readFloat64Array(l,o))}else if(m!==void 0)if(m==="Uint8")f=t.readUint8Array(l,o);else if(m==="Uint16")f=t.readUint16Array(l,o),s[0]!=="O"&&(f=Array.from(f));else if(m==="Uint32")f=t.readUint32Array(l,o),s[0]!=="O"&&(f=Array.from(f));else if(m==="Uint64")f=t.readUint64Array(l,o);else if(m==="Int16")f=Array.from(t.readInt16Array(l,o));else if(m==="Int32")f=Array.from(t.readInt32Array(l,o));else if(m==="Int64")f=t.readInt64Array(l,o);else if(m==="Float32")f=Array.from(t.readFloat32Array(l,o));else if(m==="Float64")f=Array.from(t.readFloat64Array(l,o));else{if(m!=="string")throw new Error("Unknown VR type: "+m);{const v=t.readUint8Array(l,o);f=CW(s)?Q(this,pt,aL).call(this,v):Q(this,pt,$S).call(this,v),f=function(g){let S=g;const y=g.length-1;return g[y]===TW&&(S=g.substring(0,y)),S=S.trim(),S}(f).split("\\")}}else if(s==="xx")f=Array.from(t.readUint16Array(l,o));else if(s==="ox")f=d===8?h===0?Array.from(t.readUint8Array(l,o)):Array.from(t.readInt8Array(l,o)):h===0?Array.from(t.readUint16Array(l,o)):Array.from(t.readInt16Array(l,o));else if(s==="xs")f=h===0?Array.from(t.readUint16Array(l,o)):Array.from(t.readInt16Array(l,o));else if(s==="AT"){const v=t.readUint16Array(l,o);f=[];for(let g=0,S=v.length;g<S;g+=2){const y=v[g].toString(16),C=v[g+1].toString(16);let x="(";x+="0000".substring(0,4-y.length)+y.toUpperCase(),x+=",",x+="0000".substring(0,4-C.length)+C.toUpperCase(),x+=")",f.push(x)}}else if(s==="SQ"){f=[];for(let v=0;v<e.items.length;++v){const g=e.items[v],S={},y=Object.keys(g);let C=d,x=h;for(let w=0;w<y.length;++w){let b=g[uP];b!==void 0&&b.value!==void 0&&(C=b.value[0]),b=g[cP],b!==void 0&&b.value!==void 0&&(x=b.value[0]);const T={bitsAllocated:C,pixelRepresentation:x},P=g[y[w]];P.value=Q(this,pt,Zi).call(this,P,t,T),delete P.tag,delete P.vl,delete P.startOffset,delete P.endOffset,S[y[w]]=P}f.push(S)}delete e.items}else s==="NONE"||Pe.warn("Unknown VR: "+s+" (for tag "+e.tag.getKey()+")"),f=[];return f},uL=function(e,t,r){const i=Object.keys(e);for(let o=0;o<i.length;++o){const s=e[i[o]];s.value===void 0&&(s.value=Q(this,pt,Zi).call(this,s,t,r)),delete s.tag,delete s.vl,delete s.startOffset,delete s.endOffset}};class AW{constructor(e,t,r,i){ae(this,"min");ae(this,"max");ae(this,"mean");ae(this,"stdDev");ae(this,"median");ae(this,"p25");ae(this,"p75");this.min=e,this.max=t,this.mean=r,this.stdDev=i}}function lw(n,e){return function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))}(e)?function(t){const r=_4(t);return t.sort(function(i,o){return i-o}),r.median=FC(t,.5),r.p25=FC(t,.25),r.p75=FC(t,.75),r}(n):_4(n)}function _4(n){let e=n[0],t=e,r=0,i=0,o=0;const s=n.length;for(let f=0;f<s;++f)o=n[f],o<e?e=o:o>t&&(t=o),r+=o,i+=o*o;const l=r/s;let d=i/s-l*l;d<0&&(d=0);const h=Math.sqrt(d);return new AW(e,t,l,h)}function FC(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,r=Math.floor(t),i=n[r];return i+(n[r+1]-i)*(t-r)}var Ii,Ri,Fr,Li,w0,cs,D0,W2,cL;class Su{constructor(e,t,r,i,o){G(this,W2);G(this,Ii);G(this,Ri);G(this,Fr);G(this,Li,{});G(this,w0);G(this,cs,ev());G(this,D0,!1);z(this,Ii,e),z(this,Ri,t),z(this,Fr,r),o!==void 0&&(z(this,w0,o),u(this,Li)[o]=e),i!==void 0&&z(this,cs,i)}getInitialTime(){return u(this,w0)}getCurrentTotalNumberOfSlices(){const e=Object.keys(u(this,Li));if(e.length===0)return u(this,Ii).length;let t=0;for(let r=0;r<e.length;++r)t+=u(this,Li)[e[r]].length;return t}hasSlicesAtTime(e){return u(this,Li)[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(u(this,Li));if(t.length===0)return;let r=0;for(let i=0;i<t.length;++i){const o=t[i];if(parseInt(o,10)===e)break;r+=u(this,Li)[o].length}return r}getOrigin(){return u(this,Ii)[0]}getOrigins(){return u(this,Ii)}includesOrigin(e,t){for(let r=0;r<u(this,Ii).length;++r)if(u(this,Ii)[r].isSimilar(e,t))return!0;return!1}getSize(e){let t=u(this,Ri);if(e&&e!==void 0){let r=hp([u(this,Ri).get(0),u(this,Ri).get(1),u(this,Ri).get(2)],e);r=r.map(Math.abs),t=new zs(r.concat(u(this,Ri).getValues().slice(3)))}return t}getSpacing(e){u(this,D0)&&(Q(this,W2,cL).call(this),z(this,D0,!1));let t=u(this,Fr);if(e&&e!==void 0){let r=hp([u(this,Fr).get(0),u(this,Fr).get(1),u(this,Fr).get(2)],e);r=r.map(Math.abs),t=new mu(r)}return t}getRealSpacing(){return this.getSpacing(u(this,cs).getInverse().asOneAndZeros())}getOrientation(){return u(this,cs)}getSliceIndex(e,t){let r=u(this,Ii);t!==void 0&&(r=u(this,Li)[t]);const i=e.getClosest(r),o=r[i],s=e.minus(o);return new dn(u(this,cs).get(0,2),u(this,cs).get(1,2),u(this,cs).get(2,2)).isCodirectional(s)?i+1:i}appendOrigin(e,t,r){const i=function(o){return o.equals(e)};if(r!==void 0){if(u(this,Li)[r].find(i)!==void 0)throw new Error("Cannot append same time origin twice");u(this,Li)[r].splice(t,0,e)}if(r===void 0||r===u(this,w0)){if(u(this,Ii).find(i)!==void 0)throw new Error("Cannot append same origin twice");z(this,D0,!0),u(this,Ii).splice(t,0,e);const o=u(this,Ri).getValues();o[2]+=1,z(this,Ri,new zs(o))}}appendFrame(e,t){u(this,Li)[t]=[e];const r=u(this,Ri).getValues(),i=u(this,Fr).getValues();r.length===4?r[3]+=1:(r.push(2),i.push(1)),z(this,Ri,new zs(r)),z(this,Fr,new mu(i))}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!==null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const r=new kt(t),i=new kt(this.getSize().getValues());return[this.indexToWorld(r),this.indexToWorld(i)]}indexToWorld(e){const t=this.getSpacing(),r=new zt(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),i=this.getOrientation().multiplyPoint3D(r),o=e.getValues(),s=this.getOrigin();return o[0]=s.getX()+i.getX(),o[1]=s.getY()+i.getY(),o[2]=s.getZ()+i.getZ(),new Du(o)}pointToWorld(e){const t=this.getSpacing(),r=new zt(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),i=this.getOrientation().multiplyPoint3D(r),o=this.getOrigin();return new zt(o.getX()+i.getX(),o.getY()+i.getY(),o.getZ()+i.getZ())}worldToIndex(e){const t=this.getOrigin(),r=new zt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),i=this.getOrientation().getInverse().multiplyPoint3D(r),o=e.getValues(),s=this.getSpacing();return o[0]=Math.floor(_a(i.getX()/s.get(0),5)),o[1]=Math.floor(_a(i.getY()/s.get(1),5)),o[2]=Math.floor(_a(i.getZ()/s.get(2),5)),new kt(o)}worldToPoint(e){const t=this.getOrigin(),r=new zt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),i=this.getOrientation().getInverse().multiplyPoint3D(r),o=e.getValues(),s=this.getSpacing();return o[0]=i.getX()/s.get(0),o[1]=i.getY()/s.get(1),o[2]=i.getZ()/s.get(2),new zt(o[0],o[1],o[2])}}Ii=new WeakMap,Ri=new WeakMap,Fr=new WeakMap,Li=new WeakMap,w0=new WeakMap,cs=new WeakMap,D0=new WeakMap,W2=new WeakSet,cL=function(){const e=function(t){if(t.length<=1)return;const r=[];for(let s=0;s<t.length-1;++s){const l=t[s],d=t[s+1],h=l.getDistance(d);if(h===0)throw new Error("Zero slice spacing "+l.toString()+" "+d.toString());r.push(h)}const i=_4(r),o=_a(i.mean,4);return i.stdDev>Jy&&Pe.warn("Varying slice spacing, value: "+o+" (mean: "+i.mean+", min: "+i.min+", max: "+i.max+", stdDev: "+i.stdDev+")"),o}(u(this,Ii));if(e!==void 0){u(this,Fr).get(2)!==1&&u(this,Fr).get(2)!==e&&Pe.debug("Using geometric spacing "+e+" instead of tag spacing "+u(this,Fr).get(2));const t=u(this,Fr).getValues();t[2]=e,z(this,Fr,new mu(t))}};function hp(n,e){return e.getInverse().multiplyArray3D(n)}function dP(n,e){return e.multiplyArray3D(n)}const Zo={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002"};function F4(n){let e;const t=on(n,Zo.Rows),r=on(n,Zo.Columns);return t!==void 0&&r!==void 0&&(e=[r,t]),e}function dL(n){const e=fa(n,Zo.PixelSpacing);if(e===void 0||e.length!==2)return;const t=[parseFloat(e[1]),parseFloat(e[0])],r=on(n,Zo.SpacingBetweenSlices);return r!==void 0&&t.push(parseFloat(r)),new mu(t)}function hP(n){const e=on(n,Zo.PhotometricInterpretation),t=on(n,Zo.TransferSyntax);if(e!==void 0&&t!==void 0){let r=e.toUpperCase();(sw(t)||ow(t)||aw(t))&&!uw(r)&&(r="RGB");let i=on(n,Zo.SamplesPerPixel);return i===void 0&&(i=1),r==="RGB"&&i===1&&(r="PALETTE COLOR"),r}}function uw(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function fp(n){return("0"+n).slice(-2)}function MC(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,r=6;return e.length===10&&(t=5,r=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===r+2?parseInt(e.substring(r,r+2),10):0}}function TS(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),r=e.length>=4?parseInt(e.substring(2,4),10):0,i=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:r,seconds:i,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function M4(n){return{year:n.getFullYear().toString(),monthIndex:fp((n.getMonth()+1).toString()),day:fp(n.getDate().toString())}}function N4(n){return{hours:fp(n.getHours().toString()),minutes:fp(n.getMinutes().toString()),seconds:fp(n.getSeconds().toString())}}function U4(n){return n.year+n.monthIndex+n.day}function q4(n){return n.hours+n.minutes+n.seconds}const fP="00080016",pP="00080060",gP="00280002",mP="00280100",SP={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};var Tl,x0;class OW{constructor(){G(this,Tl);G(this,x0)}getWarning(){return u(this,Tl)}checkElements(e){if(z(this,Tl,void 0),F4(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!tL(e))throw new Error("No pixel data in DICOM file");const t=on(e,pP);if(t!==void 0&&t==="PT"){const i=hP(e);if((r=on(e,fP))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(r)||!uw(i))return u(this,Tl);const o=function(s){let l="";const d={};let h;l+=es(s["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),l+=es(s["00541102"],"Decay Correction (00541102)",["START"]),l+=es(s["00541001"],"Units (00541001)",["BQML"]);const f=s["00101030"],m=es(f," PatientWeight (00101030)");if(m.length===0){const g=parseFloat(f.value[0]);isNaN(g)?l+=" PatientWeight is not a number":h=g}else l+=m;const v=function(g){let S,y="";const C=MC(g["00080021"]);let x,w,b;const T=g["00540016"];if(y+=es(T,"RadiopharmaceuticalInformationSequence (00540016)"),T!==void 0){T.value.length!==1&&Pe.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const R="RadionuclideTotalDose (00181074)",U=T.value[0]["00181074"];if(S=es(U,R),S.length===0){const W=parseFloat(U.value[0]);isNaN(W)?y+=" TotalDose is not a number":x=W}else y+=S;const N="RadionuclideHalfLife (00181075)",L=T.value[0]["00181075"];if(S=es(L,N),S.length===0){const W=parseFloat(L.value[0]);isNaN(W)?y+=" HalfLife is not a number":w=W}else y+=S;const I=T.value[0]["00181078"];let _,B;if(I===void 0)_=C,B=TS(T.value[0]["00181072"]);else{const W=function(H){if(H===void 0||H.value.length!==1)return;const j=H.value[0].split("&")[0],X=new sd("DA");X.value=[j.substring(0,8)];const V=MC(X),$=new sd("TM");return $.value=[j.substring(8)],{date:V,time:j.length>=9?TS($):void 0}}(I);_=W.date,B=W.time}B===void 0&&(B={hours:0,minutes:0,seconds:0,milliseconds:0}),b=new Date(_.year,_.monthIndex,_.day,B.hours,B.minutes,B.seconds,B.milliseconds)}const P=TS(g["00080031"]);let A=new Date(C.year,C.monthIndex,C.day,P.hours,P.minutes,P.seconds,P.milliseconds);const F=g["00080022"],E=g["00080032"];if(F!==void 0&&E!==void 0){const R=MC(F),U=TS(E),N=new Date(R.year,R.monthIndex,R.day,U.hours,U.minutes,U.seconds,U.milliseconds);if(A>N){const L="Series date/time is after Aquisition date/time (diff="+(A.getTime()-N.getTime()).toString()+"ms) ";Pe.debug(L);let I=0;const _="FrameReferenceTime (00541300)",B=g["00541300"];y+=es(B,_),B!==void 0&&(I=B.value[0]);let W=0;const H="ActualFrameDuration (00181242)",j=g["00181242"];if(y+=es(j,H),j!==void 0&&(W=j.value[0]),I>0&&W>0){W/=1e3,I/=1e3;const X=Math.log(2)/w,V=X*W,$=1/X*Math.log(V/(1-Math.exp(-V)))-I;A=new Date(R.year,R.monthIndex,R.day,U.hours,U.minutes,U.seconds+$,U.milliseconds)}}}let k;if(A!==void 0&&b!==void 0&&x!==void 0&&w!==void 0){const R=(A.getTime()-b.getTime())/1e3;k=x*Math.pow(2,-R/w)}return{value:k,warning:y}}(s);return l+=v.warning,l.length!==0?d.warning="Cannot calculate PET SUV:"+l:d.value=1e3*h/v.value,d}(e);z(this,x0,o.value),z(this,Tl,o.warning)}var r;return u(this,Tl)}create(e,t,r){const i=function(j){return on(e,j)},o=function(j){return fa(e,j)},s=F4(e),l=[s[0],s[1],1],d=i("00280008");if(d!==void 0){const j=parseInt(d,10);j>1&&l.push(j)}const h=new zs(l);let f=[1,1,1];const m=function(j){let X;const V=["PixelSpacing","ImagerPixelSpacing","NominalScannedPixelSpacing","PixelAspectRatio"];for(const $ of V){const ne=fa(j,Zo[$]);if(ne!==void 0&&ne.length===2){X=[parseFloat(ne[1]),parseFloat(ne[0])];break}}return X}(e);m!==void 0&&(f=[m[0],m[1],1]);const v=new mu(f),g=o("00200032");let S=new Array(0,0,0);g!==void 0&&(S=[parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])]);const y=function(j){const X=fa(j,Zo.ImageOrientationPatient);let V;return X!==void 0&&(V=iw(X.map($=>parseFloat($)))),V}(e),C=new zt(S[0],S[1],S[2]),x=void 0,w=new Su([C],h,v,y,x),b=i("00080018");let T=i(gP);T===void 0&&(T=1);const P=h.getTotalSize()*T;if(P!==t.length){if(Pe.warn("Badly sized pixel buffer: "+t.length+" != "+P),!(P<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,h.getTotalSize())}const A=new hd(w,t,[b]),F=hP(e);F!==void 0&&A.setPhotometricInterpretation(F);const E=i("00280006");E!==void 0&&A.setPlanarConfiguration(E);let k=1;const R=i("00281053");if(R!==void 0){const j=parseFloat(R);isNaN(j)||(k=j)}let U=0;const N=i("00281052");if(N!==void 0){const j=parseFloat(N);isNaN(j)||(U=j)}let L=!1,I=1;u(this,x0)!==void 0&&(L=!0,I=u(this,x0),Pe.info("Applying PET SUV calibration: "+I),k*=I,U*=I);const _=new rw(k,U);if(A.setRescaleSlopeAndIntercept(_),A.getPhotometricInterpretation()==="PALETTE COLOR"){const j=function(X){let V;const $=fa(X,"00281101");if($!==void 0&&$.length===3){let ne,ie,te;const pe=X["00281201"],ee=X["00281202"],oe=X["00281203"];if($[2]===16){let de=!1,me=$[0];me===0&&(me=65536);const we=pe.vl;if(we!==2*me&&(de=!0,Pe.info("16bits lut but size is not double. desc: "+me+" vl: "+we)),parseInt(on(X,mP),10)===8&&(de=!0,Pe.info("Scaling 16bits color lut since bits allocated is 8.")),de){const Te=function(qe){return qe>>8};ne=pe.value.map(Te),ie=ee.value.map(Te),te=oe.value.map(Te)}}else if($[2]===8){Pe.info("Scaling 16bits color lut since the lut descriptor is 8.");let de=pe.value.slice(0);ne=Array.from(new Uint8Array(de.buffer)),de=ee.value.slice(0),ie=Array.from(new Uint8Array(de.buffer)),de=oe.value.slice(0),te=Array.from(new Uint8Array(de.buffer))}V=new nw(ne,ie,te)}return V}(e);j!==void 0&&A.setPaletteColourMap(j)}const B={numberOfFiles:r};B.TransferSyntaxUID=i("00020010"),B.MediaStorageSOPClassUID=i("00020002"),B.SOPClassUID=i(fP),B.Modality=i(pP),B.ImageType=i("00080008"),B.SamplesPerPixel=i(gP),B.PhotometricInterpretation=i("00280004"),B.PixelRepresentation=i("00280103"),B.BitsAllocated=i(mP),B.BitsStored=i("00280101"),B.HighBit=i("00280102"),B.ImageOrientationPatient=o("00200037");const W=Object.keys(SP);for(const j of W)B[j]=i(SP[j]);if(L)B.pixelUnit="SUV";else{const j=function(X){return function(V){let $;const ne=["RescaleType","Units"];for(const ie of ne)if(on(V,Zo[ie])!==void 0)break;if($===void 0){const ie=on(V,Zo.Modality);ie!==void 0&&ie==="CT"&&($="HU")}return $}(X)}(e);j!==void 0&&(B.pixelUnit=j)}B.lengthUnit=m===void 0?"unit.pixel":"unit.mm";const H=function(j,X){let V;const $=fa(j,"00281050"),ne=fa(j,"00281051");if($!==void 0&&ne!==void 0){V={};const ie=fa(j,"00281055");let te;for(let pe=0;pe<$.length;++pe){const ee=parseFloat($[pe]);let oe=parseFloat(ne[pe]);ee&&oe&&oe!==0&&(te="",ie!==void 0&&(te=ie[pe]),te===""&&(te="Default"+pe),oe*=X,oe<1&&(oe=1),V[te]={wl:[new mi(ee*X,oe)],name:te}),oe===0&&Pe.warn("Zero window width found in DICOM.")}}return V}(e,I);return H!==void 0&&(B.windowPresets=H),B.VOILUTFunction=i("00281056"),A.setMeta(B),A}}Tl=new WeakMap,x0=new WeakMap;let yP=0;function EW(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);yP+=1;const t="."+yP;let r="1.2.826.0.1.3680043.9.7278.1.";const i=29+t.length+e.length,o=Math.min(n.length,64-i);if(o>1){let s="";for(let l=0;l<o;++l)s+=n.charCodeAt(l);r+=s.substring(0,o)}return r+=e+t,r}function xp(n){const e=Object.keys(n),t={};for(const r of e){const i=wW(r);if(i===void 0)continue;const o=i.getVrFromDictionary();let s,l=!1;const d=n[r];if(o==="SQ"){const f=[];if(d.undefinedLength!==void 0&&(l=d.undefinedLength),Array.isArray(d.value))for(const m of d.value)f.push(xp(m));else Pe.debug("Non array simpleTag SQ value");s=f}else s=Array.isArray(d)?d:[d];const h=new sd(o);h.tag=i,h.value=s,l&&(h.undefinedLength=l),t[i.getKey()]=h}return t}const vP="00080100",CP="00080102",bP="00080119",wP="00080120";class Tp{constructor(e){ae(this,"meaning");ae(this,"value");ae(this,"longValue");ae(this,"urnValue");ae(this,"schemeDesignator");this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function YS(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function r0(n){const e=new Tp(n["00080104"].value[0]);if(n[vP]!==void 0)e.value=n[vP].value[0];else if(n[bP]!==void 0)e.longValue=n[bP].value[0];else{if(n[wP]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[wP].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[CP]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[CP].value[0]}return e}function xu(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const DP={value:"111017",meaning:"CAD Processing and Findings Summary"},xP={value:"111030",meaning:"Image Region"},TP={value:"111059",meaning:"Single Image Finding"},kW={value:"111099",meaning:"Selected region"},_W={value:"111242",meaning:"All algorithms succeeded; with findings"},PP={value:"112000",meaning:"Chest CAD Report"},IP={value:"112020",meaning:"Response Evaluation"},FW={value:"112021",meaning:"Response Evaluation Method"},MW={value:"112022",meaning:"RECIST"},PS={value:"112039",meaning:"Tracking Identifier"},RP={value:"112051",meaning:"Measurement of Response"},NC={value:"112040",meaning:"Tracking Unique Identifier"},LP={value:"112048",meaning:"Current Response"},NW={value:"113076",meaning:"Segmentation"},UW={value:"121055",meaning:"Path"},AP={value:"121106",meaning:"Comment"},qW={value:"121322",meaning:"Source image for image processing operation"},BW={value:"121324",meaning:"Source Image"},IS={value:"122438",meaning:"Reference Points"},RS={value:"125007",meaning:"Measurement Group"},OP={value:"125309",meaning:"Short Label"},UC={value:"126000",meaning:"Imaging Measurement Report"},EP={value:"126010",meaning:"Imaging Measurements"},kP={value:"128773",meaning:"Reference Geometry"},VW={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},GW={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function st(n){const e=new Tp(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function U2(n,e){let t,r;return e==="SCT"?t=VW[n]:e==="UCUM"&&(t=GW[n]),t!==void 0&&(r=new Tp(t),r.schemeDesignator=e,r.value=n),r}function _P(){return U2("718499004","SCT")}const B4={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},V4={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function hL(n){const e=V4[n];let t;return e!==void 0?t=U2(e,"UCUM"):e===void 0&&(t=U2("1","UCUM")),t}const FP="00620005",MP="00620009",NP="0062000C",UP="0062000D",qP="00620003",BP="0062000F",VP="00620020";class QW{constructor(e,t,r){ae(this,"number");ae(this,"label");ae(this,"algorithmType");ae(this,"algorithmName");ae(this,"displayValue");ae(this,"displayRGBValue");ae(this,"propertyTypeCode");ae(this,"propertyCategoryCode");ae(this,"trackingUid");ae(this,"trackingId");this.number=e,this.label=t,this.algorithmType=r}}function zW(n){const e=new QW(n["00620004"].value[0],n[FP]?n[FP].value[0]:"n/a",n["00620008"].value[0]);if(n[MP]!==void 0&&(e.algorithmName=n[MP].value[0]),n[NP]!==void 0)e.displayValue=n[NP].value[0];else if(n[UP]!==void 0){const r=n[UP].value,i=function(o){return function(s){function l(m){let v=null;return v=m<=.0031308?12.92*m:1.055*Math.pow(m,.416666667)-.055,Math.min(1,Math.max(0,v))}const d=s.x/100,h=s.y/100,f=s.z/100;return{r:Math.round(255*l(3.2406*d-1.5372*h-.4986*f)),g:Math.round(255*l(-.9689*d+1.8758*h+.0415*f)),b:Math.round(255*l(.0557*d-.204*h+1.057*f))}}(function(s){function l(f){let m=null;return m=f>.206896552?Math.pow(f,3):.128418549*f-.017712903,m}const d=HR,h=(s.l+16)/116;return{x:d.x*l(h+s.a/500),y:d.y*l(h),z:d.z*l(h-s.b/200)}}(o))}({l:.001525902*(t={l:r[0],a:r[1],b:r[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=i}else Pe.warn("No recommended colour for segment, using default"),e.displayRGBValue=function(r){const i=[new pr(0,0,0),new pr(255,0,0),new pr(0,255,0),new pr(0,0,255),new pr(255,255,0),new pr(0,255,255),new pr(255,0,255),new pr(255,239,213),new pr(0,0,205),new pr(205,133,63),new pr(210,180,140),new pr(102,205,170),new pr(0,0,128),new pr(0,139,139),new pr(46,139,87),new pr(255,228,225)];let o;return o=r<i.length?i[r]:new pr(255*Math.random(),255*Math.random(),255*Math.random()),o}(e.number);var t;if(n[qP]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=r0(n[qP].value[0]),n[BP]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=r0(n[BP].value[0]),n[VP]!==void 0&&(e.trackingId=n[VP].value[0],e.trackingUid=n["00620021"].value[0]),e}function WW(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const r=oW(aW(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(r.l),Math.round(r.a),Math.round(r.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[xu(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[xu(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const GP="00089124",QP="00082112",zP="00081150",WP="00081155",jP="00209116",HP="00289110";class jW{constructor(e,t,r,i){ae(this,"dimIndex");ae(this,"imagePosPat");ae(this,"derivationImages");ae(this,"refSegmentNumber");ae(this,"imageOrientationPatient");ae(this,"spacing");this.dimIndex=e,this.imagePosPat=t,this.derivationImages=r,this.refSegmentNumber=i}}function HW(n){const e=[];if(n[GP]!==void 0){const l=n[GP].value;for(let d=0;d<l.length;++d){const h=[];if(l[d][QP]!==void 0){const f=l[d][QP].value;for(let m=0;m<f.length;++m){const v={};f[m][zP]!==void 0&&(v.referencedSOPClassUID=f[m][zP].value[0]),f[m][WP]!==void 0&&(v.referencedSOPInstanceUID=f[m][WP].value[0]),h.push(v)}}e.push({sourceImages:h})}}const t=n["00209111"].value[0]["00209157"].value,r=n["0062000A"].value,i=parseInt(r[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let l=0;l<o.length;++l)o[l]=parseFloat(o[l]);const s=new jW(t,o,e,i);if(n[jP]!==void 0){const l=n[jP];if(l.value.length!==0){const d=l.value[0]["00200037"].value;d!==void 0&&(s.imageOrientationPatient=d)}}if(n[HP]!==void 0){const l=n[HP];if(l.value.length!==0){const d=dL(l.value[0]);d!==void 0&&(s.spacing=d)}else Pe.warn("No shared functional group pixel measure sequence items.")}return s}function $W(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=xu(st(qW)),r=xu(st(NW)),i=[];for(const o of n.derivationImages){const s=[];for(const l of o.sourceImages)s.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:l.referencedSOPClassUID,ReferencedSOPInstanceUID:l.referencedSOPInstanceUID});i.push({DerivationCodeSequence:{value:[r]},SourceImageSequence:{value:s}})}e.DerivationImageSequence={value:i}}return e}const $P="00209116",YP="00289110",XP={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function YW(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let r,i=!1;if(r=t.value.length===1?t.value[0]:t.value,Array.isArray(r))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(ZR(e.enum[o],r)){i=!0;break}}else i=e.enum.includes(r);if(!i)throw new Error("Unsupported "+e.name+" value: "+r)}function XW(n,e,t){const r=n.getGeometry().getSize().getDimSize(2),i={};for(let o=0;o<r;++o){const s=t+o,l=n.getValueAtOffset(s);for(const d of e){const h=d.number-1;l===d.number&&(i[h]===void 0&&(i[h]=new Uint8Array(r)),i[h][o]=1)}}return i}const fL=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[M2,E4,N2]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function pL(){const n={};for(const e of fL)n[e.name]=e.enum[0];return n}var j2,of,gL,mL;class G4{constructor(){G(this,of);G(this,j2)}getWarning(){return u(this,j2)}checkElements(e){}create(e,t,r){const i=function(te){return on(e,te)},o=function(te){return fa(e,te)};for(const te of fL)YW(e,te);const s=F4(e),l=new zs([s[0],s[1],1]),d=l.getTotalSize();let h=i("00280008");if(h=h!==void 0?parseInt(h,10):1,h!==t.length/d)throw new Error("Buffer and numberOfFrames meta are not equal "+h+" "+t.length/d);const f=function(te){const pe=te["00209221"];if(pe===void 0||pe.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const ee=pe.value[0]["00209164"].value[0],oe=[],de=te["00209222"];if(de!==void 0){const me=de.value;if(me.length!==2)throw new Error("Unsupported dimension index sequence length");let we;for(let Te=0;Te<me.length;++Te){const qe=me[Te]["00209164"].value[0];if(qe!==ee)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");we=me[Te]["00209165"].value[0];const q={DimensionOrganizationUID:qe,DimensionIndexPointer:we};me[Te]["00209421"]!==void 0&&(q.DimensionDescriptionLabel=me[Te]["00209421"].value[0]),oe.push(q)}if(we!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:ee}]},indices:{value:oe}}}(e),m=o("00620002");if(m===void 0)throw new Error("Missing or empty segmentation sequence");const v=[],g=[0],S=[0],y=[0];for(let te=0;te<m.length;++te){const pe=zW(m[te]);pe.displayRGBValue!==void 0&&(g[pe.number]=pe.displayRGBValue.r,S[pe.number]=pe.displayRGBValue.g,y[pe.number]=pe.displayRGBValue.b),v.push(pe)}let C,x,w,b=!1;g.length>1&&(b=!0,C=new nw(g,S,y));const T=o("52009229");if(T!==void 0){const te=T[0];if(te[$P]!==void 0){const pe=te[$P];pe.value.length!==0?w=pe.value[0]["00200037"].value:Pe.warn("No shared functional group plane orientation sequence items.")}if(te[YP]!==void 0){const pe=te[YP];pe.value.length!==0?x=dL(pe.value[0]):Pe.warn("No shared functional group pixel measure sequence items.")}}const P=function(te,pe){return te.some(function(ee){return oe=pe,de=ee,JSON.stringify(oe)===JSON.stringify(de);var oe,de})},A=function(te,pe){return te.findIndex(function(ee){return pe.equals(ee)})},F=o("52009230");if(F===void 0)throw new Error("Missing or empty per frame functional sequence");if(h!==F.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const E=[];for(let te=0;te<F.length;++te)E.push(HW(F[te]));const k=[];for(let te=0;te<E.length;++te){if(P(k,E[te].imagePosPat)||k.push(E[te].imagePosPat),E[te].imageOrientationPatient!==void 0){if(w===void 0)w=E[te].imageOrientationPatient;else if(!ZR(w,E[te].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(E[te].spacing!==void 0){if(x===void 0)x=E[te].spacing;else if(!x.equals(E[te].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(x===void 0)throw new Error("No spacing found for DICOM SEG");if(x.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(w===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const R=iw(w.map(te=>parseFloat(te)));if(R===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");k.sort(function(te){const pe=te.getInverse();return function(ee,oe){const de=pe.multiplyArray3D(ee),me=pe.multiplyArray3D(oe);return de[2]-me[2]}}(R));const U=function(te){return new zt(te[0],te[1],te[2])},N=[];for(const te of k)N.push(U(te));let L;L=r!==void 0?Q(this,of,gL).call(this,N,l,x,R,r.getGeometry().getOrigins()):Q(this,of,mL).call(this,N,l,x,R);const I=L.getSize().get(2),_=function(te){return function(pe){return pe.number===te}},B=new t.constructor(d*I);B.fill(0);const W=L.getOrigins();let H,j,X;for(let te=0;te<E.length;++te){if(H=A(W,U(E[te].imagePosPat)),H===-1)throw new Error("Cannot find frame origin in mask origins");j=d*te,X=d*H;const pe=v.find(_(E[te].refSegmentNumber));for(let ee=0;ee<d;++ee)t[j+ee]!==0&&(B[X+ee]=b?pe.number:pe.displayValue)}const V=[];for(let te=0;te<I;++te)V.push(te.toString());const $=new hd(L,B,V);b&&($.setPhotometricInterpretation("PALETTE COLOR"),$.setPaletteColourMap(C));const ne=pL(),ie=Object.keys(XP);for(const te of ie)ne[te]=i(XP[te]);return ne.DimensionOrganizationSequence=f.organizations,ne.DimensionIndexSequence=f.indices,ne.custom={segments:v,frameInfos:E,SOPInstanceUID:i("00080018")},ne.lengthUnit=r.getMeta().lengthUnit,ne.numberOfFiles=I,$.setMeta(ne),$}toDicom(e,t,r,i){const o=e.getMeta();t===void 0&&(t=o.segments);const s=e.getGeometry(),l=s.getSize();o.Rows=l.get(1),o.Columns=l.get(0);const d=new Date;o.ContentDate=U4(M4(d)),o.ContentTime=q4(N4(d)),r!==void 0&&(o.StudyInstanceUID=r.getMeta().StudyInstanceUID);const h=[];for(const P of t)h.push(WW(P));var f,m;o.SegmentSequence={value:h},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(m=s.getOrientation(),{ImageOrientationPatient:[m.get(0,0),m.get(1,0),m.get(2,0),m.get(0,1),m.get(1,1),m.get(2,1)]})]},PixelMeasuresSequence:{value:[(f=s.getSpacing(),{SpacingBetweenSlices:f.get(2),PixelSpacing:[f.get(1),f.get(0)]})]}}]};const v=function(P,A){const F=P.getGeometry().getSize(),E=F.getDimSize(2),k={};for(let R=0;R<F.get(2);++R){const U=XW(P,A,R*E),N=Object.keys(U);for(const L of N)k[L]===void 0&&(k[L]={}),k[L][R]=U[L]}return k}(e,t),g=[],S=[],y=[];for(const P of t){const A=P.number,F=A-1;if(v[F]===void 0)continue;const E=Object.keys(v[F]);for(let k=E.length-1;k>=0;--k){const R=Number.parseInt(E[k],10);S.push(v[F][R]);const U=e.getGeometry().getOrigins()[R],N=[U.getX(),U.getY(),U.getZ()],L={dimIndex:[A,E.length-k],imagePosPat:N,refSegmentNumber:A};if(r!==void 0){const I=r.getGeometry().worldToIndex(new Du([U.getX(),U.getY(),U.getZ()]));L.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:r.getImageUid(I),referencedSOPClassUID:r.getMeta().SOPClassUID}]}],y.push({ReferencedSOPInstanceUID:r.getImageUid(I),ReferencedSOPClassUID:r.getMeta().SOPClassUID})}g.push(L)}}o.NumberOfFrames=S.length.toString();const C=[];for(const P of g)C.push($W(P));if(o.PerFrameFunctionalGroupsSequence={value:C},r!==void 0){const P=[];P.push({ReferencedInstanceSequence:{value:y},SeriesInstanceUID:r.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:P}}i!==void 0&&function(P,A){const F=Object.keys(A);for(const E of F)P[E]!==void 0&&Pe.debug("Overwritting tag: "+E),P[E]=A[E]}(o,i);const x=xp(o),w=l.getDimSize(2),b=S.length*w/8,T=new sd("OB");return T.tag=new Dp("7FE0","0010"),T.vl=b,T.value=S,x["7FE00010"]=T,x}}j2=new WeakMap,of=new WeakSet,gL=function(e,t,r,i,o){const s=function(f,m){return f.findIndex(function(v){return m.isSimilar(v,1e-4)})},l=[];l.push(e[0]);let d=s(o,e[0]);if(d===-1)throw new Error("No index for first frame origin");for(let f=1;f<e.length;++f){const m=e[f],v=s(o,m);if(v===-1)throw new Error("No index for frame origin "+f);if(v!==d+1)for(let g=d+1;g<v;++g)l.push(o[g]);l.push(m),d=v}const h=new Su([e[0]],t,r,i);for(let f=1;f<l.length;++f)h.appendOrigin(l[f],f);return h},mL=function(e,t,r,i){Pe.warn("Guessing image geometry for DICOM SEG");const o=new Su([e[0]],t,r,i),s=function(f){let m=f>Jy;return m&&(m=f>.001,m?(m=f>.01,m||Pe.warn("Using larger+ real world epsilon in SEG pos pat adding")):Pe.warn("Using larger real world epsilon in SEG pos pat adding")),m},l=[];l.push(e[0]);let d=0;for(let f=1;f<e.length;++f){++d;let m=new kt([0,0,d]),v=o.indexToWorld(m).get3D();const g=e[f];let S=g.getDistance(v);const y=S;for(;s(S);)if(Pe.debug("Adding intermediate pos pats for DICOM seg at "+v.toString()),l.push(v),++d,m=new kt([0,0,d]),v=o.indexToWorld(m).get3D(),S=g.getDistance(v),S>y)throw new Error("Test distance is increasing when adding intermediate pos pats");l.push(g)}const h=new Su([e[0]],t,r,i);for(let f=1;f<l.length;++f)h.appendOrigin(l[f],f);return h};var Bp,Q4;class SL{constructor(e){G(this,Bp);ae(this,"poolSize");ae(this,"taskQueue");ae(this,"freeThreads");ae(this,"runningThreads");ae(this,"handleWorkerError",e=>{Q(this,Bp,Q4).call(this),this.onerror({error:e}),this.onworkend({type:"work-end"})});this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new KW(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){Q(this,Bp,Q4).call(this),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}Bp=new WeakSet,Q4=function(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]};class KW{constructor(e){ae(this,"parentPool");ae(this,"id");ae(this,"runningTask");ae(this,"worker");ae(this,"onmessage",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)});ae(this,"onerror",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.handleWorkerError(e),this.stop()});this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}}class Jg{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class ZW extends Jg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cr.u(391),Cr.b),{name:"labeling.worker",type:"module"})}}var T0;class JW{constructor(){G(this,T0,new SL(1));u(this,T0).onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){u(this,T0).onworkitem=this.ondone;const r=new ZW(function(i,o){const s=o.length(),l=Array(s).fill(0);for(let h=0;h<s;h++)l[h]=o.getDimSize(h);const d=Array(s).fill(0);for(let h=0;h<s;h++)d[h]=o.get(h);return{imageBuffer:i,unitVectors:l,sizes:d,totalSize:o.getTotalSize()}}(e,t),{});u(this,T0).addWorkerTask(r)}ondone(e){}}T0=new WeakMap;var kn,Vt,Ai,Pl,ga,P0,I0,R0,Il,Vp,Gn,er,Rl,Ll,L0,A0,Al,Ua,z4,yL,W4,zo;const Sw=class Sw{constructor(e,t,r){G(this,Ua);G(this,kn);G(this,Vt);G(this,Ai);G(this,Pl,new rw(1,0));G(this,ga,null);G(this,P0,!0);G(this,I0,!0);G(this,R0,"MONOCHROME2");G(this,Il);G(this,Vp,0);G(this,Gn);G(this,er,{});G(this,Rl,null);G(this,Ll,null);G(this,L0,null);G(this,A0,new Gi);G(this,Al);G(this,zo,e=>{u(this,A0).fireEvent(e)});z(this,kn,e),z(this,Vt,t),z(this,Ai,r),z(this,Al,null),z(this,Gn,u(this,Vt).length/u(this,kn).getSize().getTotalSize())}getImageUid(e){let t=u(this,Ai)[0];return u(this,Ai).length!==1&&e!==void 0&&(t=u(this,Ai)[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const r=u(this,Ai).indexOf(e);return r!==-1&&(t=this.getGeometry().getOrigins()[r]),t}includesImageUid(e){return u(this,Ai).includes(e)}containsImageUids(e){return function(t,r){if(t===null||r===null||t===void 0||r===void 0||t.length===0||r.length===0||r.length>t.length)return!1;for(const i of r)if(!t.includes(i))return!1;return!0}(u(this,Ai),e)}getGeometry(){return u(this,kn)}getBuffer(){return u(this,Vt)}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return uw(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let r=1;return u(this,er).numberOfFiles!==void 0&&(r=u(this,er).numberOfFiles),t.canScroll(e)||r!==1}getSecondaryOffset(e){return u(this,kn).getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=u(this,Pl);if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const r=this.getSecondaryOffset(e);u(this,ga)[r]!==void 0?t=u(this,ga)[r]:Pe.warn("undefined non constant rsi at "+r)}return t}setRescaleSlopeAndIntercept(e,t){if(z(this,P0,u(this,P0)&&e.isID()),u(this,I0)){if(!u(this,Pl).equals(e))if(t===void 0)z(this,Pl,e);else{z(this,I0,!1),z(this,ga,[]);for(let r=0,i=Q(this,Ua,z4).call(this);r<i;++r)u(this,ga).push(u(this,Pl));z(this,Pl,null),u(this,ga).splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");u(this,ga).splice(t,0,e)}}isIdentityRSI(){return u(this,P0)}isConstantRSI(){return u(this,I0)}getPhotometricInterpretation(){return u(this,R0)}setPhotometricInterpretation(e){z(this,R0,e)}setPaletteColourMap(e){z(this,Il,e),u(this,zo).call(this,{type:"imagecontentchange"})}getPaletteColourMap(){return u(this,Il)}updatePaletteColourMap(e,t){u(this,Il).red[e]=t.r,u(this,Il).green[e]=t.g,u(this,Il).blue[e]=t.b,u(this,zo).call(this,{type:"imagecontentchange"})}getPlanarConfiguration(){return u(this,Vp)}setPlanarConfiguration(e){z(this,Vp,e)}getNumberOfComponents(){return u(this,Gn)}getMeta(){return u(this,er)}setMeta(e){z(this,er,e)}getValueAtOffset(e){return u(this,Vt)[e]}getOffsets(e){let t;if(typeof e=="number"){if(u(this,Gn)!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(u(this,Gn)!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const r=[];let i;for(let o=0;o<u(this,Vt).length;o+=u(this,Gn)){i=!0;for(let s=0;s<u(this,Gn);++s)if(u(this,Vt)[o+s]!==t[s]){i=!1;break}i&&r.push(o)}return r}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let h=0;h<e.length;++h)u(this,Gn)===1?t.push([e[h]]):u(this,Gn)===3&&t.push([e[h].r,e[h].g,e[h].b]);let r;u(this,Gn)===1?r=function(h,f){return h[0]===f[0]}:u(this,Gn)===3&&(r=function(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]});const i=function(h){return function(f){return r(f,h)}},o=new Array(e.length);o.fill(!1);const s=t.slice();let l,d;for(let h=0,f=u(this,Vt).length;h<f;h+=u(this,Gn)){d=[];for(let m=0;m<s.length;++m){l=!0;for(let v=0;v<u(this,Gn);++v)if(u(this,Vt)[h+v]!==s[m][v]){l=!1;break}l&&(o[t.findIndex(i(s[m]))]=!0,d.push(m))}for(let m=0;m<d.length;++m)s.splice(d[m],1);if(s.length===0)break}return o}clone(){const e=u(this,Vt).slice(0),t=new Sw(this.getGeometry(),e,u(this,Ai));if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let r=0;r<Q(this,Ua,z4).call(this);++r)t.setRescaleSlopeAndIntercept(Q(this,Ua,yL).call(this,r),r);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setMeta(this.getMeta()),t}appendSlice(e){if(e===null)throw new Error("Cannot append null slice");const t=e.getGeometry().getSize();let r=u(this,kn).getSize();if(t.get(2)!==1)throw new Error("Cannot append more than one slice");if(r.get(0)!==t.get(0))throw new Error("Cannot append a slice with different number of columns");if(r.get(1)!==t.get(1))throw new Error("Cannot append a slice with different number of rows");if(!u(this,kn).getOrientation().isSimilar(e.getGeometry().getOrientation(),Jy))throw new Error("Cannot append a slice with different orientation");if(u(this,R0)!==e.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const w in u(this,er))if(w!=="windowPresets"&&w!=="numberOfFiles"&&w!=="custom"&&w!=="ImageOrientationPatient"&&u(this,er)[w]!==e.getMeta()[w])throw new Error("Cannot append a slice with different "+w+": "+u(this,er)[w]+" != "+e.getMeta()[w]);const i=e.getDataRange(),o=this.getDataRange();z(this,Rl,{min:Math.min(i.min,o.min),max:Math.max(i.max,o.max)});const s=e.getRescaledDataRange(),l=this.getRescaledDataRange();z(this,Ll,{min:Math.min(s.min,l.min),max:Math.max(s.max,l.max)});const d=e.getGeometry().getInitialTime();let h=!1;d===void 0||u(this,kn).hasSlicesAtTime(d)||(this.appendFrame(d,e.getGeometry().getOrigin()),r=u(this,kn).getSize(),h=!0);const f=function(w,b){const T=b.getInitialTime(),P=[];return P.push(0),P.push(0),P.push(w.getSliceIndex(b.getOrigin(),T)),T!==void 0&&P.push(T),new kt(P)}(u(this,kn),e.getGeometry()),m=u(this,Gn)*r.getDimSize(2);if(u(this,er).numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const v=m*u(this,er).numberOfFiles;u(this,Vt).length!==v&&Q(this,Ua,W4).call(this,v);const g=f.get(2);let S=g;d!==void 0&&(S+=u(this,kn).getCurrentNumberOfSlicesBeforeTime(d));const y=S*m,C=u(this,kn).getCurrentTotalNumberOfSlices()*m;y<C&&u(this,Vt).set(u(this,Vt).subarray(y,C),y+m),u(this,Vt).set(e.getBuffer(),y),h||u(this,kn).appendOrigin(e.getGeometry().getOrigin(),g,d),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),S);const x=u(this,Ai).length;if(u(this,Ai).splice(S,0,e.getImageUid()),u(this,er).windowPresets!==void 0){const w=u(this,er).windowPresets,b=e.getMeta().windowPresets,T=Object.keys(b);let P=null;for(let A=0;A<T.length;++A){P=T[A];const F=b[P],E=w[P];if(E!==void 0){if((E.perslice===void 0||E.perslice===!1)&&!E.wl[0].equals(F.wl[0])){E.perslice=!0;for(let k=0;k<x-1;++k)E.wl.push(E.wl[0])}E.perslice!==void 0&&E.perslice===!0&&w[P].wl.splice(S,0,F.wl[0])}else w[P]=b[P]}}u(this,zo).call(this,{type:"imagegeometrychange"})}appendFrameBuffer(e,t){const r=u(this,kn).getSize(),i=u(this,Gn)*r.getDimSize(2);if(u(this,er).numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=i*u(this,er).numberOfFiles;u(this,Vt).length!==o&&Q(this,Ua,W4).call(this,o),t>=u(this,er).numberOfFiles?Pe.warn("Ignoring frame at index "+t+" (size: "+u(this,er).numberOfFiles+")"):(u(this,Vt).set(e,i*t),this.appendFrame(t,new zt(0,0,0)))}appendFrame(e,t){u(this,kn).appendFrame(t,e),u(this,zo).call(this,{type:"appendframe"})}getDataRange(){return u(this,Rl)||z(this,Rl,this.calculateDataRange()),u(this,Rl)}getRescaledDataRange(){return u(this,Ll)||z(this,Ll,this.calculateRescaledDataRange()),u(this,Ll)}getHistogram(){if(!u(this,L0)){const e=this.calculateHistogram();z(this,Rl,e.dataRange),z(this,Ll,e.rescaledDataRange),z(this,L0,e.histogram)}return u(this,L0)}addEventListener(e,t){u(this,A0).add(e,t)}removeEventListener(e,t){u(this,A0).remove(e,t)}setAtOffsets(e,t){let r,i;if(typeof t=="number"){if(u(this,Gn)!==1)throw new Error("Number of components is not 1 for setting single value.");r=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(u(this,Gn)!==3)throw new Error("Number of components is not 3 for setting RGB value.");r=[t.r,t.g,t.b]}for(let o=0,s=e.length;o<s;++o){i=e[o];for(let l=0;l<u(this,Gn);++l)u(this,Vt)[i+l]=r[l]}u(this,zo).call(this,{type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(e,t){const r=[];for(let i=0;i<e.length;++i){const o=e[i];let s=o[0],l=u(this,Vt)[s];const d=[];d.push({index:0,value:l});for(let h=0;h<o.length;++h){s=o[h];const f=u(this,Vt)[s];l!==f&&(d.push({index:h,value:f}),l=f),u(this,Vt)[s]=t}r.push(d)}return u(this,zo).call(this,{type:"imagecontentchange"}),r}setAtOffsetsWithIterator(e,t){const r=Array.isArray(t);for(let i=0;i<e.length;++i){const o=e[i];let s;s=cW(r?t[i]:[{index:0,value:t}],o.length);let l=s.next();for(;!l.done;){const d=o[l.index];u(this,Vt)[d]=l.value,l=s.next()}}u(this,zo).call(this,{type:"imagecontentchange"})}getValue(e,t,r,i){const o=new kt([e,t,r,i||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(o))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,r,i){i===void 0&&(i=0);let o=this.getValue(e,t,r,i);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const s=new kt([e,t,r,i]);o=this.getRescaleSlopeAndIntercept(s).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const r=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(r).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,r=0;const i=this.getGeometry().getSize();let o=i.getTotalSize();i.length()>=3&&(o=i.getDimSize(3));for(let s=0;s<o;++s)r=this.getValueAtOffset(s),r>t&&(t=r),r<e&&(e=r);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),r=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<r?t:r,max:t>r?t:r}}{let e=this.getRescaledValueAtOffset(0),t=e,r=0;const i=this.getGeometry().getSize();let o=i.getTotalSize();i.length()===3&&(o=i.getDimSize(3));for(let s=0;s<o;++s)r=this.getRescaledValueAtOffset(s),r>t&&(t=r),r<e&&(e=r);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let r=this.getValueAtOffset(0),i=r,o=0,s=this.getRescaledValueAtOffset(0),l=s,d=0;for(let v=0,g=e.getTotalSize();v<g;++v)o=this.getValueAtOffset(v),o>i&&(i=o),o<r&&(r=o),d=this.getRescaledValueAtOffset(v),d>l&&(l=d),d<s&&(s=d),t[d]=(t[d]||0)+1;const h={min:r,max:i},f={min:s,max:l},m=[];for(let v=s;v<=l;++v)m.push([v,t[v]||0]);return{dataRange:h,rescaledDataRange:f,histogram:m}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),r=t.getBuffer(),i=this.getGeometry().getSize(),o=i.getDimSize(2)*this.getNumberOfComponents();for(let s=0;s<i.get(2);++s)this.convoluteBuffer(e,r,s*o);return t}convoluteBuffer(e,t,r){const i=this.getGeometry().getSize(),o=i.get(0),s=i.get(1),l=this.getNumberOfComponents();let d=1,h=1;l===3&&(this.getPlanarConfiguration()===0?d=3:h=i.getDimSize(2));const f=[];f[0]=(-o-1)*d,f[1]=-o*d,f[2]=(1-o)*d,f[3]=-d,f[4]=0,f[5]=1*d,f[6]=(o-1)*d,f[7]=o*d,f[8]=(o+1)*d;const m=[];m[0]=f[4],m[1]=f[4],m[2]=f[5],m[3]=f[4],m[4]=f[4],m[5]=f[5],m[6]=f[7],m[7]=f[7],m[8]=f[8];const v=[];v[0]=f[1],v[1]=f[1],v[2]=f[2],v[3]=f[4],v[4]=f[4],v[5]=f[5],v[6]=f[7],v[7]=f[7],v[8]=f[8];const g=[];g[0]=f[1],g[1]=f[1],g[2]=f[2],g[3]=f[4],g[4]=f[4],g[5]=f[5],g[6]=f[4],g[7]=f[4],g[8]=f[5];const S=[];S[0]=f[3],S[1]=f[4],S[2]=f[5],S[3]=f[3],S[4]=f[4],S[5]=f[5],S[6]=f[6],S[7]=f[7],S[8]=f[8];const y=[];y[0]=f[0],y[1]=f[1],y[2]=f[2],y[3]=f[3],y[4]=f[4],y[5]=f[5],y[6]=f[3],y[7]=f[4],y[8]=f[5];const C=[];C[0]=f[3],C[1]=f[4],C[2]=f[4],C[3]=f[3],C[4]=f[4],C[5]=f[4],C[6]=f[6],C[7]=f[7],C[8]=f[7];const x=[];x[0]=f[0],x[1]=f[1],x[2]=f[1],x[3]=f[3],x[4]=f[4],x[5]=f[4],x[6]=f[6],x[7]=f[7],x[8]=f[7];const w=[];w[0]=f[0],w[1]=f[1],w[2]=f[1],w[3]=f[3],w[4]=f[4],w[5]=f[4],w[6]=f[3],w[7]=f[4],w[8]=f[4];let b=r,T=0,P=[];for(let A=0;A<l;++A){b+=A*h;for(let F=0;F<s;++F)for(let E=0;E<o;++E){P=f,E===0&&F===0?P=m:E===0&&F===s-1?P=g:E===o-1&&F===0?P=C:E===o-1&&F===s-1?P=w:E===0&&F!==s-1&&F!==0?P=v:E===o-1&&F!==s-1&&F!==0?P=x:E!==0&&E!==o-1&&F===0?P=S:E!==0&&E!==o-1&&F===s-1&&(P=y),T=0;for(let k=0;k<9;++k)T+=this.getValueAtOffset(b+P[k])*e[k];t[b]=T,b+=d}}}transform(e){const t=this.clone(),r=t.getBuffer();for(let i=0,o=r.length;i<o;++i)r[i]=e(t.getValueAtOffset(i));return t}compose(e,t){const r=this.clone(),i=r.getBuffer();for(let o=0,s=i.length;o<s;++o)i[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return r}recalculateLabels(){if(u(this,Al)===null){z(this,Al,new JW);const e=u(this,kn).getSpacing(),t=this.getMeta().lengthUnit;let r=1,i="unit.pixel";t==="unit.mm"&&(r=e.get(0)*e.get(1)*e.get(2)*.001,i="unit.ml"),u(this,Al).ondone=o=>{const s=o.data.labels;for(const d of s)d.centroid=u(this,kn).indexToWorld(new kt(d.centroidIndex)),d.volume=d.count*r,d.unit=i;const l=s.sort((d,h)=>h.volume-d.volume).sort((d,h)=>d.id-h.id);u(this,zo).call(this,{type:"labelschanged",labels:l})}}u(this,Al).run(u(this,Vt),u(this,kn).getSize())}};kn=new WeakMap,Vt=new WeakMap,Ai=new WeakMap,Pl=new WeakMap,ga=new WeakMap,P0=new WeakMap,I0=new WeakMap,R0=new WeakMap,Il=new WeakMap,Vp=new WeakMap,Gn=new WeakMap,er=new WeakMap,Rl=new WeakMap,Ll=new WeakMap,L0=new WeakMap,A0=new WeakMap,Al=new WeakMap,Ua=new WeakSet,z4=function(){return u(this,kn).getSize().getTotalSize(2)},yL=function(e){return u(this,ga)[e]},W4=function(e){let t=u(this,Vt);if(z(this,Vt,LW(8*u(this,Vt).BYTES_PER_ELEMENT,u(this,er).PixelRepresentation,e)),u(this,Vt)===null)throw new Error("Cannot reallocate data for image.");u(this,Vt).set(t),t=null},zo=new WeakMap;let hd=Sw;var ds,ma,mc,Ir,Oi;class vL{constructor(e,t){G(this,ds);G(this,ma);G(this,mc);G(this,Ir);G(this,Oi);z(this,ds,e),z(this,ma,e.getRealSpacing()),z(this,mc,e.getOrientation()),z(this,Ir,t),z(this,Oi,function(r,i){let o=r.asOneAndZeros().multiply(i);return r.asOneAndZeros().getAbs().isSimilar(XR().getAbs())&&(o=o.getAbs()),o}(u(this,mc),t))}getViewOrientation(){return u(this,Ir)}getTargetOrientation(){return u(this,Oi)}getOffset3DFromPlaneOffset(e){const t=new dn(e.x,e.y,0),r=this.getTargetDeOrientedVector3D(t);return new dn(r.getX()*u(this,ma).get(0),r.getY()*u(this,ma).get(1),r.getZ()*u(this,ma).get(2))}getPlaneOffsetFromOffset3D(e){const t=new dn(e.x/u(this,ma).get(0),e.y/u(this,ma).get(1),e.z/u(this,ma).get(2)),r=this.getTargetOrientedVector3D(t);return{x:r.getX(),y:r.getY()}}getTargetOrientedVector3D(e){let t=e;return u(this,Oi)!==void 0&&(t=u(this,Oi).getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return u(this,Oi)!==void 0&&(t=u(this,Oi).multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return u(this,Oi)!==void 0&&(t=u(this,Oi).multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(u(this,Ir)!==void 0){const r=dP([e.getX(),e.getY(),e.getZ()],u(this,Ir));t=new dn(r[0],r[1],r[2])}return t}getImageOrientedPoint3D(e){let t=e;if(u(this,Ir)!==void 0){const r=dP([e.getX(),e.getY(),e.getZ()],u(this,Ir));t=new zt(r[0],r[1],r[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(u(this,Ir)!==void 0){const r=hp([e.getX(),e.getY(),e.getZ()],u(this,Ir));t=new dn(r[0],r[1],r[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(u(this,Ir)!==void 0){const r=hp([e.getX(),e.getY(),e.getZ()],u(this,Ir));t=new zt(r[0],r[1],r[2])}return t}getPositionFromPlanePoint(e,t){const r=new zt(e.getX(),e.getY(),t),i=this.getImageOrientedPoint3D(r);return u(this,ds).pointToWorld(i)}getPlanePointFromPosition(e){const t=u(this,ds).worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=u(this,Oi)).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),r=this.indexToWorld(t),i=this.getPlanePointFromPosition(r),o=this.getPositionFromPlanePoint(new Re(0,0),i.getZ()),s=u(this,ds).getOrigins(),l=s[o.getClosest(s)],d=o.getValues(),h=l.getValues(),f=this.getNativeScrollDimIndex();d[f]=h[f];const m=this.getCosines();return[new zt(d[0],d[1],d[2]),new zt(m[0],m[1],m[2]),new zt(m[3],m[4],m[5])]}worldToIndex(e){return u(this,ds).worldToIndex(e)}indexToWorld(e){return u(this,ds).indexToWorld(e)}isAquisitionOrientation(){return F2(u(this,Ir))}getTargetOrientedPositiveXYZ(e){const t=hp([e.x,e.y,e.z],u(this,Oi));return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=u(this,Ir)!==void 0?u(this,Ir).getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=u(this,mc)!==void 0?u(this,mc).getThirdColMajorDirection():2,e}}ds=new WeakMap,ma=new WeakMap,mc=new WeakMap,Ir=new WeakMap,Oi=new WeakMap;var O0;class ej{constructor(e){G(this,O0);z(this,O0,e)}getCurrentPosition(){return u(this,O0).getCurrentPosition()}setCurrentPosition(e,t){let r=!1;return e!==void 0&&(r=u(this,O0).setCurrentPosition(e,t)),r}}O0=new WeakMap;var E0,ti,so;class KP{constructor(e){G(this,E0);G(this,ti);G(this,so);z(this,E0,new ej(e)),z(this,ti,e.getImage().getGeometry()),z(this,so,e.getScrollDimIndex())}getGeometry(){return u(this,ti)}getScrollDimIndex(){return u(this,so)}getMaximumDimValue(e){return u(this,ti).getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(u(this,so))}getCurrentPosition(){return u(this,E0).getCurrentPosition()}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(u(this,so))}getCurrentPositionAtDimValue(e,t){const r=this.getCurrentIndex().getValues();return r[e]=t,u(this,ti).indexToWorld(new kt(r))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(u(this,so),e)}getCurrentIndex(){return u(this,ti).worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let r=!1;return e!==void 0&&(r=u(this,E0).setCurrentPosition(e,t)),r}setCurrentPositionSafe(e,t){let r=!1;return this.isPositionInBounds(e)&&(r=this.setCurrentPosition(e,t)),r}merge(e){if(u(this,so)!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");z(this,ti,function(t,r){const i=t.getOrientation();if(!i.isSimilar(r.getOrientation()))throw new Error("Cannot merge geometries with different orientation");const o=i.getInverse(),s=function(w,b){return w.map((T,P)=>Math.min(T,b[P]))},l=new mu(s(t.getSpacing().getValues(),r.getSpacing().getValues())),d=function(w){return o.multiplyPoint3D(w.get3D())},h=t.getRange().map(d),f=r.getRange().map(d),m=s(h[0].getValues(),f[0].getValues()),v=(g=h[1].getValues(),S=f[1].getValues(),g.map((w,b)=>Math.max(w,S[b])));var g,S;const y=[];for(let w=0;w<m.length;++w)y.push(Math.round(Math.abs(v[w]-m[w])/l.get(w)));const C=new zs(y),x=[];for(let w=0;w<C.get(2);++w){const b=m.slice();b[2]=m[2]+w*l.get(2);const T=new zt(b[0],b[1],b[2]);x.push(i.multiplyPoint3D(T))}return new Su(x,C,l,i)}(u(this,ti),e.getGeometry()))}isPositionInBounds(e){const t=u(this,ti).worldToIndex(e),r=[u(this,so)];return t.length()===4&&r.push(3),u(this,ti).isIndexInBounds(t,r)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return u(this,ti).indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return u(this,ti).indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(u(this,so))}decrementPositionAlongScroll(){return this.decrementPosition(u(this,so))}}E0=new WeakMap,ti=new WeakMap,so=new WeakMap;var Ze,Wo,hs,fs,Gp,Qp,j4;class tj{constructor(e){G(this,Qp);G(this,Ze);G(this,Wo);G(this,hs);G(this,fs);G(this,Gp,!1);if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");z(this,Ze,e),z(this,Wo,new vL(e.getImage().getGeometry(),e.getOrientation())),z(this,hs,new KP(e)),e.getImage().getMeta().Modality==="SEG"&&z(this,Gp,!0)}getPlaneHelper(){return u(this,Wo)}isMask(){return u(this,Gp)}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new Re(0,0)))}getModality(){return u(this,Ze).getImage().getMeta().Modality}getSopClassUid(){return u(this,Ze).getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return u(this,Ze).getWindowPresetsNames()}addWindowLevelPresets(e){return u(this,Ze).addWindowPresets(e)}setWindowLevelPreset(e){u(this,Ze).setWindowLevelPreset(e)}setWindowLevelPresetById(e){u(this,Ze).setWindowLevelPresetById(e)}isPlaying(){return u(this,fs)!==void 0}getPositionHelper(){return u(this,hs)}getPositionHelperClone(){return new KP(u(this,Ze))}getCurrentPosition(){return u(this,hs).getCurrentPosition()}getCurrentIndex(){return u(this,hs).getCurrentIndex()}getCurrentImageUid(){return u(this,Ze).getCurrentImageUid()}getOriginForImageUid(e){return u(this,Ze).getOriginForImageUid(e)}includesImageUid(e){return u(this,Ze).includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(u(this,Ze).getOrientation()!==void 0){const t=u(this,Wo).getImageDeOrientedVector3D(new dn(e.get(0),e.get(1),e.get(2)));e=new kt([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return u(this,Ze).getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(u(this,Ze).getScrollDimIndex())}getOrigin(e){return u(this,Ze).getOrigin(e)}isAquisitionOrientation(){return u(this,Ze).isAquisitionOrientation()}getPlanePoints(e){return u(this,Wo).getPlanePoints(e)}getCurrentScrollPosition(){const e=u(this,Ze).getScrollDimIndex();return u(this,Ze).getCurrentPosition().get(e)}generateImageData(e,t){u(this,Ze).generateImageData(e,t)}setImage(e){u(this,Ze).setImage(e)}get2DSpacing(){return u(this,Ze).getImage().getGeometry().getSpacing(u(this,Ze).getOrientation()).get2D()}getRescaledImageValue(e){const t=u(this,Ze).getImage();if(!t.canQuantify())return;const r=t.getGeometry(),i=r.worldToIndex(e);let o;return r.isIndexInBounds(i)&&(o=t.getRescaledValueAtIndex(i)),o}getPixelUnit(){return u(this,Ze).getImage().getMeta().pixelUnit}getLengthUnit(){return u(this,Ze).getImage().getMeta().lengthUnit}getImageRegionValues(e,t,r){let i=u(this,Ze).getImage();const o=u(this,Ze).getOrientation();let s=r,l=!0;F2(o)||(i=Q(this,Qp,j4).call(this,i,s,l,o),s=new kt([0,0,0]),l=!1);const d=function(f,m,v,g,S){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());v===void 0&&(v=!1);let y=null;y=v?function(T){return f.getRescaledValueAtOffset(T)}:function(T){return f.getValueAtOffset(T)};const C=f.getGeometry().getSize();g===void 0&&(g=new Re(0,0)),S===void 0&&(S=new Re(C.get(0)-1,C.get(1)));const x=C.indexToOffset(m.getWithNew2D(g.getX(),g.getY())),w=C.indexToOffset(m.getWithNew2D(S.getX(),S.getY()-1)),b=Math.max(1,S.getX()-g.getX());return function(T,P,A,F,E,k){let R=P,U=0;return{next:function(){if(R<A){const N={value:T(R),done:!1,index:R};return U+=1,R+=1,U===E&&(U=0,R+=k),N}return{done:!0,index:A}}}}(y,x,w+1,0,b,C.get(0)-b)}(i,s,l,e,t);let h=[];return d&&(h=EC(d)),h}getImageVariableRegionValues(e,t){let r=u(this,Ze).getImage();const i=u(this,Ze).getOrientation();let o=t,s=!0;F2(i)||(r=Q(this,Qp,j4).call(this,r,o,s,i),o=new kt([0,0,0]),s=!1);const l=function(h,f,m,v){if(h.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+h.getNumberOfComponents());m===void 0&&(m=!1);let g=null;g=m?function(T){return h.getRescaledValueAtOffset(T)}:function(T){return h.getValueAtOffset(T)};const S=h.getGeometry().getSize(),y=[];let C,x=null,w=null,b=null;for(let T=0;T<v.length;++T){C=v[T];const P=C[1][0]-C[0][0];P!==0&&(b=T,x||(x=C[0]),y.push([C[0][0],P,S.get(0)-C[1][0]]))}if(b!==null&&(w=v[b][1]),y.length!==0)return function(T,P,A,F,E){let k=P,R=0,U=0;return{next:function(){if(k<A){const N={value:T(k),done:!1,index:k};return U+=1,k+=1,U===E[R][1]&&(U=0,k+=E[R][2],R+=1,R<E.length&&(k+=E[R][0])),N}return{done:!0,index:A}}}}(g,S.indexToOffset(f.getWithNew2D(x[0],x[1])),S.indexToOffset(f.getWithNew2D(w[0],w[1]))+1,0,y)}(r,o,s,e);let d=[];return l&&(d=EC(l)),d}canQuantifyImage(){return u(this,Ze).getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return u(this,Ze).getImage().isMonochrome()}canScroll(){return u(this,Ze).getImage().canScroll(u(this,Ze).getOrientation())}getImageSize(){return u(this,Ze).getImage().getGeometry().getSize(u(this,Ze).getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=u(this,Ze).getImage().getGeometry(),t=e.getSize(u(this,Ze).getOrientation()).get2D(),r=e.getSpacing(u(this,Ze).getOrientation()).get2D();return{x:t.x*r.x,y:t.y*r.y}}getImageRescaledDataRange(){return u(this,Ze).getImage().getRescaledDataRange()}equalImageMeta(e){const t=u(this,Ze).getImage().getMeta(),r=Object.keys(e);for(let i=0;i<r.length;++i){const o=r[i];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return u(this,Ze).isPositionInBounds(e)}setCurrentPosition(e,t){return u(this,Ze).setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const r=new zt(e.getX(),e.getY(),t),i=u(this,Wo).getImageOrientedPoint3D(r),o=u(this,Ze).getImage().getGeometry().pointToWorld(i);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=u(this,Ze).getImage().getGeometry().worldToPoint(e),r=u(this,Wo).getImageDeOrientedPoint3D(t);return new Re(r.getX(),r.getY())}getIndexFromPosition(e){return u(this,Ze).getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return u(this,Ze).setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),r=new zt(e.getX(),e.getY(),t),i=u(this,Wo).getTargetDeOrientedPoint3D(r),o=u(this,Ze).getImage().getGeometry().getRealSpacing();return new zt(i.getX()*o.get(0),i.getY()*o.get(1),i.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return u(this,Wo).getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(u(this,fs)===void 0){const e=u(this,Ze).getImage(),t=e.getMeta().RecommendedDisplayFrameRate,r=u(this,Ze).getPlaybackMilliseconds(t),i=e.getGeometry().getSize().canScroll3D();z(this,fs,window.setInterval(()=>{let o=!1;if(o=i?u(this,hs).incrementPositionAlongScroll():u(this,hs).incrementPosition(3),!o){const s=this.getCurrentIndex().getValues(),l=u(this,Ze).getOrientation();i?s[l.getThirdColMajorDirection()]=0:s[3]=0;const d=new kt(s),h=u(this,Ze).getImage().getGeometry();this.setCurrentPosition(h.indexToWorld(d))}},r))}else this.stop()}stop(){u(this,fs)!==void 0&&(clearInterval(u(this,fs)),z(this,fs,void 0))}getWindowLevel(){return u(this,Ze).getWindowLevel()}getCurrentWindowPresetName(){return u(this,Ze).getCurrentWindowPresetName()}setWindowLevel(e){u(this,Ze).setWindowLevel(e)}getColourMap(){return u(this,Ze).getColourMap()}setColourMap(e){u(this,Ze).setColourMap(e)}setViewAlphaFunction(e){u(this,Ze).setAlphaFunction(e)}bindImageAndLayer(e){const t=u(this,Ze).getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange)}unbindImageAndLayer(e){const t=u(this,Ze).getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange)}}Ze=new WeakMap,Wo=new WeakMap,hs=new WeakMap,fs=new WeakMap,Gp=new WeakMap,Qp=new WeakSet,j4=function(e,t,r,i){const o=EC($R(e,t,r,i)),s=e.getGeometry().getSize(i).getValues();s[2]=1;const l=new zs(s),d=e.getGeometry().getSpacing(i).getValues();d[2]=1;const h=new mu(d),f=new zt(0,0,0),m=new Su([f],l,h);return new hd(m,o)};const nf=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function ZP(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let i=n[0].target.offsetParent;for(;i;)isNaN(i.offsetLeft)||(e+=i.offsetLeft),isNaN(i.offsetTop)||(t+=i.offsetTop),i=i.offsetParent}else Pe.debug("No touch target offset parent.");const r=[];for(let i=0;i<n.length;++i)r.push(new Re(n[i].pageX-e,n[i].pageY-t));return r}function Zr(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=ZP(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=ZP(n.changedTouches)),e}function Bn(n){return new Re(n.offsetX,n.offsetY)}function JP(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const r=document.createElement("canvas");r.width=1,r.height=1;const i=t.getContext("2d"),o=r.getContext("2d");return i&&(i.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}var ni,un,tr,Ol,Mr,ps,Sc,Ei,k0,gs,xn,ri,lo,Ut,ii,El,nr,_0,oi,ki,ms,F0,zp,M0,N0,vu,XS,Ss,CL,H2,$2,Y2,X2;class Tr{constructor(e){G(this,vu);G(this,ni);G(this,un,null);G(this,tr,null);G(this,Ol,null);G(this,Mr,null);G(this,ps,!0);G(this,Sc,null);G(this,Ei);G(this,k0);G(this,gs,1);G(this,xn,{x:1,y:1});G(this,ri,{x:1,y:1});G(this,lo,{x:1,y:1,z:1});G(this,Ut,{x:0,y:0});G(this,ii,{x:0,y:0});G(this,El,{x:0,y:0});G(this,nr,{x:0,y:0});G(this,_0,{x:0,y:0});G(this,oi,{x:0,y:0});G(this,ki,null);G(this,ms);G(this,F0,new Gi);G(this,zp,!1);G(this,M0);G(this,N0);ae(this,"onimageset",e=>{u(this,ms)===e.dataid&&(u(this,un).setImage(e.value[0]),Q(this,vu,XS).call(this,u(this,un).getImageSize().get2D()),z(this,ki,!0))});ae(this,"onimagecontentchange",e=>{u(this,ms)===e.dataid&&(z(this,ps,u(this,un).isPositionInBounds()),z(this,ki,!0),this.draw())});ae(this,"onimagegeometrychange",e=>{if(u(this,ms)===e.dataid){const t=u(this,un).getImageSize().get2D();if(u(this,Ei).x!==t.x||u(this,Ei).y!==t.y){if(u(this,M0)!==void 0&&u(this,N0)!==void 0){const r=u(this,un).getOrigin(),i=u(this,N0).minus(r),o=u(this,un).getOrigin(u(this,un).getCurrentPosition()),s=u(this,M0).minus(o);this.setBaseOffset(i,s)}Q(this,vu,XS).call(this,t),z(this,ki,!0),this.draw()}}});G(this,Ss,e=>{e.srclayerid=this.getId(),e.dataid=u(this,ms),u(this,F0).fireEvent(e)});G(this,H2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,ki,!0),this.draw())});G(this,$2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,ki,!0),this.draw())});G(this,Y2,e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const r=[0,1,2],i=r.indexOf(u(this,un).getScrollDimIndex());r.splice(i,1),e.diffDims.filter(function(o){return r.indexOf(o)===-1}).length===0&&u(this,ps)||(z(this,ps,!0),z(this,ki,!0),this.draw())}else u(this,ps)&&(z(this,ps,!1),this.clear())}});G(this,X2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,ki,!0),this.draw())});z(this,ni,e),u(this,ni).className+=" viewLayer"}getDataId(){return u(this,ms)}getScale(){return u(this,xn)}getAbsoluteZoomOffset(){return{x:u(this,nr).x*u(this,ri).x,y:u(this,nr).y*u(this,ri).y}}setImageSmoothing(e){z(this,zp,e)}setView(e,t){z(this,ms,t),e.addEventListener("wlchange",u(this,H2)),e.addEventListener("colourmapchange",u(this,$2)),e.addEventListener("positionchange",u(this,Y2)),e.addEventListener("alphafuncchange",u(this,X2));for(let r=0;r<tf.length;++r)e.addEventListener(tf[r],u(this,Ss));z(this,un,new tj(e)),this.bindImage()}getViewController(){return u(this,un)}getImageData(){return u(this,Sc)}bindImage(){u(this,un)&&u(this,un).bindImageAndLayer(this)}unbindImage(){u(this,un)&&u(this,un).unbindImageAndLayer(this)}getId(){return u(this,ni).id}removeFromDOM(){u(this,ni).remove()}getBaseSize(){return u(this,Ei)}getImageWorldSize(){return u(this,un).getImageWorldSize()}getOpacity(){return u(this,gs)}setOpacity(e){if(e===u(this,gs))return;z(this,gs,Math.min(Math.max(e,0),1));const t={type:"opacitychange",value:[u(this,gs)]};u(this,Ss).call(this,t)}addFlipOffsetX(){u(this,oi).x+=u(this,tr).width/u(this,xn).x,u(this,Ut).x+=u(this,oi).x}addFlipOffsetY(){u(this,oi).y+=u(this,tr).height/u(this,xn).y,u(this,Ut).y+=u(this,oi).y}flipScaleX(){u(this,lo).x*=-1}flipScaleY(){u(this,lo).y*=-1}flipScaleZ(){u(this,lo).z*=-1}setScale(e,t){const r=u(this,un).getPlaneHelper(),i=r.getTargetOrientedPositiveXYZ({x:e.x*u(this,lo).x,y:e.y*u(this,lo).y,z:e.z*u(this,lo).z}),o={x:u(this,ri).x*i.x,y:u(this,ri).y*i.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const s={x:u(this,Ut).x-u(this,nr).x,y:u(this,Ut).y-u(this,nr).y};z(this,nr,{x:0,y:0}),z(this,Ut,s)}else if(t!==void 0){let s=r.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});s={x:s.x+u(this,ii).x,y:s.y+u(this,ii).y};const l=jA(u(this,Ut),u(this,xn),o,s),d={x:u(this,nr).x+l.x-u(this,Ut).x,y:u(this,nr).y+l.y-u(this,Ut).y};z(this,nr,d),z(this,Ut,l)}z(this,xn,o)}initScale(e,t){const r=u(this,un).getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*u(this,lo).x,y:e.y*u(this,lo).y,z:e.z*u(this,lo).z}),i={x:u(this,ri).x*r.x,y:u(this,ri).y*r.y};z(this,xn,i),z(this,nr,{x:t.x/u(this,ri).x,y:t.y/u(this,ri).y}),z(this,Ut,{x:u(this,Ut).x+u(this,nr).x,y:u(this,Ut).y+u(this,nr).y})}setBaseOffset(e,t,r,i){const o=u(this,un).getPlaneHelper(),s=o.getNativeScrollDimIndex(),l=o.getPlaneOffsetFromOffset3D({x:s===0?e.getX():t.getX(),y:s===1?e.getY():t.getY(),z:s===2?e.getZ():t.getZ()}),d=u(this,ii).x!==l.x||u(this,ii).y!==l.y;return r!==void 0&&i!==void 0&&(z(this,M0,r),z(this,N0,i)),d&&(z(this,Ut,{x:u(this,Ut).x-u(this,ii).x+l.x,y:u(this,Ut).y-u(this,ii).y+l.y}),z(this,ii,l)),d}setOffset(e){const t=u(this,un).getPlaneHelper().getPlaneOffsetFromOffset3D(e);z(this,Ut,{x:u(this,Ut).x-u(this,_0).x+t.x,y:u(this,Ut).y-u(this,_0).y+t.y}),z(this,_0,t)}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new kt([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new Re(e.getX()/u(this,xn).x,e.getY()/u(this,xn).y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new Re(t.getX()+u(this,Ut).x,t.getY()+u(this,Ut).y)}planePosToDisplay(e){let t=(e.getX()-u(this,Ut).x+u(this,ii).x)*u(this,xn).x,r=(e.getY()-u(this,Ut).y+u(this,ii).y)*u(this,xn).y;return(t<0||t>=u(this,tr).width)&&(t=void 0),(r<0||r>=u(this,tr).height)&&(r=void 0),new Re(t,r)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new Re(t.getX()-u(this,ii).x,t.getY()-u(this,ii).y)}display(e){u(this,ni).style.display=e?"":"none"}isVisible(){return u(this,ni).style.display===""}draw(){if(!u(this,ps))return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};u(this,Ss).call(this,e),u(this,ki)&&Q(this,vu,CL).call(this),u(this,Mr).globalAlpha=u(this,gs),this.clear(),u(this,Mr).setTransform(u(this,xn).x,0,0,u(this,xn).y,-1*u(this,Ut).x*u(this,xn).x,-1*u(this,Ut).y*u(this,xn).y),u(this,Mr).imageSmoothingEnabled=u(this,zp),u(this,Mr).drawImage(u(this,Ol),0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},u(this,Ss).call(this,e)}initialise(e,t,r){z(this,k0,t),z(this,gs,Math.min(Math.max(r,0),1)),z(this,tr,document.createElement("canvas")),u(this,ni).appendChild(u(this,tr)),u(this,tr).getContext?(z(this,Mr,u(this,tr).getContext("2d")),u(this,Mr)?(z(this,Ol,document.createElement("canvas")),Q(this,vu,XS).call(this,e),z(this,ki,!0)):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}fitToContainer(e,t,r){let i=!1;const o={x:t*u(this,k0).x,y:t*u(this,k0).y},s=o.x/u(this,ri).x,l=o.y/u(this,ri).y,d=e.x/(u(this,tr).width*s),h=e.y/(u(this,tr).height*l);if(u(this,tr).width!==e.x||u(this,tr).height!==e.y){if(!JP(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);u(this,tr).width=e.x,u(this,tr).height=e.y,i=!0}const f={x:u(this,xn).x*s,y:u(this,xn).y*l};u(this,xn).x===f.x&&u(this,xn).y===f.y||(z(this,ri,o),z(this,xn,f),i=!0);const m={x:r.x/o.x,y:r.y/o.y},v={x:e.x/o.x,y:e.y/o.y},g={x:u(this,oi).x!==0?v.x:0,y:u(this,oi).y!==0?v.y:0};if(u(this,El).x!==m.x||u(this,El).y!==m.y||u(this,oi).x!==g.x||u(this,oi).y!==g.y){const S={x:u(this,nr).x*d,y:u(this,nr).y*h};z(this,Ut,{x:u(this,Ut).x+m.x-u(this,El).x+g.x-u(this,oi).x+S.x-u(this,nr).x,y:u(this,Ut).y+m.y-u(this,El).y+g.y-u(this,oi).y+S.y-u(this,nr).y}),z(this,oi,g),z(this,El,m),z(this,nr,S),i=!0}i&&this.draw()}bindInteraction(){u(this,ni).style.pointerEvents="auto";const e=nf;for(let t=0;t<e.length;++t){const r=e[t],i=r!=="wheel";u(this,ni).addEventListener(r,u(this,Ss),{passive:i})}}unbindInteraction(){u(this,ni).style.pointerEvents="none";const e=nf;for(let t=0;t<e.length;++t)u(this,ni).removeEventListener(e[t],u(this,Ss))}addEventListener(e,t){u(this,F0).add(e,t)}removeEventListener(e,t){u(this,F0).remove(e,t)}setCurrentPosition(e,t){return u(this,un).setCurrentPosition(e)}clear(){u(this,Mr).save(),u(this,Mr).setTransform(1,0,0,1,0,0),u(this,Mr).clearRect(0,0,u(this,tr).width,u(this,tr).height),u(this,Mr).restore()}}ni=new WeakMap,un=new WeakMap,tr=new WeakMap,Ol=new WeakMap,Mr=new WeakMap,ps=new WeakMap,Sc=new WeakMap,Ei=new WeakMap,k0=new WeakMap,gs=new WeakMap,xn=new WeakMap,ri=new WeakMap,lo=new WeakMap,Ut=new WeakMap,ii=new WeakMap,El=new WeakMap,nr=new WeakMap,_0=new WeakMap,oi=new WeakMap,ki=new WeakMap,ms=new WeakMap,F0=new WeakMap,zp=new WeakMap,M0=new WeakMap,N0=new WeakMap,vu=new WeakSet,XS=function(e){if(!JP(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);z(this,Ei,e),u(this,Ol).width=u(this,Ei).x,u(this,Ol).height=u(this,Ei).y,u(this,Mr).clearRect(0,0,u(this,Ei).x,u(this,Ei).y),z(this,Sc,u(this,Mr).createImageData(u(this,Ei).x,u(this,Ei).y))},Ss=new WeakMap,CL=function(){u(this,un).generateImageData(u(this,Sc)),u(this,Ol).getContext("2d").putImageData(u(this,Sc),0,0),z(this,ki,!1)},H2=new WeakMap,$2=new WeakMap,Y2=new WeakMap,X2=new WeakMap;var _i,yc,U0,q0,Wp,vc;class pp{constructor(e){G(this,_i);G(this,yc,{});G(this,U0,new Gi);G(this,q0);G(this,Wp);G(this,vc,e=>{u(this,U0).fireEvent(e)});z(this,_i,e!==void 0?e:[]),z(this,q0,!0)}getList(){return u(this,_i)}getLength(){return u(this,_i).length}isEditable(){return u(this,q0)}setEditable(e){z(this,q0,e),u(this,vc).call(this,{type:"annotationgroupeditablechange",data:e})}getColour(){return u(this,Wp)}setColour(e){z(this,Wp,e)}add(e){u(this,_i).push(e),u(this,vc).call(this,{type:"annotationadd",data:e})}update(e,t,r){const i=u(this,_i).findIndex(o=>o.trackingUid===e.trackingUid);i!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),u(this,_i)[i]=e,u(this,vc).call(this,{type:"annotationupdate",data:e,keys:t,propagate:r})):Pe.warn("Cannot find annotation to update")}remove(e){const t=u(this,_i).findIndex(r=>r.trackingUid===e);if(t!==-1){const r=u(this,_i).splice(t,1)[0];u(this,vc).call(this,{type:"annotationremove",data:r})}else Pe.warn("Cannot find annotation to remove")}setViewController(e){for(const t of u(this,_i))t.setViewController(e),t.updateQuantification()}find(e){return u(this,_i).find(t=>t.trackingUid===e)}getMeta(){return u(this,yc)}hasMeta(e){return u(this,yc)[e]!==void 0}getMetaValue(e){return u(this,yc)[e]}setMetaValue(e,t){u(this,yc)[e]=t}addEventListener(e,t){u(this,U0).add(e,t)}removeEventListener(e,t){u(this,U0).remove(e,t)}}_i=new WeakMap,yc=new WeakMap,U0=new WeakMap,q0=new WeakMap,Wp=new WeakMap,vc=new WeakMap;var e9,qC,Fe=(e9={default:function(){return Hz}},qC={},Cr.d(qC,e9),qC),Cc,B0;class KS{constructor(e,t){G(this,Cc);G(this,B0);z(this,Cc,e),z(this,B0,t)}getName(){return"AddAnnotation-"+u(this,Cc).trackingUid}execute(){u(this,B0).addAnnotation(u(this,Cc))}undo(){u(this,B0).removeAnnotation(u(this,Cc).trackingUid)}}Cc=new WeakMap,B0=new WeakMap;var bc,V0;class cw{constructor(e,t){G(this,bc);G(this,V0);z(this,bc,e),z(this,V0,t)}getName(){return"RemoveAnnotation-"+u(this,bc).trackingUid}execute(){u(this,V0).removeAnnotation(u(this,bc).trackingUid)}undo(){u(this,V0).addAnnotation(u(this,bc))}}bc=new WeakMap,V0=new WeakMap;var ys,G0,Q0,z0;class ld{constructor(e,t,r,i){G(this,ys);G(this,G0);G(this,Q0);G(this,z0);z(this,ys,e),z(this,G0,i),z(this,Q0,t),z(this,z0,r)}getName(){return"UpdateAnnotation-"+u(this,ys).trackingUid}execute(){const e=Object.keys(u(this,z0));for(const t of e)u(this,ys)[t]=u(this,z0)[t];u(this,G0).updateAnnotation(u(this,ys),e)}undo(){const e=Object.keys(u(this,Q0));for(const t of e)u(this,ys)[t]=u(this,Q0)[t];u(this,G0).updateAnnotation(u(this,ys),e)}}ys=new WeakMap,G0=new WeakMap,Q0=new WeakMap,z0=new WeakMap;var ai;class nj{constructor(e){G(this,ai);z(this,ai,e!==void 0?e:new pp)}getAnnotation(e){return u(this,ai).find(e)}getAnnotationGroup(){return u(this,ai)}isAnnotationGroupEditable(){return u(this,ai).isEditable()}setAnnotationGroupEditable(e){u(this,ai).setEditable(e)}addAnnotation(e){u(this,ai).add(e)}updateAnnotation(e,t,r){u(this,ai).update(e,t,r)}removeAnnotation(e){u(this,ai).remove(e)}removeAnnotationWithCommand(e,t){const r=this.getAnnotation(e);if(r===void 0)return void Pe.warn("Cannot create remove command for undefined annotation: "+e);const i=new cw(r,this);t(i),i.execute()}updateAnnotationWithCommand(e,t,r,i){const o=this.getAnnotation(e);if(o===void 0)return void Pe.warn("Cannot create update command for undefined annotation: "+e);const s=new ld(o,t,r,this);i(s),s.execute()}removeAllAnnotationsWithCommand(e){for(const t of u(this,ai).getList())this.removeAnnotationWithCommand(t.trackingUid,e)}hasAnnotationMeta(e){return u(this,ai).hasMeta(e)}setAnnotationMeta(e,t){u(this,ai).setMetaValue(e,t)}}ai=new WeakMap;const Wu={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function H4(n){return n.name()==="label"}function yu(n){return n.name()==="shape"}function bL(n){return n.name()==="position-group"}function LS(n){const e=n.getChildren(yu)[0];if(e instanceof Fe.default.Line)return e}function xt(n,e){const t=n.getChildren(function(r){return r.id()==="anchor"+e})[0];if(t instanceof Fe.default.Ellipse)return t}function BC(n){return function(e){return e.id()===n}}function ju(n,e,t,r){const i=r.applyZoomScale(6),o={x:Math.abs(i.x),y:Math.abs(i.y)};return new Fe.default.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:r.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function t9(n){return parseInt(n.substring(6),10)}var K2,Z2,J2,jp,W0,vs,ey,ty,ny,ry;class q2{constructor(){G(this,K2,10);G(this,Z2,"Verdana");G(this,J2,"#fff");G(this,jp,"#ffff80");G(this,W0,{x:1,y:1});G(this,vs,{x:1,y:1});G(this,ey,2);G(this,ty,{x:.25,y:.25});G(this,ny,.2);G(this,ry,3)}getFontFamily(){return u(this,Z2)}getFontSize(){return u(this,K2)}getStrokeWidth(){return u(this,ey)}getTextColour(){return u(this,J2)}getLineColour(){return u(this,jp)}setLineColour(e){z(this,jp,e)}setBaseScale(e){z(this,W0,e)}setZoomScale(e){z(this,vs,e)}getBaseScale(){return u(this,W0)}getZoomScale(){return u(this,vs)}scale(e){return e/u(this,W0).x}applyZoomScale(e){return{x:e/u(this,vs).x,y:e/u(this,vs).y}}applyZoomRatio(e){return e*u(this,vs).x/u(this,vs).y}getShadowOffset(){return u(this,ty)}getTagOpacity(){return u(this,ny)}getTextPadding(){return u(this,ry)}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return function(e){return .001172549*(t=iW(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t}(this.getLineColour())?"#fff":"#000"}}K2=new WeakMap,Z2=new WeakMap,J2=new WeakMap,jp=new WeakMap,W0=new WeakMap,vs=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,ry=new WeakMap;var Hp,$p;class Yt{constructor(e,t){G(this,Hp);G(this,$p);z(this,Hp,e),z(this,$p,t)}getBegin(){return u(this,Hp)}getEnd(){return u(this,$p)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const r=this.getDeltaX()*e.x,i=this.getDeltaY()*e.y;t=Math.sqrt(r*r+i*i)}return t}getMidpoint(){return new Re((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(e){const t={},r=e.get2DSpacing(),i=this.getWorldLength(r);return i!==null&&(t.length={value:i,unit:e.getLengthUnit()}),t}}Hp=new WeakMap,$p=new WeakMap;function $4(n,e){const t=n.getDeltaX(),r=n.getDeltaY(),i=e.getDeltaX(),o=e.getDeltaY(),s=t*i+r*o,l=t*o-r*i;return 360-(180-180*Math.atan2(l,s)/Math.PI)}function VC(n,e){const t=n.getDeltaX(),r=n.getDeltaY();return t*e.getDeltaX()+r*e.getDeltaY()==0}function qo(n,e,t,r){r===void 0&&(r={x:1,y:1});const i=-r.x*r.x/(r.y*r.y*n.getSlope());return wL(i,e.getY()-i*e.getX(),e,t,r)}function n9(n,e,t,r){const i=wL(n.getSlope(),n.getIntercept(),n.getBegin(),e,r);let o;return o=function(s,l){const d=Math.min(l.getBegin().getX(),l.getEnd().getX()),h=Math.max(l.getBegin().getX(),l.getEnd().getX()),f=Math.min(l.getBegin().getY(),l.getEnd().getY()),m=Math.max(l.getBegin().getY(),l.getEnd().getY());return s.getX()>=d&&s.getX()<=h&&s.getY()>=f&&s.getY()<=m}(i.getBegin(),n)?i.getBegin():i.getEnd(),qo(n,o,t,r)}function wL(n,e,t,r,i){i===void 0&&(i={x:1,y:1});let o=0,s=0,l=0,d=0;if(dp(n,0,Jy))o=t.getX()-r/(2*i.x),s=t.getY(),l=t.getX()+r/(2*i.x),d=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),s=t.getY()-r/(2*i.y),l=t.getX(),d=t.getY()+r/(2*i.y);else{const h=i.x*i.x,f=i.y*i.y,m=r/(2*Math.sqrt(h+f*n*n));o=t.getX()-m,s=n*o+e,l=t.getX()+m,d=n*l+e}return new Yt(new Re(o,s),new Re(l,d))}var Yp,Xp;class ic{constructor(e,t){G(this,Yp);G(this,Xp);z(this,Yp,new Re(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY()))),z(this,Xp,new Re(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY())))}getBegin(){return u(this,Yp)}getEnd(){return u(this,Xp)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new Re(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new Re(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new Re(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,r){const i={},o=e.get2DSpacing(),s=e.getLengthUnit();i.width={value:this.getWidth()*o.x,unit:s},i.height={value:this.getHeight()*o.y,unit:s};const l=this.getWorldSurface(o);if(l!==null&&(i.surface=s==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:s}),e.canQuantifyImage()){const d=this.getRound(),h=e.getImageRegionValues(d.min,d.max,t),f=e.getPixelUnit(),m=lw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}return i}}Yp=new WeakMap,Xp=new WeakMap;var Nr;class Jo{constructor(e){G(this,Nr,[]);e!==void 0&&z(this,Nr,e)}getPoint(e){return u(this,Nr)[e]}getPoints(){return u(this,Nr)}getLength(){return u(this,Nr).length}addPoint(e){u(this,Nr).push(e)}addPoints(e){z(this,Nr,u(this,Nr).concat(e))}getCentroid(){let e,t=0,r=0,i=0;for(let o=0;o<u(this,Nr).length;++o){const s=u(this,Nr)[o];let l;l=o===u(this,Nr).length-1?u(this,Nr)[0]:u(this,Nr)[o+1];const d=s.getX()*l.getY()-l.getX()*s.getY();t+=d,r+=(s.getX()+l.getX())*d,i+=(s.getY()+l.getY())*d}if(t!==0){const o=1/(3*t);e=new Re(o*r,o*i)}return e}}Nr=new WeakMap;var uo;class oc{constructor(e){G(this,uo);if(e.length>3)throw new Error("Too many points for a protractor");z(this,uo,e.slice(0,3))}getPoint(e){return u(this,uo)[e]}getLength(){return u(this,uo).length}getCentroid(){return u(this,uo)[1]}quantify(e,t){const r={};if(u(this,uo).length===3){let i=$4(new Yt(u(this,uo)[0],u(this,uo)[1]),new Yt(u(this,uo)[1],u(this,uo)[2]));i>180&&(i=360-i),r.angle={value:i,unit:"unit.degree"}}return r}}uo=new WeakMap;var j0,Kp,Zp;class ac{constructor(e,t,r){G(this,j0);G(this,Kp);G(this,Zp);z(this,j0,e),z(this,Kp,t),z(this,Zp,r)}getCenter(){return u(this,j0)}getCentroid(){return u(this,j0)}getA(){return u(this,Kp)}getB(){return u(this,Zp)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),r=this.getA(),i=this.getB(),o=r/i,s=Math.pow(i,2),l=t+i,d=[];for(let h=t-i;h<l;++h){const f=s-Math.pow(h-t,2);if(Math.abs(f)<1e-7)continue;const m=o*Math.sqrt(f);m<.5||d.push([[Math.round(e-m),Math.round(h)],[Math.round(e+m),Math.round(h)]])}return d}quantify(e,t,r){const i={},o=e.get2DSpacing(),s=e.getLengthUnit();i.a={value:this.getA()*o.x,unit:s},i.b={value:this.getB()*o.y,unit:s};const l=this.getWorldSurface(o);if(l!==null&&(i.surface=s==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:s}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=lw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}}return i}}j0=new WeakMap,Kp=new WeakMap,Zp=new WeakMap;function rj(n,e,t){const r=n.getValues(),i=r.slice(),o=[],s=e[0],l=e[1],d=s/l,h=Math.pow(l,2),f=t[0],m=t[1];for(let v=0;v<l;++v){const g=Math.round(d*Math.sqrt(h-Math.pow(v,2))),S=r[m]+v,y=r[m]-v;for(let C=0;C<g;++C){const x=r[f]+C,w=r[f]-C;i[f]=x,i[m]=S,o.push(new kt(i.slice())),y!==S&&(i[m]=y,o.push(new kt(i.slice()))),w!==x&&(i[f]=w,i[m]=S,o.push(new kt(i.slice())),y!==S&&(i[m]=y,o.push(new kt(i.slice()))))}}return o}var H0,Jp;class sc{constructor(e,t){G(this,H0);G(this,Jp);z(this,H0,e),z(this,Jp,t)}getCenter(){return u(this,H0)}getCentroid(){return u(this,H0)}getRadius(){return u(this,Jp)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),r=this.getRadius(),i=Math.pow(r,2),o=t+r,s=[];for(let l=t-r;l<o;++l){const d=i-Math.pow(l-t,2);if(Math.abs(d)<1e-7)continue;const h=Math.sqrt(d);h<.5||s.push([[Math.round(e-h),Math.round(l)],[Math.round(e+h),Math.round(l)]])}return s}quantify(e,t,r){const i={},o=e.get2DSpacing(),s=e.getLengthUnit();i.radius={value:this.getRadius()*o.x,unit:s};const l=this.getWorldSurface(o);if(l!==null&&(i.surface=s==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:s}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=lw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}}return i}}H0=new WeakMap,Jp=new WeakMap;var wc;class ij{constructor(){G(this,wc,0)}getSum(){return u(this,wc)}add(e){z(this,wc,u(this,wc)+function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60}(e))}clear(){z(this,wc,0)}isTick(){return Math.abs(u(this,wc))>=1}}wc=new WeakMap;var eg,Dc;class K1{constructor(e){G(this,eg);G(this,Dc,new ij);z(this,eg,e)}wheel(e){u(this,Dc).add(e);const t=u(this,Dc).getSum()>=0;if(!u(this,Dc).isTick())return;u(this,Dc).clear(),e.preventDefault();const r=Rt(e),i=u(this,eg).getLayerGroupByDivId(r.groupDivId),o=i.getPositionHelper();i.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():i.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}eg=new WeakMap,Dc=new WeakMap;var xc,tg,Sa,Qn,kl,si,$0,Mn,ZS,JS,Y4,X4,K4,DL;class oj{constructor(e,t){G(this,Mn);G(this,xc);G(this,tg);G(this,Sa,null);G(this,Qn,null);G(this,kl);G(this,si);G(this,$0,!1);z(this,xc,e),z(this,tg,t)}setShape(e,t,r){if(z(this,Qn,e),z(this,kl,t),z(this,si,r),u(this,Qn)){if(Q(this,Mn,Y4).call(this),z(this,Sa,r.getFactory()),u(this,Sa)===void 0)throw new Error("Could not find a factory to update shape.");Q(this,Mn,X4).call(this)}}getShape(){return u(this,Qn)}getAnnotation(){return u(this,si)}isActive(){return u(this,$0)}enable(){z(this,$0,!0),u(this,Qn)&&(Q(this,Mn,JS).call(this,!0),u(this,Qn).getLayer()&&u(this,Qn).getLayer().draw())}disable(){z(this,$0,!1),u(this,Qn)&&(Q(this,Mn,JS).call(this,!1),u(this,Qn).getLayer()&&u(this,Qn).getLayer().draw())}reset(){z(this,Qn,void 0),z(this,kl,void 0),z(this,si,void 0)}resetAnchors(){Q(this,Mn,Y4).call(this),Q(this,Mn,X4).call(this),Q(this,Mn,JS).call(this,!0)}setAnchorsActive(e){let t=null;t=e?r=>{Q(this,Mn,K4).call(this,r)}:r=>{Q(this,Mn,DL).call(this,r)},Q(this,Mn,ZS).call(this,t)}}xc=new WeakMap,tg=new WeakMap,Sa=new WeakMap,Qn=new WeakMap,kl=new WeakMap,si=new WeakMap,$0=new WeakMap,Mn=new WeakSet,ZS=function(e){u(this,Qn)&&u(this,Qn).getParent()&&u(this,Qn).getParent().find(".anchor").forEach(e)},JS=function(e){Q(this,Mn,ZS).call(this,function(t){t.visible(e)})},Y4=function(){Q(this,Mn,ZS).call(this,function(e){e.remove()})},X4=function(){if(!u(this,Qn)||!u(this,Qn).getLayer())return;const e=u(this,Qn).getParent(),t=u(this,Sa).getAnchors(u(this,Qn),u(this,xc).getStyle());for(let r=0;r<t.length;++r)Q(this,Mn,K4).call(this,t[r]),e.add(t[r])},K4=function(e){let t;e.on("dragstart.edit",r=>{r.cancelBubble=!0,t={mathShape:u(this,si).mathShape,referencePoints:u(this,si).referencePoints}}),e.on("dragmove.edit",r=>{const i=r.target;i instanceof Fe.default.Shape&&(function(o,s){const l=s.getParent();(function(d,h,f){d.x()<h.getX()?d.x(h.getX()):d.x()>f.getX()&&d.x(f.getX()),d.y()<h.getY()?d.y(h.getY()):d.y()>f.getY()&&d.y(f.getY())})(s,new Re(-l.x(),-l.y()),new Re(o.x-l.x(),o.y-l.y()))}(u(this,kl).getBaseSize(),i),u(this,Sa).constrainAnchorMove!==void 0&&u(this,Sa).constrainAnchorMove(i),u(this,Sa).updateAnnotationOnAnchorMove(u(this,si),i),u(this,Sa).updateShapeGroupOnAnchorMove(u(this,si),i,u(this,xc).getStyle()),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"),r.cancelBubble=!0)}),e.on("dragend.edit",r=>{const i={mathShape:u(this,si).mathShape,referencePoints:u(this,si).referencePoints},o=new ld(u(this,si),t,i,u(this,kl).getDrawController());u(this,xc).addToUndoStack(o),u(this,tg).call(this,{type:"annotationupdate",data:u(this,si),dataid:u(this,kl).getDataId(),keys:Object.keys(i)}),t={mathShape:i.mathShape,referencePoints:i.referencePoints},r.cancelBubble=!0}),e.on("mousedown touchstart",r=>{r.target.moveToTop()}),e.on("mouseover.edit",r=>{const i=r.target;i instanceof Fe.default.Shape&&(i.stroke("#ddd"),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"))}),e.on("mouseout.edit",r=>{const i=r.target;i instanceof Fe.default.Shape&&(i.stroke("#999"),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"))})},DL=function(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")};var _n;class aj{constructor(){G(this,_n);this.createTrashIcon()}createTrashIcon(){z(this,_n,new Fe.default.Group);const e=new Fe.default.Line({points:[-10,-10,10,10],stroke:"red"}),t=new Fe.default.Line({points:[10,-10,-10,10],stroke:"red"});u(this,_n).width(20),u(this,_n).height(20),u(this,_n).add(e),u(this,_n).add(t)}activate(e){const t=e.getKonvaStage(),r=t.scale(),i=e.getKonvaLayer(),o={x:1/r.x,y:1/r.y};u(this,_n).x(t.offset().x+t.width()/(2*r.x)),u(this,_n).y(t.offset().y+t.height()/(15*r.y)),u(this,_n).scale(o),i.add(u(this,_n)),i.draw()}changeChildrenColourOnTrashHover(e,t,r){if(this.isOverTrash(e))return this.changeGroupChildrenColour(u(this,_n),"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(u(this,_n),"red"),this.changeGroupChildrenColour(t,r)}changeGroupChildrenColour(e,t){e.getChildren().forEach(function(r){r instanceof Fe.default.Shape&&r.stroke!==void 0&&r.stroke(t)})}remove(){u(this,_n).remove()}isOverTrash(e){const t=u(this,_n).width()*Math.abs(u(this,_n).scaleX())/2,r=u(this,_n).height()*Math.abs(u(this,_n).scaleY())/2;return Math.abs(e.x-u(this,_n).x())<t&&Math.abs(e.y-u(this,_n).y())<r}}_n=new WeakMap;var Cs,rr,bs,ng,Tc,_l,Y0,Qr,Z4,xL,TL,PL,IL,RL;class sj{constructor(e,t){G(this,Qr);G(this,Cs);G(this,rr);G(this,bs);G(this,ng,"pointer");G(this,Tc);G(this,_l);G(this,Y0);z(this,Cs,e),z(this,Y0,t),z(this,rr,new oj(e,t)),z(this,bs,new aj)}setEditorShape(e,t){const r=t.getDrawController();e&&e instanceof Fe.default.Shape&&e!==u(this,rr).getShape()&&r.isAnnotationGroupEditable()&&(u(this,rr).disable(),u(this,rr).setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),u(this,rr).enable())}getEditorShapeGroup(){let e;if(!u(this,rr).isActive()||(e=u(this,rr).getShape().getParent(),e instanceof Fe.default.Group))return e}getEditorAnnotation(){let e;return u(this,rr).isActive()&&(e=u(this,rr).getAnnotation()),e}disableAndResetEditor(){u(this,rr).disable(),u(this,rr).reset()}storeMouseOverCursor(e){z(this,ng,e)}onMouseOutShapeGroup(){u(this,Tc)!==void 0&&(document.body.style.cursor=u(this,Tc),z(this,Tc,void 0)),u(this,_l)!==void 0&&u(this,_l).opacity(1)}addShapeGroupListeners(e,t,r){Q(this,Qr,TL).call(this,e),Q(this,Qr,IL).call(this,e,t,r),Q(this,Qr,RL).call(this,e,t,r),e.on("dblclick",()=>{const i=t.textExpr;(function(s,l){const d=prompt("Label",s.textExpr);d!==null&&(s.textExpr=d,l(s))})(t,s=>{const l=s.textExpr,d=new ld(s,{textExpr:i},{textExpr:l},r.getDrawController());u(this,Cs).addToUndoStack(d),d.execute()})})}removeShapeListeners(e){Q(this,Qr,PL).call(this,e),e.off("dblclick");const t=e.getChildren(yu)[0];t instanceof Fe.default.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const r=e.getChildren(H4)[0];r instanceof Fe.default.Label&&(r.draggable(!1),r.off("dragstart.draw"),r.off("dragend.draw"))}}Cs=new WeakMap,rr=new WeakMap,bs=new WeakMap,ng=new WeakMap,Tc=new WeakMap,_l=new WeakMap,Y0=new WeakMap,Qr=new WeakSet,Z4=function(e,t){const r=t.getKonvaStage();return{x:r.offset().x+e.x/r.scale().x,y:r.offset().y+e.y/r.scale().y}},xL=function(){z(this,Tc,document.body.style.cursor),document.body.style.cursor=u(this,ng),u(this,_l).opacity(.75)},TL=function(e){e.on("mouseover",()=>{z(this,_l,e),Q(this,Qr,xL).call(this)}),e.on("mouseout",()=>{this.onMouseOutShapeGroup(),z(this,_l,void 0)})},PL=function(e){e.off("mouseover"),e.off("mouseout")},IL=function(e,t,r){const i=r.getKonvaLayer(),o=e.getChildren(yu)[0];if(!(o instanceof Fe.default.Shape))return;let s,l,d,h;o.draggable(!0),o.on("dragstart.draw",f=>{h=o.stroke(),s={x:o.x(),y:o.y()},l={x:f.target.x(),y:f.target.y()},d={mathShape:t.mathShape,referencePoints:t.referencePoints},u(this,bs).activate(r),u(this,rr).setAnchorsActive(!1),i.draw()}),o.on("dragmove.draw",f=>{const m=function(b,T){return{min:new Re(0,0),max:new Re(b.x-Math.abs(T.width()),b.y-Math.abs(T.height()))}}(r.getBaseSize(),o);if(m&&!function(b,T,P){const A=b.getClientRect({relativeTo:b.getParent()});return A.x>T.getX()&&A.x<P.getX()&&A.y>T.getY()&&A.y<P.getY()}(o,m.min,m.max))return o.x(l.x),void o.y(l.y);const v={x:f.target.x()-l.x,y:f.target.y()-l.y},g=e.getChildren(),S=t.labelPosition===void 0;for(const b of g)b===f.target||b.name()==="label"&&!S||b.name()==="connector"||b.move(v);l={x:f.target.x(),y:f.target.y()};const y=t.getFactory();if(y===void 0)throw new Error("Cannot follow drag move without factory");y.updateAnnotationOnTranslation(t,v),y.updateLabelContent(t,e,u(this,Cs).getStyle()),y.updateConnector(e);const C=Bn(f.evt),x={x:C.getX(),y:C.getY()},w=Q(this,Qr,Z4).call(this,x,r);u(this,bs).changeChildrenColourOnTrashHover(w,e,h),i.draw()}),o.on("dragend.draw",f=>{if(u(this,bs).remove(),f===void 0||f.evt===void 0)return;const m=o.x(),v=o.y(),g=Bn(f.evt),S={x:g.getX(),y:g.getY()},y=Q(this,Qr,Z4).call(this,S,r);if(u(this,bs).isOverTrash(y)){e.x(s.x),e.y(s.y),u(this,rr).disable(),u(this,rr).reset(),u(this,bs).changeGroupChildrenColour(e,h),t.mathShape=d.mathShape,t.referencePoints=d.referencePoints;const C=new cw(t,r.getDrawController());u(this,Cs).addToUndoStack(C),C.execute(),this.onMouseOutShapeGroup()}else{const C={x:m-s.x,y:v-s.y};if(C.x!==0||C.y!==0){const x={mathShape:t.mathShape,referencePoints:t.referencePoints},w=new ld(t,d,x,r.getDrawController());u(this,Cs).addToUndoStack(w),u(this,Y0).call(this,{type:"annotationupdate",data:t,dataid:r.getDataId(),keys:Object.keys(x)}),d={mathShape:x.mathShape,referencePoints:x.referencePoints}}u(this,rr).setAnchorsActive(!0),u(this,rr).resetAnchors()}i.draw(),s={x:o.x(),y:o.y()}})},RL=function(e,t,r){const i=e.getChildren(H4)[0];if(!(i instanceof Fe.default.Label))return;let o,s;i.draggable(!0),i.on("dragstart.draw",()=>{o={x:i.x(),y:i.y()},s=t.labelPosition}),i.on("dragmove.draw",()=>{const l=t.getFactory();if(l===void 0)throw new Error("Cannot udpate connector without factory");l.updateConnector(e)}),i.on("dragend.draw",()=>{const l=i.x()-o.x,d=i.y()-o.y;if(l!==0||d!==0){const h=new Re(i.x(),i.y());t.labelPosition=h;const f=new ld(t,{labelPosition:s},{labelPosition:h},r.getDrawController());u(this,Cs).addToUndoStack(f),u(this,Y0).call(this,{type:"annotationupdate",data:t,dataid:r.getDataId(),keys:["labelPosition"]}),s=h}o={x:i.x(),y:i.y()}})};class dw{constructor(e){ae(this,"meta");ae(this,"image");ae(this,"annotationGroup");ae(this,"buffer");this.meta=e}}var Fn,rg,X0,Fl,Ur,xi;class lj{constructor(){G(this,Ur);G(this,Fn,{});G(this,rg,-1);G(this,X0,new Gi);G(this,Fl,e=>{u(this,X0).fireEvent(e)})}getNextDataId(){return++Di(this,rg)._,u(this,rg).toString()}getDataIds(){return Object.keys(u(this,Fn))}reset(){z(this,Fn,{})}get(e){return u(this,Fn)[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const r=Object.keys(u(this,Fn));for(const i of r)u(this,Fn)[i].image!==void 0&&u(this,Fn)[i].image.containsImageUids(e)&&t.push(i);return t}getDataIdFromSeriesUid(e){let t;const r=Object.keys(u(this,Fn));for(const i of r){const o=u(this,Fn)[i].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=i;break}}return t}setImage(e,t){u(this,Fn)[e].image=t,u(this,Fl).call(this,{type:"dataimageset",value:[t],dataid:e}),t.addEventListener("imagecontentchange",Q(this,Ur,xi).call(this,e)),t.addEventListener("imagegeometrychange",Q(this,Ur,xi).call(this,e))}add(e,t){if(u(this,Fn)[e]!==void 0)throw new Error("Data id already used in storage: "+e);let r;if(u(this,Fn)[e]=t,t.meta["00080060"]!==void 0&&(r=t.meta["00080060"].value[0]),r==="SEG"&&t.image===void 0){let i;const o=t.meta["00081115"];if(o!==void 0&&(i=o.value[0]["0020000E"].value[0]),i===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const s=this.getDataIdFromSeriesUid(i);if(s===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");const l=new G4;t.image=l.create(t.meta,t.buffer,u(this,Fn)[s].image)}u(this,Fl).call(this,{type:"dataadd",dataid:e}),t.image!==void 0&&(t.image.addEventListener("imagecontentchange",Q(this,Ur,xi).call(this,e)),t.image.addEventListener("imagegeometrychange",Q(this,Ur,xi).call(this,e))),t.annotationGroup!==void 0&&(t.annotationGroup.addEventListener("annotationadd",Q(this,Ur,xi).call(this,e)),t.annotationGroup.addEventListener("annotationupdate",Q(this,Ur,xi).call(this,e)),t.annotationGroup.addEventListener("annotationremove",Q(this,Ur,xi).call(this,e)))}remove(e){if(u(this,Fn)[e]!==void 0){const t=u(this,Fn)[e].image;t!==void 0&&(t.removeEventListener("imagecontentchange",Q(this,Ur,xi).call(this,e)),t.removeEventListener("imagegeometrychange",Q(this,Ur,xi).call(this,e)));const r=u(this,Fn)[e].annotationGroup;r!==void 0&&(r.removeEventListener("annotationadd",Q(this,Ur,xi).call(this,e)),r.removeEventListener("annotationupdate",Q(this,Ur,xi).call(this,e)),r.removeEventListener("annotationremove",Q(this,Ur,xi).call(this,e))),delete u(this,Fn)[e],u(this,Fl).call(this,{type:"dataremove",dataid:e})}}update(e,t){if(u(this,Fn)[e]===void 0)throw new Error("Cannot find data to update: "+e);const r=u(this,Fn)[e];r.image!==void 0&&t.image!==void 0&&r.image.appendSlice(t.image);let i="";i=t.meta["00020010"]!==void 0?"00200013":"imageUid",r.meta=function(o,s,l,d){const h={};if(!l)throw new Error("Cannot merge object with an undefined id key: "+l);if(!Object.prototype.hasOwnProperty.call(o,l))throw new Error("Id key not found in first object while merging: "+l+", obj: "+o);if(!Object.prototype.hasOwnProperty.call(s,l))throw new Error("Id key not found in second object while merging: "+l+", obj: "+s);let f=!1;if(Object.prototype.hasOwnProperty.call(o[l],"merged")&&o[l].merged&&(f=!0),!Object.prototype.hasOwnProperty.call(o[l],d))throw new Error("Id value not found in first object while merging: "+l+", valueKey: "+d+", ojb: "+o);if(!Object.prototype.hasOwnProperty.call(s[l],d))throw new Error("Id value not found in second object while merging: "+l+", valueKey: "+d+", ojb: "+s);let m=o[l][d];const v=s[l][d][0];if(h[l]=o[l],f){for(let C=0;C<m.length;++C)if(m[C]===v)throw new Error("The first object already contains id2: "+v+", id1: "+m);h[l][d].push(v)}else{if(m=m[0],m===v)throw new Error("Cannot merge object with same ids: "+m+", id2: "+v);h[l][d].push(v),h[l].merged=!0}const g=Object.keys(o),S=Object.keys(s).filter(function(C){return g.indexOf(C)<0}),y=g.concat(S);for(let C=0;C<y.length;++C){const x=y[C];if(x!==l){let w,b,T,P,A;if(Object.prototype.hasOwnProperty.call(o,x)&&(w=o[x],Object.prototype.hasOwnProperty.call(w,d)&&(b=w[d])),Object.prototype.hasOwnProperty.call(s,x)&&(T=s[x],Object.prototype.hasOwnProperty.call(T,d)&&(P=T[d])),w!==void 0?A=w:T!==void 0&&(A=T),!JR(b,P))if(f){if(Array.isArray(b)){A[d]={};for(let F=0;F<m.length;++F)A[d][m[F]]=b}else A[d]=b;A[d]===void 0&&(A[d]={}),A[d][v]=P}else{const F={};F[m]=b,F[v]=P,A[d]=F}h[x]=A}}return h}(r.meta,t.meta,i,"value"),u(this,Fl).call(this,{type:"dataupdate",dataid:e})}addEventListener(e,t){u(this,X0).add(e,t)}removeEventListener(e,t){u(this,X0).remove(e,t)}}Fn=new WeakMap,rg=new WeakMap,X0=new WeakMap,Fl=new WeakMap,Ur=new WeakSet,xi=function(e){return t=>{t.dataid=e,u(this,Fl).call(this,t)}};const uj="No source image to create mask",r9="No source image to get offsets, ID: {0}",cj="No brush origins",dj="No mask defined when adding mask slices",hj="No created mask image",fj="No mask image for temporary draw command, ID: {0}",pj="No mask image to get offsets from",gj="No mask image for draw command, ID: {0}",i9="No mask ID to apply mask index",mj="No mask view layers",Sj="No selected segment number",yj="Too many mask view layers: {0}",vj="More mask layers than expected",Cj="Cannot display mask with no mask ID",bj="Cannot draw with no mask data ID",wj="Cannot draw with no offsets",Dj="Cannot draw with no colour list",xj="Cannot get mask layers with no mask ID",Tj="Cannot get mask view controller: no mask ID",Pj="Cannot get mask view controller: no mask layers",Ij="Cannot find source data for an existing mask, ID: {0}",Rj="Unsupported scroll index: {0}";function ml(n,...e){return n.replace(/{(\d+)}/g,(t,r)=>e[r]||"")}const e2="del",GC="add";function o9(n,e,t,r){return rj(n.worldToIndex(e),t,r)}class a9{constructor(){ae(this,"mask");ae(this,"dataId");ae(this,"offsetsLists");ae(this,"mode");ae(this,"segmentNumber");ae(this,"srclayerid");ae(this,"originalValuesLists");ae(this,"isSilent")}}var Ml,K0,Nl,ig,Ul,Z0,ya,og,ql,J0;class s9{constructor(e){G(this,Ml);G(this,K0);G(this,Nl);G(this,ig);G(this,Ul);G(this,Z0);G(this,ya);G(this,og);G(this,ql);G(this,J0);z(this,Ml,e.mask),z(this,K0,e.dataId),z(this,Nl,e.offsetsLists),z(this,ig,e.mode),z(this,Ul,e.segmentNumber),z(this,Z0,e.srclayerid),e.originalValuesLists!==void 0&&z(this,ya,e.originalValuesLists),z(this,og,e.isSilent??!1),z(this,ql,u(this,ig)===e2?"brushremove":"brushdraw"),z(this,J0,u(this,ql)==="brushdraw"?"brushremove":"brushdraw")}getOriginalValuesLists(){return u(this,ya)}getExecuteEvent(){const e=u(this,ql)==="brushdraw"?u(this,Ul):void 0;return new CustomEvent(u(this,ql),{detail:{segmentnumber:e,dataid:u(this,K0),srclayerid:u(this,Z0)}})}getName(){return"Draw-brush"}execute(){if(u(this,Ul)===void 0)return;let e=u(this,Ul);u(this,ql)==="brushremove"&&(e=0),u(this,ya)===void 0?z(this,ya,u(this,Ml).setAtOffsetsAndGetOriginals(u(this,Nl),e)):u(this,Ml).setAtOffsetsWithIterator(u(this,Nl),e),u(this,og)||this.onExecute(this.getExecuteEvent())}undo(){u(this,ya)===void 0?z(this,ya,u(this,Ml).setAtOffsetsAndGetOriginals(u(this,Nl),0)):u(this,Ml).setAtOffsetsWithIterator(u(this,Nl),u(this,ya));const e=u(this,J0)==="brushdraw"?u(this,Ul):void 0,t=new CustomEvent(u(this,J0),{detail:{segmentnumber:e,dataid:u(this,K0),srclayerid:u(this,Z0)}});this.onUndo(t)}onExecute(e){}onUndo(e){}}Ml=new WeakMap,K0=new WeakMap,Nl=new WeakMap,ig=new WeakMap,Ul=new WeakMap,Z0=new WeakMap,ya=new WeakMap,og=new WeakMap,ql=new WeakMap,J0=new WeakMap;var zn,ag,Bl,qr,cn,li,Vl,Fi,Pc,sg,eh,Gl,Ql,zl,lg,ft,J4,LL,e3,AL,OL,EL,kL,_L,FL,ML,t3,NL,UL,n3,r3,qL,BL;class Lj extends EventTarget{constructor(t){super();G(this,ft);G(this,zn);G(this,ag);G(this,Bl,!1);G(this,qr);G(this,cn);G(this,li,10);G(this,Vl,{min:1,max:20});G(this,Fi,e2);G(this,Pc);G(this,sg,0);G(this,eh);G(this,Gl);G(this,Ql);G(this,zl);G(this,lg,[]);ae(this,"mousedown",t=>{if(Q(this,ft,NL).call(this,t))return;if(u(this,Pc)===void 0)return void Pe.warn(Sj);z(this,Bl,!0),z(this,Gl,new Re(t.offsetX,t.offsetY)),z(this,Ql,[]),z(this,zl,[]),Q(this,ft,UL).call(this,t);const r=Q(this,ft,t3).call(this,t);r.length>0?Q(this,ft,e3).call(this,r):(z(this,Bl,!1),Q(this,ft,n3).call(this,t))});ae(this,"mousemove",t=>{if(!u(this,Bl)||u(this,Gl)===void 0)return;const r=new Re(t.offsetX,t.offsetY),i=Math.abs(r.getX()-u(this,Gl).getX()),o=Math.abs(r.getY()-u(this,Gl).getY());if(i>u(this,li)/2||o>u(this,li)/2){const s=Q(this,ft,t3).call(this,t);s.length>0&&Q(this,ft,e3).call(this,s),z(this,Gl,r)}});ae(this,"mouseup",t=>{if(u(this,Bl)){if(z(this,Bl,!1),Q(this,ft,n3).call(this,t),u(this,cn)===void 0)throw new Error(bj);if(u(this,Ql)===void 0)throw new Error(wj);if(u(this,zl)===void 0)throw new Error(Dj);u(this,Ql).reverse(),u(this,zl).reverse();const r=Q(this,ft,r3).call(this).getId(),i=u(this,zn).getData(u(this,cn));if(!i)throw new Error(ml(gj,u(this,cn)));const o=new a9;o.mask=i.image,o.dataId=u(this,cn),o.offsetsLists=u(this,Ql),o.mode=u(this,Fi),o.segmentNumber=u(this,Pc),o.srclayerid=r,o.originalValuesLists=u(this,zl);const s=new s9(o);s.onExecute=l=>{this.dispatchEvent(l)},s.onUndo=l=>{this.dispatchEvent(l),u(this,qr).recalculateLabels()},u(this,zn).addToUndoStack(s),this.dispatchEvent(s.getExecuteEvent()),u(this,qr).recalculateLabels()}});ae(this,"mouseout",t=>{this.mouseup(t)});ae(this,"touchstart",t=>{this.mousedown(t)});ae(this,"touchmove",t=>{this.mousemove(t)});ae(this,"touchend",t=>{this.mouseup(t)});ae(this,"wheel",t=>{u(this,ag).wheel(t)});ae(this,"keydown",t=>{t.context="Brush",u(this,zn).onKeydown(t);const r=t.ctrlKey||t.altKey;!r&&t.key==="+"&&u(this,li)+1<u(this,Vl).max?(z(this,li,u(this,li)+1),Pe.debug("Brush size: "+u(this,li))):!r&&t.key==="-"&&u(this,li)-1>=u(this,Vl).min?(z(this,li,u(this,li)-1),Pe.debug("Brush size: "+u(this,li))):r||Number.isNaN(Number.parseInt(t.key,10))?r||t.key!=="a"?r||t.key!=="d"||(z(this,Fi,e2),Pe.debug("Brush mode: "+u(this,Fi))):(z(this,Fi,GC),Pe.debug("Brush mode: "+u(this,Fi))):z(this,Fi,GC)});z(this,zn,t),z(this,ag,new K1(t))}activate(t){const r=function(i){let o=[];if(!i)return[];for(const s in i)if(i[s]){const l=i[s];if(Array.isArray(l)){const d=l.map(function(h){return h.divId});o=[...o,...d]}}return[...new Set(o)]}(u(this,zn).getDataViewConfigs());t?Q(this,ft,qL).call(this,r):Q(this,ft,BL).call(this,r)}setFeatures(t){t.brushSizeRange!==void 0&&z(this,Vl,t.brushSizeRange),t.brushSize!==void 0&&t.brushSize>=u(this,Vl).min&&t.brushSize<u(this,Vl).max&&z(this,li,t.brushSize),t.brushMode!==void 0&&z(this,Fi,t.brushMode),t.createMask?z(this,cn,void 0):t.maskDataId!==void 0&&z(this,cn,t.maskDataId),t.selectedSegmentNumber!==void 0&&z(this,Pc,t.selectedSegmentNumber),t.blacklist!==void 0&&z(this,lg,t.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}zn=new WeakMap,ag=new WeakMap,Bl=new WeakMap,qr=new WeakMap,cn=new WeakMap,li=new WeakMap,Vl=new WeakMap,Fi=new WeakMap,Pc=new WeakMap,sg=new WeakMap,eh=new WeakMap,Gl=new WeakMap,Ql=new WeakMap,zl=new WeakMap,lg=new WeakMap,ft=new WeakSet,J4=function(t,r,i){const o=t.getSize().getValues();o[2]=1;const s=new zs(o),l=new Su([r],s,t.getSpacing(),t.getOrientation()),d=new Uint8Array(s.getDimSize(2));d.fill(0),++Di(this,sg)._;const h=[u(this,sg).toString()],f=new hd(l,d,h);return f.setMeta(i),f.setPhotometricInterpretation("PALETTE COLOR"),f.setPaletteColourMap(new nw([0],[0],[0])),f},LL=function(t,r,i,o,s,l){const d=function(C,x){const w=x.sort(function(W,H){let j=0;const X=W.get(2),V=H.get(2);return X!==void 0&&V!==void 0&&(j=X-V),j}),b=w[0].get(2);if(b===void 0)return[];const T=new kt([0,0,b]),P=C.indexToWorld(T),A=w.at(-1).get(2);if(A===void 0)return[];const F=new kt([0,0,A]),E=C.indexToWorld(F),k=C.getOrigins(),R=.1*C.getSpacing().get(2),U=P.get3D().getClosest(k),N=k[U],L=P.get3D().getDistance(N);L>R&&Pe.warn("Large distance between origin and origin for first index: "+L);const I=E.get3D().getClosest(k),_=k[I],B=E.get3D().getDistance(_);return B>R&&Pe.warn("Large distance between origin and origin for last index: "+B),[U,I]}(t,o9(t,i,s,o));if(d===void 0||d.length===0)throw new Error(cj);const h=t.getOrigins(),f=r.getOrigins(),m=f[0].getClosest(h),v=f.at(-1).getClosest(h),g=[];if(d[0]<m)for(let C=m-1;C>=d[0];--C)g.push(C);if(d[1]>v)for(let C=v+1;C<=d[1];++C)g.push(C);const S=[];for(const C of g)S.push(h[C]);if(u(this,qr)===void 0)throw new Error(dj);const y=u(this,qr).getMeta();for(const C of S)y.numberOfFiles+=1,u(this,qr).appendSlice(Q(this,ft,J4).call(this,r,C,l))},e3=function(t){const r=Q(this,ft,r3).call(this).getId();if(u(this,cn)===void 0)throw new Error(i9);const i=u(this,zn).getData(u(this,cn));if(!i)throw new Error(ml(fj,u(this,cn)));const o=new a9;o.mask=i.image,o.dataId=u(this,cn),o.offsetsLists=[t],o.mode=u(this,Fi),o.segmentNumber=u(this,Pc),o.srclayerid=r;const s=new s9(o);s.execute(),u(this,Ql).push(t);const l=s.getOriginalValuesLists();l!==void 0&&u(this,zl).push(l[0])},AL=function(t,r){if(!r)throw new Error(ml(uj));const i=r.getGeometry(),o=i.worldToIndex(t).get(2);if(o===void 0)throw new Error("Z position is undefined");const s=new kt([0,0,o]),l=pL(),d=function(){const S="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:S,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:S,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:S}]}}}();l.DimensionOrganizationSequence=d.organizations,l.DimensionIndexSequence=d.indices,l.PixelRepresentation=0,l.numberOfFiles=1;const h=r.getMeta();l.PatientID=h.PatientID,l.StudyInstanceUID=h.StudyInstanceUID,l.SeriesInstanceUID=h.SeriesInstanceUID;const f=[{referencedSOPClassUID:h.SOPClassUID,referencedSOPInstanceUID:r.getImageUid(s)}],m=[];m.push({ReferencedInstanceSequence:{value:f},SeriesInstanceUID:h.SeriesInstanceUID}),l.ReferencedSeriesSequence={value:m},l.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:h.ImageOrientationPatient,derivationImages:[{sourceImages:f}]}]},l.lengthUnit=r.getMeta().lengthUnit,z(this,qr,Q(this,ft,J4).call(this,i,i.getOrigins()[o],l));const v=xp(l),g=new dw(v);return g.image=u(this,qr),u(this,zn).addData(g)},OL=function(t){const r=u(this,zn).getDataViewConfigs();let i;for(const o in r){const s=r[o].find(function(l){return l.divId===t});if(s!==void 0){i=s.orientation;break}}return i},EL=function(t){if(u(this,cn)===void 0)throw new Error(Cj);const r=new gO(t);r.orientation=Q(this,ft,OL).call(this,t),u(this,zn).addDataViewConfig(u(this,cn),r),u(this,zn).render(u(this,cn))},kL=function(t){let r;const i=t.custom.frameInfos;if(i.length===0)return r;const o=i[0].derivationImages;if(o===void 0||o.length===0)return r;const s=o[0].sourceImages;return s===void 0?r:s.length!==0?s[0].referencedSOPInstanceUID:void 0},_L=function(t){const r=t.getMeta(),i=Q(this,ft,kL).call(this,r);let o=[];i!=="undefined"&&(o=u(this,zn).getDataIdsFromSopUids([i]));let s="0";return o.length>0?s=o[0]:Pe.warn(ml(Ij,i)),s},FL=function(t){if(u(this,cn)===void 0)throw new Error(xj);const r=t.getViewLayersByDataId(u(this,cn));if(r.length===0)throw new Error(mj);return r.length!==1&&Pe.warn(ml(yj,r.length)),r[0]},ML=function(t){if(t===void 0)throw new Error(i9);const r=u(this,zn).getData(t);if(r===void 0)throw new Error(pj);return r.image},t3=function(t){const r=Rt(t),i=new Re(t.offsetX,t.offsetY),o=u(this,zn).getLayerGroupByDivId(r.groupDivId);if(o===void 0)throw new Error("No layergroup to get mask offsets");let s;if(z(this,eh,o),s=u(this,cn)===void 0?o.getBaseViewLayer():o.getViewLayersByDataId(u(this,cn))[0],s===void 0)return[];const l=s.getViewController(),d=l.getCurrentPosition();let h,f,m,v;if(l.equalImageMeta({Modality:"SEG"})){z(this,qr,Q(this,ft,ML).call(this,u(this,cn)));const P=Q(this,ft,_L).call(this,u(this,qr)),A=u(this,zn).getData(P);if(!A)throw new Error(ml(r9,P));v=A.image;const F=o.getViewLayersByDataId(P)[0],E=F.getViewController(),k=F.displayToPlanePos(i);m=E.getPositionFromPlanePoint(k),h=s,f=l}else{const P=s.getDataId(),A=u(this,zn).getData(P);if(!A)throw new Error(ml(r9,P));v=A.image;const F=s.displayToPlanePos(i);if(m=l.getPositionFromPlanePoint(F),z(this,cn,Q(this,ft,AL).call(this,d,v)),u(this,qr)===void 0)throw new Error(hj);const E=o.getDivId(),k=E!==void 0;k&&Q(this,ft,EL).call(this,E),h=Q(this,ft,FL).call(this,o),f=h.getViewController(),k&&f.setCurrentPosition(d)}const g=v.getGeometry(),S=u(this,qr).getMeta(),y=u(this,qr).getGeometry(),C=l.get2DSpacing(),x=[Math.round(u(this,li)/C.x),Math.round(u(this,li)/C.y)];let w;const b=l.getScrollDimIndex();switch(b){case 0:w=[1,2];break;case 1:w=[0,2];break;case 2:w=[0,1];break;default:throw new Error(ml(Rj,b))}Q(this,ft,LL).call(this,g,y,m,w,x,S);const T=h.displayToPlanePos(i);return function(P,A){const F=P.getSize(),E=[];for(const k of A){const R=F.indexToOffset(k);R>=0&&E.push(R)}return E.sort(function(k,R){return k-R})}(y,o9(y,f.getPositionFromPlanePoint(T),x,w))},NL=function(t){const r=Rt(t),i=u(this,zn).getLayerGroupByDivId(r.groupDivId);if(i===void 0)throw new Error("No layergroup to check black list");if(i.getActiveDrawLayer()===void 0){const o=i.getActiveViewLayer().getDataId(),s=u(this,zn).getData(o).image.getMeta().SeriesInstanceUID;if(u(this,lg).includes(s))return!0}return!1},UL=function(t){if(t.button===2){z(this,Fi,e2);const r=new CustomEvent("erasingactivated");this.dispatchEvent(r)}},n3=function(t){if(t.button===2){z(this,Fi,GC);const r=new CustomEvent("erasingdeactivated");this.dispatchEvent(r)}},r3=function(){if(u(this,cn)===void 0)throw new Error(Tj);if(u(this,eh)===void 0)throw new Error("No current layer group");const t=u(this,eh).getViewLayersByDataId(u(this,cn));if(t.length===0)throw new Error(Pj);return t.length!==1&&Pe.warn(vj),t[0]},qL=function(t){for(const r of t){const i=document.querySelector("#"+r);if(!i)return;i.addEventListener("contextmenu",o=>{o.preventDefault(),o.stopPropagation()})}},BL=function(t){for(const r of t){const i=document.querySelector("#"+r);if(!i)return;i.addEventListener("contextmenu",o=>{})}};var AS=function(n){var e={};return Cr.d(e,n),e}({default:function(){return Xz}});class G1{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const r=[];for(let i=0;i<e.controlPointIndexArray.length;++i)r[i]=e.controlPointIndexArray[i]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(r)}}class Aj{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(r){return r},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let r=this.buckets[t];for(;r!==null&&(r.next===null||e.x!==r.next.x||e.y!==r.next.y);)r=r.next;return r!==null&&(r.next=r.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=null;return t}}const Oj=2/(3*Math.PI);function QC(n,e,t,r,i){const o=n[r][t],s=e[r][t];let l=Math.sqrt(o*o+s*s);l=Math.max(l,1e-100),i.x=o/l,i.y=s/l}var iy;class Ej{constructor(){G(this,iy,e=>Math.round(this.searchGran*this.cost[e.y][e.x]));this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(r,i,o){const s={data:[]};for(let l=0;l<o;l++){s.data[l]=[];for(let d=0;d<i;d++){const h=4*(l*i+d);s.data[l][d]=(r[h]+r[h+1]+r[h+2])/765}}return s.dx=function(l,d){return l+1===this.data[d].length&&l--,this.data[d][l+1]-this.data[d][l]},s.dy=function(l,d){return d+1===this.data.length&&d--,this.data[d][l]-this.data[d+1][l]},s.gradMagnitude=function(l,d){const h=this.dx(l,d),f=this.dy(l,d);return Math.sqrt(h*h+f*f)},s.laplace=function(l,d){let h=-16*this.data[d][l];return h+=this.data[d-2][l],h+=this.data[d-1][l-1]+2*this.data[d-1][l]+this.data[d-1][l+1],h+=this.data[d][l-2]+2*this.data[d][l-1]+2*this.data[d][l+1]+this.data[d][l+2],h+=this.data[d+1][l-1]+2*this.data[d+1][l]+this.data[d+1][l+1],h+=this.data[d+2][l],h},s}(e,this.width,this.height),this.laplace=function(r){const i=[];i[0]=[],i[1]=[];for(let o=1;o<r.data.length;o++)i[0][o]=1,i[1][o]=1;for(let o=2;o<r.data.length-2;o++){i[o]=[],i[o][0]=1,i[o][1]=1;for(let s=2;s<r.data[o].length-2;s++)i[o][s]=r.laplace(s,o)>.33?0:1;i[o][r.data[o].length-2]=1,i[o][r.data[o].length-1]=1}i[r.data.length-2]=[],i[r.data.length-1]=[];for(let o=1;o<r.data.length;o++)i[r.data.length-2][o]=1,i[r.data.length-1][o]=1;return i}(this.greyscale),this.gradient=function(r){const i=[];let o=0,s=0,l=0;for(l=0;l<r.data.length-1;l++){for(i[l]=[],s=0;s<r.data[l].length-1;s++)i[l][s]=r.gradMagnitude(s,l),o=Math.max(i[l][s],o);i[l][r.data[l].length-1]=i[l][r.data.length-2]}i[r.data.length-1]=[];for(let d=0;d<i[0].length;d++)i[r.data.length-1][d]=i[r.data.length-2][d];for(l=0;l<i.length;l++)for(s=0;s<i[l].length;s++)i[l][s]=1-i[l][s]/o;return i}(this.greyscale),this.gradX=function(r){const i=[];for(let o=0;o<r.data.length;o++){i[o]=[];for(let s=0;s<r.data[o].length-1;s++)i[o][s]=r.dx(s,o);i[o][r.data[o].length-1]=i[o][r.data[o].length-2]}return i}(this.greyscale),this.gradY=function(r){const i=[];for(let o=0;o<r.data.length-1;o++){i[o]=[];for(let s=0;s<r.data[o].length;s++)i[o][s]=r.dy(s,o)}i[r.data.length-1]=[];for(let o=0;o<r.data[0].length;o++)i[r.data.length-1][o]=i[r.data.length-2][o];return i}(this.greyscale);const t=function(r,i,o,s){const l={inside:[],outside:[]},d={x:-1,y:-1};for(let h=0;h<i.length;h++){l.inside[h]=[],l.outside[h]=[];for(let f=0;f<i[h].length;f++){QC(i,o,f,h,d);let m=Math.round(f+r*d.y),v=Math.round(h-r*d.x),g=Math.round(f-r*d.y),S=Math.round(h+r*d.x);m=Math.max(Math.min(m,i[h].length-1),0),g=Math.max(Math.min(g,i[h].length-1),0),v=Math.max(Math.min(v,i.length-1),0),S=Math.max(Math.min(S,i.length-1),0),l.inside[h][f]=s.data[v][m],l.outside[h][f]=s.data[S][g]}}return l}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let r=0;r<this.trainingLength&&e;r++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,r,i){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let s=1;for(o=0;o<this.trainingPoints.length;o++){const l=this.trainingPoints[o],d=this.getTrainingIdx(t,r[l.y][l.x]);e[d]+=1,s=Math.max(s,e[d])}for(o=0;o<t;o++)e[o]=1-e[o]/s;(function(l,d){d[0]=.4*l[0]+.5*l[1]+.1*l[1],d[1]=.25*l[0]+.4*l[1]+.25*l[2]+.1*l[3];for(let f=2;f<l.length-2;f++)d[f]=.05*l[f-2]+.25*l[f-1]+.4*l[f]+.25*l[f+1]+.05*l[f+2];const h=l.length;d[h-2]=.25*l[h-1]+.4*l[h-2]+.25*l[h-3]+.1*l[h-4],d[h-1]=.4*l[h-1]+.5*l[h-2]+.1*l[h-3]})(e,i)}addInStaticGrad(e,t){for(let r=0;r<this.gradGran;r++)this.gradTraining[r]=Math.min(this.gradTraining[r],1-r*(t-e)/(t*this.gradGran))}gradDirection(e,t,r,i){return function(o,s,l,d,h,f){const m={x:-1,y:-1},v={x:-1,y:-1};QC(o,s,l,d,m),QC(o,s,h,f,v);let g=m.y*(h-l)-m.x*(f-d),S=v.y*(h-l)-v.x*(f-d);return g<0&&(g=-g,S=-S),l!==h&&d!==f&&(g*=Math.SQRT1_2,S*=Math.SQRT1_2),Oj*(Math.acos(g)+Math.acos(S))}(this.gradX,this.gradY,e,t,r,i)}dist(e,t,r,i){let o=this.gradient[i][r];e!==r&&t!==i||(o*=Math.SQRT1_2);const s=this.laplace[i][r],l=this.gradDirection(e,t,r,i);return this.trained?.3*this.getTrainedGrad(o)+.3*s+.1*(l+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*s+.11*l}adj(e){const t=[],r=Math.max(e.x-1,0),i=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),s=Math.min(e.y+1,this.greyscale.data.length-1);let l=0;for(let d=i;d<=s;d++)for(let h=r;h<=o;h++)h===e.x&&d===e.y||(t[l++]={x:h,y:d});return t}setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,r=0;for(this.visited=[],r=0;r<this.height;r++)for(this.visited[r]=[],t=0;t<this.width;t++)this.visited[r][t]=!1;for(this.parents=[],r=0;r<this.height;r++)this.parents[r]=[];for(this.cost=[],r=0;r<this.height;r++)for(this.cost[r]=[],t=0;t<this.width;t++)this.cost[r][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new Aj(this.searchGranBits,u(this,iy)),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const r=this.pq.pop();t.push(r),t.push(this.parents[r.y][r.x]),this.visited[r.y][r.x]=!0;const i=this.adj(r);for(let o=0;o<i.length;o++){const s=i[o],l=this.cost[r.y][r.x]+this.dist(r.x,r.y,s.x,s.y);l<this.cost[s.y][s.x]&&(this.cost[s.y][s.x]!==Number.MAX_VALUE&&this.pq.remove(s),this.cost[s.y][s.x]=l,this.parents[s.y][s.x]=r,this.pq.push(s))}e++}return t}}iy=new WeakMap;var ug;class Hu{constructor(e){G(this,ug);z(this,ug,e)}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=u(this,ug).call(this,e)),t}create(e,t){const r=new Fe.default.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),i=e.getText();r.setText(i);const o=t.applyZoomScale(1),s={x:2*o.x,y:2*o.y},l=this.getPosition(e),d=new Fe.default.Label({x:l.getX(),y:l.getY(),scale:s,visible:i.length!==0,name:"label"});return d.add(r),d.add(new Fe.default.Tag({fill:e.colour,opacity:t.getTagOpacity()})),d}updatePosition(e,t){const r=t.getChildren(function(o){return o.name()==="label"})[0];if(!(r instanceof Fe.default.Label))return;const i=this.getPosition(e);r.position({x:i.getX(),y:i.getY()})}getLabelAnchorsPosition(e){const t=e.x(),r=e.y(),i=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new Re(t+i/2,r),new Re(t,r+o/2),new Re(t+i/2,r+o),new Re(t+i,r+o/2)]}getClosestPoints(e,t){let r=e[0].getDistance(t[0]),i=e[0],o=t[0];for(const s of e)for(const l of t){const d=s.getDistance(l);d<r&&(r=d,i=s,o=l)}return[i,o]}getConnector(e,t,r){const i=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,i);return new Fe.default.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:r.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const r=e.getChildren(function(l){return l.name()==="label"})[0];if(!(r instanceof Fe.default.Label))return;const i=this.getLabelAnchorsPosition(r),o=this.getClosestPoints(t,i),s=e.getChildren(function(l){return l.name()==="connector"})[0];s instanceof Fe.default.Line&&s.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const r=t.getChildren(function(o){return o.name()==="label"})[0];if(!(r instanceof Fe.default.Label))return;const i=e.getText();r.getText().setText(i),r.visible()&&r.visible(i.length!==0)}}ug=new WeakMap;var cg,dg,hg;class kj{constructor(){G(this,cg,0);G(this,dg,0);G(this,hg,null)}getMin(){return u(this,cg)}setMin(e){z(this,cg,e)}getMax(){return u(this,dg)}setMax(e){z(this,dg,e)}getName(){return"Threshold"}setOriginalImage(e){z(this,hg,e)}getOriginalImage(){return u(this,hg)}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform(r=>r<this.getMin()||r>this.getMax()?t:r)}}cg=new WeakMap,dg=new WeakMap,hg=new WeakMap;var fg;class _j{constructor(){G(this,fg,null)}getName(){return"Sharpen"}setOriginalImage(e){z(this,fg,e)}getOriginalImage(){return u(this,fg)}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}fg=new WeakMap;var pg;class Fj{constructor(){G(this,pg,null)}getName(){return"Sobel"}setOriginalImage(e){z(this,pg,e)}getOriginalImage(){return u(this,pg)}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),r=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(r,function(i,o){return Math.sqrt(i*i+o*o)})}}pg=new WeakMap;var Ic,va,Wl;class zC{constructor(e,t,r){G(this,Ic);G(this,va);G(this,Wl);z(this,Ic,e),z(this,va,t),z(this,Wl,r)}getName(){return"Filter-"+u(this,Ic).getName()}execute(){u(this,Wl).setImage(u(this,va),u(this,Ic).update()),u(this,Wl).render(u(this,va));const e={type:"filterrun",id:this.getName(),dataId:u(this,va)};this.onExecute(e)}undo(){u(this,Wl).setImage(u(this,va),u(this,Ic).getOriginalImage()),u(this,Wl).render(u(this,va));const e={type:"filterundo",id:this.getName(),dataid:u(this,va)};this.onUndo(e)}onExecute(e){}onUndo(e){}}Ic=new WeakMap,va=new WeakMap,Wl=new WeakMap;const Mj={},t2={};var ws,Rc,Lc,gg,mg,Lr,n2,i3,o3,r2,V9,Ca,Ac,Oc,Sg,ba,yg,Ec,Yn,VL,a3,s3,i2,GL,o2,G9,Ds,xs,Ts,Ps,th,nh,Hn,Z1,l3,oy,u3,ay,c3,a2,Q9,rh,kc,ih,vg,Io,d3,h3,s2,z9,Tn,Cg,wa,co,oh,ho,gr,bg,Wn,ui,wg,ah,sh,lh,uh,fo,ch,Mi,dh,hh,dt,QL,zL,WL,f3,l2,jL,HL,u2,$L,YL,XL,p3,g3,m3,S3,_c,W9,fh,Br,jl,ph,Fc,j9,po,sy,ly,uy,Hl,Mc,Is,Da,Nc,go,jo,Uc,gh,Dg,$l,Rn,y3,xg,KL,J1,v3,C3,c2,H9,Ho,qc,mh,mo,Yl,Rs,xa,Ls,Tg,Or,b3,ZL,As,w3,D3,x3,$9;const Nj={WindowLevel:(V9=class{constructor(n){G(this,Lr);G(this,ws);G(this,Rc,!1);G(this,Lc);G(this,gg);G(this,mg,!0);ae(this,"mousedown",n=>{const e=Bn(n),t=Rt(n);Q(this,Lr,i3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Lr,o3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Lr,r2).call(this)});ae(this,"mouseout",n=>{Q(this,Lr,r2).call(this)});ae(this,"touchstart",n=>{const e=Zr(n),t=Rt(n);Q(this,Lr,i3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Zr(n),t=Rt(n);Q(this,Lr,o3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,Lr,r2).call(this)});ae(this,"dblclick",n=>{const e=Rt(n),t=Bn(n),r=u(this,ws).getLayerGroupByDivId(e.groupDivId),i=Q(this,Lr,n2).call(this,r);if(i===void 0)return;const o=i.displayToPlaneIndex(t),s=i.getViewController();if(!s.isMonochrome())return;const l=u(this,ws).getData(i.getDataId()).image,d=new mi(l.getRescaledValueAtIndex(s.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),s.getWindowLevel().width);s.setWindowLevel(d)});ae(this,"wheel",n=>{u(this,gg).wheel(n)});ae(this,"keydown",n=>{n.context="WindowLevel",u(this,ws).onKeydown(n)});z(this,ws,n),z(this,gg,new K1(n))}activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&z(this,mg,n.strictViewLayer)}},ws=new WeakMap,Rc=new WeakMap,Lc=new WeakMap,gg=new WeakMap,mg=new WeakMap,Lr=new WeakSet,n2=function(n){let e;if(u(this,mg))e=n.getActiveViewLayer();else{const t=function(r){return r.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e},i3=function(n,e){const t=u(this,ws).getLayerGroupByDivId(e),r=Q(this,Lr,n2).call(this,t);r!==void 0&&r.getViewController().isMonochrome()&&(z(this,Rc,!0),z(this,Lc,n))},o3=function(n,e){if(!u(this,Rc))return;const t=u(this,ws).getLayerGroupByDivId(e),r=Q(this,Lr,n2).call(this,t);if(r===void 0)return;const i=r.getViewController(),o=n.getX()-u(this,Lc).getX(),s=u(this,Lc).getY()-n.getY(),l=i.getImageRescaledDataRange(),d=.001*(l.max-l.min),h=i.getWindowLevel().center,f=i.getWindowLevel().width,m=new mi(h+s*d,f+o*d);i.setWindowLevel(m),z(this,Lc,n)},r2=function(){u(this,Rc)&&z(this,Rc,!1)},V9),Scroll:(G9=class{constructor(n){G(this,Yn);G(this,Ca);G(this,Ac,!1);G(this,Oc);G(this,Sg);G(this,ba);G(this,yg,!1);G(this,Ec);ae(this,"mousedown",n=>{const e=Bn(n),t=Rt(n);Q(this,Yn,a3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Yn,s3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Yn,i2).call(this)});ae(this,"mouseout",n=>{Q(this,Yn,i2).call(this),Q(this,Yn,o2).call(this)});ae(this,"touchstart",n=>{z(this,ba,setTimeout(()=>{this.dblclick(n)},500));const e=Zr(n),t=Rt(n);Q(this,Yn,a3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{u(this,ba)!==null&&(clearTimeout(u(this,ba)),z(this,ba,null));const e=Zr(n),t=Rt(n);Q(this,Yn,s3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{u(this,ba)!==null&&(clearTimeout(u(this,ba)),z(this,ba,null)),Q(this,Yn,i2).call(this)});ae(this,"wheel",n=>{u(this,Sg).wheel(n)});ae(this,"keydown",n=>{n.context="Scroll",u(this,Ca).onKeydown(n)});ae(this,"dblclick",n=>{const e=Rt(n),t=u(this,Ca).getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()});z(this,Ca,n),z(this,Sg,new K1(n))}activate(n){n||Q(this,Yn,o2).call(this)}setFeatures(n){n.displayTooltip!==void 0&&z(this,yg,n.displayTooltip)}init(){}},Ca=new WeakMap,Ac=new WeakMap,Oc=new WeakMap,Sg=new WeakMap,ba=new WeakMap,yg=new WeakMap,Ec=new WeakMap,Yn=new WeakSet,VL=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e},a3=function(n,e){Q(this,Yn,o2).call(this);const t=u(this,Ca).getLayerGroupByDivId(e),r=Q(this,Yn,VL).call(this,t);if(r===void 0)return void Pe.warn("No view layer to start scroll");const i=r.getViewController();i.isPlaying()&&i.stop();const o=r.displayToPlanePos(n),s=i.getPositionFromPlanePoint(o);i.setCurrentPosition(s),z(this,Ac,!0),z(this,Oc,n)},s3=function(n,e){if(!u(this,Ac))return void(u(this,yg)&&Q(this,Yn,GL).call(this,n,e));const t=u(this,Ca).getLayerGroupByDivId(e),r=t.getPositionHelper(),i=n.getY()-u(this,Oc).getY(),o=Math.abs(i)>15,s=n.getX()-u(this,Oc).getX(),l=Math.abs(s)>15;o&&t.canScroll()?i>0?r.decrementPositionAlongScroll():r.incrementPositionAlongScroll():l&&t.moreThanOne(3)&&(s>0?r.incrementPosition(3):r.decrementPosition(3)),(l||o)&&z(this,Oc,n)},i2=function(){u(this,Ac)&&z(this,Ac,!1)},GL=function(n,e){const t=u(this,Ca).getLayerGroupByDivId(e);z(this,Ec,e),t.showTooltip(n)},o2=function(){u(this,Ec)!==void 0&&(u(this,Ca).getLayerGroupByDivId(u(this,Ec)).removeTooltipDiv(),z(this,Ec,void 0))},G9),ZoomAndPan:(Q9=class{constructor(n){G(this,Hn);G(this,Ds);G(this,xs,!1);G(this,Ts);G(this,Ps);G(this,th);G(this,nh);G(this,oy,n=>{z(this,xs,!0),z(this,Ts,n[0]),z(this,Ps,!1),z(this,th,new Yt(n[0],n[1])),z(this,nh,u(this,th).getMidpoint())});G(this,ay,(n,e)=>{if(!u(this,xs))return;z(this,Ps,!0);const t=new Yt(n[0],n[1]).getLength()/u(this,th).getLength(),r=u(this,Ds).getLayerGroupByDivId(e),i=r.getPositionHelper();if(t===1){const o=n[0].getY()-u(this,Ts).getY();if(Math.abs(o)<15)return;r.canScroll()&&(o>0?i.incrementPositionAlongScroll():i.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&u(this,nh)!==void 0){const s=Q(this,Hn,Z1).call(this,r);if(s===void 0)return void Pe.warn("No view layer to do touch zoom/pan");const l=s.getViewController(),d=s.displayToMainPlanePos(u(this,nh)),h=l.getPlanePositionFromPlanePoint(d);r.addScale(o,h),r.draw()}}});ae(this,"mousedown",n=>{const e=Bn(n);Q(this,Hn,l3).call(this,e)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Hn,u3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,Ps)){const e=Bn(n),t=Rt(n);Q(this,Hn,c3).call(this,e,t.groupDivId)}Q(this,Hn,a2).call(this)});ae(this,"mouseout",n=>{Q(this,Hn,a2).call(this)});ae(this,"touchstart",n=>{const e=Zr(n);e.length===1?Q(this,Hn,l3).call(this,e[0]):e.length===2&&u(this,oy).call(this,e)});ae(this,"touchmove",n=>{const e=Zr(n),t=Rt(n);e.length===1?Q(this,Hn,u3).call(this,e[0],t.groupDivId):e.length===2&&u(this,ay).call(this,e,t.groupDivId)});ae(this,"touchend",n=>{if(!u(this,Ps)){const e=Bn(n),t=Rt(n);Q(this,Hn,c3).call(this,e,t.groupDivId)}Q(this,Hn,a2).call(this)});ae(this,"wheel",n=>{n.preventDefault();const e=-n.deltaY/500,t=Rt(n),r=Bn(n),i=u(this,Ds).getLayerGroupByDivId(t.groupDivId),o=Q(this,Hn,Z1).call(this,i);if(o===void 0)return void Pe.warn("No view layer to do wheel zoom/pan");const s=o.getViewController(),l=o.displayToMainPlanePos(r),d=s.getPlanePositionFromPlanePoint(l);i.addScale(e,d),i.draw()});ae(this,"keydown",n=>{n.context="ZoomAndPan",u(this,Ds).onKeydown(n)});z(this,Ds,n)}activate(n){}init(){}setFeatures(n){}},Ds=new WeakMap,xs=new WeakMap,Ts=new WeakMap,Ps=new WeakMap,th=new WeakMap,nh=new WeakMap,Hn=new WeakSet,Z1=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e},l3=function(n){z(this,xs,!0),z(this,Ts,n),z(this,Ps,!1)},oy=new WeakMap,u3=function(n,e){if(!u(this,xs))return;z(this,Ps,!0);const t=n.getX()-u(this,Ts).getX(),r=n.getY()-u(this,Ts).getY(),i=u(this,Ds).getLayerGroupByDivId(e),o=Q(this,Hn,Z1).call(this,i);if(o===void 0)return void Pe.warn("No view layer to update zoom/pan");const s=o.getViewController(),l=o.displayToPlaneScale(new Re(t,r)),d=s.getOffset3DFromPlaneOffset({x:l.getX(),y:l.getY()});i.addTranslation({x:d.getX(),y:d.getY(),z:d.getZ()}),i.draw(),z(this,Ts,n)},ay=new WeakMap,c3=function(n,e){const t=u(this,Ds).getLayerGroupByDivId(e),r=Q(this,Hn,Z1).call(this,t);if(r===void 0)return void Pe.warn("No view layer to set current position");const i=r.getViewController(),o=r.displayToPlanePos(n),s=i.getPositionFromPlanePoint(o);i.setCurrentPosition(s)},a2=function(){u(this,xs)&&z(this,xs,!1)},Q9),Opacity:(z9=class{constructor(n){G(this,Io);G(this,rh);G(this,kc,!1);G(this,ih);G(this,vg);ae(this,"mousedown",n=>{const e=Bn(n);Q(this,Io,d3).call(this,e)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Io,h3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Io,s2).call(this)});ae(this,"mouseout",n=>{Q(this,Io,s2).call(this)});ae(this,"touchstart",n=>{const e=Zr(n);Q(this,Io,d3).call(this,e[0])});ae(this,"touchmove",n=>{const e=Zr(n),t=Rt(n);Q(this,Io,h3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,Io,s2).call(this)});ae(this,"wheel",n=>{u(this,vg).wheel(n)});ae(this,"keydown",n=>{n.context="Opacity",u(this,rh).onKeydown(n)});z(this,rh,n),z(this,vg,new K1(n))}activate(n){}init(){}setFeatures(n){}},rh=new WeakMap,kc=new WeakMap,ih=new WeakMap,vg=new WeakMap,Io=new WeakSet,d3=function(n){z(this,kc,!0),z(this,ih,n)},h3=function(n,e){if(!u(this,kc))return;const t=n.getX()-u(this,ih).getX();if(Math.abs(t)>15){const r=u(this,rh).getLayerGroupByDivId(e).getActiveLayer(),i=r.getOpacity();r.setOpacity(i+t/200),r.draw(),z(this,ih,n)}},s2=function(){u(this,kc)&&z(this,kc,!1)},z9),Draw:(W9=class{constructor(n){G(this,dt);G(this,Tn);G(this,Cg);G(this,wa);G(this,co,!1);G(this,oh,null);G(this,ho,null);G(this,gr,null);G(this,bg);G(this,Wn,[]);G(this,ui,null);G(this,wg,!0);G(this,ah);G(this,sh);G(this,lh);G(this,uh);G(this,fo);G(this,ch,!1);G(this,Mi,{});G(this,dh,!1);G(this,hh,[]);ae(this,"mousedown",n=>{if(u(this,co))return;const e=Bn(n),t=Rt(n);Q(this,dt,f3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{if(!u(this,co))return;const e=Bn(n),t=Rt(n);Q(this,dt,YL).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,co))return;const e=Rt(n);Q(this,dt,XL).call(this,e.groupDivId)});ae(this,"dblclick",n=>{if(u(this,ho)&&u(this,ho).getNPoints()!==void 0||!u(this,co))return;if(u(this,Wn).length===0)return void Pe.warn("Draw dblclick but no points...");const e=Rt(n),t=u(this,Tn).getLayerGroupByDivId(e.groupDivId);Q(this,dt,g3).call(this,u(this,Wn),t),Q(this,dt,u2).call(this)});ae(this,"touchstart",n=>{if(u(this,co))return;const e=Zr(n),t=Rt(n);Q(this,dt,f3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{if(!u(this,co))return;const e=Rt(n),t=Zr(n),r=u(this,Tn).getLayerGroupByDivId(e.groupDivId),i=Q(this,dt,l2).call(this,r);if(i===void 0)return void Pe.warn("No view layer to handle touch move");const o=i.displayToPlanePos(t[0]);(Math.abs(o.getX()-u(this,ui).getX())>0||Math.abs(o.getY()-u(this,ui).getY())>0)&&(u(this,Wn).length!==1&&u(this,Wn).pop(),z(this,ui,o),u(this,Wn).push(u(this,ui)),u(this,Wn).length<u(this,ho).getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{u(this,Wn).push(u(this,ui))},u(this,ho).getTimeout())),Q(this,dt,p3).call(this,u(this,Wn),r))});ae(this,"touchend",n=>{this.dblclick(n)});ae(this,"wheel",n=>{u(this,wg)&&u(this,Cg).wheel(n)});ae(this,"keydown",n=>{u(this,co)||(n.context="Draw",u(this,Tn).onKeydown(n));const e=u(this,fo).getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=u(this,Tn).getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle key down");const r=t.getDrawController(),i=new cw(e,r);u(this,Tn).addToUndoStack(i),i.execute(),u(this,fo).onMouseOutShapeGroup()}if(n.key==="Escape"&&u(this,gr)!==null){const t=u(this,gr).getLayer();u(this,gr).destroy(),z(this,gr,null),Q(this,dt,u2).call(this),t.draw()}});G(this,_c,n=>{if(u(this,Mi)[n.type]!==void 0)for(let e=0;e<u(this,Mi)[n.type].length;++e)u(this,Mi)[n.type][e](n)});z(this,Tn,n),z(this,Cg,new K1(n)),z(this,fo,new sj(n,u(this,_c))),z(this,wa,n.getStyle())}activate(n){n||u(this,fo).onMouseOutShapeGroup();const e=u(this,Tn).getDrawLayers();for(const t of e)t!==void 0&&Q(this,dt,S3).call(this,t,n);u(this,Tn).addEventListener("drawlayeradd",t=>{const r=u(this,Tn).getDrawLayers(function(i){return i.getId()===t.layerid});r.length===1&&Q(this,dt,S3).call(this,r[0],n)})}setOptions(n){z(this,oh,n)}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&z(this,ch,n.autoShapeColour),n.shapeColour!==void 0&&(u(this,wa).setLineColour(n.shapeColour),z(this,ch,!1)),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");z(this,bg,n.shapeName)}n.mouseOverCursor!==void 0&&u(this,fo).storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&z(this,wg,n.withScroll),n.refMetaValidator!==void 0&&z(this,ah,n.refMetaValidator),n.drawMetaValidator!==void 0&&z(this,sh,n.drawMetaValidator),n.annotationGroupMeta!==void 0&&z(this,lh,n.annotationGroupMeta),n.annotationMeta!==void 0&&z(this,uh,n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){u(this,Mi)[n]===void 0&&(u(this,Mi)[n]=[]),u(this,Mi)[n].push(e)}removeEventListener(n,e){if(u(this,Mi)[n]!==void 0)for(let t=0;t<u(this,Mi)[n].length;++t)u(this,Mi)[n][t]===e&&u(this,Mi)[n].splice(t,1)}hasShape(n){return u(this,oh)[n]!==void 0}},Tn=new WeakMap,Cg=new WeakMap,wa=new WeakMap,co=new WeakMap,oh=new WeakMap,ho=new WeakMap,gr=new WeakMap,bg=new WeakMap,Wn=new WeakMap,ui=new WeakMap,wg=new WeakMap,ah=new WeakMap,sh=new WeakMap,lh=new WeakMap,uh=new WeakMap,fo=new WeakMap,ch=new WeakMap,Mi=new WeakMap,dh=new WeakMap,hh=new WeakMap,dt=new WeakSet,QL=function(n){let e=!0;if(u(this,ah)!==void 0){const t=n.getActiveViewLayer().getDataId(),r=u(this,Tn).getData(t).image.getMeta();e=u(this,ah).call(this,r)}return e},zL=function(n){let e=!0;if(u(this,sh)!==void 0){const t=n.getDataId(),r=u(this,Tn).getData(t).annotationGroup.getMeta();e=u(this,sh).call(this,r)}return e},WL=function(n){const e=n.getActiveViewLayer().getDataId(),t=u(this,Tn).createAnnotationData(e);if(u(this,lh)!==void 0)for(const i of u(this,lh))t.annotationGroup.setMetaValue(i.concept,i.value);u(this,Tn).addAndRenderAnnotationData(t,n.getDivId(),e);const r=n.getActiveDrawLayer();return r.setShapeHandler(u(this,fo)),n.setActiveLayerByDataId(r.getDataId()),r},f3=function(n,e){const t=u(this,Tn).getLayerGroupByDivId(e);let r=t.getActiveDrawLayer();if(r===void 0){if(!Q(this,dt,QL).call(this,t))return void u(this,_c).call(this,{type:"warn",message:"Cannot create draw layer, reference meta is invalid"});r=Q(this,dt,WL).call(this,t)}else if(!Q(this,dt,zL).call(this,r))return void u(this,_c).call(this,{type:"warn",message:"Cannot create draw, data meta is invalid"});const i=r.getDrawController().getAnnotationGroup(),o=r.getKonvaStage();if(u(this,wa).setZoomScale(o.scale()),i.isEditable()){const s=o.getIntersection({x:n.getX(),y:n.getY()});s?Q(this,dt,$L).call(this,r,s):Q(this,dt,jL).call(this,t,n)}},l2=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Pe.warn("No draw layer to do draw")},jL=function(n,e){u(this,fo).disableAndResetEditor(),Q(this,dt,HL).call(this);const t=Q(this,dt,l2).call(this,n);t!==void 0?(z(this,ui,t.displayToPlanePos(e)),u(this,Wn).push(u(this,ui))):Pe.warn("No view layer to start shape")},HL=function(){z(this,co,!0),z(this,ho,new(u(this,oh))[u(this,bg)]),z(this,Wn,[])},u2=function(){z(this,co,!1),z(this,Wn,[])},$L=function(n,e){let t=e.getParent();e instanceof Fe.default.Tag&&(t=t.getParent());const r=t.find(".shape")[0];r instanceof Fe.default.Shape&&(u(this,_c).call(this,{type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),u(this,fo).setEditorShape(r,n))},YL=function(n,e){const t=u(this,Tn).getLayerGroupByDivId(e),r=Q(this,dt,l2).call(this,t);if(r===void 0)return void Pe.warn("No view layer to update shape");const i=r.displayToPlanePos(n);(Math.abs(i.getX()-u(this,ui).getX())>0||Math.abs(i.getY()-u(this,ui).getY())>0)&&(u(this,dh)&&u(this,Wn).pop(),z(this,ui,i),z(this,dh,!0),u(this,Wn).push(u(this,ui)),Q(this,dt,p3).call(this,u(this,Wn),t))},XL=function(n){if(u(this,Wn).length!==0){if(u(this,Wn).length===u(this,ho).getNPoints()){const e=u(this,Tn).getLayerGroupByDivId(n);Q(this,dt,g3).call(this,u(this,Wn),e),Q(this,dt,u2).call(this)}z(this,dh,!1)}else Pe.warn("Draw mouseup but no points...")},p3=function(n,e){u(this,gr)&&(u(this,gr).destroy(),z(this,gr,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle new points");const r=t.getDrawController(),i=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Pe.warn("No view layer to handle new points");const s=o.getViewController();if(u(this,ch)){const h=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],f=t.getId(),m=f.substring(f.length-1),v=h[parseInt(m,10)-1];v!==void 0&&u(this,wa).setLineColour(v)}const l=new Gs,d=r.getAnnotationGroup().getColour();l.colour=d!==void 0?d:u(this,wa).getLineColour(),l.init(s),u(this,ho).setAnnotationMathShape(l,n),z(this,gr,u(this,ho).createShapeGroup(l,u(this,wa))),t.setLabelVisibility(u(this,gr)),u(this,gr).getChildren(yu)[0].listening(!1),i.listening(!1),i.add(u(this,gr)),i.draw()},g3=function(n,e){u(this,gr)&&(u(this,gr).destroy(),z(this,gr,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle final points");const r=t.getKonvaLayer(),i=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Pe.warn("No view layer to handle final points");const s=o.getViewController(),l=new Gs,d=i.getAnnotationGroup().getColour();if(l.colour=d!==void 0?d:u(this,wa).getLineColour(),l.init(s),u(this,uh)!==void 0)for(const f of u(this,uh))l.addMetaItem(f.concept,f.value);u(this,ho).setAnnotationMathShape(l,n);const h=new KS(l,i);u(this,Tn).addToUndoStack(h),h.execute(),r.listening(!0)},m3=function(n){const e=n.getId();return u(this,hh)[e]===void 0&&(u(this,hh)[e]=()=>{n.activateCurrentPositionShapes(!0)}),u(this,hh)[e]},S3=function(n,e){n.setShapeHandler(u(this,fo)),n.activateCurrentPositionShapes(e),e?u(this,Tn).addEventListener("positionchange",Q(this,dt,m3).call(this,n)):u(this,Tn).removeEventListener("positionchange",Q(this,dt,m3).call(this,n))},_c=new WeakMap,W9),Brush:Lj,Filter:(j9=class{constructor(n){G(this,fh);G(this,Br,null);G(this,jl,0);G(this,ph,new Gi);ae(this,"keydown",n=>{n.context="Filter",u(this,fh).onKeydown(n)});G(this,Fc,n=>{u(this,ph).fireEvent(n)});z(this,fh,n)}activate(n){for(const e in u(this,Br))n?(u(this,Br)[e].addEventListener("filterrun",u(this,Fc)),u(this,Br)[e].addEventListener("filterundo",u(this,Fc))):(u(this,Br)[e].removeEventListener("filterrun",u(this,Fc)),u(this,Br)[e].removeEventListener("filterundo",u(this,Fc)))}setOptions(n){z(this,Br,{});for(const e in n)u(this,Br)[e]=new n[e](u(this,fh))}getOptionsType(){return"instance"}init(){for(const n in u(this,Br))u(this,Br)[n].init()}getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){u(this,ph).add(n,e)}removeEventListener(n,e){u(this,ph).remove(n,e)}getSelectedFilter(){return u(this,jl)}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");u(this,jl)&&u(this,jl).activate(!1),z(this,jl,u(this,Br)[n.filterName]),u(this,jl).activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return u(this,Br)}hasFilter(n){return u(this,Br)[n]}},fh=new WeakMap,Br=new WeakMap,jl=new WeakMap,ph=new WeakMap,Fc=new WeakMap,j9),Floodfill:(H9=class{constructor(n){G(this,Rn);G(this,po);G(this,sy,5);G(this,ly,0);G(this,uy,2e3);G(this,Hl,null);G(this,Mc,null);G(this,Is,10);G(this,Da,null);G(this,Nc,!1);G(this,go);G(this,jo);G(this,Uc,null);G(this,gh,[]);G(this,Dg,!1);G(this,$l,new q2);G(this,xg,(n,e)=>{const t=u(this,po).getLayerGroupByDivId(e),r=Q(this,Rn,y3).call(this,t);if(r===void 0)return void Pe.warn("No view layer to get index");const i=r.displayToPlaneIndex(n);return{x:i.get(0),y:i.get(1)}});ae(this,"mousedown",n=>{const e=Bn(n),t=Rt(n);Q(this,Rn,v3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Rn,C3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Rn,c2).call(this)});ae(this,"mouseout",n=>{Q(this,Rn,c2).call(this)});ae(this,"touchstart",n=>{const e=Zr(n),t=Rt(n);Q(this,Rn,v3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Zr(n),t=Rt(n);Q(this,Rn,C3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,Rn,c2).call(this)});ae(this,"keydown",n=>{n.context="Floodfill",u(this,po).onKeydown(n)});z(this,po,n)}setExtend(n){z(this,Dg,n)}getExtend(){return u(this,Dg)}extend(n,e,t){if(!u(this,jo))throw"'initialpoint' not found. User must click before use extend!";const r=t.getPositionHelper(),i=Q(this,Rn,y3).call(this,t);if(i===void 0)return void Pe.warn("No view layer to extend floodfill");const o=i.getViewController(),s=o.getCurrentIndex(),l=o.getImageSize(),d=u(this,Da)||u(this,Is);for(let h=s.get(2),f=e||l.get(2);h<f&&Q(this,Rn,J1).call(this,u(this,jo),d,t);h++)r.incrementPositionAlongScroll();o.setCurrentIndex(s);for(let h=s.get(2),f=n||0;h>f&&Q(this,Rn,J1).call(this,u(this,jo),d,t);h--)r.decrementPositionAlongScroll();o.setCurrentIndex(s)}onThresholdChange(n){}activate(n){n&&(u(this,$l).setBaseScale(u(this,po).getBaseScale()),this.setFeatures({shapeColour:u(this,$l).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,$l).setLineColour(n.shapeColour)}},po=new WeakMap,sy=new WeakMap,ly=new WeakMap,uy=new WeakMap,Hl=new WeakMap,Mc=new WeakMap,Is=new WeakMap,Da=new WeakMap,Nc=new WeakMap,go=new WeakMap,jo=new WeakMap,Uc=new WeakMap,gh=new WeakMap,Dg=new WeakMap,$l=new WeakMap,Rn=new WeakSet,y3=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Pe.warn("No draw layer to do floodfill")},xg=new WeakMap,KL=function(n,e,t){z(this,gh,[]);const r={data:u(this,Hl).data,width:u(this,Hl).width,height:u(this,Hl).height,bytes:4};z(this,Mc,AS.default.floodFill(r,n.x,n.y,e)),z(this,Mc,AS.default.gaussBlurOnlyBorder(u(this,Mc),u(this,sy)));let i=AS.default.traceContours(u(this,Mc));if(i=AS.default.simplifyContours(i,u(this,ly),u(this,uy)),i.length>0&&i[0].points[0].x){if(t)return i[0].points;for(let o=0,s=i[0].points.length;o<s;o++)u(this,gh).push(new Re(i[0].points[o].x,i[0].points[o].y));return u(this,gh)}return[]},J1=function(n,e,t){if(z(this,Uc,Q(this,Rn,KL).call(this,n,e,!1)),u(this,Uc).length!==0){const r=t.getActiveDrawLayer();if(r===void 0)return Pe.warn("No draw layer to paint border"),!1;const i=r.getDrawController(),o=new Jo(u(this,Uc));let s;if(u(this,go)===void 0){z(this,go,new Gs),u(this,go).colour=u(this,$l).getLineColour();const l=t.getViewLayerById(r.getReferenceLayerId());if(l===void 0)return Pe.warn("No view layer to paint border"),!1;const d=l.getViewController();u(this,go).init(d),u(this,go).mathShape=o,s=new KS(u(this,go),i)}else{const l=u(this,go).mathShape;s=new ld(u(this,go),{mathShape:l},{mathShape:o},i)}u(this,po).addToUndoStack(s),s.execute()}return u(this,Uc).length!==0},v3=function(n,e){z(this,go,void 0);const t=u(this,po).getLayerGroupByDivId(e);let r,i=t.getActiveDrawLayer();if(i===void 0){r=t.getActiveViewLayer();const o=r.getDataId(),s=u(this,po).createAnnotationData(o);u(this,po).addAndRenderAnnotationData(s,e,o),i=t.getActiveDrawLayer(),t.setActiveLayerByDataId(i.getDataId())}else if(r=t.getViewLayerById(i.getReferenceLayerId()),r===void 0)return void Pe.warn("No view layer to start floodfill");z(this,Hl,r.getImageData()),u(this,Hl)?(u(this,$l).setZoomScale(i.getKonvaLayer().getAbsoluteScale()),z(this,Nc,!0),z(this,jo,u(this,xg).call(this,n,e)),Q(this,Rn,J1).call(this,u(this,jo),u(this,Is),t),this.onThresholdChange(u(this,Is))):Pe.error("No image found")},C3=function(n,e){if(!u(this,Nc))return;const t=u(this,xg).call(this,n,e);z(this,Da,Math.round(Math.sqrt(Math.pow(u(this,jo).x-t.x,2)+Math.pow(u(this,jo).y-t.y,2))/2)),z(this,Da,u(this,Da)<u(this,Is)?u(this,Is):u(this,Da)-u(this,Is)),Q(this,Rn,J1).call(this,u(this,jo),u(this,Da),u(this,po).getLayerGroupByDivId(e)),this.onThresholdChange(u(this,Da))},c2=function(){u(this,Nc)&&z(this,Nc,!1)},H9),Livewire:($9=class{constructor(n){G(this,Or);G(this,Ho);G(this,qc,!1);G(this,mh);G(this,mo);G(this,Yl,new q2);G(this,Rs,new G1);G(this,xa,new G1);G(this,Ls,[]);G(this,Tg,5);G(this,As,new Ej);ae(this,"mousedown",n=>{const e=Bn(n),t=Rt(n);Q(this,Or,w3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Bn(n),t=Rt(n);Q(this,Or,D3).call(this,e,t.groupDivId)});ae(this,"mouseout",n=>{});ae(this,"dblclick",n=>{Q(this,Or,x3).call(this)});ae(this,"touchstart",n=>{const e=Zr(n),t=Rt(n);Q(this,Or,w3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Zr(n),t=Rt(n);Q(this,Or,D3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{});ae(this,"keydown",n=>{n.context="Livewire",u(this,Ho).onKeydown(n)});z(this,Ho,n)}mouseup(n){}activate(n){n&&(u(this,Yl).setBaseScale(u(this,Ho).getBaseScale()),this.setFeatures({shapeColour:u(this,Yl).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,Yl).setLineColour(n.shapeColour)}},Ho=new WeakMap,qc=new WeakMap,mh=new WeakMap,mo=new WeakMap,Yl=new WeakMap,Rs=new WeakMap,xa=new WeakMap,Ls=new WeakMap,Tg=new WeakMap,Or=new WeakSet,b3=function(n){const e=n.get(1);for(let t=0;t<e;++t)u(this,Ls)[t]=[]},ZL=function(){z(this,Rs,new G1),z(this,xa,new G1)},As=new WeakMap,w3=function(n,e){const t=u(this,Ho).getLayerGroupByDivId(e);let r,i=t.getActiveDrawLayer();r=i===void 0?t.getActiveViewLayer():t.getViewLayerById(i.getReferenceLayerId());const o=r.getViewController().getImageSize();u(this,As).setDimensions(o.get(0),o.get(1)),u(this,As).setData(r.getImageData().data);const s=r.displayToPlaneIndex(n);if(u(this,qc)){const l=Math.abs(s.get(0)-u(this,mh).getX()),d=Math.abs(s.get(1)-u(this,mh).getY());if(l<u(this,Tg)&&d<u(this,Tg))Q(this,Or,x3).call(this);else{z(this,Rs,u(this,xa)),Q(this,Or,b3).call(this,o);const h={x:s.get(0),y:s.get(1)};u(this,As).doTraining(h),u(this,Rs).addControlPoint(u(this,xa).getPoint(0))}}else{if(z(this,mo,void 0),z(this,qc,!0),z(this,mh,new Re(s.get(0),s.get(1))),Q(this,Or,ZL).call(this),Q(this,Or,b3).call(this,o),i===void 0){const h=r.getDataId(),f=u(this,Ho).createAnnotationData(h);u(this,Ho).addAndRenderAnnotationData(f,e,h),i=t.getActiveDrawLayer(),t.setActiveLayerByDataId(i.getDataId())}u(this,Yl).setZoomScale(i.getKonvaLayer().getAbsoluteScale());const l={x:s.get(0),y:s.get(1)};u(this,As).doTraining(l);const d=new Re(s.get(0),s.get(1));u(this,Rs).addPoint(d),u(this,Rs).addControlPoint(d)}},D3=function(n,e){if(!u(this,qc))return;const t=u(this,Ho).getLayerGroupByDivId(e),r=t.getActiveDrawLayer();if(r===void 0)return void Pe.warn("No draw layer to update livewire");const i=t.getViewLayerById(r.getReferenceLayerId());if(i===void 0)return void Pe.warn("No view layer to update livewire");const o=i.displayToPlaneIndex(n);let s={x:o.get(0),y:o.get(1)};u(this,As).setPoint(s);let l=[],d=!1;for(;!u(this,Ls)[s.y][s.x]&&!d;)if(l=u(this,As).doWork(),l.length===0)d=!0;else for(let v=0;v<l.length-1;v+=2){const g=l[v],S=l[v+1];u(this,Ls)[g.y][g.x]=S}for(z(this,xa,new G1),d=!1;s&&!d;)u(this,xa).addPoint(new Re(s.x,s.y)),u(this,Ls)[s.y]&&u(this,Ls)[s.y][s.x]?s=u(this,Ls)[s.y][s.x]:d=!0;u(this,xa).appenPath(u(this,Rs));const h=r.getDrawController(),f=new Jo(u(this,xa).pointArray);let m;if(u(this,mo)===void 0){z(this,mo,new Gs),u(this,mo).colour=u(this,Yl).getLineColour();const v=i.getViewController();u(this,mo).init(v),u(this,mo).mathShape=f,m=new KS(u(this,mo),h)}else{const v=u(this,mo).mathShape;m=new ld(u(this,mo),{mathShape:v},{mathShape:f},h)}u(this,Ho).addToUndoStack(m),m.execute()},x3=function(){z(this,qc,!1)},$9)};var Sh,Xl,an,P3,JL,eA,tA,nA,d2,rA,iA,oA,Uj,qj,Y9,yh,Os,fn,I3,aA,sA,lA,R3,L3,uA,cA,dA,Bj,X9,vh,Es,pn,A3,hA,fA,pA,O3,E3,gA,mA,SA,Vj,K9,Ch,ks,Kt,k3,yA,vA,CA,_3,h2,bA,wA,DA,Gj,Qj,Z9,bh,Kl,vn,F3,xA,TA,PA,IA,M3,RA,LA,AA,zj,J9,wh,_s,hn,OA,N3,EA,kA,U3,f2,_A,FA,Wj,jj,eI,Dh,Fs,Zt,q3,MA,NA,UA,B3,p2,qA,BA,VA,Hj,$j,tI,Bc,Vc,xh,Th,Pg,nI,Gc,Ph,Ig,rI,Qc,Ih,Rg,iI;const T3={draw:{ArrowFactory:(Y9=class{constructor(){G(this,an);G(this,Sh,"arrow");G(this,Xl,new Hu(Q(this,an,iA)))}static supports(n){return n instanceof Re}getName(){return u(this,Sh)}getGroupName(){return u(this,Sh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,an,eA).call(this,e),n.referencePoints=[e[1]],n.setTextExpr(Q(this,an,tA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,an,nA).call(this,n,e);t.add(r);const i=Q(this,an,rA).call(this,n,e);for(const l of i)t.add(l);const o=u(this,Xl).create(n,e);t.add(o);const s=Q(this,an,P3).call(this,r);return t.add(u(this,Xl).getConnector(s,o,e)),t}getAnchors(n,e){const t=Q(this,an,JL).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,an,oA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Xl).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Fe.default.Group))return;const r=Q(this,an,d2).call(this,t),i=xt(t,0),o=xt(t,1),s=new Re(i.x()-r.x(),i.y()-r.y()),l=new Re(o.x()-r.x(),o.y()-r.y());n.mathShape=s,n.referencePoints=[l],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=n.referencePoints[0],i=new Yt(t,r),o=i.getBegin(),s=new Re(o.getX()+e.x,o.getY()+e.y),l=i.getEnd(),d=new Re(l.getX()+e.x,l.getY()+e.y);n.mathShape=s,n.referencePoints=[d],n.updateQuantification()}updateLabelContent(n,e,t){u(this,Xl).updateContent(n,e)}updateConnector(n){const e=Q(this,an,d2).call(this,n),t=Q(this,an,P3).call(this,e);u(this,Xl).updateConnector(n,t)}},Sh=new WeakMap,Xl=new WeakMap,an=new WeakSet,P3=function(n){const e=n.points(),t=n.x(),r=n.y(),i=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+r;return[new Re(i,o)]},JL=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Re(e[0]+t,e[1]+r),new Re(e[2]+t,e[3]+r)]},eA=function(n){return n[0]},tA=function(){return Wu[u(this,Sh)]},nA=function(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const r=n.referencePoints[0],i=new Yt(t,r),o=new Fe.default.Line({points:[t.getX(),t.getY(),r.getX(),r.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),s=qo(i,t,20,e.getZoomScale()),l=qo(i,r,20,e.getZoomScale());return o.hitFunc(function(d){d.beginPath(),d.moveTo(s.getBegin().getX(),s.getBegin().getY()),d.lineTo(s.getEnd().getX(),s.getEnd().getY()),d.lineTo(l.getEnd().getX(),l.getEnd().getY()),d.lineTo(l.getBegin().getX(),l.getBegin().getY()),d.closePath(),d.fillStrokeShape(o)}),o},d2=function(n){return LS(n)},rA=function(n,e){const t=n.mathShape,r=n.referencePoints[0],i=new Yt(t,r),o=n9(i,40,20,e.getZoomScale());return[new Fe.default.Line({points:[i.getBegin().getX(),i.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]},iA=function(n){return n.mathShape},oA=function(n,e,t){const r=n.mathShape,i=n.referencePoints[0],o=new Yt(r,i),s=e.getParent();if(!(s instanceof Fe.default.Group))return;const l=Q(this,an,d2).call(this,s);l.position({x:0,y:0}),l.points([r.getX(),r.getY(),i.getX(),i.getY()]);const d=s.getChildren(function(S){return S.name()==="shape-triangle"})[0];if(!(d instanceof Fe.default.Line))return;const h=xt(s,0),f=xt(s,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:Pe.error("Unhandled anchor id: "+e.id())}const m=n9(o,40,20,t.getZoomScale());d.position({x:0,y:0}),d.points([o.getBegin().getX(),o.getBegin().getY(),m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]);const v=qo(o,r,20,t.getZoomScale()),g=qo(o,i,20,t.getZoomScale());l.hitFunc(function(S){S.beginPath(),S.moveTo(v.getBegin().getX(),v.getBegin().getY()),S.lineTo(v.getEnd().getX(),v.getEnd().getY()),S.lineTo(g.getEnd().getX(),g.getEnd().getY()),S.lineTo(g.getBegin().getX(),g.getBegin().getY()),S.closePath(),S.fillStrokeShape(l)})},Uj=function(n,e){},qj=function(n,e){},Y9),CircleFactory:(X9=class{constructor(){G(this,fn);G(this,yh,"circle");G(this,Os,new Hu(Q(this,fn,uA)))}static supports(n){return n instanceof sc}getName(){return u(this,yh)}getGroupName(){return u(this,yh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,fn,sA).call(this,e),n.setTextExpr(Q(this,fn,lA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,fn,R3).call(this,n,e);t.add(Q(this,fn,R3).call(this,n,e));const i=u(this,Os).create(n,e);t.add(u(this,Os).create(n,e));const o=Q(this,fn,I3).call(this,r);return t.add(u(this,Os).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,fn,aA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Fe.default.Group))return;const t=xt(e,0),r=xt(e,1),i=xt(e,2),o=xt(e,3);switch(n.id()){case"anchor0":t.y(r.y());break;case"anchor1":r.y(t.y());break;case"anchor2":i.x(o.x());break;case"anchor3":o.x(i.x());break;default:Pe.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,fn,cA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Os).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,r=new Re(t.getCenter().getX(),t.getCenter().getY()),i=new Re(e.x(),e.y()),o=r.getDistance(i);n.mathShape=new sc(r,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getCenter(),i=new Re(r.getX()+e.x,r.getY()+e.y);n.mathShape=new sc(i,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Os).updateContent(n,e)}updateConnector(n){const e=Q(this,fn,L3).call(this,n),t=Q(this,fn,I3).call(this,e);u(this,Os).updateConnector(n,t)}},yh=new WeakMap,Os=new WeakMap,fn=new WeakSet,I3=function(n){const e=n.x(),t=n.y(),r=n.radius()*Math.sqrt(2)/2;return[new Re(e-r,t-r),new Re(e+r,t-r),new Re(e-r,t+r),new Re(e+r,t+r)]},aA=function(n){const e=n.x(),t=n.y(),r=n.radius();return[new Re(e-r,t),new Re(e+r,t),new Re(e,t+r),new Re(e,t-r)]},sA=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),r=Math.round(Math.sqrt(e*e+t*t));return new sc(n[0],r)},lA=function(){return Wu[u(this,yh)]},R3=function(n,e){const t=n.mathShape;return new Fe.default.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},L3=function(n){const e=n.getChildren(yu)[0];if(e instanceof Fe.default.Circle)return e},uA=function(n){const e=n.mathShape,t=e.getCenter(),r=e.getRadius();return new Re(t.getX()-r,t.getY()+r)},cA=function(n,e,t){const r=n.mathShape,i=r.getCenter(),o=r.getRadius(),s=e.getParent();if(!(s instanceof Fe.default.Group))return;Q(this,fn,L3).call(this,s).radius(o);const l=xt(s,0),d=xt(s,1),h=xt(s,2),f=xt(s,3),m=d.x()<l.x()?-1:1,v=f.y()<h.y()?1:-1;switch(e.id()){case"anchor0":l.x(e.x()),d.x(i.getX()+m*o),h.y(i.getY()+o),f.y(i.getY()-o);break;case"anchor1":d.x(e.x()),l.x(i.getX()-m*o),h.y(i.getY()+o),f.y(i.getY()-o);break;case"anchor2":h.y(e.y()),l.x(i.getX()-o),d.x(i.getX()+o),f.y(i.getY()-v*o);break;case"anchor3":f.y(e.y()),l.x(i.getX()-o),d.x(i.getX()+o),h.y(i.getY()+v*o);break;default:Pe.error("Unhandled anchor id: "+e.id())}},dA=function(n,e){const t=n.mathShape;let r=0,i=0;e!==void 0&&(r=e.x(),i=e.y());const o=new Fe.default.Group;o.name("shadow");const s=t.getRound();for(let l=0;l<s.length;++l){const d=s[l],h=d[0][0],f=d[0][1],m=d[1][0],v=new Fe.default.Rect({x:h-r,y:f-i,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o},Bj=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,fn,dA).call(this,n,e);e.add(r),r.moveToBottom()}},X9),EllipseFactory:(K9=class{constructor(){G(this,pn);G(this,vh,"ellipse");G(this,Es,new Hu(Q(this,pn,gA)))}static supports(n){return n instanceof ac}getName(){return u(this,vh)}getGroupName(){return u(this,vh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,pn,fA).call(this,e),n.setTextExpr(Q(this,pn,pA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,pn,O3).call(this,n,e);t.add(Q(this,pn,O3).call(this,n,e));const i=u(this,Es).create(n,e);t.add(u(this,Es).create(n,e));const o=Q(this,pn,A3).call(this,r);return t.add(u(this,Es).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,pn,hA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Fe.default.Group))return;const t=xt(e,0),r=xt(e,1),i=xt(e,2),o=xt(e,3);switch(n.id()){case"anchor0":t.y(r.y());break;case"anchor1":r.y(t.y());break;case"anchor2":i.x(o.x());break;case"anchor3":o.x(i.x());break;default:Pe.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,pn,mA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Es).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,r=t.getCenter();let i=t.getA(),o=t.getB();switch(e.id()){case"anchor0":i=r.getX()-e.x();break;case"anchor1":i=e.x()-r.getX();break;case"anchor2":o=e.y()-r.getY();break;case"anchor3":o=r.getY()-e.y();break;default:Pe.error("Unhandled anchor id: "+e.id())}n.mathShape=new ac(r,Math.abs(i),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getCenter(),i=new Re(r.getX()+e.x,r.getY()+e.y);n.mathShape=new ac(i,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Es).updateContent(n,e)}updateConnector(n){const e=Q(this,pn,E3).call(this,n),t=Q(this,pn,A3).call(this,e);u(this,Es).updateConnector(n,t)}},vh=new WeakMap,Es=new WeakMap,pn=new WeakSet,A3=function(n){const e=n.x(),t=n.y(),r=n.radiusX()*Math.sqrt(2)/2,i=n.radiusY()*Math.sqrt(2)/2;return[new Re(e-r,t-i),new Re(e+r,t-i),new Re(e-r,t+i),new Re(e+r,t+i)]},hA=function(n){const e=n.x(),t=n.y(),r=n.radius();return[new Re(e-r.x,t),new Re(e+r.x,t),new Re(e,t+r.y),new Re(e,t-r.y)]},fA=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new ac(n[0],e,t)},pA=function(){return Wu[u(this,vh)]},O3=function(n,e){const t=n.mathShape,r=t.getCenter(),i={x:t.getA(),y:t.getB()};return new Fe.default.Ellipse({x:r.getX(),y:r.getY(),radius:i,radiusX:i.x,radiusY:i.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},E3=function(n){const e=n.getChildren(yu)[0];if(e instanceof Fe.default.Ellipse)return e},gA=function(n){const e=n.mathShape,t=e.getCenter();return new Re(t.getX()-e.getA(),t.getY()+e.getB())},mA=function(n,e,t){const r=n.mathShape,i=r.getCenter(),o=r.getA(),s=r.getB(),l=e.getParent();if(!(l instanceof Fe.default.Group))return;Q(this,pn,E3).call(this,l).radius({x:o,y:s});const d=xt(l,0),h=xt(l,1),f=xt(l,2),m=xt(l,3),v=h.x()<d.x()?-1:1,g=m.y()<f.y()?1:-1;switch(e.id()){case"anchor0":d.x(e.x()),h.x(i.getX()+v*o),f.y(i.getY()+s),m.y(i.getY()-s);break;case"anchor1":h.x(e.x()),d.x(i.getX()-v*o),f.y(i.getY()+s),m.y(i.getY()-s);break;case"anchor2":f.y(e.y()),d.x(i.getX()-o),h.x(i.getX()+o),m.y(i.getY()-g*s);break;case"anchor3":m.y(e.y()),d.x(i.getX()-o),h.x(i.getX()+o),f.y(i.getY()+g*s);break;default:Pe.error("Unhandled anchor id: "+e.id())}},SA=function(n,e){const t=n.mathShape;let r=0,i=0;e!==void 0&&(r=e.x(),i=e.y());const o=new Fe.default.Group;o.name("shadow");const s=t.getRound();for(let l=0;l<s.length;++l){const d=s[l],h=d[0][0],f=d[0][1],m=d[1][0],v=new Fe.default.Rect({x:h-r,y:f-i,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o},Vj=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,pn,SA).call(this,n,e);e.add(r),r.moveToBottom()}},K9),ProtractorFactory:(Z9=class{constructor(){G(this,Kt);G(this,Ch,"protractor");G(this,ks,new Hu(Q(this,Kt,wA)))}static supports(n){return n instanceof oc}getName(){return u(this,Ch)}getGroupName(){return u(this,Ch)+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=Q(this,Kt,vA).call(this,e),n.setTextExpr(Q(this,Kt,CA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,r=new Fe.default.Group;r.name(this.getGroupName()),r.visible(!0),r.id(n.trackingUid);const i=Q(this,Kt,_3).call(this,n,e);if(r.add(Q(this,Kt,_3).call(this,n,e)),t.getLength()===this.getNPoints()){const o=Q(this,Kt,bA).call(this,n,e);for(const d of o)r.add(d);const s=u(this,ks).create(n,e);r.add(u(this,ks).create(n,e));const l=Q(this,Kt,k3).call(this,i);r.add(u(this,ks).getConnector(l,s,e))}return r}getAnchors(n,e){const t=Q(this,Kt,yA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,Kt,DA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,ks).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Fe.default.Group))return;const r=Q(this,Kt,h2).call(this,t),i=xt(t,0),o=xt(t,1),s=xt(t,2),l=new Re(i.x()-r.x(),i.y()-r.y()),d=new Re(o.x()-r.x(),o.y()-r.y()),h=new Re(s.x()-r.x(),s.y()-r.y());n.mathShape=new oc([l,d,h]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=[];for(let i=0;i<3;++i)r.push(new Re(t.getPoint(i).getX()+e.x,t.getPoint(i).getY()+e.y));n.mathShape=new oc(r),n.updateQuantification()}updateLabelContent(n,e,t){u(this,ks).updateContent(n,e)}updateConnector(n){const e=Q(this,Kt,h2).call(this,n),t=Q(this,Kt,k3).call(this,e);u(this,ks).updateConnector(n,t)}},Ch=new WeakMap,ks=new WeakMap,Kt=new WeakSet,k3=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Re(e[2]+t,e[3]+r)]},yA=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Re(e[0]+t,e[1]+r),new Re(e[2]+t,e[3]+r),new Re(e[4]+t,e[5]+r)]},vA=function(n){return new oc(n)},CA=function(){return Wu[u(this,Ch)]},_3=function(n,e){const t=n.mathShape,r=[];for(let o=0;o<t.getLength();++o)r.push(t.getPoint(o).getX()),r.push(t.getPoint(o).getY());const i=new Fe.default.Line({points:r,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&i.hitFunc(function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(i)}),i},h2=function(n){return LS(n)},bA=function(n,e){const t=n.mathShape,r=new Yt(t.getPoint(0),t.getPoint(1)),i=new Yt(t.getPoint(1),t.getPoint(2));let o=$4(r,i),s=r.getInclination();o>180&&(o=360-o,s+=o);const l=33*Math.min(r.getLength(),i.getLength())/100;return[new Fe.default.Arc({innerRadius:l,outerRadius:l,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-s,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]},wA=function(n){const e=n.mathShape,t=new Yt(e.getPoint(0),e.getPoint(1)),r=new Yt(e.getPoint(1),e.getPoint(2)),i=(t.getMidpoint().getX()+r.getMidpoint().getX())/2,o=(t.getMidpoint().getY()+r.getMidpoint().getY())/2;return new Re(i,o)},DA=function(n,e,t){const r=n.mathShape,i=new Yt(r.getPoint(0),r.getPoint(1)),o=new Yt(r.getPoint(1),r.getPoint(2)),s=e.getParent();if(!(s instanceof Fe.default.Group))return;const l=Q(this,Kt,h2).call(this,s);l.position({x:0,y:0}),l.points([r.getPoint(0).getX(),r.getPoint(0).getY(),r.getPoint(1).getX(),r.getPoint(1).getY(),r.getPoint(2).getX(),r.getPoint(2).getY()]);const d=s.getChildren(function(C){return C.name()==="shape-arc"})[0];if(!(d instanceof Fe.default.Arc))return;const h=xt(s,0),f=xt(s,1),m=xt(s,2);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;case"anchor2":m.x(e.x()),m.y(e.y())}let v=$4(i,o),g=i.getInclination();v>180&&(v=360-v,g+=v);const S=33*Math.min(i.getLength(),o.getLength())/100;d.innerRadius(S),d.outerRadius(S),d.angle(v),d.rotation(-g);const y={x:f.x(),y:f.y()};d.position(y),l.hitFunc(function(C){C.beginPath(),C.moveTo(r.getPoint(0).getX(),r.getPoint(0).getY()),C.lineTo(r.getPoint(1).getX(),r.getPoint(1).getY()),C.lineTo(r.getPoint(2).getX(),r.getPoint(2).getY()),C.closePath(),C.fillStrokeShape(l)})},Gj=function(n,e){},Qj=function(n,e){},Z9),RectangleFactory:(J9=class{constructor(){G(this,vn);G(this,bh,"rectangle");G(this,Kl,new Hu(Q(this,vn,RA)))}static supports(n){return n instanceof ic}getName(){return u(this,bh)}getGroupName(){return u(this,bh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,vn,TA).call(this,e),n.setTextExpr(Q(this,vn,PA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,vn,IA).call(this,n,e);t.add(r);const i=u(this,Kl).create(n,e);t.add(i);const o=Q(this,vn,F3).call(this,r);return t.add(u(this,Kl).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,vn,xA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,vn,LA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Kl).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Fe.default.Group))return;const r=xt(t,0),i=xt(t,2),o=new Re(r.x(),r.y()),s=new Re(i.x(),i.y());n.mathShape=new ic(o,s),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getBegin(),i=new Re(r.getX()+e.x,r.getY()+e.y),o=t.getEnd(),s=new Re(o.getX()+e.x,o.getY()+e.y);n.mathShape=new ic(i,s),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Kl).updateContent(n,e)}updateConnector(n){const e=Q(this,vn,M3).call(this,n),t=Q(this,vn,F3).call(this,e);u(this,Kl).updateConnector(n,t)}},bh=new WeakMap,Kl=new WeakMap,vn=new WeakSet,F3=function(n){const e=n.x(),t=n.y(),r=n.width(),i=n.height();return[new Re(e+r/2,t),new Re(e,t+i/2),new Re(e+r/2,t+i),new Re(e+r,t+i/2)]},xA=function(n){const e=n.x(),t=n.y(),r=n.width(),i=n.height();return[new Re(e,t),new Re(e+r,t),new Re(e+r,t+i),new Re(e,t+i)]},TA=function(n){return new ic(n[0],n[1])},PA=function(){return Wu[u(this,bh)]},IA=function(n,e){const t=n.mathShape;return new Fe.default.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},M3=function(n){const e=n.getChildren(yu)[0];if(e instanceof Fe.default.Rect)return e},RA=function(n){const e=n.mathShape;return new Re(e.getBegin().getX(),e.getEnd().getY())},LA=function(n,e,t){const r=n.mathShape,i=r.getBegin(),o=e.getParent();if(!(o instanceof Fe.default.Group))return;const s=Q(this,vn,M3).call(this,o);s.position({x:i.getX(),y:i.getY()}),s.size({width:r.getWidth(),height:r.getHeight()});const l=xt(o,0),d=xt(o,1),h=xt(o,2),f=xt(o,3);switch(e.id()){case"anchor0":l.x(e.x()),l.y(e.y()),d.y(e.y()),f.x(e.x());break;case"anchor1":d.x(e.x()),d.y(e.y()),l.y(e.y()),h.x(e.x());break;case"anchor2":h.x(e.x()),h.y(e.y()),f.y(e.y()),d.x(e.x());break;case"anchor3":f.x(e.x()),f.y(e.y()),h.y(e.y()),l.x(e.x());break;default:Pe.error("Unhandled anchor id: "+e.id())}},AA=function(n,e){const t=n.mathShape.getRound(),r=t.max.getX()-t.min.getX(),i=t.max.getY()-t.min.getY();return new Fe.default.Rect({x:t.min.getX(),y:t.min.getY(),width:r,height:i,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})},zj=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,vn,AA).call(this,n);e.add(r),r.moveToBottom()}},J9),RoiFactory:(eI=class{constructor(){G(this,hn);G(this,wh,"roi");G(this,_s,new Hu(Q(this,hn,_A)))}static supports(n){return n instanceof Jo}getName(){return u(this,wh)}getGroupName(){return u(this,wh)+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=Q(this,hn,EA).call(this,e),n.setTextExpr(Q(this,hn,kA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,hn,U3).call(this,n,e);t.add(Q(this,hn,U3).call(this,n,e));const i=u(this,_s).create(n,e);t.add(u(this,_s).create(n,e));const o=Q(this,hn,N3).call(this,r);return t.add(u(this,_s).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,hn,OA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,hn,FA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,_s).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Fe.default.Group))return;const r=Q(this,hn,f2).call(this,t),i=n.mathShape.getPoints().slice(),o=new Re(e.x()-r.x(),e.y()-r.y());i[t9(e.id())]=o,n.mathShape=new Jo(i),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=[];for(let i=0;i<t.getLength();++i)r.push(new Re(t.getPoint(i).getX()+e.x,t.getPoint(i).getY()+e.y));n.mathShape=new Jo(r),n.updateQuantification()}updateLabelContent(n,e,t){u(this,_s).updateContent(n,e)}updateConnector(n){const e=Q(this,hn,f2).call(this,n),t=Q(this,hn,N3).call(this,e);u(this,_s).updateConnector(n,t)}},wh=new WeakMap,_s=new WeakMap,hn=new WeakSet,OA=function(n){const e=n.points(),t=n.x(),r=n.y(),i=[];for(let o=0;o<e.length;o+=2)i.push(new Re(e[o]+t,e[o+1]+r));return i},N3=function(n){const e=n.points(),t=n.x(),r=n.y(),i=[];for(let o=0;o<e.length;o+=2){const s=(o+2)%e.length,l=(e[o]+e[s])/2+t,d=(e[o+1]+e[s+1])/2+r;i.push(new Re(l,d))}return i},EA=function(n){return new Jo(n)},kA=function(){return Wu[u(this,wh)]},U3=function(n,e){const t=n.mathShape,r=[];for(let i=0;i<t.getLength();++i)r.push(t.getPoint(i).getX()),r.push(t.getPoint(i).getY());return new Fe.default.Line({points:r,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})},f2=function(n){return LS(n)},_A=function(n){const e=n.mathShape;return new Re(e.getPoint(0).getX(),e.getPoint(0).getY())},FA=function(n,e,t){const r=e.getParent();if(!(r instanceof Fe.default.Group))return;const i=Q(this,hn,f2).call(this,r),o=i.points(),s=2*t9(e.id());o[s]=e.x()-i.x(),o[s+1]=e.y()-i.y(),i.points(o);const l=r.getChildren(function(d){return d.id()===e.id()})[0];l.x(e.x()),l.y(e.y())},Wj=function(n,e){},jj=function(n,e){},eI),RulerFactory:(tI=class{constructor(){G(this,Zt);G(this,Dh,"ruler");G(this,Fs,new Hu(Q(this,Zt,BA)))}static supports(n){return n instanceof Yt}getName(){return u(this,Dh)}getGroupName(){return u(this,Dh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,Zt,NA).call(this,e),n.setTextExpr(Q(this,Zt,UA).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Fe.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,Zt,B3).call(this,n,e);t.add(Q(this,Zt,B3).call(this,n,e));const i=Q(this,Zt,qA).call(this,n,e);for(const l of i)t.add(l);const o=u(this,Fs).create(n,e);t.add(u(this,Fs).create(n,e));const s=Q(this,Zt,q3).call(this,r);return t.add(u(this,Fs).getConnector(s,o,e)),t}getAnchors(n,e){const t=Q(this,Zt,MA).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(ju(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof Fe.default.Group&&(Q(this,Zt,VA).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Fs).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Fe.default.Group))return;const r=Q(this,Zt,p2).call(this,t),i=xt(t,0),o=xt(t,1),s=new Re(i.x()-r.x(),i.y()-r.y()),l=new Re(o.x()-r.x(),o.y()-r.y());n.mathShape=new Yt(s,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getBegin(),i=new Re(r.getX()+e.x,r.getY()+e.y),o=t.getEnd(),s=new Re(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Yt(i,s),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Fs).updateContent(n,e)}updateConnector(n){const e=Q(this,Zt,p2).call(this,n),t=Q(this,Zt,q3).call(this,e);u(this,Fs).updateConnector(n,t)}},Dh=new WeakMap,Fs=new WeakMap,Zt=new WeakSet,q3=function(n){const e=n.points(),t=n.x(),r=n.y(),i=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+r;return[new Re(i,o)]},MA=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Re(e[0]+t,e[1]+r),new Re(e[2]+t,e[3]+r)]},NA=function(n){return new Yt(n[0],n[1])},UA=function(){return Wu[u(this,Dh)]},B3=function(n,e){const t=n.mathShape,r=new Fe.default.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),i=qo(t,t.getBegin(),20,e.getZoomScale()),o=qo(t,t.getEnd(),20,e.getZoomScale());return r.hitFunc(function(s){s.beginPath(),s.moveTo(i.getBegin().getX(),i.getBegin().getY()),s.lineTo(i.getEnd().getX(),i.getEnd().getY()),s.lineTo(o.getEnd().getX(),o.getEnd().getY()),s.lineTo(o.getBegin().getX(),o.getBegin().getY()),s.closePath(),s.fillStrokeShape(r)}),r},p2=function(n){return LS(n)},qA=function(n,e){const t=n.mathShape,r=qo(t,t.getBegin(),20,e.getZoomScale()),i=new Fe.default.Line({points:[r.getBegin().getX(),r.getBegin().getY(),r.getEnd().getX(),r.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=qo(t,t.getEnd(),20,e.getZoomScale());return[i,new Fe.default.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]},BA=function(n){const e=n.mathShape,t=e.getBegin(),r=e.getEnd();let i=t;return t.getY()<r.getY()&&(i=r),i},VA=function(n,e,t){const r=n.mathShape,i=e.getParent();if(!(i instanceof Fe.default.Group))return;const o=Q(this,Zt,p2).call(this,i);o.position({x:0,y:0}),o.points([r.getBegin().getX(),r.getBegin().getY(),r.getEnd().getX(),r.getEnd().getY()]);const s=i.getChildren(function(v){return v.name()==="shape-tick0"})[0];if(!(s instanceof Fe.default.Line))return;const l=i.getChildren(function(v){return v.name()==="shape-tick1"})[0];if(!(l instanceof Fe.default.Line))return;const d=xt(i,0),h=xt(i,1);switch(e.id()){case"anchor0":d.x(e.x()),d.y(e.y());break;case"anchor1":h.x(e.x()),h.y(e.y());break;default:Pe.error("Unhandled anchor id: "+e.id())}const f=qo(r,r.getBegin(),20,t.getZoomScale());s.position({x:0,y:0}),s.points([f.getBegin().getX(),f.getBegin().getY(),f.getEnd().getX(),f.getEnd().getY()]);const m=qo(r,r.getEnd(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]),o.hitFunc(function(v){v.beginPath(),v.moveTo(f.getBegin().getX(),f.getBegin().getY()),v.lineTo(f.getEnd().getX(),f.getEnd().getY()),v.lineTo(m.getEnd().getX(),m.getEnd().getY()),v.lineTo(m.getBegin().getX(),m.getBegin().getY()),v.closePath(),v.fillStrokeShape(o)})},Hj=function(n,e){},$j=function(n,e){},tI)},filter:{Threshold:(nI=class{constructor(n){G(this,Bc);G(this,Vc,new kj);G(this,xh,!0);G(this,Th,new Gi);G(this,Pg,n=>{u(this,Th).fireEvent(n)});z(this,Bc,n)}activate(n){n&&z(this,xh,!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(u(this,Vc).setMin(n.min),u(this,Vc).setMax(n.max),u(this,xh)){const t=u(this,Bc).getData(n.dataId).image;u(this,Vc).setOriginalImage(t),z(this,xh,!1)}const e=new zC(u(this,Vc),n.dataId,u(this,Bc));e.onExecute=u(this,Pg),e.onUndo=u(this,Pg),e.execute(),u(this,Bc).addToUndoStack(e)}addEventListener(n,e){u(this,Th).add(n,e)}removeEventListener(n,e){u(this,Th).remove(n,e)}},Bc=new WeakMap,Vc=new WeakMap,xh=new WeakMap,Th=new WeakMap,Pg=new WeakMap,nI),Sobel:(rI=class{constructor(n){G(this,Gc);G(this,Ph,new Gi);G(this,Ig,n=>{u(this,Ph).fireEvent(n)});z(this,Gc,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new Fj,t=u(this,Gc).getData(n.dataId).image;e.setOriginalImage(t);const r=new zC(e,n.dataId,u(this,Gc));r.onExecute=u(this,Ig),r.onUndo=u(this,Ig),r.execute(),u(this,Gc).addToUndoStack(r)}addEventListener(n,e){u(this,Ph).add(n,e)}removeEventListener(n,e){u(this,Ph).remove(n,e)}},Gc=new WeakMap,Ph=new WeakMap,Ig=new WeakMap,rI),Sharpen:(iI=class{constructor(n){G(this,Qc);G(this,Ih,new Gi);G(this,Rg,n=>{u(this,Ih).fireEvent(n)});z(this,Qc,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new _j,t=u(this,Qc).getData(n.dataId).image;e.setOriginalImage(t);const r=new zC(e,n.dataId,u(this,Qc));r.onExecute=u(this,Rg),r.onUndo=u(this,Rg),r.execute(),u(this,Qc).addToUndoStack(r)}addEventListener(n,e){u(this,Ih).add(n,e)}removeEventListener(n,e){u(this,Ih).remove(n,e)}},Qc=new WeakMap,Ih=new WeakMap,Rg=new WeakMap,iI)}};var Vr,Ms,Lg,V3;class Gs{constructor(){G(this,Lg);ae(this,"trackingId");ae(this,"trackingUid");ae(this,"referencedSopInstanceUID");ae(this,"referencedSopClassUID");ae(this,"referencedFrameNumber");ae(this,"mathShape");ae(this,"referencePoints");ae(this,"colour","#ffff80");ae(this,"quantification");ae(this,"textExpr","");ae(this,"labelPosition");ae(this,"planeOrigin");ae(this,"planePoints");G(this,Vr);G(this,Ms,{});this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=EW("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(u(this,Ms))}getMetaItem(e){return u(this,Ms)[e]}addMetaItem(e,t){const r=e.value;u(this,Ms)[r]!==void 0&&Pe.warn("Overwriting annotation meta with id="+r),u(this,Ms)[e.value]={concept:e,value:t}}removeMetaItem(e){u(this,Ms)[e]!==void 0&&delete u(this,Ms)[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=hW(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void Pe.debug("Cannot initialise annotation twice");z(this,Vr,e);const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return u(this,Vr)!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const r=e.getCosines(),i=new zt(r[0],r[1],r[2]),o=new zt(r[3],r[4],r[5]);i.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(z(this,Vr,e),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):Pe.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}getCentroid(){let e;if(u(this,Vr)!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=Q(this,Lg,V3).call(this),r=u(this,Vr).getScrollDimIndex(),i=t.getValues()[r],o=this.mathShape.getCentroid();if(e=u(this,Vr).getPositionFromPlanePoint(o,i),this.referencedFrameNumber!==void 0){const s=e.getValues();s[3]=this.referencedFrameNumber,e=new Du(s)}}return e}setTextExpr(e){if(u(this,Vr)!==void 0){const t=u(this,Vr).getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else Pe.warn("Cannot set text expr without a view controller")}getText(){return function(e,t){let r="";if(e==null||(r=e,t==null))return r;const i=JT(e);for(let o=0;o<i.length;++o){const s=t[i[o]];if(s!=null&&s.value!==null&&s.value!==void 0){let l=s.value.toPrecision(4);s.unit!==null&&s.unit!==void 0&&s.unit.length!==0&&(s.unit!=="unit.degree"&&(l+=" "),l+=fW.t(s.unit));const d="{"+i[o]+"}";r=r.replace(d,l)}}return r}(this.textExpr,this.quantification)}updateQuantification(){u(this,Vr)!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(u(this,Vr),Q(this,Lg,V3).call(this),JT(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(t2.draw!==void 0)for(const t in t2.draw){const r=t2.draw[t];if(r.supports(this.mathShape)){e=new r;break}}if(e===void 0)for(const t in T3.draw){const r=T3.draw[t];if(r.supports(this.mathShape)){e=new r;break}}return e===void 0&&Pe.warn("No shape factory found for math shape"),e}}Vr=new WeakMap,Ms=new WeakMap,Lg=new WeakSet,V3=function(){let e;if(u(this,Vr)!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const r=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&r.push(this.referencedFrameNumber);const i=new Du(r);e=u(this,Vr).getIndexFromPosition(i)}return e};var ci,ot,zc,Rh,So,yo,Ta,Zl,mr,Lh,di,Ag,hi,Ah,Og,Wc,$o,Eg,Oh,_t,G3,Q3,GA,g2,z3,QA,W3,zA,WA,j3,Eh,H3;class OS{constructor(e){G(this,_t);G(this,ci);G(this,ot,null);G(this,zc);G(this,Rh);G(this,So,{x:1,y:1});G(this,yo,{x:1,y:1,z:1});G(this,Ta,{x:0,y:0});G(this,Zl,{x:0,y:0});G(this,mr,{x:0,y:0});G(this,Lh,{x:0,y:0});G(this,di,{x:0,y:0});G(this,Ag);G(this,hi);G(this,Ah);G(this,Og);G(this,Wc);G(this,$o);G(this,Eg,!0);G(this,Oh,new Gi);G(this,Eh,e=>{e.srclayerid=this.getId(),e.dataid=u(this,Ah),u(this,Oh).fireEvent(e)});z(this,ci,e),u(this,ci).className+=" drawLayer"}setShapeHandler(e){z(this,$o,e)}getDataId(){return u(this,Ah)}getReferenceLayerId(){return u(this,Og)}getKonvaStage(){return u(this,ot)}getKonvaLayer(){return u(this,ot).getLayers()[0]}getDrawController(){return u(this,Ag)}setPlaneHelper(e){z(this,hi,e)}getId(){return u(this,ci).id}removeFromDOM(){u(this,ci).remove()}getBaseSize(){return u(this,zc)}getOpacity(){return u(this,ot).opacity()}setOpacity(e){u(this,ot).opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=u(this,ot).scale(),t=u(this,ot).size();u(this,di).x+=t.width/e.x;const r=u(this,ot).offset();r.x+=u(this,di).x,u(this,ot).offset(r)}addFlipOffsetY(){const e=u(this,ot).scale(),t=u(this,ot).size();u(this,di).y+=t.height/e.y;const r=u(this,ot).offset();r.y+=u(this,di).y,u(this,ot).offset(r)}flipScaleX(){u(this,yo).x*=-1}flipScaleY(){u(this,yo).y*=-1}flipScaleZ(){u(this,yo).z*=-1}setScale(e,t){const r=u(this,hi).getTargetOrientedPositiveXYZ({x:e.x*u(this,yo).x,y:e.y*u(this,yo).y,z:e.z*u(this,yo).z}),i={x:u(this,So).x*r.x,y:u(this,So).y*r.y},o=u(this,ot).offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const s={x:o.x-u(this,mr).x,y:o.y-u(this,mr).y};z(this,mr,{x:0,y:0}),u(this,ot).offset(s)}else if(t!==void 0){let s=u(this,hi).getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});s={x:s.x+u(this,Ta).x,y:s.y+u(this,Ta).y};const l=jA(o,u(this,ot).scale(),i,s),d={x:u(this,mr).x+l.x-o.x,y:u(this,mr).y+l.y-o.y};z(this,mr,d),u(this,ot).offset(l)}u(this,ot).scale(i),Q(this,_t,H3).call(this,i)}initScale(e,t){const r=u(this,hi).getTargetOrientedPositiveXYZ({x:e.x*u(this,yo).x,y:e.y*u(this,yo).y,z:e.z*u(this,yo).z}),i={x:u(this,So).x*r.x,y:u(this,So).y*r.y};u(this,ot).scale(i),z(this,mr,{x:t.x/u(this,So).x,y:t.y/u(this,So).y});const o=u(this,ot).offset();u(this,ot).offset({x:o.x+u(this,mr).x,y:o.y+u(this,mr).y})}setOffset(e){const t=u(this,hi).getPlaneOffsetFromOffset3D(e),r=u(this,ot).offset();u(this,ot).offset({x:r.x-u(this,Lh).x+t.x,y:r.y-u(this,Lh).y+t.y}),z(this,Lh,t)}setBaseOffset(e,t){const r=u(this,hi).getNativeScrollDimIndex(),i=u(this,hi).getPlaneOffsetFromOffset3D({x:r===0?e.getX():t.getX(),y:r===1?e.getY():t.getY(),z:r===2?e.getZ():t.getZ()}),o=u(this,Ta).x!==i.x||u(this,Ta).y!==i.y;if(o){const s=u(this,ot).offset();u(this,ot).offset({x:s.x-u(this,Ta).x+i.x,y:s.y-u(this,Ta).y+i.y}),z(this,Ta,i)}return o}display(e){u(this,ci).style.display=e?"":"none"}isVisible(){return u(this,ci).style.display===""}draw(){u(this,ot).draw()}initialise(e,t,r){z(this,zc,e),z(this,Rh,t),z(this,Og,r),z(this,ot,new Fe.default.Stage({container:u(this,ci),width:u(this,zc).x,height:u(this,zc).y,listening:!1})),u(this,ot).getContent().setAttribute("style","");const i=new Fe.default.Layer({listening:!1,visible:!0});u(this,ot).add(i)}setAnnotationGroup(e,t,r){if(z(this,Ah,t),e.addEventListener("annotationadd",i=>{Q(this,_t,g2).call(this,i.data,!0),this.getKonvaLayer().draw()}),e.addEventListener("annotationupdate",i=>{Q(this,_t,QA).call(this,i.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationremove",i=>{Q(this,_t,z3).call(this,i.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationgroupeditablechange",i=>{this.activateCurrentPositionShapes(i.data)}),z(this,Ag,new nj(e)),e.getLength()!==0)for(const i of e.getList())Q(this,_t,g2).call(this,i,!1),r(new KS(i,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(u(this,ot).listening(!1),u(this,$o)!==void 0){u(this,$o).disableAndResetEditor();const i=t.getChildren();for(const o of i)o instanceof Fe.default.Group&&o.getChildren().forEach(s=>{s instanceof Fe.default.Group&&u(this,$o).removeShapeListeners(s)})}const r=this.getDrawController();if(e&&r.getAnnotationGroup().isEditable()){u(this,ot).listening(!0);const i=Q(this,_t,WA).call(this).getChildren();i.length!==0&&t.listening(!0),u(this,$o)!==void 0&&i.forEach(o=>{if(o instanceof Fe.default.Group){const s=r.getAnnotation(o.id());u(this,$o).addShapeGroupListeners(o,s,this)}})}t.draw()}fitToContainer(e,t,r){const i={x:t*u(this,Rh).x,y:t*u(this,Rh).y},o=i.x/u(this,So).x,s=i.y/u(this,So).y,l=e.x/(u(this,ot).width()*o),d=e.y/(u(this,ot).height()*s);u(this,ot).width()===e.x&&u(this,ot).height()===e.y||(u(this,ot).width(e.x),u(this,ot).height(e.y));const h={x:u(this,ot).scale().x*o,y:u(this,ot).scale().y*s};u(this,ot).scale().x===h.x&&u(this,ot).scale().y===h.y||(z(this,So,i),u(this,ot).scale(h),Q(this,_t,H3).call(this,h));const f={x:r.x/i.x,y:r.y/i.y},m={x:e.x/i.x,y:e.y/i.y},v={x:u(this,di).x!==0?m.x:0,y:u(this,di).y!==0?m.y:0};if(u(this,Zl).x!==f.x||u(this,Zl).y!==f.y||u(this,di).x!==v.x||u(this,di).y!==v.y){const g={x:u(this,mr).x*l,y:u(this,mr).y*d};u(this,ot).offset({x:u(this,ot).offset().x+f.x-u(this,Zl).x+v.x-u(this,di).x+g.x-u(this,mr).x,y:u(this,ot).offset().y+f.y-u(this,Zl).y+v.y-u(this,di).y+g.y-u(this,mr).y}),z(this,di,v),z(this,Zl,f),z(this,mr,g)}}isAnnotationVisible(e){const t=Q(this,_t,j3).call(this,e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const r=Q(this,_t,j3).call(this,e);return r!==void 0&&(t===void 0&&(t=!r.isVisible()),r.visible(t),this.draw(),!0)}setLabelsVisibility(e){z(this,Eg,e);const t=this.getKonvaLayer().getChildren();for(const r of t)if(r instanceof Fe.default.Group){const i=r.getChildren();for(const o of i)o instanceof Fe.default.Group&&Q(this,_t,W3).call(this,o,e)}}setLabelVisibility(e){Q(this,_t,W3).call(this,e,u(this,Eg))}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const r of e)r instanceof Fe.default.Group&&(t+=r.getChildren().length);return t}bindInteraction(){u(this,ot).listening(!0),u(this,ci).style.pointerEvents="auto";const e=nf;for(let t=0;t<e.length;++t)u(this,ci).addEventListener(e[t],u(this,Eh))}unbindInteraction(){u(this,ot).listening(!1),u(this,ci).style.pointerEvents="none";const e=nf;for(let t=0;t<e.length;++t)u(this,ci).removeEventListener(e[t],u(this,Eh))}setCurrentPosition(e,t){t===void 0&&(t=u(this,hi).worldToIndex(e));const r=u(this,hi).getPlanePoints(e);let i,o;i=u(this,hi).isAquisitionOrientation()?[r[0]]:r,e.length()>3&&(o=e.get(3));const s=Q(this,_t,Q3).call(this,i,o);return Q(this,_t,zA).call(this,s),u(this,Eh).call(this,{type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}addEventListener(e,t){u(this,Oh).add(e,t)}removeEventListener(e,t){u(this,Oh).remove(e,t)}}ci=new WeakMap,ot=new WeakMap,zc=new WeakMap,Rh=new WeakMap,So=new WeakMap,yo=new WeakMap,Ta=new WeakMap,Zl=new WeakMap,mr=new WeakMap,Lh=new WeakMap,di=new WeakMap,Ag=new WeakMap,hi=new WeakMap,Ah=new WeakMap,Og=new WeakMap,Wc=new WeakMap,$o=new WeakMap,Eg=new WeakMap,Oh=new WeakMap,_t=new WeakSet,G3=function(e){let t,r;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(r=Q(this,_t,Q3).call(this,t,e.referencedFrameNumber)),r},Q3=function(e,t){let r="";for(const i of e)r.length!==0&&(r+="-"),r+=gW([_a(i.getX(),2),_a(i.getY(),2),_a(i.getZ(),2)]);return t!==void 0&&(r+="-"+t),r},GA=function(e){let t;const r=Q(this,_t,G3).call(this,e),i=this.getKonvaLayer().getChildren(BC(r));if(i.length!==0){const o=i[0];if(!(o instanceof Fe.default.Group))return;const s=o.getChildren(BC(e.trackingUid));s.length!==0&&s[0]instanceof Fe.default.Group&&(t=s[0])}return t},g2=function(e,t){if(!e.canView()||!e.isCompatibleView(u(this,hi)))return;const r=Q(this,_t,G3).call(this,e);let i=this.getKonvaLayer().getChildren(BC(r))[0];if(i===void 0&&(i=new Fe.default.Group({id:r,name:"position-group",visible:t}),this.getKonvaLayer().add(i)),!(i instanceof Fe.default.Group))return;const o=new q2,s=this.getKonvaStage();o.setZoomScale(s.scale());const l=e.getFactory();if(l===void 0)throw new Error("Cannot add an annotation draw without factory");const d=l.createShapeGroup(e,o);i.add(d),t&&u(this,$o)!==void 0&&u(this,$o).addShapeGroupListeners(d,e,this),this.setLabelVisibility(d)},z3=function(e){const t=Q(this,_t,GA).call(this,e);return t instanceof Fe.default.Group?(t.remove(),!0):(Pe.debug("No shape group to remove"),!1)},QA=function(e){Q(this,_t,z3).call(this,e)&&Q(this,_t,g2).call(this,e,!0)},W3=function(e,t){const r=e.getChildren(H4)[0];if(r instanceof Fe.default.Label&&(t===void 0&&(t=!r.isVisible()),r.getText()!==void 0&&r.getText().text().length!==0)){r.visible(t);const i=e.getChildren(o=>o.className==="Line"&&o.name()==="connector")[0];i&&i.visible(t)}},zA=function(e){z(this,Wc,e);const t=this.getKonvaLayer().getChildren(bL);let r;for(let i=0,o=t.length;i<o;++i)r=!1,e!==void 0&&t[i].id()===e&&(r=!0),t[i].visible(r);this.getKonvaLayer().draw()},WA=function(){if(u(this,Wc)===void 0)return;const e=this.getKonvaLayer().getChildren(r=>r.id()===u(this,Wc));let t;return e.length===1?e[0]instanceof Fe.default.Group&&(t=e[0]):e.length===0?(t=new Fe.default.Group,t.name("position-group"),t.id(u(this,Wc)),t.visible(!0),this.getKonvaLayer().add(t)):Pe.warn("Unexpected number of draw position groups"),t},j3=function(e){return this.getKonvaLayer().findOne("#"+e)},Eh=new WeakMap,H3=function(e){const t=2/e.x,r=2/e.y,i=u(this,ot).find("Label");for(let o=0;o<i.length;++o)i[o].scale({x:t,y:r})};function Yj(n){const e=[0,0,0],t=n.split("#");for(const r of t){const i=r.split("-");e[i[0]]=i[1]}return e}function m2(n){const e=n.split("-layer-");return e.length!==2&&Pe.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function Rt(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=m2(t.id)),e}function jA(n,e,t,r){const i=(r.x-n.x)*e.x,o=(r.y-n.y)*e.y;return{x:r.x-i/t.x,y:r.y-o/t.y}}var Sn,lt,vo,Yo,Co,Xo,kh,jc,Hc,$c,kg,_g,Pa,Yc,Ln,HA,$A,YA,XA,$3,ep,S2,Sr;class Xj{constructor(e){G(this,Ln);G(this,Sn);G(this,lt,[]);G(this,vo,{x:1,y:1,z:1});G(this,Yo,{x:1,y:1,z:1});G(this,Co,{x:0,y:0,z:0});G(this,Xo);G(this,kh,new Gi);G(this,jc,!1);G(this,Hc,[]);G(this,$c);G(this,kg);G(this,_g,!1);G(this,Pa);G(this,Yc,e=>{Q(this,Ln,ep).call(this)});ae(this,"updateLayersToPositionChange",e=>{for(const l of u(this,lt))l!==void 0&&(l.removeEventListener("positionchange",this.updateLayersToPositionChange),l.removeEventListener("positionchange",u(this,Sr)));const t=new kt(e.value[0]),r=new Du(e.value[1]);z(this,kg,r),u(this,jc)&&Q(this,Ln,ep).call(this,r);const i={};let o,s;for(const l of u(this,lt)){if(l===void 0)continue;let d=!1;if(l instanceof Tr){const f=l.getViewController(),m=f.getOrigin(),v=f.getOrigin(r);let g,S;if(s===void 0)o=m,s=v,g=new dn(0,0,0),S=new dn(0,0,0);else if(f.isPositionInBounds(r)&&v!==void 0){const y=o.minus(m);g=new dn(y.getX(),y.getY(),y.getZ());const C=s.minus(v);S=new dn(C.getX(),C.getY(),C.getZ())}g!==void 0&&S!==void 0&&(d=l.setBaseOffset(g,S,s,o),i[l.getId()]={scroll:g,plane:S})}if(l instanceof OS){const f=i[l.getReferenceLayerId()];f!==void 0&&(d=l.setBaseOffset(f.scroll,f.plane))}let h=!1;l.getId()!==e.srclayerid&&(h=l.setCurrentPosition(r,t)),!h&&d&&l.draw()}for(const l of u(this,lt))l!==void 0&&(l.addEventListener("positionchange",this.updateLayersToPositionChange),l.addEventListener("positionchange",u(this,Sr)))});G(this,Sr,e=>{u(this,kh).fireEvent(e)});z(this,Sn,e)}getPositionHelper(){if(u(this,Pa)===void 0){for(const e of u(this,lt))if(e instanceof Tr){const t=e.getViewController().getPositionHelperClone();u(this,Pa)===void 0?z(this,Pa,t):u(this,Pa).merge(t)}}return u(this,Pa)}getShowCrosshair(){return u(this,jc)}setShowCrosshair(e){z(this,jc,e),e?(this.addEventListener("offsetchange",u(this,Yc)),this.addEventListener("zoomchange",u(this,Yc)),Q(this,Ln,ep).call(this)):(this.removeEventListener("offsetchange",u(this,Yc)),this.removeEventListener("zoomchange",u(this,Yc)),Q(this,Ln,S2).call(this))}setImageSmoothing(e){z(this,_g,e);for(const t of u(this,lt))t instanceof Tr&&t.setImageSmoothing(e)}getDivId(){let e;return u(this,Sn)!==null&&(e=u(this,Sn).id),e}getScale(){return u(this,vo)}getBaseScale(){return u(this,Yo)}getAddedScale(){return{x:u(this,vo).x/u(this,Yo).x,y:u(this,vo).y/u(this,Yo).y,z:u(this,vo).z/u(this,Yo).z}}getOffset(){return u(this,Co)}getNumberOfLayers(){let e=0;return u(this,lt).forEach(t=>{t!==void 0&&e++}),e}includes(e){if(e===void 0)return!1;for(const t of u(this,lt))if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const r of u(this,lt))r instanceof Tr&&e(r)&&t.push(r);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;u(this,Xo)!==void 0&&(t=u(this,Xo));const r=[];for(let o=t;o>=0;o--)r.push(o);for(let o=u(this,lt).length-1;o>t;o--)r.push(o);const i=[];for(const o of r){const s=u(this,lt)[o];s instanceof Tr&&e(s)&&i.push(s)}return i}someViewLayer(e){let t=!1;for(const r of u(this,lt))if(r instanceof Tr&&e(r)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const r of u(this,lt))r instanceof OS&&e(r)&&t.push(r);return t}getNumberOfViewLayers(){let e=0;return u(this,lt).forEach(t=>{t!==void 0&&t instanceof Tr&&e++}),e}getActiveLayer(){let e;return u(this,Xo)!==void 0&&(e=u(this,lt)[u(this,Xo)]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof Tr&&(e=t),e}getBaseViewLayer(){let e;for(const t of u(this,lt))if(t instanceof Tr){e=t;break}if(e!==void 0)return e;Pe.warn("No layer found")}getViewLayerById(e){const t=this.getViewLayers(function(i){return i.getId()===e});let r;return t.length===1&&(r=t[0]),r}getViewLayersByDataId(e){return this.getViewLayers(function(t){return t.getDataId()===e})}searchViewLayers(e){const t=structuredClone(e);let r;t.SOPInstanceUID!==void 0&&(r=t.SOPInstanceUID,delete t.SOPInstanceUID);const i=r!==void 0,o=Object.keys(t).length!==0,s=[];for(const l of u(this,lt))if(l instanceof Tr){let d=!1;o&&(d=l.getViewController().equalImageMeta(t));let h=!1;i&&(h=l.getViewController().includesImageUid(r));let f=!1;o&&i?f=d&&h:o?f=d:i&&(f=h),f&&s.push(l)}return s}getViewDataIndices(){const e=[];for(const t of u(this,lt))t instanceof Tr&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof OS&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers(function(i){return i.getId()===e});let r;return t.length===1&&(r=t[0]),r}getDrawLayersByDataId(e){return this.getDrawLayers(function(t){return t.getDataId()===e})}setActiveLayer(e){z(this,Xo,e),u(this,Sr).call(this,{type:"activelayerchange",value:[u(this,lt)[e]]})}setActiveLayerById(e){let t;for(let r=0;r<u(this,lt).length;++r)if(u(this,lt)[r]!==void 0&&u(this,lt)[r].getId()===e){t=r;break}t!==void 0?this.setActiveLayer(t):Pe.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let r=0;r<u(this,lt).length;++r)if(u(this,lt)[r]!==void 0&&u(this,lt)[r].getDataId()===e){t=r;break}t!==void 0?this.setActiveLayer(t):Pe.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=u(this,lt).length,t=Q(this,Ln,$3).call(this);u(this,Sn).append(t);const r=new Tr(t);return r.setImageSmoothing(u(this,_g)),u(this,lt).push(r),this.setActiveLayer(e),Q(this,Ln,HA).call(this,r),z(this,Pa,void 0),r}addDrawLayer(){z(this,Xo,u(this,lt).length);const e=Q(this,Ln,$3).call(this);u(this,Sn).append(e);const t=new OS(e);return u(this,lt).push(t),Q(this,Ln,YA).call(this,t),t}empty(){for(const e of u(this,lt))e!==void 0&&this.removeLayer(e);z(this,lt,[]),Q(this,Ln,S2).call(this)}removeLayersByDataId(e){for(const t of u(this,lt))t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=u(this,lt).findIndex(r=>r===e);if(t===-1)throw new Error("Cannot find layer to remove");u(this,Xo)===t&&z(this,Xo,void 0),e instanceof Tr?Q(this,Ln,$A).call(this,e):Q(this,Ln,XA).call(this,e),u(this,lt)[t]=void 0,z(this,Pa,void 0),e.removeFromDOM(),u(this,Sr).call(this,{type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),r=t.getViewController(),i=t.displayToPlanePos(e),o=r.getPositionFromPlanePoint(i),s=r.getRescaledImageValue(o);if(s!==void 0){const l=document.createElement("span");l.id="scroll-tooltip",l.style.left=e.getX()+10+"px",l.style.top=e.getY()+10+"px";let d=_a(s,3).toString();r.getPixelUnit()!==void 0&&(d+=" "+r.getPixelUnit()),l.appendChild(document.createTextNode(d)),z(this,$c,l),u(this,Sn).appendChild(l)}}removeTooltipDiv(){u(this,$c)!==void 0&&(u(this,$c).remove(),z(this,$c,void 0))}isPositionInBounds(e){return this.someViewLayer(function(t){return t.getViewController().isPositionInBounds(e)})}canScroll(){return this.someViewLayer(function(e){return e.getViewController().canScroll()})}moreThanOne(e){return this.someViewLayer(function(t){return t.getViewController().moreThanOne(e)})}getDivToWorldSizeRatio(){if(u(this,Sn).offsetWidth===0&&u(this,Sn).offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+u(this,Sn).id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(u(this,Sn).offsetHeight===0){const t=u(this,Sn).offsetWidth/e.x,r=e.y*t;u(this,Sn).style.height=r+"px"}return Math.min(u(this,Sn).offsetWidth/e.x,u(this,Sn).offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const r={x:u(this,Sn).offsetWidth,y:u(this,Sn).offsetHeight},i={x:-.5*(r.x-Math.floor(t.x*e)),y:-.5*(r.y-Math.floor(t.y*e))};for(const o of u(this,lt))o!==void 0&&o.fitToContainer(r,e,i);u(this,jc)&&Q(this,Ln,ep).call(this)}getMaxWorldSize(){let e={x:0,y:0};for(const t of u(this,lt))if(t instanceof Tr){const r=t.getImageWorldSize();r.x>e.x&&(e.x=r.x),r.y>e.y&&(e.y=r.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){u(this,Yo).z*=-1,this.setScale(u(this,Yo))}addScale(e,t){const r={x:u(this,vo).x*(1+e),y:u(this,vo).y*(1+e),z:u(this,vo).z*(1+e)};this.setScale(r,t)}setScale(e,t){z(this,vo,e);for(const i of u(this,lt))i!==void 0&&i.setScale(u(this,vo),t);const r=[e.x,e.y,e.z];t!==void 0&&(r.push(t.getX()),r.push(t.getY()),r.push(t.getZ())),u(this,Sr).call(this,{type:"zoomchange",value:r})}addTranslation(e){this.setOffset({x:u(this,Co).x-e.x,y:u(this,Co).y-e.y,z:u(this,Co).z-e.z})}setOffset(e){z(this,Co,e);for(const t of u(this,lt))t!==void 0&&t.setOffset(u(this,Co));u(this,Sr).call(this,{type:"offsetchange",value:[u(this,Co).x,u(this,Co).y,u(this,Co).z]})}reset(){this.setScale(u(this,Yo)),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(u(this,Yo)),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of u(this,lt))if(t!==void 0&&t instanceof Tr){const r=t.getViewController();e&&(r.resetPosition(),e=!1),r.resetWindowLevel()}}draw(){for(const e of u(this,lt))e!==void 0&&e.draw()}display(e){for(const t of u(this,lt))t!==void 0&&t.display(e)}addEventListener(e,t){u(this,kh).add(e,t)}removeEventListener(e,t){u(this,kh).remove(e,t)}}Sn=new WeakMap,lt=new WeakMap,vo=new WeakMap,Yo=new WeakMap,Co=new WeakMap,Xo=new WeakMap,kh=new WeakMap,jc=new WeakMap,Hc=new WeakMap,$c=new WeakMap,kg=new WeakMap,_g=new WeakMap,Pa=new WeakMap,Yc=new WeakMap,Ln=new WeakSet,HA=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of tf)e.addEventListener(t,u(this,Sr));e.addEventListener("renderstart",u(this,Sr)),e.addEventListener("renderend",u(this,Sr))},$A=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of tf)e.removeEventListener(t,u(this,Sr));e.removeEventListener("renderstart",u(this,Sr)),e.removeEventListener("renderend",u(this,Sr)),e.unbindImage()},YA=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",u(this,Sr))},XA=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",u(this,Sr))},$3=function(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+u(this,lt).length,e.className="layer",e.style.pointerEvents="none",e},ep=function(e){let t;e===void 0&&(e=u(this,kg)),Q(this,Ln,S2).call(this);for(const o of u(this,lt))if(o instanceof Tr){t=o;break}if(t===void 0)return void Pe.warn("No layer to show crosshair");const r=t.getViewController().getPlanePositionFromPosition(e),i=t.planePosToDisplay(r);if(i.getY()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-horizontal",o.className="horizontal",o.style.width=u(this,Sn).offsetWidth+"px",o.style.left="0px",o.style.top=i.getY()+"px",u(this,Hc).push(o),u(this,Sn).appendChild(o)}if(i.getX()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-vertical",o.className="vertical",o.style.width=u(this,Sn).offsetHeight+"px",o.style.left=i.getX()+"px",o.style.top="0px",u(this,Hc).push(o),u(this,Sn).appendChild(o)}},S2=function(){for(const e of u(this,Hc))e.remove();z(this,Hc,[])},Sr=new WeakMap;const l9={WindowLevelBinder:class{constructor(){ae(this,"getEventType",function(){return"wlchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const r=t[0].getViewController();if(e.value.length===2){const i=new mi(e.value[0],e.value[1]);r.setWindowLevel(i)}e.value.length===3&&r.setWindowLevelPreset(e.value[2])}}})}},PositionBinder:class{constructor(){ae(this,"getEventType",function(){return"positionchange"});ae(this,"getCallback",function(n){return function(e){const t=e.value[1],r=n.getBaseViewLayer().getViewController(),i=r.getCurrentPosition(),o=i.length(),s=t.length;s!==o&&(s===o-1?t.push(i.get(o-1)):s===o+1&&t.pop()),r.setCurrentPosition(new Du(t))}})}},ZoomBinder:class{constructor(){ae(this,"getEventType",function(){return"zoomchange"});ae(this,"getCallback",function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let r;e.value.length===6&&(r=new zt(e.value[3],e.value[4],e.value[5])),n.setScale(t,r),n.draw()}})}},OffsetBinder:class{constructor(){ae(this,"getEventType",function(){return"offsetchange"});ae(this,"getCallback",function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}})}},OpacityBinder:class{constructor(){ae(this,"getEventType",function(){return"opacitychange"});ae(this,"getCallback",function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),r=n.getBaseViewLayer();t.length!==0&&r!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}})}},ColourMapBinder:class{constructor(){ae(this,"getEventType",function(){return"colourmapchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}})}}};var Ct,Ns,Fg,Ko,bo,ra,Y3,X3,K3;class Kj{constructor(){G(this,ra);G(this,Ct,[]);G(this,Ns);G(this,Fg,!1);G(this,Ko,[]);G(this,bo,null)}getLayerGroup(e){return u(this,Ct)[e]}getNumberOfLayerGroups(){return u(this,Ct).length}getActiveLayerGroup(){return this.getLayerGroup(u(this,Ns))}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?z(this,Ns,e):Pe.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const r of u(this,Ct))t=t.concat(r.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const r of u(this,Ct))t=t.concat(r.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const r of u(this,Ct))t=t.concat(r.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const r of u(this,Ct))t=t.concat(r.getDrawLayers(e));return t}addLayerGroup(e){z(this,Ns,u(this,Ct).length);const t=new Xj(e);t.setImageSmoothing(u(this,Fg));const r=u(this,bo)&&u(this,bo).length!==0;return r&&this.unbindLayerGroups(),u(this,Ct).push(t),r&&this.bindLayerGroups(),t}getLayerGroupByDivId(e){return u(this,Ct).find(function(t){return t.getDivId()===e})}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");u(this,Ko).length!==0&&this.unbindLayerGroups(),z(this,Ko,e.slice()),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of u(this,Ct))e.empty();z(this,Ct,[]),z(this,Ns,void 0)}removeLayersByDataId(e){for(const t of u(this,Ct))t.removeLayersByDataId(e)}removeLayerGroup(e){const t=u(this,Ct).findIndex(r=>r===e);if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),u(this,Ct).splice(t,1),u(this,Ns)===t&&z(this,Ns,void 0),this.bindLayerGroups()}reset(){for(const e of u(this,Ct))e.reset()}resetZoomPan(){for(const e of u(this,Ct))e.resetZoomPan()}resetViews(){for(const e of u(this,Ct))e.resetViews()}draw(){for(const e of u(this,Ct))e.draw()}fitToContainer(){let e;const t=[];for(let r=0;r<u(this,Ct).length;++r){const i=u(this,Ct)[r].getDivToWorldSizeRatio();i!==void 0&&(t.push(r),(e===void 0||i<e)&&(e=i))}if(e!==void 0)for(let r=0;r<u(this,Ct).length;++r)t.includes(r)&&u(this,Ct)[r].fitToContainer(e)}bindLayerGroups(){if(u(this,Ct).length!==0&&u(this,Ct).length!==1&&u(this,Ko).length!==0){z(this,bo,new Array(u(this,Ct).length));for(let e=0;e<u(this,Ct).length;++e)for(let t=0;t<u(this,Ko).length;++t)Q(this,ra,X3).call(this,e,u(this,Ko)[t])}}unbindLayerGroups(){if(u(this,Ct).length!==0&&u(this,Ct).length!==1&&u(this,Ko).length!==0&&u(this,bo)){for(let e=0;e<u(this,Ct).length;++e)for(let t=0;t<u(this,Ko).length;++t)Q(this,ra,K3).call(this,e,u(this,Ko)[t]);z(this,bo,null)}}setImageSmoothing(e){z(this,Fg,e);for(const t of u(this,Ct))t.setImageSmoothing(e)}}Ct=new WeakMap,Ns=new WeakMap,Fg=new WeakMap,Ko=new WeakMap,bo=new WeakMap,ra=new WeakSet,Y3=function(e,t){u(this,bo)[t]===void 0&&(u(this,bo)[t]=[]);let r=u(this,bo)[t].find(function(i){return i.binder===e});return r===void 0&&(r={binder:e,callback:i=>{Q(this,ra,K3).call(this,t,e),e.getCallback(u(this,Ct)[t])(i),Q(this,ra,X3).call(this,t,e)}},u(this,bo)[t].push(r)),r.callback},X3=function(e,t){for(let r=0;r<u(this,Ct).length;++r)r!==e&&u(this,Ct)[e].addEventListener(t.getEventType(),Q(this,ra,Y3).call(this,t,r))},K3=function(e,t){for(let r=0;r<u(this,Ct).length;++r)r!==e&&u(this,Ct)[e].removeEventListener(t.getEventType(),Q(this,ra,Y3).call(this,t,r))};var Mg,Ro,KA,ZA,JA,e7,t7;class Zj{constructor(e){G(this,Ro);G(this,Mg);z(this,Mg,e)}fromJSON(e){const t=JSON.parse(e);let r=null;if(t.version==="0.1")r=Q(this,Ro,KA).call(this,t);else if(t.version==="0.2")r=Q(this,Ro,ZA).call(this,t);else if(t.version==="0.3")r=Q(this,Ro,JA).call(this,t);else if(t.version==="0.4")r=Q(this,Ro,e7).call(this,t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");r=Q(this,Ro,t7).call(this,t)}return r}apply(e,t){const r=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),i=new mi(t["window-center"],t["window-width"]);r.setWindowLevel(i);const o=e.getActiveLayerGroup().getBaseScale();let s=null,l=null;if(t.scaleCenter!==void 0){s={x:t.scale*o.x,y:t.scale*o.y,z:1};const d=t.scaleCenter.x-t.scaleCenter.x*t.scale,h=t.scaleCenter.y-t.scaleCenter.y*t.scale,f=d+t.translation.x*s.x,m=h+t.translation.y*s.y;l={x:-f/s.x,y:-m/s.y,z:0}}else s={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},l={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(s),e.getActiveLayerGroup().setOffset(l),e.setDrawings(t.drawings,t.drawingsDetails,u(this,Mg))}}Mg=new WeakMap,Ro=new WeakSet,KA=function(e){const t=function(r){const i=[],o={};let s,l;for(let d=0,h=r.length;d<h;++d){i[d]=[];for(let f=0,m=r[d].length;f<m;++f){s=r[d][f];const v=[];for(let g=0,S=s.length;g<S;++g){l=Fe.default.Node.create(s[g]),l.visible(!0);let y={x:0,y:0};const C=l.getChildren(function(E){return E.name()==="shape"})[0];if(C.stroke(sW(C.stroke())),l.name()==="line-group"){l.name("ruler-group");const E=new Fe.default.Line({points:[C.points()[0],C.points()[1],C.points()[0],C.points()[1]],name:"shape-tick0"});l.add(E);const k=new Fe.default.Line({points:[C.points()[2],C.points()[3],C.points()[2],C.points()[3]],name:"shape-tick1"});l.add(k)}const x=l.getChildren(function(E){return E.name()==="arc"});x.length===1&&x[0].name("shape-arc");const w=l.getChildren(function(E){return E.name()==="text"});let b=new Fe.default.Text({name:"text",text:""});w.length===1?(y.x=w[0].x(),y.y=w[0].y(),w[0].remove(),b=w[0]):C.points().length!==0&&(y={x:C.points()[0],y:C.points()[1]});const T=new Fe.default.Label({x:y.x,y:y.y,name:"label"});T.add(b),T.add(new Fe.default.Tag),l.add(T),v.push(JSON.stringify(l.toObject()));let P=b.text();const A=P.length;let F=null;l.name()==="ruler-group"?(F={length:{value:parseFloat(P.substring(0,A-2)),unit:P.substring(-2)}},P="{length}"):l.name()==="ellipse-group"||l.name()==="rectangle-group"?(F={surface:{value:parseFloat(P.substring(0,A-3)),unit:P.substring(-3)}},P="{surface}"):l.name()!=="protractor-group"&&l.name()!=="rectangle-group"||(F={angle:{value:parseFloat(P.substring(0,A-1)),unit:P.substring(-1)}},P="{angle}"),o[l.id()]={textExpr:P,longText:"",quant:F}}i[d].push(v)}}return{drawings:i,drawingsDetails:o}}(e.drawings);return e.drawings=u9(t.drawings).toObject(),e.drawingsDetails=WC(t.drawingsDetails),(e=ES(e)).drawings=kS(e.drawings),e},ZA=function(e){return e.drawings=u9(e.drawings).toObject(),e.drawingsDetails=WC(function(t){const r={},i=typeof t=="string"?JSON.parse(t):t;for(let o=0,s=i.length;o<s;++o)for(let l=0,d=i[o].length;l<d;++l)for(let h=0,f=i[o][l].length;h<f;++h){const m=i[o][l][h];r[m.id]={textExpr:m.textExpr,longText:m.longText,quant:m.quant}}return r}(e.drawingsDetails)),(e=ES(e)).drawings=kS(e.drawings),e},JA=function(e){return e.drawingsDetails=WC(e.drawingsDetails),(e=ES(e)).drawings=kS(e.drawings),e},e7=function(e){return(e=ES(e)).drawings=kS(e.drawings),e},t7=function(e){return e};function u9(n){let e,t,r;const i=new Fe.default.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let l=0,d=o.length;l<d;++l)for(let h=0,f=o[l].length;h<f;++h)if(t=o[l][h],t.length!==0){r=new Fe.default.Group({id:(s=new kt([1,1,l,h]),"slice-"+s.get(2)+"_frame-"+(s.length()===4?s.get(3):0)),name:"position-group",visible:!1});for(let m=0,v=t.length;m<v;++m)e=Fe.default.Node.create(t[m]),e.draggable(!0),e.getChildren().forEach(function(g){g.draggable(!1)}),r.add(e);i.add(r)}var s;return i}function WC(n){const e={},t=Object.keys(n);for(let r=0,i=t.length;r<i;++r){const o=n[t[r]];e[t[r]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function ES(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function kS(n){const e=n.children;for(let t=0,r=e.length;t<r;++t){const i=e[t],o=i.attrs.id.split("_"),s=parseInt(o[0].substring(6),10),l=parseInt(o[1].substring(6),10);let d="#2-";d+=s===0&&l!==0?l:s,i.attrs.id=d}return n}function Q1(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function c9(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let r=n.indexOf("#");r===-1&&(r=n.length);const i=n.substring(t+1,r);e.query=function(o){const s={};if(o){const l=o.split("&");for(let d=0;d<l.length;++d){const h=l[d].split("=");s[h[0]]?(s[h[0]]instanceof Array||(s[h[0]]=[s[h[0]]]),s[h[0]].push(h[1])):s[h[0]]=h[1]}}return s}(i)}return e}var Ni,fi;class d9 extends EventTarget{constructor(){super(...arguments);G(this,Ni,[]);G(this,fi,0)}getStackSize(){return u(this,Ni).length}getCurrentStackIndex(){return u(this,fi)}getCurrentCommand(){return u(this,Ni)[u(this,fi)-1]}add(t){z(this,Ni,u(this,Ni).slice(0,u(this,fi))),u(this,Ni).push(t),++Di(this,fi)._,this.dispatchEvent(new Event("undoadd"))}remove(t){let r=!1;const i=u(this,Ni).findIndex(function(o){return o.getName()===t});return i!==-1&&(r=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:t}})),u(this,Ni).splice(i,1),--Di(this,fi)._),r}undo(){u(this,fi)>0&&(this.dispatchEvent(new Event("undo")),--Di(this,fi)._,u(this,Ni)[u(this,fi)].undo())}redo(){u(this,fi)<u(this,Ni).length&&(u(this,Ni)[u(this,fi)].execute(),++Di(this,fi)._,this.dispatchEvent(new Event("redo")))}}Ni=new WeakMap,fi=new WeakMap;var Jl,Ia,eu,_h,Rr,Z3,n7,r7,i7,tp;class Jj{constructor(e){G(this,Rr);G(this,Jl);G(this,Ia,null);G(this,eu,[]);G(this,_h,{});z(this,Jl,e)}init(){for(const e in u(this,Jl))u(this,Jl)[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",Q(this,Rr,tp).call(this,"window","keydown"),!0):window.removeEventListener("keydown",Q(this,Rr,tp).call(this,"window","keydown"),!0)}getToolList(){return u(this,Jl)}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return u(this,Ia)}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");u(this,Ia)&&u(this,Ia).activate(!1),z(this,Ia,u(this,Jl)[e]),u(this,Ia).activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const r=e.getDivId();e.addEventListener("activelayerchange",Q(this,Rr,n7).call(this,r)),Q(this,Rr,Z3).call(this,r,t)}}Jl=new WeakMap,Ia=new WeakMap,eu=new WeakMap,_h=new WeakMap,Rr=new WeakSet,Z3=function(e,t){u(this,_h)[e]!==void 0&&Q(this,Rr,i7).call(this,u(this,_h)[e]),u(this,_h)[e]=t,Q(this,Rr,r7).call(this,t)},n7=function(e){return t=>{const r=t.value[0];r!==void 0&&Q(this,Rr,Z3).call(this,e,r)}},r7=function(e){e.bindInteraction();const t=nf;for(let r=0;r<t.length;++r)e.addEventListener(t[r],Q(this,Rr,tp).call(this,e.getId(),t[r]))},i7=function(e){e.unbindInteraction();const t=nf;for(let r=0;r<t.length;++r)e.removeEventListener(t[r],Q(this,Rr,tp).call(this,e.getId(),t[r]))},tp=function(e,t){if(u(this,eu)[e]===void 0&&(u(this,eu)[e]=[]),u(this,eu)[e][t]===void 0){const r=i=>{if(u(this,Ia)){const o=u(this,Ia)[i.type];o&&o(i)}};u(this,eu)[e][t]=r}return u(this,eu)[e][t]};var tu,Xc,Ng,pd,J3,o7;class hw{constructor(e){G(this,pd);G(this,tu,[]);G(this,Xc,2);G(this,Ng);ae(this,"onprogress",e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;u(this,tu)[e.index][e.subindex]=t;let r=null;r=e.item!==void 0?e.item:{loaded:Q(this,pd,J3).call(this,e.index),total:100,source:e.source},u(this,Ng).call(this,{lengthComputable:!0,loaded:Q(this,pd,o7).call(this),total:100,item:r})});z(this,Ng,e)}setNumberOfDimensions(e){z(this,Xc,e)}setNToLoad(e){for(let t=0;t<e;++t){u(this,tu)[t]=[];for(let r=0;r<u(this,Xc);++r)u(this,tu)[t][r]=0}}getMonoProgressHandler(e,t){return r=>{r.index=e,r.subindex=t,this.onprogress(r)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}tu=new WeakMap,Xc=new WeakMap,Ng=new WeakMap,pd=new WeakSet,J3=function(e){let t=0;for(let r=0;r<u(this,Xc);++r)t+=u(this,tu)[e][r];return t/u(this,Xc)},o7=function(){let e=0;const t=u(this,tu).length;for(let r=0;r<t;++r)e+=Q(this,pd,J3).call(this,r);return Math.round(e/t)};var nu,Ui,ru,Fh,Mh,Kc,Ug,Xt,a7,s7,l7,u7,c7,cy,iu,Zu,d7,eb,h7;class h9{constructor(){G(this,Xt);G(this,nu,null);G(this,Ui,[]);G(this,ru,null);G(this,Fh,0);G(this,Mh,0);G(this,Kc);G(this,Ug);G(this,cy,e=>{Di(this,Fh)._++,u(this,Fh)===u(this,nu).length&&this.onload({source:u(this,nu)})});G(this,iu,e=>{Di(this,Mh)._++,u(this,Mh)===u(this,nu).length&&this.onloadend({source:u(this,nu)})})}getDefaultCharacterSet(){return u(this,Ug)}setDefaultCharacterSet(e){z(this,Ug,e)}load(e,t){this.onloadstart({source:e}),e.length===1&&(ZT(e[0],"DICOMDIR")||ZT(e[0],".dcmdir"))?Q(this,Xt,h7).call(this,e[0],t):Q(this,Xt,eb).call(this,e,t)}abort(){z(this,Kc,!0);for(let e=0;e<u(this,Ui).length;++e)u(this,Ui)[e].readyState!==4&&u(this,Ui)[e].abort();u(this,ru)&&u(this,ru).isLoading()&&u(this,ru).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}nu=new WeakMap,Ui=new WeakMap,ru=new WeakMap,Fh=new WeakMap,Mh=new WeakMap,Kc=new WeakMap,Ug=new WeakMap,Xt=new WeakSet,a7=function(e){z(this,nu,e),z(this,Fh,0),z(this,Mh,0),z(this,Kc,!1),Q(this,Xt,l7).call(this),Q(this,Xt,c7).call(this)},s7=function(e){u(this,Ui).push(e)},l7=function(){z(this,Ui,[])},u7=function(e){z(this,ru,e)},c7=function(){z(this,ru,null)},cy=new WeakMap,iu=new WeakMap,Zu=function(e,t){return r=>{r.source=t,e(r)}},d7=function(e,t,r){return i=>{const o=i.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+i.target.responseURL+" "+i.target.status+" ("+i.target.statusText+")",target:i.target}),u(this,iu).call(this)):e.load(i.target.response,t,r)}},eb=function(e,t){if(e===void 0||e.length===0)return;Q(this,Xt,a7).call(this,e);const r=new hw(this.onprogress);r.setNToLoad(e.length);const i=[];for(let m=0;m<rf.length;++m)i.push(new rf[m]);let o=e[0],s=null,l=!1;for(let m=0;m<i.length;++m)if(s=i[m],s.canLoadUrl(o,t)){l=!0,s.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),s.onprogress=r.getUndefinedMonoProgressHandler(1),s.onloaditem=this.onloaditem,s.onload=u(this,cy),s.onloadend=u(this,iu),s.onerror=this.onerror,s.onabort=this.onabort,Q(this,Xt,u7).call(this,s);break}if(!l)throw new Error("No loader found for url: "+o);let d=0;const h=()=>{d<u(this,Ui).length-1&&!u(this,Kc)&&(++d,u(this,Ui)[d].send(null))};for(let m=0;m<e.length;++m){if(o=e[m],!s.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const v=new XMLHttpRequest;if(v.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const C=t.requestHeaders;for(let x=0;x<C.length;++x)C[x].name!==void 0&&C[x].value!==void 0&&v.setRequestHeader(C[x].name,C[x].value)}t.withCredentials!==void 0&&(v.withCredentials=t.withCredentials)}v.onprogress=Q(this,Xt,Zu).call(this,r.getMonoProgressHandler(m,0),o),v.onload=Q(this,Xt,d7).call(this,s,o,m),v.onloadend=h;const g=Q(this,Xt,Zu).call(this,this.onerror,o);v.onerror=C=>{u(this,iu).call(this),g(C)};const S=Q(this,Xt,Zu).call(this,this.ontimeout,o);v.ontimeout=C=>{u(this,iu).call(this),S(C)};const y=Q(this,Xt,Zu).call(this,this.onabort,o);v.onabort=C=>{u(this,iu).call(this),y(C)},s.loadUrlAs()===1&&(v.responseType="arraybuffer"),Q(this,Xt,s7).call(this,v)}let f=u(this,Ui).length;t!==void 0&&t.batchSize!==void 0&&f!==0&&(f=Math.min(t.batchSize,u(this,Ui).length));for(let m=0;m<f;++m)u(this,Kc)||(d=m,u(this,Ui)[d].send(null))},h7=function(e,t){const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=i=>{const o=i.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+i.target.responseURL+" "+i.target.status+" ("+i.target.statusText+")",target:i.target}),this.onloadend({});else{const s=function(h){const f=new oL;return f.parse(h),function(m){const v=m["00041220"];if(v===void 0||v.value===void 0)return void Pe.warn("No Directory Record Sequence found in DICOMDIR.");const g=v.value;if(g.length===0)return void Pe.warn("The Directory Record Sequence of the DICOMDIR is empty.");const S=[];let y=null,C=null;for(let x=0;x<g.length;++x){const w=g[x]["00041430"];if(w===void 0||w.value===void 0)continue;const b=w.value[0];if(b==="STUDY")C=[],S.push(C);else if(b==="SERIES")y=[],C.push(y);else if(b==="IMAGE"){const T=g[x]["00041500"];if(T===void 0||T.value===void 0)continue;const P=T.value;y.push(P.join("/"))}}return S}(f.getDicomElements())}(i.target.response)[0][0],l=e.split("/").slice(0,-1).join("/"),d=[];for(let h=0;h<s.length;++h)d.push(l+"/"+s[h]);Q(this,Xt,eb).call(this,d,t)}},r.onerror=i=>{Q(this,Xt,Zu).call(this,this.onerror,e)(i),this.onloadend({})},r.onabort=i=>{Q(this,Xt,Zu).call(this,this.onabort,e)(i),this.onloadend({})},r.send(null)};class eH extends Jg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cr.u(968),Cr.b),{name:"jpegbaseline.worker",type:"module"})}}class tH extends Jg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cr.u(112),Cr.b),{name:"jpegloss.worker",type:"module"})}}class nH extends Jg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cr.u(557),Cr.b),{name:"jpeg2000.worker",type:"module"})}}class rH extends Jg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cr.u(326),Cr.b),{name:"rle.worker",type:"module"})}}var ou,wo,qg;class iH{constructor(e){G(this,ou);G(this,wo);G(this,qg,!1);z(this,ou,e),z(this,wo,new SL(10))}decode(e,t,r){u(this,qg)||(z(this,qg,!0),u(this,wo).onworkstart=this.ondecodestart,u(this,wo).onworkitem=this.ondecodeditem,u(this,wo).onwork=this.ondecoded,u(this,wo).onworkend=this.ondecodeend,u(this,wo).onerror=this.onerror,u(this,wo).onabort=this.onabort);const i={buffer:e,meta:t};let o;u(this,ou)==="jpeg-baseline"?o=new eH(i,r):u(this,ou)==="jpeg-lossless"?o=new tH(i,r):u(this,ou)==="jpeg2000"?o=new nH(i,r):u(this,ou)==="rle"&&(o=new rH(i,r)),o!==void 0&&u(this,wo).addWorkerTask(o)}abort(){u(this,wo).abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}ou=new WeakMap,wo=new WeakMap,qg=new WeakMap;const f9="0040A30A",p9="0040A161",g9="0040A162",m9="0040A163",S9="004008EA";class fw{constructor(){ae(this,"numericValue");ae(this,"floatingPointValue");ae(this,"rationalNumeratorValue");ae(this,"rationalDenominatorValue");ae(this,"measurementUnitsCode")}toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function oH(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[xu(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const y9="0040A300",v9="0040A301";class pw{constructor(){ae(this,"measuredValue");ae(this,"numericValueQualifierCode")}toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function aH(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[oH(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[xu(n.numericValueQualifierCode)]}),e}const C9="00081150",b9="00081155";class f7{constructor(){ae(this,"referencedSOPClassUID");ae(this,"referencedSOPInstanceUID")}toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function w9(n){const e=new f7;return n[C9]!==void 0&&(e.referencedSOPClassUID=n[C9].value[0]),n[b9]!==void 0&&(e.referencedSOPInstanceUID=n[b9].value[0]),e}function p7(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const D9="00081160",x9="00081199",T9="0062000B";class g7{constructor(){ae(this,"referencedSOPSequence");ae(this,"referencedFrameNumber");ae(this,"referencedSegmentNumber")}toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function sH(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[p7(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}const P9="00480301",I9="00700022",R9="00700023",L9="0070031A",gw="POINT",_S="MULTIPOINT",np="POLYLINE",m7="CIRCLE",S7="ELLIPSE";class B2{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"pixelOriginInterpretation");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function lH(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function A9(n){const e=new B2;if(n instanceof Re)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=gw;else if(n instanceof Yt)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=np;else if(n instanceof oc){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=np}else if(n instanceof Jo){e.graphicData=[];for(let r=0;r<n.getLength();++r)e.graphicData.push(n.getPoint(r).getX().toString()),e.graphicData.push(n.getPoint(r).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=np}else if(n instanceof sc){const t=n.getCenter(),r=new Re(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),r.getX().toString(),r.getY().toString()],e.graphicType=m7}else if(n instanceof ac){const t=n.getCenter(),r=n.getA(),i=n.getB();e.graphicData=[(t.getX()-r).toString(),t.getY().toString(),(t.getX()+r).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-i).toString(),t.getX().toString(),(t.getY()+i).toString()],e.graphicType=S7}else if(n instanceof ic){const t=n.getBegin(),r=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),r.getY().toString(),r.getX().toString(),r.getY().toString(),r.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=np}return e}function FS(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let s=0;s<e;s+=2)t.push(new Re(parseFloat(n.graphicData[s]),parseFloat(n.graphicData[s+1])));let r=!1;const i=t.length;if(i>2){const s=t[0],l=t[i-1];r=s.equals(l)}let o;if(n.graphicType===gw)t.length>1&&Pe.warn("Expecting 1 point for point, got "+i),o=t[0];else if(n.graphicType===m7){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+i);t.length>2&&Pe.warn("Expecting 2 points for circles, got "+i);const s=t[0],l=t[1].getDistance(s);o=new sc(s,l)}else if(n.graphicType===S7){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+i);t.length>4&&Pe.warn("Expecting 4 points for ellipses, got "+i);const s=t[0].getDistance(t[1])/2,l=t[2].getDistance(t[3])/2,d=new Re(t[0].getX()+s,t[0].getY());o=new ac(d,s,l)}else if(n.graphicType===np)if(r)if(t.length===5){const s=new Yt(t[0],t[1]),l=new Yt(t[1],t[2]),d=new Yt(t[2],t[3]),h=new Yt(t[3],t[4]);o=VC(s,l)&&VC(l,d)&&VC(d,h)?new ic(t[0],t[2]):new Jo(t.slice(0,-1))}else o=new Jo(t.slice(0,-1));else t.length===2?o=new Yt(t[0],t[1]):t.length===3&&(o=new oc([t[0],t[1],t[2]]));return o}const O9="00700022",E9="00700023",k9="30060024",_9="0070031A";class y7{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"referencedFrameofReferenceUID");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function uH(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const pa={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},bn="CONTAINS",ts="HAS PROPERTIES",$u="HAS OBS CONTEXT",Yu="INFERRED FROM",z1="SELECTED FROM",MS="HAS CONCEPT MOD",Ki="TEXT",yl="NUM",Bo="CODE",NS="UIDREF",v7="COMPOSITE",tc="IMAGE",ei="SCOORD",V2="SCOORD3D",Uo="CONTAINER",W1="SEPARATE",C7={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function jC(n){let e;const t=on(n,pa.ContentTemplateSequence);if(t!==void 0){const r=on(t,pa.MappingResource),i=on(t,pa.TemplateIdentifier);r!==void 0&&i!==void 0&&(e=r+"-"+i)}return e}class Ht{constructor(e){ae(this,"valueType");ae(this,"conceptNameCode");ae(this,"relationshipType");ae(this,"contentSequence",[]);ae(this,"value");this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const r of this.contentSequence)t+=`
`+e+"- "+r.toString(e+"  ");return t}hasHeader(e,t,r){return this.valueType===e&&YS(this.conceptNameCode,t)&&this.relationshipType===r}}function rp(n){let e=on(n,pa.ValueType);e===void 0&&(e="");const t=new Ht(e);t.relationshipType=on(n,pa.RelationshipType);const r=on(n,pa.ConceptNameCodeSequence);if(r!==void 0&&(t.conceptNameCode=r0(r)),e===Bo)t.value=r0(on(n,pa.ConceptCodeSequence));else if(e===yl)t.value=function(o){const s=new pw;return o[y9]!==void 0&&(s.measuredValue=function(l){const d=new fw;return l[f9]!==void 0&&(d.numericValue=parseFloat(l[f9].value[0])),l[p9]!==void 0&&(d.floatingPointValue=parseFloat(l[p9].value[0])),l[g9]!==void 0&&(d.rationalNumeratorValue=parseInt(l[g9].value[0],10)),l[m9]!==void 0&&(d.rationalDenominatorValue=parseInt(l[m9].value[0],10)),l[S9]!==void 0&&(d.measurementUnitsCode=r0(l[S9].value[0])),d}(o[y9].value[0])),o[v9]!==void 0&&(s.numericValueQualifierCode=r0(o[v9].value[0])),s}(n);else if(e===tc)t.value=function(o){const s=new g7;return o[D9]!==void 0&&(s.referencedFrameNumber=o[D9].value[0]),o[x9]!==void 0&&(s.referencedSOPSequence=w9(o[x9].value[0])),o[T9]!==void 0&&(s.referencedSegmentNumber=o[T9].value[0]),s}(n);else if(e===v7)t.value=w9(on(n,pa.ReferencedSOPSequence));else if(e===ei)t.value=function(o){const s=new B2;return o[I9]!==void 0&&(s.graphicData=o[I9].value),o[R9]!==void 0&&(s.graphicType=o[R9].value[0]),o[P9]!==void 0&&(s.pixelOriginInterpretation=o[P9].value[0]),o[L9]!==void 0&&(s.fiducialUID=o[L9].value[0]),s}(n);else if(e===V2)t.value=function(o){const s=new y7;return o[O9]!==void 0&&(s.graphicData=o[O9].value),o[E9]!==void 0&&(s.graphicType=o[E9].value[0]),o[k9]!==void 0&&(s.referencedFrameofReferenceUID=o[k9].value[0]),o[_9]!==void 0&&(s.fiducialUID=o[_9].value[0]),s}(n);else{const o=C7[e];o!==void 0?t.value=on(n,pa[o]):console.warn("Unsupported input ValueType: "+e)}const i=fa(n,pa.ContentSequence);if(i!==void 0)for(const o of i)t.contentSequence.push(rp(o));return t}function tb(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[xu(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[xu(n.value)]};else if(n.valueType===yl)e={...e,...aH(n.value)};else if(n.valueType===tc)e={...e,...sH(n.value)};else if(n.valueType===v7)e={...e,...p7(n.value)};else if(n.valueType===ei)e={...e,...lH(n.value)};else if(n.valueType===V2)e={...e,...uH(n.value)};else{const t=C7[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(tb(t))}return e}function F9(n,e,t,r){const i=function(h){const f=B4[h];let m;return f!==void 0&&(m=U2(f.key,f.scheme)),m}(n);if(i===void 0)return;let o=bn;r!==void 0&&(o=r);const s=new Ht(yl);s.relationshipType=o,s.conceptNameCode=i;const l=new fw;l.numericValue=e,l.measurementUnitsCode=hL(t);const d=new pw;return d.measuredValue=l,s.value=d,s}function M9(n,e){const t=Object.keys(e);for(const r of t)n[r]!==void 0&&Pe.debug("Overwritting tag: "+r),n[r]=e[r]}class cH{constructor(){ae(this,"current");ae(this,"measure")}}class dH{constructor(){ae(this,"annotationGroups");ae(this,"responseEvaluations");ae(this,"comment")}}var Zc,Oe,nb,rb,y2,ip,b7,v2,ib,C2,b2,ob,w2,w7,D7,x7,T7,P7,I7,D2,R7,L7,x2,A7,O7,E7,k7,_7,F7,M7,N7,U7,q7,ab,Jd,B7,V7,G7,Q7,z7,W7,j7;class HC{constructor(){G(this,Oe);G(this,Zc)}getWarning(){return u(this,Zc)}checkElements(e){return z(this,Zc,void 0),Q(this,Oe,nb).call(this,e)||Q(this,Oe,rb).call(this,e)||Q(this,Oe,y2).call(this,e)||z(this,Zc,"Not a dwv supported annotation"),u(this,Zc)}create(e){const t=rp(e);let r,i;if(Q(this,Oe,rb).call(this,e)?(i="TID 1500 SR",r=Q(this,Oe,N7).call(this,t)):Q(this,Oe,nb).call(this,e)&&(Pe.warn("DWV v0.34 annotation"),i="DWV v0.34 SR",r=Q(this,Oe,q7).call(this,t)),Q(this,Oe,y2).call(this,e)){i="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(r=o.annotationGroups[0])}if(r===void 0)throw new Error("Cannot create annotation group from "+i);return Q(this,Oe,ab).call(this,r,e),r}createCADReport(e){const t=rp(e),r=Q(this,Oe,U7).call(this,t);if(r===void 0)return void Pe.warn("No CAD processing and Findings Summary in TID 4100 SR");let i=[];if(Q(this,Oe,y2).call(this,e)&&(i=Q(this,Oe,F7).call(this,r)),i===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const d of i)Q(this,Oe,ab).call(this,d,e);const o=[];let s;for(const d of r.contentSequence)if(Q(this,Oe,D7).call(this,d)){const h=Q(this,Oe,j7).call(this,d);h!==void 0&&o.push(h)}else Q(this,Oe,x7).call(this,d)&&(s=d.value);const l=new dH;return l.annotationGroups=i,l.responseEvaluations=o,l.comment=s,l}toDicom(e,t){let r=e.getMeta();r.TransferSyntaxUID="1.2.840.10008.1.2.1",r.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.CompletionFlag="PARTIAL",r.VerificationFlag="UNVERIFIED";const i=new Date;r.ContentDate=U4(M4(i)),r.ContentTime=q4(N4(i));const o=r.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let s=o.ReferencedSOPSequence;s===void 0&&(o.ReferencedSOPSequence={value:[]},s=o.ReferencedSOPSequence);const l=s.value;for(const h of e.getList()){const f={ReferencedSOPInstanceUID:h.referencedSopInstanceUID,ReferencedSOPClassUID:h.referencedSopClassUID},m=function(v){return v.ReferencedSOPInstanceUID===f.ReferencedSOPInstanceUID&&v.ReferencedSOPClassUID===f.ReferencedSOPClassUID};l.find(m)===void 0&&l.push(f)}r.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const d=Q(this,Oe,G7).call(this,e);if(d===void 0)throw new Error("No annotation group SR content");return r={...r,...tb(d)},t!==void 0&&M9(r,t),xp(r)}toDicomCADReport(e,t){let r=e.annotationGroups[0].getMeta();r.TransferSyntaxUID="1.2.840.10008.1.2.1",r.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.CompletionFlag="PARTIAL",r.VerificationFlag="UNVERIFIED";const i=new Date;r.ContentDate=U4(M4(i)),r.ContentTime=q4(N4(i));const o=r.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let s=o.ReferencedSOPSequence;s===void 0&&(o.ReferencedSOPSequence={value:[]},s=o.ReferencedSOPSequence);const l=s.value;for(const f of e.annotationGroups)for(const m of f.getList()){const v={ReferencedSOPInstanceUID:m.referencedSopInstanceUID,ReferencedSOPClassUID:m.referencedSopClassUID},g=function(S){return S.ReferencedSOPInstanceUID===v.ReferencedSOPInstanceUID&&S.ReferencedSOPClassUID===v.ReferencedSOPClassUID};l.find(g)===void 0&&l.push(v)}r.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const d=new Ht(Bo);d.relationshipType=bn,d.conceptNameCode=st(DP),d.value=st(_W),d.contentSequence=[];for(const f of e.responseEvaluations){const m=Q(this,Oe,W7).call(this,f);d.contentSequence.push(m)}for(const f of e.annotationGroups)Q(this,Oe,z7).call(this,f,d.contentSequence);if(e.comment!==void 0){const f=new Ht(Ki);f.relationshipType=bn,f.conceptNameCode=st(AP),f.value=e.comment,d.contentSequence.push(f)}const h=new Ht(Uo);if(h.conceptNameCode=st(PP),h.value=W1,h.contentSequence.push(d),h===void 0)throw new Error("No annotation group SR content");return r={...r,...tb(h)},t!==void 0&&M9(r,t),xp(r)}}Zc=new WeakMap,Oe=new WeakSet,nb=function(e){const t=function(l){let d;return l.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(d=l.substring(29).replace(".99","-beta")),d}(on(e,"00020012")),r=t!==void 0&&function(l){const d=sP(l,"0.34.0"),h=sP(l,"0.35.0-beta.21");return d>=0&&h<=0}(t),i=jC(e);let o;const s=rp(e);return s.conceptNameCode!==void 0&&(o=s.conceptNameCode.value),r&&i===void 0&&o===RS.value},rb=function(e){const t=jC(e)==="DCMR-1500";let r;const i=rp(e);i.conceptNameCode!==void 0&&(r=i.conceptNameCode.value);let o=!1;if(t&&r===UC.value){const s=i.contentSequence.find(Q(this,Oe,ob));if(s!==void 0){const l=s.contentSequence.find(Q(this,Oe,w2));if(l!==void 0){const d=l.contentSequence.find(Q(this,Oe,D2)),h=l.contentSequence.find(Q(this,Oe,x2));d===void 0&&h===void 0||(o=!0)}}}return o},y2=function(e){return jC(e)==="DCMR-4100"},ip=function(e,t){t.valueType===tc&&t.relationshipType===z1&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))},b7=function(e,t){t.hasHeader(NS,st(PS),ts)&&(e.trackingId=t.value,e.trackingUid=t.value)},v2=function(e,t){t.hasHeader(Ki,st(PS),$u)&&(e.trackingId=t.value),t.hasHeader(NS,st(NC),$u)&&(e.trackingUid=t.value)},ib=function(e,t,r){r===void 0&&(r=!1);let i=MS;if(r&&(i=ts),t.hasHeader(Ki,st(OP),i)){e.textExpr=t.value;const o=t.contentSequence.find(function(s){return s.hasHeader(ei,st(IS),ts)});o!==void 0&&(e.labelPosition=new Re(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader(Ki,_P(),i)&&(e.colour=t.value),t.hasHeader(ei,st(IS),i)&&t.value.graphicType===_S){const o=[];for(let s=0;s<t.value.graphicData.length;s+=2)o.push(new Re(t.value.graphicData[s],t.value.graphicData[s+1]));e.referencePoints=o}if(t.hasHeader(V2,st(kP),bn)&&t.value.graphicType===_S){const o=t.value.graphicData,s=[],l=Math.floor(o.length/3);for(let d=0;d<l;++d){const h=3*d;s.push(new zt(o[h],o[h+1],o[h+2]))}e.planePoints=s}Q(this,Oe,C2).call(this,e,t),Q(this,Oe,b2).call(this,e,t)},C2=function(e,t,r){let i;if(r===void 0&&(i=bn),t.valueType===yl&&t.relationshipType===i){const o=function(s){let l;for(const d in B4){const h=B4[d];if(h.scheme===s.schemeDesignator&&h.key===s.value){l=d;break}}return l}(t.conceptNameCode);if(o!==void 0){const s=t.value.measuredValue,l=function(d){let h;for(const f in V4){const m=V4[f];if(d.schemeDesignator==="UCUM"&&m===d.value){h=f;break}}return h}(s.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:s.numericValue,unit:l}}}},b2=function(e,t){t.valueType!==Bo&&t.valueType!==Ki||t.relationshipType!==bn||e.addMetaItem(t.conceptNameCode,t.value)},ob=function(e){return e.hasHeader(Uo,st(EP),bn)},w2=function(e){return e.hasHeader(Uo,st(RS),bn)},w7=function(e){return e.hasHeader(Bo,st(TP),Yu)},D7=function(e){return e.hasHeader(Uo,st(IP),ts)},x7=function(e){return e.hasHeader(Ki,st(AP),bn)},T7=function(e){return e.hasHeader(Bo,st(LP),bn)},P7=function(e){return e.hasHeader(yl,st(RP),bn)},I7=function(e){return e.hasHeader(Bo,st(DP),bn)},D2=function(e){return e.hasHeader(ei,st(xP),bn)},R7=function(e){return e.contentSequence.find(Q(this,Oe,D2))!==void 0},L7=function(e){let t;const r=e.contentSequence.find(Q(this,Oe,D2));if(r!==void 0){t=new Gs,t.mathShape=FS(r.value);const i=r.contentSequence.find(function(o){return o.valueType===tc&&o.relationshipType===z1});i!==void 0&&Q(this,Oe,ip).call(this,t,i);for(const o of e.contentSequence)Q(this,Oe,v2).call(this,t,o),Q(this,Oe,ib).call(this,t,o)}return t},x2=function(e){let t;return e.valueType===yl&&e.relationshipType===bn&&(t=e.contentSequence.find(function(r){return r.valueType===ei&&r.relationshipType===Yu})),t!==void 0},A7=function(e){let t;return e.valueType===yl&&e.relationshipType===ts&&(t=e.contentSequence.find(function(r){return r.valueType===ei&&r.relationshipType===Yu})),t!==void 0},O7=function(e){return e.contentSequence.find(Q(this,Oe,x2))!==void 0},E7=function(e){let t;const r=e.contentSequence.find(Q(this,Oe,x2));if(r!==void 0){t=new Gs;const i=r.contentSequence.find(function(s){return s.valueType===ei&&s.relationshipType===Yu});t.mathShape=FS(i.value),t.mathShape instanceof Re&&i.value.graphicData.length>=4&&(t.referencePoints=[new Re(i.value.graphicData[2],i.value.graphicData[3])]);const o=i.contentSequence.find(function(s){return s.valueType===tc&&s.relationshipType===z1});o!==void 0&&Q(this,Oe,ip).call(this,t,o)}if(t!==void 0)for(const i of e.contentSequence)Q(this,Oe,v2).call(this,t,i),Q(this,Oe,C2).call(this,t,r),Q(this,Oe,b2).call(this,t,i);return t},k7=function(e){let t;const r=e.contentSequence.find(Q(this,Oe,A7));if(r!==void 0){t=new Gs;const i=r.contentSequence.find(function(s){return s.valueType===ei&&s.relationshipType===Yu});t.mathShape=FS(i.value),t.mathShape instanceof Re&&i.value.graphicData.length>=4&&(t.referencePoints=[new Re(i.value.graphicData[2],i.value.graphicData[3])]);const o=i.contentSequence.find(function(s){return s.valueType===tc&&s.relationshipType===z1});o!==void 0&&Q(this,Oe,ip).call(this,t,o)}if(t!==void 0)for(const i of e.contentSequence)Q(this,Oe,v2).call(this,t,i),Q(this,Oe,C2).call(this,t,r,ts),Q(this,Oe,b2).call(this,t,i);return t},_7=function(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let r=!1,i=!1;Q(this,Oe,w2).call(this,t)&&(r=Q(this,Oe,R7).call(this,t),i=Q(this,Oe,O7).call(this,t));const o=[];let s,l=!1;for(const d of e.contentSequence)if(Q(this,Oe,w2).call(this,d)){let h;l=!0,r?h=Q(this,Oe,L7).call(this,d):i&&(h=Q(this,Oe,E7).call(this,d)),h!==void 0&&o.push(h)}return l?o.length!==0?s=new pp(o):Pe.warn("No valid measurement groups in TID 1500 SR"):Pe.warn("No measurement groups in TID 1500 SR"),s},F7=function(e){const t=[];let r=!1;for(const o of e.contentSequence)if(Q(this,Oe,w7).call(this,o)){r=!0;const s=Q(this,Oe,k7).call(this,o);s!==void 0&&t.push(s)}const i=[];return r?t.length!==0?i.push(new pp(t)):Pe.warn("No valid measurement groups in TID 4100 SR"):Pe.warn("No image findings in TID 4100 SR"),i},M7=function(e){const t=new Gs;t.mathShape=FS(e.value);for(const r of e.contentSequence)Q(this,Oe,ip).call(this,t,r),Q(this,Oe,b7).call(this,t,r),Q(this,Oe,ib).call(this,t,r,!0);return t},N7=function(e){let t;e.valueType===Uo&&YS(e.conceptNameCode,st(UC))||Pe.warn("Not the expected TID 1500 SR content header");const r=e.contentSequence.find(Q(this,Oe,ob));return r!==void 0?t=Q(this,Oe,_7).call(this,r):Pe.warn("No imaging measurements in TID 1500 SR"),t},U7=function(e){return e.valueType===Uo&&YS(e.conceptNameCode,st(PP))||Pe.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(Q(this,Oe,I7))},q7=function(e){e.valueType===Uo&&YS(e.conceptNameCode,st(RS))||console.warn("Not the expected dwv034 content header");const t=[];for(const r of e.contentSequence)r.valueType===ei&&t.push(Q(this,Oe,M7).call(this,r));return new pp(t)},ab=function(e,t){const r=function(s){return on(t,s)};e.setMetaValue("StudyInstanceUID",r("0020000D")),e.setMetaValue("StudyID",r("00200010")),e.setMetaValue("SeriesInstanceUID",r("0020000E")),e.setMetaValue("SeriesNumber",r("00200011")),e.setMetaValue("Modality",r("00080060")),e.setMetaValue("PatientName",r("00100010")),e.setMetaValue("PatientID",r("00100020")),e.setMetaValue("PatientBirthDate",r("00100030")),e.setMetaValue("PatientSex",r("00100040"));const i="0040A375",o=t[i];if(o!==void 0){const s=DW({[i]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",s.CurrentRequestedProcedureEvidenceSequence)}},Jd=function(e){const t=new Ht(tc);t.relationshipType=z1,t.conceptNameCode=st(BW);const r=new f7;r.referencedSOPClassUID=e.referencedSopClassUID,r.referencedSOPInstanceUID=e.referencedSopInstanceUID;const i=new g7;return i.referencedSOPSequence=r,e.referencedFrameNumber!==void 0&&(i.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=i,t},B7=function(e){const t=[],r=new Ht(Ki);r.relationshipType=$u,r.conceptNameCode=st(PS),r.value=e.trackingId,t.push(r);const i=new Ht(NS);if(i.relationshipType=$u,i.conceptNameCode=st(NC),i.value=e.trackingUid,t.push(i),e.textExpr!==void 0&&e.textExpr.length!==0){const l=new Ht(Ki);if(l.relationshipType=MS,l.conceptNameCode=st(OP),l.value=e.textExpr,e.labelPosition!==void 0){const d=new Ht(ei);d.relationshipType=ts,d.conceptNameCode=st(IS);const h=new B2;h.graphicType=gw;const f=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];h.graphicData=f,d.value=h;const m=Q(this,Oe,Jd).call(this,e);d.contentSequence=[m],l.contentSequence=[d]}t.push(l)}const o=new Ht(Ki);if(o.relationshipType=MS,o.conceptNameCode=_P(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const l=new Ht(ei);l.relationshipType=MS,l.conceptNameCode=st(IS);const d=new B2;d.graphicType=_S;const h=[];for(const m of e.referencePoints)h.push(m.getX().toString()),h.push(m.getY().toString());d.graphicData=h,l.value=d;const f=Q(this,Oe,Jd).call(this,e);l.contentSequence=[f],t.push(l)}if(e.planePoints!==void 0){const l=new Ht(V2);l.relationshipType=bn,l.conceptNameCode=st(kP);const d=new y7;d.graphicType=_S;const h=[];for(const m of e.planePoints)h.push(m.getX().toString()),h.push(m.getY().toString()),h.push(m.getZ().toString());d.graphicData=h,l.value=d;const f=Q(this,Oe,Jd).call(this,e);l.contentSequence=[f],t.push(l)}if(e.quantification!==void 0)for(const l in e.quantification){const d=F9(l,_a(e.quantification[l].value,12),e.quantification[l].unit);d!==void 0&&t.push(d)}const s=e.getMetaConceptIds();for(const l of s){const d=e.getMetaItem(l);let h=Ki;d.value instanceof Tp&&(h=Bo);const f=new Ht(h);f.relationshipType=bn,f.conceptNameCode=d.concept,f.value=d.value,t.push(f)}return t},V7=function(e){const t=new Ht(Uo);t.relationshipType=bn,t.conceptNameCode=st(RS),t.value=W1;const r=new Ht(ei);r.relationshipType=bn,r.conceptNameCode=st(xP),r.value=A9(e.mathShape);const i=Q(this,Oe,Jd).call(this,e);return r.contentSequence=[i],t.contentSequence=[r].concat(Q(this,Oe,B7).call(this,e)),t},G7=function(e){let t;if(e.getList().length!==0){const r=new Ht(Uo);r.conceptNameCode=st(EP),r.relationshipType=bn,r.value=W1;const i=[];for(const o of e.getList())i.push(Q(this,Oe,V7).call(this,o));r.contentSequence=i,t=new Ht(Uo),t.conceptNameCode=st(UC),t.value=W1,t.contentSequence=[r]}return t},Q7=function(e){const t=new Ht(Bo);t.relationshipType=Yu,t.conceptNameCode=st(TP),t.value=st(kW),t.contentSequence=[];const r=new Ht(Ki);r.relationshipType=$u,r.conceptNameCode=st(PS),r.value=e.trackingId,t.contentSequence.push(r);const i=new Ht(NS);if(i.relationshipType=$u,i.conceptNameCode=st(NC),i.value=e.trackingUid,t.contentSequence.push(i),e.quantification!==void 0)for(const s in e.quantification){const l=F9(s,_a(e.quantification[s].value,12),e.quantification[s].unit,ts);if(l!==void 0){const d=new Ht(ei);d.relationshipType=Yu,d.conceptNameCode=st(UW),d.value=A9(e.mathShape);const h=Q(this,Oe,Jd).call(this,e);d.contentSequence=[h],l.contentSequence=[d],t.contentSequence.push(l)}}const o=e.getMetaConceptIds();for(const s of o){const l=e.getMetaItem(s);let d=Ki;l.value instanceof Tp&&(d=Bo);const h=new Ht(d);h.relationshipType=bn,h.conceptNameCode=l.concept,h.value=l.value,t.contentSequence.push(h)}return t},z7=function(e,t){if(e.getList().length!==0)for(const r of e.getList())t.push(Q(this,Oe,Q7).call(this,r))},W7=function(e){const t=new Ht(Uo);t.relationshipType=ts,t.conceptNameCode=st(IP),t.value=W1,t.contentSequence=[];const r=new Ht(Bo);if(r.relationshipType=$u,r.conceptNameCode=st(FW),r.value=st(MW),t.contentSequence.push(r),e!==void 0){if(e.current!==void 0){const i=new Ht(Bo);i.relationshipType=bn,i.conceptNameCode=st(LP),i.value=e.current,t.contentSequence.push(i)}if(e.measure!==void 0){const i=new Ht(yl);i.relationshipType=bn,i.conceptNameCode=st(RP);const o=new fw;o.numericValue=e.measure,o.measurementUnitsCode=hL("unit.mm");const s=new pw;s.measuredValue=o,i.value=s,t.contentSequence.push(i)}}return t},j7=function(e){let t,r,i;for(const o of e.contentSequence)Q(this,Oe,T7).call(this,o)?t=o.value:Q(this,Oe,P7).call(this,o)&&(r=o.value.measuredValue.numericValue);return t!==void 0&&(i=new cH,i.current=t,r!==void 0&&(i.measure=r)),i};var Jc,Do,ed,Us,qs,Bg,Xn,H7,sb,lb,$7,Y7,X7,K7,Z7;class hH{constructor(){G(this,Xn);G(this,Jc);G(this,Do,null);G(this,ed,[]);G(this,Us,[]);G(this,qs,[]);G(this,Bg,[])}setOptions(e){z(this,Jc,e)}convert(e,t,r){this.onloadstart({source:t,index:r});const i=new oL;let o;u(this,Jc).defaultCharacterSet!==void 0&&i.setDefaultCharacterSet(u(this,Jc).defaultCharacterSet);try{i.parse(e),o=Q(this,Xn,H7).call(this,i.getDicomElements()),o.checkElements(i.getDicomElements())}catch(s){return this.onerror({error:s,source:t}),void this.onloadend({source:t})}u(this,ed)[r]=i,u(this,Bg)[r]=o,o instanceof HC?Q(this,Xn,K7).call(this,r,t):Q(this,Xn,Z7).call(this,r,t)}abort(){u(this,Do)&&u(this,Do).abort()}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}Jc=new WeakMap,Do=new WeakMap,ed=new WeakMap,Us=new WeakMap,qs=new WeakMap,Bg=new WeakMap,Xn=new WeakSet,H7=function(e){let t;const r=e["00080060"];if(r!==void 0){const i=r.value[0];i==="SEG"?t=new G4:i==="SR"&&(t=new HC)}return t===void 0&&(t=new OW),t},sb=function(e,t){const r=u(this,ed)[e].getDicomElements(),i=u(this,Bg)[e];if(i===void 0)return!1;try{const o=new dw(r);i instanceof HC?i.checkElements(r)===void 0&&(o.annotationGroup=i.create(r)):i instanceof G4?o.buffer=u(this,qs)[e]:o.image=i.create(r,u(this,qs)[e],u(this,Jc).numberOfFiles),this.onloaditem({data:o,source:t,warn:i.getWarning()})}catch(o){return this.onerror({error:o,source:t}),this.onloadend({source:t}),!1}return!0},lb=function(e,t){Q(this,Xn,sb).call(this,e,t)&&this.onload({source:t}),this.onloadend({source:t})},$7=function(e,t){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),Q(this,Xn,lb).call(this,e,t)},Y7=function(e,t,r){const i=u(this,ed)[e],o={bitsAllocated:i.getDicomElements()["00280100"].value[0],isSigned:i.getDicomElements()["00280103"].value[0]===1},s=i.getDicomElements()["00280011"],l=i.getDicomElements()["00280010"];s!==void 0&&l!==void 0&&(o.sliceSize=s.value[0]*l.value[0]);const d=i.getDicomElements()["00280002"];d!==void 0&&(o.samplesPerPixel=d.value[0]);const h=i.getDicomElements()["00280006"];h!==void 0&&(o.planarConfiguration=h.value[0]);const f=t.length;u(this,Do)===null&&(z(this,Do,new iH(r)),u(this,Do).ondecodeditem=m=>{Q(this,Xn,X7).call(this,m),m.itemNumber+1===m.numberOfItems&&(this.onload(m),this.onloadend(m))},u(this,Do).onerror=this.onerror,u(this,Do).onabort=this.onabort);for(let m=0;m<f;++m)u(this,Do).decode(t[m],o,{itemNumber:m,numberOfItems:f,index:e})},X7=function(e){this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:origin});const t=e.index,r=e.data[0];if(e.numberOfItems!==1){if(u(this,Us)[t]===void 0){u(this,Us)[t]=r.length;const i=e.numberOfItems*u(this,Us)[t];try{u(this,qs)[t]=new r.constructor(i)}catch(o){if(o instanceof RangeError){const s=Math.floor(Math.log(i)/Math.log(2));Pe.error("Cannot allocate "+r.constructor.name+" of size: "+i+" (>2^"+s+") for decompressed data.")}return u(this,Do).abort(),this.onerror({error:o,source:origin}),void this.onloadend({source:origin})}}r.length!==u(this,Us)[t]&&Pe.warn("Unsupported varying decompressed data size: "+r.length+" != "+u(this,Us)[t]),u(this,qs)[t].set(r,u(this,Us)[t]*e.itemNumber)}else u(this,qs)[t]=r;e.itemNumber===0&&Q(this,Xn,sb).call(this,t,origin)},K7=function(e,t){Q(this,Xn,lb).call(this,e,t)},Z7=function(e,t){const r=u(this,ed)[e].getDicomElements();let i=r["7FE00010"];i===void 0&&(i=r["7FE00008"]),i===void 0&&(i=r["7FE00009"]);const o=i.value;u(this,qs)[e]=o[0];const s=function(l){let d;return sw(l)?d="jpeg2000":ow(l)?d="jpeg-baseline":aw(l)?d="jpeg-lossless":iL(l)&&(d="rle"),d}(r["00020010"].value[0]);s!==void 0?Q(this,Xn,Y7).call(this,e,o,s):Q(this,Xn,$7).call(this,e,t)};var au,su,Nh,Uh,Vg,Tu,J7,eO,tO,dy,hy;class ub{constructor(){G(this,Tu);G(this,au,null);G(this,su,null);G(this,Nh,0);G(this,Uh,0);G(this,Vg);G(this,dy,e=>{Di(this,Nh)._++,u(this,Nh)===u(this,au).length&&this.onload({source:u(this,au)})});G(this,hy,e=>{Di(this,Uh)._++,u(this,Uh)===u(this,au).length&&this.onloadend({source:u(this,au)})})}getDefaultCharacterSet(){return u(this,Vg)}setDefaultCharacterSet(e){z(this,Vg,e)}load(e){if(e===void 0||e.length===0)return;Q(this,Tu,J7).call(this,e),this.onloadstart({source:e});const t=new hw(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const r=[];for(let l=0;l<rf.length;++l)r.push(new rf[l]);let i=e[0],o=null,s=!1;for(let l=0;l<r.length;++l)if(o=r[l],o.canLoadMemory(i)){s=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=u(this,dy),o.onloadend=u(this,hy),o.onerror=this.onerror,o.onabort=this.onabort,Q(this,Tu,eO).call(this,o);break}if(!s)throw new Error("No loader found for data: "+i.filename);for(let l=0;l<e.length;++l){if(i=e[l],!o.canLoadMemory(i))throw new Error("Input data of different type: "+i.filename);o.load(i.data,i.filename,l)}}abort(){u(this,su)&&u(this,su).isLoading()&&u(this,su).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}au=new WeakMap,su=new WeakMap,Nh=new WeakMap,Uh=new WeakMap,Vg=new WeakMap,Tu=new WeakSet,J7=function(e){z(this,au,e),z(this,Nh,0),z(this,Uh,0),Q(this,Tu,tO).call(this)},eO=function(e){z(this,su,e)},tO=function(){z(this,su,null)},dy=new WeakMap,hy=new WeakMap;function US(n){return parseInt(n,36).toString()}function N9(n){const e=n.data.length,t=new Uint8Array(e/4*3);let r=0;for(let i=0;i<e;i+=4)t[r]=n.data[i],t[r+1]=n.data[i+1],t[r+2]=n.data[i+2],r+=3;return t}function U9(n,e,t,r,i,o){const s=new zs([n,e,1]),l=new mu([1,1,1]),d=new zt(0,0,t),h=new Su([d],s,l),f=new hd(h,r,[o]);f.setPhotometricInterpretation("RGB");const m={BitsStored:8};return i!==void 0&&(m.numberOfFiles=i),f.setMeta(m),f}var fH=function(n){var e={};return Cr.d(e,n),e}({default:function(){return Jz}}),Gg,lu,qi,oI,td,aI,nd,sI,qh,fy,nO,lI,py,rO,uI,rd,Bh,Ra,La,Qg,cb,cI;const rf=[(oI=class{constructor(){G(this,Gg,{});G(this,lu,!1);G(this,qi,new hH)}setOptions(n){z(this,Gg,n)}isLoading(){return u(this,lu)}load(n,e,t){u(this,lu)||(u(this,qi).setOptions(u(this,Gg)),u(this,qi).onloadstart=this.onloadstart,u(this,qi).onprogress=this.onprogress,u(this,qi).onloaditem=this.onloaditem,u(this,qi).onload=this.onload,u(this,qi).onloadend=r=>{z(this,lu,!1),this.onloadend(r)},u(this,qi).onerror=r=>{r.source=e,this.onerror(r)},u(this,qi).onabort=this.onabort),z(this,lu,!0),u(this,qi).convert(n,e,t)}abort(){z(this,lu,!1),u(this,qi).abort()}canLoadFile(n){const e=pl(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const l=function(h){return h.name==="Accept"},d=e.requestHeaders.find(l);if(d!==void 0){const h="application/dicom";return zu(d.value,h)&&d.value[h.length]!=="+"}}}const t=Q1(n),r=pl(t.pathname),i=r===null,o=r==="dcm",s=t.searchParams.get("contentType");return s!=null?s==="application/dicom":i||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return is.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Gg=new WeakMap,lu=new WeakMap,qi=new WeakMap,oI),(aI=class{constructor(){G(this,td,!1)}setOptions(n){}isLoading(){return u(this,td)}load(n,e,t){z(this,td,!0),this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const r={data:n,source:e};this.onloaditem(r),this.onload(r)}catch(r){this.onerror({error:r,source:e})}finally{z(this,td,!1),this.onloadend({source:e})}}abort(){z(this,td,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return pl(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return zu(r.value,"application/json")||zu(r.value,"application/dicom+json")}}return pl(Q1(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return is.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},td=new WeakMap,aI),(sI=class{constructor(){G(this,nd,!1)}setOptions(n){}isLoading(){return u(this,nd)}load(n,e,t){this.onloadstart({source:e}),z(this,nd,!0);const r=new ub;r.onprogress=i=>{i.loaded=50+i.loaded/2,i.index=t,this.onprogress(i)},r.onloaditem=this.onloaditem,r.onload=this.onload,r.onloadend=i=>{z(this,nd,!1),this.onloadend(i)},r.onerror=this.onerror,r.onabort=this.onabort,r.load(function(i){const o=new Uint8Array(i),s=[];if(o.length===0)return s;const l=tP(new Uint8Array([13,10,13,10]));let d=xS(o,l,0);if(d===void 0)throw new Error("Can't find the end of the first multipart header");const h=eP(o.slice(0,d)).split(`\r
`);let f;for(let S=0;S<h.length;++S)if(h[S][0]==="-"&&h[S][1]==="-"){f=h[S];break}if(f===void 0)throw new Error("Can't find the boundary between multi-parts");const m=tP(pW(f)),v=f.length;let g=xS(o,m,0);for(;d!==void 0;){const S={},y=eP(o.slice(g+v,d)).split(`\r
`);for(let w=0;w<y.length;++w){const b=y[w],T=b.indexOf(":");if(T!==-1){const P=b.substring(0,T).trim(),A=b.substring(T+1).trim();S[P]=A}}if(g=xS(o,m,d),g===void 0)break;const C=d+4,x=g-2;S.data=C<x?o.slice(C,x).buffer:new Uint8Array,s.push(S),d=xS(o,l,g+v)}return s}(n))}abort(){z(this,nd,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return zu(r.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return is.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},nd=new WeakMap,sI),(lI=class{constructor(){G(this,fy);G(this,qh,!1)}setOptions(n){}isLoading(){return!0}load(n,e,t){z(this,qh,!1);const r=new Image;if(r.onload=()=>{try{if(!u(this,qh)){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i=function(o,s,l){const d=o.width,h=o.height,f=document.createElement("canvas");f.width=d,f.height=h;const m=f.getContext("2d");m.drawImage(o,0,0);const v=m.getImageData(0,0,d,h),g={};let S;typeof s=="string"?(g.origin={value:s},S=US(s)):(g.fileName={value:s.name},S=US(s.name),g.fileType={value:s.type},g.fileLastModifiedDate={value:s.lastModified}),g.imageWidth={value:d},g.imageHeight={value:h};const y=l||0;g.imageUid={value:y},g.seriesUid={value:S};const C=U9(d,h,y,N9(v),1,y.toString()),x=C.getMeta();return x.SeriesInstanceUID=S,C.setMeta(x),{data:{image:C,meta:g},source:s}}(r,e,t);this.onloaditem(i),this.onload(i)}}catch(i){this.onerror({error:i,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")r.src=n;else if(typeof e=="string"){const i=e.split(".").pop().toLowerCase();r.src=Q(this,fy,nO).call(this,n,i)}}abort(){z(this,qh,!0),this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const s=function(d){return d.name==="Accept"},l=e.requestHeaders.find(s);if(l!==void 0)return zu(l.value,"image/")}}const t=Q1(n),r=pl(t.pathname),i=r==="jpeg"||r==="jpg"||r==="png"||r==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":i}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return is.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},qh=new WeakMap,fy=new WeakSet,nO=function(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const r=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(r)},lI),(uI=class{constructor(){G(this,py)}setOptions(n){}isLoading(){return!0}load(n,e,t){const r=document.createElement("video");if(typeof e=="string"){const i=e.split(".").pop().toLowerCase();r.src=Q(this,py,rO).call(this,n,i)}else r.src=n;r.onloadedmetadata=i=>{try{(function(o,s,l,d,h,f,m){const v=o.videoWidth,g=o.videoHeight,S=Math.ceil(30*o.duration),y={};let C;typeof f=="string"?(y.origin={value:f},C=US(f)):(y.fileName={value:f.name},C=US(f.name),y.fileType={value:f.type},y.fileLastModifiedDate={value:f.lastModified}),y.imageWidth={value:v},y.imageHeight={value:g},y.numberOfFrames={value:S},y.imageUid={value:0},y.seriesUid={value:C};const x=document.createElement("canvas");x.width=v,x.height=g;const w=x.getContext("2d");o.addEventListener("seeked",function A(F){(function(){d({lengthComputable:!0,loaded:b,total:S,index:m,source:f}),w.drawImage(o,0,0);const E=N9(w.getImageData(0,0,v,g));if(b===0){T=U9(v,g,1,E,S,m.toString());const k=T.getMeta();k.SeriesInstanceUID=C,T.setMeta(k),s({data:{image:T,meta:y},source:f})}else T.appendFrameBuffer(E,b);++b})(),P+=1/30,P<=F.target.duration?this.currentTime=P:(l({source:f}),h({source:f}),o.removeEventListener("seeked",A))},!1);let b=0,T=null,P=0;o.currentTime=P})(i.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const r=function(o){return o.name==="Accept"},i=e.requestHeaders.find(r);if(i!==void 0)return zu(i.value,"video/")}}const t=pl(Q1(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return is.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},py=new WeakSet,rO=function(n,e){const t=new Uint8Array(n);let r="";for(let i=0;i<t.byteLength;++i)r+=String.fromCharCode(t[i]);return"data:video/"+e+";base64,"+window.btoa(r)},uI),(cI=class{constructor(){G(this,Qg);G(this,rd,!1);G(this,Bh,"");G(this,Ra,[]);G(this,La,null)}setOptions(n){}isLoading(){return u(this,rd)}load(n,e,t){this.onloadstart({source:e}),z(this,rd,!0),fH.default.loadAsync(n).then(r=>{z(this,Ra,[]),z(this,La,r.file(/.*\.dcm/));const i=u(this,Ra).length;z(this,Bh,u(this,La)[i].name),u(this,La)[i].async("arrayBuffer").then(o=>{Q(this,Qg,cb).call(this,o,e,t)})})}abort(){z(this,rd,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return pl(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return zu(r.value,"application/zip")}}return pl(Q1(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return is.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},rd=new WeakMap,Bh=new WeakMap,Ra=new WeakMap,La=new WeakMap,Qg=new WeakSet,cb=function(n,e,t){u(this,Ra).push({filename:u(this,Bh),data:n});const r=100*u(this,Ra).length/u(this,La).length;if(this.onprogress({lengthComputable:!0,loaded:r/2,total:100,index:t,item:{loaded:r,total:100,source:e}}),u(this,Ra).length<u(this,La).length){const i=u(this,Ra).length;z(this,Bh,u(this,La)[i].name),u(this,La)[i].async("arrayBuffer").then(o=>{Q(this,Qg,cb).call(this,o,e,t)})}else{const i=new ub;i.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=o=>{z(this,rd,!1),this.onloadend(o)},i.onerror=this.onerror,i.onabort=this.onabort,i.load(u(this,Ra))}},cI)],is={Text:0,ArrayBuffer:1,DataURL:2};var uu,cu,du,Vh,Gh,zg,cr,iO,oO,aO,sO,lO,gy,Qh,T2,uO;class q9{constructor(){G(this,cr);G(this,uu,null);G(this,cu,[]);G(this,du,null);G(this,Vh,0);G(this,Gh,0);G(this,zg);G(this,gy,e=>{Di(this,Vh)._++,u(this,Vh)===u(this,uu).length&&this.onload({source:u(this,uu)})});G(this,Qh,e=>{Di(this,Gh)._++,u(this,Gh)===u(this,uu).length&&this.onloadend({source:u(this,uu)})})}getDefaultCharacterSet(){return u(this,zg)}setDefaultCharacterSet(e){z(this,zg,e)}load(e){if(e===void 0||e.length===0)return;Q(this,cr,iO).call(this,e),this.onloadstart({source:e});const t=new hw(this.onprogress);t.setNToLoad(e.length);const r=[];for(let l=0;l<rf.length;++l)r.push(new rf[l]);let i=e[0],o=null,s=!1;for(let l=0;l<r.length;++l)if(o=r[l],o.canLoadFile(i)){s=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=u(this,gy),o.onloadend=u(this,Qh),o.onerror=this.onerror,o.onabort=this.onabort,Q(this,cr,sO).call(this,o);break}if(!s)throw new Error("No loader found for file: "+i.name);for(let l=0;l<e.length;++l){if(i=e[l],!o.canLoadFile(i))throw new Error("Input file of different type: "+i);const d=new FileReader;Q(this,cr,oO).call(this,d),d.onprogress=Q(this,cr,T2).call(this,t.getMonoProgressHandler(l,0),i),d.onload=Q(this,cr,uO).call(this,o,i,l);const h=Q(this,cr,T2).call(this,this.onerror,i);d.onerror=m=>{u(this,Qh).call(this),h(m)};const f=Q(this,cr,T2).call(this,this.onabort,i);d.onabort=m=>{u(this,Qh).call(this),f(m)},o.loadFileAs()===is.Text?d.readAsText(i):o.loadFileAs()===is.DataURL?d.readAsDataURL(i):o.loadFileAs()===is.ArrayBuffer&&d.readAsArrayBuffer(i)}}abort(){for(let e=0;e<u(this,cu).length;++e)u(this,cu)[e].readyState===1&&u(this,cu)[e].abort();u(this,du)&&u(this,du).isLoading()&&u(this,du).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}uu=new WeakMap,cu=new WeakMap,du=new WeakMap,Vh=new WeakMap,Gh=new WeakMap,zg=new WeakMap,cr=new WeakSet,iO=function(e){z(this,uu,e),z(this,Vh,0),z(this,Gh,0),Q(this,cr,aO).call(this),Q(this,cr,lO).call(this)},oO=function(e){u(this,cu).push(e)},aO=function(){z(this,cu,[])},sO=function(e){z(this,du,e)},lO=function(){z(this,du,null)},gy=new WeakMap,Qh=new WeakMap,T2=function(e,t){return r=>{r.source=t,e(r)}},uO=function(e,t,r){return i=>{e.load(i.target.result,t,r)}};var zh,pi,rn,cO,dO,hO,fO,e0,rs;class pH{constructor(e){G(this,rn);G(this,zh);G(this,pi,{});z(this,zh,e)}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?Q(this,rn,hO).call(this,e[0],t):Q(this,rn,cO).call(this,e,t)}loadURLs(e,t,r){e[0].split(".").pop().toLowerCase()==="json"?Q(this,rn,fO).call(this,e[0],t,r):Q(this,rn,dO).call(this,e,t,r)}loadImageObject(e,t){const r=new ub;Q(this,rn,e0).call(this,e,r,"image",t)}getLoadingDataIds(){return Object.keys(u(this,pi))}abort(e){u(this,pi)[e]!==void 0&&(u(this,pi)[e].loader.abort(),delete u(this,pi)[e])}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}zh=new WeakMap,pi=new WeakMap,rn=new WeakSet,cO=function(e,t){const r=new q9;r.setDefaultCharacterSet(u(this,zh)),Q(this,rn,e0).call(this,e,r,"image",t)},dO=function(e,t,r){const i=new h9;i.setDefaultCharacterSet(u(this,zh)),Q(this,rn,e0).call(this,e,i,"image",t,r)},hO=function(e,t){const r=new q9;Q(this,rn,e0).call(this,[e],r,"state",t)},fO=function(e,t,r){const i=new h9;Q(this,rn,e0).call(this,[e],i,"state",t,r)},e0=function(e,t,r,i,o){const s={loadtype:r,dataid:i};t.onloadstart=l=>{u(this,pi)[i]={loader:t,isFirstItem:!0},Q(this,rn,rs).call(this,this.onloadstart,s)(l)},t.onprogress=Q(this,rn,rs).call(this,this.onprogress,s),t.onloaditem=l=>{const d={loadtype:r,dataid:i};u(this,pi)[i]!==void 0&&(d.isfirstitem=u(this,pi)[i].isFirstItem),Q(this,rn,rs).call(this,this.onloaditem,d)(l),u(this,pi)[i]!==void 0&&u(this,pi)[i].isFirstItem&&(u(this,pi)[i].isFirstItem=!1)},t.onload=Q(this,rn,rs).call(this,this.onload,s),t.onloadend=l=>{delete u(this,pi)[i],Q(this,rn,rs).call(this,this.onloadend,s)(l)},t.onerror=Q(this,rn,rs).call(this,this.onerror,s),t.onabort=Q(this,rn,rs).call(this,this.onabort,s),t.ontimeout!==void 0&&(t.ontimeout=Q(this,rn,rs).call(this,this.ontimeout,s));try{t.load(e,o)}catch(l){return this.onerror({error:l,dataid:i}),void this.onloadend({dataid:i})}},rs=function(e,t){return function(r){const i=Object.keys(t);for(let o=0;o<i.length;++o){const s=i[o];r[s]=t[s]}e(r)}};function gH(n){return function(e){return Number(e).toPrecision(n)}}function B9(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function $C(n,e){let t=n;for(let r=0;r<e.length;++r)t=t.replace("{v"+r+"}",e[r]);return t}var hu,Wh,fu,Bs,jh,id,Vs,Hh,Wg,$h,my,pO;class mH{constructor(e,t,r){G(this,my);G(this,hu);G(this,Wh);G(this,fu);G(this,Bs,[]);G(this,jh);G(this,id,[]);G(this,Vs);G(this,Hh,new Gi);G(this,Wg,e=>{e.dataid===u(this,Wh)&&e.data!==void 0&&e.data.imageUid!==void 0&&u(this,Vs)!==e.data.imageUid&&(z(this,Vs,e.data.imageUid),u(this,$h).call(this,e))});G(this,$h,e=>{if(e.dataid!==u(this,Wh))return;const t=u(this,id)[u(this,Vs)];if(t!==void 0){for(let r=0;r<t.length;++r){let i;if(t[r].tags!==void 0)e.type==="positionchange"&&(i=t[r].value);else if(t[r].event!==void 0&&t[r].event===e.type){const o=t[r].format;let s=e.value;if(t[r].precision!==void 0){let l=null;l=t[r].precision==="round"?Math.round:gH(t[r].precision),s=s.map(l)}i=$C(o,s)}i!==void 0&&(t[r].value=i)}Q(this,my,pO).call(this,{type:"valuechange",data:t})}else console.warn("No slice overlay data for: "+u(this,Vs))});z(this,hu,e),z(this,Wh,t),z(this,fu,r);const i=Object.keys(u(this,fu));for(let o=0;o<i.length;++o){const s=u(this,fu)[i[o]];for(let l=0;l<s.length;++l){const d=s[l].event;d!==void 0&&(u(this,Bs).includes(d)||u(this,Bs).push(d))}}this.addAppListeners()}reset(){z(this,id,[]),z(this,Vs,void 0)}addItemMeta(e){let t;if(e["00020010"]!==void 0)t=e["00080018"]!==void 0?e["00080018"].value[0]:e.length,u(this,id)[t]=function(r,i){const o=[];let s;const l=r["00080060"];if(l===void 0)return o;s=l.value[0];const d=i[s]||i["*"];if(!d)return o;for(let f=0;f<d.length;++f){const m=JSON.parse(JSON.stringify(d[f])),v=m.tags;if(v!==void 0&&v.length!==0){const g=[];for(let S=0;S<v.length;++S)r[v[S]]!==void 0?g.push(r[v[S]].value):g.push("");m.format!==void 0&&m.format!==null||(m.format=B9(g.length)),m.value=$C(m.format,g).trim()}o.push(m)}const h=r["00200020"];if(h!==void 0&&h.value.length===2){const f=h.value[0],m=h.value[1];o.push({pos:"cr",value:f,format:"{v0}"}),o.push({pos:"cl",value:lP(f),format:"{v0}"}),o.push({pos:"bc",value:m,format:"{v0}"}),o.push({pos:"tc",value:lP(m),format:"{v0}"})}return o}(e,u(this,fu));else{const r=Object.keys(e);for(let i=0;i<r.length;++i){const o=e[r[i]];if(r[i]==="imageUid"){t=o.value;break}}u(this,id)[t]=function(i,o){const s=[],l=o.DOM;if(!l)return s;const d=Object.keys(i);for(let h=0;h<l.length;++h){const f=JSON.parse(JSON.stringify(l[h])),m=f.tags;if(m!==void 0&&m.length!==0){const v=[];for(let g=0;g<m.length;++g)for(let S=0;S<d.length;++S)m[g]===d[S]&&v.push(i[d[S]].value);f.format!==void 0&&f.format!==null||(f.format=B9(v.length)),f.value=$C(f.format,v).trim()}s.push(f)}return s}(e,u(this,fu))}z(this,Vs,t)}isListening(){return u(this,jh)}addAppListeners(){u(this,hu).addEventListener("positionchange",u(this,Wg));for(let e=0;e<u(this,Bs).length;++e)u(this,hu).addEventListener(u(this,Bs)[e],u(this,$h));z(this,jh,!0)}removeAppListeners(){u(this,hu).removeEventListener("positionchange",u(this,Wg));for(let e=0;e<u(this,Bs).length;++e)u(this,hu).removeEventListener(u(this,Bs)[e],u(this,$h));z(this,jh,!1)}addEventListener(e,t){u(this,Hh).add(e,t)}removeEventListener(e,t){u(this,Hh).remove(e,t)}}hu=new WeakMap,Wh=new WeakMap,fu=new WeakMap,Bs=new WeakMap,jh=new WeakMap,id=new WeakMap,Vs=new WeakMap,Hh=new WeakMap,Wg=new WeakMap,$h=new WeakMap,my=new WeakSet,pO=function(e){u(this,Hh).fireEvent(e)};class gO{constructor(e){ae(this,"divId");ae(this,"orientation");ae(this,"colourMap");ae(this,"opacity");ae(this,"wlPresetName");ae(this,"windowCenter");ae(this,"windowWidth");this.divId=e}}var Ot,Tt,gi,yr,tt,Pn,Sy,Aa,Yh,Kn,db,hb,wt,yy,vy,Cy,by,wy,Dy,xy,Ty,mO,SO,yO,fb,pb;class SH{constructor(){G(this,Kn);G(this,Ot,null);G(this,Tt,null);G(this,gi,null);G(this,yr,null);G(this,tt,null);G(this,Pn,null);G(this,Sy,new q2);G(this,Aa,{});G(this,Yh,new Gi);ae(this,"addToUndoStack",e=>{u(this,Pn)!==null&&u(this,Pn).add(e)});ae(this,"removeFromUndoStack",e=>{let t=!1;return u(this,Pn)!==null&&(t=u(this,Pn).remove(e)),t});ae(this,"loadFiles",e=>{if(e.length===0)return Pe.warn("Ignoring empty input file list."),"-1";const t=u(this,Tt).getNextDataId();return u(this,yr).loadFiles(e,t),t});ae(this,"loadURLs",(e,t)=>{if(e.length===0)return Pe.warn("Ignoring empty input url list."),"-1";const r=u(this,Tt).getNextDataId();return u(this,yr).loadURLs(e,r,t),r});ae(this,"loadFromUri",(e,t)=>{const r=function(o){const s=c9(o);return Object.keys(s).length===0?null:s.query}(e),i=()=>{this.removeEventListener("loadend",i),this.loadURLs([r.state])};r&&r.input!==void 0&&(r.state!==void 0&&this.addEventListener("loadend",i),function(o,s,l){o.type&&o.type==="manifest"?function(d,h){let f="";d.input[0]==="/"&&(f=window.location.protocol+"//"+window.location.host),f+=d.input;const m=new XMLHttpRequest;m.open("GET",decodeURIComponent(f),!0),m.responseType="document",m.onload=function(v){h(function(g,S){const y=[],C=g.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",x=g.getElementsByTagName("Patient");x.length>1&&Pe.warn("More than one patient, loading first one.");const w=x[0].getElementsByTagName("Study");w.length>1&&Pe.warn("More than one study, loading first one.");const b=w[0].getAttribute("StudyInstanceUID"),T=w[0].getElementsByTagName("Series");T.length>1&&Pe.warn("More than one series, loading first one.");const P=T[0].getAttribute("SeriesInstanceUID"),A=T[0].getElementsByTagName("Instance");let F=A.length;S<F&&(F=S);for(let E=0;E<F;++E){const k=C+"&studyUID="+b+"&seriesUID="+P+"&objectUID="+A[E].getAttribute("SOPInstanceUID");y.push(k)}return y}(v.target.responseXML,d.nslices))},m.onerror=function(v){Pe.warn("RequestError while receiving manifest: "+v.target.status)},m.send(null)}(o,s):s(function(d,h){const f=[];let m="key";h&&(m=h);const v=decodeURIComponent(d),g=c9(v);if(Object.keys(g).length===0)f.push(v);else{const S=Object.keys(g.query);let y=null;for(let C=0;C<S.length;++C)if(g.query[S[C]]instanceof Array){y=S[C];break}if(y){const C=g.query[y];let x=g.base;x!==""&&y!=="file"&&(x+="?");let w,b=!1;for(let T=0;T<S.length;++T)S[T]!==y&&(b&&(x+="&"),x+=S[T]+"="+g.query[S[T]],b=!0);for(let T=0;T<C.length;++T)w=x,b&&(w+="&"),m==="key"&&(w+=y+"="),w+=C[T],f.push(w)}else f.push(v)}return f}(o.input,o.dwvReplaceMode),l)}(r,this.loadURLs,t))});ae(this,"loadImageObject",e=>{const t=u(this,Tt).getNextDataId();return u(this,yr).loadImageObject(e,t),t});ae(this,"onResize",()=>{this.fitToContainer()});ae(this,"onKeydown",e=>{u(this,wt).call(this,e)});ae(this,"defaultOnKeydown",e=>{if(e.ctrlKey){if(e.shiftKey){const t=u(this,tt).getActiveLayerGroup(),r=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&r.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&r.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&r.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&r.decrementPositionAlongScroll()}else if(e.key==="y")u(this,Pn).redo();else if(e.key==="z")u(this,Pn).undo();else if(e.key===" ")for(let t=0;t<u(this,tt).getNumberOfLayerGroups();++t)u(this,tt).getLayerGroup(t).setShowCrosshair(!u(this,tt).getLayerGroup(t).getShowCrosshair())}});G(this,wt,e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&u(this,Yh).fireEvent(e)});G(this,yy,e=>{u(this,Ot).overlayConfig!==void 0&&(u(this,Aa)[e.dataid]=new mH(this,e.dataid,u(this,Ot).overlayConfig)),e.type="loadstart",u(this,wt).call(this,e)});G(this,vy,e=>{e.type="loadprogress",u(this,wt).call(this,e)});G(this,Cy,e=>{let t;e.data===void 0&&Pe.error("Missing loaditem event data."),e.loadtype===void 0&&Pe.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state"),u(this,wt).call(this,{type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn});const r=e.isfirstitem;e.loadtype==="image"?r?u(this,Tt).add(e.dataid,e.data):u(this,Tt).update(e.dataid,e.data):e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid),u(this,Aa)!==void 0&&u(this,Aa)[e.dataid]!==void 0&&u(this,Aa)[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&r&&u(this,Ot).viewOnFirstLoadItem&&this.render(e.dataid)});G(this,by,e=>{e.type="load",u(this,wt).call(this,e)});G(this,wy,e=>{e.type="loadend",u(this,wt).call(this,e)});G(this,Dy,e=>{e.type===void 0&&(e.type="error"),u(this,wt).call(this,e)});G(this,xy,e=>{e.type===void 0&&(e.type="timeout"),u(this,wt).call(this,e)});G(this,Ty,e=>{e.type===void 0&&(e.type="abort"),u(this,wt).call(this,e)})}getData(e){return u(this,Tt).get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){u(this,Tt).setImage(e,t)}addData(e){const t=u(this,Tt).getNextDataId();return u(this,Tt).add(t,e),t}getMetaData(e){let t;return u(this,Tt).get(e)!==void 0&&(t=u(this,Tt).get(e).meta),t}getDataIds(){return u(this,Tt).getDataIds()}getDataIdsFromSopUids(e){return u(this,Tt).getDataIdsFromSopUids(e)}canScroll(){return u(this,tt).getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return u(this,tt).getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return u(this,tt).getActiveLayerGroup().getAddedScale()}getBaseScale(){return u(this,tt).getActiveLayerGroup().getBaseScale()}getOffset(){return u(this,tt).getActiveLayerGroup().getOffset()}getToolboxController(){return u(this,gi)}getActiveLayerGroup(){return u(this,tt).getActiveLayerGroup()}setActiveLayerGroup(e){u(this,tt).setActiveLayerGroup(e)}getViewLayersByDataId(e){return u(this,tt).getViewLayersByDataId(e)}getViewLayers(e){return u(this,tt).getViewLayers(e)}getDrawLayersByDataId(e){return u(this,tt).getDrawLayersByDataId(e)}getDrawLayers(e){return u(this,tt).getDrawLayers(e)}getLayerGroupByDivId(e){return u(this,tt).getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return u(this,tt).getNumberOfLayerGroups()}getStyle(){return u(this,Sy)}init(e){if(z(this,Ot,e),u(this,Ot).viewOnFirstLoadItem===void 0&&(u(this,Ot).viewOnFirstLoadItem=!0),u(this,Ot).dataViewConfigs===void 0&&(u(this,Ot).dataViewConfigs={}),u(this,Ot).rootDocument===void 0&&(u(this,Ot).rootDocument=document),z(this,Pn,new d9),u(this,Pn).addEventListener("undoadd",u(this,wt)),u(this,Pn).addEventListener("undo",u(this,wt)),u(this,Pn).addEventListener("redo",u(this,wt)),u(this,Ot).tools!==void 0){const t={},r=Object.keys(u(this,Ot).tools);for(let i=0;i<r.length;++i){const o=r[i];let s=Nj[o];if(s===void 0&&(s=Mj[o]),s!==void 0){if(t[o]=new s(this),t[o].addEventListener!==void 0){const d=t[o].getEventNames();for(let h=0;h<d.length;++h)t[o].addEventListener(d[h],u(this,wt))}const l=u(this,Ot).tools[o];if(l.options!==void 0&&l.options.length!==0){let d,h="raw";if(t[o].getOptionsType!==void 0&&(h=t[o].getOptionsType()),h==="instance"||h==="factory"){d={};for(let f=0;f<l.options.length;++f){const m=l.options[f];let v=m;h==="factory"&&(v+="Factory");const g=o.charAt(0).toLowerCase()+o.slice(1);let S,y=t2[g];y!==void 0&&(S=y[v]),S===void 0&&(y=T3[g],y!==void 0&&(S=y[v])),S!==void 0?d[m]=S:Pe.warn("Could not find option class for: "+m)}}else d=l.options;t[o].setOptions(d)}}else Pe.warn("Could not initialise unknown tool: "+o)}z(this,gi,new Jj(t))}z(this,yr,new pH(u(this,Ot).defaultCharacterSet)),u(this,yr).onloadstart=u(this,yy),u(this,yr).onprogress=u(this,vy),u(this,yr).onloaditem=u(this,Cy),u(this,yr).onload=u(this,by),u(this,yr).onloadend=u(this,wy),u(this,yr).onerror=u(this,Dy),u(this,yr).ontimeout=u(this,xy),u(this,yr).onabort=u(this,Ty),z(this,Tt,new lj),u(this,Tt).addEventListener("dataadd",u(this,wt)),u(this,Tt).addEventListener("dataremove",u(this,wt)),u(this,Tt).addEventListener("dataimageset",u(this,wt)),u(this,Tt).addEventListener("dataupdate",u(this,wt)),u(this,Tt).addEventListener("imagecontentchange",u(this,wt)),u(this,Tt).addEventListener("imagegeometrychange",u(this,wt)),u(this,Tt).addEventListener("annotationadd",u(this,wt)),u(this,Tt).addEventListener("annotationupdate",u(this,wt)),u(this,Tt).addEventListener("annotationremove",u(this,wt)),u(this,Tt).addEventListener("annotationgroupeditablechange",u(this,wt)),z(this,tt,new Kj),u(this,Ot).binders!==void 0&&u(this,tt).setBinders(u(this,Ot).binders)}reset(){u(this,tt).empty(),z(this,Aa,{}),u(this,Pn)&&(z(this,Pn,new d9),u(this,Pn).addEventListener("undoadd",u(this,wt)),u(this,Pn).addEventListener("undo",u(this,wt)),u(this,Pn).addEventListener("redo",u(this,wt)))}resetLayout(){u(this,tt).reset(),u(this,tt).draw()}resetZoomPan(){u(this,tt).resetZoomPan(),u(this,tt).draw()}resetViews(){u(this,tt).resetViews()}addEventListener(e,t){u(this,Yh).add(e,t)}removeEventListener(e,t){u(this,Yh).remove(e,t)}abortAllLoads(){const e=u(this,yr).getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){u(this,yr).abort(e),u(this,Tt).remove(e),u(this,tt).removeLayersByDataId(e)}fitToContainer(){u(this,tt).fitToContainer()}initWLDisplay(){u(this,tt).getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){u(this,tt).setImageSmoothing(e),u(this,tt).draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),u(this,Ot).dataViewConfigs===null||u(this,Ot).dataViewConfigs===void 0)throw new Error("No available data view configuration");let r=[];return u(this,Ot).dataViewConfigs[e]!==void 0?r=u(this,Ot).dataViewConfigs[e]:t||u(this,Ot).dataViewConfigs["*"]===void 0||(r=u(this,Ot).dataViewConfigs["*"]),r}getViewConfig(e,t,r){return this.getViewConfigs(e,r).find(function(i){return i.divId===t})}getDataViewConfigs(){return u(this,Ot).dataViewConfigs}setDataViewConfigs(e){u(this,tt).empty(),u(this,Ot).dataViewConfigs=e,Q(this,Kn,db).call(this,e)}addDataViewConfig(e,t){const r=u(this,Ot).dataViewConfigs;if(r[e]===void 0&&(r[e]=[]),r[e].findIndex(function(i){return i.divId===t.divId})!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);u(this,Ot).dataViewConfigs[e].push(t),u(this,tt).getLayerGroupByDivId(t.divId)===void 0&&Q(this,Kn,hb).call(this,t),u(this,Tt).get(e)!==void 0&&this.render(e,[t])}removeDataViewConfig(e,t){const r=u(this,Ot).dataViewConfigs;if(r[e]===void 0)return;const i=r[e].findIndex(function(s){return s.divId===t});if(i===-1)return;r[e].splice(i,1),r[e].length===0&&delete r[e];const o=u(this,tt).getLayerGroupByDivId(t);if(o!==void 0){const s=o.getViewLayersByDataId(e);s.length===1&&o.removeLayer(s[0]);const l=o.getDrawLayersByDataId(e);l.length===1&&o.removeLayer(l[0]),o.getNumberOfLayers()===0&&u(this,tt).removeLayerGroup(o)}}updateDataViewConfig(e,t,r){const i=u(this,Ot).dataViewConfigs;if(i[e]===void 0)throw new Error("No config for dataId: "+e);const o=i[e].findIndex(function(d){return d.divId===t});if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const s=i[e][o];for(const d in r)s[d]=r[d];const l=u(this,tt).getLayerGroupByDivId(s.divId);if(l!==void 0){const d=l.getViewLayersByDataId(e);d.length===1&&l.removeLayer(d[0]);const h=l.getDrawLayersByDataId(e);h.length===1&&l.removeLayer(h[0])}u(this,Tt).get(e)!==void 0&&this.render(e,[s])}setLayerGroupsBinders(e){const t=[];for(let r=0;r<e.length;++r)l9[e[r]]!==void 0&&t.push(new l9[e[r]]);u(this,tt).setBinders(t)}render(e,t){if(e==null)throw new Error("Cannot render without data id");const r=this.getData(e).image!==void 0,i=this.getData(e).annotationGroup!==void 0;if(u(this,tt).getNumberOfLayerGroups()===0&&Q(this,Kn,db).call(this,u(this,Ot).dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let o=0;o<t.length;++o){const s=t[o],l=u(this,tt).getLayerGroupByDivId(s.divId);if(!l)throw new Error("No layer group for "+s.divId);u(this,Tt).get(e)!==void 0&&(r&&l.getViewLayersByDataId(e).length===0?Q(this,Kn,SO).call(this,e,s):i&&l.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,s)),l.draw()}else Pe.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,r){const i=u(this,tt).getActiveLayerGroup(),o=i.getBaseViewLayer().getViewController().getCurrentScrollPosition(),s=new zt(t,r,o);i.addScale(e,s),i.draw()}translate(e,t){const r=u(this,tt).getActiveLayerGroup();r.addTranslation({x:e,y:t,z:0}),r.draw()}setOpacity(e){const t=u(this,tt).getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,r){const i=u(this,tt).getActiveLayerGroup().getBaseViewLayer(),o=i.getDataId(),s=this.getData(o),l=i.getViewController(),d=function(f,m,v){const g=[],S=Fe.default.Node.create(f).getChildren(bL);for(let y=0,C=S.length;y<C;++y){const x=S[y],w=x.getChildren();for(let b=0,T=w.length;b<T;++b){const P=new Gs,A=new kt(Yj(x.id()));P.referencedSopInstanceUID=v.getImageUid(A);const F=w[0];P.trackingId=F.id(),P.trackingUid=F.id();const E=F.getChildren(yu)[0];if(P.colour=E.stroke(),F.name()==="line-group"){const k=E.points();P.mathShape=new Re(k[0],k[1]),P.referencePoints=[new Re(k[2],k[3])]}else if(F.name()==="ruler-group"){const k=E.points();P.mathShape=new Yt(new Re(k[0],k[1]),new Re(k[2],k[3]))}else if(F.name()==="rectangle-group")P.mathShape=new ic(new Re(E.x(),E.y()),new Re(E.x()+E.width(),E.y()+E.height()));else if(F.name()==="roi-group"){const k=E.points(),R=[];for(let U=0;U<k.length;U+=2)R.push(new Re(k[U],k[U+1]));P.mathShape=new Jo(R)}else if(F.name()==="freeHand-group"){Pe.warn("Converting freehand into ROI shape");const k=E.points(),R=[];for(let U=0;U<k.length;U+=2)R.push(new Re(k[U],k[U+1]));P.mathShape=new Jo(R)}else if(F.name()==="protractor-group"){const k=E.points();P.mathShape=new oc([new Re(k[0],k[1]),new Re(k[2],k[3]),new Re(k[4],k[5])])}else if(F.name()==="ellipse-group"){const k=E.absolutePosition();P.mathShape=new ac(new Re(k.x,k.y),E.radiusX(),E.radiusY())}else if(F.name()==="circle-group"){const k=E.absolutePosition();P.mathShape=new sc(new Re(k.x,k.y),E.radius())}if(m){const k=m[F.id()];P.textExpr=k.meta.textExpr,P.quantification=k.meta.quantification}g.push(P)}}return g}(e,t,s.image),h=this.createAnnotationData(o);for(const f of d)f.setViewController(l),h.annotationGroup.add(f);u(this,Tt).add(r,h),this.render(r)}applyJsonState(e,t){const r=new Zj(t);r.apply(this,r.fromJSON(e))}resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){u(this,tt).getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){u(this,tt).getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<u(this,tt).getNumberOfLayerGroups();++t){const r=u(this,tt).getLayerGroup(t),i=r.getActiveLayer();i!==void 0&&u(this,gi).bindLayerGroup(r,i)}u(this,gi).setSelectedTool(e)}setToolFeatures(e){u(this,gi).setToolFeatures(e)}undo(){u(this,Pn).undo()}redo(){u(this,Pn).redo()}getStackSize(){return u(this,Pn).getStackSize()}getCurrentStackIndex(){return u(this,Pn).getCurrentStackIndex()}getOverlayData(e){let t;return u(this,Aa)!==void 0&&(t=u(this,Aa)[e]),t}toggleOverlayListeners(e){const t=this.getOverlayData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),r=new dw({});r.annotationGroup=new pp,r.annotationGroup.setMetaValue("Modality","SR");const i=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of i)r.annotationGroup.setMetaValue(o,t[o]);return r.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),r}addAndRenderAnnotationData(e,t,r){const i=this.addData(e),o=this.getViewConfigs(r).find(l=>l.divId===t);if(o===void 0)throw new Error("No reference data view config for draw");const s=new gO(t);s.orientation=o.orientation,this.addDataViewConfig(i,s),this.render(i)}addDrawLayer(e,t){const r=u(this,tt).getLayerGroupByDivId(t.divId);if(!r)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const i=u(this,Tt).get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=i.annotationGroup,s=Q(this,Kn,yO).call(this,o,r);if(s===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const l=s.getDataId();u(this,tt).unbindLayerGroups();const d=s.getViewController();i.annotationGroup.setViewController(d);const h=u(this,Tt).get(l);if(!h)throw new Error("Cannot initialise layer without reference data, id: "+l);const f=h.image.getGeometry(),m=KT(f.getOrientation(),XT(t.orientation)),v=f.getSize(m).get2D(),g=f.getSpacing(m).get2D(),S=r.addDrawLayer();S.initialise(v,g,s.getId());const y=new vL(f,m);S.setPlaneHelper(y);const C=[d.getCurrentIndex().getValues(),d.getCurrentPosition().getValues()];r.updateLayersToPositionChange({value:C,srclayerid:S.getId()}),u(this,tt).fitToContainer(),S.setOffset(r.getOffset());const x=Q(this,Kn,fb).call(this,f.getOrientation(),t.orientation);Q(this,Kn,pb).call(this,x,S),S.initScale(r.getScale(),s.getAbsoluteZoomOffset()),S.setAnnotationGroup(i.annotationGroup,e,this.addToUndoStack),S.setCurrentPosition(d.getCurrentPosition(),d.getCurrentIndex()),u(this,tt).bindLayerGroups(),u(this,gi)&&u(this,gi).bindLayerGroup(r,S),u(this,wt).call(this,{type:"drawlayeradd",layerid:S.getId(),layergroupid:r.getDivId(),dataid:e})}}Ot=new WeakMap,Tt=new WeakMap,gi=new WeakMap,yr=new WeakMap,tt=new WeakMap,Pn=new WeakMap,Sy=new WeakMap,Aa=new WeakMap,Yh=new WeakMap,Kn=new WeakSet,db=function(e){const t=Object.keys(e),r=[];for(let i=0;i<t.length;++i){const o=e[t[i]];for(let s=0;s<o.length;++s){const l=o[s];r.includes(l.divId)||(Q(this,Kn,hb).call(this,l),r.push(l.divId))}}},hb=function(e){const t=u(this,Ot).rootDocument.getElementById(e.divId),r=u(this,tt).addLayerGroup(t);Q(this,Kn,mO).call(this,r)},wt=new WeakMap,yy=new WeakMap,vy=new WeakMap,Cy=new WeakMap,by=new WeakMap,wy=new WeakMap,Dy=new WeakMap,xy=new WeakMap,Ty=new WeakMap,mO=function(e){e.addEventListener("zoomchange",u(this,wt)),e.addEventListener("offsetchange",u(this,wt)),e.addEventListener("layerremove",u(this,wt)),e.addEventListener("renderstart",u(this,wt)),e.addEventListener("renderend",u(this,wt));for(let t=0;t<tf.length;++t)e.addEventListener(tf[t],u(this,wt));e.addEventListener("wlchange",t=>{const r=m2(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.windowCenter=void 0,i.windowWidth=void 0,i.wlPresetName=void 0,t.value.length===3&&(i.windowCenter=t.value[0],i.windowWidth=t.value[1],i.wlPresetName=t.value[2]))}),e.addEventListener("opacitychange",t=>{const r=m2(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.opacity=t.value[0])}),e.addEventListener("colourmapchange",t=>{const r=m2(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.colourMap=t.value[0])})},SO=function(e,t){const r=u(this,Tt).get(e);if(!r)throw new Error("Cannot initialise layer with missing data, id: "+e);const i=u(this,tt).getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=r.image.getGeometry();u(this,tt).unbindLayerGroups();const s=new uW().create(r.meta,r.image),l=KT(o.getOrientation(),XT(t.orientation));s.setOrientation(l),r.image.getMeta().Modality==="SEG"&&s.setAlphaFunction(function(C){return C===0?0:255});const d=i.getNumberOfViewLayers()===0;let h=1;t.opacity!==void 0?h=t.opacity:d||(h=.5);const f=i.addViewLayer();f.setView(s,e);const m=o.getSize(l).get2D(),v=o.getSpacing(l).get2D();f.initialise(m,v,h);const g=f.getViewController();if(t.wlPresetName!==void 0)g.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const C=new mi(t.windowCenter,t.windowWidth);g.setWindowLevel(C)}t.colourMap!==void 0?g.setColourMap(t.colourMap):d||(r.image.getMeta().Modality==="PT"?g.setColourMap("hot"):g.setColourMap("rainbow")),u(this,Tt).addEventListener("dataimageset",f.onimageset);const S=[g.getCurrentIndex().getValues(),g.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:S,srclayerid:f.getId()}),u(this,tt).fitToContainer(),f.setOffset(i.getOffset());const y=Q(this,Kn,fb).call(this,o.getOrientation(),t.orientation);if(Q(this,Kn,pb).call(this,y,f),d)f.setScale(i.getScale());else{const C=i.getBaseViewLayer();f.initScale(i.getScale(),C.getAbsoluteZoomOffset())}u(this,tt).bindLayerGroups(),u(this,gi)&&u(this,gi).bindLayerGroup(i,f),u(this,wt).call(this,{type:"viewlayeradd",layerid:f.getId(),layergroupid:i.getDivId(),dataid:e}),d&&u(this,gi)&&u(this,gi).init()},yO=function(e,t){let r;const i=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(i!==void 0){const s=i.value[0],l=s==null?void 0:s.ReferencedSeriesSequence,d=l==null?void 0:l.value[0],h=d==null?void 0:d.SeriesInstanceUID,f={SeriesInstanceUID:h},m=t.searchViewLayers(f);m.length!==0&&(r=m[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const s=o.value[0],l=s==null?void 0:s.SeriesInstanceUID,d={SeriesInstanceUID:l},h=t.searchViewLayers(d);h.length!==0&&(r=h[0])}if(r===void 0)for(const s of e.getList()){const l={SOPInstanceUID:s.referencedSopInstanceUID,SOPClassUID:s.referencedSopClassUID},d=t.searchViewLayers(l);if(d.length!==0){r=d[0];break}}return r},fb=function(e,t){const r=KR(e.asOneAndZeros());if(r===void 0)throw new Error("Unsupported undefined orientation code");const i=t===void 0,o=!i&&t===Qs.Axial,s=!i&&t===Qs.Coronal,l=!i&&t===Qs.Sagittal,d={x:!1,y:!1},h={x:!1,y:!1,z:!1};return r==="LPS"?(s||l)&&(h.z=!0,d.y=!0):r==="LAI"?i||o?d.y=!0:s?h.z=!0:l&&(h.z=!0,d.x=!0):r==="RPI"?i||o?d.x=!0:s?(h.z=!0,d.x=!0):l&&(h.z=!0):r==="RAS"?(d.x=!0,d.y=!0,(s||l)&&(h.z=!0)):r==="LSA"?(d.y=!0,i||s?h.z=!0:o?h.y=!0:l&&(d.x=!0,h.y=!0,h.z=!0)):r==="RSP"?i||s?(d.x=!0,d.y=!0,h.x=!0,h.z=!0):o?(d.x=!0,h.x=!0):l&&(d.y=!0,h.z=!0):r==="RIA"?(d.x=!0,i||s?h.x=!0:o?(d.y=!0,h.x=!0,h.y=!0):l&&(h.y=!0)):r==="PSL"?(h.z=!0,(i||l||s)&&(d.y=!0)):r==="PIR"?(h.z=!0,(o||s)&&(d.x=!0)):r==="ASR"?(d.x=!0,d.y=!0,(i||l||s)&&(h.z=!0)):r==="AIL"?i||l?(d.x=!0,h.z=!0):o?d.y=!0:s&&(h.z=!0):r!=="LIP"&&Pe.warn("Unsupported orientation code: "+r+", display could be incorrect"),{scale:h,offset:d}},pb=function(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()};const vO=js(le.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),yH=n=>({flex:{flex:1},spacer:{flex:"1 1 100%"},searchField:{width:"45%"},slider:{margin:20},container:{padding:10,overflow:"hidden"}});class CO extends Si.Component{constructor(t){super(t);ae(this,"onSliderChange",t=>{const r=parseInt(t.target.value,10),i=this.state.instanceNumbers[r],o=this.getMetaArray(i);this.setState({instanceNumber:i,displayData:o}),this.filterList(this.state.searchfor,i)});ae(this,"onSearch",t=>{var r=t.target.value;this.filterList(r,this.state.instanceNumber)});const r=this.props.data;this.state={fullMetaData:r,searchfor:"",instanceNumber:0};const i=r["00200013"];if(typeof i<"u"){let o=i.value;typeof o=="string"&&(o=[o]),this.state.instanceNumbers=o.map(Number),this.state.instanceNumbers.sort((s,l)=>s-l),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(t,r){var i=t.toLowerCase(),o=this.getMetaArray(r),s=o.filter(function(l){for(var d in l)if(l.hasOwnProperty(d)){var h=l[d];if(typeof h<"u"&&(typeof h!="string"&&(h=h.toString()),h.toLowerCase().indexOf(i)!==-1))return!0}return!1});this.setState({searchfor:t,displayData:s})}getMetaArray(t){let r;return this.isDicomMeta(this.state.fullMetaData)?r=this.getDicomTagReducer(this.state.fullMetaData,t,""):r=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(r,[])}isDicomMeta(t){return typeof t["00020010"]<"u"}getTagReducer(t){return function(r,i){return r.push({name:i,value:t[i].value}),r}}getDicomTagReducer(t,r,i){return(o,s)=>{const l=eL(s);let d=l.getNameFromDictionary();typeof d>"u"&&(d="x"+l.getKey());const h=d,f=t[s];let m=f.value;if(typeof m.slice>"u"&&typeof m[r]<"u"&&(m=m[r]),h==="InstanceNumber"&&(m=r),f.vr==="SQ"){o.push({name:(i?i+" ":"")+h,value:""});for(let v=0;v<m.length;++v){const g=m[v],y=Object.keys(g).reduce(this.getDicomTagReducer(g,r,i+"["+v+"]"),[]);o=o.concat(y)}}else f.vr[0]==="O"&&m.length>10&&(m=m.slice(0,10).toString()+"... (len:"+m.length+")"),o.push({name:(i?i+" ":"")+h,value:m.toString()});return o}}render(){const{classes:t}=this.props,{displayData:r,searchfor:i,sliderMin:o,sliderMax:s}=this.state;return le.jsxs("div",{className:t.container,children:[le.jsxs(vR,{direction:"row",spacing:2,children:[le.jsx(jV,{id:"search",type:"search",value:i,className:t.searchField,onChange:this.onSearch,margin:"normal",size:"small",InputProps:{startAdornment:le.jsx(qq,{position:"start",children:le.jsx(vO,{})})}}),le.jsxs(EU,{width:300,display:"flex",alignItems:"center",children:[le.jsx(hV,{title:"Instance number",className:t.slider,marks:!0,min:o,max:s,onChange:this.onSliderChange}),le.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),le.jsx(Kg,{sx:{width:"100%",overflow:"hidden"},children:le.jsx(LV,{sx:{maxHeight:400},children:le.jsxs(mV,{stickyHeader:!0,className:t.table,children:[le.jsx(_V,{children:le.jsxs(Px,{children:[le.jsx(CS,{children:"Tag"}),le.jsx(CS,{children:"Value"})]})}),le.jsx(bV,{children:r.map((l,d)=>le.jsxs(Px,{children:[le.jsx(CS,{children:l.name}),le.jsx(CS,{children:l.value})]},d))})]})})})]})}}CO.propTypes={classes:TI.object.isRequired};const vH=BR(yH)(CO),CH=js(le.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),bH=js(le.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),wH=js(le.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),DH=js(le.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"}),"Contrast"),xH=js(le.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks"),TH=js(le.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"}),"Straighten"),PH=js([le.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),le.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")],"Cameraswitch"),IH=n=>({appBar:{position:"relative"},title:{flex:"0 0 auto"},iconSmall:{fontSize:20}}),RH=Si.forwardRef((n,e)=>le.jsx(fq,{direction:"up",...n,ref:e}));class bO extends Si.Component{constructor(t){super(t);ae(this,"getToolIcon",t=>{let r;return t==="Scroll"?r=le.jsx(wH,{}):t==="ZoomAndPan"?r=le.jsx(vO,{}):t==="WindowLevel"?r=le.jsx(DH,{}):t==="Draw"&&(r=le.jsx(TH,{})),r});ae(this,"onChangeTool",t=>{if(this.state.dwvApp)if(this.setState({selectedTool:t}),this.state.dwvApp.setTool(t),t==="Draw")this.onChangeShape(this.state.tools.Draw.options[0]);else{const r=this.state.dwvApp.getActiveLayerGroup();r==null||r.setActiveLayer(0)}});ae(this,"canRunTool",t=>{let r;return t==="Scroll"?r=this.state.canScroll:t==="WindowLevel"?r=this.state.canWindowLevel:r=!0,r});ae(this,"toggleOrientation",()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const t={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(t);const r=this.state.dwvApp.getDataIds();for(const i of r)this.state.dwvApp.render(i)});ae(this,"onChangeShape",t=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:t})});ae(this,"onReset",()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()});ae(this,"handleTagsDialogOpen",()=>{this.setState({showDicomTags:!0})});ae(this,"handleTagsDialogClose",()=>{this.setState({showDicomTags:!1})});ae(this,"setupDropbox",t=>{this.showDropbox(t,!0)});ae(this,"defaultHandleDragEvent",t=>{t.stopPropagation(),t.preventDefault()});ae(this,"onBoxDragOver",t=>{this.defaultHandleDragEvent(t);const r=document.getElementById(this.state.dropboxDivId);r&&r.className.indexOf(this.state.hoverClassName)===-1&&(r.className+=" "+this.state.hoverClassName)});ae(this,"onBoxDragLeave",t=>{this.defaultHandleDragEvent(t);const r=document.getElementById(this.state.dropboxDivId);r&&r.className.indexOf(this.state.hoverClassName)!==-1&&(r.className=r.className.replace(" "+this.state.hoverClassName,""))});ae(this,"onDrop",t=>{this.defaultHandleDragEvent(t),this.state.dwvApp.loadFiles(t.dataTransfer.files)});ae(this,"onInputFile",t=>{t.target&&t.target.files&&this.state.dwvApp.loadFiles(t.target.files)});ae(this,"showDropbox",(t,r)=>{const i=document.getElementById(this.state.dropboxDivId);if(!i)return;const o=document.getElementById("layerGroup0");if(r){if(i.className=this.state.dropboxClassName+" "+this.state.borderClassName,i.innerHTML===""){const s=document.createElement("p");s.appendChild(document.createTextNode("Drag and drop data here or "));const l=document.createElement("input");l.onchange=this.onInputFile,l.type="file",l.multiple=!0,l.id="input-file",l.style.display="none";const d=document.createElement("label");d.htmlFor="input-file";const h=document.createElement("a");h.appendChild(document.createTextNode("click here")),h.id="input-file-link",d.appendChild(h),s.appendChild(l),s.appendChild(d),i.appendChild(s)}i.setAttribute("style","display:initial"),o&&(o.removeEventListener("dragover",this.defaultHandleDragEvent),o.removeEventListener("dragleave",this.defaultHandleDragEvent),o.removeEventListener("drop",this.onDrop)),i.addEventListener("dragover",this.onBoxDragOver),i.addEventListener("dragleave",this.onBoxDragLeave),i.addEventListener("drop",this.onDrop)}else i.className=this.state.dropboxClassName,i.innerHTML="",i.setAttribute("style","display:none"),i.removeEventListener("dragover",this.onBoxDragOver),i.removeEventListener("dragleave",this.onBoxDragLeave),i.removeEventListener("drop",this.onDrop),o&&(o.addEventListener("dragover",this.defaultHandleDragEvent),o.addEventListener("dragleave",this.defaultHandleDragEvent),o.addEventListener("drop",this.onDrop))});this.state={versions:{dwv:xW(),react:Si.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){const{classes:t}=this.props,{versions:r,tools:i,loadProgress:o,dataLoaded:s,metaData:l}=this.state,d=(f,m)=>{m&&this.onChangeTool(m)},h=Object.keys(i).map(f=>le.jsx(bS,{value:f,title:f,disabled:!s||!this.canRunTool(f),children:this.getToolIcon(f)},f));return le.jsxs("div",{id:"dwv",children:[le.jsx(Jq,{variant:"determinate",value:o}),le.jsxs(vR,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[le.jsx(eG,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:d,children:h}),le.jsx(bS,{size:"small",value:"reset",title:"Reset",disabled:!s,onChange:this.onReset,children:le.jsx(bH,{})}),le.jsx(bS,{size:"small",value:"toggleOrientation",title:"Toggle Orientation",disabled:!s,onClick:this.toggleOrientation,children:le.jsx(PH,{})}),le.jsx(bS,{size:"small",value:"tags",title:"Tags",disabled:!s,onClick:this.handleTagsDialogOpen,children:le.jsx(xH,{})}),le.jsxs(cq,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,TransitionComponent:RH,children:[le.jsx(fU,{className:t.appBar,position:"sticky",children:le.jsxs(UV,{children:[le.jsx(iU,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:le.jsx(CH,{})}),le.jsx(O2,{variant:"h6",color:"inherit",className:t.flex,children:"DICOM Tags"})]})}),le.jsx(vH,{data:l})]})]}),le.jsx("div",{id:"layerGroup0",className:"layerGroup",children:le.jsx("div",{id:"dropBox"})}),le.jsx("div",{children:le.jsx("p",{className:"legend",children:le.jsxs(O2,{variant:"caption",children:["Powered by ",le.jsx(ux,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",r.dwv," and ",le.jsx(ux,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",r.react]})})})]})}componentDidMount(){const t=new SH;t.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});let r=null,i=null,o=null,s=null;t.addEventListener("loadstart",()=>{r=0,i=0,o=0,s=!0,this.showDropbox(t,!1)}),t.addEventListener("loadprogress",l=>{this.setState({loadProgress:l.loaded})}),t.addEventListener("renderend",l=>{if(s){s=!1;const h=this.state.dwvApp.getViewLayersByDataId(l.dataid)[0].getViewController();h.canScroll()&&this.setState({canScroll:!0}),h.isMonochrome()&&this.setState({canWindowLevel:!0});let f="ZoomAndPan";this.state.canScroll&&(f="Scroll"),this.onChangeTool(f)}}),t.addEventListener("load",l=>{this.setState({metaData:t.getMetaData(l.dataid)}),this.setState({dataLoaded:!0})}),t.addEventListener("loadend",()=>{i&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),r||this.showDropbox(t,!0)),o&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(t,!0))}),t.addEventListener("loaditem",()=>{++r}),t.addEventListener("loaderror",l=>{console.error(l.error),++i}),t.addEventListener("loadabort",()=>{++o}),t.addEventListener("keydown",l=>{t.defaultOnKeydown(l)}),window.addEventListener("resize",t.onResize),this.setState({dwvApp:t}),this.setupDropbox(t),t.loadFromUri(window.location.href)}}bO.propTypes={classes:TI.object.isRequired};const LH=BR(IH)(bO);function AH(){const n=Oq("(prefers-color-scheme: dark)"),e=Vy({typography:{useNextVariants:!0},palette:{primary:{main:Rk[500]},secondary:{main:Ik[500]},mode:n?"dark":"light"}});return le.jsxs(pN,{theme:e,children:[le.jsx(NU,{}),le.jsx("div",{className:"App",children:le.jsx(LH,{})})]})}Pk.createRoot(document.getElementById("app")).render(le.jsx(J.StrictMode,{children:le.jsx(AH,{})}));
