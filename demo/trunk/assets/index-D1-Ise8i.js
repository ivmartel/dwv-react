function H8(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const o=Object.getOwnPropertyDescriptor(i,r);o&&Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Td(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var d1={exports:{}},Nl={};var Jy;function j8(){if(Jy)return Nl;Jy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var c in r)c!=="key"&&(o[c]=r[c])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Nl.Fragment=e,Nl.jsx=t,Nl.jsxs=t,Nl}var ev;function Y8(){return ev||(ev=1,d1.exports=j8()),d1.exports}var J=Y8(),h1={exports:{}},tt={};var tv;function X8(){if(tv)return tt;tv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function S(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,b={};function T(_,z,te){this.props=_,this.context=z,this.refs=b,this.updater=te||y}T.prototype.isReactComponent={},T.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function x(){}x.prototype=T.prototype;function w(_,z,te){this.props=_,this.context=z,this.refs=b,this.updater=te||y}var A=w.prototype=new x;A.constructor=w,v(A,T.prototype),A.isPureReactComponent=!0;var O=Array.isArray;function L(){}var M={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function F(_,z,te){var se=te.ref;return{$$typeof:n,type:_,key:z,ref:se!==void 0?se:null,props:te}}function B(_,z){return F(_.type,z,_.props)}function H(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function P(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return z[te]})}var q=/\/+/g;function I(_,z){return typeof _=="object"&&_!==null&&_.key!=null?P(""+_.key):z.toString(36)}function N(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(L,L):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function U(_,z,te,se,Z){var Se=typeof _;(Se==="undefined"||Se==="boolean")&&(_=null);var Pe=!1;if(_===null)Pe=!0;else switch(Se){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(_.$$typeof){case n:case e:Pe=!0;break;case f:return Pe=_._init,U(Pe(_._payload),z,te,se,Z)}}if(Pe)return Z=Z(_),Pe=se===""?"."+I(_,0):se,O(Z)?(te="",Pe!=null&&(te=Pe.replace(q,"$&/")+"/"),U(Z,z,te,"",function(Re){return Re})):Z!=null&&(H(Z)&&(Z=B(Z,te+(Z.key==null||_&&_.key===Z.key?"":(""+Z.key).replace(q,"$&/")+"/")+Pe)),z.push(Z)),1;Pe=0;var Te=se===""?".":se+":";if(O(_))for(var xe=0;xe<_.length;xe++)se=_[xe],Se=Te+I(se,xe),Pe+=U(se,z,te,Se,Z);else if(xe=S(_),typeof xe=="function")for(_=xe.call(_),xe=0;!(se=_.next()).done;)se=se.value,Se=Te+I(se,xe++),Pe+=U(se,z,te,Se,Z);else if(Se==="object"){if(typeof _.then=="function")return U(N(_),z,te,se,Z);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function Q(_,z,te){if(_==null)return _;var se=[],Z=0;return U(_,se,"","",function(Se){return z.call(te,Se,Z++)}),se}function X(_){if(_._status===-1){var z=_._result;z=z(),z.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var V=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},re={map:Q,forEach:function(_,z,te){Q(_,function(){z.apply(this,arguments)},te)},count:function(_){var z=0;return Q(_,function(){z++}),z},toArray:function(_){return Q(_,function(z){return z})||[]},only:function(_){if(!H(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return tt.Activity=p,tt.Children=re,tt.Component=T,tt.Fragment=t,tt.Profiler=r,tt.PureComponent=w,tt.StrictMode=i,tt.Suspense=u,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,tt.__COMPILER_RUNTIME={__proto__:null,c:function(_){return M.H.useMemoCache(_)}},tt.cache=function(_){return function(){return _.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(_,z,te){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var se=v({},_.props),Z=_.key;if(z!=null)for(Se in z.key!==void 0&&(Z=""+z.key),z)!k.call(z,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&z.ref===void 0||(se[Se]=z[Se]);var Se=arguments.length-2;if(Se===1)se.children=te;else if(1<Se){for(var Pe=Array(Se),Te=0;Te<Se;Te++)Pe[Te]=arguments[Te+2];se.children=Pe}return F(_.type,Z,se)},tt.createContext=function(_){return _={$$typeof:l,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},tt.createElement=function(_,z,te){var se,Z={},Se=null;if(z!=null)for(se in z.key!==void 0&&(Se=""+z.key),z)k.call(z,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(Z[se]=z[se]);var Pe=arguments.length-2;if(Pe===1)Z.children=te;else if(1<Pe){for(var Te=Array(Pe),xe=0;xe<Pe;xe++)Te[xe]=arguments[xe+2];Z.children=Te}if(_&&_.defaultProps)for(se in Pe=_.defaultProps,Pe)Z[se]===void 0&&(Z[se]=Pe[se]);return F(_,Se,Z)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(_){return{$$typeof:c,render:_}},tt.isValidElement=H,tt.lazy=function(_){return{$$typeof:f,_payload:{_status:-1,_result:_},_init:X}},tt.memo=function(_,z){return{$$typeof:h,type:_,compare:z===void 0?null:z}},tt.startTransition=function(_){var z=M.T,te={};M.T=te;try{var se=_(),Z=M.S;Z!==null&&Z(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(L,V)}catch(Se){V(Se)}finally{z!==null&&te.types!==null&&(z.types=te.types),M.T=z}},tt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},tt.use=function(_){return M.H.use(_)},tt.useActionState=function(_,z,te){return M.H.useActionState(_,z,te)},tt.useCallback=function(_,z){return M.H.useCallback(_,z)},tt.useContext=function(_){return M.H.useContext(_)},tt.useDebugValue=function(){},tt.useDeferredValue=function(_,z){return M.H.useDeferredValue(_,z)},tt.useEffect=function(_,z){return M.H.useEffect(_,z)},tt.useEffectEvent=function(_){return M.H.useEffectEvent(_)},tt.useId=function(){return M.H.useId()},tt.useImperativeHandle=function(_,z,te){return M.H.useImperativeHandle(_,z,te)},tt.useInsertionEffect=function(_,z){return M.H.useInsertionEffect(_,z)},tt.useLayoutEffect=function(_,z){return M.H.useLayoutEffect(_,z)},tt.useMemo=function(_,z){return M.H.useMemo(_,z)},tt.useOptimistic=function(_,z){return M.H.useOptimistic(_,z)},tt.useReducer=function(_,z,te){return M.H.useReducer(_,z,te)},tt.useRef=function(_){return M.H.useRef(_)},tt.useState=function(_){return M.H.useState(_)},tt.useSyncExternalStore=function(_,z,te){return M.H.useSyncExternalStore(_,z,te)},tt.useTransition=function(){return M.H.useTransition()},tt.version="19.2.4",tt}var nv;function rp(){return nv||(nv=1,h1.exports=X8()),h1.exports}var Y=rp();const $n=Td(Y),ad=H8({__proto__:null,default:$n},[Y]);var f1={exports:{}},ql={},g1={exports:{}},p1={};var iv;function W8(){return iv||(iv=1,(function(n){function e(U,Q){var X=U.length;U.push(Q);e:for(;0<X;){var V=X-1>>>1,re=U[V];if(0<r(re,Q))U[V]=Q,U[X]=re,X=V;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var Q=U[0],X=U.pop();if(X!==Q){U[0]=X;e:for(var V=0,re=U.length,_=re>>>1;V<_;){var z=2*(V+1)-1,te=U[z],se=z+1,Z=U[se];if(0>r(te,X))se<re&&0>r(Z,te)?(U[V]=Z,U[se]=X,V=se):(U[V]=te,U[z]=X,V=z);else if(se<re&&0>r(Z,X))U[V]=Z,U[se]=X,V=se;else break e}}return Q}function r(U,Q){var X=U.sortIndex-Q.sortIndex;return X!==0?X:U.id-Q.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,p=null,m=3,S=!1,y=!1,v=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function A(U){for(var Q=t(h);Q!==null;){if(Q.callback===null)i(h);else if(Q.startTime<=U)i(h),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=t(h)}}function O(U){if(v=!1,A(U),!y)if(t(u)!==null)y=!0,L||(L=!0,P());else{var Q=t(h);Q!==null&&N(O,Q.startTime-U)}}var L=!1,M=-1,k=5,F=-1;function B(){return b?!0:!(n.unstable_now()-F<k)}function H(){if(b=!1,L){var U=n.unstable_now();F=U;var Q=!0;try{e:{y=!1,v&&(v=!1,x(M),M=-1),S=!0;var X=m;try{t:{for(A(U),p=t(u);p!==null&&!(p.expirationTime>U&&B());){var V=p.callback;if(typeof V=="function"){p.callback=null,m=p.priorityLevel;var re=V(p.expirationTime<=U);if(U=n.unstable_now(),typeof re=="function"){p.callback=re,A(U),Q=!0;break t}p===t(u)&&i(u),A(U)}else i(u);p=t(u)}if(p!==null)Q=!0;else{var _=t(h);_!==null&&N(O,_.startTime-U),Q=!1}}break e}finally{p=null,m=X,S=!1}Q=void 0}}finally{Q?P():L=!1}}}var P;if(typeof w=="function")P=function(){w(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,I=q.port2;q.port1.onmessage=H,P=function(){I.postMessage(null)}}else P=function(){T(H,0)};function N(U,Q){M=T(function(){U(n.unstable_now())},Q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(U){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var X=m;m=Q;try{return U()}finally{m=X}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var X=m;m=U;try{return Q()}finally{m=X}},n.unstable_scheduleCallback=function(U,Q,X){var V=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?V+X:V):X=V,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,U={id:f++,callback:Q,priorityLevel:U,startTime:X,expirationTime:re,sortIndex:-1},X>V?(U.sortIndex=X,e(h,U),t(u)===null&&U===t(h)&&(v?(x(M),M=-1):v=!0,N(O,X-V))):(U.sortIndex=re,e(u,U),y||S||(y=!0,L||(L=!0,P()))),U},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(U){var Q=m;return function(){var X=m;m=Q;try{return U.apply(this,arguments)}finally{m=X}}}})(p1)),p1}var rv;function $8(){return rv||(rv=1,g1.exports=W8()),g1.exports}var m1={exports:{}},_n={};var av;function Z8(){if(av)return _n;av=1;var n=rp();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(u,h,null,f)},_n.flushSync=function(u){var h=l.T,f=i.p;try{if(l.T=null,i.p=2,u)return u()}finally{l.T=h,i.p=f,i.d.f()}},_n.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},_n.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},_n.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:S}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:m,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},_n.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},_n.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},_n.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},_n.requestFormReset=function(u){i.d.r(u)},_n.unstable_batchedUpdates=function(u,h){return u(h)},_n.useFormState=function(u,h,f){return l.H.useFormState(u,h,f)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var ov;function t4(){if(ov)return m1.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),m1.exports=Z8(),m1.exports}var sv;function K8(){if(sv)return ql;sv=1;var n=$8(),e=rp(),t=t4();function i(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,d=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(d=s.return),a=s.return;while(a)}return s.tag===3?d:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(o(a)!==a)throw Error(i(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(i(188));return s!==a?null:a}for(var d=a,g=s;;){var C=d.return;if(C===null)break;var D=C.alternate;if(D===null){if(g=C.return,g!==null){d=g;continue}break}if(C.child===D.child){for(D=C.child;D;){if(D===d)return u(C),a;if(D===g)return u(C),s;D=D.sibling}throw Error(i(188))}if(d.return!==g.return)d=C,g=D;else{for(var R=!1,G=C.child;G;){if(G===d){R=!0,d=C,g=D;break}if(G===g){R=!0,g=C,d=D;break}G=G.sibling}if(!R){for(G=D.child;G;){if(G===d){R=!0,d=D,g=C;break}if(G===g){R=!0,g=D,d=C;break}G=G.sibling}if(!R)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:s}function f(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=f(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function I(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case v:return"Fragment";case T:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case L:return"SuspenseList";case F:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case w:return a.displayName||"Context";case x:return(a._context.displayName||"Context")+".Consumer";case A:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:I(a.type)||"Memo";case k:s=a._payload,a=a._init;try{return I(a(s))}catch{}}return null}var N=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},V=[],re=-1;function _(a){return{current:a}}function z(a){0>re||(a.current=V[re],V[re]=null,re--)}function te(a,s){re++,V[re]=a.current,a.current=s}var se=_(null),Z=_(null),Se=_(null),Pe=_(null);function Te(a,s){switch(te(Se,s),te(Z,a),te(se,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?Dy(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=Dy(s),a=Ty(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(se),te(se,a)}function xe(){z(se),z(Z),z(Se)}function Re(a){a.memoizedState!==null&&te(Pe,a);var s=se.current,d=Ty(s,a.type);s!==d&&(te(Z,a),te(se,d))}function Ne(a){Z.current===a&&(z(se),z(Z)),Pe.current===a&&(z(Pe),_l._currentValue=X)}var Ue,Ye;function E(a){if(Ue===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Ue=s&&s[1]||"",Ye=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+a+Ye}var he=!1;function ce(a,s){if(!a||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Ae=function(){throw Error()};if(Object.defineProperty(Ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ae,[])}catch(me){var fe=me}Reflect.construct(a,[],Ae)}else{try{Ae.call()}catch(me){fe=me}a.call(Ae.prototype)}}else{try{throw Error()}catch(me){fe=me}(Ae=a())&&typeof Ae.catch=="function"&&Ae.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=g.DetermineComponentFrameRoot(),R=D[0],G=D[1];if(R&&G){var K=R.split(`
`),de=G.split(`
`);for(C=g=0;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;for(;C<de.length&&!de[C].includes("DetermineComponentFrameRoot");)C++;if(g===K.length||C===de.length)for(g=K.length-1,C=de.length-1;1<=g&&0<=C&&K[g]!==de[C];)C--;for(;1<=g&&0<=C;g--,C--)if(K[g]!==de[C]){if(g!==1||C!==1)do if(g--,C--,0>C||K[g]!==de[C]){var Ce=`
`+K[g].replace(" at new "," at ");return a.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",a.displayName)),Ce}while(1<=g&&0<=C);break}}}finally{he=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?E(d):""}function W(a,s){switch(a.tag){case 26:case 27:case 5:return E(a.type);case 16:return E("Lazy");case 13:return a.child!==s&&s!==null?E("Suspense Fallback"):E("Suspense");case 19:return E("SuspenseList");case 0:case 15:return ce(a.type,!1);case 11:return ce(a.type.render,!1);case 1:return ce(a.type,!0);case 31:return E("Activity");default:return""}}function j(a){try{var s="",d=null;do s+=W(a,d),d=a,a=a.return;while(a);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ne=Object.prototype.hasOwnProperty,ve=n.unstable_scheduleCallback,ye=n.unstable_cancelCallback,ee=n.unstable_shouldYield,Oe=n.unstable_requestPaint,Ie=n.unstable_now,le=n.unstable_getCurrentPriorityLevel,pe=n.unstable_ImmediatePriority,Ee=n.unstable_UserBlockingPriority,ke=n.unstable_NormalPriority,Ge=n.unstable_LowPriority,Xe=n.unstable_IdlePriority,Ze=n.log,Ot=n.unstable_setDisableYieldValue,$e=null,vt=null;function dn(a){if(typeof Ze=="function"&&Ot(a),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode($e,a)}catch{}}var kt=Math.clz32?Math.clz32:Yt,Ve=Math.log,Dt=Math.LN2;function Yt(a){return a>>>=0,a===0?32:31-(Ve(a)/Dt|0)|0}var wn=256,ui=262144,Tt=4194304;function Pt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Hr(a,s,d){var g=a.pendingLanes;if(g===0)return 0;var C=0,D=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var G=g&134217727;return G!==0?(g=G&~D,g!==0?C=Pt(g):(R&=G,R!==0?C=Pt(R):d||(d=G&~a,d!==0&&(C=Pt(d))))):(G=g&~D,G!==0?C=Pt(G):R!==0?C=Pt(R):d||(d=g&~a,d!==0&&(C=Pt(d)))),C===0?0:s!==0&&s!==C&&(s&D)===0&&(D=C&-C,d=s&-s,D>=d||D===32&&(d&4194048)!==0)?s:C}function ji(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Ii(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function im(){var a=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),a}function Kd(a){for(var s=[],d=0;31>d;d++)s.push(a);return s}function Xs(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function M6(a,s,d,g,C,D){var R=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var G=a.entanglements,K=a.expirationTimes,de=a.hiddenUpdates;for(d=R&~d;0<d;){var Ce=31-kt(d),Ae=1<<Ce;G[Ce]=0,K[Ce]=-1;var fe=de[Ce];if(fe!==null)for(de[Ce]=null,Ce=0;Ce<fe.length;Ce++){var me=fe[Ce];me!==null&&(me.lane&=-536870913)}d&=~Ae}g!==0&&rm(a,g,0),D!==0&&C===0&&a.tag!==0&&(a.suspendedLanes|=D&~(R&~s))}function rm(a,s,d){a.pendingLanes|=s,a.suspendedLanes&=~s;var g=31-kt(s);a.entangledLanes|=s,a.entanglements[g]=a.entanglements[g]|1073741824|d&261930}function am(a,s){var d=a.entangledLanes|=s;for(a=a.entanglements;d;){var g=31-kt(d),C=1<<g;C&s|a[g]&s&&(a[g]|=s),d&=~C}}function om(a,s){var d=s&-s;return d=(d&42)!==0?1:Jd(d),(d&(a.suspendedLanes|s))!==0?0:d}function Jd(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function eh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sm(){var a=Q.p;return a!==0?a:(a=window.event,a===void 0?32:jy(a.type))}function lm(a,s){var d=Q.p;try{return Q.p=a,s()}finally{Q.p=d}}var jr=Math.random().toString(36).slice(2),An="__reactFiber$"+jr,Bn="__reactProps$"+jr,Ro="__reactContainer$"+jr,th="__reactEvents$"+jr,_6="__reactListeners$"+jr,k6="__reactHandles$"+jr,cm="__reactResources$"+jr,Ws="__reactMarker$"+jr;function nh(a){delete a[An],delete a[Bn],delete a[th],delete a[_6],delete a[k6]}function Eo(a){var s=a[An];if(s)return s;for(var d=a.parentNode;d;){if(s=d[Ro]||d[An]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(a=Ly(a);a!==null;){if(d=a[An])return d;a=Ly(a)}return s}a=d,d=a.parentNode}return null}function Mo(a){if(a=a[An]||a[Ro]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function $s(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(i(33))}function _o(a){var s=a[cm];return s||(s=a[cm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dn(a){a[Ws]=!0}var um=new Set,dm={};function _a(a,s){ko(a,s),ko(a+"Capture",s)}function ko(a,s){for(dm[a]=s,a=0;a<s.length;a++)um.add(s[a])}var F6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hm={},fm={};function U6(a){return ne.call(fm,a)?!0:ne.call(hm,a)?!1:F6.test(a)?fm[a]=!0:(hm[a]=!0,!1)}function Yc(a,s,d){if(U6(s))if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+d)}}function Xc(a,s,d){if(d===null)a.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+d)}}function dr(a,s,d,g){if(g===null)a.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(s,d,""+g)}}function di(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function gm(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function N6(a,s,d){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,D=g.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return C.call(this)},set:function(R){d=""+R,D.call(this,R)}}),Object.defineProperty(a,s,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ih(a){if(!a._valueTracker){var s=gm(a)?"checked":"value";a._valueTracker=N6(a,s,""+a[s])}}function pm(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var d=s.getValue(),g="";return a&&(g=gm(a)?a.checked?"true":"false":a.value),a=g,a!==d?(s.setValue(a),!0):!1}function Wc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var q6=/[\n"\\]/g;function hi(a){return a.replace(q6,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rh(a,s,d,g,C,D,R,G){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),s!=null?R==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+di(s)):a.value!==""+di(s)&&(a.value=""+di(s)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),s!=null?ah(a,R,di(s)):d!=null?ah(a,R,di(d)):g!=null&&a.removeAttribute("value"),C==null&&D!=null&&(a.defaultChecked=!!D),C!=null&&(a.checked=C&&typeof C!="function"&&typeof C!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.name=""+di(G):a.removeAttribute("name")}function mm(a,s,d,g,C,D,R,G){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.type=D),s!=null||d!=null){if(!(D!=="submit"&&D!=="reset"||s!=null)){ih(a);return}d=d!=null?""+di(d):"",s=s!=null?""+di(s):d,G||s===a.value||(a.value=s),a.defaultValue=s}g=g??C,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=G?a.checked:!!g,a.defaultChecked=!!g,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),ih(a)}function ah(a,s,d){s==="number"&&Wc(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Fo(a,s,d,g){if(a=a.options,s){s={};for(var C=0;C<d.length;C++)s["$"+d[C]]=!0;for(d=0;d<a.length;d++)C=s.hasOwnProperty("$"+a[d].value),a[d].selected!==C&&(a[d].selected=C),C&&g&&(a[d].defaultSelected=!0)}else{for(d=""+di(d),s=null,C=0;C<a.length;C++){if(a[C].value===d){a[C].selected=!0,g&&(a[C].defaultSelected=!0);return}s!==null||a[C].disabled||(s=a[C])}s!==null&&(s.selected=!0)}}function Sm(a,s,d){if(s!=null&&(s=""+di(s),s!==a.value&&(a.value=s),d==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=d!=null?""+di(d):""}function ym(a,s,d,g){if(s==null){if(g!=null){if(d!=null)throw Error(i(92));if(N(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),s=d}d=di(s),a.defaultValue=d,g=a.textContent,g===d&&g!==""&&g!==null&&(a.value=g),ih(a)}function Uo(a,s){if(s){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=s;return}}a.textContent=s}var B6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vm(a,s,d){var g=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":g?a.setProperty(s,d):typeof d!="number"||d===0||B6.has(s)?s==="float"?a.cssFloat=d:a[s]=(""+d).trim():a[s]=d+"px"}function Cm(a,s,d){if(s!=null&&typeof s!="object")throw Error(i(62));if(a=a.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var C in s)g=s[C],s.hasOwnProperty(C)&&d[C]!==g&&vm(a,C,g)}else for(var D in s)s.hasOwnProperty(D)&&vm(a,D,s[D])}function oh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var z6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(a){return G6.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function hr(){}var sh=null;function lh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var No=null,qo=null;function bm(a){var s=Mo(a);if(s&&(a=s.stateNode)){var d=a[Bn]||null;e:switch(a=s.stateNode,s.type){case"input":if(rh(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+hi(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var g=d[s];if(g!==a&&g.form===a.form){var C=g[Bn]||null;if(!C)throw Error(i(90));rh(g,C.value,C.defaultValue,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name)}}for(s=0;s<d.length;s++)g=d[s],g.form===a.form&&pm(g)}break e;case"textarea":Sm(a,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&Fo(a,!!d.multiple,s,!1)}}}var ch=!1;function Dm(a,s,d){if(ch)return a(s,d);ch=!0;try{var g=a(s);return g}finally{if(ch=!1,(No!==null||qo!==null)&&(Uu(),No&&(s=No,a=qo,qo=No=null,bm(s),a)))for(s=0;s<a.length;s++)bm(a[s])}}function Zs(a,s){var d=a.stateNode;if(d===null)return null;var g=d[Bn]||null;if(g===null)return null;d=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,s,typeof d));return d}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=!1;if(fr)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){uh=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{uh=!1}var Yr=null,dh=null,Zc=null;function Tm(){if(Zc)return Zc;var a,s=dh,d=s.length,g,C="value"in Yr?Yr.value:Yr.textContent,D=C.length;for(a=0;a<d&&s[a]===C[a];a++);var R=d-a;for(g=1;g<=R&&s[d-g]===C[D-g];g++);return Zc=C.slice(a,1<g?1-g:void 0)}function Kc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Jc(){return!0}function xm(){return!1}function zn(a){function s(d,g,C,D,R){this._reactName=d,this._targetInst=C,this.type=g,this.nativeEvent=D,this.target=R,this.currentTarget=null;for(var G in a)a.hasOwnProperty(G)&&(d=a[G],this[G]=d?d(D):D[G]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Jc:xm,this.isPropagationStopped=xm,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),s}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=zn(ka),Js=p({},ka,{view:0,detail:0}),Q6=zn(Js),hh,fh,el,tu=p({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ph,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==el&&(el&&a.type==="mousemove"?(hh=a.screenX-el.screenX,fh=a.screenY-el.screenY):fh=hh=0,el=a),hh)},movementY:function(a){return"movementY"in a?a.movementY:fh}}),wm=zn(tu),V6=p({},tu,{dataTransfer:0}),H6=zn(V6),j6=p({},Js,{relatedTarget:0}),gh=zn(j6),Y6=p({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),X6=zn(Y6),W6=p({},ka,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$6=zn(W6),Z6=p({},ka,{data:0}),Am=zn(Z6),K6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tD(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=eD[a])?!!s[a]:!1}function ph(){return tD}var nD=p({},Js,{key:function(a){if(a.key){var s=K6[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Kc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?J6[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ph,charCode:function(a){return a.type==="keypress"?Kc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Kc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),iD=zn(nD),rD=p({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=zn(rD),aD=p({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ph}),oD=zn(aD),sD=p({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),lD=zn(sD),cD=p({},tu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),uD=zn(cD),dD=p({},ka,{newState:0,oldState:0}),hD=zn(dD),fD=[9,13,27,32],mh=fr&&"CompositionEvent"in window,tl=null;fr&&"documentMode"in document&&(tl=document.documentMode);var gD=fr&&"TextEvent"in window&&!tl,Om=fr&&(!mh||tl&&8<tl&&11>=tl),Pm=" ",Lm=!1;function Rm(a,s){switch(a){case"keyup":return fD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Em(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bo=!1;function pD(a,s){switch(a){case"compositionend":return Em(s);case"keypress":return s.which!==32?null:(Lm=!0,Pm);case"textInput":return a=s.data,a===Pm&&Lm?null:a;default:return null}}function mD(a,s){if(Bo)return a==="compositionend"||!mh&&Rm(a,s)?(a=Tm(),Zc=dh=Yr=null,Bo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Om&&s.locale!=="ko"?null:s.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!SD[a.type]:s==="textarea"}function _m(a,s,d,g){No?qo?qo.push(g):qo=[g]:No=g,s=Vu(s,"onChange"),0<s.length&&(d=new eu("onChange","change",null,d,g),a.push({event:d,listeners:s}))}var nl=null,il=null;function yD(a){my(a,0)}function nu(a){var s=$s(a);if(pm(s))return a}function km(a,s){if(a==="change")return s}var Fm=!1;if(fr){var Sh;if(fr){var yh="oninput"in document;if(!yh){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),yh=typeof Um.oninput=="function"}Sh=yh}else Sh=!1;Fm=Sh&&(!document.documentMode||9<document.documentMode)}function Nm(){nl&&(nl.detachEvent("onpropertychange",qm),il=nl=null)}function qm(a){if(a.propertyName==="value"&&nu(il)){var s=[];_m(s,il,a,lh(a)),Dm(yD,s)}}function vD(a,s,d){a==="focusin"?(Nm(),nl=s,il=d,nl.attachEvent("onpropertychange",qm)):a==="focusout"&&Nm()}function CD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return nu(il)}function bD(a,s){if(a==="click")return nu(s)}function DD(a,s){if(a==="input"||a==="change")return nu(s)}function TD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Kn=typeof Object.is=="function"?Object.is:TD;function rl(a,s){if(Kn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var d=Object.keys(a),g=Object.keys(s);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var C=d[g];if(!ne.call(s,C)||!Kn(a[C],s[C]))return!1}return!0}function Bm(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function zm(a,s){var d=Bm(a);a=0;for(var g;d;){if(d.nodeType===3){if(g=a+d.textContent.length,a<=s&&g>=s)return{node:d,offset:s-a};a=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Bm(d)}}function Gm(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Gm(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Qm(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Wc(a.document);s instanceof a.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)a=s.contentWindow;else break;s=Wc(a.document)}return s}function vh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var xD=fr&&"documentMode"in document&&11>=document.documentMode,zo=null,Ch=null,al=null,bh=!1;function Vm(a,s,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;bh||zo==null||zo!==Wc(g)||(g=zo,"selectionStart"in g&&vh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),al&&rl(al,g)||(al=g,g=Vu(Ch,"onSelect"),0<g.length&&(s=new eu("onSelect","select",null,s,d),a.push({event:s,listeners:g}),s.target=zo)))}function Fa(a,s){var d={};return d[a.toLowerCase()]=s.toLowerCase(),d["Webkit"+a]="webkit"+s,d["Moz"+a]="moz"+s,d}var Go={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},Dh={},Hm={};fr&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function Ua(a){if(Dh[a])return Dh[a];if(!Go[a])return a;var s=Go[a],d;for(d in s)if(s.hasOwnProperty(d)&&d in Hm)return Dh[a]=s[d];return a}var jm=Ua("animationend"),Ym=Ua("animationiteration"),Xm=Ua("animationstart"),wD=Ua("transitionrun"),AD=Ua("transitionstart"),ID=Ua("transitioncancel"),Wm=Ua("transitionend"),$m=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Oi(a,s){$m.set(a,s),_a(s,[a])}var iu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},fi=[],Qo=0,xh=0;function ru(){for(var a=Qo,s=xh=Qo=0;s<a;){var d=fi[s];fi[s++]=null;var g=fi[s];fi[s++]=null;var C=fi[s];fi[s++]=null;var D=fi[s];if(fi[s++]=null,g!==null&&C!==null){var R=g.pending;R===null?C.next=C:(C.next=R.next,R.next=C),g.pending=C}D!==0&&Zm(d,C,D)}}function au(a,s,d,g){fi[Qo++]=a,fi[Qo++]=s,fi[Qo++]=d,fi[Qo++]=g,xh|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function wh(a,s,d,g){return au(a,s,d,g),ou(a)}function Na(a,s){return au(a,null,null,s),ou(a)}function Zm(a,s,d){a.lanes|=d;var g=a.alternate;g!==null&&(g.lanes|=d);for(var C=!1,D=a.return;D!==null;)D.childLanes|=d,g=D.alternate,g!==null&&(g.childLanes|=d),D.tag===22&&(a=D.stateNode,a===null||a._visibility&1||(C=!0)),a=D,D=D.return;return a.tag===3?(D=a.stateNode,C&&s!==null&&(C=31-kt(d),a=D.hiddenUpdates,g=a[C],g===null?a[C]=[s]:g.push(s),s.lane=d|536870912),D):null}function ou(a){if(50<Il)throw Il=0,kf=null,Error(i(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Vo={};function OD(a,s,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(a,s,d,g){return new OD(a,s,d,g)}function Ah(a){return a=a.prototype,!(!a||!a.isReactComponent)}function gr(a,s){var d=a.alternate;return d===null?(d=Jn(a.tag,s,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=s,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,s=a.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Km(a,s){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,s=d.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function su(a,s,d,g,C,D){var R=0;if(g=a,typeof a=="function")Ah(a)&&(R=1);else if(typeof a=="string")R=M8(a,d,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case F:return a=Jn(31,d,s,C),a.elementType=F,a.lanes=D,a;case v:return qa(d.children,C,D,s);case b:R=8,C|=24;break;case T:return a=Jn(12,d,s,C|2),a.elementType=T,a.lanes=D,a;case O:return a=Jn(13,d,s,C),a.elementType=O,a.lanes=D,a;case L:return a=Jn(19,d,s,C),a.elementType=L,a.lanes=D,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case w:R=10;break e;case x:R=9;break e;case A:R=11;break e;case M:R=14;break e;case k:R=16,g=null;break e}R=29,d=Error(i(130,a===null?"null":typeof a,"")),g=null}return s=Jn(R,d,s,C),s.elementType=a,s.type=g,s.lanes=D,s}function qa(a,s,d,g){return a=Jn(7,a,g,s),a.lanes=d,a}function Ih(a,s,d){return a=Jn(6,a,null,s),a.lanes=d,a}function Jm(a){var s=Jn(18,null,null,0);return s.stateNode=a,s}function Oh(a,s,d){return s=Jn(4,a.children!==null?a.children:[],a.key,s),s.lanes=d,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var eS=new WeakMap;function gi(a,s){if(typeof a=="object"&&a!==null){var d=eS.get(a);return d!==void 0?d:(s={value:a,source:s,stack:j(s)},eS.set(a,s),s)}return{value:a,source:s,stack:j(s)}}var Ho=[],jo=0,lu=null,ol=0,pi=[],mi=0,Xr=null,Yi=1,Xi="";function pr(a,s){Ho[jo++]=ol,Ho[jo++]=lu,lu=a,ol=s}function tS(a,s,d){pi[mi++]=Yi,pi[mi++]=Xi,pi[mi++]=Xr,Xr=a;var g=Yi;a=Xi;var C=32-kt(g)-1;g&=~(1<<C),d+=1;var D=32-kt(s)+C;if(30<D){var R=C-C%5;D=(g&(1<<R)-1).toString(32),g>>=R,C-=R,Yi=1<<32-kt(s)+C|d<<C|g,Xi=D+a}else Yi=1<<D|d<<C|g,Xi=a}function Ph(a){a.return!==null&&(pr(a,1),tS(a,1,0))}function Lh(a){for(;a===lu;)lu=Ho[--jo],Ho[jo]=null,ol=Ho[--jo],Ho[jo]=null;for(;a===Xr;)Xr=pi[--mi],pi[mi]=null,Xi=pi[--mi],pi[mi]=null,Yi=pi[--mi],pi[mi]=null}function nS(a,s){pi[mi++]=Yi,pi[mi++]=Xi,pi[mi++]=Xr,Yi=s.id,Xi=s.overflow,Xr=a}var In=null,Xt=null,mt=!1,Wr=null,Si=!1,Rh=Error(i(519));function $r(a){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(gi(s,a)),Rh}function iS(a){var s=a.stateNode,d=a.type,g=a.memoizedProps;switch(s[An]=a,s[Bn]=g,d){case"dialog":ut("cancel",s),ut("close",s);break;case"iframe":case"object":case"embed":ut("load",s);break;case"video":case"audio":for(d=0;d<Pl.length;d++)ut(Pl[d],s);break;case"source":ut("error",s);break;case"img":case"image":case"link":ut("error",s),ut("load",s);break;case"details":ut("toggle",s);break;case"input":ut("invalid",s),mm(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":ut("invalid",s);break;case"textarea":ut("invalid",s),ym(s,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||g.suppressHydrationWarning===!0||Cy(s.textContent,d)?(g.popover!=null&&(ut("beforetoggle",s),ut("toggle",s)),g.onScroll!=null&&ut("scroll",s),g.onScrollEnd!=null&&ut("scrollend",s),g.onClick!=null&&(s.onclick=hr),s=!0):s=!1,s||$r(a,!0)}function rS(a){for(In=a.return;In;)switch(In.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:In=In.return}}function Yo(a){if(a!==In)return!1;if(!mt)return rS(a),mt=!0,!1;var s=a.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||$f(a.type,a.memoizedProps)),d=!d),d&&Xt&&$r(a),rS(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Xt=Py(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));Xt=Py(a)}else s===27?(s=Xt,ua(a.type)?(a=t1,t1=null,Xt=a):Xt=s):Xt=In?vi(a.stateNode.nextSibling):null;return!0}function Ba(){Xt=In=null,mt=!1}function Eh(){var a=Wr;return a!==null&&(Hn===null?Hn=a:Hn.push.apply(Hn,a),Wr=null),a}function sl(a){Wr===null?Wr=[a]:Wr.push(a)}var Mh=_(null),za=null,mr=null;function Zr(a,s,d){te(Mh,s._currentValue),s._currentValue=d}function Sr(a){a._currentValue=Mh.current,z(Mh)}function _h(a,s,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),a===d)break;a=a.return}}function kh(a,s,d,g){var C=a.child;for(C!==null&&(C.return=a);C!==null;){var D=C.dependencies;if(D!==null){var R=C.child;D=D.firstContext;e:for(;D!==null;){var G=D;D=C;for(var K=0;K<s.length;K++)if(G.context===s[K]){D.lanes|=d,G=D.alternate,G!==null&&(G.lanes|=d),_h(D.return,d,a),g||(R=null);break e}D=G.next}}else if(C.tag===18){if(R=C.return,R===null)throw Error(i(341));R.lanes|=d,D=R.alternate,D!==null&&(D.lanes|=d),_h(R,d,a),R=null}else R=C.child;if(R!==null)R.return=C;else for(R=C;R!==null;){if(R===a){R=null;break}if(C=R.sibling,C!==null){C.return=R.return,R=C;break}R=R.return}C=R}}function Xo(a,s,d,g){a=null;for(var C=s,D=!1;C!==null;){if(!D){if((C.flags&524288)!==0)D=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var R=C.alternate;if(R===null)throw Error(i(387));if(R=R.memoizedProps,R!==null){var G=C.type;Kn(C.pendingProps.value,R.value)||(a!==null?a.push(G):a=[G])}}else if(C===Pe.current){if(R=C.alternate,R===null)throw Error(i(387));R.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(a!==null?a.push(_l):a=[_l])}C=C.return}a!==null&&kh(s,a,d,g),s.flags|=262144}function cu(a){for(a=a.firstContext;a!==null;){if(!Kn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ga(a){za=a,mr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function On(a){return aS(za,a)}function uu(a,s){return za===null&&Ga(a),aS(a,s)}function aS(a,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},mr===null){if(a===null)throw Error(i(308));mr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else mr=mr.next=s;return d}var PD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(d,g){a.push(g)}};this.abort=function(){s.aborted=!0,a.forEach(function(d){return d()})}},LD=n.unstable_scheduleCallback,RD=n.unstable_NormalPriority,hn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new PD,data:new Map,refCount:0}}function ll(a){a.refCount--,a.refCount===0&&LD(RD,function(){a.controller.abort()})}var cl=null,Uh=0,Wo=0,$o=null;function ED(a,s){if(cl===null){var d=cl=[];Uh=0,Wo=zf(),$o={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Uh++,s.then(oS,oS),s}function oS(){if(--Uh===0&&cl!==null){$o!==null&&($o.status="fulfilled");var a=cl;cl=null,Wo=0,$o=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function MD(a,s){var d=[],g={status:"pending",value:null,reason:null,then:function(C){d.push(C)}};return a.then(function(){g.status="fulfilled",g.value=s;for(var C=0;C<d.length;C++)(0,d[C])(s)},function(C){for(g.status="rejected",g.reason=C,C=0;C<d.length;C++)(0,d[C])(void 0)}),g}var sS=U.S;U.S=function(a,s){V2=Ie(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ED(a,s),sS!==null&&sS(a,s)};var Qa=_(null);function Nh(){var a=Qa.current;return a!==null?a:zt.pooledCache}function du(a,s){s===null?te(Qa,Qa.current):te(Qa,s.pool)}function lS(){var a=Nh();return a===null?null:{parent:hn._currentValue,pool:a}}var Zo=Error(i(460)),qh=Error(i(474)),hu=Error(i(542)),fu={then:function(){}};function cS(a){return a=a.status,a==="fulfilled"||a==="rejected"}function uS(a,s,d){switch(d=a[d],d===void 0?a.push(s):d!==s&&(s.then(hr,hr),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,hS(a),a;default:if(typeof s.status=="string")s.then(hr,hr);else{if(a=zt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=s,a.status="pending",a.then(function(g){if(s.status==="pending"){var C=s;C.status="fulfilled",C.value=g}},function(g){if(s.status==="pending"){var C=s;C.status="rejected",C.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,hS(a),a}throw Ha=s,Zo}}function Va(a){try{var s=a._init;return s(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ha=d,Zo):d}}var Ha=null;function dS(){if(Ha===null)throw Error(i(459));var a=Ha;return Ha=null,a}function hS(a){if(a===Zo||a===hu)throw Error(i(483))}var Ko=null,ul=0;function gu(a){var s=ul;return ul+=1,Ko===null&&(Ko=[]),uS(Ko,a,s)}function dl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function pu(a,s){throw s.$$typeof===m?Error(i(525)):(a=Object.prototype.toString.call(s),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function fS(a){function s(ae,ie){if(a){var ue=ae.deletions;ue===null?(ae.deletions=[ie],ae.flags|=16):ue.push(ie)}}function d(ae,ie){if(!a)return null;for(;ie!==null;)s(ae,ie),ie=ie.sibling;return null}function g(ae){for(var ie=new Map;ae!==null;)ae.key!==null?ie.set(ae.key,ae):ie.set(ae.index,ae),ae=ae.sibling;return ie}function C(ae,ie){return ae=gr(ae,ie),ae.index=0,ae.sibling=null,ae}function D(ae,ie,ue){return ae.index=ue,a?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<ie?(ae.flags|=67108866,ie):ue):(ae.flags|=67108866,ie)):(ae.flags|=1048576,ie)}function R(ae){return a&&ae.alternate===null&&(ae.flags|=67108866),ae}function G(ae,ie,ue,we){return ie===null||ie.tag!==6?(ie=Ih(ue,ae.mode,we),ie.return=ae,ie):(ie=C(ie,ue),ie.return=ae,ie)}function K(ae,ie,ue,we){var We=ue.type;return We===v?Ce(ae,ie,ue.props.children,we,ue.key):ie!==null&&(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===k&&Va(We)===ie.type)?(ie=C(ie,ue.props),dl(ie,ue),ie.return=ae,ie):(ie=su(ue.type,ue.key,ue.props,null,ae.mode,we),dl(ie,ue),ie.return=ae,ie)}function de(ae,ie,ue,we){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ue.containerInfo||ie.stateNode.implementation!==ue.implementation?(ie=Oh(ue,ae.mode,we),ie.return=ae,ie):(ie=C(ie,ue.children||[]),ie.return=ae,ie)}function Ce(ae,ie,ue,we,We){return ie===null||ie.tag!==7?(ie=qa(ue,ae.mode,we,We),ie.return=ae,ie):(ie=C(ie,ue),ie.return=ae,ie)}function Ae(ae,ie,ue){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Ih(""+ie,ae.mode,ue),ie.return=ae,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return ue=su(ie.type,ie.key,ie.props,null,ae.mode,ue),dl(ue,ie),ue.return=ae,ue;case y:return ie=Oh(ie,ae.mode,ue),ie.return=ae,ie;case k:return ie=Va(ie),Ae(ae,ie,ue)}if(N(ie)||P(ie))return ie=qa(ie,ae.mode,ue,null),ie.return=ae,ie;if(typeof ie.then=="function")return Ae(ae,gu(ie),ue);if(ie.$$typeof===w)return Ae(ae,uu(ae,ie),ue);pu(ae,ie)}return null}function fe(ae,ie,ue,we){var We=ie!==null?ie.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return We!==null?null:G(ae,ie,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return ue.key===We?K(ae,ie,ue,we):null;case y:return ue.key===We?de(ae,ie,ue,we):null;case k:return ue=Va(ue),fe(ae,ie,ue,we)}if(N(ue)||P(ue))return We!==null?null:Ce(ae,ie,ue,we,null);if(typeof ue.then=="function")return fe(ae,ie,gu(ue),we);if(ue.$$typeof===w)return fe(ae,ie,uu(ae,ue),we);pu(ae,ue)}return null}function me(ae,ie,ue,we,We){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ae=ae.get(ue)||null,G(ie,ae,""+we,We);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case S:return ae=ae.get(we.key===null?ue:we.key)||null,K(ie,ae,we,We);case y:return ae=ae.get(we.key===null?ue:we.key)||null,de(ie,ae,we,We);case k:return we=Va(we),me(ae,ie,ue,we,We)}if(N(we)||P(we))return ae=ae.get(ue)||null,Ce(ie,ae,we,We,null);if(typeof we.then=="function")return me(ae,ie,ue,gu(we),We);if(we.$$typeof===w)return me(ae,ie,ue,uu(ie,we),We);pu(ie,we)}return null}function Qe(ae,ie,ue,we){for(var We=null,Ct=null,He=ie,it=ie=0,ht=null;He!==null&&it<ue.length;it++){He.index>it?(ht=He,He=null):ht=He.sibling;var bt=fe(ae,He,ue[it],we);if(bt===null){He===null&&(He=ht);break}a&&He&&bt.alternate===null&&s(ae,He),ie=D(bt,ie,it),Ct===null?We=bt:Ct.sibling=bt,Ct=bt,He=ht}if(it===ue.length)return d(ae,He),mt&&pr(ae,it),We;if(He===null){for(;it<ue.length;it++)He=Ae(ae,ue[it],we),He!==null&&(ie=D(He,ie,it),Ct===null?We=He:Ct.sibling=He,Ct=He);return mt&&pr(ae,it),We}for(He=g(He);it<ue.length;it++)ht=me(He,ae,it,ue[it],we),ht!==null&&(a&&ht.alternate!==null&&He.delete(ht.key===null?it:ht.key),ie=D(ht,ie,it),Ct===null?We=ht:Ct.sibling=ht,Ct=ht);return a&&He.forEach(function(pa){return s(ae,pa)}),mt&&pr(ae,it),We}function Ke(ae,ie,ue,we){if(ue==null)throw Error(i(151));for(var We=null,Ct=null,He=ie,it=ie=0,ht=null,bt=ue.next();He!==null&&!bt.done;it++,bt=ue.next()){He.index>it?(ht=He,He=null):ht=He.sibling;var pa=fe(ae,He,bt.value,we);if(pa===null){He===null&&(He=ht);break}a&&He&&pa.alternate===null&&s(ae,He),ie=D(pa,ie,it),Ct===null?We=pa:Ct.sibling=pa,Ct=pa,He=ht}if(bt.done)return d(ae,He),mt&&pr(ae,it),We;if(He===null){for(;!bt.done;it++,bt=ue.next())bt=Ae(ae,bt.value,we),bt!==null&&(ie=D(bt,ie,it),Ct===null?We=bt:Ct.sibling=bt,Ct=bt);return mt&&pr(ae,it),We}for(He=g(He);!bt.done;it++,bt=ue.next())bt=me(He,ae,it,bt.value,we),bt!==null&&(a&&bt.alternate!==null&&He.delete(bt.key===null?it:bt.key),ie=D(bt,ie,it),Ct===null?We=bt:Ct.sibling=bt,Ct=bt);return a&&He.forEach(function(V8){return s(ae,V8)}),mt&&pr(ae,it),We}function Nt(ae,ie,ue,we){if(typeof ue=="object"&&ue!==null&&ue.type===v&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:e:{for(var We=ue.key;ie!==null;){if(ie.key===We){if(We=ue.type,We===v){if(ie.tag===7){d(ae,ie.sibling),we=C(ie,ue.props.children),we.return=ae,ae=we;break e}}else if(ie.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===k&&Va(We)===ie.type){d(ae,ie.sibling),we=C(ie,ue.props),dl(we,ue),we.return=ae,ae=we;break e}d(ae,ie);break}else s(ae,ie);ie=ie.sibling}ue.type===v?(we=qa(ue.props.children,ae.mode,we,ue.key),we.return=ae,ae=we):(we=su(ue.type,ue.key,ue.props,null,ae.mode,we),dl(we,ue),we.return=ae,ae=we)}return R(ae);case y:e:{for(We=ue.key;ie!==null;){if(ie.key===We)if(ie.tag===4&&ie.stateNode.containerInfo===ue.containerInfo&&ie.stateNode.implementation===ue.implementation){d(ae,ie.sibling),we=C(ie,ue.children||[]),we.return=ae,ae=we;break e}else{d(ae,ie);break}else s(ae,ie);ie=ie.sibling}we=Oh(ue,ae.mode,we),we.return=ae,ae=we}return R(ae);case k:return ue=Va(ue),Nt(ae,ie,ue,we)}if(N(ue))return Qe(ae,ie,ue,we);if(P(ue)){if(We=P(ue),typeof We!="function")throw Error(i(150));return ue=We.call(ue),Ke(ae,ie,ue,we)}if(typeof ue.then=="function")return Nt(ae,ie,gu(ue),we);if(ue.$$typeof===w)return Nt(ae,ie,uu(ae,ue),we);pu(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ie!==null&&ie.tag===6?(d(ae,ie.sibling),we=C(ie,ue),we.return=ae,ae=we):(d(ae,ie),we=Ih(ue,ae.mode,we),we.return=ae,ae=we),R(ae)):d(ae,ie)}return function(ae,ie,ue,we){try{ul=0;var We=Nt(ae,ie,ue,we);return Ko=null,We}catch(He){if(He===Zo||He===hu)throw He;var Ct=Jn(29,He,null,ae.mode);return Ct.lanes=we,Ct.return=ae,Ct}}}var ja=fS(!0),gS=fS(!1),Kr=!1;function Bh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Jr(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ea(a,s,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(xt&2)!==0){var C=g.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),g.pending=s,s=ou(a),Zm(a,null,d),s}return au(a,g,s,d),ou(a)}function hl(a,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,am(a,d)}}function Gh(a,s){var d=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var C=null,D=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};D===null?C=D=R:D=D.next=R,d=d.next}while(d!==null);D===null?C=D=s:D=D.next=s}else C=D=s;d={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:D,shared:g.shared,callbacks:g.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=s:a.next=s,d.lastBaseUpdate=s}var Qh=!1;function fl(){if(Qh){var a=$o;if(a!==null)throw a}}function gl(a,s,d,g){Qh=!1;var C=a.updateQueue;Kr=!1;var D=C.firstBaseUpdate,R=C.lastBaseUpdate,G=C.shared.pending;if(G!==null){C.shared.pending=null;var K=G,de=K.next;K.next=null,R===null?D=de:R.next=de,R=K;var Ce=a.alternate;Ce!==null&&(Ce=Ce.updateQueue,G=Ce.lastBaseUpdate,G!==R&&(G===null?Ce.firstBaseUpdate=de:G.next=de,Ce.lastBaseUpdate=K))}if(D!==null){var Ae=C.baseState;R=0,Ce=de=K=null,G=D;do{var fe=G.lane&-536870913,me=fe!==G.lane;if(me?(dt&fe)===fe:(g&fe)===fe){fe!==0&&fe===Wo&&(Qh=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Qe=a,Ke=G;fe=s;var Nt=d;switch(Ke.tag){case 1:if(Qe=Ke.payload,typeof Qe=="function"){Ae=Qe.call(Nt,Ae,fe);break e}Ae=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=Ke.payload,fe=typeof Qe=="function"?Qe.call(Nt,Ae,fe):Qe,fe==null)break e;Ae=p({},Ae,fe);break e;case 2:Kr=!0}}fe=G.callback,fe!==null&&(a.flags|=64,me&&(a.flags|=8192),me=C.callbacks,me===null?C.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ce===null?(de=Ce=me,K=Ae):Ce=Ce.next=me,R|=fe;if(G=G.next,G===null){if(G=C.shared.pending,G===null)break;me=G,G=me.next,me.next=null,C.lastBaseUpdate=me,C.shared.pending=null}}while(!0);Ce===null&&(K=Ae),C.baseState=K,C.firstBaseUpdate=de,C.lastBaseUpdate=Ce,D===null&&(C.shared.lanes=0),aa|=R,a.lanes=R,a.memoizedState=Ae}}function pS(a,s){if(typeof a!="function")throw Error(i(191,a));a.call(s)}function mS(a,s){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)pS(d[a],s)}var Jo=_(null),mu=_(0);function SS(a,s){a=Ar,te(mu,a),te(Jo,s),Ar=a|s.baseLanes}function Vh(){te(mu,Ar),te(Jo,Jo.current)}function Hh(){Ar=mu.current,z(Jo),z(mu)}var ei=_(null),yi=null;function ta(a){var s=a.alternate;te(sn,sn.current&1),te(ei,a),yi===null&&(s===null||Jo.current!==null||s.memoizedState!==null)&&(yi=a)}function jh(a){te(sn,sn.current),te(ei,a),yi===null&&(yi=a)}function yS(a){a.tag===22?(te(sn,sn.current),te(ei,a),yi===null&&(yi=a)):na()}function na(){te(sn,sn.current),te(ei,ei.current)}function ti(a){z(ei),yi===a&&(yi=null),z(sn)}var sn=_(0);function Su(a){for(var s=a;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Jf(d)||e1(d)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var yr=0,nt=null,Ft=null,fn=null,yu=!1,es=!1,Ya=!1,vu=0,pl=0,ts=null,_D=0;function tn(){throw Error(i(321))}function Yh(a,s){if(s===null)return!1;for(var d=0;d<s.length&&d<a.length;d++)if(!Kn(a[d],s[d]))return!1;return!0}function Xh(a,s,d,g,C,D){return yr=D,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=a===null||a.memoizedState===null?t2:uf,Ya=!1,D=d(g,C),Ya=!1,es&&(D=CS(s,d,g,C)),vS(a),D}function vS(a){U.H=yl;var s=Ft!==null&&Ft.next!==null;if(yr=0,fn=Ft=nt=null,yu=!1,pl=0,ts=null,s)throw Error(i(300));a===null||gn||(a=a.dependencies,a!==null&&cu(a)&&(gn=!0))}function CS(a,s,d,g){nt=a;var C=0;do{if(es&&(ts=null),pl=0,es=!1,25<=C)throw Error(i(301));if(C+=1,fn=Ft=null,a.updateQueue!=null){var D=a.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}U.H=n2,D=s(d,g)}while(es);return D}function kD(){var a=U.H,s=a.useState()[0];return s=typeof s.then=="function"?ml(s):s,a=a.useState()[0],(Ft!==null?Ft.memoizedState:null)!==a&&(nt.flags|=1024),s}function Wh(){var a=vu!==0;return vu=0,a}function $h(a,s,d){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~d}function Zh(a){if(yu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}yu=!1}yr=0,fn=Ft=nt=null,es=!1,pl=vu=0,ts=null}function Nn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?nt.memoizedState=fn=a:fn=fn.next=a,fn}function ln(){if(Ft===null){var a=nt.alternate;a=a!==null?a.memoizedState:null}else a=Ft.next;var s=fn===null?nt.memoizedState:fn.next;if(s!==null)fn=s,Ft=a;else{if(a===null)throw nt.alternate===null?Error(i(467)):Error(i(310));Ft=a,a={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},fn===null?nt.memoizedState=fn=a:fn=fn.next=a}return fn}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(a){var s=pl;return pl+=1,ts===null&&(ts=[]),a=uS(ts,a,s),s=nt,(fn===null?s.memoizedState:fn.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?t2:uf),a}function bu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ml(a);if(a.$$typeof===w)return On(a)}throw Error(i(438,String(a)))}function Kh(a){var s=null,d=nt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var g=nt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(C){return C.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=Cu(),nt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(a),g=0;g<a;g++)d[g]=B;return s.index++,d}function vr(a,s){return typeof s=="function"?s(a):s}function Du(a){var s=ln();return Jh(s,Ft,a)}function Jh(a,s,d){var g=a.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var C=a.baseQueue,D=g.pending;if(D!==null){if(C!==null){var R=C.next;C.next=D.next,D.next=R}s.baseQueue=C=D,g.pending=null}if(D=a.baseState,C===null)a.memoizedState=D;else{s=C.next;var G=R=null,K=null,de=s,Ce=!1;do{var Ae=de.lane&-536870913;if(Ae!==de.lane?(dt&Ae)===Ae:(yr&Ae)===Ae){var fe=de.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ae===Wo&&(Ce=!0);else if((yr&fe)===fe){de=de.next,fe===Wo&&(Ce=!0);continue}else Ae={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(G=K=Ae,R=D):K=K.next=Ae,nt.lanes|=fe,aa|=fe;Ae=de.action,Ya&&d(D,Ae),D=de.hasEagerState?de.eagerState:d(D,Ae)}else fe={lane:Ae,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},K===null?(G=K=fe,R=D):K=K.next=fe,nt.lanes|=Ae,aa|=Ae;de=de.next}while(de!==null&&de!==s);if(K===null?R=D:K.next=G,!Kn(D,a.memoizedState)&&(gn=!0,Ce&&(d=$o,d!==null)))throw d;a.memoizedState=D,a.baseState=R,a.baseQueue=K,g.lastRenderedState=D}return C===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function ef(a){var s=ln(),d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var g=d.dispatch,C=d.pending,D=s.memoizedState;if(C!==null){d.pending=null;var R=C=C.next;do D=a(D,R.action),R=R.next;while(R!==C);Kn(D,s.memoizedState)||(gn=!0),s.memoizedState=D,s.baseQueue===null&&(s.baseState=D),d.lastRenderedState=D}return[D,g]}function bS(a,s,d){var g=nt,C=ln(),D=mt;if(D){if(d===void 0)throw Error(i(407));d=d()}else d=s();var R=!Kn((Ft||C).memoizedState,d);if(R&&(C.memoizedState=d,gn=!0),C=C.queue,rf(xS.bind(null,g,C,a),[a]),C.getSnapshot!==s||R||fn!==null&&fn.memoizedState.tag&1){if(g.flags|=2048,ns(9,{destroy:void 0},TS.bind(null,g,C,d,s),null),zt===null)throw Error(i(349));D||(yr&127)!==0||DS(g,s,d)}return d}function DS(a,s,d){a.flags|=16384,a={getSnapshot:s,value:d},s=nt.updateQueue,s===null?(s=Cu(),nt.updateQueue=s,s.stores=[a]):(d=s.stores,d===null?s.stores=[a]:d.push(a))}function TS(a,s,d,g){s.value=d,s.getSnapshot=g,wS(s)&&AS(a)}function xS(a,s,d){return d(function(){wS(s)&&AS(a)})}function wS(a){var s=a.getSnapshot;a=a.value;try{var d=s();return!Kn(a,d)}catch{return!0}}function AS(a){var s=Na(a,2);s!==null&&jn(s,a,2)}function tf(a){var s=Nn();if(typeof a=="function"){var d=a;if(a=d(),Ya){dn(!0);try{d()}finally{dn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:a},s}function IS(a,s,d,g){return a.baseState=d,Jh(a,Ft,typeof g=="function"?g:vr)}function FD(a,s,d,g,C){if(wu(a))throw Error(i(485));if(a=s.action,a!==null){var D={payload:C,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){D.listeners.push(R)}};U.T!==null?d(!0):D.isTransition=!1,g(D),d=s.pending,d===null?(D.next=s.pending=D,OS(s,D)):(D.next=d.next,s.pending=d.next=D)}}function OS(a,s){var d=s.action,g=s.payload,C=a.state;if(s.isTransition){var D=U.T,R={};U.T=R;try{var G=d(C,g),K=U.S;K!==null&&K(R,G),PS(a,s,G)}catch(de){nf(a,s,de)}finally{D!==null&&R.types!==null&&(D.types=R.types),U.T=D}}else try{D=d(C,g),PS(a,s,D)}catch(de){nf(a,s,de)}}function PS(a,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){LS(a,s,g)},function(g){return nf(a,s,g)}):LS(a,s,d)}function LS(a,s,d){s.status="fulfilled",s.value=d,RS(s),a.state=d,s=a.pending,s!==null&&(d=s.next,d===s?a.pending=null:(d=d.next,s.next=d,OS(a,d)))}function nf(a,s,d){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=d,RS(s),s=s.next;while(s!==g)}a.action=null}function RS(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function ES(a,s){return s}function MS(a,s){if(mt){var d=zt.formState;if(d!==null){e:{var g=nt;if(mt){if(Xt){t:{for(var C=Xt,D=Si;C.nodeType!==8;){if(!D){C=null;break t}if(C=vi(C.nextSibling),C===null){C=null;break t}}D=C.data,C=D==="F!"||D==="F"?C:null}if(C){Xt=vi(C.nextSibling),g=C.data==="F!";break e}}$r(g)}g=!1}g&&(s=d[0])}}return d=Nn(),d.memoizedState=d.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ES,lastRenderedState:s},d.queue=g,d=KS.bind(null,nt,g),g.dispatch=d,g=tf(!1),D=cf.bind(null,nt,!1,g.queue),g=Nn(),C={state:s,dispatch:null,action:a,pending:null},g.queue=C,d=FD.bind(null,nt,C,D,d),C.dispatch=d,g.memoizedState=a,[s,d,!1]}function _S(a){var s=ln();return kS(s,Ft,a)}function kS(a,s,d){if(s=Jh(a,s,ES)[0],a=Du(vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=ml(s)}catch(R){throw R===Zo?hu:R}else g=s;s=ln();var C=s.queue,D=C.dispatch;return d!==s.memoizedState&&(nt.flags|=2048,ns(9,{destroy:void 0},UD.bind(null,C,d),null)),[g,D,a]}function UD(a,s){a.action=s}function FS(a){var s=ln(),d=Ft;if(d!==null)return kS(s,d,a);ln(),s=s.memoizedState,d=ln();var g=d.queue.dispatch;return d.memoizedState=a,[s,g,!1]}function ns(a,s,d,g){return a={tag:a,create:d,deps:g,inst:s,next:null},s=nt.updateQueue,s===null&&(s=Cu(),nt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,s.lastEffect=a),a}function US(){return ln().memoizedState}function Tu(a,s,d,g){var C=Nn();nt.flags|=a,C.memoizedState=ns(1|s,{destroy:void 0},d,g===void 0?null:g)}function xu(a,s,d,g){var C=ln();g=g===void 0?null:g;var D=C.memoizedState.inst;Ft!==null&&g!==null&&Yh(g,Ft.memoizedState.deps)?C.memoizedState=ns(s,D,d,g):(nt.flags|=a,C.memoizedState=ns(1|s,D,d,g))}function NS(a,s){Tu(8390656,8,a,s)}function rf(a,s){xu(2048,8,a,s)}function ND(a){nt.flags|=4;var s=nt.updateQueue;if(s===null)s=Cu(),nt.updateQueue=s,s.events=[a];else{var d=s.events;d===null?s.events=[a]:d.push(a)}}function qS(a){var s=ln().memoizedState;return ND({ref:s,nextImpl:a}),function(){if((xt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function BS(a,s){return xu(4,2,a,s)}function zS(a,s){return xu(4,4,a,s)}function GS(a,s){if(typeof s=="function"){a=a();var d=s(a);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function QS(a,s,d){d=d!=null?d.concat([a]):null,xu(4,4,GS.bind(null,s,a),d)}function af(){}function VS(a,s){var d=ln();s=s===void 0?null:s;var g=d.memoizedState;return s!==null&&Yh(s,g[1])?g[0]:(d.memoizedState=[a,s],a)}function HS(a,s){var d=ln();s=s===void 0?null:s;var g=d.memoizedState;if(s!==null&&Yh(s,g[1]))return g[0];if(g=a(),Ya){dn(!0);try{a()}finally{dn(!1)}}return d.memoizedState=[g,s],g}function of(a,s,d){return d===void 0||(yr&1073741824)!==0&&(dt&261930)===0?a.memoizedState=s:(a.memoizedState=d,a=j2(),nt.lanes|=a,aa|=a,d)}function jS(a,s,d,g){return Kn(d,s)?d:Jo.current!==null?(a=of(a,d,g),Kn(a,s)||(gn=!0),a):(yr&42)===0||(yr&1073741824)!==0&&(dt&261930)===0?(gn=!0,a.memoizedState=d):(a=j2(),nt.lanes|=a,aa|=a,s)}function YS(a,s,d,g,C){var D=Q.p;Q.p=D!==0&&8>D?D:8;var R=U.T,G={};U.T=G,cf(a,!1,s,d);try{var K=C(),de=U.S;if(de!==null&&de(G,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var Ce=MD(K,g);Sl(a,s,Ce,ri(a))}else Sl(a,s,g,ri(a))}catch(Ae){Sl(a,s,{then:function(){},status:"rejected",reason:Ae},ri())}finally{Q.p=D,R!==null&&G.types!==null&&(R.types=G.types),U.T=R}}function qD(){}function sf(a,s,d,g){if(a.tag!==5)throw Error(i(476));var C=XS(a).queue;YS(a,C,s,X,d===null?qD:function(){return WS(a),d(g)})}function XS(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:X},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vr,lastRenderedState:d},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function WS(a){var s=XS(a);s.next===null&&(s=a.alternate.memoizedState),Sl(a,s.next.queue,{},ri())}function lf(){return On(_l)}function $S(){return ln().memoizedState}function ZS(){return ln().memoizedState}function BD(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var d=ri();a=Jr(d);var g=ea(s,a,d);g!==null&&(jn(g,s,d),hl(g,s,d)),s={cache:Fh()},a.payload=s;return}s=s.return}}function zD(a,s,d){var g=ri();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},wu(a)?JS(s,d):(d=wh(a,s,d,g),d!==null&&(jn(d,a,g),e2(d,s,g)))}function KS(a,s,d){var g=ri();Sl(a,s,d,g)}function Sl(a,s,d,g){var C={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(wu(a))JS(s,C);else{var D=a.alternate;if(a.lanes===0&&(D===null||D.lanes===0)&&(D=s.lastRenderedReducer,D!==null))try{var R=s.lastRenderedState,G=D(R,d);if(C.hasEagerState=!0,C.eagerState=G,Kn(G,R))return au(a,s,C,0),zt===null&&ru(),!1}catch{}if(d=wh(a,s,C,g),d!==null)return jn(d,a,g),e2(d,s,g),!0}return!1}function cf(a,s,d,g){if(g={lane:2,revertLane:zf(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},wu(a)){if(s)throw Error(i(479))}else s=wh(a,d,g,2),s!==null&&jn(s,a,2)}function wu(a){var s=a.alternate;return a===nt||s!==null&&s===nt}function JS(a,s){es=yu=!0;var d=a.pending;d===null?s.next=s:(s.next=d.next,d.next=s),a.pending=s}function e2(a,s,d){if((d&4194048)!==0){var g=s.lanes;g&=a.pendingLanes,d|=g,s.lanes=d,am(a,d)}}var yl={readContext:On,use:bu,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn};yl.useEffectEvent=tn;var t2={readContext:On,use:bu,useCallback:function(a,s){return Nn().memoizedState=[a,s===void 0?null:s],a},useContext:On,useEffect:NS,useImperativeHandle:function(a,s,d){d=d!=null?d.concat([a]):null,Tu(4194308,4,GS.bind(null,s,a),d)},useLayoutEffect:function(a,s){return Tu(4194308,4,a,s)},useInsertionEffect:function(a,s){Tu(4,2,a,s)},useMemo:function(a,s){var d=Nn();s=s===void 0?null:s;var g=a();if(Ya){dn(!0);try{a()}finally{dn(!1)}}return d.memoizedState=[g,s],g},useReducer:function(a,s,d){var g=Nn();if(d!==void 0){var C=d(s);if(Ya){dn(!0);try{d(s)}finally{dn(!1)}}}else C=s;return g.memoizedState=g.baseState=C,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:C},g.queue=a,a=a.dispatch=zD.bind(null,nt,a),[g.memoizedState,a]},useRef:function(a){var s=Nn();return a={current:a},s.memoizedState=a},useState:function(a){a=tf(a);var s=a.queue,d=KS.bind(null,nt,s);return s.dispatch=d,[a.memoizedState,d]},useDebugValue:af,useDeferredValue:function(a,s){var d=Nn();return of(d,a,s)},useTransition:function(){var a=tf(!1);return a=YS.bind(null,nt,a.queue,!0,!1),Nn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,d){var g=nt,C=Nn();if(mt){if(d===void 0)throw Error(i(407));d=d()}else{if(d=s(),zt===null)throw Error(i(349));(dt&127)!==0||DS(g,s,d)}C.memoizedState=d;var D={value:d,getSnapshot:s};return C.queue=D,NS(xS.bind(null,g,D,a),[a]),g.flags|=2048,ns(9,{destroy:void 0},TS.bind(null,g,D,d,s),null),d},useId:function(){var a=Nn(),s=zt.identifierPrefix;if(mt){var d=Xi,g=Yi;d=(g&~(1<<32-kt(g)-1)).toString(32)+d,s="_"+s+"R_"+d,d=vu++,0<d&&(s+="H"+d.toString(32)),s+="_"}else d=_D++,s="_"+s+"r_"+d.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:lf,useFormState:MS,useActionState:MS,useOptimistic:function(a){var s=Nn();s.memoizedState=s.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=cf.bind(null,nt,!0,d),d.dispatch=s,[a,s]},useMemoCache:Kh,useCacheRefresh:function(){return Nn().memoizedState=BD.bind(null,nt)},useEffectEvent:function(a){var s=Nn(),d={impl:a};return s.memoizedState=d,function(){if((xt&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},uf={readContext:On,use:bu,useCallback:VS,useContext:On,useEffect:rf,useImperativeHandle:QS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:HS,useReducer:Du,useRef:US,useState:function(){return Du(vr)},useDebugValue:af,useDeferredValue:function(a,s){var d=ln();return jS(d,Ft.memoizedState,a,s)},useTransition:function(){var a=Du(vr)[0],s=ln().memoizedState;return[typeof a=="boolean"?a:ml(a),s]},useSyncExternalStore:bS,useId:$S,useHostTransitionStatus:lf,useFormState:_S,useActionState:_S,useOptimistic:function(a,s){var d=ln();return IS(d,Ft,a,s)},useMemoCache:Kh,useCacheRefresh:ZS};uf.useEffectEvent=qS;var n2={readContext:On,use:bu,useCallback:VS,useContext:On,useEffect:rf,useImperativeHandle:QS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:HS,useReducer:ef,useRef:US,useState:function(){return ef(vr)},useDebugValue:af,useDeferredValue:function(a,s){var d=ln();return Ft===null?of(d,a,s):jS(d,Ft.memoizedState,a,s)},useTransition:function(){var a=ef(vr)[0],s=ln().memoizedState;return[typeof a=="boolean"?a:ml(a),s]},useSyncExternalStore:bS,useId:$S,useHostTransitionStatus:lf,useFormState:FS,useActionState:FS,useOptimistic:function(a,s){var d=ln();return Ft!==null?IS(d,Ft,a,s):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Kh,useCacheRefresh:ZS};n2.useEffectEvent=qS;function df(a,s,d,g){s=a.memoizedState,d=d(g,s),d=d==null?s:p({},s,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var hf={enqueueSetState:function(a,s,d){a=a._reactInternals;var g=ri(),C=Jr(g);C.payload=s,d!=null&&(C.callback=d),s=ea(a,C,g),s!==null&&(jn(s,a,g),hl(s,a,g))},enqueueReplaceState:function(a,s,d){a=a._reactInternals;var g=ri(),C=Jr(g);C.tag=1,C.payload=s,d!=null&&(C.callback=d),s=ea(a,C,g),s!==null&&(jn(s,a,g),hl(s,a,g))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var d=ri(),g=Jr(d);g.tag=2,s!=null&&(g.callback=s),s=ea(a,g,d),s!==null&&(jn(s,a,d),hl(s,a,d))}};function i2(a,s,d,g,C,D,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,D,R):s.prototype&&s.prototype.isPureReactComponent?!rl(d,g)||!rl(C,D):!0}function r2(a,s,d,g){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,g),s.state!==a&&hf.enqueueReplaceState(s,s.state,null)}function Xa(a,s){var d=s;if("ref"in s){d={};for(var g in s)g!=="ref"&&(d[g]=s[g])}if(a=a.defaultProps){d===s&&(d=p({},d));for(var C in a)d[C]===void 0&&(d[C]=a[C])}return d}function a2(a){iu(a)}function o2(a){console.error(a)}function s2(a){iu(a)}function Au(a,s){try{var d=a.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function l2(a,s,d){try{var g=a.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function ff(a,s,d){return d=Jr(d),d.tag=3,d.payload={element:null},d.callback=function(){Au(a,s)},d}function c2(a){return a=Jr(a),a.tag=3,a}function u2(a,s,d,g){var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var D=g.value;a.payload=function(){return C(D)},a.callback=function(){l2(s,d,g)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){l2(s,d,g),typeof C!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function GD(a,s,d,g,C){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=d.alternate,s!==null&&Xo(s,d,C,!0),d=ei.current,d!==null){switch(d.tag){case 31:case 13:return yi===null?Nu():d.alternate===null&&nn===0&&(nn=3),d.flags&=-257,d.flags|=65536,d.lanes=C,g===fu?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([g]):s.add(g),Nf(a,g,C)),!1;case 22:return d.flags|=65536,g===fu?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([g]):d.add(g)),Nf(a,g,C)),!1}throw Error(i(435,d.tag))}return Nf(a,g,C),Nu(),!1}if(mt)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=C,g!==Rh&&(a=Error(i(422),{cause:g}),sl(gi(a,d)))):(g!==Rh&&(s=Error(i(423),{cause:g}),sl(gi(s,d))),a=a.current.alternate,a.flags|=65536,C&=-C,a.lanes|=C,g=gi(g,d),C=ff(a.stateNode,g,C),Gh(a,C),nn!==4&&(nn=2)),!1;var D=Error(i(520),{cause:g});if(D=gi(D,d),Al===null?Al=[D]:Al.push(D),nn!==4&&(nn=2),s===null)return!0;g=gi(g,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,a=C&-C,d.lanes|=a,a=ff(d.stateNode,g,a),Gh(d,a),!1;case 1:if(s=d.type,D=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(oa===null||!oa.has(D))))return d.flags|=65536,C&=-C,d.lanes|=C,C=c2(C),u2(C,a,d,g),Gh(d,C),!1}d=d.return}while(d!==null);return!1}var gf=Error(i(461)),gn=!1;function Pn(a,s,d,g){s.child=a===null?gS(s,null,d,g):ja(s,a.child,d,g)}function d2(a,s,d,g,C){d=d.render;var D=s.ref;if("ref"in g){var R={};for(var G in g)G!=="ref"&&(R[G]=g[G])}else R=g;return Ga(s),g=Xh(a,s,d,R,D,C),G=Wh(),a!==null&&!gn?($h(a,s,C),Cr(a,s,C)):(mt&&G&&Ph(s),s.flags|=1,Pn(a,s,g,C),s.child)}function h2(a,s,d,g,C){if(a===null){var D=d.type;return typeof D=="function"&&!Ah(D)&&D.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=D,f2(a,s,D,g,C)):(a=su(d.type,null,g,s,s.mode,C),a.ref=s.ref,a.return=s,s.child=a)}if(D=a.child,!Df(a,C)){var R=D.memoizedProps;if(d=d.compare,d=d!==null?d:rl,d(R,g)&&a.ref===s.ref)return Cr(a,s,C)}return s.flags|=1,a=gr(D,g),a.ref=s.ref,a.return=s,s.child=a}function f2(a,s,d,g,C){if(a!==null){var D=a.memoizedProps;if(rl(D,g)&&a.ref===s.ref)if(gn=!1,s.pendingProps=g=D,Df(a,C))(a.flags&131072)!==0&&(gn=!0);else return s.lanes=a.lanes,Cr(a,s,C)}return pf(a,s,d,g,C)}function g2(a,s,d,g){var C=g.children,D=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(D=D!==null?D.baseLanes|d:d,a!==null){for(g=s.child=a.child,C=0;g!==null;)C=C|g.lanes|g.childLanes,g=g.sibling;g=C&~D}else g=0,s.child=null;return p2(a,s,D,d,g)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&du(s,D!==null?D.cachePool:null),D!==null?SS(s,D):Vh(),yS(s);else return g=s.lanes=536870912,p2(a,s,D!==null?D.baseLanes|d:d,d,g)}else D!==null?(du(s,D.cachePool),SS(s,D),na(),s.memoizedState=null):(a!==null&&du(s,null),Vh(),na());return Pn(a,s,C,d),s.child}function vl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function p2(a,s,d,g,C){var D=Nh();return D=D===null?null:{parent:hn._currentValue,pool:D},s.memoizedState={baseLanes:d,cachePool:D},a!==null&&du(s,null),Vh(),yS(s),a!==null&&Xo(a,s,g,!0),s.childLanes=C,null}function Iu(a,s){return s=Pu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function m2(a,s,d){return ja(s,a.child,null,d),a=Iu(s,s.pendingProps),a.flags|=2,ti(s),s.memoizedState=null,a}function QD(a,s,d){var g=s.pendingProps,C=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(mt){if(g.mode==="hidden")return a=Iu(s,g),s.lanes=536870912,vl(null,a);if(jh(s),(a=Xt)?(a=Oy(a,Si),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xr!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},d=Jm(a),d.return=s,s.child=d,In=s,Xt=null)):a=null,a===null)throw $r(s);return s.lanes=536870912,null}return Iu(s,g)}var D=a.memoizedState;if(D!==null){var R=D.dehydrated;if(jh(s),C)if(s.flags&256)s.flags&=-257,s=m2(a,s,d);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(i(558));else if(gn||Xo(a,s,d,!1),C=(d&a.childLanes)!==0,gn||C){if(g=zt,g!==null&&(R=om(g,d),R!==0&&R!==D.retryLane))throw D.retryLane=R,Na(a,R),jn(g,a,R),gf;Nu(),s=m2(a,s,d)}else a=D.treeContext,Xt=vi(R.nextSibling),In=s,mt=!0,Wr=null,Si=!1,a!==null&&nS(s,a),s=Iu(s,g),s.flags|=4096;return s}return a=gr(a.child,{mode:g.mode,children:g.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Ou(a,s){var d=s.ref;if(d===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(s.flags|=4194816)}}function pf(a,s,d,g,C){return Ga(s),d=Xh(a,s,d,g,void 0,C),g=Wh(),a!==null&&!gn?($h(a,s,C),Cr(a,s,C)):(mt&&g&&Ph(s),s.flags|=1,Pn(a,s,d,C),s.child)}function S2(a,s,d,g,C,D){return Ga(s),s.updateQueue=null,d=CS(s,g,d,C),vS(a),g=Wh(),a!==null&&!gn?($h(a,s,D),Cr(a,s,D)):(mt&&g&&Ph(s),s.flags|=1,Pn(a,s,d,D),s.child)}function y2(a,s,d,g,C){if(Ga(s),s.stateNode===null){var D=Vo,R=d.contextType;typeof R=="object"&&R!==null&&(D=On(R)),D=new d(g,D),s.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=hf,s.stateNode=D,D._reactInternals=s,D=s.stateNode,D.props=g,D.state=s.memoizedState,D.refs={},Bh(s),R=d.contextType,D.context=typeof R=="object"&&R!==null?On(R):Vo,D.state=s.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(df(s,d,R,g),D.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(R=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),R!==D.state&&hf.enqueueReplaceState(D,D.state,null),gl(s,g,D,C),fl(),D.state=s.memoizedState),typeof D.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(a===null){D=s.stateNode;var G=s.memoizedProps,K=Xa(d,G);D.props=K;var de=D.context,Ce=d.contextType;R=Vo,typeof Ce=="object"&&Ce!==null&&(R=On(Ce));var Ae=d.getDerivedStateFromProps;Ce=typeof Ae=="function"||typeof D.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Ce||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(G||de!==R)&&r2(s,D,g,R),Kr=!1;var fe=s.memoizedState;D.state=fe,gl(s,g,D,C),fl(),de=s.memoizedState,G||fe!==de||Kr?(typeof Ae=="function"&&(df(s,d,Ae,g),de=s.memoizedState),(K=Kr||i2(s,d,K,g,fe,de,R))?(Ce||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(s.flags|=4194308)):(typeof D.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=de),D.props=g,D.state=de,D.context=R,g=K):(typeof D.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{D=s.stateNode,zh(a,s),R=s.memoizedProps,Ce=Xa(d,R),D.props=Ce,Ae=s.pendingProps,fe=D.context,de=d.contextType,K=Vo,typeof de=="object"&&de!==null&&(K=On(de)),G=d.getDerivedStateFromProps,(de=typeof G=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(R!==Ae||fe!==K)&&r2(s,D,g,K),Kr=!1,fe=s.memoizedState,D.state=fe,gl(s,g,D,C),fl();var me=s.memoizedState;R!==Ae||fe!==me||Kr||a!==null&&a.dependencies!==null&&cu(a.dependencies)?(typeof G=="function"&&(df(s,d,G,g),me=s.memoizedState),(Ce=Kr||i2(s,d,Ce,g,fe,me,K)||a!==null&&a.dependencies!==null&&cu(a.dependencies))?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(g,me,K),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(g,me,K)),typeof D.componentDidUpdate=="function"&&(s.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof D.componentDidUpdate!="function"||R===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=me),D.props=g,D.state=me,D.context=K,g=Ce):(typeof D.componentDidUpdate!="function"||R===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),g=!1)}return D=g,Ou(a,s),g=(s.flags&128)!==0,D||g?(D=s.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:D.render(),s.flags|=1,a!==null&&g?(s.child=ja(s,a.child,null,C),s.child=ja(s,null,d,C)):Pn(a,s,d,C),s.memoizedState=D.state,a=s.child):a=Cr(a,s,C),a}function v2(a,s,d,g){return Ba(),s.flags|=256,Pn(a,s,d,g),s.child}var mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sf(a){return{baseLanes:a,cachePool:lS()}}function yf(a,s,d){return a=a!==null?a.childLanes&~d:0,s&&(a|=ii),a}function C2(a,s,d){var g=s.pendingProps,C=!1,D=(s.flags&128)!==0,R;if((R=D)||(R=a!==null&&a.memoizedState===null?!1:(sn.current&2)!==0),R&&(C=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,a===null){if(mt){if(C?ta(s):na(),(a=Xt)?(a=Oy(a,Si),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Xr!==null?{id:Yi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},d=Jm(a),d.return=s,s.child=d,In=s,Xt=null)):a=null,a===null)throw $r(s);return e1(a)?s.lanes=32:s.lanes=536870912,null}var G=g.children;return g=g.fallback,C?(na(),C=s.mode,G=Pu({mode:"hidden",children:G},C),g=qa(g,C,d,null),G.return=s,g.return=s,G.sibling=g,s.child=G,g=s.child,g.memoizedState=Sf(d),g.childLanes=yf(a,R,d),s.memoizedState=mf,vl(null,g)):(ta(s),vf(s,G))}var K=a.memoizedState;if(K!==null&&(G=K.dehydrated,G!==null)){if(D)s.flags&256?(ta(s),s.flags&=-257,s=Cf(a,s,d)):s.memoizedState!==null?(na(),s.child=a.child,s.flags|=128,s=null):(na(),G=g.fallback,C=s.mode,g=Pu({mode:"visible",children:g.children},C),G=qa(G,C,d,null),G.flags|=2,g.return=s,G.return=s,g.sibling=G,s.child=g,ja(s,a.child,null,d),g=s.child,g.memoizedState=Sf(d),g.childLanes=yf(a,R,d),s.memoizedState=mf,s=vl(null,g));else if(ta(s),e1(G)){if(R=G.nextSibling&&G.nextSibling.dataset,R)var de=R.dgst;R=de,g=Error(i(419)),g.stack="",g.digest=R,sl({value:g,source:null,stack:null}),s=Cf(a,s,d)}else if(gn||Xo(a,s,d,!1),R=(d&a.childLanes)!==0,gn||R){if(R=zt,R!==null&&(g=om(R,d),g!==0&&g!==K.retryLane))throw K.retryLane=g,Na(a,g),jn(R,a,g),gf;Jf(G)||Nu(),s=Cf(a,s,d)}else Jf(G)?(s.flags|=192,s.child=a.child,s=null):(a=K.treeContext,Xt=vi(G.nextSibling),In=s,mt=!0,Wr=null,Si=!1,a!==null&&nS(s,a),s=vf(s,g.children),s.flags|=4096);return s}return C?(na(),G=g.fallback,C=s.mode,K=a.child,de=K.sibling,g=gr(K,{mode:"hidden",children:g.children}),g.subtreeFlags=K.subtreeFlags&65011712,de!==null?G=gr(de,G):(G=qa(G,C,d,null),G.flags|=2),G.return=s,g.return=s,g.sibling=G,s.child=g,vl(null,g),g=s.child,G=a.child.memoizedState,G===null?G=Sf(d):(C=G.cachePool,C!==null?(K=hn._currentValue,C=C.parent!==K?{parent:K,pool:K}:C):C=lS(),G={baseLanes:G.baseLanes|d,cachePool:C}),g.memoizedState=G,g.childLanes=yf(a,R,d),s.memoizedState=mf,vl(a.child,g)):(ta(s),d=a.child,a=d.sibling,d=gr(d,{mode:"visible",children:g.children}),d.return=s,d.sibling=null,a!==null&&(R=s.deletions,R===null?(s.deletions=[a],s.flags|=16):R.push(a)),s.child=d,s.memoizedState=null,d)}function vf(a,s){return s=Pu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Pu(a,s){return a=Jn(22,a,null,s),a.lanes=0,a}function Cf(a,s,d){return ja(s,a.child,null,d),a=vf(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function b2(a,s,d){a.lanes|=s;var g=a.alternate;g!==null&&(g.lanes|=s),_h(a.return,s,d)}function bf(a,s,d,g,C,D){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:C,treeForkCount:D}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=g,R.tail=d,R.tailMode=C,R.treeForkCount=D)}function D2(a,s,d){var g=s.pendingProps,C=g.revealOrder,D=g.tail;g=g.children;var R=sn.current,G=(R&2)!==0;if(G?(R=R&1|2,s.flags|=128):R&=1,te(sn,R),Pn(a,s,g,d),g=mt?ol:0,!G&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&b2(a,d,s);else if(a.tag===19)b2(a,d,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(C){case"forwards":for(d=s.child,C=null;d!==null;)a=d.alternate,a!==null&&Su(a)===null&&(C=d),d=d.sibling;d=C,d===null?(C=s.child,s.child=null):(C=d.sibling,d.sibling=null),bf(s,!1,C,d,D,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,C=s.child,s.child=null;C!==null;){if(a=C.alternate,a!==null&&Su(a)===null){s.child=C;break}a=C.sibling,C.sibling=d,d=C,C=a}bf(s,!0,d,null,D,g);break;case"together":bf(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function Cr(a,s,d){if(a!==null&&(s.dependencies=a.dependencies),aa|=s.lanes,(d&s.childLanes)===0)if(a!==null){if(Xo(a,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(i(153));if(s.child!==null){for(a=s.child,d=gr(a,a.pendingProps),s.child=d,d.return=s;a.sibling!==null;)a=a.sibling,d=d.sibling=gr(a,a.pendingProps),d.return=s;d.sibling=null}return s.child}function Df(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&cu(a)))}function VD(a,s,d){switch(s.tag){case 3:Te(s,s.stateNode.containerInfo),Zr(s,hn,a.memoizedState.cache),Ba();break;case 27:case 5:Re(s);break;case 4:Te(s,s.stateNode.containerInfo);break;case 10:Zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,jh(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(ta(s),s.flags|=128,null):(d&s.child.childLanes)!==0?C2(a,s,d):(ta(s),a=Cr(a,s,d),a!==null?a.sibling:null);ta(s);break;case 19:var C=(a.flags&128)!==0;if(g=(d&s.childLanes)!==0,g||(Xo(a,s,d,!1),g=(d&s.childLanes)!==0),C){if(g)return D2(a,s,d);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),te(sn,sn.current),g)break;return null;case 22:return s.lanes=0,g2(a,s,d,s.pendingProps);case 24:Zr(s,hn,a.memoizedState.cache)}return Cr(a,s,d)}function T2(a,s,d){if(a!==null)if(a.memoizedProps!==s.pendingProps)gn=!0;else{if(!Df(a,d)&&(s.flags&128)===0)return gn=!1,VD(a,s,d);gn=(a.flags&131072)!==0}else gn=!1,mt&&(s.flags&1048576)!==0&&tS(s,ol,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(a=Va(s.elementType),s.type=a,typeof a=="function")Ah(a)?(g=Xa(a,g),s.tag=1,s=y2(null,s,a,g,d)):(s.tag=0,s=pf(null,s,a,g,d));else{if(a!=null){var C=a.$$typeof;if(C===A){s.tag=11,s=d2(null,s,a,g,d);break e}else if(C===M){s.tag=14,s=h2(null,s,a,g,d);break e}}throw s=I(a)||a,Error(i(306,s,""))}}return s;case 0:return pf(a,s,s.type,s.pendingProps,d);case 1:return g=s.type,C=Xa(g,s.pendingProps),y2(a,s,g,C,d);case 3:e:{if(Te(s,s.stateNode.containerInfo),a===null)throw Error(i(387));g=s.pendingProps;var D=s.memoizedState;C=D.element,zh(a,s),gl(s,g,null,d);var R=s.memoizedState;if(g=R.cache,Zr(s,hn,g),g!==D.cache&&kh(s,[hn],d,!0),fl(),g=R.element,D.isDehydrated)if(D={element:g,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=D,s.memoizedState=D,s.flags&256){s=v2(a,s,g,d);break e}else if(g!==C){C=gi(Error(i(424)),s),sl(C),s=v2(a,s,g,d);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Xt=vi(a.firstChild),In=s,mt=!0,Wr=null,Si=!0,d=gS(s,null,g,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ba(),g===C){s=Cr(a,s,d);break e}Pn(a,s,g,d)}s=s.child}return s;case 26:return Ou(a,s),a===null?(d=_y(s.type,null,s.pendingProps,null))?s.memoizedState=d:mt||(d=s.type,a=s.pendingProps,g=Hu(Se.current).createElement(d),g[An]=s,g[Bn]=a,Ln(g,d,a),Dn(g),s.stateNode=g):s.memoizedState=_y(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Re(s),a===null&&mt&&(g=s.stateNode=Ry(s.type,s.pendingProps,Se.current),In=s,Si=!0,C=Xt,ua(s.type)?(t1=C,Xt=vi(g.firstChild)):Xt=C),Pn(a,s,s.pendingProps.children,d),Ou(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&mt&&((C=g=Xt)&&(g=C8(g,s.type,s.pendingProps,Si),g!==null?(s.stateNode=g,In=s,Xt=vi(g.firstChild),Si=!1,C=!0):C=!1),C||$r(s)),Re(s),C=s.type,D=s.pendingProps,R=a!==null?a.memoizedProps:null,g=D.children,$f(C,D)?g=null:R!==null&&$f(C,R)&&(s.flags|=32),s.memoizedState!==null&&(C=Xh(a,s,kD,null,null,d),_l._currentValue=C),Ou(a,s),Pn(a,s,g,d),s.child;case 6:return a===null&&mt&&((a=d=Xt)&&(d=b8(d,s.pendingProps,Si),d!==null?(s.stateNode=d,In=s,Xt=null,a=!0):a=!1),a||$r(s)),null;case 13:return C2(a,s,d);case 4:return Te(s,s.stateNode.containerInfo),g=s.pendingProps,a===null?s.child=ja(s,null,g,d):Pn(a,s,g,d),s.child;case 11:return d2(a,s,s.type,s.pendingProps,d);case 7:return Pn(a,s,s.pendingProps,d),s.child;case 8:return Pn(a,s,s.pendingProps.children,d),s.child;case 12:return Pn(a,s,s.pendingProps.children,d),s.child;case 10:return g=s.pendingProps,Zr(s,s.type,g.value),Pn(a,s,g.children,d),s.child;case 9:return C=s.type._context,g=s.pendingProps.children,Ga(s),C=On(C),g=g(C),s.flags|=1,Pn(a,s,g,d),s.child;case 14:return h2(a,s,s.type,s.pendingProps,d);case 15:return f2(a,s,s.type,s.pendingProps,d);case 19:return D2(a,s,d);case 31:return QD(a,s,d);case 22:return g2(a,s,d,s.pendingProps);case 24:return Ga(s),g=On(hn),a===null?(C=Nh(),C===null&&(C=zt,D=Fh(),C.pooledCache=D,D.refCount++,D!==null&&(C.pooledCacheLanes|=d),C=D),s.memoizedState={parent:g,cache:C},Bh(s),Zr(s,hn,C)):((a.lanes&d)!==0&&(zh(a,s),gl(s,null,null,d),fl()),C=a.memoizedState,D=s.memoizedState,C.parent!==g?(C={parent:g,cache:g},s.memoizedState=C,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=C),Zr(s,hn,g)):(g=D.cache,Zr(s,hn,g),g!==C.cache&&kh(s,[hn],d,!0))),Pn(a,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function br(a){a.flags|=4}function Tf(a,s,d,g,C){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(C&335544128)===C)if(a.stateNode.complete)a.flags|=8192;else if($2())a.flags|=8192;else throw Ha=fu,qh}else a.flags&=-16777217}function x2(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!qy(s))if($2())a.flags|=8192;else throw Ha=fu,qh}function Lu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?im():536870912,a.lanes|=s,os|=s)}function Cl(a,s){if(!mt)switch(a.tailMode){case"hidden":s=a.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Wt(a){var s=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(s)for(var C=a.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags&65011712,g|=C.flags&65011712,C.return=a,C=C.sibling;else for(C=a.child;C!==null;)d|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=a,C=C.sibling;return a.subtreeFlags|=g,a.childLanes=d,s}function HD(a,s,d){var g=s.pendingProps;switch(Lh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(s),null;case 1:return Wt(s),null;case 3:return d=s.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),Sr(hn),xe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Yo(s)?br(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Eh())),Wt(s),null;case 26:var C=s.type,D=s.memoizedState;return a===null?(br(s),D!==null?(Wt(s),x2(s,D)):(Wt(s),Tf(s,C,null,g,d))):D?D!==a.memoizedState?(br(s),Wt(s),x2(s,D)):(Wt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==g&&br(s),Wt(s),Tf(s,C,a,g,d)),null;case 27:if(Ne(s),d=Se.current,C=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&br(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Wt(s),null}a=se.current,Yo(s)?iS(s):(a=Ry(C,g,d),s.stateNode=a,br(s))}return Wt(s),null;case 5:if(Ne(s),C=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==g&&br(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Wt(s),null}if(D=se.current,Yo(s))iS(s);else{var R=Hu(Se.current);switch(D){case 1:D=R.createElementNS("http://www.w3.org/2000/svg",C);break;case 2:D=R.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;default:switch(C){case"svg":D=R.createElementNS("http://www.w3.org/2000/svg",C);break;case"math":D=R.createElementNS("http://www.w3.org/1998/Math/MathML",C);break;case"script":D=R.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof g.is=="string"?R.createElement("select",{is:g.is}):R.createElement("select"),g.multiple?D.multiple=!0:g.size&&(D.size=g.size);break;default:D=typeof g.is=="string"?R.createElement(C,{is:g.is}):R.createElement(C)}}D[An]=s,D[Bn]=g;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)D.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=D;e:switch(Ln(D,C,g),C){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&br(s)}}return Wt(s),Tf(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,d),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==g&&br(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(i(166));if(a=Se.current,Yo(s)){if(a=s.stateNode,d=s.memoizedProps,g=null,C=In,C!==null)switch(C.tag){case 27:case 5:g=C.memoizedProps}a[An]=s,a=!!(a.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||Cy(a.nodeValue,d)),a||$r(s,!0)}else a=Hu(a).createTextNode(g),a[An]=s,s.stateNode=a}return Wt(s),null;case 31:if(d=s.memoizedState,a===null||a.memoizedState!==null){if(g=Yo(s),d!==null){if(a===null){if(!g)throw Error(i(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[An]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),a=!1}else d=Eh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return s.flags&256?(ti(s),s):(ti(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Wt(s),null;case 13:if(g=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(C=Yo(s),g!==null&&g.dehydrated!==null){if(a===null){if(!C)throw Error(i(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));C[An]=s}else Ba(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Wt(s),C=!1}else C=Eh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=C),C=!0;if(!C)return s.flags&256?(ti(s),s):(ti(s),null)}return ti(s),(s.flags&128)!==0?(s.lanes=d,s):(d=g!==null,a=a!==null&&a.memoizedState!==null,d&&(g=s.child,C=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(C=g.alternate.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==C&&(g.flags|=2048)),d!==a&&d&&(s.child.flags|=8192),Lu(s,s.updateQueue),Wt(s),null);case 4:return xe(),a===null&&Hf(s.stateNode.containerInfo),Wt(s),null;case 10:return Sr(s.type),Wt(s),null;case 19:if(z(sn),g=s.memoizedState,g===null)return Wt(s),null;if(C=(s.flags&128)!==0,D=g.rendering,D===null)if(C)Cl(g,!1);else{if(nn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(D=Su(a),D!==null){for(s.flags|=128,Cl(g,!1),a=D.updateQueue,s.updateQueue=a,Lu(s,a),s.subtreeFlags=0,a=d,d=s.child;d!==null;)Km(d,a),d=d.sibling;return te(sn,sn.current&1|2),mt&&pr(s,g.treeForkCount),s.child}a=a.sibling}g.tail!==null&&Ie()>ku&&(s.flags|=128,C=!0,Cl(g,!1),s.lanes=4194304)}else{if(!C)if(a=Su(D),a!==null){if(s.flags|=128,C=!0,a=a.updateQueue,s.updateQueue=a,Lu(s,a),Cl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!D.alternate&&!mt)return Wt(s),null}else 2*Ie()-g.renderingStartTime>ku&&d!==536870912&&(s.flags|=128,C=!0,Cl(g,!1),s.lanes=4194304);g.isBackwards?(D.sibling=s.child,s.child=D):(a=g.last,a!==null?a.sibling=D:s.child=D,g.last=D)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Ie(),a.sibling=null,d=sn.current,te(sn,C?d&1|2:d&1),mt&&pr(s,g.treeForkCount),a):(Wt(s),null);case 22:case 23:return ti(s),Hh(),g=s.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(d&536870912)!==0&&(s.flags&128)===0&&(Wt(s),s.subtreeFlags&6&&(s.flags|=8192)):Wt(s),d=s.updateQueue,d!==null&&Lu(s,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==d&&(s.flags|=2048),a!==null&&z(Qa),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Sr(hn),Wt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function jD(a,s){switch(Lh(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Sr(hn),xe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ne(s),null;case 31:if(s.memoizedState!==null){if(ti(s),s.alternate===null)throw Error(i(340));Ba()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(ti(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ba()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return z(sn),null;case 4:return xe(),null;case 10:return Sr(s.type),null;case 22:case 23:return ti(s),Hh(),a!==null&&z(Qa),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Sr(hn),null;case 25:return null;default:return null}}function w2(a,s){switch(Lh(s),s.tag){case 3:Sr(hn),xe();break;case 26:case 27:case 5:Ne(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&ti(s);break;case 13:ti(s);break;case 19:z(sn);break;case 10:Sr(s.type);break;case 22:case 23:ti(s),Hh(),a!==null&&z(Qa);break;case 24:Sr(hn)}}function bl(a,s){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var C=g.next;d=C;do{if((d.tag&a)===a){g=void 0;var D=d.create,R=d.inst;g=D(),R.destroy=g}d=d.next}while(d!==C)}}catch(G){Et(s,s.return,G)}}function ia(a,s,d){try{var g=s.updateQueue,C=g!==null?g.lastEffect:null;if(C!==null){var D=C.next;g=D;do{if((g.tag&a)===a){var R=g.inst,G=R.destroy;if(G!==void 0){R.destroy=void 0,C=s;var K=d,de=G;try{de()}catch(Ce){Et(C,K,Ce)}}}g=g.next}while(g!==D)}}catch(Ce){Et(s,s.return,Ce)}}function A2(a){var s=a.updateQueue;if(s!==null){var d=a.stateNode;try{mS(s,d)}catch(g){Et(a,a.return,g)}}}function I2(a,s,d){d.props=Xa(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(g){Et(a,s,g)}}function Dl(a,s){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof d=="function"?a.refCleanup=d(g):d.current=g}}catch(C){Et(a,s,C)}}function Wi(a,s){var d=a.ref,g=a.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(C){Et(a,s,C)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(C){Et(a,s,C)}else d.current=null}function O2(a){var s=a.type,d=a.memoizedProps,g=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(C){Et(a,a.return,C)}}function xf(a,s,d){try{var g=a.stateNode;g8(g,a.type,d,s),g[Bn]=s}catch(C){Et(a,a.return,C)}}function P2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ua(a.type)||a.tag===4}function wf(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||P2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ua(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Af(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(a),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=hr));else if(g!==4&&(g===27&&ua(a.type)&&(d=a.stateNode,s=null),a=a.child,a!==null))for(Af(a,s,d),a=a.sibling;a!==null;)Af(a,s,d),a=a.sibling}function Ru(a,s,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,s?d.insertBefore(a,s):d.appendChild(a);else if(g!==4&&(g===27&&ua(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Ru(a,s,d),a=a.sibling;a!==null;)Ru(a,s,d),a=a.sibling}function L2(a){var s=a.stateNode,d=a.memoizedProps;try{for(var g=a.type,C=s.attributes;C.length;)s.removeAttributeNode(C[0]);Ln(s,g,d),s[An]=a,s[Bn]=d}catch(D){Et(a,a.return,D)}}var Dr=!1,pn=!1,If=!1,R2=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function YD(a,s){if(a=a.containerInfo,Xf=Ku,a=Qm(a),vh(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var C=g.anchorOffset,D=g.focusNode;g=g.focusOffset;try{d.nodeType,D.nodeType}catch{d=null;break e}var R=0,G=-1,K=-1,de=0,Ce=0,Ae=a,fe=null;t:for(;;){for(var me;Ae!==d||C!==0&&Ae.nodeType!==3||(G=R+C),Ae!==D||g!==0&&Ae.nodeType!==3||(K=R+g),Ae.nodeType===3&&(R+=Ae.nodeValue.length),(me=Ae.firstChild)!==null;)fe=Ae,Ae=me;for(;;){if(Ae===a)break t;if(fe===d&&++de===C&&(G=R),fe===D&&++Ce===g&&(K=R),(me=Ae.nextSibling)!==null)break;Ae=fe,fe=Ae.parentNode}Ae=me}d=G===-1||K===-1?null:{start:G,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(Wf={focusedElem:a,selectionRange:d},Ku=!1,Tn=s;Tn!==null;)if(s=Tn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Tn=a;else for(;Tn!==null;){switch(s=Tn,D=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)C=a[d],C.ref.impl=C.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&D!==null){a=void 0,d=s,C=D.memoizedProps,D=D.memoizedState,g=d.stateNode;try{var Qe=Xa(d.type,C);a=g.getSnapshotBeforeUpdate(Qe,D),g.__reactInternalSnapshotBeforeUpdate=a}catch(Ke){Et(d,d.return,Ke)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,d=a.nodeType,d===9)Kf(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Kf(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=s.sibling,a!==null){a.return=s.return,Tn=a;break}Tn=s.return}}function E2(a,s,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:xr(a,d),g&4&&bl(5,d);break;case 1:if(xr(a,d),g&4)if(a=d.stateNode,s===null)try{a.componentDidMount()}catch(R){Et(d,d.return,R)}else{var C=Xa(d.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(C,s,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Et(d,d.return,R)}}g&64&&A2(d),g&512&&Dl(d,d.return);break;case 3:if(xr(a,d),g&64&&(a=d.updateQueue,a!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{mS(a,s)}catch(R){Et(d,d.return,R)}}break;case 27:s===null&&g&4&&L2(d);case 26:case 5:xr(a,d),s===null&&g&4&&O2(d),g&512&&Dl(d,d.return);break;case 12:xr(a,d);break;case 31:xr(a,d),g&4&&k2(a,d);break;case 13:xr(a,d),g&4&&F2(a,d),g&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=n8.bind(null,d),D8(a,d))));break;case 22:if(g=d.memoizedState!==null||Dr,!g){s=s!==null&&s.memoizedState!==null||pn,C=Dr;var D=pn;Dr=g,(pn=s)&&!D?wr(a,d,(d.subtreeFlags&8772)!==0):xr(a,d),Dr=C,pn=D}break;case 30:break;default:xr(a,d)}}function M2(a){var s=a.alternate;s!==null&&(a.alternate=null,M2(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&nh(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var $t=null,Gn=!1;function Tr(a,s,d){for(d=d.child;d!==null;)_2(a,s,d),d=d.sibling}function _2(a,s,d){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount($e,d)}catch{}switch(d.tag){case 26:pn||Wi(d,s),Tr(a,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:pn||Wi(d,s);var g=$t,C=Gn;ua(d.type)&&($t=d.stateNode,Gn=!1),Tr(a,s,d),Rl(d.stateNode),$t=g,Gn=C;break;case 5:pn||Wi(d,s);case 6:if(g=$t,C=Gn,$t=null,Tr(a,s,d),$t=g,Gn=C,$t!==null)if(Gn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(d.stateNode)}catch(D){Et(d,s,D)}else try{$t.removeChild(d.stateNode)}catch(D){Et(d,s,D)}break;case 18:$t!==null&&(Gn?(a=$t,Ay(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),gs(a)):Ay($t,d.stateNode));break;case 4:g=$t,C=Gn,$t=d.stateNode.containerInfo,Gn=!0,Tr(a,s,d),$t=g,Gn=C;break;case 0:case 11:case 14:case 15:ia(2,d,s),pn||ia(4,d,s),Tr(a,s,d);break;case 1:pn||(Wi(d,s),g=d.stateNode,typeof g.componentWillUnmount=="function"&&I2(d,s,g)),Tr(a,s,d);break;case 21:Tr(a,s,d);break;case 22:pn=(g=pn)||d.memoizedState!==null,Tr(a,s,d),pn=g;break;default:Tr(a,s,d)}}function k2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{gs(a)}catch(d){Et(s,s.return,d)}}}function F2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{gs(a)}catch(d){Et(s,s.return,d)}}function XD(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new R2),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new R2),s;default:throw Error(i(435,a.tag))}}function Eu(a,s){var d=XD(a);s.forEach(function(g){if(!d.has(g)){d.add(g);var C=i8.bind(null,a,g);g.then(C,C)}})}function Qn(a,s){var d=s.deletions;if(d!==null)for(var g=0;g<d.length;g++){var C=d[g],D=a,R=s,G=R;e:for(;G!==null;){switch(G.tag){case 27:if(ua(G.type)){$t=G.stateNode,Gn=!1;break e}break;case 5:$t=G.stateNode,Gn=!1;break e;case 3:case 4:$t=G.stateNode.containerInfo,Gn=!0;break e}G=G.return}if($t===null)throw Error(i(160));_2(D,R,C),$t=null,Gn=!1,D=C.alternate,D!==null&&(D.return=null),C.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)U2(s,a),s=s.sibling}var Pi=null;function U2(a,s){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Qn(s,a),Vn(a),g&4&&(ia(3,a,a.return),bl(3,a),ia(5,a,a.return));break;case 1:Qn(s,a),Vn(a),g&512&&(pn||d===null||Wi(d,d.return)),g&64&&Dr&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var C=Pi;if(Qn(s,a),Vn(a),g&512&&(pn||d===null||Wi(d,d.return)),g&4){var D=d!==null?d.memoizedState:null;if(g=a.memoizedState,d===null)if(g===null)if(a.stateNode===null){e:{g=a.type,d=a.memoizedProps,C=C.ownerDocument||C;t:switch(g){case"title":D=C.getElementsByTagName("title")[0],(!D||D[Ws]||D[An]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=C.createElement(g),C.head.insertBefore(D,C.querySelector("head > title"))),Ln(D,g,d),D[An]=a,Dn(D),g=D;break e;case"link":var R=Uy("link","href",C).get(g+(d.href||""));if(R){for(var G=0;G<R.length;G++)if(D=R[G],D.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&D.getAttribute("rel")===(d.rel==null?null:d.rel)&&D.getAttribute("title")===(d.title==null?null:d.title)&&D.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(G,1);break t}}D=C.createElement(g),Ln(D,g,d),C.head.appendChild(D);break;case"meta":if(R=Uy("meta","content",C).get(g+(d.content||""))){for(G=0;G<R.length;G++)if(D=R[G],D.getAttribute("content")===(d.content==null?null:""+d.content)&&D.getAttribute("name")===(d.name==null?null:d.name)&&D.getAttribute("property")===(d.property==null?null:d.property)&&D.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&D.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(G,1);break t}}D=C.createElement(g),Ln(D,g,d),C.head.appendChild(D);break;default:throw Error(i(468,g))}D[An]=a,Dn(D),g=D}a.stateNode=g}else Ny(C,a.type,a.stateNode);else a.stateNode=Fy(C,g,a.memoizedProps);else D!==g?(D===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):D.count--,g===null?Ny(C,a.type,a.stateNode):Fy(C,g,a.memoizedProps)):g===null&&a.stateNode!==null&&xf(a,a.memoizedProps,d.memoizedProps)}break;case 27:Qn(s,a),Vn(a),g&512&&(pn||d===null||Wi(d,d.return)),d!==null&&g&4&&xf(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Qn(s,a),Vn(a),g&512&&(pn||d===null||Wi(d,d.return)),a.flags&32){C=a.stateNode;try{Uo(C,"")}catch(Qe){Et(a,a.return,Qe)}}g&4&&a.stateNode!=null&&(C=a.memoizedProps,xf(a,C,d!==null?d.memoizedProps:C)),g&1024&&(If=!0);break;case 6:if(Qn(s,a),Vn(a),g&4){if(a.stateNode===null)throw Error(i(162));g=a.memoizedProps,d=a.stateNode;try{d.nodeValue=g}catch(Qe){Et(a,a.return,Qe)}}break;case 3:if(Xu=null,C=Pi,Pi=ju(s.containerInfo),Qn(s,a),Pi=C,Vn(a),g&4&&d!==null&&d.memoizedState.isDehydrated)try{gs(s.containerInfo)}catch(Qe){Et(a,a.return,Qe)}If&&(If=!1,N2(a));break;case 4:g=Pi,Pi=ju(a.stateNode.containerInfo),Qn(s,a),Vn(a),Pi=g;break;case 12:Qn(s,a),Vn(a);break;case 31:Qn(s,a),Vn(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eu(a,g)));break;case 13:Qn(s,a),Vn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(_u=Ie()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eu(a,g)));break;case 22:C=a.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,de=Dr,Ce=pn;if(Dr=de||C,pn=Ce||K,Qn(s,a),pn=Ce,Dr=de,Vn(a),g&8192)e:for(s=a.stateNode,s._visibility=C?s._visibility&-2:s._visibility|1,C&&(d===null||K||Dr||pn||Wa(a)),d=null,s=a;;){if(s.tag===5||s.tag===26){if(d===null){K=d=s;try{if(D=K.stateNode,C)R=D.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{G=K.stateNode;var Ae=K.memoizedProps.style,fe=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null;G.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Qe){Et(K,K.return,Qe)}}}else if(s.tag===6){if(d===null){K=s;try{K.stateNode.nodeValue=C?"":K.memoizedProps}catch(Qe){Et(K,K.return,Qe)}}}else if(s.tag===18){if(d===null){K=s;try{var me=K.stateNode;C?Iy(me,!0):Iy(K.stateNode,!1)}catch(Qe){Et(K,K.return,Qe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=a.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Eu(a,d))));break;case 19:Qn(s,a),Vn(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,Eu(a,g)));break;case 30:break;case 21:break;default:Qn(s,a),Vn(a)}}function Vn(a){var s=a.flags;if(s&2){try{for(var d,g=a.return;g!==null;){if(P2(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var C=d.stateNode,D=wf(a);Ru(a,D,C);break;case 5:var R=d.stateNode;d.flags&32&&(Uo(R,""),d.flags&=-33);var G=wf(a);Ru(a,G,R);break;case 3:case 4:var K=d.stateNode.containerInfo,de=wf(a);Af(a,de,K);break;default:throw Error(i(161))}}catch(Ce){Et(a,a.return,Ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function N2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;N2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function xr(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)E2(a,s.alternate,s),s=s.sibling}function Wa(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ia(4,s,s.return),Wa(s);break;case 1:Wi(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&I2(s,s.return,d),Wa(s);break;case 27:Rl(s.stateNode);case 26:case 5:Wi(s,s.return),Wa(s);break;case 22:s.memoizedState===null&&Wa(s);break;case 30:Wa(s);break;default:Wa(s)}a=a.sibling}}function wr(a,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,C=a,D=s,R=D.flags;switch(D.tag){case 0:case 11:case 15:wr(C,D,d),bl(4,D);break;case 1:if(wr(C,D,d),g=D,C=g.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(de){Et(g,g.return,de)}if(g=D,C=g.updateQueue,C!==null){var G=g.stateNode;try{var K=C.shared.hiddenCallbacks;if(K!==null)for(C.shared.hiddenCallbacks=null,C=0;C<K.length;C++)pS(K[C],G)}catch(de){Et(g,g.return,de)}}d&&R&64&&A2(D),Dl(D,D.return);break;case 27:L2(D);case 26:case 5:wr(C,D,d),d&&g===null&&R&4&&O2(D),Dl(D,D.return);break;case 12:wr(C,D,d);break;case 31:wr(C,D,d),d&&R&4&&k2(C,D);break;case 13:wr(C,D,d),d&&R&4&&F2(C,D);break;case 22:D.memoizedState===null&&wr(C,D,d),Dl(D,D.return);break;case 30:break;default:wr(C,D,d)}s=s.sibling}}function Of(a,s){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&ll(d))}function Pf(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ll(a))}function Li(a,s,d,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q2(a,s,d,g),s=s.sibling}function q2(a,s,d,g){var C=s.flags;switch(s.tag){case 0:case 11:case 15:Li(a,s,d,g),C&2048&&bl(9,s);break;case 1:Li(a,s,d,g);break;case 3:Li(a,s,d,g),C&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&ll(a)));break;case 12:if(C&2048){Li(a,s,d,g),a=s.stateNode;try{var D=s.memoizedProps,R=D.id,G=D.onPostCommit;typeof G=="function"&&G(R,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Et(s,s.return,K)}}else Li(a,s,d,g);break;case 31:Li(a,s,d,g);break;case 13:Li(a,s,d,g);break;case 23:break;case 22:D=s.stateNode,R=s.alternate,s.memoizedState!==null?D._visibility&2?Li(a,s,d,g):Tl(a,s):D._visibility&2?Li(a,s,d,g):(D._visibility|=2,is(a,s,d,g,(s.subtreeFlags&10256)!==0||!1)),C&2048&&Of(R,s);break;case 24:Li(a,s,d,g),C&2048&&Pf(s.alternate,s);break;default:Li(a,s,d,g)}}function is(a,s,d,g,C){for(C=C&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var D=a,R=s,G=d,K=g,de=R.flags;switch(R.tag){case 0:case 11:case 15:is(D,R,G,K,C),bl(8,R);break;case 23:break;case 22:var Ce=R.stateNode;R.memoizedState!==null?Ce._visibility&2?is(D,R,G,K,C):Tl(D,R):(Ce._visibility|=2,is(D,R,G,K,C)),C&&de&2048&&Of(R.alternate,R);break;case 24:is(D,R,G,K,C),C&&de&2048&&Pf(R.alternate,R);break;default:is(D,R,G,K,C)}s=s.sibling}}function Tl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=a,g=s,C=g.flags;switch(g.tag){case 22:Tl(d,g),C&2048&&Of(g.alternate,g);break;case 24:Tl(d,g),C&2048&&Pf(g.alternate,g);break;default:Tl(d,g)}s=s.sibling}}var xl=8192;function rs(a,s,d){if(a.subtreeFlags&xl)for(a=a.child;a!==null;)B2(a,s,d),a=a.sibling}function B2(a,s,d){switch(a.tag){case 26:rs(a,s,d),a.flags&xl&&a.memoizedState!==null&&_8(d,Pi,a.memoizedState,a.memoizedProps);break;case 5:rs(a,s,d);break;case 3:case 4:var g=Pi;Pi=ju(a.stateNode.containerInfo),rs(a,s,d),Pi=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=xl,xl=16777216,rs(a,s,d),xl=g):rs(a,s,d));break;default:rs(a,s,d)}}function z2(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function wl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];Tn=g,Q2(g,a)}z2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)G2(a),a=a.sibling}function G2(a){switch(a.tag){case 0:case 11:case 15:wl(a),a.flags&2048&&ia(9,a,a.return);break;case 3:wl(a);break;case 12:wl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Mu(a)):wl(a);break;default:wl(a)}}function Mu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var g=s[d];Tn=g,Q2(g,a)}z2(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ia(8,s,s.return),Mu(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,Mu(s));break;default:Mu(s)}a=a.sibling}}function Q2(a,s){for(;Tn!==null;){var d=Tn;switch(d.tag){case 0:case 11:case 15:ia(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:ll(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,Tn=g;else e:for(d=a;Tn!==null;){g=Tn;var C=g.sibling,D=g.return;if(M2(g),g===d){Tn=null;break e}if(C!==null){C.return=D,Tn=C;break e}Tn=D}}}var WD={getCacheForType:function(a){var s=On(hn),d=s.data.get(a);return d===void 0&&(d=a(),s.data.set(a,d)),d},cacheSignal:function(){return On(hn).controller.signal}},$D=typeof WeakMap=="function"?WeakMap:Map,xt=0,zt=null,ct=null,dt=0,Rt=0,ni=null,ra=!1,as=!1,Lf=!1,Ar=0,nn=0,aa=0,$a=0,Rf=0,ii=0,os=0,Al=null,Hn=null,Ef=!1,_u=0,V2=0,ku=1/0,Fu=null,oa=null,vn=0,sa=null,ss=null,Ir=0,Mf=0,_f=null,H2=null,Il=0,kf=null;function ri(){return(xt&2)!==0&&dt!==0?dt&-dt:U.T!==null?zf():sm()}function j2(){if(ii===0)if((dt&536870912)===0||mt){var a=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),ii=a}else ii=536870912;return a=ei.current,a!==null&&(a.flags|=32),ii}function jn(a,s,d){(a===zt&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(ls(a,0),la(a,dt,ii,!1)),Xs(a,d),((xt&2)===0||a!==zt)&&(a===zt&&((xt&2)===0&&($a|=d),nn===4&&la(a,dt,ii,!1)),$i(a))}function Y2(a,s,d){if((xt&6)!==0)throw Error(i(327));var g=!d&&(s&127)===0&&(s&a.expiredLanes)===0||ji(a,s),C=g?JD(a,s):Uf(a,s,!0),D=g;do{if(C===0){as&&!g&&la(a,s,0,!1);break}else{if(d=a.current.alternate,D&&!ZD(d)){C=Uf(a,s,!1),D=!1;continue}if(C===2){if(D=s,a.errorRecoveryDisabledLanes&D)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var G=a;C=Al;var K=G.current.memoizedState.isDehydrated;if(K&&(ls(G,R).flags|=256),R=Uf(G,R,!1),R!==2){if(Lf&&!K){G.errorRecoveryDisabledLanes|=D,$a|=D,C=4;break e}D=Hn,Hn=C,D!==null&&(Hn===null?Hn=D:Hn.push.apply(Hn,D))}C=R}if(D=!1,C!==2)continue}}if(C===1){ls(a,0),la(a,s,0,!0);break}e:{switch(g=a,D=C,D){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:la(g,s,ii,!ra);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(C=_u+300-Ie(),10<C)){if(la(g,s,ii,!ra),Hr(g,0,!0)!==0)break e;Ir=s,g.timeoutHandle=xy(X2.bind(null,g,d,Hn,Fu,Ef,s,ii,$a,os,ra,D,"Throttled",-0,0),C);break e}X2(g,d,Hn,Fu,Ef,s,ii,$a,os,ra,D,null,-0,0)}}break}while(!0);$i(a)}function X2(a,s,d,g,C,D,R,G,K,de,Ce,Ae,fe,me){if(a.timeoutHandle=-1,Ae=s.subtreeFlags,Ae&8192||(Ae&16785408)===16785408){Ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hr},B2(s,D,Ae);var Qe=(D&62914560)===D?_u-Ie():(D&4194048)===D?V2-Ie():0;if(Qe=k8(Ae,Qe),Qe!==null){Ir=D,a.cancelPendingCommit=Qe(ny.bind(null,a,s,D,d,g,C,R,G,K,Ce,Ae,null,fe,me)),la(a,D,R,!de);return}}ny(a,s,D,d,g,C,R,G,K)}function ZD(a){for(var s=a;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var C=d[g],D=C.getSnapshot;C=C.value;try{if(!Kn(D(),C))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function la(a,s,d,g){s&=~Rf,s&=~$a,a.suspendedLanes|=s,a.pingedLanes&=~s,g&&(a.warmLanes|=s),g=a.expirationTimes;for(var C=s;0<C;){var D=31-kt(C),R=1<<D;g[D]=-1,C&=~R}d!==0&&rm(a,d,s)}function Uu(){return(xt&6)===0?(Ol(0),!1):!0}function Ff(){if(ct!==null){if(Rt===0)var a=ct.return;else a=ct,mr=za=null,Zh(a),Ko=null,ul=0,a=ct;for(;a!==null;)w2(a.alternate,a),a=a.return;ct=null}}function ls(a,s){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,S8(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Ir=0,Ff(),zt=a,ct=d=gr(a.current,null),dt=s,Rt=0,ni=null,ra=!1,as=ji(a,s),Lf=!1,os=ii=Rf=$a=aa=nn=0,Hn=Al=null,Ef=!1,(s&8)!==0&&(s|=s&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=s;0<g;){var C=31-kt(g),D=1<<C;s|=a[C],g&=~D}return Ar=s,ru(),d}function W2(a,s){nt=null,U.H=yl,s===Zo||s===hu?(s=dS(),Rt=3):s===qh?(s=dS(),Rt=4):Rt=s===gf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ni=s,ct===null&&(nn=1,Au(a,gi(s,a.current)))}function $2(){var a=ei.current;return a===null?!0:(dt&4194048)===dt?yi===null:(dt&62914560)===dt||(dt&536870912)!==0?a===yi:!1}function Z2(){var a=U.H;return U.H=yl,a===null?yl:a}function K2(){var a=U.A;return U.A=WD,a}function Nu(){nn=4,ra||(dt&4194048)!==dt&&ei.current!==null||(as=!0),(aa&134217727)===0&&($a&134217727)===0||zt===null||la(zt,dt,ii,!1)}function Uf(a,s,d){var g=xt;xt|=2;var C=Z2(),D=K2();(zt!==a||dt!==s)&&(Fu=null,ls(a,s)),s=!1;var R=nn;e:do try{if(Rt!==0&&ct!==null){var G=ct,K=ni;switch(Rt){case 8:Ff(),R=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var de=Rt;if(Rt=0,ni=null,cs(a,G,K,de),d&&as){R=0;break e}break;default:de=Rt,Rt=0,ni=null,cs(a,G,K,de)}}KD(),R=nn;break}catch(Ce){W2(a,Ce)}while(!0);return s&&a.shellSuspendCounter++,mr=za=null,xt=g,U.H=C,U.A=D,ct===null&&(zt=null,dt=0,ru()),R}function KD(){for(;ct!==null;)J2(ct)}function JD(a,s){var d=xt;xt|=2;var g=Z2(),C=K2();zt!==a||dt!==s?(Fu=null,ku=Ie()+500,ls(a,s)):as=ji(a,s);e:do try{if(Rt!==0&&ct!==null){s=ct;var D=ni;t:switch(Rt){case 1:Rt=0,ni=null,cs(a,s,D,1);break;case 2:case 9:if(cS(D)){Rt=0,ni=null,ey(s);break}s=function(){Rt!==2&&Rt!==9||zt!==a||(Rt=7),$i(a)},D.then(s,s);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:cS(D)?(Rt=0,ni=null,ey(s)):(Rt=0,ni=null,cs(a,s,D,7));break;case 5:var R=null;switch(ct.tag){case 26:R=ct.memoizedState;case 5:case 27:var G=ct;if(R?qy(R):G.stateNode.complete){Rt=0,ni=null;var K=G.sibling;if(K!==null)ct=K;else{var de=G.return;de!==null?(ct=de,qu(de)):ct=null}break t}}Rt=0,ni=null,cs(a,s,D,5);break;case 6:Rt=0,ni=null,cs(a,s,D,6);break;case 8:Ff(),nn=6;break e;default:throw Error(i(462))}}e8();break}catch(Ce){W2(a,Ce)}while(!0);return mr=za=null,U.H=g,U.A=C,xt=d,ct!==null?0:(zt=null,dt=0,ru(),nn)}function e8(){for(;ct!==null&&!ee();)J2(ct)}function J2(a){var s=T2(a.alternate,a,Ar);a.memoizedProps=a.pendingProps,s===null?qu(a):ct=s}function ey(a){var s=a,d=s.alternate;switch(s.tag){case 15:case 0:s=S2(d,s,s.pendingProps,s.type,void 0,dt);break;case 11:s=S2(d,s,s.pendingProps,s.type.render,s.ref,dt);break;case 5:Zh(s);default:w2(d,s),s=ct=Km(s,Ar),s=T2(d,s,Ar)}a.memoizedProps=a.pendingProps,s===null?qu(a):ct=s}function cs(a,s,d,g){mr=za=null,Zh(s),Ko=null,ul=0;var C=s.return;try{if(GD(a,C,s,d,dt)){nn=1,Au(a,gi(d,a.current)),ct=null;return}}catch(D){if(C!==null)throw ct=C,D;nn=1,Au(a,gi(d,a.current)),ct=null;return}s.flags&32768?(mt||g===1?a=!0:as||(dt&536870912)!==0?a=!1:(ra=a=!0,(g===2||g===9||g===3||g===6)&&(g=ei.current,g!==null&&g.tag===13&&(g.flags|=16384))),ty(s,a)):qu(s)}function qu(a){var s=a;do{if((s.flags&32768)!==0){ty(s,ra);return}a=s.return;var d=HD(s.alternate,s,Ar);if(d!==null){ct=d;return}if(s=s.sibling,s!==null){ct=s;return}ct=s=a}while(s!==null);nn===0&&(nn=5)}function ty(a,s){do{var d=jD(a.alternate,a);if(d!==null){d.flags&=32767,ct=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(a=a.sibling,a!==null)){ct=a;return}ct=a=d}while(a!==null);nn=6,ct=null}function ny(a,s,d,g,C,D,R,G,K){a.cancelPendingCommit=null;do Bu();while(vn!==0);if((xt&6)!==0)throw Error(i(327));if(s!==null){if(s===a.current)throw Error(i(177));if(D=s.lanes|s.childLanes,D|=xh,M6(a,d,D,R,G,K),a===zt&&(ct=zt=null,dt=0),ss=s,sa=a,Ir=d,Mf=D,_f=C,H2=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,r8(ke,function(){return sy(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=U.T,U.T=null,C=Q.p,Q.p=2,R=xt,xt|=4;try{YD(a,s,d)}finally{xt=R,Q.p=C,U.T=g}}vn=1,iy(),ry(),ay()}}function iy(){if(vn===1){vn=0;var a=sa,s=ss,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=U.T,U.T=null;var g=Q.p;Q.p=2;var C=xt;xt|=4;try{U2(s,a);var D=Wf,R=Qm(a.containerInfo),G=D.focusedElem,K=D.selectionRange;if(R!==G&&G&&G.ownerDocument&&Gm(G.ownerDocument.documentElement,G)){if(K!==null&&vh(G)){var de=K.start,Ce=K.end;if(Ce===void 0&&(Ce=de),"selectionStart"in G)G.selectionStart=de,G.selectionEnd=Math.min(Ce,G.value.length);else{var Ae=G.ownerDocument||document,fe=Ae&&Ae.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Qe=G.textContent.length,Ke=Math.min(K.start,Qe),Nt=K.end===void 0?Ke:Math.min(K.end,Qe);!me.extend&&Ke>Nt&&(R=Nt,Nt=Ke,Ke=R);var ae=zm(G,Ke),ie=zm(G,Nt);if(ae&&ie&&(me.rangeCount!==1||me.anchorNode!==ae.node||me.anchorOffset!==ae.offset||me.focusNode!==ie.node||me.focusOffset!==ie.offset)){var ue=Ae.createRange();ue.setStart(ae.node,ae.offset),me.removeAllRanges(),Ke>Nt?(me.addRange(ue),me.extend(ie.node,ie.offset)):(ue.setEnd(ie.node,ie.offset),me.addRange(ue))}}}}for(Ae=[],me=G;me=me.parentNode;)me.nodeType===1&&Ae.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<Ae.length;G++){var we=Ae[G];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Ku=!!Xf,Wf=Xf=null}finally{xt=C,Q.p=g,U.T=d}}a.current=s,vn=2}}function ry(){if(vn===2){vn=0;var a=sa,s=ss,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=U.T,U.T=null;var g=Q.p;Q.p=2;var C=xt;xt|=4;try{E2(a,s.alternate,s)}finally{xt=C,Q.p=g,U.T=d}}vn=3}}function ay(){if(vn===4||vn===3){vn=0,Oe();var a=sa,s=ss,d=Ir,g=H2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?vn=5:(vn=0,ss=sa=null,oy(a,a.pendingLanes));var C=a.pendingLanes;if(C===0&&(oa=null),eh(d),s=s.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot($e,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=U.T,C=Q.p,Q.p=2,U.T=null;try{for(var D=a.onRecoverableError,R=0;R<g.length;R++){var G=g[R];D(G.value,{componentStack:G.stack})}}finally{U.T=s,Q.p=C}}(Ir&3)!==0&&Bu(),$i(a),C=a.pendingLanes,(d&261930)!==0&&(C&42)!==0?a===kf?Il++:(Il=0,kf=a):Il=0,Ol(0)}}function oy(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,ll(s)))}function Bu(){return iy(),ry(),ay(),sy()}function sy(){if(vn!==5)return!1;var a=sa,s=Mf;Mf=0;var d=eh(Ir),g=U.T,C=Q.p;try{Q.p=32>d?32:d,U.T=null,d=_f,_f=null;var D=sa,R=Ir;if(vn=0,ss=sa=null,Ir=0,(xt&6)!==0)throw Error(i(331));var G=xt;if(xt|=4,G2(D.current),q2(D,D.current,R,d),xt=G,Ol(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot($e,D)}catch{}return!0}finally{Q.p=C,U.T=g,oy(a,s)}}function ly(a,s,d){s=gi(d,s),s=ff(a.stateNode,s,2),a=ea(a,s,2),a!==null&&(Xs(a,2),$i(a))}function Et(a,s,d){if(a.tag===3)ly(a,a,d);else for(;s!==null;){if(s.tag===3){ly(s,a,d);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(oa===null||!oa.has(g))){a=gi(d,a),d=c2(2),g=ea(s,d,2),g!==null&&(u2(d,g,s,a),Xs(g,2),$i(g));break}}s=s.return}}function Nf(a,s,d){var g=a.pingCache;if(g===null){g=a.pingCache=new $D;var C=new Set;g.set(s,C)}else C=g.get(s),C===void 0&&(C=new Set,g.set(s,C));C.has(d)||(Lf=!0,C.add(d),a=t8.bind(null,a,s,d),s.then(a,a))}function t8(a,s,d){var g=a.pingCache;g!==null&&g.delete(s),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,zt===a&&(dt&d)===d&&(nn===4||nn===3&&(dt&62914560)===dt&&300>Ie()-_u?(xt&2)===0&&ls(a,0):Rf|=d,os===dt&&(os=0)),$i(a)}function cy(a,s){s===0&&(s=im()),a=Na(a,s),a!==null&&(Xs(a,s),$i(a))}function n8(a){var s=a.memoizedState,d=0;s!==null&&(d=s.retryLane),cy(a,d)}function i8(a,s){var d=0;switch(a.tag){case 31:case 13:var g=a.stateNode,C=a.memoizedState;C!==null&&(d=C.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(s),cy(a,d)}function r8(a,s){return ve(a,s)}var zu=null,us=null,qf=!1,Gu=!1,Bf=!1,ca=0;function $i(a){a!==us&&a.next===null&&(us===null?zu=us=a:us=us.next=a),Gu=!0,qf||(qf=!0,o8())}function Ol(a,s){if(!Bf&&Gu){Bf=!0;do for(var d=!1,g=zu;g!==null;){if(a!==0){var C=g.pendingLanes;if(C===0)var D=0;else{var R=g.suspendedLanes,G=g.pingedLanes;D=(1<<31-kt(42|a)+1)-1,D&=C&~(R&~G),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(d=!0,fy(g,D))}else D=dt,D=Hr(g,g===zt?D:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(D&3)===0||ji(g,D)||(d=!0,fy(g,D));g=g.next}while(d);Bf=!1}}function a8(){uy()}function uy(){Gu=qf=!1;var a=0;ca!==0&&m8()&&(a=ca);for(var s=Ie(),d=null,g=zu;g!==null;){var C=g.next,D=dy(g,s);D===0?(g.next=null,d===null?zu=C:d.next=C,C===null&&(us=d)):(d=g,(a!==0||(D&3)!==0)&&(Gu=!0)),g=C}vn!==0&&vn!==5||Ol(a),ca!==0&&(ca=0)}function dy(a,s){for(var d=a.suspendedLanes,g=a.pingedLanes,C=a.expirationTimes,D=a.pendingLanes&-62914561;0<D;){var R=31-kt(D),G=1<<R,K=C[R];K===-1?((G&d)===0||(G&g)!==0)&&(C[R]=Ii(G,s)):K<=s&&(a.expiredLanes|=G),D&=~G}if(s=zt,d=dt,d=Hr(a,a===s?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,d===0||a===s&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&ye(g),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ji(a,d)){if(s=d&-d,s===a.callbackPriority)return s;switch(g!==null&&ye(g),eh(d)){case 2:case 8:d=Ee;break;case 32:d=ke;break;case 268435456:d=Xe;break;default:d=ke}return g=hy.bind(null,a),d=ve(d,g),a.callbackPriority=s,a.callbackNode=d,s}return g!==null&&g!==null&&ye(g),a.callbackPriority=2,a.callbackNode=null,2}function hy(a,s){if(vn!==0&&vn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Bu()&&a.callbackNode!==d)return null;var g=dt;return g=Hr(a,a===zt?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:(Y2(a,g,s),dy(a,Ie()),a.callbackNode!=null&&a.callbackNode===d?hy.bind(null,a):null)}function fy(a,s){if(Bu())return null;Y2(a,s,!0)}function o8(){y8(function(){(xt&6)!==0?ve(pe,a8):uy()})}function zf(){if(ca===0){var a=Wo;a===0&&(a=wn,wn<<=1,(wn&261888)===0&&(wn=256)),ca=a}return ca}function gy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$c(""+a)}function py(a,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,a.id&&d.setAttribute("form",a.id),s.parentNode.insertBefore(d,s),a=new FormData(a),d.parentNode.removeChild(d),a}function s8(a,s,d,g,C){if(s==="submit"&&d&&d.stateNode===C){var D=gy((C[Bn]||null).action),R=g.submitter;R&&(s=(s=R[Bn]||null)?gy(s.formAction):R.getAttribute("formAction"),s!==null&&(D=s,R=null));var G=new eu("action","action",null,g,C);a.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ca!==0){var K=R?py(C,R):new FormData(C);sf(d,{pending:!0,data:K,method:C.method,action:D},null,K)}}else typeof D=="function"&&(G.preventDefault(),K=R?py(C,R):new FormData(C),sf(d,{pending:!0,data:K,method:C.method,action:D},D,K))},currentTarget:C}]})}}for(var Gf=0;Gf<Th.length;Gf++){var Qf=Th[Gf],l8=Qf.toLowerCase(),c8=Qf[0].toUpperCase()+Qf.slice(1);Oi(l8,"on"+c8)}Oi(jm,"onAnimationEnd"),Oi(Ym,"onAnimationIteration"),Oi(Xm,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(wD,"onTransitionRun"),Oi(AD,"onTransitionStart"),Oi(ID,"onTransitionCancel"),Oi(Wm,"onTransitionEnd"),ko("onMouseEnter",["mouseout","mouseover"]),ko("onMouseLeave",["mouseout","mouseover"]),ko("onPointerEnter",["pointerout","pointerover"]),ko("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function my(a,s){s=(s&4)!==0;for(var d=0;d<a.length;d++){var g=a[d],C=g.event;g=g.listeners;e:{var D=void 0;if(s)for(var R=g.length-1;0<=R;R--){var G=g[R],K=G.instance,de=G.currentTarget;if(G=G.listener,K!==D&&C.isPropagationStopped())break e;D=G,C.currentTarget=de;try{D(C)}catch(Ce){iu(Ce)}C.currentTarget=null,D=K}else for(R=0;R<g.length;R++){if(G=g[R],K=G.instance,de=G.currentTarget,G=G.listener,K!==D&&C.isPropagationStopped())break e;D=G,C.currentTarget=de;try{D(C)}catch(Ce){iu(Ce)}C.currentTarget=null,D=K}}}}function ut(a,s){var d=s[th];d===void 0&&(d=s[th]=new Set);var g=a+"__bubble";d.has(g)||(Sy(s,a,2,!1),d.add(g))}function Vf(a,s,d){var g=0;s&&(g|=4),Sy(d,a,g,s)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Hf(a){if(!a[Qu]){a[Qu]=!0,um.forEach(function(d){d!=="selectionchange"&&(u8.has(d)||Vf(d,!1,a),Vf(d,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Qu]||(s[Qu]=!0,Vf("selectionchange",!1,s))}}function Sy(a,s,d,g){switch(jy(s)){case 2:var C=N8;break;case 8:C=q8;break;default:C=o1}d=C.bind(null,s,d,a),C=void 0,!uh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),g?C!==void 0?a.addEventListener(s,d,{capture:!0,passive:C}):a.addEventListener(s,d,!0):C!==void 0?a.addEventListener(s,d,{passive:C}):a.addEventListener(s,d,!1)}function jf(a,s,d,g,C){var D=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var R=g.tag;if(R===3||R===4){var G=g.stateNode.containerInfo;if(G===C)break;if(R===4)for(R=g.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===C)return;R=R.return}for(;G!==null;){if(R=Eo(G),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){g=D=R;continue e}G=G.parentNode}}g=g.return}Dm(function(){var de=D,Ce=lh(d),Ae=[];e:{var fe=$m.get(a);if(fe!==void 0){var me=eu,Qe=a;switch(a){case"keypress":if(Kc(d)===0)break e;case"keydown":case"keyup":me=iD;break;case"focusin":Qe="focus",me=gh;break;case"focusout":Qe="blur",me=gh;break;case"beforeblur":case"afterblur":me=gh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=H6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=oD;break;case jm:case Ym:case Xm:me=X6;break;case Wm:me=lD;break;case"scroll":case"scrollend":me=Q6;break;case"wheel":me=uD;break;case"copy":case"cut":case"paste":me=$6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Im;break;case"toggle":case"beforetoggle":me=hD}var Ke=(s&4)!==0,Nt=!Ke&&(a==="scroll"||a==="scrollend"),ae=Ke?fe!==null?fe+"Capture":null:fe;Ke=[];for(var ie=de,ue;ie!==null;){var we=ie;if(ue=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ue===null||ae===null||(we=Zs(ie,ae),we!=null&&Ke.push(Ll(ie,we,ue))),Nt)break;ie=ie.return}0<Ke.length&&(fe=new me(fe,Qe,null,d,Ce),Ae.push({event:fe,listeners:Ke}))}}if((s&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",fe&&d!==sh&&(Qe=d.relatedTarget||d.fromElement)&&(Eo(Qe)||Qe[Ro]))break e;if((me||fe)&&(fe=Ce.window===Ce?Ce:(fe=Ce.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Qe=d.relatedTarget||d.toElement,me=de,Qe=Qe?Eo(Qe):null,Qe!==null&&(Nt=o(Qe),Ke=Qe.tag,Qe!==Nt||Ke!==5&&Ke!==27&&Ke!==6)&&(Qe=null)):(me=null,Qe=de),me!==Qe)){if(Ke=wm,we="onMouseLeave",ae="onMouseEnter",ie="mouse",(a==="pointerout"||a==="pointerover")&&(Ke=Im,we="onPointerLeave",ae="onPointerEnter",ie="pointer"),Nt=me==null?fe:$s(me),ue=Qe==null?fe:$s(Qe),fe=new Ke(we,ie+"leave",me,d,Ce),fe.target=Nt,fe.relatedTarget=ue,we=null,Eo(Ce)===de&&(Ke=new Ke(ae,ie+"enter",Qe,d,Ce),Ke.target=ue,Ke.relatedTarget=Nt,we=Ke),Nt=we,me&&Qe)t:{for(Ke=d8,ae=me,ie=Qe,ue=0,we=ae;we;we=Ke(we))ue++;we=0;for(var We=ie;We;We=Ke(We))we++;for(;0<ue-we;)ae=Ke(ae),ue--;for(;0<we-ue;)ie=Ke(ie),we--;for(;ue--;){if(ae===ie||ie!==null&&ae===ie.alternate){Ke=ae;break t}ae=Ke(ae),ie=Ke(ie)}Ke=null}else Ke=null;me!==null&&yy(Ae,fe,me,Ke,!1),Qe!==null&&Nt!==null&&yy(Ae,Nt,Qe,Ke,!0)}}e:{if(fe=de?$s(de):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Ct=km;else if(Mm(fe))if(Fm)Ct=DD;else{Ct=CD;var He=vD}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&oh(de.elementType)&&(Ct=km):Ct=bD;if(Ct&&(Ct=Ct(a,de))){_m(Ae,Ct,d,Ce);break e}He&&He(a,fe,de),a==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&ah(fe,"number",fe.value)}switch(He=de?$s(de):window,a){case"focusin":(Mm(He)||He.contentEditable==="true")&&(zo=He,Ch=de,al=null);break;case"focusout":al=Ch=zo=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,Vm(Ae,d,Ce);break;case"selectionchange":if(xD)break;case"keydown":case"keyup":Vm(Ae,d,Ce)}var it;if(mh)e:{switch(a){case"compositionstart":var ht="onCompositionStart";break e;case"compositionend":ht="onCompositionEnd";break e;case"compositionupdate":ht="onCompositionUpdate";break e}ht=void 0}else Bo?Rm(a,d)&&(ht="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(ht="onCompositionStart");ht&&(Om&&d.locale!=="ko"&&(Bo||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Bo&&(it=Tm()):(Yr=Ce,dh="value"in Yr?Yr.value:Yr.textContent,Bo=!0)),He=Vu(de,ht),0<He.length&&(ht=new Am(ht,a,null,d,Ce),Ae.push({event:ht,listeners:He}),it?ht.data=it:(it=Em(d),it!==null&&(ht.data=it)))),(it=gD?pD(a,d):mD(a,d))&&(ht=Vu(de,"onBeforeInput"),0<ht.length&&(He=new Am("onBeforeInput","beforeinput",null,d,Ce),Ae.push({event:He,listeners:ht}),He.data=it)),s8(Ae,a,de,d,Ce)}my(Ae,s)})}function Ll(a,s,d){return{instance:a,listener:s,currentTarget:d}}function Vu(a,s){for(var d=s+"Capture",g=[];a!==null;){var C=a,D=C.stateNode;if(C=C.tag,C!==5&&C!==26&&C!==27||D===null||(C=Zs(a,d),C!=null&&g.unshift(Ll(a,C,D)),C=Zs(a,s),C!=null&&g.push(Ll(a,C,D))),a.tag===3)return g;a=a.return}return[]}function d8(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function yy(a,s,d,g,C){for(var D=s._reactName,R=[];d!==null&&d!==g;){var G=d,K=G.alternate,de=G.stateNode;if(G=G.tag,K!==null&&K===g)break;G!==5&&G!==26&&G!==27||de===null||(K=de,C?(de=Zs(d,D),de!=null&&R.unshift(Ll(d,de,K))):C||(de=Zs(d,D),de!=null&&R.push(Ll(d,de,K)))),d=d.return}R.length!==0&&a.push({event:s,listeners:R})}var h8=/\r\n?/g,f8=/\u0000|\uFFFD/g;function vy(a){return(typeof a=="string"?a:""+a).replace(h8,`
`).replace(f8,"")}function Cy(a,s){return s=vy(s),vy(a)===s}function Ut(a,s,d,g,C,D){switch(d){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||Uo(a,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&Uo(a,""+g);break;case"className":Xc(a,"class",g);break;case"tabIndex":Xc(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Xc(a,d,g);break;case"style":Cm(a,g,D);break;case"data":if(s!=="object"){Xc(a,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||d!=="href")){a.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=$c(""+g),a.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(d==="formAction"?(s!=="input"&&Ut(a,s,"name",C.name,C,null),Ut(a,s,"formEncType",C.formEncType,C,null),Ut(a,s,"formMethod",C.formMethod,C,null),Ut(a,s,"formTarget",C.formTarget,C,null)):(Ut(a,s,"encType",C.encType,C,null),Ut(a,s,"method",C.method,C,null),Ut(a,s,"target",C.target,C,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(d);break}g=$c(""+g),a.setAttribute(d,g);break;case"onClick":g!=null&&(a.onclick=hr);break;case"onScroll":g!=null&&ut("scroll",a);break;case"onScrollEnd":g!=null&&ut("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}d=$c(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""+g):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":g===!0?a.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(d,g):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(d,g):a.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(d):a.setAttribute(d,g);break;case"popover":ut("beforetoggle",a),ut("toggle",a),Yc(a,"popover",g);break;case"xlinkActuate":dr(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":dr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":dr(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":dr(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":dr(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":dr(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":dr(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":dr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":dr(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Yc(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=z6.get(d)||d,Yc(a,d,g))}}function Yf(a,s,d,g,C,D){switch(d){case"style":Cm(a,g,D);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(C.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof g=="string"?Uo(a,g):(typeof g=="number"||typeof g=="bigint")&&Uo(a,""+g);break;case"onScroll":g!=null&&ut("scroll",a);break;case"onScrollEnd":g!=null&&ut("scrollend",a);break;case"onClick":g!=null&&(a.onclick=hr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dm.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(C=d.endsWith("Capture"),s=d.slice(2,C?d.length-7:void 0),D=a[Bn]||null,D=D!=null?D[d]:null,typeof D=="function"&&a.removeEventListener(s,D,C),typeof g=="function")){typeof D!="function"&&D!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(s,g,C);break e}d in a?a[d]=g:g===!0?a.setAttribute(d,""):Yc(a,d,g)}}}function Ln(a,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",a),ut("load",a);var g=!1,C=!1,D;for(D in d)if(d.hasOwnProperty(D)){var R=d[D];if(R!=null)switch(D){case"src":g=!0;break;case"srcSet":C=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ut(a,s,D,R,d,null)}}C&&Ut(a,s,"srcSet",d.srcSet,d,null),g&&Ut(a,s,"src",d.src,d,null);return;case"input":ut("invalid",a);var G=D=R=C=null,K=null,de=null;for(g in d)if(d.hasOwnProperty(g)){var Ce=d[g];if(Ce!=null)switch(g){case"name":C=Ce;break;case"type":R=Ce;break;case"checked":K=Ce;break;case"defaultChecked":de=Ce;break;case"value":D=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(i(137,s));break;default:Ut(a,s,g,Ce,d,null)}}mm(a,D,G,K,de,R,C,!1);return;case"select":ut("invalid",a),g=R=D=null;for(C in d)if(d.hasOwnProperty(C)&&(G=d[C],G!=null))switch(C){case"value":D=G;break;case"defaultValue":R=G;break;case"multiple":g=G;default:Ut(a,s,C,G,d,null)}s=D,d=R,a.multiple=!!g,s!=null?Fo(a,!!g,s,!1):d!=null&&Fo(a,!!g,d,!0);return;case"textarea":ut("invalid",a),D=C=g=null;for(R in d)if(d.hasOwnProperty(R)&&(G=d[R],G!=null))switch(R){case"value":g=G;break;case"defaultValue":C=G;break;case"children":D=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:Ut(a,s,R,G,d,null)}ym(a,g,C,D);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(g=d[K],g!=null))switch(K){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ut(a,s,K,g,d,null)}return;case"dialog":ut("beforetoggle",a),ut("toggle",a),ut("cancel",a),ut("close",a);break;case"iframe":case"object":ut("load",a);break;case"video":case"audio":for(g=0;g<Pl.length;g++)ut(Pl[g],a);break;case"image":ut("error",a),ut("load",a);break;case"details":ut("toggle",a);break;case"embed":case"source":case"link":ut("error",a),ut("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in d)if(d.hasOwnProperty(de)&&(g=d[de],g!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ut(a,s,de,g,d,null)}return;default:if(oh(s)){for(Ce in d)d.hasOwnProperty(Ce)&&(g=d[Ce],g!==void 0&&Yf(a,s,Ce,g,d,void 0));return}}for(G in d)d.hasOwnProperty(G)&&(g=d[G],g!=null&&Ut(a,s,G,g,d,null))}function g8(a,s,d,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var C=null,D=null,R=null,G=null,K=null,de=null,Ce=null;for(me in d){var Ae=d[me];if(d.hasOwnProperty(me)&&Ae!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":K=Ae;default:g.hasOwnProperty(me)||Ut(a,s,me,null,g,Ae)}}for(var fe in g){var me=g[fe];if(Ae=d[fe],g.hasOwnProperty(fe)&&(me!=null||Ae!=null))switch(fe){case"type":D=me;break;case"name":C=me;break;case"checked":de=me;break;case"defaultChecked":Ce=me;break;case"value":R=me;break;case"defaultValue":G=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(i(137,s));break;default:me!==Ae&&Ut(a,s,fe,me,g,Ae)}}rh(a,R,G,K,de,Ce,D,C);return;case"select":me=R=G=fe=null;for(D in d)if(K=d[D],d.hasOwnProperty(D)&&K!=null)switch(D){case"value":break;case"multiple":me=K;default:g.hasOwnProperty(D)||Ut(a,s,D,null,g,K)}for(C in g)if(D=g[C],K=d[C],g.hasOwnProperty(C)&&(D!=null||K!=null))switch(C){case"value":fe=D;break;case"defaultValue":G=D;break;case"multiple":R=D;default:D!==K&&Ut(a,s,C,D,g,K)}s=G,d=R,g=me,fe!=null?Fo(a,!!d,fe,!1):!!g!=!!d&&(s!=null?Fo(a,!!d,s,!0):Fo(a,!!d,d?[]:"",!1));return;case"textarea":me=fe=null;for(G in d)if(C=d[G],d.hasOwnProperty(G)&&C!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Ut(a,s,G,null,g,C)}for(R in g)if(C=g[R],D=d[R],g.hasOwnProperty(R)&&(C!=null||D!=null))switch(R){case"value":fe=C;break;case"defaultValue":me=C;break;case"children":break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:C!==D&&Ut(a,s,R,C,g,D)}Sm(a,fe,me);return;case"option":for(var Qe in d)if(fe=d[Qe],d.hasOwnProperty(Qe)&&fe!=null&&!g.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:Ut(a,s,Qe,null,g,fe)}for(K in g)if(fe=g[K],me=d[K],g.hasOwnProperty(K)&&fe!==me&&(fe!=null||me!=null))switch(K){case"selected":a.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Ut(a,s,K,fe,g,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ke in d)fe=d[Ke],d.hasOwnProperty(Ke)&&fe!=null&&!g.hasOwnProperty(Ke)&&Ut(a,s,Ke,null,g,fe);for(de in g)if(fe=g[de],me=d[de],g.hasOwnProperty(de)&&fe!==me&&(fe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(i(137,s));break;default:Ut(a,s,de,fe,g,me)}return;default:if(oh(s)){for(var Nt in d)fe=d[Nt],d.hasOwnProperty(Nt)&&fe!==void 0&&!g.hasOwnProperty(Nt)&&Yf(a,s,Nt,void 0,g,fe);for(Ce in g)fe=g[Ce],me=d[Ce],!g.hasOwnProperty(Ce)||fe===me||fe===void 0&&me===void 0||Yf(a,s,Ce,fe,g,me);return}}for(var ae in d)fe=d[ae],d.hasOwnProperty(ae)&&fe!=null&&!g.hasOwnProperty(ae)&&Ut(a,s,ae,null,g,fe);for(Ae in g)fe=g[Ae],me=d[Ae],!g.hasOwnProperty(Ae)||fe===me||fe==null&&me==null||Ut(a,s,Ae,fe,g,me)}function by(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function p8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var C=d[g],D=C.transferSize,R=C.initiatorType,G=C.duration;if(D&&G&&by(R)){for(R=0,G=C.responseEnd,g+=1;g<d.length;g++){var K=d[g],de=K.startTime;if(de>G)break;var Ce=K.transferSize,Ae=K.initiatorType;Ce&&by(Ae)&&(K=K.responseEnd,R+=Ce*(K<G?1:(G-de)/(K-de)))}if(--g,s+=8*(D+R)/(C.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Xf=null,Wf=null;function Hu(a){return a.nodeType===9?a:a.ownerDocument}function Dy(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function $f(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zf=null;function m8(){var a=window.event;return a&&a.type==="popstate"?a===Zf?!1:(Zf=a,!0):(Zf=null,!1)}var xy=typeof setTimeout=="function"?setTimeout:void 0,S8=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,y8=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(a){return wy.resolve(null).then(a).catch(v8)}:xy;function v8(a){setTimeout(function(){throw a})}function ua(a){return a==="head"}function Ay(a,s){var d=s,g=0;do{var C=d.nextSibling;if(a.removeChild(d),C&&C.nodeType===8)if(d=C.data,d==="/$"||d==="/&"){if(g===0){a.removeChild(C),gs(s);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Rl(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Rl(d);for(var D=d.firstChild;D;){var R=D.nextSibling,G=D.nodeName;D[Ws]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=R}}else d==="body"&&Rl(a.ownerDocument.body);d=C}while(d);gs(s)}function Iy(a,s){var d=a;a=0;do{var g=d.nextSibling;if(d.nodeType===1?s?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(s?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=g}while(d)}function Kf(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Kf(d),nh(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function C8(a,s,d,g){for(;a.nodeType===1;){var C=d;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[Ws])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(D=a.getAttribute("rel"),D==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(D!==C.rel||a.getAttribute("href")!==(C.href==null||C.href===""?null:C.href)||a.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin)||a.getAttribute("title")!==(C.title==null?null:C.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(D=a.getAttribute("src"),(D!==(C.src==null?null:C.src)||a.getAttribute("type")!==(C.type==null?null:C.type)||a.getAttribute("crossorigin")!==(C.crossOrigin==null?null:C.crossOrigin))&&D&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var D=C.name==null?null:""+C.name;if(C.type==="hidden"&&a.getAttribute("name")===D)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function b8(a,s,d){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=vi(a.nextSibling),a===null))return null;return a}function Oy(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=vi(a.nextSibling),a===null))return null;return a}function Jf(a){return a.data==="$?"||a.data==="$~"}function e1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function D8(a,s){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||d.readyState!=="loading")s();else{var g=function(){s(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function vi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var t1=null;function Py(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(s===0)return vi(a.nextSibling);s--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||s++}a=a.nextSibling}return null}function Ly(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(s===0)return a;s--}else d!=="/$"&&d!=="/&"||s++}a=a.previousSibling}return null}function Ry(a,s,d){switch(s=Hu(d),a){case"html":if(a=s.documentElement,!a)throw Error(i(452));return a;case"head":if(a=s.head,!a)throw Error(i(453));return a;case"body":if(a=s.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Rl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);nh(a)}var Ci=new Map,Ey=new Set;function ju(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Or=Q.d;Q.d={f:T8,r:x8,D:w8,C:A8,L:I8,m:O8,X:L8,S:P8,M:R8};function T8(){var a=Or.f(),s=Uu();return a||s}function x8(a){var s=Mo(a);s!==null&&s.tag===5&&s.type==="form"?WS(s):Or.r(a)}var ds=typeof document>"u"?null:document;function My(a,s,d){var g=ds;if(g&&typeof s=="string"&&s){var C=hi(s);C='link[rel="'+a+'"][href="'+C+'"]',typeof d=="string"&&(C+='[crossorigin="'+d+'"]'),Ey.has(C)||(Ey.add(C),a={rel:a,crossOrigin:d,href:s},g.querySelector(C)===null&&(s=g.createElement("link"),Ln(s,"link",a),Dn(s),g.head.appendChild(s)))}}function w8(a){Or.D(a),My("dns-prefetch",a,null)}function A8(a,s){Or.C(a,s),My("preconnect",a,s)}function I8(a,s,d){Or.L(a,s,d);var g=ds;if(g&&a&&s){var C='link[rel="preload"][as="'+hi(s)+'"]';s==="image"&&d&&d.imageSrcSet?(C+='[imagesrcset="'+hi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(C+='[imagesizes="'+hi(d.imageSizes)+'"]')):C+='[href="'+hi(a)+'"]';var D=C;switch(s){case"style":D=hs(a);break;case"script":D=fs(a)}Ci.has(D)||(a=p({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:a,as:s},d),Ci.set(D,a),g.querySelector(C)!==null||s==="style"&&g.querySelector(El(D))||s==="script"&&g.querySelector(Ml(D))||(s=g.createElement("link"),Ln(s,"link",a),Dn(s),g.head.appendChild(s)))}}function O8(a,s){Or.m(a,s);var d=ds;if(d&&a){var g=s&&typeof s.as=="string"?s.as:"script",C='link[rel="modulepreload"][as="'+hi(g)+'"][href="'+hi(a)+'"]',D=C;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=fs(a)}if(!Ci.has(D)&&(a=p({rel:"modulepreload",href:a},s),Ci.set(D,a),d.querySelector(C)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ml(D)))return}g=d.createElement("link"),Ln(g,"link",a),Dn(g),d.head.appendChild(g)}}}function P8(a,s,d){Or.S(a,s,d);var g=ds;if(g&&a){var C=_o(g).hoistableStyles,D=hs(a);s=s||"default";var R=C.get(D);if(!R){var G={loading:0,preload:null};if(R=g.querySelector(El(D)))G.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},d),(d=Ci.get(D))&&n1(a,d);var K=R=g.createElement("link");Dn(K),Ln(K,"link",a),K._p=new Promise(function(de,Ce){K.onload=de,K.onerror=Ce}),K.addEventListener("load",function(){G.loading|=1}),K.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Yu(R,s,g)}R={type:"stylesheet",instance:R,count:1,state:G},C.set(D,R)}}}function L8(a,s){Or.X(a,s);var d=ds;if(d&&a){var g=_o(d).hoistableScripts,C=fs(a),D=g.get(C);D||(D=d.querySelector(Ml(C)),D||(a=p({src:a,async:!0},s),(s=Ci.get(C))&&i1(a,s),D=d.createElement("script"),Dn(D),Ln(D,"link",a),d.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},g.set(C,D))}}function R8(a,s){Or.M(a,s);var d=ds;if(d&&a){var g=_o(d).hoistableScripts,C=fs(a),D=g.get(C);D||(D=d.querySelector(Ml(C)),D||(a=p({src:a,async:!0,type:"module"},s),(s=Ci.get(C))&&i1(a,s),D=d.createElement("script"),Dn(D),Ln(D,"link",a),d.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},g.set(C,D))}}function _y(a,s,d,g){var C=(C=Se.current)?ju(C):null;if(!C)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=hs(d.href),d=_o(C).hoistableStyles,g=d.get(s),g||(g={type:"style",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=hs(d.href);var D=_o(C).hoistableStyles,R=D.get(a);if(R||(C=C.ownerDocument||C,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(a,R),(D=C.querySelector(El(a)))&&!D._p&&(R.instance=D,R.state.loading=5),Ci.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ci.set(a,d),D||E8(C,a,d,R.state))),s&&g===null)throw Error(i(528,""));return R}if(s&&g!==null)throw Error(i(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fs(d),d=_o(C).hoistableScripts,g=d.get(s),g||(g={type:"script",instance:null,count:0,state:null},d.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function hs(a){return'href="'+hi(a)+'"'}function El(a){return'link[rel="stylesheet"]['+a+"]"}function ky(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function E8(a,s,d,g){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=a.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),Ln(s,"link",d),Dn(s),a.head.appendChild(s))}function fs(a){return'[src="'+hi(a)+'"]'}function Ml(a){return"script[async]"+a}function Fy(a,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var g=a.querySelector('style[data-href~="'+hi(d.href)+'"]');if(g)return s.instance=g,Dn(g),g;var C=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Dn(g),Ln(g,"style",C),Yu(g,d.precedence,a),s.instance=g;case"stylesheet":C=hs(d.href);var D=a.querySelector(El(C));if(D)return s.state.loading|=4,s.instance=D,Dn(D),D;g=ky(d),(C=Ci.get(C))&&n1(g,C),D=(a.ownerDocument||a).createElement("link"),Dn(D);var R=D;return R._p=new Promise(function(G,K){R.onload=G,R.onerror=K}),Ln(D,"link",g),s.state.loading|=4,Yu(D,d.precedence,a),s.instance=D;case"script":return D=fs(d.src),(C=a.querySelector(Ml(D)))?(s.instance=C,Dn(C),C):(g=d,(C=Ci.get(D))&&(g=p({},d),i1(g,C)),a=a.ownerDocument||a,C=a.createElement("script"),Dn(C),Ln(C,"link",g),a.head.appendChild(C),s.instance=C);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Yu(g,d.precedence,a));return s.instance}function Yu(a,s,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),C=g.length?g[g.length-1]:null,D=C,R=0;R<g.length;R++){var G=g[R];if(G.dataset.precedence===s)D=G;else if(D!==C)break}D?D.parentNode.insertBefore(a,D.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(a,s.firstChild))}function n1(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function i1(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Xu=null;function Uy(a,s,d){if(Xu===null){var g=new Map,C=Xu=new Map;C.set(d,g)}else C=Xu,g=C.get(d),g||(g=new Map,C.set(d,g));if(g.has(a))return g;for(g.set(a,null),d=d.getElementsByTagName(a),C=0;C<d.length;C++){var D=d[C];if(!(D[Ws]||D[An]||a==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var R=D.getAttribute(s)||"";R=a+R;var G=g.get(R);G?G.push(D):g.set(R,[D])}}return g}function Ny(a,s,d){a=a.ownerDocument||a,a.head.insertBefore(d,s==="title"?a.querySelector("head > title"):null)}function M8(a,s,d){if(d===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function qy(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function _8(a,s,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var C=hs(g.href),D=s.querySelector(El(C));if(D){s=D._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Wu.bind(a),s.then(a,a)),d.state.loading|=4,d.instance=D,Dn(D);return}D=s.ownerDocument||s,g=ky(g),(C=Ci.get(C))&&n1(g,C),D=D.createElement("link"),Dn(D);var R=D;R._p=new Promise(function(G,K){R.onload=G,R.onerror=K}),Ln(D,"link",g),d.instance=D}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,s),(s=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Wu.bind(a),s.addEventListener("load",d),s.addEventListener("error",d))}}var r1=0;function k8(a,s){return a.stylesheets&&a.count===0&&Zu(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var g=setTimeout(function(){if(a.stylesheets&&Zu(a,a.stylesheets),a.unsuspend){var D=a.unsuspend;a.unsuspend=null,D()}},6e4+s);0<a.imgBytes&&r1===0&&(r1=62500*p8());var C=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zu(a,a.stylesheets),a.unsuspend)){var D=a.unsuspend;a.unsuspend=null,D()}},(a.imgBytes>r1?50:800)+s);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(C)}}:null}function Wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $u=null;function Zu(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$u=new Map,s.forEach(F8,a),$u=null,Wu.call(a))}function F8(a,s){if(!(s.state.loading&4)){var d=$u.get(a);if(d)var g=d.get(null);else{d=new Map,$u.set(a,d);for(var C=a.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<C.length;D++){var R=C[D];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),g=R)}g&&d.set(null,g)}C=s.instance,R=C.getAttribute("data-precedence"),D=d.get(R)||g,D===g&&d.set(null,C),d.set(R,C),this.count++,g=Wu.bind(this),C.addEventListener("load",g),C.addEventListener("error",g),D?D.parentNode.insertBefore(C,D.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(C,a.firstChild)),s.state.loading|=4}}var _l={$$typeof:w,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function U8(a,s,d,g,C,D,R,G,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kd(0),this.hiddenUpdates=Kd(null),this.identifierPrefix=g,this.onUncaughtError=C,this.onCaughtError=D,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function By(a,s,d,g,C,D,R,G,K,de,Ce,Ae){return a=new U8(a,s,d,R,K,de,Ce,Ae,G),s=1,D===!0&&(s|=24),D=Jn(3,null,null,s),a.current=D,D.stateNode=a,s=Fh(),s.refCount++,a.pooledCache=s,s.refCount++,D.memoizedState={element:g,isDehydrated:d,cache:s},Bh(D),a}function zy(a){return a?(a=Vo,a):Vo}function Gy(a,s,d,g,C,D){C=zy(C),g.context===null?g.context=C:g.pendingContext=C,g=Jr(s),g.payload={element:d},D=D===void 0?null:D,D!==null&&(g.callback=D),d=ea(a,g,s),d!==null&&(jn(d,a,s),hl(d,a,s))}function Qy(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<s?d:s}}function a1(a,s){Qy(a,s),(a=a.alternate)&&Qy(a,s)}function Vy(a){if(a.tag===13||a.tag===31){var s=Na(a,67108864);s!==null&&jn(s,a,67108864),a1(a,67108864)}}function Hy(a){if(a.tag===13||a.tag===31){var s=ri();s=Jd(s);var d=Na(a,s);d!==null&&jn(d,a,s),a1(a,s)}}var Ku=!0;function N8(a,s,d,g){var C=U.T;U.T=null;var D=Q.p;try{Q.p=2,o1(a,s,d,g)}finally{Q.p=D,U.T=C}}function q8(a,s,d,g){var C=U.T;U.T=null;var D=Q.p;try{Q.p=8,o1(a,s,d,g)}finally{Q.p=D,U.T=C}}function o1(a,s,d,g){if(Ku){var C=s1(g);if(C===null)jf(a,s,g,Ju,d),Yy(a,g);else if(z8(C,a,s,d,g))g.stopPropagation();else if(Yy(a,g),s&4&&-1<B8.indexOf(a)){for(;C!==null;){var D=Mo(C);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var R=Pt(D.pendingLanes);if(R!==0){var G=D;for(G.pendingLanes|=2,G.entangledLanes|=2;R;){var K=1<<31-kt(R);G.entanglements[1]|=K,R&=~K}$i(D),(xt&6)===0&&(ku=Ie()+500,Ol(0))}}break;case 31:case 13:G=Na(D,2),G!==null&&jn(G,D,2),Uu(),a1(D,2)}if(D=s1(g),D===null&&jf(a,s,g,Ju,d),D===C)break;C=D}C!==null&&g.stopPropagation()}else jf(a,s,g,null,d)}}function s1(a){return a=lh(a),l1(a)}var Ju=null;function l1(a){if(Ju=null,a=Eo(a),a!==null){var s=o(a);if(s===null)a=null;else{var d=s.tag;if(d===13){if(a=l(s),a!==null)return a;a=null}else if(d===31){if(a=c(s),a!==null)return a;a=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Ju=a,null}function jy(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case pe:return 2;case Ee:return 8;case ke:case Ge:return 32;case Xe:return 268435456;default:return 32}default:return 32}}var c1=!1,da=null,ha=null,fa=null,kl=new Map,Fl=new Map,ga=[],B8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(a,s){switch(a){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(s.pointerId)}}function Ul(a,s,d,g,C,D){return a===null||a.nativeEvent!==D?(a={blockedOn:s,domEventName:d,eventSystemFlags:g,nativeEvent:D,targetContainers:[C]},s!==null&&(s=Mo(s),s!==null&&Vy(s)),a):(a.eventSystemFlags|=g,s=a.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),a)}function z8(a,s,d,g,C){switch(s){case"focusin":return da=Ul(da,a,s,d,g,C),!0;case"dragenter":return ha=Ul(ha,a,s,d,g,C),!0;case"mouseover":return fa=Ul(fa,a,s,d,g,C),!0;case"pointerover":var D=C.pointerId;return kl.set(D,Ul(kl.get(D)||null,a,s,d,g,C)),!0;case"gotpointercapture":return D=C.pointerId,Fl.set(D,Ul(Fl.get(D)||null,a,s,d,g,C)),!0}return!1}function Xy(a){var s=Eo(a.target);if(s!==null){var d=o(s);if(d!==null){if(s=d.tag,s===13){if(s=l(d),s!==null){a.blockedOn=s,lm(a.priority,function(){Hy(d)});return}}else if(s===31){if(s=c(d),s!==null){a.blockedOn=s,lm(a.priority,function(){Hy(d)});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function e0(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var d=s1(a.nativeEvent);if(d===null){d=a.nativeEvent;var g=new d.constructor(d.type,d);sh=g,d.target.dispatchEvent(g),sh=null}else return s=Mo(d),s!==null&&Vy(s),a.blockedOn=d,!1;s.shift()}return!0}function Wy(a,s,d){e0(a)&&d.delete(s)}function G8(){c1=!1,da!==null&&e0(da)&&(da=null),ha!==null&&e0(ha)&&(ha=null),fa!==null&&e0(fa)&&(fa=null),kl.forEach(Wy),Fl.forEach(Wy)}function t0(a,s){a.blockedOn===s&&(a.blockedOn=null,c1||(c1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,G8)))}var n0=null;function $y(a){n0!==a&&(n0=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){n0===a&&(n0=null);for(var s=0;s<a.length;s+=3){var d=a[s],g=a[s+1],C=a[s+2];if(typeof g!="function"){if(l1(g||d)===null)continue;break}var D=Mo(d);D!==null&&(a.splice(s,3),s-=3,sf(D,{pending:!0,data:C,method:d.method,action:g},g,C))}}))}function gs(a){function s(K){return t0(K,a)}da!==null&&t0(da,a),ha!==null&&t0(ha,a),fa!==null&&t0(fa,a),kl.forEach(s),Fl.forEach(s);for(var d=0;d<ga.length;d++){var g=ga[d];g.blockedOn===a&&(g.blockedOn=null)}for(;0<ga.length&&(d=ga[0],d.blockedOn===null);)Xy(d),d.blockedOn===null&&ga.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var C=d[g],D=d[g+1],R=C[Bn]||null;if(typeof D=="function")R||$y(d);else if(R){var G=null;if(D&&D.hasAttribute("formAction")){if(C=D,R=D[Bn]||null)G=R.formAction;else if(l1(C)!==null)continue}else G=R.action;typeof G=="function"?d[g+1]=G:(d.splice(g,3),g-=3),$y(d)}}}function Zy(){function a(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(R){return C=R})},focusReset:"manual",scroll:"manual"})}function s(){C!==null&&(C(),C=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,C=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),C!==null&&(C(),C=null)}}}function u1(a){this._internalRoot=a}i0.prototype.render=u1.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(i(409));var d=s.current,g=ri();Gy(d,g,a,s,null,null)},i0.prototype.unmount=u1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Gy(a.current,2,null,a,null,null),Uu(),s[Ro]=null}};function i0(a){this._internalRoot=a}i0.prototype.unstable_scheduleHydration=function(a){if(a){var s=sm();a={blockedOn:null,target:a,priority:s};for(var d=0;d<ga.length&&s!==0&&s<ga[d].priority;d++);ga.splice(d,0,a),d===0&&Xy(a)}};var Ky=e.version;if(Ky!=="19.2.4")throw Error(i(527,Ky,"19.2.4"));Q.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(s),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var Q8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r0.isDisabled&&r0.supportsFiber)try{$e=r0.inject(Q8),vt=r0}catch{}}return ql.createRoot=function(a,s){if(!r(a))throw Error(i(299));var d=!1,g="",C=a2,D=o2,R=s2;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(C=s.onUncaughtError),s.onCaughtError!==void 0&&(D=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=By(a,1,!1,null,null,d,g,null,C,D,R,Zy),a[Ro]=s.current,Hf(a),new u1(s)},ql.hydrateRoot=function(a,s,d){if(!r(a))throw Error(i(299));var g=!1,C="",D=a2,R=o2,G=s2,K=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(C=d.identifierPrefix),d.onUncaughtError!==void 0&&(D=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.formState!==void 0&&(K=d.formState)),s=By(a,1,!0,s,d??null,g,C,K,D,R,G,Zy),s.context=zy(null),d=s.current,g=ri(),g=Jd(g),C=Jr(g),C.callback=null,ea(d,C,g),d=g,s.current.lanes=d,Xs(s,d),$i(s),a[Ro]=s.current,Hf(a),new i0(s)},ql.version="19.2.4",ql}var lv;function J8(){if(lv)return f1.exports;lv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),f1.exports=K8(),f1.exports}var eT=J8();const Oc={black:"#000",white:"#fff"},ps={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},tT={500:"#e91e63"},ms={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},nT={500:"#3f51b5"},Ss={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ys={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},vs={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Bl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},iT={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Br(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const Ui="$$material";function od(){return od=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},od.apply(null,arguments)}function rT(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function aT(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var oT=(function(){function n(t){var i=this;this._insertTag=function(r){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,o),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(aT(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var o=rT(r);try{o.insertRule(i,o.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n})(),kn="-ms-",sd="-moz-",wt="-webkit-",n4="comm",ap="rule",op="decl",sT="@import",i4="@keyframes",lT="@layer",cT=Math.abs,xd=String.fromCharCode,uT=Object.assign;function dT(n,e){return Mn(n,0)^45?(((e<<2^Mn(n,0))<<2^Mn(n,1))<<2^Mn(n,2))<<2^Mn(n,3):0}function r4(n){return n.trim()}function hT(n,e){return(n=e.exec(n))?n[0]:n}function At(n,e,t){return n.replace(e,t)}function ag(n,e){return n.indexOf(e)}function Mn(n,e){return n.charCodeAt(e)|0}function Pc(n,e,t){return n.slice(e,t)}function er(n){return n.length}function sp(n){return n.length}function o0(n,e){return e.push(n),n}function fT(n,e){return n.map(e).join("")}var wd=1,Es=1,a4=0,Zn=0,yn=0,Bs="";function Ad(n,e,t,i,r,o,l){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:wd,column:Es,length:l,return:""}}function zl(n,e){return uT(Ad("",null,null,"",null,null,0),n,{length:-n.length},e)}function gT(){return yn}function pT(){return yn=Zn>0?Mn(Bs,--Zn):0,Es--,yn===10&&(Es=1,wd--),yn}function si(){return yn=Zn<a4?Mn(Bs,Zn++):0,Es++,yn===10&&(Es=1,wd++),yn}function sr(){return Mn(Bs,Zn)}function H0(){return Zn}function qc(n,e){return Pc(Bs,n,e)}function Lc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function o4(n){return wd=Es=1,a4=er(Bs=n),Zn=0,[]}function s4(n){return Bs="",n}function j0(n){return r4(qc(Zn-1,og(n===91?n+2:n===40?n+1:n)))}function mT(n){for(;(yn=sr())&&yn<33;)si();return Lc(n)>2||Lc(yn)>3?"":" "}function ST(n,e){for(;--e&&si()&&!(yn<48||yn>102||yn>57&&yn<65||yn>70&&yn<97););return qc(n,H0()+(e<6&&sr()==32&&si()==32))}function og(n){for(;si();)switch(yn){case n:return Zn;case 34:case 39:n!==34&&n!==39&&og(yn);break;case 40:n===41&&og(n);break;case 92:si();break}return Zn}function yT(n,e){for(;si()&&n+yn!==57;)if(n+yn===84&&sr()===47)break;return"/*"+qc(e,Zn-1)+"*"+xd(n===47?n:si())}function vT(n){for(;!Lc(sr());)si();return qc(n,Zn)}function CT(n){return s4(Y0("",null,null,null,[""],n=o4(n),0,[0],n))}function Y0(n,e,t,i,r,o,l,c,u){for(var h=0,f=0,p=l,m=0,S=0,y=0,v=1,b=1,T=1,x=0,w="",A=r,O=o,L=i,M=w;b;)switch(y=x,x=si()){case 40:if(y!=108&&Mn(M,p-1)==58){ag(M+=At(j0(x),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:M+=j0(x);break;case 9:case 10:case 13:case 32:M+=mT(y);break;case 92:M+=ST(H0()-1,7);continue;case 47:switch(sr()){case 42:case 47:o0(bT(yT(si(),H0()),e,t),u);break;default:M+="/"}break;case 123*v:c[h++]=er(M)*T;case 125*v:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+f:T==-1&&(M=At(M,/\f/g,"")),S>0&&er(M)-p&&o0(S>32?uv(M+";",i,t,p-1):uv(At(M," ","")+";",i,t,p-2),u);break;case 59:M+=";";default:if(o0(L=cv(M,e,t,h,f,r,c,w,A=[],O=[],p),o),x===123)if(f===0)Y0(M,e,L,L,A,o,p,c,O);else switch(m===99&&Mn(M,3)===110?100:m){case 100:case 108:case 109:case 115:Y0(n,L,L,i&&o0(cv(n,L,L,0,0,r,c,w,r,A=[],p),O),r,O,p,c,i?A:O);break;default:Y0(M,L,L,L,[""],O,0,c,O)}}h=f=S=0,v=T=1,w=M="",p=l;break;case 58:p=1+er(M),S=y;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&pT()==125)continue}switch(M+=xd(x),x*v){case 38:T=f>0?1:(M+="\f",-1);break;case 44:c[h++]=(er(M)-1)*T,T=1;break;case 64:sr()===45&&(M+=j0(si())),m=sr(),f=p=er(w=M+=vT(H0())),x++;break;case 45:y===45&&er(M)==2&&(v=0)}}return o}function cv(n,e,t,i,r,o,l,c,u,h,f){for(var p=r-1,m=r===0?o:[""],S=sp(m),y=0,v=0,b=0;y<i;++y)for(var T=0,x=Pc(n,p+1,p=cT(v=l[y])),w=n;T<S;++T)(w=r4(v>0?m[T]+" "+x:At(x,/&\f/g,m[T])))&&(u[b++]=w);return Ad(n,e,t,r===0?ap:c,u,h,f)}function bT(n,e,t){return Ad(n,e,t,n4,xd(gT()),Pc(n,2,-2),0)}function uv(n,e,t,i){return Ad(n,e,t,op,Pc(n,0,i),Pc(n,i+1,-1),i)}function Ps(n,e){for(var t="",i=sp(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function DT(n,e,t,i){switch(n.type){case lT:if(n.children.length)break;case sT:case op:return n.return=n.return||n.value;case n4:return"";case i4:return n.return=n.value+"{"+Ps(n.children,i)+"}";case ap:n.value=n.props.join(",")}return er(t=Ps(n.children,i))?n.return=n.value+"{"+t+"}":""}function TT(n){var e=sp(n);return function(t,i,r,o){for(var l="",c=0;c<e;c++)l+=n[c](t,i,r,o)||"";return l}}function xT(n){return function(e){e.root||(e=e.return)&&n(e)}}function l4(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var wT=function(e,t,i){for(var r=0,o=0;r=o,o=sr(),r===38&&o===12&&(t[i]=1),!Lc(o);)si();return qc(e,Zn)},AT=function(e,t){var i=-1,r=44;do switch(Lc(r)){case 0:r===38&&sr()===12&&(t[i]=1),e[i]+=wT(Zn-1,t,i);break;case 2:e[i]+=j0(r);break;case 4:if(r===44){e[++i]=sr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=xd(r)}while(r=si());return e},IT=function(e,t){return s4(AT(o4(e),t))},dv=new WeakMap,OT=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!dv.get(i))&&!r){dv.set(e,!0);for(var o=[],l=IT(t,o),c=i.props,u=0,h=0;u<l.length;u++)for(var f=0;f<c.length;f++,h++)e.props[h]=o[u]?l[u].replace(/&\f/g,c[f]):c[f]+" "+l[u]}}},PT=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function c4(n,e){switch(dT(n,e)){case 5103:return wt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return wt+n+sd+n+kn+n+n;case 6828:case 4268:return wt+n+kn+n+n;case 6165:return wt+n+kn+"flex-"+n+n;case 5187:return wt+n+At(n,/(\w+).+(:[^]+)/,wt+"box-$1$2"+kn+"flex-$1$2")+n;case 5443:return wt+n+kn+"flex-item-"+At(n,/flex-|-self/,"")+n;case 4675:return wt+n+kn+"flex-line-pack"+At(n,/align-content|flex-|-self/,"")+n;case 5548:return wt+n+kn+At(n,"shrink","negative")+n;case 5292:return wt+n+kn+At(n,"basis","preferred-size")+n;case 6060:return wt+"box-"+At(n,"-grow","")+wt+n+kn+At(n,"grow","positive")+n;case 4554:return wt+At(n,/([^-])(transform)/g,"$1"+wt+"$2")+n;case 6187:return At(At(At(n,/(zoom-|grab)/,wt+"$1"),/(image-set)/,wt+"$1"),n,"")+n;case 5495:case 3959:return At(n,/(image-set\([^]*)/,wt+"$1$`$1");case 4968:return At(At(n,/(.+:)(flex-)?(.*)/,wt+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wt+n+n;case 4095:case 3583:case 4068:case 2532:return At(n,/(.+)-inline(.+)/,wt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(er(n)-1-e>6)switch(Mn(n,e+1)){case 109:if(Mn(n,e+4)!==45)break;case 102:return At(n,/(.+:)(.+)-([^]+)/,"$1"+wt+"$2-$3$1"+sd+(Mn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~ag(n,"stretch")?c4(At(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Mn(n,e+1)!==115)break;case 6444:switch(Mn(n,er(n)-3-(~ag(n,"!important")&&10))){case 107:return At(n,":",":"+wt)+n;case 101:return At(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wt+(Mn(n,14)===45?"inline-":"")+"box$3$1"+wt+"$2$3$1"+kn+"$2box$3")+n}break;case 5936:switch(Mn(n,e+11)){case 114:return wt+n+kn+At(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return wt+n+kn+At(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return wt+n+kn+At(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return wt+n+kn+n+n}return n}var LT=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case op:e.return=c4(e.value,e.length);break;case i4:return Ps([zl(e,{value:At(e.value,"@","@"+wt)})],r);case ap:if(e.length)return fT(e.props,function(o){switch(hT(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ps([zl(e,{props:[At(o,/:(read-\w+)/,":"+sd+"$1")]})],r);case"::placeholder":return Ps([zl(e,{props:[At(o,/:(plac\w+)/,":"+wt+"input-$1")]}),zl(e,{props:[At(o,/:(plac\w+)/,":"+sd+"$1")]}),zl(e,{props:[At(o,/:(plac\w+)/,kn+"input-$1")]})],r)}return""})}},RT=[LT],ET=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var r=e.stylisPlugins||RT,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),T=1;T<b.length;T++)o[b[T]]=!0;c.push(v)});var u,h=[OT,PT];{var f,p=[DT,xT(function(v){f.insert(v)})],m=TT(h.concat(r,p)),S=function(b){return Ps(CT(b),m)};u=function(b,T,x,w){f=x,S(b?b+"{"+T.styles+"}":T.styles),w&&(y.inserted[T.name]=!0)}}var y={key:t,sheet:new oT({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:u};return y.sheet.hydrate(c),y},S1={exports:{}},Lt={};var hv;function MT(){if(hv)return Lt;hv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,S=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,T=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(O){if(typeof O=="object"&&O!==null){var L=O.$$typeof;switch(L){case e:switch(O=O.type,O){case u:case h:case i:case o:case r:case p:return O;default:switch(O=O&&O.$$typeof,O){case c:case f:case y:case S:case l:return O;default:return L}}case t:return L}}}function A(O){return w(O)===h}return Lt.AsyncMode=u,Lt.ConcurrentMode=h,Lt.ContextConsumer=c,Lt.ContextProvider=l,Lt.Element=e,Lt.ForwardRef=f,Lt.Fragment=i,Lt.Lazy=y,Lt.Memo=S,Lt.Portal=t,Lt.Profiler=o,Lt.StrictMode=r,Lt.Suspense=p,Lt.isAsyncMode=function(O){return A(O)||w(O)===u},Lt.isConcurrentMode=A,Lt.isContextConsumer=function(O){return w(O)===c},Lt.isContextProvider=function(O){return w(O)===l},Lt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Lt.isForwardRef=function(O){return w(O)===f},Lt.isFragment=function(O){return w(O)===i},Lt.isLazy=function(O){return w(O)===y},Lt.isMemo=function(O){return w(O)===S},Lt.isPortal=function(O){return w(O)===t},Lt.isProfiler=function(O){return w(O)===o},Lt.isStrictMode=function(O){return w(O)===r},Lt.isSuspense=function(O){return w(O)===p},Lt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===i||O===h||O===o||O===r||O===p||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===y||O.$$typeof===S||O.$$typeof===l||O.$$typeof===c||O.$$typeof===f||O.$$typeof===b||O.$$typeof===T||O.$$typeof===x||O.$$typeof===v)},Lt.typeOf=w,Lt}var fv;function _T(){return fv||(fv=1,S1.exports=MT()),S1.exports}var y1,gv;function kT(){if(gv)return y1;gv=1;var n=_T(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=r;function l(y){return n.isMemo(y)?r:o[y.$$typeof]||e}var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function S(y,v,b){if(typeof v!="string"){if(m){var T=p(v);T&&T!==m&&S(y,T,b)}var x=u(v);h&&(x=x.concat(h(v)));for(var w=l(y),A=l(v),O=0;O<x.length;++O){var L=x[O];if(!t[L]&&!(b&&b[L])&&!(A&&A[L])&&!(w&&w[L])){var M=f(v,L);try{c(y,L,M)}catch{}}}}return y}return y1=S,y1}kT();var FT=!0;function u4(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var lp=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||FT===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},cp=function(e,t,i){lp(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function UT(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var NT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qT=/[A-Z]|^ms/g,BT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d4=function(e){return e.charCodeAt(1)===45},pv=function(e){return e!=null&&typeof e!="boolean"},v1=l4(function(n){return d4(n)?n:n.replace(qT,"-$&").toLowerCase()}),mv=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(BT,function(i,r,o){return tr={name:r,styles:o,next:tr},r})}return NT[e]!==1&&!d4(e)&&typeof t=="number"&&t!==0?t+"px":t};function Rc(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return tr={name:r.name,styles:r.styles,next:tr},r.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)tr={name:l.name,styles:l.styles,next:tr},l=l.next;var c=o.styles+";";return c}return zT(n,e,t)}case"function":{if(n!==void 0){var u=tr,h=t(n);return tr=u,Rc(n,e,h)}break}}var f=t;if(e==null)return f;var p=e[f];return p!==void 0?p:f}function zT(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=Rc(n,e,t[r])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?i+=o+"{"+e[c]+"}":pv(c)&&(i+=v1(o)+":"+mv(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var u=0;u<l.length;u++)pv(l[u])&&(i+=v1(o)+":"+mv(o,l[u])+";");else{var h=Rc(n,e,l);switch(o){case"animation":case"animationName":{i+=v1(o)+":"+h+";";break}default:i+=o+"{"+h+"}"}}}return i}var Sv=/label:\s*([^\s;{]+)\s*(;|$)/g,tr;function Bc(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";tr=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,r+=Rc(t,e,o);else{var l=o;r+=l[0]}for(var c=1;c<n.length;c++)if(r+=Rc(t,e,n[c]),i){var u=o;r+=u[c]}Sv.lastIndex=0;for(var h="",f;(f=Sv.exec(r))!==null;)h+="-"+f[1];var p=UT(r)+h;return{name:p,styles:r,next:tr}}var GT=function(e){return e()},h4=ad.useInsertionEffect?ad.useInsertionEffect:!1,f4=h4||GT,yv=h4||Y.useLayoutEffect,g4=Y.createContext(typeof HTMLElement<"u"?ET({key:"css"}):null);g4.Provider;var up=function(e){return Y.forwardRef(function(t,i){var r=Y.useContext(g4);return e(t,r,i)})},zc=Y.createContext({}),dp={}.hasOwnProperty,sg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QT=function(e,t){var i={};for(var r in t)dp.call(t,r)&&(i[r]=t[r]);return i[sg]=e,i},VT=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return lp(t,i,r),f4(function(){return cp(t,i,r)}),null},HT=up(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=n[sg],o=[i],l="";typeof n.className=="string"?l=u4(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var c=Bc(o,void 0,Y.useContext(zc));l+=e.key+"-"+c.name;var u={};for(var h in n)dp.call(n,h)&&h!=="css"&&h!==sg&&(u[h]=n[h]);return u.className=l,t&&(u.ref=t),Y.createElement(Y.Fragment,null,Y.createElement(VT,{cache:e,serialized:c,isStringTag:typeof r=="string"}),Y.createElement(r,u))}),jT=HT,vv=function(e,t){var i=arguments;if(t==null||!dp.call(t,"css"))return Y.createElement.apply(void 0,i);var r=i.length,o=new Array(r);o[0]=jT,o[1]=QT(e,t);for(var l=2;l<r;l++)o[l]=i[l];return Y.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(vv||(vv={}));var YT=up(function(n,e){var t=n.styles,i=Bc([t],void 0,Y.useContext(zc)),r=Y.useRef();return yv(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,u=document.querySelector('style[data-emotion="'+o+" "+i.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),u!==null&&(c=!0,u.setAttribute("data-emotion",o),l.hydrate([u])),r.current=[l,c],function(){l.flush()}},[e]),yv(function(){var o=r.current,l=o[0],c=o[1];if(c){o[1]=!1;return}if(i.next!==void 0&&cp(e,i.next,!0),l.tags.length){var u=l.tags[l.tags.length-1].nextElementSibling;l.before=u,l.flush()}e.insert("",i,l,!1)},[e,i.name]),null});function zs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Bc(e)}function Pa(){var n=zs.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var XT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,WT=l4(function(n){return XT.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),$T=WT,ZT=function(e){return e!=="theme"},Cv=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?$T:ZT},bv=function(e,t,i){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},KT=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return lp(t,i,r),f4(function(){return cp(t,i,r)}),null},JT=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=bv(e,t,i),u=c||Cv(r),h=!u("as");return function(){var f=arguments,p=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&p.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)p.push.apply(p,f);else{var m=f[0];p.push(m[0]);for(var S=f.length,y=1;y<S;y++)p.push(f[y],m[y])}var v=up(function(b,T,x){var w=h&&b.as||r,A="",O=[],L=b;if(b.theme==null){L={};for(var M in b)L[M]=b[M];L.theme=Y.useContext(zc)}typeof b.className=="string"?A=u4(T.registered,O,b.className):b.className!=null&&(A=b.className+" ");var k=Bc(p.concat(O),T.registered,L);A+=T.key+"-"+k.name,l!==void 0&&(A+=" "+l);var F=h&&c===void 0?Cv(w):u,B={};for(var H in b)h&&H==="as"||F(H)&&(B[H]=b[H]);return B.className=A,x&&(B.ref=x),Y.createElement(Y.Fragment,null,Y.createElement(KT,{cache:T,serialized:k,isStringTag:typeof w=="string"}),Y.createElement(w,B))});return v.displayName=o!==void 0?o:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=r,v.__emotion_styles=p,v.__emotion_forwardProp=c,Object.defineProperty(v,"toString",{value:function(){return"."+l}}),v.withComponent=function(b,T){var x=n(b,od({},t,T,{shouldForwardProp:bv(v,T,!0)}));return x.apply(void 0,p)},v}},ex=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lg=JT.bind(null);ex.forEach(function(n){lg[n]=lg(n)});function tx(n){return n==null||Object.keys(n).length===0}function p4(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?r=>e(tx(r)?t:r):e;return J.jsx(YT,{styles:i})}function m4(n,e){return lg(n,e)}function nx(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Dv=[];function Ta(n){return Dv[0]=n,Bc(Dv)}var C1={exports:{}},qt={};var Tv;function ix(){if(Tv)return qt;Tv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var b=v.$$typeof;switch(b){case n:switch(v=v.type,v){case t:case r:case i:case u:case h:case m:return v;default:switch(v=v&&v.$$typeof,v){case l:case c:case p:case f:return v;case o:return v;default:return b}}case e:return b}}}return qt.ContextConsumer=o,qt.ContextProvider=l,qt.Element=n,qt.ForwardRef=c,qt.Fragment=t,qt.Lazy=p,qt.Memo=f,qt.Portal=e,qt.Profiler=r,qt.StrictMode=i,qt.Suspense=u,qt.SuspenseList=h,qt.isContextConsumer=function(v){return y(v)===o},qt.isContextProvider=function(v){return y(v)===l},qt.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===n},qt.isForwardRef=function(v){return y(v)===c},qt.isFragment=function(v){return y(v)===t},qt.isLazy=function(v){return y(v)===p},qt.isMemo=function(v){return y(v)===f},qt.isPortal=function(v){return y(v)===e},qt.isProfiler=function(v){return y(v)===r},qt.isStrictMode=function(v){return y(v)===i},qt.isSuspense=function(v){return y(v)===u},qt.isSuspenseList=function(v){return y(v)===h},qt.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===t||v===r||v===i||v===u||v===h||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===f||v.$$typeof===l||v.$$typeof===o||v.$$typeof===c||v.$$typeof===S||v.getModuleId!==void 0)},qt.typeOf=y,qt}var xv;function rx(){return xv||(xv=1,C1.exports=ix()),C1.exports}var S4=rx();function ir(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function y4(n){if(Y.isValidElement(n)||S4.isValidElementType(n)||!ir(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=y4(n[t])}),e}function xn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return ir(n)&&ir(e)&&Object.keys(e).forEach(r=>{Y.isValidElement(e[r])||S4.isValidElementType(e[r])?i[r]=e[r]:ir(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&ir(n[r])?i[r]=xn(n[r],e[r],t):t.clone?i[r]=ir(e[r])?y4(e[r]):e[r]:i[r]=e[r]}),i}const ax=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function ox(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,o=ax(e),l=Object.keys(o);function c(m){return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t})`}function u(m){return`@media (max-width:${(typeof e[m]=="number"?e[m]:m)-i/100}${t})`}function h(m,S){const y=l.indexOf(S);return`@media (min-width:${typeof e[m]=="number"?e[m]:m}${t}) and (max-width:${(y!==-1&&typeof e[l[y]]=="number"?e[l[y]]:S)-i/100}${t})`}function f(m){return l.indexOf(m)+1<l.length?h(m,l[l.indexOf(m)+1]):c(m)}function p(m){const S=l.indexOf(m);return S===0?c(l[1]):S===l.length-1?u(l[S]):h(m,l[l.indexOf(m)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:u,between:h,only:f,not:p,unit:t,...r}}function wv(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{const o=/min-width:\s*([0-9.]+)/;return+(i.match(o)?.[1]||0)-+(r.match(o)?.[1]||0)});return t.length?t.reduce((i,r)=>{const o=e[r];return delete i[r],i[r]=o,i},{...e}):e}function sx(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function lx(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,o=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(o)}function cx(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const u=e(n.breakpoints.not(...c),l);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const i={},r=o=>(t(i,o),i);return t(r),{...n,containerQueries:r}}const ux={borderRadius:4};function pc(n,e){return e?xn(n,e,{clone:!1}):n}const Id={xs:0,sm:600,md:900,lg:1200,xl:1536},Av={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Id[n]}px)`},dx={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Id[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function qi(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const o=i.breakpoints||Av;return e.reduce((l,c,u)=>(l[o.up(o.keys[u])]=t(e[u]),l),{})}if(typeof e=="object"){const o=i.breakpoints||Av;return Object.keys(e).reduce((l,c)=>{if(sx(o.keys,c)){const u=lx(i.containerQueries?i:dx,c);u&&(l[u]=t(e[c],c))}else if(Object.keys(o.values||Id).includes(c)){const u=o.up(c);l[u]=t(e[c],c)}else{const u=c;l[u]=e[u]}return l},{})}return t(e)}function v4(n={}){return n.keys?.reduce((t,i)=>{const r=n.up(i);return t[r]={},t},{})||{}}function cg(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function hx(n,...e){const t=v4(n),i=[t,...e].reduce((r,o)=>xn(r,o),{});return cg(Object.keys(t),i)}function fx(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((r,o)=>{o<n.length&&(t[r]=!0)}):i.forEach(r=>{n[r]!=null&&(t[r]=!0)}),t}function b1({values:n,breakpoints:e,base:t}){const i=t||fx(n,e),r=Object.keys(i);if(r.length===0)return n;let o;return r.reduce((l,c,u)=>(Array.isArray(n)?(l[c]=n[u]!=null?n[u]:n[o],o=u):typeof n=="object"?(l[c]=n[c]!=null?n[c]:n[o],o=c):l[c]=n,l),{})}function Be(n){if(typeof n!="string")throw new Error(Br(7));return n.charAt(0).toUpperCase()+n.slice(1)}function nr(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,o)=>r&&r[o]?r[o]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function ld(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=nr(n,t)||i,e&&(r=e(r,i,n)),r}function un(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,o=l=>{if(l[e]==null)return null;const c=l[e],u=l.theme,h=nr(u,i)||{};return qi(l,c,p=>{let m=ld(h,r,p);return p===m&&typeof p=="string"&&(m=ld(h,r,`${e}${p==="default"?"":Be(p)}`,p)),t===!1?m:{[t]:m}})};return o.propTypes={},o.filterProps=[e],o}function gx(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const px={m:"margin",p:"padding"},mx={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Iv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Sx=gx(n=>{if(n.length>2)if(Iv[n])n=Iv[n];else return[n];const[e,t]=n.split(""),i=px[e],r=mx[t]||"";return Array.isArray(r)?r.map(o=>i+o):[i+r]}),hp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],fp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...hp,...fp];function Gc(n,e,t,i){const r=nr(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?o=>typeof o=="string"?o:typeof r=="string"?r.startsWith("var(")&&o===0?0:r.startsWith("var(")&&o===1?r:`calc(${o} * ${r})`:r*o:Array.isArray(r)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=r[l];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof r=="function"?r:()=>{}}function Od(n){return Gc(n,"spacing",8)}function To(n,e){return typeof e=="string"||e==null?e:n(e)}function yx(n,e){return t=>n.reduce((i,r)=>(i[r]=To(e,t),i),{})}function vx(n,e,t,i){if(!e.includes(t))return null;const r=Sx(t),o=yx(r,i),l=n[t];return qi(n,l,o)}function C4(n,e){const t=Od(n.theme);return Object.keys(n).map(i=>vx(n,e,i,t)).reduce(pc,{})}function an(n){return C4(n,hp)}an.propTypes={};an.filterProps=hp;function on(n){return C4(n,fp)}on.propTypes={};on.filterProps=fp;function b4(n=8,e=Od({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function Pd(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(o=>{i[o]=r}),i),{}),t=i=>Object.keys(i).reduce((r,o)=>e[o]?pc(r,e[o](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function Ti(n){return typeof n!="number"?n:`${n}px solid`}function Ai(n,e){return un({prop:n,themeKey:"borders",transform:e})}const Cx=Ai("border",Ti),bx=Ai("borderTop",Ti),Dx=Ai("borderRight",Ti),Tx=Ai("borderBottom",Ti),xx=Ai("borderLeft",Ti),wx=Ai("borderColor"),Ax=Ai("borderTopColor"),Ix=Ai("borderRightColor"),Ox=Ai("borderBottomColor"),Px=Ai("borderLeftColor"),Lx=Ai("outline",Ti),Rx=Ai("outlineColor"),Ld=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Gc(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:To(e,i)});return qi(n,n.borderRadius,t)}return null};Ld.propTypes={};Ld.filterProps=["borderRadius"];Pd(Cx,bx,Dx,Tx,xx,wx,Ax,Ix,Ox,Px,Ld,Lx,Rx);const Rd=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Gc(n.theme,"spacing",8),t=i=>({gap:To(e,i)});return qi(n,n.gap,t)}return null};Rd.propTypes={};Rd.filterProps=["gap"];const Ed=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Gc(n.theme,"spacing",8),t=i=>({columnGap:To(e,i)});return qi(n,n.columnGap,t)}return null};Ed.propTypes={};Ed.filterProps=["columnGap"];const Md=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Gc(n.theme,"spacing",8),t=i=>({rowGap:To(e,i)});return qi(n,n.rowGap,t)}return null};Md.propTypes={};Md.filterProps=["rowGap"];const Ex=un({prop:"gridColumn"}),Mx=un({prop:"gridRow"}),_x=un({prop:"gridAutoFlow"}),kx=un({prop:"gridAutoColumns"}),Fx=un({prop:"gridAutoRows"}),Ux=un({prop:"gridTemplateColumns"}),Nx=un({prop:"gridTemplateRows"}),qx=un({prop:"gridTemplateAreas"}),Bx=un({prop:"gridArea"});Pd(Rd,Ed,Md,Ex,Mx,_x,kx,Fx,Ux,Nx,qx,Bx);function Ls(n,e){return e==="grey"?e:n}const zx=un({prop:"color",themeKey:"palette",transform:Ls}),Gx=un({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ls}),Qx=un({prop:"backgroundColor",themeKey:"palette",transform:Ls});Pd(zx,Gx,Qx);function ai(n){return n<=1&&n!==0?`${n*100}%`:n}const Vx=un({prop:"width",transform:ai}),gp=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||Id[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:ai(t)}};return qi(n,n.maxWidth,e)}return null};gp.filterProps=["maxWidth"];const Hx=un({prop:"minWidth",transform:ai}),jx=un({prop:"height",transform:ai}),Yx=un({prop:"maxHeight",transform:ai}),Xx=un({prop:"minHeight",transform:ai});un({prop:"size",cssProperty:"width",transform:ai});un({prop:"size",cssProperty:"height",transform:ai});const Wx=un({prop:"boxSizing"});Pd(Vx,gp,Hx,jx,Yx,Xx,Wx);const Qc={border:{themeKey:"borders",transform:Ti},borderTop:{themeKey:"borders",transform:Ti},borderRight:{themeKey:"borders",transform:Ti},borderBottom:{themeKey:"borders",transform:Ti},borderLeft:{themeKey:"borders",transform:Ti},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ti},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ld},color:{themeKey:"palette",transform:Ls},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ls},backgroundColor:{themeKey:"palette",transform:Ls},p:{style:on},pt:{style:on},pr:{style:on},pb:{style:on},pl:{style:on},px:{style:on},py:{style:on},padding:{style:on},paddingTop:{style:on},paddingRight:{style:on},paddingBottom:{style:on},paddingLeft:{style:on},paddingX:{style:on},paddingY:{style:on},paddingInline:{style:on},paddingInlineStart:{style:on},paddingInlineEnd:{style:on},paddingBlock:{style:on},paddingBlockStart:{style:on},paddingBlockEnd:{style:on},m:{style:an},mt:{style:an},mr:{style:an},mb:{style:an},ml:{style:an},mx:{style:an},my:{style:an},margin:{style:an},marginTop:{style:an},marginRight:{style:an},marginBottom:{style:an},marginLeft:{style:an},marginX:{style:an},marginY:{style:an},marginInline:{style:an},marginInlineStart:{style:an},marginInlineEnd:{style:an},marginBlock:{style:an},marginBlockStart:{style:an},marginBlockEnd:{style:an},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rd},rowGap:{style:Md},columnGap:{style:Ed},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ai},maxWidth:{style:gp},minWidth:{transform:ai},height:{transform:ai},maxHeight:{transform:ai},minHeight:{transform:ai},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function $x(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Zx(n,e){return typeof n=="function"?n(e):n}function Kx(){function n(t,i,r,o){const l={[t]:i,theme:r},c=o[t];if(!c)return{[t]:i};const{cssProperty:u=t,themeKey:h,transform:f,style:p}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const m=nr(r,h)||{};return p?p(l):qi(l,i,y=>{let v=ld(m,f,y);return y===v&&typeof y=="string"&&(v=ld(m,f,`${t}${y==="default"?"":Be(y)}`,y)),u===!1?v:{[u]:v}})}function e(t){const{sx:i,theme:r={},nested:o}=t||{};if(!i)return null;const l=r.unstable_sxConfig??Qc;function c(u){let h=u;if(typeof u=="function")h=u(r);else if(typeof u!="object")return u;if(!h)return null;const f=v4(r.breakpoints),p=Object.keys(f);let m=f;return Object.keys(h).forEach(S=>{const y=Zx(h[S],r);if(y!=null)if(typeof y=="object")if(l[S])m=pc(m,n(S,y,r,l));else{const v=qi({theme:r},y,b=>({[S]:b}));$x(v,y)?m[S]=e({sx:y,theme:r,nested:!0}):m=pc(m,v)}else m=pc(m,n(S,y,r,l))}),!o&&r.modularCssLayers?{"@layer sx":wv(r,cg(p,m))}:wv(r,cg(p,m))}return Array.isArray(i)?i.map(c):c(i)}return e}const Aa=Kx();Aa.filterProps=["sx"];function Jx(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function _d(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:o={},...l}=n,c=ox(t),u=b4(r);let h=xn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:u,shape:{...ux,...o}},l);return h=cx(h),h.applyStyles=Jx,h=e.reduce((f,p)=>xn(f,p),h),h.unstable_sxConfig={...Qc,...l?.unstable_sxConfig},h.unstable_sx=function(p){return Aa({sx:p,theme:this})},h}function ew(n){return Object.keys(n).length===0}function kd(n=null){const e=Y.useContext(zc);return!e||ew(e)?n:e}const tw=_d();function Fd(n=tw){return kd(n)}function D1(n){const e=Ta(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function D4({styles:n,themeId:e,defaultTheme:t={}}){const i=Fd(t),r=e&&i[e]||i;let o=typeof n=="function"?n(r):n;return r.modularCssLayers&&(Array.isArray(o)?o=o.map(l=>D1(typeof l=="function"?l(r):l)):o=D1(o)),J.jsx(p4,{styles:o})}const nw=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??Qc;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function pp(n){const{sx:e,...t}=n,{systemProps:i,otherProps:r}=nw(t);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return ir(c)?{...i,...c}:i}:o={...i,...e},{...r,sx:o}}const Ov=n=>n,iw=()=>{let n=Ov;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Ov}}},T4=iw();function x4(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=x4(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function je(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=x4(n))&&(i&&(i+=" "),i+=e);return i}function rw(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:r}=n,o=m4("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(Aa);return Y.forwardRef(function(u,h){const f=Fd(t),{className:p,component:m="div",...S}=pp(u);return J.jsx(o,{as:m,ref:h,className:je(p,r?r(i):i),theme:e&&f[e]||f,...S})})}const aw={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(n,e,t="Mui"){const i=aw[e];return i?`${t}-${i}`:`${T4.generate(n)}-${e}`}function ot(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=at(n,r,t)}),i}function w4(n){const{variants:e,...t}=n,i={variants:e,style:Ta(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=Ta(r.style))}),i}const ow=_d();function T1(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function fo(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function sw(n){return n?(e,t)=>t[n]:null}function lw(n,e,t){n.theme=uw(n.theme)?t:n.theme[e]||n.theme}function X0(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>X0(n,r,t));if(Array.isArray(i?.variants)){let r;if(i.isProcessed)r=t?fo(i.style,t):i.style;else{const{variants:o,...l}=i;r=t?fo(Ta(l),t):l}return A4(n,i.variants,[r],t)}return i?.isProcessed?t?fo(Ta(i.style),t):i.style:t?fo(Ta(i),t):i}function A4(n,e,t=[],i=void 0){let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??={...n,...n.ownerState,ownerState:n.ownerState},!l.props(r))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&n.ownerState?.[c]!==l.props[c])continue e;typeof l.style=="function"?(r??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?fo(Ta(l.style(r)),i):l.style(r))):t.push(i?fo(Ta(l.style),i):l.style)}return t}function I4(n={}){const{themeId:e,defaultTheme:t=ow,rootShouldForwardProp:i=T1,slotShouldForwardProp:r=T1}=n;function o(c){lw(c,e,t)}return(c,u={})=>{nx(c,L=>L.filter(M=>M!==Aa));const{name:h,slot:f,skipVariantsResolver:p,skipSx:m,overridesResolver:S=sw(hw(f)),...y}=u,v=h&&h.startsWith("Mui")||f?"components":"custom",b=p!==void 0?p:f&&f!=="Root"&&f!=="root"||!1,T=m||!1;let x=T1;f==="Root"||f==="root"?x=i:f?x=r:dw(c)&&(x=void 0);const w=m4(c,{shouldForwardProp:x,label:cw(),...y}),A=L=>{if(L.__emotion_real===L)return L;if(typeof L=="function")return function(k){return X0(k,L,k.theme.modularCssLayers?v:void 0)};if(ir(L)){const M=w4(L);return function(F){return M.variants?X0(F,M,F.theme.modularCssLayers?v:void 0):F.theme.modularCssLayers?fo(M.style,v):M.style}}return L},O=(...L)=>{const M=[],k=L.map(A),F=[];if(M.push(o),h&&S&&F.push(function(q){const N=q.theme.components?.[h]?.styleOverrides;if(!N)return null;const U={};for(const Q in N)U[Q]=X0(q,N[Q],q.theme.modularCssLayers?"theme":void 0);return S(q,U)}),h&&!b&&F.push(function(q){const N=q.theme?.components?.[h]?.variants;return N?A4(q,N,[],q.theme.modularCssLayers?"theme":void 0):null}),T||F.push(Aa),Array.isArray(k[0])){const P=k.shift(),q=new Array(M.length).fill(""),I=new Array(F.length).fill("");let N;N=[...q,...P,...I],N.raw=[...q,...P.raw,...I],M.unshift(N)}const B=[...M,...k,...F],H=w(...B);return c.muiName&&(H.muiName=c.muiName),H};return w.withConfig&&(O.withConfig=w.withConfig),O}}function cw(n,e){return void 0}function uw(n){for(const e in n)return!1;return!0}function dw(n){return typeof n=="string"&&n.charCodeAt(0)>96}function hw(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const fw=I4();function Ec(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const o=r;if(o==="components"||o==="slots")i[o]={...n[o],...i[o]};else if(o==="componentsProps"||o==="slotProps"){const l=n[o],c=e[o];if(!c)i[o]=l||{};else if(!l)i[o]=c;else{i[o]={...c};for(const u in l)if(Object.prototype.hasOwnProperty.call(l,u)){const h=u;i[o][h]=Ec(l[h],c[h],t)}}}else o==="className"&&t&&e.className?i.className=je(n?.className,e?.className):o==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[o]===void 0&&(i[o]=n[o])}return i}function O4(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:Ec(e.components[t].defaultProps,i)}function gw({props:n,name:e,defaultTheme:t,themeId:i}){let r=Fd(t);return i&&(r=r[i]||r),O4({theme:r,name:e,props:n})}const Bi=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function pw(n,e,t,i,r){const[o,l]=Y.useState(()=>r&&t?t(n).matches:i?i(n).matches:e);return Bi(()=>{if(!t)return;const c=t(n),u=()=>{l(c.matches)};return u(),c.addEventListener("change",u),()=>{c.removeEventListener("change",u)}},[n,t]),o}const mw={...ad},P4=mw.useSyncExternalStore;function Sw(n,e,t,i,r){const o=Y.useCallback(()=>e,[e]),l=Y.useMemo(()=>{if(r&&t)return()=>t(n).matches;if(i!==null){const{matches:f}=i(n);return()=>f}return o},[o,n,i,r,t]),[c,u]=Y.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const f=t(n);return[()=>f.matches,p=>(f.addEventListener("change",p),()=>{f.removeEventListener("change",p)})]},[o,t,n]);return P4(u,c,l)}function L4(n={}){const{themeId:e}=n;return function(i,r={}){let o=kd();o&&e&&(o=o[e]||o);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:u=l?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=O4({name:"MuiUseMediaQuery",props:r,theme:o});let p=typeof i=="function"?i(o):i;return p=p.replace(/^@media( ?)/m,""),p.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(P4!==void 0?Sw:pw)(p,c,u,h,f)}}L4();function xs(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function mp(n,e=0,t=1){return xs(n,e,t)}function yw(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Ia(n){if(n.type)return n;if(n.charAt(0)==="#")return Ia(yw(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Br(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Br(10,r))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:t,values:i,colorSpace:r}}const vw=n=>{const e=Ia(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},nc=(n,e)=>{try{return vw(n)}catch{return n}};function Ud(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,o)=>o<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function R4(n){n=Ia(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,o=i*Math.min(r,1-r),l=(h,f=(h+t/30)%12)=>r-o*Math.max(Math.min(f-3,9-f,1),-1);let c="rgb";const u=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",u.push(e[3])),Ud({type:c,values:u})}function ug(n){n=Ia(n);let e=n.type==="hsl"||n.type==="hsla"?Ia(R4(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Cw(n,e){const t=ug(n),i=ug(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Mc(n,e){return n=Ia(n),e=mp(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Ud(n)}function Za(n,e,t){try{return Mc(n,e)}catch{return n}}function Nd(n,e){if(n=Ia(n),e=mp(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Ud(n)}function Mt(n,e,t){try{return Nd(n,e)}catch{return n}}function qd(n,e){if(n=Ia(n),e=mp(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Ud(n)}function _t(n,e,t){try{return qd(n,e)}catch{return n}}function bw(n,e=.15){return ug(n)>.5?Nd(n,e):qd(n,e)}function s0(n,e,t){try{return bw(n,e)}catch{return n}}const E4=Y.createContext(null);function Sp(){return Y.useContext(E4)}const Dw=typeof Symbol=="function"&&Symbol.for,Tw=Dw?Symbol.for("mui.nested"):"__THEME_NESTED__";function xw(n,e){return typeof e=="function"?e(n):{...n,...e}}function ww(n){const{children:e,theme:t}=n,i=Sp(),r=Y.useMemo(()=>{const o=i===null?{...t}:xw(i,t);return o!=null&&(o[Tw]=i!==null),o},[t,i]);return J.jsx(E4.Provider,{value:r,children:e})}const M4=Y.createContext();function Aw({value:n,...e}){return J.jsx(M4.Provider,{value:n??!0,...e})}const yp=()=>Y.useContext(M4)??!1,_4=Y.createContext(void 0);function Iw({value:n,children:e}){return J.jsx(_4.Provider,{value:n,children:e})}function Ow(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?Ec(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?Ec(r,i,e.components.mergeClassNameAndStyle):i}function Pw({props:n,name:e}){const t=Y.useContext(_4);return Ow({props:n,name:e,theme:{components:t}})}let Pv=0;function Lw(n){const[e,t]=Y.useState(n),i=n||e;return Y.useEffect(()=>{e==null&&(Pv+=1,t(`mui-${Pv}`))},[e]),i}const Rw={...ad},Lv=Rw.useId;function Gs(n){if(Lv!==void 0){const e=Lv();return n??e}return Lw(n)}function Ew(n){const e=kd(),t=Gs()||"",{modularCssLayers:i}=n;let r="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!i||e!==null?r="":typeof i=="string"?r=i.replace(/mui(?!\.)/g,r):r=`@layer ${r};`,Bi(()=>{const o=document.querySelector("head");if(!o)return;const l=o.firstChild;if(r){if(l&&l.hasAttribute?.("data-mui-layer-order")&&l.getAttribute("data-mui-layer-order")===t)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",t),c.textContent=r,o.prepend(c)}else o.querySelector(`style[data-mui-layer-order="${t}"]`)?.remove()},[r,t]),r?J.jsx(D4,{styles:r}):null}const Rv={};function Ev(n,e,t,i=!1){return Y.useMemo(()=>{const r=n&&e[n]||e;if(typeof t=="function"){const o=t(r),l=n?{...e,[n]:o}:o;return i?()=>l:l}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function k4(n){const{children:e,theme:t,themeId:i}=n,r=kd(Rv),o=Sp()||Rv,l=Ev(i,r,t),c=Ev(i,o,t,!0),u=(i?l[i]:l).direction==="rtl",h=Ew(l);return J.jsx(ww,{theme:c,children:J.jsx(zc.Provider,{value:l,children:J.jsx(Aw,{value:u,children:J.jsxs(Iw,{value:i?l[i].components:l.components,children:[h,e]})})})})}const Mv={theme:void 0};function Mw(n){let e,t;return function(r){let o=e;return(o===void 0||r.theme!==t)&&(Mv.theme=r.theme,o=w4(n(Mv)),e=o,t=r.theme),o}}const vp="mode",Cp="color-scheme",_w="data-color-scheme";function kw(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=vp,colorSchemeStorageKey:o=Cp,attribute:l=_w,colorSchemeNode:c="document.documentElement",nonce:u}=n||{};let h="",f=l;if(l==="class"&&(f=".%s"),l==="data"&&(f="[data-%s]"),f.startsWith(".")){const m=f.substring(1);h+=`${c}.classList.remove('${m}'.replace('%s', light), '${m}'.replace('%s', dark));
      ${c}.classList.add('${m}'.replace('%s', colorScheme));`}const p=f.match(/\[([^[\]]+)\]/);if(p){const[m,S]=p[1].split("=");S||(h+=`${c}.removeAttribute('${m}'.replace('%s', light));
      ${c}.removeAttribute('${m}'.replace('%s', dark));`),h+=`
      ${c}.setAttribute('${m}'.replace('%s', colorScheme), ${S?`${S}.replace('%s', colorScheme)`:'""'});`}else f!==".%s"&&(h+=`${c}.setAttribute('${f}', colorScheme);`);return J.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${r}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${i}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Fw(){}const Uw=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return Fw;const i=r=>{const o=r.newValue;r.key===n&&t(o)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function x1(){}function _v(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function F4(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function Nw(n){return F4(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function qw(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:r=[],modeStorageKey:o=vp,colorSchemeStorageKey:l=Cp,storageWindow:c=typeof window>"u"?void 0:window,storageManager:u=Uw,noSsr:h=!1}=n,f=r.join(","),p=r.length>1,m=Y.useMemo(()=>u?.({key:o,storageWindow:c}),[u,o,c]),S=Y.useMemo(()=>u?.({key:`${l}-light`,storageWindow:c}),[u,l,c]),y=Y.useMemo(()=>u?.({key:`${l}-dark`,storageWindow:c}),[u,l,c]),[v,b]=Y.useState(()=>{const k=m?.get(e)||e,F=S?.get(t)||t,B=y?.get(i)||i;return{mode:k,systemMode:_v(k),lightColorScheme:F,darkColorScheme:B}}),[T,x]=Y.useState(h||!p);Y.useEffect(()=>{x(!0)},[]);const w=Nw(v),A=Y.useCallback(k=>{b(F=>{if(k===F.mode)return F;const B=k??e;return m?.set(B),{...F,mode:B,systemMode:_v(B)}})},[m,e]),O=Y.useCallback(k=>{k?typeof k=="string"?k&&!f.includes(k)?console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`):b(F=>{const B={...F};return F4(F,H=>{H==="light"&&(S?.set(k),B.lightColorScheme=k),H==="dark"&&(y?.set(k),B.darkColorScheme=k)}),B}):b(F=>{const B={...F},H=k.light===null?t:k.light,P=k.dark===null?i:k.dark;return H&&(f.includes(H)?(B.lightColorScheme=H,S?.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),P&&(f.includes(P)?(B.darkColorScheme=P,y?.set(P)):console.error(`\`${P}\` does not exist in \`theme.colorSchemes\`.`)),B}):b(F=>(S?.set(t),y?.set(i),{...F,lightColorScheme:t,darkColorScheme:i}))},[f,S,y,t,i]),L=Y.useCallback(k=>{v.mode==="system"&&b(F=>{const B=k?.matches?"dark":"light";return F.systemMode===B?F:{...F,systemMode:B}})},[v.mode]),M=Y.useRef(L);return M.current=L,Y.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const k=(...B)=>M.current(...B),F=window.matchMedia("(prefers-color-scheme: dark)");return F.addListener(k),k(F),()=>{F.removeListener(k)}},[p]),Y.useEffect(()=>{if(p){const k=m?.subscribe(H=>{(!H||["light","dark","system"].includes(H))&&A(H||e)})||x1,F=S?.subscribe(H=>{(!H||f.match(H))&&O({light:H})})||x1,B=y?.subscribe(H=>{(!H||f.match(H))&&O({dark:H})})||x1;return()=>{k(),F(),B()}}},[O,A,f,e,c,p,m,S,y]),{...v,mode:T?v.mode:void 0,systemMode:T?v.systemMode:void 0,colorScheme:T?w:void 0,setMode:A,setColorScheme:O}}const Bw="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function zw(n){const{themeId:e,theme:t={},modeStorageKey:i=vp,colorSchemeStorageKey:r=Cp,disableTransitionOnChange:o=!1,defaultColorScheme:l,resolveTheme:c}=n,u={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=Y.createContext(void 0),f=()=>Y.useContext(h)||u,p={},m={};function S(T){const{children:x,theme:w,modeStorageKey:A=i,colorSchemeStorageKey:O=r,disableTransitionOnChange:L=o,storageManager:M,storageWindow:k=typeof window>"u"?void 0:window,documentNode:F=typeof document>"u"?void 0:document,colorSchemeNode:B=typeof document>"u"?void 0:document.documentElement,disableNestedContext:H=!1,disableStyleSheetGeneration:P=!1,defaultMode:q="system",forceThemeRerender:I=!1,noSsr:N}=T,U=Y.useRef(!1),Q=Sp(),X=Y.useContext(h),V=!!X&&!H,re=Y.useMemo(()=>w||(typeof t=="function"?t():t),[w]),_=re[e],z=_||re,{colorSchemes:te=p,components:se=m,cssVarPrefix:Z}=z,Se=Object.keys(te).filter(pe=>!!te[pe]).join(","),Pe=Y.useMemo(()=>Se.split(","),[Se]),Te=typeof l=="string"?l:l.light,xe=typeof l=="string"?l:l.dark,Re=te[Te]&&te[xe]?q:te[z.defaultColorScheme]?.palette?.mode||z.palette?.mode,{mode:Ne,setMode:Ue,systemMode:Ye,lightColorScheme:E,darkColorScheme:he,colorScheme:ce,setColorScheme:W}=qw({supportedColorSchemes:Pe,defaultLightColorScheme:Te,defaultDarkColorScheme:xe,modeStorageKey:A,colorSchemeStorageKey:O,defaultMode:Re,storageManager:M,storageWindow:k,noSsr:N});let j=Ne,ne=ce;V&&(j=X.mode,ne=X.colorScheme);let ve=ne||z.defaultColorScheme;z.vars&&!I&&(ve=z.defaultColorScheme);const ye=Y.useMemo(()=>{const pe=z.generateThemeVars?.()||z.vars,Ee={...z,components:se,colorSchemes:te,cssVarPrefix:Z,vars:pe};if(typeof Ee.generateSpacing=="function"&&(Ee.spacing=Ee.generateSpacing()),ve){const ke=te[ve];ke&&typeof ke=="object"&&Object.keys(ke).forEach(Ge=>{ke[Ge]&&typeof ke[Ge]=="object"?Ee[Ge]={...Ee[Ge],...ke[Ge]}:Ee[Ge]=ke[Ge]})}return c?c(Ee):Ee},[z,ve,se,te,Z]),ee=z.colorSchemeSelector;Bi(()=>{if(ne&&B&&ee&&ee!=="media"){const pe=ee;let Ee=ee;if(pe==="class"&&(Ee=".%s"),pe==="data"&&(Ee="[data-%s]"),pe?.startsWith("data-")&&!pe.includes("%s")&&(Ee=`[${pe}="%s"]`),Ee.startsWith("."))B.classList.remove(...Pe.map(ke=>Ee.substring(1).replace("%s",ke))),B.classList.add(Ee.substring(1).replace("%s",ne));else{const ke=Ee.replace("%s",ne).match(/\[([^\]]+)\]/);if(ke){const[Ge,Xe]=ke[1].split("=");Xe||Pe.forEach(Ze=>{B.removeAttribute(Ge.replace(ne,Ze))}),B.setAttribute(Ge,Xe?Xe.replace(/"|'/g,""):"")}else B.setAttribute(Ee,ne)}}},[ne,ee,B,Pe]),Y.useEffect(()=>{let pe;if(L&&U.current&&F){const Ee=F.createElement("style");Ee.appendChild(F.createTextNode(Bw)),F.head.appendChild(Ee),window.getComputedStyle(F.body),pe=setTimeout(()=>{F.head.removeChild(Ee)},1)}return()=>{clearTimeout(pe)}},[ne,L,F]),Y.useEffect(()=>(U.current=!0,()=>{U.current=!1}),[]);const Oe=Y.useMemo(()=>({allColorSchemes:Pe,colorScheme:ne,darkColorScheme:he,lightColorScheme:E,mode:j,setColorScheme:W,setMode:Ue,systemMode:Ye}),[Pe,ne,he,E,j,W,Ue,Ye,ye.colorSchemeSelector]);let Ie=!0;(P||z.cssVariables===!1||V&&Q?.cssVarPrefix===Z)&&(Ie=!1);const le=J.jsxs(Y.Fragment,{children:[J.jsx(k4,{themeId:_?e:void 0,theme:ye,children:x}),Ie&&J.jsx(p4,{styles:ye.generateStyleSheets?.()||[]})]});return V?le:J.jsx(h.Provider,{value:Oe,children:le})}const y=typeof l=="string"?l:l.light,v=typeof l=="string"?l:l.dark;return{CssVarsProvider:S,useColorScheme:f,getInitColorSchemeScript:T=>kw({colorSchemeStorageKey:r,defaultLightColorScheme:y,defaultDarkColorScheme:v,modeStorageKey:i,...T})}}function Gw(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const kv=(n,e,t,i=[])=>{let r=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(r)?r[Number(o)]=t:r&&typeof r=="object"&&(r[o]=t):r&&typeof r=="object"&&(r[o]||(r[o]=i.includes(o)?[]:{}),r=r[o])})},Qw=(n,e,t)=>{function i(r,o=[],l=[]){Object.entries(r).forEach(([c,u])=>{(!t||t&&!t([...o,c]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?i(u,[...o,c],Array.isArray(u)?[...l,c]:l):e([...o,c],u,l))})}i(n)},Vw=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function w1(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},o={},l={};return Qw(n,(c,u,h)=>{if((typeof u=="string"||typeof u=="number")&&(!i||!i(c,u))){const f=`--${t?`${t}-`:""}${c.join("-")}`,p=Vw(c,u);Object.assign(r,{[f]:p}),kv(o,c,`var(${f})`,h),kv(l,c,`var(${f}, ${p})`,h)}},c=>c[0]==="vars"),{css:r,vars:o,varsWithDefaults:l}}function Hw(n,e={}){const{getSelector:t=T,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:o}=e,{colorSchemes:l={},components:c,defaultColorScheme:u="light",...h}=n,{vars:f,css:p,varsWithDefaults:m}=w1(h,e);let S=m;const y={},{[u]:v,...b}=l;if(Object.entries(b||{}).forEach(([A,O])=>{const{vars:L,css:M,varsWithDefaults:k}=w1(O,e);S=xn(S,k),y[A]={css:M,vars:L}}),v){const{css:A,vars:O,varsWithDefaults:L}=w1(v,e);S=xn(S,L),y[u]={css:A,vars:O}}function T(A,O){let L=r;if(r==="class"&&(L=".%s"),r==="data"&&(L="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(L=`[${r}="%s"]`),A){if(L==="media")return n.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${l[A]?.palette?.mode||A})`]:{":root":O}};if(L)return n.defaultColorScheme===A?`:root, ${L.replace("%s",String(A))}`:L.replace("%s",String(A))}return":root"}return{vars:S,generateThemeVars:()=>{let A={...f};return Object.entries(y).forEach(([,{vars:O}])=>{A=xn(A,O)}),A},generateStyleSheets:()=>{const A=[],O=n.defaultColorScheme||"light";function L(F,B){Object.keys(B).length&&A.push(typeof F=="string"?{[F]:{...B}}:F)}L(t(void 0,{...p}),p);const{[O]:M,...k}=y;if(M){const{css:F}=M,B=l[O]?.palette?.mode,H=!i&&B?{colorScheme:B,...F}:{...F};L(t(O,{...H}),H)}return Object.entries(k).forEach(([F,{css:B}])=>{const H=l[F]?.palette?.mode,P=!i&&H?{colorScheme:H,...B}:{...B};L(t(F,{...P}),P)}),o&&A.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),A}}}function jw(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function st(n,e,t=void 0){const i={};for(const r in n){const o=n[r];let l="",c=!0;for(let u=0;u<o.length;u+=1){const h=o[u];h&&(l+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(l+=" "+t[h]))}i[r]=l}return i}function A1(n,e){return Y.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const Yw=_d(),Xw=fw("div",{name:"MuiStack",slot:"Root"});function Ww(n){return gw({props:n,name:"MuiStack",defaultTheme:Yw})}function $w(n,e){const t=Y.Children.toArray(n).filter(Boolean);return t.reduce((i,r,o)=>(i.push(r),o<t.length-1&&i.push(Y.cloneElement(e,{key:`separator-${o}`})),i),[])}const Zw=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Kw=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...qi({theme:e},b1({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=Od(e),r=Object.keys(e.breakpoints.values).reduce((u,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(u[h]=!0),u),{}),o=b1({values:n.direction,base:r}),l=b1({values:n.spacing,base:r});typeof o=="object"&&Object.keys(o).forEach((u,h,f)=>{if(!o[u]){const m=h>0?o[f[h-1]]:"column";o[u]=m}}),t=xn(t,qi({theme:e},l,(u,h)=>n.useFlexGap?{gap:To(i,u)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Zw(h?o[h]:n.direction)}`]:To(i,u)}}))}return t=hx(e.breakpoints,t),t};function Jw(n={}){const{createStyledComponent:e=Xw,useThemeProps:t=Ww,componentName:i="MuiStack"}=n,r=()=>st({root:["root"]},u=>at(i,u),{}),o=e(Kw);return Y.forwardRef(function(u,h){const f=t(u),p=pp(f),{component:m="div",direction:S="column",spacing:y=0,divider:v,children:b,className:T,useFlexGap:x=!1,...w}=p,A={direction:S,spacing:y,useFlexGap:x},O=r();return J.jsx(o,{as:m,ownerState:A,ref:h,className:je(O.root,T),...w,children:v?$w(b,v):b})})}function U4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Oc.white,default:Oc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const N4=U4();function q4(){return{text:{primary:Oc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Oc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dg=q4();function Fv(n,e,t,i){const r=i.light||i,o=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=qd(n.main,r):e==="dark"&&(n.dark=Nd(n.main,o)))}function Uv(n,e,t,i,r){const o=r.light||r,l=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(l*100).toFixed(0)}%)`))}function e9(n="light"){return n==="dark"?{main:Ss[200],light:Ss[50],dark:Ss[400]}:{main:Ss[700],light:Ss[400],dark:Ss[800]}}function t9(n="light"){return n==="dark"?{main:ms[200],light:ms[50],dark:ms[400]}:{main:ms[500],light:ms[300],dark:ms[700]}}function n9(n="light"){return n==="dark"?{main:ps[500],light:ps[300],dark:ps[700]}:{main:ps[700],light:ps[400],dark:ps[800]}}function i9(n="light"){return n==="dark"?{main:ys[400],light:ys[300],dark:ys[700]}:{main:ys[700],light:ys[500],dark:ys[900]}}function r9(n="light"){return n==="dark"?{main:vs[400],light:vs[300],dark:vs[700]}:{main:vs[800],light:vs[500],dark:vs[900]}}function a9(n="light"){return n==="dark"?{main:Bl[400],light:Bl[300],dark:Bl[700]}:{main:"#ed6c02",light:Bl[500],dark:Bl[900]}}function o9(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function bp(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...o}=n,l=n.primary||e9(e),c=n.secondary||t9(e),u=n.error||n9(e),h=n.info||i9(e),f=n.success||r9(e),p=n.warning||a9(e);function m(b){return r?o9(b):Cw(b,dg.text.primary)>=t?dg.text.primary:N4.text.primary}const S=({color:b,name:T,mainShade:x=500,lightShade:w=300,darkShade:A=700})=>{if(b={...b},!b.main&&b[x]&&(b.main=b[x]),!b.hasOwnProperty("main"))throw new Error(Br(11,T?` (${T})`:"",x));if(typeof b.main!="string")throw new Error(Br(12,T?` (${T})`:"",JSON.stringify(b.main)));return r?(Uv(r,b,"light",w,i),Uv(r,b,"dark",A,i)):(Fv(b,"light",w,i),Fv(b,"dark",A,i)),b.contrastText||(b.contrastText=m(b.main)),b};let y;return e==="light"?y=U4():e==="dark"&&(y=q4()),xn({common:{...Oc},mode:e,primary:S({color:l,name:"primary"}),secondary:S({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:S({color:u,name:"error"}),warning:S({color:p,name:"warning"}),info:S({color:h,name:"info"}),success:S({color:f,name:"success"}),grey:iT,contrastThreshold:t,getContrastText:m,augmentColor:S,tonalOffset:i,...y},o)}function s9(n){const e={};return Object.entries(n).forEach(i=>{const[r,o]=i;typeof o=="object"&&(e[r]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function l9(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function c9(n){return Math.round(n*1e5)/1e5}const Nv={textTransform:"uppercase"},qv='"Roboto", "Helvetica", "Arial", sans-serif';function B4(n,e){const{fontFamily:t=qv,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:f,...p}=typeof e=="function"?e(n):e,m=i/14,S=f||(b=>`${b/u*m}rem`),y=(b,T,x,w,A)=>({fontFamily:t,fontWeight:b,fontSize:S(T),lineHeight:x,...t===qv?{letterSpacing:`${c9(w/T)}em`}:{},...A,...h}),v={h1:y(r,96,1.167,-1.5),h2:y(r,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(l,14,1.75,.4,Nv),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,Nv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xn({htmlFontSize:u,pxToRem:S,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...v},p,{clone:!1})}const u9=.2,d9=.14,h9=.12;function Zt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${u9})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${d9})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${h9})`].join(",")}const f9=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],g9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},p9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Bv(n){return`${Math.round(n)}ms`}function m9(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function S9(n){const e={...g9,...n.easing},t={...p9,...n.duration};return{getAutoHeightDuration:m9,create:(r=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:u=0,...h}=o;return(Array.isArray(r)?r:[r]).map(f=>`${f} ${typeof l=="string"?l:Bv(l)} ${c} ${typeof u=="string"?u:Bv(u)}`).join(",")},...n,easing:e,duration:t}}const y9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function v9(n){return ir(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function z4(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let o=0;o<r.length;o++){const[l,c]=r[o];!v9(c)||l.startsWith("unstable_")?delete i[l]:ir(c)&&(i[l]={...c},t(i[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function zv(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const C9=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function b9(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:Mc(e,C9(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${zv(t)})`:qd(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${zv(t)})`:Nd(e,t)}})}function hg(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:o={},transitions:l={},typography:c={},shape:u,colorSpace:h,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Br(20));const p=bp({...o,colorSpace:h}),m=_d(n);let S=xn(m,{mixins:l9(m.breakpoints,i),palette:p,shadows:f9.slice(),typography:B4(p,c),transitions:S9(l),zIndex:{...y9}});return S=xn(S,f),S=e.reduce((y,v)=>xn(y,v),S),S.unstable_sxConfig={...Qc,...f?.unstable_sxConfig},S.unstable_sx=function(v){return Aa({sx:v,theme:this})},S.toRuntimeSource=z4,b9(S),S}function fg(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const D9=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=fg(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function G4(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Q4(n){return n==="dark"?D9:[]}function T9(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...o}=n,l=bp({...e,colorSpace:r});return{palette:l,opacity:{...G4(l.mode),...t},overlays:i||Q4(l.mode),...o}}function x9(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const w9=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],A9=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let o=r;if(r==="class"&&(o=".%s"),r==="data"&&(o="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(o=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return w9(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:l}}:o?{[o.replace("%s",e)]:l,[`${i}, ${o.replace("%s",e)}`]:t}:{[i]:{...t,...l}}}if(o&&o!=="media")return`${i}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(o)return o.replace("%s",String(e))}return i};function I9(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function be(n,e,t){!n[e]&&t&&(n[e]=t)}function ic(n){return typeof n!="string"||!n.startsWith("hsl")?n:R4(n)}function Pr(n,e){`${e}Channel`in n||(n[`${e}Channel`]=nc(ic(n[e])))}function O9(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Zi=n=>{try{return n()}catch{}},P9=(n="mui")=>Gw(n);function I1(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const o=r==="dark"?"dark":"light";if(!i){e[r]=T9({...t,palette:{mode:o,...t?.palette},colorSpace:n});return}const{palette:l,...c}=hg({...i,palette:{mode:o,...t?.palette},colorSpace:n});return e[r]={...t,palette:l,opacity:{...G4(o),...t?.opacity},overlays:t?.overlays||Q4(o)},c}function L9(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:o="mui",nativeColor:l=!1,shouldSkipGeneratingVar:c=x9,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...f}=n,p=Object.keys(t)[0],m=i||(t.light&&p!=="light"?"light":p),S=P9(o),{[m]:y,light:v,dark:b,...T}=t,x={...T};let w=y;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(w=!0),!w)throw new Error(Br(21,m));let A;l&&(A="oklch");const O=I1(A,x,w,f,m);v&&!x.light&&I1(A,x,v,void 0,"light"),b&&!x.dark&&I1(A,x,b,void 0,"dark");let L={defaultColorScheme:m,...O,cssVarPrefix:o,colorSchemeSelector:u,rootSelector:h,getCssVar:S,colorSchemes:x,font:{...s9(O.typography),...O.font},spacing:O9(f.spacing)};Object.keys(L.colorSchemes).forEach(H=>{const P=L.colorSchemes[H].palette,q=N=>{const U=N.split("-"),Q=U[1],X=U[2];return S(N,P[Q][X])};P.mode==="light"&&(be(P.common,"background","#fff"),be(P.common,"onBackground","#000")),P.mode==="dark"&&(be(P.common,"background","#000"),be(P.common,"onBackground","#fff"));function I(N,U,Q){if(A){let X;return N===Za&&(X=`transparent ${((1-Q)*100).toFixed(0)}%`),N===Mt&&(X=`#000 ${(Q*100).toFixed(0)}%`),N===_t&&(X=`#fff ${(Q*100).toFixed(0)}%`),`color-mix(in ${A}, ${U}, ${X})`}return N(U,Q)}if(I9(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){be(P.Alert,"errorColor",I(Mt,P.error.light,.6)),be(P.Alert,"infoColor",I(Mt,P.info.light,.6)),be(P.Alert,"successColor",I(Mt,P.success.light,.6)),be(P.Alert,"warningColor",I(Mt,P.warning.light,.6)),be(P.Alert,"errorFilledBg",q("palette-error-main")),be(P.Alert,"infoFilledBg",q("palette-info-main")),be(P.Alert,"successFilledBg",q("palette-success-main")),be(P.Alert,"warningFilledBg",q("palette-warning-main")),be(P.Alert,"errorFilledColor",Zi(()=>P.getContrastText(P.error.main))),be(P.Alert,"infoFilledColor",Zi(()=>P.getContrastText(P.info.main))),be(P.Alert,"successFilledColor",Zi(()=>P.getContrastText(P.success.main))),be(P.Alert,"warningFilledColor",Zi(()=>P.getContrastText(P.warning.main))),be(P.Alert,"errorStandardBg",I(_t,P.error.light,.9)),be(P.Alert,"infoStandardBg",I(_t,P.info.light,.9)),be(P.Alert,"successStandardBg",I(_t,P.success.light,.9)),be(P.Alert,"warningStandardBg",I(_t,P.warning.light,.9)),be(P.Alert,"errorIconColor",q("palette-error-main")),be(P.Alert,"infoIconColor",q("palette-info-main")),be(P.Alert,"successIconColor",q("palette-success-main")),be(P.Alert,"warningIconColor",q("palette-warning-main")),be(P.AppBar,"defaultBg",q("palette-grey-100")),be(P.Avatar,"defaultBg",q("palette-grey-400")),be(P.Button,"inheritContainedBg",q("palette-grey-300")),be(P.Button,"inheritContainedHoverBg",q("palette-grey-A100")),be(P.Chip,"defaultBorder",q("palette-grey-400")),be(P.Chip,"defaultAvatarColor",q("palette-grey-700")),be(P.Chip,"defaultIconColor",q("palette-grey-700")),be(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),be(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),be(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),be(P.LinearProgress,"primaryBg",I(_t,P.primary.main,.62)),be(P.LinearProgress,"secondaryBg",I(_t,P.secondary.main,.62)),be(P.LinearProgress,"errorBg",I(_t,P.error.main,.62)),be(P.LinearProgress,"infoBg",I(_t,P.info.main,.62)),be(P.LinearProgress,"successBg",I(_t,P.success.main,.62)),be(P.LinearProgress,"warningBg",I(_t,P.warning.main,.62)),be(P.Skeleton,"bg",A?I(Za,P.text.primary,.11):`rgba(${q("palette-text-primaryChannel")} / 0.11)`),be(P.Slider,"primaryTrack",I(_t,P.primary.main,.62)),be(P.Slider,"secondaryTrack",I(_t,P.secondary.main,.62)),be(P.Slider,"errorTrack",I(_t,P.error.main,.62)),be(P.Slider,"infoTrack",I(_t,P.info.main,.62)),be(P.Slider,"successTrack",I(_t,P.success.main,.62)),be(P.Slider,"warningTrack",I(_t,P.warning.main,.62));const N=A?I(Mt,P.background.default,.6825):s0(P.background.default,.8);be(P.SnackbarContent,"bg",N),be(P.SnackbarContent,"color",Zi(()=>A?dg.text.primary:P.getContrastText(N))),be(P.SpeedDialAction,"fabHoverBg",s0(P.background.paper,.15)),be(P.StepConnector,"border",q("palette-grey-400")),be(P.StepContent,"border",q("palette-grey-400")),be(P.Switch,"defaultColor",q("palette-common-white")),be(P.Switch,"defaultDisabledColor",q("palette-grey-100")),be(P.Switch,"primaryDisabledColor",I(_t,P.primary.main,.62)),be(P.Switch,"secondaryDisabledColor",I(_t,P.secondary.main,.62)),be(P.Switch,"errorDisabledColor",I(_t,P.error.main,.62)),be(P.Switch,"infoDisabledColor",I(_t,P.info.main,.62)),be(P.Switch,"successDisabledColor",I(_t,P.success.main,.62)),be(P.Switch,"warningDisabledColor",I(_t,P.warning.main,.62)),be(P.TableCell,"border",I(_t,I(Za,P.divider,1),.88)),be(P.Tooltip,"bg",I(Za,P.grey[700],.92))}if(P.mode==="dark"){be(P.Alert,"errorColor",I(_t,P.error.light,.6)),be(P.Alert,"infoColor",I(_t,P.info.light,.6)),be(P.Alert,"successColor",I(_t,P.success.light,.6)),be(P.Alert,"warningColor",I(_t,P.warning.light,.6)),be(P.Alert,"errorFilledBg",q("palette-error-dark")),be(P.Alert,"infoFilledBg",q("palette-info-dark")),be(P.Alert,"successFilledBg",q("palette-success-dark")),be(P.Alert,"warningFilledBg",q("palette-warning-dark")),be(P.Alert,"errorFilledColor",Zi(()=>P.getContrastText(P.error.dark))),be(P.Alert,"infoFilledColor",Zi(()=>P.getContrastText(P.info.dark))),be(P.Alert,"successFilledColor",Zi(()=>P.getContrastText(P.success.dark))),be(P.Alert,"warningFilledColor",Zi(()=>P.getContrastText(P.warning.dark))),be(P.Alert,"errorStandardBg",I(Mt,P.error.light,.9)),be(P.Alert,"infoStandardBg",I(Mt,P.info.light,.9)),be(P.Alert,"successStandardBg",I(Mt,P.success.light,.9)),be(P.Alert,"warningStandardBg",I(Mt,P.warning.light,.9)),be(P.Alert,"errorIconColor",q("palette-error-main")),be(P.Alert,"infoIconColor",q("palette-info-main")),be(P.Alert,"successIconColor",q("palette-success-main")),be(P.Alert,"warningIconColor",q("palette-warning-main")),be(P.AppBar,"defaultBg",q("palette-grey-900")),be(P.AppBar,"darkBg",q("palette-background-paper")),be(P.AppBar,"darkColor",q("palette-text-primary")),be(P.Avatar,"defaultBg",q("palette-grey-600")),be(P.Button,"inheritContainedBg",q("palette-grey-800")),be(P.Button,"inheritContainedHoverBg",q("palette-grey-700")),be(P.Chip,"defaultBorder",q("palette-grey-700")),be(P.Chip,"defaultAvatarColor",q("palette-grey-300")),be(P.Chip,"defaultIconColor",q("palette-grey-300")),be(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),be(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),be(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),be(P.LinearProgress,"primaryBg",I(Mt,P.primary.main,.5)),be(P.LinearProgress,"secondaryBg",I(Mt,P.secondary.main,.5)),be(P.LinearProgress,"errorBg",I(Mt,P.error.main,.5)),be(P.LinearProgress,"infoBg",I(Mt,P.info.main,.5)),be(P.LinearProgress,"successBg",I(Mt,P.success.main,.5)),be(P.LinearProgress,"warningBg",I(Mt,P.warning.main,.5)),be(P.Skeleton,"bg",A?I(Za,P.text.primary,.13):`rgba(${q("palette-text-primaryChannel")} / 0.13)`),be(P.Slider,"primaryTrack",I(Mt,P.primary.main,.5)),be(P.Slider,"secondaryTrack",I(Mt,P.secondary.main,.5)),be(P.Slider,"errorTrack",I(Mt,P.error.main,.5)),be(P.Slider,"infoTrack",I(Mt,P.info.main,.5)),be(P.Slider,"successTrack",I(Mt,P.success.main,.5)),be(P.Slider,"warningTrack",I(Mt,P.warning.main,.5));const N=A?I(_t,P.background.default,.985):s0(P.background.default,.98);be(P.SnackbarContent,"bg",N),be(P.SnackbarContent,"color",Zi(()=>A?N4.text.primary:P.getContrastText(N))),be(P.SpeedDialAction,"fabHoverBg",s0(P.background.paper,.15)),be(P.StepConnector,"border",q("palette-grey-600")),be(P.StepContent,"border",q("palette-grey-600")),be(P.Switch,"defaultColor",q("palette-grey-300")),be(P.Switch,"defaultDisabledColor",q("palette-grey-600")),be(P.Switch,"primaryDisabledColor",I(Mt,P.primary.main,.55)),be(P.Switch,"secondaryDisabledColor",I(Mt,P.secondary.main,.55)),be(P.Switch,"errorDisabledColor",I(Mt,P.error.main,.55)),be(P.Switch,"infoDisabledColor",I(Mt,P.info.main,.55)),be(P.Switch,"successDisabledColor",I(Mt,P.success.main,.55)),be(P.Switch,"warningDisabledColor",I(Mt,P.warning.main,.55)),be(P.TableCell,"border",I(Mt,I(Za,P.divider,1),.68)),be(P.Tooltip,"bg",I(Za,P.grey[700],.92))}Pr(P.background,"default"),Pr(P.background,"paper"),Pr(P.common,"background"),Pr(P.common,"onBackground"),Pr(P,"divider"),Object.keys(P).forEach(N=>{const U=P[N];N!=="tonalOffset"&&U&&typeof U=="object"&&(U.main&&be(P[N],"mainChannel",nc(ic(U.main))),U.light&&be(P[N],"lightChannel",nc(ic(U.light))),U.dark&&be(P[N],"darkChannel",nc(ic(U.dark))),U.contrastText&&be(P[N],"contrastTextChannel",nc(ic(U.contrastText))),N==="text"&&(Pr(P[N],"primary"),Pr(P[N],"secondary")),N==="action"&&(U.active&&Pr(P[N],"active"),U.selected&&Pr(P[N],"selected")))})}),L=e.reduce((H,P)=>xn(H,P),L);const M={prefix:o,disableCssColorScheme:r,shouldSkipGeneratingVar:c,getSelector:A9(L),enableContrastVars:l},{vars:k,generateThemeVars:F,generateStyleSheets:B}=Hw(L,M);return L.vars=k,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([H,P])=>{L[H]=P}),L.generateThemeVars=F,L.generateStyleSheets=B,L.generateSpacing=function(){return b4(f.spacing,Od(this))},L.getColorSchemeSelector=jw(u),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=c,L.unstable_sxConfig={...Qc,...f?.unstable_sxConfig},L.unstable_sx=function(P){return Aa({sx:P,theme:this})},L.toRuntimeSource=z4,L}function Gv(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:bp({...t===!0?{}:t.palette,mode:e})})}function Bd(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...l}=n,c=o||"light",u=r?.[c],h={...r,...t?{[c]:{...typeof u!="boolean"&&u,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return hg(n,...e);let f=t;"palette"in n||h[c]&&(h[c]!==!0?f=h[c].palette:c==="dark"&&(f={mode:"dark"}));const p=hg({...n,palette:f},...e);return p.defaultColorScheme=c,p.colorSchemes=h,p.palette.mode==="light"&&(p.colorSchemes.light={...h.light!==!0&&h.light,palette:p.palette},Gv(p,"dark",h.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:p.palette},Gv(p,"light",h.light)),p}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),L9({...l,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const Dp=Bd();function Qs(){const n=Fd(Dp);return n[Ui]||n}function zd(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Gi=n=>zd(n)&&n!=="classes",ze=I4({themeId:Ui,defaultTheme:Dp,rootShouldForwardProp:Gi});function R9({theme:n,...e}){const t=Ui in n?n[Ui]:void 0;return J.jsx(k4,{...e,themeId:t?Ui:void 0,theme:t||n})}const l0={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:E9}=zw({themeId:Ui,theme:()=>Bd({cssVariables:!0}),colorSchemeStorageKey:l0.colorSchemeStorageKey,modeStorageKey:l0.modeStorageKey,defaultColorScheme:{light:l0.defaultLightColorScheme,dark:l0.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:B4(n.palette,n.typography)};return e.unstable_sx=function(i){return Aa({sx:i,theme:this})},e}}),M9=E9;function _9({theme:n,...e}){const t=Y.useMemo(()=>{if(typeof n=="function")return n;const i=Ui in n?n[Ui]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return t?J.jsx(R9,{theme:t,...e}):J.jsx(M9,{theme:n,...e})}function Qv(...n){return n.reduce((e,t)=>t==null?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}function k9(n){return J.jsx(D4,{...n,defaultTheme:Dp,themeId:Ui})}function Tp(n){return function(t){return J.jsx(k9,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function F9(){return pp}const rt=Mw;function lt(n){return Pw(n)}function U9(n){return at("MuiSvgIcon",n)}ot("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const N9=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${Be(e)}`,`fontSize${Be(t)}`]};return st(r,U9,i)},q9=ze("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Be(t.color)}`],e[`fontSize${Be(t.fontSize)}`]]}})(rt(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),gg=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:l="inherit",component:c="svg",fontSize:u="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:p,viewBox:m="0 0 24 24",...S}=i,y=Y.isValidElement(r)&&r.type==="svg",v={...i,color:l,component:c,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:m,hasSvgAsChild:y},b={};f||(b.viewBox=m);const T=N9(v);return J.jsxs(q9,{as:c,className:je(T.root,o),focusable:"false",color:h,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...b,...S,...y&&r.props,ownerState:v,children:[y?r.props.children:r,p?J.jsx("title",{children:p}):null]})});gg.muiName="SvgIcon";function zr(n,e){function t(i,r){return J.jsx(gg,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=gg.muiName,Y.memo(Y.forwardRef(t))}function xp(n,e=166){let t;function i(...r){const o=()=>{n.apply(this,r)};clearTimeout(t),t=setTimeout(o,e)}return i.clear=()=>{clearTimeout(t)},i}function qn(n){return n&&n.ownerDocument||document}function zi(n){return qn(n).defaultView||window}function Vv(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function pg(n){const{controlled:e,default:t,name:i,state:r="value"}=n,{current:o}=Y.useRef(e!==void 0),[l,c]=Y.useState(t),u=o?e:l,h=Y.useCallback(f=>{o||c(f)},[]);return[u,h]}function lr(n){const e=Y.useRef(n);return Bi(()=>{e.current=n}),Y.useRef((...t)=>(0,e.current)(...t)).current}function Fn(...n){const e=Y.useRef(void 0),t=Y.useCallback(i=>{const r=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,c=l(i);return typeof c=="function"?c:()=>{l(null)}}return o.current=i,()=>{o.current=null}});return()=>{r.forEach(o=>o?.())}},n);return Y.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function B9(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function z9(n,e){if(!n)return e;function t(l,c){const u={};return Object.keys(c).forEach(h=>{B9(h,c[h])&&typeof l[h]=="function"&&(u[h]=(...f)=>{l[h](...f),c[h](...f)})}),u}if(typeof n=="function"||typeof e=="function")return l=>{const c=typeof e=="function"?e(l):e,u=typeof n=="function"?n({...l,...c}):n,h=je(l?.className,c?.className,u?.className),f=t(u,c);return{...c,...u,...f,...!!h&&{className:h},...c?.style&&u?.style&&{style:{...c.style,...u.style}},...c?.sx&&u?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const i=e,r=t(n,i),o=je(i?.className,n?.className);return{...e,...n,...r,...!!o&&{className:o},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function V4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function mg(n,e){return mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},mg(n,e)}function H4(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,mg(n,e)}var j4=t4();const c0=Td(j4),Hv={disabled:!1},cd=$n.createContext(null);var G9=function(e){return e.scrollTop},rc="unmounted",lo="exited",co="entering",ws="entered",Sg="exiting",Qi=(function(n){H4(e,n);function e(i,r){var o;o=n.call(this,i,r)||this;var l=r,c=l&&!l.isMounting?i.enter:i.appear,u;return o.appearStatus=null,i.in?c?(u=lo,o.appearStatus=co):u=ws:i.unmountOnExit||i.mountOnEnter?u=rc:u=lo,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(r,o){var l=r.in;return l&&o.status===rc?{status:lo}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(r){var o=null;if(r!==this.props){var l=this.state.status;this.props.in?l!==co&&l!==ws&&(o=co):(l===co||l===ws)&&(o=Sg)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var r=this.props.timeout,o,l,c;return o=l=c=r,r!=null&&typeof r!="number"&&(o=r.exit,l=r.enter,c=r.appear!==void 0?r.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(r,o){if(r===void 0&&(r=!1),o!==null)if(this.cancelNextCallback(),o===co){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:c0.findDOMNode(this);l&&G9(l)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lo&&this.setState({status:rc})},t.performEnter=function(r){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:r,u=this.props.nodeRef?[c]:[c0.findDOMNode(this),c],h=u[0],f=u[1],p=this.getTimeouts(),m=c?p.appear:p.enter;if(!r&&!l||Hv.disabled){this.safeSetState({status:ws},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:co},function(){o.props.onEntering(h,f),o.onTransitionEnd(m,function(){o.safeSetState({status:ws},function(){o.props.onEntered(h,f)})})})},t.performExit=function(){var r=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:c0.findDOMNode(this);if(!o||Hv.disabled){this.safeSetState({status:lo},function(){r.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Sg},function(){r.props.onExiting(c),r.onTransitionEnd(l.exit,function(){r.safeSetState({status:lo},function(){r.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(r,o){o=this.setNextCallback(o),this.setState(r,o)},t.setNextCallback=function(r){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,r(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(r,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:c0.findDOMNode(this),c=r==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=u[0],f=u[1];this.props.addEndListener(h,f)}r!=null&&setTimeout(this.nextCallback,r)},t.render=function(){var r=this.state.status;if(r===rc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=V4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return $n.createElement(cd.Provider,{value:null},typeof l=="function"?l(r,c):$n.cloneElement($n.Children.only(l),c))},e})($n.Component);Qi.contextType=cd;Qi.propTypes={};function Cs(){}Qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cs,onEntering:Cs,onEntered:Cs,onExit:Cs,onExiting:Cs,onExited:Cs};Qi.UNMOUNTED=rc;Qi.EXITED=lo;Qi.ENTERING=co;Qi.ENTERED=ws;Qi.EXITING=Sg;function Q9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wp(n,e){var t=function(o){return e&&Y.isValidElement(o)?e(o):o},i=Object.create(null);return n&&Y.Children.map(n,function(r){return r}).forEach(function(r){i[r.key]=t(r)}),i}function V9(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var i=Object.create(null),r=[];for(var o in n)o in e?r.length&&(i[o]=r,r=[]):r.push(o);var l,c={};for(var u in e){if(i[u])for(l=0;l<i[u].length;l++){var h=i[u][l];c[i[u][l]]=t(h)}c[u]=t(u)}for(l=0;l<r.length;l++)c[r[l]]=t(r[l]);return c}function go(n,e,t){return t[e]!=null?t[e]:n.props[e]}function H9(n,e){return wp(n.children,function(t){return Y.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:go(t,"appear",n),enter:go(t,"enter",n),exit:go(t,"exit",n)})})}function j9(n,e,t){var i=wp(n.children),r=V9(e,i);return Object.keys(r).forEach(function(o){var l=r[o];if(Y.isValidElement(l)){var c=o in e,u=o in i,h=e[o],f=Y.isValidElement(h)&&!h.props.in;u&&(!c||f)?r[o]=Y.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:go(l,"exit",n),enter:go(l,"enter",n)}):!u&&c&&!f?r[o]=Y.cloneElement(l,{in:!1}):u&&c&&Y.isValidElement(h)&&(r[o]=Y.cloneElement(l,{onExited:t.bind(null,l),in:h.props.in,exit:go(l,"exit",n),enter:go(l,"enter",n)}))}}),r}var Y9=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},X9={component:"div",childFactory:function(e){return e}},Ap=(function(n){H4(e,n);function e(i,r){var o;o=n.call(this,i,r)||this;var l=o.handleExited.bind(Q9(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(r,o){var l=o.children,c=o.handleExited,u=o.firstRender;return{children:u?H9(r,c):j9(r,l,c),firstRender:!1}},t.handleExited=function(r,o){var l=wp(this.props.children);r.key in l||(r.props.onExited&&r.props.onExited(o),this.mounted&&this.setState(function(c){var u=od({},c.children);return delete u[r.key],{children:u}}))},t.render=function(){var r=this.props,o=r.component,l=r.childFactory,c=V4(r,["component","childFactory"]),u=this.state.contextValue,h=Y9(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?$n.createElement(cd.Provider,{value:u},h):$n.createElement(cd.Provider,{value:u},$n.createElement(o,c,h))},e})($n.Component);Ap.propTypes={};Ap.defaultProps=X9;const jv={};function Y4(n,e){const t=Y.useRef(jv);return t.current===jv&&(t.current=n(e)),t}const W9=[];function $9(n){Y.useEffect(n,W9)}class Ip{static create(){return new Ip}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function X4(){const n=Y4(Ip.create).current;return $9(n.disposeEffect),n}const Op=n=>n.scrollTop;function Ms(n,e){const{timeout:t,easing:i,style:r={}}=n;return{duration:r.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:r.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:r.transitionDelay}}function xa(n){return typeof n=="string"}function W4(n,e,t){return n===void 0||xa(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function $4(n,e,t){return typeof n=="function"?n(e,t):n}function mc(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function Yv(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function Z4(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:r,className:o}=n;if(!e){const S=je(t?.className,o,r?.className,i?.className),y={...t?.style,...r?.style,...i?.style},v={...t,...r,...i};return S.length>0&&(v.className=S),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:void 0}}const l=mc({...r,...i}),c=Yv(i),u=Yv(r),h=e(l),f=je(h?.className,t?.className,o,r?.className,i?.className),p={...h?.style,...t?.style,...r?.style,...i?.style},m={...h,...t,...u,...c};return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:h.ref}}function cn(n,e){const{className:t,elementType:i,ownerState:r,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...u}=e,{component:h,slots:f={[n]:void 0},slotProps:p={[n]:void 0},...m}=o,S=f[n]||i,y=$4(p[n],r),{props:{component:v,...b},internalRef:T}=Z4({className:t,...u,externalForwardedProps:n==="root"?m:void 0,externalSlotProps:y}),x=Fn(T,y?.ref,e.ref),w=n==="root"?v||h:v,A=W4(S,{...n==="root"&&!h&&!f[n]&&l,...n!=="root"&&!f[n]&&l,...b,...w&&!c&&{as:w},...w&&c&&{component:w},ref:x},r);return[S,A]}function Z9(n){return at("MuiPaper",n)}ot("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const K9=n=>{const{square:e,elevation:t,variant:i,classes:r}=n,o={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return st(o,Z9,r)},J9=ze("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(rt(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Vc=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiPaper"}),r=Qs(),{className:o,component:l="div",elevation:c=1,square:u=!1,variant:h="elevation",...f}=i,p={...i,component:l,elevation:c,square:u,variant:h},m=K9(p);return J.jsx(J9,{as:l,ownerState:p,className:je(m.root,o),ref:t,...f,style:{...h==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[c],...r.vars&&{"--Paper-overlay":r.vars.overlays?.[c]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Mc("#fff",fg(c))}, ${Mc("#fff",fg(c))})`}},...f.style}})});function _s(n){try{return n.matches(":focus-visible")}catch{}return!1}class ud{static create(){return new ud}static use(){const e=Y4(ud.create).current,[t,i]=Y.useState(!1);return e.shouldMount=t,e.setShouldMount=i,Y.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=tA(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function eA(){return ud.use()}function tA(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function nA(n){const{className:e,classes:t,pulsate:i=!1,rippleX:r,rippleY:o,rippleSize:l,in:c,onExited:u,timeout:h}=n,[f,p]=Y.useState(!1),m=je(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),S={width:l,height:l,top:-(l/2)+o,left:-(l/2)+r},y=je(t.child,f&&t.childLeaving,i&&t.childPulsate);return!c&&!f&&p(!0),Y.useEffect(()=>{if(!c&&u!=null){const v=setTimeout(u,h);return()=>{clearTimeout(v)}}},[u,c,h]),J.jsx("span",{className:m,style:S,children:J.jsx("span",{className:y})})}const Di=ot("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),yg=550,iA=80,rA=Pa`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,aA=Pa`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,oA=Pa`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,sA=ze("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lA=ze(nA,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Di.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${rA};
    animation-duration: ${yg}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Di.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Di.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Di.childLeaving} {
    opacity: 0;
    animation-name: ${aA};
    animation-duration: ${yg}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Di.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${oA};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,cA=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:l,...c}=i,[u,h]=Y.useState([]),f=Y.useRef(0),p=Y.useRef(null);Y.useEffect(()=>{p.current&&(p.current(),p.current=null)},[u]);const m=Y.useRef(!1),S=X4(),y=Y.useRef(null),v=Y.useRef(null),b=Y.useCallback(A=>{const{pulsate:O,rippleX:L,rippleY:M,rippleSize:k,cb:F}=A;h(B=>[...B,J.jsx(lA,{classes:{ripple:je(o.ripple,Di.ripple),rippleVisible:je(o.rippleVisible,Di.rippleVisible),ripplePulsate:je(o.ripplePulsate,Di.ripplePulsate),child:je(o.child,Di.child),childLeaving:je(o.childLeaving,Di.childLeaving),childPulsate:je(o.childPulsate,Di.childPulsate)},timeout:yg,pulsate:O,rippleX:L,rippleY:M,rippleSize:k},f.current)]),f.current+=1,p.current=F},[o]),T=Y.useCallback((A={},O={},L=()=>{})=>{const{pulsate:M=!1,center:k=r||O.pulsate,fakeElement:F=!1}=O;if(A?.type==="mousedown"&&m.current){m.current=!1;return}A?.type==="touchstart"&&(m.current=!0);const B=F?null:v.current,H=B?B.getBoundingClientRect():{width:0,height:0,left:0,top:0};let P,q,I;if(k||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)P=Math.round(H.width/2),q=Math.round(H.height/2);else{const{clientX:N,clientY:U}=A.touches&&A.touches.length>0?A.touches[0]:A;P=Math.round(N-H.left),q=Math.round(U-H.top)}if(k)I=Math.sqrt((2*H.width**2+H.height**2)/3),I%2===0&&(I+=1);else{const N=Math.max(Math.abs((B?B.clientWidth:0)-P),P)*2+2,U=Math.max(Math.abs((B?B.clientHeight:0)-q),q)*2+2;I=Math.sqrt(N**2+U**2)}A?.touches?y.current===null&&(y.current=()=>{b({pulsate:M,rippleX:P,rippleY:q,rippleSize:I,cb:L})},S.start(iA,()=>{y.current&&(y.current(),y.current=null)})):b({pulsate:M,rippleX:P,rippleY:q,rippleSize:I,cb:L})},[r,b,S]),x=Y.useCallback(()=>{T({},{pulsate:!0})},[T]),w=Y.useCallback((A,O)=>{if(S.clear(),A?.type==="touchend"&&y.current){y.current(),y.current=null,S.start(0,()=>{w(A,O)});return}y.current=null,h(L=>L.length>0?L.slice(1):L),p.current=O},[S]);return Y.useImperativeHandle(t,()=>({pulsate:x,start:T,stop:w}),[x,T,w]),J.jsx(sA,{className:je(Di.root,o.root,l),ref:v,...c,children:J.jsx(Ap,{component:null,exit:!0,children:u})})});function uA(n){return at("MuiButtonBase",n)}const dA=ot("MuiButtonBase",["root","disabled","focusVisible"]),hA=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:r}=n,l=st({root:["root",e&&"disabled",t&&"focusVisible"]},uA,r);return t&&i&&(l.root+=` ${i}`),l},fA=ze("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dA.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),K4=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:l,className:c,component:u="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:p=!1,focusRipple:m=!1,focusVisibleClassName:S,LinkComponent:y="a",onBlur:v,onClick:b,onContextMenu:T,onDragLeave:x,onFocus:w,onFocusVisible:A,onKeyDown:O,onKeyUp:L,onMouseDown:M,onMouseLeave:k,onMouseUp:F,onTouchEnd:B,onTouchMove:H,onTouchStart:P,tabIndex:q=0,TouchRippleProps:I,touchRippleRef:N,type:U,...Q}=i,X=Y.useRef(null),V=eA(),re=Fn(V.ref,N),[_,z]=Y.useState(!1);h&&_&&z(!1),Y.useImperativeHandle(r,()=>({focusVisible:()=>{z(!0),X.current.focus()}}),[]);const te=V.shouldMount&&!f&&!h;Y.useEffect(()=>{_&&m&&!f&&V.pulsate()},[f,m,_,V]);const se=Lr(V,"start",M,p),Z=Lr(V,"stop",T,p),Se=Lr(V,"stop",x,p),Pe=Lr(V,"stop",F,p),Te=Lr(V,"stop",ee=>{_&&ee.preventDefault(),k&&k(ee)},p),xe=Lr(V,"start",P,p),Re=Lr(V,"stop",B,p),Ne=Lr(V,"stop",H,p),Ue=Lr(V,"stop",ee=>{_s(ee.target)||z(!1),v&&v(ee)},!1),Ye=lr(ee=>{X.current||(X.current=ee.currentTarget),_s(ee.target)&&(z(!0),A&&A(ee)),w&&w(ee)}),E=()=>{const ee=X.current;return u&&u!=="button"&&!(ee.tagName==="A"&&ee.href)},he=lr(ee=>{m&&!ee.repeat&&_&&ee.key===" "&&V.stop(ee,()=>{V.start(ee)}),ee.target===ee.currentTarget&&E()&&ee.key===" "&&ee.preventDefault(),O&&O(ee),ee.target===ee.currentTarget&&E()&&ee.key==="Enter"&&!h&&(ee.preventDefault(),b&&b(ee))}),ce=lr(ee=>{m&&ee.key===" "&&_&&!ee.defaultPrevented&&V.stop(ee,()=>{V.pulsate(ee)}),L&&L(ee),b&&ee.target===ee.currentTarget&&E()&&ee.key===" "&&!ee.defaultPrevented&&b(ee)});let W=u;W==="button"&&(Q.href||Q.to)&&(W=y);const j={};if(W==="button"){const ee=!!Q.formAction;j.type=U===void 0&&!ee?"button":U,j.disabled=h}else!Q.href&&!Q.to&&(j.role="button"),h&&(j["aria-disabled"]=h);const ne=Fn(t,X),ve={...i,centerRipple:o,component:u,disabled:h,disableRipple:f,disableTouchRipple:p,focusRipple:m,tabIndex:q,focusVisible:_},ye=hA(ve);return J.jsxs(fA,{as:W,className:je(ye.root,c),ownerState:ve,onBlur:Ue,onClick:b,onContextMenu:Z,onFocus:Ye,onKeyDown:he,onKeyUp:ce,onMouseDown:se,onMouseLeave:Te,onMouseUp:Pe,onDragLeave:Se,onTouchEnd:Re,onTouchMove:Ne,onTouchStart:xe,ref:ne,tabIndex:h?-1:q,type:U,...j,...Q,children:[l,te?J.jsx(cA,{ref:re,center:o,...I}):null]})});function Lr(n,e,t,i=!1){return lr(r=>(t&&t(r),i||n[e](r),!0))}function gA(n){return typeof n.main=="string"}function pA(n,e=[]){if(!gA(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function Cn(n=[]){return([,e])=>e&&pA(e,n)}function mA(n){return at("MuiCircularProgress",n)}ot("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Ri=44,vg=Pa`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Cg=Pa`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,SA=typeof vg!="string"?zs`
        animation: ${vg} 1.4s linear infinite;
      `:null,yA=typeof Cg!="string"?zs`
        animation: ${Cg} 1.4s ease-in-out infinite;
      `:null,vA=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,o={root:["root",t,`color${Be(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Be(t)}`,r&&"circleDisableShrink"]};return st(o,mA,e)},CA=ze("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Be(t.color)}`]]}})(rt(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:SA||{animation:`${vg} 1.4s linear infinite`}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),bA=ze("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),DA=ze("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Be(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(rt(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:yA||{animation:`${Cg} 1.4s ease-in-out infinite`}}]}))),TA=ze("circle",{name:"MuiCircularProgress",slot:"Track"})(rt(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),J4=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:l=!1,enableTrackSlot:c=!1,size:u=40,style:h,thickness:f=3.6,value:p=0,variant:m="indeterminate",...S}=i,y={...i,color:o,disableShrink:l,size:u,thickness:f,value:p,variant:m,enableTrackSlot:c},v=vA(y),b={},T={},x={};if(m==="determinate"){const w=2*Math.PI*((Ri-f)/2);b.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(p),b.strokeDashoffset=`${((100-p)/100*w).toFixed(3)}px`,T.transform="rotate(-90deg)"}return J.jsx(CA,{className:je(v.root,r),style:{width:u,height:u,...T,...h},ownerState:y,ref:t,role:"progressbar",...x,...S,children:J.jsxs(bA,{className:v.svg,ownerState:y,viewBox:`${Ri/2} ${Ri/2} ${Ri} ${Ri}`,children:[c?J.jsx(TA,{className:v.track,ownerState:y,cx:Ri,cy:Ri,r:(Ri-f)/2,fill:"none",strokeWidth:f,"aria-hidden":"true"}):null,J.jsx(DA,{className:v.circle,style:b,ownerState:y,cx:Ri,cy:Ri,r:(Ri-f)/2,fill:"none",strokeWidth:f})]})})});function xA(n){return at("MuiIconButton",n)}const Xv=ot("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wA=n=>{const{classes:e,disabled:t,color:i,edge:r,size:o,loading:l}=n,c={root:["root",l&&"loading",t&&"disabled",i!=="default"&&`color${Be(i)}`,r&&`edge${Be(r)}`,`size${Be(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return st(c,xA,e)},AA=ze(K4,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Be(t.color)}`],t.edge&&e[`edge${Be(t.edge)}`],e[`size${Be(t.size)}`]]}})(rt(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),rt(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${Xv.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${Xv.loading}`]:{color:"transparent"}}))),IA=ze("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),OA=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:l,color:c="default",disabled:u=!1,disableFocusRipple:h=!1,size:f="medium",id:p,loading:m=null,loadingIndicator:S,...y}=i,v=Gs(p),b=S??J.jsx(J4,{"aria-labelledby":v,color:"inherit",size:16}),T={...i,edge:r,color:c,disabled:u,disableFocusRipple:h,loading:m,loadingIndicator:b,size:f},x=wA(T);return J.jsxs(AA,{id:m?v:p,className:je(x.root,l),centerRipple:!0,focusRipple:!h,disabled:u||m,ref:t,...y,ownerState:T,children:[typeof m=="boolean"&&J.jsx("span",{className:x.loadingWrapper,style:{display:"contents"},children:J.jsx(IA,{className:x.loadingIndicator,ownerState:T,children:m&&b})}),o]})});function PA(n){return at("MuiTypography",n)}ot("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const LA={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},RA=F9(),EA=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:r,variant:o,classes:l}=n,c={root:["root",o,n.align!=="inherit"&&`align${Be(e)}`,t&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return st(c,PA,l)},MA=ze("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Be(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(rt(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Be(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),Wv={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},dd=Y.forwardRef(function(e,t){const{color:i,...r}=lt({props:e,name:"MuiTypography"}),o=!LA[i],l=RA({...r,...o&&{color:i}}),{align:c="inherit",className:u,component:h,gutterBottom:f=!1,noWrap:p=!1,paragraph:m=!1,variant:S="body1",variantMapping:y=Wv,...v}=l,b={...l,align:c,color:i,className:u,component:h,gutterBottom:f,noWrap:p,paragraph:m,variant:S,variantMapping:y},T=h||(m?"p":y[S]||Wv[S])||"span",x=EA(b);return J.jsx(MA,{as:T,ref:t,className:je(x.root,u),...v,ownerState:b,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...v.style}})});function _A(n){return at("MuiAppBar",n)}ot("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const kA=n=>{const{color:e,position:t,classes:i}=n,r={root:["root",`color${Be(e)}`,`position${Be(t)}`]};return st(r,_A,i)},$v=(n,e)=>n?`${n?.replace(")","")}, ${e})`:e,FA=ze(Vc,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Be(t.position)}`],e[`color${Be(t.color)}`]]}})(rt(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit",color:"var(--AppBar-color)"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(Cn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?$v(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?$v(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),UA=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:l=!1,position:c="fixed",...u}=i,h={...i,color:o,position:c,enableColorOnDark:l},f=kA(h);return J.jsx(FA,{square:!0,component:"header",ownerState:h,elevation:4,className:je(f.root,r,c==="fixed"&&"mui-fixed"),ref:t,...u})});function _r(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:r=!1,...o}=n,l=r?{}:$4(t,i),{props:c,internalRef:u}=Z4({...o,externalSlotProps:l}),h=Fn(u,l?.ref,n.additionalProps?.ref);return W4(e,{...c,ref:h},i)}function Vs(n){return parseInt(Y.version,10)>=19?n?.props?.ref||null:n?.ref||null}function NA(n){return typeof n=="function"?n():n}const qA=Y.forwardRef(function(e,t){const{children:i,container:r,disablePortal:o=!1}=e,[l,c]=Y.useState(null),u=Fn(Y.isValidElement(i)?Vs(i):null,t);if(Bi(()=>{o||c(NA(r)||document.body)},[r,o]),Bi(()=>{if(l&&!o)return Vv(t,l),()=>{Vv(t,null)}},[t,l,o]),o){if(Y.isValidElement(i)){const h={ref:u};return Y.cloneElement(i,h)}return i}return l&&j4.createPortal(i,l)});function u0(n){return parseInt(n,10)||0}const BA={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function zA(n){for(const e in n)return!1;return!0}function Zv(n){return zA(n)||n.outerHeightStyle===0&&!n.overflowing}const GA=Y.forwardRef(function(e,t){const{onChange:i,maxRows:r,minRows:o=1,style:l,value:c,...u}=e,{current:h}=Y.useRef(c!=null),f=Y.useRef(null),p=Fn(t,f),m=Y.useRef(null),S=Y.useRef(null),y=Y.useCallback(()=>{const w=f.current,A=S.current;if(!w||!A)return;const L=zi(w).getComputedStyle(w);if(L.width==="0px")return{outerHeightStyle:0,overflowing:!1};A.style.width=L.width,A.value=w.value||e.placeholder||"x",A.value.slice(-1)===`
`&&(A.value+=" ");const M=L.boxSizing,k=u0(L.paddingBottom)+u0(L.paddingTop),F=u0(L.borderBottomWidth)+u0(L.borderTopWidth),B=A.scrollHeight;A.value="x";const H=A.scrollHeight;let P=B;o&&(P=Math.max(Number(o)*H,P)),r&&(P=Math.min(Number(r)*H,P)),P=Math.max(P,H);const q=P+(M==="border-box"?k+F:0),I=Math.abs(P-B)<=1;return{outerHeightStyle:q,overflowing:I}},[r,o,e.placeholder]),v=lr(()=>{const w=f.current,A=y();if(!w||!A||Zv(A))return!1;const O=A.outerHeightStyle;return m.current!=null&&m.current!==O}),b=Y.useCallback(()=>{const w=f.current,A=y();if(!w||!A||Zv(A))return;const O=A.outerHeightStyle;m.current!==O&&(m.current=O,w.style.height=`${O}px`),w.style.overflow=A.overflowing?"hidden":""},[y]),T=Y.useRef(-1);Bi(()=>{const w=xp(b),A=f?.current;if(!A)return;const O=zi(A);O.addEventListener("resize",w);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(()=>{v()&&(L.unobserve(A),cancelAnimationFrame(T.current),b(),T.current=requestAnimationFrame(()=>{L.observe(A)}))}),L.observe(A)),()=>{w.clear(),cancelAnimationFrame(T.current),O.removeEventListener("resize",w),L&&L.disconnect()}},[y,b,v]),Bi(()=>{b()});const x=w=>{h||b();const A=w.target,O=A.value.length,L=A.value.endsWith(`
`),M=A.selectionStart===O;L&&M&&A.setSelectionRange(O,O),i&&i(w)};return J.jsxs(Y.Fragment,{children:[J.jsx("textarea",{value:c,onChange:x,ref:p,rows:o,style:l,...u}),J.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:S,tabIndex:-1,style:{...BA.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function Hs({props:n,states:e,muiFormControl:t}){return e.reduce((i,r)=>(i[r]=n[r],t&&typeof n[r]>"u"&&(i[r]=t[r]),i),{})}const Gd=Y.createContext(void 0);function xo(){return Y.useContext(Gd)}function Kv(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function hd(n,e=!1){return n&&(Kv(n.value)&&n.value!==""||e&&Kv(n.defaultValue)&&n.defaultValue!=="")}function QA(n){return n.startAdornment}function VA(n){return at("MuiInputBase",n)}const ks=ot("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Jv;const Qd=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Be(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Vd=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},HA=n=>{const{classes:e,color:t,disabled:i,error:r,endAdornment:o,focused:l,formControl:c,fullWidth:u,hiddenLabel:h,multiline:f,readOnly:p,size:m,startAdornment:S,type:y}=n,v={root:["root",`color${Be(t)}`,i&&"disabled",r&&"error",u&&"fullWidth",l&&"focused",c&&"formControl",m&&m!=="medium"&&`size${Be(m)}`,f&&"multiline",S&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",p&&"readOnly"],input:["input",i&&"disabled",y==="search"&&"inputTypeSearch",f&&"inputMultiline",m==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",S&&"inputAdornedStart",o&&"inputAdornedEnd",p&&"readOnly"]};return st(v,VA,e)},Hd=ze("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qd})(rt(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ks.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),jd=ze("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Vd})(rt(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},r=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ks.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":r,"&:focus::-moz-placeholder":r,"&:focus::-ms-input-placeholder":r},[`&.${ks.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),e5=Tp({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Pp=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:l,className:c,color:u,components:h={},componentsProps:f={},defaultValue:p,disabled:m,disableInjectingGlobalStyles:S,endAdornment:y,error:v,fullWidth:b=!1,id:T,inputComponent:x="input",inputProps:w={},inputRef:A,margin:O,maxRows:L,minRows:M,multiline:k=!1,name:F,onBlur:B,onChange:H,onClick:P,onFocus:q,onKeyDown:I,onKeyUp:N,placeholder:U,readOnly:Q,renderSuffix:X,rows:V,size:re,slotProps:_={},slots:z={},startAdornment:te,type:se="text",value:Z,...Se}=i,Pe=w.value!=null?w.value:Z,{current:Te}=Y.useRef(Pe!=null),xe=Y.useRef(),Re=Y.useCallback(Ze=>{},[]),Ne=Fn(xe,A,w.ref,Re),[Ue,Ye]=Y.useState(!1),E=xo(),he=Hs({props:i,muiFormControl:E,states:["color","disabled","error","hiddenLabel","size","required","filled"]});he.focused=E?E.focused:Ue,Y.useEffect(()=>{!E&&m&&Ue&&(Ye(!1),B&&B())},[E,m,Ue,B]);const ce=E&&E.onFilled,W=E&&E.onEmpty,j=Y.useCallback(Ze=>{hd(Ze)?ce&&ce():W&&W()},[ce,W]);Bi(()=>{Te&&j({value:Pe})},[Pe,j,Te]);const ne=Ze=>{q&&q(Ze),w.onFocus&&w.onFocus(Ze),E&&E.onFocus?E.onFocus(Ze):Ye(!0)},ve=Ze=>{B&&B(Ze),w.onBlur&&w.onBlur(Ze),E&&E.onBlur?E.onBlur(Ze):Ye(!1)},ye=(Ze,...Ot)=>{if(!Te){const $e=Ze.target||xe.current;if($e==null)throw new Error(Br(1));j({value:$e.value})}w.onChange&&w.onChange(Ze,...Ot),H&&H(Ze,...Ot)};Y.useEffect(()=>{j(xe.current)},[]);const ee=Ze=>{xe.current&&Ze.currentTarget===Ze.target&&xe.current.focus(),P&&P(Ze)};let Oe=x,Ie=w;k&&Oe==="input"&&(V?Ie={type:void 0,minRows:V,maxRows:V,...Ie}:Ie={type:void 0,maxRows:L,minRows:M,...Ie},Oe=GA);const le=Ze=>{j(Ze.animationName==="mui-auto-fill-cancel"?xe.current:{value:"x"})};Y.useEffect(()=>{E&&E.setAdornedStart(!!te)},[E,te]);const pe={...i,color:he.color||"primary",disabled:he.disabled,endAdornment:y,error:he.error,focused:he.focused,formControl:E,fullWidth:b,hiddenLabel:he.hiddenLabel,multiline:k,size:he.size,startAdornment:te,type:se},Ee=HA(pe),ke=z.root||h.Root||Hd,Ge=_.root||f.root||{},Xe=z.input||h.Input||jd;return Ie={...Ie,..._.input??f.input},J.jsxs(Y.Fragment,{children:[!S&&typeof e5=="function"&&(Jv||(Jv=J.jsx(e5,{}))),J.jsxs(ke,{...Ge,ref:t,onClick:ee,...Se,...!xa(ke)&&{ownerState:{...pe,...Ge.ownerState}},className:je(Ee.root,Ge.className,c,Q&&"MuiInputBase-readOnly"),children:[te,J.jsx(Gd.Provider,{value:null,children:J.jsx(Xe,{"aria-invalid":he.error,"aria-describedby":r,autoComplete:o,autoFocus:l,defaultValue:p,disabled:he.disabled,id:T,onAnimationStart:le,name:F,placeholder:U,readOnly:Q,required:he.required,rows:V,value:Pe,onKeyDown:I,onKeyUp:N,type:se,...Ie,...!xa(Xe)&&{as:Oe,ownerState:{...pe,...Ie.ownerState}},ref:Ne,className:je(Ee.input,Ie.className,Q&&"MuiInputBase-readOnly"),onBlur:ve,onChange:ye,onFocus:ne})}),y,X?X({...he,startAdornment:te}):null]})]})});function jA(n){return at("MuiInput",n)}const Gl={...ks,...ot("MuiInput",["root","underline","input"])};function YA(n){return at("MuiOutlinedInput",n)}const Ki={...ks,...ot("MuiOutlinedInput",["root","notchedOutline","input"])};function XA(n){return at("MuiFilledInput",n)}const Ka={...ks,...ot("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},WA=zr(J.jsx("path",{d:"M7 10l5 5 5-5z"})),$A={entering:{opacity:1},entered:{opacity:1}},bg=Y.forwardRef(function(e,t){const i=Qs(),r={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:u,in:h,onEnter:f,onEntered:p,onEntering:m,onExit:S,onExited:y,onExiting:v,style:b,timeout:T=r,TransitionComponent:x=Qi,...w}=e,A=Y.useRef(null),O=Fn(A,Vs(c),t),L=I=>N=>{if(I){const U=A.current;N===void 0?I(U):I(U,N)}},M=L(m),k=L((I,N)=>{Op(I);const U=Ms({style:b,timeout:T,easing:u},{mode:"enter"});I.style.webkitTransition=i.transitions.create("opacity",U),I.style.transition=i.transitions.create("opacity",U),f&&f(I,N)}),F=L(p),B=L(v),H=L(I=>{const N=Ms({style:b,timeout:T,easing:u},{mode:"exit"});I.style.webkitTransition=i.transitions.create("opacity",N),I.style.transition=i.transitions.create("opacity",N),S&&S(I)}),P=L(y),q=I=>{o&&o(A.current,I)};return J.jsx(x,{appear:l,in:h,nodeRef:A,onEnter:k,onEntered:F,onEntering:M,onExit:H,onExited:P,onExiting:B,addEndListener:q,timeout:T,...w,children:(I,{ownerState:N,...U})=>Y.cloneElement(c,{style:{opacity:0,visibility:I==="exited"&&!h?"hidden":void 0,...$A[I],...b,...c.props.style},ref:O,...U})})});function ZA(n){return at("MuiBackdrop",n)}ot("MuiBackdrop",["root","invisible"]);const KA=n=>{const{classes:e,invisible:t}=n;return st({root:["root",t&&"invisible"]},ZA,e)},JA=ze("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),e3=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiBackdrop"}),{children:r,className:o,component:l="div",invisible:c=!1,open:u,components:h={},componentsProps:f={},slotProps:p={},slots:m={},TransitionComponent:S,transitionDuration:y,...v}=i,b={...i,component:l,invisible:c},T=KA(b),x={transition:S,root:h.Root,...m},w={...f,...p},A={component:l,slots:x,slotProps:w},[O,L]=cn("root",{elementType:JA,externalForwardedProps:A,className:je(T.root,o),ownerState:b}),[M,k]=cn("transition",{elementType:bg,externalForwardedProps:A,ownerState:b});return J.jsx(M,{in:u,timeout:y,...v,...k,children:J.jsx(O,{"aria-hidden":!0,...L,ref:t,children:r})})}),e7=ot("MuiBox",["root"]),t7=Bd(),n7=rw({themeId:Ui,defaultTheme:t7,defaultClassName:e7.root,generateClassName:T4.generate});function i7(n){return at("MuiButton",n)}const Ja=ot("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),r7=Y.createContext({}),a7=Y.createContext(void 0),o7=n=>{const{color:e,disableElevation:t,fullWidth:i,size:r,variant:o,loading:l,loadingPosition:c,classes:u}=n,h={root:["root",l&&"loading",o,`${o}${Be(e)}`,`size${Be(r)}`,`${o}Size${Be(r)}`,`color${Be(e)}`,t&&"disableElevation",i&&"fullWidth",l&&`loadingPosition${Be(c)}`],startIcon:["icon","startIcon",`iconSize${Be(r)}`],endIcon:["icon","endIcon",`iconSize${Be(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},f=st(h,i7,u);return{...u,...f}},t3=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],s7=ze(K4,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${Be(t.color)}`],e[`size${Be(t.size)}`],e[`${t.variant}Size${Be(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(rt(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Ja.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Ja.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Ja.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Ja.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(Cn()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.alpha((n.vars||n).palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.alpha((n.vars||n).palette[i].main,(n.vars||n).palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"--variant-outlinedBg":n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Ja.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Ja.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${Ja.loading}`]:{color:"transparent"}}}]}})),l7=ze("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${Be(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...t3]})),c7=ze("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${Be(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...t3]})),u7=ze("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),t5=ze("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),d0=Y.forwardRef(function(e,t){const i=Y.useContext(r7),r=Y.useContext(a7),o=Ec(i,e),l=lt({props:o,name:"MuiButton"}),{children:c,color:u="primary",component:h="button",className:f,disabled:p=!1,disableElevation:m=!1,disableFocusRipple:S=!1,endIcon:y,focusVisibleClassName:v,fullWidth:b=!1,id:T,loading:x=null,loadingIndicator:w,loadingPosition:A="center",size:O="medium",startIcon:L,type:M,variant:k="text",...F}=l,B=Gs(T),H=w??J.jsx(J4,{"aria-labelledby":B,color:"inherit",size:16}),P={...l,color:u,component:h,disabled:p,disableElevation:m,disableFocusRipple:S,fullWidth:b,loading:x,loadingIndicator:H,loadingPosition:A,size:O,type:M,variant:k},q=o7(P),I=(L||x&&A==="start")&&J.jsx(l7,{className:q.startIcon,ownerState:P,children:L||J.jsx(t5,{className:q.loadingIconPlaceholder,ownerState:P})}),N=(y||x&&A==="end")&&J.jsx(c7,{className:q.endIcon,ownerState:P,children:y||J.jsx(t5,{className:q.loadingIconPlaceholder,ownerState:P})}),U=r||"",Q=typeof x=="boolean"?J.jsx("span",{className:q.loadingWrapper,style:{display:"contents"},children:x&&J.jsx(u7,{className:q.loadingIndicator,ownerState:P,children:H})}):null;return J.jsxs(s7,{ownerState:P,className:je(i.className,q.root,f,U),component:h,disabled:p||x,focusRipple:!S,focusVisibleClassName:je(q.focusVisible,v),ref:t,type:M,id:x?B:T,...F,classes:q,children:[I,A!=="end"&&Q,c,A==="end"&&Q,N]})}),Dg=typeof Tp({})=="function",d7=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),h7=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),n3=(n,e=!1)=>{const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([o,l])=>{const c=n.getColorSchemeSelector(o);c.startsWith("@")?t[c]={":root":{colorScheme:l.palette?.mode}}:t[c.replace(/\s*&/,"")]={colorScheme:l.palette?.mode}});let i={html:d7(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...h7(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const r=n.components?.MuiCssBaseline?.styleOverrides;return r&&(i=[i,r]),i},W0="mui-ecs",f7=n=>{const e=n3(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${W0})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,r])=>{const o=n.getColorSchemeSelector(i);o.startsWith("@")?t[o]={[`:root:not(:has(.${W0}))`]:{colorScheme:r.palette?.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${W0}))`]:{colorScheme:r.palette?.mode}}}),e},g7=Tp(Dg?({theme:n,enableColorScheme:e})=>n3(n,e):({theme:n})=>f7(n));function p7(n){const e=lt({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return J.jsxs(Y.Fragment,{children:[Dg&&J.jsx(g7,{enableColorScheme:i}),!Dg&&!i&&J.jsx("span",{className:W0,style:{display:"none"}}),t]})}function i3(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function m7(n){const e=qn(n);return e.body===n?zi(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Sc(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function n5(n){return parseFloat(zi(n).getComputedStyle(n).paddingRight)||0}function S7(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function i5(n,e,t,i,r){const o=[e,t,...i];[].forEach.call(n.children,l=>{const c=!o.includes(l),u=!S7(l);c&&u&&Sc(l,r)})}function O1(n,e){let t=-1;return n.some((i,r)=>e(i)?(t=r,!0):!1),t}function y7(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(m7(i)){const l=i3(zi(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${n5(i)+l}px`;const c=qn(i).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{t.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${n5(u)+l}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=qn(i).body;else{const l=i.parentElement,c=zi(i);o=l?.nodeName==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:i}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function v7(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class C7{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Sc(e.modalRef,!1);const r=v7(t);i5(t,e.mount,e.modalRef,r,!0);const o=O1(this.containers,l=>l.container===t);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),i)}mount(e,t){const i=O1(this.containers,o=>o.modals.includes(e)),r=this.containers[i];r.restore||(r.restore=y7(r,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const r=O1(this.containers,l=>l.modals.includes(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Sc(e.modalRef,t),i5(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&Sc(l.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function ac(n){let e=n.activeElement;for(;e?.shadowRoot?.activeElement!=null;)e=e.shadowRoot.activeElement;return e}const b7=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function D7(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function T7(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function x7(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||T7(n))}function w7(n){const e=[],t=[];return Array.from(n.querySelectorAll(b7)).forEach((i,r)=>{const o=D7(i);o===-1||!x7(i)||(o===0?e.push(i):t.push({documentOrder:r,tabIndex:o,node:i}))}),t.sort((i,r)=>i.tabIndex===r.tabIndex?i.documentOrder-r.documentOrder:i.tabIndex-r.tabIndex).map(i=>i.node).concat(e)}function A7(){return!0}function I7(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:r=!1,getTabbable:o=w7,isEnabled:l=A7,open:c}=n,u=Y.useRef(!1),h=Y.useRef(null),f=Y.useRef(null),p=Y.useRef(null),m=Y.useRef(null),S=Y.useRef(!1),y=Y.useRef(null),v=Fn(Vs(e),y),b=Y.useRef(null);Y.useEffect(()=>{!c||!y.current||(S.current=!t)},[t,c]),Y.useEffect(()=>{if(!c||!y.current)return;const w=qn(y.current),A=ac(w);return y.current.contains(A)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),S.current&&y.current.focus()),()=>{r||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[c]),Y.useEffect(()=>{if(!c||!y.current)return;const w=qn(y.current),A=M=>{if(b.current=M,i||!l()||M.key!=="Tab")return;ac(w)===y.current&&M.shiftKey&&(u.current=!0,f.current&&f.current.focus())},O=()=>{const M=y.current;if(M===null)return;const k=ac(w);if(!w.hasFocus()||!l()||u.current){u.current=!1;return}if(M.contains(k)||i&&k!==h.current&&k!==f.current)return;if(k!==m.current)m.current=null;else if(m.current!==null)return;if(!S.current)return;let F=[];if((k===h.current||k===f.current)&&(F=o(y.current)),F.length>0){const B=!!(b.current?.shiftKey&&b.current?.key==="Tab"),H=F[0],P=F[F.length-1];typeof H!="string"&&typeof P!="string"&&(B?P.focus():H.focus())}else M.focus()};w.addEventListener("focusin",O),w.addEventListener("keydown",A,!0);const L=setInterval(()=>{const M=ac(w);M&&M.tagName==="BODY"&&O()},50);return()=>{clearInterval(L),w.removeEventListener("focusin",O),w.removeEventListener("keydown",A,!0)}},[t,i,r,l,c,o]);const T=w=>{p.current===null&&(p.current=w.relatedTarget),S.current=!0,m.current=w.target;const A=e.props.onFocus;A&&A(w)},x=w=>{p.current===null&&(p.current=w.relatedTarget),S.current=!0};return J.jsxs(Y.Fragment,{children:[J.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:h,"data-testid":"sentinelStart"}),Y.cloneElement(e,{ref:v,onFocus:T}),J.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:f,"data-testid":"sentinelEnd"})]})}function O7(n){return typeof n=="function"?n():n}function P7(n){return n?n.props.hasOwnProperty("in"):!1}const r5=()=>{},h0=new C7;function L7(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:r=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:u,open:h,rootRef:f}=n,p=Y.useRef({}),m=Y.useRef(null),S=Y.useRef(null),y=Fn(S,f),[v,b]=Y.useState(!h),T=P7(c);let x=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(x=!1);const w=()=>qn(m.current),A=()=>(p.current.modalRef=S.current,p.current.mount=m.current,p.current),O=()=>{h0.mount(A(),{disableScrollLock:i}),S.current&&(S.current.scrollTop=0)},L=lr(()=>{const N=O7(e)||w().body;h0.add(A(),N),S.current&&O()}),M=()=>h0.isTopModal(A()),k=lr(N=>{m.current=N,N&&(h&&M()?O():S.current&&Sc(S.current,x))}),F=Y.useCallback(()=>{h0.remove(A(),x)},[x]);Y.useEffect(()=>()=>{F()},[F]),Y.useEffect(()=>{h?L():(!T||!r)&&F()},[h,F,T,r,L]);const B=N=>U=>{N.onKeyDown?.(U),!(U.key!=="Escape"||U.which===229||!M())&&(t||(U.stopPropagation(),u&&u(U,"escapeKeyDown")))},H=N=>U=>{N.onClick?.(U),U.target===U.currentTarget&&u&&u(U,"backdropClick")};return{getRootProps:(N={})=>{const U=mc(n);delete U.onTransitionEnter,delete U.onTransitionExited;const Q={...U,...N};return{role:"presentation",...Q,onKeyDown:B(Q),ref:y}},getBackdropProps:(N={})=>{const U=N;return{"aria-hidden":!0,...U,onClick:H(U),open:h}},getTransitionProps:()=>{const N=()=>{b(!1),o&&o()},U=()=>{b(!0),l&&l(),r&&F()};return{onEnter:Qv(N,c?.props.onEnter??r5),onExited:Qv(U,c?.props.onExited??r5)}},rootRef:y,portalRef:k,isTopModal:M,exited:v,hasTransition:T}}function R7(n){return at("MuiModal",n)}ot("MuiModal",["root","hidden","backdrop"]);const E7=n=>{const{open:e,exited:t,classes:i}=n;return st({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},R7,i)},M7=ze("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(rt(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),_7=ze(e3,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),r3=Y.forwardRef(function(e,t){const i=lt({name:"MuiModal",props:e}),{BackdropComponent:r=_7,BackdropProps:o,classes:l,className:c,closeAfterTransition:u=!1,children:h,container:f,component:p,components:m={},componentsProps:S={},disableAutoFocus:y=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:b=!1,disablePortal:T=!1,disableRestoreFocus:x=!1,disableScrollLock:w=!1,hideBackdrop:A=!1,keepMounted:O=!1,onClose:L,onTransitionEnter:M,onTransitionExited:k,open:F,slotProps:B={},slots:H={},theme:P,...q}=i,I={...i,closeAfterTransition:u,disableAutoFocus:y,disableEnforceFocus:v,disableEscapeKeyDown:b,disablePortal:T,disableRestoreFocus:x,disableScrollLock:w,hideBackdrop:A,keepMounted:O},{getRootProps:N,getBackdropProps:U,getTransitionProps:Q,portalRef:X,isTopModal:V,exited:re,hasTransition:_}=L7({...I,rootRef:t}),z={...I,exited:re},te=E7(z),se={};if(h.props.tabIndex===void 0&&(se.tabIndex="-1"),_){const{onEnter:Re,onExited:Ne}=Q();se.onEnter=Re,se.onExited=Ne}const Z={slots:{root:m.Root,backdrop:m.Backdrop,...H},slotProps:{...S,...B}},[Se,Pe]=cn("root",{ref:t,elementType:M7,externalForwardedProps:{...Z,...q,component:p},getSlotProps:N,ownerState:z,className:je(c,te?.root,!z.open&&z.exited&&te?.hidden)}),[Te,xe]=cn("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:Z,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:Re=>U({...Re,onClick:Ne=>{Re?.onClick&&Re.onClick(Ne)}}),className:je(o?.className,te?.backdrop),ownerState:z});return!O&&!F&&(!_||re)?null:J.jsx(qA,{ref:X,container:f,disablePortal:T,children:J.jsxs(Se,{...Pe,children:[!A&&r?J.jsx(Te,{...xe}):null,J.jsx(I7,{disableEnforceFocus:v,disableAutoFocus:y,disableRestoreFocus:x,isEnabled:V,open:F,children:Y.cloneElement(h,se)})]})})});function k7(n){return at("MuiDialog",n)}const P1=ot("MuiDialog",["root","backdrop","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),F7=Y.createContext({}),U7=ze(e3,{name:"MuiDialog",slot:"Backdrop"})({zIndex:-1}),N7=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:r,fullScreen:o}=n,l={root:["root"],backdrop:["backdrop"],container:["container",`scroll${Be(t)}`],paper:["paper",`paperScroll${Be(t)}`,`paperWidth${Be(String(i))}`,r&&"paperFullWidth",o&&"paperFullScreen"]};return st(l,k7,e)},q7=ze(r3,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),B7=ze("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Be(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),z7=ze(Vc,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Be(t.scroll)}`],e[`paperWidth${Be(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(rt(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${P1.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${P1.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${P1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),G7=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiDialog"}),r=Qs(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":u=!0,BackdropComponent:h,BackdropProps:f,children:p,className:m,disableEscapeKeyDown:S=!1,fullScreen:y=!1,fullWidth:v=!1,maxWidth:b="sm",onClick:T,onClose:x,open:w,PaperComponent:A=Vc,PaperProps:O={},scroll:L="paper",slots:M={},slotProps:k={},TransitionComponent:F=bg,transitionDuration:B=o,TransitionProps:H,...P}=i,q={...i,disableEscapeKeyDown:S,fullScreen:y,fullWidth:v,maxWidth:b,scroll:L},I=N7(q),N=Y.useRef(),U=Ye=>{N.current=Ye.target===Ye.currentTarget},Q=Ye=>{T&&T(Ye),N.current&&(N.current=null,x&&x(Ye,"backdropClick"))},X=Gs(c),V=Y.useMemo(()=>({titleId:X}),[X]),re={transition:F,...M},_={transition:H,paper:O,backdrop:f,...k},z={slots:re,slotProps:_},[te,se]=cn("root",{elementType:q7,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:q,className:je(I.root,m),ref:t}),[Z,Se]=cn("backdrop",{elementType:U7,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:q,className:I.backdrop}),[Pe,Te]=cn("paper",{elementType:z7,shouldForwardComponentProp:!0,externalForwardedProps:z,ownerState:q,className:je(I.paper,O.className)}),[xe,Re]=cn("container",{elementType:B7,externalForwardedProps:z,ownerState:q,className:I.container}),[Ne,Ue]=cn("transition",{elementType:bg,externalForwardedProps:z,ownerState:q,additionalProps:{appear:!0,in:w,timeout:B,role:"presentation"}});return J.jsx(te,{closeAfterTransition:!0,slots:{backdrop:Z},slotProps:{backdrop:{transitionDuration:B,as:h,...Se}},disableEscapeKeyDown:S,onClose:x,open:w,onClick:Q,...se,...P,children:J.jsx(Ne,{...Ue,children:J.jsx(xe,{onMouseDown:U,...Re,children:J.jsx(Pe,{as:A,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":X,"aria-modal":u,...Te,children:J.jsx(F7.Provider,{value:V,children:p})})})})})});function Q7(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),o=zi(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const h=o.getComputedStyle(e);l=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let c=0,u=0;if(l&&l!=="none"&&typeof l=="string"){const h=l.split("(")[1].split(")")[0].split(",");c=parseInt(h[4],10),u=parseInt(h[5],10)}return n==="left"?r?`translateX(${r.right+c-i.left}px)`:`translateX(${o.innerWidth+c-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-c}px)`:`translateX(-${i.left+i.width-c}px)`:n==="up"?r?`translateY(${r.bottom+u-i.top}px)`:`translateY(${o.innerHeight+u-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-u}px)`:`translateY(-${i.top+i.height-u}px)`}function V7(n){return typeof n=="function"?n():n}function f0(n,e,t){const i=V7(t),r=Q7(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const H7=Y.forwardRef(function(e,t){const i=Qs(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:u,container:h,direction:f="down",easing:p=r,in:m,onEnter:S,onEntered:y,onEntering:v,onExit:b,onExited:T,onExiting:x,style:w,timeout:A=o,TransitionComponent:O=Qi,...L}=e,M=Y.useRef(null),k=Fn(Vs(u),M,t),F=X=>V=>{X&&(V===void 0?X(M.current):X(M.current,V))},B=F((X,V)=>{f0(f,X,h),Op(X),S&&S(X,V)}),H=F((X,V)=>{const re=Ms({timeout:A,style:w,easing:p},{mode:"enter"});X.style.webkitTransition=i.transitions.create("-webkit-transform",{...re}),X.style.transition=i.transitions.create("transform",{...re}),X.style.webkitTransform="none",X.style.transform="none",v&&v(X,V)}),P=F(y),q=F(x),I=F(X=>{const V=Ms({timeout:A,style:w,easing:p},{mode:"exit"});X.style.webkitTransition=i.transitions.create("-webkit-transform",V),X.style.transition=i.transitions.create("transform",V),f0(f,X,h),b&&b(X)}),N=F(X=>{X.style.webkitTransition="",X.style.transition="",T&&T(X)}),U=X=>{l&&l(M.current,X)},Q=Y.useCallback(()=>{M.current&&f0(f,M.current,h)},[f,h]);return Y.useEffect(()=>{if(m||f==="down"||f==="right")return;const X=xp(()=>{M.current&&f0(f,M.current,h)}),V=zi(M.current);return V.addEventListener("resize",X),()=>{X.clear(),V.removeEventListener("resize",X)}},[f,m,h]),Y.useEffect(()=>{m||Q()},[m,Q]),J.jsx(O,{nodeRef:M,onEnter:B,onEntered:P,onEntering:H,onExit:I,onExited:N,onExiting:q,addEndListener:U,appear:c,in:m,timeout:A,...L,children:(X,{ownerState:V,...re})=>Y.cloneElement(u,{ref:k,style:{visibility:X==="exited"&&!m?"hidden":void 0,...w,...u.props.style},...re})})}),j7=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:r,size:o,hiddenLabel:l,multiline:c}=n,u={root:["root",!t&&"underline",i&&"adornedStart",r&&"adornedEnd",o==="small"&&`size${Be(o)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},h=st(u,XA,e);return{...e,...h}},Y7=ze(Hd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Qd(n,e),!t.disableUnderline&&e.underline]}})(rt(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:r,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${Ka.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${Ka.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ka.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ka.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ka.disabled}, .${Ka.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ka.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Cn()).map(([l])=>({props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[l]?.main}`}}})),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),X7=ze(jd,{name:"MuiFilledInput",slot:"Input",overridesResolver:Vd})(rt(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Lp=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiFilledInput"}),{disableUnderline:r=!1,components:o={},componentsProps:l,fullWidth:c=!1,hiddenLabel:u,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:m={},type:S="text",...y}=i,v={...i,disableUnderline:r,fullWidth:c,inputComponent:h,multiline:f,type:S},b=j7(i),T={root:{ownerState:v},input:{ownerState:v}},x=p??l?xn(T,p??l):T,w=m.root??o.Root??Y7,A=m.input??o.Input??X7;return J.jsx(Pp,{slots:{root:w,input:A},slotProps:x,fullWidth:c,inputComponent:h,multiline:f,ref:t,type:S,...y,classes:b})});Lp.muiName="Input";function W7(n){return at("MuiFormControl",n)}ot("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const $7=n=>{const{classes:e,margin:t,fullWidth:i}=n,r={root:["root",t!=="none"&&`margin${Be(t)}`,i&&"fullWidth"]};return st(r,W7,e)},Z7=ze("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Be(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),K7=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiFormControl"}),{children:r,className:o,color:l="primary",component:c="div",disabled:u=!1,error:h=!1,focused:f,fullWidth:p=!1,hiddenLabel:m=!1,margin:S="none",required:y=!1,size:v="medium",variant:b="outlined",...T}=i,x={...i,color:l,component:c,disabled:u,error:h,fullWidth:p,hiddenLabel:m,margin:S,required:y,size:v,variant:b},w=$7(x),[A,O]=Y.useState(()=>{let N=!1;return r&&Y.Children.forEach(r,U=>{if(!A1(U,["Input","Select"]))return;const Q=A1(U,["Select"])?U.props.input:U;Q&&QA(Q.props)&&(N=!0)}),N}),[L,M]=Y.useState(()=>{let N=!1;return r&&Y.Children.forEach(r,U=>{A1(U,["Input","Select"])&&(hd(U.props,!0)||hd(U.props.inputProps,!0))&&(N=!0)}),N}),[k,F]=Y.useState(!1);u&&k&&F(!1);const B=f!==void 0&&!u?f:k;let H;Y.useRef(!1);const P=Y.useCallback(()=>{M(!0)},[]),q=Y.useCallback(()=>{M(!1)},[]),I=Y.useMemo(()=>({adornedStart:A,setAdornedStart:O,color:l,disabled:u,error:h,filled:L,focused:B,fullWidth:p,hiddenLabel:m,size:v,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:q,onFilled:P,registerEffect:H,required:y,variant:b}),[A,l,u,h,L,B,p,m,H,q,P,y,v,b]);return J.jsx(Gd.Provider,{value:I,children:J.jsx(Z7,{as:c,ownerState:x,className:je(w.root,o),ref:t,...T,children:r})})});function J7(n){return at("MuiFormHelperText",n)}const a5=ot("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var o5;const eI=n=>{const{classes:e,contained:t,size:i,disabled:r,error:o,filled:l,focused:c,required:u}=n,h={root:["root",r&&"disabled",o&&"error",i&&`size${Be(i)}`,t&&"contained",c&&"focused",l&&"filled",u&&"required"]};return st(h,J7,e)},tI=ze("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Be(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(rt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${a5.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${a5.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),nI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:l="p",disabled:c,error:u,filled:h,focused:f,margin:p,required:m,variant:S,...y}=i,v=xo(),b=Hs({props:i,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),T={...i,component:l,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete T.ownerState;const x=eI(T);return J.jsx(tI,{as:l,className:je(x.root,o),ref:t,...y,ownerState:T,children:r===" "?o5||(o5=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):r})});function iI(n){return at("MuiFormLabel",n)}const yc=ot("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),rI=n=>{const{classes:e,color:t,focused:i,disabled:r,error:o,filled:l,required:c}=n,u={root:["root",`color${Be(t)}`,r&&"disabled",o&&"error",l&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return st(u,iI,e)},aI=ze("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(rt(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{[`&.${yc.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${yc.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${yc.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),oI=ze("span",{name:"MuiFormLabel",slot:"Asterisk"})(rt(({theme:n})=>({[`&.${yc.error}`]:{color:(n.vars||n).palette.error.main}}))),sI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiFormLabel"}),{children:r,className:o,color:l,component:c="label",disabled:u,error:h,filled:f,focused:p,required:m,...S}=i,y=xo(),v=Hs({props:i,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),b={...i,color:v.color||"primary",component:c,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},T=rI(b);return J.jsxs(aI,{as:c,ownerState:b,className:je(T.root,o),ref:t,...S,children:[r,v.required&&J.jsxs(oI,{ownerState:b,"aria-hidden":!0,className:T.asterisk,children:["","*"]})]})});function Tg(n){return`scale(${n}, ${n**2})`}const lI={entering:{opacity:1,transform:Tg(1)},entered:{opacity:1,transform:"none"}},L1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),xg=Y.forwardRef(function(e,t){const{addEndListener:i,appear:r=!0,children:o,easing:l,in:c,onEnter:u,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:S,style:y,timeout:v="auto",TransitionComponent:b=Qi,...T}=e,x=X4(),w=Y.useRef(),A=Qs(),O=Y.useRef(null),L=Fn(O,Vs(o),t),M=N=>U=>{if(N){const Q=O.current;U===void 0?N(Q):N(Q,U)}},k=M(f),F=M((N,U)=>{Op(N);const{duration:Q,delay:X,easing:V}=Ms({style:y,timeout:v,easing:l},{mode:"enter"});let re;v==="auto"?(re=A.transitions.getAutoHeightDuration(N.clientHeight),w.current=re):re=Q,N.style.transition=[A.transitions.create("opacity",{duration:re,delay:X}),A.transitions.create("transform",{duration:L1?re:re*.666,delay:X,easing:V})].join(","),u&&u(N,U)}),B=M(h),H=M(S),P=M(N=>{const{duration:U,delay:Q,easing:X}=Ms({style:y,timeout:v,easing:l},{mode:"exit"});let V;v==="auto"?(V=A.transitions.getAutoHeightDuration(N.clientHeight),w.current=V):V=U,N.style.transition=[A.transitions.create("opacity",{duration:V,delay:Q}),A.transitions.create("transform",{duration:L1?V:V*.666,delay:L1?Q:Q||V*.333,easing:X})].join(","),N.style.opacity=0,N.style.transform=Tg(.75),p&&p(N)}),q=M(m),I=N=>{v==="auto"&&x.start(w.current||0,N),i&&i(O.current,N)};return J.jsx(b,{appear:r,in:c,nodeRef:O,onEnter:F,onEntered:B,onEntering:k,onExit:P,onExited:q,onExiting:H,addEndListener:I,timeout:v==="auto"?null:v,...T,children:(N,{ownerState:U,...Q})=>Y.cloneElement(o,{style:{opacity:0,transform:Tg(.75),visibility:N==="exited"&&!c?"hidden":void 0,...lI[N],...y,...o.props.style},ref:L,...Q})})});xg&&(xg.muiSupportAuto=!0);const cI=n=>{const{classes:e,disableUnderline:t}=n,r=st({root:["root",!t&&"underline"],input:["input"]},jA,e);return{...e,...r}},uI=ze(Hd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Qd(n,e),!t.disableUnderline&&e.underline]}})(rt(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gl.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gl.disabled}, .${Gl.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Gl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(Cn()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),dI=ze(jd,{name:"MuiInput",slot:"Input",overridesResolver:Vd})({}),Rp=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiInput"}),{disableUnderline:r=!1,components:o={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text",...S}=i,y=cI(i),b={root:{ownerState:{disableUnderline:r}}},T=f??l?xn(f??l,b):b,x=p.root??o.Root??uI,w=p.input??o.Input??dI;return J.jsx(Pp,{slots:{root:x,input:w},slotProps:T,fullWidth:c,inputComponent:u,multiline:h,ref:t,type:m,...S,classes:y})});Rp.muiName="Input";function hI(n){return at("MuiInputAdornment",n)}const s5=ot("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var l5;const fI=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Be(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},gI=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:i,position:r,size:o,variant:l}=n,c={root:["root",t&&"disablePointerEvents",r&&`position${Be(r)}`,l,i&&"hiddenLabel",o&&`size${Be(o)}`]};return st(c,hI,e)},pI=ze("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:fI})(rt(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${s5.positionStart}&:not(.${s5.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),mI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:l="div",disablePointerEvents:c=!1,disableTypography:u=!1,position:h,variant:f,...p}=i,m=xo()||{};let S=f;f&&m.variant,m&&!S&&(S=m.variant);const y={...i,hiddenLabel:m.hiddenLabel,size:m.size,disablePointerEvents:c,position:h,variant:S},v=gI(y);return J.jsx(Gd.Provider,{value:null,children:J.jsx(pI,{as:l,ownerState:y,className:je(v.root,o),ref:t,...p,children:typeof r=="string"&&!u?J.jsx(dd,{color:"textSecondary",children:r}):J.jsxs(Y.Fragment,{children:[h==="start"?l5||(l5=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,r]})})})});function SI(n){return at("MuiInputLabel",n)}ot("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const yI=n=>{const{classes:e,formControl:t,size:i,shrink:r,disableAnimation:o,variant:l,required:c}=n,u={root:["root",t&&"formControl",!o&&"animated",r&&"shrink",i&&i!=="medium"&&`size${Be(i)}`,l],asterisk:[c&&"asterisk"]},h=st(u,SI,e);return{...e,...h}},vI=ze(sI,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${yc.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(rt(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),CI=Y.forwardRef(function(e,t){const i=lt({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:o,shrink:l,variant:c,className:u,...h}=i,f=xo();let p=l;typeof p>"u"&&f&&(p=f.filled||f.focused||f.adornedStart);const m=Hs({props:i,muiFormControl:f,states:["size","variant","required","focused"]}),S={...i,disableAnimation:r,formControl:f,shrink:p,size:m.size,variant:m.variant,required:m.required,focused:m.focused},y=yI(S);return J.jsx(vI,{"data-shrink":p,ref:t,className:je(y.root,u),...h,ownerState:S,classes:y})});function bI(n){return at("MuiLinearProgress",n)}ot("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const wg=4,Ag=Pa`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,DI=typeof Ag!="string"?zs`
        animation: ${Ag} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Ig=Pa`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,TI=typeof Ig!="string"?zs`
        animation: ${Ig} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Og=Pa`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,xI=typeof Og!="string"?zs`
        animation: ${Og} 3s infinite linear;
      `:null,wI=n=>{const{classes:e,variant:t,color:i}=n,r={root:["root",`color${Be(i)}`,t],dashed:["dashed",`dashedColor${Be(i)}`],bar1:["bar","bar1",`barColor${Be(i)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Be(i)}`,t==="buffer"&&`color${Be(i)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return st(r,bI,e)},Ep=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?n.lighten(n.palette[e].main,.62):n.darken(n.palette[e].main,.5),AI=ze("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Be(t.color)}`],e[t.variant]]}})(rt(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{backgroundColor:Ep(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),II=ze("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Be(t.color)}`]]}})(rt(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(Cn()).map(([e])=>{const t=Ep(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),xI||{animation:`${Og} 3s infinite linear`}),OI=ze("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Be(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(rt(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${wg}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${wg}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:DI||{animation:`${Ag} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),PI=ze("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Be(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(rt(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:Ep(n,e),transition:`transform .${wg}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:TI||{animation:`${Ig} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),LI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:l,valueBuffer:c,variant:u="indeterminate",...h}=i,f={...i,color:o,variant:u},p=wI(f),m=yp(),S={},y={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&l!==void 0){S["aria-valuenow"]=Math.round(l),S["aria-valuemin"]=0,S["aria-valuemax"]=100;let v=l-100;m&&(v=-v),y.bar1.transform=`translateX(${v}%)`}if(u==="buffer"&&c!==void 0){let v=(c||0)-100;m&&(v=-v),y.bar2.transform=`translateX(${v}%)`}return J.jsxs(AI,{className:je(p.root,r),ownerState:f,role:"progressbar",...S,ref:t,...h,children:[u==="buffer"?J.jsx(II,{className:p.dashed,ownerState:f}):null,J.jsx(OI,{className:p.bar1,ownerState:f,style:y.bar1}),u==="determinate"?null:J.jsx(PI,{className:p.bar2,ownerState:f,style:y.bar2})]})});function RI(n){return at("MuiLink",n)}const EI=ot("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),MI=({theme:n,ownerState:e})=>{const t=e.color;if("colorSpace"in n&&n.colorSpace){const o=nr(n,`palette.${t}.main`)||nr(n,`palette.${t}`)||e.color;return n.alpha(o,.4)}const i=nr(n,`palette.${t}.main`,!1)||nr(n,`palette.${t}`,!1)||e.color,r=nr(n,`palette.${t}.mainChannel`)||nr(n,`palette.${t}Channel`);return"vars"in n&&r?`rgba(${r} / 0.4)`:Mc(i,.4)},c5={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},_I=n=>{const{classes:e,component:t,focusVisible:i,underline:r}=n,o={root:["root",`underline${Be(r)}`,t==="button"&&"button",i&&"focusVisible"]};return st(o,RI,e)},kI=ze(dd,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Be(t.underline)}`],t.component==="button"&&e.button]}})(rt(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color==="inherit",style:n.colorSpace?{textDecorationColor:n.alpha("currentColor",.4)}:null},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${EI.focusVisible}`]:{outline:"auto"}}}]}))),u5=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiLink"}),r=Qs(),{className:o,color:l="primary",component:c="a",onBlur:u,onFocus:h,TypographyClasses:f,underline:p="always",variant:m="inherit",sx:S,...y}=i,[v,b]=Y.useState(!1),T=O=>{_s(O.target)||b(!1),u&&u(O)},x=O=>{_s(O.target)&&b(!0),h&&h(O)},w={...i,color:l,component:c,focusVisible:v,underline:p,variant:m},A=_I(w);return J.jsx(kI,{color:l,className:je(A.root,o),classes:f,component:c,onBlur:T,onFocus:x,ref:t,ownerState:w,variant:m,...y,sx:[...c5[l]===void 0?[{color:l}]:[],...Array.isArray(S)?S:[S]],style:{...y.style,...p==="always"&&l!=="inherit"&&!c5[l]&&{"--Link-underlineColor":MI({theme:r,ownerState:w})}}})}),FI=Y.createContext({});function UI(n){return at("MuiList",n)}ot("MuiList",["root","padding","dense","subheader"]);const NI=n=>{const{classes:e,disablePadding:t,dense:i,subheader:r}=n;return st({root:["root",!t&&"padding",i&&"dense",r&&"subheader"]},UI,e)},qI=ze("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),BI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiList"}),{children:r,className:o,component:l="ul",dense:c=!1,disablePadding:u=!1,subheader:h,...f}=i,p=Y.useMemo(()=>({dense:c}),[c]),m={...i,component:l,dense:c,disablePadding:u},S=NI(m);return J.jsx(FI.Provider,{value:p,children:J.jsxs(qI,{as:l,className:je(S.root,o),ref:t,ownerState:m,...f,children:[h,r]})})});function R1(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function d5(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function a3(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Ql(n,e,t,i,r,o){let l=!1,c=r(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(l)return!1;l=!0}const u=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!a3(c,o)||u)c=r(n,c,t);else return c.focus(),!0}return!1}const zI=Y.forwardRef(function(e,t){const{actions:i,autoFocus:r=!1,autoFocusItem:o=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:h=!1,onKeyDown:f,variant:p="selectedMenu",...m}=e,S=Y.useRef(null),y=Y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Bi(()=>{r&&S.current.focus()},[r]),Y.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(w,{direction:A})=>{const O=!S.current.style.width;if(w.clientHeight<S.current.clientHeight&&O){const L=`${i3(zi(w))}px`;S.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=L,S.current.style.width=`calc(100% + ${L})`}return S.current}}),[]);const v=w=>{const A=S.current,O=w.key;if(w.ctrlKey||w.metaKey||w.altKey){f&&f(w);return}const M=ac(qn(A));if(O==="ArrowDown")w.preventDefault(),Ql(A,M,h,u,R1);else if(O==="ArrowUp")w.preventDefault(),Ql(A,M,h,u,d5);else if(O==="Home")w.preventDefault(),Ql(A,null,h,u,R1);else if(O==="End")w.preventDefault(),Ql(A,null,h,u,d5);else if(O.length===1){const k=y.current,F=O.toLowerCase(),B=performance.now();k.keys.length>0&&(B-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&F!==k.keys[0]&&(k.repeating=!1)),k.lastTime=B,k.keys.push(F);const H=M&&!k.repeating&&a3(M,k);k.previousKeyMatched&&(H||Ql(A,M,!1,u,R1,k))?w.preventDefault():k.previousKeyMatched=!1}f&&f(w)},b=Fn(S,t);let T=-1;Y.Children.forEach(l,(w,A)=>{if(!Y.isValidElement(w)){T===A&&(T+=1,T>=l.length&&(T=-1));return}w.props.disabled||(p==="selectedMenu"&&w.props.selected||T===-1)&&(T=A),T===A&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(T+=1,T>=l.length&&(T=-1))});const x=Y.Children.map(l,(w,A)=>{if(A===T){const O={};return o&&(O.autoFocus=!0),w.props.tabIndex===void 0&&p==="selectedMenu"&&(O.tabIndex=0),Y.cloneElement(w,O)}return w});return J.jsx(BI,{role:"menu",ref:b,className:c,onKeyDown:v,tabIndex:r?0:-1,...m,children:x})});function GI(n){return at("MuiPopover",n)}ot("MuiPopover",["root","paper"]);function h5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function f5(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function g5(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function g0(n){return typeof n=="function"?n():n}const QI=n=>{const{classes:e}=n;return st({root:["root"],paper:["paper"]},GI,e)},VI=ze(r3,{name:"MuiPopover",slot:"Root"})({}),o3=ze(Vc,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),HI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:S=16,open:y,PaperProps:v={},slots:b={},slotProps:T={},transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:A="auto",TransitionProps:O={},disableScrollLock:L=!1,...M}=i,k=Y.useRef(),F={...i,anchorOrigin:l,anchorReference:u,elevation:m,marginThreshold:S,transformOrigin:x,TransitionComponent:w,transitionDuration:A,TransitionProps:O},B=QI(F),H=Y.useCallback(()=>{if(u==="anchorPosition")return c;const Re=g0(o),Ue=(Re&&Re.nodeType===1?Re:qn(k.current).body).getBoundingClientRect();return{top:Ue.top+h5(Ue,l.vertical),left:Ue.left+f5(Ue,l.horizontal)}},[o,l.horizontal,l.vertical,c,u]),P=Y.useCallback(Re=>({vertical:h5(Re,x.vertical),horizontal:f5(Re,x.horizontal)}),[x.horizontal,x.vertical]),q=Y.useCallback(Re=>{const Ne={width:Re.offsetWidth,height:Re.offsetHeight},Ue=P(Ne);if(u==="none")return{top:null,left:null,transformOrigin:g5(Ue)};const Ye=H();let E=Ye.top-Ue.vertical,he=Ye.left-Ue.horizontal;const ce=E+Ne.height,W=he+Ne.width,j=zi(g0(o)),ne=j.innerHeight-S,ve=j.innerWidth-S;if(S!==null&&E<S){const ye=E-S;E-=ye,Ue.vertical+=ye}else if(S!==null&&ce>ne){const ye=ce-ne;E-=ye,Ue.vertical+=ye}if(S!==null&&he<S){const ye=he-S;he-=ye,Ue.horizontal+=ye}else if(W>ve){const ye=W-ve;he-=ye,Ue.horizontal+=ye}return{top:`${Math.round(E)}px`,left:`${Math.round(he)}px`,transformOrigin:g5(Ue)}},[o,u,H,P,S]),[I,N]=Y.useState(y),U=Y.useCallback(()=>{const Re=k.current;if(!Re)return;const Ne=q(Re);Ne.top!==null&&Re.style.setProperty("top",Ne.top),Ne.left!==null&&(Re.style.left=Ne.left),Re.style.transformOrigin=Ne.transformOrigin,N(!0)},[q]);Y.useEffect(()=>(L&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[o,L,U]);const Q=()=>{U()},X=()=>{N(!1)};Y.useEffect(()=>{y&&U()}),Y.useImperativeHandle(r,()=>y?{updatePosition:()=>{U()}}:null,[y,U]),Y.useEffect(()=>{if(!y)return;const Re=xp(()=>{U()}),Ne=zi(g0(o));return Ne.addEventListener("resize",Re),()=>{Re.clear(),Ne.removeEventListener("resize",Re)}},[o,y,U]);let V=A;const re={slots:{transition:w,...b},slotProps:{transition:O,paper:v,...T}},[_,z]=cn("transition",{elementType:xg,externalForwardedProps:re,ownerState:F,getSlotProps:Re=>({...Re,onEntering:(Ne,Ue)=>{Re.onEntering?.(Ne,Ue),Q()},onExited:Ne=>{Re.onExited?.(Ne),X()}}),additionalProps:{appear:!0,in:y}});A==="auto"&&!_.muiSupportAuto&&(V=void 0);const te=p||(o?qn(g0(o)).body:void 0),[se,{slots:Z,slotProps:Se,...Pe}]=cn("root",{ref:t,elementType:VI,externalForwardedProps:{...re,...M},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:z9(typeof T.backdrop=="function"?T.backdrop(F):T.backdrop,{invisible:!0})},container:te,open:y},ownerState:F,className:je(B.root,f)}),[Te,xe]=cn("paper",{ref:k,className:B.paper,elementType:o3,externalForwardedProps:re,shouldForwardComponentProp:!0,additionalProps:{elevation:m,style:I?void 0:{opacity:0}},ownerState:F});return J.jsx(se,{...Pe,...!xa(se)&&{slots:Z,slotProps:Se,disableScrollLock:L},children:J.jsx(_,{...z,timeout:V,children:J.jsx(Te,{...xe,children:h})})})});function jI(n){return at("MuiMenu",n)}ot("MuiMenu",["root","paper","list"]);const YI={vertical:"top",horizontal:"right"},XI={vertical:"top",horizontal:"left"},WI=n=>{const{classes:e}=n;return st({root:["root"],paper:["paper"],list:["list"]},jI,e)},$I=ze(HI,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),ZI=ze(o3,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),KI=ze(zI,{name:"MuiMenu",slot:"List"})({outline:0}),JI=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:h,open:f,PaperProps:p={},PopoverClasses:m,transitionDuration:S="auto",TransitionProps:{onEntering:y,...v}={},variant:b="selectedMenu",slots:T={},slotProps:x={},...w}=i,A=yp(),O={...i,autoFocus:r,disableAutoFocusItem:c,MenuListProps:u,onEntering:y,PaperProps:p,transitionDuration:S,TransitionProps:v,variant:b},L=WI(O),M=r&&!c&&f,k=Y.useRef(null),F=(V,re)=>{k.current&&k.current.adjustStyleForScrollbar(V,{direction:A?"rtl":"ltr"}),y&&y(V,re)},B=V=>{V.key==="Tab"&&(V.preventDefault(),h&&h(V,"tabKeyDown"))};let H=-1;Y.Children.map(o,(V,re)=>{Y.isValidElement(V)&&(V.props.disabled||(b==="selectedMenu"&&V.props.selected||H===-1)&&(H=re))});const P={slots:T,slotProps:{list:u,transition:v,paper:p,...x}},q=_r({elementType:T.root,externalSlotProps:x.root,ownerState:O,className:[L.root,l]}),[I,N]=cn("paper",{className:L.paper,elementType:ZI,externalForwardedProps:P,shouldForwardComponentProp:!0,ownerState:O}),[U,Q]=cn("list",{className:je(L.list,u.className),elementType:KI,shouldForwardComponentProp:!0,externalForwardedProps:P,getSlotProps:V=>({...V,onKeyDown:re=>{B(re),V.onKeyDown?.(re)}}),ownerState:O}),X=typeof P.slotProps.transition=="function"?P.slotProps.transition(O):P.slotProps.transition;return J.jsx($I,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?YI:XI,slots:{root:T.root,paper:I,backdrop:T.backdrop,...T.transition&&{transition:T.transition}},slotProps:{root:q,paper:N,backdrop:typeof x.backdrop=="function"?x.backdrop(O):x.backdrop,transition:{...X,onEntering:(...V)=>{F(...V),X?.onEntering?.(...V)}}},open:f,ref:t,transitionDuration:S,ownerState:O,...w,classes:m,children:J.jsx(U,{actions:k,autoFocus:r&&(H===-1||c),autoFocusItem:M,variant:b,...Q,children:o})})});function eO(n){return at("MuiNativeSelect",n)}const Mp=ot("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),tO=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:o,error:l}=n,c={select:["select",t,i&&"disabled",r&&"multiple",l&&"error"],icon:["icon",`icon${Be(t)}`,o&&"iconOpen",i&&"disabled"]};return st(c,eO,e)},s3=ze("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Mp.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),nO=ze(s3,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Gi,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Mp.multiple}`]:e.multiple}]}})({}),l3=ze("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Mp.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),iO=ze(l3,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Be(t.variant)}`],t.open&&e.iconOpen]}})({}),rO=Y.forwardRef(function(e,t){const{className:i,disabled:r,error:o,IconComponent:l,inputRef:c,variant:u="standard",...h}=e,f={...e,disabled:r,variant:u,error:o},p=tO(f);return J.jsxs(Y.Fragment,{children:[J.jsx(nO,{ownerState:f,className:je(p.select,i),disabled:r,ref:c||t,...h}),e.multiple?null:J.jsx(iO,{as:l,ownerState:f,className:p.icon})]})});var p5;const aO=ze("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Gi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),oO=ze("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Gi})(rt(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function sO(n){const{children:e,classes:t,className:i,label:r,notched:o,...l}=n,c=r!=null&&r!=="",u={...n,notched:o,withLabel:c};return J.jsx(aO,{"aria-hidden":!0,className:i,ownerState:u,...l,children:J.jsx(oO,{ownerState:u,children:c?J.jsx("span",{children:r}):p5||(p5=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const lO=n=>{const{classes:e}=n,i=st({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},YA,e);return{...e,...i}},cO=ze(Hd,{shouldForwardProp:n=>Gi(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qd})(rt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ki.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(Cn()).map(([t])=>({props:{color:t},style:{[`&.${Ki.focused} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Ki.error} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ki.disabled} .${Ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),uO=ze(sO,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(rt(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),dO=ze(jd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Vd})(rt(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),_p=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:o=!1,inputComponent:l="input",label:c,multiline:u=!1,notched:h,slots:f={},slotProps:p={},type:m="text",...S}=i,y=lO(i),v=xo(),b=Hs({props:i,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T={...i,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:o,hiddenLabel:b.hiddenLabel,multiline:u,size:b.size,type:m},x=f.root??r.Root??cO,w=f.input??r.Input??dO,[A,O]=cn("notchedOutline",{elementType:uO,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:T,externalForwardedProps:{slots:f,slotProps:p},additionalProps:{label:c!=null&&c!==""&&b.required?J.jsxs(Y.Fragment,{children:[c,"","*"]}):c}});return J.jsx(Pp,{slots:{root:x,input:w},slotProps:p,renderSuffix:L=>J.jsx(A,{...O,notched:typeof h<"u"?h:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:o,inputComponent:l,multiline:u,ref:t,type:m,...S,classes:{...y,notchedOutline:null}})});_p.muiName="Input";const hO={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function c3(n){return at("MuiSelect",n)}const Vl=ot("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var m5;const fO=ze(s3,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Vl.select}`]:e.select},{[`&.${Vl.select}`]:e[t.variant]},{[`&.${Vl.error}`]:e.error},{[`&.${Vl.multiple}`]:e.multiple}]}})({[`&.${Vl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),gO=ze(l3,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Be(t.variant)}`],t.open&&e.iconOpen]}})({}),pO=ze("input",{shouldForwardProp:n=>zd(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function S5(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function mO(n){return n==null||typeof n=="string"&&!n.trim()}const SO=n=>{const{classes:e,variant:t,disabled:i,multiple:r,open:o,error:l}=n,c={select:["select",t,i&&"disabled",r&&"multiple",l&&"error"],icon:["icon",`icon${Be(t)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return st(c,c3,e)},yO=Y.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":r,autoFocus:o,autoWidth:l,children:c,className:u,defaultOpen:h,defaultValue:f,disabled:p,displayEmpty:m,error:S=!1,IconComponent:y,inputRef:v,labelId:b,MenuProps:T={},multiple:x,name:w,onBlur:A,onChange:O,onClose:L,onFocus:M,onKeyDown:k,onMouseDown:F,onOpen:B,open:H,readOnly:P,renderValue:q,required:I,SelectDisplayProps:N={},tabIndex:U,type:Q,value:X,variant:V="standard",...re}=e,[_,z]=pg({controlled:X,default:f,name:"Select"}),[te,se]=pg({controlled:H,default:h,name:"Select"}),Z=Y.useRef(null),Se=Y.useRef(null),[Pe,Te]=Y.useState(null),{current:xe}=Y.useRef(H!=null),[Re,Ne]=Y.useState(),Ue=Fn(t,v),Ye=Y.useCallback(Ve=>{Se.current=Ve,Ve&&Te(Ve)},[]),E=Pe?.parentNode;Y.useImperativeHandle(Ue,()=>({focus:()=>{Se.current.focus()},node:Z.current,value:_}),[_]);const he=Pe!==null&&te;Y.useEffect(()=>{if(!he||!E||l||typeof ResizeObserver>"u")return;const Ve=new ResizeObserver(()=>{Ne(E.clientWidth)});return Ve.observe(E),()=>{Ve.disconnect()}},[he,E,l]),Y.useEffect(()=>{h&&te&&Pe&&!xe&&(Ne(l?null:E.clientWidth),Se.current.focus())},[Pe,l]),Y.useEffect(()=>{o&&Se.current.focus()},[o]),Y.useEffect(()=>{if(!b)return;const Ve=qn(Se.current).getElementById(b);if(Ve){const Dt=()=>{getSelection().isCollapsed&&Se.current.focus()};return Ve.addEventListener("click",Dt),()=>{Ve.removeEventListener("click",Dt)}}},[b]);const ce=(Ve,Dt)=>{Ve?B&&B(Dt):L&&L(Dt),xe||(Ne(l?null:E.clientWidth),se(Ve))},W=Ve=>{F?.(Ve),Ve.button===0&&(Ve.preventDefault(),Se.current.focus(),ce(!0,Ve))},j=Ve=>{ce(!1,Ve)},ne=Y.Children.toArray(c),ve=Ve=>{const Dt=ne.find(Yt=>Yt.props.value===Ve.target.value);Dt!==void 0&&(z(Dt.props.value),O&&O(Ve,Dt))},ye=Ve=>Dt=>{let Yt;if(Dt.currentTarget.hasAttribute("tabindex")){if(x){Yt=Array.isArray(_)?_.slice():[];const wn=_.indexOf(Ve.props.value);wn===-1?Yt.push(Ve.props.value):Yt.splice(wn,1)}else Yt=Ve.props.value;if(Ve.props.onClick&&Ve.props.onClick(Dt),_!==Yt&&(z(Yt),O)){const wn=Dt.nativeEvent||Dt,ui=new wn.constructor(wn.type,wn);Object.defineProperty(ui,"target",{writable:!0,value:{value:Yt,name:w}}),O(ui,Ve)}x||ce(!1,Dt)}},ee=Ve=>{P||([" ","ArrowUp","ArrowDown","Enter"].includes(Ve.key)&&(Ve.preventDefault(),ce(!0,Ve)),k?.(Ve))},Oe=Ve=>{!he&&A&&(Object.defineProperty(Ve,"target",{writable:!0,value:{value:_,name:w}}),A(Ve))};delete re["aria-invalid"];let Ie,le;const pe=[];let Ee=!1;(hd({value:_})||m)&&(q?Ie=q(_):Ee=!0);const ke=ne.map(Ve=>{if(!Y.isValidElement(Ve))return null;let Dt;if(x){if(!Array.isArray(_))throw new Error(Br(2));Dt=_.some(Yt=>S5(Yt,Ve.props.value)),Dt&&Ee&&pe.push(Ve.props.children)}else Dt=S5(_,Ve.props.value),Dt&&Ee&&(le=Ve.props.children);return Y.cloneElement(Ve,{"aria-selected":Dt?"true":"false",onClick:ye(Ve),onKeyUp:Yt=>{Yt.key===" "&&Yt.preventDefault(),Ve.props.onKeyUp&&Ve.props.onKeyUp(Yt)},role:"option",selected:Dt,value:void 0,"data-value":Ve.props.value})});Ee&&(x?pe.length===0?Ie=null:Ie=pe.reduce((Ve,Dt,Yt)=>(Ve.push(Dt),Yt<pe.length-1&&Ve.push(", "),Ve),[]):Ie=le);let Ge=Re;!l&&xe&&Pe&&(Ge=E.clientWidth);let Xe;typeof U<"u"?Xe=U:Xe=p?null:0;const Ze=N.id||(w?`mui-component-select-${w}`:void 0),Ot={...e,variant:V,value:_,open:he,error:S},$e=SO(Ot),vt={...T.PaperProps,...typeof T.slotProps?.paper=="function"?T.slotProps.paper(Ot):T.slotProps?.paper},dn={...T.MenuListProps,...typeof T.slotProps?.list=="function"?T.slotProps.list(Ot):T.slotProps?.list},kt=Gs();return J.jsxs(Y.Fragment,{children:[J.jsx(fO,{as:"div",ref:Ye,tabIndex:Xe,role:"combobox","aria-controls":he?kt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[b,Ze].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":I?"true":void 0,"aria-invalid":S?"true":void 0,onKeyDown:ee,onMouseDown:p||P?null:W,onBlur:Oe,onFocus:M,...N,ownerState:Ot,className:je(N.className,$e.select,u),id:Ze,children:mO(Ie)?m5||(m5=J.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Ie}),J.jsx(pO,{"aria-invalid":S,value:Array.isArray(_)?_.join(","):_,name:w,ref:Z,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:p,className:$e.nativeInput,autoFocus:o,required:I,...re,ownerState:Ot}),J.jsx(gO,{as:y,className:$e.icon,ownerState:Ot}),J.jsx(JI,{id:`menu-${w||""}`,anchorEl:E,open:he,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...T,slotProps:{...T.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":x?"true":void 0,disableListWrap:!0,id:kt,...dn},paper:{...vt,style:{minWidth:Ge,...vt!=null?vt.style:null}}},children:ke})]})}),vO=n=>{const{classes:e}=n,i=st({root:["root"]},c3,e);return{...e,...i}},kp={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Gi(n)&&n!=="variant"},CO=ze(Rp,kp)(""),bO=ze(_p,kp)(""),DO=ze(Lp,kp)(""),u3=Y.forwardRef(function(e,t){const i=lt({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:l={},className:c,defaultOpen:u=!1,displayEmpty:h=!1,IconComponent:f=WA,id:p,input:m,inputProps:S,label:y,labelId:v,MenuProps:b,multiple:T=!1,native:x=!1,onClose:w,onOpen:A,open:O,renderValue:L,SelectDisplayProps:M,variant:k="outlined",...F}=i,B=x?rO:yO,H=xo(),P=Hs({props:i,muiFormControl:H,states:["variant","error"]}),q=P.variant||k,I={...i,variant:q,classes:l},N=vO(I),{root:U,...Q}=N,X=m||{standard:J.jsx(CO,{ownerState:I}),outlined:J.jsx(bO,{label:y,ownerState:I}),filled:J.jsx(DO,{ownerState:I})}[q],V=Fn(t,Vs(X));return J.jsx(Y.Fragment,{children:Y.cloneElement(X,{inputComponent:B,inputProps:{children:o,error:P.error,IconComponent:f,variant:q,type:void 0,multiple:T,...x?{id:p}:{autoWidth:r,defaultOpen:u,displayEmpty:h,labelId:v,MenuProps:b,onClose:w,onOpen:A,open:O,renderValue:L,SelectDisplayProps:{id:p,...M}},...S,classes:S?xn(Q,S.classes):Q,...m?m.props.inputProps:{}},...(T&&x||h)&&q==="outlined"?{notched:!0}:{},ref:V,className:je(X.props.className,c,N.root),...!m&&{variant:q},...F})})});u3.muiName="Select";function TO(n,e,t=(i,r)=>i===r){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}const xO=2;function bs(n,e,t,i,r){return t===1?Math.min(n+e,r):Math.max(n-e,i)}function d3(n,e){return n-e}function y5(n,e){const{index:t}=n.reduce((i,r,o)=>{const l=Math.abs(e-r);return i===null||l<i.distance||l===i.distance?{distance:l,index:o}:i},null)??{};return t}function p0(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const r=t.changedTouches[i];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function fd(n,e,t){return(n-e)*100/(t-e)}function wO(n,e,t){return(t-e)*n+e}function AO(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function IO(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(AO(e)))}function v5({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(d3)}function m0({sliderRef:n,activeIndex:e,setActive:t}){const i=qn(n.current);(!n.current?.contains(i.activeElement)||Number(i?.activeElement?.getAttribute("data-index"))!==e)&&n.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),t&&t(e)}function S0(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?TO(n,e):!1}const OO={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},PO=n=>n;let y0;function C5(){return y0===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?y0=CSS.supports("touch-action","none"):y0=!0),y0}function LO(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:r=!1,isRtl:o=!1,marks:l=!1,max:c=100,min:u=0,name:h,onChange:f,onChangeCommitted:p,orientation:m="horizontal",rootRef:S,scale:y=PO,step:v=1,shiftStep:b=10,tabIndex:T,value:x}=n,w=Y.useRef(void 0),[A,O]=Y.useState(-1),[L,M]=Y.useState(-1),[k,F]=Y.useState(!1),B=Y.useRef(0),H=Y.useRef(null),[P,q]=pg({controlled:x,default:t??u,name:"Slider"}),I=f&&((le,pe,Ee)=>{const ke=le.nativeEvent||le,Ge=new ke.constructor(ke.type,ke);Object.defineProperty(Ge,"target",{writable:!0,value:{value:pe,name:h}}),H.current=pe,f(Ge,pe,Ee)}),N=Array.isArray(P);let U=N?P.slice().sort(d3):[P];U=U.map(le=>le==null?u:xs(le,u,c));const Q=l===!0&&v!==null?[...Array(Math.floor((c-u)/v)+1)].map((le,pe)=>({value:u+v*pe})):l||[],X=Q.map(le=>le.value),[V,re]=Y.useState(-1),_=Y.useRef(null),z=Fn(S,_),te=le=>pe=>{const Ee=Number(pe.currentTarget.getAttribute("data-index"));_s(pe.target)&&re(Ee),M(Ee),le?.onFocus?.(pe)},se=le=>pe=>{_s(pe.target)||re(-1),M(-1),le?.onBlur?.(pe)},Z=(le,pe)=>{const Ee=Number(le.currentTarget.getAttribute("data-index")),ke=U[Ee],Ge=X.indexOf(ke);let Xe=pe;if(Q&&v==null){const Ze=X[X.length-1];Xe>=Ze?Xe=Ze:Xe<=X[0]?Xe=X[0]:Xe=Xe<ke?X[Ge-1]:X[Ge+1]}if(Xe=xs(Xe,u,c),N){r&&(Xe=xs(Xe,U[Ee-1]||-1/0,U[Ee+1]||1/0));const Ze=Xe;Xe=v5({values:U,newValue:Xe,index:Ee});let Ot=Ee;r||(Ot=Xe.indexOf(Ze)),m0({sliderRef:_,activeIndex:Ot})}q(Xe),re(Ee),I&&!S0(Xe,P)&&I(le,Xe,Ee),p&&p(le,H.current??Xe)},Se=le=>pe=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(pe.key)){pe.preventDefault();const Ee=Number(pe.currentTarget.getAttribute("data-index")),ke=U[Ee];let Ge=null;if(v!=null){const Xe=pe.shiftKey?b:v;switch(pe.key){case"ArrowUp":Ge=bs(ke,Xe,1,u,c);break;case"ArrowRight":Ge=bs(ke,Xe,o?-1:1,u,c);break;case"ArrowDown":Ge=bs(ke,Xe,-1,u,c);break;case"ArrowLeft":Ge=bs(ke,Xe,o?1:-1,u,c);break;case"PageUp":Ge=bs(ke,b,1,u,c);break;case"PageDown":Ge=bs(ke,b,-1,u,c);break;case"Home":Ge=u;break;case"End":Ge=c;break}}else if(Q){const Xe=X[X.length-1],Ze=X.indexOf(ke),Ot=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],$e=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];Ot.includes(pe.key)?Ze===0?Ge=X[0]:Ge=X[Ze-1]:$e.includes(pe.key)&&(Ze===X.length-1?Ge=Xe:Ge=X[Ze+1])}Ge!=null&&Z(pe,Ge)}le?.onKeyDown?.(pe)};Bi(()=>{i&&_.current.contains(document.activeElement)&&document.activeElement?.blur()},[i]),i&&A!==-1&&O(-1),i&&V!==-1&&re(-1);const Pe=le=>pe=>{le.onChange?.(pe),Z(pe,pe.target.valueAsNumber)},Te=Y.useRef(void 0);let xe=m;o&&m==="horizontal"&&(xe+="-reverse");const Re=({finger:le,move:pe=!1})=>{const{current:Ee}=_,{width:ke,height:Ge,bottom:Xe,left:Ze}=Ee.getBoundingClientRect();let Ot;xe.startsWith("vertical")?Ot=(Xe-le.y)/Ge:Ot=(le.x-Ze)/ke,xe.includes("-reverse")&&(Ot=1-Ot);let $e;if($e=wO(Ot,u,c),v)$e=IO($e,v,u);else{const dn=y5(X,$e);$e=X[dn]}$e=xs($e,u,c);let vt=0;if(N){pe?vt=Te.current:vt=y5(U,$e),r&&($e=xs($e,U[vt-1]||-1/0,U[vt+1]||1/0));const dn=$e;$e=v5({values:U,newValue:$e,index:vt}),r&&pe||(vt=$e.indexOf(dn),Te.current=vt)}return{newValue:$e,activeIndex:vt}},Ne=lr(le=>{const pe=p0(le,w);if(!pe)return;if(B.current+=1,le.type==="mousemove"&&le.buttons===0){Ue(le);return}const{newValue:Ee,activeIndex:ke}=Re({finger:pe,move:!0});m0({sliderRef:_,activeIndex:ke,setActive:O}),q(Ee),!k&&B.current>xO&&F(!0),I&&!S0(Ee,P)&&I(le,Ee,ke)}),Ue=lr(le=>{const pe=p0(le,w);if(F(!1),!pe)return;const{newValue:Ee}=Re({finger:pe,move:!0});O(-1),le.type==="touchend"&&M(-1),p&&p(le,H.current??Ee),w.current=void 0,E()}),Ye=lr(le=>{if(i)return;C5()||le.preventDefault();const pe=le.changedTouches[0];pe!=null&&(w.current=pe.identifier);const Ee=p0(le,w);if(Ee!==!1){const{newValue:Ge,activeIndex:Xe}=Re({finger:Ee});m0({sliderRef:_,activeIndex:Xe,setActive:O}),q(Ge),I&&!S0(Ge,P)&&I(le,Ge,Xe)}B.current=0;const ke=qn(_.current);ke.addEventListener("touchmove",Ne,{passive:!0}),ke.addEventListener("touchend",Ue,{passive:!0})}),E=Y.useCallback(()=>{const le=qn(_.current);le.removeEventListener("mousemove",Ne),le.removeEventListener("mouseup",Ue),le.removeEventListener("touchmove",Ne),le.removeEventListener("touchend",Ue)},[Ue,Ne]);Y.useEffect(()=>{const{current:le}=_;return le.addEventListener("touchstart",Ye,{passive:C5()}),()=>{le.removeEventListener("touchstart",Ye),E()}},[E,Ye]),Y.useEffect(()=>{i&&E()},[i,E]);const he=le=>pe=>{if(le.onMouseDown?.(pe),i||pe.defaultPrevented||pe.button!==0)return;pe.preventDefault();const Ee=p0(pe,w);if(Ee!==!1){const{newValue:Ge,activeIndex:Xe}=Re({finger:Ee});m0({sliderRef:_,activeIndex:Xe,setActive:O}),q(Ge),I&&!S0(Ge,P)&&I(pe,Ge,Xe)}B.current=0;const ke=qn(_.current);ke.addEventListener("mousemove",Ne,{passive:!0}),ke.addEventListener("mouseup",Ue)},ce=fd(N?U[0]:u,u,c),W=fd(U[U.length-1],u,c)-ce,j=(le={})=>{const pe=mc(le),Ee={onMouseDown:he(pe||{})},ke={...pe,...Ee};return{...le,ref:z,...ke}},ne=le=>pe=>{le.onMouseOver?.(pe);const Ee=Number(pe.currentTarget.getAttribute("data-index"));M(Ee)},ve=le=>pe=>{le.onMouseLeave?.(pe),M(-1)},ye=(le={})=>{const pe=mc(le),Ee={onMouseOver:ne(pe||{}),onMouseLeave:ve(pe||{})};return{...le,...pe,...Ee}},ee=le=>({pointerEvents:A!==-1&&A!==le?"none":void 0});let Oe;return m==="vertical"&&(Oe=o?"vertical-rl":"vertical-lr"),{active:A,axis:xe,axisProps:OO,dragging:k,focusedThumbIndex:V,getHiddenInputProps:(le={})=>{const pe=mc(le),Ee={onChange:Pe(pe||{}),onFocus:te(pe||{}),onBlur:se(pe||{}),onKeyDown:Se(pe||{})},ke={...pe,...Ee};return{tabIndex:T,"aria-labelledby":e,"aria-orientation":m,"aria-valuemax":y(c),"aria-valuemin":y(u),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...le,...ke,style:{...hO,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Oe}}},getRootProps:j,getThumbProps:ye,marks:Q,open:L,range:N,rootRef:z,trackLeap:W,trackOffset:ce,values:U,getThumbStyle:ee}}const RO=n=>!n||!xa(n);function EO(n){return at("MuiSlider",n)}const wi=ot("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),MO=n=>{const{open:e}=n;return{offset:je(e&&wi.valueLabelOpen),circle:wi.valueLabelCircle,label:wi.valueLabelLabel}};function _O(n){const{children:e,className:t,value:i}=n,r=MO(n);return e?Y.cloneElement(e,{className:e.props.className},J.jsxs(Y.Fragment,{children:[e.props.children,J.jsx("span",{className:je(r.offset,t),"aria-hidden":!0,children:J.jsx("span",{className:r.circle,children:J.jsx("span",{className:r.label,children:i})})})]})):null}function b5(n){return n}const kO=ze("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Be(t.color)}`],t.size!=="medium"&&e[`size${Be(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(rt(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${wi.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${wi.dragging}`]:{[`& .${wi.thumb}, & .${wi.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),FO=ze("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),UO=ze("span",{name:"MuiSlider",slot:"Track"})(rt(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:n.lighten(n.palette[e].main,.62),borderColor:n.lighten(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:n.darken(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:n.darken(n.palette[e].main,.5)})}}}))]}))),NO=ze("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Be(t.color)}`],t.size!=="medium"&&e[`thumbSize${Be(t.size)}`]]}})(rt(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${wi.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(Cn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${wi.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${n.alpha((n.vars||n).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${wi.active}`]:{boxShadow:`0px 0px 0px 14px ${n.alpha((n.vars||n).palette[e].main,.16)}`}}}))]}))),qO=ze(_O,{name:"MuiSlider",slot:"ValueLabel"})(rt(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${wi.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${wi.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),BO=ze("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>zd(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(rt(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),zO=ze("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>zd(n)&&n!=="markLabelActive"})(rt(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),GO=n=>{const{disabled:e,dragging:t,marked:i,orientation:r,track:o,classes:l,color:c,size:u}=n,h={root:["root",e&&"disabled",t&&"dragging",i&&"marked",r==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",c&&`color${Be(c)}`,u&&`size${Be(u)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",u&&`thumbSize${Be(u)}`,c&&`thumbColor${Be(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return st(h,EO,l)},QO=({children:n})=>n,VO=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiSlider"}),r=yp(),{"aria-label":o,"aria-valuetext":l,"aria-labelledby":c,component:u="span",components:h={},componentsProps:f={},color:p="primary",classes:m,className:S,disableSwap:y=!1,disabled:v=!1,getAriaLabel:b,getAriaValueText:T,marks:x=!1,max:w=100,min:A=0,name:O,onChange:L,onChangeCommitted:M,orientation:k="horizontal",shiftStep:F=10,size:B="medium",step:H=1,scale:P=b5,slotProps:q,slots:I,tabIndex:N,track:U="normal",value:Q,valueLabelDisplay:X="off",valueLabelFormat:V=b5,...re}=i,_={...i,isRtl:r,max:w,min:A,classes:m,disabled:v,disableSwap:y,orientation:k,marks:x,color:p,size:B,step:H,shiftStep:F,scale:P,track:U,valueLabelDisplay:X,valueLabelFormat:V},{axisProps:z,getRootProps:te,getHiddenInputProps:se,getThumbProps:Z,open:Se,active:Pe,axis:Te,focusedThumbIndex:xe,range:Re,dragging:Ne,marks:Ue,values:Ye,trackOffset:E,trackLeap:he,getThumbStyle:ce}=LO({..._,rootRef:t});_.marked=Ue.length>0&&Ue.some(Tt=>Tt.label),_.dragging=Ne,_.focusedThumbIndex=xe;const W=GO(_),j=I?.root??h.Root??kO,ne=I?.rail??h.Rail??FO,ve=I?.track??h.Track??UO,ye=I?.thumb??h.Thumb??NO,ee=I?.valueLabel??h.ValueLabel??qO,Oe=I?.mark??h.Mark??BO,Ie=I?.markLabel??h.MarkLabel??zO,le=I?.input??h.Input??"input",pe=q?.root??f.root,Ee=q?.rail??f.rail,ke=q?.track??f.track,Ge=q?.thumb??f.thumb,Xe=q?.valueLabel??f.valueLabel,Ze=q?.mark??f.mark,Ot=q?.markLabel??f.markLabel,$e=q?.input??f.input,vt=_r({elementType:j,getSlotProps:te,externalSlotProps:pe,externalForwardedProps:re,additionalProps:{...RO(j)&&{as:u}},ownerState:{..._,...pe?.ownerState},className:[W.root,S]}),dn=_r({elementType:ne,externalSlotProps:Ee,ownerState:_,className:W.rail}),kt=_r({elementType:ve,externalSlotProps:ke,additionalProps:{style:{...z[Te].offset(E),...z[Te].leap(he)}},ownerState:{..._,...ke?.ownerState},className:W.track}),Ve=_r({elementType:ye,getSlotProps:Z,externalSlotProps:Ge,ownerState:{..._,...Ge?.ownerState},className:W.thumb}),Dt=_r({elementType:ee,externalSlotProps:Xe,ownerState:{..._,...Xe?.ownerState},className:W.valueLabel}),Yt=_r({elementType:Oe,externalSlotProps:Ze,ownerState:_,className:W.mark}),wn=_r({elementType:Ie,externalSlotProps:Ot,ownerState:_,className:W.markLabel}),ui=_r({elementType:le,getSlotProps:se,externalSlotProps:$e,ownerState:_});return J.jsxs(j,{...vt,children:[J.jsx(ne,{...dn}),J.jsx(ve,{...kt}),Ue.filter(Tt=>Tt.value>=A&&Tt.value<=w).map((Tt,Pt)=>{const Hr=fd(Tt.value,A,w),ji=z[Te].offset(Hr);let Ii;return U===!1?Ii=Ye.includes(Tt.value):Ii=U==="normal"&&(Re?Tt.value>=Ye[0]&&Tt.value<=Ye[Ye.length-1]:Tt.value<=Ye[0])||U==="inverted"&&(Re?Tt.value<=Ye[0]||Tt.value>=Ye[Ye.length-1]:Tt.value>=Ye[0]),J.jsxs(Y.Fragment,{children:[J.jsx(Oe,{"data-index":Pt,...Yt,...!xa(Oe)&&{markActive:Ii},style:{...ji,...Yt.style},className:je(Yt.className,Ii&&W.markActive)}),Tt.label!=null?J.jsx(Ie,{"aria-hidden":!0,"data-index":Pt,...wn,...!xa(Ie)&&{markLabelActive:Ii},style:{...ji,...wn.style},className:je(W.markLabel,wn.className,Ii&&W.markLabelActive),children:Tt.label}):null]},Pt)}),Ye.map((Tt,Pt)=>{const Hr=fd(Tt,A,w),ji=z[Te].offset(Hr),Ii=X==="off"?QO:ee;return J.jsx(Ii,{...!xa(Ii)&&{valueLabelFormat:V,valueLabelDisplay:X,value:typeof V=="function"?V(P(Tt),Pt):V,index:Pt,open:Se===Pt||Pe===Pt||X==="on",disabled:v},...Dt,children:J.jsx(ye,{"data-index":Pt,...Ve,className:je(W.thumb,Ve.className,Pe===Pt&&W.active,xe===Pt&&W.focusVisible),style:{...ji,...ce(Pt),...Ve.style},children:J.jsx(le,{"data-index":Pt,"aria-label":b?b(Pt):o,"aria-valuenow":P(Tt),"aria-labelledby":c,"aria-valuetext":T?T(P(Tt),Pt):l,value:Ye[Pt],...ui})})},Pt)})]})}),h3=Jw({createStyledComponent:ze("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>lt({props:n,name:"MuiStack"})}),f3=Y.createContext();function HO(n){return at("MuiTable",n)}ot("MuiTable",["root","stickyHeader"]);const jO=n=>{const{classes:e,stickyHeader:t}=n;return st({root:["root",t&&"stickyHeader"]},HO,e)},YO=ze("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(rt(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),D5="table",XO=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTable"}),{className:r,component:o=D5,padding:l="normal",size:c="medium",stickyHeader:u=!1,...h}=i,f={...i,component:o,padding:l,size:c,stickyHeader:u},p=jO(f),m=Y.useMemo(()=>({padding:l,size:c,stickyHeader:u}),[l,c,u]);return J.jsx(f3.Provider,{value:m,children:J.jsx(YO,{as:o,role:o===D5?null:"table",ref:t,className:je(p.root,r),ownerState:f,...h})})}),Yd=Y.createContext();function WO(n){return at("MuiTableBody",n)}ot("MuiTableBody",["root"]);const $O=n=>{const{classes:e}=n;return st({root:["root"]},WO,e)},ZO=ze("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),KO={variant:"body"},T5="tbody",JO=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTableBody"}),{className:r,component:o=T5,...l}=i,c={...i,component:o},u=$O(c);return J.jsx(Yd.Provider,{value:KO,children:J.jsx(ZO,{className:je(u.root,r),as:o,ref:t,role:o===T5?null:"rowgroup",ownerState:c,...l})})});function eP(n){return at("MuiTableCell",n)}const tP=ot("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),nP=n=>{const{classes:e,variant:t,align:i,padding:r,size:o,stickyHeader:l}=n,c={root:["root",t,l&&"stickyHeader",i!=="inherit"&&`align${Be(i)}`,r!=="normal"&&`padding${Be(r)}`,`size${Be(o)}`]};return st(c,eP,e)},iP=ze("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Be(t.size)}`],t.padding!=="normal"&&e[`padding${Be(t.padding)}`],t.align!=="inherit"&&e[`align${Be(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(rt(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?n.lighten(n.alpha(n.palette.divider,1),.88):n.darken(n.alpha(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${tP.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),v0=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:l,padding:c,scope:u,size:h,sortDirection:f,variant:p,...m}=i,S=Y.useContext(f3),y=Y.useContext(Yd),v=y&&y.variant==="head";let b;l?b=l:b=v?"th":"td";let T=u;b==="td"?T=void 0:!T&&v&&(T="col");const x=p||y&&y.variant,w={...i,align:r,component:b,padding:c||(S&&S.padding?S.padding:"normal"),size:h||(S&&S.size?S.size:"medium"),sortDirection:f,stickyHeader:x==="head"&&S&&S.stickyHeader,variant:x},A=nP(w);let O=null;return f&&(O=f==="asc"?"ascending":"descending"),J.jsx(iP,{as:b,ref:t,className:je(A.root,o),"aria-sort":O,scope:T,ownerState:w,...m})});function rP(n){return at("MuiTableContainer",n)}ot("MuiTableContainer",["root"]);const aP=n=>{const{classes:e}=n;return st({root:["root"]},rP,e)},oP=ze("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),sP=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTableContainer"}),{className:r,component:o="div",...l}=i,c={...i,component:o},u=aP(c);return J.jsx(oP,{ref:t,as:o,className:je(u.root,r),ownerState:c,...l})});function lP(n){return at("MuiTableHead",n)}ot("MuiTableHead",["root"]);const cP=n=>{const{classes:e}=n;return st({root:["root"]},lP,e)},uP=ze("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),dP={variant:"head"},x5="thead",hP=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTableHead"}),{className:r,component:o=x5,...l}=i,c={...i,component:o},u=cP(c);return J.jsx(Yd.Provider,{value:dP,children:J.jsx(uP,{as:o,className:je(u.root,r),ref:t,role:o===x5?null:"rowgroup",ownerState:c,...l})})});function fP(n){return at("MuiToolbar",n)}ot("MuiToolbar",["root","gutters","regular","dense"]);const gP=n=>{const{classes:e,disableGutters:t,variant:i}=n;return st({root:["root",!t&&"gutters",i]},fP,e)},pP=ze("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(rt(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),mP=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:l=!1,variant:c="regular",...u}=i,h={...i,component:o,disableGutters:l,variant:c},f=gP(h);return J.jsx(pP,{as:o,className:je(f.root,r),ref:t,ownerState:h,...u})});function SP(n){return at("MuiTableRow",n)}const w5=ot("MuiTableRow",["root","selected","hover","head","footer"]),yP=n=>{const{classes:e,selected:t,hover:i,head:r,footer:o}=n;return st({root:["root",t&&"selected",i&&"hover",r&&"head",o&&"footer"]},SP,e)},vP=ze("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(rt(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${w5.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${w5.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)}}}))),A5="tr",I5=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTableRow"}),{className:r,component:o=A5,hover:l=!1,selected:c=!1,...u}=i,h=Y.useContext(Yd),f={...i,component:o,hover:l,selected:c,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},p=yP(f);return J.jsx(vP,{as:o,ref:t,className:je(p.root,r),role:o===A5?null:"row",ownerState:f,...u})});function CP(n){return at("MuiTextField",n)}ot("MuiTextField",["root"]);const bP={standard:Rp,filled:Lp,outlined:_p},DP=n=>{const{classes:e}=n;return st({root:["root"]},CP,e)},TP=ze(K7,{name:"MuiTextField",slot:"Root"})({}),xP=Y.forwardRef(function(e,t){const i=lt({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:l,className:c,color:u="primary",defaultValue:h,disabled:f=!1,error:p=!1,FormHelperTextProps:m,fullWidth:S=!1,helperText:y,id:v,InputLabelProps:b,inputProps:T,InputProps:x,inputRef:w,label:A,maxRows:O,minRows:L,multiline:M=!1,name:k,onBlur:F,onChange:B,onFocus:H,placeholder:P,required:q=!1,rows:I,select:N=!1,SelectProps:U,slots:Q={},slotProps:X={},type:V,value:re,variant:_="outlined",...z}=i,te={...i,autoFocus:o,color:u,disabled:f,error:p,fullWidth:S,multiline:M,required:q,select:N,variant:_},se=DP(te),Z=Gs(v),Se=y&&Z?`${Z}-helper-text`:void 0,Pe=A&&Z?`${Z}-label`:void 0,Te=bP[_],xe={slots:Q,slotProps:{input:x,inputLabel:b,htmlInput:T,formHelperText:m,select:U,...X}},Re={},Ne=xe.slotProps.inputLabel;_==="outlined"&&(Ne&&typeof Ne.shrink<"u"&&(Re.notched=Ne.shrink),Re.label=A),N&&((!U||!U.native)&&(Re.id=void 0),Re["aria-describedby"]=void 0);const[Ue,Ye]=cn("root",{elementType:TP,shouldForwardComponentProp:!0,externalForwardedProps:{...xe,...z},ownerState:te,className:je(se.root,c),ref:t,additionalProps:{disabled:f,error:p,fullWidth:S,required:q,color:u,variant:_}}),[E,he]=cn("input",{elementType:Te,externalForwardedProps:xe,additionalProps:Re,ownerState:te}),[ce,W]=cn("inputLabel",{elementType:CI,externalForwardedProps:xe,ownerState:te}),[j,ne]=cn("htmlInput",{elementType:"input",externalForwardedProps:xe,ownerState:te}),[ve,ye]=cn("formHelperText",{elementType:nI,externalForwardedProps:xe,ownerState:te}),[ee,Oe]=cn("select",{elementType:u3,externalForwardedProps:xe,ownerState:te}),Ie=J.jsx(E,{"aria-describedby":Se,autoComplete:r,autoFocus:o,defaultValue:h,fullWidth:S,multiline:M,name:k,rows:I,maxRows:O,minRows:L,type:V,value:re,id:Z,inputRef:w,onBlur:F,onChange:B,onFocus:H,placeholder:P,inputProps:ne,slots:{input:Q.htmlInput?j:void 0},...he});return J.jsxs(Ue,{...Ye,children:[A!=null&&A!==""&&J.jsx(ce,{htmlFor:Z,id:Pe,...W,children:A}),N?J.jsx(ee,{"aria-describedby":Se,id:Z,labelId:Pe,value:re,input:Ie,...Oe,children:l}):Ie,y&&J.jsx(ve,{id:Se,...ye,children:y})]})}),wP=L4({themeId:Ui}),AP=Math.PI/180;function IP(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const po=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},qe={_global:po,version:"10.2.0",isBrowser:IP(),isUnminified:/param/.test((function(n){}).toString()),dblClickWindow:400,getAngle(n){return qe.angleDeg?n*AP:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return qe.DD.isDragging},isTransforming(){var n,e;return(e=(n=qe.Transformer)===null||n===void 0?void 0:n.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!qe.DD.node},releaseCanvasOnDestroy:!0,document:po.document,_injectGlobal(n){typeof po.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),po.Konva=n}},en=n=>{qe[n.prototype.getClassName()]=n};qe._injectGlobal(qe);const OP=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,O5=()=>{if(typeof document>"u")throw new Error(OP)};class oi{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new oi(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const t=this.m;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}translate(e,t){return this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t,this}scale(e,t){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),r=this.m[0]*t+this.m[2]*i,o=this.m[1]*t+this.m[3]*i,l=this.m[0]*-i+this.m[2]*t,c=this.m[1]*-i+this.m[3]*t;return this.m[0]=r,this.m[1]=o,this.m[2]=l,this.m[3]=c,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,t){const i=this.m[0]+this.m[2]*t,r=this.m[1]+this.m[3]*t,o=this.m[2]+this.m[0]*e,l=this.m[3]+this.m[1]*e;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=l,this}multiply(e){const t=this.m[0]*e.m[0]+this.m[2]*e.m[1],i=this.m[1]*e.m[0]+this.m[3]*e.m[1],r=this.m[0]*e.m[2]+this.m[2]*e.m[3],o=this.m[1]*e.m[2]+this.m[3]*e.m[3],l=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],c=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=t,this.m[1]=i,this.m[2]=r,this.m[3]=o,this.m[4]=l,this.m[5]=c,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,i=-this.m[1]*e,r=-this.m[2]*e,o=this.m[0]*e,l=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),c=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=t,this.m[1]=i,this.m[2]=r,this.m[3]=o,this.m[4]=l,this.m[5]=c,this}getMatrix(){return this.m}decompose(){const e=this.m[0],t=this.m[1],i=this.m[2],r=this.m[3],o=this.m[4],l=this.m[5],c=e*r-t*i,u={x:o,y:l,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||t!=0){const h=Math.sqrt(e*e+t*t);u.rotation=t>0?Math.acos(e/h):-Math.acos(e/h),u.scaleX=h,u.scaleY=c/h,u.skewX=(e*i+t*r)/c,u.skewY=0}else if(i!=0||r!=0){const h=Math.sqrt(i*i+r*r);u.rotation=Math.PI/2-(r>0?Math.acos(-i/h):-Math.acos(i/h)),u.scaleX=c/h,u.scaleY=h,u.skewX=0,u.skewY=(e*i+t*r)/c}return u.rotation=oe._getRotation(u.rotation),u}}const PP="[object Array]",LP="[object Number]",RP="[object String]",EP="[object Boolean]",MP=Math.PI/180,_P=180/Math.PI,Hl="#",kP="",FP="0",UP="Konva warning: ",P5="Konva error: ",NP="rgb(",E1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},qP=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let C0=[],jl=null;const BP=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,16)},oe={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===PP},_isNumber(n){return Object.prototype.toString.call(n)===LP&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===RP},_isBoolean(n){return Object.prototype.toString.call(n)===EP},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;const e=n[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){C0.push(n),C0.length===1&&BP(function(){const e=C0;C0=[],e.forEach(function(t){t()})})},createCanvasElement(){O5();const n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return O5(),document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,e){const t=oe.createImageElement();t.onload=function(){e(t)},t.src=n},_rgbToHex(n,e,t){return((1<<24)+(n<<16)+(e<<8)+t).toString(16).slice(1)},_hexToRgb(n){n=n.replace(Hl,kP);const e=parseInt(n,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let n=(Math.random()*16777215<<0).toString(16);for(;n.length<6;)n=FP+n;return Hl+n},isCanvasFarblingActive(){if(jl!==null)return jl;if(typeof document>"u")return jl=!1,!1;const n=this.createCanvasElement();n.width=10,n.height=10;const e=n.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=0;r<100;r++)if(t[r*4]!==40||t[r*4+1]!==40||t[r*4+2]!==40||t[r*4+3]!==255){i=!0;break}return jl=i,this.releaseCanvas(n),jl},getHitColor(){const n=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(n):n},getHitColorKey(n,e,t){return this.isCanvasFarblingActive()&&(n=Math.round(n/5)*5,e=Math.round(e/5)*5,t=Math.round(t/5)*5),Hl+this._rgbToHex(n,e,t)},getSnappedHexColor(n){const e=this._hexToRgb(n);return Hl+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(n){let e;return n in E1?(e=E1[n],{r:e[0],g:e[1],b:e[2]}):n[0]===Hl?this._hexToRgb(n.substring(1)):n.substr(0,4)===NP?(e=qP.exec(n.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",oe._namedColorToRBA(n)||oe._hex3ColorToRGBA(n)||oe._hex4ColorToRGBA(n)||oe._hex6ColorToRGBA(n)||oe._hex8ColorToRGBA(n)||oe._rgbColorToRGBA(n)||oe._rgbaColorToRGBA(n)||oe._hslColorToRGBA(n)},_namedColorToRBA(n){const e=E1[n.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];const e=n.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];const e=n.split(/ *, */).map((t,i)=>t.slice(-1)==="%"?i===3?parseInt(t)/100:parseInt(t)/100*255:Number(t));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(n){if(n[0]==="#"&&n.length===9)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:parseInt(n.slice(7,9),16)/255}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex4ColorToRGBA(n){if(n[0]==="#"&&n.length===5)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:parseInt(n[4]+n[4],16)/255}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[e,...t]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),i=Number(t[0])/360,r=Number(t[1])/100,o=Number(t[2])/100;let l,c,u;if(r===0)return u=o*255,{r:Math.round(u),g:Math.round(u),b:Math.round(u),a:1};o<.5?l=o*(1+r):l=o+r-o*r;const h=2*o-l,f=[0,0,0];for(let p=0;p<3;p++)c=i+1/3*-(p-1),c<0&&c++,c>1&&c--,6*c<1?u=h+(l-h)*6*c:2*c<1?u=l:3*c<2?u=h+(l-h)*(2/3-c)*6:u=h,f[p]=u*255;return{r:Math.round(f[0]),g:Math.round(f[1]),b:Math.round(f[2]),a:1}}},haveIntersection(n,e){return!(e.x>n.x+n.width||e.x+e.width<n.x||e.y>n.y+n.height||e.y+e.height<n.y)},cloneObject(n){const e={};for(const t in n)this._isPlainObject(n[t])?e[t]=this.cloneObject(n[t]):this._isArray(n[t])?e[t]=this.cloneArray(n[t]):e[t]=n[t];return e},cloneArray(n){return n.slice(0)},degToRad(n){return n*MP},radToDeg(n){return n*_P},_degToRad(n){return oe.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),oe.degToRad(n)},_radToDeg(n){return oe.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),oe.radToDeg(n)},_getRotation(n){return qe.angleDeg?oe.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(P5+n)},error(n){console.error(P5+n)},warn(n){qe.showWarnings&&console.warn(UP+n)},each(n,e){for(const t in n)e(t,n[t])},_inRange(n,e,t){return e<=n&&n<t},_getProjectionToSegment(n,e,t,i,r,o){let l,c,u;const h=(n-t)*(n-t)+(e-i)*(e-i);if(h==0)l=n,c=e,u=(r-t)*(r-t)+(o-i)*(o-i);else{const f=((r-n)*(t-n)+(o-e)*(i-e))/h;f<0?(l=n,c=e,u=(n-r)*(n-r)+(e-o)*(e-o)):f>1?(l=t,c=i,u=(t-r)*(t-r)+(i-o)*(i-o)):(l=n+f*(t-n),c=e+f*(i-e),u=(l-r)*(l-r)+(c-o)*(c-o))}return[l,c,u]},_getProjectionToLine(n,e,t){const i=oe.cloneObject(n);let r=Number.MAX_VALUE;return e.forEach(function(o,l){if(!t&&l===e.length-1)return;const c=e[(l+1)%e.length],u=oe._getProjectionToSegment(o.x,o.y,c.x,c.y,n.x,n.y),h=u[0],f=u[1],p=u[2];p<r&&(i.x=h,i.y=f,r=p)}),i},_prepareArrayForTween(n,e,t){const i=[],r=[];if(n.length>e.length){const l=e;e=n,n=l}for(let l=0;l<n.length;l+=2)i.push({x:n[l],y:n[l+1]});for(let l=0;l<e.length;l+=2)r.push({x:e[l],y:e[l+1]});const o=[];return r.forEach(function(l){const c=oe._getProjectionToLine(l,i,t);o.push(c.x),o.push(c.y)}),o},_prepareToStringify(n){let e;n.visitedByCircularReferenceRemoval=!0;for(const t in n)if(n.hasOwnProperty(t)&&n[t]&&typeof n[t]=="object"){if(e=Object.getOwnPropertyDescriptor(n,t),n[t].visitedByCircularReferenceRemoval||oe._isElement(n[t]))if(e.configurable)delete n[t];else return null;else if(oe._prepareToStringify(n[t])===null)if(e.configurable)delete n[t];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,e){for(const t in e)n[t]=e[t];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){qe.releaseCanvasOnDestroy&&n.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(n,e,t,i){let r=e<0?e:0,o=t<0?t:0;e=Math.abs(e),t=Math.abs(t);let l=0,c=0,u=0,h=0;typeof i=="number"?l=c=u=h=Math.min(i,e/2,t/2):(l=Math.min(i[0]||0,e/2,t/2),c=Math.min(i[1]||0,e/2,t/2),h=Math.min(i[2]||0,e/2,t/2),u=Math.min(i[3]||0,e/2,t/2)),n.moveTo(r+l,o),n.lineTo(r+e-c,o),n.arc(r+e-c,o+c,c,Math.PI*3/2,0,!1),n.lineTo(r+e,o+t-h),n.arc(r+e-h,o+t-h,h,0,Math.PI/2,!1),n.lineTo(r+u,o+t),n.arc(r+u,o+t-u,u,Math.PI/2,Math.PI,!1),n.lineTo(r,o+l),n.arc(r+l,o+l,l,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(n,e,t,i,r){i=Math.abs(i);for(let o=0;o<t;o++){const l=e[(o-1+t)%t],c=e[o],u=e[(o+1)%t],h={x:c.x-l.x,y:c.y-l.y},f={x:u.x-c.x,y:u.y-c.y},p=Math.hypot(h.x,h.y),m=Math.hypot(f.x,f.y);let S;typeof r=="number"?S=r:S=o<r.length?r[o]:0,S=i*Math.cos(Math.PI/t)*Math.min(1,S/i*2);const v={x:h.x/p,y:h.y/p},b={x:f.x/m,y:f.y/m},T={x:c.x-v.x*S,y:c.y-v.y*S},x={x:c.x+b.x*S,y:c.y+b.y*S};o===0?n.moveTo(T.x,T.y):n.lineTo(T.x,T.y),n.arcTo(c.x,c.y,x.x,x.y,S)}}};function zP(n){const e=[],t=n.length,i=oe;for(let r=0;r<t;r++){let o=n[r];i._isNumber(o)?o=Math.round(o*1e3)/1e3:i._isString(o)||(o=o+""),e.push(o)}return e}const L5=",",GP="(",QP=")",VP="([",HP="])",jP=";",YP="()",XP="=",R5=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],WP=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],$P=100;let b0=null;function E5(){if(b0!==null)return b0;try{const e=oe.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(b0=!1,!1)}catch{return b0=!1,!1}}class Xd{constructor(e){this.canvas=e,qe.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,t){let i=this.traceArr,r=i.length,o="",l,c,u,h;for(l=0;l<r;l++)c=i[l],u=c.method,u?(h=c.args,o+=u,e?o+=YP:oe._isArray(h[0])?o+=VP+h.join(L5)+HP:(t&&(h=h.map(f=>typeof f=="number"?Math.floor(f):f)),o+=GP+h.join(L5)+QP)):(o+=c.property,e||(o+=XP+c.val)),o+=jP;return o}clearTrace(){this.traceArr=[]}_trace(e){let t=this.traceArr,i;t.push(e),i=t.length,i>=$P&&t.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const t=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,t.getWidth()/t.pixelRatio,t.getHeight()/t.pixelRatio)}_applyLineCap(e){const t=e.attrs.lineCap;t&&this.setAttr("lineCap",t)}_applyOpacity(e){const t=e.getAbsoluteOpacity();t!==1&&this.setAttr("globalAlpha",t)}_applyLineJoin(e){const t=e.attrs.lineJoin;t&&this.setAttr("lineJoin",t)}_applyMiterLimit(e){const t=e.attrs.miterLimit;t!=null&&this.setAttr("miterLimit",t)}setAttr(e,t){this._context[e]=t}arc(e,t,i,r,o,l){this._context.arc(e,t,i,r,o,l)}arcTo(e,t,i,r,o){this._context.arcTo(e,t,i,r,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,t,i,r,o,l){this._context.bezierCurveTo(e,t,i,r,o,l)}clearRect(e,t,i,r){this._context.clearRect(e,t,i,r)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,t){const i=arguments;if(i.length===2)return this._context.createImageData(e,t);if(i.length===1)return this._context.createImageData(e)}createLinearGradient(e,t,i,r){return this._context.createLinearGradient(e,t,i,r)}createPattern(e,t){return this._context.createPattern(e,t)}createRadialGradient(e,t,i,r,o,l){return this._context.createRadialGradient(e,t,i,r,o,l)}drawImage(e,t,i,r,o,l,c,u,h){const f=arguments,p=this._context;f.length===3?p.drawImage(e,t,i):f.length===5?p.drawImage(e,t,i,r,o):f.length===9&&p.drawImage(e,t,i,r,o,l,c,u,h)}ellipse(e,t,i,r,o,l,c,u){this._context.ellipse(e,t,i,r,o,l,c,u)}isPointInPath(e,t,i,r){return i?this._context.isPointInPath(i,e,t,r):this._context.isPointInPath(e,t,r)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,t,i,r){this._context.fillRect(e,t,i,r)}strokeRect(e,t,i,r){this._context.strokeRect(e,t,i,r)}fillText(e,t,i,r){r?this._context.fillText(e,t,i,r):this._context.fillText(e,t,i)}measureText(e){return this._context.measureText(e)}getImageData(e,t,i,r){return this._context.getImageData(e,t,i,r)}lineTo(e,t){this._context.lineTo(e,t)}moveTo(e,t){this._context.moveTo(e,t)}rect(e,t,i,r){this._context.rect(e,t,i,r)}roundRect(e,t,i,r,o){this._context.roundRect(e,t,i,r,o)}putImageData(e,t,i){this._context.putImageData(e,t,i)}quadraticCurveTo(e,t,i,r){this._context.quadraticCurveTo(e,t,i,r)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,t){this._context.scale(e,t)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,t,i,r,o,l){this._context.setTransform(e,t,i,r,o,l)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,t,i,r){this._context.strokeText(e,t,i,r)}transform(e,t,i,r,o,l){this._context.transform(e,t,i,r,o,l)}translate(e,t){this._context.translate(e,t)}_enableTrace(){let e=this,t=R5.length,i=this.setAttr,r,o;const l=function(c){let u=e[c],h;e[c]=function(){return o=zP(Array.prototype.slice.call(arguments,0)),h=u.apply(e,arguments),e._trace({method:c,args:o}),h}};for(r=0;r<t;r++)l(R5[r]);e.setAttr=function(){i.apply(e,arguments);const c=arguments[0];let u=arguments[1];(c==="shadowOffsetX"||c==="shadowOffsetY"||c==="shadowBlur")&&(u=u/this.canvas.getPixelRatio()),e._trace({property:c,val:u})}}_applyGlobalCompositeOperation(e){const t=e.attrs.globalCompositeOperation;!t||t==="source-over"||this.setAttr("globalCompositeOperation",t)}}WP.forEach(function(n){Object.defineProperty(Xd.prototype,n,{get(){return this._context[n]},set(e){this._context[n]=e}})});class ZP extends Xd{constructor(e,{willReadFrequently:t=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:t})}_fillColor(e){const t=e.fill();this.setAttr("fillStyle",t),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const t=e._getLinearGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fillRadialGradient(e){const t=e._getRadialGradient();t&&(this.setAttr("fillStyle",t),e._fillFunc(this))}_fill(e){const t=e.fill(),i=e.getFillPriority();if(t&&i==="color"){this._fillColor(e);return}const r=e.getFillPatternImage();if(r&&i==="pattern"){this._fillPattern(e);return}const o=e.getFillLinearGradientColorStops();if(o&&i==="linear-gradient"){this._fillLinearGradient(e);return}const l=e.getFillRadialGradientColorStops();if(l&&i==="radial-gradient"){this._fillRadialGradient(e);return}t?this._fillColor(e):r?this._fillPattern(e):o?this._fillLinearGradient(e):l&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const t=e.getStrokeLinearGradientStartPoint(),i=e.getStrokeLinearGradientEndPoint(),r=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(t.x,t.y,i.x,i.y);if(r){for(let l=0;l<r.length;l+=2)o.addColorStop(r[l],r[l+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const t=e.dash(),i=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!i){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),t&&e.dashEnabled()&&(this.setLineDash(t),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),i||this.restore()}}_applyShadow(e){var t,i,r;const o=(t=e.getShadowRGBA())!==null&&t!==void 0?t:"black",l=(i=e.getShadowBlur())!==null&&i!==void 0?i:5,c=(r=e.getShadowOffset())!==null&&r!==void 0?r:{x:0,y:0},u=e.getAbsoluteScale(),h=this.canvas.getPixelRatio(),f=u.x*h,p=u.y*h;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",l*Math.min(Math.abs(f),Math.abs(p))),this.setAttr("shadowOffsetX",c.x*f),this.setAttr("shadowOffsetY",c.y*p)}}class KP extends Xd{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const t=e.getStrokeScaleEnabled();if(!t){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);const i=e.hitStrokeWidth(),r=i==="auto"?e.strokeWidth():i;this.setAttr("lineWidth",r),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),t||this.restore()}}}let D0;function JP(){if(D0)return D0;const n=oe.createCanvasElement(),e=n.getContext("2d");return D0=(function(){const t=qe._global.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i})(),oe.releaseCanvas(n),D0}class Fp{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const i=(e||{}).pixelRatio||qe.pixelRatio||JP();this.pixelRatio=i,this._canvas=oe.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const t=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/t,this.getHeight()/t)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const t=this.pixelRatio;this.getContext()._context.scale(t,t)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,t){this.setWidth(e||0),this.setHeight(t||0)}toDataURL(e,t){try{return this._canvas.toDataURL(e,t)}catch{try{return this._canvas.toDataURL()}catch(r){return oe.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class ba extends Fp{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new ZP(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class Up extends Fp{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new KP(this),this.setSize(e.width,e.height)}}const It={get isDragging(){let n=!1;return It._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return It._dragElements.forEach(e=>{n=e.node}),n},_dragElements:new Map,_drag(n){const e=[];It._dragElements.forEach((t,i)=>{const{node:r}=t,o=r.getStage();o.setPointersPositions(n),t.pointerId===void 0&&(t.pointerId=oe._getFirstPointerId(n));const l=o._changedPointerPositions.find(c=>c.id===t.pointerId);if(l){if(t.dragStatus!=="dragging"){const c=r.dragDistance();if(Math.max(Math.abs(l.x-t.startPointerPos.x),Math.abs(l.y-t.startPointerPos.y))<c||(r.startDrag({evt:n}),!r.isDragging()))return}r._setDragPosition(n,t),e.push(r)}}),e.forEach(t=>{t.fire("dragmove",{type:"dragmove",target:t,evt:n},!0)})},_endDragBefore(n){const e=[];It._dragElements.forEach(t=>{const{node:i}=t,r=i.getStage();if(n&&r.setPointersPositions(n),!r._changedPointerPositions.find(c=>c.id===t.pointerId))return;(t.dragStatus==="dragging"||t.dragStatus==="stopped")&&(It.justDragged=!0,qe._mouseListenClick=!1,qe._touchListenClick=!1,qe._pointerListenClick=!1,t.dragStatus="stopped");const l=t.node.getLayer()||t.node instanceof qe.Stage&&t.node;l&&e.indexOf(l)===-1&&e.push(l)}),e.forEach(t=>{t.draw()})},_endDragAfter(n){It._dragElements.forEach((e,t)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:n},!0),e.dragStatus!=="dragging"&&It._dragElements.delete(t)})}};qe.isBrowser&&(window.addEventListener("mouseup",It._endDragBefore,!0),window.addEventListener("touchend",It._endDragBefore,!0),window.addEventListener("touchcancel",It._endDragBefore,!0),window.addEventListener("mousemove",It._drag),window.addEventListener("touchmove",It._drag),window.addEventListener("mouseup",It._endDragAfter,!1),window.addEventListener("touchend",It._endDragAfter,!1),window.addEventListener("touchcancel",It._endDragAfter,!1));function La(n){return oe._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||oe._isBoolean(n)?n:Object.prototype.toString.call(n)}function g3(n){return n>255?255:n<0?0:Math.round(n)}function Fe(){if(qe.isUnminified)return function(n,e){return oe._isNumber(n)||oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),n}}function Wd(n){if(qe.isUnminified)return function(e,t){let i=oe._isNumber(e),r=oe._isArray(e)&&e.length==n;return!i&&!r&&oe.warn(La(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or Array<number>('+n+")"),e}}function Np(){if(qe.isUnminified)return function(n,e){return oe._isNumber(n)||n==="auto"||oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),n}}function wo(){if(qe.isUnminified)return function(n,e){return oe._isString(n)||oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),n}}function p3(){if(qe.isUnminified)return function(n,e){const t=oe._isString(n),i=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return t||i||oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),n}}function eL(){if(qe.isUnminified)return function(n,e){const t=Int8Array?Object.getPrototypeOf(Int8Array):null;return t&&n instanceof t||(oe._isArray(n)?n.forEach(function(i){oe._isNumber(i)||oe.warn('"'+e+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),n}}function Vi(){if(qe.isUnminified)return function(n,e){return n===!0||n===!1||oe.warn(La(n)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),n}}function tL(n){if(qe.isUnminified)return function(e,t){return e==null||oe.isObject(e)||oe.warn(La(e)+' is a not valid value for "'+t+'" attribute. The value should be an object with properties '+n),e}}const Yl="get",Xl="set",$={addGetterSetter(n,e,t,i,r){$.addGetter(n,e,t),$.addSetter(n,e,i,r),$.addOverloadedGetterSetter(n,e)},addGetter(n,e,t){const i=Yl+oe._capitalize(e);n.prototype[i]=n.prototype[i]||function(){const r=this.attrs[e];return r===void 0?t:r}},addSetter(n,e,t,i){const r=Xl+oe._capitalize(e);n.prototype[r]||$.overWriteSetter(n,e,t,i)},overWriteSetter(n,e,t,i){const r=Xl+oe._capitalize(e);n.prototype[r]=function(o){return t&&o!==void 0&&o!==null&&(o=t.call(this,o,e)),this._setAttr(e,o),i&&i.call(this),this}},addComponentsGetterSetter(n,e,t,i,r){const o=t.length,l=oe._capitalize,c=Yl+l(e),u=Xl+l(e);n.prototype[c]=function(){const f={};for(let p=0;p<o;p++){const m=t[p];f[m]=this.getAttr(e+l(m))}return f};const h=tL(t);n.prototype[u]=function(f){const p=this.attrs[e];i&&(f=i.call(this,f,e)),h&&h.call(this,f,e);for(const m in f)f.hasOwnProperty(m)&&this._setAttr(e+l(m),f[m]);return f||t.forEach(m=>{this._setAttr(e+l(m),void 0)}),this._fireChangeEvent(e,p,f),r&&r.call(this),this},$.addOverloadedGetterSetter(n,e)},addOverloadedGetterSetter(n,e){const t=oe._capitalize(e),i=Xl+t,r=Yl+t;n.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[r]()}},addDeprecatedGetterSetter(n,e,t,i){oe.error("Adding deprecated "+e);const r=Yl+oe._capitalize(e),o=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[r]=function(){oe.error(o);const l=this.attrs[e];return l===void 0?t:l},$.addSetter(n,e,i,function(){oe.error(o)}),$.addOverloadedGetterSetter(n,e)},backCompat(n,e){oe.each(e,function(t,i){const r=n.prototype[i],o=Yl+oe._capitalize(t),l=Xl+oe._capitalize(t);function c(){r.apply(this,arguments),oe.error('"'+t+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}n.prototype[t]=c,n.prototype[o]=c,n.prototype[l]=c})},afterSetFilter(){this._filterUpToDate=!1}};function nL(n){const e=/(\w+)\(([^)]+)\)/g;let t;for(;(t=e.exec(n))!==null;){const[,i,r]=t;switch(i){case"blur":{const o=parseFloat(r.replace("px",""));return function(l){this.blurRadius(o*.5);const c=qe.Filters;c&&c.Blur&&c.Blur.call(this,l)}}case"brightness":{const o=r.includes("%")?parseFloat(r)/100:parseFloat(r);return function(l){this.brightness(o);const c=qe.Filters;c&&c.Brightness&&c.Brightness.call(this,l)}}case"contrast":{const o=parseFloat(r);return function(l){const c=100*(Math.sqrt(o)-1);this.contrast(c);const u=qe.Filters;u&&u.Contrast&&u.Contrast.call(this,l)}}case"grayscale":return function(o){const l=qe.Filters;l&&l.Grayscale&&l.Grayscale.call(this,o)};case"sepia":return function(o){const l=qe.Filters;l&&l.Sepia&&l.Sepia.call(this,o)};case"invert":return function(o){const l=qe.Filters;l&&l.Invert&&l.Invert.call(this,o)};default:oe.warn(`CSS filter "${i}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const $0="absoluteOpacity",M5="allEventListeners",kr="absoluteTransform",_5="absoluteScale",eo="canvas",iL="Change",rL="children",aL="konva",Pg="listening",oL="mouseenter",sL="mouseleave",lL="pointerenter",cL="pointerleave",uL="touchenter",dL="touchleave",k5="set",F5="Shape",Z0=" ",U5="stage",va="transform",hL="Stage",Lg="visible",fL=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Z0);let gL=1;class _e{constructor(e){this._id=gL++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===va||e===kr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,t){let i=this._cache.get(e);return(i===void 0||(e===va||e===kr)&&i.dirty===!0)&&(i=t.call(this),this._cache.set(e,i)),i}_calculate(e,t,i){if(!this._attachedDepsListeners.get(e)){const r=t.map(o=>o+"Change.konva").join(Z0);this.on(r,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,i)}_getCanvasCache(){return this._cache.get(eo)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===kr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(eo)){const{scene:e,filter:t,hit:i}=this._cache.get(eo);oe.releaseCanvas(e._canvas,t._canvas,i._canvas),this._cache.delete(eo)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const t=e||{};let i={};(t.x===void 0||t.y===void 0||t.width===void 0||t.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let r=Math.ceil(t.width||i.width),o=Math.ceil(t.height||i.height),l=t.pixelRatio,c=t.x===void 0?Math.floor(i.x):t.x,u=t.y===void 0?Math.floor(i.y):t.y,h=t.offset||0,f=t.drawBorder||!1,p=t.hitCanvasPixelRatio||1;if(!r||!o){oe.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(i.x)-c)>.5?1:0,S=Math.abs(Math.round(i.y)-u)>.5?1:0;r+=h*2+m,o+=h*2+S,c-=h,u-=h;const y=new ba({pixelRatio:l,width:r,height:o}),v=new ba({pixelRatio:l,width:0,height:0,willReadFrequently:!0}),b=new Up({pixelRatio:p,width:r,height:o}),T=y.getContext(),x=b.getContext(),w=new ba({width:y.width/y.pixelRatio+Math.abs(c),height:y.height/y.pixelRatio+Math.abs(u),pixelRatio:y.pixelRatio}),A=w.getContext();return b.isCache=!0,y.isCache=!0,this._cache.delete(eo),this._filterUpToDate=!1,t.imageSmoothingEnabled===!1&&(y.getContext()._context.imageSmoothingEnabled=!1,v.getContext()._context.imageSmoothingEnabled=!1),T.save(),x.save(),A.save(),T.translate(-c,-u),x.translate(-c,-u),A.translate(-c,-u),w.x=c,w.y=u,this._isUnderCache=!0,this._clearSelfAndDescendantCache($0),this._clearSelfAndDescendantCache(_5),this.drawScene(y,this,w),this.drawHit(b,this),this._isUnderCache=!1,T.restore(),x.restore(),f&&(T.save(),T.beginPath(),T.rect(0,0,r,o),T.closePath(),T.setAttr("strokeStyle","red"),T.setAttr("lineWidth",5),T.stroke(),T.restore()),oe.releaseCanvas(w._canvas),this._cache.set(eo,{scene:y,filter:v,hit:b,x:c,y:u}),this._requestDraw(),this}isCached(){return this._cache.has(eo)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,t){const i=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let r=1/0,o=1/0,l=-1/0,c=-1/0;const u=this.getAbsoluteTransform(t);return i.forEach(function(h){const f=u.point(h);r===void 0&&(r=l=f.x,o=c=f.y),r=Math.min(r,f.x),o=Math.min(o,f.y),l=Math.max(l,f.x),c=Math.max(c,f.y)}),{x:r,y:o,width:l-r,height:c-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const t=this._getCanvasCache();e.translate(t.x,t.y);const i=this._getCachedSceneCanvas(),r=i.pixelRatio;e.drawImage(i._canvas,0,0,i.width/r,i.height/r),e.restore()}_drawCachedHitCanvas(e){const t=this._getCanvasCache(),i=t.hit;e.save(),e.translate(t.x,t.y),e.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),t=this._getCanvasCache(),i=t.scene,r=t.filter,o=r.getContext(),l,c,u,h;if(!e||e.length===0)return i;if(this._filterUpToDate)return r;let f=!0;for(let m=0;m<e.length;m++)if(typeof e[m]=="string"&&E5(),typeof e[m]!="string"||!E5()){f=!1;break}const p=i.pixelRatio;if(r.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio),f){const m=e.join(" ");return o.save(),o.setAttr("filter",m),o.drawImage(i._canvas,0,0,i.getWidth()/p,i.getHeight()/p),o.restore(),this._filterUpToDate=!0,r}try{for(l=e.length,o.clear(),o.drawImage(i._canvas,0,0,i.getWidth()/p,i.getHeight()/p),c=o.getImageData(0,0,r.getWidth(),r.getHeight()),u=0;u<l;u++)h=e[u],typeof h=="string"&&(h=nL(h)),h.call(this,c),o.putImageData(c,0,0)}catch(m){oe.error("Unable to apply filter. "+m.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,r}on(e,t){if(this._cache&&this._cache.delete(M5),arguments.length===3)return this._delegate.apply(this,arguments);const i=e.split(Z0);for(let r=0;r<i.length;r++){const l=i[r].split("."),c=l[0],u=l[1]||"";this.eventListeners[c]||(this.eventListeners[c]=[]),this.eventListeners[c].push({name:u,handler:t})}return this}off(e,t){let i=(e||"").split(Z0),r=i.length,o,l,c,u,h,f;if(this._cache&&this._cache.delete(M5),!e)for(l in this.eventListeners)this._off(l);for(o=0;o<r;o++)if(c=i[o],u=c.split("."),h=u[0],f=u[1],h)this.eventListeners[h]&&this._off(h,f,t);else for(l in this.eventListeners)this._off(l,f,t);return this}dispatchEvent(e){const t={target:this,type:e.type,evt:e};return this.fire(e.type,t),this}addEventListener(e,t){return this.on(e,function(i){t.call(this,i.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,t,i){const r=this;this.on(e,function(o){const l=o.target.findAncestors(t,!0,r);for(let c=0;c<l.length;c++)o=oe.cloneObject(o),o.currentTarget=l[c],i.call(l[c],o)})}remove(){return this.isDragging()&&this.stopDrag(),It._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(kr),this._clearSelfAndDescendantCache($0),this._clearSelfAndDescendantCache(_5),this._clearSelfAndDescendantCache(U5),this._clearSelfAndDescendantCache(Lg),this._clearSelfAndDescendantCache(Pg)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const t="get"+oe._capitalize(e);return oe._isFunction(this[t])?this[t]():this.attrs[e]}getAncestors(){let e=this.getParent(),t=[];for(;e;)t.push(e),e=e.getParent();return t}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let t,i;if(!e)return this;for(t in e)t!==rL&&(i=k5+oe._capitalize(t),oe._isFunction(this[i])?this[i](e[t]):this._setAttr(t,e[t]))}),this}isListening(){return this._getCache(Pg,this._isListening)}_isListening(e){if(!this.listening())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isListening(e):!0}isVisible(){return this._getCache(Lg,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const i=this.getParent();return i&&i!==e&&this!==e?i._isVisible(e):!0}shouldDrawHit(e,t=!1){if(e)return this._isVisible(e)&&this._isListening(e);const i=this.getLayer();let r=!1;It._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===i)&&(r=!0)});const o=!t&&!qe.hitOnDragEnabled&&(r||qe.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),t=this,i=0,r,o,l,c;function u(f){for(r=[],o=f.length,l=0;l<o;l++)c=f[l],i++,c.nodeType!==F5&&(r=r.concat(c.getChildren().slice())),c._id===t._id&&(l=o);r.length>0&&r[0].getDepth()<=e&&u(r)}const h=this.getStage();return t.nodeType!==hL&&h&&u(h.getChildren()),i}getDepth(){let e=0,t=this.parent;for(;t;)e++,t=t.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(va),this._clearSelfAndDescendantCache(kr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const t=e.getPointerPosition();if(!t)return null;const i=this.getAbsoluteTransform().copy();return i.invert(),i.point(t)}getAbsolutePosition(e){let t=!1,i=this.parent;for(;i;){if(i.isCached()){t=!0;break}i=i.parent}t&&!e&&(e=!0);const r=this.getAbsoluteTransform(e).getMatrix(),o=new oi,l=this.offset();return o.m=r.slice(),o.translate(l.x,l.y),o.getTranslation()}setAbsolutePosition(e){const{x:t,y:i,...r}=this._clearTransform();this.attrs.x=t,this.attrs.y=i,this._clearCache(va);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(r),this.setPosition({x:e.x,y:e.y}),this._clearCache(va),this._clearSelfAndDescendantCache(kr),this}_setTransform(e){let t;for(t in e)this.attrs[t]=e[t]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let t=e.x,i=e.y,r=this.x(),o=this.y();return t!==void 0&&(r+=t),i!==void 0&&(o+=i),this.setPosition({x:r,y:o}),this}_eachAncestorReverse(e,t){let i=[],r=this.getParent(),o,l;if(!(t&&t._id===this._id)){for(i.unshift(this);r&&(!t||r._id!==t._id);)i.unshift(r),r=r.parent;for(o=i.length,l=0;l<o;l++)e(i[l])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return oe.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return oe.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,t=this.parent.getChildren().length;return e<t-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return oe.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return oe.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return oe.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&oe.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const t=this.index;return this.parent.children.splice(t,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache($0,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const t=this.getParent();return t&&!t._isUnderCache&&(e*=t.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),t,i,r,o,l;const c={attrs:{},className:this.getClassName()};for(t in e)i=e[t],l=oe.isObject(i)&&!oe._isPlainObject(i)&&!oe._isArray(i),!l&&(r=typeof this[t]=="function"&&this[t],delete e[t],o=r?r.call(this):null,e[t]=i,o!==i&&(c.attrs[t]=i));return oe._prepareToStringify(c)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,t,i){const r=[];t&&this._isMatch(e)&&r.push(this);let o=this.parent;for(;o;){if(o===i)return r;o._isMatch(e)&&r.push(o),o=o.parent}return r}isAncestorOf(e){return!1}findAncestor(e,t,i){return this.findAncestors(e,t,i)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let t=e.replace(/ /g,"").split(","),i=t.length,r,o;for(r=0;r<i;r++)if(o=t[r],oe.isValidSelector(o)||(oe.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),oe.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),oe.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(U5,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,t={},i){return t.target=t.target||this,i?this._fireAndBubble(e,t):this._fire(e,t),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(kr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let t;if(e)return t=new oi,this._eachAncestorReverse(function(i){const r=i.transformsEnabled();r==="all"?t.multiply(i.getTransform()):r==="position"&&t.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),t;{t=this._cache.get(kr)||new oi,this.parent?this.parent.getAbsoluteTransform().copyInto(t):t.reset();const i=this.transformsEnabled();if(i==="all")t.multiply(this.getTransform());else if(i==="position"){const r=this.attrs.x||0,o=this.attrs.y||0,l=this.attrs.offsetX||0,c=this.attrs.offsetY||0;t.translate(r-l,o-c)}return t.dirty=!1,t}}getAbsoluteScale(e){let t=this;for(;t;)t._isUnderCache&&(e=t),t=t.getParent();const r=this.getAbsoluteTransform(e).decompose();return{x:r.scaleX,y:r.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(va,this._getTransform)}_getTransform(){var e,t;const i=this._cache.get(va)||new oi;i.reset();const r=this.x(),o=this.y(),l=qe.getAngle(this.rotation()),c=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,u=(t=this.attrs.scaleY)!==null&&t!==void 0?t:1,h=this.attrs.skewX||0,f=this.attrs.skewY||0,p=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(r!==0||o!==0)&&i.translate(r,o),l!==0&&i.rotate(l),(h!==0||f!==0)&&i.skew(h,f),(c!==1||u!==1)&&i.scale(c,u),(p!==0||m!==0)&&i.translate(-1*p,-1*m),i.dirty=!1,i}clone(e){let t=oe.cloneObject(this.attrs),i,r,o,l,c;for(i in e)t[i]=e[i];const u=new this.constructor(t);for(i in this.eventListeners)for(r=this.eventListeners[i],o=r.length,l=0;l<o;l++)c=r[l],c.name.indexOf(aL)<0&&(u.eventListeners[i]||(u.eventListeners[i]=[]),u.eventListeners[i].push(c));return u}_toKonvaCanvas(e){e=e||{};const t=this.getClientRect(),i=this.getStage(),r=e.x!==void 0?e.x:Math.floor(t.x),o=e.y!==void 0?e.y:Math.floor(t.y),l=e.pixelRatio||1,c=new ba({width:e.width||Math.ceil(t.width)||(i?i.width():0),height:e.height||Math.ceil(t.height)||(i?i.height():0),pixelRatio:l}),u=c.getContext(),h=new ba({width:c.width/c.pixelRatio+Math.abs(r),height:c.height/c.pixelRatio+Math.abs(o),pixelRatio:c.pixelRatio});return e.imageSmoothingEnabled===!1&&(u._context.imageSmoothingEnabled=!1),u.save(),(r||o)&&u.translate(-1*r,-1*o),this.drawScene(c,void 0,h),u.restore(),c}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const t=e.mimeType||null,i=e.quality||null,r=this._toKonvaCanvas(e).toDataURL(t,i);return e.callback&&e.callback(r),r}toImage(e){return new Promise((t,i)=>{try{const r=e?.callback;r&&delete e.callback,oe._urlToImage(this.toDataURL(e),function(o){t(o),r?.(o)})}catch(r){i(r)}})}toBlob(e){return new Promise((t,i)=>{try{const r=e?.callback;r&&delete e.callback,this.toCanvas(e).toBlob(o=>{t(o),r?.(o)},e?.mimeType,e?.quality)}catch(r){i(r)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():qe.dragDistance}_off(e,t,i){let r=this.eventListeners[e],o,l,c;for(o=0;o<r.length;o++)if(l=r[o].name,c=r[o].handler,(l!=="konva"||t==="konva")&&(!t||l===t)&&(!i||i===c)){if(r.splice(o,1),r.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,t,i){this._fire(e+iL,{oldVal:t,newVal:i})}addName(e){if(!this.hasName(e)){const t=this.name(),i=t?t+" "+e:e;this.name(i)}return this}hasName(e){if(!e)return!1;const t=this.name();return t?(t||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const t=(this.name()||"").split(/\s/g),i=t.indexOf(e);return i!==-1&&(t.splice(i,1),this.name(t.join(" "))),this}setAttr(e,t){const i=this[k5+oe._capitalize(e)];return oe._isFunction(i)?i.call(this,t):this._setAttr(e,t),this}_requestDraw(){if(qe.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,t){const i=this.attrs[e];i===t&&!oe.isObject(t)||(t==null?delete this.attrs[e]:this.attrs[e]=t,this._shouldFireChangeEvents&&this._fireChangeEvent(e,i,t),this._requestDraw())}_setComponentAttr(e,t,i){let r;i!==void 0&&(r=this.attrs[e],r||(this.attrs[e]=this.getAttr(e)),this.attrs[e][t]=i,this._fireChangeEvent(e,r,i))}_fireAndBubble(e,t,i){t&&this.nodeType===F5&&(t.target=this);const r=[oL,sL,lL,cL,uL,dL];if(!(r.indexOf(e)!==-1&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i))){this._fire(e,t);const l=r.indexOf(e)!==-1&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(t&&!t.cancelBubble||!t)&&this.parent&&this.parent.isListening()&&!l&&(i&&i.parent?this._fireAndBubble.call(this.parent,e,t,i):this._fireAndBubble.call(this.parent,e,t))}}_getProtoListeners(e){var t,i;const{nodeType:r}=this,o=_e.protoListenerMap.get(r)||{};let l=o?.[e];if(l===void 0){l=[];let c=Object.getPrototypeOf(this);for(;c;){const u=(i=(t=c.eventListeners)===null||t===void 0?void 0:t[e])!==null&&i!==void 0?i:[];l.push(...u),c=Object.getPrototypeOf(c)}o[e]=l,_e.protoListenerMap.set(r,o)}return l}_fire(e,t){t=t||{},t.currentTarget=this,t.type=e;const i=this._getProtoListeners(e);if(i)for(let o=0;o<i.length;o++)i[o].handler.call(this,t);const r=this.eventListeners[e];if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,t)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const t=e?e.pointerId:void 0,i=this.getStage(),r=this.getAbsolutePosition();if(!i)return;const o=i._getPointerById(t)||i._changedPointerPositions[0]||r;It._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-r.x,y:o.y-r.y},dragStatus:"ready",pointerId:t})}startDrag(e,t=!0){It._dragElements.has(this._id)||this._createDragElement(e);const i=It._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},t)}_setDragPosition(e,t){const i=this.getStage()._getPointerById(t.pointerId);if(!i)return;let r={x:i.x-t.offset.x,y:i.y-t.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const l=o.call(this,r,e);l?r=l:oe.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==r.x||this._lastPos.y!==r.y)&&(this.setAbsolutePosition(r),this._requestDraw()),this._lastPos=r}stopDrag(e){const t=It._dragElements.get(this._id);t&&(t.dragStatus="stopped"),It._endDragBefore(e),It._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=It._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||qe.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let r=!1;It._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(r=!0)}),r||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const t=It._dragElements.get(this._id),i=t&&t.dragStatus==="dragging",r=t&&t.dragStatus==="ready";i?this.stopDrag():r&&It._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const t=this.getStage();if(!t)return!1;const i={x:-e.x,y:-e.y,width:t.width()+2*e.x,height:t.height()+2*e.y};return oe.haveIntersection(i,this.getClientRect())}static create(e,t){return oe._isString(e)&&(e=JSON.parse(e)),this._createNode(e,t)}static _createNode(e,t){let i=_e.prototype.getClassName.call(e),r=e.children,o,l,c;t&&(e.attrs.container=t),qe[i]||(oe.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const u=qe[i];if(o=new u(e.attrs),r)for(l=r.length,c=0;c<l;c++)o.add(_e._createNode(r[c]));return o}}_e.protoListenerMap=new Map;_e.prototype.nodeType="Node";_e.prototype._attrsAffectingSize=[];_e.prototype.eventListeners={};_e.prototype.on.call(_e.prototype,fL,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(va),this._clearSelfAndDescendantCache(kr)});_e.prototype.on.call(_e.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Lg)});_e.prototype.on.call(_e.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Pg)});_e.prototype.on.call(_e.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache($0)});const Qt=$.addGetterSetter;Qt(_e,"zIndex");Qt(_e,"absolutePosition");Qt(_e,"position");Qt(_e,"x",0,Fe());Qt(_e,"y",0,Fe());Qt(_e,"globalCompositeOperation","source-over",wo());Qt(_e,"opacity",1,Fe());Qt(_e,"name","",wo());Qt(_e,"id","",wo());Qt(_e,"rotation",0,Fe());$.addComponentsGetterSetter(_e,"scale",["x","y"]);Qt(_e,"scaleX",1,Fe());Qt(_e,"scaleY",1,Fe());$.addComponentsGetterSetter(_e,"skew",["x","y"]);Qt(_e,"skewX",0,Fe());Qt(_e,"skewY",0,Fe());$.addComponentsGetterSetter(_e,"offset",["x","y"]);Qt(_e,"offsetX",0,Fe());Qt(_e,"offsetY",0,Fe());Qt(_e,"dragDistance",void 0,Fe());Qt(_e,"width",0,Fe());Qt(_e,"height",0,Fe());Qt(_e,"listening",!0,Vi());Qt(_e,"preventDefault",!0,Vi());Qt(_e,"filters",void 0,function(n){return this._filterUpToDate=!1,n});Qt(_e,"visible",!0,Vi());Qt(_e,"transformsEnabled","all",wo());Qt(_e,"size");Qt(_e,"dragBoundFunc");Qt(_e,"draggable",!1,Vi());$.backCompat(_e,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class li extends _e{constructor(){super(...arguments),this.children=[]}getChildren(e){const t=this.children||[];return e?t.filter(e):t}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let i=0;i<e.length;i++)this.add(e[i]);return this}const t=e[0];return t.getParent()?(t.moveTo(this),this):(this._validateAdd(t),t.index=this.getChildren().length,t.parent=this,t._clearCaches(),this.getChildren().push(t),this._fire("add",{child:t}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const t=this._generalFind(e,!0);return t.length>0?t[0]:void 0}_generalFind(e,t){const i=[];return this._descendants(r=>{const o=r._isMatch(e);return o&&i.push(r),!!(o&&t)}),i}_descendants(e){let t=!1;const i=this.getChildren();for(const r of i){if(t=e(r),t)return!0;if(r.hasChildren()&&(t=r._descendants(e),t))return!0}return!1}toObject(){const e=_e.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(t=>{e.children.push(t.toObject())}),e}isAncestorOf(e){let t=e.getParent();for(;t;){if(t._id===this._id)return!0;t=t.getParent()}return!1}clone(e){const t=_e.prototype.clone.call(this,e);return this.getChildren().forEach(function(i){t.add(i.clone())}),t}getAllIntersections(e){const t=[];return this.find("Shape").forEach(i=>{i.isVisible()&&i.intersects(e)&&t.push(i)}),t}_clearSelfAndDescendantCache(e){var t;super._clearSelfAndDescendantCache(e),!this.isCached()&&((t=this.children)===null||t===void 0||t.forEach(function(i){i._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(t,i){t.index=i}),this._requestDraw()}drawScene(e,t,i){const r=this.getLayer(),o=e||r&&r.getCanvas(),l=o&&o.getContext(),c=this._getCanvasCache(),u=c&&c.scene,h=o&&o.isCache;if(!this.isVisible()&&!h)return this;if(u){l.save();const f=this.getAbsoluteTransform(t).getMatrix();l.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(l),l.restore()}else this._drawChildren("drawScene",o,t,i);return this}drawHit(e,t){if(!this.shouldDrawHit(t))return this;const i=this.getLayer(),r=e||i&&i.hitCanvas,o=r&&r.getContext(),l=this._getCanvasCache();if(l&&l.hit){o.save();const u=this.getAbsoluteTransform(t).getMatrix();o.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",r,t);return this}_drawChildren(e,t,i,r){var o;const l=t&&t.getContext(),c=this.clipWidth(),u=this.clipHeight(),h=this.clipFunc(),f=typeof c=="number"&&typeof u=="number"||h,p=i===this;if(f){l.save();const S=this.getAbsoluteTransform(i);let y=S.getMatrix();l.transform(y[0],y[1],y[2],y[3],y[4],y[5]),l.beginPath();let v;if(h)v=h.call(this,l,this);else{const b=this.clipX(),T=this.clipY();l.rect(b||0,T||0,c,u)}l.clip.apply(l,v),y=S.copy().invert().getMatrix(),l.transform(y[0],y[1],y[2],y[3],y[4],y[5])}const m=!p&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(l.save(),l._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(S){S[e](t,i,r)}),m&&l.restore(),f&&l.restore()}getClientRect(e={}){var t;const i=e.skipTransform,r=e.relativeTo;let o,l,c,u,h={x:1/0,y:1/0,width:0,height:0};const f=this;(t=this.children)===null||t===void 0||t.forEach(function(S){if(!S.visible())return;const y=S.getClientRect({relativeTo:f,skipShadow:e.skipShadow,skipStroke:e.skipStroke});y.width===0&&y.height===0||(o===void 0?(o=y.x,l=y.y,c=y.x+y.width,u=y.y+y.height):(o=Math.min(o,y.x),l=Math.min(l,y.y),c=Math.max(c,y.x+y.width),u=Math.max(u,y.y+y.height)))});const p=this.find("Shape");let m=!1;for(let S=0;S<p.length;S++)if(p[S]._isVisible(this)){m=!0;break}return m&&o!==void 0?h={x:o,y:l,width:c-o,height:u-l}:h={x:0,y:0,width:0,height:0},i?h:this._transformedRect(h,r)}}$.addComponentsGetterSetter(li,"clip",["x","y","width","height"]);$.addGetterSetter(li,"clipX",void 0,Fe());$.addGetterSetter(li,"clipY",void 0,Fe());$.addGetterSetter(li,"clipWidth",void 0,Fe());$.addGetterSetter(li,"clipHeight",void 0,Fe());$.addGetterSetter(li,"clipFunc");const _c=new Map,m3=qe._global.PointerEvent!==void 0;function M1(n){return _c.get(n)}function qp(n){return{evt:n,pointerId:n.pointerId}}function S3(n,e){return _c.get(n)===e}function y3(n,e){vc(n),e.getStage()&&(_c.set(n,e),m3&&e._fire("gotpointercapture",qp(new PointerEvent("gotpointercapture"))))}function vc(n,e){const t=_c.get(n);if(!t)return;const i=t.getStage();i&&i.content,_c.delete(n),m3&&t._fire("lostpointercapture",qp(new PointerEvent("lostpointercapture")))}const pL="Stage",mL="string",N5="px",SL="mouseout",v3="mouseleave",C3="mouseover",b3="mouseenter",D3="mousemove",T3="mousedown",x3="mouseup",oc="pointermove",sc="pointerdown",As="pointerup",lc="pointercancel",yL="lostpointercapture",T0="pointerout",cc="pointerleave",x0="pointerover",w0="pointerenter",Rg="contextmenu",w3="touchstart",A3="touchend",I3="touchmove",O3="touchcancel",Eg="wheel",vL=5,CL=[[b3,"_pointerenter"],[T3,"_pointerdown"],[D3,"_pointermove"],[x3,"_pointerup"],[v3,"_pointerleave"],[w3,"_pointerdown"],[I3,"_pointermove"],[A3,"_pointerup"],[O3,"_pointercancel"],[C3,"_pointerover"],[Eg,"_wheel"],[Rg,"_contextmenu"],[sc,"_pointerdown"],[oc,"_pointermove"],[As,"_pointerup"],[lc,"_pointercancel"],[cc,"_pointerleave"],[yL,"_lostpointercapture"]],_1={mouse:{[T0]:SL,[cc]:v3,[x0]:C3,[w0]:b3,[oc]:D3,[sc]:T3,[As]:x3,[lc]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T0]:"touchout",[cc]:"touchleave",[x0]:"touchover",[w0]:"touchenter",[oc]:I3,[sc]:w3,[As]:A3,[lc]:O3,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T0]:T0,[cc]:cc,[x0]:x0,[w0]:w0,[oc]:oc,[sc]:sc,[As]:As,[lc]:lc,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},uc=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Ds=n=>{const e=uc(n);if(e==="pointer")return qe.pointerEventsEnabled&&_1.pointer;if(e==="touch")return _1.touch;if(e==="mouse")return _1.mouse};function q5(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&oe.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const bL="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Cc=[];class $d extends li{constructor(e){super(q5(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Cc.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{q5(this.attrs)}),this._checkVisibility()}_validateAdd(e){const t=e.getType()==="Layer",i=e.getType()==="FastLayer";t||i||oe.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===mL){let t;if(e.charAt(0)==="."){const i=e.slice(1);e=document.getElementsByClassName(i)[0]}else e.charAt(0)!=="#"?t=e:t=e.slice(1),e=document.getElementById(t);if(!e)throw"Can not find container in document with id "+t}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,t=e.length;for(let i=0;i<t;i++)e[i].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),li.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&oe._isInDocument(e)&&this.container().removeChild(e);const t=Cc.indexOf(this);return t>-1&&Cc.splice(t,1),oe.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(oe.warn(bL),null)}_getPointerById(e){return this._pointerPositions.find(t=>t.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const t=new ba({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),i=t.getContext()._context,r=this.children;return(e.x||e.y)&&i.translate(-1*e.x,-1*e.y),r.forEach(function(o){if(!o.isVisible())return;const l=o._toKonvaCanvas(e);i.drawImage(l._canvas,e.x,e.y,l.getWidth()/l.getPixelRatio(),l.getHeight()/l.getPixelRatio())}),t}getIntersection(e){if(!e)return null;const t=this.children,i=t.length,r=i-1;for(let o=r;o>=0;o--){const l=t[o].getIntersection(e);if(l)return l}return null}_resizeDOM(){const e=this.width(),t=this.height();this.content&&(this.content.style.width=e+N5,this.content.style.height=t+N5),this.bufferCanvas.setSize(e,t),this.bufferHitCanvas.setSize(e,t),this.children.forEach(i=>{i.setSize({width:e,height:t}),i.draw()})}add(e,...t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(e);const i=this.children.length;return i>vL&&oe.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),qe.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return S3(e,this)}setPointerCapture(e){y3(e,this)}releaseCapture(e){vc(e)}getLayers(){return this.children}_bindContentEvents(){qe.isBrowser&&CL.forEach(([e,t])=>{this.content.addEventListener(e,i=>{this[t](i)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const t=Ds(e.type);t&&this._fire(t.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const t=Ds(e.type);t&&this._fire(t.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let t=this[e+"targetShape"];return t&&!t.getStage()&&(t=null),t}_pointerleave(e){const t=Ds(e.type),i=uc(e.type);if(!t)return;this.setPointersPositions(e);const r=this._getTargetShape(i),o=!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled;r&&o?(r._fireAndBubble(t.pointerout,{evt:e}),r._fireAndBubble(t.pointerleave,{evt:e}),this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this[i+"targetShape"]=null):o&&(this._fire(t.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(t.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const t=Ds(e.type),i=uc(e.type);if(!t)return;this.setPointersPositions(e);let r=!1;this._changedPointerPositions.forEach(o=>{const l=this.getIntersection(o);if(It.justDragged=!1,qe["_"+i+"ListenClick"]=!0,!l||!l.isListening()){this[i+"ClickStartShape"]=void 0;return}qe.capturePointerEventsEnabled&&l.setPointerCapture(o.id),this[i+"ClickStartShape"]=l,l._fireAndBubble(t.pointerdown,{evt:e,pointerId:o.id}),r=!0;const c=e.type.indexOf("touch")>=0;l.preventDefault()&&e.cancelable&&c&&e.preventDefault()}),r||this._fire(t.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const t=Ds(e.type),i=uc(e.type);if(!t)return;const r=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(qe.isDragging()&&It.node.preventDefault()&&e.cancelable&&r&&e.preventDefault(),this.setPointersPositions(e),!(!(qe.isDragging()||qe.isTransforming())||qe.hitOnDragEnabled))return;const l={};let c=!1;const u=this._getTargetShape(i);this._changedPointerPositions.forEach(h=>{const f=M1(h.id)||this.getIntersection(h),p=h.id,m={evt:e,pointerId:p},S=u!==f;if(S&&u&&(u._fireAndBubble(t.pointerout,{...m},f),u._fireAndBubble(t.pointerleave,{...m},f)),f){if(l[f._id])return;l[f._id]=!0}f&&f.isListening()?(c=!0,S&&(f._fireAndBubble(t.pointerover,{...m},u),f._fireAndBubble(t.pointerenter,{...m},u),this[i+"targetShape"]=f),f._fireAndBubble(t.pointermove,{...m})):u&&(this._fire(t.pointerover,{evt:e,target:this,currentTarget:this,pointerId:p}),this[i+"targetShape"]=null)}),c||this._fire(t.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const t=Ds(e.type),i=uc(e.type);if(!t)return;this.setPointersPositions(e);const r=this[i+"ClickStartShape"],o=this[i+"ClickEndShape"],l={};let c=!1;this._changedPointerPositions.forEach(u=>{const h=M1(u.id)||this.getIntersection(u);if(h){if(h.releaseCapture(u.id),l[h._id])return;l[h._id]=!0}const f=u.id,p={evt:e,pointerId:f};let m=!1;qe["_"+i+"InDblClickWindow"]?(m=!0,clearTimeout(this[i+"DblTimeout"])):It.justDragged||(qe["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout(function(){qe["_"+i+"InDblClickWindow"]=!1},qe.dblClickWindow),h&&h.isListening()?(c=!0,this[i+"ClickEndShape"]=h,h._fireAndBubble(t.pointerup,{...p}),qe["_"+i+"ListenClick"]&&r&&r===h&&(h._fireAndBubble(t.pointerclick,{...p}),m&&o&&o===h&&h._fireAndBubble(t.pointerdblclick,{...p}))):(this[i+"ClickEndShape"]=null,c||(this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),c=!0),qe["_"+i+"ListenClick"]&&this._fire(t.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:f}),m&&this._fire(t.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:f}))}),c||this._fire(t.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),qe["_"+i+"ListenClick"]=!1,e.cancelable&&i!=="touch"&&i!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Rg,{evt:e}):this._fire(Rg,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const t=this.getIntersection(this.getPointerPosition());t&&t.isListening()?t._fireAndBubble(Eg,{evt:e}):this._fire(Eg,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const t=M1(e.pointerId)||this.getIntersection(this.getPointerPosition());t&&t._fireAndBubble(As,qp(e)),vc(e.pointerId)}_lostpointercapture(e){vc(e.pointerId)}setPointersPositions(e){const t=this._getContentPosition();let i=null,r=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-t.left)/t.scaleX,y:(o.clientY-t.top)/t.scaleY})})):(i=(e.clientX-t.left)/t.scaleX,r=(e.clientY-t.top)/t.scaleY,this.pointerPos={x:i,y:r},this._pointerPositions=[{x:i,y:r,id:oe._getFirstPointerId(e)}],this._changedPointerPositions=[{x:i,y:r,id:oe._getFirstPointerId(e)}])}_setPointerPosition(e){oe.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ba({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Up({pixelRatio:1,width:this.width(),height:this.height()}),!qe.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return oe.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}$d.prototype.nodeType=pL;en($d);$.addGetterSetter($d,"container");qe.isBrowser&&document.addEventListener("visibilitychange",()=>{Cc.forEach(n=>{n.batchDraw()})});const P3="hasShadow",L3="shadowRGBA",R3="patternImage",E3="linearGradient",M3="radialGradient";let A0;function k1(){return A0||(A0=oe.createCanvasElement().getContext("2d"),A0)}const bc={};function DL(n){const e=this.attrs.fillRule;e?n.fill(e):n.fill()}function TL(n){n.stroke()}function xL(n){const e=this.attrs.fillRule;e?n.fill(e):n.fill()}function wL(n){n.stroke()}function AL(){this._clearCache(P3)}function IL(){this._clearCache(L3)}function OL(){this._clearCache(R3)}function PL(){this._clearCache(E3)}function LL(){this._clearCache(M3)}class Me extends _e{constructor(e){super(e);let t,i=0;for(;t=oe.getHitColor(),!(t&&!(t in bc));)if(i++,i>=1e4){oe.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),t=oe.getRandomColor();break}this.colorKey=t,bc[t]=this}getContext(){return oe.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return oe.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(P3,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(R3,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const t=k1().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(t&&t.setTransform){const i=new oi;i.translate(this.fillPatternX(),this.fillPatternY()),i.rotate(qe.getAngle(this.fillPatternRotation())),i.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),i.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const r=i.getMatrix(),o=typeof DOMMatrix>"u"?{a:r[0],b:r[1],c:r[2],d:r[3],e:r[4],f:r[5]}:new DOMMatrix(r);t.setTransform(o)}return t}}_getLinearGradient(){return this._getCache(E3,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const t=k1(),i=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),o=t.createLinearGradient(i.x,i.y,r.x,r.y);for(let l=0;l<e.length;l+=2)o.addColorStop(e[l],e[l+1]);return o}}_getRadialGradient(){return this._getCache(M3,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const t=k1(),i=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),o=t.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius());for(let l=0;l<e.length;l+=2)o.addColorStop(e[l],e[l+1]);return o}}getShadowRGBA(){return this._getCache(L3,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=oe.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const t=this.getStage();if(!t)return!1;const i=t.bufferHitCanvas;return i.getContext().clear(),this.drawHit(i,void 0,!0),i.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return _e.prototype.destroy.call(this),delete bc[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var t;if(!((t=this.attrs.perfectDrawEnabled)!==null&&t!==void 0?t:!0))return!1;const r=e||this.hasFill(),o=this.hasStroke(),l=this.getAbsoluteOpacity()!==1;if(r&&o&&l)return!0;const c=this.hasShadow(),u=this.shadowForStrokeEnabled();return!!(r&&o&&c&&u)}setStrokeHitEnabled(e){oe.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let t=!1,i=this.getParent();for(;i;){if(i.isCached()){t=!0;break}i=i.getParent()}const r=e.skipTransform,o=e.relativeTo||t&&this.getStage()||void 0,l=this.getSelfRect(),u=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,h=l.width+u,f=l.height+u,p=!e.skipShadow&&this.hasShadow(),m=p?this.shadowOffsetX():0,S=p?this.shadowOffsetY():0,y=h+Math.abs(m),v=f+Math.abs(S),b=p&&this.shadowBlur()||0,T=y+b*2,x=v+b*2,w={width:T,height:x,x:-(u/2+b)+Math.min(m,0)+l.x,y:-(u/2+b)+Math.min(S,0)+l.y};return r?w:this._transformedRect(w,o)}drawScene(e,t,i){const r=this.getLayer(),o=e||r.getCanvas(),l=o.getContext(),c=this._getCanvasCache(),u=this.getSceneFunc(),h=this.hasShadow();let f;const p=t===this;if(!this.isVisible()&&!p)return this;if(c){l.save();const m=this.getAbsoluteTransform(t).getMatrix();return l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(l),l.restore(),this}if(!u)return this;if(l.save(),this._useBufferCanvas()){f=this.getStage();const m=i||f.bufferCanvas,S=m.getContext();i?(S.save(),S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,m.width,m.height),S.restore()):S.clear(),S.save(),S._applyLineJoin(this),S._applyMiterLimit(this);const y=this.getAbsoluteTransform(t).getMatrix();S.transform(y[0],y[1],y[2],y[3],y[4],y[5]),u.call(this,S,this),S.restore();const v=m.pixelRatio;h&&l._applyShadow(this),p||(l._applyOpacity(this),l._applyGlobalCompositeOperation(this)),l.drawImage(m._canvas,m.x||0,m.y||0,m.width/v,m.height/v)}else{if(l._applyLineJoin(this),l._applyMiterLimit(this),!p){const m=this.getAbsoluteTransform(t).getMatrix();l.transform(m[0],m[1],m[2],m[3],m[4],m[5]),l._applyOpacity(this),l._applyGlobalCompositeOperation(this)}h&&l._applyShadow(this),u.call(this,l,this)}return l.restore(),this}drawHit(e,t,i=!1){if(!this.shouldDrawHit(t,i))return this;const r=this.getLayer(),o=e||r.hitCanvas,l=o&&o.getContext(),c=this.hitFunc()||this.sceneFunc(),u=this._getCanvasCache(),h=u&&u.hit;if(this.colorKey||oe.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),h){l.save();const p=this.getAbsoluteTransform(t).getMatrix();return l.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(l),l.restore(),this}if(!c)return this;if(l.save(),l._applyLineJoin(this),l._applyMiterLimit(this),!(this===t)){const p=this.getAbsoluteTransform(t).getMatrix();l.transform(p[0],p[1],p[2],p[3],p[4],p[5])}return c.call(this,l,this),l.restore(),this}drawHitFromCache(e=0){const t=this._getCanvasCache(),i=this._getCachedSceneCanvas(),r=t.hit,o=r.getContext(),l=r.getWidth(),c=r.getHeight();o.clear(),o.drawImage(i._canvas,0,0,l,c);try{const u=o.getImageData(0,0,l,c),h=u.data,f=h.length,p=oe._hexToRgb(this.colorKey);for(let m=0;m<f;m+=4)h[m+3]>e?(h[m]=p.r,h[m+1]=p.g,h[m+2]=p.b,h[m+3]=255):h[m+3]=0;o.putImageData(u,0,0)}catch(u){oe.error("Unable to draw hit graph from cached scene canvas. "+u.message)}return this}hasPointerCapture(e){return S3(e,this)}setPointerCapture(e){y3(e,this)}releaseCapture(e){vc(e)}}Me.prototype._fillFunc=DL;Me.prototype._strokeFunc=TL;Me.prototype._fillFuncHit=xL;Me.prototype._strokeFuncHit=wL;Me.prototype._centroid=!1;Me.prototype.nodeType="Shape";en(Me);Me.prototype.eventListeners={};Me.prototype.on.call(Me.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",AL);Me.prototype.on.call(Me.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",IL);Me.prototype.on.call(Me.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",OL);Me.prototype.on.call(Me.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",PL);Me.prototype.on.call(Me.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",LL);$.addGetterSetter(Me,"stroke",void 0,p3());$.addGetterSetter(Me,"strokeWidth",2,Fe());$.addGetterSetter(Me,"fillAfterStrokeEnabled",!1);$.addGetterSetter(Me,"hitStrokeWidth","auto",Np());$.addGetterSetter(Me,"strokeHitEnabled",!0,Vi());$.addGetterSetter(Me,"perfectDrawEnabled",!0,Vi());$.addGetterSetter(Me,"shadowForStrokeEnabled",!0,Vi());$.addGetterSetter(Me,"lineJoin");$.addGetterSetter(Me,"lineCap");$.addGetterSetter(Me,"miterLimit");$.addGetterSetter(Me,"sceneFunc");$.addGetterSetter(Me,"hitFunc");$.addGetterSetter(Me,"dash");$.addGetterSetter(Me,"dashOffset",0,Fe());$.addGetterSetter(Me,"shadowColor",void 0,wo());$.addGetterSetter(Me,"shadowBlur",0,Fe());$.addGetterSetter(Me,"shadowOpacity",1,Fe());$.addComponentsGetterSetter(Me,"shadowOffset",["x","y"]);$.addGetterSetter(Me,"shadowOffsetX",0,Fe());$.addGetterSetter(Me,"shadowOffsetY",0,Fe());$.addGetterSetter(Me,"fillPatternImage");$.addGetterSetter(Me,"fill",void 0,p3());$.addGetterSetter(Me,"fillPatternX",0,Fe());$.addGetterSetter(Me,"fillPatternY",0,Fe());$.addGetterSetter(Me,"fillLinearGradientColorStops");$.addGetterSetter(Me,"strokeLinearGradientColorStops");$.addGetterSetter(Me,"fillRadialGradientStartRadius",0);$.addGetterSetter(Me,"fillRadialGradientEndRadius",0);$.addGetterSetter(Me,"fillRadialGradientColorStops");$.addGetterSetter(Me,"fillPatternRepeat","repeat");$.addGetterSetter(Me,"fillEnabled",!0);$.addGetterSetter(Me,"strokeEnabled",!0);$.addGetterSetter(Me,"shadowEnabled",!0);$.addGetterSetter(Me,"dashEnabled",!0);$.addGetterSetter(Me,"strokeScaleEnabled",!0);$.addGetterSetter(Me,"fillPriority","color");$.addComponentsGetterSetter(Me,"fillPatternOffset",["x","y"]);$.addGetterSetter(Me,"fillPatternOffsetX",0,Fe());$.addGetterSetter(Me,"fillPatternOffsetY",0,Fe());$.addComponentsGetterSetter(Me,"fillPatternScale",["x","y"]);$.addGetterSetter(Me,"fillPatternScaleX",1,Fe());$.addGetterSetter(Me,"fillPatternScaleY",1,Fe());$.addComponentsGetterSetter(Me,"fillLinearGradientStartPoint",["x","y"]);$.addComponentsGetterSetter(Me,"strokeLinearGradientStartPoint",["x","y"]);$.addGetterSetter(Me,"fillLinearGradientStartPointX",0);$.addGetterSetter(Me,"strokeLinearGradientStartPointX",0);$.addGetterSetter(Me,"fillLinearGradientStartPointY",0);$.addGetterSetter(Me,"strokeLinearGradientStartPointY",0);$.addComponentsGetterSetter(Me,"fillLinearGradientEndPoint",["x","y"]);$.addComponentsGetterSetter(Me,"strokeLinearGradientEndPoint",["x","y"]);$.addGetterSetter(Me,"fillLinearGradientEndPointX",0);$.addGetterSetter(Me,"strokeLinearGradientEndPointX",0);$.addGetterSetter(Me,"fillLinearGradientEndPointY",0);$.addGetterSetter(Me,"strokeLinearGradientEndPointY",0);$.addComponentsGetterSetter(Me,"fillRadialGradientStartPoint",["x","y"]);$.addGetterSetter(Me,"fillRadialGradientStartPointX",0);$.addGetterSetter(Me,"fillRadialGradientStartPointY",0);$.addComponentsGetterSetter(Me,"fillRadialGradientEndPoint",["x","y"]);$.addGetterSetter(Me,"fillRadialGradientEndPointX",0);$.addGetterSetter(Me,"fillRadialGradientEndPointY",0);$.addGetterSetter(Me,"fillPatternRotation",0);$.addGetterSetter(Me,"fillRule",void 0,wo());$.backCompat(Me,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const RL="beforeDraw",EL="draw",_3=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],ML=_3.length;class Ao extends li{constructor(e){super(e),this.canvas=new ba,this.hitCanvas=new Up({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),e<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[e+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){_e.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!_e.prototype.moveUp.call(this))return!1;const t=this.getStage();return!t||!t.content?!1:(t.content.removeChild(this.getNativeCanvasElement()),this.index<t.children.length-1?t.content.insertBefore(this.getNativeCanvasElement(),t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(_e.prototype.moveDown.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(_e.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const t=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),t[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return _e.prototype.remove.call(this),e&&e.parentNode&&oe._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:t}){return this.canvas.setSize(e,t),this.hitCanvas.setSize(e,t),this._setSmoothEnabled(),this}_validateAdd(e){const t=e.getType();t!=="Group"&&t!=="Shape"&&oe.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),_e.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){oe.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){oe.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,oe.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let t=1,i=!1;for(;;){for(let r=0;r<ML;r++){const o=_3[r],l=this._getIntersection({x:e.x+o.x*t,y:e.y+o.y*t}),c=l.shape;if(c)return c;if(i=!!l.antialiased,!l.antialiased)break}if(i)t+=1;else return null}}_getIntersection(e){const t=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(e.x*t),Math.round(e.y*t),1,1).data,r=i[3];if(r===255){const o=oe.getHitColorKey(i[0],i[1],i[2]),l=bc[o];return l?{shape:l}:{antialiased:!0}}else if(r>0)return{antialiased:!0};return{}}drawScene(e,t,i){const r=this.getLayer(),o=e||r&&r.getCanvas();return this._fire(RL,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),li.prototype.drawScene.call(this,o,t,i),this._fire(EL,{node:this}),this}drawHit(e,t){const i=this.getLayer(),r=e||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),li.prototype.drawHit.call(this,r,t),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return oe.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return oe.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Ao.prototype.nodeType="Layer";en(Ao);$.addGetterSetter(Ao,"imageSmoothingEnabled",!0);$.addGetterSetter(Ao,"clearBeforeDraw",!0);$.addGetterSetter(Ao,"hitGraphEnabled",!0,Vi());class Bp extends Ao{constructor(e){super(e),this.listening(!1),oe.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Bp.prototype.nodeType="FastLayer";en(Bp);class Fs extends li{_validateAdd(e){const t=e.getType();t!=="Group"&&t!=="Shape"&&oe.throw("You may only add groups and shapes to groups.")}}Fs.prototype.nodeType="Group";en(Fs);const F1=(function(){return po.performance&&po.performance.now?function(){return po.performance.now()}:function(){return new Date().getTime()}})();class xi{constructor(e,t){this.id=xi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:F1(),frameRate:0},this.func=e,this.setLayers(t)}setLayers(e){let t=[];return e&&(t=Array.isArray(e)?e:[e]),this.layers=t,this}getLayers(){return this.layers}addLayer(e){const t=this.layers,i=t.length;for(let r=0;r<i;r++)if(t[r]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const t=xi.animations,i=t.length;for(let r=0;r<i;r++)if(t[r].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=F1(),xi._addAnimation(this),this}stop(){return xi._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const t=e.id,i=this.animations,r=i.length;for(let o=0;o<r;o++)if(i[o].id===t){this.animations.splice(o,1);break}}static _runFrames(){const e={},t=this.animations;for(let i=0;i<t.length;i++){const r=t[i],o=r.layers,l=r.func;r._updateFrameObject(F1());const c=o.length;let u;if(l?u=l.call(r,r.frame)!==!1:u=!0,!!u)for(let h=0;h<c;h++){const f=o[h];f._id!==void 0&&(e[f._id]=f)}}for(const i in e)e.hasOwnProperty(i)&&e[i].batchDraw()}static _animationLoop(){const e=xi;e.animations.length?(e._runFrames(),oe.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,oe.requestAnimFrame(this._animationLoop))}}xi.animations=[];xi.animIdCounter=0;xi.animRunning=!1;const _L={node:1,duration:1,easing:1,onFinish:1,yoyo:1},kL=1,B5=2,z5=3,G5=["fill","stroke","shadowColor"];let FL=0;class UL{constructor(e,t,i,r,o,l,c){this.prop=e,this.propFunc=t,this.begin=r,this._pos=r,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=c,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=o-this.begin,this.pause()}fire(e){const t=this[e];t&&t()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=B5,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=z5,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===B5?this.setTime(e):this.state===z5&&this.setTime(this.duration-e)}pause(){this.state=kL,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Vt{constructor(e){const t=this,i=e.node,r=i._id,o=e.easing||Dc.Linear,l=!!e.yoyo;let c,u;typeof e.duration>"u"?c=.3:e.duration===0?c=.001:c=e.duration,this.node=i,this._id=FL++;const h=i.getLayer()||(i instanceof qe.Stage?i.getLayers():null);h||oe.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new xi(function(){t.tween.onEnterFrame()},h),this.tween=new UL(u,function(f){t._tweenFunc(f)},o,0,1,c*1e3,l),this._addListeners(),Vt.attrs[r]||(Vt.attrs[r]={}),Vt.attrs[r][this._id]||(Vt.attrs[r][this._id]={}),Vt.tweens[r]||(Vt.tweens[r]={});for(u in e)_L[u]===void 0&&this._addAttr(u,e[u]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,t){const i=this.node,r=i._id;let o,l,c,u,h;const f=Vt.tweens[r][e];f&&delete Vt.attrs[r][f][e];let p=i.getAttr(e);if(oe._isArray(t))if(o=[],l=Math.max(t.length,p.length),e==="points"&&t.length!==p.length&&(t.length>p.length?(u=p,p=oe._prepareArrayForTween(p,t,i.closed())):(c=t,t=oe._prepareArrayForTween(t,p,i.closed()))),e.indexOf("fill")===0)for(let m=0;m<l;m++)if(m%2===0)o.push(t[m]-p[m]);else{const S=oe.colorToRGBA(p[m]);h=oe.colorToRGBA(t[m]),p[m]=S,o.push({r:h.r-S.r,g:h.g-S.g,b:h.b-S.b,a:h.a-S.a})}else for(let m=0;m<l;m++)o.push(t[m]-p[m]);else G5.indexOf(e)!==-1?(p=oe.colorToRGBA(p),h=oe.colorToRGBA(t),o={r:h.r-p.r,g:h.g-p.g,b:h.b-p.b,a:h.a-p.a}):o=t-p;Vt.attrs[r][this._id][e]={start:p,diff:o,end:t,trueEnd:c,trueStart:u},Vt.tweens[r][e]=this._id}_tweenFunc(e){const t=this.node,i=Vt.attrs[t._id][this._id];let r,o,l,c,u,h,f,p;for(r in i){if(o=i[r],l=o.start,c=o.diff,p=o.end,oe._isArray(l))if(u=[],f=Math.max(l.length,p.length),r.indexOf("fill")===0)for(h=0;h<f;h++)h%2===0?u.push((l[h]||0)+c[h]*e):u.push("rgba("+Math.round(l[h].r+c[h].r*e)+","+Math.round(l[h].g+c[h].g*e)+","+Math.round(l[h].b+c[h].b*e)+","+(l[h].a+c[h].a*e)+")");else for(h=0;h<f;h++)u.push((l[h]||0)+c[h]*e);else G5.indexOf(r)!==-1?u="rgba("+Math.round(l.r+c.r*e)+","+Math.round(l.g+c.g*e)+","+Math.round(l.b+c.b*e)+","+(l.a+c.a*e)+")":u=l+c*e;t.setAttr(r,u)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,t=Vt.attrs[e._id][this._id];t.points&&t.points.trueEnd&&e.setAttr("points",t.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,t=Vt.attrs[e._id][this._id];t.points&&t.points.trueStart&&e.points(t.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,t=this._id,i=Vt.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const r in i)delete Vt.tweens[e][r];delete Vt.attrs[e][t],Vt.tweens[e]&&(Object.keys(Vt.tweens[e]).length===0&&delete Vt.tweens[e],Object.keys(Vt.attrs[e]).length===0&&delete Vt.attrs[e])}}Vt.attrs={};Vt.tweens={};_e.prototype.to=function(n){const e=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),e&&e()},new Vt(n).play()};const Dc={BackEaseIn(n,e,t,i){return t*(n/=i)*n*((1.70158+1)*n-1.70158)+e},BackEaseOut(n,e,t,i){return t*((n=n/i-1)*n*((1.70158+1)*n+1.70158)+1)+e},BackEaseInOut(n,e,t,i){let r=1.70158;return(n/=i/2)<1?t/2*(n*n*(((r*=1.525)+1)*n-r))+e:t/2*((n-=2)*n*(((r*=1.525)+1)*n+r)+2)+e},ElasticEaseIn(n,e,t,i,r,o){let l=0;return n===0?e:(n/=i)===1?e+t:(o||(o=i*.3),!r||r<Math.abs(t)?(r=t,l=o/4):l=o/(2*Math.PI)*Math.asin(t/r),-(r*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+e)},ElasticEaseOut(n,e,t,i,r,o){let l=0;return n===0?e:(n/=i)===1?e+t:(o||(o=i*.3),!r||r<Math.abs(t)?(r=t,l=o/4):l=o/(2*Math.PI)*Math.asin(t/r),r*Math.pow(2,-10*n)*Math.sin((n*i-l)*(2*Math.PI)/o)+t+e)},ElasticEaseInOut(n,e,t,i,r,o){let l=0;return n===0?e:(n/=i/2)===2?e+t:(o||(o=i*(.3*1.5)),!r||r<Math.abs(t)?(r=t,l=o/4):l=o/(2*Math.PI)*Math.asin(t/r),n<1?-.5*(r*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+e:r*Math.pow(2,-10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o)*.5+t+e)},BounceEaseOut(n,e,t,i){return(n/=i)<1/2.75?t*(7.5625*n*n)+e:n<2/2.75?t*(7.5625*(n-=1.5/2.75)*n+.75)+e:n<2.5/2.75?t*(7.5625*(n-=2.25/2.75)*n+.9375)+e:t*(7.5625*(n-=2.625/2.75)*n+.984375)+e},BounceEaseIn(n,e,t,i){return t-Dc.BounceEaseOut(i-n,0,t,i)+e},BounceEaseInOut(n,e,t,i){return n<i/2?Dc.BounceEaseIn(n*2,0,t,i)*.5+e:Dc.BounceEaseOut(n*2-i,0,t,i)*.5+t*.5+e},EaseIn(n,e,t,i){return t*(n/=i)*n+e},EaseOut(n,e,t,i){return-t*(n/=i)*(n-2)+e},EaseInOut(n,e,t,i){return(n/=i/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e},StrongEaseIn(n,e,t,i){return t*(n/=i)*n*n*n*n+e},StrongEaseOut(n,e,t,i){return t*((n=n/i-1)*n*n*n*n+1)+e},StrongEaseInOut(n,e,t,i){return(n/=i/2)<1?t/2*n*n*n*n*n+e:t/2*((n-=2)*n*n*n*n+2)+e},Linear(n,e,t,i){return t*n/i+e}},Q5=oe._assign(qe,{Util:oe,Transform:oi,Node:_e,Container:li,Stage:$d,stages:Cc,Layer:Ao,FastLayer:Bp,Group:Fs,DD:It,Shape:Me,shapes:bc,Animation:xi,Tween:Vt,Easings:Dc,Context:Xd,Canvas:Fp});class Gr extends Me{_sceneFunc(e){const t=qe.getAngle(this.angle()),i=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,t,i),e.arc(0,0,this.innerRadius(),t,0,!i),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),t=this.outerRadius(),i=this.clockwise(),r=qe.getAngle(i?360-this.angle():this.angle()),o=Math.cos(Math.min(r,Math.PI)),l=1,c=Math.sin(Math.min(Math.max(Math.PI,r),3*Math.PI/2)),u=Math.sin(Math.min(r,Math.PI/2)),h=o*(o>0?e:t),f=l*t,p=c*(c>0?e:t),m=u*(u>0?t:e);return{x:h,y:i?-1*m:p,width:f-h,height:m-p}}}Gr.prototype._centroid=!0;Gr.prototype.className="Arc";Gr.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];en(Gr);$.addGetterSetter(Gr,"innerRadius",0,Fe());$.addGetterSetter(Gr,"outerRadius",0,Fe());$.addGetterSetter(Gr,"angle",0,Fe());$.addGetterSetter(Gr,"clockwise",!1,Vi());function Mg(n,e,t,i,r,o,l){const c=Math.sqrt(Math.pow(t-n,2)+Math.pow(i-e,2)),u=Math.sqrt(Math.pow(r-t,2)+Math.pow(o-i,2)),h=l*c/(c+u),f=l*u/(c+u),p=t-h*(r-n),m=i-h*(o-e),S=t+f*(r-n),y=i+f*(o-e);return[p,m,S,y]}function V5(n,e){const t=n.length,i=[];for(let r=2;r<t-2;r+=2){const o=Mg(n[r-2],n[r-1],n[r],n[r+1],n[r+2],n[r+3],e);isNaN(o[0])||(i.push(o[0]),i.push(o[1]),i.push(n[r]),i.push(n[r+1]),i.push(o[2]),i.push(o[3]))}return i}function NL(n){const e=[[n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]]],t=[];for(const i of e){const r=-3*i[0]+9*i[1]-9*i[2]+3*i[3];if(r!==0){const o=6*i[0]-12*i[1]+6*i[2],l=-3*i[0]+3*i[1],c=o*o-4*r*l;if(c>=0){const u=Math.sqrt(c);t.push((-o+u)/(2*r)),t.push((-o-u)/(2*r))}}}return t.filter(i=>i>0&&i<1).flatMap(i=>e.map(r=>{const o=1-i;return o*o*o*r[0]+3*o*o*i*r[1]+3*o*i*i*r[2]+i*i*i*r[3]}))}class Qr extends Me{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const t=this.points(),i=t.length,r=this.tension(),o=this.closed(),l=this.bezier();if(!i)return;let c=0;if(e.beginPath(),e.moveTo(t[0],t[1]),r!==0&&i>4){const u=this.getTensionPoints(),h=u.length;for(c=o?0:4,o||e.quadraticCurveTo(u[0],u[1],u[2],u[3]);c<h-2;)e.bezierCurveTo(u[c++],u[c++],u[c++],u[c++],u[c++],u[c++]);o||e.quadraticCurveTo(u[h-2],u[h-1],t[i-2],t[i-1])}else if(l)for(c=2;c<i;)e.bezierCurveTo(t[c++],t[c++],t[c++],t[c++],t[c++],t[c++]);else for(c=2;c<i;c+=2)e.lineTo(t[c],t[c+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():V5(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),t=e.length,i=this.tension(),r=Mg(e[t-2],e[t-1],e[0],e[1],e[2],e[3],i),o=Mg(e[t-4],e[t-3],e[t-2],e[t-1],e[0],e[1],i),l=V5(e,i);return[r[2],r[3]].concat(l).concat([o[0],o[1],e[t-2],e[t-1],o[2],o[3],r[0],r[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:this.bezier()?e=[e[0],e[1],...NL(this.points()),e[e.length-2],e[e.length-1]]:e=this.points();let t=e[0],i=e[0],r=e[1],o=e[1],l,c;for(let u=0;u<e.length/2;u++)l=e[u*2],c=e[u*2+1],t=Math.min(t,l),i=Math.max(i,l),r=Math.min(r,c),o=Math.max(o,c);return{x:t,y:r,width:i-t,height:o-r}}}Qr.prototype.className="Line";Qr.prototype._attrsAffectingSize=["points","bezier","tension"];en(Qr);$.addGetterSetter(Qr,"closed",!1);$.addGetterSetter(Qr,"bezier",!1);$.addGetterSetter(Qr,"tension",0,Fe());$.addGetterSetter(Qr,"points",[],eL());const qL=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],BL=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],zL=[[1],[1,1],[1,2,1],[1,3,3,1]],H5=(n,e,t)=>{let i,r;const l=t/2;i=0;for(let c=0;c<20;c++)r=l*qL[20][c]+l,i+=BL[20][c]*GL(n,e,r);return l*i},j5=(n,e,t)=>{t===void 0&&(t=1);const i=n[0]-2*n[1]+n[2],r=e[0]-2*e[1]+e[2],o=2*n[1]-2*n[0],l=2*e[1]-2*e[0],c=4*(i*i+r*r),u=4*(i*o+r*l),h=o*o+l*l;if(c===0)return t*Math.sqrt(Math.pow(n[2]-n[0],2)+Math.pow(e[2]-e[0],2));const f=u/(2*c),p=h/c,m=t+f,S=p-f*f,y=m*m+S>0?Math.sqrt(m*m+S):0,v=f*f+S>0?Math.sqrt(f*f+S):0,b=f+Math.sqrt(f*f+S)!==0?S*Math.log(Math.abs((m+y)/(f+v))):0;return Math.sqrt(c)/2*(m*y-f*v+b)};function GL(n,e,t){const i=_g(1,t,n),r=_g(1,t,e),o=i*i+r*r;return Math.sqrt(o)}const _g=(n,e,t)=>{const i=t.length-1;let r,o;if(i===0)return 0;if(n===0){o=0;for(let l=0;l<=i;l++)o+=zL[i][l]*Math.pow(1-e,i-l)*Math.pow(e,l)*t[l];return o}else{r=new Array(i);for(let l=0;l<i;l++)r[l]=i*(t[l+1]-t[l]);return _g(n-1,e,r)}},Y5=(n,e,t)=>{let i=1,r=n/e,o=(n-t(r))/e,l=0;for(;i>.001;){const c=t(r+o),u=Math.abs(n-c)/e;if(u<i)i=u,r+=o;else{const h=t(r-o),f=Math.abs(n-h)/e;f<i?(i=f,r-=o):o/=2}if(l++,l>500)break}return r};class Ht extends Me{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ht.parsePathData(this.data()),this.pathLength=Ht.getPathLength(this.dataArray)}_sceneFunc(e){const t=this.dataArray;e.beginPath();let i=!1;for(let r=0;r<t.length;r++){const o=t[r].command,l=t[r].points;switch(o){case"L":e.lineTo(l[0],l[1]);break;case"M":e.moveTo(l[0],l[1]);break;case"C":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":e.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":const c=l[0],u=l[1],h=l[2],f=l[3],p=l[4],m=l[5],S=l[6],y=l[7],v=h>f?h:f,b=h>f?1:h/f,T=h>f?f/h:1;e.translate(c,u),e.rotate(S),e.scale(b,T),e.arc(0,0,v,p,p+m,1-y),e.scale(1/b,1/T),e.rotate(-S),e.translate(-c,-u);break;case"z":i=!0,e.closePath();break}}!i&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(u){if(u.command==="A"){const h=u.points[4],f=u.points[5],p=u.points[4]+f;let m=Math.PI/180;if(Math.abs(h-p)<m&&(m=Math.abs(h-p)),f<0)for(let S=h-m;S>p;S-=m){const y=Ht.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],S,0);e.push(y.x,y.y)}else for(let S=h+m;S<p;S+=m){const y=Ht.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],S,0);e.push(y.x,y.y)}}else if(u.command==="C")for(let h=0;h<=1;h+=.01){const f=Ht.getPointOnCubicBezier(h,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(f.x,f.y)}else e=e.concat(u.points)});let t=e[0],i=e[0],r=e[1],o=e[1],l,c;for(let u=0;u<e.length/2;u++)l=e[u*2],c=e[u*2+1],isNaN(l)||(t=Math.min(t,l),i=Math.max(i,l)),isNaN(c)||(r=Math.min(r,c),o=Math.max(o,c));return{x:t,y:r,width:i-t,height:o-r}}getLength(){return this.pathLength}getPointAtLength(e){return Ht.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))}static getPathLength(e){let t=0;for(let i=0;i<e.length;++i)t+=e[i].pathLength;return t}static getPointAtLengthOfDataArray(e,t){let i,r=0,o=t.length;if(!o)return null;for(;r<o&&e>t[r].pathLength;)e-=t[r].pathLength,++r;if(r===o)return i=t[r-1].points.slice(-2),{x:i[0],y:i[1]};if(e<.01)return t[r].command==="M"?(i=t[r].points.slice(0,2),{x:i[0],y:i[1]}):{x:t[r].start.x,y:t[r].start.y};const l=t[r],c=l.points;switch(l.command){case"L":return Ht.getPointOnLine(e,l.start.x,l.start.y,c[0],c[1]);case"C":return Ht.getPointOnCubicBezier(Y5(e,Ht.getPathLength(t),v=>H5([l.start.x,c[0],c[2],c[4]],[l.start.y,c[1],c[3],c[5]],v)),l.start.x,l.start.y,c[0],c[1],c[2],c[3],c[4],c[5]);case"Q":return Ht.getPointOnQuadraticBezier(Y5(e,Ht.getPathLength(t),v=>j5([l.start.x,c[0],c[2]],[l.start.y,c[1],c[3]],v)),l.start.x,l.start.y,c[0],c[1],c[2],c[3]);case"A":const u=c[0],h=c[1],f=c[2],p=c[3],m=c[5],S=c[6];let y=c[4];return y+=m*e/l.pathLength,Ht.getPointOnEllipticalArc(u,h,f,p,y,S)}return null}static getPointOnLine(e,t,i,r,o,l,c){l=l??t,c=c??i;const u=this.getLineLength(t,i,r,o);if(u<1e-10)return{x:t,y:i};if(r===t)return{x:l,y:c+(o>i?e:-e)};const h=(o-i)/(r-t),f=Math.sqrt(e*e/(1+h*h))*(r<t?-1:1),p=h*f;if(Math.abs(c-i-h*(l-t))<1e-10)return{x:l+f,y:c+p};const m=((l-t)*(r-t)+(c-i)*(o-i))/(u*u),S=t+m*(r-t),y=i+m*(o-i),v=this.getLineLength(l,c,S,y),b=Math.sqrt(e*e-v*v),T=Math.sqrt(b*b/(1+h*h))*(r<t?-1:1),x=h*T;return{x:S+T,y:y+x}}static getPointOnCubicBezier(e,t,i,r,o,l,c,u,h){function f(b){return b*b*b}function p(b){return 3*b*b*(1-b)}function m(b){return 3*b*(1-b)*(1-b)}function S(b){return(1-b)*(1-b)*(1-b)}const y=u*f(e)+l*p(e)+r*m(e)+t*S(e),v=h*f(e)+c*p(e)+o*m(e)+i*S(e);return{x:y,y:v}}static getPointOnQuadraticBezier(e,t,i,r,o,l,c){function u(S){return S*S}function h(S){return 2*S*(1-S)}function f(S){return(1-S)*(1-S)}const p=l*u(e)+r*h(e)+t*f(e),m=c*u(e)+o*h(e)+i*f(e);return{x:p,y:m}}static getPointOnEllipticalArc(e,t,i,r,o,l){const c=Math.cos(l),u=Math.sin(l),h={x:i*Math.cos(o),y:r*Math.sin(o)};return{x:e+(h.x*c-h.y*u),y:t+(h.x*u+h.y*c)}}static parsePathData(e){if(!e)return[];let t=e;const i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];t=t.replace(new RegExp(" ","g"),",");for(let p=0;p<i.length;p++)t=t.replace(new RegExp(i[p],"g"),"|"+i[p]);const r=t.split("|"),o=[],l=[];let c=0,u=0;const h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let f;for(let p=1;p<r.length;p++){let m=r[p],S=m.charAt(0);for(m=m.slice(1),l.length=0;f=h.exec(m);)l.push(f[0]);let y=[],v=S==="A"||S==="a"?0:-1;for(let b=0,T=l.length;b<T;b++){const x=l[b];if(x==="00"){y.push(0,0),v>=0&&(v+=2,v>=7&&(v-=7));continue}if(v>=0){if(v===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(x)){y.push(parseInt(x[0],10)),y.push(parseInt(x[1],10)),y.push(parseFloat(x.slice(2))),v+=3,v>=7&&(v-=7);continue}if(x==="11"||x==="10"||x==="01"){y.push(parseInt(x[0],10)),y.push(parseInt(x[1],10)),v+=2,v>=7&&(v-=7);continue}if(x==="0"||x==="1"){y.push(parseInt(x,10)),v+=1,v>=7&&(v-=7);continue}}else if(v===4){if(/^[01]\d+(?:\.\d+)?$/.test(x)){y.push(parseInt(x[0],10)),y.push(parseFloat(x.slice(1))),v+=2,v>=7&&(v-=7);continue}if(x==="0"||x==="1"){y.push(parseInt(x,10)),v+=1,v>=7&&(v-=7);continue}}const w=parseFloat(x);isNaN(w)?y.push(0):y.push(w),v+=1,v>=7&&(v-=7)}else{const w=parseFloat(x);isNaN(w)?y.push(0):y.push(w)}}for(;y.length>0&&!isNaN(y[0]);){let b="",T=[];const x=c,w=u;let A,O,L,M,k,F,B,H,P,q;switch(S){case"l":c+=y.shift(),u+=y.shift(),b="L",T.push(c,u);break;case"L":c=y.shift(),u=y.shift(),T.push(c,u);break;case"m":const I=y.shift(),N=y.shift();if(c+=I,u+=N,b="M",o.length>2&&o[o.length-1].command==="z"){for(let U=o.length-2;U>=0;U--)if(o[U].command==="M"){c=o[U].points[0]+I,u=o[U].points[1]+N;break}}T.push(c,u),S="l";break;case"M":c=y.shift(),u=y.shift(),b="M",T.push(c,u),S="L";break;case"h":c+=y.shift(),b="L",T.push(c,u);break;case"H":c=y.shift(),b="L",T.push(c,u);break;case"v":u+=y.shift(),b="L",T.push(c,u);break;case"V":u=y.shift(),b="L",T.push(c,u);break;case"C":T.push(y.shift(),y.shift(),y.shift(),y.shift()),c=y.shift(),u=y.shift(),T.push(c,u);break;case"c":T.push(c+y.shift(),u+y.shift(),c+y.shift(),u+y.shift()),c+=y.shift(),u+=y.shift(),b="C",T.push(c,u);break;case"S":O=c,L=u,A=o[o.length-1],A.command==="C"&&(O=c+(c-A.points[2]),L=u+(u-A.points[3])),T.push(O,L,y.shift(),y.shift()),c=y.shift(),u=y.shift(),b="C",T.push(c,u);break;case"s":O=c,L=u,A=o[o.length-1],A.command==="C"&&(O=c+(c-A.points[2]),L=u+(u-A.points[3])),T.push(O,L,c+y.shift(),u+y.shift()),c+=y.shift(),u+=y.shift(),b="C",T.push(c,u);break;case"Q":T.push(y.shift(),y.shift()),c=y.shift(),u=y.shift(),T.push(c,u);break;case"q":T.push(c+y.shift(),u+y.shift()),c+=y.shift(),u+=y.shift(),b="Q",T.push(c,u);break;case"T":O=c,L=u,A=o[o.length-1],A.command==="Q"&&(O=c+(c-A.points[0]),L=u+(u-A.points[1])),c=y.shift(),u=y.shift(),b="Q",T.push(O,L,c,u);break;case"t":O=c,L=u,A=o[o.length-1],A.command==="Q"&&(O=c+(c-A.points[0]),L=u+(u-A.points[1])),c+=y.shift(),u+=y.shift(),b="Q",T.push(O,L,c,u);break;case"A":M=y.shift(),k=y.shift(),F=y.shift(),B=y.shift(),H=y.shift(),P=c,q=u,c=y.shift(),u=y.shift(),b="A",T=this.convertEndpointToCenterParameterization(P,q,c,u,B,H,M,k,F);break;case"a":M=y.shift(),k=y.shift(),F=y.shift(),B=y.shift(),H=y.shift(),P=c,q=u,c+=y.shift(),u+=y.shift(),b="A",T=this.convertEndpointToCenterParameterization(P,q,c,u,B,H,M,k,F);break}o.push({command:b||S,points:T,start:{x,y:w},pathLength:this.calcLength(x,w,b||S,T)})}(S==="z"||S==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,t,i,r){let o,l,c,u;const h=Ht;switch(i){case"L":return h.getLineLength(e,t,r[0],r[1]);case"C":return H5([e,r[0],r[2],r[4]],[t,r[1],r[3],r[5]],1);case"Q":return j5([e,r[0],r[2]],[t,r[1],r[3]],1);case"A":o=0;const f=r[4],p=r[5],m=r[4]+p;let S=Math.PI/180;if(Math.abs(f-m)<S&&(S=Math.abs(f-m)),l=h.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),p<0)for(u=f-S;u>m;u-=S)c=h.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),o+=h.getLineLength(l.x,l.y,c.x,c.y),l=c;else for(u=f+S;u<m;u+=S)c=h.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),o+=h.getLineLength(l.x,l.y,c.x,c.y),l=c;return c=h.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],m,0),o+=h.getLineLength(l.x,l.y,c.x,c.y),o}return 0}static convertEndpointToCenterParameterization(e,t,i,r,o,l,c,u,h){const f=h*(Math.PI/180),p=Math.cos(f)*(e-i)/2+Math.sin(f)*(t-r)/2,m=-1*Math.sin(f)*(e-i)/2+Math.cos(f)*(t-r)/2,S=p*p/(c*c)+m*m/(u*u);S>1&&(c*=Math.sqrt(S),u*=Math.sqrt(S));let y=Math.sqrt((c*c*(u*u)-c*c*(m*m)-u*u*(p*p))/(c*c*(m*m)+u*u*(p*p)));o===l&&(y*=-1),isNaN(y)&&(y=0);const v=y*c*m/u,b=y*-u*p/c,T=(e+i)/2+Math.cos(f)*v-Math.sin(f)*b,x=(t+r)/2+Math.sin(f)*v+Math.cos(f)*b,w=function(B){return Math.sqrt(B[0]*B[0]+B[1]*B[1])},A=function(B,H){return(B[0]*H[0]+B[1]*H[1])/(w(B)*w(H))},O=function(B,H){return(B[0]*H[1]<B[1]*H[0]?-1:1)*Math.acos(A(B,H))},L=O([1,0],[(p-v)/c,(m-b)/u]),M=[(p-v)/c,(m-b)/u],k=[(-1*p-v)/c,(-1*m-b)/u];let F=O(M,k);return A(M,k)<=-1&&(F=Math.PI),A(M,k)>=1&&(F=0),l===0&&F>0&&(F=F-2*Math.PI),l===1&&F<0&&(F=F+2*Math.PI),[T,x,c,u,L,F,f,l]}}Ht.prototype.className="Path";Ht.prototype._attrsAffectingSize=["data"];en(Ht);$.addGetterSetter(Ht,"data");class Io extends Qr{_sceneFunc(e){super._sceneFunc(e);const t=Math.PI*2,i=this.points();let r=i;const o=this.tension()!==0&&i.length>4;o&&(r=this.getTensionPoints());const l=this.pointerLength(),c=i.length;let u,h;if(o){const m=[r[r.length-4],r[r.length-3],r[r.length-2],r[r.length-1],i[c-2],i[c-1]],S=Ht.calcLength(r[r.length-4],r[r.length-3],"C",m),y=Ht.getPointOnQuadraticBezier(Math.min(1,1-l/S),m[0],m[1],m[2],m[3],m[4],m[5]);u=i[c-2]-y.x,h=i[c-1]-y.y}else u=i[c-2]-i[c-4],h=i[c-1]-i[c-3];const f=(Math.atan2(h,u)+t)%t,p=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(i[c-2],i[c-1]),e.rotate(f),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(i[0],i[1]),o?(u=(r[0]+r[2])/2-i[0],h=(r[1]+r[3])/2-i[1]):(u=i[2]-i[0],h=i[3]-i[1]),e.rotate((Math.atan2(-h,-u)+t)%t),e.moveTo(0,0),e.lineTo(-l,p/2),e.lineTo(-l,-p/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const t=this.dashEnabled();t&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),t&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),t=this.pointerWidth()/2;return{x:e.x,y:e.y-t,width:e.width,height:e.height+t*2}}}Io.prototype.className="Arrow";en(Io);$.addGetterSetter(Io,"pointerLength",10,Fe());$.addGetterSetter(Io,"pointerWidth",10,Fe());$.addGetterSetter(Io,"pointerAtBeginning",!1);$.addGetterSetter(Io,"pointerAtEnding",!0);class js extends Me{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}js.prototype._centroid=!0;js.prototype.className="Circle";js.prototype._attrsAffectingSize=["radius"];en(js);$.addGetterSetter(js,"radius",0,Fe());class Ra extends Me{_sceneFunc(e){const t=this.radiusX(),i=this.radiusY();e.beginPath(),e.save(),t!==i&&e.scale(1,i/t),e.arc(0,0,t,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Ra.prototype.className="Ellipse";Ra.prototype._centroid=!0;Ra.prototype._attrsAffectingSize=["radiusX","radiusY"];en(Ra);$.addComponentsGetterSetter(Ra,"radius",["x","y"]);$.addGetterSetter(Ra,"radiusX",0,Fe());$.addGetterSetter(Ra,"radiusY",0,Fe());let Hi=class k3 extends Me{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",t=>{this._removeImageLoad(t.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),t=this.hasShadow();return e&&t?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const t=this.getWidth(),i=this.getHeight(),r=this.cornerRadius(),o=this.attrs.image;let l;if(o){const c=this.attrs.cropWidth,u=this.attrs.cropHeight;c&&u?l=[o,this.cropX(),this.cropY(),c,u,0,0,t,i]:l=[o,0,0,t,i]}(this.hasFill()||this.hasStroke()||r)&&(e.beginPath(),r?oe.drawRoundedRectPath(e,t,i,r):e.rect(0,0,t,i),e.closePath(),e.fillStrokeShape(this)),o&&(r&&e.clip(),e.drawImage.apply(e,l))}_hitFunc(e){const t=this.width(),i=this.height(),r=this.cornerRadius();e.beginPath(),r?oe.drawRoundedRectPath(e,t,i,r):e.rect(0,0,t,i),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,t,i;return(i=(e=this.attrs.width)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.width)!==null&&i!==void 0?i:0}getHeight(){var e,t,i;return(i=(e=this.attrs.height)!==null&&e!==void 0?e:(t=this.image())===null||t===void 0?void 0:t.height)!==null&&i!==void 0?i:0}static fromURL(e,t,i=null){const r=oe.createImageElement();r.onload=function(){const o=new k3({image:r});t(o)},r.onerror=i,r.crossOrigin="Anonymous",r.src=e}};Hi.prototype.className="Image";Hi.prototype._attrsAffectingSize=["image"];en(Hi);$.addGetterSetter(Hi,"cornerRadius",0,Wd(4));$.addGetterSetter(Hi,"image");$.addComponentsGetterSetter(Hi,"crop",["x","y","width","height"]);$.addGetterSetter(Hi,"cropX",0,Fe());$.addGetterSetter(Hi,"cropY",0,Fe());$.addGetterSetter(Hi,"cropWidth",0,Fe());$.addGetterSetter(Hi,"cropHeight",0,Fe());const F3=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],QL="Change.konva",VL="none",kg="up",Fg="right",Ug="down",Ng="left",HL=F3.length;class zp extends Fs{constructor(e){super(e),this.on("add.konva",function(t){this._addListeners(t.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let t=this,i;const r=function(){t._sync()};for(i=0;i<HL;i++)e.on(F3[i]+QL,r)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),t=this.getTag(),i,r,o,l,c,u,h;if(e&&t){switch(i=e.width(),r=e.height(),o=t.pointerDirection(),l=t.pointerWidth(),h=t.pointerHeight(),c=0,u=0,o){case kg:c=i/2,u=-1*h;break;case Fg:c=i+l,u=r/2;break;case Ug:c=i/2,u=r+h;break;case Ng:c=-1*l,u=r/2;break}t.setAttrs({x:-1*c,y:-1*u,width:i,height:r}),e.setAttrs({x:-1*c,y:-1*u})}}}zp.prototype.className="Label";en(zp);class Oo extends Me{_sceneFunc(e){const t=this.width(),i=this.height(),r=this.pointerDirection(),o=this.pointerWidth(),l=this.pointerHeight(),c=this.cornerRadius();let u=0,h=0,f=0,p=0;typeof c=="number"?u=h=f=p=Math.min(c,t/2,i/2):(u=Math.min(c[0]||0,t/2,i/2),h=Math.min(c[1]||0,t/2,i/2),p=Math.min(c[2]||0,t/2,i/2),f=Math.min(c[3]||0,t/2,i/2)),e.beginPath(),e.moveTo(u,0),r===kg&&(e.lineTo((t-o)/2,0),e.lineTo(t/2,-1*l),e.lineTo((t+o)/2,0)),e.lineTo(t-h,0),e.arc(t-h,h,h,Math.PI*3/2,0,!1),r===Fg&&(e.lineTo(t,(i-l)/2),e.lineTo(t+o,i/2),e.lineTo(t,(i+l)/2)),e.lineTo(t,i-p),e.arc(t-p,i-p,p,0,Math.PI/2,!1),r===Ug&&(e.lineTo((t+o)/2,i),e.lineTo(t/2,i+l),e.lineTo((t-o)/2,i)),e.lineTo(f,i),e.arc(f,i-f,f,Math.PI/2,Math.PI,!1),r===Ng&&(e.lineTo(0,(i+l)/2),e.lineTo(-1*o,i/2),e.lineTo(0,(i-l)/2)),e.lineTo(0,u),e.arc(u,u,u,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,t=0,i=this.pointerWidth(),r=this.pointerHeight(),o=this.pointerDirection(),l=this.width(),c=this.height();return o===kg?(t-=r,c+=r):o===Ug?c+=r:o===Ng?(e-=i*1.5,l+=i):o===Fg&&(l+=i*1.5),{x:e,y:t,width:l,height:c}}}Oo.prototype.className="Tag";en(Oo);$.addGetterSetter(Oo,"pointerDirection",VL);$.addGetterSetter(Oo,"pointerWidth",0,Fe());$.addGetterSetter(Oo,"pointerHeight",0,Fe());$.addGetterSetter(Oo,"cornerRadius",0,Wd(4));class Hc extends Me{_sceneFunc(e){const t=this.cornerRadius(),i=this.width(),r=this.height();e.beginPath(),t?oe.drawRoundedRectPath(e,i,r,t):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}}Hc.prototype.className="Rect";en(Hc);$.addGetterSetter(Hc,"cornerRadius",0,Wd(4));class Ea extends Me{_sceneFunc(e){const t=this._getPoints(),i=this.radius(),r=this.sides(),o=this.cornerRadius();if(e.beginPath(),o)oe.drawRoundedPolygonPath(e,t,r,i,o);else{e.moveTo(t[0].x,t[0].y);for(let l=1;l<t.length;l++)e.lineTo(t[l].x,t[l].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,t=this.attrs.radius||0,i=[];for(let r=0;r<e;r++)i.push({x:t*Math.sin(r*2*Math.PI/e),y:-1*t*Math.cos(r*2*Math.PI/e)});return i}getSelfRect(){const e=this._getPoints();let t=e[0].x,i=e[0].x,r=e[0].y,o=e[0].y;return e.forEach(l=>{t=Math.min(t,l.x),i=Math.max(i,l.x),r=Math.min(r,l.y),o=Math.max(o,l.y)}),{x:t,y:r,width:i-t,height:o-r}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ea.prototype.className="RegularPolygon";Ea.prototype._centroid=!0;Ea.prototype._attrsAffectingSize=["radius"];en(Ea);$.addGetterSetter(Ea,"radius",0,Fe());$.addGetterSetter(Ea,"sides",0,Fe());$.addGetterSetter(Ea,"cornerRadius",0,Wd(4));const X5=Math.PI*2;class Po extends Me{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,X5,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),X5,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Po.prototype.className="Ring";Po.prototype._centroid=!0;Po.prototype._attrsAffectingSize=["innerRadius","outerRadius"];en(Po);$.addGetterSetter(Po,"innerRadius",0,Fe());$.addGetterSetter(Po,"outerRadius",0,Fe());class ur extends Me{constructor(e){super(e),this._updated=!0,this.anim=new xi(()=>{const t=this._updated;return this._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const t=this.animation(),i=this.frameIndex(),r=i*4,o=this.animations()[t],l=this.frameOffsets(),c=o[r+0],u=o[r+1],h=o[r+2],f=o[r+3],p=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,h,f),e.closePath(),e.fillStrokeShape(this)),p)if(l){const m=l[t],S=i*2;e.drawImage(p,c,u,h,f,m[S+0],m[S+1],h,f)}else e.drawImage(p,c,u,h,f,0,0,h,f)}_hitFunc(e){const t=this.animation(),i=this.frameIndex(),r=i*4,o=this.animations()[t],l=this.frameOffsets(),c=o[r+2],u=o[r+3];if(e.beginPath(),l){const h=l[t],f=i*2;e.rect(h[f+0],h[f+1],c,u)}else e.rect(0,0,c,u);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),t=this.animation(),i=this.animations(),r=i[t],o=r.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}}ur.prototype.className="Sprite";en(ur);$.addGetterSetter(ur,"animation");$.addGetterSetter(ur,"animations");$.addGetterSetter(ur,"frameOffsets");$.addGetterSetter(ur,"image");$.addGetterSetter(ur,"frameIndex",0,Fe());$.addGetterSetter(ur,"frameRate",17,Fe());$.backCompat(ur,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Ma extends Me{_sceneFunc(e){const t=this.innerRadius(),i=this.outerRadius(),r=this.numPoints();e.beginPath(),e.moveTo(0,0-i);for(let o=1;o<r*2;o++){const l=o%2===0?i:t,c=l*Math.sin(o*Math.PI/r),u=-1*l*Math.cos(o*Math.PI/r);e.lineTo(c,u)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ma.prototype.className="Star";Ma.prototype._centroid=!0;Ma.prototype._attrsAffectingSize=["innerRadius","outerRadius"];en(Ma);$.addGetterSetter(Ma,"numPoints",5,Fe());$.addGetterSetter(Ma,"innerRadius",0,Fe());$.addGetterSetter(Ma,"outerRadius",0,Fe());function Ca(n){return[...n].reduce((e,t,i,r)=>{if(new RegExp("\\p{Emoji}","u").test(t)){const o=r[i+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(t+o),r[i+1]=""):e.push(t)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(t+(r[i+1]||""))?e.push(t+r[i+1]):i>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(t)?e[e.length-1]+=t:t&&e.push(t);return e},[])}const Ts="auto",jL="center",U3="inherit",Wl="justify",YL="Change.konva",XL="2d",W5="-",N3="left",WL="text",$L="Text",ZL="top",KL="bottom",$5="middle",q3="normal",JL="px ",I0=" ",eR="right",Z5="rtl",tR="word",nR="char",K5="none",U1="",B3=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],iR=B3.length;function rR(n){return n.split(",").map(e=>{e=e.trim();const t=e.indexOf(" ")>=0,i=e.indexOf('"')>=0||e.indexOf("'")>=0;return t&&!i&&(e=`"${e}"`),e}).join(", ")}let O0;function N1(){return O0||(O0=oe.createCanvasElement().getContext(XL),O0)}function aR(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function oR(n){n.setAttr("miterLimit",2),n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function sR(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}class jt extends Me{constructor(e){super(sR(e)),this._partialTextX=0,this._partialTextY=0;for(let t=0;t<iR;t++)this.on(B3[t]+YL,this._setTextData);this._setTextData()}_sceneFunc(e){var t,i;const r=this.textArr,o=r.length;if(!this.text())return;let l=this.padding(),c=this.fontSize(),u=this.lineHeight()*c,h=this.verticalAlign(),f=this.direction(),p=0,m=this.align(),S=this.getWidth(),y=this.letterSpacing(),v=this.charRenderFunc(),b=this.fill(),T=this.textDecoration(),x=this.underlineOffset(),w=T.indexOf("underline")!==-1,A=T.indexOf("line-through")!==-1,O;f=f===U3?e.direction:f;let L=u/2,M=$5;if(!qe.legacyTextRendering){const k=this.measureSize("M");M="alphabetic";const F=(t=k.fontBoundingBoxAscent)!==null&&t!==void 0?t:k.actualBoundingBoxAscent,B=(i=k.fontBoundingBoxDescent)!==null&&i!==void 0?i:k.actualBoundingBoxDescent;L=(F-B)/2+u/2}for(f===Z5&&e.setAttr("direction",f),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",M),e.setAttr("textAlign",N3),h===$5?p=(this.getHeight()-o*u-l*2)/2:h===KL&&(p=this.getHeight()-o*u-l*2),e.translate(l,p+l),O=0;O<o;O++){let k=0,F=0;const B=r[O],H=B.text,P=B.width,q=B.lastInParagraph;if(e.save(),m===eR?k+=S-P-l*2:m===jL&&(k+=(S-P-l*2)/2),w){e.save(),e.beginPath();const N=x??(qe.legacyTextRendering?Math.round(c/2):Math.round(c/4)),U=k,Q=L+F+N;e.moveTo(U,Q);const X=m===Wl&&!q?S-l*2:P;e.lineTo(U+Math.round(X),Q),e.lineWidth=c/15;const V=this._getLinearGradient();e.strokeStyle=V||b,e.stroke(),e.restore()}const I=k;if(f!==Z5&&(y!==0||m===Wl||v)){const N=H.split(" ").length-1,U=Ca(H);for(let Q=0;Q<U.length;Q++){const X=U[Q];if(X===" "&&!q&&m===Wl&&(k+=(S-l*2-P)/N),this._partialTextX=k,this._partialTextY=L+F,this._partialText=X,v){e.save();const re=r.slice(0,O).reduce((z,te)=>z+Ca(te.text).length,0),_=Q+re;v({char:X,index:_,x:k,y:L+F,lineIndex:O,column:Q,isLastInLine:q,width:this.measureSize(X).width,context:e})}e.fillStrokeShape(this),v&&e.restore(),k+=this.measureSize(X).width+y}}else y!==0&&e.setAttr("letterSpacing",`${y}px`),this._partialTextX=k,this._partialTextY=L+F,this._partialText=H,e.fillStrokeShape(this);if(A){e.save(),e.beginPath();const N=qe.legacyTextRendering?0:-Math.round(c/4),U=I;e.moveTo(U,L+F+N);const Q=m===Wl&&!q?S-l*2:P;e.lineTo(U+Math.round(Q),L+F+N),e.lineWidth=c/15;const X=this._getLinearGradient();e.strokeStyle=X||b,e.stroke(),e.restore()}e.restore(),o>1&&(L+=u)}}_hitFunc(e){const t=this.getWidth(),i=this.getHeight();e.beginPath(),e.rect(0,0,t,i),e.closePath(),e.fillStrokeShape(this)}setText(e){const t=oe._isString(e)?e:e==null?"":e+"";return this._setAttr(WL,t),this}getWidth(){return this.attrs.width===Ts||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Ts||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var t,i,r,o,l,c,u,h,f,p,m;let S=N1(),y=this.fontSize(),v;S.save(),S.font=this._getContextFont(),v=S.measureText(e),S.restore();const b=y/100;return{actualBoundingBoxAscent:(t=v.actualBoundingBoxAscent)!==null&&t!==void 0?t:71.58203125*b,actualBoundingBoxDescent:(i=v.actualBoundingBoxDescent)!==null&&i!==void 0?i:0,actualBoundingBoxLeft:(r=v.actualBoundingBoxLeft)!==null&&r!==void 0?r:-7.421875*b,actualBoundingBoxRight:(o=v.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*b,alphabeticBaseline:(l=v.alphabeticBaseline)!==null&&l!==void 0?l:0,emHeightAscent:(c=v.emHeightAscent)!==null&&c!==void 0?c:100*b,emHeightDescent:(u=v.emHeightDescent)!==null&&u!==void 0?u:-20*b,fontBoundingBoxAscent:(h=v.fontBoundingBoxAscent)!==null&&h!==void 0?h:91*b,fontBoundingBoxDescent:(f=v.fontBoundingBoxDescent)!==null&&f!==void 0?f:21*b,hangingBaseline:(p=v.hangingBaseline)!==null&&p!==void 0?p:72.80000305175781*b,ideographicBaseline:(m=v.ideographicBaseline)!==null&&m!==void 0?m:-21*b,width:v.width,height:y}}_getContextFont(){return this.fontStyle()+I0+this.fontVariant()+I0+(this.fontSize()+JL)+rR(this.fontFamily())}_addTextLine(e){this.align()===Wl&&(e=e.trim());const i=this._getTextWidth(e);return this.textArr.push({text:e,width:i,lastInParagraph:!1})}_getTextWidth(e){const t=this.letterSpacing(),i=e.length;return N1().measureText(e).width+t*i}_setTextData(){let e=this.text().split(`
`),t=+this.fontSize(),i=0,r=this.lineHeight()*t,o=this.attrs.width,l=this.attrs.height,c=o!==Ts&&o!==void 0,u=l!==Ts&&l!==void 0,h=this.padding(),f=o-h*2,p=l-h*2,m=0,S=this.wrap(),y=S!==K5,v=S!==nR&&y,b=this.ellipsis();this.textArr=[],N1().font=this._getContextFont();const T=b?this._getTextWidth(U1):0;for(let x=0,w=e.length;x<w;++x){let A=e[x],O=this._getTextWidth(A);if(c&&O>f)for(;A.length>0;){let L=0,M=Ca(A).length,k="",F=0;for(;L<M;){const B=L+M>>>1,H=Ca(A),P=H.slice(0,B+1).join(""),q=this._getTextWidth(P);(b&&u&&m+r>p?q+T:q)<=f?(L=B+1,k=P,F=q):M=B}if(k){if(v){const P=Ca(A),q=Ca(k),I=P[q.length],N=I===I0||I===W5;let U;if(N&&F<=f)U=q.length;else{const Q=q.lastIndexOf(I0),X=q.lastIndexOf(W5);U=Math.max(Q,X)+1}U>0&&(L=U,k=P.slice(0,L).join(""),F=this._getTextWidth(k))}if(k=k.trimRight(),this._addTextLine(k),i=Math.max(i,F),m+=r,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(A=Ca(A).slice(L).join("").trimLeft(),A.length>0&&(O=this._getTextWidth(A),O<=f)){this._addTextLine(A),m+=r,i=Math.max(i,O);break}}else break}else this._addTextLine(A),m+=r,i=Math.max(i,O),this._shouldHandleEllipsis(m)&&x<w-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),u&&m+r>p)break}this.textHeight=t,this.textWidth=i}_shouldHandleEllipsis(e){const t=+this.fontSize(),i=this.lineHeight()*t,r=this.attrs.height,o=r!==Ts&&r!==void 0,l=this.padding(),c=r-l*2;return!(this.wrap()!==K5)||o&&e+i>c}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,t=e!==Ts&&e!==void 0,i=this.padding(),r=e-i*2,o=this.ellipsis(),l=this.textArr[this.textArr.length-1];!l||!o||(t&&(this._getTextWidth(l.text+U1)<r||(l.text=l.text.slice(0,l.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(l.text+U1))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,t=this.hasShadow();return e&&t?!0:super._useBufferCanvas()}}jt.prototype._fillFunc=aR;jt.prototype._strokeFunc=oR;jt.prototype.className=$L;jt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];en(jt);$.overWriteSetter(jt,"width",Np());$.overWriteSetter(jt,"height",Np());$.addGetterSetter(jt,"direction",U3);$.addGetterSetter(jt,"fontFamily","Arial");$.addGetterSetter(jt,"fontSize",12,Fe());$.addGetterSetter(jt,"fontStyle",q3);$.addGetterSetter(jt,"fontVariant",q3);$.addGetterSetter(jt,"padding",0,Fe());$.addGetterSetter(jt,"align",N3);$.addGetterSetter(jt,"verticalAlign",ZL);$.addGetterSetter(jt,"lineHeight",1,Fe());$.addGetterSetter(jt,"wrap",tR);$.addGetterSetter(jt,"ellipsis",!1,Vi());$.addGetterSetter(jt,"letterSpacing",0,Fe());$.addGetterSetter(jt,"text","",wo());$.addGetterSetter(jt,"textDecoration","");$.addGetterSetter(jt,"underlineOffset",void 0,Fe());$.addGetterSetter(jt,"charRenderFunc",void 0);const lR="",z3="normal";function G3(n){n.fillText(this.partialText,0,0)}function Q3(n){n.strokeText(this.partialText,0,0)}class bn extends Me{constructor(e){super(e),this.dummyCanvas=oe.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Ht.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const t=this.pathLength;return e>t?null:Ht.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Ht.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const t=this.textDecoration(),i=this.fill(),r=this.fontSize(),o=this.glyphInfo,l=t.indexOf("underline")!==-1,c=t.indexOf("line-through")!==-1;l&&e.beginPath();for(let u=0;u<o.length;u++){e.save();const h=o[u].p0;e.translate(h.x,h.y),e.rotate(o[u].rotation),this.partialText=o[u].text,e.fillStrokeShape(this),l&&(u===0&&e.moveTo(0,r/2+1),e.lineTo(o[u].width,r/2+1)),e.restore()}if(l&&(e.strokeStyle=i,e.lineWidth=r/20,e.stroke()),c){e.beginPath();for(let u=0;u<o.length;u++){e.save();const h=o[u].p0;e.translate(h.x,h.y),e.rotate(o[u].rotation),u===0&&e.moveTo(0,0),e.lineTo(o[u].width,0),e.restore()}e.strokeStyle=i,e.lineWidth=r/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const t=this.glyphInfo;if(t.length>=1){const i=t[0].p0;e.moveTo(i.x,i.y)}for(let i=0;i<t.length;i++){const r=t[i].p1;e.lineTo(r.x,r.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return oe.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return jt.prototype.setText.call(this,e)}_getContextFont(){return jt.prototype._getContextFont.call(this)}_getTextSize(e){const i=this.dummyCanvas.getContext("2d");i.save(),i.font=this._getContextFont();const r=i.measureText(e);return i.restore(),{width:r.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Ca(this.text()),t=[];let i=0;for(let p=0;p<e.length;p++)t.push({char:e[p],width:this._getTextSize(e[p]).width}),i+=t[p].width;const{height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=i,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const o=this.letterSpacing(),l=this.align(),c=this.kerningFunc(),u=Math.max(this.textWidth+((this.attrs.text||"").length-1)*o,0);let h=0;l==="center"&&(h=Math.max(0,this.pathLength/2-u/2)),l==="right"&&(h=Math.max(0,this.pathLength-u));let f=h;for(let p=0;p<t.length;p++){const m=this._getPointAtLength(f);if(!m)return;const S=t[p].char;let y=t[p].width+o;if(S===" "&&l==="justify"){const A=this.text().split(" ").length-1;y+=(this.pathLength-u)/A}const v=this._getPointAtLength(f+y);if(!v)return;const b=Ht.getLineLength(m.x,m.y,v.x,v.y);let T=0;if(c)try{T=c(t[p-1].char,S)*this.fontSize()}catch{T=0}m.x+=T,v.x+=T,this.textWidth+=T;const x=Ht.getPointOnLine(T+b/2,m.x,m.y,v.x,v.y),w=Math.atan2(v.y-m.y,v.x-m.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:e[p],rotation:w,p0:m,p1:v,width:b}),f+=y}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(h){e.push(h.p0.x),e.push(h.p0.y),e.push(h.p1.x),e.push(h.p1.y)});let t=e[0]||0,i=e[0]||0,r=e[1]||0,o=e[1]||0,l,c;for(let h=0;h<e.length/2;h++)l=e[h*2],c=e[h*2+1],t=Math.min(t,l),i=Math.max(i,l),r=Math.min(r,c),o=Math.max(o,c);const u=this.fontSize();return{x:t-u/2,y:r-u/2,width:i-t+u,height:o-r+u}}destroy(){return oe.releaseCanvas(this.dummyCanvas),super.destroy()}}bn.prototype._fillFunc=G3;bn.prototype._strokeFunc=Q3;bn.prototype._fillFuncHit=G3;bn.prototype._strokeFuncHit=Q3;bn.prototype.className="TextPath";bn.prototype._attrsAffectingSize=["text","fontSize","data"];en(bn);$.addGetterSetter(bn,"data");$.addGetterSetter(bn,"fontFamily","Arial");$.addGetterSetter(bn,"fontSize",12,Fe());$.addGetterSetter(bn,"fontStyle",z3);$.addGetterSetter(bn,"align","left");$.addGetterSetter(bn,"letterSpacing",0,Fe());$.addGetterSetter(bn,"textBaseline","middle");$.addGetterSetter(bn,"fontVariant",z3);$.addGetterSetter(bn,"text",lR);$.addGetterSetter(bn,"textDecoration","");$.addGetterSetter(bn,"kerningFunc",void 0);const V3="tr-konva",cR=["resizeEnabledChange","rotateAnchorOffsetChange","rotateAnchorAngleChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(n=>n+`.${V3}`).join(" "),J5="nodesRect",uR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],dR={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},hR="ontouchstart"in qe._global;function fR(n,e,t){if(n==="rotater")return t;e+=oe.degToRad(dR[n]||0);const i=(oe.radToDeg(e)%360+360)%360;return oe._inRange(i,315+22.5,360)||oe._inRange(i,0,22.5)?"ns-resize":oe._inRange(i,45-22.5,45+22.5)?"nesw-resize":oe._inRange(i,90-22.5,90+22.5)?"ew-resize":oe._inRange(i,135-22.5,135+22.5)?"nwse-resize":oe._inRange(i,180-22.5,180+22.5)?"ns-resize":oe._inRange(i,225-22.5,225+22.5)?"nesw-resize":oe._inRange(i,270-22.5,270+22.5)?"ew-resize":oe._inRange(i,315-22.5,315+22.5)?"nwse-resize":(oe.error("Transformer has unknown angle for cursor detection: "+i),"pointer")}const gd=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function gR(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function H3(n,e,t){const i=t.x+(n.x-t.x)*Math.cos(e)-(n.y-t.y)*Math.sin(e),r=t.y+(n.x-t.x)*Math.sin(e)+(n.y-t.y)*Math.cos(e);return{...n,rotation:n.rotation+e,x:i,y:r}}function pR(n,e){const t=gR(n);return H3(n,e,t)}function mR(n,e,t){let i=e;for(let r=0;r<n.length;r++){const o=qe.getAngle(n[r]),l=Math.abs(o-e)%(Math.PI*2);Math.min(l,Math.PI*2-l)<t&&(i=o)}return i}let qg=0;class pt extends Fs{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(cR,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return oe.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return V3+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const t=e.filter(r=>r.isAncestorOf(this)?(oe.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=t,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(r=>{const o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(r._attrsAffectingSize.length){const l=r._attrsAffectingSize.map(c=>c+"Change."+this._getEventNamespace()).join(" ");r.on(l,o)}r.on(uR.map(l=>l+`.${this._getEventNamespace()}`).join(" "),o),r.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(r)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let t;e.on(`dragstart.${this._getEventNamespace()}`,i=>{t=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(i,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!t)return;const r=e.getAbsolutePosition(),o=r.x-t.x,l=r.y-t.y;this.nodes().forEach(c=>{if(c===e||c.isDragging())return;const u=c.getAbsolutePosition();c.setAbsolutePosition({x:u.x+o,y:u.y+l}),c.startDrag(i)}),t=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(J5),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(J5,this.__getNodeRect)}__getNodeShape(e,t=this.rotation(),i){const r=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(i),l=e.getAbsolutePosition(i),c=r.x*o.x-e.offsetX()*o.x,u=r.y*o.y-e.offsetY()*o.y,h=(qe.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),f={x:l.x+c*Math.cos(h)+u*Math.sin(-h),y:l.y+u*Math.cos(h)+c*Math.sin(h),width:r.width*o.x,height:r.height*o.y,rotation:h};return H3(f,-qe.getAngle(t),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const t=[];this.nodes().map(h=>{const f=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),p=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x+f.width,y:f.y+f.height},{x:f.x,y:f.y+f.height}],m=h.getAbsoluteTransform();p.forEach(function(S){const y=m.point(S);t.push(y)})});const i=new oi;i.rotate(-qe.getAngle(this.rotation()));let r=1/0,o=1/0,l=-1/0,c=-1/0;t.forEach(function(h){const f=i.point(h);r===void 0&&(r=l=f.x,o=c=f.y),r=Math.min(r,f.x),o=Math.min(o,f.y),l=Math.max(l,f.x),c=Math.max(c,f.y)}),i.invert();const u=i.point({x:r,y:o});return{x:u.x,y:u.y,width:l-r,height:c-o,rotation:qe.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),gd.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const t=new Hc({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:hR?10:"auto"}),i=this;t.on("mousedown touchstart",function(r){i._handleMouseDown(r)}),t.on("dragstart",r=>{t.stopDrag(),r.cancelBubble=!0}),t.on("dragend",r=>{r.cancelBubble=!0}),t.on("mouseenter",()=>{const r=qe.getAngle(this.rotation()),o=this.rotateAnchorCursor(),l=fR(e,r,o);t.getStage().content&&(t.getStage().content.style.cursor=l),this._cursorChange=!0}),t.on("mouseout",()=>{t.getStage().content&&(t.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(t)}_createBack(){const e=new Me({name:"back",width:0,height:0,sceneFunc(t,i){const r=i.getParent(),o=r.padding(),l=i.width(),c=i.height();if(t.beginPath(),t.rect(-o,-o,l+o*2,c+o*2),r.rotateEnabled()&&r.rotateLineVisible()){const u=r.rotateAnchorAngle(),h=r.rotateAnchorOffset(),f=oe.degToRad(u),p=Math.sin(f),m=-Math.cos(f),S=l/2,y=c/2;let v=1/0;m<0?v=Math.min(v,-y/m):m>0&&(v=Math.min(v,(c-y)/m)),p<0?v=Math.min(v,-S/p):p>0&&(v=Math.min(v,(l-S)/p));const b=S+p*v,T=y+m*v,x=oe._sign(c),w=b+p*h*x,A=T+m*h*x;t.moveTo(b,T),t.lineTo(w,A)}t.fillStrokeShape(i)},hitFunc:(t,i)=>{if(!this.shouldOverdrawWholeArea())return;const r=this.padding();t.beginPath(),t.rect(-r,-r,i.width()+r*2,i.height()+r*2),t.fillStrokeShape(i)}});this.add(e),this._proxyDrag(e),e.on("dragstart",t=>{t.cancelBubble=!0}),e.on("dragmove",t=>{t.cancelBubble=!0}),e.on("dragend",t=>{t.cancelBubble=!0}),this.on("dragmove",t=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const t=this._getNodeRect(),i=t.width,r=t.height,o=Math.sqrt(Math.pow(i,2)+Math.pow(r,2));this.sin=Math.abs(r/o),this.cos=Math.abs(i/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const l=e.target.getAbsolutePosition(),c=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:c.x-l.x,y:c.y-l.y},qg++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(u=>{u._fire("transformstart",{evt:e.evt,target:u})})}_handleMouseMove(e){let t,i,r;const o=this.findOne("."+this._movingAnchorName),l=o.getStage();l.setPointersPositions(e);const c=l.getPointerPosition();let u={x:c.x-this._anchorDragOffset.x,y:c.y-this._anchorDragOffset.y};const h=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(u=this.anchorDragBoundFunc()(h,u,e)),o.setAbsolutePosition(u);const f=o.getAbsolutePosition();if(h.x===f.x&&h.y===f.y)return;if(this._movingAnchorName==="rotater"){const x=this._getNodeRect();t=o.x()-x.width/2,i=-o.y()+x.height/2;const w=qe.getAngle(this.rotateAnchorAngle());let A=Math.atan2(-i,t)+Math.PI/2-w;x.height<0&&(A-=Math.PI);const L=qe.getAngle(this.rotation())+A,M=qe.getAngle(this.rotationSnapTolerance()),F=mR(this.rotationSnaps(),L,M)-x.rotation,B=pR(x,F);this._fitNodesInto(B,e);return}const p=this.shiftBehavior();let m;p==="inverted"?m=this.keepRatio()&&!e.shiftKey:p==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let S=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const x=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(x.x-o.x(),2)+Math.pow(x.y-o.y(),2));const w=this.findOne(".top-left").x()>x.x?-1:1,A=this.findOne(".top-left").y()>x.y?-1:1;t=r*this.cos*w,i=r*this.sin*A,this.findOne(".top-left").x(x.x-t),this.findOne(".top-left").y(x.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(m){const x=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};r=Math.sqrt(Math.pow(o.x()-x.x,2)+Math.pow(x.y-o.y(),2));const w=this.findOne(".top-right").x()<x.x?-1:1,A=this.findOne(".top-right").y()>x.y?-1:1;t=r*this.cos*w,i=r*this.sin*A,this.findOne(".top-right").x(x.x+t),this.findOne(".top-right").y(x.y-i)}var y=o.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(m){const x=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};r=Math.sqrt(Math.pow(x.x-o.x(),2)+Math.pow(o.y()-x.y,2));const w=x.x<o.x()?-1:1,A=o.y()<x.y?-1:1;t=r*this.cos*w,i=r*this.sin*A,o.x(x.x-t),o.y(x.y+i)}y=o.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(m){const x=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};r=Math.sqrt(Math.pow(o.x()-x.x,2)+Math.pow(o.y()-x.y,2));const w=this.findOne(".bottom-right").x()<x.x?-1:1,A=this.findOne(".bottom-right").y()<x.y?-1:1;t=r*this.cos*w,i=r*this.sin*A,this.findOne(".bottom-right").x(x.x+t),this.findOne(".bottom-right").y(x.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(S=this.centeredScaling()||e.altKey,S){const x=this.findOne(".top-left"),w=this.findOne(".bottom-right"),A=x.x(),O=x.y(),L=this.getWidth()-w.x(),M=this.getHeight()-w.y();w.move({x:-A,y:-O}),x.move({x:L,y:M})}const v=this.findOne(".top-left").getAbsolutePosition();t=v.x,i=v.y;const b=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:t,y:i,width:b,height:T,rotation:qe.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var t;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const i=this.getNode();qg--,this._fire("transformend",{evt:e,target:i}),(t=this.getLayer())===null||t===void 0||t.batchDraw(),i&&this._nodes.forEach(r=>{var o;r._fire("transformend",{evt:e,target:r}),(o=r.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,t){const i=this._getNodeRect(),r=1;if(oe._inRange(e.width,-this.padding()*2-r,r)){this.update();return}if(oe._inRange(e.height,-this.padding()*2-r,r)){this.update();return}const o=new oi;if(o.rotate(qe.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=o.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=o.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(i,e);m?e=m:oe.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const l=1e7,c=new oi;c.translate(i.x,i.y),c.rotate(i.rotation),c.scale(i.width/l,i.height/l);const u=new oi,h=e.width/l,f=e.height/l;this.flipEnabled()===!1?(u.translate(e.x,e.y),u.rotate(e.rotation),u.translate(e.width<0?e.width:0,e.height<0?e.height:0),u.scale(Math.abs(h),Math.abs(f))):(u.translate(e.x,e.y),u.rotate(e.rotation),u.scale(h,f));const p=u.multiply(c.invert());this._nodes.forEach(m=>{var S;if(!m.getStage())return;const y=m.getParent().getAbsoluteTransform(),v=m.getTransform().copy();v.translate(m.offsetX(),m.offsetY());const b=new oi;b.multiply(y.copy().invert()).multiply(p).multiply(y).multiply(v);const T=b.decompose();m.setAttrs(T),(S=m.getLayer())===null||S===void 0||S.batchDraw()}),this.rotation(oe._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:t,target:m}),m._fire("transform",{evt:t,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,t){this.findOne(e).setAttrs(t)}update(){var e;const t=this._getNodeRect();this.rotation(oe._getRotation(t.rotation));const i=t.width,r=t.height,o=this.enabledAnchors(),l=this.resizeEnabled(),c=this.padding(),u=this.anchorSize(),h=this.find("._anchor");h.forEach(L=>{L.setAttrs({width:u,height:u,offsetX:u/2,offsetY:u/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:u/2+c,offsetY:u/2+c,visible:l&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:u/2+c,visible:l&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:u/2-c,offsetY:u/2+c,visible:l&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:u/2+c,visible:l&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:r/2,offsetX:u/2-c,visible:l&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:u/2+c,offsetY:u/2-c,visible:l&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:r,offsetY:u/2-c,visible:l&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:r,offsetX:u/2-c,offsetY:u/2-c,visible:l&&o.indexOf("bottom-right")>=0});const f=this.rotateAnchorAngle(),p=this.rotateAnchorOffset(),m=oe.degToRad(f),S=Math.sin(m),y=-Math.cos(m),v=i/2,b=r/2;let T=1/0;y<0?T=Math.min(T,-b/y):y>0&&(T=Math.min(T,(r-b)/y)),S<0?T=Math.min(T,-v/S):S>0&&(T=Math.min(T,(i-v)/S));const x=v+S*T,w=b+y*T,A=oe._sign(r);this._batchChangeChild(".rotater",{x:x+S*p*A,y:w+y*p*A-c*y,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(L=>L.draggable()),x:0,y:0});const O=this.anchorStyleFunc();O&&h.forEach(L=>{O(L)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Fs.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return _e.prototype.toObject.call(this)}clone(e){return _e.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}pt.isTransforming=()=>qg>0;function SR(n){return n instanceof Array||oe.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(e){gd.indexOf(e)===-1&&oe.warn("Unknown anchor name: "+e+". Available names are: "+gd.join(", "))}),n||[]}pt.prototype.className="Transformer";en(pt);$.addGetterSetter(pt,"enabledAnchors",gd,SR);$.addGetterSetter(pt,"flipEnabled",!0,Vi());$.addGetterSetter(pt,"resizeEnabled",!0);$.addGetterSetter(pt,"anchorSize",10,Fe());$.addGetterSetter(pt,"rotateEnabled",!0);$.addGetterSetter(pt,"rotateLineVisible",!0);$.addGetterSetter(pt,"rotationSnaps",[]);$.addGetterSetter(pt,"rotateAnchorOffset",50,Fe());$.addGetterSetter(pt,"rotateAnchorAngle",0,Fe());$.addGetterSetter(pt,"rotateAnchorCursor","crosshair");$.addGetterSetter(pt,"rotationSnapTolerance",5,Fe());$.addGetterSetter(pt,"borderEnabled",!0);$.addGetterSetter(pt,"anchorStroke","rgb(0, 161, 255)");$.addGetterSetter(pt,"anchorStrokeWidth",1,Fe());$.addGetterSetter(pt,"anchorFill","white");$.addGetterSetter(pt,"anchorCornerRadius",0,Fe());$.addGetterSetter(pt,"borderStroke","rgb(0, 161, 255)");$.addGetterSetter(pt,"borderStrokeWidth",1,Fe());$.addGetterSetter(pt,"borderDash");$.addGetterSetter(pt,"keepRatio",!0);$.addGetterSetter(pt,"shiftBehavior","default");$.addGetterSetter(pt,"centeredScaling",!1);$.addGetterSetter(pt,"ignoreStroke",!1);$.addGetterSetter(pt,"padding",0,Fe());$.addGetterSetter(pt,"nodes");$.addGetterSetter(pt,"node");$.addGetterSetter(pt,"boundBoxFunc");$.addGetterSetter(pt,"anchorDragBoundFunc");$.addGetterSetter(pt,"anchorStyleFunc");$.addGetterSetter(pt,"shouldOverdrawWholeArea",!1);$.addGetterSetter(pt,"useSingleNodeRotation",!0);$.backCompat(pt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Vr extends Me{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,qe.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Vr.prototype.className="Wedge";Vr.prototype._centroid=!0;Vr.prototype._attrsAffectingSize=["radius"];en(Vr);$.addGetterSetter(Vr,"radius",0,Fe());$.addGetterSetter(Vr,"angle",0,Fe());$.addGetterSetter(Vr,"clockwise",!1);$.backCompat(Vr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function eC(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const yR=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],vR=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function CR(n,e){const t=n.data,i=n.width,r=n.height;let o,l,c,u,h,f,p,m,S,y,v,b,T,x,w,A,O,L,M,k;const F=e+e+1,B=i-1,H=r-1,P=e+1,q=P*(P+1)/2,I=new eC,N=yR[e],U=vR[e];let Q=null,X=I,V=null,re=null;for(let _=1;_<F;_++)X=X.next=new eC,_===P&&(Q=X);X.next=I,c=l=0;for(let _=0;_<r;_++){b=T=x=w=u=h=f=p=0,m=P*(A=t[l]),S=P*(O=t[l+1]),y=P*(L=t[l+2]),v=P*(M=t[l+3]),u+=q*A,h+=q*O,f+=q*L,p+=q*M,X=I;for(let z=0;z<P;z++)X.r=A,X.g=O,X.b=L,X.a=M,X=X.next;for(let z=1;z<P;z++)o=l+((B<z?B:z)<<2),u+=(X.r=A=t[o])*(k=P-z),h+=(X.g=O=t[o+1])*k,f+=(X.b=L=t[o+2])*k,p+=(X.a=M=t[o+3])*k,b+=A,T+=O,x+=L,w+=M,X=X.next;V=I,re=Q;for(let z=0;z<i;z++)t[l+3]=M=p*N>>U,M!==0?(M=255/M,t[l]=(u*N>>U)*M,t[l+1]=(h*N>>U)*M,t[l+2]=(f*N>>U)*M):t[l]=t[l+1]=t[l+2]=0,u-=m,h-=S,f-=y,p-=v,m-=V.r,S-=V.g,y-=V.b,v-=V.a,o=c+((o=z+e+1)<B?o:B)<<2,b+=V.r=t[o],T+=V.g=t[o+1],x+=V.b=t[o+2],w+=V.a=t[o+3],u+=b,h+=T,f+=x,p+=w,V=V.next,m+=A=re.r,S+=O=re.g,y+=L=re.b,v+=M=re.a,b-=A,T-=O,x-=L,w-=M,re=re.next,l+=4;c+=i}for(let _=0;_<i;_++){T=x=w=b=h=f=p=u=0,l=_<<2,m=P*(A=t[l]),S=P*(O=t[l+1]),y=P*(L=t[l+2]),v=P*(M=t[l+3]),u+=q*A,h+=q*O,f+=q*L,p+=q*M,X=I;for(let te=0;te<P;te++)X.r=A,X.g=O,X.b=L,X.a=M,X=X.next;let z=i;for(let te=1;te<=e;te++)l=z+_<<2,u+=(X.r=A=t[l])*(k=P-te),h+=(X.g=O=t[l+1])*k,f+=(X.b=L=t[l+2])*k,p+=(X.a=M=t[l+3])*k,b+=A,T+=O,x+=L,w+=M,X=X.next,te<H&&(z+=i);l=_,V=I,re=Q;for(let te=0;te<r;te++)o=l<<2,t[o+3]=M=p*N>>U,M>0?(M=255/M,t[o]=(u*N>>U)*M,t[o+1]=(h*N>>U)*M,t[o+2]=(f*N>>U)*M):t[o]=t[o+1]=t[o+2]=0,u-=m,h-=S,f-=y,p-=v,m-=V.r,S-=V.g,y-=V.b,v-=V.a,o=_+((o=te+P)<H?o:H)*i<<2,u+=b+=V.r=t[o],h+=T+=V.g=t[o+1],f+=x+=V.b=t[o+2],p+=w+=V.a=t[o+3],V=V.next,m+=A=re.r,S+=O=re.g,y+=L=re.b,v+=M=re.a,b-=A,T-=O,x-=L,w-=M,re=re.next,l+=i}}const bR=function(e){const t=Math.round(this.blurRadius());t>0&&CR(e,t)};$.addGetterSetter(_e,"blurRadius",0,Fe(),$.afterSetFilter);const DR=function(n){const e=this.brightness()*255,t=n.data,i=t.length;for(let r=0;r<i;r+=4)t[r]+=e,t[r+1]+=e,t[r+2]+=e};$.addGetterSetter(_e,"brightness",0,Fe(),$.afterSetFilter);const TR=function(n){const e=this.brightness(),t=n.data,i=t.length;for(let r=0;r<i;r+=4)t[r]=Math.min(255,t[r]*e),t[r+1]=Math.min(255,t[r+1]*e),t[r+2]=Math.min(255,t[r+2]*e)},xR=function(n){const e=Math.pow((this.contrast()+100)/100,2),t=n.data,i=t.length;let r=150,o=150,l=150;for(let c=0;c<i;c+=4)r=t[c],o=t[c+1],l=t[c+2],r/=255,r-=.5,r*=e,r+=.5,r*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,l/=255,l-=.5,l*=e,l+=.5,l*=255,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,l=l<0?0:l>255?255:l,t[c]=r,t[c+1]=o,t[c+2]=l};$.addGetterSetter(_e,"contrast",0,Fe(),$.afterSetFilter);const wR=function(n){var e,t,i,r,o,l,c,u,h;const f=n.data,p=n.width,m=n.height,S=Math.min(1,Math.max(0,(t=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&t!==void 0?t:.5)),y=Math.min(1,Math.max(0,(r=(i=this.embossWhiteLevel)===null||i===void 0?void 0:i.call(this))!==null&&r!==void 0?r:.5)),b=(c={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(l=(o=this.embossDirection)===null||o===void 0?void 0:o.call(this))!==null&&l!==void 0?l:"top-left"])!==null&&c!==void 0?c:315,T=!!((h=(u=this.embossBlend)===null||u===void 0?void 0:u.call(this))!==null&&h!==void 0&&h),x=S*10,w=y*255,A=b*Math.PI/180,O=Math.cos(A),L=Math.sin(A),M=128/1020*x,k=new Uint8ClampedArray(f),F=new Float32Array(p*m);for(let I=0,N=0;N<f.length;N+=4,I++)F[I]=.2126*k[N]+.7152*k[N+1]+.0722*k[N+2];const B=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],P=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1],q=I=>I<0?0:I>255?255:I;for(let I=1;I<m-1;I++)for(let N=1;N<p-1;N++){const U=I*p+N;let Q=0,X=0;Q+=F[U+P[0]]*B[0],X+=F[U+P[0]]*H[0],Q+=F[U+P[1]]*B[1],X+=F[U+P[1]]*H[1],Q+=F[U+P[2]]*B[2],X+=F[U+P[2]]*H[2],Q+=F[U+P[3]]*B[3],X+=F[U+P[3]]*H[3],Q+=F[U+P[5]]*B[5],X+=F[U+P[5]]*H[5],Q+=F[U+P[6]]*B[6],X+=F[U+P[6]]*H[6],Q+=F[U+P[7]]*B[7],X+=F[U+P[7]]*H[7],Q+=F[U+P[8]]*B[8],X+=F[U+P[8]]*H[8];const V=O*Q+L*X,re=q(w+V*M),_=U*4;if(T){const z=re-w;f[_]=q(k[_]+z),f[_+1]=q(k[_+1]+z),f[_+2]=q(k[_+2]+z),f[_+3]=k[_+3]}else f[_]=f[_+1]=f[_+2]=re,f[_+3]=k[_+3]}for(let I=0;I<p;I++){let N=I*4,U=((m-1)*p+I)*4;f[N]=k[N],f[N+1]=k[N+1],f[N+2]=k[N+2],f[N+3]=k[N+3],f[U]=k[U],f[U+1]=k[U+1],f[U+2]=k[U+2],f[U+3]=k[U+3]}for(let I=1;I<m-1;I++){let N=I*p*4,U=(I*p+(p-1))*4;f[N]=k[N],f[N+1]=k[N+1],f[N+2]=k[N+2],f[N+3]=k[N+3],f[U]=k[U],f[U+1]=k[U+1],f[U+2]=k[U+2],f[U+3]=k[U+3]}return n};$.addGetterSetter(_e,"embossStrength",.5,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"embossWhiteLevel",.5,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"embossDirection","top-left",void 0,$.afterSetFilter);$.addGetterSetter(_e,"embossBlend",!1,void 0,$.afterSetFilter);function q1(n,e,t,i,r){const o=t-e,l=r-i;if(o===0)return i+l/2;if(l===0)return i;let c=(n-e)/o;return c=l*c+i,c}const AR=function(n){const e=n.data,t=e.length;let i=e[0],r=i,o,l=e[1],c=l,u,h=e[2],f=h,p;const m=this.enhance();if(m===0)return;for(let w=0;w<t;w+=4)o=e[w+0],o<i?i=o:o>r&&(r=o),u=e[w+1],u<l?l=u:u>c&&(c=u),p=e[w+2],p<h?h=p:p>f&&(f=p);r===i&&(r=255,i=0),c===l&&(c=255,l=0),f===h&&(f=255,h=0);let S,y,v,b,T,x;if(m>0)S=r+m*(255-r),y=i-m*(i-0),v=c+m*(255-c),b=l-m*(l-0),T=f+m*(255-f),x=h-m*(h-0);else{const w=(r+i)*.5;S=r+m*(r-w),y=i+m*(i-w);const A=(c+l)*.5;v=c+m*(c-A),b=l+m*(l-A);const O=(f+h)*.5;T=f+m*(f-O),x=h+m*(h-O)}for(let w=0;w<t;w+=4)e[w+0]=q1(e[w+0],i,r,y,S),e[w+1]=q1(e[w+1],l,c,b,v),e[w+2]=q1(e[w+2],h,f,x,T)};$.addGetterSetter(_e,"enhance",0,Fe(),$.afterSetFilter);const IR=function(n){const e=n.data,t=e.length;for(let i=0;i<t;i+=4){const r=.34*e[i]+.5*e[i+1]+.16*e[i+2];e[i]=r,e[i+1]=r,e[i+2]=r}};$.addGetterSetter(_e,"hue",0,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"saturation",0,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"luminance",0,Fe(),$.afterSetFilter);const OR=function(n){const e=n.data,t=e.length,i=1,r=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l=this.luminance()*127,c=i*r*Math.cos(o*Math.PI/180),u=i*r*Math.sin(o*Math.PI/180),h=.299*i+.701*c+.167*u,f=.587*i-.587*c+.33*u,p=.114*i-.114*c-.497*u,m=.299*i-.299*c-.328*u,S=.587*i+.413*c+.035*u,y=.114*i-.114*c+.293*u,v=.299*i-.3*c+1.25*u,b=.587*i-.586*c-1.05*u,T=.114*i+.886*c-.2*u;let x,w,A,O;for(let L=0;L<t;L+=4)x=e[L+0],w=e[L+1],A=e[L+2],O=e[L+3],e[L+0]=h*x+f*w+p*A+l,e[L+1]=m*x+S*w+y*A+l,e[L+2]=v*x+b*w+T*A+l,e[L+3]=O},PR=function(n){const e=n.data,t=e.length,i=Math.pow(2,this.value()),r=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l=i*r*Math.cos(o*Math.PI/180),c=i*r*Math.sin(o*Math.PI/180),u=.299*i+.701*l+.167*c,h=.587*i-.587*l+.33*c,f=.114*i-.114*l-.497*c,p=.299*i-.299*l-.328*c,m=.587*i+.413*l+.035*c,S=.114*i-.114*l+.293*c,y=.299*i-.3*l+1.25*c,v=.587*i-.586*l-1.05*c,b=.114*i+.886*l-.2*c;for(let T=0;T<t;T+=4){const x=e[T+0],w=e[T+1],A=e[T+2],O=e[T+3];e[T+0]=u*x+h*w+f*A,e[T+1]=p*x+m*w+S*A,e[T+2]=y*x+v*w+b*A,e[T+3]=O}};$.addGetterSetter(_e,"hue",0,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"saturation",0,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"value",0,Fe(),$.afterSetFilter);const LR=function(n){const e=n.data,t=e.length;for(let i=0;i<t;i+=4)e[i]=255-e[i],e[i+1]=255-e[i+1],e[i+2]=255-e[i+2]},RR=function(n,e,t){const i=n.data,r=e.data,o=n.width,l=n.height,c=t.polarCenterX||o/2,u=t.polarCenterY||l/2;let h=Math.sqrt(c*c+u*u),f=o-c,p=l-u;const m=Math.sqrt(f*f+p*p);h=m>h?m:h;const S=l,y=o,v=360/y*Math.PI/180;for(let b=0;b<y;b+=1){const T=Math.sin(b*v),x=Math.cos(b*v);for(let w=0;w<S;w+=1){f=Math.floor(c+h*w/S*x),p=Math.floor(u+h*w/S*T);let A=(p*o+f)*4;const O=i[A+0],L=i[A+1],M=i[A+2],k=i[A+3];A=(b+w*o)*4,r[A+0]=O,r[A+1]=L,r[A+2]=M,r[A+3]=k}}},ER=function(n,e,t){const i=n.data,r=e.data,o=n.width,l=n.height,c=t.polarCenterX||o/2,u=t.polarCenterY||l/2;let h=Math.sqrt(c*c+u*u),f=o-c,p=l-u;const m=Math.sqrt(f*f+p*p);h=m>h?m:h;const S=l,y=o,v=0;let b,T;for(f=0;f<o;f+=1)for(p=0;p<l;p+=1){const x=f-c,w=p-u,A=Math.sqrt(x*x+w*w)*S/h;let O=(Math.atan2(w,x)*180/Math.PI+360+v)%360;O=O*y/360,b=Math.floor(O),T=Math.floor(A);let L=(T*o+b)*4;const M=i[L+0],k=i[L+1],F=i[L+2],B=i[L+3];L=(p*o+f)*4,r[L+0]=M,r[L+1]=k,r[L+2]=F,r[L+3]=B}},MR=function(n){const e=n.width,t=n.height;let i,r,o,l,c,u,h,f,p,m,S=Math.round(this.kaleidoscopePower());const y=Math.round(this.kaleidoscopeAngle()),v=Math.floor(e*(y%360)/360);if(S<1)return;const b=oe.createCanvasElement();b.width=e,b.height=t;const T=b.getContext("2d").getImageData(0,0,e,t);oe.releaseCanvas(b),RR(n,T,{polarCenterX:e/2,polarCenterY:t/2});let x=e/Math.pow(2,S);for(;x<=8;)x=x*2,S-=1;x=Math.ceil(x);let w=x,A=0,O=w,L=1;for(v+x>e&&(A=w,O=0,L=-1),r=0;r<t;r+=1)for(i=A;i!==O;i+=L)o=Math.round(i+v)%e,p=(e*r+o)*4,c=T.data[p+0],u=T.data[p+1],h=T.data[p+2],f=T.data[p+3],m=(e*r+i)*4,T.data[m+0]=c,T.data[m+1]=u,T.data[m+2]=h,T.data[m+3]=f;for(r=0;r<t;r+=1)for(w=Math.floor(x),l=0;l<S;l+=1){for(i=0;i<w+1;i+=1)p=(e*r+i)*4,c=T.data[p+0],u=T.data[p+1],h=T.data[p+2],f=T.data[p+3],m=(e*r+w*2-i-1)*4,T.data[m+0]=c,T.data[m+1]=u,T.data[m+2]=h,T.data[m+3]=f;w*=2}ER(T,n,{})};$.addGetterSetter(_e,"kaleidoscopePower",2,Fe(),$.afterSetFilter);$.addGetterSetter(_e,"kaleidoscopeAngle",0,Fe(),$.afterSetFilter);function P0(n,e,t){let i=(t*n.width+e)*4;const r=[];return r.push(n.data[i++],n.data[i++],n.data[i++],n.data[i++]),r}function $l(n,e){return Math.sqrt(Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)+Math.pow(n[2]-e[2],2))}function _R(n){const e=[0,0,0];for(let t=0;t<n.length;t++)e[0]+=n[t][0],e[1]+=n[t][1],e[2]+=n[t][2];return e[0]/=n.length,e[1]/=n.length,e[2]/=n.length,e}function kR(n,e){const t=P0(n,0,0),i=P0(n,n.width-1,0),r=P0(n,0,n.height-1),o=P0(n,n.width-1,n.height-1),l=e||10;if($l(t,i)<l&&$l(i,o)<l&&$l(o,r)<l&&$l(r,t)<l){const c=_R([i,t,o,r]),u=[];for(let h=0;h<n.width*n.height;h++){const f=$l(c,[n.data[h*4],n.data[h*4+1],n.data[h*4+2]]);u[h]=f<l?0:255}return u}}function FR(n,e){for(let t=0;t<n.width*n.height;t++)n.data[4*t+3]=e[t]}function UR(n,e,t){const i=[1,1,1,1,0,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),l=[];for(let c=0;c<t;c++)for(let u=0;u<e;u++){const h=c*e+u;let f=0;for(let p=0;p<r;p++)for(let m=0;m<r;m++){const S=c+p-o,y=u+m-o;if(S>=0&&S<t&&y>=0&&y<e){const v=S*e+y,b=i[p*r+m];f+=n[v]*b}}l[h]=f===2040?255:0}return l}function NR(n,e,t){const i=[1,1,1,1,1,1,1,1,1],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),l=[];for(let c=0;c<t;c++)for(let u=0;u<e;u++){const h=c*e+u;let f=0;for(let p=0;p<r;p++)for(let m=0;m<r;m++){const S=c+p-o,y=u+m-o;if(S>=0&&S<t&&y>=0&&y<e){const v=S*e+y,b=i[p*r+m];f+=n[v]*b}}l[h]=f>=1020?255:0}return l}function qR(n,e,t){const i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],r=Math.round(Math.sqrt(i.length)),o=Math.floor(r/2),l=[];for(let c=0;c<t;c++)for(let u=0;u<e;u++){const h=c*e+u;let f=0;for(let p=0;p<r;p++)for(let m=0;m<r;m++){const S=c+p-o,y=u+m-o;if(S>=0&&S<t&&y>=0&&y<e){const v=S*e+y,b=i[p*r+m];f+=n[v]*b}}l[h]=f}return l}const BR=function(n){const e=this.threshold();let t=kR(n,e);return t&&(t=UR(t,n.width,n.height),t=NR(t,n.width,n.height),t=qR(t,n.width,n.height),FR(n,t)),n};$.addGetterSetter(_e,"threshold",0,Fe(),$.afterSetFilter);const zR=function(n){const e=this.noise()*255,t=n.data,i=t.length,r=e/2;for(let o=0;o<i;o+=4)t[o+0]+=r-2*r*Math.random(),t[o+1]+=r-2*r*Math.random(),t[o+2]+=r-2*r*Math.random()};$.addGetterSetter(_e,"noise",.2,Fe(),$.afterSetFilter);const GR=function(n){let e=Math.ceil(this.pixelSize()),t=n.width,i=n.height,r=Math.ceil(t/e),o=Math.ceil(i/e),l=n.data;if(e<=0){oe.error("pixelSize value can not be <= 0");return}for(let c=0;c<r;c+=1)for(let u=0;u<o;u+=1){let h=0,f=0,p=0,m=0;const S=c*e,y=S+e,v=u*e,b=v+e;let T=0;for(let x=S;x<y;x+=1)if(!(x>=t))for(let w=v;w<b;w+=1){if(w>=i)continue;const A=(t*w+x)*4;h+=l[A+0],f+=l[A+1],p+=l[A+2],m+=l[A+3],T+=1}h=h/T,f=f/T,p=p/T,m=m/T;for(let x=S;x<y;x+=1)if(!(x>=t))for(let w=v;w<b;w+=1){if(w>=i)continue;const A=(t*w+x)*4;l[A+0]=h,l[A+1]=f,l[A+2]=p,l[A+3]=m}}};$.addGetterSetter(_e,"pixelSize",8,Fe(),$.afterSetFilter);const QR=function(n){const e=Math.round(this.levels()*254)+1,t=n.data,i=t.length,r=255/e;for(let o=0;o<i;o+=1)t[o]=Math.floor(t[o]/r)*r};$.addGetterSetter(_e,"levels",.5,Fe(),$.afterSetFilter);const VR=function(n){const e=n.data,t=e.length,i=this.red(),r=this.green(),o=this.blue();for(let l=0;l<t;l+=4){const c=(.34*e[l]+.5*e[l+1]+.16*e[l+2])/255;e[l]=c*i,e[l+1]=c*r,e[l+2]=c*o,e[l+3]=e[l+3]}};$.addGetterSetter(_e,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});$.addGetterSetter(_e,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});$.addGetterSetter(_e,"blue",0,g3,$.afterSetFilter);const HR=function(n){const e=n.data,t=e.length,i=this.red(),r=this.green(),o=this.blue(),l=this.alpha();for(let c=0;c<t;c+=4){const u=1-l;e[c]=i*l+e[c]*u,e[c+1]=r*l+e[c+1]*u,e[c+2]=o*l+e[c+2]*u}};$.addGetterSetter(_e,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});$.addGetterSetter(_e,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});$.addGetterSetter(_e,"blue",0,g3,$.afterSetFilter);$.addGetterSetter(_e,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});const jR=function(n){const e=n.data,t=e.length;for(let i=0;i<t;i+=4){const r=e[i+0],o=e[i+1],l=e[i+2];e[i+0]=Math.min(255,r*.393+o*.769+l*.189),e[i+1]=Math.min(255,r*.349+o*.686+l*.168),e[i+2]=Math.min(255,r*.272+o*.534+l*.131)}},YR=function(n){const t=n.data;for(let i=0;i<t.length;i+=4){const r=t[i],o=t[i+1],l=t[i+2];.2126*r+.7152*o+.0722*l>=128&&(t[i]=255-r,t[i+1]=255-o,t[i+2]=255-l)}return n},XR=function(n){const e=this.threshold()*255,t=n.data,i=t.length;for(let r=0;r<i;r+=1)t[r]=t[r]<e?0:255};$.addGetterSetter(_e,"threshold",.5,Fe(),$.afterSetFilter);const Le=Q5.Util._assign(Q5,{Arc:Gr,Arrow:Io,Circle:js,Ellipse:Ra,Image:Hi,Label:zp,Tag:Oo,Line:Qr,Path:Ht,Rect:Hc,RegularPolygon:Ea,Ring:Po,Sprite:ur,Star:Ma,Text:jt,TextPath:bn,Transformer:pt,Wedge:Vr,Filters:{Blur:bR,Brightness:TR,Brighten:DR,Contrast:xR,Emboss:wR,Enhance:AR,Grayscale:IR,HSL:OR,HSV:PR,Invert:LR,Kaleidoscope:MR,Mask:BR,Noise:zR,Pixelate:GR,Posterize:QR,RGB:VR,RGBA:HR,Sepia:jR,Solarize:YR,Threshold:XR}});var B1={exports:{}};var tC;function WR(){return tC||(tC=1,(function(n){var e=(function(){var t={};t.floodFill=function(c,u,h,f,p,m){return m?r(c,u,h,f,p):i(c,u,h,f,p)};function i(c,u,h,f,p){var m,S,y,v,b,T,x,w,A,O,L=c.data,M=c.width,k=c.height,F=c.bytes,B=-1,H=M+1,P=-1,q=k+1,I=h*M+u,N=new Uint8Array(M*k),U=new Uint8Array(p||M*k);if(U[I]===1)return null;I=I*F;var Q=[L[I],L[I+1],L[I+2],L[I+3]],X=[{y:h,left:u-1,right:u+1,dir:1}];do{for(v=X.shift(),O=!1,S=v.left+1;S<v.right;S++)if(x=v.y*M,I=(x+S)*F,U[x+S]!==1&&(m=L[I]-Q[0],!(m>f||m<-f)&&(m=L[I+1]-Q[1],!(m>f||m<-f)&&(m=L[I+2]-Q[2],!(m>f||m<-f))))){for(O=!0,N[x+S]=1,U[x+S]=1,T=S-1;T>-1&&(w=x+T,I=w*F,!(U[w]===1||(m=L[I]-Q[0],m>f||m<-f)||(m=L[I+1]-Q[1],m>f||m<-f)||(m=L[I+2]-Q[2],m>f||m<-f)));)N[w]=1,U[w]=1,T--;for(b=S+1;b<M&&(A=x+b,I=A*F,!(U[A]===1||(m=L[I]-Q[0],m>f||m<-f)||(m=L[I+1]-Q[1],m>f||m<-f)||(m=L[I+2]-Q[2],m>f||m<-f)));)N[A]=1,U[A]=1,b++;T<H&&(H=T+1),b>B&&(B=b-1),y=v.y-v.dir,y>=0&&y<k&&(T<v.left&&X.push({y,left:T,right:v.left,dir:-v.dir}),v.right<b&&X.push({y,left:v.right,right:b,dir:-v.dir})),y=v.y+v.dir,y>=0&&y<k&&T<b&&X.push({y,left:T,right:b,dir:v.dir})}O&&(v.y<q&&(q=v.y),v.y>P&&(P=v.y))}while(X.length>0);return{data:N,width:c.width,height:c.height,bounds:{minX:H,minY:q,maxX:B,maxY:P}}}function r(c,u,h,f,p){var m,S,y,v,b,T,x,w,A,O,L=c.data,M=c.width,k=c.height,F=c.bytes,B=-1,H=M+1,P=-1,q=k+1,I=h*M+u,N=new Uint8Array(M*k),U=new Uint8Array(p||M*k);if(U[I]===1)return null;I=I*F;var Q=[L[I],L[I+1],L[I+2],L[I+3]],X=[{y:h,left:u-1,right:u+1,dir:1}];do{for(v=X.shift(),O=!1,S=v.left+1;S<v.right;S++)if(x=v.y*M,I=(x+S)*F,U[x+S]!==1&&(O=!0,N[x+S]=1,U[x+S]=1,m=L[I]-Q[0],!(m>f||m<-f)&&(m=L[I+1]-Q[1],!(m>f||m<-f)&&(m=L[I+2]-Q[2],!(m>f||m<-f))))){for(T=S-1;T>-1&&(w=x+T,I=w*F,!(U[w]===1||(N[w]=1,U[w]=1,T--,m=L[I]-Q[0],m>f||m<-f)||(m=L[I+1]-Q[1],m>f||m<-f)||(m=L[I+2]-Q[2],m>f||m<-f))););for(b=S+1;b<M&&(A=x+b,I=A*F,!(U[A]===1||(N[A]=1,U[A]=1,b++,m=L[I]-Q[0],m>f||m<-f)||(m=L[I+1]-Q[1],m>f||m<-f)||(m=L[I+2]-Q[2],m>f||m<-f))););T<H&&(H=T+1),b>B&&(B=b-1),y=v.y-v.dir,y>=0&&y<k&&(T<v.left&&X.push({y,left:T,right:v.left,dir:-v.dir}),v.right<b&&X.push({y,left:v.right,right:b,dir:-v.dir})),y=v.y+v.dir,y>=0&&y<k&&T<b&&X.push({y,left:T,right:b,dir:v.dir})}O&&(v.y<q&&(q=v.y),v.y>P&&(P=v.y))}while(X.length>0);return{data:N,width:c.width,height:c.height,bounds:{minX:H,minY:q,maxX:B,maxY:P}}}t.gaussBlur=function(c,u){var h,f,p,m,S,y,v,b,T=u*2+1,x=u*u,w=new Float32Array(T),A=0,O=c.width,L=c.height,M=c.data,k=c.bounds.minX,F=c.bounds.maxX,B=c.bounds.minY,H=c.bounds.maxY;for(h=0;h<u;h++){var P=(u-h)*(u-h),q=Math.exp(-P/(2*x))/(2*Math.PI*x);w[u+h]=w[u-h]=q,A+=2*q}for(h=0;h<T;h++)w[h]/=A;var I=new Uint8Array(O*L),N=u+O,U=u+L;for(S=B;S<H+1;S++)for(m=k;m<F+1;m++){for(y=0,f=S*O+m,v=u-m>0?u-m:0,b=N-m<T?N-m:T,p=f-u,h=v;h<b;h++)y+=M[p+h]*w[h];for(v=u-S>0?u-S:0,b=U-S<T?U-S:T,p=f-u*O,h=v;h<b;h++)y+=M[p+h*O]*w[h];I[f]=y>.5?1:0}return{data:I,width:O,height:L,bounds:{minX:k,minY:B,maxX:F,maxY:H}}};function o(c,u,h){var f,p,m,S,y,v,b,T=c.width,x=c.height,w=c.data,A=new Uint8Array(w),O=c.bounds.minX,L=c.bounds.maxX,M=c.bounds.minY,k=c.bounds.maxY,F=T*x,B=new Uint8Array(F),H=[],P=Math.max(O,1),q=Math.min(L,T-2),I=Math.max(M,1),N=Math.min(k,x-2);if(h&&h.length>0)for(y=0;y<F;y++)h[y]===1&&(A[y]=1);for(S=I;S<N+1;S++)for(f=P;f<q+1;f++)y=S*T+f,w[y]!==0&&(v=y+T,b=y-T,(A[y+1]===0||A[y-1]===0||A[v]===0||A[v+1]===0||A[v-1]===0||A[b]===0||A[b+1]===0||A[b-1]===0)&&H.push(y));if(O==0)for(S=M;S<k+1;S++)w[S*T]===1&&H.push(S*T);if(L==T-1)for(S=M;S<k+1;S++)w[S*T+L]===1&&H.push(S*T+L);if(M==0)for(f=O;f<L+1;f++)w[f]===1&&H.push(f);if(k==x-1)for(f=O;f<L+1;f++)w[k*T+f]===1&&H.push(k*T+f);var U=[],Q,X,V=u+T,re=u+x,_=u*2+1;for(F=H.length,m=0;m<F;m++){for(y=H[m],B[y]=1,U.push(y),f=y%T,S=(y-f)/T,Q=u-f>0?u-f:0,X=V-f<_?V-f:_,v=y-u,p=Q;p<X;p++)b=v+p,B[b]===0&&(B[b]=1,U.push(b));for(Q=u-S>0?u-S:0,X=re-S<_?re-S:_,v=y-u*T,p=Q;p<X;p++)b=v+p*T,B[b]===0&&(B[b]=1,U.push(b))}return U}t.gaussBlurOnlyBorder=function(c,u,h){var f=o(c,u,h),p,m,S,y,v,b,T,x,w,A,O,L=u*2+1,M=2*u*u,k=new Float32Array(L),F=0,B=c.width,H=c.height,P=c.data,q=c.bounds.minX,I=c.bounds.maxX,N=c.bounds.minY,U=c.bounds.maxY,Q=f.length;for(S=0;S<u;S++)m=(u-S)*(u-S),p=Math.exp(-m/M)/Math.PI,k[u+S]=k[u-S]=p,F+=2*p;for(S=0;S<L;S++)k[S]/=F;var X=new Uint8Array(P),V=u+B,re=u+H;for(S=0;S<Q;S++){for(v=f[S],w=0,T=v%B,x=(v-T)/B,A=u-T>0?u-T:0,O=V-T<L?V-T:L,b=v-u,y=A;y<O;y++)w+=P[b+y]*k[y];if(w>.5){X[v]=1,T<q&&(q=T),T>I&&(I=T),x<N&&(N=x),x>U&&(U=x);continue}for(A=u-x>0?u-x:0,O=re-x<L?re-x:L,b=v-u*B,y=A;y<O;y++)w+=P[b+y*B]*k[y];w>.5?(X[v]=1,T<q&&(q=T),T>I&&(I=T),x<N&&(N=x),x>U&&(U=x)):X[v]=0}return{data:X,width:B,height:H,bounds:{minX:q,minY:N,maxX:I,maxY:U}}},t.createBorderMask=function(c){var u,h,f,p,m,S=c.width,y=c.height,v=c.data,b=c.bounds.minX,T=c.bounds.maxX,x=c.bounds.minY,w=c.bounds.maxY,A=T-b+1,O=w-x+1,L=new Uint8Array(A*O),M=Math.max(b,1),k=Math.min(T,S-2),F=Math.max(x,1),B=Math.min(w,y-2);for(h=F;h<B+1;h++)for(u=M;u<k+1;u++)f=h*S+u,v[f]!==0&&(p=f+S,m=f-S,(v[f+1]===0||v[f-1]===0||v[p]===0||v[p+1]===0||v[p-1]===0||v[m]===0||v[m+1]===0||v[m-1]===0)&&(L[(h-x)*A+(u-b)]=1));if(b==0)for(h=x;h<w+1;h++)v[h*S]===1&&(L[(h-x)*A]=1);if(T==S-1)for(h=x;h<w+1;h++)v[h*S+T]===1&&(L[(h-x)*A+(T-b)]=1);if(x==0)for(u=b;u<T+1;u++)v[u]===1&&(L[u-b]=1);if(w==y-1)for(u=b;u<T+1;u++)v[w*S+u]===1&&(L[(w-x)*A+(u-b)]=1);return{data:L,width:A,height:O,offset:{x:b,y:x}}},t.getBorderIndices=function(c){var u,h,f,p,m,S=c.width,y=c.height,v=c.data,b=[],T=S-1,x=y-1;for(h=1;h<x;h++)for(u=1;u<T;u++)f=h*S+u,v[f]!==0&&(p=f+S,m=f-S,(v[f+1]===0||v[f-1]===0||v[p]===0||v[p+1]===0||v[p-1]===0||v[m]===0||v[m+1]===0||v[m-1]===0)&&b.push(f));for(h=0;h<y;h++)v[h*S]===1&&b.push(h*S);for(u=0;u<S;u++)v[u]===1&&b.push(u);for(f=S-1,h=0;h<y;h++)v[h*S+f]===1&&b.push(h*S+f);for(f=(y-1)*S,u=0;u<S;u++)v[f+u]===1&&b.push(f+u);return b};function l(c){var u,h,f=c.width,p=c.data,m=c.bounds.minX,S=c.bounds.maxX,y=c.bounds.minY,v=c.bounds.maxY,b=S-m+3,T=v-y+3,x=new Uint8Array(b*T);for(h=y;h<v+1;h++)for(u=m;u<S+1;u++)p[h*f+u]===1&&(x[(h-y+1)*b+(u-m+1)]=1);return{data:x,width:b,height:T,offset:{x:m-1,y:y-1}}}return t.traceContours=function(c){var u=l(c),h=[],f=0,p=u.width,m=p*2,S=u.height,y=u.data,v=u.offset.x,b=u.offset.y,T=new Uint8Array(y),x,w,A,O,L,M,k,F,B,H,P,q,I,N,U,Q=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(O=1;O<S-1;O++)for(A=1;A<p-1;A++)if(L=O*p+A,y[L]===1){for(x=-p;x<m;x+=m)if(y[L+x]===0&&T[L+x]===0){for(F=x===p,f++,k=[],B=F?2:6,q=I=H={x:A,y:O},P=null;;){for(T[q.y*p+q.x]=f,w=0;w<8;w++){if(B=(B+1)%8,U=Q[B],N={x:q.x+U[0],y:q.y+U[1]},M=N.y*p+N.x,y[M]===1){T[M]=f;break}T[M]=-1,N=null}if(N===null)break;if(q=N,P){if(I.x===H.x&&I.y===H.y&&q.x===P.x&&q.y===P.y)break}else P=N;k.push({x:I.x+v,y:I.y+b}),I=q,B=(B+4)%8}N!=null&&(k.push({x:H.x+v,y:H.y+b}),h.push({inner:F,label:f,points:k}))}}return h},t.simplifyContours=function(c,u,h){var f=c.length,p=[],m,S,y,v,b,T,x,w,A,O,L,M,k,F,B,H,P,q,I,N,U;for(S=0;S<f;S++){if(v=c[S],b=v.points,T=v.points.length,T<h){for(x=[],y=0;y<T;y++)x.push({x:b[y].x,y:b[y].y});p.push({inner:v.inner,label:v.label,points:x,initialCount:T});continue}w=[0,T-1],A=[{first:0,last:T-1}];do if(O=A.shift(),!(O.last<=O.first+1)){for(L=-1,M=O.first,m=O.first+1;m<O.last;m++)I=b[m],N=b[O.first],U=b[O.last],P=I.x-N.x,q=I.y-N.y,F=Math.sqrt(P*P+q*q),P=I.x-U.x,q=I.y-U.y,B=Math.sqrt(P*P+q*q),P=N.x-U.x,q=N.y-U.y,H=Math.sqrt(P*P+q*q),F>=Math.sqrt(B*B+H*H)?k=B:B>=Math.sqrt(F*F+H*H)?k=F:k=Math.abs((q*I.x-P*I.y+N.x*U.y-U.x*N.y)/H),k>L&&(M=m,L=k);L>u&&(w.push(M),A.push({first:O.first,last:M}),A.push({first:M,last:O.last}))}while(A.length>0);for(x=[],T=w.length,w.sort(function(Q,X){return Q-X}),y=0;y<T;y++)x.push({x:b[w[y]].x,y:b[w[y]].y});p.push({inner:v.inner,label:v.label,points:x,initialCount:v.points.length})}return p},t})();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)})(B1)),B1.exports}var $R=WR();const L0=Td($R);function R0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var z1={exports:{}};var nC;function ZR(){return nC||(nC=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(i,r,o){function l(h,f){if(!r[h]){if(!i[h]){var p=typeof R0=="function"&&R0;if(!f&&p)return p(h,!0);if(c)return c(h,!0);var m=new Error("Cannot find module '"+h+"'");throw m.code="MODULE_NOT_FOUND",m}var S=r[h]={exports:{}};i[h][0].call(S.exports,function(y){var v=i[h][1][y];return l(v||y)},S,S.exports,t,i,r,o)}return r[h].exports}for(var c=typeof R0=="function"&&R0,u=0;u<o.length;u++)l(o[u]);return l})({1:[function(t,i,r){var o=t("./utils"),l=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(u){for(var h,f,p,m,S,y,v,b=[],T=0,x=u.length,w=x,A=o.getTypeOf(u)!=="string";T<u.length;)w=x-T,p=A?(h=u[T++],f=T<x?u[T++]:0,T<x?u[T++]:0):(h=u.charCodeAt(T++),f=T<x?u.charCodeAt(T++):0,T<x?u.charCodeAt(T++):0),m=h>>2,S=(3&h)<<4|f>>4,y=1<w?(15&f)<<2|p>>6:64,v=2<w?63&p:64,b.push(c.charAt(m)+c.charAt(S)+c.charAt(y)+c.charAt(v));return b.join("")},r.decode=function(u){var h,f,p,m,S,y,v=0,b=0,T="data:";if(u.substr(0,T.length)===T)throw new Error("Invalid base64 input, it looks like a data url.");var x,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&w--,u.charAt(u.length-2)===c.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=l.uint8array?new Uint8Array(0|w):new Array(0|w);v<u.length;)h=c.indexOf(u.charAt(v++))<<2|(m=c.indexOf(u.charAt(v++)))>>4,f=(15&m)<<4|(S=c.indexOf(u.charAt(v++)))>>2,p=(3&S)<<6|(y=c.indexOf(u.charAt(v++))),x[b++]=h,S!==64&&(x[b++]=f),y!==64&&(x[b++]=p);return x}},{"./support":30,"./utils":32}],2:[function(t,i,r){var o=t("./external"),l=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,p,m,S,y){this.compressedSize=f,this.uncompressedSize=p,this.crc32=m,this.compression=S,this.compressedContent=y}h.prototype={getContentWorker:function(){var f=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,m){return f.pipe(new c).pipe(new u("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,r){var o=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,r){var o=t("./utils"),l=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();i.exports=function(c,u){return c!==void 0&&c.length?o.getTypeOf(c)!=="string"?(function(h,f,p,m){var S=l,y=m+p;h^=-1;for(var v=m;v<y;v++)h=h>>>8^S[255&(h^f[v])];return-1^h})(0|u,c,c.length,0):(function(h,f,p,m){var S=l,y=m+p;h^=-1;for(var v=m;v<y;v++)h=h>>>8^S[255&(h^f.charCodeAt(v))];return-1^h})(0|u,c,c.length,0):0}},{"./utils":32}],5:[function(t,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,i,r){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),c=t("./utils"),u=t("./stream/GenericWorker"),h=o?"uint8array":"array";function f(p,m){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}r.magic="\b\0",c.inherits(f,u),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,p.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},r.compressWorker=function(p){return new f("Deflate",p)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,r){function o(S,y){var v,b="";for(v=0;v<y;v++)b+=String.fromCharCode(255&S),S>>>=8;return b}function l(S,y,v,b,T,x){var w,A,O=S.file,L=S.compression,M=x!==h.utf8encode,k=c.transformTo("string",x(O.name)),F=c.transformTo("string",h.utf8encode(O.name)),B=O.comment,H=c.transformTo("string",x(B)),P=c.transformTo("string",h.utf8encode(B)),q=F.length!==O.name.length,I=P.length!==B.length,N="",U="",Q="",X=O.dir,V=O.date,re={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(re.crc32=S.crc32,re.compressedSize=S.compressedSize,re.uncompressedSize=S.uncompressedSize);var _=0;y&&(_|=8),M||!q&&!I||(_|=2048);var z=0,te=0;X&&(z|=16),T==="UNIX"?(te=798,z|=(function(Z,Se){var Pe=Z;return Z||(Pe=Se?16893:33204),(65535&Pe)<<16})(O.unixPermissions,X)):(te=20,z|=(function(Z){return 63&(Z||0)})(O.dosPermissions)),w=V.getUTCHours(),w<<=6,w|=V.getUTCMinutes(),w<<=5,w|=V.getUTCSeconds()/2,A=V.getUTCFullYear()-1980,A<<=4,A|=V.getUTCMonth()+1,A<<=5,A|=V.getUTCDate(),q&&(U=o(1,1)+o(f(k),4)+F,N+="up"+o(U.length,2)+U),I&&(Q=o(1,1)+o(f(H),4)+P,N+="uc"+o(Q.length,2)+Q);var se="";return se+=`
\0`,se+=o(_,2),se+=L.magic,se+=o(w,2),se+=o(A,2),se+=o(re.crc32,4),se+=o(re.compressedSize,4),se+=o(re.uncompressedSize,4),se+=o(k.length,2),se+=o(N.length,2),{fileRecord:p.LOCAL_FILE_HEADER+se+k+N,dirRecord:p.CENTRAL_FILE_HEADER+o(te,2)+se+o(H.length,2)+"\0\0\0\0"+o(z,4)+o(b,4)+k+N+H}}var c=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),p=t("../signature");function m(S,y,v,b){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(m,u),m.prototype.push=function(S){var y=S.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,u.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-b-1))/v:100}}))},m.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var y=this.streamFiles&&!S.file.dir;if(y){var v=l(S,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(S){this.accumulate=!1;var y=this.streamFiles&&!S.file.dir,v=l(S,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:(function(b){return p.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)})(S),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var S=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-S,b=(function(T,x,w,A,O){var L=c.transformTo("string",O(A));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(T,2)+o(T,2)+o(x,4)+o(w,4)+o(L.length,2)+L})(this.dirRecords.length,v,S,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(S){this._sources.push(S);var y=this;return S.on("data",function(v){y.processChunk(v)}),S.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),S.on("error",function(v){y.error(v)}),this},m.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(S){var y=this._sources;if(!u.prototype.error.call(this,S))return!1;for(var v=0;v<y.length;v++)try{y[v].error(S)}catch{}return!0},m.prototype.lock=function(){u.prototype.lock.call(this);for(var S=this._sources,y=0;y<S.length;y++)S[y].lock()},i.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,r){var o=t("../compressions"),l=t("./ZipFileWorker");r.generateWorker=function(c,u,h){var f=new l(u.streamFiles,h,u.platform,u.encodeFileName),p=0;try{c.forEach(function(m,S){p++;var y=(function(x,w){var A=x||w,O=o[A];if(!O)throw new Error(A+" is not a valid compression method !");return O})(S.options.compression,u.compression),v=S.options.compressionOptions||u.compressionOptions||{},b=S.dir,T=S.date;S._compressWorker(y,v).withStreamInfo("file",{name:m,dir:b,date:T,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,r){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(l,c){return new o().loadAsync(l,c)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,r){var o=t("./utils"),l=t("./external"),c=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(m){return new l.Promise(function(S,y){var v=m.decompressed.getContentWorker().pipe(new h);v.on("error",function(b){y(b)}).on("end",function(){v.streamInfo.crc32!==m.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}i.exports=function(m,S){var y=this;return S=o.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(m)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",m,!0,S.optimizedBinaryString,S.base64).then(function(v){var b=new u(S);return b.load(v),b}).then(function(v){var b=[l.Promise.resolve(v)],T=v.files;if(S.checkCRC32)for(var x=0;x<T.length;x++)b.push(p(T[x]));return l.Promise.all(b)}).then(function(v){for(var b=v.shift(),T=b.files,x=0;x<T.length;x++){var w=T[x],A=w.fileNameStr,O=o.resolve(w.fileNameStr);y.file(O,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:S.createFolders}),w.dir||(y.file(O).unsafeOriginalName=A)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,r){var o=t("../utils"),l=t("../stream/GenericWorker");function c(u,h){l.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(c,l),c.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,r){var o=t("readable-stream").Readable;function l(c,u,h){o.call(this,u),this._helper=c;var f=this;c.on("data",function(p,m){f.push(p)||f._helper.pause(),h&&h(m)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,r){function o(O,L,M){var k,F=c.getTypeOf(L),B=c.extend(M||{},f);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(O=T(O)),B.createFolders&&(k=b(O))&&x.call(this,k,!0);var H=F==="string"&&B.binary===!1&&B.base64===!1;M&&M.binary!==void 0||(B.binary=!H),(L instanceof p&&L.uncompressedSize===0||B.dir||!L||L.length===0)&&(B.base64=!1,B.binary=!0,L="",B.compression="STORE",F="string");var P=null;P=L instanceof p||L instanceof u?L:y.isNode&&y.isStream(L)?new v(O,L):c.prepareContent(O,L,B.binary,B.optimizedBinaryString,B.base64);var q=new m(O,P,B);this.files[O]=q}var l=t("./utf8"),c=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),m=t("./zipObject"),S=t("./generate"),y=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),b=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var L=O.lastIndexOf("/");return 0<L?O.substring(0,L):""},T=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},x=function(O,L){return L=L!==void 0?L:f.createFolders,O=T(O),this.files[O]||o.call(this,O,null,{dir:!0,createFolders:L}),this.files[O]};function w(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var L,M,k;for(L in this.files)k=this.files[L],(M=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&O(M,k)},filter:function(O){var L=[];return this.forEach(function(M,k){O(M,k)&&L.push(k)}),L},file:function(O,L,M){if(arguments.length!==1)return O=this.root+O,o.call(this,O,L,M),this;if(w(O)){var k=O;return this.filter(function(B,H){return!H.dir&&k.test(B)})}var F=this.files[this.root+O];return F&&!F.dir?F:null},folder:function(O){if(!O)return this;if(w(O))return this.filter(function(F,B){return B.dir&&O.test(F)});var L=this.root+O,M=x.call(this,L),k=this.clone();return k.root=M.name,k},remove:function(O){O=this.root+O;var L=this.files[O];if(L||(O.slice(-1)!=="/"&&(O+="/"),L=this.files[O]),L&&!L.dir)delete this.files[O];else for(var M=this.filter(function(F,B){return B.name.slice(0,O.length)===O}),k=0;k<M.length;k++)delete this.files[M[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var L,M={};try{if((M=c.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");c.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var k=M.comment||this.comment||"";L=S.generateWorker(this,M,k)}catch(F){(L=new u("error")).error(F)}return new h(L,M.type||"string",M.mimeType)},generateAsync:function(O,L){return this.generateInternalStream(O).accumulate(L)},generateNodeStream:function(O,L){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(L)}};i.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,r){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,r){var o=t("./DataReader");function l(c){o.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===u&&this.data[m+1]===h&&this.data[m+2]===f&&this.data[m+3]===p)return m-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),m=this.readData(4);return u===m[0]&&h===m[1]&&f===m[2]&&p===m[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,i,r){var o=t("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var u,h=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=c,h},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=l},{"../utils":32}],19:[function(t,i,r){var o=t("./Uint8ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,r){var o=t("./DataReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,i,r){var o=t("./ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,r){var o=t("../utils"),l=t("../support"),c=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");i.exports=function(p){var m=o.getTypeOf(p);return o.checkSupport(m),m!=="string"||l.uint8array?m==="nodebuffer"?new h(p):l.uint8array?new f(o.transformTo("uint8array",p)):new c(o.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,r){var o=t("./GenericWorker"),l=t("../utils");function c(u){o.call(this,"ConvertWorker to "+u),this.destType=u}l.inherits(c,o),c.prototype.processChunk=function(u){this.push({data:l.transformTo(this.destType,u.data),meta:u.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,r){var o=t("./GenericWorker"),l=t("../crc32");function c(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,o),c.prototype.processChunk=function(u){this.streamInfo.crc32=l(u.data,this.streamInfo.crc32||0),this.push(u)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,r){var o=t("../utils"),l=t("./GenericWorker");function c(u){l.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}o.inherits(c,l),c.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}l.prototype.processChunk.call(this,u)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,r){var o=t("../utils"),l=t("./GenericWorker");function c(u){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=o.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}o.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,r){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var u=0;u<this._listeners[l].length;u++)this._listeners[l][u].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(u){c.processChunk(u)}),l.on("end",function(){c.end()}),l.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=o},{}],29:[function(t,i,r){var o=t("../utils"),l=t("./ConvertWorker"),c=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(y,v){return new f.Promise(function(b,T){var x=[],w=y._internalType,A=y._outputType,O=y._mimeType;y.on("data",function(L,M){x.push(L),v&&v(M)}).on("error",function(L){x=[],T(L)}).on("end",function(){try{var L=(function(M,k,F){switch(M){case"blob":return o.newBlob(o.transformTo("arraybuffer",k),F);case"base64":return u.encode(k);default:return o.transformTo(M,k)}})(A,(function(M,k){var F,B=0,H=null,P=0;for(F=0;F<k.length;F++)P+=k[F].length;switch(M){case"string":return k.join("");case"array":return Array.prototype.concat.apply([],k);case"uint8array":for(H=new Uint8Array(P),F=0;F<k.length;F++)H.set(k[F],B),B+=k[F].length;return H;case"nodebuffer":return Buffer.concat(k);default:throw new Error("concat : unsupported type '"+M+"'")}})(w,x),O);b(L)}catch(M){T(M)}x=[]}).resume()})}function S(y,v,b){var T=v;switch(v){case"blob":case"arraybuffer":T="uint8array";break;case"base64":T="string"}try{this._internalType=T,this._outputType=v,this._mimeType=b,o.checkSupport(T),this._worker=y.pipe(new l(T)),y.lock()}catch(x){this._worker=new c("error"),this._worker.error(x)}}S.prototype={accumulate:function(y){return m(this,y)},on:function(y,v){var b=this;return y==="data"?this._worker.on(y,function(T){v.call(b,T.data,T.meta)}):this._worker.on(y,function(){o.delay(v,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var o=new ArrayBuffer(0);try{r.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),r.blob=l.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,r){for(var o=t("./utils"),l=t("./support"),c=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function m(){u.call(this,"utf-8 encode")}r.utf8encode=function(S){return l.nodebuffer?c.newBufferFrom(S,"utf-8"):(function(y){var v,b,T,x,w,A=y.length,O=0;for(x=0;x<A;x++)(64512&(b=y.charCodeAt(x)))==55296&&x+1<A&&(64512&(T=y.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(T-56320),x++),O+=b<128?1:b<2048?2:b<65536?3:4;for(v=l.uint8array?new Uint8Array(O):new Array(O),x=w=0;w<O;x++)(64512&(b=y.charCodeAt(x)))==55296&&x+1<A&&(64512&(T=y.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(T-56320),x++),b<128?v[w++]=b:(b<2048?v[w++]=192|b>>>6:(b<65536?v[w++]=224|b>>>12:(v[w++]=240|b>>>18,v[w++]=128|b>>>12&63),v[w++]=128|b>>>6&63),v[w++]=128|63&b);return v})(S)},r.utf8decode=function(S){return l.nodebuffer?o.transformTo("nodebuffer",S).toString("utf-8"):(function(y){var v,b,T,x,w=y.length,A=new Array(2*w);for(v=b=0;v<w;)if((T=y[v++])<128)A[b++]=T;else if(4<(x=h[T]))A[b++]=65533,v+=x-1;else{for(T&=x===2?31:x===3?15:7;1<x&&v<w;)T=T<<6|63&y[v++],x--;1<x?A[b++]=65533:T<65536?A[b++]=T:(T-=65536,A[b++]=55296|T>>10&1023,A[b++]=56320|1023&T)}return A.length!==b&&(A.subarray?A=A.subarray(0,b):A.length=b),o.applyFromCharCode(A)})(S=o.transformTo(l.uint8array?"uint8array":"array",S))},o.inherits(p,u),p.prototype.processChunk=function(S){var y=o.transformTo(l.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=(function(x,w){var A;for((w=w||x.length)>x.length&&(w=x.length),A=w-1;0<=A&&(192&x[A])==128;)A--;return A<0||A===0?w:A+h[x[A]]>w?A:w})(y),T=y;b!==y.length&&(l.uint8array?(T=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(T=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:r.utf8decode(T),meta:S.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,o.inherits(m,u),m.prototype.processChunk=function(S){this.push({data:r.utf8encode(S.data),meta:S.meta})},r.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,r){var o=t("./support"),l=t("./base64"),c=t("./nodejsUtils"),u=t("./external");function h(v){return v}function f(v,b){for(var T=0;T<v.length;++T)b[T]=255&v.charCodeAt(T);return b}t("setimmediate"),r.newBlob=function(v,b){r.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(v),T.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(v,b,T){var x=[],w=0,A=v.length;if(A<=T)return String.fromCharCode.apply(null,v);for(;w<A;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,v.slice(w,Math.min(w+T,A)))):x.push(String.fromCharCode.apply(null,v.subarray(w,Math.min(w+T,A)))),w+=T;return x.join("")},stringifyByChar:function(v){for(var b="",T=0;T<v.length;T++)b+=String.fromCharCode(v[T]);return b},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function m(v){var b=65536,T=r.getTypeOf(v),x=!0;if(T==="uint8array"?x=p.applyCanBeUsed.uint8array:T==="nodebuffer"&&(x=p.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return p.stringifyByChunk(v,T,b)}catch{b=Math.floor(b/2)}return p.stringifyByChar(v)}function S(v,b){for(var T=0;T<v.length;T++)b[T]=v[T];return b}r.applyFromCharCode=m;var y={};y.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,c.allocBuffer(v.length))}},y.array={string:m,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},y.arraybuffer={string:function(v){return m(new Uint8Array(v))},array:function(v){return S(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:m,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return c.newBufferFrom(v)}},y.nodebuffer={string:m,array:function(v){return S(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return S(v,new Uint8Array(v.length))},nodebuffer:h},r.transformTo=function(v,b){if(b=b||"",!v)return b;r.checkSupport(v);var T=r.getTypeOf(b);return y[T][v](b)},r.resolve=function(v){for(var b=v.split("/"),T=[],x=0;x<b.length;x++){var w=b[x];w==="."||w===""&&x!==0&&x!==b.length-1||(w===".."?T.pop():T.push(w))}return T.join("/")},r.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":o.nodebuffer&&c.isBuffer(v)?"nodebuffer":o.uint8array&&v instanceof Uint8Array?"uint8array":o.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(v){if(!o[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(v){var b,T,x="";for(T=0;T<(v||"").length;T++)x+="\\x"+((b=v.charCodeAt(T))<16?"0":"")+b.toString(16).toUpperCase();return x},r.delay=function(v,b,T){setImmediate(function(){v.apply(T||null,b||[])})},r.inherits=function(v,b){function T(){}T.prototype=b.prototype,v.prototype=new T},r.extend=function(){var v,b,T={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&T[b]===void 0&&(T[b]=arguments[v][b]);return T},r.prepareContent=function(v,b,T,x,w){return u.Promise.resolve(b).then(function(A){return o.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new u.Promise(function(O,L){var M=new FileReader;M.onload=function(k){O(k.target.result)},M.onerror=function(k){L(k.target.error)},M.readAsArrayBuffer(A)}):A}).then(function(A){var O=r.getTypeOf(A);return O?(O==="arraybuffer"?A=r.transformTo("uint8array",A):O==="string"&&(w?A=l.decode(A):T&&x!==!0&&(A=(function(L){return f(L,o.uint8array?new Uint8Array(L.length):new Array(L.length))})(A))),A):u.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,r){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(m)+", expected "+l.pretty(p)+")")}},isSignature:function(p,m){var S=this.reader.index;this.reader.setIndex(p);var y=this.reader.readString(4)===m;return this.reader.setIndex(S),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=h.uint8array?"uint8array":"array",S=l.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,m,S,y=this.zip64EndOfCentralSize-44;0<y;)p=this.reader.readInt(2),m=this.reader.readInt(4),S=this.reader.readData(m),this.zip64ExtensibleData[p]={id:p,length:m,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var m=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var y=m-S;if(0<y)this.isSignature(m,c.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(p){this.reader=o(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,r){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),p=t("./support");function m(S,y){this.options=S,this.loadOptions=y}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var y,v;if(S.skip(22),this.fileNameLength=S.readInt(2),v=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=(function(b){for(var T in f)if(Object.prototype.hasOwnProperty.call(f,T)&&f[T].magic===b)return f[T];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,y,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var y=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(y),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var y,v,b,T=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<T;)y=S.readInt(2),v=S.readInt(2),b=S.readData(v),this.extraFields[y]={id:y,length:v,value:b};S.setIndex(T)},handleUTF8:function(){var S=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=l.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var T=l.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var y=o(S.value);return y.readInt(1)!==1||u(this.fileName)!==y.readInt(4)?null:h.utf8decode(y.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var y=o(S.value);return y.readInt(1)!==1||u(this.fileComment)!==y.readInt(4)?null:h.utf8decode(y.readData(S.length-5))}return null}},i.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,r){function o(y,v,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var l=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");o.prototype={internalStream:function(y){var v=null,b="string";try{if(!y)throw new Error("No output type specified.");var T=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var x=!this._dataBinary;x&&!T&&(v=v.pipe(new u.Utf8EncodeWorker)),!x&&T&&(v=v.pipe(new u.Utf8DecodeWorker))}catch(w){(v=new f("error")).error(w)}return new l(v,b,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof h&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(b,y,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<p.length;S++)o.prototype[p[S]]=m;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,r){(function(o){var l,c,u=o.MutationObserver||o.WebKitMutationObserver;if(u){var h=0,f=new u(y),p=o.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var v=o.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var m=new o.MessageChannel;m.port1.onmessage=y,l=function(){m.port2.postMessage(0)}}var S=[];function y(){var v,b;c=!0;for(var T=S.length;T;){for(b=S,S=[],v=-1;++v<T;)b[v]();T=S.length}c=!1}i.exports=function(v){S.push(v)!==1||c||l()}}).call(this,typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,r){var o=t("immediate");function l(){}var c={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,T!==l&&v(this,T)}function m(T,x,w){this.promise=T,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function S(T,x,w){o(function(){var A;try{A=x(w)}catch(O){return c.reject(T,O)}A===T?c.reject(T,new TypeError("Cannot resolve promise with itself")):c.resolve(T,A)})}function y(T){var x=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof x=="function")return function(){x.apply(T,arguments)}}function v(T,x){var w=!1;function A(M){w||(w=!0,c.reject(T,M))}function O(M){w||(w=!0,c.resolve(T,M))}var L=b(function(){x(O,A)});L.status==="error"&&A(L.value)}function b(T,x){var w={};try{w.value=T(x),w.status="success"}catch(A){w.status="error",w.value=A}return w}(i.exports=p).prototype.finally=function(T){if(typeof T!="function")return this;var x=this.constructor;return this.then(function(w){return x.resolve(T()).then(function(){return w})},function(w){return x.resolve(T()).then(function(){throw w})})},p.prototype.catch=function(T){return this.then(null,T)},p.prototype.then=function(T,x){if(typeof T!="function"&&this.state===h||typeof x!="function"&&this.state===u)return this;var w=new this.constructor(l);return this.state!==f?S(w,this.state===h?T:x,this.outcome):this.queue.push(new m(w,T,x)),w},m.prototype.callFulfilled=function(T){c.resolve(this.promise,T)},m.prototype.otherCallFulfilled=function(T){S(this.promise,this.onFulfilled,T)},m.prototype.callRejected=function(T){c.reject(this.promise,T)},m.prototype.otherCallRejected=function(T){S(this.promise,this.onRejected,T)},c.resolve=function(T,x){var w=b(y,x);if(w.status==="error")return c.reject(T,w.value);var A=w.value;if(A)v(T,A);else{T.state=h,T.outcome=x;for(var O=-1,L=T.queue.length;++O<L;)T.queue[O].callFulfilled(x)}return T},c.reject=function(T,x){T.state=u,T.outcome=x;for(var w=-1,A=T.queue.length;++w<A;)T.queue[w].callRejected(x);return T},p.resolve=function(T){return T instanceof this?T:c.resolve(new this(l),T)},p.reject=function(T){var x=new this(l);return c.reject(x,T)},p.all=function(T){var x=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=T.length,A=!1;if(!w)return this.resolve([]);for(var O=new Array(w),L=0,M=-1,k=new this(l);++M<w;)F(T[M],M);return k;function F(B,H){x.resolve(B).then(function(P){O[H]=P,++L!==w||A||(A=!0,c.resolve(k,O))},function(P){A||(A=!0,c.reject(k,P))})}},p.race=function(T){var x=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=T.length,A=!1;if(!w)return this.resolve([]);for(var O=-1,L=new this(l);++O<w;)M=T[O],x.resolve(M).then(function(k){A||(A=!0,c.resolve(L,k))},function(k){A||(A=!0,c.reject(L,k))});var M;return L}},{immediate:36}],38:[function(t,i,r){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,r){var o=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,p=0,m=-1,S=0,y=8;function v(T){if(!(this instanceof v))return new v(T);this.options=l.assign({level:m,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},T||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(w!==p)throw new Error(u[w]);if(x.header&&o.deflateSetHeader(this.strm,x.header),x.dictionary){var A;if(A=typeof x.dictionary=="string"?c.string2buf(x.dictionary):f.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(w=o.deflateSetDictionary(this.strm,A))!==p)throw new Error(u[w]);this._dict_set=!0}}function b(T,x){var w=new v(x);if(w.push(T,!0),w.err)throw w.msg||u[w.err];return w.result}v.prototype.push=function(T,x){var w,A,O=this.strm,L=this.options.chunkSize;if(this.ended)return!1;A=x===~~x?x:x===!0?4:0,typeof T=="string"?O.input=c.string2buf(T):f.call(T)==="[object ArrayBuffer]"?O.input=new Uint8Array(T):O.input=T,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new l.Buf8(L),O.next_out=0,O.avail_out=L),(w=o.deflate(O,A))!==1&&w!==p)return this.onEnd(w),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(O.output,O.next_out))):this.onData(l.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&w!==1);return A===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p):A!==2||(this.onEnd(p),!(O.avail_out=0))},v.prototype.onData=function(T){this.chunks.push(T)},v.prototype.onEnd=function(T){T===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},r.Deflate=v,r.deflate=b,r.deflateRaw=function(T,x){return(x=x||{}).raw=!0,b(T,x)},r.gzip=function(T,x){return(x=x||{}).gzip=!0,b(T,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,r){var o=t("./zlib/inflate"),l=t("./utils/common"),c=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),m=Object.prototype.toString;function S(v){if(!(this instanceof S))return new S(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var T=o.inflateInit2(this.strm,b.windowBits);if(T!==u.Z_OK)throw new Error(h[T]);this.header=new p,o.inflateGetHeader(this.strm,this.header)}function y(v,b){var T=new S(b);if(T.push(v,!0),T.err)throw T.msg||h[T.err];return T.result}S.prototype.push=function(v,b){var T,x,w,A,O,L,M=this.strm,k=this.options.chunkSize,F=this.options.dictionary,B=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof v=="string"?M.input=c.binstring2buf(v):m.call(v)==="[object ArrayBuffer]"?M.input=new Uint8Array(v):M.input=v,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new l.Buf8(k),M.next_out=0,M.avail_out=k),(T=o.inflate(M,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&F&&(L=typeof F=="string"?c.string2buf(F):m.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,T=o.inflateSetDictionary(this.strm,L)),T===u.Z_BUF_ERROR&&B===!0&&(T=u.Z_OK,B=!1),T!==u.Z_STREAM_END&&T!==u.Z_OK)return this.onEnd(T),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&T!==u.Z_STREAM_END&&(M.avail_in!==0||x!==u.Z_FINISH&&x!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=c.utf8border(M.output,M.next_out),A=M.next_out-w,O=c.buf2string(M.output,w),M.next_out=A,M.avail_out=k-A,A&&l.arraySet(M.output,M.output,w,A,0),this.onData(O)):this.onData(l.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(B=!0)}while((0<M.avail_in||M.avail_out===0)&&T!==u.Z_STREAM_END);return T===u.Z_STREAM_END&&(x=u.Z_FINISH),x===u.Z_FINISH?(T=o.inflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===u.Z_OK):x!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(M.avail_out=0))},S.prototype.onData=function(v){this.chunks.push(v)},S.prototype.onEnd=function(v){v===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},r.Inflate=S,r.inflate=y,r.inflateRaw=function(v,b){return(b=b||{}).raw=!0,y(v,b)},r.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,r){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(u[p]=f[p])}}return u},r.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var l={arraySet:function(u,h,f,p,m){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+p),m);else for(var S=0;S<p;S++)u[m+S]=h[f+S]},flattenChunks:function(u){var h,f,p,m,S,y;for(h=p=0,f=u.length;h<f;h++)p+=u[h].length;for(y=new Uint8Array(p),h=m=0,f=u.length;h<f;h++)S=u[h],y.set(S,m),m+=S.length;return y}},c={arraySet:function(u,h,f,p,m){for(var S=0;S<p;S++)u[m+S]=h[f+S]},flattenChunks:function(u){return[].concat.apply([],u)}};r.setTyped=function(u){u?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,l)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,c))},r.setTyped(o)},{}],42:[function(t,i,r){var o=t("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var u=new o.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,m){if(m<65537&&(p.subarray&&c||!p.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(p,m));for(var S="",y=0;y<m;y++)S+=String.fromCharCode(p[y]);return S}u[254]=u[254]=1,r.string2buf=function(p){var m,S,y,v,b,T=p.length,x=0;for(v=0;v<T;v++)(64512&(S=p.charCodeAt(v)))==55296&&v+1<T&&(64512&(y=p.charCodeAt(v+1)))==56320&&(S=65536+(S-55296<<10)+(y-56320),v++),x+=S<128?1:S<2048?2:S<65536?3:4;for(m=new o.Buf8(x),v=b=0;b<x;v++)(64512&(S=p.charCodeAt(v)))==55296&&v+1<T&&(64512&(y=p.charCodeAt(v+1)))==56320&&(S=65536+(S-55296<<10)+(y-56320),v++),S<128?m[b++]=S:(S<2048?m[b++]=192|S>>>6:(S<65536?m[b++]=224|S>>>12:(m[b++]=240|S>>>18,m[b++]=128|S>>>12&63),m[b++]=128|S>>>6&63),m[b++]=128|63&S);return m},r.buf2binstring=function(p){return f(p,p.length)},r.binstring2buf=function(p){for(var m=new o.Buf8(p.length),S=0,y=m.length;S<y;S++)m[S]=p.charCodeAt(S);return m},r.buf2string=function(p,m){var S,y,v,b,T=m||p.length,x=new Array(2*T);for(S=y=0;S<T;)if((v=p[S++])<128)x[y++]=v;else if(4<(b=u[v]))x[y++]=65533,S+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&S<T;)v=v<<6|63&p[S++],b--;1<b?x[y++]=65533:v<65536?x[y++]=v:(v-=65536,x[y++]=55296|v>>10&1023,x[y++]=56320|1023&v)}return f(x,y)},r.utf8border=function(p,m){var S;for((m=m||p.length)>p.length&&(m=p.length),S=m-1;0<=S&&(192&p[S])==128;)S--;return S<0||S===0?m:S+u[p[S]]>m?S:m}},{"./common":41}],43:[function(t,i,r){i.exports=function(o,l,c,u){for(var h=65535&o|0,f=o>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;f=f+(h=h+l[u++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,r){var o=(function(){for(var l,c=[],u=0;u<256;u++){l=u;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[u]=l}return c})();i.exports=function(l,c,u,h){var f=o,p=h+u;l^=-1;for(var m=h;m<p;m++)l=l>>>8^f[255&(l^c[m])];return-1^l}},{}],46:[function(t,i,r){var o,l=t("../utils/common"),c=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),p=0,m=4,S=0,y=-2,v=-1,b=4,T=2,x=8,w=9,A=286,O=30,L=19,M=2*A+1,k=15,F=3,B=258,H=B+F+1,P=42,q=113,I=1,N=2,U=3,Q=4;function X(E,he){return E.msg=f[he],he}function V(E){return(E<<1)-(4<E?9:0)}function re(E){for(var he=E.length;0<=--he;)E[he]=0}function _(E){var he=E.state,ce=he.pending;ce>E.avail_out&&(ce=E.avail_out),ce!==0&&(l.arraySet(E.output,he.pending_buf,he.pending_out,ce,E.next_out),E.next_out+=ce,he.pending_out+=ce,E.total_out+=ce,E.avail_out-=ce,he.pending-=ce,he.pending===0&&(he.pending_out=0))}function z(E,he){c._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,he),E.block_start=E.strstart,_(E.strm)}function te(E,he){E.pending_buf[E.pending++]=he}function se(E,he){E.pending_buf[E.pending++]=he>>>8&255,E.pending_buf[E.pending++]=255&he}function Z(E,he){var ce,W,j=E.max_chain_length,ne=E.strstart,ve=E.prev_length,ye=E.nice_match,ee=E.strstart>E.w_size-H?E.strstart-(E.w_size-H):0,Oe=E.window,Ie=E.w_mask,le=E.prev,pe=E.strstart+B,Ee=Oe[ne+ve-1],ke=Oe[ne+ve];E.prev_length>=E.good_match&&(j>>=2),ye>E.lookahead&&(ye=E.lookahead);do if(Oe[(ce=he)+ve]===ke&&Oe[ce+ve-1]===Ee&&Oe[ce]===Oe[ne]&&Oe[++ce]===Oe[ne+1]){ne+=2,ce++;do;while(Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&Oe[++ne]===Oe[++ce]&&ne<pe);if(W=B-(pe-ne),ne=pe-B,ve<W){if(E.match_start=he,ye<=(ve=W))break;Ee=Oe[ne+ve-1],ke=Oe[ne+ve]}}while((he=le[he&Ie])>ee&&--j!=0);return ve<=E.lookahead?ve:E.lookahead}function Se(E){var he,ce,W,j,ne,ve,ye,ee,Oe,Ie,le=E.w_size;do{if(j=E.window_size-E.lookahead-E.strstart,E.strstart>=le+(le-H)){for(l.arraySet(E.window,E.window,le,le,0),E.match_start-=le,E.strstart-=le,E.block_start-=le,he=ce=E.hash_size;W=E.head[--he],E.head[he]=le<=W?W-le:0,--ce;);for(he=ce=le;W=E.prev[--he],E.prev[he]=le<=W?W-le:0,--ce;);j+=le}if(E.strm.avail_in===0)break;if(ve=E.strm,ye=E.window,ee=E.strstart+E.lookahead,Oe=j,Ie=void 0,Ie=ve.avail_in,Oe<Ie&&(Ie=Oe),ce=Ie===0?0:(ve.avail_in-=Ie,l.arraySet(ye,ve.input,ve.next_in,Ie,ee),ve.state.wrap===1?ve.adler=u(ve.adler,ye,Ie,ee):ve.state.wrap===2&&(ve.adler=h(ve.adler,ye,Ie,ee)),ve.next_in+=Ie,ve.total_in+=Ie,Ie),E.lookahead+=ce,E.lookahead+E.insert>=F)for(ne=E.strstart-E.insert,E.ins_h=E.window[ne],E.ins_h=(E.ins_h<<E.hash_shift^E.window[ne+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[ne+F-1])&E.hash_mask,E.prev[ne&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=ne,ne++,E.insert--,!(E.lookahead+E.insert<F)););}while(E.lookahead<H&&E.strm.avail_in!==0)}function Pe(E,he){for(var ce,W;;){if(E.lookahead<H){if(Se(E),E.lookahead<H&&he===p)return I;if(E.lookahead===0)break}if(ce=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),ce!==0&&E.strstart-ce<=E.w_size-H&&(E.match_length=Z(E,ce)),E.match_length>=F)if(W=c._tr_tally(E,E.strstart-E.match_start,E.match_length-F),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=F){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else W=c._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(W&&(z(E,!1),E.strm.avail_out===0))return I}return E.insert=E.strstart<F-1?E.strstart:F-1,he===m?(z(E,!0),E.strm.avail_out===0?U:Q):E.last_lit&&(z(E,!1),E.strm.avail_out===0)?I:N}function Te(E,he){for(var ce,W,j;;){if(E.lookahead<H){if(Se(E),E.lookahead<H&&he===p)return I;if(E.lookahead===0)break}if(ce=0,E.lookahead>=F&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=F-1,ce!==0&&E.prev_length<E.max_lazy_match&&E.strstart-ce<=E.w_size-H&&(E.match_length=Z(E,ce),E.match_length<=5&&(E.strategy===1||E.match_length===F&&4096<E.strstart-E.match_start)&&(E.match_length=F-1)),E.prev_length>=F&&E.match_length<=E.prev_length){for(j=E.strstart+E.lookahead-F,W=c._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-F),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=j&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+F-1])&E.hash_mask,ce=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=F-1,E.strstart++,W&&(z(E,!1),E.strm.avail_out===0))return I}else if(E.match_available){if((W=c._tr_tally(E,0,E.window[E.strstart-1]))&&z(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return I}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(W=c._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<F-1?E.strstart:F-1,he===m?(z(E,!0),E.strm.avail_out===0?U:Q):E.last_lit&&(z(E,!1),E.strm.avail_out===0)?I:N}function xe(E,he,ce,W,j){this.good_length=E,this.max_lazy=he,this.nice_length=ce,this.max_chain=W,this.func=j}function Re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*M),this.dyn_dtree=new l.Buf16(2*(2*O+1)),this.bl_tree=new l.Buf16(2*(2*L+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(k+1),this.heap=new l.Buf16(2*A+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*A+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ne(E){var he;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=T,(he=E.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?P:q,E.adler=he.wrap===2?0:1,he.last_flush=p,c._tr_init(he),S):X(E,y)}function Ue(E){var he=Ne(E);return he===S&&(function(ce){ce.window_size=2*ce.w_size,re(ce.head),ce.max_lazy_match=o[ce.level].max_lazy,ce.good_match=o[ce.level].good_length,ce.nice_match=o[ce.level].nice_length,ce.max_chain_length=o[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=F-1,ce.match_available=0,ce.ins_h=0})(E.state),he}function Ye(E,he,ce,W,j,ne){if(!E)return y;var ve=1;if(he===v&&(he=6),W<0?(ve=0,W=-W):15<W&&(ve=2,W-=16),j<1||w<j||ce!==x||W<8||15<W||he<0||9<he||ne<0||b<ne)return X(E,y);W===8&&(W=9);var ye=new Re;return(E.state=ye).strm=E,ye.wrap=ve,ye.gzhead=null,ye.w_bits=W,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=j+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+F-1)/F),ye.window=new l.Buf8(2*ye.w_size),ye.head=new l.Buf16(ye.hash_size),ye.prev=new l.Buf16(ye.w_size),ye.lit_bufsize=1<<j+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new l.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=he,ye.strategy=ne,ye.method=ce,Ue(E)}o=[new xe(0,0,0,0,function(E,he){var ce=65535;for(ce>E.pending_buf_size-5&&(ce=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Se(E),E.lookahead===0&&he===p)return I;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var W=E.block_start+ce;if((E.strstart===0||E.strstart>=W)&&(E.lookahead=E.strstart-W,E.strstart=W,z(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-H&&(z(E,!1),E.strm.avail_out===0))return I}return E.insert=0,he===m?(z(E,!0),E.strm.avail_out===0?U:Q):(E.strstart>E.block_start&&(z(E,!1),E.strm.avail_out),I)}),new xe(4,4,8,4,Pe),new xe(4,5,16,8,Pe),new xe(4,6,32,32,Pe),new xe(4,4,16,16,Te),new xe(8,16,32,32,Te),new xe(8,16,128,128,Te),new xe(8,32,128,256,Te),new xe(32,128,258,1024,Te),new xe(32,258,258,4096,Te)],r.deflateInit=function(E,he){return Ye(E,he,x,15,8,0)},r.deflateInit2=Ye,r.deflateReset=Ue,r.deflateResetKeep=Ne,r.deflateSetHeader=function(E,he){return E&&E.state?E.state.wrap!==2?y:(E.state.gzhead=he,S):y},r.deflate=function(E,he){var ce,W,j,ne;if(!E||!E.state||5<he||he<0)return E?X(E,y):y;if(W=E.state,!E.output||!E.input&&E.avail_in!==0||W.status===666&&he!==m)return X(E,E.avail_out===0?-5:y);if(W.strm=E,ce=W.last_flush,W.last_flush=he,W.status===P)if(W.wrap===2)E.adler=0,te(W,31),te(W,139),te(W,8),W.gzhead?(te(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),te(W,255&W.gzhead.time),te(W,W.gzhead.time>>8&255),te(W,W.gzhead.time>>16&255),te(W,W.gzhead.time>>24&255),te(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),te(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&(te(W,255&W.gzhead.extra.length),te(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(E.adler=h(E.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):(te(W,0),te(W,0),te(W,0),te(W,0),te(W,0),te(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),te(W,3),W.status=q);else{var ve=x+(W.w_bits-8<<4)<<8;ve|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(ve|=32),ve+=31-ve%31,W.status=q,se(W,ve),W.strstart!==0&&(se(W,E.adler>>>16),se(W,65535&E.adler)),E.adler=1}if(W.status===69)if(W.gzhead.extra){for(j=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),_(E),j=W.pending,W.pending!==W.pending_buf_size));)te(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){j=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),_(E),j=W.pending,W.pending===W.pending_buf_size)){ne=1;break}ne=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,te(W,ne)}while(ne!==0);W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),ne===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){j=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),_(E),j=W.pending,W.pending===W.pending_buf_size)){ne=1;break}ne=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,te(W,ne)}while(ne!==0);W.gzhead.hcrc&&W.pending>j&&(E.adler=h(E.adler,W.pending_buf,W.pending-j,j)),ne===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&_(E),W.pending+2<=W.pending_buf_size&&(te(W,255&E.adler),te(W,E.adler>>8&255),E.adler=0,W.status=q)):W.status=q),W.pending!==0){if(_(E),E.avail_out===0)return W.last_flush=-1,S}else if(E.avail_in===0&&V(he)<=V(ce)&&he!==m)return X(E,-5);if(W.status===666&&E.avail_in!==0)return X(E,-5);if(E.avail_in!==0||W.lookahead!==0||he!==p&&W.status!==666){var ye=W.strategy===2?(function(ee,Oe){for(var Ie;;){if(ee.lookahead===0&&(Se(ee),ee.lookahead===0)){if(Oe===p)return I;break}if(ee.match_length=0,Ie=c._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++,Ie&&(z(ee,!1),ee.strm.avail_out===0))return I}return ee.insert=0,Oe===m?(z(ee,!0),ee.strm.avail_out===0?U:Q):ee.last_lit&&(z(ee,!1),ee.strm.avail_out===0)?I:N})(W,he):W.strategy===3?(function(ee,Oe){for(var Ie,le,pe,Ee,ke=ee.window;;){if(ee.lookahead<=B){if(Se(ee),ee.lookahead<=B&&Oe===p)return I;if(ee.lookahead===0)break}if(ee.match_length=0,ee.lookahead>=F&&0<ee.strstart&&(le=ke[pe=ee.strstart-1])===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]){Ee=ee.strstart+B;do;while(le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&le===ke[++pe]&&pe<Ee);ee.match_length=B-(Ee-pe),ee.match_length>ee.lookahead&&(ee.match_length=ee.lookahead)}if(ee.match_length>=F?(Ie=c._tr_tally(ee,1,ee.match_length-F),ee.lookahead-=ee.match_length,ee.strstart+=ee.match_length,ee.match_length=0):(Ie=c._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++),Ie&&(z(ee,!1),ee.strm.avail_out===0))return I}return ee.insert=0,Oe===m?(z(ee,!0),ee.strm.avail_out===0?U:Q):ee.last_lit&&(z(ee,!1),ee.strm.avail_out===0)?I:N})(W,he):o[W.level].func(W,he);if(ye!==U&&ye!==Q||(W.status=666),ye===I||ye===U)return E.avail_out===0&&(W.last_flush=-1),S;if(ye===N&&(he===1?c._tr_align(W):he!==5&&(c._tr_stored_block(W,0,0,!1),he===3&&(re(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),_(E),E.avail_out===0))return W.last_flush=-1,S}return he!==m?S:W.wrap<=0?1:(W.wrap===2?(te(W,255&E.adler),te(W,E.adler>>8&255),te(W,E.adler>>16&255),te(W,E.adler>>24&255),te(W,255&E.total_in),te(W,E.total_in>>8&255),te(W,E.total_in>>16&255),te(W,E.total_in>>24&255)):(se(W,E.adler>>>16),se(W,65535&E.adler)),_(E),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?S:1)},r.deflateEnd=function(E){var he;return E&&E.state?(he=E.state.status)!==P&&he!==69&&he!==73&&he!==91&&he!==103&&he!==q&&he!==666?X(E,y):(E.state=null,he===q?X(E,-3):S):y},r.deflateSetDictionary=function(E,he){var ce,W,j,ne,ve,ye,ee,Oe,Ie=he.length;if(!E||!E.state||(ne=(ce=E.state).wrap)===2||ne===1&&ce.status!==P||ce.lookahead)return y;for(ne===1&&(E.adler=u(E.adler,he,Ie,0)),ce.wrap=0,Ie>=ce.w_size&&(ne===0&&(re(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Oe=new l.Buf8(ce.w_size),l.arraySet(Oe,he,Ie-ce.w_size,ce.w_size,0),he=Oe,Ie=ce.w_size),ve=E.avail_in,ye=E.next_in,ee=E.input,E.avail_in=Ie,E.next_in=0,E.input=he,Se(ce);ce.lookahead>=F;){for(W=ce.strstart,j=ce.lookahead-(F-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[W+F-1])&ce.hash_mask,ce.prev[W&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=W,W++,--j;);ce.strstart=W,ce.lookahead=F-1,Se(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=F-1,ce.match_available=0,E.next_in=ye,E.input=ee,E.avail_in=ve,ce.wrap=ne,S},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,r){i.exports=function(o,l){var c,u,h,f,p,m,S,y,v,b,T,x,w,A,O,L,M,k,F,B,H,P,q,I,N;c=o.state,u=o.next_in,I=o.input,h=u+(o.avail_in-5),f=o.next_out,N=o.output,p=f-(l-o.avail_out),m=f+(o.avail_out-257),S=c.dmax,y=c.wsize,v=c.whave,b=c.wnext,T=c.window,x=c.hold,w=c.bits,A=c.lencode,O=c.distcode,L=(1<<c.lenbits)-1,M=(1<<c.distbits)-1;e:do{w<15&&(x+=I[u++]<<w,w+=8,x+=I[u++]<<w,w+=8),k=A[x&L];t:for(;;){if(x>>>=F=k>>>24,w-=F,(F=k>>>16&255)===0)N[f++]=65535&k;else{if(!(16&F)){if((64&F)==0){k=A[(65535&k)+(x&(1<<F)-1)];continue t}if(32&F){c.mode=12;break e}o.msg="invalid literal/length code",c.mode=30;break e}B=65535&k,(F&=15)&&(w<F&&(x+=I[u++]<<w,w+=8),B+=x&(1<<F)-1,x>>>=F,w-=F),w<15&&(x+=I[u++]<<w,w+=8,x+=I[u++]<<w,w+=8),k=O[x&M];n:for(;;){if(x>>>=F=k>>>24,w-=F,!(16&(F=k>>>16&255))){if((64&F)==0){k=O[(65535&k)+(x&(1<<F)-1)];continue n}o.msg="invalid distance code",c.mode=30;break e}if(H=65535&k,w<(F&=15)&&(x+=I[u++]<<w,(w+=8)<F&&(x+=I[u++]<<w,w+=8)),S<(H+=x&(1<<F)-1)){o.msg="invalid distance too far back",c.mode=30;break e}if(x>>>=F,w-=F,(F=f-p)<H){if(v<(F=H-F)&&c.sane){o.msg="invalid distance too far back",c.mode=30;break e}if(q=T,(P=0)===b){if(P+=y-F,F<B){for(B-=F;N[f++]=T[P++],--F;);P=f-H,q=N}}else if(b<F){if(P+=y+b-F,(F-=b)<B){for(B-=F;N[f++]=T[P++],--F;);if(P=0,b<B){for(B-=F=b;N[f++]=T[P++],--F;);P=f-H,q=N}}}else if(P+=b-F,F<B){for(B-=F;N[f++]=T[P++],--F;);P=f-H,q=N}for(;2<B;)N[f++]=q[P++],N[f++]=q[P++],N[f++]=q[P++],B-=3;B&&(N[f++]=q[P++],1<B&&(N[f++]=q[P++]))}else{for(P=f-H;N[f++]=N[P++],N[f++]=N[P++],N[f++]=N[P++],2<(B-=3););B&&(N[f++]=N[P++],1<B&&(N[f++]=N[P++]))}break}}break}}while(u<h&&f<m);u-=B=w>>3,x&=(1<<(w-=B<<3))-1,o.next_in=u,o.next_out=f,o.avail_in=u<h?h-u+5:5-(u-h),o.avail_out=f<m?m-f+257:257-(f-m),c.hold=x,c.bits=w}},{}],49:[function(t,i,r){var o=t("../utils/common"),l=t("./adler32"),c=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,p=2,m=0,S=-2,y=1,v=852,b=592;function T(P){return(P>>>24&255)+(P>>>8&65280)+((65280&P)<<8)+((255&P)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(P){var q;return P&&P.state?(q=P.state,P.total_in=P.total_out=q.total=0,P.msg="",q.wrap&&(P.adler=1&q.wrap),q.mode=y,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new o.Buf32(v),q.distcode=q.distdyn=new o.Buf32(b),q.sane=1,q.back=-1,m):S}function A(P){var q;return P&&P.state?((q=P.state).wsize=0,q.whave=0,q.wnext=0,w(P)):S}function O(P,q){var I,N;return P&&P.state?(N=P.state,q<0?(I=0,q=-q):(I=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?S:(N.window!==null&&N.wbits!==q&&(N.window=null),N.wrap=I,N.wbits=q,A(P))):S}function L(P,q){var I,N;return P?(N=new x,(P.state=N).window=null,(I=O(P,q))!==m&&(P.state=null),I):S}var M,k,F=!0;function B(P){if(F){var q;for(M=new o.Buf32(512),k=new o.Buf32(32),q=0;q<144;)P.lens[q++]=8;for(;q<256;)P.lens[q++]=9;for(;q<280;)P.lens[q++]=7;for(;q<288;)P.lens[q++]=8;for(h(f,P.lens,0,288,M,0,P.work,{bits:9}),q=0;q<32;)P.lens[q++]=5;h(p,P.lens,0,32,k,0,P.work,{bits:5}),F=!1}P.lencode=M,P.lenbits=9,P.distcode=k,P.distbits=5}function H(P,q,I,N){var U,Q=P.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new o.Buf8(Q.wsize)),N>=Q.wsize?(o.arraySet(Q.window,q,I-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(N<(U=Q.wsize-Q.wnext)&&(U=N),o.arraySet(Q.window,q,I-N,U,Q.wnext),(N-=U)?(o.arraySet(Q.window,q,I-N,N,0),Q.wnext=N,Q.whave=Q.wsize):(Q.wnext+=U,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=U))),0}r.inflateReset=A,r.inflateReset2=O,r.inflateResetKeep=w,r.inflateInit=function(P){return L(P,15)},r.inflateInit2=L,r.inflate=function(P,q){var I,N,U,Q,X,V,re,_,z,te,se,Z,Se,Pe,Te,xe,Re,Ne,Ue,Ye,E,he,ce,W,j=0,ne=new o.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return S;(I=P.state).mode===12&&(I.mode=13),X=P.next_out,U=P.output,re=P.avail_out,Q=P.next_in,N=P.input,V=P.avail_in,_=I.hold,z=I.bits,te=V,se=re,he=m;e:for(;;)switch(I.mode){case y:if(I.wrap===0){I.mode=13;break}for(;z<16;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(2&I.wrap&&_===35615){ne[I.check=0]=255&_,ne[1]=_>>>8&255,I.check=c(I.check,ne,2,0),z=_=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&_)<<8)+(_>>8))%31){P.msg="incorrect header check",I.mode=30;break}if((15&_)!=8){P.msg="unknown compression method",I.mode=30;break}if(z-=4,E=8+(15&(_>>>=4)),I.wbits===0)I.wbits=E;else if(E>I.wbits){P.msg="invalid window size",I.mode=30;break}I.dmax=1<<E,P.adler=I.check=1,I.mode=512&_?10:12,z=_=0;break;case 2:for(;z<16;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(I.flags=_,(255&I.flags)!=8){P.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){P.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=_>>8&1),512&I.flags&&(ne[0]=255&_,ne[1]=_>>>8&255,I.check=c(I.check,ne,2,0)),z=_=0,I.mode=3;case 3:for(;z<32;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.head&&(I.head.time=_),512&I.flags&&(ne[0]=255&_,ne[1]=_>>>8&255,ne[2]=_>>>16&255,ne[3]=_>>>24&255,I.check=c(I.check,ne,4,0)),z=_=0,I.mode=4;case 4:for(;z<16;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.head&&(I.head.xflags=255&_,I.head.os=_>>8),512&I.flags&&(ne[0]=255&_,ne[1]=_>>>8&255,I.check=c(I.check,ne,2,0)),z=_=0,I.mode=5;case 5:if(1024&I.flags){for(;z<16;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.length=_,I.head&&(I.head.extra_len=_),512&I.flags&&(ne[0]=255&_,ne[1]=_>>>8&255,I.check=c(I.check,ne,2,0)),z=_=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(V<(Z=I.length)&&(Z=V),Z&&(I.head&&(E=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),o.arraySet(I.head.extra,N,Q,Z,E)),512&I.flags&&(I.check=c(I.check,N,Z,Q)),V-=Z,Q+=Z,I.length-=Z),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(V===0)break e;for(Z=0;E=N[Q+Z++],I.head&&E&&I.length<65536&&(I.head.name+=String.fromCharCode(E)),E&&Z<V;);if(512&I.flags&&(I.check=c(I.check,N,Z,Q)),V-=Z,Q+=Z,E)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(V===0)break e;for(Z=0;E=N[Q+Z++],I.head&&E&&I.length<65536&&(I.head.comment+=String.fromCharCode(E)),E&&Z<V;);if(512&I.flags&&(I.check=c(I.check,N,Z,Q)),V-=Z,Q+=Z,E)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;z<16;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(_!==(65535&I.check)){P.msg="header crc mismatch",I.mode=30;break}z=_=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),P.adler=I.check=0,I.mode=12;break;case 10:for(;z<32;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}P.adler=I.check=T(_),z=_=0,I.mode=11;case 11:if(I.havedict===0)return P.next_out=X,P.avail_out=re,P.next_in=Q,P.avail_in=V,I.hold=_,I.bits=z,2;P.adler=I.check=1,I.mode=12;case 12:if(q===5||q===6)break e;case 13:if(I.last){_>>>=7&z,z-=7&z,I.mode=27;break}for(;z<3;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}switch(I.last=1&_,z-=1,3&(_>>>=1)){case 0:I.mode=14;break;case 1:if(B(I),I.mode=20,q!==6)break;_>>>=2,z-=2;break e;case 2:I.mode=17;break;case 3:P.msg="invalid block type",I.mode=30}_>>>=2,z-=2;break;case 14:for(_>>>=7&z,z-=7&z;z<32;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if((65535&_)!=(_>>>16^65535)){P.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&_,z=_=0,I.mode=15,q===6)break e;case 15:I.mode=16;case 16:if(Z=I.length){if(V<Z&&(Z=V),re<Z&&(Z=re),Z===0)break e;o.arraySet(U,N,Q,Z,X),V-=Z,Q+=Z,re-=Z,X+=Z,I.length-=Z;break}I.mode=12;break;case 17:for(;z<14;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(I.nlen=257+(31&_),_>>>=5,z-=5,I.ndist=1+(31&_),_>>>=5,z-=5,I.ncode=4+(15&_),_>>>=4,z-=4,286<I.nlen||30<I.ndist){P.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;z<3;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.lens[ve[I.have++]]=7&_,_>>>=3,z-=3}for(;I.have<19;)I.lens[ve[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,ce={bits:I.lenbits},he=h(0,I.lens,0,19,I.lencode,0,I.work,ce),I.lenbits=ce.bits,he){P.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;xe=(j=I.lencode[_&(1<<I.lenbits)-1])>>>16&255,Re=65535&j,!((Te=j>>>24)<=z);){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(Re<16)_>>>=Te,z-=Te,I.lens[I.have++]=Re;else{if(Re===16){for(W=Te+2;z<W;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(_>>>=Te,z-=Te,I.have===0){P.msg="invalid bit length repeat",I.mode=30;break}E=I.lens[I.have-1],Z=3+(3&_),_>>>=2,z-=2}else if(Re===17){for(W=Te+3;z<W;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}z-=Te,E=0,Z=3+(7&(_>>>=Te)),_>>>=3,z-=3}else{for(W=Te+7;z<W;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}z-=Te,E=0,Z=11+(127&(_>>>=Te)),_>>>=7,z-=7}if(I.have+Z>I.nlen+I.ndist){P.msg="invalid bit length repeat",I.mode=30;break}for(;Z--;)I.lens[I.have++]=E}}if(I.mode===30)break;if(I.lens[256]===0){P.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,ce={bits:I.lenbits},he=h(f,I.lens,0,I.nlen,I.lencode,0,I.work,ce),I.lenbits=ce.bits,he){P.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,ce={bits:I.distbits},he=h(p,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,ce),I.distbits=ce.bits,he){P.msg="invalid distances set",I.mode=30;break}if(I.mode=20,q===6)break e;case 20:I.mode=21;case 21:if(6<=V&&258<=re){P.next_out=X,P.avail_out=re,P.next_in=Q,P.avail_in=V,I.hold=_,I.bits=z,u(P,se),X=P.next_out,U=P.output,re=P.avail_out,Q=P.next_in,N=P.input,V=P.avail_in,_=I.hold,z=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;xe=(j=I.lencode[_&(1<<I.lenbits)-1])>>>16&255,Re=65535&j,!((Te=j>>>24)<=z);){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(xe&&(240&xe)==0){for(Ne=Te,Ue=xe,Ye=Re;xe=(j=I.lencode[Ye+((_&(1<<Ne+Ue)-1)>>Ne)])>>>16&255,Re=65535&j,!(Ne+(Te=j>>>24)<=z);){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}_>>>=Ne,z-=Ne,I.back+=Ne}if(_>>>=Te,z-=Te,I.back+=Te,I.length=Re,xe===0){I.mode=26;break}if(32&xe){I.back=-1,I.mode=12;break}if(64&xe){P.msg="invalid literal/length code",I.mode=30;break}I.extra=15&xe,I.mode=22;case 22:if(I.extra){for(W=I.extra;z<W;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.length+=_&(1<<I.extra)-1,_>>>=I.extra,z-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;xe=(j=I.distcode[_&(1<<I.distbits)-1])>>>16&255,Re=65535&j,!((Te=j>>>24)<=z);){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if((240&xe)==0){for(Ne=Te,Ue=xe,Ye=Re;xe=(j=I.distcode[Ye+((_&(1<<Ne+Ue)-1)>>Ne)])>>>16&255,Re=65535&j,!(Ne+(Te=j>>>24)<=z);){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}_>>>=Ne,z-=Ne,I.back+=Ne}if(_>>>=Te,z-=Te,I.back+=Te,64&xe){P.msg="invalid distance code",I.mode=30;break}I.offset=Re,I.extra=15&xe,I.mode=24;case 24:if(I.extra){for(W=I.extra;z<W;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}I.offset+=_&(1<<I.extra)-1,_>>>=I.extra,z-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){P.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(re===0)break e;if(Z=se-re,I.offset>Z){if((Z=I.offset-Z)>I.whave&&I.sane){P.msg="invalid distance too far back",I.mode=30;break}Se=Z>I.wnext?(Z-=I.wnext,I.wsize-Z):I.wnext-Z,Z>I.length&&(Z=I.length),Pe=I.window}else Pe=U,Se=X-I.offset,Z=I.length;for(re<Z&&(Z=re),re-=Z,I.length-=Z;U[X++]=Pe[Se++],--Z;);I.length===0&&(I.mode=21);break;case 26:if(re===0)break e;U[X++]=I.length,re--,I.mode=21;break;case 27:if(I.wrap){for(;z<32;){if(V===0)break e;V--,_|=N[Q++]<<z,z+=8}if(se-=re,P.total_out+=se,I.total+=se,se&&(P.adler=I.check=I.flags?c(I.check,U,se,X-se):l(I.check,U,se,X-se)),se=re,(I.flags?_:T(_))!==I.check){P.msg="incorrect data check",I.mode=30;break}z=_=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;z<32;){if(V===0)break e;V--,_+=N[Q++]<<z,z+=8}if(_!==(4294967295&I.total)){P.msg="incorrect length check",I.mode=30;break}z=_=0}I.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return S}return P.next_out=X,P.avail_out=re,P.next_in=Q,P.avail_in=V,I.hold=_,I.bits=z,(I.wsize||se!==P.avail_out&&I.mode<30&&(I.mode<27||q!==4))&&H(P,P.output,P.next_out,se-P.avail_out)?(I.mode=31,-4):(te-=P.avail_in,se-=P.avail_out,P.total_in+=te,P.total_out+=se,I.total+=se,I.wrap&&se&&(P.adler=I.check=I.flags?c(I.check,U,se,P.next_out-se):l(I.check,U,se,P.next_out-se)),P.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(te==0&&se===0||q===4)&&he===m&&(he=-5),he)},r.inflateEnd=function(P){if(!P||!P.state)return S;var q=P.state;return q.window&&(q.window=null),P.state=null,m},r.inflateGetHeader=function(P,q){var I;return P&&P.state?(2&(I=P.state).wrap)==0?S:((I.head=q).done=!1,m):S},r.inflateSetDictionary=function(P,q){var I,N=q.length;return P&&P.state?(I=P.state).wrap!==0&&I.mode!==11?S:I.mode===11&&l(1,q,N,0)!==I.check?-3:H(P,q,N,N)?(I.mode=31,-4):(I.havedict=1,m):S},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,r){var o=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(f,p,m,S,y,v,b,T){var x,w,A,O,L,M,k,F,B,H=T.bits,P=0,q=0,I=0,N=0,U=0,Q=0,X=0,V=0,re=0,_=0,z=null,te=0,se=new o.Buf16(16),Z=new o.Buf16(16),Se=null,Pe=0;for(P=0;P<=15;P++)se[P]=0;for(q=0;q<S;q++)se[p[m+q]]++;for(U=H,N=15;1<=N&&se[N]===0;N--);if(N<U&&(U=N),N===0)return y[v++]=20971520,y[v++]=20971520,T.bits=1,0;for(I=1;I<N&&se[I]===0;I++);for(U<I&&(U=I),P=V=1;P<=15;P++)if(V<<=1,(V-=se[P])<0)return-1;if(0<V&&(f===0||N!==1))return-1;for(Z[1]=0,P=1;P<15;P++)Z[P+1]=Z[P]+se[P];for(q=0;q<S;q++)p[m+q]!==0&&(b[Z[p[m+q]]++]=q);if(M=f===0?(z=Se=b,19):f===1?(z=l,te-=257,Se=c,Pe-=257,256):(z=u,Se=h,-1),P=I,L=v,X=q=_=0,A=-1,O=(re=1<<(Q=U))-1,f===1&&852<re||f===2&&592<re)return 1;for(;;){for(k=P-X,B=b[q]<M?(F=0,b[q]):b[q]>M?(F=Se[Pe+b[q]],z[te+b[q]]):(F=96,0),x=1<<P-X,I=w=1<<Q;y[L+(_>>X)+(w-=x)]=k<<24|F<<16|B|0,w!==0;);for(x=1<<P-1;_&x;)x>>=1;if(x!==0?(_&=x-1,_+=x):_=0,q++,--se[P]==0){if(P===N)break;P=p[m+b[q]]}if(U<P&&(_&O)!==A){for(X===0&&(X=U),L+=I,V=1<<(Q=P-X);Q+X<N&&!((V-=se[Q+X])<=0);)Q++,V<<=1;if(re+=1<<Q,f===1&&852<re||f===2&&592<re)return 1;y[A=_&O]=U<<24|Q<<16|L-v|0}}return _!==0&&(y[L+_]=P-X<<24|64<<16|0),T.bits=U,0}},{"../utils/common":41}],51:[function(t,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,r){var o=t("../utils/common"),l=0,c=1;function u(j){for(var ne=j.length;0<=--ne;)j[ne]=0}var h=0,f=29,p=256,m=p+1+f,S=30,y=19,v=2*m+1,b=15,T=16,x=7,w=256,A=16,O=17,L=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(m+2));u(H);var P=new Array(2*S);u(P);var q=new Array(512);u(q);var I=new Array(256);u(I);var N=new Array(f);u(N);var U,Q,X,V=new Array(S);function re(j,ne,ve,ye,ee){this.static_tree=j,this.extra_bits=ne,this.extra_base=ve,this.elems=ye,this.max_length=ee,this.has_stree=j&&j.length}function _(j,ne){this.dyn_tree=j,this.max_code=0,this.stat_desc=ne}function z(j){return j<256?q[j]:q[256+(j>>>7)]}function te(j,ne){j.pending_buf[j.pending++]=255&ne,j.pending_buf[j.pending++]=ne>>>8&255}function se(j,ne,ve){j.bi_valid>T-ve?(j.bi_buf|=ne<<j.bi_valid&65535,te(j,j.bi_buf),j.bi_buf=ne>>T-j.bi_valid,j.bi_valid+=ve-T):(j.bi_buf|=ne<<j.bi_valid&65535,j.bi_valid+=ve)}function Z(j,ne,ve){se(j,ve[2*ne],ve[2*ne+1])}function Se(j,ne){for(var ve=0;ve|=1&j,j>>>=1,ve<<=1,0<--ne;);return ve>>>1}function Pe(j,ne,ve){var ye,ee,Oe=new Array(b+1),Ie=0;for(ye=1;ye<=b;ye++)Oe[ye]=Ie=Ie+ve[ye-1]<<1;for(ee=0;ee<=ne;ee++){var le=j[2*ee+1];le!==0&&(j[2*ee]=Se(Oe[le]++,le))}}function Te(j){var ne;for(ne=0;ne<m;ne++)j.dyn_ltree[2*ne]=0;for(ne=0;ne<S;ne++)j.dyn_dtree[2*ne]=0;for(ne=0;ne<y;ne++)j.bl_tree[2*ne]=0;j.dyn_ltree[2*w]=1,j.opt_len=j.static_len=0,j.last_lit=j.matches=0}function xe(j){8<j.bi_valid?te(j,j.bi_buf):0<j.bi_valid&&(j.pending_buf[j.pending++]=j.bi_buf),j.bi_buf=0,j.bi_valid=0}function Re(j,ne,ve,ye){var ee=2*ne,Oe=2*ve;return j[ee]<j[Oe]||j[ee]===j[Oe]&&ye[ne]<=ye[ve]}function Ne(j,ne,ve){for(var ye=j.heap[ve],ee=ve<<1;ee<=j.heap_len&&(ee<j.heap_len&&Re(ne,j.heap[ee+1],j.heap[ee],j.depth)&&ee++,!Re(ne,ye,j.heap[ee],j.depth));)j.heap[ve]=j.heap[ee],ve=ee,ee<<=1;j.heap[ve]=ye}function Ue(j,ne,ve){var ye,ee,Oe,Ie,le=0;if(j.last_lit!==0)for(;ye=j.pending_buf[j.d_buf+2*le]<<8|j.pending_buf[j.d_buf+2*le+1],ee=j.pending_buf[j.l_buf+le],le++,ye===0?Z(j,ee,ne):(Z(j,(Oe=I[ee])+p+1,ne),(Ie=M[Oe])!==0&&se(j,ee-=N[Oe],Ie),Z(j,Oe=z(--ye),ve),(Ie=k[Oe])!==0&&se(j,ye-=V[Oe],Ie)),le<j.last_lit;);Z(j,w,ne)}function Ye(j,ne){var ve,ye,ee,Oe=ne.dyn_tree,Ie=ne.stat_desc.static_tree,le=ne.stat_desc.has_stree,pe=ne.stat_desc.elems,Ee=-1;for(j.heap_len=0,j.heap_max=v,ve=0;ve<pe;ve++)Oe[2*ve]!==0?(j.heap[++j.heap_len]=Ee=ve,j.depth[ve]=0):Oe[2*ve+1]=0;for(;j.heap_len<2;)Oe[2*(ee=j.heap[++j.heap_len]=Ee<2?++Ee:0)]=1,j.depth[ee]=0,j.opt_len--,le&&(j.static_len-=Ie[2*ee+1]);for(ne.max_code=Ee,ve=j.heap_len>>1;1<=ve;ve--)Ne(j,Oe,ve);for(ee=pe;ve=j.heap[1],j.heap[1]=j.heap[j.heap_len--],Ne(j,Oe,1),ye=j.heap[1],j.heap[--j.heap_max]=ve,j.heap[--j.heap_max]=ye,Oe[2*ee]=Oe[2*ve]+Oe[2*ye],j.depth[ee]=(j.depth[ve]>=j.depth[ye]?j.depth[ve]:j.depth[ye])+1,Oe[2*ve+1]=Oe[2*ye+1]=ee,j.heap[1]=ee++,Ne(j,Oe,1),2<=j.heap_len;);j.heap[--j.heap_max]=j.heap[1],(function(ke,Ge){var Xe,Ze,Ot,$e,vt,dn,kt=Ge.dyn_tree,Ve=Ge.max_code,Dt=Ge.stat_desc.static_tree,Yt=Ge.stat_desc.has_stree,wn=Ge.stat_desc.extra_bits,ui=Ge.stat_desc.extra_base,Tt=Ge.stat_desc.max_length,Pt=0;for($e=0;$e<=b;$e++)ke.bl_count[$e]=0;for(kt[2*ke.heap[ke.heap_max]+1]=0,Xe=ke.heap_max+1;Xe<v;Xe++)Tt<($e=kt[2*kt[2*(Ze=ke.heap[Xe])+1]+1]+1)&&($e=Tt,Pt++),kt[2*Ze+1]=$e,Ve<Ze||(ke.bl_count[$e]++,vt=0,ui<=Ze&&(vt=wn[Ze-ui]),dn=kt[2*Ze],ke.opt_len+=dn*($e+vt),Yt&&(ke.static_len+=dn*(Dt[2*Ze+1]+vt)));if(Pt!==0){do{for($e=Tt-1;ke.bl_count[$e]===0;)$e--;ke.bl_count[$e]--,ke.bl_count[$e+1]+=2,ke.bl_count[Tt]--,Pt-=2}while(0<Pt);for($e=Tt;$e!==0;$e--)for(Ze=ke.bl_count[$e];Ze!==0;)Ve<(Ot=ke.heap[--Xe])||(kt[2*Ot+1]!==$e&&(ke.opt_len+=($e-kt[2*Ot+1])*kt[2*Ot],kt[2*Ot+1]=$e),Ze--)}})(j,ne),Pe(Oe,Ee,j.bl_count)}function E(j,ne,ve){var ye,ee,Oe=-1,Ie=ne[1],le=0,pe=7,Ee=4;for(Ie===0&&(pe=138,Ee=3),ne[2*(ve+1)+1]=65535,ye=0;ye<=ve;ye++)ee=Ie,Ie=ne[2*(ye+1)+1],++le<pe&&ee===Ie||(le<Ee?j.bl_tree[2*ee]+=le:ee!==0?(ee!==Oe&&j.bl_tree[2*ee]++,j.bl_tree[2*A]++):le<=10?j.bl_tree[2*O]++:j.bl_tree[2*L]++,Oe=ee,Ee=(le=0)===Ie?(pe=138,3):ee===Ie?(pe=6,3):(pe=7,4))}function he(j,ne,ve){var ye,ee,Oe=-1,Ie=ne[1],le=0,pe=7,Ee=4;for(Ie===0&&(pe=138,Ee=3),ye=0;ye<=ve;ye++)if(ee=Ie,Ie=ne[2*(ye+1)+1],!(++le<pe&&ee===Ie)){if(le<Ee)for(;Z(j,ee,j.bl_tree),--le!=0;);else ee!==0?(ee!==Oe&&(Z(j,ee,j.bl_tree),le--),Z(j,A,j.bl_tree),se(j,le-3,2)):le<=10?(Z(j,O,j.bl_tree),se(j,le-3,3)):(Z(j,L,j.bl_tree),se(j,le-11,7));Oe=ee,Ee=(le=0)===Ie?(pe=138,3):ee===Ie?(pe=6,3):(pe=7,4)}}u(V);var ce=!1;function W(j,ne,ve,ye){se(j,(h<<1)+(ye?1:0),3),(function(ee,Oe,Ie,le){xe(ee),te(ee,Ie),te(ee,~Ie),o.arraySet(ee.pending_buf,ee.window,Oe,Ie,ee.pending),ee.pending+=Ie})(j,ne,ve)}r._tr_init=function(j){ce||((function(){var ne,ve,ye,ee,Oe,Ie=new Array(b+1);for(ee=ye=0;ee<f-1;ee++)for(N[ee]=ye,ne=0;ne<1<<M[ee];ne++)I[ye++]=ee;for(I[ye-1]=ee,ee=Oe=0;ee<16;ee++)for(V[ee]=Oe,ne=0;ne<1<<k[ee];ne++)q[Oe++]=ee;for(Oe>>=7;ee<S;ee++)for(V[ee]=Oe<<7,ne=0;ne<1<<k[ee]-7;ne++)q[256+Oe++]=ee;for(ve=0;ve<=b;ve++)Ie[ve]=0;for(ne=0;ne<=143;)H[2*ne+1]=8,ne++,Ie[8]++;for(;ne<=255;)H[2*ne+1]=9,ne++,Ie[9]++;for(;ne<=279;)H[2*ne+1]=7,ne++,Ie[7]++;for(;ne<=287;)H[2*ne+1]=8,ne++,Ie[8]++;for(Pe(H,m+1,Ie),ne=0;ne<S;ne++)P[2*ne+1]=5,P[2*ne]=Se(ne,5);U=new re(H,M,p+1,m,b),Q=new re(P,k,0,S,b),X=new re(new Array(0),F,0,y,x)})(),ce=!0),j.l_desc=new _(j.dyn_ltree,U),j.d_desc=new _(j.dyn_dtree,Q),j.bl_desc=new _(j.bl_tree,X),j.bi_buf=0,j.bi_valid=0,Te(j)},r._tr_stored_block=W,r._tr_flush_block=function(j,ne,ve,ye){var ee,Oe,Ie=0;0<j.level?(j.strm.data_type===2&&(j.strm.data_type=(function(le){var pe,Ee=4093624447;for(pe=0;pe<=31;pe++,Ee>>>=1)if(1&Ee&&le.dyn_ltree[2*pe]!==0)return l;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return c;for(pe=32;pe<p;pe++)if(le.dyn_ltree[2*pe]!==0)return c;return l})(j)),Ye(j,j.l_desc),Ye(j,j.d_desc),Ie=(function(le){var pe;for(E(le,le.dyn_ltree,le.l_desc.max_code),E(le,le.dyn_dtree,le.d_desc.max_code),Ye(le,le.bl_desc),pe=y-1;3<=pe&&le.bl_tree[2*B[pe]+1]===0;pe--);return le.opt_len+=3*(pe+1)+5+5+4,pe})(j),ee=j.opt_len+3+7>>>3,(Oe=j.static_len+3+7>>>3)<=ee&&(ee=Oe)):ee=Oe=ve+5,ve+4<=ee&&ne!==-1?W(j,ne,ve,ye):j.strategy===4||Oe===ee?(se(j,2+(ye?1:0),3),Ue(j,H,P)):(se(j,4+(ye?1:0),3),(function(le,pe,Ee,ke){var Ge;for(se(le,pe-257,5),se(le,Ee-1,5),se(le,ke-4,4),Ge=0;Ge<ke;Ge++)se(le,le.bl_tree[2*B[Ge]+1],3);he(le,le.dyn_ltree,pe-1),he(le,le.dyn_dtree,Ee-1)})(j,j.l_desc.max_code+1,j.d_desc.max_code+1,Ie+1),Ue(j,j.dyn_ltree,j.dyn_dtree)),Te(j),ye&&xe(j)},r._tr_tally=function(j,ne,ve){return j.pending_buf[j.d_buf+2*j.last_lit]=ne>>>8&255,j.pending_buf[j.d_buf+2*j.last_lit+1]=255&ne,j.pending_buf[j.l_buf+j.last_lit]=255&ve,j.last_lit++,ne===0?j.dyn_ltree[2*ve]++:(j.matches++,ne--,j.dyn_ltree[2*(I[ve]+p+1)]++,j.dyn_dtree[2*z(ne)]++),j.last_lit===j.lit_bufsize-1},r._tr_align=function(j){se(j,2,3),Z(j,w,H),(function(ne){ne.bi_valid===16?(te(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)})(j)}},{"../utils/common":41}],53:[function(t,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,r){(function(o){(function(l,c){if(!l.setImmediate){var u,h,f,p,m=1,S={},y=!1,v=l.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(l);b=b&&b.setTimeout?b:l,u={}.toString.call(l.process)==="[object process]"?function(A){process.nextTick(function(){x(A)})}:(function(){if(l.postMessage&&!l.importScripts){var A=!0,O=l.onmessage;return l.onmessage=function(){A=!1},l.postMessage("","*"),l.onmessage=O,A}})()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(A){l.postMessage(p+A,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(A){x(A.data)},function(A){f.port2.postMessage(A)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(A){var O=v.createElement("script");O.onreadystatechange=function(){x(A),O.onreadystatechange=null,h.removeChild(O),O=null},h.appendChild(O)}):function(A){setTimeout(x,0,A)},b.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var O=new Array(arguments.length-1),L=0;L<O.length;L++)O[L]=arguments[L+1];var M={callback:A,args:O};return S[m]=M,u(m),m++},b.clearImmediate=T}function T(A){delete S[A]}function x(A){if(y)setTimeout(x,0,A);else{var O=S[A];if(O){y=!0;try{(function(L){var M=L.callback,k=L.args;switch(k.length){case 0:M();break;case 1:M(k[0]);break;case 2:M(k[0],k[1]);break;case 3:M(k[0],k[1],k[2]);break;default:M.apply(c,k)}})(O)}finally{T(A),y=!1}}}}function w(A){A.source===l&&typeof A.data=="string"&&A.data.indexOf(p)===0&&x(+A.data.slice(p.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(z1)),z1.exports}var KR=ZR();const JR=Td(KR);var Un={m:{},d:function(n,e){for(var t in e)Un.o(e,t)&&!Un.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",201:"resampling.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Un.p=n})(),Un.b=typeof document<"u"&&document.baseURI||self.location.href;class St{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every((function(t){return!isNaN(t)})))throw new Error("Cannot create index with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,r=this.length();i<r;++i)this.get(i)!==e.get(i)&&t.push(i);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,r=this.length();i<r;++i)t.push(this.get(i)+e.get(i));return new St(t)}#t(e,t){const i=this.#e.slice();return e<i.length?i[e]+=t:console.warn("Cannot add to given dimension: ",e,i.length),new St(i)}next(e){return this.#t(e,1)}previous(e){return this.#t(e,-1)}getWithNew2D(e,t){const i=[e,t];for(let r=2,o=this.length();r<o;++r)i.push(this.get(r));return new St(i)}}class eE{#e;#t;#n;#i;constructor(e,t){if(this.#e=e,this.#t=e.isID(),this.#n=Math.pow(2,t),!this.#t){this.#i=new Float32Array(this.#n);for(let i=0;i<this.#n;++i)this.#i[i]=this.#e.apply(i)}}getRSI(){return this.#e}getLength(){return this.#n}getValue(e){return this.#t?e:this.#i[e]}}class tE{#e;#t;#n;#i=0;#r=!0;constructor(e,t,i){if(this.#e=e,t){const r=this.#e.getLength();this.#i=r/2}else this.#i=0;this.#r=i}getVoiLut(){return this.#t}getModalityLut(){return this.#e}setVoiLut(e){if(this.#t=e,this.#t.setSignedOffset(this.#e.getRSI().getSlope()*this.#i),this.#r){const t=this.#e.getLength();this.#n=new Uint8ClampedArray(t);for(let i=0;i<t;++i)this.#n[i]=this.#t.apply(this.#e.getValue(i))}}getValue(e){return this.#r?this.#n[e+this.#i]:Math.floor(this.#t.apply(e+this.#i))}}function Rr(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function G1(n){return n}function Q1(n){return 255-n}class Gp{red;green;blue;constructor(e,t,i){this.red=e,this.green=t,this.blue=i}}const iC={plain:{red:Rr(G1),green:Rr(G1),blue:Rr(G1)},invPlain:{red:Rr(Q1),green:Rr(Q1),blue:Rr(Q1)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:Rr((function(n){const e=3*n;return e>255?255:e})),green:Rr((function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t})),blue:Rr((function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t}))},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},ge={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},uo={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};class rC{#e;#t;#n=0;#i=255;#r;#a;constructor(e,t,i){i===void 0&&(i=!1);let r=e,o=t;i||(r-=.5,o-=1),this.#e=r-o/2,this.#t=r+o/2,this.#r=(this.#i-this.#n)/o,this.#a=(-r/o+.5)*(this.#i-this.#n)+this.#n}getY(e){let t;return t=e<=this.#e?this.#n:e>this.#t?this.#i:e*this.#r+this.#a,t}}class nE{#e=0;#t=255;#n;#i;constructor(e,t){this.#n=e,this.#i=t}getY(e){return(this.#t-this.#e)/(1+Math.exp(-4*(e-this.#n)/this.#i))+this.#e}}class iE{#e;#t=0;#n;#i=uo.linear;constructor(e,t){if(this.#e=e,t!==void 0){const i=[];for(const r in uo)i.push(uo[r]);i.includes(t)?this.#i=t:ge.debug("Unknown VOI LUT function: "+t)}this.#r()}getWindowLevel(){return this.#e}#r(){const e=this.#e.center,t=this.#e.width,i=e+this.#t;this.#i===uo.linear_exact?this.#n=new rC(i,t,!0):this.#i===uo.sigmoid?this.#n=new nE(i,t):this.#n=new rC(i,t)}setSignedOffset(e){this.#t=e,this.#r()}apply(e){return this.#n.getY(e)}}class Wn{center;width;constructor(e,t){this.center=e,this.width=t}}function Bg(n,e){return n!=null&&e!=null&&n.center===e.center&&n.width===e.width}function aC(n,e,t){if(n===void 0)return;let i=n.center;i=Math.min(i,e.max),i=Math.max(i,e.min);let r=1;t===void 0||t!==uo.linear_exact&&t!==uo.sigmoid||(r=0);let o=n.width;return o=Math.max(o,r),o=Math.min(o,e.max-e.min),new Wn(i,o)}class Rn{r;g;b;constructor(e,t,i){this.r=e,this.g=t,this.b=i}}function rE(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function aE(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const j3={x:95.0489,y:100,z:108.884};function oE(n){return(function(e){function t(o){let l=null;return l=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,l}const i=j3,r=t(e.y/i.y);return{l:116*r-16,a:500*(t(e.x/i.x)-r),b:200*(r-t(e.z/i.z))}})((function(e){function t(l){let c=null;return c=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4),c}const i=t(e.r/255),r=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*i+.3576*r+.1805*o),y:100*(.2126*i+.7152*r+.0722*o),z:100*(.0193*i+.1192*r+.9505*o)}})(n))}function sE(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const lE={CT:{mediastinum:new Wn(40,400),lung:new Wn(-500,1500),bone:new Wn(500,2e3),brain:new Wn(40,80),head:new Wn(90,350)}};class cE{create(e,t){const i=new hE(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&i.setColourMap("invPlain");let r={};t.getMeta().windowPresets!==void 0&&(r=t.getMeta().windowPresets),r.minmax={name:"minmax"};const o=t.getMeta().Modality;let l;l=lE[o];for(const c in l){const u=l[c];r[c]={wl:[new Wn(u.center,u.width)],name:c}}return i.setWindowPresets(r),i}}class Kt{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}norm(){return Math.sqrt(this.#e*this.#e+this.#t*this.#t+this.#n*this.#n)}crossProduct(e){return new Kt(this.#t*e.getZ()-e.getY()*this.#n,this.#n*e.getX()-e.getZ()*this.#e,this.#e*e.getY()-e.getX()*this.#t)}dotProduct(e){return this.#e*e.getX()+this.#t*e.getY()+this.#n*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}}class De{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getX(){return this.#e}getY(){return this.#t}getValues(){return[this.#e,this.#t]}getCentroid(){return this}equals(e){return e!=null&&this.#e===e.getX()&&this.#t===e.getY()}toString(){return"("+this.#e+", "+this.#t+")"}getDistance(e){const t=this.#e-e.getX(),i=this.#t-e.getY();return Math.sqrt(t*t+i*i)}}class yt{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}getValues(){return[this.#e,this.#t,this.#n]}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}isSimilar(e,t){return e!==null&&Tc(this.#e,e.getX(),t)&&Tc(this.#t,e.getY(),t)&&Tc(this.#n,e.getZ(),t)}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}getDistance(e){return Math.sqrt(this.#i(e))}#i(e){const t=this.#e-e.getX(),i=this.#t-e.getY(),r=this.#n-e.getZ();return t*t+i*i+r*r}getClosest(e){let t=0,i=this.#i(e[t]);for(let r=0;r<e.length;++r){const o=this.#i(e[r]);o<i&&(t=r,i=o)}return t}minus(e){return new Kt(this.#e-e.getX(),this.#t-e.getY(),this.#n-e.getZ())}}class cr{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every((function(t){return!isNaN(t)})))throw new Error("Cannot create point with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,r=this.length();i<r;++i)this.get(i)!==e.get(i)&&t.push(i);return t}get3D(){return new yt(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],i=this.getValues(),r=e.getValues();for(let o=0;o<i.length;++o)t.push(i[o]+r[o]);return new cr(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new cr(t)}}const kc=1e-4;function Tc(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}class rr{#e;#t;constructor(e){this.#e=e}get(e,t){return this.#e[3*e+t]}getInverse(){return this.#t===void 0&&(this.#t=(function(e){const t=e.get(0,0),i=e.get(0,1),r=e.get(0,2),o=e.get(1,0),l=e.get(1,1),c=e.get(1,2),u=e.get(2,0),h=e.get(2,1),f=e.get(2,2),p=l*f-c*h,m=c*u-o*f,S=o*h-l*u;let y=t*p+i*m+r*S;if(y!==0)return y=1/y,new rr([y*p,y*(r*h-i*f),y*(i*c-r*l),y*m,y*(t*f-r*u),y*(r*o-t*c),y*S,y*(i*u-t*h),y*(t*l-i*o)]);ge.warn("Cannot invert 3*3 matrix with zero determinant.")})(this)),this.#t}equals(e){for(let t=0;t<3;++t)for(let i=0;i<3;++i)if(this.get(t,i)!==e.get(t,i))return!1;return!0}isSimilar(e,t){for(let i=0;i<3;++i)for(let r=0;r<3;++r)if(!Tc(this.get(i,r),e.get(i,r),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let i=0;i<3;++i)i!==0&&(e+=", "),e+=this.get(t,i)}return e+="]",e}multiply(e){const t=[];for(let i=0;i<3;++i)for(let r=0;r<3;++r){let o=0;for(let l=0;l<3;++l)o+=this.get(i,l)*e.get(l,r);t.push(o)}return new rr(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let i=0;i<3;++i)e.push(Math.abs(this.get(t,i)));return new rr(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=e[0],i=e[1],r=e[2],o=new Array(3);return o[0]=this.#e[0]*t+this.#e[1]*i+this.#e[2]*r,o[1]=this.#e[3]*t+this.#e[4]*i+this.#e[5]*r,o[2]=this.#e[6]*t+this.#e[7]*i+this.#e[8]*r,o}multiplyTypedArray3D(e,t){const i=e[0],r=e[1],o=e[2];t[0]=this.#e[0]*i+this.#e[1]*r+this.#e[2]*o,t[1]=this.#e[3]*i+this.#e[4]*r+this.#e[5]*o,t[2]=this.#e[6]*i+this.#e[7]*r+this.#e[8]*o}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Kt(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new yt(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new St(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],i=Math.max.apply(null,t),r=t.indexOf(i);return{value:this.get(e,r),index:r}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],i=Math.max.apply(null,t),r=t.indexOf(i);return{value:this.get(r,e),index:r}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const i=this.getRowAbsMax(t),r=i.value>0?1:-1;for(let o=0;o<3;++o)o===i.index?e.push(1*r):e.push(0)}return new rr(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}getValues(){return this.#e.slice()}}function Zd(){return new rr([1,0,0,0,1,0,0,0,1])}function pd(n){return n.equals(Zd())}function to(n,e,t,i,r,o,l,c){let u=e;const h=o-r*i;let f=0,p=0;return{next:function(){if(f<t){const m={value:n(u),done:!1,index:u};return u+=i,++f,++p,p===r&&(p=0,u+=h),m}return{done:!0,index:u}}}}function V1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function Y3(n,e,t,i){const r=n.getGeometry().getSize();let o=2;i&&i!==void 0&&(o=i.getColAbsMax(2).index);const l=e.getValues(),c=new St(l.map((function(x,w){return w===o||w>2?x:0})));let u=r.indexToOffset(c);t===void 0&&(t=!1);let h=null;h=t?function(x){return n.getRescaledValueAtOffset(x)}:function(x){return n.getValueAtOffset(x)};const f=r.get(0),p=r.get(1),m=r.get(2);let S=r.getDimSize(2);const y=n.getNumberOfComponents(),v=n.getPlanarConfiguration()===1,b=function(x,w,A,O,L,M,k,F){return y===1?to(x,w,A,O,L,M):y===3?(function(B,H,P,q,I,N,U,Q,X){const V=[];return X?(V.push(to(B,H,P,q,I,N)),V.push(to(B,H+P*q,P,q,I,N)),V.push(to(B,H+2*P*q,P,q,I,N))):(q*=3,N*=3,V.push(to(B,H,P,q,I,N)),V.push(to(B,H+1,P,q,I,N)),V.push(to(B,H+2,P,q,I,N))),{next:function(){const re=V[0].next(),_=V[1].next(),z=V[2].next();return re.done?{done:!0,index:z.index}:{value:[re.value,_.value,z.value],done:!1,index:[re.index,_.index,z.index]}}}})(x,3*w,A,O,L,M,k,F,v):void 0};let T=null;if(i&&i!==void 0){const x=i.getColAbsMax(0),w=i.getColAbsMax(2),A=!1,O=!1;let L=null;if(w.index===2)L=f*p,T=x.index===0?b(h,u,L,1,f,f,A,O):b(h,u,L,f,p,1,A,O);else if(w.index===0)L=m*p,T=x.index===1?b(h,u,L,f,p,S,A,O):b(h,u,L,S,m,f,A,O);else{if(w.index!==1)throw new Error("Unknown direction: "+w.index);L=m*f,T=x.index===0?b(h,u,L,1,f,S,A,O):b(h,u,L,S,m,1,A,O)}}else if(n.getNumberOfComponents()===1)T=(function(x,w,A,O){O===void 0&&(O=1);let L=w;return{next:function(){if(L<A){const M={value:x(L),done:!1,index:L};return L+=O,M}return{done:!0,index:A}}}})(h,u,u+S);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());u*=3,S*=3,T=(function(x,w,A,O,L){O===void 0&&(O=1),L===void 0&&(L=!1);let M=w,k=1;L?k=(A-w)/3:O*=3;let F=M+k,B=M+2*k;return{next:function(){if(M<A){const H={value:[x(M),x(F),x(B)],done:!1,index:[M,F,B]};return M+=O,F+=O,B+=O,H}return{done:!0,index:[A]}}}})(h,u,u+S,1,v)}return T}function uE(n,e){let t=0,i=0;return{next:function(){if(t<e){i+1<n.length&&t>=n[i+1].index&&++i;const r={value:n[i].value,done:!1,index:t};return++t,r}return{done:!0,index:e}}}}class ci{#e={};add(e,t){this.#e[e]===void 0&&(this.#e[e]=[]),this.#e[e].push(t)}remove(e,t){if(this.#e[e]===void 0)return;let i=0;for(let r=0;r<this.#e[e].length;++r)this.#e[e][r]===t&&(++i,this.#e[e].splice(r,1));i===0&&ge.debug("No callback found on remove listener for type "+e)}fireEvent=e=>{if(this.#e[e.type]===void 0)return;const t=this.#e[e.type].slice();for(let i=0;i<t.length;++i)t[i](e)}}class Qp{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getSlope(){return this.#e}getIntercept(){return this.#t}apply(e){return e*this.#e+this.#t}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}class dE{#e=[];#t(e){return this.#e.indexOf(e)}isHidden(e){return this.#t(e)!==-1}addToHidden(e){this.isHidden(e)?ge.warn("Not hidding segment, it is allready in the hidden list: "+e):this.#e.push(e)}removeFromHidden(e){const t=this.#t(e);t!==-1?this.#e.splice(t,1):ge.warn("Cannot remove segment, it is not in the hidden list: "+e)}}const md=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange","maskviewchange"];class hE{#e;#t;#n;#i={minmax:{name:"minmax"}};#r;#a;#o="plain";#s;#l;#c=.33;#u=1;#h;#d=function(e,t){return 255};#p=(e,t)=>e===0||this.#y.isHidden(e)?0:this.getContourThickness()!==0&&this.#e.getContourDistance(t,this.getOrientation())<=this.getContourThickness()?255:255*this.getFillOpacity();#y;#g=new ci;constructor(e){this.setImage(e)}getImage(){return this.#e}setImage(e){this.#e=e,this.getCurrentPosition()===void 0&&this.setCurrentIndex(this.#f(),!0),this.isMask()?(this.#y=new dE,this.#h=this.#p):(this.#h=this.#d,this.#e.addEventListener("appendframe",(()=>{const t=this.getCurrentIndex();if(t.length()===3){const i=t.getValues();i.push(0),this.setCurrentIndex(new St(i),!0)}})))}isMask(){return this.#e.getMeta().Modality==="SEG"}setMaskViewHelper(e){this.#y=e,this.#S({type:"alphafuncchange"})}getOrientation(){return this.#l}setOrientation(e){this.#l=e}getFillOpacity(){return this.#c}setFillOpacity(e){this.#c=e>1?1:e<0?0:e,this.#S({type:"maskviewchange",value:[this.#c,this.#u]})}getContourThickness(){return this.#u}setContourThickness(e){this.#u=e<0?0:e>10?10:e,this.#S({type:"maskviewchange",value:[this.#c,this.#u]})}#f(){const e=this.#e.getGeometry().getSize(),t=new Array(e.length());return t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),e.normaliseIndex(new St(t))}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}getAlphaFunction(){return this.#h}setAlphaFunction(e){this.#h=e,this.#S({type:"alphafuncchange"})}#m(){if(this.#r!==void 0&&this.#i[this.#r]!==void 0&&this.#i[this.#r].perslice!==void 0&&this.#i[this.#r].perslice===!0&&!this.#e.isResampled()){const i=this.getCurrentIndex();if(i===void 0)throw new Error("Cannot get window lut with no current index");const r=this.#e.getSecondaryOffset(i),o=this.#i[this.#r].wl[r];o!==void 0&&this.setWindowLevel(o,this.#r,!0)}if(this.#a===void 0&&this.setWindowLevelPresetById(0,!0),this.#n===void 0||this.#e.isConstantRSI()!==this.#n){let i,r;this.#n=this.#e.isConstantRSI(),this.#n?(i=this.#e.getRescaleSlopeAndIntercept(),r=!0):(i=new Qp(1,0),r=!1);const o=new eE(i,this.#e.getMeta().BitsStored);this.#t=new tE(o,this.#e.getMeta().PixelRepresentation===1,r)}const e=this.#t.getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!Bg(this.#a,t)){const i=new iE(this.#a,this.#e.getMeta().VOILUTFunction);this.#t.setVoiLut(i)}return this.#t}getWindowPresets(){return this.#i}getWindowPresetsNames(){return Object.keys(this.#i)}setWindowPresets(e){this.#i=e}addWindowPresets(e){const t=Object.keys(e);let i=null;for(let r=0;r<t.length;++r)if(i=t[r],this.#i[i]!==void 0){if(this.#i[i].perslice!==void 0&&this.#i[i].perslice===!0)throw new Error("Cannot add perslice preset");this.#i[i]=e[i]}else this.#i[i]=e[i],this.#S({type:"wlpresetadd",name:i})}getCurrentWindowPresetName(){return this.#r}getColourMap(){return this.#o}#C(){return iC[this.#o]}setColourMap(e){if(!iC[e])throw new Error("Unknown colour map: '"+e+"'");this.#o=e,this.#S({type:"colourmapchange",value:[e]})}getCurrentPosition(){return this.#s}getCurrentIndex(){const e=this.getCurrentPosition();if(e!==void 0)return this.getImage().getGeometry().worldToIndex(e)}getCurrentImageUid(){return this.#e.getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=this.#s);const t=this.#e.getGeometry(),i=t.worldToIndex(e),r=[this.getScrollDimIndex()];return i.length()===4&&r.push(3),t.isIndexInBounds(i,r)}getOrigin(e){const t=this.#e.getGeometry();let i=0;return e!==void 0&&(i=t.worldToIndex(e).get(2)),t.getOrigins()[i]}setCurrentIndex(e,t){const i=this.#e.getGeometry().indexToWorld(e);return this.setCurrentPosition(i,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const i=this.#e.getGeometry(),r=i.getSize().normalisePoint(e,this.#s),o=i.worldToIndex(r),l=[this.getScrollDimIndex()];if(o.length()===4&&l.push(3),!i.isIndexInBounds(o,l))return this.#s=r,t||this.#S({type:"positionchange",value:[o.getValues(),e.getValues()],valid:!1}),!1;let c=[];const u=this.getCurrentIndex();if(u!==void 0)if(u.canCompare(o))c=u.compare(o);else{const h=Math.min(u.length(),o.length());for(let p=0;p<h;++p)u.get(p)!==o.get(p)&&c.push(p);const f=Math.max(u.length(),o.length());for(let p=h;p<f;++p)c.push(p)}else for(let h=0;h<o.length();++h)c.push(h);if(this.#s=r,!t){const h={type:"positionchange",value:[o.getValues(),e.getValues()],diffDims:c,data:{imageUid:this.#e.getImageUid(o)}};if(this.#e.canQuantify()){const f=this.#e.getRescaledValueAtIndex(o);h.value.push(f)}this.#S(h)}return!0}setWindowLevel(e,t,i){if(t===void 0&&(t="manual"),t!=="manual"&&this.#i[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");i===void 0&&(i=!1);const r=aC(e,this.#e.getRescaledDataRange(),this.#e.getMeta().VOILUTFunction),o=!Bg(r,this.#a),l=this.#r!==t;(o||l)&&(this.#a=r,this.#r=t,t==="manual"&&(this.#i[t]!==void 0?this.#i[t].wl[0]=r:this.addWindowPresets({manual:{wl:[r],name:"manual"}})),this.#S({type:"wlchange",value:[r.center,r.width,t],wc:r.center,ww:r.width,skipGenerate:i}))}getWindowLevel(){return this.#m().getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const i=this.getWindowPresets()[e];if(i===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&i.wl===void 0&&(i.wl=[this.getWindowLevelMinMax()]);let r=i.wl[0];if(i.perslice!==void 0&&i.perslice===!0&&!this.#e.isResampled()){const o=this.#e.getSecondaryOffset(this.getCurrentIndex());r=i.wl[o]}r!==void 0&&this.setWindowLevel(r,e,t)}setWindowLevelPresetById(e,t){const i=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(i[e],t)}addEventListener(e,t){this.#g.add(e,t)}removeEventListener(e,t){this.#g.remove(e,t)}#S=e=>{this.#g.fireEvent(e)};getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,i=e.min+t/2;return aC(new Wn(i,t),e,this.#e.getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){if(t===void 0&&(t=this.getCurrentIndex())===void 0)throw new Error("Cannot generate image data with no current index");const i=this.getImage(),r=!i.isConstantRSI(),o=Y3(i,t,r,this.getOrientation()),l=i.getPhotometricInterpretation();switch(l){case"MONOCHROME1":case"MONOCHROME2":(function(c,u,h,f,p){let m=0,S=0,y=u.next();for(;!y.done;)S=f.getValue(y.value),c.data[m]=p.red[S],c.data[m+1]=p.green[S],c.data[m+2]=p.blue[S],c.data[m+3]=h(y.value,y.index),m+=4,y=u.next()})(e,o,this.getAlphaFunction(),this.#m(),this.#C());break;case"PALETTE COLOR":(function(c,u,h,f,p){const m=function(b){return b>>8};p&&ge.info("Scaling 16bits data to 8bits.");let S=0,y=0,v=u.next();for(;!v.done;)y=v.value,p?(c.data[S]=m(f.red[y]),c.data[S+1]=m(f.green[y]),c.data[S+2]=m(f.blue[y])):(c.data[S]=f.red[y],c.data[S+1]=f.green[y],c.data[S+2]=f.blue[y]),c.data[S+3]=h(y,v.index),S+=4,v=u.next()})(e,o,this.getAlphaFunction(),i.getPaletteColourMap(),i.getMeta().BitsStored===16);break;case"RGB":(function(c,u,h){let f=0,p=u.next();for(;!p.done;)c.data[f]=p.value[0],c.data[f+1]=p.value[1],c.data[f+2]=p.value[2],c.data[f+3]=h(p.value,p.index),f+=4,p=u.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(c,u,h){let f=0,p=null,m=u.next();for(;!m.done;)S=m.value[0],y=m.value[1],p={r:S+1.402*((v=m.value[2])-128),g:S-.34414*(y-128)-.71414*(v-128),b:S+1.772*(y-128)},c.data[f]=p.r,c.data[f+1]=p.g,c.data[f+2]=p.b,c.data[f+3]=h(m.value,m.index),f+=4,m=u.next();var S,y,v})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+l)}}getScrollDimIndex(){let e=2;const t=this.getOrientation();return t!==void 0&&(e=t.getThirdColMajorDirection()),e}isAquisitionOrientation(){return pd(this.#l)}}const fE={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm",ml:"ml",degree:"",pixel:"pixels"}[t[1]]),e}};function no(n,e,t){if(n==null||e==null)return!1;const i=0;return n.substring(i,i+e.length)===e}function oC(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function sC(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let i=t.exec(n);for(;i;)e.push(i[1]),i=t.exec(n);return e}function ma(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function gE(n){const e=new Uint8Array(n.length);for(let t=0,i=n.length;t<i;t++)e[t]=n.charCodeAt(t);return e}function ar(n,e){const t=Math.pow(10,e),i=.01/t;return Math.round(n*t+i)/t}function pE(n,e){if(e===void 0){e=[];for(let i=0;i<n.length;++i)e.push(i)}for(let i=0;i<e.length;++i)if(e[i]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let i=0;i<e.length;++i)i!==0&&(t+="_"),t+="#"+e[i]+"-"+n[e[i]];return t}function lC(n,e,t){let i=n.map(((r,o)=>(function(l,c,u){return l===void 0?c:c===void 0?l:u(l,c)})(r,e[o],t)));return e.length>n.length&&(i=i.concat(e.slice(n.length))),i}function X3(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&W3(n.slice().sort(),e.slice().sort())}function W3(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every((function(t,i){return t===e[i]}))}function cC(n){return String.fromCharCode.apply(String,n)}function E0(n,e,t,i){(t===void 0||t<0||t>=n.length)&&(t=0),(i===void 0||i<=t||i>n.length)&&(i=n.length);for(let r=t;r<i;++r)if(e(n[r],r,n))return r}function uC(n){return function(e,t,i){for(let r=0;r<n.length;++r)if(i[t+r]!==n[r])return!1;return!0}}const K0={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},mE={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},SE={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function yE(n){return SE[n]!==void 0}const vE={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function CE(n){return vE[n]!==void 0}const dC={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},hC={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},Sd="1.2.840.10008.1.2",zg="1.2.840.10008.1.2.1",yd="1.2.840.10008.1.2.2";class Fc{#e;#t;constructor(e,t){if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);this.#e=e,this.#t=t}getGroup(){return this.#e}getElement(){return this.#t}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&this.#e===e.getGroup()&&this.#t===e.getElement()}getKey(){return this.#e+this.#t}getGroupName(){return mE[this.#e]}isWithVR(){return!(this.#e==="FFFE"&&(this.#t==="E000"||this.#t==="E00D"||this.#t==="E0DD"))}isPrivate(){return parseInt(this.#e,16)%2==1}#n(){let e;return K0[this.#e]!==void 0&&K0[this.#e][this.#t]!==void 0&&(e=K0[this.#e][this.#t]),e}getVrFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[2]),e}}function $3(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new Fc(n.substring(0,4),n.substring(4,8))}function bE(n){return n.getKey()==="FFFEE00D"}function fC(n){return n.getKey()==="FFFEE0DD"}function gC(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function Z3(n){const e=["7FE00010","7FE00009","7FE00008"];let t;for(const i of e)if(n[i]!==void 0){t=n[i];break}return t}function Vp(n){return Z3(n)!==void 0}function DE(n){if(n==null)return null;let e=null,t=null;const i=K0,r=Object.keys(i);let o,l=null,c=!1;for(let u=0,h=r.length;u<h;++u){e=r[u],l=Object.keys(i[e]);for(let f=0,p=l.length;f<p;++f)if(t=l[f],i[e][t][2]===n){c=!0;break}if(c)break}return c&&(o=new Fc(e,t)),o}function K3(n){return function(e,t){const i=$3(t);let r=i.getNameFromDictionary();r===void 0&&(r="x"+i.getKey());const o=n[t];for(const c in o)o[c]===void 0&&delete o[c];let l;if(o.vr==="SQ"){l={value:[]};for(let c=0;c<o.value.length;++c){const u=o.value[c];l.value.push(Object.keys(u).reduce(K3(u),{}))}}else l=o.value.length===1?o.value[0]:o.value;return e[r]=l,e}}function TE(n){const e=structuredClone(n);return Object.keys(e).reduce(K3(e),{})}class Co{vr;value;tag;vl;undefinedLength;startOffset;endOffset;items;constructor(e){this.vr=e}}function J3(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function et(n,e){let t;return J3(n[e])&&(t=n[e].value[0]),t}function Sn(n,e){let t;return J3(n[e])&&(t=n[e].value),t}function Er(n,e,t){let i="";if(n===void 0)i+=" "+e+" is undefined,";else if(n.value===void 0)i+=" "+e+" has undefined value,";else if(n.value.length===0)i+=" "+e+" is empty,";else if(t!==void 0)for(let r=0;r<t.length;++r)n.value.includes(t[r])||(i+=" "+e+" does not contain "+t[r]+" (value: "+n.value+"),");return i}function Sa(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),i=n.BYTES_PER_ELEMENT;let r;for(let o=0;o<e;o+=i)for(let l=o+i-1,c=o;l>c;l--,c++)r=t[c],t[c]=t[l],t[l]=r}class H1{#e;#t=!0;#n=(function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0})();#i;#r;constructor(e,t){this.#e=e,t!==void 0&&(this.#t=t),this.#i=this.#t!==this.#n,this.#r=new DataView(e)}readUint16(e){return this.#r.getUint16(e,this.#t)}readInt16(e){return this.#r.getInt16(e,this.#t)}readUint32(e){return this.#r.getUint32(e,this.#t)}readBigUint64(e){return this.#r.getBigUint64(e,this.#t)}readInt32(e){return this.#r.getInt32(e,this.#t)}readBigInt64(e){return this.#r.getBigInt64(e,this.#t)}readFloat32(e){return this.#r.getFloat32(e,this.#t)}readFloat64(e){return this.#r.getFloat64(e,this.#t)}readBinaryArray(e,t,i){const r=new Uint8Array(this.#e,e,t);let o;o=i!==void 0?i:8*r.length;const l=new Uint8Array(o);let c=0,u=0;for(let h=0;h<o;++h)c=h%8,u=Math.floor(h/8),l[h]=255*!!(r[u]&1<<c);return l}readUint8Array(e,t){return new Uint8Array(this.#e,e,t)}readInt8Array(e,t){return new Int8Array(this.#e,e,t)}readUint16Array(e,t){const i=Uint16Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Uint16Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Uint16Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readUint16(l),l+=i}return o}readInt16Array(e,t){const i=Int16Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Int16Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Int16Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readInt16(l),l+=i}return o}readUint32Array(e,t){const i=Uint32Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Uint32Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Uint32Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readUint32(l),l+=i}return o}readUint64Array(e,t){const i=BigUint64Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new BigUint64Array(this.#e,e,r),this.#i&&Sa(o);else{o=new BigUint64Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readBigUint64(l),l+=i}return o}readInt32Array(e,t){const i=Int32Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Int32Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Int32Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readInt32(l),l+=i}return o}readInt64Array(e,t){const i=BigInt64Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new BigInt64Array(this.#e,e,r),this.#i&&Sa(o);else{o=new BigInt64Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readBigInt64(l),l+=i}return o}readFloat32Array(e,t){const i=Float32Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Float32Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Float32Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readFloat32(l),l+=i}return o}readFloat64Array(e,t){const i=Float64Array.BYTES_PER_ELEMENT,r=t/i;let o=null;if(e%i==0)o=new Float64Array(this.#e,e,r),this.#i&&Sa(o);else{o=new Float64Array(r);let l=e;for(let c=0;c<r;++c)o[c]=this.readFloat64(l),l+=i}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}function xE(){return"0.36.0"}function pC(n){const e=n.split("-");let t=[];for(const i of e)t=t.concat(i.split("."));return t}function mC(n,e){let t=0;const i=pC(n),r=pC(e);for(let o=0;o<3&&(t=parseInt(i[o],10)-parseInt(r[o],10),t===0);++o);if(t===0){const l=i[4],c=r[4];t=l===void 0&&c===void 0?0:l===void 0&&c!==void 0?1:l!==void 0&&c===void 0?-1:parseInt(l,10)-parseInt(c,10)}return t}const wE=String.fromCharCode("u200B");class AE{decode(e){let t="";for(let i=0,r=e.length;i<r;++i)t+=String.fromCharCode(e[i]);return t}}function SC(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let i=0;i<n.length;i++){const r=e[n.substring(i,i+1)];r&&(t+=r)}return t}function IE(n){return n===Sd}function OE(n){return n===yd}function Hp(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function jp(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function Yp(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function e6(n){return n==="1.2.840.10008.1.2.5"}function t6(n,e,t){let i=null;try{n===1||n===8?i=e===0?new Uint8Array(t):new Int8Array(t):n===16?i=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(i=e===0?new Uint32Array(t):new Int32Array(t))}catch(r){if(r instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));ge.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return i}const yC="00280100",vC="00280103";class n6{#e={};#t;#n=new AE;#i=this.#n;#r(e){return this.#n.decode(e)}#a(e){return this.#i.decode(e)}getDefaultCharacterSet(){return this.#t}setDefaultCharacterSet(e){this.#t=e}setDecoderCharacterSet(e){this.#i=new TextDecoder(e)}getDicomElements(){return this.#e}safeGet(e){return et(this.#e,e)}#o(e,t){const i=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const r=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new Fc(i,r),endOffset:t}}#s(e,t,i){const r={};let o=this.#c(e,t,i);if(t=o.endOffset,fC(o.tag))return{data:r,endOffset:o.endOffset,isSeqDelim:!0};if(r[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let l=!1;for(;!l;)o=this.#c(e,t,i),t=o.endOffset,l=bE(o.tag),l||(r[o.tag.getKey()]=o)}else{const l=t;for(t-=o.vl;t<l;)o=this.#c(e,t,i),t=o.endOffset,r[o.tag.getKey()]=o}return{data:r,endOffset:t,isSeqDelim:!1}}#l(e,t,i){const r=[];let o=this.#c(e,t,i);const l=o.vl;t=o.endOffset;let c=!1;for(;!c;)o=this.#c(e,t,i),t=o.endOffset,c=fC(o.tag),c||(o.vr="OB",r.push(o));return{data:r,endOffset:t,offsetTableVl:l}}#c(e,t,i,r){const o=this.#o(e,t),l=o.tag;if(r!==void 0&&l.equals(r)){const v=new Co("");return v.tag=l,v}t=o.endOffset;let c=null,u=!1;l.isWithVR()?i?(c=l.getVrFromDictionary(),c===void 0&&(c="UN"),u=!0):(c=this.#r(e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,u=yE(c),u&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(c="NONE",u=!0),(function(v){return Object.keys(dC).concat(["NONE","ox","xx","xs"]).includes(v)})(c)||(ge.warn("Unknown VR: "+c+" (for tag "+l.getKey()+"), treating as 'UN'"),c="UN");let h=0;u?(h=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(h=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let f=!1;h===4294967295&&(f=!0,h=0),l.isPrivate()&&c==="UN"&&h===0&&(c="SQ");let p,m=t,S=m+h;if(gC(l)&&f){const v=this.#l(e,t,i);t=v.endOffset,m+=v.offsetTableVl,p=v.data,S=t,h=t-m}else if(c==="SQ"){let v;if(p=[],f){let b=!1;for(;!b;)v=this.#s(e,t,i),b=v.isSeqDelim,t=v.endOffset,b||p.push(v.data);S=t,h=t-m}else if(h!==0){const b=t+h;for(;t<b;)v=this.#s(e,t,i),p.push(v.data),t=v.endOffset;S=t,h=t-m}}const y=new Co(c);return y.tag=l,y.vl=h,y.startOffset=m,y.endOffset=S,f&&(y.undefinedLength=f),p&&(y.items=p),y}#u(e,t,i){const r=e.tag,o=e.vl,l=e.vr,c=e.startOffset;let u,h;i!==void 0&&(u=i.bitsAllocated,h=i.pixelRepresentation);let f=null;const p=dC[l];if(gC(r))if(e.undefinedLength){f=[];for(let m=0;m<e.items.length;++m)f.push(this.#u(e.items[m],t,i));delete e.items}else if(u>8&&l==="OB"&&(ge.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),f=[],u===1)f.push(t.readBinaryArray(c,o,i.imageBufferSize));else if(u===8)h===0?f.push(t.readUint8Array(c,o)):f.push(t.readInt8Array(c,o));else if(u===16)h===0?f.push(t.readUint16Array(c,o)):f.push(t.readInt16Array(c,o));else if(u===32)f.push(t.readFloat32Array(c,o));else{if(u!==64)throw new Error("Unsupported bits allocated: "+u);f.push(t.readFloat64Array(c,o))}else if(p!==void 0)if(p==="Uint8")f=t.readUint8Array(c,o);else if(p==="Uint16")f=t.readUint16Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(p==="Uint32")f=t.readUint32Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(p==="Uint64")f=t.readUint64Array(c,o);else if(p==="Int16")f=Array.from(t.readInt16Array(c,o));else if(p==="Int32")f=Array.from(t.readInt32Array(c,o));else if(p==="Int64")f=t.readInt64Array(c,o);else if(p==="Float32")f=Array.from(t.readFloat32Array(c,o));else if(p==="Float64")f=Array.from(t.readFloat64Array(c,o));else{if(p!=="string")throw new Error("Unknown VR type: "+p);{const m=t.readUint8Array(c,o);f=CE(l)?this.#a(m):this.#r(m),f=(function(S){let y=S;const v=S.length-1;return S[v]===wE&&(y=S.substring(0,v)),y=y.trim(),y})(f).split("\\")}}else if(l==="xx")f=Array.from(t.readUint16Array(c,o));else if(l==="ox")f=Array.from(u===8?h===0?t.readUint8Array(c,o):t.readInt8Array(c,o):h===0?t.readUint16Array(c,o):t.readInt16Array(c,o));else if(l==="xs")f=Array.from(h===0?t.readUint16Array(c,o):t.readInt16Array(c,o));else if(l==="AT"){const m=t.readUint16Array(c,o);f=[];for(let S=0,y=m.length;S<y;S+=2){const v=m[S].toString(16),b=m[S+1].toString(16);let T="(";T+="0000".substring(0,4-v.length)+v.toUpperCase(),T+=",",T+="0000".substring(0,4-b.length)+b.toUpperCase(),T+=")",f.push(T)}}else if(l==="SQ"){f=[];for(let m=0;m<e.items.length;++m){const S=e.items[m],y={},v=Object.keys(S);let b=u,T=h;for(let x=0;x<v.length;++x){let w=S[yC];w!==void 0&&w.value!==void 0&&(b=w.value[0]),w=S[vC],w!==void 0&&w.value!==void 0&&(T=w.value[0]);const A={bitsAllocated:b,pixelRepresentation:T},O=S[v[x]];O.value=this.#u(O,t,A),delete O.tag,delete O.vl,delete O.startOffset,delete O.endOffset,y[v[x]]=O}f.push(y)}delete e.items}else l==="NONE"||ge.warn("Unknown VR: "+l+" (for tag "+e.tag.getKey()+")"),f=[];return f}#h(e,t,i){const r=Object.keys(e);for(let o=0;o<r.length;++o){const l=e[r[o]];l.value===void 0&&(l.value=this.#u(l,t,i)),delete l.tag,delete l.vl,delete l.startOffset,delete l.endOffset}}parse(e,t){let i=0,r="",o=null;const l=new H1(e);let c=new H1(e);i=128;const u=this.#r(l.readUint8Array(i,4));if(i+=4*Uint8Array.BYTES_PER_ELEMENT,u==="DICM"){o=this.#c(l,i,!1),o.value=this.#u(o,l),i=o.endOffset,this.#e[o.tag.getKey()]=o;const m=i+o.value[0];for(;i<m;)o=this.#c(l,i,!1),i=o.endOffset,this.#e[o.tag.getKey()]=o;if(o=this.#e["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=this.#u(o,l),r=o.value[0]}else{ge.warn("Invalid DICM prefix ("+u+"), trying to guess tansfer syntax."),o=this.#c(c,0,!1);const m=(function(S){const y="0008",v=S.tag.getGroup();if(v!=="0800"&&v!==y)throw new Error("Not a valid DICOM file (invalid DICM word found and first element not in 0008 group)");const b=S.vr,T=b.charCodeAt(0),x=b.charCodeAt(1),w=!(T>=65&&T<=90&&x>=65&&x<=90);let A=null;if(v===y)A=w?Sd:zg;else{if(w)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");A=yd}const O=new Co("UI");return O.tag=new Fc("0002","0010"),O.value=[A],O.vl=O.value[0].length,O.startOffset=S.startOffset,O.endOffset=O.startOffset+O.vl,O})(o);this.#e[m.tag.getKey()]=m,r=m.value[0],i=0}if(!(function(m){return m===Sd||m===zg||m===yd||Hp(m)||jp(m)||Yp(m)||e6(m)})(r))throw new Error("Unsupported DICOM transfer syntax: '"+r+"' ("+(function(m){let S="Unknown";return hC[m]!==void 0&&(S=hC[m]),S})(r)+")");let h=!1;IE(r)&&(h=!0),OE(r)&&(c=new H1(e,!1));let f,p=!1;for(;i<e.byteLength;){if(o=this.#c(c,i,h,t),t!==void 0&&o.tag.equals(t)){p=!0;break}i=o.endOffset;const m=o.tag.getKey();this.#e[m]===void 0?this.#e[m]=o:ge.warn("Not saving duplicate tag: "+m)}if(isNaN(i))throw new Error("Problem while parsing, bad offset");if(p||e.byteLength===i||ge.warn("Did not reach the end of the buffer: "+i+" != "+e.byteLength),Vp(this.#e)){let m=0;o=this.#e[vC],o!==void 0?(o.value=this.#u(o,c),m=o.value[0]):ge.warn("Reading DICOM pixel data with default pixelRepresentation.");let S=16;o=this.#e[yC],o!==void 0?(o.value=this.#u(o,c),S=o.value[0]):ge.warn("Reading DICOM pixel data with default bitsAllocated.");let y,v,b=1;o=this.#e["00280008"],o!==void 0&&(o.value=this.#u(o,c),b=parseInt(o.value[0],10)),f={pixelRepresentation:m,bitsAllocated:S,numberOfFrames:b},o=this.#e["00280010"],o!==void 0&&(o.value=this.#u(o,c),y=parseInt(o.value[0],10)),o=this.#e["00280011"],o!==void 0&&(o.value=this.#u(o,c),v=parseInt(o.value[0],10)),y!==void 0&&v!==void 0&&(f.imageBufferSize=y*v*b)}if(this.#t!==void 0&&this.setDecoderCharacterSet(this.#t),o=this.#e["00080005"],o!==void 0){let m;o.value=this.#u(o,c),o.value.length===1?m=o.value[0]:(m=o.value[1],ge.warn("Unsupported character set with code extensions: '"+m+"'.")),this.setDecoderCharacterSet((function(S){let y="utf-8";return S==="ISO_IR 100"?y="iso-8859-1":S==="ISO_IR 101"?y="iso-8859-2":S==="ISO_IR 109"?y="iso-8859-3":S==="ISO_IR 110"?y="iso-8859-4":S==="ISO_IR 144"?y="iso-8859-5":S==="ISO_IR 127"?y="iso-8859-6":S==="ISO_IR 126"?y="iso-8859-7":S==="ISO_IR 138"?y="iso-8859-8":S==="ISO_IR 148"?y="iso-8859-9":S==="ISO_IR 13"?y="shift-jis":S==="ISO_IR 166"?y="iso-8859-11":S==="ISO 2022 IR 87"?y="iso-2022-jp":S==="ISO 2022 IR 149"||S==="ISO 2022 IR 58"||(S==="ISO_IR 192"?y="utf-8":S==="GB18030"?y="gb18030":S==="GB2312"?y="gb2312":S==="GBK"&&(y="chinese")),y})(m))}if(this.#h(this.#e,c,f),o=this.#e["7FE00010"],o!==void 0&&o.undefinedLength){const m=f.numberOfFrames,S=o.value;if(S.length>1&&S.length>m){const y=S.length/m,v=[];let b=0;for(let T=0;T<m;++T){b=T*y;let x=0;for(let O=0;O<y;++O)x+=S[b+O].length;const w=new S[0].constructor(x);let A=0;for(let O=0;O<y;++O)w.set(S[b+O],A),A+=S[b+O].length;v[T]=w}o.value=v}}}}class ki{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every((function(t){return!isNaN(t)&&t!==0})))throw new Error("Cannot create size with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let i=3;i<this.length();++i)t=t||this.moreThanOne(i);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let i=1;for(let r=t;r<e;++r)i*=this.get(r);return i}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}isInBounds(e,t){if(!e)return!1;const i=this.length();if(i!==e.length())return!1;if(t===void 0){t=[];for(let l=0;l<i;++l)t.push(l)}else for(let l=0;l<i;++l)if(t[l]>i-1)throw new Error("Wrong input dir value: "+t[l]);for(let l=0;l<t.length;++l)if(r=e.get(t[l]),o=this.get(t[l]),!(r>=0&&r<o))return!1;var r,o;return!0}indexToOffset(e,t){if(e.length()>this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let i=0;for(let r=t;r<e.length();++r){const o=this.get(r),l=e.get(r);if(l>=o||l<0)return-1;i+=l*this.getDimSize(r,t)}return i}offsetToIndex(e){const t=new Array(this.length());let i=e,r=0;for(let o=this.length()-1;o>0;--o)r=this.getDimSize(o),t[o]=Math.floor(i/r),i-=t[o]*r;return t[0]=i,new St(t)}get2D(){return{x:this.get(0),y:this.get(1)}}#t(e,t){const i=e.slice(0,this.length());for(let r=e.length;r<this.length();++r)t!==void 0&&t[r]!==void 0?i.push(t[r]):i.push(0);return i}normalisePoint(e,t){let i;t!==void 0&&(i=t.getValues());const r=this.#t(e.getValues(),i);return new cr(r)}normaliseIndex(e,t){let i;t!==void 0&&(i=t.getValues());const r=this.#t(e.getValues(),i);return new St(r)}}class or{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every((function(t){return!isNaN(t)&&t!==0})))throw new Error("Cannot create spacing with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}class PE{min;max;mean;stdDev;median;p25;p75;constructor(e,t,i,r){this.min=e,this.max=t,this.mean=i,this.stdDev=r}}function Xp(n,e){return(function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))})(e)?(function(t){const i=Gg(t);return t.sort((function(r,o){return r-o})),i.median=j1(t,.5),i.p25=j1(t,.25),i.p75=j1(t,.75),i})(n):Gg(n)}function Gg(n){let e=n[0],t=e,i=0,r=0,o=0;const l=n.length;for(let f=0;f<l;++f)o=n[f],o<e?e=o:o>t&&(t=o),i+=o,r+=o*o;const c=i/l;let u=r/l-c*c;u<0&&(u=0);const h=Math.sqrt(u);return new PE(e,t,c,h)}function j1(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,i=Math.floor(t),r=n[i];return r+(n[i+1]-r)*(t-i)}class Qg{success;message;constructor(e){this.success=e}}class Ni{#e;#t;#n;#i={};#r;#a=Zd();constructor(e,t,i,r,o){this.#e=e,this.#t=t,this.#n=i,o!==void 0&&(this.#r=o,this.#i[o]=e.slice()),r!==void 0&&(this.#a=r)}clone(){return new Ni(this.#e.slice(),new ki(this.#t.getValues()),new or(this.#n.getValues()),new rr(this.#a.getValues()),this.#r)}getInitialTime(){return this.#r}setInitialTime(e){this.#i[this.#r]!==void 0&&delete this.#i[this.#r],this.#r=e,this.#i[e]=this.#e.slice()}getCurrentTotalNumberOfSlices(){const e=Object.keys(this.#i);if(e.length===0)return this.#e.length;let t=0;for(let i=0;i<e.length;++i)t+=this.#i[e[i]].length;return t}hasSlicesAtTime(e){return this.#i[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(this.#i);if(t.length===0)return;let i=0;for(let r=0;r<t.length;++r){const o=t[r];if(parseInt(o,10)===e)break;i+=this.#i[o].length}return i}getOrigin(){return this.#e[0]}getOrigins(){return this.#e}includesOrigin(e,t){for(let i=0;i<this.#e.length;++i)if(this.#e[i].isSimilar(e,t))return!0;return!1}getSize(e){let t=this.#t;if(e&&e!==void 0){let i=xc([this.#t.get(0),this.#t.get(1),this.#t.get(2)],e);i=i.map(Math.abs),t=new ki(i.concat(this.#t.getValues().slice(3)))}return t}updateSliceSpacing(){const e=(function(t){if(t.length<=1)return;const i=[];for(let l=0;l<t.length-1;++l){const c=t[l],u=t[l+1],h=c.getDistance(u);if(h===0)throw new Error("Zero slice spacing "+c.toString()+" "+u.toString());i.push(h)}const r=Gg(i),o=ar(r.mean,4);return r.stdDev>kc&&ge.warn("Varying slice spacing, value: "+o+" (mean: "+r.mean+", min: "+r.min+", max: "+r.max+", stdDev: "+r.stdDev+")"),o})(this.#e);if(e!==void 0){this.#n.get(2)!==1&&this.#n.get(2)!==e&&ge.debug("Using geometric spacing "+e+" instead of tag spacing "+this.#n.get(2));const t=this.#n.getValues();t[2]=e,this.#n=new or(t)}}getSpacing(e){let t=this.#n;if(e&&e!==void 0){let i=xc([this.#n.get(0),this.#n.get(1),this.#n.get(2)],e);i=i.map(Math.abs),t=new or(i)}return t}getRealSpacing(){return this.getSpacing(this.#a.getInverse().asOneAndZeros())}getOrientation(){return this.#a}getSliceIndex(e,t){let i=this.#e;t!==void 0&&(i=this.#i[t]);const r=e.getClosest(i),o=i[r],l=e.minus(o);return new Kt(this.#a.get(0,2),this.#a.get(1,2),this.#a.get(2,2)).isCodirectional(l)?r+1:r}canAppend(e){const t=e.getSize();if(t.get(2)!==1)return{success:!1,message:"Cannot append more than one slice"};const i=this.getSize();if(i.get(0)!==t.get(0))return{success:!1,message:"Cannot append a slice with different number of columns"};if(i.get(1)!==t.get(1))return{success:!1,message:"Cannot append a slice with different number of rows"};if(!this.getOrientation().isSimilar(e.getOrientation(),kc))return{success:!1,message:"Cannot append a slice with different orientation"};const r=this.canAppendOrigin(e.getOrigin(),e.getInitialTime());return r.success?new Qg(!0):r}canAppendOrigin(e,t){const i=function(r){return r.equals(e)};if(t!==void 0&&t!==this.#r){if(this.#i[t]!==void 0&&this.#i[t].find(i)!==void 0)return{success:!1,message:"Cannot append same time origin twice"}}else if(this.#e.find(i)!==void 0)return{success:!1,message:"Cannot append same origin twice"};return new Qg(!0)}appendOrigin(e,t,i){const r=this.canAppendOrigin(e,i);if(!r.success)throw new Error(r.message);if(i!==void 0&&this.#i[i].splice(t,0,e),i===void 0||i===this.#r){this.#e.splice(t,0,e);const o=this.#t.getValues();o[2]+=1,this.#t=new ki(o)}}appendFrame(e,t){this.#i[t]=[e];const i=this.#t.getValues(),r=this.#n.getValues();i.length===4?i[3]+=1:(i.push(2),r.push(1)),this.#t=new ki(i),this.#n=new or(r)}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!=null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())&&this.getOrientation().equals(e.getOrientation())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const i=new St(t),r=new St(this.getSize().getValues());return[this.indexToWorld(i),this.indexToWorld(r)]}indexToWorld(e){const t=this.getSpacing(),i=new yt(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),r=this.getOrientation().multiplyPoint3D(i),o=e.getValues(),l=this.getOrigin();return o[0]=l.getX()+r.getX(),o[1]=l.getY()+r.getY(),o[2]=l.getZ()+r.getZ(),new cr(o)}pointToWorld(e){const t=this.getSpacing(),i=new yt(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),r=this.getOrientation().multiplyPoint3D(i),o=this.getOrigin();return new yt(o.getX()+r.getX(),o.getY()+r.getY(),o.getZ()+r.getZ())}worldToIndex(e){const t=this.getOrigin(),i=new yt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),r=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=Math.floor(ar(r.getX()/l.get(0),5)),o[1]=Math.floor(ar(r.getY()/l.get(1),5)),o[2]=Math.floor(ar(r.getZ()/l.get(2),5)),new St(o)}worldToPoint(e){const t=this.getOrigin(),i=new yt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),r=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=r.getX()/l.get(0),o[1]=r.getY()/l.get(1),o[2]=r.getZ()/l.get(2),new yt(o[0],o[1],o[2])}}function xc(n,e){return e.getInverse().multiplyArray3D(n)}function CC(n,e){return e.multiplyArray3D(n)}function i6(){return new rr([1,0,0,0,0,1,0,-1,0])}const qr={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function bC(n){let e;return n===qr.Axial?e=Zd():n===qr.Coronal?e=i6():n===qr.Sagittal&&(e=new rr([0,0,-1,1,0,0,0,-1,0])),e}function r6(n){const e=new Kt(n.get(0,0),n.get(1,0),n.get(2,0)),t=new Kt(n.get(0,1),n.get(1,1),n.get(2,1)),i=new Kt(n.get(0,2),n.get(1,2),n.get(2,2));return Y1(e)+Y1(t)+Y1(i)}function Y1(n){let e=new Kt(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const i=n.getX()<0?"R":"L",r=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",l=1e-4;for(let c=0;c<3;c++)if(e.getX()>l&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=i,e=new Kt(0,e.getY(),e.getZ());else if(e.getY()>l&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=r,e=new Kt(e.getX(),0,e.getZ());else{if(!(e.getZ()>l&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new Kt(e.getX(),e.getY(),0)}return t}function LE(n){let e;const t=Wp(n);return t!==void 0&&(e=(function(i){let r;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(i)?r=qr.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(i)?r=qr.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(i)&&(r=qr.Sagittal),r})(r6(t.asOneAndZeros()))),e}function Wp(n){let e;if(n!==void 0&&n.length===6){const t=new Kt(n[0],n[1],n[2]),i=new Kt(n[3],n[4],n[5]),r=t.crossProduct(i);e=new rr([t.getX(),i.getX(),r.getX(),t.getY(),i.getY(),r.getY(),t.getZ(),i.getZ(),r.getZ()])}return e}function DC(n,e){let t=Zd();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const Jt={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",ReferencedSeriesSequence:"00081115",SeriesInstanceUID:"0020000E",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",DistanceSourceToDetector:"00181110",DistanceSourceToPatient:"00181111",EstimatedRadiographicMagnificationFactor:"00181114",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002",PixelMeasuresSequence:"00289110",SharedFunctionalGroupsSequence:"52009229",PerFrameFunctionalGroupsSequence:"52009230"};function Vg(n){let e;const t=et(n,Jt.Rows),i=et(n,Jt.Columns);return t!==void 0&&i!==void 0&&(e=[i,t]),e}function Is(n,e){let t;const i=Sn(n,e);return i!==void 0&&i.length===2&&(t=[parseFloat(i[1]),parseFloat(i[0])]),t}function TC(n){let e;const t=Sn(n,Jt.PixelMeasuresSequence);return t!==void 0&&(e=Is(t[0],Jt.PixelSpacing)),e}function a6(n){const e=Is(n,Jt.PixelSpacing);if(e===void 0)return;const t=et(n,Jt.SpacingBetweenSlices);return t!==void 0&&e.push(parseFloat(t)),new or(e)}function xC(n){const e=et(n,Jt.PhotometricInterpretation),t=et(n,Jt.TransferSyntax);if(e!==void 0&&t!==void 0){let i=e.toUpperCase();(Yp(t)||Hp(t)||jp(t))&&!$p(i)&&(i="RGB");let r=et(n,Jt.SamplesPerPixel);return r===void 0&&(r=1),i==="RGB"&&r===1&&(i="PALETTE COLOR"),i}}function $p(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function RE(n){let e;const t=Sn(n,Jt.ReferencedSeriesSequence);return t!==void 0&&(e=et(t[0],Jt.SeriesInstanceUID)),e}const bo={GE:"ge",SIEMENS:"siemens",PHILIPS:"philips",HITASHI:"hitashi"};function EE(n){return et(n,"00080070")}function wC(n){let e;const t=EE(n);return t!==void 0&&(e=t.toUpperCase().startsWith("SIEMENS")?bo.SIEMENS:t.startsWith("GE")?bo.GE:t.startsWith("Philips")?bo.PHILIPS:t.toLowerCase()),e}const o6="00080016",s6="52009230",l6="00189087",ME=[{manufacturer:bo.SIEMENS,key:"0019100C"},{manufacturer:bo.GE,key:"00431039"},{manufacturer:bo.HITASHI,key:"00291030"}],c6="1.2.840.10008.5.1.4.1.1.4",u6="1.2.840.10008.5.1.4.1.1.4.1",d6="1.2.840.10008.5.1.4.1.1.4.2",h6="1.2.840.10008.5.1.4.1.1.4.3";function AC(n){let e;const t=Sn(n,"00189117");return t!==void 0&&(e=et(t[0],l6)),e}function IC(n){let e;const t=Sn(n,"52009229");if(t!==void 0&&(e=AC(t[0])),e===void 0){const i=Sn(n,s6);if(i!==void 0){for(const r of i)if(e=AC(r),e!==void 0)break}}return e}function _E(n){let e;const t=et(n,o6);return t===u6||t===d6||t===h6?(e=IC(n),e===void 0&&(e=(function(i){let r;const o=wC(i);return o!==void 0&&o===bo.PHILIPS&&(r=(function(l){let c,u=!1;const h=Sn(l,"00209222");if(h!==void 0)for(const f of h){const p=et(f,"00209165");if(p!==void 0&&p==="(0018,9087)"){u=!0;break}}if(u){const f=Sn(l,s6);if(f!==void 0){const p=Sn(f[0],"00209111");if(p!==void 0){const m=Sn(p[0],"00209157");m!==void 0&&(c=m[2])}}}return c})(i)),r})(n),e!==void 0&&console.log("got b-value for enhanced MR from non standard tag"))):t===c6&&(e=(function(i){let r;if(r===void 0){const o=wC(i),l=et(i,"00080018");let c;c=ME;for(const u of c)if((u.uidPrefix!==void 0&&l!==void 0&&l.startsWith(u.uidPrefix)||u.manufacturer!==void 0&&o!==void 0&&u.manufacturer===o)&&(r=et(i,u.key)),r!==void 0&&!isNaN(parseInt(r,10)))break}return r===void 0&&(r=et(i,l6)),r})(n),e===void 0&&e===void 0&&(e=IC(n))),e!==void 0&&(e=parseInt(e,10)),e}function f6(n){let e;{const t=(function(i){let r;const o=et(i,o6);if(o===c6||o===u6||o===d6||o===h6){const l=_E(i);l!==void 0&&(r=l)}return r})(n);t!==void 0&&(e=t)}return e}function OC(n){let e;{const t=et(n,"00080032");t!==void 0&&(e=parseFloat(t))}return e}function J0(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,i=6;return e.length===10&&(t=5,i=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===i+2?parseInt(e.substring(i,i+2),10):0}}function dc(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),i=e.length>=4?parseInt(e.substring(2,4),10):0,r=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:i,seconds:r,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function wc(n,e){let t;if(n!==void 0){let i=0,r=0,o=0,l=0;e!==void 0&&(e.hours!==void 0&&(i=e.hours),e.minutes!==void 0&&(r=e.minutes),e.seconds!==void 0&&(o=e.seconds),e.milliseconds!==void 0&&(l=e.milliseconds)),t=new Date(n.year,n.monthIndex,n.day,i,r,o,l)}return t}function Hg(n){let e;return n!==void 0&&(e={year:n.getFullYear(),monthIndex:n.getMonth(),day:n.getDate()}),e}function jg(n){let e;return n!==void 0&&(e={hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}),e}function Yg(n){let e;return n!==void 0&&(e=n.year.toString()+(n.monthIndex+1).toString().padStart(2,"0")+n.day.toString().padStart(2,"0")),e}function Xg(n){let e;return n!==void 0&&(e=n.hours.toString().padStart(2,"0")+n.minutes.toString().padStart(2,"0")+n.seconds.toString().padStart(2,"0")),e}const PC="00080016",LC="00080060",RC="00280002",EC="00280100",MC={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};class kE{#e;#t;getWarning(){return this.#e}checkElements(e){if(this.#e=void 0,Vg(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!Vp(e))throw new Error("No pixel data in DICOM file");const t=et(e,LC);if(t!==void 0&&t==="PT"){const r=xC(e);if((i=et(e,PC))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(i)||!$p(r))return this.#e;const o=(function(l){let c="";const u={};let h;c+=Er(l["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),c+=Er(l["00541102"],"Decay Correction (00541102)",["START"]),c+=Er(l["00541001"],"Units (00541001)",["BQML"]);const f=l["00101030"],p=Er(f," PatientWeight (00101030)");if(p.length===0){const S=parseFloat(f.value[0]);isNaN(S)?c+=" PatientWeight is not a number":h=S}else c+=p;const m=(function(S){let y,v="";const b=J0(S["00080021"]);let T,x,w;const A=S["00540016"];if(v+=Er(A,"RadiopharmaceuticalInformationSequence (00540016)"),A!==void 0){A.value.length!==1&&ge.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const F="RadionuclideTotalDose (00181074)",B=A.value[0]["00181074"];if(y=Er(B,F),y.length===0){const U=parseFloat(B.value[0]);isNaN(U)?v+=" TotalDose is not a number":T=U}else v+=y;const H="RadionuclideHalfLife (00181075)",P=A.value[0]["00181075"];if(y=Er(P,H),y.length===0){const U=parseFloat(P.value[0]);isNaN(U)?v+=" HalfLife is not a number":x=U}else v+=y;const q=A.value[0]["00181078"];let I,N;if(q===void 0)I=b,N=dc(A.value[0]["00181072"]);else{const U=(function(Q){if(Q===void 0||Q.value.length!==1)return;const X=Q.value[0].split("&")[0],V=new Co("DA");V.value=[X.substring(0,8)];const re=J0(V),_=new Co("TM");return _.value=[X.substring(8)],{date:re,time:X.length>=9?dc(_):void 0}})(q);I=U.date,N=U.time}w=wc(I,N)}let O=wc(b,dc(S["00080031"]));const L=S["00080022"],M=S["00080032"];if(L!==void 0&&M!==void 0){const F=J0(L),B=dc(M),H=wc(F,B);if(O>H){const P="Series date/time is after Aquisition date/time (diff="+(O.getTime()-H.getTime()).toString()+"ms) ";ge.debug(P);let q=0;const I="FrameReferenceTime (00541300)",N=S["00541300"];v+=Er(N,I),N!==void 0&&(q=N.value[0]);let U=0;const Q="ActualFrameDuration (00181242)",X=S["00181242"];if(v+=Er(X,Q),X!==void 0&&(U=X.value[0]),q>0&&U>0){U/=1e3,q/=1e3;const V=Math.log(2)/x,re=V*U,_=1/V*Math.log(re/(1-Math.exp(-re)))-q;O=new Date(F.year,F.monthIndex,F.day,B.hours,B.minutes,B.seconds+_,B.milliseconds)}}}let k;if(O!==void 0&&w!==void 0&&T!==void 0&&x!==void 0){const F=(O.getTime()-w.getTime())/1e3;k=T*Math.pow(2,-F/x)}return{value:k,warning:v}})(l);return c+=m.warning,c.length!==0?u.warning="Cannot calculate PET SUV:"+c:u.value=1e3*h/m.value,u})(e);this.#t=o.value,this.#e=o.warning}var i;return this.#e}create(e,t,i){const r=function(V){return et(e,V)},o=Vg(e),l=[o[0],o[1],1],c=r("00280008");if(c!==void 0){const V=parseInt(c,10);V>1&&l.push(V)}const u=new ki(l);let h=[1,1,1];const f=(function(V){let re=Is(V,Jt.PixelSpacing);return re===void 0&&(re=(function(_){let z=Is(_,Jt.ImagerPixelSpacing);if(z!==void 0){let te;const se=parseFloat(et(_,Jt.EstimatedRadiographicMagnificationFactor));if(isNaN(se)){const Z=parseFloat(et(_,Jt.DistanceSourceToDetector)),Se=parseFloat(et(_,Jt.DistanceSourceToPatient));isNaN(Z)||isNaN(Se)||Se===0||(te=Z/Se)}else te=se;te!==void 0?(z=z.map((Z=>Z/te)),ge.warn("Got pixel spacing from corrected ImagerPixelSpacing tag")):ge.warn("Got pixel spacing from raw ImagerPixelSpacing tag")}return z})(V)),re===void 0&&(re=(function(_){const z=Is(_,Jt.NominalScannedPixelSpacing);return z!==void 0&&ge.warn("Got pixel spacing from NominalScannedPixelSpacing tag"),z})(V)),re===void 0&&(re=(function(_){let z;const te=Sn(_,Jt.SharedFunctionalGroupsSequence);if(te!==void 0&&(z=TC(te[0])),z===void 0){const se=Sn(_,Jt.PerFrameFunctionalGroupsSequence);se!==void 0&&(z=TC(se[0]))}return z})(V)),re})(e);if(f!==void 0)h=[f[0],f[1],1];else{const V=Is(e,Jt.PixelAspectRatio);V!==void 0&&(h=[V[0],V[1],1],ge.warn("Use pixel aspect ratio as spacing"))}const p=new or(h),m=Sn(e,"00200032");let S=new Array(0,0,0);m!==void 0&&(S=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]);const y=(function(V){const re=Sn(V,Jt.ImageOrientationPatient);let _;return re!==void 0&&(_=Wp(re.map((z=>parseFloat(z))))),_})(e),v=new yt(S[0],S[1],S[2]),b=f6(e),T=new Ni([v],u,p,y,b),x=r("00080018");let w=r(RC);w===void 0&&(w=1);const A=u.getTotalSize()*w;if(A!==t.length){if(ge.warn("Badly sized pixel buffer: "+t.length+" != "+A),!(A<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,u.getTotalSize())}const O=new Lo(T,t,[x]),L=xC(e);L!==void 0&&O.setPhotometricInterpretation(L);const M=r("00280006");M!==void 0&&O.setPlanarConfiguration(M);let k=1;const F=r("00281053");if(F!==void 0){const V=parseFloat(F);isNaN(V)||(k=V)}let B=0;const H=r("00281052");if(H!==void 0){const V=parseFloat(H);isNaN(V)||(B=V)}let P=!1,q=1;this.#t!==void 0&&(P=!0,q=this.#t,ge.info("Applying PET SUV calibration: "+q),k*=q,B*=q);const I=new Qp(k,B);if(O.setRescaleSlopeAndIntercept(I),O.getPhotometricInterpretation()==="PALETTE COLOR"){const V=(function(re){let _;const z=Sn(re,"00281101");if(z!==void 0&&z.length===3){let te,se,Z;const Se=re["00281201"],Pe=re["00281202"],Te=re["00281203"];if(z[2]===16){let xe=!1,Re=z[0];Re===0&&(Re=65536);const Ne=Se.vl;if(Ne!==2*Re&&(xe=!0,ge.info("16bits lut but size is not double. desc: "+Re+" vl: "+Ne)),parseInt(et(re,EC),10)===8&&(xe=!0,ge.info("Scaling 16bits color lut since bits allocated is 8.")),xe){const Ue=function(Ye){return Ye>>8};te=Se.value.map(Ue),se=Pe.value.map(Ue),Z=Te.value.map(Ue)}}else if(z[2]===8){ge.info("Scaling 16bits color lut since the lut descriptor is 8.");let xe=Se.value.slice(0);te=Array.from(new Uint8Array(xe.buffer)),xe=Pe.value.slice(0),se=Array.from(new Uint8Array(xe.buffer)),xe=Te.value.slice(0),Z=Array.from(new Uint8Array(xe.buffer))}_=new Gp(te,se,Z)}return _})(e);V!==void 0&&O.setPaletteColourMap(V)}const N={numberOfFiles:i};N.TransferSyntaxUID=r("00020010"),N.MediaStorageSOPClassUID=r("00020002"),N.SOPClassUID=r(PC),N.Modality=r(LC),N.ImageType=r("00080008"),N.SamplesPerPixel=r(RC),N.PhotometricInterpretation=r("00280004"),N.PixelRepresentation=r("00280103"),N.BitsAllocated=r(EC),N.BitsStored=r("00280101"),N.HighBit=r("00280102");const U=Object.keys(MC);for(const V of U)N[V]=r(MC[V]);if(P)N.pixelUnit="SUV";else{const V=(Q=e,(function(re){let _;const z=["RescaleType","Units"];for(const te of z)if(_=et(re,Jt[te]),_!==void 0)break;if(_===void 0){const te=et(re,Jt.Modality);te!==void 0&&te==="CT"&&(_="HU")}return _})(Q));V!==void 0&&(N.pixelUnit=V)}var Q;N.lengthUnit=f===void 0?"unit.pixel":"unit.mm";const X=(function(V,re){let _;const z=Sn(V,"00281050"),te=Sn(V,"00281051");if(z!==void 0&&te!==void 0){_={};const se=Sn(V,"00281055");let Z;for(let Se=0;Se<z.length;++Se){const Pe=parseFloat(z[Se]);let Te=parseFloat(te[Se]);Pe&&Te&&Te!==0&&(Z="",se!==void 0&&(Z=se[Se]),Z===""&&(Z="Default"+Se),Te*=re,Te<1&&(Te=1),_[Z]={wl:[new Wn(Pe*re,Te)],name:Z}),Te===0&&ge.warn("Zero window width found in DICOM.")}}return _})(e,q);return X!==void 0&&(N.windowPresets=X),N.VOILUTFunction=r("00281056"),O.setMeta(N),O}}let _C=0;function FE(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);_C+=1;const t="."+_C;let i="1.2.826.0.1.3680043.9.7278.1.";const r=29+t.length+e.length,o=Math.min(n.length,64-r);if(o>1){let l="";for(let c=0;c<o;++c)l+=n.charCodeAt(c);i+=l.substring(0,o)}return i+=e+t,i}function Uc(n){const e=Object.keys(n),t={};for(const i of e){const r=DE(i);if(r===void 0)continue;const o=r.getVrFromDictionary();let l,c=!1;const u=n[i];if(o==="SQ"){const f=[];if(u.undefinedLength!==void 0&&(c=u.undefinedLength),Array.isArray(u.value))for(const p of u.value)f.push(Uc(p));else ge.debug("Non array simpleTag SQ value");l=f}else l=Array.isArray(u)?u:[u];const h=new Co(o);h.tag=r,h.value=l,c&&(h.undefinedLength=c),t[r.getKey()]=h}return t}const kC="00080100",FC="00080102",UC="00080119",NC="00080120";class Nc{meaning;value;longValue;urnValue;schemeDesignator;constructor(e){this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function ed(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function Os(n){const e=new Nc(n["00080104"].value[0]);if(n[kC]!==void 0)e.value=n[kC].value[0];else if(n[UC]!==void 0)e.longValue=n[UC].value[0];else{if(n[NC]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[NC].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[FC]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[FC].value[0]}return e}function Oa(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const qC={value:"111017",meaning:"CAD Processing and Findings Summary"},BC={value:"111030",meaning:"Image Region"},zC={value:"111059",meaning:"Single Image Finding"},UE={value:"111099",meaning:"Selected region"},NE={value:"111242",meaning:"All algorithms succeeded; with findings"},GC={value:"112000",meaning:"Chest CAD Report"},QC={value:"112020",meaning:"Response Evaluation"},qE={value:"112021",meaning:"Response Evaluation Method"},BE={value:"112022",meaning:"RECIST"},M0={value:"112039",meaning:"Tracking Identifier"},VC={value:"112051",meaning:"Measurement of Response"},X1={value:"112040",meaning:"Tracking Unique Identifier"},HC={value:"112048",meaning:"Current Response"},zE={value:"113076",meaning:"Segmentation"},GE={value:"121055",meaning:"Path"},jC={value:"121106",meaning:"Comment"},QE={value:"121322",meaning:"Source image for image processing operation"},VE={value:"121324",meaning:"Source Image"},_0={value:"122438",meaning:"Reference Points"},k0={value:"125007",meaning:"Measurement Group"},YC={value:"125309",meaning:"Short Label"},W1={value:"126000",meaning:"Imaging Measurement Report"},XC={value:"126010",meaning:"Imaging Measurements"},WC={value:"128773",meaning:"Reference Geometry"},HE={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},jE={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function Je(n){const e=new Nc(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function vd(n,e){let t,i;return e==="SCT"?t=HE[n]:e==="UCUM"&&(t=jE[n]),t!==void 0&&(i=new Nc(t),i.schemeDesignator=e,i.value=n),i}function $C(){return vd("718499004","SCT")}const Wg={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},$g={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function g6(n){const e=$g[n];let t;return e!==void 0?t=vd(e,"UCUM"):e===void 0&&(t=vd("1","UCUM")),t}const ZC="00620005",KC="00620009",JC="0062000C",eb="0062000D",tb="00620003",nb="0062000F",ib="00620020";class YE{number;label;algorithmType;algorithmName;displayValue;displayRGBValue;propertyTypeCode;propertyCategoryCode;trackingUid;trackingId;constructor(e,t,i){this.number=e,this.label=t,this.algorithmType=i}}function XE(n){const e=new YE(n["00620004"].value[0],n[ZC]?n[ZC].value[0]:"n/a",n["00620008"].value[0]);if(n[KC]!==void 0&&(e.algorithmName=n[KC].value[0]),n[JC]!==void 0)e.displayValue=n[JC].value[0];else if(n[eb]!==void 0){const i=n[eb].value,r=(function(o){return(function(l){function c(p){let m=null;return m=p<=.0031308?12.92*p:1.055*Math.pow(p,.416666667)-.055,Math.min(1,Math.max(0,m))}const u=l.x/100,h=l.y/100,f=l.z/100;return{r:Math.round(255*c(3.2406*u-1.5372*h-.4986*f)),g:Math.round(255*c(-.9689*u+1.8758*h+.0415*f)),b:Math.round(255*c(.0557*u-.204*h+1.057*f))}})((function(l){function c(f){let p=null;return p=f>.206896552?Math.pow(f,3):.128418549*f-.017712903,p}const u=j3,h=(l.l+16)/116;return{x:u.x*c(h+l.a/500),y:u.y*c(h),z:u.z*c(h-l.b/200)}})(o))})({l:.001525902*(t={l:i[0],a:i[1],b:i[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=r}else ge.warn("No recommended colour for segment, using default"),e.displayRGBValue=(function(i){const r=[new Rn(0,0,0),new Rn(255,0,0),new Rn(0,255,0),new Rn(0,0,255),new Rn(255,255,0),new Rn(0,255,255),new Rn(255,0,255),new Rn(255,239,213),new Rn(0,0,205),new Rn(205,133,63),new Rn(210,180,140),new Rn(102,205,170),new Rn(0,0,128),new Rn(0,139,139),new Rn(46,139,87),new Rn(255,228,225)];let o;return o=i<r.length?r[i]:new Rn(255*Math.random(),255*Math.random(),255*Math.random()),o})(e.number);var t;if(n[tb]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=Os(n[tb].value[0]),n[nb]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=Os(n[nb].value[0]),n[ib]!==void 0&&(e.trackingId=n[ib].value[0],e.trackingUid=n["00620021"].value[0]),e}function WE(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const i=aE(oE(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(i.l),Math.round(i.a),Math.round(i.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[Oa(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[Oa(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const rb="00089124",ab="00082112",ob="00081150",sb="00081155",lb="00209116",cb="00289110";class $E{dimIndex;imagePosPat;derivationImages;refSegmentNumber;imageOrientationPatient;spacing;constructor(e,t,i,r){this.dimIndex=e,this.imagePosPat=t,this.derivationImages=i,this.refSegmentNumber=r}}function ZE(n){const e=[];if(n[rb]!==void 0){const c=n[rb].value;for(let u=0;u<c.length;++u){const h=[];if(c[u][ab]!==void 0){const f=c[u][ab].value;for(let p=0;p<f.length;++p){const m={};f[p][ob]!==void 0&&(m.referencedSOPClassUID=f[p][ob].value[0]),f[p][sb]!==void 0&&(m.referencedSOPInstanceUID=f[p][sb].value[0]),h.push(m)}}e.push({sourceImages:h})}}const t=n["00209111"].value[0]["00209157"].value,i=n["0062000A"].value,r=parseInt(i[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let c=0;c<o.length;++c)o[c]=parseFloat(o[c]);const l=new $E(t,o,e,r);if(n[lb]!==void 0){const c=n[lb];if(c.value.length!==0){const u=c.value[0]["00200037"].value;u!==void 0&&(l.imageOrientationPatient=u)}}if(n[cb]!==void 0){const c=n[cb];if(c.value.length!==0){const u=a6(c.value[0]);u!==void 0&&(l.spacing=u)}else ge.warn("No shared functional group pixel measure sequence items.")}return l}function KE(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=Oa(Je(QE)),i=Oa(Je(zE)),r=[];for(const o of n.derivationImages){const l=[];for(const c of o.sourceImages)l.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:c.referencedSOPClassUID,ReferencedSOPInstanceUID:c.referencedSOPInstanceUID});r.push({DerivationCodeSequence:{value:[i]},SourceImageSequence:{value:l}})}e.DerivationImageSequence={value:r}}return e}const ub="00209116",db="00289110",hb={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function JE(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let i,r=!1;if(i=t.value.length===1?t.value[0]:t.value,Array.isArray(i))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(X3(e.enum[o],i)){r=!0;break}}else r=e.enum.includes(i);if(!r)throw new Error("Unsupported "+e.name+" value: "+i)}function eM(n,e,t){const i=n.getGeometry().getSize().getDimSize(2),r={};for(let o=0;o<i;++o){const l=t+o,c=n.getValueAtOffset(l);for(const u of e){const h=u.number-1;c===u.number&&(r[h]===void 0&&(r[h]=new Uint8Array(i)),r[h][o]=1)}}return r}const p6=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[Sd,zg,yd]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function m6(){const n={};for(const e of p6)n[e.name]=e.enum[0];return n}class tM{#e;getWarning(){return this.#e}checkElements(e){}create(e,t,i){const r=function(Z){return et(e,Z)},o=function(Z){return Sn(e,Z)};for(const Z of p6)JE(e,Z);const l=Vg(e),c=new ki([l[0],l[1],1]),u=c.getTotalSize();let h=r("00280008");if(h=h!==void 0?parseInt(h,10):1,h!==t.length/u)throw new Error("Buffer and numberOfFrames meta are not equal "+h+" "+t.length/u);const f=(function(Z){const Se=Z["00209221"];if(Se===void 0||Se.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const Pe=Se.value[0]["00209164"].value[0],Te=[],xe=Z["00209222"];if(xe!==void 0){const Re=xe.value;if(Re.length!==2)throw new Error("Unsupported dimension index sequence length");let Ne;for(let Ue=0;Ue<Re.length;++Ue){const Ye=Re[Ue]["00209164"].value[0];if(Ye!==Pe)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");Ne=Re[Ue]["00209165"].value[0];const E={DimensionOrganizationUID:Ye,DimensionIndexPointer:Ne};Re[Ue]["00209421"]!==void 0&&(E.DimensionDescriptionLabel=Re[Ue]["00209421"].value[0]),Te.push(E)}if(Ne!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:Pe}]},indices:{value:Te}}})(e),p=o("00620002");if(p===void 0)throw new Error("Missing or empty segmentation sequence");const m=[],S=[0],y=[0],v=[0];for(let Z=0;Z<p.length;++Z){const Se=XE(p[Z]);Se.displayRGBValue!==void 0&&(S[Se.number]=Se.displayRGBValue.r,y[Se.number]=Se.displayRGBValue.g,v[Se.number]=Se.displayRGBValue.b),m.push(Se)}let b,T,x,w=!1;S.length>1&&(w=!0,b=new Gp(S,y,v));const A=o("52009229");if(A!==void 0){const Z=A[0];if(Z[ub]!==void 0){const Se=Z[ub];Se.value.length!==0?x=Se.value[0]["00200037"].value:ge.warn("No shared functional group plane orientation sequence items.")}if(Z[db]!==void 0){const Se=Z[db];Se.value.length!==0?T=a6(Se.value[0]):ge.warn("No shared functional group pixel measure sequence items.")}}const O=function(Z,Se){return Z.some((function(Pe){return Te=Se,xe=Pe,JSON.stringify(Te)===JSON.stringify(xe);var Te,xe}))},L=function(Z,Se){return Z.findIndex((function(Pe){return Se.equals(Pe)}))},M=o("52009230");if(M===void 0)throw new Error("Missing or empty per frame functional sequence");if(h!==M.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const k=[];for(let Z=0;Z<M.length;++Z)k.push(ZE(M[Z]));const F=[];for(let Z=0;Z<k.length;++Z){if(O(F,k[Z].imagePosPat)||F.push(k[Z].imagePosPat),k[Z].imageOrientationPatient!==void 0){if(x===void 0)x=k[Z].imageOrientationPatient;else if(!X3(x,k[Z].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(k[Z].spacing!==void 0){if(T===void 0)T=k[Z].spacing;else if(!T.equals(k[Z].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(T===void 0)throw new Error("No spacing found for DICOM SEG");if(T.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(x===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const B=Wp(x.map((Z=>parseFloat(Z))));if(B===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");F.sort((function(Z){const Se=Z.getInverse();return function(Pe,Te){const xe=Se.multiplyArray3D(Pe),Re=Se.multiplyArray3D(Te);return xe[2]-Re[2]}})(B));const H=function(Z){return new yt(Z[0],Z[1],Z[2])},P=[];for(const Z of F)P.push(H(Z));let q;q=i!==void 0?this.#t(P,c,T,B,i.getGeometry().getOrigins()):this.#n(P,c,T,B);const I=q.getSize().get(2),N=function(Z){return function(Se){return Se.number===Z}},U=new t.constructor(u*I);U.fill(0);const Q=q.getOrigins();let X,V,re;for(let Z=0;Z<k.length;++Z){if(X=L(Q,H(k[Z].imagePosPat)),X===-1)throw new Error("Cannot find frame origin in mask origins");V=u*Z,re=u*X;const Se=m.find(N(k[Z].refSegmentNumber));for(let Pe=0;Pe<u;++Pe)t[V+Pe]!==0&&(U[re+Pe]=w?Se.number:Se.displayValue)}const _=[];for(let Z=0;Z<I;++Z)_.push(Z.toString());const z=new Lo(q,U,_);w&&(z.setPhotometricInterpretation("PALETTE COLOR"),z.setPaletteColourMap(b));const te=m6(),se=Object.keys(hb);for(const Z of se)te[Z]=r(hb[Z]);return te.DimensionOrganizationSequence=f.organizations,te.DimensionIndexSequence=f.indices,te.custom={segments:m,frameInfos:k,SOPInstanceUID:r("00080018")},te.lengthUnit=i.getMeta().lengthUnit,te.numberOfFiles=I,z.setMeta(te),z}#t(e,t,i,r,o){const l=function(f,p){return f.findIndex((function(m){return p.isSimilar(m,1e-4)}))},c=[];c.push(e[0]);let u=l(o,e[0]);if(u===-1)throw new Error("No index for first frame origin");for(let f=1;f<e.length;++f){const p=e[f],m=l(o,p);if(m===-1)throw new Error("No index for frame origin "+f);if(m!==u+1)for(let S=u+1;S<m;++S)c.push(o[S]);c.push(p),u=m}const h=new Ni([e[0]],t,i,r);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}#n(e,t,i,r){ge.warn("Guessing image geometry for DICOM SEG");const o=new Ni([e[0]],t,i,r),l=function(f){let p=f>kc;return p&&(p=f>.001,p?(p=f>.01,p||ge.warn("Using larger+ real world epsilon in SEG pos pat adding")):ge.warn("Using larger real world epsilon in SEG pos pat adding")),p},c=[];c.push(e[0]);let u=0;for(let f=1;f<e.length;++f){++u;let p=new St([0,0,u]),m=o.indexToWorld(p).get3D();const S=e[f];let y=S.getDistance(m);const v=y;for(;l(y);)if(ge.debug("Adding intermediate pos pats for DICOM seg at "+m.toString()),c.push(m),++u,p=new St([0,0,u]),m=o.indexToWorld(p).get3D(),y=S.getDistance(m),y>v)throw new Error("Test distance is increasing when adding intermediate pos pats");c.push(S)}const h=new Ni([e[0]],t,i,r);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}toDicom(e,t,i,r){const o=e.getMeta();t===void 0&&(t=o.segments);const l=e.getGeometry(),c=l.getSize();o.Rows=c.get(1),o.Columns=c.get(0);const u=new Date;o.ContentDate=Yg(Hg(u)),o.ContentTime=Xg(jg(u)),i!==void 0&&(o.StudyInstanceUID=i.getMeta().StudyInstanceUID);const h=[];for(const O of t)h.push(WE(O));var f,p;o.SegmentSequence={value:h},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(p=l.getOrientation(),{ImageOrientationPatient:[p.get(0,0),p.get(1,0),p.get(2,0),p.get(0,1),p.get(1,1),p.get(2,1)]})]},PixelMeasuresSequence:{value:[(f=l.getSpacing(),{SpacingBetweenSlices:f.get(2),PixelSpacing:[f.get(1),f.get(0)]})]}}]};const m=(function(O,L){const M=O.getGeometry().getSize(),k=M.getDimSize(2),F={};for(let B=0;B<M.get(2);++B){const H=eM(O,L,B*k),P=Object.keys(H);for(const q of P)F[q]===void 0&&(F[q]={}),F[q][B]=H[q]}return F})(e,t),S=[],y=[],v=[];for(const O of t){const L=O.number,M=L-1;if(m[M]===void 0)continue;const k=Object.keys(m[M]);for(let F=k.length-1;F>=0;--F){const B=Number.parseInt(k[F],10);y.push(m[M][B]);const H=e.getGeometry().getOrigins()[B],P=[H.getX(),H.getY(),H.getZ()],q={dimIndex:[L,k.length-F],imagePosPat:P,refSegmentNumber:L};if(i!==void 0){const I=i.getGeometry().worldToIndex(new cr([H.getX(),H.getY(),H.getZ()]));q.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:i.getImageUid(I),referencedSOPClassUID:i.getMeta().SOPClassUID}]}],v.push({ReferencedSOPInstanceUID:i.getImageUid(I),ReferencedSOPClassUID:i.getMeta().SOPClassUID})}S.push(q)}}o.NumberOfFrames=y.length.toString();const b=[];for(const O of S)b.push(KE(O));if(o.PerFrameFunctionalGroupsSequence={value:b},i!==void 0){const O=[];O.push({ReferencedInstanceSequence:{value:v},SeriesInstanceUID:i.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:O}}r!==void 0&&(function(O,L){const M=Object.keys(L);for(const k of M)O[k]!==void 0&&ge.debug("Overwritting tag: "+k),O[k]=L[k]})(o,r);const T=Uc(o),x=c.getDimSize(2),w=y.length*x/8,A=new Co("OB");return A.tag=new Fc("7FE0","0010"),A.vl=w,A.value=y,T["7FE00010"]=A,T}}class Zp{poolSize;taskQueue;freeThreads;runningThreads;constructor(e){this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new nM(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){this.#e(),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}handleWorkerError=e=>{this.#e(),this.onerror({error:e}),this.onworkend({type:"work-end"})};#e(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}class nM{parentPool;id;runningTask;worker;constructor(e){this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}onmessage=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,e.indexOrigin=this.runningTask.info.indexOrigin,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)};onerror=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,e.indexOrigin=this.runningTask.info.indexOrigin,this.parentPool.handleWorkerError(e),this.stop()}}class Ys{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class iM extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(391),Un.b),{name:"labeling.worker",type:"module"})}}class rM{#e=new Zp(1);constructor(){this.#e.onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){this.#e.onworkitem=this.ondone;const i=new iM((function(r,o){const l=o.getSize(),c=o.getSpacing(),u=l.length(),h=Array(u).fill(0);for(let m=0;m<u;m++)h[m]=l.getDimSize(m);const f=Array(u).fill(0);for(let m=0;m<u;m++)f[m]=l.get(m);const p=l.getTotalSize();return{imageBuffer:r,unitVectors:h,sizes:f,spacing:c.getValues(),totalSize:p}})(e,t),{});this.#e.addWorkerTask(i)}ondone(e){}}class aM extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(201),Un.b),{name:"resampling.worker",type:"module"})}}class oM{#e=new Zp(5);constructor(){this.#e.onerror=e=>{console.error("Resampling failed!",e.error)}}run(e,t,i,r,o,l=void 0){const c=Date.now()+""+Math.random(),u=(function(p,m,S){const y=p.getOrientation(),v=m.getInverse().multiply(y),b=p.getSize(),T=p.getSpacing(),x=T.getValues(),w=[0,0,0],A=[0,0,0];for(let Te=0;Te<=1;Te++)for(let xe=0;xe<=1;xe++)for(let Re=0;Re<=1;Re++){const Ne=new yt(x[0]*Te,x[1]*xe,x[2]*Re),Ue=v.multiplyPoint3D(Ne);w[0]=Math.max(w[0],Ue.getX()),w[1]=Math.max(w[1],Ue.getY()),w[2]=Math.max(w[2],Ue.getZ()),A[0]=Math.min(A[0],Ue.getX()),A[1]=Math.min(A[1],Ue.getY()),A[2]=Math.min(A[2],Ue.getZ())}const O=[Math.abs(w[0]-A[0]),Math.abs(w[1]-A[1]),Math.abs(w[2]-A[2])],L=O[0]*O[1]*O[2],M=x[0]*x[1]*x[2],k=Math.cbrt(M/L),F=[O[0]*k,O[1]*k,O[2]*k],B=T.length();for(let Te=3;Te<B;Te++)F.push(T.get(Te));const H=new or(F),P=[b.get(0)/2*T.get(0),b.get(1)/2*T.get(1),b.get(2)/2*T.get(2)];let q=!0;const I=[0,0,0],N=[0,0,0];for(let Te=-1;Te<=1;Te+=2)for(let xe=-1;xe<=1;xe+=2)for(let Re=-1;Re<=1;Re+=2){const Ne=new yt(P[0]*Te,P[1]*xe,P[2]*Re),Ue=v.multiplyPoint3D(Ne);q?(I[0]=Ue.getX(),I[1]=Ue.getY(),I[2]=Ue.getZ(),N[0]=Ue.getX(),N[1]=Ue.getY(),N[2]=Ue.getZ(),q=!1):(I[0]=Math.max(I[0],Ue.getX()),I[1]=Math.max(I[1],Ue.getY()),I[2]=Math.max(I[2],Ue.getZ()),N[0]=Math.min(N[0],Ue.getX()),N[1]=Math.min(N[1],Ue.getY()),N[2]=Math.min(N[2],Ue.getZ()))}const U=[Math.round(Math.abs((I[0]-N[0])/H.get(0))),Math.round(Math.abs((I[1]-N[1])/H.get(1))),Math.round(Math.abs((I[2]-N[2])/H.get(2)))],Q=b.length();for(let Te=3;Te<Q;Te++)U.push(b.get(Te));const X=new ki(U),V=S===void 0?new yt(b.get(0)/2,b.get(1)/2,b.get(2)/2):p.worldToPoint(S),re=[0,0,0];if(S===void 0)re[0]=X.get(0)/2,re[1]=X.get(1)/2,re[2]=X.get(2)/2;else{const Te=[(V.getX()-b.get(0)/2)*T.get(0),(V.getY()-b.get(1)/2)*T.get(1),(V.getZ()-b.get(2)/2)*T.get(2)],xe=v.multiplyArray3D(Te);re[0]=xe[0]/H.get(0)+X.get(0)/2,re[1]=xe[1]/H.get(1)+X.get(1)/2,re[2]=xe[2]/H.get(2)+X.get(2)/2}const _=new yt(re[0]*H.get(0),re[1]*H.get(1),re[2]*H.get(2)),z=m.multiplyPoint3D(_),te=p.pointToWorld(V),se=new yt(te.getX()-z.getX(),te.getY()-z.getY(),te.getZ()-z.getZ()),Z=[0,0,H.get(2)],Se=m.multiplyArray3D(Z),Pe=[];for(let Te=0;Te<X.get(2);Te++)Pe.push(new yt(se.getX()+Se[0]*Te,se.getY()+Se[1]*Te,se.getZ()+Se[2]*Te));return new Ni(Pe,X,H,m)})(t,r,l),h=(function(p,m,S){const y=t6(8*p.BYTES_PER_ELEMENT,m,S.getTotalSize());if(y===null)throw new Error("Cannot reallocate data for image resampling.");return y.fill(0),y})(e,i,u.getSize()),f=(function(p,m,S,y,v,b){const T=m.getSize(),x=T.length(),w=S.getSize(),A=w.length(),O=Array(x).fill(0);for(let B=0;B<x;B++)O[B]=T.getDimSize(B);const L=Array(A).fill(0);for(let B=0;B<A;B++)L[B]=w.getDimSize(B);const M=T.getTotalSize(),k=w.getTotalSize(),F=(B,H,P)=>({sourceImageBuffer:p,sourceOrigin:m.getOrigin().getValues(),sourceSize:m.getSize().getValues(),sourceSpacing:m.getSpacing().getValues(),sourceOrientation:m.getOrientation().getValues(),sourceUnitVectors:O,sourceTotalSize:M,targetOrigin:S.getOrigin().getValues(),targetSize:S.getSize().getValues(),targetSpacing:S.getSpacing().getValues(),targetOrientation:S.getOrientation().getValues(),targetUnitVectors:L,targetTotalSize:k,pixelRepresentation:y,interpolate:v,sourceStartOffset:B,targetStartOffset:H,jobId:b,frame:P});if(A<=3)return[F(0,0,0)];{const B=w.get(3),H=T.getDimSize(3),P=w.getDimSize(3),q=[];for(let I=0;I<B;I++){const N=H*I,U=P*I;q.push(F(N,U,I))}return q}})(e,t,u,i,o,c);return this.#e.onworkitem=this.ondoneframe,this.#e.onworkend=this.ondone,f.forEach((p=>{const m=new aM(p,{});this.#e.addWorkerTask(m)})),{buffer:h,geometry:u,jobId:c}}ondoneframe(e){}ondone(e){}}const td=["imagecontentchange","imagegeometrychange","imageresamplingstart","imageresamplingcomplete","imageresampled","labelingstart","labelschanged"];class Lo{#e;#t;#n;#i;#r;#a;#o;#s;#l=new Qp(1,0);#c=null;#u=!0;#h=!0;#d="MONOCHROME2";#p;#y=0;#g;#f={};#m=null;#C=null;#S=null;#w=new ci;#b;#v;#x=!1;constructor(e,t,i){this.#e=e,this.#t=t,this.#i=!1,this.#r="0",this.#a=null,this.#o=null,this.#n=null,this.#s=i,this.#b=null,this.#v=null,this.#g=this.#t.length/this.#e.getSize().getTotalSize()}setComplete(e){this.#x=e,e&&this.#e.updateSliceSpacing()}getComplete(){return this.#x}getImageUid(e){let t=this.#s[0];return this.#s.length!==1&&e!==void 0&&(t=this.#s[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const i=this.#s.indexOf(e);return i!==-1&&(t=this.getGeometry().getOrigins()[i]),t}includesImageUid(e){return this.#s.includes(e)}containsImageUids(e){return(function(t,i){if(t===null||i===null||t===void 0||i===void 0||t.length===0||i.length===0||i.length>t.length)return!1;for(const r of i)if(!t.includes(r))return!1;return!0})(this.#s,e)}getGeometry(){return this.#e}getBuffer(){return this.#t}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return $p(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let i=1;return this.#f.numberOfFiles!==void 0&&(i=this.#f.numberOfFiles),t.canScroll(e)||i!==1}#A(){return this.#e.getSize().getTotalSize(2)}getSecondaryOffset(e){return this.#e.getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=this.#l;if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const i=this.getSecondaryOffset(e);this.#c[i]!==void 0?t=this.#c[i]:ge.warn("undefined non constant rsi at "+i)}return t}#D(e){return this.#c[e]}setRescaleSlopeAndIntercept(e,t){if(this.#u=this.#u&&e.isID(),this.#h){if(!this.#l.equals(e))if(t===void 0)this.#l=e;else{this.#h=!1,this.#c=[];for(let i=0,r=this.#A();i<r;++i)this.#c.push(this.#l);this.#l=null,this.#c.splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");this.#c.splice(t,0,e)}}isIdentityRSI(){return this.#u}isConstantRSI(){return this.#h}getPhotometricInterpretation(){return this.#d}setPhotometricInterpretation(e){this.#d=e}setPaletteColourMap(e){this.#p=e,this.#T({type:"imagecontentchange"})}getPaletteColourMap(){return this.#p}updatePaletteColourMap(e,t){this.#p.red[e]=t.r,this.#p.green[e]=t.g,this.#p.blue[e]=t.b,this.#T({type:"imagecontentchange"})}getPlanarConfiguration(){return this.#y}setPlanarConfiguration(e){this.#y=e}getNumberOfComponents(){return this.#g}getMeta(){return this.#f}setMeta(e){this.#f=e}getValueAtOffset(e){return this.#t[e]}getOffsets(e){let t;if(typeof e=="number"){if(this.#g!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(this.#g!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const i=[];let r;for(let o=0;o<this.#t.length;o+=this.#g){r=!0;for(let l=0;l<this.#g;++l)if(this.#t[o+l]!==t[l]){r=!1;break}r&&i.push(o)}return i}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let h=0;h<e.length;++h)this.#g===1?t.push([e[h]]):this.#g===3&&t.push([e[h].r,e[h].g,e[h].b]);let i;this.#g===1?i=function(h,f){return h[0]===f[0]}:this.#g===3&&(i=function(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]});const r=function(h){return function(f){return i(f,h)}},o=new Array(e.length);o.fill(!1);const l=t.slice();let c,u;for(let h=0,f=this.#t.length;h<f;h+=this.#g){u=[];for(let p=0;p<l.length;++p){c=!0;for(let m=0;m<this.#g;++m)if(this.#t[h+m]!==l[p][m]){c=!1;break}c&&(o[t.findIndex(r(l[p]))]=!0,u.push(p))}for(let p=0;p<u.length;++p)l.splice(u[p],1);if(l.length===0)break}return o}clone(){const e=this.#t.slice(0),t=new Lo(this.getGeometry().clone(),e,this.#s);if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let i=0;i<this.#A();++i)t.setRescaleSlopeAndIntercept(this.#D(i),i);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setPaletteColourMap(structuredClone(this.#p)),t.setMeta(structuredClone(this.getMeta())),t}#L(e){let t=this.#t;if(this.#t=t6(8*this.#t.BYTES_PER_ELEMENT,this.#f.PixelRepresentation,e),this.#t===null)throw new Error("Cannot reallocate data for image.");this.#t.set(t),t=null}#O(e){let t=this.#n;this.#n=new Uint8Array(e),this.#n.set(t),t=null}canAppend(e){if(e===null)return{success:!1,message:"Cannot append null slice"};const t=this.#e.canAppend(e.getGeometry());if(!t.success)return t;if(this.#d!==e.getPhotometricInterpretation())return{success:!1,message:"Cannot append a slice with different photometric interpretation"};for(const i in this.#f)if(i!=="windowPresets"&&i!=="numberOfFiles"&&i!=="custom"&&this.#f[i]!==e.getMeta()[i])return{success:!1,message:"Cannot append a slice with different "+i+": "+this.#f[i]+" != "+e.getMeta()[i]};return new Qg(!0)}appendSlice(e){const t=this.canAppend(e);if(!t.success)throw new Error(t.message);const i=e.getDataRange(),r=this.getDataRange();this.#m={min:Math.min(i.min,r.min),max:Math.max(i.max,r.max)};const o=e.getRescaledDataRange(),l=this.getRescaledDataRange();this.#C={min:Math.min(o.min,l.min),max:Math.max(o.max,l.max)};let c=this.getGeometry().getSize();const u=e.getGeometry().getInitialTime();let h=!1;u===void 0||this.#e.hasSlicesAtTime(u)||(this.appendFrame(u,e.getGeometry().getOrigin()),c=this.#e.getSize(),h=!0);const f=(function(w,A){const O=A.getInitialTime(),L=[];return L.push(0),L.push(0),L.push(w.getSliceIndex(A.getOrigin(),O)),O!==void 0&&L.push(O),new St(L)})(this.#e,e.getGeometry()),p=this.#g*c.getDimSize(2);if(this.#f.numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const m=p*this.#f.numberOfFiles;if(this.#t.length!==m&&(this.#L(m),this.#n!==null)){const w=3*c.getDimSize(2)*this.#f.numberOfFiles;this.#O(w)}const S=f.get(2);let y=S;u!==void 0&&(y+=this.#e.getCurrentNumberOfSlicesBeforeTime(u));const v=y*p,b=this.#e.getCurrentTotalNumberOfSlices(),T=b*p;if(v<T&&(this.#t.set(this.#t.subarray(v,T),v+p),this.#n!==null)){const w=3*c.getDimSize(2),A=y*w,O=b*w;this.#n.set(this.#n.subarray(A,O),A+w)}this.#t.set(e.getBuffer(),v),h||this.#e.appendOrigin(e.getGeometry().getOrigin(),S,u),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),y);const x=this.#s.length;if(this.#s.splice(y,0,e.getImageUid()),this.#f.windowPresets!==void 0){const w=this.#f.windowPresets,A=e.getMeta().windowPresets,O=Object.keys(A);let L=null;for(let M=0;M<O.length;++M){L=O[M];const k=A[L],F=w[L];if(F!==void 0){if((F.perslice===void 0||F.perslice===!1)&&!Bg(F.wl[0],k.wl[0])){F.perslice=!0;for(let B=0;B<x-1;++B)F.wl.push(F.wl[0])}F.perslice!==void 0&&F.perslice===!0&&w[L].wl.splice(y,0,k.wl[0])}else w[L]=A[L]}}this.#T({type:"imagegeometrychange"})}appendFrameBuffer(e,t){const i=this.#e.getSize(),r=this.#g*i.getDimSize(2);if(this.#f.numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=r*this.#f.numberOfFiles;if(this.#t.length!==o&&(this.#L(o),this.#n!==null)){const l=3*i.getDimSize(2)*this.#f.numberOfFiles;this.#O(l)}t>=this.#f.numberOfFiles?ge.warn("Ignoring frame at index "+t+" (size: "+this.#f.numberOfFiles+")"):(this.#t.set(e,r*t),this.appendFrame(t,new yt(0,0,0)))}appendFrame(e,t){this.#e.appendFrame(t,e),this.#T({type:"appendframe"})}getDataRange(){return this.#m||(this.#m=this.calculateDataRange()),this.#m}getRescaledDataRange(){return this.#C||(this.#C=this.calculateRescaledDataRange()),this.#C}getHistogram(){if(!this.#S){const e=this.calculateHistogram();this.#m=e.dataRange,this.#C=e.rescaledDataRange,this.#S=e.histogram}return this.#S}addEventListener(e,t){this.#w.add(e,t)}removeEventListener(e,t){this.#w.remove(e,t)}#T=e=>{this.#w.fireEvent(e)};setAtOffsets(e,t){let i,r;if(typeof t=="number"){if(this.#g!==1)throw new Error("Number of components is not 1 for setting single value.");i=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(this.#g!==3)throw new Error("Number of components is not 3 for setting RGB value.");i=[t.r,t.g,t.b]}for(let o=0,l=e.length;o<l;++o){r=e[o];for(let c=0;c<this.#g;++c)this.#t[r+c]=i[c]}this.#T({type:"imagecontentchange"})}#P(e){this.#n!==null&&(this.#n[3*e]=0,this.#n[3*e+1]=0,this.#n[3*e+2]=0)}#I(e){this.#P(e);const t=this.#e.getSize(),i=t.getDimSize(0),r=t.getDimSize(1),o=t.getDimSize(2);for(let l=-5;l<5;l++)for(let c=-5;c<5;c++)for(let u=-5;u<5;u++){const h=e+i*l+r*c+o*u;h>=0&&h<this.#t.length&&this.#P(h)}}setAtOffsetsAndGetOriginals(e,t){const i=[];for(let r=0;r<e.length;++r){const o=e[r];let l=o[0],c=this.#t[l];const u=[];u.push({index:0,value:c});for(let h=0;h<o.length;++h){l=o[h];const f=this.#t[l];c!==f&&(u.push({index:h,value:f}),c=f),this.#t[l]=t,this.#I(l)}i.push(u)}return this.#T({type:"imagecontentchange"}),i}setAtOffsetsWithIterator(e,t){const i=Array.isArray(t);for(let r=0;r<e.length;++r){const o=e[r];let l;l=uE(i?t[r]:[{index:0,value:t}],o.length);let c=l.next();for(;!c.done;){const u=o[c.index];this.#t[u]=c.value,this.#I(u),c=l.next()}}this.#T({type:"imagecontentchange"})}getValue(e,t,i,r){const o=[e,t,i];r!==void 0&&o.push(r);const l=new St(o);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(l))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,i,r){let o=this.getValue(e,t,i,r);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const l=[e,t,i];r!==void 0&&l.push(r);const c=new St(l);o=this.getRescaleSlopeAndIntercept(c).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const i=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(i).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,i=0;const r=this.getGeometry().getSize();let o=r.getTotalSize();r.length()>=3&&(o=r.getDimSize(3));for(let l=0;l<o;++l)i=this.getValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),i=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<i?t:i,max:t>i?t:i}}{let e=this.getRescaledValueAtOffset(0),t=e,i=0;const r=this.getGeometry().getSize();let o=r.getTotalSize();r.length()===3&&(o=r.getDimSize(3));for(let l=0;l<o;++l)i=this.getRescaledValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let i=this.getValueAtOffset(0),r=i,o=0,l=this.getRescaledValueAtOffset(0),c=l,u=0;for(let m=0,S=e.getTotalSize();m<S;++m)o=this.getValueAtOffset(m),o>r&&(r=o),o<i&&(i=o),u=this.getRescaledValueAtOffset(m),u>c&&(c=u),u<l&&(l=u),t[u]=(t[u]||0)+1;const h={min:i,max:r},f={min:l,max:c},p=[];for(let m=l;m<=c;++m)p.push([m,t[m]||0]);return{dataRange:h,rescaledDataRange:f,histogram:p}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),i=t.getBuffer(),r=this.getGeometry().getSize(),o=r.getDimSize(2)*this.getNumberOfComponents();for(let l=0;l<r.get(2);++l)this.convoluteBuffer(e,i,l*o);return t}convoluteBuffer(e,t,i){const r=this.getGeometry().getSize(),o=r.get(0),l=r.get(1),c=this.getNumberOfComponents();let u=1,h=1;c===3&&(this.getPlanarConfiguration()===0?u=3:h=r.getDimSize(2));const f=[];f[0]=(-o-1)*u,f[1]=-o*u,f[2]=(1-o)*u,f[3]=-u,f[4]=0,f[5]=1*u,f[6]=(o-1)*u,f[7]=o*u,f[8]=(o+1)*u;const p=[];p[0]=f[4],p[1]=f[4],p[2]=f[5],p[3]=f[4],p[4]=f[4],p[5]=f[5],p[6]=f[7],p[7]=f[7],p[8]=f[8];const m=[];m[0]=f[1],m[1]=f[1],m[2]=f[2],m[3]=f[4],m[4]=f[4],m[5]=f[5],m[6]=f[7],m[7]=f[7],m[8]=f[8];const S=[];S[0]=f[1],S[1]=f[1],S[2]=f[2],S[3]=f[4],S[4]=f[4],S[5]=f[5],S[6]=f[4],S[7]=f[4],S[8]=f[5];const y=[];y[0]=f[3],y[1]=f[4],y[2]=f[5],y[3]=f[3],y[4]=f[4],y[5]=f[5],y[6]=f[6],y[7]=f[7],y[8]=f[8];const v=[];v[0]=f[0],v[1]=f[1],v[2]=f[2],v[3]=f[3],v[4]=f[4],v[5]=f[5],v[6]=f[3],v[7]=f[4],v[8]=f[5];const b=[];b[0]=f[3],b[1]=f[4],b[2]=f[4],b[3]=f[3],b[4]=f[4],b[5]=f[4],b[6]=f[6],b[7]=f[7],b[8]=f[7];const T=[];T[0]=f[0],T[1]=f[1],T[2]=f[1],T[3]=f[3],T[4]=f[4],T[5]=f[4],T[6]=f[6],T[7]=f[7],T[8]=f[7];const x=[];x[0]=f[0],x[1]=f[1],x[2]=f[1],x[3]=f[3],x[4]=f[4],x[5]=f[4],x[6]=f[3],x[7]=f[4],x[8]=f[4];let w=i,A=0,O=[];for(let L=0;L<c;++L){w+=L*h;for(let M=0;M<l;++M)for(let k=0;k<o;++k){O=f,k===0&&M===0?O=p:k===0&&M===l-1?O=S:k===o-1&&M===0?O=b:k===o-1&&M===l-1?O=x:k===0&&M!==l-1&&M!==0?O=m:k===o-1&&M!==l-1&&M!==0?O=T:k!==0&&k!==o-1&&M===0?O=y:k!==0&&k!==o-1&&M===l-1&&(O=v),A=0;for(let F=0;F<9;++F)A+=this.getValueAtOffset(w+O[F])*e[F];t[w]=A,w+=u}}}transform(e){const t=this.clone(),i=t.getBuffer();for(let r=0,o=i.length;r<o;++r)i[r]=e(t.getValueAtOffset(r));return t}compose(e,t){const i=this.clone(),r=i.getBuffer();for(let o=0,l=r.length;o<l;++o)r[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return i}initializeContour(){this.#n=new Uint8Array(3*this.#t.length)}countourIsInitialized(){return this.#n!==null}#R(e,t,i,r,o,l){return()=>{const c=t+i,u=e+1,h=this.#e.getSize(),f=h.offsetToIndex(c);return c>=this.#t.length||c<0||f.get(r)===0||f.get(r)===h.get(r)-1||u===255?u:u>10?255:this.#t[c]!==o?u:(l.push(this.#R(u,c,i,r,o,l)),0)}}#E(e,t,i,r,o,l,c,u){return()=>{const h=t+i,f=e+1,p=this.#e.getSize(),m=p.offsetToIndex(h);return h>=this.#t.length||h<0||m.get(o)===0||m.get(o)===p.get(o)-1||f===255?f:f>10?255:this.#t[h]!==c?f:(u.push(this.#R(f,h,r,l,c,u)),u.push(this.#R(f,h,-r,l,c,u)),u.push(this.#E(f,h,i,r,o,l,c,u)),0)}}getContourDistance(e,t){if(this.#n===null)return 0;const i=t.getThirdColMajorDirection(),r=(i+1)%3,o=(i+2)%3,l=3*e+i,c=this.#n[l];if(c>0)return c;const u=this.#t[e],h=[],f=this.#e.getSize(),p=f.getDimSize(o),m=f.getDimSize(r);h.push(this.#E(0,e,p,m,o,r,u,h)),h.push(this.#R(0,e,m,r,u,h)),h.push(this.#R(0,e,-m,r,u,h)),h.push(this.#E(0,e,-p,m,o,r,u,h));let S=0;const y=Math.pow(10,2);for(;h.length>0;){if(S++,S>y)return this.#n[l]=255,255;const v=h.shift()();if(v>0)return this.#n[l]=v,v}return 1/0}recalculateLabels(){if(this.#b===null){this.#b=new rM;const e=this.#e.getSpacing(),t=this.getMeta().lengthUnit;let i=1,r="unit.pixel";t==="unit.mm"&&(i=e.get(0)*e.get(1)*e.get(2)*.001,r="unit.ml"),this.#b.ondone=o=>{const l=o.data.labels;for(const u of l){let h,f;u.centroid=this.#e.indexToWorld(new St(u.centroidIndex)),u.volume={value:u.count*i,unit:r},u.diameters!==void 0&&(u.diameters.major!==void 0&&(h=u.diameters.major.diameter),u.diameters.minor!==void 0&&(f=u.diameters.minor.diameter)),u.diameters={major:{diameter:{value:h,unit:t}},minor:{diameter:{value:f,unit:t}}},u.height={value:u.height,unit:t}}const c=l.sort(((u,h)=>h.volume.value-u.volume.value)).sort(((u,h)=>u.id-h.id));this.#T({type:"labelschanged",labels:c}),o.data.buffer&&(this.#t=o.data.buffer,this.#T({type:"imagecontentchange"}))}}this.#T({type:"labelingstart"}),this.#b.run(this.#t,this.#e)}isResampled(){return this.#i}resample(e,t=void 0,i=void 0){this.#v===null&&(this.#v=new oM,this.#v.ondoneframe=l=>{const c=l.data;this.#r===c.jobId&&(this.#t.set(c.targetImageBuffer,c.startOffset),this.#T({type:"imageresampled",frame:c.frame}))},this.#v.ondone=l=>{this.#T({type:"imageresamplingcomplete"})});const r=this.#i&&this.#o&&this.#a?{buffer:this.#o,geometry:this.#a}:{buffer:this.#t,geometry:this.#e};this.#T({type:"imageresamplingstart"});const o=this.#v.run(r.buffer,r.geometry,this.#f.PixelRepresentation,e,t===void 0||t,i);this.#i||(this.#i=!0,this.#o=this.#t,this.#a=this.#e),this.#t=o.buffer,this.#e=o.geometry,this.#r=o.jobId,this.#T({type:"imagecontentchange"}),this.#T({type:"imagegeometrychange"})}revert(){this.#i&&(this.#T({type:"imageresamplingstart"}),this.#i=!1,this.#t=this.#o,this.#e=this.#a,this.#o=null,this.#a=null,this.#T({type:"imagecontentchange"}),this.#T({type:"imagegeometrychange"}),this.#T({type:"imageresampled"}))}}const Zg=["annotationgroupeditablechange","annotationadd","annotationupdate","annotationremove"];class Ac{#e;#t={};#n=new ci;#i;#r;constructor(e){this.#e=e!==void 0?e:[],this.#i=!0}getList(){return this.#e}getLength(){return this.#e.length}isEditable(){return this.#i}setEditable(e){this.#i=e,this.#a({type:"annotationgroupeditablechange",data:e})}getColour(){return this.#r}setColour(e){this.#r=e}add(e,t){this.#e.push(e),this.#a({type:"annotationadd",data:e,propagate:t})}update(e,t,i){const r=this.#e.findIndex((o=>o.trackingUid===e.trackingUid));r!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),this.#e[r]=e,this.#a({type:"annotationupdate",data:e,keys:t,propagate:i})):ge.warn("Cannot find annotation to update")}remove(e,t){const i=this.#e.findIndex((r=>r.trackingUid===e));if(i!==-1){const r=this.#e.splice(i,1)[0];this.#a({type:"annotationremove",data:r,propagate:t})}else ge.warn("Cannot find annotation to remove")}setViewController(e){for(const t of this.#e)t.setViewController(e),t.updateQuantification()}find(e){return this.#e.find((t=>t.trackingUid===e))}getMeta(){return this.#t}hasMeta(e){return this.#t[e]!==void 0}getMetaValue(e){return this.#t[e]}setMetaValue(e,t){this.#t[e]=t}addEventListener(e,t){this.#n.add(e,t)}removeEventListener(e,t){this.#n.remove(e,t)}#a=e=>{this.#n.fireEvent(e)}}const fb="0040A30A",gb="0040A161",pb="0040A162",mb="0040A163",Sb="004008EA";class Kp{numericValue;floatingPointValue;rationalNumeratorValue;rationalDenominatorValue;measurementUnitsCode;toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function sM(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[Oa(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const yb="0040A300",vb="0040A301";class Jp{measuredValue;numericValueQualifierCode;toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function lM(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[sM(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[Oa(n.numericValueQualifierCode)]}),e}const Cb="00081150",bb="00081155";class S6{referencedSOPClassUID;referencedSOPInstanceUID;toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function Db(n){const e=new S6;return n[Cb]!==void 0&&(e.referencedSOPClassUID=n[Cb].value[0]),n[bb]!==void 0&&(e.referencedSOPInstanceUID=n[bb].value[0]),e}function y6(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const Tb="00081160",xb="00081199",wb="0062000B";class v6{referencedSOPSequence;referencedFrameNumber;referencedSegmentNumber;toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function cM(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[y6(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}class Bt{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const i=this.getDeltaX()*e.x,r=this.getDeltaY()*e.y;t=Math.sqrt(i*i+r*r)}return t}getMidpoint(){return this.getCentroid()}getCentroid(){return new De((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}getFlipped(){return new Bt(this.#t,this.#e)}quantify(e){const t=e.get2DSpacing(),i=this.getWorldLength(t);let r;return i!==null&&(r={value:i,unit:e.getLengthUnit()}),{length:r}}}function Kg(n,e){const t=n.getDeltaX(),i=n.getDeltaY(),r=e.getDeltaX(),o=e.getDeltaY(),l=t*r+i*o,c=t*o-i*r;return 360-(180-180*Math.atan2(c,l)/Math.PI)}function $1(n,e){const t=n.getDeltaX(),i=n.getDeltaY();return t*e.getDeltaX()+i*e.getDeltaY()==0}function Mi(n,e,t,i){i===void 0&&(i={x:1,y:1});const r=-i.x*i.x/(i.y*i.y*n.getSlope());return C6(r,e.getY()-r*e.getX(),e,t,i)}function Ab(n,e,t,i){const r=C6(n.getSlope(),n.getIntercept(),n.getBegin(),e,i);let o;return o=(function(l,c){const u=Math.min(c.getBegin().getX(),c.getEnd().getX()),h=Math.max(c.getBegin().getX(),c.getEnd().getX()),f=Math.min(c.getBegin().getY(),c.getEnd().getY()),p=Math.max(c.getBegin().getY(),c.getEnd().getY());return l.getX()>=u&&l.getX()<=h&&l.getY()>=f&&l.getY()<=p})(r.getBegin(),n)?r.getBegin():r.getEnd(),Mi(n,o,t,i)}function C6(n,e,t,i,r){r===void 0&&(r={x:1,y:1});let o=0,l=0,c=0,u=0;if(Tc(n,0,kc))o=t.getX()-i/(2*r.x),l=t.getY(),c=t.getX()+i/(2*r.x),u=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),l=t.getY()-i/(2*r.y),c=t.getX(),u=t.getY()+i/(2*r.y);else{const h=r.x*r.x,f=r.y*r.y,p=i/(2*Math.sqrt(h+f*n*n));o=t.getX()-p,l=n*o+e,c=t.getX()+p,u=n*c+e}return new Bt(new De(o,l),new De(c,u))}class mo{#e;constructor(e){if(e.length>3)throw new Error("Too many points for a protractor");this.#e=e.slice(0,3)}getPoint(e){return this.#e[e]}getLength(){return this.#e.length}getCentroid(){return this.#e[1]}quantify(e,t){let i;if(this.#e.length===3){let r=Kg(new Bt(this.#e[0],this.#e[1]),new Bt(this.#e[1],this.#e[2]));r>180&&(r=360-r),i={value:r,unit:"unit.degree"}}return{angle:i}}}class Fi{#e=[];constructor(e){e!==void 0&&(this.#e=e)}getPoint(e){return this.#e[e]}getPoints(){return this.#e}getLength(){return this.#e.length}addPoint(e){this.#e.push(e)}addPoints(e){this.#e=this.#e.concat(e)}getCentroid(){let e,t=0,i=0,r=0;for(let o=0;o<this.#e.length;++o){const l=this.#e[o];let c;c=o===this.#e.length-1?this.#e[0]:this.#e[o+1];const u=l.getX()*c.getY()-c.getX()*l.getY();t+=u,i+=(l.getX()+c.getX())*u,r+=(l.getY()+c.getY())*u}if(t!==0){const o=1/(3*t);e=new De(o*i,o*r)}return e}}class So{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getCenter(){return this.#e}getCentroid(){return this.#e}getRadius(){return this.#t}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return(function(t,i,r){let o=null;return i!==null&&r!==null&&(o=t*i*r),o})(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getRadius(),r=Math.pow(i,2),o=t+i,l=[];for(let c=t-i;c<o;++c){const u=r-Math.pow(c-t,2);if(Math.abs(u)<1e-7)continue;const h=Math.sqrt(u);h<.5||l.push([[Math.round(e-h),Math.round(c)],[Math.round(e+h),Math.round(c)]])}return l}quantify(e,t,i){const r=e.get2DSpacing(),o=e.getLengthUnit(),l={value:this.getRadius()*r.x,unit:o},c=this.getWorldSurface(r);let u;c!==null&&(u=o==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:o});const h={radius:l,surface:u};if(e.canQuantifyImage()){const f=this.getRound();if(f.length!==0){const p=e.getImageVariableRegionValues(f,t),m=e.getPixelUnit(),S=Xp(p,i);h.min={value:S.min,unit:m},h.max={value:S.max,unit:m},h.mean={value:S.mean,unit:m},h.stdDev={value:S.stdDev,unit:m},S.median!==void 0&&(h.median={value:S.median,unit:m}),S.p25!==void 0&&(h.p25={value:S.p25,unit:m}),S.p75!==void 0&&(h.p75={value:S.p75,unit:m})}}return h}}class yo{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getCenter(){return this.#e}getCentroid(){return this.#e}getA(){return this.#t}getB(){return this.#n}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return(function(t,i,r){let o=null;return i!==null&&r!==null&&(o=t*i*r),o})(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getA(),r=this.getB(),o=i/r,l=Math.pow(r,2),c=t+r,u=[];for(let h=t-r;h<c;++h){const f=l-Math.pow(h-t,2);if(Math.abs(f)<1e-7)continue;const p=o*Math.sqrt(f);p<.5||u.push([[Math.round(e-p),Math.round(h)],[Math.round(e+p),Math.round(h)]])}return u}quantify(e,t,i){const r=e.get2DSpacing(),o=e.getLengthUnit(),l={value:this.getA()*r.x,unit:o},c={value:this.getB()*r.y,unit:o},u=this.getWorldSurface(r);let h;u!==null&&(h=o==="unit.mm"?{value:u/100,unit:"unit.cm2"}:{value:u,unit:o});const f={a:l,b:c,surface:h};if(e.canQuantifyImage()){const p=this.getRound();if(p.length!==0){const m=e.getImageVariableRegionValues(p,t),S=e.getPixelUnit(),y=Xp(m,i);f.min={value:y.min,unit:S},f.max={value:y.max,unit:S},f.mean={value:y.mean,unit:S},f.stdDev={value:y.stdDev,unit:S},y.median!==void 0&&(f.median={value:y.median,unit:S}),y.p25!==void 0&&(f.p25={value:y.p25,unit:S}),y.p75!==void 0&&(f.p75={value:y.p75,unit:S})}}return f}}function uM(n,e,t){const i=n.getValues(),r=i.slice(),o=[],l=e[0],c=e[1],u=l/c,h=Math.pow(c,2),f=t[0],p=t[1];for(let m=0;m<c;++m){const S=Math.round(u*Math.sqrt(h-Math.pow(m,2))),y=i[p]+m,v=i[p]-m;for(let b=0;b<S;++b){const T=i[f]+b,x=i[f]-b;r[f]=T,r[p]=y,o.push(new St(r.slice())),v!==y&&(r[p]=v,o.push(new St(r.slice()))),x!==T&&(r[f]=x,r[p]=y,o.push(new St(r.slice())),v!==y&&(r[p]=v,o.push(new St(r.slice()))))}}return o}class vo{#e;#t;constructor(e,t){this.#e=new De(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY())),this.#t=new De(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY()))}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return(function(t,i,r){let o=null;return i!==null&&r!==null&&(o=t*i*r),o})(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new De(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new De(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new De(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,i){const r=e.get2DSpacing(),o=e.getLengthUnit(),l={value:this.getWidth()*r.x,unit:o},c={value:this.getHeight()*r.y,unit:o},u=this.getWorldSurface(r);let h;u!==null&&(h=o==="unit.mm"?{value:u/100,unit:"unit.cm2"}:{value:u,unit:o});const f={width:l,height:c,surface:h};if(e.canQuantifyImage()){const p=this.getRound(),m=e.getImageRegionValues(p.min,p.max,t),S=e.getPixelUnit(),y=Xp(m,i);f.min={value:y.min,unit:S},f.max={value:y.max,unit:S},f.mean={value:y.mean,unit:S},f.stdDev={value:y.stdDev,unit:S},y.median!==void 0&&(f.median={value:y.median,unit:S}),y.p25!==void 0&&(f.p25={value:y.p25,unit:S}),y.p75!==void 0&&(f.p75={value:y.p75,unit:S})}return f}}const Ib="00480301",Ob="00700022",Pb="00700023",Lb="0070031A",em="POINT",F0="MULTIPOINT",hc="POLYLINE",b6="CIRCLE",D6="ELLIPSE";class Cd{graphicData;graphicType;pixelOriginInterpretation;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function dM(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function Rb(n){const e=new Cd;if(n instanceof De)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=em;else if(n instanceof Bt)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=hc;else if(n instanceof mo){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=hc}else if(n instanceof Fi){e.graphicData=[];for(let i=0;i<n.getLength();++i)e.graphicData.push(n.getPoint(i).getX().toString()),e.graphicData.push(n.getPoint(i).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=hc}else if(n instanceof So){const t=n.getCenter(),i=new De(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),i.getX().toString(),i.getY().toString()],e.graphicType=b6}else if(n instanceof yo){const t=n.getCenter(),i=n.getA(),r=n.getB();e.graphicData=[(t.getX()-i).toString(),t.getY().toString(),(t.getX()+i).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-r).toString(),t.getX().toString(),(t.getY()+r).toString()],e.graphicType=D6}else if(n instanceof vo){const t=n.getBegin(),i=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),i.getY().toString(),i.getX().toString(),i.getY().toString(),i.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=hc}return e}function U0(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let l=0;l<e;l+=2)t.push(new De(parseFloat(n.graphicData[l]),parseFloat(n.graphicData[l+1])));let i=!1;const r=t.length;if(r>2){const l=t[0],c=t[r-1];i=l.equals(c)}let o;if(n.graphicType===em)t.length>1&&ge.warn("Expecting 1 point for point, got "+r),o=t[0];else if(n.graphicType===b6){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+r);t.length>2&&ge.warn("Expecting 2 points for circles, got "+r);const l=t[0],c=t[1].getDistance(l);o=new So(l,c)}else if(n.graphicType===D6){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+r);t.length>4&&ge.warn("Expecting 4 points for ellipses, got "+r);const l=t[0].getDistance(t[1])/2,c=t[2].getDistance(t[3])/2,u=new De(t[0].getX()+l,t[0].getY());o=new yo(u,l,c)}else if(n.graphicType===hc)if(i)if(t.length===5){const l=new Bt(t[0],t[1]),c=new Bt(t[1],t[2]),u=new Bt(t[2],t[3]),h=new Bt(t[3],t[4]);o=$1(l,c)&&$1(c,u)&&$1(u,h)?new vo(t[0],t[2]):new Fi(t.slice(0,-1))}else o=new Fi(t.slice(0,-1));else t.length===2?o=new Bt(t[0],t[1]):t.length===3&&(o=new mo([t[0],t[1],t[2]]));return o}const Eb="00700022",Mb="00700023",_b="30060024",kb="0070031A";class T6{graphicData;graphicType;referencedFrameofReferenceUID;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function hM(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const Ji={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},rn="CONTAINS",Mr="HAS PROPERTIES",io="HAS OBS CONTEXT",ro="INFERRED FROM",Zl="SELECTED FROM",N0="HAS CONCEPT MOD",bi="TEXT",Da="NUM",_i="CODE",q0="UIDREF",x6="COMPOSITE",ho="IMAGE",Xn="SCOORD",bd="SCOORD3D",Ei="CONTAINER",Kl="SEPARATE",w6={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function Z1(n){let e;const t=et(n,Ji.ContentTemplateSequence);if(t!==void 0){const i=et(t,Ji.MappingResource),r=et(t,Ji.TemplateIdentifier);i!==void 0&&r!==void 0&&(e=i+"-"+r)}return e}class Gt{valueType;conceptNameCode;relationshipType;contentSequence=[];value;constructor(e){this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const i of this.contentSequence)t+=`
`+e+"- "+i.toString(e+"  ");return t}hasHeader(e,t,i){return this.valueType===e&&ed(this.conceptNameCode,t)&&this.relationshipType===i}}function fc(n){let e=et(n,Ji.ValueType);e===void 0&&(e="");const t=new Gt(e);t.relationshipType=et(n,Ji.RelationshipType);const i=et(n,Ji.ConceptNameCodeSequence);if(i!==void 0&&(t.conceptNameCode=Os(i)),e===_i)t.value=Os(et(n,Ji.ConceptCodeSequence));else if(e===Da)t.value=(function(o){const l=new Jp;return o[yb]!==void 0&&(l.measuredValue=(function(c){const u=new Kp;return c[fb]!==void 0&&(u.numericValue=parseFloat(c[fb].value[0])),c[gb]!==void 0&&(u.floatingPointValue=parseFloat(c[gb].value[0])),c[pb]!==void 0&&(u.rationalNumeratorValue=parseInt(c[pb].value[0],10)),c[mb]!==void 0&&(u.rationalDenominatorValue=parseInt(c[mb].value[0],10)),c[Sb]!==void 0&&(u.measurementUnitsCode=Os(c[Sb].value[0])),u})(o[yb].value[0])),o[vb]!==void 0&&(l.numericValueQualifierCode=Os(o[vb].value[0])),l})(n);else if(e===ho)t.value=(function(o){const l=new v6;return o[Tb]!==void 0&&(l.referencedFrameNumber=o[Tb].value[0]),o[xb]!==void 0&&(l.referencedSOPSequence=Db(o[xb].value[0])),o[wb]!==void 0&&(l.referencedSegmentNumber=o[wb].value[0]),l})(n);else if(e===x6)t.value=Db(et(n,Ji.ReferencedSOPSequence));else if(e===Xn)t.value=(function(o){const l=new Cd;return o[Ob]!==void 0&&(l.graphicData=o[Ob].value),o[Pb]!==void 0&&(l.graphicType=o[Pb].value[0]),o[Ib]!==void 0&&(l.pixelOriginInterpretation=o[Ib].value[0]),o[Lb]!==void 0&&(l.fiducialUID=o[Lb].value[0]),l})(n);else if(e===bd)t.value=(function(o){const l=new T6;return o[Eb]!==void 0&&(l.graphicData=o[Eb].value),o[Mb]!==void 0&&(l.graphicType=o[Mb].value[0]),o[_b]!==void 0&&(l.referencedFrameofReferenceUID=o[_b].value[0]),o[kb]!==void 0&&(l.fiducialUID=o[kb].value[0]),l})(n);else{const o=w6[e];o!==void 0?t.value=et(n,Ji[o]):console.warn("Unsupported input ValueType: "+e)}const r=Sn(n,Ji.ContentSequence);if(r!==void 0)for(const o of r)t.contentSequence.push(fc(o));return t}function Jg(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[Oa(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[Oa(n.value)]};else if(n.valueType===Da)e={...e,...lM(n.value)};else if(n.valueType===ho)e={...e,...cM(n.value)};else if(n.valueType===x6)e={...e,...y6(n.value)};else if(n.valueType===Xn)e={...e,...dM(n.value)};else if(n.valueType===bd)e={...e,...hM(n.value)};else{const t=w6[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(Jg(t))}return e}function Fb(n,e,t,i){const r=(function(h){const f=Wg[h];let p;return f!==void 0&&(p=vd(f.key,f.scheme)),p})(n);if(r===void 0)return;let o=rn;i!==void 0&&(o=i);const l=new Gt(Da);l.relationshipType=o,l.conceptNameCode=r;const c=new Kp;c.numericValue=e,c.measurementUnitsCode=g6(t);const u=new Jp;return u.measuredValue=c,l.value=u,l}class ep{#e;#t;#n;#i;#r;constructor(e,t){this.#e=e,this.#t=e.getRealSpacing(),this.#n=e.getOrientation(),this.#i=t,this.#r=(function(i,r){let o=i.asOneAndZeros().multiply(r);return i.asOneAndZeros().getAbs().isSimilar(i6().getAbs())&&(o=o.getAbs()),o})(this.#n,t)}getViewOrientation(){return this.#i}getTargetOrientation(){return this.#r}getOffset3DFromPlaneOffset(e){const t=new Kt(e.x,e.y,0),i=this.getTargetDeOrientedVector3D(t);return new Kt(i.getX()*this.#t.get(0),i.getY()*this.#t.get(1),i.getZ()*this.#t.get(2))}getPlaneOffsetFromOffset3D(e){const t=new Kt(e.x/this.#t.get(0),e.y/this.#t.get(1),e.z/this.#t.get(2)),i=this.getTargetOrientedVector3D(t);return{x:i.getX(),y:i.getY()}}getTargetOrientedVector3D(e){let t=e;return this.#r!==void 0&&(t=this.#r.getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return this.#r!==void 0&&(t=this.#r.multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return this.#r!==void 0&&(t=this.#r.multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(this.#i!==void 0){const i=CC([e.getX(),e.getY(),e.getZ()],this.#i);t=new Kt(i[0],i[1],i[2])}return t}getImageOrientedPoint3D(e){let t=e;if(this.#i!==void 0){const i=CC([e.getX(),e.getY(),e.getZ()],this.#i);t=new yt(i[0],i[1],i[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(this.#i!==void 0){const i=xc([e.getX(),e.getY(),e.getZ()],this.#i);t=new Kt(i[0],i[1],i[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(this.#i!==void 0){const i=xc([e.getX(),e.getY(),e.getZ()],this.#i);t=new yt(i[0],i[1],i[2])}return t}getPositionFromPlanePoint(e,t){const i=new yt(e.getX(),e.getY(),t),r=this.getImageOrientedPoint3D(i);return this.#e.pointToWorld(r)}getPlanePointFromPosition(e){const t=this.#e.worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=this.#r).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),i=this.indexToWorld(t),r=this.getPlanePointFromPosition(i),o=this.getPositionFromPlanePoint(new De(0,0),r.getZ()),l=this.#e.getOrigins(),c=l[o.getClosest(l)],u=o.getValues(),h=c.getValues(),f=this.getNativeScrollDimIndex();u[f]=h[f];const p=this.getCosines();return[new yt(u[0],u[1],u[2]),new yt(p[0],p[1],p[2]),new yt(p[3],p[4],p[5])]}worldToIndex(e){return this.#e.worldToIndex(e)}indexToWorld(e){return this.#e.indexToWorld(e)}isAquisitionOrientation(){return pd(this.#i)}getTargetOrientedPositiveXYZ(e){const t=xc([e.x,e.y,e.z],this.#r);return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=this.#i!==void 0?this.#i.getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=this.#n!==void 0?this.#n.getThirdColMajorDirection():2,e}}class fM{#e;constructor(e){this.#e=e}getCurrentPosition(){return this.#e.getCurrentPosition()}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=this.#e.setCurrentPosition(e,t)),i}}class gM{#e;#t;#n;#i;constructor(e){this.#e=new fM(e),this.#t=e.getImage().getGeometry(),this.#n=e.getCurrentPosition(),this.#i=e.getScrollDimIndex()}getGeometry(){return this.#t}getScrollDimIndex(){return this.#i}getMaximumDimValue(e){return this.#t.getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(this.#i)}getCurrentPosition(){return this.#t.getSize().normalisePoint(this.#e.getCurrentPosition(),this.#n)}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(this.#i)}getCurrentPositionAtDimValue(e,t){const i=this.getCurrentIndex().getValues();return i[e]=t,this.#t.indexToWorld(new St(i))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(this.#i,e)}getCurrentIndex(){return this.#t.worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(this.#n=this.#t.getSize().normalisePoint(e,this.#n),i=this.#e.setCurrentPosition(e,t)),i}setCurrentPositionSafe(e,t){let i=!1;return this.isPositionInBounds(e)&&(i=this.setCurrentPosition(e,t)),i}merge(e){if(this.#i!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");this.#t=(function(t,i){const r=t.getOrientation();if(!r.isSimilar(i.getOrientation(),kc))throw new Error("Cannot merge geometries with different orientation");const o=r.getInverse(),l=function(x,w){return lC(x,w,Math.min)},c=function(x,w){return lC(x,w,Math.max)},u=new or(l(t.getSpacing().getValues(),i.getSpacing().getValues())),h=function(x){return o.multiplyPoint3D(x.get3D())},f=t.getRange().map(h),p=i.getRange().map(h),m=l(f[0].getValues(),p[0].getValues()),S=c(f[1].getValues(),p[1].getValues());let y=[];for(let x=0;x<m.length;++x)y.push(Math.round(Math.abs(S[x]-m[x])/u.get(x)));const v=c(t.getSize().getValues(),i.getSize().getValues());y=y.concat(v.slice(3));const b=new ki(y),T=[];for(let x=0;x<b.get(2);++x){const w=m.slice();w[2]=m[2]+x*u.get(2);const A=new yt(w[0],w[1],w[2]);T.push(r.multiplyPoint3D(A))}return new Ni(T,b,u,r)})(this.#t,e.getGeometry()),this.#n=this.#t.getSize().normalisePoint(this.#n,e.getCurrentPosition())}isPositionInBounds(e){const t=this.#t.worldToIndex(e),i=[this.#i];return t.length()===4&&i.push(3),this.#t.isIndexInBounds(t,i)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return this.#t.indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return this.#t.indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(this.#i)}decrementPositionAlongScroll(){return this.decrementPosition(this.#i)}}class pM{#e;#t;#n;constructor(e){if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");this.#e=e,this.#t=new ep(e.getImage().getGeometry(),e.getOrientation())}getPlaneHelper(){return this.#t}updatePlaneHelper(){this.#t=new ep(this.#e.getImage().getGeometry(),this.#e.getOrientation())}isMask(){return this.#e.isMask()}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new De(0,0)))}getModality(){return this.#e.getImage().getMeta().Modality}getSopClassUid(){return this.#e.getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return this.#e.getWindowPresetsNames()}addWindowLevelPresets(e){return this.#e.addWindowPresets(e)}setWindowLevelPreset(e){this.#e.setWindowLevelPreset(e)}setWindowLevelPresetById(e){this.#e.setWindowLevelPresetById(e)}isPlaying(){return this.#n!==void 0}getPositionHelper(){return new gM(this.#e)}getCurrentPosition(){return this.#e.getCurrentPosition()}getCurrentIndex(){return this.#e.getCurrentIndex()}getCurrentImageUid(){return this.#e.getCurrentImageUid()}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(this.#e.getOrientation()!==void 0){const t=this.#t.getImageDeOrientedVector3D(new Kt(e.get(0),e.get(1),e.get(2)));e=new St([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return this.#e.getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(this.#e.getScrollDimIndex())}getOrigin(e){return this.#e.getOrigin(e)}isAquisitionOrientation(){return this.#e.isAquisitionOrientation()}getPlanePoints(e){return this.#t.getPlanePoints(e)}getCurrentScrollPosition(){const e=this.#e.getScrollDimIndex();return this.#e.getCurrentPosition().get(e)}generateImageData(e,t){this.#e.generateImageData(e,t)}setImage(e){const t=this.#e.getImage().getGeometry(),i=e.getGeometry();this.#e.setImage(e),t.equals(i)||this.updatePlaneHelper()}get2DSpacing(){return this.#e.getImage().getGeometry().getSpacing(this.#e.getOrientation()).get2D()}getRescaledImageValue(e){const t=this.#e.getImage();if(!t.canQuantify())return;const i=t.getGeometry(),r=i.worldToIndex(e);let o;return i.isIndexInBounds(r)&&(o=t.getRescaledValueAtIndex(r)),o}getPixelUnit(){return this.#e.getImage().getMeta().pixelUnit}getLengthUnit(){return this.#e.getImage().getMeta().lengthUnit}#i(e,t,i,r){const o=V1(Y3(e,t,i,r)),l=e.getGeometry().getSize(r).getValues();l[2]=1;const c=new ki(l),u=e.getGeometry().getSpacing(r).getValues();u[2]=1;const h=new or(u),f=new yt(0,0,0),p=new Ni([f],c,h);return new Lo(p,o)}getImageRegionValues(e,t,i){let r=this.#e.getImage();const o=this.#e.getOrientation();let l=i,c=!0;pd(o)||(r=this.#i(r,l,c,o),l=new St([0,0,0]),c=!1);const u=(function(f,p,m,S,y){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());m===void 0&&(m=!1);let v=null;v=m?function(A){return f.getRescaledValueAtOffset(A)}:function(A){return f.getValueAtOffset(A)};const b=f.getGeometry().getSize();S===void 0&&(S=new De(0,0)),y===void 0&&(y=new De(b.get(0)-1,b.get(1)));const T=b.indexToOffset(p.getWithNew2D(S.getX(),S.getY())),x=b.indexToOffset(p.getWithNew2D(y.getX(),y.getY()-1)),w=Math.max(1,y.getX()-S.getX());return(function(A,O,L,M,k,F){let B=O,H=0;return{next:function(){if(B<L){const P={value:A(B),done:!1,index:B};return H+=1,B+=1,H===k&&(H=0,B+=F),P}return{done:!0,index:L}}}})(v,T,x+1,0,w,b.get(0)-w)})(r,l,c,e,t);let h=[];return u&&(h=V1(u)),h}getImageVariableRegionValues(e,t){let i=this.#e.getImage();const r=this.#e.getOrientation();let o=t,l=!0;pd(r)||(i=this.#i(i,o,l,r),o=new St([0,0,0]),l=!1);const c=(function(h,f,p,m){if(h.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+h.getNumberOfComponents());p===void 0&&(p=!1);let S=null;S=p?function(A){return h.getRescaledValueAtOffset(A)}:function(A){return h.getValueAtOffset(A)};const y=h.getGeometry().getSize(),v=[];let b,T=null,x=null,w=null;for(let A=0;A<m.length;++A){b=m[A];const O=b[1][0]-b[0][0];O!==0&&(w=A,T||(T=b[0]),v.push([b[0][0],O,y.get(0)-b[1][0]]))}if(w!==null&&(x=m[w][1]),v.length!==0)return(function(A,O,L,M,k){let F=O,B=0,H=0;return{next:function(){if(F<L){const P={value:A(F),done:!1,index:F};return H+=1,F+=1,H===k[B][1]&&(H=0,F+=k[B][2],B+=1,B<k.length&&(F+=k[B][0])),P}return{done:!0,index:L}}}})(S,y.indexToOffset(f.getWithNew2D(T[0],T[1])),y.indexToOffset(f.getWithNew2D(x[0],x[1]))+1,0,v)})(i,o,l,e);let u=[];return c&&(u=V1(c)),u}canQuantifyImage(){return this.#e.getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return this.#e.getImage().isMonochrome()}canScroll(){return this.#e.getImage().canScroll(this.#e.getOrientation())}getImageSize(){return this.#e.getImage().getGeometry().getSize(this.#e.getOrientation())}getImageSpacing(){return this.#e.getImage().getGeometry().getSpacing(this.#e.getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=this.#e.getImage().getGeometry(),t=e.getSize(this.#e.getOrientation()).get2D(),i=e.getSpacing(this.#e.getOrientation()).get2D();return{x:t.x*i.x,y:t.y*i.y}}getImageRescaledDataRange(){return this.#e.getImage().getRescaledDataRange()}equalImageMeta(e){const t=this.#e.getImage().getMeta(),i=Object.keys(e);for(let r=0;r<i.length;++r){const o=i[r];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return this.#e.isPositionInBounds(e)}setCurrentPosition(e,t){return this.#e.setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const i=new yt(e.getX(),e.getY(),t),r=this.#t.getImageOrientedPoint3D(i),o=this.#e.getImage().getGeometry().pointToWorld(r);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=this.#e.getImage().getGeometry().worldToPoint(e),i=this.#t.getImageDeOrientedPoint3D(t);return new De(i.getX(),i.getY())}getIndexFromPosition(e){return this.#e.getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return this.#e.setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),i=new yt(e.getX(),e.getY(),t),r=this.#t.getTargetDeOrientedPoint3D(i),o=this.#e.getImage().getGeometry().getRealSpacing();return new yt(r.getX()*o.get(0),r.getY()*o.get(1),r.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return this.#t.getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(this.#n===void 0){const e=this.#e.getImage(),t=e.getMeta().RecommendedDisplayFrameRate,i=this.#e.getPlaybackMilliseconds(t),r=e.getGeometry().getSize().canScroll3D(),o=this.getPositionHelper();this.#n=window.setInterval((()=>{let l=!1;if(l=r?o.incrementPositionAlongScroll():o.incrementPosition(3),!l){const c=this.getCurrentIndex().getValues(),u=this.#e.getOrientation();r?c[u.getThirdColMajorDirection()]=0:c[3]=0;const h=new St(c),f=this.#e.getImage().getGeometry();this.setCurrentPosition(f.indexToWorld(h))}}),i)}else this.stop()}stop(){this.#n!==void 0&&(clearInterval(this.#n),this.#n=void 0)}getWindowLevel(){return this.#e.getWindowLevel()}getCurrentWindowPresetName(){return this.#e.getCurrentWindowPresetName()}setWindowLevel(e){this.#e.setWindowLevel(e)}getColourMap(){return this.#e.getColourMap()}setColourMap(e){this.#e.setColourMap(e)}setViewAlphaFunction(e){this.#e.setAlphaFunction(e)}setMaskViewHelper(e){this.#e.setMaskViewHelper(e)}getFillOpacity(){return this.#e.getFillOpacity()}setFillOpacity(e){this.#e.setFillOpacity(e)}getContourThickness(){return this.#e.getContourThickness()}setContourThickness(e){this.#e.setContourThickness(e)}bindImageAndLayer(e){const t=this.#e.getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange),t.addEventListener("imageresampled",e.onimageresampled)}unbindImageAndLayer(e){const t=this.#e.getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange),t.removeEventListener("imageresampled",e.onimageresampled)}}const Us=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function Ub(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let r=n[0].target.offsetParent;for(;r;)isNaN(r.offsetLeft)||(e+=r.offsetLeft),isNaN(r.offsetTop)||(t+=r.offsetTop),r=r.offsetParent}else ge.debug("No touch target offset parent.");const i=[];for(let r=0;r<n.length;++r)i.push(new De(n[r].pageX-e,n[r].pageY-t));return i}function Yn(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=Ub(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=Ub(n.changedTouches)),e}function mn(n){return new De(n.offsetX,n.offsetY)}function Nb(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const i=document.createElement("canvas");i.width=1,i.height=1;const r=t.getContext("2d"),o=i.getContext("2d");return r&&(r.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}class En{#e;#t=null;#n=null;#i=null;#r=null;#a=!0;#o=null;#s;#l;#c=1;#u={x:1,y:1};#h={x:1,y:1};#d={x:1,y:1,z:1};#p={x:1,y:1};#y=1;#g={x:1,y:1};#f={x:0,y:0};#m={x:0,y:0};#C={x:0,y:0};#S={x:0,y:0};#w={x:0,y:0};#b={x:0,y:0};#v=null;#x;#A=new ci;#D=!1;#L;#O;constructor(e){this.#e=e,this.#e.className+=" viewLayer"}getDataId(){return this.#x}getScale(){return this.#u}getAbsoluteZoomOffset(){return{x:this.#S.x*this.#h.x,y:this.#S.y*this.#h.y}}setImageSmoothing(e){this.#D=e}setView(e,t){this.#x=t,e.addEventListener("wlchange",this.#E),e.addEventListener("colourmapchange",this.#M),e.addEventListener("positionchange",this.#k),e.addEventListener("alphafuncchange",this.#F),e.addEventListener("maskviewchange",this.#_);for(const i of md)e.addEventListener(i,this.#I);this.#t=new pM(e),this.bindImage()}getViewController(){return this.#t}getImageData(){return this.#o}onimageset=e=>{this.#x===e.dataid&&(this.#t.setImage(e.value[0]),this.#T(this.#t.getImageSize().get2D()),this.#v=!0)};bindImage(){this.#t&&this.#t.bindImageAndLayer(this)}unbindImage(){this.#t&&this.#t.unbindImageAndLayer(this)}onimagecontentchange=e=>{this.#x===e.dataid&&(this.#a=this.#t.isPositionInBounds(),this.#v=!0,this.draw())};onimagegeometrychange=e=>{if(this.#x===e.dataid){const t=this.#t.getImageSize().get2D(),i=this.#t.getImageSpacing().get2D(),r=this.#s.x!==t.x||this.#s.y!==t.y,o=this.#l.x!==i.x||this.#l.y!==i.y;if(o&&(this.#t.updatePlaneHelper(),this.#P(i)),r){if(this.#L!==void 0&&this.#O!==void 0){const l=this.#t.getOrigin(),c=this.#O.minus(l),u=this.#t.getOrigin(this.#t.getCurrentPosition());if(u!==void 0){const h=this.#L.minus(u);this.setBaseOffset(c,h)}}this.#T(t)}(o||r)&&(this.#v=!0,this.draw())}};onimageresampled=e=>{const t=this.#t.getCurrentIndex().get(3),i=t===void 0||t===e.frame;this.#x===e.dataid&&i&&(this.#v=!0,this.draw())};getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#s}getImageWorldSize(){return this.#t.getImageWorldSize()}getOpacity(){return this.#c}setOpacity(e){if(e===this.#c)return;this.#c=Math.min(Math.max(e,0),1);const t={type:"opacitychange",value:[this.#c]};this.#I(t)}getFillOpacity(){return this.#t.getFillOpacity()}setFillOpacity(e){this.#t.setFillOpacity(e)}getContourThickness(){return this.#t.getContourThickness()}setContourThickness(e){this.#t.setContourThickness(e)}addFlipOffsetX(){this.#b.x+=this.#n.width/this.#u.x,this.#f.x+=this.#b.x}addFlipOffsetY(){this.#b.y+=this.#n.height/this.#u.y,this.#f.y+=this.#b.y}flipScaleX(){this.#d.x*=-1}flipScaleY(){this.#d.y*=-1}flipScaleZ(){this.#d.z*=-1}setScale(e,t){const i=this.#t.getPlaneHelper(),r=i.getTargetOrientedPositiveXYZ({x:e.x*this.#d.x,y:e.y*this.#d.y,z:e.z*this.#d.z}),o={x:this.#h.x*r.x,y:this.#h.y*r.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:this.#f.x-this.#S.x,y:this.#f.y-this.#S.y};this.#S={x:0,y:0},this.#f=l}else if(t!==void 0){let l=i.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#m.x,y:l.y+this.#m.y};const c=O6(this.#f,this.#u,o,l),u={x:this.#S.x+c.x-this.#f.x,y:this.#S.y+c.y-this.#f.y};this.#S=u,this.#f=c}this.#u=o}initScale(e,t){const i=this.#t.getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*this.#d.x,y:e.y*this.#d.y,z:e.z*this.#d.z}),r={x:this.#h.x*i.x,y:this.#h.y*i.y};this.#u=r,this.#S={x:t.x/this.#h.x,y:t.y/this.#h.y},this.#f={x:this.#f.x+this.#S.x,y:this.#f.y+this.#S.y}}setBaseOffset(e,t,i,r){const o=this.#t.getPlaneHelper(),l=o.getNativeScrollDimIndex(),c=o.getPlaneOffsetFromOffset3D({x:l===0?e.getX():t.getX(),y:l===1?e.getY():t.getY(),z:l===2?e.getZ():t.getZ()}),u=this.#m.x!==c.x||this.#m.y!==c.y;return i!==void 0&&r!==void 0&&(this.#L=i,this.#O=r),u&&(this.#f={x:this.#f.x-this.#m.x+c.x,y:this.#f.y-this.#m.y+c.y},this.#m=c),u}setOffset(e){const t=this.#t.getPlaneHelper().getPlaneOffsetFromOffset3D(e);this.#f={x:this.#f.x-this.#w.x+t.x,y:this.#f.y-this.#w.y+t.y},this.#w=t}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new St([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new De(e.getX()/this.#u.x,e.getY()/this.#u.y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new De(t.getX()+this.#f.x,t.getY()+this.#f.y)}planePosToDisplay(e){let t=(e.getX()-this.#f.x+this.#m.x)*this.#u.x,i=(e.getY()-this.#f.y+this.#m.y)*this.#u.y;return(t<0||t>=this.#n.width)&&(t=void 0),(i<0||i>=this.#n.height)&&(i=void 0),new De(t,i)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new De(t.getX()-this.#m.x,t.getY()-this.#m.y)}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){if(!this.#a)return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};this.#I(e),this.#v&&this.#R(),this.#r.globalAlpha=this.#c,this.clear(),this.#r.setTransform(this.#u.x,0,0,this.#u.y,-1*this.#f.x*this.#u.x,-1*this.#f.y*this.#u.y),this.#r.imageSmoothingEnabled=this.#D,this.#r.drawImage(this.#i,0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},this.#I(e)}initialise(e,t,i){this.#l=t,this.#c=Math.min(Math.max(i,0),1),this.#n=document.createElement("canvas"),this.#e.appendChild(this.#n),this.#n.getContext?(this.#r=this.#n.getContext("2d"),this.#r?(this.#i=document.createElement("canvas"),this.#T(e),this.#v=!0):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}#T(e){if(!Nb(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);this.#s=e,this.#i.width=this.#s.x,this.#i.height=this.#s.y,this.#r.clearRect(0,0,this.#s.x,this.#s.y),this.#o=this.#r.createImageData(this.#s.x,this.#s.y)}#P(e){this.#l=e,this.fitToContainer(this.#p,this.#y,this.#g)}fitToContainer(e,t,i){let r=!1;const o={x:t*this.#l.x,y:t*this.#l.y},l=o.x/this.#h.x,c=o.y/this.#h.y,u=e.x/(this.#n.width*l),h=e.y/(this.#n.height*c);if(this.#n.width!==e.x||this.#n.height!==e.y){if(!Nb(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);this.#n.width=e.x,this.#n.height=e.y,r=!0}const f={x:this.#u.x*l,y:this.#u.y*c};this.#u.x===f.x&&this.#u.y===f.y||(this.#h=o,this.#u=f,r=!0);const p={x:i.x/o.x,y:i.y/o.y},m={x:e.x/o.x,y:e.y/o.y},S={x:this.#b.x!==0?m.x:0,y:this.#b.y!==0?m.y:0};if(this.#C.x!==p.x||this.#C.y!==p.y||this.#b.x!==S.x||this.#b.y!==S.y){const y={x:this.#S.x*u,y:this.#S.y*h};this.#f={x:this.#f.x+p.x-this.#C.x+S.x-this.#b.x+y.x-this.#S.x,y:this.#f.y+p.y-this.#C.y+S.y-this.#b.y+y.y-this.#S.y},this.#b=S,this.#C=p,this.#S=y,r=!0}this.#p=e,this.#y=t,this.#g=i,r&&this.draw()}bindInteraction(){this.#e.style.pointerEvents="auto";const e=Us;for(let t=0;t<e.length;++t){const i=e[t],r=i!=="wheel";this.#e.addEventListener(i,this.#I,{passive:r})}}unbindInteraction(){this.#e.style.pointerEvents="none";const e=Us;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#I)}addEventListener(e,t){this.#A.add(e,t)}removeEventListener(e,t){this.#A.remove(e,t)}#I=e=>{e.srclayerid=this.getId(),e.dataid=this.#x,this.#A.fireEvent(e)};#R(){this.#t.generateImageData(this.#o),this.#i.getContext("2d").putImageData(this.#o,0,0),this.#v=!1}#E=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#v=!0,this.draw())};#M=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#v=!0,this.draw())};#k=e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const i=[0,1,2],r=i.indexOf(this.#t.getScrollDimIndex());i.splice(r,1),e.diffDims.filter((function(o){return i.indexOf(o)===-1})).length===0&&this.#a||(this.#a=!0,this.#v=!0,this.draw())}else this.#a&&(this.#a=!1,this.clear())}};isValidPosition(){return this.#a}#F=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#v=!0,this.draw())};#_=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#v=!0,this.draw())};setCurrentPosition(e,t){return this.#t.setCurrentPosition(e)}clear(){this.#r.save(),this.#r.setTransform(1,0,0,1,0,0),this.#r.clearRect(0,0,this.#n.width,this.#n.height),this.#r.restore()}}class jc{getName(){return""}execute(){}undo(){}}class qb extends EventTarget{#e=[];#t=0;getStackSize(){return this.#e.length}getCurrentStackIndex(){return this.#t}getCurrentCommand(){return this.#e[this.#t-1]}add(e){this.#e=this.#e.slice(0,this.#t),this.#e.push(e),++this.#t,this.dispatchEvent(new Event("undoadd"))}remove(e){let t=!1;const i=this.#e.findIndex((function(r){return r.getName()===e}));return i!==-1&&(t=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:e}})),this.#e.splice(i,1),--this.#t),t}undo(){this.#t>0&&(this.dispatchEvent(new Event("undo")),--this.#t,this.#e[this.#t].undo())}redo(){this.#t<this.#e.length&&(this.#e[this.#t].execute(),++this.#t,this.dispatchEvent(new Event("redo")))}}class nd extends jc{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}getName(){return"AddAnnotation-"+this.#e.trackingUid}execute(){this.#t.addAnnotation(this.#e)}undo(){this.#t.removeAnnotation(this.#e.trackingUid)}}class tm extends jc{#e;#t;constructor(e,t){super(),this.#e=e,this.#t=t}getName(){return"RemoveAnnotation-"+this.#e.trackingUid}execute(){this.#t.removeAnnotation(this.#e.trackingUid)}undo(){this.#t.addAnnotation(this.#e)}}class Do extends jc{#e;#t;#n;#i;constructor(e,t,i,r){super(),this.#e=e,this.#t=r,this.#n=t,this.#i=i}getName(){return"UpdateAnnotation-"+this.#e.trackingUid}execute(){const e=Object.keys(this.#i);for(const t of e)this.#e[t]=this.#i[t];this.#t.updateAnnotation(this.#e,e)}undo(){const e=Object.keys(this.#n);for(const t of e)this.#e[t]=this.#n[t];this.#t.updateAnnotation(this.#e,e)}}class mM{#e;getAnnotation(e){return this.#e.find(e)}getAnnotationGroup(){return this.#e}isAnnotationGroupEditable(){return this.#e.isEditable()}setAnnotationGroupEditable(e){this.#e.setEditable(e)}addAnnotation(e){this.#e.add(e)}updateAnnotation(e,t,i){this.#e.update(e,t,i)}removeAnnotation(e){this.#e.remove(e)}removeAnnotationWithCommand(e,t){const i=this.getAnnotation(e);if(i===void 0)return void ge.warn("Cannot create remove command for undefined annotation: "+e);const r=new tm(i,this);t(r),r.execute()}updateAnnotationWithCommand(e,t,i,r){const o=this.getAnnotation(e);if(o===void 0)return void ge.warn("Cannot create update command for undefined annotation: "+e);const l=new Do(o,t,i,this);r(l),l.execute()}removeAllAnnotationsWithCommand(e){for(const t of this.#e.getList())this.removeAnnotationWithCommand(t.trackingUid,e)}constructor(e){this.#e=e!==void 0?e:new Ac}hasAnnotationMeta(e){return this.#e.hasMeta(e)}setAnnotationMeta(e,t){this.#e.setMetaValue(e,t)}}const ao={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function tp(n){return n.name()==="label"}function wa(n){return n.name()==="shape"}function A6(n){return n.name()==="position-group"}function B0(n){const e=n.getChildren(wa)[0];if(e instanceof Le.Line)return e}function ft(n,e){const t=n.getChildren((function(i){return i.id()==="anchor"+e}))[0];if(t instanceof Le.Ellipse)return t}function K1(n){return function(e){return e.id()===n}}function oo(n,e,t,i){const r=i.applyZoomScale(6),o={x:Math.abs(r.x),y:Math.abs(r.y)};return new Le.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function Bb(n){return parseInt(n.substring(6),10)}class Dd{#e=10;#t="Verdana";#n="#fff";#i="#ffff80";#r={x:1,y:1};#a={x:1,y:1};#o=2;#s={x:.25,y:.25};#l=.2;#c=3;getFontFamily(){return this.#t}getFontSize(){return this.#e}getStrokeWidth(){return this.#o}getTextColour(){return this.#n}getLineColour(){return this.#i}setLineColour(e){this.#i=e}setBaseScale(e){this.#r=e}setZoomScale(e){this.#a=e}getBaseScale(){return this.#r}getZoomScale(){return this.#a}scale(e){return e/this.#r.x}applyZoomScale(e){return{x:e/this.#a.x,y:e/this.#a.y}}applyZoomRatio(e){return e*this.#a.x/this.#a.y}getShadowOffset(){return this.#s}getTagOpacity(){return this.#l}getTextPadding(){return this.#c}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return(function(e){return .001172549*(t=rE(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t})(this.getLineColour())?"#fff":"#000"}}class z0{#e;#t=null;#n;#i;#r={x:1,y:1};#a={x:1,y:1,z:1};#o={x:0,y:0};#s={x:0,y:0};#l={x:0,y:0};#c={x:0,y:0};#u={x:0,y:0};#h;#d;#p;#y;#g;#f;#m=!0;constructor(e){this.#e=e,this.#e.className+=" drawLayer"}setShapeHandler(e){this.#f=e}getDataId(){return this.#p}getReferenceLayerId(){return this.#y}#C=new ci;getKonvaStage(){return this.#t}getKonvaLayer(){return this.#t.getLayers()[0]}getDrawController(){return this.#h}setPlaneHelper(e){this.#d=e}getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#n}getOpacity(){return this.#t.opacity()}setOpacity(e){this.#t.opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=this.#t.scale(),t=this.#t.size();this.#u.x+=t.width/e.x;const i=this.#t.offset();i.x+=this.#u.x,this.#t.offset(i)}addFlipOffsetY(){const e=this.#t.scale(),t=this.#t.size();this.#u.y+=t.height/e.y;const i=this.#t.offset();i.y+=this.#u.y,this.#t.offset(i)}flipScaleX(){this.#a.x*=-1}flipScaleY(){this.#a.y*=-1}flipScaleZ(){this.#a.z*=-1}setScale(e,t){const i=this.#d.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),r={x:this.#r.x*i.x,y:this.#r.y*i.y},o=this.#t.offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:o.x-this.#l.x,y:o.y-this.#l.y};this.#l={x:0,y:0},this.#t.offset(l)}else if(t!==void 0){let l=this.#d.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#o.x,y:l.y+this.#o.y};const c=O6(o,this.#t.scale(),r,l),u={x:this.#l.x+c.x-o.x,y:this.#l.y+c.y-o.y};this.#l=u,this.#t.offset(c)}this.#t.scale(r),this.#I(r)}initScale(e,t){const i=this.#d.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),r={x:this.#r.x*i.x,y:this.#r.y*i.y};this.#t.scale(r),this.#l={x:t.x/this.#r.x,y:t.y/this.#r.y};const o=this.#t.offset();this.#t.offset({x:o.x+this.#l.x,y:o.y+this.#l.y})}setOffset(e){const t=this.#d.getPlaneOffsetFromOffset3D(e),i=this.#t.offset();this.#t.offset({x:i.x-this.#c.x+t.x,y:i.y-this.#c.y+t.y}),this.#c=t}setBaseOffset(e,t){const i=this.#d.getNativeScrollDimIndex(),r=this.#d.getPlaneOffsetFromOffset3D({x:i===0?e.getX():t.getX(),y:i===1?e.getY():t.getY(),z:i===2?e.getZ():t.getZ()}),o=this.#o.x!==r.x||this.#o.y!==r.y;if(o){const l=this.#t.offset();this.#t.offset({x:l.x-this.#o.x+r.x,y:l.y-this.#o.y+r.y}),this.#o=r}return o}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){this.#t.draw()}initialise(e,t,i){this.#n=e,this.#i=t,this.#y=i,this.#t=new Le.Stage({container:this.#e,width:this.#n.x,height:this.#n.y,listening:!1}),this.#t.getContent().setAttribute("style","");const r=new Le.Layer({listening:!1,visible:!0});this.#t.add(r)}setAnnotationGroup(e,t,i){if(this.#p=t,e.addEventListener("annotationadd",(r=>{this.#v(r.data,!0),this.getKonvaLayer().draw()})),e.addEventListener("annotationupdate",(r=>{this.#A(r.data),this.getKonvaLayer().draw()})),e.addEventListener("annotationremove",(r=>{this.#x(r.data),this.getKonvaLayer().draw()})),e.addEventListener("annotationgroupeditablechange",(r=>{this.activateCurrentPositionShapes(r.data)})),this.#h=new mM(e),e.getLength()!==0)for(const r of e.getList())this.#v(r,!1),i(new nd(r,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(this.#t.listening(!1),this.#f!==void 0){this.#f.disableAndResetEditor();const r=t.getChildren();for(const o of r)o instanceof Le.Group&&o.getChildren().forEach((l=>{l instanceof Le.Group&&this.#f.removeShapeListeners(l)}))}const i=this.getDrawController();if(e&&i.getAnnotationGroup().isEditable()){this.#t.listening(!0);const r=this.#O().getChildren();r.length!==0&&t.listening(!0),this.#f!==void 0&&r.forEach((o=>{if(o instanceof Le.Group){const l=i.getAnnotation(o.id());this.#f.addShapeGroupListeners(o,l,this)}}))}t.draw()}#S(e){let t,i;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(i=this.#w(t,e.referencedFrameNumber)),i}#w(e,t){let i="";for(const r of e)i.length!==0&&(i+="-"),i+=pE([ar(r.getX(),2),ar(r.getY(),2),ar(r.getZ(),2)]);return t!==void 0&&(i+="-"+t),i}#b(e){let t;const i=this.#S(e),r=this.getKonvaLayer().getChildren(K1(i));if(r.length!==0){const o=r[0];if(!(o instanceof Le.Group))return;const l=o.getChildren(K1(e.trackingUid));l.length!==0&&l[0]instanceof Le.Group&&(t=l[0])}return t}#v(e,t){if(!e.canView()||!e.isCompatibleView(this.#d))return;const i=this.#S(e);let r=this.getKonvaLayer().getChildren(K1(i))[0];if(r===void 0&&(r=new Le.Group({id:i,name:"position-group",visible:t}),this.getKonvaLayer().add(r)),!(r instanceof Le.Group))return;const o=new Dd,l=this.getKonvaStage();o.setZoomScale(l.scale());const c=e.getFactory();if(c===void 0)throw new Error("Cannot add an annotation draw without factory");const u=c.createShapeGroup(e,o);r.add(u),t&&this.#f!==void 0&&this.#f.addShapeGroupListeners(u,e,this),this.setLabelVisibility(u)}#x(e){const t=this.#b(e);return t instanceof Le.Group?(t.remove(),!0):(ge.debug("No shape group to remove"),!1)}#A(e){this.#x(e)&&this.#v(e,!0)}fitToContainer(e,t,i){const r={x:t*this.#i.x,y:t*this.#i.y},o=r.x/this.#r.x,l=r.y/this.#r.y,c=e.x/(this.#t.width()*o),u=e.y/(this.#t.height()*l);this.#t.width()===e.x&&this.#t.height()===e.y||(this.#t.width(e.x),this.#t.height(e.y));const h={x:this.#t.scale().x*o,y:this.#t.scale().y*l};this.#t.scale().x===h.x&&this.#t.scale().y===h.y||(this.#r=r,this.#t.scale(h),this.#I(h));const f={x:i.x/r.x,y:i.y/r.y},p={x:e.x/r.x,y:e.y/r.y},m={x:this.#u.x!==0?p.x:0,y:this.#u.y!==0?p.y:0};if(this.#s.x!==f.x||this.#s.y!==f.y||this.#u.x!==m.x||this.#u.y!==m.y){const S={x:this.#l.x*c,y:this.#l.y*u};this.#t.offset({x:this.#t.offset().x+f.x-this.#s.x+m.x-this.#u.x+S.x-this.#l.x,y:this.#t.offset().y+f.y-this.#s.y+m.y-this.#u.y+S.y-this.#l.y}),this.#u=m,this.#s=f,this.#l=S}}isAnnotationVisible(e){const t=this.#T(e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const i=this.#T(e);return i!==void 0&&(t===void 0&&(t=!i.isVisible()),i.visible(t),this.draw(),!0)}setLabelsVisibility(e){this.#m=e;const t=this.getKonvaLayer().getChildren();for(const i of t)if(i instanceof Le.Group){const r=i.getChildren();for(const o of r)o instanceof Le.Group&&this.#D(o,e)}}#D(e,t){const i=e.getChildren(tp)[0];if(i instanceof Le.Label&&(t===void 0&&(t=!i.isVisible()),i.getText()!==void 0&&i.getText().text().length!==0)){i.visible(t);const r=e.getChildren((o=>o.className==="Line"&&o.name()==="connector"))[0];r&&r.visible(t)}}setLabelVisibility(e){this.#D(e,this.#m)}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const i of e)i instanceof Le.Group&&(t+=i.getChildren().length);return t}bindInteraction(){this.#t.listening(!0),this.#e.style.pointerEvents="auto";const e=Us;for(let t=0;t<e.length;++t)this.#e.addEventListener(e[t],this.#P)}unbindInteraction(){this.#t.listening(!1),this.#e.style.pointerEvents="none";const e=Us;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#P)}setCurrentPosition(e,t){t===void 0&&(t=this.#d.worldToIndex(e));const i=this.#d.getPlanePoints(e);let r,o;r=this.#d.isAquisitionOrientation()?[i[0]]:i,e.length()>3&&(o=e.get(3));const l=this.#w(r,o);return this.#L(l),this.#P({type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}#L(e){this.#g=e;const t=this.getKonvaLayer().getChildren(A6);let i;for(let r=0,o=t.length;r<o;++r)i=!1,e!==void 0&&t[r].id()===e&&(i=!0),t[r].visible(i);this.getKonvaLayer().draw()}#O(){if(this.#g===void 0)return;const e=this.getKonvaLayer().getChildren((i=>i.id()===this.#g));let t;return e.length===1?e[0]instanceof Le.Group&&(t=e[0]):e.length===0?(t=new Le.Group,t.name("position-group"),t.id(this.#g),t.visible(!0),this.getKonvaLayer().add(t)):ge.warn("Unexpected number of draw position groups"),t}#T(e){return this.getKonvaLayer().findOne("#"+e)}addEventListener(e,t){this.#C.add(e,t)}removeEventListener(e,t){this.#C.remove(e,t)}#P=e=>{e.srclayerid=this.getId(),e.dataid=this.#p,this.#C.fireEvent(e)};#I(e){const t=2/e.x,i=2/e.y,r=this.#t.find("Label");for(let o=0;o<r.length;++o)r[o].scale({x:t,y:i})}}function SM(n){const e=[0,0,0],t=n.split("#");for(const i of t){const r=i.split("-");e[r[0]]=r[1]}return e}function I6(n){return"info-"+n}function zb(n){let e="";e=n.tags!==void 0?n.tags.join(""):n.event;let t=encodeURIComponent(n.format.toLowerCase());return t=t.replace(/%[0-9A-F]{2}/gi,""),I6(n.pos)+"-"+e+"-"+t}class yM{#e=!1;#t;constructor(e){this.#t=e}onDataChange=e=>{if(e.data!==void 0){if(e.srclayerid!==void 0){const i=Ic(e.srclayerid),r={groupDivId:(t=this.#t.id).substring(0,t.length-10)};if(i.groupDivId!==r.groupDivId)return}var t;this.#e||this.#n(e.data),this.#i(e.data)}};#n(e){const t=[];for(const i of e){const r=i.pos;t.includes(r)||t.push(r)}for(const i of t){const r=document.createElement("ul");for(const l of e)if(l.pos===i){const c=document.createElement("li");c.id=zb(l),l.tags!==void 0&&c.appendChild(document.createTextNode(l.value)),r.appendChild(c)}const o=document.createElement("div");o.id=I6(i),o.className="info-"+i+" info",o.appendChild(r),this.#t.appendChild(o)}this.#e=!0}#i(e){for(const t of e){const i="#"+zb(t),r=this.#t.querySelector(i),o=t.value;o&&r&&r.replaceChildren(document.createTextNode(o))}}}function Ic(n){const e=n.split("-layer-");return e.length!==2&&ge.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function gt(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=Ic(t.id)),e}function O6(n,e,t,i){const r=(i.x-n.x)*e.x,o=(i.y-n.y)*e.y;return{x:i.x-r/t.x,y:i.y-o/t.y}}class vM{#e;#t=[];#n={x:1,y:1,z:1};#i={x:1,y:1,z:1};#r={x:0,y:0,z:0};#a=void 0;#o=new ci;#s=!1;#l=[];#c;#u=!1;#h;#d;#p=[];#y;getPositionHelper(){if(this.#h===void 0){for(const e of this.#t)if(e instanceof En){const t=e.getViewController().getPositionHelper();this.#h===void 0?this.#h=t:this.#h.merge(t)}}return this.#h}constructor(e,t){if(this.#e=e,t!==void 0&&t===!0){const i=document.createElement("div");i.id=e.id+"-infolayer",i.className="infoLayer",e.appendChild(i),this.#d=new yM(i)}}getShowCrosshair(){return this.#s}setShowCrosshair(e){this.#s=e,e?(this.addEventListener("offsetchange",this.#g),this.addEventListener("zoomchange",this.#g),this.#b()):(this.removeEventListener("offsetchange",this.#g),this.removeEventListener("zoomchange",this.#g),this.#v())}setImageSmoothing(e){this.#u=e;for(const t of this.#t)t instanceof En&&t.setImageSmoothing(e)}#g=e=>{this.#b()};getDivId(){let e;return this.#e!==null&&(e=this.#e.id),e}getScale(){return this.#n}getBaseScale(){return this.#i}getAddedScale(){return{x:this.#n.x/this.#i.x,y:this.#n.y/this.#i.y,z:this.#n.z/this.#i.z}}getOffset(){return this.#r}getNumberOfLayers(){let e=0;return this.#t.forEach((t=>{t!==void 0&&e++})),e}includes(e){if(e===void 0)return!1;for(const t of this.#t)if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof En&&e(i)&&t.push(i);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;this.#a!==void 0&&(t=this.#a);const i=[];for(let o=t;o>=0;o--)i.push(o);for(let o=this.#t.length-1;o>t;o--)i.push(o);const r=[];for(const o of i){const l=this.#t[o];l instanceof En&&e(l)&&r.push(l)}return r}someViewLayer(e){let t=!1;for(const i of this.#t)if(i instanceof En&&e(i)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof z0&&e(i)&&t.push(i);return t}getNumberOfViewLayers(){let e=0;return this.#t.forEach((t=>{t!==void 0&&t instanceof En&&e++})),e}getActiveLayer(){let e;return this.#a!==void 0&&(e=this.#t[this.#a]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof En&&(e=t),e}getBaseViewLayer(){let e;for(const t of this.#t)if(t instanceof En){e=t;break}return e}getViewLayerById(e){const t=this.getViewLayers((function(r){return r.getId()===e}));let i;return t.length===1&&(i=t[0]),i}getViewLayersByDataId(e){return this.getViewLayers((function(t){return t.getDataId()===e}))}searchViewLayers(e){const t=structuredClone(e);let i;t.SOPInstanceUID!==void 0&&(i=t.SOPInstanceUID,delete t.SOPInstanceUID);const r=i!==void 0,o=Object.keys(t).length!==0,l=[];for(const c of this.#t)if(c instanceof En){let u=!1;o&&(u=c.getViewController().equalImageMeta(t));let h=!1;r&&(h=c.getViewController().includesImageUid(i));let f=!1;o&&r?f=u&&h:o?f=u:r&&(f=h),f&&l.push(c)}return l}getViewDataIndices(){const e=[];for(const t of this.#t)t instanceof En&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof z0&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers((function(r){return r.getId()===e}));let i;return t.length===1&&(i=t[0]),i}getDrawLayersByDataId(e){return this.getDrawLayers((function(t){return t.getDataId()===e}))}setActiveLayer(e){this.#a=e;const t=this.#t[e];if(this.#d!==void 0){this.unbindInfoData();const i=t.getDataId();this.bindInfoData(i)}this.#D({type:"activelayerchange",value:[this.#t[e]]})}setActiveLayerById(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):ge.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getDataId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):ge.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=this.#t.length,t=this.#w();this.#e.append(t);const i=new En(t);return i.setImageSmoothing(this.#u),this.#t.push(i),this.setActiveLayer(e),this.#f(i),this.#h=void 0,i}addDrawLayer(){this.#a=this.#t.length;const e=this.#w();this.#e.append(e);const t=new z0(e);return this.#t.push(t),this.#C(t),t}#f(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of md)e.addEventListener(t,this.#D);e.addEventListener("renderstart",this.#D),e.addEventListener("renderend",this.#D)}#m(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of md)e.removeEventListener(t,this.#D);e.removeEventListener("renderstart",this.#D),e.removeEventListener("renderend",this.#D),e.unbindImage()}#C(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",this.#D)}#S(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",this.#D)}addInfoData(e,t){this.#p[t]=e}bindInfoData(e){if(this.#y!==void 0)return;const t=this.#p[e];t!==void 0&&t.addEventListener("valuechange",this.#d.onDataChange),this.#y=e}unbindInfoData(){const e=this.#p[this.#y];e!==void 0&&e.removeEventListener("valuechange",this.#d.onDataChange),this.#y=void 0}#w(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+this.#t.length,e.className="layer",e.style.pointerEvents="none",e}empty(){for(const e of this.#t)e!==void 0&&this.removeLayer(e);this.#t=[],this.#v()}removeLayersByDataId(e){for(const t of this.#t)t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=this.#t.findIndex((i=>i===e));if(t===-1)throw new Error("Cannot find layer to remove");this.#a===t&&(this.#a=void 0),e instanceof En?this.#m(e):this.#S(e),this.#t[t]=void 0,this.#h=void 0,e.removeFromDOM(),this.#D({type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}#b(){let e;this.#v();for(const l of this.#t)if(l instanceof En){e=l;break}if(e===void 0)return void ge.warn("No layer to show crosshair");if(this.#x(e))return void ge.warn("Not enabling crosshair for secondary capture");const t=e.getViewController(),i=t.getCurrentPosition(),r=t.getPlanePositionFromPosition(i),o=e.planePosToDisplay(r);if(o.getY()!==void 0){const l=document.createElement("hr");l.id=this.getDivId()+"-scroll-crosshair-horizontal",l.className="horizontal",l.style.width=this.#e.offsetWidth+"px",l.style.left="0px",l.style.top=o.getY()+"px",this.#l.push(l),this.#e.appendChild(l)}if(o.getX()!==void 0){const l=document.createElement("hr");l.id=this.getDivId()+"-scroll-crosshair-vertical",l.className="vertical",l.style.width=this.#e.offsetHeight+"px",l.style.left=o.getX()+"px",l.style.top="0px",this.#l.push(l),this.#e.appendChild(l)}}#v(){for(const e of this.#l)e.remove();this.#l=[]}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),i=t.getViewController(),r=t.displayToPlanePos(e),o=i.getPositionFromPlanePoint(r),l=i.getRescaledImageValue(o);if(l!==void 0){const c=document.createElement("span");c.id="scroll-tooltip",c.style.left=e.getX()+10+"px",c.style.top=e.getY()+10+"px";let u=ar(l,3).toString();i.getPixelUnit()!==void 0&&(u+=" "+i.getPixelUnit()),c.appendChild(document.createTextNode(u)),this.#c=c,this.#e.appendChild(c)}}removeTooltipDiv(){this.#c!==void 0&&(this.#c.remove(),this.#c=void 0)}isPositionInBounds(e){return this.someViewLayer((function(t){return t.getViewController().isPositionInBounds(e)}))}canScroll(){return this.someViewLayer((function(e){return e.getViewController().canScroll()}))}#x(e){let t=!1;const i=e.getViewController().getSopClassUid();return i!==void 0&&(t=i.startsWith("1.2.840.10008.5.1.4.1.1.7")),t}shouldBind(){const e=this.getBaseViewLayer();return e!==void 0&&!this.#x(e)}moreThanOne(e){return this.someViewLayer((function(t){return t.getViewController().moreThanOne(e)}))}hasAnyLayerWithValidPosition(){return this.someViewLayer((function(e){return e.isValidPosition()}))}#A=e=>{const t=this.#p[e.dataid];t!==void 0&&t.onSliceChange(e)};updateLayersToPositionChange=e=>{for(const u of this.#t)u!==void 0&&(u.removeEventListener("positionchange",this.updateLayersToPositionChange),u.removeEventListener("positionchange",this.#D),u.addEventListener("positionchange",this.#A));const t=new St(e.value[0]),i=new cr(e.value[1]),r={};let o,l;for(const u of this.#t){if(u===void 0)continue;let h=!1;if(u instanceof En){const p=u.getViewController(),m=p.getOrigin(),S=p.getOrigin(i);let y,v;if(l===void 0)o=m,l=S,y=new Kt(0,0,0),v=new Kt(0,0,0);else if(p.isPositionInBounds(i)&&S!==void 0){const b=o.minus(m);y=new Kt(b.getX(),b.getY(),b.getZ());const T=l.minus(S);v=new Kt(T.getX(),T.getY(),T.getZ())}y!==void 0&&v!==void 0&&(h=u.setBaseOffset(y,v,l,o),r[u.getId()]={scroll:y,plane:v})}if(u instanceof z0){const p=r[u.getReferenceLayerId()];p!==void 0&&(h=u.setBaseOffset(p.scroll,p.plane))}let f=!1;u.getId()!==e.srclayerid&&(f=u.setCurrentPosition(i,t)),!f&&h&&u.draw()}const c=this.hasAnyLayerWithValidPosition();this.#D({type:"outofrange",layergroupid:this.getDivId(),value:[!c]}),this.#s&&this.#b();for(const u of this.#t)u!==void 0&&(u.addEventListener("positionchange",this.updateLayersToPositionChange),u.addEventListener("positionchange",this.#D),u.removeEventListener("positionchange",this.#A))};getDivToWorldSizeRatio(){if(this.#e.offsetWidth===0&&this.#e.offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+this.#e.id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(this.#e.offsetHeight===0){const t=this.#e.offsetWidth/e.x,i=e.y*t;this.#e.style.height=i+"px"}return Math.min(this.#e.offsetWidth/e.x,this.#e.offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const i={x:this.#e.offsetWidth,y:this.#e.offsetHeight},r={x:-.5*(i.x-Math.floor(t.x*e)),y:-.5*(i.y-Math.floor(t.y*e))};for(const o of this.#t)o!==void 0&&o.fitToContainer(i,e,r);this.#s&&this.#b()}getMaxWorldSize(){let e={x:0,y:0};for(const t of this.#t)if(t instanceof En){const i=t.getImageWorldSize();i.x>e.x&&(e.x=i.x),i.y>e.y&&(e.y=i.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){this.#i.z*=-1,this.setScale(this.#i)}addScale(e,t){const i={x:this.#n.x*(1+e),y:this.#n.y*(1+e),z:this.#n.z*(1+e)};this.setScale(i,t)}setScale(e,t){this.#n=e;for(const r of this.#t)r!==void 0&&r.setScale(this.#n,t);const i=[e.x,e.y,e.z];t!==void 0&&(i.push(t.getX()),i.push(t.getY()),i.push(t.getZ())),this.#D({type:"zoomchange",value:i})}addTranslation(e){this.setOffset({x:this.#r.x-e.x,y:this.#r.y-e.y,z:this.#r.z-e.z})}setOffset(e){this.#r=e;for(const t of this.#t)t!==void 0&&t.setOffset(this.#r);this.#D({type:"offsetchange",value:[this.#r.x,this.#r.y,this.#r.z]})}reset(){this.setScale(this.#i),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(this.#i),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of this.#t)if(t!==void 0&&t instanceof En){const i=t.getViewController();e&&(i.resetPosition(),e=!1),i.resetWindowLevel()}}draw(){for(const e of this.#t)e!==void 0&&e.draw()}display(e){for(const t of this.#t)t!==void 0&&t.display(e)}addEventListener(e,t){this.#o.add(e,t)}removeEventListener(e,t){this.#o.remove(e,t)}#D=e=>{this.#o.fireEvent(e)}}class CM{#e=0;getSum(){return this.#e}add(e){this.#e+=(function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60})(e)}clear(){this.#e=0}isTick(){return Math.abs(this.#e)>=1}}class gc{#e;#t=new CM;constructor(e){this.#e=e}wheel(e){this.#t.add(e);const t=this.#t.getSum()>=0;if(!this.#t.isTick())return;this.#t.clear(),e.preventDefault();const i=gt(e),r=this.#e.getLayerGroupByDivId(i.groupDivId),o=r.getPositionHelper();r.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():r.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}class bM{#e;#t;constructor(e,t){this.#e=e,this.#t=t}#n=null;#i=null;#r;#a;#o=!1;setShape(e,t,i){if(this.#i=e,this.#r=t,this.#a=i,this.#i){if(this.#c(),this.#n=i.getFactory(),this.#n===void 0)throw new Error("Could not find a factory to update shape.");this.#u()}}getShape(){return this.#i}getAnnotation(){return this.#a}isActive(){return this.#o}enable(){this.#o=!0,this.#i&&(this.#l(!0),this.#i.getLayer()&&this.#i.getLayer().draw())}disable(){this.#o=!1,this.#i&&(this.#l(!1),this.#i.getLayer()&&this.#i.getLayer().draw())}reset(){this.#i=void 0,this.#r=void 0,this.#a=void 0}resetAnchors(){this.#c(),this.#u(),this.#l(!0)}#s(e){this.#i&&this.#i.getParent()&&this.#i.getParent().find(".anchor").forEach(e)}#l(e){this.#s((function(t){t.visible(e)}))}setAnchorsActive(e){let t=null;t=e?i=>{this.#h(i)}:i=>{this.#d(i)},this.#s(t)}#c(){this.#s((function(e){e.remove()}))}#u(){if(!this.#i||!this.#i.getLayer())return;const e=this.#i.getParent(),t=this.#n.getAnchors(this.#i,this.#e.getStyle());for(let i=0;i<t.length;++i)this.#h(t[i]),e.add(t[i])}#h(e){let t;e.on("dragstart.edit",(i=>{i.cancelBubble=!0,t={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints}})),e.on("dragmove.edit",(i=>{const r=i.target;r instanceof Le.Shape&&((function(o,l){const c=l.getParent();(function(u,h,f){u.x()<h.getX()?u.x(h.getX()):u.x()>f.getX()&&u.x(f.getX()),u.y()<h.getY()?u.y(h.getY()):u.y()>f.getY()&&u.y(f.getY())})(l,new De(-c.x(),-c.y()),new De(o.x-c.x(),o.y-c.y()))})(this.#r.getBaseSize(),r),this.#n.constrainAnchorMove!==void 0&&this.#n.constrainAnchorMove(r),this.#n.updateAnnotationOnAnchorMove(this.#a,r),this.#n.updateShapeGroupOnAnchorMove(this.#a,r,this.#e.getStyle()),r.getLayer()?r.getLayer().draw():ge.warn("No layer to draw the anchor!"),i.cancelBubble=!0)})),e.on("dragend.edit",(i=>{const r={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints},o=new Do(this.#a,t,r,this.#r.getDrawController());this.#e.addToUndoStack(o),this.#t({type:"annotationupdate",data:this.#a,dataid:this.#r.getDataId(),keys:Object.keys(r)}),t={mathShape:r.mathShape,referencePoints:r.referencePoints},i.cancelBubble=!0})),e.on("mousedown touchstart",(i=>{i.target.moveToTop()})),e.on("mouseover.edit",(i=>{const r=i.target;r instanceof Le.Shape&&(r.stroke("#ddd"),r.getLayer()?r.getLayer().draw():ge.warn("No layer to draw the anchor!"))})),e.on("mouseout.edit",(i=>{const r=i.target;r instanceof Le.Shape&&(r.stroke("#999"),r.getLayer()?r.getLayer().draw():ge.warn("No layer to draw the anchor!"))}))}#d(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")}}class DM{#e;constructor(){this.createTrashIcon()}createTrashIcon(){this.#e=new Le.Group;const e=new Le.Line({points:[-10,-10,10,10],stroke:"red"}),t=new Le.Line({points:[10,-10,-10,10],stroke:"red"});this.#e.width(20),this.#e.height(20),this.#e.add(e),this.#e.add(t)}activate(e){const t=e.getKonvaStage(),i=t.scale(),r=e.getKonvaLayer(),o={x:1/i.x,y:1/i.y};this.#e.x(t.offset().x+t.width()/(2*i.x)),this.#e.y(t.offset().y+t.height()/(15*i.y)),this.#e.scale(o),r.add(this.#e),r.draw()}changeChildrenColourOnTrashHover(e,t,i){if(this.isOverTrash(e))return this.changeGroupChildrenColour(this.#e,"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(this.#e,"red"),this.changeGroupChildrenColour(t,i)}changeGroupChildrenColour(e,t){e.getChildren().forEach((function(i){i instanceof Le.Shape&&i.stroke!==void 0&&i.stroke(t)}))}remove(){this.#e.remove()}isOverTrash(e){const t=this.#e.width()*Math.abs(this.#e.scaleX())/2,i=this.#e.height()*Math.abs(this.#e.scaleY())/2;return Math.abs(e.x-this.#e.x())<t&&Math.abs(e.y-this.#e.y())<i}}class TM{#e;#t;#n;#i="pointer";#r;#a;#o;constructor(e,t){this.#e=e,this.#o=t,this.#t=new bM(e,t),this.#n=new DM}setEditorShape(e,t){const i=t.getDrawController();e&&e instanceof Le.Shape&&e!==this.#t.getShape()&&i.isAnnotationGroupEditable()&&(this.#t.disable(),this.#t.setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),this.#t.enable())}getEditorShapeGroup(){let e;if(!this.#t.isActive()||(e=this.#t.getShape().getParent(),e instanceof Le.Group))return e}getEditorAnnotation(){let e;return this.#t.isActive()&&(e=this.#t.getAnnotation()),e}disableAndResetEditor(){this.#t.disable(),this.#t.reset()}#s(e,t){const i=t.getKonvaStage();return{x:i.offset().x+e.x/i.scale().x,y:i.offset().y+e.y/i.scale().y}}storeMouseOverCursor(e){this.#i=e}#l(){this.#r=document.body.style.cursor,document.body.style.cursor=this.#i,this.#a.opacity(.75)}onMouseOutShapeGroup(){this.#r!==void 0&&(document.body.style.cursor=this.#r,this.#r=void 0),this.#a!==void 0&&this.#a.opacity(1)}#c(e){e.on("mouseover",(()=>{this.#a=e,this.#l()})),e.on("mouseout",(()=>{this.onMouseOutShapeGroup(),this.#a=void 0}))}#u(e){e.off("mouseover"),e.off("mouseout")}addShapeGroupListeners(e,t,i){this.#c(e),this.#h(e,t,i),this.#d(e,t,i),e.on("dblclick",(()=>{const r=t.textExpr;(function(l,c){const u=prompt("Label",l.textExpr);u!==null&&(l.textExpr=u,c(l))})(t,l=>{const c=l.textExpr,u=new Do(l,{textExpr:r},{textExpr:c},i.getDrawController());this.#e.addToUndoStack(u),u.execute()})}))}#h(e,t,i){const r=i.getKonvaLayer(),o=e.getChildren(wa)[0];if(!(o instanceof Le.Shape))return;let l,c,u,h;o.draggable(!0),o.on("dragstart.draw",(f=>{h=o.stroke(),l={x:o.x(),y:o.y()},c={x:f.target.x(),y:f.target.y()},u={mathShape:t.mathShape,referencePoints:t.referencePoints},this.#n.activate(i),this.#t.setAnchorsActive(!1),r.draw()})),o.on("dragmove.draw",(f=>{const p=(function(w,A){return{min:new De(0,0),max:new De(w.x-Math.abs(A.width()),w.y-Math.abs(A.height()))}})(i.getBaseSize(),o);if(p&&!(function(w,A,O){const L=w.getClientRect({relativeTo:w.getParent()});return L.x>A.getX()&&L.x<O.getX()&&L.y>A.getY()&&L.y<O.getY()})(o,p.min,p.max))return o.x(c.x),void o.y(c.y);const m={x:f.target.x()-c.x,y:f.target.y()-c.y},S=e.getChildren(),y=t.labelPosition===void 0;for(const w of S)w===f.target||w.name()==="label"&&!y||w.name()==="connector"||w.move(m);c={x:f.target.x(),y:f.target.y()};const v=t.getFactory();if(v===void 0)throw new Error("Cannot follow drag move without factory");v.updateAnnotationOnTranslation(t,m),v.updateLabelContent(t,e,this.#e.getStyle()),v.updateConnector(e);const b=mn(f.evt),T={x:b.getX(),y:b.getY()},x=this.#s(T,i);this.#n.changeChildrenColourOnTrashHover(x,e,h),r.draw()})),o.on("dragend.draw",(f=>{if(this.#n.remove(),f===void 0||f.evt===void 0)return;const p=o.x(),m=o.y(),S=mn(f.evt),y={x:S.getX(),y:S.getY()},v=this.#s(y,i);if(this.#n.isOverTrash(v)){e.x(l.x),e.y(l.y),this.#t.disable(),this.#t.reset(),this.#n.changeGroupChildrenColour(e,h),t.mathShape=u.mathShape,t.referencePoints=u.referencePoints;const b=new tm(t,i.getDrawController());this.#e.addToUndoStack(b),b.execute(),this.onMouseOutShapeGroup()}else{const b={x:p-l.x,y:m-l.y};if(b.x!==0||b.y!==0){const T={mathShape:t.mathShape,referencePoints:t.referencePoints},x=new Do(t,u,T,i.getDrawController());this.#e.addToUndoStack(x),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:Object.keys(T)}),u={mathShape:T.mathShape,referencePoints:T.referencePoints}}this.#t.setAnchorsActive(!0),this.#t.resetAnchors()}r.draw(),l={x:o.x(),y:o.y()}}))}#d(e,t,i){const r=e.getChildren(tp)[0];if(!(r instanceof Le.Label))return;let o,l;r.draggable(!0),r.on("dragstart.draw",(()=>{o={x:r.x(),y:r.y()},l=t.labelPosition})),r.on("dragmove.draw",(()=>{const c=t.getFactory();if(c===void 0)throw new Error("Cannot udpate connector without factory");c.updateConnector(e)})),r.on("dragend.draw",(()=>{const c=r.x()-o.x,u=r.y()-o.y;if(c!==0||u!==0){const h=new De(r.x(),r.y());t.labelPosition=h;const f=new Do(t,{labelPosition:l},{labelPosition:h},i.getDrawController());this.#e.addToUndoStack(f),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:["labelPosition"]}),l=h}o={x:r.x(),y:r.y()}}))}removeShapeListeners(e){this.#u(e),e.off("dblclick");const t=e.getChildren(wa)[0];t instanceof Le.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const i=e.getChildren(tp)[0];i instanceof Le.Label&&(i.draggable(!1),i.off("dragstart.draw"),i.off("dragend.draw"))}}const xM="No source image to create mask",Gb="No source image to get offsets, ID: {0}",wM="No brush origins",AM="No mask defined when adding mask slices",IM="No created mask image",OM="No mask image for temporary draw command, ID: {0}",PM="No mask image to get offsets from",LM="No mask image for draw command, ID: {0}",Qb="No mask ID to apply mask index",RM="No mask view layers",EM="No selected segment number",MM="Too many mask view layers: {0}",_M="More mask layers than expected",kM="Cannot display mask with no mask ID",FM="Cannot draw with no mask data ID",UM="Cannot draw with no offsets",NM="Cannot draw with no colour list",qM="Cannot get mask layers with no mask ID",BM="Cannot get mask view controller: no mask ID",zM="Cannot get mask view controller: no mask layers",GM="Cannot find source data for an existing mask, ID: {0}",QM="Unsupported scroll index: {0}";function ya(n,...e){return n.replace(/{(\d+)}/g,((t,i)=>e[i]||""))}const id="del",J1="add";function Vb(n,e,t,i){return uM(n.worldToIndex(e),t,i)}class Hb{mask;dataId;offsetsLists;mode;segmentNumber;srclayerid;originalValuesLists;isSilent}class jb extends jc{#e;#t;#n;#i;#r;#a;#o;#s;#l;#c;constructor(e){super(),this.#e=e.mask,this.#t=e.dataId,this.#n=e.offsetsLists,this.#i=e.mode,this.#r=e.segmentNumber,this.#a=e.srclayerid,e.originalValuesLists!==void 0&&(this.#o=e.originalValuesLists),this.#s=e.isSilent??!1,this.#l=this.#i===id?"brushremove":"brushdraw",this.#c=this.#l==="brushdraw"?"brushremove":"brushdraw"}getOriginalValuesLists(){return this.#o}getExecuteEvent(){const e=this.#l==="brushdraw"?this.#r:void 0;return new CustomEvent(this.#l,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}})}getName(){return"Draw-brush"}execute(){if(this.#r===void 0)return;let e=this.#r;this.#l==="brushremove"&&(e=0),this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,e):this.#e.setAtOffsetsWithIterator(this.#n,e),this.#s||this.onExecute(this.getExecuteEvent())}undo(){this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,0):this.#e.setAtOffsetsWithIterator(this.#n,this.#o);const e=this.#c==="brushdraw"?this.#r:void 0,t=new CustomEvent(this.#c,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}});this.onUndo(t)}onExecute(e){}onUndo(e){}}class VM extends EventTarget{#e;#t;constructor(e){super(),this.#e=e,this.#t=new gc(e)}#n=!1;#i;#r;#a=10;#o={min:1,max:20};#s=id;#l;#c=0;#u;#h;#d;#p;#y=[];#g(e,t,i){const r=e.getSize().getValues();r[2]=1;const o=new ki(r),l=new Ni([t],o,e.getSpacing(),e.getOrientation()),c=new Uint8Array(o.getDimSize(2));c.fill(0),++this.#c;const u=[this.#c.toString()],h=new Lo(l,c,u);return h.setMeta(i),h.setPhotometricInterpretation("PALETTE COLOR"),h.setPaletteColourMap(new Gp([0],[0],[0])),h}#f(e,t,i,r,o,l){const c=(function(v,b){const T=b.sort((function(U,Q){let X=0;const V=U.get(2),re=Q.get(2);return V!==void 0&&re!==void 0&&(X=V-re),X})),x=T[0].get(2);if(x===void 0)return[];const w=new St([0,0,x]),A=v.indexToWorld(w),O=T.at(-1).get(2);if(O===void 0)return[];const L=new St([0,0,O]),M=v.indexToWorld(L),k=v.getOrigins(),F=.1*v.getSpacing().get(2),B=A.get3D().getClosest(k),H=k[B],P=A.get3D().getDistance(H);P>F&&ge.warn("Large distance between origin and origin for first index: "+P);const q=M.get3D().getClosest(k),I=k[q],N=M.get3D().getDistance(I);return N>F&&ge.warn("Large distance between origin and origin for last index: "+N),[B,q]})(e,Vb(e,i,o,r));if(c===void 0||c.length===0)throw new Error(wM);const u=e.getOrigins(),h=t.getOrigins(),f=h[0].getClosest(u),p=h.at(-1).getClosest(u),m=[];if(c[0]<f)for(let v=f-1;v>=c[0];--v)m.push(v);if(c[1]>p)for(let v=p+1;v<=c[1];++v)m.push(v);const S=[];for(const v of m)S.push(u[v]);if(this.#i===void 0)throw new Error(AM);const y=this.#i.getMeta();for(const v of S)y.numberOfFiles+=1,this.#i.appendSlice(this.#g(t,v,l))}#m(e){const t=this.#I().getId();if(this.#r===void 0)throw new Error(Qb);const i=this.#e.getData(this.#r);if(!i)throw new Error(ya(OM,this.#r));const r=new Hb;r.mask=i.image,r.dataId=this.#r,r.offsetsLists=[e],r.mode=this.#s,r.segmentNumber=this.#l,r.srclayerid=t;const o=new jb(r);o.execute(),this.#d.push(e);const l=o.getOriginalValuesLists();l!==void 0&&this.#p.push(l[0])}#C(e,t){if(!t)throw new Error(ya(xM));const i=t.getGeometry(),r=i.worldToIndex(e).get(2);if(r===void 0)throw new Error("Z position is undefined");const o=new St([0,0,r]),l=i.getOrigins()[r],c=m6(),u=(function(){const v="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:v,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:v,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:v}]}}})();c.DimensionOrganizationSequence=u.organizations,c.DimensionIndexSequence=u.indices,c.PixelRepresentation=0,c.numberOfFiles=1;const h=t.getMeta();c.PatientID=h.PatientID,c.StudyInstanceUID=h.StudyInstanceUID,c.SeriesInstanceUID=h.SeriesInstanceUID;const f=[{referencedSOPClassUID:h.SOPClassUID,referencedSOPInstanceUID:t.getImageUid(o)}],p=[];p.push({ReferencedInstanceSequence:{value:f},SeriesInstanceUID:h.SeriesInstanceUID}),c.ReferencedSeriesSequence={value:p},c.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:l.getValues(),derivationImages:[{sourceImages:f}]}]},c.lengthUnit=t.getMeta().lengthUnit,this.#i=this.#g(i,l,c);const m=Uc(c),S=new Ns(m);S.image=this.#i;const y=this.#e.getNextDataId();if(!this.#e.addData(y,S))throw new Error("Cannot add mask data");return y}#S(e){const t=this.#e.getDataViewConfigs();let i;for(const r in t){const o=t[r].find((function(l){return l.divId===e}));if(o!==void 0){i=o.orientation;break}}return i}#w(e){if(this.#r===void 0)throw new Error(kM);const t=new R6(e);t.orientation=this.#S(e),this.#e.addDataViewConfig(this.#r,t),this.#e.render(this.#r)}#b(e){let t;const i=e.custom.frameInfos;if(i.length===0)return t;const r=i[0].derivationImages;if(r===void 0||r.length===0)return t;const o=r[0].sourceImages;return o===void 0?t:o.length!==0?o[0].referencedSOPInstanceUID:void 0}#v(e){const t=e.getMeta(),i=this.#b(t);let r=[];i!=="undefined"&&(r=this.#e.getDataIdsFromSopUids([i]));let o="0";return r.length>0?o=r[0]:ge.warn(ya(GM,i)),o}#x(e){if(this.#r===void 0)throw new Error(qM);const t=e.getViewLayersByDataId(this.#r);if(t.length===0)throw new Error(RM);return t.length!==1&&ge.warn(ya(MM,t.length)),t[0]}#A(e){if(e===void 0)throw new Error(Qb);const t=this.#e.getData(e);if(t===void 0)throw new Error(PM);return t.image}#D(e){const t=gt(e),i=new De(e.offsetX,e.offsetY),r=this.#e.getLayerGroupByDivId(t.groupDivId);if(r===void 0)throw new Error("No layergroup to get mask offsets");let o;if(this.#u=r,o=this.#r===void 0?r.getBaseViewLayer():r.getViewLayersByDataId(this.#r)[0],o===void 0)return[];const l=o.getViewController(),c=l.getCurrentPosition();let u,h,f,p;if(l.equalImageMeta({Modality:"SEG"})){this.#i=this.#A(this.#r);const A=this.#v(this.#i),O=this.#e.getData(A);if(!O)throw new Error(ya(Gb,A));if(p=O.image,p.isResampled())return ge.warn("Cannot update mask with resampled reference image."),[];const L=this.#e.getViewLayersByDataId(A)[0],M=L.getViewController(),k=L.displayToPlanePos(i);f=M.getPositionFromPlanePoint(k),u=o,h=l}else{const A=o.getDataId(),O=this.#e.getData(A);if(!O)throw new Error(ya(Gb,A));if(p=O.image,p.isResampled())return ge.warn("Cannot create mask on resampled image."),[];const L=o.displayToPlanePos(i);if(f=l.getPositionFromPlanePoint(L),this.#r=this.#C(c,p),this.#i===void 0)throw new Error(IM);const M=r.getDivId(),k=M!==void 0;k&&this.#w(M),u=this.#x(r),h=u.getViewController(),k&&h.setCurrentPosition(c)}const m=p.getGeometry(),S=this.#i.getMeta(),y=this.#i.getGeometry(),v=l.get2DSpacing(),b=[Math.round(this.#a/v.x),Math.round(this.#a/v.y)];let T;const x=l.getScrollDimIndex();switch(x){case 0:T=[1,2];break;case 1:T=[0,2];break;case 2:T=[0,1];break;default:throw new Error(ya(QM,x))}this.#f(m,y,f,T,b,S);const w=u.displayToPlanePos(i);return(function(A,O){const L=A.getSize(),M=[];for(const k of O){const F=L.indexToOffset(k);F>=0&&M.push(F)}return M.sort((function(k,F){return k-F}))})(y,Vb(y,h.getPositionFromPlanePoint(w),b,T))}#L(e){const t=gt(e),i=this.#e.getLayerGroupByDivId(t.groupDivId);if(i===void 0)throw new Error("No layergroup to check black list");if(i.getActiveDrawLayer()===void 0){const r=i.getActiveViewLayer().getDataId(),o=this.#e.getData(r).image.getMeta().SeriesInstanceUID;if(this.#y.includes(o))return!0}return!1}#O(e){const t=gt(e),i=this.#e.getLayerGroupByDivId(t.groupDivId);if(i===void 0)throw new Error("No layergroup to check for view layer");return i.getActiveLayer()instanceof En}mousedown=e=>{if(!this.#O(e)||this.#L(e))return;if(this.#l===void 0)return void ge.warn(EM);this.#n=!0,this.#h=new De(e.offsetX,e.offsetY),this.#d=[],this.#p=[],this.#T(e);const t=this.#D(e);t.length>0?this.#m(t):(this.#n=!1,this.#P(e))};#T(e){if(e.button===2){this.#s=id;const t=new CustomEvent("erasingactivated");this.dispatchEvent(t)}}#P(e){if(e.button===2){this.#s=J1;const t=new CustomEvent("erasingdeactivated");this.dispatchEvent(t)}}mousemove=e=>{if(!this.#n||this.#h===void 0)return;const t=new De(e.offsetX,e.offsetY),i=Math.abs(t.getX()-this.#h.getX()),r=Math.abs(t.getY()-this.#h.getY());if(i>this.#a/2||r>this.#a/2){const o=this.#D(e);o.length>0&&this.#m(o),this.#h=t}};mouseup=e=>{if(this.#n){if(this.#n=!1,this.#P(e),this.#r===void 0)throw new Error(FM);if(this.#d===void 0)throw new Error(UM);if(this.#p===void 0)throw new Error(NM);this.#d.reverse(),this.#p.reverse();const t=this.#I().getId(),i=this.#e.getData(this.#r);if(!i)throw new Error(ya(LM,this.#r));const r=new Hb;r.mask=i.image,r.dataId=this.#r,r.offsetsLists=this.#d,r.mode=this.#s,r.segmentNumber=this.#l,r.srclayerid=t,r.originalValuesLists=this.#p;const o=new jb(r);o.onExecute=l=>{this.dispatchEvent(l)},o.onUndo=l=>{this.dispatchEvent(l),this.#i.recalculateLabels()},this.#e.addToUndoStack(o),this.dispatchEvent(o.getExecuteEvent()),this.#i.recalculateLabels()}};mouseout=e=>{this.mouseup(e)};touchstart=e=>{this.mousedown(e)};touchmove=e=>{this.mousemove(e)};touchend=e=>{this.mouseup(e)};wheel=e=>{this.#t.wheel(e)};#I(){if(this.#r===void 0)throw new Error(BM);if(this.#u===void 0)throw new Error("No current layer group");const e=this.#u.getViewLayersByDataId(this.#r);if(e.length===0)throw new Error(zM);return e.length!==1&&ge.warn(_M),e[0]}keydown=e=>{e.context="Brush",this.#e.onKeydown(e);const t=e.ctrlKey||e.altKey;if(!t&&e.key==="+"&&this.#a+1<this.#o.max){this.#a+=1;const i=new CustomEvent("brushsizechange",{detail:{value:this.#a}});this.dispatchEvent(i)}else if(!t&&e.key==="-"&&this.#a-1>=this.#o.min){this.#a-=1;const i=new CustomEvent("brushsizechange",{detail:{value:this.#a}});this.dispatchEvent(i)}else t||Number.isNaN(Number.parseInt(e.key,10))?t||e.key!=="a"?t||e.key!=="d"||(this.#s=id,ge.debug("Brush mode: "+this.#s)):(this.#s=J1,ge.debug("Brush mode: "+this.#s)):this.#s=J1};activate(e){const t=(function(i){let r=[];if(!i)return[];for(const o in i)if(i[o]){const l=i[o];if(Array.isArray(l)){const c=l.map((function(u){return u.divId}));r=[...r,...c]}}return[...new Set(r)]})(this.#e.getDataViewConfigs());e?this.#R(t):this.#E(t)}#R(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",(r=>{r.preventDefault(),r.stopPropagation()}))}}#E(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",(r=>{}))}}setFeatures(e){e.brushSizeRange!==void 0&&(this.#o=e.brushSizeRange),e.brushSize!==void 0&&e.brushSize>=this.#o.min&&e.brushSize<this.#o.max&&(this.#a=e.brushSize),e.brushMode!==void 0&&(this.#s=e.brushMode),e.createMask?this.#r=void 0:e.maskDataId!==void 0&&(this.#r=e.maskDataId),e.selectedSegmentNumber!==void 0&&(this.#l=e.selectedSegmentNumber),e.blacklist!==void 0&&(this.#y=e.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","brushsizechange","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}class Jl{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const i=[];for(let r=0;r<e.controlPointIndexArray.length;++r)i[r]=e.controlPointIndexArray[r]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(i)}}class HM{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(i){return i},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let i=this.buckets[t];for(;i!==null&&(i.next===null||e.x!==i.next.x||e.y!==i.next.y);)i=i.next;return i!==null&&(i.next=i.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let i=0;i<t.length;i++)t[i]=null;return t}}const jM=2/(3*Math.PI);function eg(n,e,t,i,r){const o=n[i][t],l=e[i][t];let c=Math.sqrt(o*o+l*l);c=Math.max(c,1e-100),r.x=o/c,r.y=l/c}class YM{constructor(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=(function(i,r,o){const l={data:[]};for(let c=0;c<o;c++){l.data[c]=[];for(let u=0;u<r;u++){const h=4*(c*r+u);l.data[c][u]=(i[h]+i[h+1]+i[h+2])/765}}return l.dx=function(c,u){return c+1===this.data[u].length&&c--,this.data[u][c+1]-this.data[u][c]},l.dy=function(c,u){return u+1===this.data.length&&u--,this.data[u][c]-this.data[u+1][c]},l.gradMagnitude=function(c,u){const h=this.dx(c,u),f=this.dy(c,u);return Math.sqrt(h*h+f*f)},l.laplace=function(c,u){let h=-16*this.data[u][c];return h+=this.data[u-2][c],h+=this.data[u-1][c-1]+2*this.data[u-1][c]+this.data[u-1][c+1],h+=this.data[u][c-2]+2*this.data[u][c-1]+2*this.data[u][c+1]+this.data[u][c+2],h+=this.data[u+1][c-1]+2*this.data[u+1][c]+this.data[u+1][c+1],h+=this.data[u+2][c],h},l})(e,this.width,this.height),this.laplace=(function(i){const r=[];r[0]=[],r[1]=[];for(let o=1;o<i.data.length;o++)r[0][o]=1,r[1][o]=1;for(let o=2;o<i.data.length-2;o++){r[o]=[],r[o][0]=1,r[o][1]=1;for(let l=2;l<i.data[o].length-2;l++)r[o][l]=i.laplace(l,o)>.33?0:1;r[o][i.data[o].length-2]=1,r[o][i.data[o].length-1]=1}r[i.data.length-2]=[],r[i.data.length-1]=[];for(let o=1;o<i.data.length;o++)r[i.data.length-2][o]=1,r[i.data.length-1][o]=1;return r})(this.greyscale),this.gradient=(function(i){const r=[];let o=0,l=0,c=0;for(c=0;c<i.data.length-1;c++){for(r[c]=[],l=0;l<i.data[c].length-1;l++)r[c][l]=i.gradMagnitude(l,c),o=Math.max(r[c][l],o);r[c][i.data[c].length-1]=r[c][i.data.length-2]}r[i.data.length-1]=[];for(let u=0;u<r[0].length;u++)r[i.data.length-1][u]=r[i.data.length-2][u];for(c=0;c<r.length;c++)for(l=0;l<r[c].length;l++)r[c][l]=1-r[c][l]/o;return r})(this.greyscale),this.gradX=(function(i){const r=[];for(let o=0;o<i.data.length;o++){r[o]=[];for(let l=0;l<i.data[o].length-1;l++)r[o][l]=i.dx(l,o);r[o][i.data[o].length-1]=r[o][i.data[o].length-2]}return r})(this.greyscale),this.gradY=(function(i){const r=[];for(let o=0;o<i.data.length-1;o++){r[o]=[];for(let l=0;l<i.data[o].length;l++)r[o][l]=i.dy(l,o)}r[i.data.length-1]=[];for(let o=0;o<i.data[0].length;o++)r[i.data.length-1][o]=r[i.data.length-2][o];return r})(this.greyscale);const t=(function(i,r,o,l){const c={inside:[],outside:[]},u={x:-1,y:-1};for(let h=0;h<r.length;h++){c.inside[h]=[],c.outside[h]=[];for(let f=0;f<r[h].length;f++){eg(r,o,f,h,u);let p=Math.round(f+i*u.y),m=Math.round(h-i*u.x),S=Math.round(f-i*u.y),y=Math.round(h+i*u.x);p=Math.max(Math.min(p,r[h].length-1),0),S=Math.max(Math.min(S,r[h].length-1),0),m=Math.max(Math.min(m,r.length-1),0),y=Math.max(Math.min(y,r.length-1),0),c.inside[h][f]=l.data[m][p],c.outside[h][f]=l.data[y][S]}}return c})(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let i=0;i<this.trainingLength&&e;i++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,i,r){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let l=1;for(o=0;o<this.trainingPoints.length;o++){const c=this.trainingPoints[o],u=this.getTrainingIdx(t,i[c.y][c.x]);e[u]+=1,l=Math.max(l,e[u])}for(o=0;o<t;o++)e[o]=1-e[o]/l;(function(c,u){u[0]=.4*c[0]+.5*c[1]+.1*c[1],u[1]=.25*c[0]+.4*c[1]+.25*c[2]+.1*c[3];for(let f=2;f<c.length-2;f++)u[f]=.05*c[f-2]+.25*c[f-1]+.4*c[f]+.25*c[f+1]+.05*c[f+2];const h=c.length;u[h-2]=.25*c[h-1]+.4*c[h-2]+.25*c[h-3]+.1*c[h-4],u[h-1]=.4*c[h-1]+.5*c[h-2]+.1*c[h-3]})(e,r)}addInStaticGrad(e,t){for(let i=0;i<this.gradGran;i++)this.gradTraining[i]=Math.min(this.gradTraining[i],1-i*(t-e)/(t*this.gradGran))}gradDirection(e,t,i,r){return(function(o,l,c,u,h,f){const p={x:-1,y:-1},m={x:-1,y:-1};eg(o,l,c,u,p),eg(o,l,h,f,m);let S=p.y*(h-c)-p.x*(f-u),y=m.y*(h-c)-m.x*(f-u);return S<0&&(S=-S,y=-y),c!==h&&u!==f&&(S*=Math.SQRT1_2,y*=Math.SQRT1_2),jM*(Math.acos(S)+Math.acos(y))})(this.gradX,this.gradY,e,t,i,r)}dist(e,t,i,r){let o=this.gradient[r][i];e!==i&&t!==r||(o*=Math.SQRT1_2);const l=this.laplace[r][i],c=this.gradDirection(e,t,i,r);return this.trained?.3*this.getTrainedGrad(o)+.3*l+.1*(c+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*l+.11*c}adj(e){const t=[],i=Math.max(e.x-1,0),r=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),l=Math.min(e.y+1,this.greyscale.data.length-1);let c=0;for(let u=r;u<=l;u++)for(let h=i;h<=o;h++)h===e.x&&u===e.y||(t[c++]={x:h,y:u});return t}#e=e=>Math.round(this.searchGran*this.cost[e.y][e.x]);setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,i=0;for(this.visited=[],i=0;i<this.height;i++)for(this.visited[i]=[],t=0;t<this.width;t++)this.visited[i][t]=!1;for(this.parents=[],i=0;i<this.height;i++)this.parents[i]=[];for(this.cost=[],i=0;i<this.height;i++)for(this.cost[i]=[],t=0;t<this.width;t++)this.cost[i][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new HM(this.searchGranBits,this.#e),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const i=this.pq.pop();t.push(i),t.push(this.parents[i.y][i.x]),this.visited[i.y][i.x]=!0;const r=this.adj(i);for(let o=0;o<r.length;o++){const l=r[o],c=this.cost[i.y][i.x]+this.dist(i.x,i.y,l.x,l.y);c<this.cost[l.y][l.x]&&(this.cost[l.y][l.x]!==Number.MAX_VALUE&&this.pq.remove(l),this.cost[l.y][l.x]=c,this.parents[l.y][l.x]=i,this.pq.push(l))}e++}return t}}class so{#e;constructor(e){this.#e=e}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=this.#e(e)),t}create(e,t){const i=new Le.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),r=e.getText();i.setText(r);const o=t.applyZoomScale(1),l={x:2*o.x,y:2*o.y},c=this.getPosition(e),u=new Le.Label({x:c.getX(),y:c.getY(),scale:l,visible:r.length!==0,name:"label"});return u.add(i),u.add(new Le.Tag({fill:e.colour,opacity:t.getTagOpacity()})),u}updatePosition(e,t){const i=t.getChildren((function(o){return o.name()==="label"}))[0];if(!(i instanceof Le.Label))return;const r=this.getPosition(e);i.position({x:r.getX(),y:r.getY()})}getLabelAnchorsPosition(e){const t=e.x(),i=e.y(),r=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new De(t+r/2,i),new De(t,i+o/2),new De(t+r/2,i+o),new De(t+r,i+o/2)]}getClosestPoints(e,t){let i=e[0].getDistance(t[0]),r=e[0],o=t[0];for(const l of e)for(const c of t){const u=l.getDistance(c);u<i&&(i=u,r=l,o=c)}return[r,o]}getConnector(e,t,i){const r=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,r);return new Le.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const i=e.getChildren((function(c){return c.name()==="label"}))[0];if(!(i instanceof Le.Label))return;const r=this.getLabelAnchorsPosition(i),o=this.getClosestPoints(t,r),l=e.getChildren((function(c){return c.name()==="connector"}))[0];l instanceof Le.Line&&l.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const i=t.getChildren((function(o){return o.name()==="label"}))[0];if(!(i instanceof Le.Label))return;const r=e.getText();i.getText().setText(r),i.visible()&&i.visible(r.length!==0)}}class XM{#e=0;#t=0;getMin(){return this.#e}setMin(e){this.#e=e}getMax(){return this.#t}setMax(e){this.#t=e}getName(){return"Threshold"}#n=null;setOriginalImage(e){this.#n=e}getOriginalImage(){return this.#n}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform((i=>i<this.getMin()||i>this.getMax()?t:i))}}class WM{getName(){return"Sharpen"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}class $M{getName(){return"Sobel"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),i=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(i,(function(r,o){return Math.sqrt(r*r+o*o)}))}}class tg extends jc{#e;#t;#n;constructor(e,t,i){super(),this.#e=e,this.#t=t,this.#n=i}getName(){return"Filter-"+this.#e.getName()}execute(){this.#n.setImage(this.#t,this.#e.update()),this.#n.render(this.#t);const e={type:"filterrun",id:this.getName(),dataId:this.#t};this.onExecute(e)}undo(){this.#n.setImage(this.#t,this.#e.getOriginalImage()),this.#n.render(this.#t);const e={type:"filterundo",id:this.getName(),dataid:this.#t};this.onUndo(e)}onExecute(e){}onUndo(e){}}const ZM={},rd={},KM={WindowLevel:class{#e;#t=!1;#n;#i;#r=!0;constructor(n){this.#e=n,this.#i=new gc(n)}#a(n){let e;if(this.#r)e=n.getActiveViewLayer();else{const t=function(i){return i.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e}#o(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);i!==void 0&&i.getViewController().isMonochrome()&&(this.#t=!0,this.#n=n)}#s(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);if(i===void 0)return;const r=i.getViewController(),o=n.getX()-this.#n.getX(),l=this.#n.getY()-n.getY(),c=r.getImageRescaledDataRange(),u=.001*(c.max-c.min),h=r.getWindowLevel().center,f=r.getWindowLevel().width,p=new Wn(h+l*u,f+o*u);r.setWindowLevel(p),this.#n=n}#l(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=mn(n),t=gt(n);this.#o(e,t.groupDivId)};mousemove=n=>{const e=mn(n),t=gt(n);this.#s(e,t.groupDivId)};mouseup=n=>{this.#l()};mouseout=n=>{this.#l()};touchstart=n=>{const e=Yn(n),t=gt(n);this.#o(e[0],t.groupDivId)};touchmove=n=>{const e=Yn(n),t=gt(n);this.#s(e[0],t.groupDivId)};touchend=n=>{this.#l()};dblclick=n=>{const e=gt(n),t=mn(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),r=this.#a(i);if(r===void 0)return;const o=r.displayToPlaneIndex(t),l=r.getViewController();if(!l.isMonochrome())return;const c=this.#e.getData(r.getDataId()).image,u=new Wn(c.getRescaledValueAtIndex(l.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),l.getWindowLevel().width);l.setWindowLevel(u)};wheel=n=>{this.#i.wheel(n)};keydown=n=>{n.context="WindowLevel",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&(this.#r=n.strictViewLayer)}},Scroll:class{#e;#t=!1;#n;#i;#r;#a=!1;#o;constructor(n){this.#e=n,this.#i=new gc(n)}#s(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void ge.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#l(n,e){this.#d();const t=this.#e.getLayerGroupByDivId(e),i=this.#s(t);if(i===void 0)return void ge.warn("No view layer to start scroll");const r=i.getViewController();r.isPlaying()&&r.stop();const o=i.displayToPlanePos(n),l=r.getPositionFromPlanePoint(o);r.setCurrentPosition(l),this.#t=!0,this.#n=n}#c(n,e){if(!this.#t)return void(this.#a&&this.#h(n,e));const t=this.#e.getLayerGroupByDivId(e),i=t.getPositionHelper(),r=n.getY()-this.#n.getY(),o=Math.abs(r)>15,l=n.getX()-this.#n.getX(),c=Math.abs(l)>15;o&&t.canScroll()?r>0?i.decrementPositionAlongScroll():i.incrementPositionAlongScroll():c&&t.moreThanOne(3)&&(l>0?i.incrementPosition(3):i.decrementPosition(3)),(c||o)&&(this.#n=n)}#u(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=mn(n),t=gt(n);this.#l(e,t.groupDivId)};mousemove=n=>{const e=mn(n),t=gt(n);this.#c(e,t.groupDivId)};mouseup=n=>{this.#u()};mouseout=n=>{this.#u(),this.#d()};touchstart=n=>{this.#r=setTimeout((()=>{this.dblclick(n)}),500);const e=Yn(n),t=gt(n);this.#l(e[0],t.groupDivId)};touchmove=n=>{this.#r!==null&&(clearTimeout(this.#r),this.#r=null);const e=Yn(n),t=gt(n);this.#c(e[0],t.groupDivId)};touchend=n=>{this.#r!==null&&(clearTimeout(this.#r),this.#r=null),this.#u()};wheel=n=>{this.#i.wheel(n)};keydown=n=>{n.context="Scroll",this.#e.onKeydown(n)};dblclick=n=>{const e=gt(n),t=this.#e.getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()};#h(n,e){const t=this.#e.getLayerGroupByDivId(e);this.#o=e,t.showTooltip(n)}#d(){this.#o!==void 0&&(this.#e.getLayerGroupByDivId(this.#o).removeTooltipDiv(),this.#o=void 0)}activate(n){n||this.#d()}setFeatures(n){n.displayTooltip!==void 0&&(this.#a=n.displayTooltip)}init(){}},ZoomAndPan:class{#e;#t=!1;#n;#i;#r;#a;constructor(n){this.#e=n}#o(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void ge.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#s(n){this.#t=!0,this.#n=n,this.#i=!1}#l=n=>{this.#t=!0,this.#n=n[0],this.#i=!1,this.#r=new Bt(n[0],n[1]),this.#a=this.#r.getCentroid()};#c(n,e){if(!this.#t)return;this.#i=!0;const t=n.getX()-this.#n.getX(),i=n.getY()-this.#n.getY(),r=this.#e.getLayerGroupByDivId(e),o=this.#o(r);if(o===void 0)return void ge.warn("No view layer to update zoom/pan");const l=o.getViewController(),c=o.displayToPlaneScale(new De(t,i)),u=l.getOffset3DFromPlaneOffset({x:c.getX(),y:c.getY()});r.addTranslation({x:u.getX(),y:u.getY(),z:u.getZ()}),r.draw(),this.#n=n}#u=(n,e)=>{if(!this.#t)return;this.#i=!0;const t=new Bt(n[0],n[1]).getLength()/this.#r.getLength(),i=this.#e.getLayerGroupByDivId(e),r=i.getPositionHelper();if(t===1){const o=n[0].getY()-this.#n.getY();if(Math.abs(o)<15)return;i.canScroll()&&(o>0?r.incrementPositionAlongScroll():r.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&this.#a!==void 0){const l=this.#o(i);if(l===void 0)return void ge.warn("No view layer to do touch zoom/pan");const c=l.getViewController(),u=l.displayToMainPlanePos(this.#a),h=c.getPlanePositionFromPlanePoint(u);i.addScale(o,h),i.draw()}}};#h(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#o(t);if(i===void 0)return void ge.warn("No view layer to set current position");const r=i.getViewController(),o=i.displayToPlanePos(n),l=r.getPositionFromPlanePoint(o);r.setCurrentPosition(l)}#d(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=mn(n);this.#s(e)};mousemove=n=>{const e=mn(n),t=gt(n);this.#c(e,t.groupDivId)};mouseup=n=>{if(!this.#i){const e=mn(n),t=gt(n);this.#h(e,t.groupDivId)}this.#d()};mouseout=n=>{this.#d()};touchstart=n=>{const e=Yn(n);e.length===1?this.#s(e[0]):e.length===2&&this.#l(e)};touchmove=n=>{const e=Yn(n),t=gt(n);e.length===1?this.#c(e[0],t.groupDivId):e.length===2&&this.#u(e,t.groupDivId)};touchend=n=>{if(!this.#i){const e=mn(n),t=gt(n);this.#h(e,t.groupDivId)}this.#d()};wheel=n=>{n.preventDefault();const e=-n.deltaY/500,t=gt(n),i=mn(n),r=this.#e.getLayerGroupByDivId(t.groupDivId),o=this.#o(r);if(o===void 0)return void ge.warn("No view layer to do wheel zoom/pan");const l=o.getViewController(),c=o.displayToMainPlanePos(i),u=l.getPlanePositionFromPlanePoint(c);r.addScale(e,u),r.draw()};keydown=n=>{n.context="ZoomAndPan",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Opacity:class{#e;#t=!1;#n;#i;constructor(n){this.#e=n,this.#i=new gc(n)}#r(n){this.#t=!0,this.#n=n}#a(n,e){if(!this.#t)return;const t=n.getX()-this.#n.getX();if(Math.abs(t)>15){const i=this.#e.getLayerGroupByDivId(e).getActiveLayer(),r=i.getOpacity();i.setOpacity(r+t/200),i.draw(),this.#n=n}}#o(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=mn(n);this.#r(e)};mousemove=n=>{const e=mn(n),t=gt(n);this.#a(e,t.groupDivId)};mouseup=n=>{this.#o()};mouseout=n=>{this.#o()};touchstart=n=>{const e=Yn(n);this.#r(e[0])};touchmove=n=>{const e=Yn(n),t=gt(n);this.#a(e[0],t.groupDivId)};touchend=n=>{this.#o()};wheel=n=>{this.#i.wheel(n)};keydown=n=>{n.context="Opacity",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Draw:class{#e;#t;#n;#i=!1;#r=null;#a=null;#o=null;#s;#l=[];#c=null;#u=!0;#h;#d;#p;#y;#g;#f=!1;#m={};#C=!1;#S=[];constructor(n){this.#e=n,this.#t=new gc(n),this.#g=new TM(n,this.#_),this.#n=n.getStyle()}#w(n){let e=!0;if(this.#h!==void 0){const t=n.getActiveViewLayer().getDataId(),i=this.#e.getData(t).image.getMeta();e=this.#h(i)}return e}#b(n){let e=!0;if(this.#d!==void 0){const t=n.getDataId(),i=this.#e.getData(t).annotationGroup.getMeta();e=this.#d(i)}return e}#v(n){const e=n.getActiveViewLayer().getDataId(),t=this.#e.createAnnotationData(e);if(this.#p!==void 0)for(const r of this.#p)t.annotationGroup.setMetaValue(r.concept,r.value);this.#e.addAndRenderAnnotationData(t,n.getDivId(),e);const i=n.getActiveDrawLayer();return i.setShapeHandler(this.#g),n.setActiveLayerByDataId(i.getDataId()),i}#x(n,e){const t=this.#e.getLayerGroupByDivId(e);let i=t.getActiveDrawLayer();if(i===void 0){if(!this.#w(t))return void this.#_({type:"warn",message:"Cannot create draw layer, reference meta is invalid"});i=this.#v(t)}else if(!this.#b(i))return void this.#_({type:"warn",message:"Cannot create draw, data meta is invalid"});const r=i.getDrawController().getAnnotationGroup(),o=i.getKonvaStage();if(this.#n.setZoomScale(o.scale()),r.isEditable()){const l=o.getIntersection({x:n.getX(),y:n.getY()});l?this.#T(i,l):this.#D(t,n)}}#A(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());ge.warn("No draw layer to do draw")}#D(n,e){this.#g.disableAndResetEditor(),this.#L();const t=this.#A(n);t!==void 0?(this.#c=t.displayToPlanePos(e),this.#l.push(this.#c)):ge.warn("No view layer to start shape")}#L(){this.#i=!0,this.#a=new this.#r[this.#s],this.#l=[]}#O(){this.#i=!1,this.#l=[]}#T(n,e){let t=e.getParent();e instanceof Le.Tag&&(t=t.getParent());const i=t.find(".shape")[0];i instanceof Le.Shape&&(this.#_({type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),this.#g.setEditorShape(i,n))}#P(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#A(t);if(i===void 0)return void ge.warn("No view layer to update shape");const r=i.displayToPlanePos(n);(Math.abs(r.getX()-this.#c.getX())>0||Math.abs(r.getY()-this.#c.getY())>0)&&(this.#C&&this.#l.pop(),this.#c=r,this.#C=!0,this.#l.push(this.#c),this.#E(this.#l,t))}#I(n){if(this.#l.length!==0){if(this.#l.length===this.#a.getNPoints()){const e=this.#e.getLayerGroupByDivId(n);this.#M(this.#l,e),this.#O()}this.#C=!1}else ge.warn("Draw mouseup but no points...")}#R(n){const e=gt(n),t=this.#e.getLayerGroupByDivId(e.groupDivId).getBaseViewLayer().getDataId();return this.#e.getData(t).image.isResampled()}mousedown=n=>{if(this.#i||this.#R(n))return;const e=mn(n),t=gt(n);this.#x(e,t.groupDivId)};mousemove=n=>{if(!this.#i)return;const e=mn(n),t=gt(n);this.#P(e,t.groupDivId)};mouseup=n=>{if(!this.#i)return;const e=gt(n);this.#I(e.groupDivId)};dblclick=n=>{if(this.#a&&this.#a.getNPoints()!==void 0||!this.#i)return;if(this.#l.length===0)return void ge.warn("Draw dblclick but no points...");const e=gt(n),t=this.#e.getLayerGroupByDivId(e.groupDivId);this.#M(this.#l,t),this.#O()};touchstart=n=>{if(this.#i)return;const e=Yn(n),t=gt(n);this.#x(e[0],t.groupDivId)};touchmove=n=>{if(!this.#i)return;const e=gt(n),t=Yn(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),r=this.#A(i);if(r===void 0)return void ge.warn("No view layer to handle touch move");const o=r.displayToPlanePos(t[0]);(Math.abs(o.getX()-this.#c.getX())>0||Math.abs(o.getY()-this.#c.getY())>0)&&(this.#l.length!==1&&this.#l.pop(),this.#c=o,this.#l.push(this.#c),this.#l.length<this.#a.getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout((()=>{this.#l.push(this.#c)}),this.#a.getTimeout())),this.#E(this.#l,i))};touchend=n=>{this.dblclick(n)};wheel=n=>{this.#u&&this.#t.wheel(n)};keydown=n=>{this.#i||(n.context="Draw",this.#e.onKeydown(n));const e=this.#g.getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=this.#e.getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void ge.warn("No draw layer to handle key down");const i=t.getDrawController(),r=new tm(e,i);this.#e.addToUndoStack(r),r.execute(),this.#g.onMouseOutShapeGroup()}if(n.key==="Escape"&&this.#o!==null){const t=this.#o.getLayer();this.#o.destroy(),this.#o=null,this.#O(),t.draw()}};#E(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void ge.warn("No draw layer to handle new points");const i=t.getDrawController(),r=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void ge.warn("No view layer to handle new points");const l=o.getViewController();if(this.#f){const h=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],f=t.getId(),p=f.substring(f.length-1),m=h[parseInt(p,10)-1];m!==void 0&&this.#n.setLineColour(m)}const c=new Nr,u=i.getAnnotationGroup().getColour();c.colour=u!==void 0?u:this.#n.getLineColour(),c.init(l),this.#a.setAnnotationMathShape(c,n),this.#o=this.#a.createShapeGroup(c,this.#n),t.setLabelVisibility(this.#o),this.#o.getChildren(wa)[0].listening(!1),r.listening(!1),r.add(this.#o),r.draw()}#M(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void ge.warn("No draw layer to handle final points");const i=t.getKonvaLayer(),r=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void ge.warn("No view layer to handle final points");const l=o.getViewController(),c=new Nr,u=r.getAnnotationGroup().getColour();if(c.colour=u!==void 0?u:this.#n.getLineColour(),c.init(l),this.#y!==void 0)for(const f of this.#y)c.addMetaItem(f.concept,f.value);this.#a.setAnnotationMathShape(c,n);const h=new nd(c,r);this.#e.addToUndoStack(h),h.execute(),i.listening(!0)}#k(n){const e=n.getId();return this.#S[e]===void 0&&(this.#S[e]=()=>{n.activateCurrentPositionShapes(!0)}),this.#S[e]}#F(n,e){n.setShapeHandler(this.#g),n.activateCurrentPositionShapes(e),e?this.#e.addEventListener("positionchange",this.#k(n)):this.#e.removeEventListener("positionchange",this.#k(n))}activate(n){n||this.#g.onMouseOutShapeGroup();const e=this.#e.getDrawLayers();for(const t of e)t!==void 0&&this.#F(t,n);this.#e.addEventListener("drawlayeradd",(t=>{const i=this.#e.getDrawLayers((function(r){return r.getId()===t.layerid}));i.length===1&&this.#F(i[0],n)}))}setOptions(n){this.#r=n}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&(this.#f=n.autoShapeColour),n.shapeColour!==void 0&&(this.#n.setLineColour(n.shapeColour),this.#f=!1),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");this.#s=n.shapeName}n.mouseOverCursor!==void 0&&this.#g.storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&(this.#u=n.withScroll),n.refMetaValidator!==void 0&&(this.#h=n.refMetaValidator),n.drawMetaValidator!==void 0&&(this.#d=n.drawMetaValidator),n.annotationGroupMeta!==void 0&&(this.#p=n.annotationGroupMeta),n.annotationMeta!==void 0&&(this.#y=n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){this.#m[n]===void 0&&(this.#m[n]=[]),this.#m[n].push(e)}removeEventListener(n,e){if(this.#m[n]!==void 0)for(let t=0;t<this.#m[n].length;++t)this.#m[n][t]===e&&this.#m[n].splice(t,1)}#_=n=>{if(this.#m[n.type]!==void 0)for(let e=0;e<this.#m[n.type].length;++e)this.#m[n.type][e](n)};hasShape(n){return this.#r[n]!==void 0}},Brush:VM,Filter:class{#e;constructor(n){this.#e=n}#t=null;#n=0;#i=new ci;activate(n){for(const e in this.#t)n?(this.#t[e].addEventListener("filterrun",this.#r),this.#t[e].addEventListener("filterundo",this.#r)):(this.#t[e].removeEventListener("filterrun",this.#r),this.#t[e].removeEventListener("filterundo",this.#r))}setOptions(n){this.#t={};for(const e in n)this.#t[e]=new n[e](this.#e)}getOptionsType(){return"instance"}init(){for(const n in this.#t)this.#t[n].init()}keydown=n=>{n.context="Filter",this.#e.onKeydown(n)};getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){this.#i.add(n,e)}removeEventListener(n,e){this.#i.remove(n,e)}#r=n=>{this.#i.fireEvent(n)};getSelectedFilter(){return this.#n}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");this.#n&&this.#n.activate(!1),this.#n=this.#t[n.filterName],this.#n.activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return this.#t}hasFilter(n){return this.#t[n]}},Floodfill:class{#e;constructor(n){this.#e=n}#t=5;#n=0;#i=2e3;#r=null;#a=null;#o=10;#s=null;#l=!1;#c;#u;#h=null;#d=[];#p=!1;#y=new Dd;setExtend(n){this.#p=n}getExtend(){return this.#p}#g(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());ge.warn("No draw layer to do floodfill")}#f=(n,e)=>{const t=this.#e.getLayerGroupByDivId(e),i=this.#g(t);if(i===void 0)return void ge.warn("No view layer to get index");const r=i.displayToPlaneIndex(n);return{x:r.get(0),y:r.get(1)}};#m(n,e,t){this.#d=[];const i={data:this.#r.data,width:this.#r.width,height:this.#r.height,bytes:4};this.#a=L0.floodFill(i,n.x,n.y,e),this.#a=L0.gaussBlurOnlyBorder(this.#a,this.#t);let r=L0.traceContours(this.#a);if(r=L0.simplifyContours(r,this.#n,this.#i),r.length>0&&r[0].points[0].x){if(t)return r[0].points;for(let o=0,l=r[0].points.length;o<l;o++)this.#d.push(new De(r[0].points[o].x,r[0].points[o].y));return this.#d}return[]}#C(n,e,t){if(this.#h=this.#m(n,e,!1),this.#h.length!==0){const i=t.getActiveDrawLayer();if(i===void 0)return ge.warn("No draw layer to paint border"),!1;const r=i.getDrawController(),o=new Fi(this.#h);let l;if(this.#c===void 0){this.#c=new Nr,this.#c.colour=this.#y.getLineColour();const c=t.getViewLayerById(i.getReferenceLayerId());if(c===void 0)return ge.warn("No view layer to paint border"),!1;const u=c.getViewController();this.#c.init(u),this.#c.mathShape=o,l=new nd(this.#c,r)}else{const c=this.#c.mathShape;l=new Do(this.#c,{mathShape:c},{mathShape:o},r)}this.#e.addToUndoStack(l),l.execute()}return this.#h.length!==0}extend(n,e,t){if(!this.#u)throw"'initialpoint' not found. User must click before use extend!";const i=t.getPositionHelper(),r=this.#g(t);if(r===void 0)return void ge.warn("No view layer to extend floodfill");const o=r.getViewController(),l=o.getCurrentIndex(),c=o.getImageSize(),u=this.#s||this.#o;for(let h=l.get(2),f=e||c.get(2);h<f&&this.#C(this.#u,u,t);h++)i.incrementPositionAlongScroll();o.setCurrentIndex(l);for(let h=l.get(2),f=n||0;h>f&&this.#C(this.#u,u,t);h--)i.decrementPositionAlongScroll();o.setCurrentIndex(l)}onThresholdChange(n){}#S(n){const e=this.#e.getLayerGroupByDivId(n).getBaseViewLayer().getDataId();return this.#e.getData(e).image.isResampled()}#w(n,e){if(this.#S(e))return;this.#c=void 0;const t=this.#e.getLayerGroupByDivId(e);let i,r=t.getActiveDrawLayer();if(r===void 0){i=t.getActiveViewLayer();const o=i.getDataId(),l=this.#e.createAnnotationData(o);this.#e.addAndRenderAnnotationData(l,e,o),r=t.getActiveDrawLayer(),t.setActiveLayerByDataId(r.getDataId())}else if(i=t.getViewLayerById(r.getReferenceLayerId()),i===void 0)return void ge.warn("No view layer to start floodfill");this.#r=i.getImageData(),this.#r?(this.#y.setZoomScale(r.getKonvaLayer().getAbsoluteScale()),this.#l=!0,this.#u=this.#f(n,e),this.#C(this.#u,this.#o,t),this.onThresholdChange(this.#o)):ge.error("No image found")}#b(n,e){if(!this.#l)return;const t=this.#f(n,e);this.#s=Math.round(Math.sqrt(Math.pow(this.#u.x-t.x,2)+Math.pow(this.#u.y-t.y,2))/2),this.#s=this.#s<this.#o?this.#o:this.#s-this.#o,this.#C(this.#u,this.#s,this.#e.getLayerGroupByDivId(e)),this.onThresholdChange(this.#s)}#v(){this.#l&&(this.#l=!1)}mousedown=n=>{const e=mn(n),t=gt(n);this.#w(e,t.groupDivId)};mousemove=n=>{const e=mn(n),t=gt(n);this.#b(e,t.groupDivId)};mouseup=n=>{this.#v()};mouseout=n=>{this.#v()};touchstart=n=>{const e=Yn(n),t=gt(n);this.#w(e[0],t.groupDivId)};touchmove=n=>{const e=Yn(n),t=gt(n);this.#b(e[0],t.groupDivId)};touchend=n=>{this.#v()};keydown=n=>{n.context="Floodfill",this.#e.onKeydown(n)};activate(n){n&&(this.#y.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#y.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#y.setLineColour(n.shapeColour)}},Livewire:class{#e;constructor(n){this.#e=n}#t=!1;#n;#i;#r=new Dd;#a=new Jl;#o=new Jl;#s=[];#l=5;#c(n){const e=n.get(1);for(let t=0;t<e;++t)this.#s[t]=[]}#u(){this.#a=new Jl,this.#o=new Jl}#h=new YM;#d(n){const e=this.#e.getLayerGroupByDivId(n).getBaseViewLayer().getDataId();return this.#e.getData(e).image.isResampled()}#p(n,e){if(this.#d(e))return;const t=this.#e.getLayerGroupByDivId(e);let i,r=t.getActiveDrawLayer();i=r===void 0?t.getActiveViewLayer():t.getViewLayerById(r.getReferenceLayerId());const o=i.getViewController().getImageSize();this.#h.setDimensions(o.get(0),o.get(1)),this.#h.setData(i.getImageData().data);const l=i.displayToPlaneIndex(n);if(this.#t){const c=Math.abs(l.get(0)-this.#n.getX()),u=Math.abs(l.get(1)-this.#n.getY());if(c<this.#l&&u<this.#l)this.#g();else{this.#a=this.#o,this.#c(o);const h={x:l.get(0),y:l.get(1)};this.#h.doTraining(h),this.#a.addControlPoint(this.#o.getPoint(0))}}else{if(this.#i=void 0,this.#t=!0,this.#n=new De(l.get(0),l.get(1)),this.#u(),this.#c(o),r===void 0){const h=i.getDataId(),f=this.#e.createAnnotationData(h);this.#e.addAndRenderAnnotationData(f,e,h),r=t.getActiveDrawLayer(),t.setActiveLayerByDataId(r.getDataId())}this.#r.setZoomScale(r.getKonvaLayer().getAbsoluteScale());const c={x:l.get(0),y:l.get(1)};this.#h.doTraining(c);const u=new De(l.get(0),l.get(1));this.#a.addPoint(u),this.#a.addControlPoint(u)}}#y(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=t.getActiveDrawLayer();if(i===void 0)return void ge.warn("No draw layer to update livewire");const r=t.getViewLayerById(i.getReferenceLayerId());if(r===void 0)return void ge.warn("No view layer to update livewire");const o=r.displayToPlaneIndex(n);let l={x:o.get(0),y:o.get(1)};this.#h.setPoint(l);let c=[],u=!1;for(;!this.#s[l.y][l.x]&&!u;)if(c=this.#h.doWork(),c.length===0)u=!0;else for(let m=0;m<c.length-1;m+=2){const S=c[m],y=c[m+1];this.#s[S.y][S.x]=y}for(this.#o=new Jl,u=!1;l&&!u;)this.#o.addPoint(new De(l.x,l.y)),this.#s[l.y]&&this.#s[l.y][l.x]?l=this.#s[l.y][l.x]:u=!0;this.#o.appenPath(this.#a);const h=i.getDrawController(),f=new Fi(this.#o.pointArray);let p;if(this.#i===void 0){this.#i=new Nr,this.#i.colour=this.#r.getLineColour();const m=r.getViewController();this.#i.init(m),this.#i.mathShape=f,p=new nd(this.#i,h)}else{const m=this.#i.mathShape;p=new Do(this.#i,{mathShape:m},{mathShape:f},h)}this.#e.addToUndoStack(p),p.execute()}#g(){this.#t=!1}mousedown=n=>{const e=mn(n),t=gt(n);this.#p(e,t.groupDivId)};mousemove=n=>{const e=mn(n),t=gt(n);this.#y(e,t.groupDivId)};mouseup(n){}mouseout=n=>{};dblclick=n=>{this.#g()};touchstart=n=>{const e=Yn(n),t=gt(n);this.#p(e[0],t.groupDivId)};touchmove=n=>{const e=Yn(n),t=gt(n);this.#y(e[0],t.groupDivId)};touchend=n=>{};keydown=n=>{n.context="Livewire",this.#e.onKeydown(n)};activate(n){n&&(this.#r.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#r.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#r.setLineColour(n.shapeColour)}}},np={draw:{ArrowFactory:class{#e="arrow";#t=new so(this.#c);static supports(n){return n instanceof De}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.referencePoints=[e[1]],n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const r=this.#l(n,e);for(const c of r)t.add(c);const o=this.#t.create(n,e);t.add(o);const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),r=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new De(r,o)]}#i(n){const e=n.points(),t=n.x(),i=n.y();return[new De(e[0]+t,e[1]+i),new De(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#u(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Le.Group))return;const i=this.#s(t),r=ft(t,0),o=ft(t,1),l=new De(r.x()-i.x(),r.y()-i.y()),c=new De(o.x()-i.x(),o.y()-i.y());n.mathShape=l,n.referencePoints=[c],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=n.referencePoints[0],r=new Bt(t,i),o=r.getBegin(),l=new De(o.getX()+e.x,o.getY()+e.y),c=r.getEnd(),u=new De(c.getX()+e.x,c.getY()+e.y);n.mathShape=l,n.referencePoints=[u],n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){return n[0]}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const i=n.referencePoints[0],r=new Bt(t,i),o=new Le.Line({points:[t.getX(),t.getY(),i.getX(),i.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),l=Mi(r,t,20,e.getZoomScale()),c=Mi(r,i,20,e.getZoomScale());return o.hitFunc((function(u){u.beginPath(),u.moveTo(l.getBegin().getX(),l.getBegin().getY()),u.lineTo(l.getEnd().getX(),l.getEnd().getY()),u.lineTo(c.getEnd().getX(),c.getEnd().getY()),u.lineTo(c.getBegin().getX(),c.getBegin().getY()),u.closePath(),u.fillStrokeShape(o)})),o}#s(n){return B0(n)}#l(n,e){const t=n.mathShape,i=n.referencePoints[0],r=new Bt(t,i),o=Ab(r,40,20,e.getZoomScale());return[new Le.Line({points:[r.getBegin().getX(),r.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]}#c(n){return n.mathShape}#u(n,e,t){const i=n.mathShape,r=n.referencePoints[0],o=new Bt(i,r),l=e.getParent();if(!(l instanceof Le.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getX(),i.getY(),r.getX(),r.getY()]);const u=l.getChildren((function(y){return y.name()==="shape-triangle"}))[0];if(!(u instanceof Le.Line))return;const h=ft(l,0),f=ft(l,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:ge.error("Unhandled anchor id: "+e.id())}const p=Ab(o,40,20,t.getZoomScale());u.position({x:0,y:0}),u.points([o.getBegin().getX(),o.getBegin().getY(),p.getBegin().getX(),p.getBegin().getY(),p.getEnd().getX(),p.getEnd().getY()]);const m=Mi(o,i,20,t.getZoomScale()),S=Mi(o,r,20,t.getZoomScale());c.hitFunc((function(y){y.beginPath(),y.moveTo(m.getBegin().getX(),m.getBegin().getY()),y.lineTo(m.getEnd().getX(),m.getEnd().getY()),y.lineTo(S.getEnd().getX(),S.getEnd().getY()),y.lineTo(S.getBegin().getX(),S.getBegin().getY()),y.closePath(),y.fillStrokeShape(c)}))}#h(n,e){}#d(n,e){}},CircleFactory:class{#e="circle";#t=new so(this.#l);static supports(n){return n instanceof So}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const r=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,r,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radius()*Math.sqrt(2)/2;return[new De(e-i,t-i),new De(e+i,t-i),new De(e-i,t+i),new De(e+i,t+i)]}#i(n){const e=n.x(),t=n.y(),i=n.radius();return[new De(e-i,t),new De(e+i,t),new De(e,t+i),new De(e,t-i)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Le.Group))return;const t=ft(e,0),i=ft(e,1),r=ft(e,2),o=ft(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":r.x(o.x());break;case"anchor3":o.x(r.x());break;default:ge.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=new De(t.getCenter().getX(),t.getCenter().getY()),r=new De(e.x(),e.y()),o=i.getDistance(r);n.mathShape=new So(i,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),r=new De(i.getX()+e.x,i.getY()+e.y);n.mathShape=new So(r,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),i=Math.round(Math.sqrt(e*e+t*t));return new So(n[0],i)}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape;return new Le.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(wa)[0];if(e instanceof Le.Circle)return e}#l(n){const e=n.mathShape,t=e.getCenter(),i=e.getRadius();return new De(t.getX()-i,t.getY()+i)}#c(n,e,t){const i=n.mathShape,r=i.getCenter(),o=i.getRadius(),l=e.getParent();if(!(l instanceof Le.Group))return;this.#s(l).radius(o);const c=ft(l,0),u=ft(l,1),h=ft(l,2),f=ft(l,3),p=u.x()<c.x()?-1:1,m=f.y()<h.y()?1:-1;switch(e.id()){case"anchor0":c.x(e.x()),u.x(r.getX()+p*o),h.y(r.getY()+o),f.y(r.getY()-o);break;case"anchor1":u.x(e.x()),c.x(r.getX()-p*o),h.y(r.getY()+o),f.y(r.getY()-o);break;case"anchor2":h.y(e.y()),c.x(r.getX()-o),u.x(r.getX()+o),f.y(r.getY()-m*o);break;case"anchor3":f.y(e.y()),c.x(r.getX()-o),u.x(r.getX()+o),h.y(r.getY()+m*o);break;default:ge.error("Unhandled anchor id: "+e.id())}}#u(n,e){const t=n.mathShape;let i=0,r=0;e!==void 0&&(i=e.x(),r=e.y());const o=new Le.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const u=l[c],h=u[0][0],f=u[0][1],p=u[1][0],m=new Le.Rect({x:h-i,y:f-r,width:p-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(m)}return o}#h(n,e){const t=e.getChildren((function(i){return i.name()==="shadow"}))[0];if(t!==void 0){t.destroy();const i=this.#u(n,e);e.add(i),i.moveToBottom()}}},EllipseFactory:class{#e="ellipse";#t=new so(this.#l);static supports(n){return n instanceof yo}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const r=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,r,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radiusX()*Math.sqrt(2)/2,r=n.radiusY()*Math.sqrt(2)/2;return[new De(e-i,t-r),new De(e+i,t-r),new De(e-i,t+r),new De(e+i,t+r)]}#i(n){const e=n.x(),t=n.y(),i=n.radius();return[new De(e-i.x,t),new De(e+i.x,t),new De(e,t+i.y),new De(e,t-i.y)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Le.Group))return;const t=ft(e,0),i=ft(e,1),r=ft(e,2),o=ft(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":r.x(o.x());break;case"anchor3":o.x(r.x());break;default:ge.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=t.getCenter();let r=t.getA(),o=t.getB();switch(e.id()){case"anchor0":r=i.getX()-e.x();break;case"anchor1":r=e.x()-i.getX();break;case"anchor2":o=e.y()-i.getY();break;case"anchor3":o=i.getY()-e.y();break;default:ge.error("Unhandled anchor id: "+e.id())}n.mathShape=new yo(i,Math.abs(r),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),r=new De(i.getX()+e.x,i.getY()+e.y);n.mathShape=new yo(r,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new yo(n[0],e,t)}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape,i=t.getCenter(),r={x:t.getA(),y:t.getB()};return new Le.Ellipse({x:i.getX(),y:i.getY(),radius:r,radiusX:r.x,radiusY:r.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(wa)[0];if(e instanceof Le.Ellipse)return e}#l(n){const e=n.mathShape,t=e.getCenter();return new De(t.getX()-e.getA(),t.getY()+e.getB())}#c(n,e,t){const i=n.mathShape,r=i.getCenter(),o=i.getA(),l=i.getB(),c=e.getParent();if(!(c instanceof Le.Group))return;this.#s(c).radius({x:o,y:l});const u=ft(c,0),h=ft(c,1),f=ft(c,2),p=ft(c,3),m=h.x()<u.x()?-1:1,S=p.y()<f.y()?1:-1;switch(e.id()){case"anchor0":u.x(e.x()),h.x(r.getX()+m*o),f.y(r.getY()+l),p.y(r.getY()-l);break;case"anchor1":h.x(e.x()),u.x(r.getX()-m*o),f.y(r.getY()+l),p.y(r.getY()-l);break;case"anchor2":f.y(e.y()),u.x(r.getX()-o),h.x(r.getX()+o),p.y(r.getY()-S*l);break;case"anchor3":p.y(e.y()),u.x(r.getX()-o),h.x(r.getX()+o),f.y(r.getY()+S*l);break;default:ge.error("Unhandled anchor id: "+e.id())}}#u(n,e){const t=n.mathShape;let i=0,r=0;e!==void 0&&(i=e.x(),r=e.y());const o=new Le.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const u=l[c],h=u[0][0],f=u[0][1],p=u[1][0],m=new Le.Rect({x:h-i,y:f-r,width:p-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(m)}return o}#h(n,e){const t=e.getChildren((function(i){return i.name()==="shadow"}))[0];if(t!==void 0){t.destroy();const i=this.#u(n,e);e.add(i),i.moveToBottom()}}},ProtractorFactory:class{#e="protractor";#t=new so(this.#c);static supports(n){return n instanceof mo}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,i=new Le.Group;i.name(this.getGroupName()),i.visible(!0),i.id(n.trackingUid);const r=this.#o(n,e);if(i.add(this.#o(n,e)),t.getLength()===this.getNPoints()){const o=this.#l(n,e);for(const u of o)i.add(u);const l=this.#t.create(n,e);i.add(this.#t.create(n,e));const c=this.#n(r);i.add(this.#t.getConnector(c,l,e))}return i}#n(n){const e=n.points(),t=n.x(),i=n.y();return[new De(e[2]+t,e[3]+i)]}#i(n){const e=n.points(),t=n.x(),i=n.y();return[new De(e[0]+t,e[1]+i),new De(e[2]+t,e[3]+i),new De(e[4]+t,e[5]+i)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#u(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Le.Group))return;const i=this.#s(t),r=ft(t,0),o=ft(t,1),l=ft(t,2),c=new De(r.x()-i.x(),r.y()-i.y()),u=new De(o.x()-i.x(),o.y()-i.y()),h=new De(l.x()-i.x(),l.y()-i.y());n.mathShape=new mo([c,u,h]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let r=0;r<3;++r)i.push(new De(t.getPoint(r).getX()+e.x,t.getPoint(r).getY()+e.y));n.mathShape=new mo(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){return new mo(n)}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let o=0;o<t.getLength();++o)i.push(t.getPoint(o).getX()),i.push(t.getPoint(o).getY());const r=new Le.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&r.hitFunc((function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(r)})),r}#s(n){return B0(n)}#l(n,e){const t=n.mathShape,i=new Bt(t.getPoint(0),t.getPoint(1)),r=new Bt(t.getPoint(1),t.getPoint(2));let o=Kg(i,r),l=i.getInclination();o>180&&(o=360-o,l+=o);const c=33*Math.min(i.getLength(),r.getLength())/100;return[new Le.Arc({innerRadius:c,outerRadius:c,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-l,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]}#c(n){const e=n.mathShape,t=new Bt(e.getPoint(0),e.getPoint(1)),i=new Bt(e.getPoint(1),e.getPoint(2)),r=(t.getCentroid().getX()+i.getCentroid().getX())/2,o=(t.getCentroid().getY()+i.getCentroid().getY())/2;return new De(r,o)}#u(n,e,t){const i=n.mathShape,r=new Bt(i.getPoint(0),i.getPoint(1)),o=new Bt(i.getPoint(1),i.getPoint(2)),l=e.getParent();if(!(l instanceof Le.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getPoint(0).getX(),i.getPoint(0).getY(),i.getPoint(1).getX(),i.getPoint(1).getY(),i.getPoint(2).getX(),i.getPoint(2).getY()]);const u=l.getChildren((function(b){return b.name()==="shape-arc"}))[0];if(!(u instanceof Le.Arc))return;const h=ft(l,0),f=ft(l,1),p=ft(l,2);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;case"anchor2":p.x(e.x()),p.y(e.y())}let m=Kg(r,o),S=r.getInclination();m>180&&(m=360-m,S+=m);const y=33*Math.min(r.getLength(),o.getLength())/100;u.innerRadius(y),u.outerRadius(y),u.angle(m),u.rotation(-S);const v={x:f.x(),y:f.y()};u.position(v),c.hitFunc((function(b){b.beginPath(),b.moveTo(i.getPoint(0).getX(),i.getPoint(0).getY()),b.lineTo(i.getPoint(1).getX(),i.getPoint(1).getY()),b.lineTo(i.getPoint(2).getX(),i.getPoint(2).getY()),b.closePath(),b.fillStrokeShape(c)}))}#h(n,e){}#d(n,e){}},RectangleFactory:class{#e="rectangle";#t=new so(this.#l);static supports(n){return n instanceof vo}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const r=this.#t.create(n,e);t.add(r);const o=this.#n(i);return t.add(this.#t.getConnector(o,r,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.width(),r=n.height();return[new De(e+i/2,t),new De(e,t+r/2),new De(e+i/2,t+r),new De(e+i,t+r/2)]}#i(n){const e=n.x(),t=n.y(),i=n.width(),r=n.height();return[new De(e,t),new De(e+i,t),new De(e+i,t+r),new De(e,t+r)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Le.Group))return;const i=ft(t,0),r=ft(t,2),o=new De(i.x(),i.y()),l=new De(r.x(),r.y());n.mathShape=new vo(o,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),r=new De(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new De(o.getX()+e.x,o.getY()+e.y);n.mathShape=new vo(r,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){return new vo(n[0],n[1])}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape;return new Le.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(wa)[0];if(e instanceof Le.Rect)return e}#l(n){const e=n.mathShape;return new De(e.getBegin().getX(),e.getEnd().getY())}#c(n,e,t){const i=n.mathShape,r=i.getBegin(),o=e.getParent();if(!(o instanceof Le.Group))return;const l=this.#s(o);l.position({x:r.getX(),y:r.getY()}),l.size({width:i.getWidth(),height:i.getHeight()});const c=ft(o,0),u=ft(o,1),h=ft(o,2),f=ft(o,3);switch(e.id()){case"anchor0":c.x(e.x()),c.y(e.y()),u.y(e.y()),f.x(e.x());break;case"anchor1":u.x(e.x()),u.y(e.y()),c.y(e.y()),h.x(e.x());break;case"anchor2":h.x(e.x()),h.y(e.y()),f.y(e.y()),u.x(e.x());break;case"anchor3":f.x(e.x()),f.y(e.y()),h.y(e.y()),c.x(e.x());break;default:ge.error("Unhandled anchor id: "+e.id())}}#u(n,e){const t=n.mathShape.getRound(),i=t.max.getX()-t.min.getX(),r=t.max.getY()-t.min.getY();return new Le.Rect({x:t.min.getX(),y:t.min.getY(),width:i,height:r,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})}#h(n,e){const t=e.getChildren((function(i){return i.name()==="shadow"}))[0];if(t!==void 0){t.destroy();const i=this.#u(n);e.add(i),i.moveToBottom()}}},RoiFactory:class{#e="roi";#t=new so(this.#l);static supports(n){return n instanceof Fi}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const r=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#i(i);return t.add(this.#t.getConnector(o,r,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),r=[];for(let o=0;o<e.length;o+=2)r.push(new De(e[o]+t,e[o+1]+i));return r}#i(n){const e=n.points(),t=n.x(),i=n.y(),r=[];for(let o=0;o<e.length;o+=2){const l=(o+2)%e.length,c=(e[o]+e[l])/2+t,u=(e[o+1]+e[l+1])/2+i;r.push(new De(c,u))}return r}getAnchors(n,e){const t=this.#n(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Le.Group))return;const i=this.#s(t),r=n.mathShape.getPoints().slice(),o=new De(e.x()-i.x(),e.y()-i.y());r[Bb(e.id())]=o,n.mathShape=new Fi(r),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let r=0;r<t.getLength();++r)i.push(new De(t.getPoint(r).getX()+e.x,t.getPoint(r).getY()+e.y));n.mathShape=new Fi(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#i(e);this.#t.updateConnector(n,t)}#r(n){return new Fi(n)}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let r=0;r<t.getLength();++r)i.push(t.getPoint(r).getX()),i.push(t.getPoint(r).getY());return new Le.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})}#s(n){return B0(n)}#l(n){const e=n.mathShape;return new De(e.getPoint(0).getX(),e.getPoint(0).getY())}#c(n,e,t){const i=e.getParent();if(!(i instanceof Le.Group))return;const r=this.#s(i),o=r.points(),l=2*Bb(e.id());o[l]=e.x()-r.x(),o[l+1]=e.y()-r.y(),r.points(o);const c=i.getChildren((function(u){return u.id()===e.id()}))[0];c.x(e.x()),c.y(e.y())}#u(n,e){}#h(n,e){}},RulerFactory:class{#e="ruler";#t=new so(this.#c);static supports(n){return n instanceof Bt}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#r(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Le.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const r=this.#l(n,e);for(const c of r)t.add(c);const o=this.#t.create(n,e);t.add(this.#t.create(n,e));const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),r=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new De(r,o)]}#i(n){const e=n.points(),t=n.x(),i=n.y();return[new De(e[0]+t,e[1]+i),new De(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#i(n),i=[];for(let r=0;r<t.length;++r)i.push(oo(t[r].getX(),t[r].getY(),"anchor"+r,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Le.Group&&(this.#u(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Le.Group))return;const i=this.#s(t),r=ft(t,0),o=ft(t,1),l=new De(r.x()-i.x(),r.y()-i.y()),c=new De(o.x()-i.x(),o.y()-i.y());n.mathShape=new Bt(l,c),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),r=new De(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new De(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Bt(r,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#r(n){return new Bt(n[0],n[1])}#a(){return ao[this.#e]}#o(n,e){const t=n.mathShape,i=new Le.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),r=Mi(t,t.getBegin(),20,e.getZoomScale()),o=Mi(t,t.getEnd(),20,e.getZoomScale());return i.hitFunc((function(l){l.beginPath(),l.moveTo(r.getBegin().getX(),r.getBegin().getY()),l.lineTo(r.getEnd().getX(),r.getEnd().getY()),l.lineTo(o.getEnd().getX(),o.getEnd().getY()),l.lineTo(o.getBegin().getX(),o.getBegin().getY()),l.closePath(),l.fillStrokeShape(i)})),i}#s(n){return B0(n)}#l(n,e){const t=n.mathShape,i=Mi(t,t.getBegin(),20,e.getZoomScale()),r=new Le.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=Mi(t,t.getEnd(),20,e.getZoomScale());return[r,new Le.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]}#c(n){const e=n.mathShape,t=e.getBegin(),i=e.getEnd();let r=t;return t.getY()<i.getY()&&(r=i),r}#u(n,e,t){const i=n.mathShape,r=e.getParent();if(!(r instanceof Le.Group))return;const o=this.#s(r);o.position({x:0,y:0}),o.points([i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()]);const l=r.getChildren((function(m){return m.name()==="shape-tick0"}))[0];if(!(l instanceof Le.Line))return;const c=r.getChildren((function(m){return m.name()==="shape-tick1"}))[0];if(!(c instanceof Le.Line))return;const u=ft(r,0),h=ft(r,1);switch(e.id()){case"anchor0":u.x(e.x()),u.y(e.y());break;case"anchor1":h.x(e.x()),h.y(e.y());break;default:ge.error("Unhandled anchor id: "+e.id())}const f=Mi(i,i.getBegin(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([f.getBegin().getX(),f.getBegin().getY(),f.getEnd().getX(),f.getEnd().getY()]);const p=Mi(i,i.getEnd(),20,t.getZoomScale());c.position({x:0,y:0}),c.points([p.getBegin().getX(),p.getBegin().getY(),p.getEnd().getX(),p.getEnd().getY()]),o.hitFunc((function(m){m.beginPath(),m.moveTo(f.getBegin().getX(),f.getBegin().getY()),m.lineTo(f.getEnd().getX(),f.getEnd().getY()),m.lineTo(p.getEnd().getX(),p.getEnd().getY()),m.lineTo(p.getBegin().getX(),p.getBegin().getY()),m.closePath(),m.fillStrokeShape(o)}))}#h(n,e){}#d(n,e){}}},filter:{Threshold:class{#e;constructor(n){this.#e=n}#t=new XM;#n=!0;#i=new ci;activate(n){n&&(this.#n=!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(this.#t.setMin(n.min),this.#t.setMax(n.max),this.#n){const t=this.#e.getData(n.dataId).image;this.#t.setOriginalImage(t),this.#n=!1}const e=new tg(this.#t,n.dataId,this.#e);e.onExecute=this.#r,e.onUndo=this.#r,e.execute(),this.#e.addToUndoStack(e)}addEventListener(n,e){this.#i.add(n,e)}removeEventListener(n,e){this.#i.remove(n,e)}#r=n=>{this.#i.fireEvent(n)}},Sobel:class{#e;constructor(n){this.#e=n}#t=new ci;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new $M,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new tg(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}},Sharpen:class{#e;constructor(n){this.#e=n}#t=new ci;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new WM,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new tg(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}}}};class Nr{trackingId;trackingUid;referencedSopInstanceUID;referencedSopClassUID;referencedFrameNumber;mathShape;referencePoints;colour="#ffff80";quantification;textExpr="";labelPosition;planeOrigin;planePoints;#e;#t={};constructor(){this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=FE("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(this.#t)}getMetaItem(e){return this.#t[e]}addMetaItem(e,t){const i=e.value;this.#t[i]!==void 0&&ge.warn("Overwriting annotation meta with id="+i),this.#t[e.value]={concept:e,value:t}}removeMetaItem(e){this.#t[e]!==void 0&&delete this.#t[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=LE(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void ge.debug("Cannot initialise annotation twice");this.#e=e;const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return this.#e!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const i=e.getCosines(),r=new yt(i[0],i[1],i[2]),o=new yt(i[3],i[4],i[5]);r.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(this.#e=e,this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):ge.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}#n(){let e;if(this.#e!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const i=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&i.push(this.referencedFrameNumber);const r=new cr(i);e=this.#e.getIndexFromPosition(r)}return e}getCentroid(){let e;if(this.#e!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=this.#n(),i=this.#e.getScrollDimIndex(),r=t.getValues()[i],o=this.mathShape.getCentroid();if(e=this.#e.getPositionFromPlanePoint(o,r),this.referencedFrameNumber!==void 0){const l=e.getValues();l[3]=this.referencedFrameNumber,e=new cr(l)}}return e}setTextExpr(e){if(this.#e!==void 0){const t=this.#e.getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else ge.warn("Cannot set text expr without a view controller")}getText(){return(function(e,t){let i="";if(e==null||(i=e,t==null))return i;const r=sC(e);for(let o=0;o<r.length;++o){const l=t[r[o]];if(l!=null&&l.value!==null&&l.value!==void 0){let c=l.value.toPrecision(4);l.unit!==null&&l.unit!==void 0&&l.unit.length!==0&&(l.unit!=="unit.degree"&&(c+=" "),c+=fE.t(l.unit));const u="{"+r[o]+"}";i=i.replace(u,c)}}return i})(this.textExpr,this.quantification)}updateQuantification(){this.#e!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(this.#e,this.#n(),sC(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(rd.draw!==void 0)for(const t in rd.draw){const i=rd.draw[t];if(i.supports(this.mathShape)){e=new i;break}}if(e===void 0)for(const t in np.draw){const i=np.draw[t];if(i.supports(this.mathShape)){e=new i;break}}return e===void 0&&ge.warn("No shape factory found for math shape"),e}}function Yb(n,e){const t=Object.keys(e);for(const i of t)n[i]!==void 0&&ge.debug("Overwritting tag: "+i),n[i]=e[i]}class JM{current;measure}class e_{annotationGroups;responseEvaluations;comment}class t_{#e;getWarning(){return this.#e}#t(e){const t=(function(c){let u;return c.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(u=c.substring(29).replace(".99","-beta")),u})(et(e,"00020012")),i=t!==void 0&&(function(c){const u=mC(c,"0.34.0"),h=mC(c,"0.35.0-beta.21");return u>=0&&h<=0})(t),r=Z1(e);let o;const l=fc(e);return l.conceptNameCode!==void 0&&(o=l.conceptNameCode.value),i&&r===void 0&&o===k0.value}#n(e){const t=Z1(e)==="DCMR-1500";let i;const r=fc(e);r.conceptNameCode!==void 0&&(i=r.conceptNameCode.value);let o=!1;if(t&&i===W1.value){const l=r.contentSequence.find(this.#u);if(l!==void 0){const c=l.contentSequence.find(this.#h);if(c!==void 0){const u=c.contentSequence.find(this.#C),h=c.contentSequence.find(this.#b);u===void 0&&h===void 0||(o=!0)}}}return o}#i(e){return Z1(e)==="DCMR-4100"}checkElements(e){return this.#e=void 0,this.#t(e)||this.#n(e)||this.#i(e)||(this.#e="Not a dwv supported annotation"),this.#e}#r(e,t){t.valueType===ho&&t.relationshipType===Zl&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))}#a(e,t){t.hasHeader(q0,Je(M0),Mr)&&(e.trackingId=t.value,e.trackingUid=t.value)}#o(e,t){t.hasHeader(bi,Je(M0),io)&&(e.trackingId=t.value),t.hasHeader(q0,Je(X1),io)&&(e.trackingUid=t.value)}#s(e,t,i){i===void 0&&(i=!1);let r=N0;if(i&&(r=Mr),t.hasHeader(bi,Je(YC),r)){e.textExpr=t.value;const o=t.contentSequence.find((function(l){return l.hasHeader(Xn,Je(_0),Mr)}));o!==void 0&&(e.labelPosition=new De(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader(bi,$C(),r)&&(e.colour=t.value),t.hasHeader(Xn,Je(_0),r)&&t.value.graphicType===F0){const o=[];for(let l=0;l<t.value.graphicData.length;l+=2)o.push(new De(t.value.graphicData[l],t.value.graphicData[l+1]));e.referencePoints=o}if(t.hasHeader(bd,Je(WC),rn)&&t.value.graphicType===F0){const o=t.value.graphicData,l=[],c=Math.floor(o.length/3);for(let u=0;u<c;++u){const h=3*u;l.push(new yt(o[h],o[h+1],o[h+2]))}e.planePoints=l}this.#l(e,t),this.#c(e,t)}#l(e,t,i){let r;if(i===void 0&&(r=rn),t.valueType===Da&&t.relationshipType===r){const o=(function(l){let c;for(const u in Wg){const h=Wg[u];if(h.scheme===l.schemeDesignator&&h.key===l.value){c=u;break}}return c})(t.conceptNameCode);if(o!==void 0){const l=t.value.measuredValue,c=(function(u){let h;for(const f in $g){const p=$g[f];if(u.schemeDesignator==="UCUM"&&p===u.value){h=f;break}}return h})(l.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:l.numericValue,unit:c}}}}#c(e,t){t.valueType!==_i&&t.valueType!==bi||t.relationshipType!==rn||e.addMetaItem(t.conceptNameCode,t.value)}#u(e){return e.hasHeader(Ei,Je(XC),rn)}#h(e){return e.hasHeader(Ei,Je(k0),rn)}#d(e){return e.hasHeader(_i,Je(zC),ro)}#p(e){return e.hasHeader(Ei,Je(QC),Mr)}#y(e){return e.hasHeader(bi,Je(jC),rn)}#g(e){return e.hasHeader(_i,Je(HC),rn)}#f(e){return e.hasHeader(Da,Je(VC),rn)}#m(e){return e.hasHeader(_i,Je(qC),rn)}#C(e){return e.hasHeader(Xn,Je(BC),rn)}#S(e){return e.contentSequence.find(this.#C)!==void 0}#w(e){let t;const i=e.contentSequence.find(this.#C);if(i!==void 0){t=new Nr,t.mathShape=U0(i.value);const r=i.contentSequence.find((function(o){return o.valueType===ho&&o.relationshipType===Zl}));r!==void 0&&this.#r(t,r);for(const o of e.contentSequence)this.#o(t,o),this.#s(t,o)}return t}#b(e){let t;return e.valueType===Da&&e.relationshipType===rn&&(t=e.contentSequence.find((function(i){return i.valueType===Xn&&i.relationshipType===ro}))),t!==void 0}#v(e){let t;return e.valueType===Da&&e.relationshipType===Mr&&(t=e.contentSequence.find((function(i){return i.valueType===Xn&&i.relationshipType===ro}))),t!==void 0}#x(e){return e.contentSequence.find(this.#b)!==void 0}#A(e){let t;const i=e.contentSequence.find(this.#b);if(i!==void 0){t=new Nr;const r=i.contentSequence.find((function(l){return l.valueType===Xn&&l.relationshipType===ro}));t.mathShape=U0(r.value),t.mathShape instanceof De&&r.value.graphicData.length>=4&&(t.referencePoints=[new De(r.value.graphicData[2],r.value.graphicData[3])]);const o=r.contentSequence.find((function(l){return l.valueType===ho&&l.relationshipType===Zl}));o!==void 0&&this.#r(t,o)}if(t!==void 0)for(const r of e.contentSequence)this.#o(t,r),this.#l(t,i),this.#c(t,r);return t}#D(e){let t;const i=e.contentSequence.find(this.#v);if(i!==void 0){t=new Nr;const r=i.contentSequence.find((function(l){return l.valueType===Xn&&l.relationshipType===ro}));t.mathShape=U0(r.value),t.mathShape instanceof De&&r.value.graphicData.length>=4&&(t.referencePoints=[new De(r.value.graphicData[2],r.value.graphicData[3])]);const o=r.contentSequence.find((function(l){return l.valueType===ho&&l.relationshipType===Zl}));o!==void 0&&this.#r(t,o)}if(t!==void 0)for(const r of e.contentSequence)this.#o(t,r),this.#l(t,i,Mr),this.#c(t,r);return t}#L(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let i=!1,r=!1;this.#h(t)&&(i=this.#S(t),r=this.#x(t));const o=[];let l,c=!1;for(const u of e.contentSequence)if(this.#h(u)){let h;c=!0,i?h=this.#w(u):r&&(h=this.#A(u)),h!==void 0&&o.push(h)}return c?o.length!==0?l=new Ac(o):ge.warn("No valid measurement groups in TID 1500 SR"):ge.warn("No measurement groups in TID 1500 SR"),l}#O(e){const t=[];let i=!1;for(const o of e.contentSequence)if(this.#d(o)){i=!0;const l=this.#D(o);l!==void 0&&t.push(l)}const r=[];return i?t.length!==0?r.push(new Ac(t)):ge.warn("No valid measurement groups in TID 4100 SR"):ge.warn("No image findings in TID 4100 SR"),r}#T(e){const t=new Nr;t.mathShape=U0(e.value);for(const i of e.contentSequence)this.#r(t,i),this.#a(t,i),this.#s(t,i,!0);return t}#P(e){let t;e.valueType===Ei&&ed(e.conceptNameCode,Je(W1))||ge.warn("Not the expected TID 1500 SR content header");const i=e.contentSequence.find(this.#u);return i!==void 0?t=this.#L(i):ge.warn("No imaging measurements in TID 1500 SR"),t}#I(e){return e.valueType===Ei&&ed(e.conceptNameCode,Je(GC))||ge.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(this.#m)}#R(e){e.valueType===Ei&&ed(e.conceptNameCode,Je(k0))||console.warn("Not the expected dwv034 content header");const t=[];for(const i of e.contentSequence)i.valueType===Xn&&t.push(this.#T(i));return new Ac(t)}#E(e,t){const i=function(l){return et(t,l)};e.setMetaValue("StudyInstanceUID",i("0020000D")),e.setMetaValue("StudyID",i("00200010")),e.setMetaValue("SeriesInstanceUID",i("0020000E")),e.setMetaValue("SeriesNumber",i("00200011")),e.setMetaValue("Modality",i("00080060")),e.setMetaValue("PatientName",i("00100010")),e.setMetaValue("PatientID",i("00100020")),e.setMetaValue("PatientBirthDate",i("00100030")),e.setMetaValue("PatientSex",i("00100040"));const r="0040A375",o=t[r];if(o!==void 0){const l=TE({[r]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",l.CurrentRequestedProcedureEvidenceSequence)}}create(e){const t=fc(e);let i,r;if(this.#n(e)?(r="TID 1500 SR",i=this.#P(t)):this.#t(e)&&(ge.warn("DWV v0.34 annotation"),r="DWV v0.34 SR",i=this.#R(t)),this.#i(e)){r="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(i=o.annotationGroups[0])}if(i===void 0)throw new Error("Cannot create annotation group from "+r);return this.#E(i,e),i}createCADReport(e){const t=fc(e),i=this.#I(t);if(i===void 0)return void ge.warn("No CAD processing and Findings Summary in TID 4100 SR");let r=[];if(this.#i(e)&&(r=this.#O(i)),r===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const u of r)this.#E(u,e);const o=[];let l;for(const u of i.contentSequence)if(this.#p(u)){const h=this.#B(u);h!==void 0&&o.push(h)}else this.#y(u)&&(l=u.value);const c=new e_;return c.annotationGroups=r,c.responseEvaluations=o,c.comment=l,c}#M(e){const t=new Gt(ho);t.relationshipType=Zl,t.conceptNameCode=Je(VE);const i=new S6;i.referencedSOPClassUID=e.referencedSopClassUID,i.referencedSOPInstanceUID=e.referencedSopInstanceUID;const r=new v6;return r.referencedSOPSequence=i,e.referencedFrameNumber!==void 0&&(r.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=r,t}#k(e){const t=[],i=new Gt(bi);i.relationshipType=io,i.conceptNameCode=Je(M0),i.value=e.trackingId,t.push(i);const r=new Gt(q0);if(r.relationshipType=io,r.conceptNameCode=Je(X1),r.value=e.trackingUid,t.push(r),e.textExpr!==void 0&&e.textExpr.length!==0){const c=new Gt(bi);if(c.relationshipType=N0,c.conceptNameCode=Je(YC),c.value=e.textExpr,e.labelPosition!==void 0){const u=new Gt(Xn);u.relationshipType=Mr,u.conceptNameCode=Je(_0);const h=new Cd;h.graphicType=em;const f=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];h.graphicData=f,u.value=h;const p=this.#M(e);u.contentSequence=[p],c.contentSequence=[u]}t.push(c)}const o=new Gt(bi);if(o.relationshipType=N0,o.conceptNameCode=$C(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const c=new Gt(Xn);c.relationshipType=N0,c.conceptNameCode=Je(_0);const u=new Cd;u.graphicType=F0;const h=[];for(const p of e.referencePoints)h.push(p.getX().toString()),h.push(p.getY().toString());u.graphicData=h,c.value=u;const f=this.#M(e);c.contentSequence=[f],t.push(c)}if(e.planePoints!==void 0){const c=new Gt(bd);c.relationshipType=rn,c.conceptNameCode=Je(WC);const u=new T6;u.graphicType=F0;const h=[];for(const p of e.planePoints)h.push(p.getX().toString()),h.push(p.getY().toString()),h.push(p.getZ().toString());u.graphicData=h,c.value=u;const f=this.#M(e);c.contentSequence=[f],t.push(c)}if(e.quantification!==void 0)for(const c in e.quantification){const u=Fb(c,ar(e.quantification[c].value,12),e.quantification[c].unit);u!==void 0&&t.push(u)}const l=e.getMetaConceptIds();for(const c of l){const u=e.getMetaItem(c);let h=bi;u.value instanceof Nc&&(h=_i);const f=new Gt(h);f.relationshipType=rn,f.conceptNameCode=u.concept,f.value=u.value,t.push(f)}return t}#F(e){const t=new Gt(Ei);t.relationshipType=rn,t.conceptNameCode=Je(k0),t.value=Kl;const i=new Gt(Xn);i.relationshipType=rn,i.conceptNameCode=Je(BC),i.value=Rb(e.mathShape);const r=this.#M(e);return i.contentSequence=[r],t.contentSequence=[i].concat(this.#k(e)),t}#_(e){let t;if(e.getList().length!==0){const i=new Gt(Ei);i.conceptNameCode=Je(XC),i.relationshipType=rn,i.value=Kl;const r=[];for(const o of e.getList())r.push(this.#F(o));i.contentSequence=r,t=new Gt(Ei),t.conceptNameCode=Je(W1),t.value=Kl,t.contentSequence=[i]}return t}toDicom(e,t){let i=e.getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const r=new Date;i.ContentDate=Yg(Hg(r)),i.ContentTime=Xg(jg(r));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const h of e.getList()){const f={ReferencedSOPInstanceUID:h.referencedSopInstanceUID,ReferencedSOPClassUID:h.referencedSopClassUID},p=function(m){return m.ReferencedSOPInstanceUID===f.ReferencedSOPInstanceUID&&m.ReferencedSOPClassUID===f.ReferencedSOPClassUID};c.find(p)===void 0&&c.push(f)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const u=this.#_(e);if(u===void 0)throw new Error("No annotation group SR content");return i={...i,...Jg(u)},t!==void 0&&Yb(i,t),Uc(i)}#U(e){const t=new Gt(_i);t.relationshipType=ro,t.conceptNameCode=Je(zC),t.value=Je(UE),t.contentSequence=[];const i=new Gt(bi);i.relationshipType=io,i.conceptNameCode=Je(M0),i.value=e.trackingId,t.contentSequence.push(i);const r=new Gt(q0);if(r.relationshipType=io,r.conceptNameCode=Je(X1),r.value=e.trackingUid,t.contentSequence.push(r),e.quantification!==void 0)for(const l in e.quantification){const c=Fb(l,ar(e.quantification[l].value,12),e.quantification[l].unit,Mr);if(c!==void 0){const u=new Gt(Xn);u.relationshipType=ro,u.conceptNameCode=Je(GE),u.value=Rb(e.mathShape);const h=this.#M(e);u.contentSequence=[h],c.contentSequence=[u],t.contentSequence.push(c)}}const o=e.getMetaConceptIds();for(const l of o){const c=e.getMetaItem(l);let u=bi;c.value instanceof Nc&&(u=_i);const h=new Gt(u);h.relationshipType=rn,h.conceptNameCode=c.concept,h.value=c.value,t.contentSequence.push(h)}return t}#N(e,t){if(e.getList().length!==0)for(const i of e.getList())t.push(this.#U(i))}#q(e){const t=new Gt(Ei);t.relationshipType=Mr,t.conceptNameCode=Je(QC),t.value=Kl,t.contentSequence=[];const i=new Gt(_i);if(i.relationshipType=io,i.conceptNameCode=Je(qE),i.value=Je(BE),t.contentSequence.push(i),e!==void 0){if(e.current!==void 0){const r=new Gt(_i);r.relationshipType=rn,r.conceptNameCode=Je(HC),r.value=e.current,t.contentSequence.push(r)}if(e.measure!==void 0){const r=new Gt(Da);r.relationshipType=rn,r.conceptNameCode=Je(VC);const o=new Kp;o.numericValue=e.measure,o.measurementUnitsCode=g6("unit.mm");const l=new Jp;l.measuredValue=o,r.value=l,t.contentSequence.push(r)}}return t}#B(e){let t,i,r;for(const o of e.contentSequence)this.#g(o)?t=o.value:this.#f(o)&&(i=o.value.measuredValue.numericValue);return t!==void 0&&(r=new JM,r.current=t,i!==void 0&&(r.measure=i)),r}toDicomCADReport(e,t){let i=e.annotationGroups[0].getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const r=new Date;i.ContentDate=Yg(Hg(r)),i.ContentTime=Xg(jg(r));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const f of e.annotationGroups)for(const p of f.getList()){const m={ReferencedSOPInstanceUID:p.referencedSopInstanceUID,ReferencedSOPClassUID:p.referencedSopClassUID},S=function(y){return y.ReferencedSOPInstanceUID===m.ReferencedSOPInstanceUID&&y.ReferencedSOPClassUID===m.ReferencedSOPClassUID};c.find(S)===void 0&&c.push(m)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const u=new Gt(_i);u.relationshipType=rn,u.conceptNameCode=Je(qC),u.value=Je(NE),u.contentSequence=[];for(const f of e.responseEvaluations){const p=this.#q(f);u.contentSequence.push(p)}for(const f of e.annotationGroups)this.#N(f,u.contentSequence);if(e.comment!==void 0){const f=new Gt(bi);f.relationshipType=rn,f.conceptNameCode=Je(jC),f.value=e.comment,u.contentSequence.push(f)}const h=new Gt(Ei);if(h.conceptNameCode=Je(GC),h.value=Kl,h.contentSequence.push(u),h===void 0)throw new Error("No annotation group SR content");return i={...i,...Jg(h)},t!==void 0&&Yb(i,t),Uc(i)}}const n_=["dataadd","dataremove","dataimageset","dataupdate"];function P6(n,e,t){let i="";return i=e["00020010"]!==void 0?"00200013":"imageUid",(function(r,o,l,c,u){u===void 0&&(u="");const h={};if(!l)throw new Error("Cannot merge object with an undefined id key: "+l);if(!Object.prototype.hasOwnProperty.call(r,l))throw new Error("Id key not found in first object while merging: "+l+", obj: "+r);if(!Object.prototype.hasOwnProperty.call(o,l))throw new Error("Id key not found in second object while merging: "+l+", obj: "+o);let f=!1;if(Object.prototype.hasOwnProperty.call(r[l],"merged")&&r[l].merged&&(f=!0),!Object.prototype.hasOwnProperty.call(r[l],c))throw new Error("Id value not found in first object while merging: "+l+", valueKey: "+c+", ojb: "+r);if(!Object.prototype.hasOwnProperty.call(o[l],c))throw new Error("Id value not found in second object while merging: "+l+", valueKey: "+c+", ojb: "+o);let p=r[l][c];const m=o[l][c][0]+u;if(h[l]=r[l],f){for(let b=0;b<p.length;++b)if(p[b]===m)throw new Error("The first object already contains id2: "+m+", id1: "+p);h[l][c].push(m)}else{if(p=p[0]+u,p===m)throw new Error("Cannot merge object with same ids: "+p+", id2: "+m);h[l][c][0]=p,h[l][c].push(m),h[l].merged=!0}const S=Object.keys(r),y=Object.keys(o).filter((function(b){return S.indexOf(b)<0})),v=S.concat(y);for(let b=0;b<v.length;++b){const T=v[b];if(T!==l){let x,w,A,O,L;if(Object.prototype.hasOwnProperty.call(r,T)&&(x=r[T],Object.prototype.hasOwnProperty.call(x,c)&&(w=x[c])),Object.prototype.hasOwnProperty.call(o,T)&&(A=o[T],Object.prototype.hasOwnProperty.call(A,c)&&(O=A[c])),x!==void 0?L=x:A!==void 0&&(L=A),!W3(w,O))if(f){if(Array.isArray(w)){L[c]={};for(let M=0;M<p.length;++M)L[c][p[M]]=w}else L[c]=w;L[c]===void 0&&(L[c]={}),L[c][m]=O}else{const M={};M[p]=w,M[m]=O,L[c]=M}h[T]=L}}return h})(n,e,i,"value",t)}class Ns{meta;image;annotationGroup;buffer;numberOfFiles;warn=[];#e=!1;constructor(e){this.meta=e}getComplete(){let e;return this.image!==void 0&&(e=this.image.getComplete()),e}setComplete(e){this.image!==void 0&&this.image.setComplete(e)}hasDuplicateOrigin(){return this.#e}appendData(e){this.#e||(this.image!==void 0&&e.image!==void 0&&this.#t(e.image),this.#n(e.meta))}#t(e){const t=this.image.getGeometry(),i=e.getGeometry();t.canAppendOrigin(i.getOrigin(),i.getInitialTime()).success||(this.#e=!0),this.#e||this.image.appendSlice(e)}#n(e){const t=f6(e);let i;t!==void 0&&(i=t.toString()),this.meta=P6(this.meta,e,i)}}class i_{#e=[];addClone(e){const t=new Ns(structuredClone(e.meta));t.image=e.image.clone(),this.add(t)}add(e){this.#e.push(e)}buildData(){const e=this.#n();if(e===void 0)throw new Error("Non constant number of volumes");if(e===0)throw new Error("Duplicate origins but no volumes");if(e===1)throw new Error("Duplicate origins but just one volume");const t=this.#t(e,OC);if(t===void 0)throw new Error("Cannot create image for multi-volume");let i,r;for(let o=0;o<t.length;++o){const l=t[o],c=this.#e[l[0]].meta;r=r===void 0?c:P6(r,c,o+":"+OC(c));for(const u of l){const h=this.#e[u].image;h.getGeometry().setInitialTime(o),i===void 0?i=h:i.appendSlice(h)}}return{image:i,meta:r}}#t(e,t){const i=this.#i(),r=[],o=[];for(const c of i){if(o.length===0){for(const u of c.indices){const h=t(this.#e[u].meta);if(o.includes(h))return;o.push(h)}if(o.length!==e)return;o.sort()}for(const u of c.indices){const h=t(this.#e[u].meta),f=o.indexOf(h);if(f===-1)return;r[f]===void 0&&(r[f]=[]),r[f].push(u)}}const l=i.length;for(const c of r)if(c.length!==l)return;return r}#n(){const e=this.#i();if(e.length===0)return 0;const t=e[0].count;for(const i of e)if(i.count!==t)return;return t}#i(){const e=function(i){return function(r){return r.pos.equals(i)}},t=[];for(let i=0;i<this.#e.length;++i){const r=this.#e[i].image.getGeometry().getOrigin(),o=e(r),l=t.find(o);l===void 0?t.push({pos:r,indices:[i],count:1}):(++l.count,l.indices.push(i))}return t}}class r_{#e={};#t={};#n={};#i=-1;#r=new ci;getNextDataId(){return++this.#i,this.#i.toString()}getDataIds(){return Object.keys(this.#e)}reset(){this.#e={}}get(e){return this.#e[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const i=Object.keys(this.#e);for(const r of i)this.#e[r].image!==void 0&&this.#e[r].image.containsImageUids(e)&&t.push(r);return t}getDataIdFromSeriesUid(e){let t;const i=Object.keys(this.#e);for(const r of i){const o=this.#e[r].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=r;break}}return t}setImage(e,t){this.#e[e].image=t;for(const i of td)t.addEventListener(i,this.#s(e));this.#o({type:"dataimageset",value:[t],dataid:e})}#a(e){const t=et(e.meta,"00080060");let i;if(Vp(e.meta))if(t==="SEG"){const r=RE(e.meta);if(r===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const o=this.getDataIdFromSeriesUid(r);if(o===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");i=new tM,i.checkElements(e.meta)===void 0&&(e.image=i.create(e.meta,e.buffer,this.#e[o].image))}else i=new kE,i.checkElements(e.meta)===void 0&&(e.image=i.create(e.meta,e.buffer,e.numberOfFiles));else t==="SR"&&(i=new t_,i.checkElements(e.meta)===void 0&&(e.annotationGroup=i.create(e.meta)));i!==void 0&&i.getWarning()!==void 0&&e.warn.push(i.getWarning())}add(e,t){if(e===void 0||this.#e[e]!==void 0)return!1;if(this.#e[e]=t,t.image===void 0&&t.annotationGroup===void 0&&(this.#a(t),t.numberOfFiles!==void 0&&t.numberOfFiles>1&&(this.#t[e]=new i_,this.#t[e].addClone(t))),t.image!==void 0)for(const i of td)t.image.addEventListener(i,this.#s(e));if(t.annotationGroup!==void 0)for(const i of Zg)t.annotationGroup.addEventListener(i,this.#s(e));return this.#o({type:"dataadd",dataid:e}),!0}remove(e){if(this.#e[e]!==void 0){const t=this.#e[e].image;if(t!==void 0)for(const r of td)t.removeEventListener(r,this.#s(e));const i=this.#e[e].annotationGroup;if(i!==void 0)for(const r of Zg)i.removeEventListener(r,this.#s(e));delete this.#e[e],this.#o({type:"dataremove",dataid:e})}}stash(e){this.#e[e]!==void 0&&(this.#n[e]=this.#e[e],this.remove(e))}unstash(e){this.#n[e]!==void 0&&(this.add(e,this.#n[e]),delete this.#n[e])}getStashedDataIds(){return Object.keys(this.#n)}getStashed(e){return this.#n[e]}update(e,t){if(this.#e[e]===void 0)throw new Error("Cannot find data to update: "+e);const i=this.#e[e];this.#a(t),this.#t[e]!==void 0&&this.#t[e].add(t),i.hasDuplicateOrigin()||i.appendData(t),this.#o({type:"dataupdate",dataid:e})}markDataAsComplete(e){const t=this.#e[e];if(t===void 0)throw new Error("Cannot find data to mark as complete: "+e);const i={imageHasChanged:!1};if(this.#t[e]!==void 0&&t.hasDuplicateOrigin()){const r=this.#t[e].buildData();this.setImage(e,r.image),t.meta=r.meta,delete this.#t[e],i.imageHasChanged=!0}return t.setComplete(!0),i}addEventListener(e,t){this.#r.add(e,t)}removeEventListener(e,t){this.#r.remove(e,t)}#o=e=>{this.#r.fireEvent(e)};#s(e){return t=>{t.dataid=e,this.#o(t)}}}const Xb={WindowLevelBinder:class{getEventType=function(){return"wlchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const i=t[0].getViewController();if(e.value.length===2){const r=new Wn(e.value[0],e.value[1]);i.setWindowLevel(r)}e.value.length===3&&i.setWindowLevelPreset(e.value[2])}}}},PositionBinder:class{getEventType=function(){return"positionchange"};getCallback=function(n){return function(e){const t=e.value[1],i=n.getViewLayersByDataId(e.dataid);let r,o=!1;i.length!==0?(r=i[0],o=!0):r=n.getBaseViewLayer();const l=r.getViewController(),c=l.getCurrentPosition(),u=c.length(),h=t.length;!o&&h>3&&u>3&&(t[3]=c.get(3)),l.setCurrentPosition(new cr(t))}}},ZoomBinder:class{getEventType=function(){return"zoomchange"};getCallback=function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let i;e.value.length===6&&(i=new yt(e.value[3],e.value[4],e.value[5])),n.setScale(t,i),n.draw()}}},OffsetBinder:class{getEventType=function(){return"offsetchange"};getCallback=function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}}},OpacityBinder:class{getEventType=function(){return"opacitychange"};getCallback=function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),i=n.getBaseViewLayer();t.length!==0&&i!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}}},ColourMapBinder:class{getEventType=function(){return"colourmapchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}}},MaskViewBinder:class{getEventType=function(){return"maskviewchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&(t[0].setFillOpacity(e.value[0]),t[0].setContourThickness(e.value[1]))}}}};class a_{#e=[];#t;#n=!1;#i=[];#r=null;getLayerGroup(e){return this.#e[e]}getNumberOfLayerGroups(){return this.#e.length}getActiveLayerGroup(){return this.getLayerGroup(this.#t)}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?this.#t=e:ge.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayers(e));return t}addLayerGroup(e,t){this.#t=this.#e.length;const i=new vM(e,t);i.setImageSmoothing(this.#n);const r=this.#r&&this.#r.length!==0;return r&&this.unbindLayerGroups(),this.#e.push(i),r&&this.bindLayerGroups(),i}getLayerGroupByDivId(e){return this.#e.find((function(t){return t.getDivId()===e}))}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");this.#i.length!==0&&this.unbindLayerGroups(),this.#i=e.slice(),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of this.#e)e.empty();this.#e=[],this.#t=void 0}removeLayersByDataId(e){for(const t of this.#e)t.removeLayersByDataId(e)}removeLayerGroup(e){const t=this.#e.findIndex((i=>i===e));if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),this.#e.splice(t,1),this.#t===t&&(this.#t=void 0),this.bindLayerGroups()}reset(){for(const e of this.#e)e.reset()}resetZoomPan(){for(const e of this.#e)e.resetZoomPan()}resetViews(){for(const e of this.#e)e.resetViews()}draw(){for(const e of this.#e)e.draw()}fitToContainer(){let e;const t=[];for(let i=0;i<this.#e.length;++i){const r=this.#e[i].getDivToWorldSizeRatio();r!==void 0&&this.#e[i].shouldBind()&&(t.push(i),(e===void 0||r<e)&&(e=r))}for(let i=0;i<this.#e.length;++i)if(t.includes(i)&&this.#e[i].shouldBind())this.#e[i].fitToContainer(e);else{const r=this.#e[i].getDivToWorldSizeRatio();this.#e[i].fitToContainer(r)}}bindLayerGroups(){if(this.#e.length!==0&&this.#e.length!==1&&this.#i.length!==0){this.#r=new Array(this.#e.length);for(let e=0;e<this.#e.length;++e)if(this.#e[e].shouldBind())for(let t=0;t<this.#i.length;++t)this.#o(e,this.#i[t])}}unbindLayerGroups(){if(this.#e.length!==0&&this.#i.length!==0&&this.#r){for(let e=0;e<this.#e.length;++e)if(this.#e[e].shouldBind())for(let t=0;t<this.#i.length;++t)this.#s(e,this.#i[t]);this.#r=null}}setImageSmoothing(e){this.#n=e;for(const t of this.#e)t.setImageSmoothing(e)}#a(e,t){this.#r[t]===void 0&&(this.#r[t]=[]);let i=this.#r[t].find((function(r){return r.binder===e}));return i===void 0&&(i={binder:e,callback:r=>{this.#s(t,e),e.getCallback(this.#e[t])(r),this.#o(t,e)}},this.#r[t].push(i)),i.callback}#o(e,t){for(let i=0;i<this.#e.length;++i)i!==e&&this.#e[i].shouldBind()&&this.#e[e].addEventListener(t.getEventType(),this.#a(t,i))}#s(e,t){if(this.#r){for(const i in this.#r)if(parseInt(i,10)!==e)for(const r of this.#r[i])r.binder.getEventType()===t.getEventType()&&this.#e[e].removeEventListener(t.getEventType(),r.callback)}}}class o_{#e;constructor(e){this.#e=e}fromJSON(e){const t=JSON.parse(e);let i=null;if(t.version==="0.1")i=this.#t(t);else if(t.version==="0.2")i=this.#n(t);else if(t.version==="0.3")i=this.#i(t);else if(t.version==="0.4")i=this.#r(t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");i=this.#a(t)}return i}apply(e,t){const i=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),r=new Wn(t["window-center"],t["window-width"]);i.setWindowLevel(r);const o=e.getActiveLayerGroup().getBaseScale();let l=null,c=null;if(t.scaleCenter!==void 0){l={x:t.scale*o.x,y:t.scale*o.y,z:1};const u=t.scaleCenter.x-t.scaleCenter.x*t.scale,h=t.scaleCenter.y-t.scaleCenter.y*t.scale,f=u+t.translation.x*l.x,p=h+t.translation.y*l.y;c={x:-f/l.x,y:-p/l.y,z:0}}else l={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},c={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(l),e.getActiveLayerGroup().setOffset(c),e.setDrawings(t.drawings,t.drawingsDetails,this.#e)}#t(e){const t=(function(i){const r=[],o={};let l,c;for(let u=0,h=i.length;u<h;++u){r[u]=[];for(let f=0,p=i[u].length;f<p;++f){l=i[u][f];const m=[];for(let S=0,y=l.length;S<y;++S){c=Le.Node.create(l[S]),c.visible(!0);let v={x:0,y:0};const b=c.getChildren((function(k){return k.name()==="shape"}))[0];if(b.stroke(sE(b.stroke())),c.name()==="line-group"){c.name("ruler-group");const k=new Le.Line({points:[b.points()[0],b.points()[1],b.points()[0],b.points()[1]],name:"shape-tick0"});c.add(k);const F=new Le.Line({points:[b.points()[2],b.points()[3],b.points()[2],b.points()[3]],name:"shape-tick1"});c.add(F)}const T=c.getChildren((function(k){return k.name()==="arc"}));T.length===1&&T[0].name("shape-arc");const x=c.getChildren((function(k){return k.name()==="text"}));let w=new Le.Text({name:"text",text:""});x.length===1?(v.x=x[0].x(),v.y=x[0].y(),x[0].remove(),w=x[0]):b.points().length!==0&&(v={x:b.points()[0],y:b.points()[1]});const A=new Le.Label({x:v.x,y:v.y,name:"label"});A.add(w),A.add(new Le.Tag),c.add(A),m.push(JSON.stringify(c.toObject()));let O=w.text();const L=O.length;let M=null;c.name()==="ruler-group"?(M={length:{value:parseFloat(O.substring(0,L-2)),unit:O.substring(-2)}},O="{length}"):c.name()==="ellipse-group"||c.name()==="rectangle-group"?(M={surface:{value:parseFloat(O.substring(0,L-3)),unit:O.substring(-3)}},O="{surface}"):c.name()!=="protractor-group"&&c.name()!=="rectangle-group"||(M={angle:{value:parseFloat(O.substring(0,L-1)),unit:O.substring(-1)}},O="{angle}"),o[c.id()]={textExpr:O,longText:"",quant:M}}r[u].push(m)}}return{drawings:r,drawingsDetails:o}})(e.drawings);return e.drawings=Wb(t.drawings).toObject(),e.drawingsDetails=ng(t.drawingsDetails),(e=G0(e)).drawings=Q0(e.drawings),e}#n(e){return e.drawings=Wb(e.drawings).toObject(),e.drawingsDetails=ng((function(t){const i={},r=typeof t=="string"?JSON.parse(t):t;for(let o=0,l=r.length;o<l;++o)for(let c=0,u=r[o].length;c<u;++c)for(let h=0,f=r[o][c].length;h<f;++h){const p=r[o][c][h];i[p.id]={textExpr:p.textExpr,longText:p.longText,quant:p.quant}}return i})(e.drawingsDetails)),(e=G0(e)).drawings=Q0(e.drawings),e}#i(e){return e.drawingsDetails=ng(e.drawingsDetails),(e=G0(e)).drawings=Q0(e.drawings),e}#r(e){return(e=G0(e)).drawings=Q0(e.drawings),e}#a(e){return e}}function Wb(n){let e,t,i;const r=new Le.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let c=0,u=o.length;c<u;++c)for(let h=0,f=o[c].length;h<f;++h)if(t=o[c][h],t.length!==0){i=new Le.Group({id:(l=new St([1,1,c,h]),"slice-"+l.get(2)+"_frame-"+(l.length()===4?l.get(3):0)),name:"position-group",visible:!1});for(let p=0,m=t.length;p<m;++p)e=Le.Node.create(t[p]),e.draggable(!0),e.getChildren().forEach((function(S){S.draggable(!1)})),i.add(e);r.add(i)}var l;return r}function ng(n){const e={},t=Object.keys(n);for(let i=0,r=t.length;i<r;++i){const o=n[t[i]];e[t[i]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function G0(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function Q0(n){const e=n.children;for(let t=0,i=e.length;t<i;++t){const r=e[t],o=r.attrs.id.split("_"),l=parseInt(o[0].substring(6),10),c=parseInt(o[1].substring(6),10);let u="#2-";u+=l===0&&c!==0?c:l,r.attrs.id=u}return n}function ec(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function L6(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let i=n.indexOf("#");i===-1&&(i=n.length);const r=n.substring(t+1,i);e.query=(function(o){const l={};if(o){const c=o.split("&");for(let u=0;u<c.length;++u){const h=c[u].split("=");l[h[0]]?(l[h[0]]instanceof Array||(l[h[0]]=[l[h[0]]]),l[h[0]].push(h[1])):l[h[0]]=h[1]}}return l})(r)}return e}function s_(n){const e=L6(n);return Object.keys(e).length===0?null:e.query}function l_(n,e){const t=[];let i="key";e&&(i=e);const r=decodeURIComponent(n),o=L6(r);if(Object.keys(o).length===0)t.push(r);else{const l=Object.keys(o.query);let c=null;for(let u=0;u<l.length;++u)if(o.query[l[u]]instanceof Array){c=l[u];break}if(c){const u=o.query[c];let h=o.base;h!==""&&c!=="file"&&(h+="?");let f,p=!1;for(let m=0;m<l.length;++m)l[m]!==c&&(p&&(h+="&"),h+=l[m]+"="+o.query[l[m]],p=!0);for(let m=0;m<u.length;++m)f=h,p&&(f+="&"),i==="key"&&(f+=c+"="),f+=u[m],t.push(f)}else t.push(r)}return t}function c_(n,e,t){let i="";n[0]==="/"&&(i=window.location.protocol+"//"+window.location.host),i+=n;const r=new XMLHttpRequest;r.open("GET",decodeURIComponent(i),!0),r.responseType="document",r.onload=function(o){t((function(l,c){const u=[],h=l.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",f=l.getElementsByTagName("Patient");f.length>1&&ge.warn("More than one patient, loading first one.");const p=f[0].getElementsByTagName("Study");p.length>1&&ge.warn("More than one study, loading first one.");const m=p[0].getAttribute("StudyInstanceUID"),S=p[0].getElementsByTagName("Series");S.length>1&&ge.warn("More than one series, loading first one.");const y=S[0].getAttribute("SeriesInstanceUID"),v=S[0].getElementsByTagName("Instance");let b=v.length;c<b&&(b=c);for(let T=0;T<b;++T){const x=h+"&studyUID="+m+"&seriesUID="+y+"&objectUID="+v[T].getAttribute("SOPInstanceUID");u.push(x)}return u})(o.target.responseXML,e))},r.onerror=function(o){ge.warn("RequestError while receiving manifest: "+o.target.status)},r.send(null)}class u_{#e;#t=null;#n=[];#i={};constructor(e){this.#e=e}init(){for(const e in this.#e)this.#e[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",this.#l("window","keydown"),!0):window.removeEventListener("keydown",this.#l("window","keydown"),!0)}getToolList(){return this.#e}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return this.#t}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");this.#t&&this.#t.activate(!1),this.#t=this.#e[e],this.#t.activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const i=e.getDivId();e.addEventListener("activelayerchange",this.#a(i)),this.#r(i,t)}#r(e,t){this.#i[e]!==void 0&&this.#s(this.#i[e]),this.#i[e]=t,this.#o(t)}#a(e){return t=>{const i=t.value[0];i!==void 0&&this.#r(e,i)}}#o(e){e.bindInteraction();const t=Us;for(let i=0;i<t.length;++i)e.addEventListener(t[i],this.#l(e.getId(),t[i]))}#s(e){e.unbindInteraction();const t=Us;for(let i=0;i<t.length;++i)e.removeEventListener(t[i],this.#l(e.getId(),t[i]))}#l(e,t){if(this.#n[e]===void 0&&(this.#n[e]=[]),this.#n[e][t]===void 0){const i=r=>{if(this.#t){const o=this.#t[r.type];o&&o(r)}};this.#n[e][t]=i}return this.#n[e][t]}}class nm{#e=[];#t=2;#n;constructor(e){this.#n=e}setNumberOfDimensions(e){this.#t=e}setNToLoad(e){for(let t=0;t<e;++t){this.#e[t]=[];for(let i=0;i<this.#t;++i)this.#e[t][i]=0}}onprogress=e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;this.#e[e.index][e.subindex]=t;let i=null;i=e.item!==void 0?e.item:{loaded:this.#i(e.index),total:100,source:e.source},this.#n({lengthComputable:!0,loaded:this.#r(),total:100,item:i})};#i(e){let t=0;for(let i=0;i<this.#t;++i)t+=this.#e[e][i];return t/this.#t}#r(){let e=0;const t=this.#e.length;for(let i=0;i<t;++i)e+=this.#i(i);return Math.round(e/t)}getMonoProgressHandler(e,t){return i=>{i.index=e,i.subindex=t,this.onprogress(i)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}class $b{#e=null;#t=[];#n=null;#i=0;#r=0;#a;#o;getDefaultCharacterSet(){return this.#o}setDefaultCharacterSet(e){this.#o=e}#s(e){this.#e=e,this.#i=0,this.#r=0,this.#a=!1,this.#c(),this.#h()}#l(e){this.#t.push(e)}#c(){this.#t=[]}#u(e){this.#n=e}#h(){this.#n=null}#d=e=>{this.#i++,this.#i===this.#e.length&&this.onload({source:this.#e})};#p=e=>{this.#r++,this.#r===this.#e.length&&this.onloadend({source:this.#e})};#y(e,t){return i=>{i.source=t,e(i)}}load(e,t){this.onloadstart({source:e}),e.length===1&&(oC(e[0],"DICOMDIR")||oC(e[0],".dcmdir"))?this.#m(e[0],t):this.#f(e,t)}#g(e,t,i){return r=>{const o=r.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+r.target.responseURL+" "+r.target.status+" ("+r.target.statusText+")",target:r.target}),this.#p()):e.load(r.target.response,t,i)}}#f(e,t){if(e===void 0||e.length===0)return;this.#s(e);const i=new nm(this.onprogress);i.setNToLoad(e.length);const r=[];for(let p=0;p<qs.length;++p)r.push(new qs[p]);let o=e[0],l=null,c=!1;for(let p=0;p<r.length;++p)if(l=r[p],l.canLoadUrl(o,t)){c=!0,l.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),l.onprogress=i.getUndefinedMonoProgressHandler(1),l.onloaditem=this.onloaditem,l.onload=this.#d,l.onloadend=this.#p,l.onerror=this.onerror,l.onabort=this.onabort,this.#u(l);break}if(!c)throw new Error("No loader found for url: "+o);let u=0;const h=()=>{u<this.#t.length-1&&!this.#a&&(++u,this.#t[u].send(null))};for(let p=0;p<e.length;++p){if(o=e[p],!l.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const m=new XMLHttpRequest;if(m.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const b=t.requestHeaders;for(let T=0;T<b.length;++T)b[T].name!==void 0&&b[T].value!==void 0&&m.setRequestHeader(b[T].name,b[T].value)}t.withCredentials!==void 0&&(m.withCredentials=t.withCredentials)}m.onprogress=this.#y(i.getMonoProgressHandler(p,0),o),m.onload=this.#g(l,o,p),m.onloadend=h;const S=this.#y(this.onerror,o);m.onerror=b=>{this.#p(),S(b)};const y=this.#y(this.ontimeout,o);m.ontimeout=b=>{this.#p(),y(b)};const v=this.#y(this.onabort,o);m.onabort=b=>{this.#p(),v(b)},l.loadUrlAs()===1&&(m.responseType="arraybuffer"),this.#l(m)}let f=this.#t.length;t!==void 0&&t.batchSize!==void 0&&f!==0&&(f=Math.min(t.batchSize,this.#t.length));for(let p=0;p<f;++p)this.#a||(u=p,this.#t[u].send(null))}#m(e,t){const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=r=>{const o=r.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+r.target.responseURL+" "+r.target.status+" ("+r.target.statusText+")",target:r.target}),this.onloadend({});else{const l=(function(h){const f=new n6;return f.parse(h),(function(p){const m=p["00041220"];if(m===void 0||m.value===void 0)return void ge.warn("No Directory Record Sequence found in DICOMDIR.");const S=m.value;if(S.length===0)return void ge.warn("The Directory Record Sequence of the DICOMDIR is empty.");const y=[];let v=null,b=null;for(let T=0;T<S.length;++T){const x=S[T]["00041430"];if(x===void 0||x.value===void 0)continue;const w=x.value[0];if(w==="STUDY")b=[],y.push(b);else if(w==="SERIES")v=[],b.push(v);else if(w==="IMAGE"){const A=S[T]["00041500"];if(A===void 0||A.value===void 0)continue;const O=A.value;v.push(O.join("/"))}}return y})(f.getDicomElements())})(r.target.response)[0][0],c=e.split("/").slice(0,-1).join("/"),u=[];for(let h=0;h<l.length;++h)u.push(c+"/"+l[h]);this.#f(u,t)}},i.onerror=r=>{this.#y(this.onerror,e)(r),this.onloadend({})},i.onabort=r=>{this.#y(this.onabort,e)(r),this.onloadend({})},i.send(null)}abort(){this.#a=!0;for(let e=0;e<this.#t.length;++e)this.#t[e].readyState!==4&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}class d_ extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(968),Un.b),{name:"jpegbaseline.worker",type:"module"})}}class h_ extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(112),Un.b),{name:"jpegloss.worker",type:"module"})}}class f_ extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(557),Un.b),{name:"jpeg2000.worker",type:"module"})}}class g_ extends Ys{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Un.u(326),Un.b),{name:"rle.worker",type:"module"})}}class p_{#e;#t;#n=!1;constructor(e){this.#e=e,this.#t=new Zp(10)}decode(e,t,i){this.#n||(this.#n=!0,this.#t.onworkstart=this.ondecodestart,this.#t.onworkitem=this.ondecodeditem,this.#t.onwork=this.ondecoded,this.#t.onworkend=this.ondecodeend,this.#t.onerror=this.onerror,this.#t.onabort=this.onabort);const r={buffer:e,meta:t};let o;this.#e==="jpeg-baseline"?o=new d_(r,i):this.#e==="jpeg-lossless"?o=new h_(r,i):this.#e==="jpeg2000"?o=new f_(r,i):this.#e==="rle"&&(o=new g_(r,i)),o!==void 0&&this.#t.addWorkerTask(o)}abort(){this.#t.abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}class m_{#e;setOptions(e){this.#e=e}#t;#n=[];#i=[];#r=[];#a=!1;#o(e,t){const i=this.#n[e].getDicomElements(),r=new Ns(i);this.#r[e]!==void 0&&(r.buffer=this.#r[e]),r.numberOfFiles=this.#e.numberOfFiles,this.onloaditem({data:r,source:t})}#s(e,t){this.#a||(this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),this.onload({source:t}),this.onloadend({source:t}))}#l(e){this.#t=new p_(e),this.#t.ondecodeditem=t=>{this.#h(t),t.itemNumber+1===t.numberOfItems&&(this.onload(t),this.onloadend(t))},this.#t.onerror=this.onerror,this.#t.onabort=this.onabort}#c(e){const t=this.#n[e].getDicomElements(),i={missing:[]},r=et(t,"00280100");r!==void 0?i.bitsAllocated=r:i.missing.push("bitsAllocated");const o=et(t,"00280103");o!==void 0?i.isSigned=o===1:i.missing.push("pixelRepresentation");const l=et(t,"00280011"),c=et(t,"00280010");l!==void 0&&c!==void 0?i.sliceSize=l*c:(l!==void 0&&i.missing.push("columns"),c!==void 0&&i.missing.push("rows"));const u=et(t,"00280002");if(u!==void 0){if(i.samplesPerPixel=u,u!==1){const h=et(t,"00280006");h!==void 0?i.planarConfiguration=h:i.missing.push("planarConfiguration")}}else i.missing.push("samplesPerPixel");return i}#u(e,t,i){const r=this.#c(e);if(r.missing.length!==0)return this.#t.abort(),this.onerror({error:new Error("Missing tags to decompress data:"+r.missing.toString()),source:t}),void this.onloadend({source:t});const o=i.length;for(let l=0;l<o;++l)this.#t.decode(i[l],r,{itemNumber:l,numberOfItems:o,index:e,indexOrigin:t})}#h(e){const t=e.index,i=e.indexOrigin;this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:i});const r=e.data[0];if(e.numberOfItems!==1){if(this.#i[t]===void 0){this.#i[t]=r.length;const o=e.numberOfItems*this.#i[t];try{this.#r[t]=new r.constructor(o)}catch(l){if(l instanceof RangeError){const c=Math.floor(Math.log(o)/Math.log(2));ge.error("Cannot allocate "+r.constructor.name+" of size: "+o+" (>2^"+c+") for decompressed data.")}return this.#t.abort(),this.onerror({error:l,source:i}),void this.onloadend({source:i})}}r.length!==this.#i[t]&&ge.warn("Unsupported varying decompressed data size: "+r.length+" != "+this.#i[t]),this.#r[t].set(r,this.#i[t]*e.itemNumber)}else this.#r[t]=r;e.itemNumber===0&&this.#o(t,i)}convert(e,t,i){this.#a=!1,this.onloadstart({source:t,index:i});const r=new n6;this.#e.defaultCharacterSet!==void 0&&r.setDefaultCharacterSet(this.#e.defaultCharacterSet);try{r.parse(e)}catch(c){return this.onerror({error:c,source:t}),void this.onloadend({source:t})}this.#n[i]=r;const o=r.getDicomElements(),l=Z3(o);if(l!==void 0){const c=l.value,u=(function(h){let f;return Yp(h)?f="jpeg2000":Hp(h)?f="jpeg-baseline":jp(h)?f="jpeg-lossless":e6(h)&&(f="rle"),f})(et(o,"00020010"));u!==void 0?(this.#t===void 0&&this.#l(u),this.#u(i,t,c)):(this.#r[i]=c[0],this.#o(i,t),this.#s(i,t))}else this.#o(i,t),this.#s(i,t)}abort(){this.#a=!0,this.#t!==void 0?this.#t.abort():this.onabort({})}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class ip{#e=null;#t=null;#n=0;#i=0;#r;getDefaultCharacterSet(){return this.#r}setDefaultCharacterSet(e){this.#r=e}#a(e){this.#e=e,this.#n=0,this.#i=0,this.#s()}#o(e){this.#t=e}#s(){this.#t=null}#l=e=>{this.#n++,this.#n===this.#e.length&&this.onload({source:this.#e})};#c=e=>{this.#i++,this.#i===this.#e.length&&this.onloadend({source:this.#e})};load(e){if(e===void 0||e.length===0)return;this.#a(e),this.onloadstart({source:e});const t=new nm(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const i=[];for(let c=0;c<qs.length;++c)i.push(new qs[c]);let r=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadMemory(r)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=this.#l,o.onloadend=this.#c,o.onerror=this.onerror,o.onabort=this.onabort,this.#o(o);break}if(!l)throw new Error("No loader found for data: "+r.filename);for(let c=0;c<e.length;++c){if(r=e[c],!o.canLoadMemory(r))throw new Error("Input data of different type: "+r.filename);o.load(r.data,r.filename,c)}}abort(){this.#t&&this.#t.isLoading()&&this.#t.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}function V0(n){return parseInt(n,36).toString()}function Zb(n){const e=n.data.length,t=new Uint8Array(e/4*3);let i=0;for(let r=0;r<e;r+=4)t[i]=n.data[r],t[i+1]=n.data[r+1],t[i+2]=n.data[r+2],i+=3;return t}function Kb(n,e,t,i,r,o){const l=new ki([n,e,1]),c=new or([1,1,1]),u=new yt(0,0,t),h=new Ni([u],l,c),f=new Lo(h,i,[o]);f.setPhotometricInterpretation("RGB");const p={BitsStored:8};return r!==void 0&&(p.numberOfFiles=r),f.setMeta(p),f}const qs=[class{#e={};#t=!1;setOptions(n){this.#e=n}isLoading(){return this.#t}#n=new m_;load(n,e,t){this.#t||(this.#n.setOptions(this.#e),this.#n.onloadstart=this.onloadstart,this.#n.onprogress=this.onprogress,this.#n.onloaditem=this.onloaditem,this.#n.onload=this.onload,this.#n.onloadend=i=>{this.#t=!1,this.onloadend(i)},this.#n.onerror=i=>{i.source=e,this.onerror(i)},this.#n.onabort=this.onabort),this.#t=!0,this.#n.convert(n,e,t)}abort(){this.#t=!1,this.#n.abort()}canLoadFile(n){const e=ma(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const c=function(h){return h.name==="Accept"},u=e.requestHeaders.find(c);if(u!==void 0){const h="application/dicom";return no(u.value,h)&&u.value[h.length]!=="+"}}}const t=ec(n),i=ma(t.pathname),r=i===null,o=i==="dcm",l=t.searchParams.get("contentType");return l!=null?l==="application/dicom":r||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Fr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.#e=!0,this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i={data:n,source:e};this.onloaditem(i),this.onload(i)}catch(i){this.onerror({error:i,source:e})}finally{this.#e=!1,this.onloadend({source:e})}}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return ma(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(r){return r.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return no(i.value,"application/json")||no(i.value,"application/dicom+json")}}return ma(ec(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Fr.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.onloadstart({source:e}),this.#e=!0;const i=new ip;i.onprogress=r=>{r.loaded=50+r.loaded/2,r.index=t,this.onprogress(r)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=r=>{this.#e=!1,this.onloadend(r)},i.onerror=this.onerror,i.onabort=this.onabort,i.load((function(r){const o=new Uint8Array(r),l=[];if(o.length===0)return l;const c=uC(new Uint8Array([13,10,13,10]));let u=E0(o,c,0);if(u===void 0)throw new Error("Can't find the end of the first multipart header");const h=cC(o.slice(0,u)).split(`\r
`);let f;for(let y=0;y<h.length;++y)if(h[y][0]==="-"&&h[y][1]==="-"){f=h[y];break}if(f===void 0)throw new Error("Can't find the boundary between multi-parts");const p=uC(gE(f)),m=f.length;let S=E0(o,p,0);for(;u!==void 0;){const y={},v=cC(o.slice(S+m,u)).split(`\r
`);for(let x=0;x<v.length;++x){const w=v[x],A=w.indexOf(":");if(A!==-1){const O=w.substring(0,A).trim(),L=w.substring(A+1).trim();y[O]=L}}if(S=E0(o,p,u),S===void 0)break;const b=u+4,T=S-2;y.data=b<T?o.slice(b,T).buffer:new Uint8Array,l.push(y),u=E0(o,c,S+m)}return l})(n))}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(r){return r.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return no(i.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return Fr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return!0}#t(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const i=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(i)}load(n,e,t){this.#e=!1;const i=new Image;if(i.onload=()=>{try{if(!this.#e){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const r=(function(o,l,c){const u=o.width,h=o.height,f=document.createElement("canvas");f.width=u,f.height=h;const p=f.getContext("2d");p.drawImage(o,0,0);const m=p.getImageData(0,0,u,h),S={};let y;typeof l=="string"?(S.origin={value:[l]},y=V0(l)):(S.fileName={value:[l.name]},y=V0(l.name),S.fileType={value:[l.type]},S.fileLastModifiedDate={value:[l.lastModified]}),S.imageWidth={value:[u]},S.imageHeight={value:[h]};const v=c||0;S.imageUid={value:[v]},S.seriesUid={value:[y]};const b=Kb(u,h,v,Zb(m),1,v.toString()),T=b.getMeta();T.SeriesInstanceUID=y,b.setMeta(T);const x=new Ns(S);return x.image=b,{data:x,source:l}})(i,e,t);this.onloaditem(r),this.onload(r)}}catch(r){this.onerror({error:r,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")i.src=n;else if(typeof e=="string"){const r=e.split(".").pop().toLowerCase();i.src=this.#t(n,r)}}abort(){this.#e=!0,this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const l=function(u){return u.name==="Accept"},c=e.requestHeaders.find(l);if(c!==void 0)return no(c.value,"image/")}}const t=ec(n),i=ma(t.pathname),r=i==="jpeg"||i==="jpg"||i==="png"||i==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":r}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return Fr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{setOptions(n){}isLoading(){return!0}#e(n,e){const t=new Uint8Array(n);let i="";for(let r=0;r<t.byteLength;++r)i+=String.fromCharCode(t[r]);return"data:video/"+e+";base64,"+window.btoa(i)}load(n,e,t){const i=document.createElement("video");if(typeof e=="string"){const r=e.split(".").pop().toLowerCase();i.src=this.#e(n,r)}else i.src=n;i.onloadedmetadata=r=>{try{(function(o,l,c,u,h,f,p){const m=o.videoWidth,S=o.videoHeight,y=Math.ceil(30*o.duration),v={};let b;typeof f=="string"?(v.origin={value:[f]},b=V0(f)):(v.fileName={value:[f.name]},b=V0(f.name),v.fileType={value:[f.type]},v.fileLastModifiedDate={value:[f.lastModified]}),v.imageWidth={value:[m]},v.imageHeight={value:[S]},v.numberOfFrames={value:[y]},v.imageUid={value:[0]},v.seriesUid={value:[b]};const T=document.createElement("canvas");T.width=m,T.height=S;const x=T.getContext("2d");o.addEventListener("seeked",(function L(M){(function(){u({lengthComputable:!0,loaded:w,total:y,index:p,source:f}),x.drawImage(o,0,0);const k=Zb(x.getImageData(0,0,m,S));if(w===0){A=Kb(m,S,1,k,y,p.toString());const F=A.getMeta();F.SeriesInstanceUID=b,A.setMeta(F);const B=new Ns(v);B.image=A,l({data:B,source:f})}else A.appendFrameBuffer(k,w);++w})(),O+=1/30,O<=M.target.duration?this.currentTime=O:(c({source:f}),h({source:f}),o.removeEventListener("seeked",L))}),!1);let w=0,A=null,O=0;o.currentTime=O})(r.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const i=function(o){return o.name==="Accept"},r=e.requestHeaders.find(i);if(r!==void 0)return no(r.value,"video/")}}const t=ma(ec(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return Fr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}#t="";#n=[];#i=null;#r(n,e,t){this.#n.push({filename:this.#t,data:n});const i=100*this.#n.length/this.#i.length;if(this.onprogress({lengthComputable:!0,loaded:i/2,total:100,index:t,item:{loaded:i,total:100,source:e}}),this.#n.length<this.#i.length){const r=this.#n.length;this.#t=this.#i[r].name,this.#i[r].async("arrayBuffer").then((o=>{this.#r(o,e,t)}))}else{const r=new ip;r.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},r.onloaditem=this.onloaditem,r.onload=this.onload,r.onloadend=o=>{this.#e=!1,this.onloadend(o)},r.onerror=this.onerror,r.onabort=this.onabort,r.load(this.#n)}}load(n,e,t){this.onloadstart({source:e}),this.#e=!0,JR.loadAsync(n).then((i=>{this.#n=[],this.#i=i.file(/.*\.dcm/);const r=this.#n.length;this.#t=this.#i[r].name,this.#i[r].async("arrayBuffer").then((o=>{this.#r(o,e,t)}))}))}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return ma(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(r){return r.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return no(i.value,"application/zip")}}return ma(ec(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Fr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}}],Fr={Text:0,ArrayBuffer:1,DataURL:2};class Jb{#e=null;#t=[];#n=null;#i=0;#r=0;#a;getDefaultCharacterSet(){return this.#a}setDefaultCharacterSet(e){this.#a=e}#o(e){this.#e=e,this.#i=0,this.#r=0,this.#l(),this.#u()}#s(e){this.#t.push(e)}#l(){this.#t=[]}#c(e){this.#n=e}#u(){this.#n=null}#h=e=>{this.#i++,this.#i===this.#e.length&&this.onload({source:this.#e})};#d=e=>{this.#r++,this.#r===this.#e.length&&this.onloadend({source:this.#e})};#p(e,t){return i=>{i.source=t,e(i)}}#y(e,t,i){return r=>{e.load(r.target.result,t,i)}}load(e){if(e===void 0||e.length===0)return;this.#o(e),this.onloadstart({source:e});const t=new nm(this.onprogress);t.setNToLoad(e.length);const i=[];for(let c=0;c<qs.length;++c)i.push(new qs[c]);let r=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadFile(r)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=this.#h,o.onloadend=this.#d,o.onerror=this.onerror,o.onabort=this.onabort,this.#c(o);break}if(!l)throw new Error("No loader found for file: "+r.name);for(let c=0;c<e.length;++c){if(r=e[c],!o.canLoadFile(r))throw new Error("Input file of different type: "+r);const u=new FileReader;this.#s(u),u.onprogress=this.#p(t.getMonoProgressHandler(c,0),r),u.onload=this.#y(o,r,c);const h=this.#p(this.onerror,r);u.onerror=p=>{this.#d(),h(p)};const f=this.#p(this.onabort,r);u.onabort=p=>{this.#d(),f(p)},o.loadFileAs()===Fr.Text?u.readAsText(r):o.loadFileAs()===Fr.DataURL?u.readAsDataURL(r):o.loadFileAs()===Fr.ArrayBuffer&&u.readAsArrayBuffer(r)}}abort(){for(let e=0;e<this.#t.length;++e)this.#t[e].readyState===1&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class S_{#e;#t={};constructor(e){this.#e=e}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?this.#r(e[0],t):this.#n(e,t)}loadURLs(e,t,i){e[0].split(".").pop().toLowerCase()==="json"?this.#a(e[0],t,i):this.#i(e,t,i)}loadImageObject(e,t){const i=new ip;this.#o(e,i,"image",t)}getLoadingDataIds(){return Object.keys(this.#t)}abort(e){this.#t[e]!==void 0&&(this.#t[e].loader.abort(),delete this.#t[e])}#n(e,t){const i=new Jb;i.setDefaultCharacterSet(this.#e),this.#o(e,i,"image",t)}#i(e,t,i){const r=new $b;r.setDefaultCharacterSet(this.#e),this.#o(e,r,"image",t,i)}#r(e,t){const i=new Jb;this.#o([e],i,"state",t)}#a(e,t,i){const r=new $b;this.#o([e],r,"state",t,i)}#o(e,t,i,r,o){const l={loadtype:i,dataid:r};t.onloadstart=c=>{this.#t[r]={loader:t,isFirstItem:!0},this.#s(this.onloadstart,l)(c)},t.onprogress=this.#s(this.onprogress,l),t.onloaditem=c=>{const u={loadtype:i,dataid:r};this.#t[r]!==void 0&&(u.isfirstitem=this.#t[r].isFirstItem),this.#s(this.onloaditem,u)(c),this.#t[r]!==void 0&&this.#t[r].isFirstItem&&(this.#t[r].isFirstItem=!1)},t.onload=this.#s(this.onload,l),t.onloadend=c=>{delete this.#t[r],this.#s(this.onloadend,l)(c)},t.onerror=this.#s(this.onerror,l),t.onabort=this.#s(this.onabort,l),t.ontimeout!==void 0&&(t.ontimeout=this.#s(this.ontimeout,l));try{t.load(e,o)}catch(c){return this.onerror({error:c,dataid:r}),void this.onloadend({dataid:r})}}#s(e,t){return function(i){const r=Object.keys(t);for(let o=0;o<r.length;++o){const l=r[o];i[l]=t[l]}e(i)}}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}function y_(n){return function(e){return Number(e).toPrecision(n)}}function e4(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function ig(n,e){let t=n;for(let i=0;i<e.length;++i)t=t.replace("{v"+i+"}",e[i]);return t}class v_{#e;#t;#n;#i=[];#r;#a={};#o;#s=new ci;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i;const r=Object.keys(this.#n);for(let o=0;o<r.length;++o){const l=this.#n[r[o]];for(const c of l){const u=c.event;u!==void 0&&(this.#i.includes(u)||this.#i.push(u))}}this.addAppListeners()}reset(){this.#a={},this.#o=void 0}addItemMeta(e){let t;e["00020010"]!==void 0?e["00080018"]!==void 0?(t=e["00080018"].value[0],this.#a[t]=(function(i,r){const o=[];let l;const c=i["00080060"];if(c===void 0)return o;l=c.value[0];const u=r[l]||r["*"];if(!u)return o;for(const f of u){const p=JSON.parse(JSON.stringify(f)),m=p.tags;if(m!==void 0&&m.length!==0){const S=[];for(const y of m){const v=i[y];if(v!==void 0)if(v.vr==="DA"){const b=wc(J0(v));b!==void 0&&S.push(b.toLocaleDateString())}else if(v.vr==="TM"){const b=wc({year:1900,monthIndex:0,day:1},dc(v));b!==void 0&&S.push(b.toLocaleTimeString())}else S.push(v.value);else S.push("undefined")}p.format!==void 0&&p.format!==null||(p.format=e4(S.length)),p.value=ig(p.format,S).trim()}o.push(p)}const h=i["00200020"];if(h!==void 0&&h.value.length===2){const f=h.value[0],p=h.value[1];o.push({pos:"cr",value:f,format:"{v0}"}),o.push({pos:"cl",value:SC(f),format:"{v0}"}),o.push({pos:"bc",value:p,format:"{v0}"}),o.push({pos:"tc",value:SC(p),format:"{v0}"})}return o})(e,this.#n)):ge.warn("Missing DICOM SOP instance UID for info data indexing"):e.imageUid!==void 0?(t=e.imageUid.value[0],this.#a[t]=(function(i,r){const o=[],l=r.DOM;if(!l)return o;for(const c of l){const u=JSON.parse(JSON.stringify(c)),h=u.tags;if(h!==void 0&&h.length!==0){const f=[];for(const p of h){const m=i[p];m!==void 0&&f.push(m.value)}u.format!==void 0&&u.format!==null||(u.format=e4(f.length)),u.value=ig(u.format,f).trim()}o.push(u)}return o})(e,this.#n)):ge.warn("Missing DOM image UID for info data indexing"),t!==void 0&&(this.#o=t)}onSliceChange=e=>{e.dataid===this.#t&&e.data!==void 0&&e.data.imageUid!==void 0&&this.#o!==e.data.imageUid&&(this.#o=e.data.imageUid,this.#l(e))};#l=e=>{if(e.dataid!==void 0&&e.dataid!==this.#t)return;const t=this.#a[this.#o];if(t!==void 0){for(const i of t){let r;if(i.tags!==void 0)e.type==="positionchange"&&(r=i.value);else if(i.event!==void 0&&i.event===e.type){const o=i.format;let l=e.value;if(i.precision!==void 0){let c=null;c=i.precision==="round"?Math.round:y_(parseInt(i.precision,10)),l=l.map(c)}r=ig(o,l)}r!==void 0&&(i.value=r)}this.#c({type:"valuechange",data:t})}else console.warn("No slice info data for: "+this.#o)};isListening(){return this.#r}addAppListeners(){this.#e.addEventListener("positionchange",this.onSliceChange);for(const e of this.#i)this.#e.addEventListener(e,this.#l);this.#r=!0}removeAppListeners(){this.#e.removeEventListener("positionchange",this.onSliceChange);for(const e of this.#i)this.#e.removeEventListener(e,this.#l);this.#r=!1}addEventListener(e,t){this.#s.add(e,t)}removeEventListener(e,t){this.#s.remove(e,t)}#c(e){this.#s.fireEvent(e)}}class R6{divId;orientation;colourMap;opacity;fillOpacity;contourThickness;wlPresetName;windowCenter;windowWidth;constructor(e){this.divId=e}}class C_{#e=null;#t=null;#n=null;#i=null;#r=null;#a=null;#o=new Dd;#s={};#l=new ci;getData(e){return this.#t.get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){this.#t.setImage(e,t)}getNextDataId(){return this.#t.getNextDataId()}addData(e,t){return this.#t.add(e,t)}getMetaData(e){let t;return this.#t.get(e)!==void 0&&(t=this.#t.get(e).meta),t}getDataIds(){return this.#t.getDataIds()}getDataIdsFromSopUids(e){return this.#t.getDataIdsFromSopUids(e)}getDataIdFromSeriesUid(e){return this.#t.getDataIdFromSeriesUid(e)}canScroll(){return this.#r.getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return this.#r.getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return this.#r.getActiveLayerGroup().getAddedScale()}getBaseScale(){return this.#r.getActiveLayerGroup().getBaseScale()}getOffset(){return this.#r.getActiveLayerGroup().getOffset()}getToolboxController(){return this.#n}getActiveLayerGroup(){return this.#r.getActiveLayerGroup()}setActiveLayerGroup(e){this.#r.setActiveLayerGroup(e)}getViewLayersByDataId(e){return this.#r.getViewLayersByDataId(e)}getViewLayers(e){return this.#r.getViewLayers(e)}getDrawLayersByDataId(e){return this.#r.getDrawLayersByDataId(e)}getDrawLayers(e){return this.#r.getDrawLayers(e)}getLayerGroupByDivId(e){return this.#r.getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return this.#r.getNumberOfLayerGroups()}getStyle(){return this.#o}addToUndoStack=e=>{this.#a!==null&&this.#a.add(e)};removeFromUndoStack=e=>{let t=!1;return this.#a!==null&&(t=this.#a.remove(e)),t};init(e){if(this.#e=e,this.#e.viewOnFirstLoadItem===void 0&&(this.#e.viewOnFirstLoadItem=!0),this.#e.dataViewConfigs===void 0&&(this.#e.dataViewConfigs={}),this.#e.rootDocument===void 0&&typeof document<"u"&&(this.#e.rootDocument=document),this.#a=new qb,this.#a.addEventListener("undoadd",this.#d),this.#a.addEventListener("undo",this.#d),this.#a.addEventListener("redo",this.#d),this.#e.tools!==void 0){const t={},i=Object.keys(this.#e.tools);for(let r=0;r<i.length;++r){const o=i[r];let l=KM[o];if(l===void 0&&(l=ZM[o]),l!==void 0){if(t[o]=new l(this),t[o].addEventListener!==void 0){const u=t[o].getEventNames();for(let h=0;h<u.length;++h)t[o].addEventListener(u[h],this.#d)}const c=this.#e.tools[o];if(c.options!==void 0&&c.options.length!==0){let u,h="raw";if(t[o].getOptionsType!==void 0&&(h=t[o].getOptionsType()),h==="instance"||h==="factory"){u={};for(let f=0;f<c.options.length;++f){const p=c.options[f];let m=p;h==="factory"&&(m+="Factory");const S=o.charAt(0).toLowerCase()+o.slice(1);let y,v=rd[S];v!==void 0&&(y=v[m]),y===void 0&&(v=np[S],v!==void 0&&(y=v[m])),y!==void 0?u[p]=y:ge.warn("Could not find option class for: "+p)}}else u=c.options;t[o].setOptions(u)}}else ge.warn("Could not initialise unknown tool: "+o)}this.#n=new u_(t)}this.#i=new S_(this.#e.defaultCharacterSet),this.#i.onloadstart=this.#p,this.#i.onprogress=this.#y,this.#i.onloaditem=this.#g,this.#i.onload=this.#f,this.#i.onloadend=this.#m,this.#i.onerror=this.#C,this.#i.ontimeout=this.#S,this.#i.onabort=this.#w,this.#t=new r_;for(const t of n_)this.#t.addEventListener(t,this.#d);for(const t of td)this.#t.addEventListener(t,this.#d);for(const t of Zg)this.#t.addEventListener(t,this.#d);this.#r=new a_,this.#e.binders!==void 0&&this.#r.setBinders(this.#e.binders)}reset(){this.#r.empty(),this.#s={},this.#a&&(this.#a=new qb,this.#a.addEventListener("undoadd",this.#d),this.#a.addEventListener("undo",this.#d),this.#a.addEventListener("redo",this.#d))}resetLayout(){this.#r.reset(),this.#r.draw()}resetZoomPan(){this.#r.resetZoomPan(),this.#r.draw()}resetViews(){this.#r.resetViews()}addEventListener(e,t){this.#l.add(e,t)}removeEventListener(e,t){this.#l.remove(e,t)}loadFiles=e=>{if(e.length===0)return ge.warn("Ignoring empty input file list."),"-1";const t=this.#t.getNextDataId();return this.#i.loadFiles(e,t),t};loadURLs=(e,t)=>{if(e.length===0)return ge.warn("Ignoring empty input url list."),"-1";const i=this.#t.getNextDataId();return this.#i.loadURLs(e,i,t),i};loadFromUri=(e,t)=>{const i=s_(e);i&&i.input!==void 0&&(function(r,o,l){r.type&&r.type==="manifest"?c_(r.input,r.nslices,o):o(l_(r.input,r.dwvReplaceMode),l)})(i,this.loadURLs,t)};loadImageObject=e=>{const t=this.#t.getNextDataId();return this.#i.loadImageObject(e,t),t};abortAllLoads(){const e=this.#i.getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){this.#i.abort(e),this.#t.remove(e),this.#r.removeLayersByDataId(e)}fitToContainer(){this.#r.fitToContainer()}initWLDisplay(){this.#r.getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){this.#r.setImageSmoothing(e),this.#r.draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),this.#e.dataViewConfigs===null||this.#e.dataViewConfigs===void 0)throw new Error("No available data view configuration");let i=[];return this.#e.dataViewConfigs[e]!==void 0?i=this.#e.dataViewConfigs[e]:t||this.#e.dataViewConfigs["*"]===void 0||(i=this.#e.dataViewConfigs["*"]),i}getViewConfig(e,t,i){return this.getViewConfigs(e,i).find((function(r){return r.divId===t}))}getDataViewConfigs(){return this.#e.dataViewConfigs}setDataViewConfigs(e){this.#r.empty(),this.#e.dataViewConfigs=e,this.#c(e)}addDataViewConfig(e,t,i){i===void 0&&(i=!0);const r=this.#e.dataViewConfigs;if(r[e]===void 0&&(r[e]=[]),r[e].findIndex((function(o){return o.divId===t.divId}))!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);this.#e.dataViewConfigs[e].push(t),this.#r.getLayerGroupByDivId(t.divId)===void 0&&this.#u(t),this.#t.get(e)!==void 0&&i&&this.render(e,[t])}removeDataViewConfig(e,t){const i=this.#e.dataViewConfigs;if(i[e]===void 0)return;const r=i[e].findIndex((function(l){return l.divId===t}));if(r===-1)return;i[e].splice(r,1),i[e].length===0&&delete i[e];const o=this.#r.getLayerGroupByDivId(t);if(o!==void 0){const l=o.getViewLayersByDataId(e);l.length===1&&o.removeLayer(l[0]);const c=o.getDrawLayersByDataId(e);c.length===1&&o.removeLayer(c[0]),o.getNumberOfLayers()===0&&this.#r.removeLayerGroup(o)}}updateDataViewConfig(e,t,i){const r=this.#e.dataViewConfigs;if(r[e]===void 0)throw new Error("No config for dataId: "+e);const o=r[e].findIndex((function(u){return u.divId===t}));if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const l=r[e][o];for(const u in i)l[u]=i[u];const c=this.#r.getLayerGroupByDivId(l.divId);if(c!==void 0){const u=c.getViewLayersByDataId(e);u.length===1&&c.removeLayer(u[0]);const h=c.getDrawLayersByDataId(e);h.length===1&&c.removeLayer(h[0])}this.#t.get(e)!==void 0&&this.render(e,[l])}#c(e){const t=Object.keys(e),i=[];for(let r=0;r<t.length;++r){const o=e[t[r]];for(let l=0;l<o.length;++l){const c=o[l];i.includes(c.divId)||(this.#u(c),i.push(c.divId))}}}#u(e){const t=this.#e.rootDocument.getElementById(e.divId),i=this.#e.overlayConfig!==void 0,r=this.#r.addLayerGroup(t,i);this.#b(r)}setLayerGroupsBinders(e){const t=[];for(let i=0;i<e.length;++i)Xb[e[i]]!==void 0&&t.push(new Xb[e[i]]);this.#r.setBinders(t)}#h(e,t){let i=!1;const r=t.getBaseViewLayer();if(r!==void 0){const o=this.#t.get(r.getDataId()).image,l=this.#t.get(e).image;if(o!==void 0&&l!==void 0){const c=o.getGeometry().getOrientation();i=l.getGeometry().getOrientation().isSimilar(c)}}else i=!0;return i}render(e,t){if(e==null)throw new Error("Cannot render without data id");const i=this.getData(e),r=i!==void 0&&i.image!==void 0,o=i!==void 0&&i.annotationGroup!==void 0;if(this.#r.getNumberOfLayerGroups()===0&&this.#c(this.#e.dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let l=0;l<t.length;++l){const c=t[l],u=this.#r.getLayerGroupByDivId(c.divId);if(!u)throw new Error("No layer group for "+c.divId);!r||this.#h(e,u)?(r&&u.getViewLayersByDataId(e).length===0?this.#v(e,c):o&&u.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,c),u.draw()):this.#d({type:"error",error:new Error("Render error: incompatible geometries for overlay"),dataid:e})}else ge.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,i){const r=this.#r.getActiveLayerGroup(),o=r.getBaseViewLayer().getViewController().getCurrentScrollPosition(),l=new yt(t,i,o);r.addScale(e,l),r.draw()}translate(e,t){const i=this.#r.getActiveLayerGroup();i.addTranslation({x:e,y:t,z:0}),i.draw()}resampleMatch(e,t){const i=this.#t.get(e);if(i===void 0)return void ge.debug("Cannot resample match, target data '"+e+"' is undefined");if(i.image===void 0)return void ge.debug("Cannot resample match, target image '"+e+"' is undefined");const r=this.#t.get(t);if(r===void 0)return void ge.debug("Cannot resample match, source data '"+t+"' is undefined");if(r.image===void 0)return void ge.debug("Cannot resample match, source image '"+t+"' is undefined");const o=i.image.getGeometry().getOrientation(),l=r.image.getGeometry().getOrientation();o.equals(l)?ge.info("Same orientation, no resample match for data '"+e+"' and '"+t+"'"):this.resample(e,l)}resample(e,t){const i=this.#t.get(e);if(i===void 0)return void ge.debug("Cannot resample, target data '"+e+"' is undefined");if(i.image===void 0)return void ge.debug("Cannot resample, target image '"+e+"' is undefined");if(i.image.getGeometry().getOrientation().equals(t))return void ge.info("Same orientation, no resample for data '"+e+"'");i.image.resample(t);const r=this.#e.dataViewConfigs,o=i.image.getMeta(),l=this.#t.getDataIds();for(let u=0;u<l.length;u++){const h=this.#t.get(l[u]).image.getMeta();h.Modality==="SEG"&&h.SeriesInstanceUID===o.SeriesInstanceUID&&this.#t.stash(l[u])}this.setDataViewConfigs(r);const c=this.#t.getDataIds();for(let u=0;u<c.length;++u)this.render(c[u])}revertResample(e){const t=this.#t.get(e);if(t===void 0)return void ge.debug("Cannot revert resample, target data '"+e+"' is undefined");if(t.image===void 0)return void ge.debug("Cannot revert resample, target image '"+e+"' is undefined");if(!t.image.isResampled())return void ge.info("No revert resample needed for data '"+e+"'");t.image.revert();const i=this.#e.dataViewConfigs,r=t.image.getMeta(),o=this.#t.getStashedDataIds();for(let c=0;c<o.length;c++){const u=this.#t.getStashed(o[c]).image.getMeta();u.Modality==="SEG"&&u.SeriesInstanceUID===r.SeriesInstanceUID&&this.#t.unstash(o[c])}this.setDataViewConfigs(i);const l=this.#t.getDataIds();for(let c=0;c<l.length;++c)this.render(l[c])}setOpacity(e){const t=this.#r.getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,i){const r=this.#r.getActiveLayerGroup().getBaseViewLayer(),o=r.getDataId(),l=this.getData(o),c=r.getViewController(),u=(function(f,p,m){const S=[],y=Le.Node.create(f).getChildren(A6);for(let v=0,b=y.length;v<b;++v){const T=y[v],x=T.getChildren();for(let w=0,A=x.length;w<A;++w){const O=new Nr,L=new St(SM(T.id()));O.referencedSopInstanceUID=m.getImageUid(L);const M=x[0];O.trackingId=M.id(),O.trackingUid=M.id();const k=M.getChildren(wa)[0];if(O.colour=k.stroke(),M.name()==="line-group"){const F=k.points();O.mathShape=new De(F[0],F[1]),O.referencePoints=[new De(F[2],F[3])]}else if(M.name()==="ruler-group"){const F=k.points();O.mathShape=new Bt(new De(F[0],F[1]),new De(F[2],F[3]))}else if(M.name()==="rectangle-group")O.mathShape=new vo(new De(k.x(),k.y()),new De(k.x()+k.width(),k.y()+k.height()));else if(M.name()==="roi-group"){const F=k.points(),B=[];for(let H=0;H<F.length;H+=2)B.push(new De(F[H],F[H+1]));O.mathShape=new Fi(B)}else if(M.name()==="freeHand-group"){ge.warn("Converting freehand into ROI shape");const F=k.points(),B=[];for(let H=0;H<F.length;H+=2)B.push(new De(F[H],F[H+1]));O.mathShape=new Fi(B)}else if(M.name()==="protractor-group"){const F=k.points();O.mathShape=new mo([new De(F[0],F[1]),new De(F[2],F[3]),new De(F[4],F[5])])}else if(M.name()==="ellipse-group"){const F=k.absolutePosition();O.mathShape=new yo(new De(F.x,F.y),k.radiusX(),k.radiusY())}else if(M.name()==="circle-group"){const F=k.absolutePosition();O.mathShape=new So(new De(F.x,F.y),k.radius())}if(p){const F=p[M.id()];O.textExpr=F.meta.textExpr,O.quantification=F.meta.quantification}S.push(O)}}return S})(e,t,l.image),h=this.createAnnotationData(o);for(const f of u)f.setViewController(c),h.annotationGroup.add(f);this.#t.add(i,h),this.render(i)}applyJsonState(e,t){const i=new o_(t);i.apply(this,i.fromJSON(e))}onResize=()=>{this.fitToContainer()};onKeydown=e=>{this.#d(e)};defaultOnKeydown=e=>{if(e.ctrlKey){if(e.shiftKey){const t=this.#r.getActiveLayerGroup(),i=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&i.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&i.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&i.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&i.decrementPositionAlongScroll()}else if(e.key==="y")this.#a.redo();else if(e.key==="z")this.#a.undo();else if(e.key===" ")for(let t=0;t<this.#r.getNumberOfLayerGroups();++t)this.#r.getLayerGroup(t).setShowCrosshair(!this.#r.getLayerGroup(t).getShowCrosshair())}};resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){this.#r.getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){this.#r.getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<this.#r.getNumberOfLayerGroups();++t){const i=this.#r.getLayerGroup(t),r=i.getActiveLayer();r!==void 0&&this.#n.bindLayerGroup(i,r)}this.#n.setSelectedTool(e)}setToolFeatures(e){this.#n.setToolFeatures(e)}undo(){this.#a.undo()}redo(){this.#a.redo()}getStackSize(){return this.#a.getStackSize()}getCurrentStackIndex(){return this.#a.getCurrentStackIndex()}getInfoData(e){let t;return this.#s!==void 0&&(t=this.#s[e]),t}toggleInfoDataListeners(e){const t=this.getInfoData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),i=new Ns({});i.annotationGroup=new Ac,i.annotationGroup.setMetaValue("Modality","SR");const r=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of r)i.annotationGroup.setMetaValue(o,t[o]);return i.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),i}addAndRenderAnnotationData(e,t,i){const r=this.getNextDataId();if(!this.addData(r,e))throw new Error("Cannot add annotation data");const o=this.getViewConfigs(i).find((c=>c.divId===t));if(o===void 0)throw new Error("No reference data view config for draw");const l=new R6(t);l.orientation=o.orientation,this.addDataViewConfig(r,l),this.render(r)}#d=e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&this.#l.fireEvent(e)};#p=e=>{this.#e.overlayConfig!==void 0&&(this.#s[e.dataid]=new v_(this,e.dataid,this.#e.overlayConfig)),e.type="loadstart",this.#d(e)};#y=e=>{e.type="loadprogress",this.#d(e)};#g=e=>{let t;e.data===void 0&&ge.error("Missing loaditem event data."),e.loadtype===void 0&&ge.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state");const i=e.isfirstitem;if(e.loadtype==="image")try{i?this.#t.add(e.dataid,e.data):this.#t.update(e.dataid,e.data)}catch(r){return this.#C({dataid:e.dataid,error:r,source:e.source}),void this.#m({dataid:e.dataid,source:e.source})}else e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid);this.#d({type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn}),this.#s!==void 0&&this.#s[e.dataid]!==void 0&&this.#s[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&i&&this.#e.viewOnFirstLoadItem&&this.render(e.dataid)};#f=e=>{const t=this.#t.markDataAsComplete(e.dataid);this.#e.viewOnFirstLoadItem&&t.imageHasChanged!==void 0&&t.imageHasChanged&&this.render(e.dataid),e.type="load",this.#d(e)};#m=e=>{e.type="loadend",this.#d(e)};#C=e=>{e.type===void 0&&(e.type="error"),this.#d(e)};#S=e=>{e.type===void 0&&(e.type="timeout"),this.#d(e)};#w=e=>{e.type===void 0&&(e.type="abort"),this.#d(e)};#b(e){e.addEventListener("zoomchange",this.#d),e.addEventListener("offsetchange",this.#d),e.addEventListener("layerremove",this.#d),e.addEventListener("outofrange",this.#d),e.addEventListener("renderstart",this.#d),e.addEventListener("renderend",this.#d);for(const t of md)e.addEventListener(t,this.#d);e.addEventListener("wlchange",(t=>{const i=Ic(t.srclayerid).groupDivId,r=this.getViewConfig(t.dataid,i,!0);r!==void 0&&(r.windowCenter=void 0,r.windowWidth=void 0,r.wlPresetName=void 0,t.value.length===3&&(r.windowCenter=t.value[0],r.windowWidth=t.value[1],r.wlPresetName=t.value[2]))})),e.addEventListener("opacitychange",(t=>{const i=Ic(t.srclayerid).groupDivId,r=this.getViewConfig(t.dataid,i,!0);r!==void 0&&(r.opacity=t.value[0])})),e.addEventListener("colourmapchange",(t=>{const i=Ic(t.srclayerid).groupDivId,r=this.getViewConfig(t.dataid,i,!0);r!==void 0&&(r.colourMap=t.value[0])}))}#v(e,t){const i=this.#t.get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const r=this.#r.getLayerGroupByDivId(t.divId);if(!r)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=i.image.getGeometry();this.#r.unbindLayerGroups();const l=new cE().create(i.meta,i.image),c=DC(o.getOrientation(),bC(t.orientation));l.setOrientation(c),l.isMask()&&(i.image.initializeContour(),t.fillOpacity!==void 0&&l.setFillOpacity(t.fillOpacity),t.contourThickness!==void 0&&l.setContourThickness(t.contourThickness));const u=r.getNumberOfViewLayers()===0;let h=1;t.opacity!==void 0?h=t.opacity:u||(h=l.isMask()?.8:.5);const f=r.addViewLayer();f.setView(l,e);const p=o.getSize(c).get2D(),m=o.getSpacing(c).get2D();f.initialise(p,m,h);const S=f.getViewController();if(t.wlPresetName!==void 0)S.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const b=new Wn(t.windowCenter,t.windowWidth);S.setWindowLevel(b)}t.colourMap!==void 0?S.setColourMap(t.colourMap):u||(i.image.getMeta().Modality==="PT"?S.setColourMap("hot"):S.setColourMap("rainbow")),this.#t.addEventListener("dataimageset",f.onimageset),this.#e.overlayConfig!==void 0&&(r.addInfoData(this.getInfoData(e),e),r.bindInfoData(e));const y=[S.getCurrentIndex().getValues(),S.getCurrentPosition().getValues()];r.updateLayersToPositionChange({value:y,srclayerid:f.getId()}),this.#r.fitToContainer(),f.setOffset(r.getOffset());const v=this.#A(o.getOrientation(),t.orientation);if(this.#D(v,f),u)f.setScale(r.getScale());else{const b=r.getBaseViewLayer();f.initScale(r.getScale(),b.getAbsoluteZoomOffset())}this.#r.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(r,f),this.#d({type:"viewlayeradd",layerid:f.getId(),layergroupid:r.getDivId(),dataid:e}),u&&this.#n&&this.#n.init()}#x(e,t){let i;const r=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(r!==void 0){const l=r.value[0],c=l?.ReferencedSeriesSequence,u=c?.value[0],h=u?.SeriesInstanceUID,f={SeriesInstanceUID:h},p=t.searchViewLayers(f);p.length!==0&&(i=p[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const l=o.value[0],c=l?.SeriesInstanceUID,u={SeriesInstanceUID:c},h=t.searchViewLayers(u);h.length!==0&&(i=h[0])}if(i===void 0)for(const l of e.getList()){const c={SOPInstanceUID:l.referencedSopInstanceUID,SOPClassUID:l.referencedSopClassUID},u=t.searchViewLayers(c);if(u.length!==0){i=u[0];break}}return i}addDrawLayer(e,t){const i=this.#r.getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const r=this.#t.get(e);if(!r)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=r.annotationGroup,l=this.#x(o,i);if(l===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const c=l.getDataId();this.#r.unbindLayerGroups();const u=l.getViewController();r.annotationGroup.setViewController(u);const h=this.#t.get(c);if(!h)throw new Error("Cannot initialise layer without reference data, id: "+c);const f=h.image.getGeometry(),p=DC(f.getOrientation(),bC(t.orientation)),m=f.getSize(p).get2D(),S=f.getSpacing(p).get2D(),y=i.addDrawLayer();y.initialise(m,S,l.getId());const v=new ep(f,p);y.setPlaneHelper(v);const b=[u.getCurrentIndex().getValues(),u.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:b,srclayerid:y.getId()}),this.#r.fitToContainer(),y.setOffset(i.getOffset());const T=this.#A(f.getOrientation(),t.orientation);this.#D(T,y),y.initScale(i.getScale(),l.getAbsoluteZoomOffset()),y.setAnnotationGroup(r.annotationGroup,e,this.addToUndoStack),y.setCurrentPosition(u.getCurrentPosition(),u.getCurrentIndex()),this.#r.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(i,y),this.#d({type:"drawlayeradd",layerid:y.getId(),layergroupid:i.getDivId(),dataid:e})}#A(e,t){const i=r6(e.asOneAndZeros());if(i===void 0)throw new Error("Unsupported undefined orientation code");const r=t===void 0,o=!r&&t===qr.Axial,l=!r&&t===qr.Coronal,c=!r&&t===qr.Sagittal,u={x:!1,y:!1},h={x:!1,y:!1,z:!1};return i==="LPS"?(l||c)&&(h.z=!0,u.y=!0):i==="LAI"?r||o?u.y=!0:l?h.z=!0:c&&(h.z=!0,u.x=!0):i==="RPI"?r||o?u.x=!0:l?(h.z=!0,u.x=!0):c&&(h.z=!0):i==="RAS"?(u.x=!0,u.y=!0,(l||c)&&(h.z=!0)):i==="LSA"?(u.y=!0,r||l?h.z=!0:o?h.y=!0:c&&(u.x=!0,h.y=!0,h.z=!0)):i==="RSP"?r||l?(u.x=!0,u.y=!0,h.x=!0,h.z=!0):o?(u.x=!0,h.x=!0):c&&(u.y=!0,h.z=!0):i==="RIA"?(u.x=!0,r||l?h.x=!0:o?(u.y=!0,h.x=!0,h.y=!0):c&&(h.y=!0)):i==="PSL"?(h.z=!0,(r||c||l)&&(u.y=!0)):i==="PIR"?(h.z=!0,(o||l)&&(u.x=!0)):i==="ASR"?(u.x=!0,u.y=!0,(r||c||l)&&(h.z=!0)):i==="AIL"?r||c?(u.x=!0,h.z=!0):o?u.y=!0:l&&(h.z=!0):i!=="LIP"&&ge.warn("Unsupported orientation code: "+i+", display could be incorrect"),{scale:h,offset:u}}#D(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()}}const b_={DOM:[{tags:["fileName"],pos:"tl"},{tags:["fileType"],pos:"tr"},{tags:["imageWidth","imageHeight"],pos:"bl",format:"RES: {v0}x{v1}"},{event:"wlchange",pos:"bl",format:"WC: {v0}"},{event:"wlchange",pos:"bl",format:"WW: {v1}"},{event:"zoomchange",pos:"br",format:"Z: {v0}",precision:"3"},{event:"offsetchange",pos:"br",format:"Off: {v0},{v1}",precision:"round"},{event:"positionchange",pos:"br",format:"Pos: {v0}"},{event:"positionchange",pos:"br",format:"Value: {v1}"}],"*":[{tags:["00100010","00100040"],pos:"tl",format:"{v0} [{v1}]"},{tags:["00100030"],pos:"tl"},{tags:["00080070","00081090"],pos:"tr",format:"{v0} {v1}"},{tags:["00080020","00080030"],pos:"tr",format:"{v0} {v1}"},{tags:["00080060"],pos:"tr"},{event:"wlchange",pos:"bl",format:"WC: {v0}",precision:"round"},{event:"wlchange",pos:"bl",format:"WW: {v1}",precision:"round"},{event:"zoomchange",pos:"br",format:"Z: {v0}",precision:"3"},{event:"offsetchange",pos:"br",format:"Off: {v0},{v1}",precision:"round"},{event:"positionchange",pos:"br",format:"Pos: {v0}"},{event:"positionchange",pos:"br",format:"Value: {v2}"}]},E6=zr(J.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),tc="TagsTable",Ur={flex:`${tc}-flex`,spacer:`${tc}-spacer`,searchField:`${tc}-searchField`,slider:`${tc}-slider`,container:`${tc}-container`},D_=ze("div")(({theme:n})=>({[`& .${Ur.flex}`]:{flex:1},[`& .${Ur.spacer}`]:{flex:"1 1 100%"},[`& .${Ur.searchField}`]:{width:"45%"},[`& .${Ur.slider}`]:{margin:20},[`&.${Ur.container}`]:{padding:10,overflow:"hidden"}}));class T_ extends $n.Component{constructor(e){super(e);const t=this.props.data;this.state={fullMetaData:t,searchfor:"",instanceNumber:0};const i=t["00200013"];if(typeof i<"u"){let r=i.value;typeof r=="string"&&(r=[r]),this.state.instanceNumbers=r.map(Number),this.state.instanceNumbers.sort((o,l)=>o-l),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(e,t){var i=e.toLowerCase(),r=this.getMetaArray(t),o=r.filter(function(l){for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];if(typeof u<"u"&&(typeof u!="string"&&(u=u.toString()),u.toLowerCase().indexOf(i)!==-1))return!0}return!1});this.setState({searchfor:e,displayData:o})}getMetaArray(e){let t;return this.isDicomMeta(this.state.fullMetaData)?t=this.getDicomTagReducer(this.state.fullMetaData,e,""):t=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(t,[])}isDicomMeta(e){return typeof e["00020010"]<"u"}getTagReducer(e){return function(t,i){return t.push({name:i,value:e[i].value}),t}}getDicomTagReducer(e,t,i){return(r,o)=>{const l=$3(o);let c=l.getNameFromDictionary();typeof c>"u"&&(c="x"+l.getKey());const u=c,h=e[o];let f=h.value;if(typeof f.slice>"u"&&typeof f[t]<"u"&&(f=f[t]),u==="InstanceNumber"&&(f=t),h.vr==="SQ"){r.push({name:(i?i+" ":"")+u,value:""});for(let p=0;p<f.length;++p){const m=f[p],y=Object.keys(m).reduce(this.getDicomTagReducer(m,t,i+"["+p+"]"),[]);r=r.concat(y)}}else h.vr[0]==="O"&&f.length>10&&(f=f.slice(0,10).toString()+"... (len:"+f.length+")"),r.push({name:(i?i+" ":"")+u,value:f.toString()});return r}}onSliderChange=e=>{const t=parseInt(e.target.value,10),i=this.state.instanceNumbers[t],r=this.getMetaArray(i);this.setState({instanceNumber:i,displayData:r}),this.filterList(this.state.searchfor,i)};onSearch=e=>{var t=e.target.value;this.filterList(t,this.state.instanceNumber)};render(){const{displayData:e,searchfor:t,sliderMin:i,sliderMax:r}=this.state;return J.jsxs(D_,{className:Ur.container,children:[J.jsxs(h3,{direction:"row",spacing:2,children:[J.jsx(xP,{id:"search",type:"search",value:t,className:Ur.searchField,onChange:this.onSearch,margin:"normal",size:"small",slotProps:{input:{startAdornment:J.jsx(mI,{position:"start",children:J.jsx(E6,{})})}}}),J.jsxs(n7,{width:300,display:"flex",alignItems:"center",children:[J.jsx(VO,{title:"Instance number",className:Ur.slider,marks:!0,min:i,max:r,onChange:this.onSliderChange}),J.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),J.jsx(Vc,{sx:{width:"100%",overflow:"hidden"},children:J.jsx(sP,{sx:{maxHeight:400},children:J.jsxs(XO,{stickyHeader:!0,className:Ur.table,children:[J.jsx(hP,{children:J.jsxs(I5,{children:[J.jsx(v0,{children:"Tag"}),J.jsx(v0,{children:"Value"})]})}),J.jsx(JO,{children:e.map((o,l)=>J.jsxs(I5,{children:[J.jsx(v0,{children:o.name}),J.jsx(v0,{children:o.value})]},l))})]})})})]})}}const x_=zr(J.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),w_=zr(J.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),A_=zr(J.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),I_=zr(J.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"})),O_=zr(J.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),P_=zr(J.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),L_=zr([J.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),J.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")]),rg="DwvComponent",Rs={appBar:`${rg}-appBar`,title:`${rg}-title`,iconSmall:`${rg}-iconSmall`},R_=ze("div")(({theme:n})=>({[`& .${Rs.appBar}`]:{position:"relative"},[`& .${Rs.title}`]:{flex:"0 0 auto"},[`& .${Rs.iconSmall}`]:{fontSize:20}})),E_=$n.forwardRef((n,e)=>J.jsx(H7,{direction:"up",...n,ref:e}));class M_ extends $n.Component{constructor(e){super(e),this.state={versions:{dwv:xE(),react:$n.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){const{versions:e,tools:t,selectedTool:i,loadProgress:r,dataLoaded:o,metaData:l}=this.state,c=h=>{h.currentTarget.value&&this.onChangeTool(h.currentTarget.value)},u=Object.keys(t).map(h=>J.jsx(d0,{value:h,title:h,sx:{padding:"6px",minWidth:"20px"},variant:h===i?"outlined":"contained",disabled:!o||!this.canRunTool(h),onClick:c,children:this.getToolIcon(h)},h));return J.jsxs(R_,{className:Rs.root,id:"dwv",children:[J.jsx(LI,{variant:"determinate",value:r}),J.jsx("div",{className:"header",children:J.jsxs(h3,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[u,J.jsx(d0,{value:"reset",title:"Reset",variant:"contained",sx:{padding:"6px",minWidth:"20px"},disabled:!o,onChange:this.onReset,children:J.jsx(w_,{})}),J.jsx(d0,{value:"toggleOrientation",title:"Toggle Orientation",variant:"contained",sx:{padding:"6px",minWidth:"20px"},disabled:!o,onClick:this.toggleOrientation,children:J.jsx(L_,{})}),J.jsx(d0,{value:"tags",title:"Tags",variant:"contained",sx:{padding:"6px",minWidth:"20px"},disabled:!o,onClick:this.handleTagsDialogOpen,children:J.jsx(O_,{})}),J.jsxs(G7,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,slots:{transition:E_},children:[J.jsx(UA,{className:Rs.appBar,position:"sticky",children:J.jsxs(mP,{children:[J.jsx(OA,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:J.jsx(x_,{})}),J.jsx(dd,{variant:"h6",color:"inherit",className:Rs.flex,children:"DICOM Tags"})]})}),J.jsx(T_,{data:l})]})]})}),J.jsx("div",{className:"content",children:J.jsx("div",{id:"layerGroup0",className:"layerGroup",children:J.jsx("div",{id:"dropBox"})})}),J.jsx("div",{className:"footer",children:J.jsx("p",{className:"legend",children:J.jsxs(dd,{variant:"caption",children:["Powered by ",J.jsx(u5,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",e.dwv," and ",J.jsx(u5,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",e.react]})})})]})}componentDidMount(){const e=new C_;e.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools,overlayConfig:b_});let t=null,i=null,r=null,o=null;e.addEventListener("loadstart",()=>{t=0,i=0,r=0,o=!0,this.showDropbox(e,!1)}),e.addEventListener("loadprogress",l=>{this.setState({loadProgress:l.loaded})}),e.addEventListener("renderend",l=>{if(o){o=!1;const u=this.state.dwvApp.getViewLayersByDataId(l.dataid)[0].getViewController();u.canScroll()&&this.setState({canScroll:!0}),u.isMonochrome()&&this.setState({canWindowLevel:!0});let h="ZoomAndPan";u.canScroll()&&(h="Scroll"),this.onChangeTool(h)}}),e.addEventListener("load",l=>{this.setState({metaData:e.getMetaData(l.dataid)}),this.setState({loadProgress:100}),this.setState({dataLoaded:!0})}),e.addEventListener("loadend",()=>{i&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),t||this.showDropbox(e,!0)),r&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(e,!0))}),e.addEventListener("loaditem",()=>{++t}),e.addEventListener("loaderror",l=>{console.error(l.error),++i}),e.addEventListener("loadabort",()=>{++r}),e.addEventListener("keydown",l=>{e.defaultOnKeydown(l)}),window.addEventListener("resize",e.onResize),this.setState({dwvApp:e}),this.setupDropbox(e),e.loadFromUri(window.location.href)}getToolIcon=e=>{let t;return e==="Scroll"?t=J.jsx(A_,{}):e==="ZoomAndPan"?t=J.jsx(E6,{}):e==="WindowLevel"?t=J.jsx(I_,{}):e==="Draw"&&(t=J.jsx(P_,{})),t};onChangeTool=e=>{this.state.dwvApp&&(this.setState({selectedTool:e}),this.state.dwvApp.setTool(e),e==="Draw"?this.onChangeShape(this.state.tools.Draw.options[0]):this.state.dwvApp.getActiveLayerGroup()?.setActiveLayer(0))};canRunTool=e=>{let t;return e==="Scroll"?t=this.state.canScroll:e==="WindowLevel"?t=this.state.canWindowLevel:t=!0,t};toggleOrientation=()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const e={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(e);const t=this.state.dwvApp.getDataIds();for(const i of t)this.state.dwvApp.render(i)};onChangeShape=e=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:e})};onReset=()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()};handleTagsDialogOpen=()=>{this.setState({showDicomTags:!0})};handleTagsDialogClose=()=>{this.setState({showDicomTags:!1})};setupDropbox=e=>{this.showDropbox(e,!0)};defaultHandleDragEvent=e=>{e.stopPropagation(),e.preventDefault()};onBoxDragOver=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)===-1&&(t.className+=" "+this.state.hoverClassName)};onBoxDragLeave=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)!==-1&&(t.className=t.className.replace(" "+this.state.hoverClassName,""))};onDrop=e=>{this.defaultHandleDragEvent(e),this.state.dwvApp.loadFiles(e.dataTransfer.files)};onInputFile=e=>{e.target&&e.target.files&&this.state.dwvApp.loadFiles(e.target.files)};showDropbox=(e,t)=>{const i=document.getElementById(this.state.dropboxDivId);if(!i)return;const r=document.getElementById("layerGroup0");if(t){if(i.className=this.state.dropboxClassName+" "+this.state.borderClassName,i.innerHTML===""){const o=document.createElement("p");o.appendChild(document.createTextNode("Drag and drop data here or "));const l=document.createElement("input");l.onchange=this.onInputFile,l.type="file",l.multiple=!0,l.id="input-file",l.style.display="none";const c=document.createElement("label");c.htmlFor="input-file";const u=document.createElement("a");u.appendChild(document.createTextNode("click here")),u.id="input-file-link",c.appendChild(u),o.appendChild(l),o.appendChild(c),i.appendChild(o)}i.setAttribute("style","display:initial"),r&&(r.removeEventListener("dragover",this.defaultHandleDragEvent),r.removeEventListener("dragleave",this.defaultHandleDragEvent),r.removeEventListener("drop",this.onDrop)),i.addEventListener("dragover",this.onBoxDragOver),i.addEventListener("dragleave",this.onBoxDragLeave),i.addEventListener("drop",this.onDrop)}else i.className=this.state.dropboxClassName,i.innerHTML="",i.setAttribute("style","display:none"),i.removeEventListener("dragover",this.onBoxDragOver),i.removeEventListener("dragleave",this.onBoxDragLeave),i.removeEventListener("drop",this.onDrop),r&&(r.addEventListener("dragover",this.defaultHandleDragEvent),r.addEventListener("dragleave",this.defaultHandleDragEvent),r.addEventListener("drop",this.onDrop))}}function __(){const n=wP("(prefers-color-scheme: dark)"),e=Bd({typography:{useNextVariants:!0},palette:{primary:{main:nT[500]},secondary:{main:tT[500]},mode:n?"dark":"light"}});return J.jsxs(_9,{theme:e,children:[J.jsx(p7,{}),J.jsx("div",{className:"App",children:J.jsx(M_,{})})]})}eT.createRoot(document.getElementById("app")).render(J.jsx(Y.StrictMode,{children:J.jsx(__,{})}));
