var qM=Object.defineProperty;var Bw=n=>{throw TypeError(n)};var BM=(n,e,t)=>e in n?qM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>BM(n,typeof e!="symbol"?e+"":e,t),Xb=(n,e,t)=>e.has(n)||Bw("Cannot "+t);var u=(n,e,t)=>(Xb(n,e,"read from private field"),t?t.call(n):e.get(n)),V=(n,e,t)=>e.has(n)?Bw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),H=(n,e,t,i)=>(Xb(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),z=(n,e,t)=>(Xb(n,e,"access private method"),t);var Er=(n,e,t,i)=>({set _(a){H(n,e,a,t)},get _(){return u(n,e,i)}});function GM(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wb={exports:{}},U1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw;function VM(){if(Gw)return U1;Gw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var l in a)l!=="key"&&(o[l]=a[l])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return U1.Fragment=e,U1.jsx=t,U1.jsxs=t,U1}var Vw;function zM(){return Vw||(Vw=1,Wb.exports=VM()),Wb.exports}var ce=zM(),$b={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function QM(){if(zw)return st;zw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),S=Symbol.iterator;function b(Q){return Q===null||typeof Q!="object"?null:(Q=S&&Q[S]||Q["@@iterator"],typeof Q=="function"?Q:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function D(Q,Y,$){this.props=Q,this.context=Y,this.refs=v,this.updater=$||m}D.prototype.isReactComponent={},D.prototype.setState=function(Q,Y){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,Y,"setState")},D.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function x(){}x.prototype=D.prototype;function T(Q,Y,$){this.props=Q,this.context=Y,this.refs=v,this.updater=$||m}var C=T.prototype=new x;C.constructor=T,y(C,D.prototype),C.isPureReactComponent=!0;var A=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function U(Q,Y,$,ee,re,ie){return $=ie.ref,{$$typeof:n,type:Q,key:Y,ref:$!==void 0?$:null,props:ie}}function _(Q,Y){return U(Q.type,Y,void 0,void 0,void 0,Q.props)}function M(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function P(Q){var Y={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function($){return Y[$]})}var q=/\/+/g;function N(Q,Y){return typeof Q=="object"&&Q!==null&&Q.key!=null?P(""+Q.key):Y.toString(36)}function L(){}function O(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(L,L):(Q.status="pending",Q.then(function(Y){Q.status==="pending"&&(Q.status="fulfilled",Q.value=Y)},function(Y){Q.status==="pending"&&(Q.status="rejected",Q.reason=Y)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function F(Q,Y,$,ee,re){var ie=typeof Q;(ie==="undefined"||ie==="boolean")&&(Q=null);var fe=!1;if(Q===null)fe=!0;else switch(ie){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Q.$$typeof){case n:case e:fe=!0;break;case g:return fe=Q._init,F(fe(Q._payload),Y,$,ee,re)}}if(fe)return re=re(Q),fe=ee===""?"."+N(Q,0):ee,A(re)?($="",fe!=null&&($=fe.replace(q,"$&/")+"/"),F(re,Y,$,"",function(pe){return pe})):re!=null&&(M(re)&&(re=_(re,$+(re.key==null||Q&&Q.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+fe)),Y.push(re)),1;fe=0;var ne=ee===""?".":ee+":";if(A(Q))for(var oe=0;oe<Q.length;oe++)ee=Q[oe],ie=ne+N(ee,oe),fe+=F(ee,Y,$,ie,re);else if(oe=b(Q),typeof oe=="function")for(Q=oe.call(Q),oe=0;!(ee=Q.next()).done;)ee=ee.value,ie=ne+N(ee,oe++),fe+=F(ee,Y,$,ie,re);else if(ie==="object"){if(typeof Q.then=="function")return F(O(Q),Y,$,ee,re);throw Y=String(Q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return fe}function k(Q,Y,$){if(Q==null)return Q;var ee=[],re=0;return F(Q,ee,"","",function(ie){return Y.call($,ie,re++)}),ee}function G(Q){if(Q._status===-1){var Y=Q._result;Y=Y(),Y.then(function($){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=$)},function($){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=$)}),Q._status===-1&&(Q._status=0,Q._result=Y)}if(Q._status===1)return Q._result.default;throw Q._result}var W=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function X(){}return st.Children={map:k,forEach:function(Q,Y,$){k(Q,function(){Y.apply(this,arguments)},$)},count:function(Q){var Y=0;return k(Q,function(){Y++}),Y},toArray:function(Q){return k(Q,function(Y){return Y})||[]},only:function(Q){if(!M(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},st.Component=D,st.Fragment=t,st.Profiler=a,st.PureComponent=T,st.StrictMode=i,st.Suspense=h,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,st.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return R.H.useMemoCache(Q)}},st.cache=function(Q){return function(){return Q.apply(null,arguments)}},st.cloneElement=function(Q,Y,$){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var ee=y({},Q.props),re=Q.key,ie=void 0;if(Y!=null)for(fe in Y.ref!==void 0&&(ie=void 0),Y.key!==void 0&&(re=""+Y.key),Y)!E.call(Y,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Y.ref===void 0||(ee[fe]=Y[fe]);var fe=arguments.length-2;if(fe===1)ee.children=$;else if(1<fe){for(var ne=Array(fe),oe=0;oe<fe;oe++)ne[oe]=arguments[oe+2];ee.children=ne}return U(Q.type,re,void 0,void 0,ie,ee)},st.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},st.createElement=function(Q,Y,$){var ee,re={},ie=null;if(Y!=null)for(ee in Y.key!==void 0&&(ie=""+Y.key),Y)E.call(Y,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=Y[ee]);var fe=arguments.length-2;if(fe===1)re.children=$;else if(1<fe){for(var ne=Array(fe),oe=0;oe<fe;oe++)ne[oe]=arguments[oe+2];re.children=ne}if(Q&&Q.defaultProps)for(ee in fe=Q.defaultProps,fe)re[ee]===void 0&&(re[ee]=fe[ee]);return U(Q,ie,void 0,void 0,null,re)},st.createRef=function(){return{current:null}},st.forwardRef=function(Q){return{$$typeof:l,render:Q}},st.isValidElement=M,st.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:G}},st.memo=function(Q,Y){return{$$typeof:f,type:Q,compare:Y===void 0?null:Y}},st.startTransition=function(Q){var Y=R.T,$={};R.T=$;try{var ee=Q(),re=R.S;re!==null&&re($,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(X,W)}catch(ie){W(ie)}finally{R.T=Y}},st.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},st.use=function(Q){return R.H.use(Q)},st.useActionState=function(Q,Y,$){return R.H.useActionState(Q,Y,$)},st.useCallback=function(Q,Y){return R.H.useCallback(Q,Y)},st.useContext=function(Q){return R.H.useContext(Q)},st.useDebugValue=function(){},st.useDeferredValue=function(Q,Y){return R.H.useDeferredValue(Q,Y)},st.useEffect=function(Q,Y,$){var ee=R.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(Q,Y)},st.useId=function(){return R.H.useId()},st.useImperativeHandle=function(Q,Y,$){return R.H.useImperativeHandle(Q,Y,$)},st.useInsertionEffect=function(Q,Y){return R.H.useInsertionEffect(Q,Y)},st.useLayoutEffect=function(Q,Y){return R.H.useLayoutEffect(Q,Y)},st.useMemo=function(Q,Y){return R.H.useMemo(Q,Y)},st.useOptimistic=function(Q,Y){return R.H.useOptimistic(Q,Y)},st.useReducer=function(Q,Y,$){return R.H.useReducer(Q,Y,$)},st.useRef=function(Q){return R.H.useRef(Q)},st.useState=function(Q){return R.H.useState(Q)},st.useSyncExternalStore=function(Q,Y,$){return R.H.useSyncExternalStore(Q,Y,$)},st.useTransition=function(){return R.H.useTransition()},st.version="19.1.0",st}var Qw;function i6(){return Qw||(Qw=1,$b.exports=QM()),$b.exports}var te=i6();const Dr=Lm(te),fy=GM({__proto__:null,default:Dr},[te]);var Kb={exports:{}},N1={},Zb={exports:{}},Jb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function HM(){return Hw||(Hw=1,function(n){function e(k,G){var W=k.length;k.push(G);e:for(;0<W;){var X=W-1>>>1,Q=k[X];if(0<a(Q,G))k[X]=G,k[W]=Q,W=X;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var G=k[0],W=k.pop();if(W!==G){k[0]=W;e:for(var X=0,Q=k.length,Y=Q>>>1;X<Y;){var $=2*(X+1)-1,ee=k[$],re=$+1,ie=k[re];if(0>a(ee,W))re<Q&&0>a(ie,ee)?(k[X]=ie,k[re]=W,X=re):(k[X]=ee,k[$]=W,X=$);else if(re<Q&&0>a(ie,W))k[X]=ie,k[re]=W,X=re;else break e}}return G}function a(k,G){var W=k.sortIndex-G.sortIndex;return W!==0?W:k.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,l=c.now();n.unstable_now=function(){return c.now()-l}}var h=[],f=[],g=1,S=null,b=3,m=!1,y=!1,v=!1,D=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function A(k){for(var G=t(f);G!==null;){if(G.callback===null)i(f);else if(G.startTime<=k)i(f),G.sortIndex=G.expirationTime,e(h,G);else break;G=t(f)}}function R(k){if(v=!1,A(k),!y)if(t(h)!==null)y=!0,E||(E=!0,N());else{var G=t(f);G!==null&&F(R,G.startTime-k)}}var E=!1,U=-1,_=5,M=-1;function P(){return D?!0:!(n.unstable_now()-M<_)}function q(){if(D=!1,E){var k=n.unstable_now();M=k;var G=!0;try{e:{y=!1,v&&(v=!1,T(U),U=-1),m=!0;var W=b;try{t:{for(A(k),S=t(h);S!==null&&!(S.expirationTime>k&&P());){var X=S.callback;if(typeof X=="function"){S.callback=null,b=S.priorityLevel;var Q=X(S.expirationTime<=k);if(k=n.unstable_now(),typeof Q=="function"){S.callback=Q,A(k),G=!0;break t}S===t(h)&&i(h),A(k)}else i(h);S=t(h)}if(S!==null)G=!0;else{var Y=t(f);Y!==null&&F(R,Y.startTime-k),G=!1}}break e}finally{S=null,b=W,m=!1}G=void 0}}finally{G?N():E=!1}}}var N;if(typeof C=="function")N=function(){C(q)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,O=L.port2;L.port1.onmessage=q,N=function(){O.postMessage(null)}}else N=function(){x(q,0)};function F(k,G){U=x(function(){k(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var W=b;b=G;try{return k()}finally{b=W}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=b;b=k;try{return G()}finally{b=W}},n.unstable_scheduleCallback=function(k,G,W){var X=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,k={id:g++,callback:G,priorityLevel:k,startTime:W,expirationTime:Q,sortIndex:-1},W>X?(k.sortIndex=W,e(f,k),t(h)===null&&k===t(f)&&(v?(T(U),U=-1):v=!0,F(R,W-X))):(k.sortIndex=Q,e(h,k),y||m||(y=!0,E||(E=!0,N()))),k},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(k){var G=b;return function(){var W=b;b=G;try{return k.apply(this,arguments)}finally{b=W}}}}(Jb)),Jb}var jw;function jM(){return jw||(jw=1,Zb.exports=HM()),Zb.exports}var eC={exports:{}},Ii={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yw;function YM(){if(Yw)return Ii;Yw=1;var n=i6();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(h,f,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:S==null?null:""+S,children:h,containerInfo:f,implementation:g}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ii.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ii.createPortal=function(h,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(h,f,null,g)},Ii.flushSync=function(h){var f=c.T,g=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=f,i.p=g,i.d.f()}},Ii.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(h,f))},Ii.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},Ii.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var g=f.as,S=l(g,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?i.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:m}):g==="script"&&i.d.X(h,{crossOrigin:S,integrity:b,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ii.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=l(f.as,f.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(h)},Ii.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,S=l(g,f.crossOrigin);i.d.L(h,g,{crossOrigin:S,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ii.preloadModule=function(h,f){if(typeof h=="string")if(f){var g=l(f.as,f.crossOrigin);i.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(h)},Ii.requestFormReset=function(h){i.d.r(h)},Ii.unstable_batchedUpdates=function(h,f){return h(f)},Ii.useFormState=function(h,f,g){return c.H.useFormState(h,f,g)},Ii.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ii.version="19.1.0",Ii}var Xw;function UR(){if(Xw)return eC.exports;Xw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eC.exports=YM(),eC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ww;function XM(){if(Ww)return N1;Ww=1;var n=jM(),e=i6(),t=UR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,d=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(d=s.return),r=s.return;while(r)}return s.tag===3?d:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function l(r){if(o(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var d=r,p=s;;){var w=d.return;if(w===null)break;var I=w.alternate;if(I===null){if(p=w.return,p!==null){d=p;continue}break}if(w.child===I.child){for(I=w.child;I;){if(I===d)return l(w),r;if(I===p)return l(w),s;I=I.sibling}throw Error(i(188))}if(d.return!==p.return)d=w,p=I;else{for(var j=!1,K=w.child;K;){if(K===d){j=!0,d=w,p=I;break}if(K===p){j=!0,p=w,d=I;break}K=K.sibling}if(!j){for(K=I.child;K;){if(K===d){j=!0,d=I,p=w;break}if(K===p){j=!0,p=I,d=w;break}K=K.sibling}if(!j)throw Error(i(189))}}if(d.alternate!==p)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?r:s}function f(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=f(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function N(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var L=Symbol.for("react.client.reference");function O(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===L?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case y:return"Fragment";case D:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case E:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case m:return"Portal";case C:return(r.displayName||"Context")+".Provider";case T:return(r._context.displayName||"Context")+".Consumer";case A:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case U:return s=r.displayName||null,s!==null?s:O(r.type)||"Memo";case _:s=r._payload,r=r._init;try{return O(r(s))}catch{}}return null}var F=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},X=[],Q=-1;function Y(r){return{current:r}}function $(r){0>Q||(r.current=X[Q],X[Q]=null,Q--)}function ee(r,s){Q++,X[Q]=r.current,r.current=s}var re=Y(null),ie=Y(null),fe=Y(null),ne=Y(null);function oe(r,s){switch(ee(fe,s),ee(ie,r),ee(re,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?gw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=gw(s),r=pw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}$(re),ee(re,r)}function pe(){$(re),$(ie),$(fe)}function me(r){r.memoizedState!==null&&ee(ne,r);var s=re.current,d=pw(s,r.type);s!==d&&(ee(ie,r),ee(re,d))}function xe(r){ie.current===r&&($(re),$(ie)),ne.current===r&&($(ne),E1._currentValue=W)}var Oe=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,B=n.unstable_cancelCallback,ge=n.unstable_shouldYield,ye=n.unstable_requestPaint,J=n.unstable_now,Z=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,we=n.unstable_UserBlockingPriority,Ae=n.unstable_NormalPriority,se=n.unstable_LowPriority,Ee=n.unstable_IdlePriority,Ue=n.log,he=n.unstable_setDisableYieldValue,Ce=null,ke=null;function qe(r){if(typeof Ue=="function"&&he(r),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ce,r)}catch{}}var je=Math.clz32?Math.clz32:et,Ge=Math.log,Ve=Math.LN2;function et(r){return r>>>=0,r===0?32:31-(Ge(r)/Ve|0)|0}var He=256,it=4194304;function Jt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Fn(r,s,d){var p=r.pendingLanes;if(p===0)return 0;var w=0,I=r.suspendedLanes,j=r.pingedLanes;r=r.warmLanes;var K=p&134217727;return K!==0?(p=K&~I,p!==0?w=Jt(p):(j&=K,j!==0?w=Jt(j):d||(d=K&~r,d!==0&&(w=Jt(d))))):(K=p&~I,K!==0?w=Jt(K):j!==0?w=Jt(j):d||(d=p&~r,d!==0&&(w=Jt(d)))),w===0?0:s!==0&&s!==w&&(s&I)===0&&(I=w&-w,d=s&-s,I>=d||I===32&&(d&4194048)!==0)?s:w}function We(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Mt(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var r=He;return He<<=1,(He&4194048)===0&&(He=256),r}function qi(){var r=it;return it<<=1,(it&62914560)===0&&(it=4194304),r}function qa(r){for(var s=[],d=0;31>d;d++)s.push(r);return s}function Lt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function dn(r,s,d,p,w,I){var j=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var K=r.entanglements,le=r.expirationTimes,be=r.hiddenUpdates;for(d=j&~d;0<d;){var Ie=31-je(d),Me=1<<Ie;K[Ie]=0,le[Ie]=-1;var De=be[Ie];if(De!==null)for(be[Ie]=null,Ie=0;Ie<De.length;Ie++){var Te=De[Ie];Te!==null&&(Te.lane&=-536870913)}d&=~Me}p!==0&&M0(r,p,0),I!==0&&w===0&&r.tag!==0&&(r.suspendedLanes|=I&~(j&~s))}function M0(r,s,d){r.pendingLanes|=s,r.suspendedLanes&=~s;var p=31-je(s);r.entangledLanes|=s,r.entanglements[p]=r.entanglements[p]|1073741824|d&4194090}function Vc(r,s){var d=r.entangledLanes|=s;for(r=r.entanglements;d;){var p=31-je(d),w=1<<p;w&s|r[p]&s&&(r[p]|=s),d&=~w}}function wr(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function qv(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function tD(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:Mw(r.type))}function OE(r,s){var d=G.p;try{return G.p=r,s()}finally{G.p=d}}var ol=Math.random().toString(36).slice(2),Pi="__reactFiber$"+ol,Ki="__reactProps$"+ol,F0="__reactContainer$"+ol,Bv="__reactEvents$"+ol,PE="__reactListeners$"+ol,LE="__reactHandles$"+ol,nD="__reactResources$"+ol,zf="__reactMarker$"+ol;function Gv(r){delete r[Pi],delete r[Ki],delete r[Bv],delete r[PE],delete r[LE]}function k0(r){var s=r[Pi];if(s)return s;for(var d=r.parentNode;d;){if(s=d[F0]||d[Pi]){if(d=s.alternate,s.child!==null||d!==null&&d.child!==null)for(r=vw(r);r!==null;){if(d=r[Pi])return d;r=vw(r)}return s}r=d,d=r.parentNode}return null}function U0(r){if(r=r[Pi]||r[F0]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Qf(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function N0(r){var s=r[nD];return s||(s=r[nD]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function di(r){r[zf]=!0}var iD=new Set,rD={};function zc(r,s){q0(r,s),q0(r+"Capture",s)}function q0(r,s){for(rD[r]=s,r=0;r<s.length;r++)iD.add(s[r])}var IE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aD={},oD={};function EE(r){return Oe.call(oD,r)?!0:Oe.call(aD,r)?!1:IE.test(r)?oD[r]=!0:(aD[r]=!0,!1)}function qm(r,s,d){if(EE(s))if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+d)}}function Bm(r,s,d){if(d===null)r.removeAttribute(s);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+d)}}function jo(r,s,d,p){if(p===null)r.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(s,d,""+p)}}var Vv,sD;function B0(r){if(Vv===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Vv=s&&s[1]||"",sD=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vv+r+sD}var zv=!1;function Qv(r,s){if(!r||zv)return"";zv=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Te){var De=Te}Reflect.construct(r,[],Me)}else{try{Me.call()}catch(Te){De=Te}r.call(Me.prototype)}}else{try{throw Error()}catch(Te){De=Te}(Me=r())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Te){if(Te&&De&&typeof Te.stack=="string")return[Te.stack,De.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=p.DetermineComponentFrameRoot(),j=I[0],K=I[1];if(j&&K){var le=j.split(`
`),be=K.split(`
`);for(w=p=0;p<le.length&&!le[p].includes("DetermineComponentFrameRoot");)p++;for(;w<be.length&&!be[w].includes("DetermineComponentFrameRoot");)w++;if(p===le.length||w===be.length)for(p=le.length-1,w=be.length-1;1<=p&&0<=w&&le[p]!==be[w];)w--;for(;1<=p&&0<=w;p--,w--)if(le[p]!==be[w]){if(p!==1||w!==1)do if(p--,w--,0>w||le[p]!==be[w]){var Ie=`
`+le[p].replace(" at new "," at ");return r.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",r.displayName)),Ie}while(1<=p&&0<=w);break}}}finally{zv=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?B0(d):""}function _E(r){switch(r.tag){case 26:case 27:case 5:return B0(r.type);case 16:return B0("Lazy");case 13:return B0("Suspense");case 19:return B0("SuspenseList");case 0:case 15:return Qv(r.type,!1);case 11:return Qv(r.type.render,!1);case 1:return Qv(r.type,!0);case 31:return B0("Activity");default:return""}}function lD(r){try{var s="";do s+=_E(r),r=r.return;while(r);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Zr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function cD(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ME(r){var s=cD(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),p=""+r[s];if(!r.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var w=d.get,I=d.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return w.call(this)},set:function(j){p=""+j,I.call(this,j)}}),Object.defineProperty(r,s,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(j){p=""+j},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Gm(r){r._valueTracker||(r._valueTracker=ME(r))}function uD(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var d=s.getValue(),p="";return r&&(p=cD(r)?r.checked?"true":"false":r.value),r=p,r!==d?(s.setValue(r),!0):!1}function Vm(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var FE=/[\n"\\]/g;function Jr(r){return r.replace(FE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hv(r,s,d,p,w,I,j,K){r.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.type=j:r.removeAttribute("type"),s!=null?j==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Zr(s)):r.value!==""+Zr(s)&&(r.value=""+Zr(s)):j!=="submit"&&j!=="reset"||r.removeAttribute("value"),s!=null?jv(r,j,Zr(s)):d!=null?jv(r,j,Zr(d)):p!=null&&r.removeAttribute("value"),w==null&&I!=null&&(r.defaultChecked=!!I),w!=null&&(r.checked=w&&typeof w!="function"&&typeof w!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?r.name=""+Zr(K):r.removeAttribute("name")}function dD(r,s,d,p,w,I,j,K){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(r.type=I),s!=null||d!=null){if(!(I!=="submit"&&I!=="reset"||s!=null))return;d=d!=null?""+Zr(d):"",s=s!=null?""+Zr(s):d,K||s===r.value||(r.value=s),r.defaultValue=s}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,r.checked=K?r.checked:!!p,r.defaultChecked=!!p,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(r.name=j)}function jv(r,s,d){s==="number"&&Vm(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function G0(r,s,d,p){if(r=r.options,s){s={};for(var w=0;w<d.length;w++)s["$"+d[w]]=!0;for(d=0;d<r.length;d++)w=s.hasOwnProperty("$"+r[d].value),r[d].selected!==w&&(r[d].selected=w),w&&p&&(r[d].defaultSelected=!0)}else{for(d=""+Zr(d),s=null,w=0;w<r.length;w++){if(r[w].value===d){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}s!==null||r[w].disabled||(s=r[w])}s!==null&&(s.selected=!0)}}function hD(r,s,d){if(s!=null&&(s=""+Zr(s),s!==r.value&&(r.value=s),d==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=d!=null?""+Zr(d):""}function fD(r,s,d,p){if(s==null){if(p!=null){if(d!=null)throw Error(i(92));if(F(p)){if(1<p.length)throw Error(i(93));p=p[0]}d=p}d==null&&(d=""),s=d}d=Zr(s),r.defaultValue=d,p=r.textContent,p===d&&p!==""&&p!==null&&(r.value=p)}function V0(r,s){if(s){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=s;return}}r.textContent=s}var kE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gD(r,s,d){var p=s.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":p?r.setProperty(s,d):typeof d!="number"||d===0||kE.has(s)?s==="float"?r.cssFloat=d:r[s]=(""+d).trim():r[s]=d+"px"}function pD(r,s,d){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?r.setProperty(p,""):p==="float"?r.cssFloat="":r[p]="");for(var w in s)p=s[w],s.hasOwnProperty(w)&&d[w]!==p&&gD(r,w,p)}else for(var I in s)s.hasOwnProperty(I)&&gD(r,I,s[I])}function Yv(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),NE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zm(r){return NE.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Xv=null;function Wv(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var z0=null,Q0=null;function mD(r){var s=U0(r);if(s&&(r=s.stateNode)){var d=r[Ki]||null;e:switch(r=s.stateNode,s.type){case"input":if(Hv(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),s=d.name,d.type==="radio"&&s!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Jr(""+s)+'"][type="radio"]'),s=0;s<d.length;s++){var p=d[s];if(p!==r&&p.form===r.form){var w=p[Ki]||null;if(!w)throw Error(i(90));Hv(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(s=0;s<d.length;s++)p=d[s],p.form===r.form&&uD(p)}break e;case"textarea":hD(r,d.value,d.defaultValue);break e;case"select":s=d.value,s!=null&&G0(r,!!d.multiple,s,!1)}}}var $v=!1;function SD(r,s,d){if($v)return r(s,d);$v=!0;try{var p=r(s);return p}finally{if($v=!1,(z0!==null||Q0!==null)&&(OS(),z0&&(s=z0,r=Q0,Q0=z0=null,mD(s),r)))for(s=0;s<r.length;s++)mD(r[s])}}function Hf(r,s){var d=r.stateNode;if(d===null)return null;var p=d[Ki]||null;if(p===null)return null;d=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(i(231,s,typeof d));return d}var Yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kv=!1;if(Yo)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){Kv=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Kv=!1}var sl=null,Zv=null,Qm=null;function yD(){if(Qm)return Qm;var r,s=Zv,d=s.length,p,w="value"in sl?sl.value:sl.textContent,I=w.length;for(r=0;r<d&&s[r]===w[r];r++);var j=d-r;for(p=1;p<=j&&s[d-p]===w[I-p];p++);return Qm=w.slice(r,1<p?1-p:void 0)}function Hm(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jm(){return!0}function vD(){return!1}function Zi(r){function s(d,p,w,I,j){this._reactName=d,this._targetInst=w,this.type=p,this.nativeEvent=I,this.target=j,this.currentTarget=null;for(var K in r)r.hasOwnProperty(K)&&(d=r[K],this[K]=d?d(I):I[K]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?jm:vD,this.isPropagationStopped=vD,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=jm)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=jm)},persist:function(){},isPersistent:jm}),s}var Qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ym=Zi(Qc),Yf=g({},Qc,{view:0,detail:0}),qE=Zi(Yf),Jv,e5,Xf,Xm=g({},Yf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n5,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xf&&(Xf&&r.type==="mousemove"?(Jv=r.screenX-Xf.screenX,e5=r.screenY-Xf.screenY):e5=Jv=0,Xf=r),Jv)},movementY:function(r){return"movementY"in r?r.movementY:e5}}),bD=Zi(Xm),BE=g({},Xm,{dataTransfer:0}),GE=Zi(BE),VE=g({},Yf,{relatedTarget:0}),t5=Zi(VE),zE=g({},Qc,{animationName:0,elapsedTime:0,pseudoElement:0}),QE=Zi(zE),HE=g({},Qc,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jE=Zi(HE),YE=g({},Qc,{data:0}),CD=Zi(YE),XE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$E={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KE(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$E[r])?!!s[r]:!1}function n5(){return KE}var ZE=g({},Yf,{key:function(r){if(r.key){var s=XE[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Hm(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?WE[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n5,charCode:function(r){return r.type==="keypress"?Hm(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hm(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),JE=Zi(ZE),e_=g({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DD=Zi(e_),t_=g({},Yf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n5}),n_=Zi(t_),i_=g({},Qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),r_=Zi(i_),a_=g({},Xm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),o_=Zi(a_),s_=g({},Qc,{newState:0,oldState:0}),l_=Zi(s_),c_=[9,13,27,32],i5=Yo&&"CompositionEvent"in window,Wf=null;Yo&&"documentMode"in document&&(Wf=document.documentMode);var u_=Yo&&"TextEvent"in window&&!Wf,TD=Yo&&(!i5||Wf&&8<Wf&&11>=Wf),wD=" ",xD=!1;function AD(r,s){switch(r){case"keyup":return c_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RD(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var H0=!1;function d_(r,s){switch(r){case"compositionend":return RD(s);case"keypress":return s.which!==32?null:(xD=!0,wD);case"textInput":return r=s.data,r===wD&&xD?null:r;default:return null}}function h_(r,s){if(H0)return r==="compositionend"||!i5&&AD(r,s)?(r=yD(),Qm=Zv=sl=null,H0=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return TD&&s.locale!=="ko"?null:s.data;default:return null}}var f_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OD(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!f_[r.type]:s==="textarea"}function PD(r,s,d,p){z0?Q0?Q0.push(p):Q0=[p]:z0=p,s=MS(s,"onChange"),0<s.length&&(d=new Ym("onChange","change",null,d,p),r.push({event:d,listeners:s}))}var $f=null,Kf=null;function g_(r){cw(r,0)}function Wm(r){var s=Qf(r);if(uD(s))return r}function LD(r,s){if(r==="change")return s}var ID=!1;if(Yo){var r5;if(Yo){var a5="oninput"in document;if(!a5){var ED=document.createElement("div");ED.setAttribute("oninput","return;"),a5=typeof ED.oninput=="function"}r5=a5}else r5=!1;ID=r5&&(!document.documentMode||9<document.documentMode)}function _D(){$f&&($f.detachEvent("onpropertychange",MD),Kf=$f=null)}function MD(r){if(r.propertyName==="value"&&Wm(Kf)){var s=[];PD(s,Kf,r,Wv(r)),SD(g_,s)}}function p_(r,s,d){r==="focusin"?(_D(),$f=s,Kf=d,$f.attachEvent("onpropertychange",MD)):r==="focusout"&&_D()}function m_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wm(Kf)}function S_(r,s){if(r==="click")return Wm(s)}function y_(r,s){if(r==="input"||r==="change")return Wm(s)}function v_(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xr=typeof Object.is=="function"?Object.is:v_;function Zf(r,s){if(xr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var d=Object.keys(r),p=Object.keys(s);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var w=d[p];if(!Oe.call(s,w)||!xr(r[w],s[w]))return!1}return!0}function FD(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function kD(r,s){var d=FD(r);r=0;for(var p;d;){if(d.nodeType===3){if(p=r+d.textContent.length,r<=s&&p>=s)return{node:d,offset:s-r};r=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=FD(d)}}function UD(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?UD(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ND(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Vm(r.document);s instanceof r.HTMLIFrameElement;){try{var d=typeof s.contentWindow.location.href=="string"}catch{d=!1}if(d)r=s.contentWindow;else break;s=Vm(r.document)}return s}function o5(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var b_=Yo&&"documentMode"in document&&11>=document.documentMode,j0=null,s5=null,Jf=null,l5=!1;function qD(r,s,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;l5||j0==null||j0!==Vm(p)||(p=j0,"selectionStart"in p&&o5(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Jf&&Zf(Jf,p)||(Jf=p,p=MS(s5,"onSelect"),0<p.length&&(s=new Ym("onSelect","select",null,s,d),r.push({event:s,listeners:p}),s.target=j0)))}function Hc(r,s){var d={};return d[r.toLowerCase()]=s.toLowerCase(),d["Webkit"+r]="webkit"+s,d["Moz"+r]="moz"+s,d}var Y0={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionrun:Hc("Transition","TransitionRun"),transitionstart:Hc("Transition","TransitionStart"),transitioncancel:Hc("Transition","TransitionCancel"),transitionend:Hc("Transition","TransitionEnd")},c5={},BD={};Yo&&(BD=document.createElement("div").style,"AnimationEvent"in window||(delete Y0.animationend.animation,delete Y0.animationiteration.animation,delete Y0.animationstart.animation),"TransitionEvent"in window||delete Y0.transitionend.transition);function jc(r){if(c5[r])return c5[r];if(!Y0[r])return r;var s=Y0[r],d;for(d in s)if(s.hasOwnProperty(d)&&d in BD)return c5[r]=s[d];return r}var GD=jc("animationend"),VD=jc("animationiteration"),zD=jc("animationstart"),C_=jc("transitionrun"),D_=jc("transitionstart"),T_=jc("transitioncancel"),QD=jc("transitionend"),HD=new Map,u5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");u5.push("scrollEnd");function Ba(r,s){HD.set(r,s),zc(s,[r])}var jD=new WeakMap;function ea(r,s){if(typeof r=="object"&&r!==null){var d=jD.get(r);return d!==void 0?d:(s={value:r,source:s,stack:lD(s)},jD.set(r,s),s)}return{value:r,source:s,stack:lD(s)}}var ta=[],X0=0,d5=0;function $m(){for(var r=X0,s=d5=X0=0;s<r;){var d=ta[s];ta[s++]=null;var p=ta[s];ta[s++]=null;var w=ta[s];ta[s++]=null;var I=ta[s];if(ta[s++]=null,p!==null&&w!==null){var j=p.pending;j===null?w.next=w:(w.next=j.next,j.next=w),p.pending=w}I!==0&&YD(d,w,I)}}function Km(r,s,d,p){ta[X0++]=r,ta[X0++]=s,ta[X0++]=d,ta[X0++]=p,d5|=p,r.lanes|=p,r=r.alternate,r!==null&&(r.lanes|=p)}function h5(r,s,d,p){return Km(r,s,d,p),Zm(r)}function W0(r,s){return Km(r,null,null,s),Zm(r)}function YD(r,s,d){r.lanes|=d;var p=r.alternate;p!==null&&(p.lanes|=d);for(var w=!1,I=r.return;I!==null;)I.childLanes|=d,p=I.alternate,p!==null&&(p.childLanes|=d),I.tag===22&&(r=I.stateNode,r===null||r._visibility&1||(w=!0)),r=I,I=I.return;return r.tag===3?(I=r.stateNode,w&&s!==null&&(w=31-je(d),r=I.hiddenUpdates,p=r[w],p===null?r[w]=[s]:p.push(s),s.lane=d|536870912),I):null}function Zm(r){if(50<w1)throw w1=0,yb=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var $0={};function w_(r,s,d,p){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(r,s,d,p){return new w_(r,s,d,p)}function f5(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Xo(r,s){var d=r.alternate;return d===null?(d=Ar(r.tag,s,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=s,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,s=r.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function XD(r,s){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,s=d.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Jm(r,s,d,p,w,I){var j=0;if(p=r,typeof r=="function")f5(r)&&(j=1);else if(typeof r=="string")j=AM(r,d,re.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Ar(31,d,s,w),r.elementType=M,r.lanes=I,r;case y:return Yc(d.children,w,I,s);case v:j=8,w|=24;break;case D:return r=Ar(12,d,s,w|2),r.elementType=D,r.lanes=I,r;case R:return r=Ar(13,d,s,w),r.elementType=R,r.lanes=I,r;case E:return r=Ar(19,d,s,w),r.elementType=E,r.lanes=I,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case C:j=10;break e;case T:j=9;break e;case A:j=11;break e;case U:j=14;break e;case _:j=16,p=null;break e}j=29,d=Error(i(130,r===null?"null":typeof r,"")),p=null}return s=Ar(j,d,s,w),s.elementType=r,s.type=p,s.lanes=I,s}function Yc(r,s,d,p){return r=Ar(7,r,p,s),r.lanes=d,r}function g5(r,s,d){return r=Ar(6,r,null,s),r.lanes=d,r}function p5(r,s,d){return s=Ar(4,r.children!==null?r.children:[],r.key,s),s.lanes=d,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var K0=[],Z0=0,eS=null,tS=0,na=[],ia=0,Xc=null,Wo=1,$o="";function Wc(r,s){K0[Z0++]=tS,K0[Z0++]=eS,eS=r,tS=s}function WD(r,s,d){na[ia++]=Wo,na[ia++]=$o,na[ia++]=Xc,Xc=r;var p=Wo;r=$o;var w=32-je(p)-1;p&=~(1<<w),d+=1;var I=32-je(s)+w;if(30<I){var j=w-w%5;I=(p&(1<<j)-1).toString(32),p>>=j,w-=j,Wo=1<<32-je(s)+w|d<<w|p,$o=I+r}else Wo=1<<I|d<<w|p,$o=r}function m5(r){r.return!==null&&(Wc(r,1),WD(r,1,0))}function S5(r){for(;r===eS;)eS=K0[--Z0],K0[Z0]=null,tS=K0[--Z0],K0[Z0]=null;for(;r===Xc;)Xc=na[--ia],na[ia]=null,$o=na[--ia],na[ia]=null,Wo=na[--ia],na[ia]=null}var Bi=null,Tn=null,Ft=!1,$c=null,ho=!1,y5=Error(i(519));function Kc(r){var s=Error(i(418,""));throw n1(ea(s,r)),y5}function $D(r){var s=r.stateNode,d=r.type,p=r.memoizedProps;switch(s[Pi]=r,s[Ki]=p,d){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(d=0;d<A1.length;d++)Ct(A1[d],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),dD(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Gm(s);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),fD(s,p.value,p.defaultValue,p.children),Gm(s)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||s.textContent===""+d||p.suppressHydrationWarning===!0||fw(s.textContent,d)?(p.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),p.onScroll!=null&&Ct("scroll",s),p.onScrollEnd!=null&&Ct("scrollend",s),p.onClick!=null&&(s.onclick=FS),s=!0):s=!1,s||Kc(r)}function KD(r){for(Bi=r.return;Bi;)switch(Bi.tag){case 5:case 13:ho=!1;return;case 27:case 3:ho=!0;return;default:Bi=Bi.return}}function e1(r){if(r!==Bi)return!1;if(!Ft)return KD(r),Ft=!0,!1;var s=r.tag,d;if((d=s!==3&&s!==27)&&((d=s===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Mb(r.type,r.memoizedProps)),d=!d),d&&Tn&&Kc(r),KD(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(s===0){Tn=Va(r.nextSibling);break e}s--}else d!=="$"&&d!=="$!"&&d!=="$?"||s++;r=r.nextSibling}Tn=null}}else s===27?(s=Tn,Tl(r.type)?(r=Nb,Nb=null,Tn=r):Tn=s):Tn=Bi?Va(r.stateNode.nextSibling):null;return!0}function t1(){Tn=Bi=null,Ft=!1}function ZD(){var r=$c;return r!==null&&(tr===null?tr=r:tr.push.apply(tr,r),$c=null),r}function n1(r){$c===null?$c=[r]:$c.push(r)}var v5=Y(null),Zc=null,Ko=null;function ll(r,s,d){ee(v5,s._currentValue),s._currentValue=d}function Zo(r){r._currentValue=v5.current,$(v5)}function b5(r,s,d){for(;r!==null;){var p=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),r===d)break;r=r.return}}function C5(r,s,d,p){var w=r.child;for(w!==null&&(w.return=r);w!==null;){var I=w.dependencies;if(I!==null){var j=w.child;I=I.firstContext;e:for(;I!==null;){var K=I;I=w;for(var le=0;le<s.length;le++)if(K.context===s[le]){I.lanes|=d,K=I.alternate,K!==null&&(K.lanes|=d),b5(I.return,d,r),p||(j=null);break e}I=K.next}}else if(w.tag===18){if(j=w.return,j===null)throw Error(i(341));j.lanes|=d,I=j.alternate,I!==null&&(I.lanes|=d),b5(j,d,r),j=null}else j=w.child;if(j!==null)j.return=w;else for(j=w;j!==null;){if(j===r){j=null;break}if(w=j.sibling,w!==null){w.return=j.return,j=w;break}j=j.return}w=j}}function i1(r,s,d,p){r=null;for(var w=s,I=!1;w!==null;){if(!I){if((w.flags&524288)!==0)I=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var j=w.alternate;if(j===null)throw Error(i(387));if(j=j.memoizedProps,j!==null){var K=w.type;xr(w.pendingProps.value,j.value)||(r!==null?r.push(K):r=[K])}}else if(w===ne.current){if(j=w.alternate,j===null)throw Error(i(387));j.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(r!==null?r.push(E1):r=[E1])}w=w.return}r!==null&&C5(s,r,d,p),s.flags|=262144}function nS(r){for(r=r.firstContext;r!==null;){if(!xr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Jc(r){Zc=r,Ko=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Li(r){return JD(Zc,r)}function iS(r,s){return Zc===null&&Jc(r),JD(r,s)}function JD(r,s){var d=s._currentValue;if(s={context:s,memoizedValue:d,next:null},Ko===null){if(r===null)throw Error(i(308));Ko=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ko=Ko.next=s;return d}var x_=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(d,p){r.push(p)}};this.abort=function(){s.aborted=!0,r.forEach(function(d){return d()})}},A_=n.unstable_scheduleCallback,R_=n.unstable_NormalPriority,ri={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D5(){return{controller:new x_,data:new Map,refCount:0}}function r1(r){r.refCount--,r.refCount===0&&A_(R_,function(){r.controller.abort()})}var a1=null,T5=0,J0=0,ed=null;function O_(r,s){if(a1===null){var d=a1=[];T5=0,J0=xb(),ed={status:"pending",value:void 0,then:function(p){d.push(p)}}}return T5++,s.then(e8,e8),s}function e8(){if(--T5===0&&a1!==null){ed!==null&&(ed.status="fulfilled");var r=a1;a1=null,J0=0,ed=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function P_(r,s){var d=[],p={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return r.then(function(){p.status="fulfilled",p.value=s;for(var w=0;w<d.length;w++)(0,d[w])(s)},function(w){for(p.status="rejected",p.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),p}var t8=k.S;k.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&O_(r,s),t8!==null&&t8(r,s)};var eu=Y(null);function w5(){var r=eu.current;return r!==null?r:tn.pooledCache}function rS(r,s){s===null?ee(eu,eu.current):ee(eu,s.pool)}function n8(){var r=w5();return r===null?null:{parent:ri._currentValue,pool:r}}var o1=Error(i(460)),i8=Error(i(474)),aS=Error(i(542)),x5={then:function(){}};function r8(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oS(){}function a8(r,s,d){switch(d=r[d],d===void 0?r.push(s):d!==s&&(s.then(oS,oS),s=d),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,s8(r),r;default:if(typeof s.status=="string")s.then(oS,oS);else{if(r=tn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(p){if(s.status==="pending"){var w=s;w.status="fulfilled",w.value=p}},function(p){if(s.status==="pending"){var w=s;w.status="rejected",w.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,s8(r),r}throw s1=s,o1}}var s1=null;function o8(){if(s1===null)throw Error(i(459));var r=s1;return s1=null,r}function s8(r){if(r===o1||r===aS)throw Error(i(483))}var cl=!1;function A5(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function R5(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ul(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function dl(r,s,d){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Bt&2)!==0){var w=p.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),p.pending=s,s=Zm(r),YD(r,null,d),s}return Km(r,p,s,d),Zm(r)}function l1(r,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194048)!==0)){var p=s.lanes;p&=r.pendingLanes,d|=p,s.lanes=d,Vc(r,d)}}function O5(r,s){var d=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var w=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var j={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};I===null?w=I=j:I=I.next=j,d=d.next}while(d!==null);I===null?w=I=s:I=I.next=s}else w=I=s;d={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:I,shared:p.shared,callbacks:p.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=s:r.next=s,d.lastBaseUpdate=s}var P5=!1;function c1(){if(P5){var r=ed;if(r!==null)throw r}}function u1(r,s,d,p){P5=!1;var w=r.updateQueue;cl=!1;var I=w.firstBaseUpdate,j=w.lastBaseUpdate,K=w.shared.pending;if(K!==null){w.shared.pending=null;var le=K,be=le.next;le.next=null,j===null?I=be:j.next=be,j=le;var Ie=r.alternate;Ie!==null&&(Ie=Ie.updateQueue,K=Ie.lastBaseUpdate,K!==j&&(K===null?Ie.firstBaseUpdate=be:K.next=be,Ie.lastBaseUpdate=le))}if(I!==null){var Me=w.baseState;j=0,Ie=be=le=null,K=I;do{var De=K.lane&-536870913,Te=De!==K.lane;if(Te?(Rt&De)===De:(p&De)===De){De!==0&&De===J0&&(P5=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var rt=r,Je=K;De=s;var jt=d;switch(Je.tag){case 1:if(rt=Je.payload,typeof rt=="function"){Me=rt.call(jt,Me,De);break e}Me=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=Je.payload,De=typeof rt=="function"?rt.call(jt,Me,De):rt,De==null)break e;Me=g({},Me,De);break e;case 2:cl=!0}}De=K.callback,De!==null&&(r.flags|=64,Te&&(r.flags|=8192),Te=w.callbacks,Te===null?w.callbacks=[De]:Te.push(De))}else Te={lane:De,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ie===null?(be=Ie=Te,le=Me):Ie=Ie.next=Te,j|=De;if(K=K.next,K===null){if(K=w.shared.pending,K===null)break;Te=K,K=Te.next,Te.next=null,w.lastBaseUpdate=Te,w.shared.pending=null}}while(!0);Ie===null&&(le=Me),w.baseState=le,w.firstBaseUpdate=be,w.lastBaseUpdate=Ie,I===null&&(w.shared.lanes=0),vl|=j,r.lanes=j,r.memoizedState=Me}}function l8(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function c8(r,s){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)l8(d[r],s)}var td=Y(null),sS=Y(0);function u8(r,s){r=as,ee(sS,r),ee(td,s),as=r|s.baseLanes}function L5(){ee(sS,as),ee(td,td.current)}function I5(){as=sS.current,$(td),$(sS)}var hl=0,dt=null,Qt=null,Hn=null,lS=!1,nd=!1,tu=!1,cS=0,d1=0,id=null,L_=0;function kn(){throw Error(i(321))}function E5(r,s){if(s===null)return!1;for(var d=0;d<s.length&&d<r.length;d++)if(!xr(r[d],s[d]))return!1;return!0}function _5(r,s,d,p,w,I){return hl=I,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,k.H=r===null||r.memoizedState===null?Y8:X8,tu=!1,I=d(p,w),tu=!1,nd&&(I=h8(s,d,p,w)),d8(r),I}function d8(r){k.H=pS;var s=Qt!==null&&Qt.next!==null;if(hl=0,Hn=Qt=dt=null,lS=!1,d1=0,id=null,s)throw Error(i(300));r===null||hi||(r=r.dependencies,r!==null&&nS(r)&&(hi=!0))}function h8(r,s,d,p){dt=r;var w=0;do{if(nd&&(id=null),d1=0,nd=!1,25<=w)throw Error(i(301));if(w+=1,Hn=Qt=null,r.updateQueue!=null){var I=r.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}k.H=U_,I=s(d,p)}while(nd);return I}function I_(){var r=k.H,s=r.useState()[0];return s=typeof s.then=="function"?h1(s):s,r=r.useState()[0],(Qt!==null?Qt.memoizedState:null)!==r&&(dt.flags|=1024),s}function M5(){var r=cS!==0;return cS=0,r}function F5(r,s,d){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d}function k5(r){if(lS){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lS=!1}hl=0,Hn=Qt=dt=null,nd=!1,d1=cS=0,id=null}function Ji(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?dt.memoizedState=Hn=r:Hn=Hn.next=r,Hn}function jn(){if(Qt===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=Qt.next;var s=Hn===null?dt.memoizedState:Hn.next;if(s!==null)Hn=s,Qt=r;else{if(r===null)throw dt.alternate===null?Error(i(467)):Error(i(310));Qt=r,r={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Hn===null?dt.memoizedState=Hn=r:Hn=Hn.next=r}return Hn}function U5(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function h1(r){var s=d1;return d1+=1,id===null&&(id=[]),r=a8(id,r,s),s=dt,(Hn===null?s.memoizedState:Hn.next)===null&&(s=s.alternate,k.H=s===null||s.memoizedState===null?Y8:X8),r}function uS(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return h1(r);if(r.$$typeof===C)return Li(r)}throw Error(i(438,String(r)))}function N5(r){var s=null,d=dt.updateQueue;if(d!==null&&(s=d.memoCache),s==null){var p=dt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(w){return w.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),d===null&&(d=U5(),dt.updateQueue=d),d.memoCache=s,d=s.data[s.index],d===void 0)for(d=s.data[s.index]=Array(r),p=0;p<r;p++)d[p]=P;return s.index++,d}function Jo(r,s){return typeof s=="function"?s(r):s}function dS(r){var s=jn();return q5(s,Qt,r)}function q5(r,s,d){var p=r.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=d;var w=r.baseQueue,I=p.pending;if(I!==null){if(w!==null){var j=w.next;w.next=I.next,I.next=j}s.baseQueue=w=I,p.pending=null}if(I=r.baseState,w===null)r.memoizedState=I;else{s=w.next;var K=j=null,le=null,be=s,Ie=!1;do{var Me=be.lane&-536870913;if(Me!==be.lane?(Rt&Me)===Me:(hl&Me)===Me){var De=be.revertLane;if(De===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null}),Me===J0&&(Ie=!0);else if((hl&De)===De){be=be.next,De===J0&&(Ie=!0);continue}else Me={lane:0,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(K=le=Me,j=I):le=le.next=Me,dt.lanes|=De,vl|=De;Me=be.action,tu&&d(I,Me),I=be.hasEagerState?be.eagerState:d(I,Me)}else De={lane:Me,revertLane:be.revertLane,action:be.action,hasEagerState:be.hasEagerState,eagerState:be.eagerState,next:null},le===null?(K=le=De,j=I):le=le.next=De,dt.lanes|=Me,vl|=Me;be=be.next}while(be!==null&&be!==s);if(le===null?j=I:le.next=K,!xr(I,r.memoizedState)&&(hi=!0,Ie&&(d=ed,d!==null)))throw d;r.memoizedState=I,r.baseState=j,r.baseQueue=le,p.lastRenderedState=I}return w===null&&(p.lanes=0),[r.memoizedState,p.dispatch]}function B5(r){var s=jn(),d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=r;var p=d.dispatch,w=d.pending,I=s.memoizedState;if(w!==null){d.pending=null;var j=w=w.next;do I=r(I,j.action),j=j.next;while(j!==w);xr(I,s.memoizedState)||(hi=!0),s.memoizedState=I,s.baseQueue===null&&(s.baseState=I),d.lastRenderedState=I}return[I,p]}function f8(r,s,d){var p=dt,w=jn(),I=Ft;if(I){if(d===void 0)throw Error(i(407));d=d()}else d=s();var j=!xr((Qt||w).memoizedState,d);j&&(w.memoizedState=d,hi=!0),w=w.queue;var K=m8.bind(null,p,w,r);if(f1(2048,8,K,[r]),w.getSnapshot!==s||j||Hn!==null&&Hn.memoizedState.tag&1){if(p.flags|=2048,rd(9,hS(),p8.bind(null,p,w,d,s),null),tn===null)throw Error(i(349));I||(hl&124)!==0||g8(p,s,d)}return d}function g8(r,s,d){r.flags|=16384,r={getSnapshot:s,value:d},s=dt.updateQueue,s===null?(s=U5(),dt.updateQueue=s,s.stores=[r]):(d=s.stores,d===null?s.stores=[r]:d.push(r))}function p8(r,s,d,p){s.value=d,s.getSnapshot=p,S8(s)&&y8(r)}function m8(r,s,d){return d(function(){S8(s)&&y8(r)})}function S8(r){var s=r.getSnapshot;r=r.value;try{var d=s();return!xr(r,d)}catch{return!0}}function y8(r){var s=W0(r,2);s!==null&&Ir(s,r,2)}function G5(r){var s=Ji();if(typeof r=="function"){var d=r;if(r=d(),tu){qe(!0);try{d()}finally{qe(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:r},s}function v8(r,s,d,p){return r.baseState=d,q5(r,Qt,typeof p=="function"?p:Jo)}function E_(r,s,d,p,w){if(gS(r))throw Error(i(485));if(r=s.action,r!==null){var I={payload:w,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){I.listeners.push(j)}};k.T!==null?d(!0):I.isTransition=!1,p(I),d=s.pending,d===null?(I.next=s.pending=I,b8(s,I)):(I.next=d.next,s.pending=d.next=I)}}function b8(r,s){var d=s.action,p=s.payload,w=r.state;if(s.isTransition){var I=k.T,j={};k.T=j;try{var K=d(w,p),le=k.S;le!==null&&le(j,K),C8(r,s,K)}catch(be){V5(r,s,be)}finally{k.T=I}}else try{I=d(w,p),C8(r,s,I)}catch(be){V5(r,s,be)}}function C8(r,s,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){D8(r,s,p)},function(p){return V5(r,s,p)}):D8(r,s,d)}function D8(r,s,d){s.status="fulfilled",s.value=d,T8(s),r.state=d,s=r.pending,s!==null&&(d=s.next,d===s?r.pending=null:(d=d.next,s.next=d,b8(r,d)))}function V5(r,s,d){var p=r.pending;if(r.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=d,T8(s),s=s.next;while(s!==p)}r.action=null}function T8(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function w8(r,s){return s}function x8(r,s){if(Ft){var d=tn.formState;if(d!==null){e:{var p=dt;if(Ft){if(Tn){t:{for(var w=Tn,I=ho;w.nodeType!==8;){if(!I){w=null;break t}if(w=Va(w.nextSibling),w===null){w=null;break t}}I=w.data,w=I==="F!"||I==="F"?w:null}if(w){Tn=Va(w.nextSibling),p=w.data==="F!";break e}}Kc(p)}p=!1}p&&(s=d[0])}}return d=Ji(),d.memoizedState=d.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w8,lastRenderedState:s},d.queue=p,d=Q8.bind(null,dt,p),p.dispatch=d,p=G5(!1),I=Y5.bind(null,dt,!1,p.queue),p=Ji(),w={state:s,dispatch:null,action:r,pending:null},p.queue=w,d=E_.bind(null,dt,w,I,d),w.dispatch=d,p.memoizedState=r,[s,d,!1]}function A8(r){var s=jn();return R8(s,Qt,r)}function R8(r,s,d){if(s=q5(r,s,w8)[0],r=dS(Jo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=h1(s)}catch(j){throw j===o1?aS:j}else p=s;s=jn();var w=s.queue,I=w.dispatch;return d!==s.memoizedState&&(dt.flags|=2048,rd(9,hS(),__.bind(null,w,d),null)),[p,I,r]}function __(r,s){r.action=s}function O8(r){var s=jn(),d=Qt;if(d!==null)return R8(s,d,r);jn(),s=s.memoizedState,d=jn();var p=d.queue.dispatch;return d.memoizedState=r,[s,p,!1]}function rd(r,s,d,p){return r={tag:r,create:d,deps:p,inst:s,next:null},s=dt.updateQueue,s===null&&(s=U5(),dt.updateQueue=s),d=s.lastEffect,d===null?s.lastEffect=r.next=r:(p=d.next,d.next=r,r.next=p,s.lastEffect=r),r}function hS(){return{destroy:void 0,resource:void 0}}function P8(){return jn().memoizedState}function fS(r,s,d,p){var w=Ji();p=p===void 0?null:p,dt.flags|=r,w.memoizedState=rd(1|s,hS(),d,p)}function f1(r,s,d,p){var w=jn();p=p===void 0?null:p;var I=w.memoizedState.inst;Qt!==null&&p!==null&&E5(p,Qt.memoizedState.deps)?w.memoizedState=rd(s,I,d,p):(dt.flags|=r,w.memoizedState=rd(1|s,I,d,p))}function L8(r,s){fS(8390656,8,r,s)}function I8(r,s){f1(2048,8,r,s)}function E8(r,s){return f1(4,2,r,s)}function _8(r,s){return f1(4,4,r,s)}function M8(r,s){if(typeof s=="function"){r=r();var d=s(r);return function(){typeof d=="function"?d():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function F8(r,s,d){d=d!=null?d.concat([r]):null,f1(4,4,M8.bind(null,s,r),d)}function z5(){}function k8(r,s){var d=jn();s=s===void 0?null:s;var p=d.memoizedState;return s!==null&&E5(s,p[1])?p[0]:(d.memoizedState=[r,s],r)}function U8(r,s){var d=jn();s=s===void 0?null:s;var p=d.memoizedState;if(s!==null&&E5(s,p[1]))return p[0];if(p=r(),tu){qe(!0);try{r()}finally{qe(!1)}}return d.memoizedState=[p,s],p}function Q5(r,s,d){return d===void 0||(hl&1073741824)!==0?r.memoizedState=s:(r.memoizedState=d,r=BT(),dt.lanes|=r,vl|=r,d)}function N8(r,s,d,p){return xr(d,s)?d:td.current!==null?(r=Q5(r,d,p),xr(r,s)||(hi=!0),r):(hl&42)===0?(hi=!0,r.memoizedState=d):(r=BT(),dt.lanes|=r,vl|=r,s)}function q8(r,s,d,p,w){var I=G.p;G.p=I!==0&&8>I?I:8;var j=k.T,K={};k.T=K,Y5(r,!1,s,d);try{var le=w(),be=k.S;if(be!==null&&be(K,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Ie=P_(le,p);g1(r,s,Ie,Lr(r))}else g1(r,s,p,Lr(r))}catch(Me){g1(r,s,{then:function(){},status:"rejected",reason:Me},Lr())}finally{G.p=I,k.T=j}}function M_(){}function H5(r,s,d,p){if(r.tag!==5)throw Error(i(476));var w=B8(r).queue;q8(r,w,s,W,d===null?M_:function(){return G8(r),d(p)})}function B8(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:W},next:null};var d={};return s.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:d},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function G8(r){var s=B8(r).next.queue;g1(r,s,{},Lr())}function j5(){return Li(E1)}function V8(){return jn().memoizedState}function z8(){return jn().memoizedState}function F_(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var d=Lr();r=ul(d);var p=dl(s,r,d);p!==null&&(Ir(p,s,d),l1(p,s,d)),s={cache:D5()},r.payload=s;return}s=s.return}}function k_(r,s,d){var p=Lr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},gS(r)?H8(s,d):(d=h5(r,s,d,p),d!==null&&(Ir(d,r,p),j8(d,s,p)))}function Q8(r,s,d){var p=Lr();g1(r,s,d,p)}function g1(r,s,d,p){var w={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(gS(r))H8(s,w);else{var I=r.alternate;if(r.lanes===0&&(I===null||I.lanes===0)&&(I=s.lastRenderedReducer,I!==null))try{var j=s.lastRenderedState,K=I(j,d);if(w.hasEagerState=!0,w.eagerState=K,xr(K,j))return Km(r,s,w,0),tn===null&&$m(),!1}catch{}finally{}if(d=h5(r,s,w,p),d!==null)return Ir(d,r,p),j8(d,s,p),!0}return!1}function Y5(r,s,d,p){if(p={lane:2,revertLane:xb(),action:p,hasEagerState:!1,eagerState:null,next:null},gS(r)){if(s)throw Error(i(479))}else s=h5(r,d,p,2),s!==null&&Ir(s,r,2)}function gS(r){var s=r.alternate;return r===dt||s!==null&&s===dt}function H8(r,s){nd=lS=!0;var d=r.pending;d===null?s.next=s:(s.next=d.next,d.next=s),r.pending=s}function j8(r,s,d){if((d&4194048)!==0){var p=s.lanes;p&=r.pendingLanes,d|=p,s.lanes=d,Vc(r,d)}}var pS={readContext:Li,use:uS,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn,useHostTransitionStatus:kn,useFormState:kn,useActionState:kn,useOptimistic:kn,useMemoCache:kn,useCacheRefresh:kn},Y8={readContext:Li,use:uS,useCallback:function(r,s){return Ji().memoizedState=[r,s===void 0?null:s],r},useContext:Li,useEffect:L8,useImperativeHandle:function(r,s,d){d=d!=null?d.concat([r]):null,fS(4194308,4,M8.bind(null,s,r),d)},useLayoutEffect:function(r,s){return fS(4194308,4,r,s)},useInsertionEffect:function(r,s){fS(4,2,r,s)},useMemo:function(r,s){var d=Ji();s=s===void 0?null:s;var p=r();if(tu){qe(!0);try{r()}finally{qe(!1)}}return d.memoizedState=[p,s],p},useReducer:function(r,s,d){var p=Ji();if(d!==void 0){var w=d(s);if(tu){qe(!0);try{d(s)}finally{qe(!1)}}}else w=s;return p.memoizedState=p.baseState=w,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:w},p.queue=r,r=r.dispatch=k_.bind(null,dt,r),[p.memoizedState,r]},useRef:function(r){var s=Ji();return r={current:r},s.memoizedState=r},useState:function(r){r=G5(r);var s=r.queue,d=Q8.bind(null,dt,s);return s.dispatch=d,[r.memoizedState,d]},useDebugValue:z5,useDeferredValue:function(r,s){var d=Ji();return Q5(d,r,s)},useTransition:function(){var r=G5(!1);return r=q8.bind(null,dt,r.queue,!0,!1),Ji().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,d){var p=dt,w=Ji();if(Ft){if(d===void 0)throw Error(i(407));d=d()}else{if(d=s(),tn===null)throw Error(i(349));(Rt&124)!==0||g8(p,s,d)}w.memoizedState=d;var I={value:d,getSnapshot:s};return w.queue=I,L8(m8.bind(null,p,I,r),[r]),p.flags|=2048,rd(9,hS(),p8.bind(null,p,I,d,s),null),d},useId:function(){var r=Ji(),s=tn.identifierPrefix;if(Ft){var d=$o,p=Wo;d=(p&~(1<<32-je(p)-1)).toString(32)+d,s="«"+s+"R"+d,d=cS++,0<d&&(s+="H"+d.toString(32)),s+="»"}else d=L_++,s="«"+s+"r"+d.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:j5,useFormState:x8,useActionState:x8,useOptimistic:function(r){var s=Ji();s.memoizedState=s.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=d,s=Y5.bind(null,dt,!0,d),d.dispatch=s,[r,s]},useMemoCache:N5,useCacheRefresh:function(){return Ji().memoizedState=F_.bind(null,dt)}},X8={readContext:Li,use:uS,useCallback:k8,useContext:Li,useEffect:I8,useImperativeHandle:F8,useInsertionEffect:E8,useLayoutEffect:_8,useMemo:U8,useReducer:dS,useRef:P8,useState:function(){return dS(Jo)},useDebugValue:z5,useDeferredValue:function(r,s){var d=jn();return N8(d,Qt.memoizedState,r,s)},useTransition:function(){var r=dS(Jo)[0],s=jn().memoizedState;return[typeof r=="boolean"?r:h1(r),s]},useSyncExternalStore:f8,useId:V8,useHostTransitionStatus:j5,useFormState:A8,useActionState:A8,useOptimistic:function(r,s){var d=jn();return v8(d,Qt,r,s)},useMemoCache:N5,useCacheRefresh:z8},U_={readContext:Li,use:uS,useCallback:k8,useContext:Li,useEffect:I8,useImperativeHandle:F8,useInsertionEffect:E8,useLayoutEffect:_8,useMemo:U8,useReducer:B5,useRef:P8,useState:function(){return B5(Jo)},useDebugValue:z5,useDeferredValue:function(r,s){var d=jn();return Qt===null?Q5(d,r,s):N8(d,Qt.memoizedState,r,s)},useTransition:function(){var r=B5(Jo)[0],s=jn().memoizedState;return[typeof r=="boolean"?r:h1(r),s]},useSyncExternalStore:f8,useId:V8,useHostTransitionStatus:j5,useFormState:O8,useActionState:O8,useOptimistic:function(r,s){var d=jn();return Qt!==null?v8(d,Qt,r,s):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:N5,useCacheRefresh:z8},ad=null,p1=0;function mS(r){var s=p1;return p1+=1,ad===null&&(ad=[]),a8(ad,r,s)}function m1(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function SS(r,s){throw s.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function W8(r){var s=r._init;return s(r._payload)}function $8(r){function s(Se,de){if(r){var ve=Se.deletions;ve===null?(Se.deletions=[de],Se.flags|=16):ve.push(de)}}function d(Se,de){if(!r)return null;for(;de!==null;)s(Se,de),de=de.sibling;return null}function p(Se){for(var de=new Map;Se!==null;)Se.key!==null?de.set(Se.key,Se):de.set(Se.index,Se),Se=Se.sibling;return de}function w(Se,de){return Se=Xo(Se,de),Se.index=0,Se.sibling=null,Se}function I(Se,de,ve){return Se.index=ve,r?(ve=Se.alternate,ve!==null?(ve=ve.index,ve<de?(Se.flags|=67108866,de):ve):(Se.flags|=67108866,de)):(Se.flags|=1048576,de)}function j(Se){return r&&Se.alternate===null&&(Se.flags|=67108866),Se}function K(Se,de,ve,_e){return de===null||de.tag!==6?(de=g5(ve,Se.mode,_e),de.return=Se,de):(de=w(de,ve),de.return=Se,de)}function le(Se,de,ve,_e){var Ye=ve.type;return Ye===y?Ie(Se,de,ve.props.children,_e,ve.key):de!==null&&(de.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===_&&W8(Ye)===de.type)?(de=w(de,ve.props),m1(de,ve),de.return=Se,de):(de=Jm(ve.type,ve.key,ve.props,null,Se.mode,_e),m1(de,ve),de.return=Se,de)}function be(Se,de,ve,_e){return de===null||de.tag!==4||de.stateNode.containerInfo!==ve.containerInfo||de.stateNode.implementation!==ve.implementation?(de=p5(ve,Se.mode,_e),de.return=Se,de):(de=w(de,ve.children||[]),de.return=Se,de)}function Ie(Se,de,ve,_e,Ye){return de===null||de.tag!==7?(de=Yc(ve,Se.mode,_e,Ye),de.return=Se,de):(de=w(de,ve),de.return=Se,de)}function Me(Se,de,ve){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=g5(""+de,Se.mode,ve),de.return=Se,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return ve=Jm(de.type,de.key,de.props,null,Se.mode,ve),m1(ve,de),ve.return=Se,ve;case m:return de=p5(de,Se.mode,ve),de.return=Se,de;case _:var _e=de._init;return de=_e(de._payload),Me(Se,de,ve)}if(F(de)||N(de))return de=Yc(de,Se.mode,ve,null),de.return=Se,de;if(typeof de.then=="function")return Me(Se,mS(de),ve);if(de.$$typeof===C)return Me(Se,iS(Se,de),ve);SS(Se,de)}return null}function De(Se,de,ve,_e){var Ye=de!==null?de.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return Ye!==null?null:K(Se,de,""+ve,_e);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return ve.key===Ye?le(Se,de,ve,_e):null;case m:return ve.key===Ye?be(Se,de,ve,_e):null;case _:return Ye=ve._init,ve=Ye(ve._payload),De(Se,de,ve,_e)}if(F(ve)||N(ve))return Ye!==null?null:Ie(Se,de,ve,_e,null);if(typeof ve.then=="function")return De(Se,de,mS(ve),_e);if(ve.$$typeof===C)return De(Se,de,iS(Se,ve),_e);SS(Se,ve)}return null}function Te(Se,de,ve,_e,Ye){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return Se=Se.get(ve)||null,K(de,Se,""+_e,Ye);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case b:return Se=Se.get(_e.key===null?ve:_e.key)||null,le(de,Se,_e,Ye);case m:return Se=Se.get(_e.key===null?ve:_e.key)||null,be(de,Se,_e,Ye);case _:var St=_e._init;return _e=St(_e._payload),Te(Se,de,ve,_e,Ye)}if(F(_e)||N(_e))return Se=Se.get(ve)||null,Ie(de,Se,_e,Ye,null);if(typeof _e.then=="function")return Te(Se,de,ve,mS(_e),Ye);if(_e.$$typeof===C)return Te(Se,de,ve,iS(de,_e),Ye);SS(de,_e)}return null}function rt(Se,de,ve,_e){for(var Ye=null,St=null,Ze=de,tt=de=0,gi=null;Ze!==null&&tt<ve.length;tt++){Ze.index>tt?(gi=Ze,Ze=null):gi=Ze.sibling;var It=De(Se,Ze,ve[tt],_e);if(It===null){Ze===null&&(Ze=gi);break}r&&Ze&&It.alternate===null&&s(Se,Ze),de=I(It,de,tt),St===null?Ye=It:St.sibling=It,St=It,Ze=gi}if(tt===ve.length)return d(Se,Ze),Ft&&Wc(Se,tt),Ye;if(Ze===null){for(;tt<ve.length;tt++)Ze=Me(Se,ve[tt],_e),Ze!==null&&(de=I(Ze,de,tt),St===null?Ye=Ze:St.sibling=Ze,St=Ze);return Ft&&Wc(Se,tt),Ye}for(Ze=p(Ze);tt<ve.length;tt++)gi=Te(Ze,Se,tt,ve[tt],_e),gi!==null&&(r&&gi.alternate!==null&&Ze.delete(gi.key===null?tt:gi.key),de=I(gi,de,tt),St===null?Ye=gi:St.sibling=gi,St=gi);return r&&Ze.forEach(function(Ol){return s(Se,Ol)}),Ft&&Wc(Se,tt),Ye}function Je(Se,de,ve,_e){if(ve==null)throw Error(i(151));for(var Ye=null,St=null,Ze=de,tt=de=0,gi=null,It=ve.next();Ze!==null&&!It.done;tt++,It=ve.next()){Ze.index>tt?(gi=Ze,Ze=null):gi=Ze.sibling;var Ol=De(Se,Ze,It.value,_e);if(Ol===null){Ze===null&&(Ze=gi);break}r&&Ze&&Ol.alternate===null&&s(Se,Ze),de=I(Ol,de,tt),St===null?Ye=Ol:St.sibling=Ol,St=Ol,Ze=gi}if(It.done)return d(Se,Ze),Ft&&Wc(Se,tt),Ye;if(Ze===null){for(;!It.done;tt++,It=ve.next())It=Me(Se,It.value,_e),It!==null&&(de=I(It,de,tt),St===null?Ye=It:St.sibling=It,St=It);return Ft&&Wc(Se,tt),Ye}for(Ze=p(Ze);!It.done;tt++,It=ve.next())It=Te(Ze,Se,tt,It.value,_e),It!==null&&(r&&It.alternate!==null&&Ze.delete(It.key===null?tt:It.key),de=I(It,de,tt),St===null?Ye=It:St.sibling=It,St=It);return r&&Ze.forEach(function(NM){return s(Se,NM)}),Ft&&Wc(Se,tt),Ye}function jt(Se,de,ve,_e){if(typeof ve=="object"&&ve!==null&&ve.type===y&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:e:{for(var Ye=ve.key;de!==null;){if(de.key===Ye){if(Ye=ve.type,Ye===y){if(de.tag===7){d(Se,de.sibling),_e=w(de,ve.props.children),_e.return=Se,Se=_e;break e}}else if(de.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===_&&W8(Ye)===de.type){d(Se,de.sibling),_e=w(de,ve.props),m1(_e,ve),_e.return=Se,Se=_e;break e}d(Se,de);break}else s(Se,de);de=de.sibling}ve.type===y?(_e=Yc(ve.props.children,Se.mode,_e,ve.key),_e.return=Se,Se=_e):(_e=Jm(ve.type,ve.key,ve.props,null,Se.mode,_e),m1(_e,ve),_e.return=Se,Se=_e)}return j(Se);case m:e:{for(Ye=ve.key;de!==null;){if(de.key===Ye)if(de.tag===4&&de.stateNode.containerInfo===ve.containerInfo&&de.stateNode.implementation===ve.implementation){d(Se,de.sibling),_e=w(de,ve.children||[]),_e.return=Se,Se=_e;break e}else{d(Se,de);break}else s(Se,de);de=de.sibling}_e=p5(ve,Se.mode,_e),_e.return=Se,Se=_e}return j(Se);case _:return Ye=ve._init,ve=Ye(ve._payload),jt(Se,de,ve,_e)}if(F(ve))return rt(Se,de,ve,_e);if(N(ve)){if(Ye=N(ve),typeof Ye!="function")throw Error(i(150));return ve=Ye.call(ve),Je(Se,de,ve,_e)}if(typeof ve.then=="function")return jt(Se,de,mS(ve),_e);if(ve.$$typeof===C)return jt(Se,de,iS(Se,ve),_e);SS(Se,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,de!==null&&de.tag===6?(d(Se,de.sibling),_e=w(de,ve),_e.return=Se,Se=_e):(d(Se,de),_e=g5(ve,Se.mode,_e),_e.return=Se,Se=_e),j(Se)):d(Se,de)}return function(Se,de,ve,_e){try{p1=0;var Ye=jt(Se,de,ve,_e);return ad=null,Ye}catch(Ze){if(Ze===o1||Ze===aS)throw Ze;var St=Ar(29,Ze,null,Se.mode);return St.lanes=_e,St.return=Se,St}finally{}}}var od=$8(!0),K8=$8(!1),ra=Y(null),fo=null;function fl(r){var s=r.alternate;ee(ai,ai.current&1),ee(ra,r),fo===null&&(s===null||td.current!==null||s.memoizedState!==null)&&(fo=r)}function Z8(r){if(r.tag===22){if(ee(ai,ai.current),ee(ra,r),fo===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(fo=r)}}else gl()}function gl(){ee(ai,ai.current),ee(ra,ra.current)}function es(r){$(ra),fo===r&&(fo=null),$(ai)}var ai=Y(0);function yS(r){for(var s=r;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Ub(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function X5(r,s,d,p){s=r.memoizedState,d=d(p,s),d=d==null?s:g({},s,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var W5={enqueueSetState:function(r,s,d){r=r._reactInternals;var p=Lr(),w=ul(p);w.payload=s,d!=null&&(w.callback=d),s=dl(r,w,p),s!==null&&(Ir(s,r,p),l1(s,r,p))},enqueueReplaceState:function(r,s,d){r=r._reactInternals;var p=Lr(),w=ul(p);w.tag=1,w.payload=s,d!=null&&(w.callback=d),s=dl(r,w,p),s!==null&&(Ir(s,r,p),l1(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var d=Lr(),p=ul(d);p.tag=2,s!=null&&(p.callback=s),s=dl(r,p,d),s!==null&&(Ir(s,r,d),l1(s,r,d))}};function J8(r,s,d,p,w,I,j){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,I,j):s.prototype&&s.prototype.isPureReactComponent?!Zf(d,p)||!Zf(w,I):!0}function eT(r,s,d,p){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,p),s.state!==r&&W5.enqueueReplaceState(s,s.state,null)}function nu(r,s){var d=s;if("ref"in s){d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}if(r=r.defaultProps){d===s&&(d=g({},d));for(var w in r)d[w]===void 0&&(d[w]=r[w])}return d}var vS=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function tT(r){vS(r)}function nT(r){console.error(r)}function iT(r){vS(r)}function bS(r,s){try{var d=r.onUncaughtError;d(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function rT(r,s,d){try{var p=r.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function $5(r,s,d){return d=ul(d),d.tag=3,d.payload={element:null},d.callback=function(){bS(r,s)},d}function aT(r){return r=ul(r),r.tag=3,r}function oT(r,s,d,p){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var I=p.value;r.payload=function(){return w(I)},r.callback=function(){rT(s,d,p)}}var j=d.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(r.callback=function(){rT(s,d,p),typeof w!="function"&&(bl===null?bl=new Set([this]):bl.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})})}function N_(r,s,d,p,w){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=d.alternate,s!==null&&i1(s,d,w,!0),d=ra.current,d!==null){switch(d.tag){case 13:return fo===null?bb():d.alternate===null&&wn===0&&(wn=3),d.flags&=-257,d.flags|=65536,d.lanes=w,p===x5?d.flags|=16384:(s=d.updateQueue,s===null?d.updateQueue=new Set([p]):s.add(p),Db(r,p,w)),!1;case 22:return d.flags|=65536,p===x5?d.flags|=16384:(s=d.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=s):(d=s.retryQueue,d===null?s.retryQueue=new Set([p]):d.add(p)),Db(r,p,w)),!1}throw Error(i(435,d.tag))}return Db(r,p,w),bb(),!1}if(Ft)return s=ra.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=w,p!==y5&&(r=Error(i(422),{cause:p}),n1(ea(r,d)))):(p!==y5&&(s=Error(i(423),{cause:p}),n1(ea(s,d))),r=r.current.alternate,r.flags|=65536,w&=-w,r.lanes|=w,p=ea(p,d),w=$5(r.stateNode,p,w),O5(r,w),wn!==4&&(wn=2)),!1;var I=Error(i(520),{cause:p});if(I=ea(I,d),T1===null?T1=[I]:T1.push(I),wn!==4&&(wn=2),s===null)return!0;p=ea(p,d),d=s;do{switch(d.tag){case 3:return d.flags|=65536,r=w&-w,d.lanes|=r,r=$5(d.stateNode,p,r),O5(d,r),!1;case 1:if(s=d.type,I=d.stateNode,(d.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(bl===null||!bl.has(I))))return d.flags|=65536,w&=-w,d.lanes|=w,w=aT(w),oT(w,r,d,p),O5(d,w),!1}d=d.return}while(d!==null);return!1}var sT=Error(i(461)),hi=!1;function vi(r,s,d,p){s.child=r===null?K8(s,null,d,p):od(s,r.child,d,p)}function lT(r,s,d,p,w){d=d.render;var I=s.ref;if("ref"in p){var j={};for(var K in p)K!=="ref"&&(j[K]=p[K])}else j=p;return Jc(s),p=_5(r,s,d,j,I,w),K=M5(),r!==null&&!hi?(F5(r,s,w),ts(r,s,w)):(Ft&&K&&m5(s),s.flags|=1,vi(r,s,p,w),s.child)}function cT(r,s,d,p,w){if(r===null){var I=d.type;return typeof I=="function"&&!f5(I)&&I.defaultProps===void 0&&d.compare===null?(s.tag=15,s.type=I,uT(r,s,I,p,w)):(r=Jm(d.type,null,p,s,s.mode,w),r.ref=s.ref,r.return=s,s.child=r)}if(I=r.child,!rb(r,w)){var j=I.memoizedProps;if(d=d.compare,d=d!==null?d:Zf,d(j,p)&&r.ref===s.ref)return ts(r,s,w)}return s.flags|=1,r=Xo(I,p),r.ref=s.ref,r.return=s,s.child=r}function uT(r,s,d,p,w){if(r!==null){var I=r.memoizedProps;if(Zf(I,p)&&r.ref===s.ref)if(hi=!1,s.pendingProps=p=I,rb(r,w))(r.flags&131072)!==0&&(hi=!0);else return s.lanes=r.lanes,ts(r,s,w)}return K5(r,s,d,p,w)}function dT(r,s,d){var p=s.pendingProps,w=p.children,I=r!==null?r.memoizedState:null;if(p.mode==="hidden"){if((s.flags&128)!==0){if(p=I!==null?I.baseLanes|d:d,r!==null){for(w=s.child=r.child,I=0;w!==null;)I=I|w.lanes|w.childLanes,w=w.sibling;s.childLanes=I&~p}else s.childLanes=0,s.child=null;return hT(r,s,p,d)}if((d&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&rS(s,I!==null?I.cachePool:null),I!==null?u8(s,I):L5(),Z8(s);else return s.lanes=s.childLanes=536870912,hT(r,s,I!==null?I.baseLanes|d:d,d)}else I!==null?(rS(s,I.cachePool),u8(s,I),gl(),s.memoizedState=null):(r!==null&&rS(s,null),L5(),gl());return vi(r,s,w,d),s.child}function hT(r,s,d,p){var w=w5();return w=w===null?null:{parent:ri._currentValue,pool:w},s.memoizedState={baseLanes:d,cachePool:w},r!==null&&rS(s,null),L5(),Z8(s),r!==null&&i1(r,s,p,!0),null}function CS(r,s){var d=s.ref;if(d===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(r===null||r.ref!==d)&&(s.flags|=4194816)}}function K5(r,s,d,p,w){return Jc(s),d=_5(r,s,d,p,void 0,w),p=M5(),r!==null&&!hi?(F5(r,s,w),ts(r,s,w)):(Ft&&p&&m5(s),s.flags|=1,vi(r,s,d,w),s.child)}function fT(r,s,d,p,w,I){return Jc(s),s.updateQueue=null,d=h8(s,p,d,w),d8(r),p=M5(),r!==null&&!hi?(F5(r,s,I),ts(r,s,I)):(Ft&&p&&m5(s),s.flags|=1,vi(r,s,d,I),s.child)}function gT(r,s,d,p,w){if(Jc(s),s.stateNode===null){var I=$0,j=d.contextType;typeof j=="object"&&j!==null&&(I=Li(j)),I=new d(p,I),s.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=W5,s.stateNode=I,I._reactInternals=s,I=s.stateNode,I.props=p,I.state=s.memoizedState,I.refs={},A5(s),j=d.contextType,I.context=typeof j=="object"&&j!==null?Li(j):$0,I.state=s.memoizedState,j=d.getDerivedStateFromProps,typeof j=="function"&&(X5(s,d,j,p),I.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(j=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),j!==I.state&&W5.enqueueReplaceState(I,I.state,null),u1(s,p,I,w),c1(),I.state=s.memoizedState),typeof I.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(r===null){I=s.stateNode;var K=s.memoizedProps,le=nu(d,K);I.props=le;var be=I.context,Ie=d.contextType;j=$0,typeof Ie=="object"&&Ie!==null&&(j=Li(Ie));var Me=d.getDerivedStateFromProps;Ie=typeof Me=="function"||typeof I.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,Ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(K||be!==j)&&eT(s,I,p,j),cl=!1;var De=s.memoizedState;I.state=De,u1(s,p,I,w),c1(),be=s.memoizedState,K||De!==be||cl?(typeof Me=="function"&&(X5(s,d,Me,p),be=s.memoizedState),(le=cl||J8(s,d,le,p,De,be,j))?(Ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(s.flags|=4194308)):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=be),I.props=p,I.state=be,I.context=j,p=le):(typeof I.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{I=s.stateNode,R5(r,s),j=s.memoizedProps,Ie=nu(d,j),I.props=Ie,Me=s.pendingProps,De=I.context,be=d.contextType,le=$0,typeof be=="object"&&be!==null&&(le=Li(be)),K=d.getDerivedStateFromProps,(be=typeof K=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(j!==Me||De!==le)&&eT(s,I,p,le),cl=!1,De=s.memoizedState,I.state=De,u1(s,p,I,w),c1();var Te=s.memoizedState;j!==Me||De!==Te||cl||r!==null&&r.dependencies!==null&&nS(r.dependencies)?(typeof K=="function"&&(X5(s,d,K,p),Te=s.memoizedState),(Ie=cl||J8(s,d,Ie,p,De,Te,le)||r!==null&&r.dependencies!==null&&nS(r.dependencies))?(be||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(p,Te,le),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(p,Te,le)),typeof I.componentDidUpdate=="function"&&(s.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof I.componentDidUpdate!="function"||j===r.memoizedProps&&De===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&De===r.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Te),I.props=p,I.state=Te,I.context=le,p=Ie):(typeof I.componentDidUpdate!="function"||j===r.memoizedProps&&De===r.memoizedState||(s.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||j===r.memoizedProps&&De===r.memoizedState||(s.flags|=1024),p=!1)}return I=p,CS(r,s),p=(s.flags&128)!==0,I||p?(I=s.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:I.render(),s.flags|=1,r!==null&&p?(s.child=od(s,r.child,null,w),s.child=od(s,null,d,w)):vi(r,s,d,w),s.memoizedState=I.state,r=s.child):r=ts(r,s,w),r}function pT(r,s,d,p){return t1(),s.flags|=256,vi(r,s,d,p),s.child}var Z5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function J5(r){return{baseLanes:r,cachePool:n8()}}function eb(r,s,d){return r=r!==null?r.childLanes&~d:0,s&&(r|=aa),r}function mT(r,s,d){var p=s.pendingProps,w=!1,I=(s.flags&128)!==0,j;if((j=I)||(j=r!==null&&r.memoizedState===null?!1:(ai.current&2)!==0),j&&(w=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ft){if(w?fl(s):gl(),Ft){var K=Tn,le;if(le=K){e:{for(le=K,K=ho;le.nodeType!==8;){if(!K){K=null;break e}if(le=Va(le.nextSibling),le===null){K=null;break e}}K=le}K!==null?(s.memoizedState={dehydrated:K,treeContext:Xc!==null?{id:Wo,overflow:$o}:null,retryLane:536870912,hydrationErrors:null},le=Ar(18,null,null,0),le.stateNode=K,le.return=s,s.child=le,Bi=s,Tn=null,le=!0):le=!1}le||Kc(s)}if(K=s.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return Ub(K)?s.lanes=32:s.lanes=536870912,null;es(s)}return K=p.children,p=p.fallback,w?(gl(),w=s.mode,K=DS({mode:"hidden",children:K},w),p=Yc(p,w,d,null),K.return=s,p.return=s,K.sibling=p,s.child=K,w=s.child,w.memoizedState=J5(d),w.childLanes=eb(r,j,d),s.memoizedState=Z5,p):(fl(s),tb(s,K))}if(le=r.memoizedState,le!==null&&(K=le.dehydrated,K!==null)){if(I)s.flags&256?(fl(s),s.flags&=-257,s=nb(r,s,d)):s.memoizedState!==null?(gl(),s.child=r.child,s.flags|=128,s=null):(gl(),w=p.fallback,K=s.mode,p=DS({mode:"visible",children:p.children},K),w=Yc(w,K,d,null),w.flags|=2,p.return=s,w.return=s,p.sibling=w,s.child=p,od(s,r.child,null,d),p=s.child,p.memoizedState=J5(d),p.childLanes=eb(r,j,d),s.memoizedState=Z5,s=w);else if(fl(s),Ub(K)){if(j=K.nextSibling&&K.nextSibling.dataset,j)var be=j.dgst;j=be,p=Error(i(419)),p.stack="",p.digest=j,n1({value:p,source:null,stack:null}),s=nb(r,s,d)}else if(hi||i1(r,s,d,!1),j=(d&r.childLanes)!==0,hi||j){if(j=tn,j!==null&&(p=d&-d,p=(p&42)!==0?1:wr(p),p=(p&(j.suspendedLanes|d))!==0?0:p,p!==0&&p!==le.retryLane))throw le.retryLane=p,W0(r,p),Ir(j,r,p),sT;K.data==="$?"||bb(),s=nb(r,s,d)}else K.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=le.treeContext,Tn=Va(K.nextSibling),Bi=s,Ft=!0,$c=null,ho=!1,r!==null&&(na[ia++]=Wo,na[ia++]=$o,na[ia++]=Xc,Wo=r.id,$o=r.overflow,Xc=s),s=tb(s,p.children),s.flags|=4096);return s}return w?(gl(),w=p.fallback,K=s.mode,le=r.child,be=le.sibling,p=Xo(le,{mode:"hidden",children:p.children}),p.subtreeFlags=le.subtreeFlags&65011712,be!==null?w=Xo(be,w):(w=Yc(w,K,d,null),w.flags|=2),w.return=s,p.return=s,p.sibling=w,s.child=p,p=w,w=s.child,K=r.child.memoizedState,K===null?K=J5(d):(le=K.cachePool,le!==null?(be=ri._currentValue,le=le.parent!==be?{parent:be,pool:be}:le):le=n8(),K={baseLanes:K.baseLanes|d,cachePool:le}),w.memoizedState=K,w.childLanes=eb(r,j,d),s.memoizedState=Z5,p):(fl(s),d=r.child,r=d.sibling,d=Xo(d,{mode:"visible",children:p.children}),d.return=s,d.sibling=null,r!==null&&(j=s.deletions,j===null?(s.deletions=[r],s.flags|=16):j.push(r)),s.child=d,s.memoizedState=null,d)}function tb(r,s){return s=DS({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function DS(r,s){return r=Ar(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function nb(r,s,d){return od(s,r.child,null,d),r=tb(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ST(r,s,d){r.lanes|=s;var p=r.alternate;p!==null&&(p.lanes|=s),b5(r.return,s,d)}function ib(r,s,d,p,w){var I=r.memoizedState;I===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:w}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=d,I.tailMode=w)}function yT(r,s,d){var p=s.pendingProps,w=p.revealOrder,I=p.tail;if(vi(r,s,p.children,d),p=ai.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ST(r,d,s);else if(r.tag===19)ST(r,d,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}switch(ee(ai,p),w){case"forwards":for(d=s.child,w=null;d!==null;)r=d.alternate,r!==null&&yS(r)===null&&(w=d),d=d.sibling;d=w,d===null?(w=s.child,s.child=null):(w=d.sibling,d.sibling=null),ib(s,!1,w,d,I);break;case"backwards":for(d=null,w=s.child,s.child=null;w!==null;){if(r=w.alternate,r!==null&&yS(r)===null){s.child=w;break}r=w.sibling,w.sibling=d,d=w,w=r}ib(s,!0,d,null,I);break;case"together":ib(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ts(r,s,d){if(r!==null&&(s.dependencies=r.dependencies),vl|=s.lanes,(d&s.childLanes)===0)if(r!==null){if(i1(r,s,d,!1),(d&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,d=Xo(r,r.pendingProps),s.child=d,d.return=s;r.sibling!==null;)r=r.sibling,d=d.sibling=Xo(r,r.pendingProps),d.return=s;d.sibling=null}return s.child}function rb(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nS(r)))}function q_(r,s,d){switch(s.tag){case 3:oe(s,s.stateNode.containerInfo),ll(s,ri,r.memoizedState.cache),t1();break;case 27:case 5:me(s);break;case 4:oe(s,s.stateNode.containerInfo);break;case 10:ll(s,s.type,s.memoizedProps.value);break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(fl(s),s.flags|=128,null):(d&s.child.childLanes)!==0?mT(r,s,d):(fl(s),r=ts(r,s,d),r!==null?r.sibling:null);fl(s);break;case 19:var w=(r.flags&128)!==0;if(p=(d&s.childLanes)!==0,p||(i1(r,s,d,!1),p=(d&s.childLanes)!==0),w){if(p)return yT(r,s,d);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ee(ai,ai.current),p)break;return null;case 22:case 23:return s.lanes=0,dT(r,s,d);case 24:ll(s,ri,r.memoizedState.cache)}return ts(r,s,d)}function vT(r,s,d){if(r!==null)if(r.memoizedProps!==s.pendingProps)hi=!0;else{if(!rb(r,d)&&(s.flags&128)===0)return hi=!1,q_(r,s,d);hi=(r.flags&131072)!==0}else hi=!1,Ft&&(s.flags&1048576)!==0&&WD(s,tS,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var p=s.elementType,w=p._init;if(p=w(p._payload),s.type=p,typeof p=="function")f5(p)?(r=nu(p,r),s.tag=1,s=gT(null,s,p,r,d)):(s.tag=0,s=K5(null,s,p,r,d));else{if(p!=null){if(w=p.$$typeof,w===A){s.tag=11,s=lT(null,s,p,r,d);break e}else if(w===U){s.tag=14,s=cT(null,s,p,r,d);break e}}throw s=O(p)||p,Error(i(306,s,""))}}return s;case 0:return K5(r,s,s.type,s.pendingProps,d);case 1:return p=s.type,w=nu(p,s.pendingProps),gT(r,s,p,w,d);case 3:e:{if(oe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));p=s.pendingProps;var I=s.memoizedState;w=I.element,R5(r,s),u1(s,p,null,d);var j=s.memoizedState;if(p=j.cache,ll(s,ri,p),p!==I.cache&&C5(s,[ri],d,!0),c1(),p=j.element,I.isDehydrated)if(I={element:p,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=I,s.memoizedState=I,s.flags&256){s=pT(r,s,p,d);break e}else if(p!==w){w=ea(Error(i(424)),s),n1(w),s=pT(r,s,p,d);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tn=Va(r.firstChild),Bi=s,Ft=!0,$c=null,ho=!0,d=K8(s,null,p,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(t1(),p===w){s=ts(r,s,d);break e}vi(r,s,p,d)}s=s.child}return s;case 26:return CS(r,s),r===null?(d=Tw(s.type,null,s.pendingProps,null))?s.memoizedState=d:Ft||(d=s.type,r=s.pendingProps,p=kS(fe.current).createElement(d),p[Pi]=s,p[Ki]=r,Ci(p,d,r),di(p),s.stateNode=p):s.memoizedState=Tw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return me(s),r===null&&Ft&&(p=s.stateNode=bw(s.type,s.pendingProps,fe.current),Bi=s,ho=!0,w=Tn,Tl(s.type)?(Nb=w,Tn=Va(p.firstChild)):Tn=w),vi(r,s,s.pendingProps.children,d),CS(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ft&&((w=p=Tn)&&(p=fM(p,s.type,s.pendingProps,ho),p!==null?(s.stateNode=p,Bi=s,Tn=Va(p.firstChild),ho=!1,w=!0):w=!1),w||Kc(s)),me(s),w=s.type,I=s.pendingProps,j=r!==null?r.memoizedProps:null,p=I.children,Mb(w,I)?p=null:j!==null&&Mb(w,j)&&(s.flags|=32),s.memoizedState!==null&&(w=_5(r,s,I_,null,null,d),E1._currentValue=w),CS(r,s),vi(r,s,p,d),s.child;case 6:return r===null&&Ft&&((r=d=Tn)&&(d=gM(d,s.pendingProps,ho),d!==null?(s.stateNode=d,Bi=s,Tn=null,r=!0):r=!1),r||Kc(s)),null;case 13:return mT(r,s,d);case 4:return oe(s,s.stateNode.containerInfo),p=s.pendingProps,r===null?s.child=od(s,null,p,d):vi(r,s,p,d),s.child;case 11:return lT(r,s,s.type,s.pendingProps,d);case 7:return vi(r,s,s.pendingProps,d),s.child;case 8:return vi(r,s,s.pendingProps.children,d),s.child;case 12:return vi(r,s,s.pendingProps.children,d),s.child;case 10:return p=s.pendingProps,ll(s,s.type,p.value),vi(r,s,p.children,d),s.child;case 9:return w=s.type._context,p=s.pendingProps.children,Jc(s),w=Li(w),p=p(w),s.flags|=1,vi(r,s,p,d),s.child;case 14:return cT(r,s,s.type,s.pendingProps,d);case 15:return uT(r,s,s.type,s.pendingProps,d);case 19:return yT(r,s,d);case 31:return p=s.pendingProps,d=s.mode,p={mode:p.mode,children:p.children},r===null?(d=DS(p,d),d.ref=s.ref,s.child=d,d.return=s,s=d):(d=Xo(r.child,p),d.ref=s.ref,s.child=d,d.return=s,s=d),s;case 22:return dT(r,s,d);case 24:return Jc(s),p=Li(ri),r===null?(w=w5(),w===null&&(w=tn,I=D5(),w.pooledCache=I,I.refCount++,I!==null&&(w.pooledCacheLanes|=d),w=I),s.memoizedState={parent:p,cache:w},A5(s),ll(s,ri,w)):((r.lanes&d)!==0&&(R5(r,s),u1(s,null,null,d),c1()),w=r.memoizedState,I=s.memoizedState,w.parent!==p?(w={parent:p,cache:p},s.memoizedState=w,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=w),ll(s,ri,p)):(p=I.cache,ll(s,ri,p),p!==w.cache&&C5(s,[ri],d,!0))),vi(r,s,s.pendingProps.children,d),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ns(r){r.flags|=4}function bT(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ow(s)){if(s=ra.current,s!==null&&((Rt&4194048)===Rt?fo!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||s!==fo))throw s1=x5,i8;r.flags|=8192}}function TS(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?qi():536870912,r.lanes|=s,ud|=s)}function S1(r,s){if(!Ft)switch(r.tailMode){case"hidden":s=r.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function bn(r){var s=r.alternate!==null&&r.alternate.child===r.child,d=0,p=0;if(s)for(var w=r.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)d|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=d,s}function B_(r,s,d){var p=s.pendingProps;switch(S5(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(s),null;case 1:return bn(s),null;case 3:return d=s.stateNode,p=null,r!==null&&(p=r.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Zo(ri),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(e1(s)?ns(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ZD())),bn(s),null;case 26:return d=s.memoizedState,r===null?(ns(s),d!==null?(bn(s),bT(s,d)):(bn(s),s.flags&=-16777217)):d?d!==r.memoizedState?(ns(s),bn(s),bT(s,d)):(bn(s),s.flags&=-16777217):(r.memoizedProps!==p&&ns(s),bn(s),s.flags&=-16777217),null;case 27:xe(s),d=fe.current;var w=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==p&&ns(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return bn(s),null}r=re.current,e1(s)?$D(s):(r=bw(w,p,d),s.stateNode=r,ns(s))}return bn(s),null;case 5:if(xe(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==p&&ns(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return bn(s),null}if(r=re.current,e1(s))$D(s);else{switch(w=kS(fe.current),r){case 1:r=w.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=w.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=w.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof p.is=="string"?w.createElement("select",{is:p.is}):w.createElement("select"),p.multiple?r.multiple=!0:p.size&&(r.size=p.size);break;default:r=typeof p.is=="string"?w.createElement(d,{is:p.is}):w.createElement(d)}}r[Pi]=s,r[Ki]=p;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)r.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=r;e:switch(Ci(r,d,p),d){case"button":case"input":case"select":case"textarea":r=!!p.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ns(s)}}return bn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==p&&ns(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(i(166));if(r=fe.current,e1(s)){if(r=s.stateNode,d=s.memoizedProps,p=null,w=Bi,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}r[Pi]=s,r=!!(r.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||fw(r.nodeValue,d)),r||Kc(s)}else r=kS(r).createTextNode(p),r[Pi]=s,s.stateNode=r}return bn(s),null;case 13:if(p=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(w=e1(s),p!==null&&p.dehydrated!==null){if(r===null){if(!w)throw Error(i(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(i(317));w[Pi]=s}else t1(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bn(s),w=!1}else w=ZD(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=w),w=!0;if(!w)return s.flags&256?(es(s),s):(es(s),null)}if(es(s),(s.flags&128)!==0)return s.lanes=d,s;if(d=p!==null,r=r!==null&&r.memoizedState!==null,d){p=s.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool);var I=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(I=p.memoizedState.cachePool.pool),I!==w&&(p.flags|=2048)}return d!==r&&d&&(s.child.flags|=8192),TS(s,s.updateQueue),bn(s),null;case 4:return pe(),r===null&&Pb(s.stateNode.containerInfo),bn(s),null;case 10:return Zo(s.type),bn(s),null;case 19:if($(ai),w=s.memoizedState,w===null)return bn(s),null;if(p=(s.flags&128)!==0,I=w.rendering,I===null)if(p)S1(w,!1);else{if(wn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(I=yS(r),I!==null){for(s.flags|=128,S1(w,!1),r=I.updateQueue,s.updateQueue=r,TS(s,r),s.subtreeFlags=0,r=d,d=s.child;d!==null;)XD(d,r),d=d.sibling;return ee(ai,ai.current&1|2),s.child}r=r.sibling}w.tail!==null&&J()>AS&&(s.flags|=128,p=!0,S1(w,!1),s.lanes=4194304)}else{if(!p)if(r=yS(I),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,TS(s,r),S1(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!Ft)return bn(s),null}else 2*J()-w.renderingStartTime>AS&&d!==536870912&&(s.flags|=128,p=!0,S1(w,!1),s.lanes=4194304);w.isBackwards?(I.sibling=s.child,s.child=I):(r=w.last,r!==null?r.sibling=I:s.child=I,w.last=I)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=J(),s.sibling=null,r=ai.current,ee(ai,p?r&1|2:r&1),s):(bn(s),null);case 22:case 23:return es(s),I5(),p=s.memoizedState!==null,r!==null?r.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(d&536870912)!==0&&(s.flags&128)===0&&(bn(s),s.subtreeFlags&6&&(s.flags|=8192)):bn(s),d=s.updateQueue,d!==null&&TS(s,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048),r!==null&&$(eu),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Zo(ri),bn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function G_(r,s){switch(S5(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zo(ri),pe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xe(s),null;case 13:if(es(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));t1()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return $(ai),null;case 4:return pe(),null;case 10:return Zo(s.type),null;case 22:case 23:return es(s),I5(),r!==null&&$(eu),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Zo(ri),null;case 25:return null;default:return null}}function CT(r,s){switch(S5(s),s.tag){case 3:Zo(ri),pe();break;case 26:case 27:case 5:xe(s);break;case 4:pe();break;case 13:es(s);break;case 19:$(ai);break;case 10:Zo(s.type);break;case 22:case 23:es(s),I5(),r!==null&&$(eu);break;case 24:Zo(ri)}}function y1(r,s){try{var d=s.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var w=p.next;d=w;do{if((d.tag&r)===r){p=void 0;var I=d.create,j=d.inst;p=I(),j.destroy=p}d=d.next}while(d!==w)}}catch(K){Wt(s,s.return,K)}}function pl(r,s,d){try{var p=s.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var I=w.next;p=I;do{if((p.tag&r)===r){var j=p.inst,K=j.destroy;if(K!==void 0){j.destroy=void 0,w=s;var le=d,be=K;try{be()}catch(Ie){Wt(w,le,Ie)}}}p=p.next}while(p!==I)}}catch(Ie){Wt(s,s.return,Ie)}}function DT(r){var s=r.updateQueue;if(s!==null){var d=r.stateNode;try{c8(s,d)}catch(p){Wt(r,r.return,p)}}}function TT(r,s,d){d.props=nu(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(p){Wt(r,s,p)}}function v1(r,s){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var p=r.stateNode;break;case 30:p=r.stateNode;break;default:p=r.stateNode}typeof d=="function"?r.refCleanup=d(p):d.current=p}}catch(w){Wt(r,s,w)}}function go(r,s){var d=r.ref,p=r.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(w){Wt(r,s,w)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){Wt(r,s,w)}else d.current=null}function wT(r){var s=r.type,d=r.memoizedProps,p=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(w){Wt(r,r.return,w)}}function ab(r,s,d){try{var p=r.stateNode;lM(p,r.type,d,s),p[Ki]=s}catch(w){Wt(r,r.return,w)}}function xT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Tl(r.type)||r.tag===4}function ob(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||xT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Tl(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sb(r,s,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,s):(s=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,s.appendChild(r),d=d._reactRootContainer,d!=null||s.onclick!==null||(s.onclick=FS));else if(p!==4&&(p===27&&Tl(r.type)&&(d=r.stateNode,s=null),r=r.child,r!==null))for(sb(r,s,d),r=r.sibling;r!==null;)sb(r,s,d),r=r.sibling}function wS(r,s,d){var p=r.tag;if(p===5||p===6)r=r.stateNode,s?d.insertBefore(r,s):d.appendChild(r);else if(p!==4&&(p===27&&Tl(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(wS(r,s,d),r=r.sibling;r!==null;)wS(r,s,d),r=r.sibling}function AT(r){var s=r.stateNode,d=r.memoizedProps;try{for(var p=r.type,w=s.attributes;w.length;)s.removeAttributeNode(w[0]);Ci(s,p,d),s[Pi]=r,s[Ki]=d}catch(I){Wt(r,r.return,I)}}var is=!1,Un=!1,lb=!1,RT=typeof WeakSet=="function"?WeakSet:Set,fi=null;function V_(r,s){if(r=r.containerInfo,Eb=VS,r=ND(r),o5(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var w=p.anchorOffset,I=p.focusNode;p=p.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var j=0,K=-1,le=-1,be=0,Ie=0,Me=r,De=null;t:for(;;){for(var Te;Me!==d||w!==0&&Me.nodeType!==3||(K=j+w),Me!==I||p!==0&&Me.nodeType!==3||(le=j+p),Me.nodeType===3&&(j+=Me.nodeValue.length),(Te=Me.firstChild)!==null;)De=Me,Me=Te;for(;;){if(Me===r)break t;if(De===d&&++be===w&&(K=j),De===I&&++Ie===p&&(le=j),(Te=Me.nextSibling)!==null)break;Me=De,De=Me.parentNode}Me=Te}d=K===-1||le===-1?null:{start:K,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(_b={focusedElem:r,selectionRange:d},VS=!1,fi=s;fi!==null;)if(s=fi,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,fi=r;else for(;fi!==null;){switch(s=fi,I=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&I!==null){r=void 0,d=s,w=I.memoizedProps,I=I.memoizedState,p=d.stateNode;try{var rt=nu(d.type,w,d.elementType===d.type);r=p.getSnapshotBeforeUpdate(rt,I),p.__reactInternalSnapshotBeforeUpdate=r}catch(Je){Wt(d,d.return,Je)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,d=r.nodeType,d===9)kb(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":kb(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fi=r;break}fi=s.return}}function OT(r,s,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:ml(r,d),p&4&&y1(5,d);break;case 1:if(ml(r,d),p&4)if(r=d.stateNode,s===null)try{r.componentDidMount()}catch(j){Wt(d,d.return,j)}else{var w=nu(d.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(w,s,r.__reactInternalSnapshotBeforeUpdate)}catch(j){Wt(d,d.return,j)}}p&64&&DT(d),p&512&&v1(d,d.return);break;case 3:if(ml(r,d),p&64&&(r=d.updateQueue,r!==null)){if(s=null,d.child!==null)switch(d.child.tag){case 27:case 5:s=d.child.stateNode;break;case 1:s=d.child.stateNode}try{c8(r,s)}catch(j){Wt(d,d.return,j)}}break;case 27:s===null&&p&4&&AT(d);case 26:case 5:ml(r,d),s===null&&p&4&&wT(d),p&512&&v1(d,d.return);break;case 12:ml(r,d);break;case 13:ml(r,d),p&4&&IT(r,d),p&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=K_.bind(null,d),pM(r,d))));break;case 22:if(p=d.memoizedState!==null||is,!p){s=s!==null&&s.memoizedState!==null||Un,w=is;var I=Un;is=p,(Un=s)&&!I?Sl(r,d,(d.subtreeFlags&8772)!==0):ml(r,d),is=w,Un=I}break;case 30:break;default:ml(r,d)}}function PT(r){var s=r.alternate;s!==null&&(r.alternate=null,PT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Gv(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var hn=null,er=!1;function rs(r,s,d){for(d=d.child;d!==null;)LT(r,s,d),d=d.sibling}function LT(r,s,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ce,d)}catch{}switch(d.tag){case 26:Un||go(d,s),rs(r,s,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Un||go(d,s);var p=hn,w=er;Tl(d.type)&&(hn=d.stateNode,er=!1),rs(r,s,d),O1(d.stateNode),hn=p,er=w;break;case 5:Un||go(d,s);case 6:if(p=hn,w=er,hn=null,rs(r,s,d),hn=p,er=w,hn!==null)if(er)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(d.stateNode)}catch(I){Wt(d,s,I)}else try{hn.removeChild(d.stateNode)}catch(I){Wt(d,s,I)}break;case 18:hn!==null&&(er?(r=hn,yw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),k1(r)):yw(hn,d.stateNode));break;case 4:p=hn,w=er,hn=d.stateNode.containerInfo,er=!0,rs(r,s,d),hn=p,er=w;break;case 0:case 11:case 14:case 15:Un||pl(2,d,s),Un||pl(4,d,s),rs(r,s,d);break;case 1:Un||(go(d,s),p=d.stateNode,typeof p.componentWillUnmount=="function"&&TT(d,s,p)),rs(r,s,d);break;case 21:rs(r,s,d);break;case 22:Un=(p=Un)||d.memoizedState!==null,rs(r,s,d),Un=p;break;default:rs(r,s,d)}}function IT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{k1(r)}catch(d){Wt(s,s.return,d)}}function z_(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new RT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new RT),s;default:throw Error(i(435,r.tag))}}function cb(r,s){var d=z_(r);s.forEach(function(p){var w=Z_.bind(null,r,p);d.has(p)||(d.add(p),p.then(w,w))})}function Rr(r,s){var d=s.deletions;if(d!==null)for(var p=0;p<d.length;p++){var w=d[p],I=r,j=s,K=j;e:for(;K!==null;){switch(K.tag){case 27:if(Tl(K.type)){hn=K.stateNode,er=!1;break e}break;case 5:hn=K.stateNode,er=!1;break e;case 3:case 4:hn=K.stateNode.containerInfo,er=!0;break e}K=K.return}if(hn===null)throw Error(i(160));LT(I,j,w),hn=null,er=!1,I=w.alternate,I!==null&&(I.return=null),w.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ET(s,r),s=s.sibling}var Ga=null;function ET(r,s){var d=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Rr(s,r),Or(r),p&4&&(pl(3,r,r.return),y1(3,r),pl(5,r,r.return));break;case 1:Rr(s,r),Or(r),p&512&&(Un||d===null||go(d,d.return)),p&64&&is&&(r=r.updateQueue,r!==null&&(p=r.callbacks,p!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var w=Ga;if(Rr(s,r),Or(r),p&512&&(Un||d===null||go(d,d.return)),p&4){var I=d!==null?d.memoizedState:null;if(p=r.memoizedState,d===null)if(p===null)if(r.stateNode===null){e:{p=r.type,d=r.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":I=w.getElementsByTagName("title")[0],(!I||I[zf]||I[Pi]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=w.createElement(p),w.head.insertBefore(I,w.querySelector("head > title"))),Ci(I,p,d),I[Pi]=r,di(I),p=I;break e;case"link":var j=Aw("link","href",w).get(p+(d.href||""));if(j){for(var K=0;K<j.length;K++)if(I=j[K],I.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&I.getAttribute("rel")===(d.rel==null?null:d.rel)&&I.getAttribute("title")===(d.title==null?null:d.title)&&I.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){j.splice(K,1);break t}}I=w.createElement(p),Ci(I,p,d),w.head.appendChild(I);break;case"meta":if(j=Aw("meta","content",w).get(p+(d.content||""))){for(K=0;K<j.length;K++)if(I=j[K],I.getAttribute("content")===(d.content==null?null:""+d.content)&&I.getAttribute("name")===(d.name==null?null:d.name)&&I.getAttribute("property")===(d.property==null?null:d.property)&&I.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&I.getAttribute("charset")===(d.charSet==null?null:d.charSet)){j.splice(K,1);break t}}I=w.createElement(p),Ci(I,p,d),w.head.appendChild(I);break;default:throw Error(i(468,p))}I[Pi]=r,di(I),p=I}r.stateNode=p}else Rw(w,r.type,r.stateNode);else r.stateNode=xw(w,p,r.memoizedProps);else I!==p?(I===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):I.count--,p===null?Rw(w,r.type,r.stateNode):xw(w,p,r.memoizedProps)):p===null&&r.stateNode!==null&&ab(r,r.memoizedProps,d.memoizedProps)}break;case 27:Rr(s,r),Or(r),p&512&&(Un||d===null||go(d,d.return)),d!==null&&p&4&&ab(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Rr(s,r),Or(r),p&512&&(Un||d===null||go(d,d.return)),r.flags&32){w=r.stateNode;try{V0(w,"")}catch(Te){Wt(r,r.return,Te)}}p&4&&r.stateNode!=null&&(w=r.memoizedProps,ab(r,w,d!==null?d.memoizedProps:w)),p&1024&&(lb=!0);break;case 6:if(Rr(s,r),Or(r),p&4){if(r.stateNode===null)throw Error(i(162));p=r.memoizedProps,d=r.stateNode;try{d.nodeValue=p}catch(Te){Wt(r,r.return,Te)}}break;case 3:if(qS=null,w=Ga,Ga=US(s.containerInfo),Rr(s,r),Ga=w,Or(r),p&4&&d!==null&&d.memoizedState.isDehydrated)try{k1(s.containerInfo)}catch(Te){Wt(r,r.return,Te)}lb&&(lb=!1,_T(r));break;case 4:p=Ga,Ga=US(r.stateNode.containerInfo),Rr(s,r),Or(r),Ga=p;break;case 12:Rr(s,r),Or(r);break;case 13:Rr(s,r),Or(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pb=J()),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,cb(r,p)));break;case 22:w=r.memoizedState!==null;var le=d!==null&&d.memoizedState!==null,be=is,Ie=Un;if(is=be||w,Un=Ie||le,Rr(s,r),Un=Ie,is=be,Or(r),p&8192)e:for(s=r.stateNode,s._visibility=w?s._visibility&-2:s._visibility|1,w&&(d===null||le||is||Un||iu(r)),d=null,s=r;;){if(s.tag===5||s.tag===26){if(d===null){le=d=s;try{if(I=le.stateNode,w)j=I.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{K=le.stateNode;var Me=le.memoizedProps.style,De=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;K.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Te){Wt(le,le.return,Te)}}}else if(s.tag===6){if(d===null){le=s;try{le.stateNode.nodeValue=w?"":le.memoizedProps}catch(Te){Wt(le,le.return,Te)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;d===s&&(d=null),s=s.return}d===s&&(d=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=r.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,cb(r,d))));break;case 19:Rr(s,r),Or(r),p&4&&(p=r.updateQueue,p!==null&&(r.updateQueue=null,cb(r,p)));break;case 30:break;case 21:break;default:Rr(s,r),Or(r)}}function Or(r){var s=r.flags;if(s&2){try{for(var d,p=r.return;p!==null;){if(xT(p)){d=p;break}p=p.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var w=d.stateNode,I=ob(r);wS(r,I,w);break;case 5:var j=d.stateNode;d.flags&32&&(V0(j,""),d.flags&=-33);var K=ob(r);wS(r,K,j);break;case 3:case 4:var le=d.stateNode.containerInfo,be=ob(r);sb(r,be,le);break;default:throw Error(i(161))}}catch(Ie){Wt(r,r.return,Ie)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function _T(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;_T(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ml(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)OT(r,s.alternate,s),s=s.sibling}function iu(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:pl(4,s,s.return),iu(s);break;case 1:go(s,s.return);var d=s.stateNode;typeof d.componentWillUnmount=="function"&&TT(s,s.return,d),iu(s);break;case 27:O1(s.stateNode);case 26:case 5:go(s,s.return),iu(s);break;case 22:s.memoizedState===null&&iu(s);break;case 30:iu(s);break;default:iu(s)}r=r.sibling}}function Sl(r,s,d){for(d=d&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,w=r,I=s,j=I.flags;switch(I.tag){case 0:case 11:case 15:Sl(w,I,d),y1(4,I);break;case 1:if(Sl(w,I,d),p=I,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(be){Wt(p,p.return,be)}if(p=I,w=p.updateQueue,w!==null){var K=p.stateNode;try{var le=w.shared.hiddenCallbacks;if(le!==null)for(w.shared.hiddenCallbacks=null,w=0;w<le.length;w++)l8(le[w],K)}catch(be){Wt(p,p.return,be)}}d&&j&64&&DT(I),v1(I,I.return);break;case 27:AT(I);case 26:case 5:Sl(w,I,d),d&&p===null&&j&4&&wT(I),v1(I,I.return);break;case 12:Sl(w,I,d);break;case 13:Sl(w,I,d),d&&j&4&&IT(w,I);break;case 22:I.memoizedState===null&&Sl(w,I,d),v1(I,I.return);break;case 30:break;default:Sl(w,I,d)}s=s.sibling}}function ub(r,s){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&r1(d))}function db(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&r1(r))}function po(r,s,d,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)MT(r,s,d,p),s=s.sibling}function MT(r,s,d,p){var w=s.flags;switch(s.tag){case 0:case 11:case 15:po(r,s,d,p),w&2048&&y1(9,s);break;case 1:po(r,s,d,p);break;case 3:po(r,s,d,p),w&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&r1(r)));break;case 12:if(w&2048){po(r,s,d,p),r=s.stateNode;try{var I=s.memoizedProps,j=I.id,K=I.onPostCommit;typeof K=="function"&&K(j,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(le){Wt(s,s.return,le)}}else po(r,s,d,p);break;case 13:po(r,s,d,p);break;case 23:break;case 22:I=s.stateNode,j=s.alternate,s.memoizedState!==null?I._visibility&2?po(r,s,d,p):b1(r,s):I._visibility&2?po(r,s,d,p):(I._visibility|=2,sd(r,s,d,p,(s.subtreeFlags&10256)!==0)),w&2048&&ub(j,s);break;case 24:po(r,s,d,p),w&2048&&db(s.alternate,s);break;default:po(r,s,d,p)}}function sd(r,s,d,p,w){for(w=w&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var I=r,j=s,K=d,le=p,be=j.flags;switch(j.tag){case 0:case 11:case 15:sd(I,j,K,le,w),y1(8,j);break;case 23:break;case 22:var Ie=j.stateNode;j.memoizedState!==null?Ie._visibility&2?sd(I,j,K,le,w):b1(I,j):(Ie._visibility|=2,sd(I,j,K,le,w)),w&&be&2048&&ub(j.alternate,j);break;case 24:sd(I,j,K,le,w),w&&be&2048&&db(j.alternate,j);break;default:sd(I,j,K,le,w)}s=s.sibling}}function b1(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var d=r,p=s,w=p.flags;switch(p.tag){case 22:b1(d,p),w&2048&&ub(p.alternate,p);break;case 24:b1(d,p),w&2048&&db(p.alternate,p);break;default:b1(d,p)}s=s.sibling}}var C1=8192;function ld(r){if(r.subtreeFlags&C1)for(r=r.child;r!==null;)FT(r),r=r.sibling}function FT(r){switch(r.tag){case 26:ld(r),r.flags&C1&&r.memoizedState!==null&&OM(Ga,r.memoizedState,r.memoizedProps);break;case 5:ld(r);break;case 3:case 4:var s=Ga;Ga=US(r.stateNode.containerInfo),ld(r),Ga=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=C1,C1=16777216,ld(r),C1=s):ld(r));break;default:ld(r)}}function kT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function D1(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];fi=p,NT(p,r)}kT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)UT(r),r=r.sibling}function UT(r){switch(r.tag){case 0:case 11:case 15:D1(r),r.flags&2048&&pl(9,r,r.return);break;case 3:D1(r);break;case 12:D1(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,xS(r)):D1(r);break;default:D1(r)}}function xS(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var d=0;d<s.length;d++){var p=s[d];fi=p,NT(p,r)}kT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:pl(8,s,s.return),xS(s);break;case 22:d=s.stateNode,d._visibility&2&&(d._visibility&=-3,xS(s));break;default:xS(s)}r=r.sibling}}function NT(r,s){for(;fi!==null;){var d=fi;switch(d.tag){case 0:case 11:case 15:pl(8,d,s);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:r1(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,fi=p;else e:for(d=r;fi!==null;){p=fi;var w=p.sibling,I=p.return;if(PT(p),p===d){fi=null;break e}if(w!==null){w.return=I,fi=w;break e}fi=I}}}var Q_={getCacheForType:function(r){var s=Li(ri),d=s.data.get(r);return d===void 0&&(d=r(),s.data.set(r,d)),d}},H_=typeof WeakMap=="function"?WeakMap:Map,Bt=0,tn=null,bt=null,Rt=0,Gt=0,Pr=null,yl=!1,cd=!1,hb=!1,as=0,wn=0,vl=0,ru=0,fb=0,aa=0,ud=0,T1=null,tr=null,gb=!1,pb=0,AS=1/0,RS=null,bl=null,bi=0,Cl=null,dd=null,hd=0,mb=0,Sb=null,qT=null,w1=0,yb=null;function Lr(){if((Bt&2)!==0&&Rt!==0)return Rt&-Rt;if(k.T!==null){var r=J0;return r!==0?r:xb()}return tD()}function BT(){aa===0&&(aa=(Rt&536870912)===0||Ft?en():536870912);var r=ra.current;return r!==null&&(r.flags|=32),aa}function Ir(r,s,d){(r===tn&&(Gt===2||Gt===9)||r.cancelPendingCommit!==null)&&(fd(r,0),Dl(r,Rt,aa,!1)),Lt(r,d),((Bt&2)===0||r!==tn)&&(r===tn&&((Bt&2)===0&&(ru|=d),wn===4&&Dl(r,Rt,aa,!1)),mo(r))}function GT(r,s,d){if((Bt&6)!==0)throw Error(i(327));var p=!d&&(s&124)===0&&(s&r.expiredLanes)===0||We(r,s),w=p?X_(r,s):Cb(r,s,!0),I=p;do{if(w===0){cd&&!p&&Dl(r,s,0,!1);break}else{if(d=r.current.alternate,I&&!j_(d)){w=Cb(r,s,!1),I=!1;continue}if(w===2){if(I=s,r.errorRecoveryDisabledLanes&I)var j=0;else j=r.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var K=r;w=T1;var le=K.current.memoizedState.isDehydrated;if(le&&(fd(K,j).flags|=256),j=Cb(K,j,!1),j!==2){if(hb&&!le){K.errorRecoveryDisabledLanes|=I,ru|=I,w=4;break e}I=tr,tr=w,I!==null&&(tr===null?tr=I:tr.push.apply(tr,I))}w=j}if(I=!1,w!==2)continue}}if(w===1){fd(r,0),Dl(r,s,0,!0);break}e:{switch(p=r,I=w,I){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Dl(p,s,aa,!yl);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(w=pb+300-J(),10<w)){if(Dl(p,s,aa,!yl),Fn(p,0,!0)!==0)break e;p.timeoutHandle=mw(VT.bind(null,p,d,tr,RS,gb,s,aa,ru,ud,yl,I,2,-0,0),w);break e}VT(p,d,tr,RS,gb,s,aa,ru,ud,yl,I,0,-0,0)}}break}while(!0);mo(r)}function VT(r,s,d,p,w,I,j,K,le,be,Ie,Me,De,Te){if(r.timeoutHandle=-1,Me=s.subtreeFlags,(Me&8192||(Me&16785408)===16785408)&&(I1={stylesheets:null,count:0,unsuspend:RM},FT(s),Me=PM(),Me!==null)){r.cancelPendingCommit=Me(WT.bind(null,r,s,I,d,p,w,j,K,le,Ie,1,De,Te)),Dl(r,I,j,!be);return}WT(r,s,I,d,p,w,j,K,le)}function j_(r){for(var s=r;;){var d=s.tag;if((d===0||d===11||d===15)&&s.flags&16384&&(d=s.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var w=d[p],I=w.getSnapshot;w=w.value;try{if(!xr(I(),w))return!1}catch{return!1}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Dl(r,s,d,p){s&=~fb,s&=~ru,r.suspendedLanes|=s,r.pingedLanes&=~s,p&&(r.warmLanes|=s),p=r.expirationTimes;for(var w=s;0<w;){var I=31-je(w),j=1<<I;p[I]=-1,w&=~j}d!==0&&M0(r,d,s)}function OS(){return(Bt&6)===0?(x1(0),!1):!0}function vb(){if(bt!==null){if(Gt===0)var r=bt.return;else r=bt,Ko=Zc=null,k5(r),ad=null,p1=0,r=bt;for(;r!==null;)CT(r.alternate,r),r=r.return;bt=null}}function fd(r,s){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,uM(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),vb(),tn=r,bt=d=Xo(r.current,null),Rt=s,Gt=0,Pr=null,yl=!1,cd=We(r,s),hb=!1,ud=aa=fb=ru=vl=wn=0,tr=T1=null,gb=!1,(s&8)!==0&&(s|=s&32);var p=r.entangledLanes;if(p!==0)for(r=r.entanglements,p&=s;0<p;){var w=31-je(p),I=1<<w;s|=r[w],p&=~I}return as=s,$m(),d}function zT(r,s){dt=null,k.H=pS,s===o1||s===aS?(s=o8(),Gt=3):s===i8?(s=o8(),Gt=4):Gt=s===sT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pr=s,bt===null&&(wn=1,bS(r,ea(s,r.current)))}function QT(){var r=k.H;return k.H=pS,r===null?pS:r}function HT(){var r=k.A;return k.A=Q_,r}function bb(){wn=4,yl||(Rt&4194048)!==Rt&&ra.current!==null||(cd=!0),(vl&134217727)===0&&(ru&134217727)===0||tn===null||Dl(tn,Rt,aa,!1)}function Cb(r,s,d){var p=Bt;Bt|=2;var w=QT(),I=HT();(tn!==r||Rt!==s)&&(RS=null,fd(r,s)),s=!1;var j=wn;e:do try{if(Gt!==0&&bt!==null){var K=bt,le=Pr;switch(Gt){case 8:vb(),j=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(s=!0);var be=Gt;if(Gt=0,Pr=null,gd(r,K,le,be),d&&cd){j=0;break e}break;default:be=Gt,Gt=0,Pr=null,gd(r,K,le,be)}}Y_(),j=wn;break}catch(Ie){zT(r,Ie)}while(!0);return s&&r.shellSuspendCounter++,Ko=Zc=null,Bt=p,k.H=w,k.A=I,bt===null&&(tn=null,Rt=0,$m()),j}function Y_(){for(;bt!==null;)jT(bt)}function X_(r,s){var d=Bt;Bt|=2;var p=QT(),w=HT();tn!==r||Rt!==s?(RS=null,AS=J()+500,fd(r,s)):cd=We(r,s);e:do try{if(Gt!==0&&bt!==null){s=bt;var I=Pr;t:switch(Gt){case 1:Gt=0,Pr=null,gd(r,s,I,1);break;case 2:case 9:if(r8(I)){Gt=0,Pr=null,YT(s);break}s=function(){Gt!==2&&Gt!==9||tn!==r||(Gt=7),mo(r)},I.then(s,s);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:r8(I)?(Gt=0,Pr=null,YT(s)):(Gt=0,Pr=null,gd(r,s,I,7));break;case 5:var j=null;switch(bt.tag){case 26:j=bt.memoizedState;case 5:case 27:var K=bt;if(!j||Ow(j)){Gt=0,Pr=null;var le=K.sibling;if(le!==null)bt=le;else{var be=K.return;be!==null?(bt=be,PS(be)):bt=null}break t}}Gt=0,Pr=null,gd(r,s,I,5);break;case 6:Gt=0,Pr=null,gd(r,s,I,6);break;case 8:vb(),wn=6;break e;default:throw Error(i(462))}}W_();break}catch(Ie){zT(r,Ie)}while(!0);return Ko=Zc=null,k.H=p,k.A=w,Bt=d,bt!==null?0:(tn=null,Rt=0,$m(),wn)}function W_(){for(;bt!==null&&!ge();)jT(bt)}function jT(r){var s=vT(r.alternate,r,as);r.memoizedProps=r.pendingProps,s===null?PS(r):bt=s}function YT(r){var s=r,d=s.alternate;switch(s.tag){case 15:case 0:s=fT(d,s,s.pendingProps,s.type,void 0,Rt);break;case 11:s=fT(d,s,s.pendingProps,s.type.render,s.ref,Rt);break;case 5:k5(s);default:CT(d,s),s=bt=XD(s,as),s=vT(d,s,as)}r.memoizedProps=r.pendingProps,s===null?PS(r):bt=s}function gd(r,s,d,p){Ko=Zc=null,k5(s),ad=null,p1=0;var w=s.return;try{if(N_(r,w,s,d,Rt)){wn=1,bS(r,ea(d,r.current)),bt=null;return}}catch(I){if(w!==null)throw bt=w,I;wn=1,bS(r,ea(d,r.current)),bt=null;return}s.flags&32768?(Ft||p===1?r=!0:cd||(Rt&536870912)!==0?r=!1:(yl=r=!0,(p===2||p===9||p===3||p===6)&&(p=ra.current,p!==null&&p.tag===13&&(p.flags|=16384))),XT(s,r)):PS(s)}function PS(r){var s=r;do{if((s.flags&32768)!==0){XT(s,yl);return}r=s.return;var d=B_(s.alternate,s,as);if(d!==null){bt=d;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=r}while(s!==null);wn===0&&(wn=5)}function XT(r,s){do{var d=G_(r.alternate,r);if(d!==null){d.flags&=32767,bt=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!s&&(r=r.sibling,r!==null)){bt=r;return}bt=r=d}while(r!==null);wn=6,bt=null}function WT(r,s,d,p,w,I,j,K,le){r.cancelPendingCommit=null;do LS();while(bi!==0);if((Bt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(I=s.lanes|s.childLanes,I|=d5,dn(r,d,I,j,K,le),r===tn&&(bt=tn=null,Rt=0),dd=s,Cl=r,hd=d,mb=I,Sb=w,qT=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,J_(Ae,function(){return ew(),null})):(r.callbackNode=null,r.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=k.T,k.T=null,w=G.p,G.p=2,j=Bt,Bt|=4;try{V_(r,s,d)}finally{Bt=j,G.p=w,k.T=p}}bi=1,$T(),KT(),ZT()}}function $T(){if(bi===1){bi=0;var r=Cl,s=dd,d=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||d){d=k.T,k.T=null;var p=G.p;G.p=2;var w=Bt;Bt|=4;try{ET(s,r);var I=_b,j=ND(r.containerInfo),K=I.focusedElem,le=I.selectionRange;if(j!==K&&K&&K.ownerDocument&&UD(K.ownerDocument.documentElement,K)){if(le!==null&&o5(K)){var be=le.start,Ie=le.end;if(Ie===void 0&&(Ie=be),"selectionStart"in K)K.selectionStart=be,K.selectionEnd=Math.min(Ie,K.value.length);else{var Me=K.ownerDocument||document,De=Me&&Me.defaultView||window;if(De.getSelection){var Te=De.getSelection(),rt=K.textContent.length,Je=Math.min(le.start,rt),jt=le.end===void 0?Je:Math.min(le.end,rt);!Te.extend&&Je>jt&&(j=jt,jt=Je,Je=j);var Se=kD(K,Je),de=kD(K,jt);if(Se&&de&&(Te.rangeCount!==1||Te.anchorNode!==Se.node||Te.anchorOffset!==Se.offset||Te.focusNode!==de.node||Te.focusOffset!==de.offset)){var ve=Me.createRange();ve.setStart(Se.node,Se.offset),Te.removeAllRanges(),Je>jt?(Te.addRange(ve),Te.extend(de.node,de.offset)):(ve.setEnd(de.node,de.offset),Te.addRange(ve))}}}}for(Me=[],Te=K;Te=Te.parentNode;)Te.nodeType===1&&Me.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Me.length;K++){var _e=Me[K];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}VS=!!Eb,_b=Eb=null}finally{Bt=w,G.p=p,k.T=d}}r.current=s,bi=2}}function KT(){if(bi===2){bi=0;var r=Cl,s=dd,d=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||d){d=k.T,k.T=null;var p=G.p;G.p=2;var w=Bt;Bt|=4;try{OT(r,s.alternate,s)}finally{Bt=w,G.p=p,k.T=d}}bi=3}}function ZT(){if(bi===4||bi===3){bi=0,ye();var r=Cl,s=dd,d=hd,p=qT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bi=5:(bi=0,dd=Cl=null,JT(r,r.pendingLanes));var w=r.pendingLanes;if(w===0&&(bl=null),qv(d),s=s.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ce,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=k.T,w=G.p,G.p=2,k.T=null;try{for(var I=r.onRecoverableError,j=0;j<p.length;j++){var K=p[j];I(K.value,{componentStack:K.stack})}}finally{k.T=s,G.p=w}}(hd&3)!==0&&LS(),mo(r),w=r.pendingLanes,(d&4194090)!==0&&(w&42)!==0?r===yb?w1++:(w1=0,yb=r):w1=0,x1(0)}}function JT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,r1(s)))}function LS(r){return $T(),KT(),ZT(),ew()}function ew(){if(bi!==5)return!1;var r=Cl,s=mb;mb=0;var d=qv(hd),p=k.T,w=G.p;try{G.p=32>d?32:d,k.T=null,d=Sb,Sb=null;var I=Cl,j=hd;if(bi=0,dd=Cl=null,hd=0,(Bt&6)!==0)throw Error(i(331));var K=Bt;if(Bt|=4,UT(I.current),MT(I,I.current,j,d),Bt=K,x1(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ce,I)}catch{}return!0}finally{G.p=w,k.T=p,JT(r,s)}}function tw(r,s,d){s=ea(d,s),s=$5(r.stateNode,s,2),r=dl(r,s,2),r!==null&&(Lt(r,2),mo(r))}function Wt(r,s,d){if(r.tag===3)tw(r,r,d);else for(;s!==null;){if(s.tag===3){tw(s,r,d);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(bl===null||!bl.has(p))){r=ea(d,r),d=aT(2),p=dl(s,d,2),p!==null&&(oT(d,p,s,r),Lt(p,2),mo(p));break}}s=s.return}}function Db(r,s,d){var p=r.pingCache;if(p===null){p=r.pingCache=new H_;var w=new Set;p.set(s,w)}else w=p.get(s),w===void 0&&(w=new Set,p.set(s,w));w.has(d)||(hb=!0,w.add(d),r=$_.bind(null,r,s,d),s.then(r,r))}function $_(r,s,d){var p=r.pingCache;p!==null&&p.delete(s),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,tn===r&&(Rt&d)===d&&(wn===4||wn===3&&(Rt&62914560)===Rt&&300>J()-pb?(Bt&2)===0&&fd(r,0):fb|=d,ud===Rt&&(ud=0)),mo(r)}function nw(r,s){s===0&&(s=qi()),r=W0(r,s),r!==null&&(Lt(r,s),mo(r))}function K_(r){var s=r.memoizedState,d=0;s!==null&&(d=s.retryLane),nw(r,d)}function Z_(r,s){var d=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(d=w.retryLane);break;case 19:p=r.stateNode;break;case 22:p=r.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(s),nw(r,d)}function J_(r,s){return Be(r,s)}var IS=null,pd=null,Tb=!1,ES=!1,wb=!1,au=0;function mo(r){r!==pd&&r.next===null&&(pd===null?IS=pd=r:pd=pd.next=r),ES=!0,Tb||(Tb=!0,tM())}function x1(r,s){if(!wb&&ES){wb=!0;do for(var d=!1,p=IS;p!==null;){if(r!==0){var w=p.pendingLanes;if(w===0)var I=0;else{var j=p.suspendedLanes,K=p.pingedLanes;I=(1<<31-je(42|r)+1)-1,I&=w&~(j&~K),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(d=!0,ow(p,I))}else I=Rt,I=Fn(p,p===tn?I:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(I&3)===0||We(p,I)||(d=!0,ow(p,I));p=p.next}while(d);wb=!1}}function eM(){iw()}function iw(){ES=Tb=!1;var r=0;au!==0&&(cM()&&(r=au),au=0);for(var s=J(),d=null,p=IS;p!==null;){var w=p.next,I=rw(p,s);I===0?(p.next=null,d===null?IS=w:d.next=w,w===null&&(pd=d)):(d=p,(r!==0||(I&3)!==0)&&(ES=!0)),p=w}x1(r)}function rw(r,s){for(var d=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,I=r.pendingLanes&-62914561;0<I;){var j=31-je(I),K=1<<j,le=w[j];le===-1?((K&d)===0||(K&p)!==0)&&(w[j]=Mt(K,s)):le<=s&&(r.expiredLanes|=K),I&=~K}if(s=tn,d=Rt,d=Fn(r,r===s?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p=r.callbackNode,d===0||r===s&&(Gt===2||Gt===9)||r.cancelPendingCommit!==null)return p!==null&&p!==null&&B(p),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||We(r,d)){if(s=d&-d,s===r.callbackPriority)return s;switch(p!==null&&B(p),qv(d)){case 2:case 8:d=we;break;case 32:d=Ae;break;case 268435456:d=Ee;break;default:d=Ae}return p=aw.bind(null,r),d=Be(d,p),r.callbackPriority=s,r.callbackNode=d,s}return p!==null&&p!==null&&B(p),r.callbackPriority=2,r.callbackNode=null,2}function aw(r,s){if(bi!==0&&bi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(LS()&&r.callbackNode!==d)return null;var p=Rt;return p=Fn(r,r===tn?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),p===0?null:(GT(r,p,s),rw(r,J()),r.callbackNode!=null&&r.callbackNode===d?aw.bind(null,r):null)}function ow(r,s){if(LS())return null;GT(r,s,!0)}function tM(){dM(function(){(Bt&6)!==0?Be(ue,eM):iw()})}function xb(){return au===0&&(au=en()),au}function sw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:zm(""+r)}function lw(r,s){var d=s.ownerDocument.createElement("input");return d.name=s.name,d.value=s.value,r.id&&d.setAttribute("form",r.id),s.parentNode.insertBefore(d,s),r=new FormData(r),d.parentNode.removeChild(d),r}function nM(r,s,d,p,w){if(s==="submit"&&d&&d.stateNode===w){var I=sw((w[Ki]||null).action),j=p.submitter;j&&(s=(s=j[Ki]||null)?sw(s.formAction):j.getAttribute("formAction"),s!==null&&(I=s,j=null));var K=new Ym("action","action",null,p,w);r.push({event:K,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(au!==0){var le=j?lw(w,j):new FormData(w);H5(d,{pending:!0,data:le,method:w.method,action:I},null,le)}}else typeof I=="function"&&(K.preventDefault(),le=j?lw(w,j):new FormData(w),H5(d,{pending:!0,data:le,method:w.method,action:I},I,le))},currentTarget:w}]})}}for(var Ab=0;Ab<u5.length;Ab++){var Rb=u5[Ab],iM=Rb.toLowerCase(),rM=Rb[0].toUpperCase()+Rb.slice(1);Ba(iM,"on"+rM)}Ba(GD,"onAnimationEnd"),Ba(VD,"onAnimationIteration"),Ba(zD,"onAnimationStart"),Ba("dblclick","onDoubleClick"),Ba("focusin","onFocus"),Ba("focusout","onBlur"),Ba(C_,"onTransitionRun"),Ba(D_,"onTransitionStart"),Ba(T_,"onTransitionCancel"),Ba(QD,"onTransitionEnd"),q0("onMouseEnter",["mouseout","mouseover"]),q0("onMouseLeave",["mouseout","mouseover"]),q0("onPointerEnter",["pointerout","pointerover"]),q0("onPointerLeave",["pointerout","pointerover"]),zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zc("onBeforeInput",["compositionend","keypress","textInput","paste"]),zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(A1));function cw(r,s){s=(s&4)!==0;for(var d=0;d<r.length;d++){var p=r[d],w=p.event;p=p.listeners;e:{var I=void 0;if(s)for(var j=p.length-1;0<=j;j--){var K=p[j],le=K.instance,be=K.currentTarget;if(K=K.listener,le!==I&&w.isPropagationStopped())break e;I=K,w.currentTarget=be;try{I(w)}catch(Ie){vS(Ie)}w.currentTarget=null,I=le}else for(j=0;j<p.length;j++){if(K=p[j],le=K.instance,be=K.currentTarget,K=K.listener,le!==I&&w.isPropagationStopped())break e;I=K,w.currentTarget=be;try{I(w)}catch(Ie){vS(Ie)}w.currentTarget=null,I=le}}}}function Ct(r,s){var d=s[Bv];d===void 0&&(d=s[Bv]=new Set);var p=r+"__bubble";d.has(p)||(uw(s,r,2,!1),d.add(p))}function Ob(r,s,d){var p=0;s&&(p|=4),uw(d,r,p,s)}var _S="_reactListening"+Math.random().toString(36).slice(2);function Pb(r){if(!r[_S]){r[_S]=!0,iD.forEach(function(d){d!=="selectionchange"&&(aM.has(d)||Ob(d,!1,r),Ob(d,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_S]||(s[_S]=!0,Ob("selectionchange",!1,s))}}function uw(r,s,d,p){switch(Mw(s)){case 2:var w=EM;break;case 8:w=_M;break;default:w=zb}d=w.bind(null,s,d,r),w=void 0,!Kv||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(s,d,{capture:!0,passive:w}):r.addEventListener(s,d,!0):w!==void 0?r.addEventListener(s,d,{passive:w}):r.addEventListener(s,d,!1)}function Lb(r,s,d,p,w){var I=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var j=p.tag;if(j===3||j===4){var K=p.stateNode.containerInfo;if(K===w)break;if(j===4)for(j=p.return;j!==null;){var le=j.tag;if((le===3||le===4)&&j.stateNode.containerInfo===w)return;j=j.return}for(;K!==null;){if(j=k0(K),j===null)return;if(le=j.tag,le===5||le===6||le===26||le===27){p=I=j;continue e}K=K.parentNode}}p=p.return}SD(function(){var be=I,Ie=Wv(d),Me=[];e:{var De=HD.get(r);if(De!==void 0){var Te=Ym,rt=r;switch(r){case"keypress":if(Hm(d)===0)break e;case"keydown":case"keyup":Te=JE;break;case"focusin":rt="focus",Te=t5;break;case"focusout":rt="blur",Te=t5;break;case"beforeblur":case"afterblur":Te=t5;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=bD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=n_;break;case GD:case VD:case zD:Te=QE;break;case QD:Te=r_;break;case"scroll":case"scrollend":Te=qE;break;case"wheel":Te=o_;break;case"copy":case"cut":case"paste":Te=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=DD;break;case"toggle":case"beforetoggle":Te=l_}var Je=(s&4)!==0,jt=!Je&&(r==="scroll"||r==="scrollend"),Se=Je?De!==null?De+"Capture":null:De;Je=[];for(var de=be,ve;de!==null;){var _e=de;if(ve=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ve===null||Se===null||(_e=Hf(de,Se),_e!=null&&Je.push(R1(de,_e,ve))),jt)break;de=de.return}0<Je.length&&(De=new Te(De,rt,null,d,Ie),Me.push({event:De,listeners:Je}))}}if((s&7)===0){e:{if(De=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",De&&d!==Xv&&(rt=d.relatedTarget||d.fromElement)&&(k0(rt)||rt[F0]))break e;if((Te||De)&&(De=Ie.window===Ie?Ie:(De=Ie.ownerDocument)?De.defaultView||De.parentWindow:window,Te?(rt=d.relatedTarget||d.toElement,Te=be,rt=rt?k0(rt):null,rt!==null&&(jt=o(rt),Je=rt.tag,rt!==jt||Je!==5&&Je!==27&&Je!==6)&&(rt=null)):(Te=null,rt=be),Te!==rt)){if(Je=bD,_e="onMouseLeave",Se="onMouseEnter",de="mouse",(r==="pointerout"||r==="pointerover")&&(Je=DD,_e="onPointerLeave",Se="onPointerEnter",de="pointer"),jt=Te==null?De:Qf(Te),ve=rt==null?De:Qf(rt),De=new Je(_e,de+"leave",Te,d,Ie),De.target=jt,De.relatedTarget=ve,_e=null,k0(Ie)===be&&(Je=new Je(Se,de+"enter",rt,d,Ie),Je.target=ve,Je.relatedTarget=jt,_e=Je),jt=_e,Te&&rt)t:{for(Je=Te,Se=rt,de=0,ve=Je;ve;ve=md(ve))de++;for(ve=0,_e=Se;_e;_e=md(_e))ve++;for(;0<de-ve;)Je=md(Je),de--;for(;0<ve-de;)Se=md(Se),ve--;for(;de--;){if(Je===Se||Se!==null&&Je===Se.alternate)break t;Je=md(Je),Se=md(Se)}Je=null}else Je=null;Te!==null&&dw(Me,De,Te,Je,!1),rt!==null&&jt!==null&&dw(Me,jt,rt,Je,!0)}}e:{if(De=be?Qf(be):window,Te=De.nodeName&&De.nodeName.toLowerCase(),Te==="select"||Te==="input"&&De.type==="file")var Ye=LD;else if(OD(De))if(ID)Ye=y_;else{Ye=m_;var St=p_}else Te=De.nodeName,!Te||Te.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?be&&Yv(be.elementType)&&(Ye=LD):Ye=S_;if(Ye&&(Ye=Ye(r,be))){PD(Me,Ye,d,Ie);break e}St&&St(r,De,be),r==="focusout"&&be&&De.type==="number"&&be.memoizedProps.value!=null&&jv(De,"number",De.value)}switch(St=be?Qf(be):window,r){case"focusin":(OD(St)||St.contentEditable==="true")&&(j0=St,s5=be,Jf=null);break;case"focusout":Jf=s5=j0=null;break;case"mousedown":l5=!0;break;case"contextmenu":case"mouseup":case"dragend":l5=!1,qD(Me,d,Ie);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":qD(Me,d,Ie)}var Ze;if(i5)e:{switch(r){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else H0?AD(r,d)&&(tt="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(tt="onCompositionStart");tt&&(TD&&d.locale!=="ko"&&(H0||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&H0&&(Ze=yD()):(sl=Ie,Zv="value"in sl?sl.value:sl.textContent,H0=!0)),St=MS(be,tt),0<St.length&&(tt=new CD(tt,r,null,d,Ie),Me.push({event:tt,listeners:St}),Ze?tt.data=Ze:(Ze=RD(d),Ze!==null&&(tt.data=Ze)))),(Ze=u_?d_(r,d):h_(r,d))&&(tt=MS(be,"onBeforeInput"),0<tt.length&&(St=new CD("onBeforeInput","beforeinput",null,d,Ie),Me.push({event:St,listeners:tt}),St.data=Ze)),nM(Me,r,be,d,Ie)}cw(Me,s)})}function R1(r,s,d){return{instance:r,listener:s,currentTarget:d}}function MS(r,s){for(var d=s+"Capture",p=[];r!==null;){var w=r,I=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||I===null||(w=Hf(r,d),w!=null&&p.unshift(R1(r,w,I)),w=Hf(r,s),w!=null&&p.push(R1(r,w,I))),r.tag===3)return p;r=r.return}return[]}function md(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function dw(r,s,d,p,w){for(var I=s._reactName,j=[];d!==null&&d!==p;){var K=d,le=K.alternate,be=K.stateNode;if(K=K.tag,le!==null&&le===p)break;K!==5&&K!==26&&K!==27||be===null||(le=be,w?(be=Hf(d,I),be!=null&&j.unshift(R1(d,be,le))):w||(be=Hf(d,I),be!=null&&j.push(R1(d,be,le)))),d=d.return}j.length!==0&&r.push({event:s,listeners:j})}var oM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function hw(r){return(typeof r=="string"?r:""+r).replace(oM,`
`).replace(sM,"")}function fw(r,s){return s=hw(s),hw(r)===s}function FS(){}function Ht(r,s,d,p,w,I){switch(d){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||V0(r,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&V0(r,""+p);break;case"className":Bm(r,"class",p);break;case"tabIndex":Bm(r,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Bm(r,d,p);break;case"style":pD(r,p,I);break;case"data":if(s!=="object"){Bm(r,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||d!=="href")){r.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=zm(""+p),r.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(d==="formAction"?(s!=="input"&&Ht(r,s,"name",w.name,w,null),Ht(r,s,"formEncType",w.formEncType,w,null),Ht(r,s,"formMethod",w.formMethod,w,null),Ht(r,s,"formTarget",w.formTarget,w,null)):(Ht(r,s,"encType",w.encType,w,null),Ht(r,s,"method",w.method,w,null),Ht(r,s,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){r.removeAttribute(d);break}p=zm(""+p),r.setAttribute(d,p);break;case"onClick":p!=null&&(r.onclick=FS);break;case"onScroll":p!=null&&Ct("scroll",r);break;case"onScrollEnd":p!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"multiple":r.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":r.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){r.removeAttribute("xlink:href");break}d=zm(""+p),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""+p):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":p===!0?r.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?r.setAttribute(d,p):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?r.setAttribute(d,p):r.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?r.removeAttribute(d):r.setAttribute(d,p);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),qm(r,"popover",p);break;case"xlinkActuate":jo(r,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":jo(r,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":jo(r,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":jo(r,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":jo(r,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":jo(r,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":jo(r,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":jo(r,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":jo(r,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":qm(r,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=UE.get(d)||d,qm(r,d,p))}}function Ib(r,s,d,p,w,I){switch(d){case"style":pD(r,p,I);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(d=p.__html,d!=null){if(w.children!=null)throw Error(i(60));r.innerHTML=d}}break;case"children":typeof p=="string"?V0(r,p):(typeof p=="number"||typeof p=="bigint")&&V0(r,""+p);break;case"onScroll":p!=null&&Ct("scroll",r);break;case"onScrollEnd":p!=null&&Ct("scrollend",r);break;case"onClick":p!=null&&(r.onclick=FS);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rD.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),s=d.slice(2,w?d.length-7:void 0),I=r[Ki]||null,I=I!=null?I[d]:null,typeof I=="function"&&r.removeEventListener(s,I,w),typeof p=="function")){typeof I!="function"&&I!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(s,p,w);break e}d in r?r[d]=p:p===!0?r.setAttribute(d,""):qm(r,d,p)}}}function Ci(r,s,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var p=!1,w=!1,I;for(I in d)if(d.hasOwnProperty(I)){var j=d[I];if(j!=null)switch(I){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(r,s,I,j,d,null)}}w&&Ht(r,s,"srcSet",d.srcSet,d,null),p&&Ht(r,s,"src",d.src,d,null);return;case"input":Ct("invalid",r);var K=I=j=w=null,le=null,be=null;for(p in d)if(d.hasOwnProperty(p)){var Ie=d[p];if(Ie!=null)switch(p){case"name":w=Ie;break;case"type":j=Ie;break;case"checked":le=Ie;break;case"defaultChecked":be=Ie;break;case"value":I=Ie;break;case"defaultValue":K=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(i(137,s));break;default:Ht(r,s,p,Ie,d,null)}}dD(r,I,K,le,be,j,w,!1),Gm(r);return;case"select":Ct("invalid",r),p=j=I=null;for(w in d)if(d.hasOwnProperty(w)&&(K=d[w],K!=null))switch(w){case"value":I=K;break;case"defaultValue":j=K;break;case"multiple":p=K;default:Ht(r,s,w,K,d,null)}s=I,d=j,r.multiple=!!p,s!=null?G0(r,!!p,s,!1):d!=null&&G0(r,!!p,d,!0);return;case"textarea":Ct("invalid",r),I=w=p=null;for(j in d)if(d.hasOwnProperty(j)&&(K=d[j],K!=null))switch(j){case"value":p=K;break;case"defaultValue":w=K;break;case"children":I=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:Ht(r,s,j,K,d,null)}fD(r,p,w,I),Gm(r);return;case"option":for(le in d)if(d.hasOwnProperty(le)&&(p=d[le],p!=null))switch(le){case"selected":r.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ht(r,s,le,p,d,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(p=0;p<A1.length;p++)Ct(A1[p],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(be in d)if(d.hasOwnProperty(be)&&(p=d[be],p!=null))switch(be){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ht(r,s,be,p,d,null)}return;default:if(Yv(s)){for(Ie in d)d.hasOwnProperty(Ie)&&(p=d[Ie],p!==void 0&&Ib(r,s,Ie,p,d,void 0));return}}for(K in d)d.hasOwnProperty(K)&&(p=d[K],p!=null&&Ht(r,s,K,p,d,null))}function lM(r,s,d,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,I=null,j=null,K=null,le=null,be=null,Ie=null;for(Te in d){var Me=d[Te];if(d.hasOwnProperty(Te)&&Me!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":le=Me;default:p.hasOwnProperty(Te)||Ht(r,s,Te,null,p,Me)}}for(var De in p){var Te=p[De];if(Me=d[De],p.hasOwnProperty(De)&&(Te!=null||Me!=null))switch(De){case"type":I=Te;break;case"name":w=Te;break;case"checked":be=Te;break;case"defaultChecked":Ie=Te;break;case"value":j=Te;break;case"defaultValue":K=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,s));break;default:Te!==Me&&Ht(r,s,De,Te,p,Me)}}Hv(r,j,K,le,be,Ie,I,w);return;case"select":Te=j=K=De=null;for(I in d)if(le=d[I],d.hasOwnProperty(I)&&le!=null)switch(I){case"value":break;case"multiple":Te=le;default:p.hasOwnProperty(I)||Ht(r,s,I,null,p,le)}for(w in p)if(I=p[w],le=d[w],p.hasOwnProperty(w)&&(I!=null||le!=null))switch(w){case"value":De=I;break;case"defaultValue":K=I;break;case"multiple":j=I;default:I!==le&&Ht(r,s,w,I,p,le)}s=K,d=j,p=Te,De!=null?G0(r,!!d,De,!1):!!p!=!!d&&(s!=null?G0(r,!!d,s,!0):G0(r,!!d,d?[]:"",!1));return;case"textarea":Te=De=null;for(K in d)if(w=d[K],d.hasOwnProperty(K)&&w!=null&&!p.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Ht(r,s,K,null,p,w)}for(j in p)if(w=p[j],I=d[j],p.hasOwnProperty(j)&&(w!=null||I!=null))switch(j){case"value":De=w;break;case"defaultValue":Te=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:w!==I&&Ht(r,s,j,w,p,I)}hD(r,De,Te);return;case"option":for(var rt in d)if(De=d[rt],d.hasOwnProperty(rt)&&De!=null&&!p.hasOwnProperty(rt))switch(rt){case"selected":r.selected=!1;break;default:Ht(r,s,rt,null,p,De)}for(le in p)if(De=p[le],Te=d[le],p.hasOwnProperty(le)&&De!==Te&&(De!=null||Te!=null))switch(le){case"selected":r.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Ht(r,s,le,De,p,Te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in d)De=d[Je],d.hasOwnProperty(Je)&&De!=null&&!p.hasOwnProperty(Je)&&Ht(r,s,Je,null,p,De);for(be in p)if(De=p[be],Te=d[be],p.hasOwnProperty(be)&&De!==Te&&(De!=null||Te!=null))switch(be){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,s));break;default:Ht(r,s,be,De,p,Te)}return;default:if(Yv(s)){for(var jt in d)De=d[jt],d.hasOwnProperty(jt)&&De!==void 0&&!p.hasOwnProperty(jt)&&Ib(r,s,jt,void 0,p,De);for(Ie in p)De=p[Ie],Te=d[Ie],!p.hasOwnProperty(Ie)||De===Te||De===void 0&&Te===void 0||Ib(r,s,Ie,De,p,Te);return}}for(var Se in d)De=d[Se],d.hasOwnProperty(Se)&&De!=null&&!p.hasOwnProperty(Se)&&Ht(r,s,Se,null,p,De);for(Me in p)De=p[Me],Te=d[Me],!p.hasOwnProperty(Me)||De===Te||De==null&&Te==null||Ht(r,s,Me,De,p,Te)}var Eb=null,_b=null;function kS(r){return r.nodeType===9?r:r.ownerDocument}function gw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Mb(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fb=null;function cM(){var r=window.event;return r&&r.type==="popstate"?r===Fb?!1:(Fb=r,!0):(Fb=null,!1)}var mw=typeof setTimeout=="function"?setTimeout:void 0,uM=typeof clearTimeout=="function"?clearTimeout:void 0,Sw=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof Sw<"u"?function(r){return Sw.resolve(null).then(r).catch(hM)}:mw;function hM(r){setTimeout(function(){throw r})}function Tl(r){return r==="head"}function yw(r,s){var d=s,p=0,w=0;do{var I=d.nextSibling;if(r.removeChild(d),I&&I.nodeType===8)if(d=I.data,d==="/$"){if(0<p&&8>p){d=p;var j=r.ownerDocument;if(d&1&&O1(j.documentElement),d&2&&O1(j.body),d&4)for(d=j.head,O1(d),j=d.firstChild;j;){var K=j.nextSibling,le=j.nodeName;j[zf]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=K}}if(w===0){r.removeChild(I),k1(s);return}w--}else d==="$"||d==="$?"||d==="$!"?w++:p=d.charCodeAt(0)-48;else p=0;d=I}while(d);k1(s)}function kb(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var d=s;switch(s=s.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":kb(d),Gv(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function fM(r,s,d,p){for(;r.nodeType===1;){var w=d;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(p){if(!r[zf])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(I=r.getAttribute("rel"),I==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(I!==w.rel||r.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||r.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||r.getAttribute("title")!==(w.title==null?null:w.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(I=r.getAttribute("src"),(I!==(w.src==null?null:w.src)||r.getAttribute("type")!==(w.type==null?null:w.type)||r.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&I&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var I=w.name==null?null:""+w.name;if(w.type==="hidden"&&r.getAttribute("name")===I)return r}else return r;if(r=Va(r.nextSibling),r===null)break}return null}function gM(r,s,d){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Va(r.nextSibling),r===null))return null;return r}function Ub(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function pM(r,s){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")s();else{var p=function(){s(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),r._reactRetry=p}}function Va(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Nb=null;function vw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(s===0)return r;s--}else d==="/$"&&s++}r=r.previousSibling}return null}function bw(r,s,d){switch(s=kS(d),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function O1(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Gv(r)}var oa=new Map,Cw=new Set;function US(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var os=G.d;G.d={f:mM,r:SM,D:yM,C:vM,L:bM,m:CM,X:TM,S:DM,M:wM};function mM(){var r=os.f(),s=OS();return r||s}function SM(r){var s=U0(r);s!==null&&s.tag===5&&s.type==="form"?G8(s):os.r(r)}var Sd=typeof document>"u"?null:document;function Dw(r,s,d){var p=Sd;if(p&&typeof s=="string"&&s){var w=Jr(s);w='link[rel="'+r+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),Cw.has(w)||(Cw.add(w),r={rel:r,crossOrigin:d,href:s},p.querySelector(w)===null&&(s=p.createElement("link"),Ci(s,"link",r),di(s),p.head.appendChild(s)))}}function yM(r){os.D(r),Dw("dns-prefetch",r,null)}function vM(r,s){os.C(r,s),Dw("preconnect",r,s)}function bM(r,s,d){os.L(r,s,d);var p=Sd;if(p&&r&&s){var w='link[rel="preload"][as="'+Jr(s)+'"]';s==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Jr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Jr(d.imageSizes)+'"]')):w+='[href="'+Jr(r)+'"]';var I=w;switch(s){case"style":I=yd(r);break;case"script":I=vd(r)}oa.has(I)||(r=g({rel:"preload",href:s==="image"&&d&&d.imageSrcSet?void 0:r,as:s},d),oa.set(I,r),p.querySelector(w)!==null||s==="style"&&p.querySelector(P1(I))||s==="script"&&p.querySelector(L1(I))||(s=p.createElement("link"),Ci(s,"link",r),di(s),p.head.appendChild(s)))}}function CM(r,s){os.m(r,s);var d=Sd;if(d&&r){var p=s&&typeof s.as=="string"?s.as:"script",w='link[rel="modulepreload"][as="'+Jr(p)+'"][href="'+Jr(r)+'"]',I=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=vd(r)}if(!oa.has(I)&&(r=g({rel:"modulepreload",href:r},s),oa.set(I,r),d.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(L1(I)))return}p=d.createElement("link"),Ci(p,"link",r),di(p),d.head.appendChild(p)}}}function DM(r,s,d){os.S(r,s,d);var p=Sd;if(p&&r){var w=N0(p).hoistableStyles,I=yd(r);s=s||"default";var j=w.get(I);if(!j){var K={loading:0,preload:null};if(j=p.querySelector(P1(I)))K.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},d),(d=oa.get(I))&&qb(r,d);var le=j=p.createElement("link");di(le),Ci(le,"link",r),le._p=new Promise(function(be,Ie){le.onload=be,le.onerror=Ie}),le.addEventListener("load",function(){K.loading|=1}),le.addEventListener("error",function(){K.loading|=2}),K.loading|=4,NS(j,s,p)}j={type:"stylesheet",instance:j,count:1,state:K},w.set(I,j)}}}function TM(r,s){os.X(r,s);var d=Sd;if(d&&r){var p=N0(d).hoistableScripts,w=vd(r),I=p.get(w);I||(I=d.querySelector(L1(w)),I||(r=g({src:r,async:!0},s),(s=oa.get(w))&&Bb(r,s),I=d.createElement("script"),di(I),Ci(I,"link",r),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},p.set(w,I))}}function wM(r,s){os.M(r,s);var d=Sd;if(d&&r){var p=N0(d).hoistableScripts,w=vd(r),I=p.get(w);I||(I=d.querySelector(L1(w)),I||(r=g({src:r,async:!0,type:"module"},s),(s=oa.get(w))&&Bb(r,s),I=d.createElement("script"),di(I),Ci(I,"link",r),d.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},p.set(w,I))}}function Tw(r,s,d,p){var w=(w=fe.current)?US(w):null;if(!w)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(s=yd(d.href),d=N0(w).hoistableStyles,p=d.get(s),p||(p={type:"style",instance:null,count:0,state:null},d.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=yd(d.href);var I=N0(w).hoistableStyles,j=I.get(r);if(j||(w=w.ownerDocument||w,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(r,j),(I=w.querySelector(P1(r)))&&!I._p&&(j.instance=I,j.state.loading=5),oa.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},oa.set(r,d),I||xM(w,r,d,j.state))),s&&p===null)throw Error(i(528,""));return j}if(s&&p!==null)throw Error(i(529,""));return null;case"script":return s=d.async,d=d.src,typeof d=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vd(d),d=N0(w).hoistableScripts,p=d.get(s),p||(p={type:"script",instance:null,count:0,state:null},d.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yd(r){return'href="'+Jr(r)+'"'}function P1(r){return'link[rel="stylesheet"]['+r+"]"}function ww(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function xM(r,s,d,p){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=r.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Ci(s,"link",d),di(s),r.head.appendChild(s))}function vd(r){return'[src="'+Jr(r)+'"]'}function L1(r){return"script[async]"+r}function xw(r,s,d){if(s.count++,s.instance===null)switch(s.type){case"style":var p=r.querySelector('style[data-href~="'+Jr(d.href)+'"]');if(p)return s.instance=p,di(p),p;var w=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(r.ownerDocument||r).createElement("style"),di(p),Ci(p,"style",w),NS(p,d.precedence,r),s.instance=p;case"stylesheet":w=yd(d.href);var I=r.querySelector(P1(w));if(I)return s.state.loading|=4,s.instance=I,di(I),I;p=ww(d),(w=oa.get(w))&&qb(p,w),I=(r.ownerDocument||r).createElement("link"),di(I);var j=I;return j._p=new Promise(function(K,le){j.onload=K,j.onerror=le}),Ci(I,"link",p),s.state.loading|=4,NS(I,d.precedence,r),s.instance=I;case"script":return I=vd(d.src),(w=r.querySelector(L1(I)))?(s.instance=w,di(w),w):(p=d,(w=oa.get(I))&&(p=g({},d),Bb(p,w)),r=r.ownerDocument||r,w=r.createElement("script"),di(w),Ci(w,"link",p),r.head.appendChild(w),s.instance=w);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,NS(p,d.precedence,r));return s.instance}function NS(r,s,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,I=w,j=0;j<p.length;j++){var K=p[j];if(K.dataset.precedence===s)I=K;else if(I!==w)break}I?I.parentNode.insertBefore(r,I.nextSibling):(s=d.nodeType===9?d.head:d,s.insertBefore(r,s.firstChild))}function qb(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Bb(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var qS=null;function Aw(r,s,d){if(qS===null){var p=new Map,w=qS=new Map;w.set(d,p)}else w=qS,p=w.get(d),p||(p=new Map,w.set(d,p));if(p.has(r))return p;for(p.set(r,null),d=d.getElementsByTagName(r),w=0;w<d.length;w++){var I=d[w];if(!(I[zf]||I[Pi]||r==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var j=I.getAttribute(s)||"";j=r+j;var K=p.get(j);K?K.push(I):p.set(j,[I])}}return p}function Rw(r,s,d){r=r.ownerDocument||r,r.head.insertBefore(d,s==="title"?r.querySelector("head > title"):null)}function AM(r,s,d){if(d===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ow(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var I1=null;function RM(){}function OM(r,s,d){if(I1===null)throw Error(i(475));var p=I1;if(s.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var w=yd(d.href),I=r.querySelector(P1(w));if(I){r=I._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(p.count++,p=BS.bind(p),r.then(p,p)),s.state.loading|=4,s.instance=I,di(I);return}I=r.ownerDocument||r,d=ww(d),(w=oa.get(w))&&qb(d,w),I=I.createElement("link"),di(I);var j=I;j._p=new Promise(function(K,le){j.onload=K,j.onerror=le}),Ci(I,"link",d),s.instance=I}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(p.count++,s=BS.bind(p),r.addEventListener("load",s),r.addEventListener("error",s))}}function PM(){if(I1===null)throw Error(i(475));var r=I1;return r.stylesheets&&r.count===0&&Gb(r,r.stylesheets),0<r.count?function(s){var d=setTimeout(function(){if(r.stylesheets&&Gb(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(d)}}:null}function BS(){if(this.count--,this.count===0){if(this.stylesheets)Gb(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var GS=null;function Gb(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,GS=new Map,s.forEach(LM,r),GS=null,BS.call(r))}function LM(r,s){if(!(s.state.loading&4)){var d=GS.get(r);if(d)var p=d.get(null);else{d=new Map,GS.set(r,d);for(var w=r.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<w.length;I++){var j=w[I];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(d.set(j.dataset.precedence,j),p=j)}p&&d.set(null,p)}w=s.instance,j=w.getAttribute("data-precedence"),I=d.get(j)||p,I===p&&d.set(null,w),d.set(j,w),this.count++,p=BS.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),I?I.parentNode.insertBefore(w,I.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(w,r.firstChild)),s.state.loading|=4}}var E1={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function IM(r,s,d,p,w,I,j,K){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=I,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function Pw(r,s,d,p,w,I,j,K,le,be,Ie,Me){return r=new IM(r,s,d,j,K,le,be,Me),s=1,I===!0&&(s|=24),I=Ar(3,null,null,s),r.current=I,I.stateNode=r,s=D5(),s.refCount++,r.pooledCache=s,s.refCount++,I.memoizedState={element:p,isDehydrated:d,cache:s},A5(I),r}function Lw(r){return r?(r=$0,r):$0}function Iw(r,s,d,p,w,I){w=Lw(w),p.context===null?p.context=w:p.pendingContext=w,p=ul(s),p.payload={element:d},I=I===void 0?null:I,I!==null&&(p.callback=I),d=dl(r,p,s),d!==null&&(Ir(d,r,s),l1(d,r,s))}function Ew(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<s?d:s}}function Vb(r,s){Ew(r,s),(r=r.alternate)&&Ew(r,s)}function _w(r){if(r.tag===13){var s=W0(r,67108864);s!==null&&Ir(s,r,67108864),Vb(r,67108864)}}var VS=!0;function EM(r,s,d,p){var w=k.T;k.T=null;var I=G.p;try{G.p=2,zb(r,s,d,p)}finally{G.p=I,k.T=w}}function _M(r,s,d,p){var w=k.T;k.T=null;var I=G.p;try{G.p=8,zb(r,s,d,p)}finally{G.p=I,k.T=w}}function zb(r,s,d,p){if(VS){var w=Qb(p);if(w===null)Lb(r,s,p,zS,d),Fw(r,p);else if(FM(w,r,s,d,p))p.stopPropagation();else if(Fw(r,p),s&4&&-1<MM.indexOf(r)){for(;w!==null;){var I=U0(w);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var j=Jt(I.pendingLanes);if(j!==0){var K=I;for(K.pendingLanes|=2,K.entangledLanes|=2;j;){var le=1<<31-je(j);K.entanglements[1]|=le,j&=~le}mo(I),(Bt&6)===0&&(AS=J()+500,x1(0))}}break;case 13:K=W0(I,2),K!==null&&Ir(K,I,2),OS(),Vb(I,2)}if(I=Qb(p),I===null&&Lb(r,s,p,zS,d),I===w)break;w=I}w!==null&&p.stopPropagation()}else Lb(r,s,p,null,d)}}function Qb(r){return r=Wv(r),Hb(r)}var zS=null;function Hb(r){if(zS=null,r=k0(r),r!==null){var s=o(r);if(s===null)r=null;else{var d=s.tag;if(d===13){if(r=c(s),r!==null)return r;r=null}else if(d===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return zS=r,null}function Mw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Z()){case ue:return 2;case we:return 8;case Ae:case se:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var jb=!1,wl=null,xl=null,Al=null,_1=new Map,M1=new Map,Rl=[],MM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fw(r,s){switch(r){case"focusin":case"focusout":wl=null;break;case"dragenter":case"dragleave":xl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":_1.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":M1.delete(s.pointerId)}}function F1(r,s,d,p,w,I){return r===null||r.nativeEvent!==I?(r={blockedOn:s,domEventName:d,eventSystemFlags:p,nativeEvent:I,targetContainers:[w]},s!==null&&(s=U0(s),s!==null&&_w(s)),r):(r.eventSystemFlags|=p,s=r.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),r)}function FM(r,s,d,p,w){switch(s){case"focusin":return wl=F1(wl,r,s,d,p,w),!0;case"dragenter":return xl=F1(xl,r,s,d,p,w),!0;case"mouseover":return Al=F1(Al,r,s,d,p,w),!0;case"pointerover":var I=w.pointerId;return _1.set(I,F1(_1.get(I)||null,r,s,d,p,w)),!0;case"gotpointercapture":return I=w.pointerId,M1.set(I,F1(M1.get(I)||null,r,s,d,p,w)),!0}return!1}function kw(r){var s=k0(r.target);if(s!==null){var d=o(s);if(d!==null){if(s=d.tag,s===13){if(s=c(d),s!==null){r.blockedOn=s,OE(r.priority,function(){if(d.tag===13){var p=Lr();p=wr(p);var w=W0(d,p);w!==null&&Ir(w,d,p),Vb(d,p)}});return}}else if(s===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function QS(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var d=Qb(r.nativeEvent);if(d===null){d=r.nativeEvent;var p=new d.constructor(d.type,d);Xv=p,d.target.dispatchEvent(p),Xv=null}else return s=U0(d),s!==null&&_w(s),r.blockedOn=d,!1;s.shift()}return!0}function Uw(r,s,d){QS(r)&&d.delete(s)}function kM(){jb=!1,wl!==null&&QS(wl)&&(wl=null),xl!==null&&QS(xl)&&(xl=null),Al!==null&&QS(Al)&&(Al=null),_1.forEach(Uw),M1.forEach(Uw)}function HS(r,s){r.blockedOn===s&&(r.blockedOn=null,jb||(jb=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,kM)))}var jS=null;function Nw(r){jS!==r&&(jS=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){jS===r&&(jS=null);for(var s=0;s<r.length;s+=3){var d=r[s],p=r[s+1],w=r[s+2];if(typeof p!="function"){if(Hb(p||d)===null)continue;break}var I=U0(d);I!==null&&(r.splice(s,3),s-=3,H5(I,{pending:!0,data:w,method:d.method,action:p},p,w))}}))}function k1(r){function s(le){return HS(le,r)}wl!==null&&HS(wl,r),xl!==null&&HS(xl,r),Al!==null&&HS(Al,r),_1.forEach(s),M1.forEach(s);for(var d=0;d<Rl.length;d++){var p=Rl[d];p.blockedOn===r&&(p.blockedOn=null)}for(;0<Rl.length&&(d=Rl[0],d.blockedOn===null);)kw(d),d.blockedOn===null&&Rl.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var w=d[p],I=d[p+1],j=w[Ki]||null;if(typeof I=="function")j||Nw(d);else if(j){var K=null;if(I&&I.hasAttribute("formAction")){if(w=I,j=I[Ki]||null)K=j.formAction;else if(Hb(w)!==null)continue}else K=j.action;typeof K=="function"?d[p+1]=K:(d.splice(p,3),p-=3),Nw(d)}}}function Yb(r){this._internalRoot=r}YS.prototype.render=Yb.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var d=s.current,p=Lr();Iw(d,p,r,s,null,null)},YS.prototype.unmount=Yb.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Iw(r.current,2,null,r,null,null),OS(),s[F0]=null}};function YS(r){this._internalRoot=r}YS.prototype.unstable_scheduleHydration=function(r){if(r){var s=tD();r={blockedOn:null,target:r,priority:s};for(var d=0;d<Rl.length&&s!==0&&s<Rl[d].priority;d++);Rl.splice(d,0,r),d===0&&kw(r)}};var qw=e.version;if(qw!=="19.1.0")throw Error(i(527,qw,"19.1.0"));G.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var UM={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var XS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!XS.isDisabled&&XS.supportsFiber)try{Ce=XS.inject(UM),ke=XS}catch{}}return N1.createRoot=function(r,s){if(!a(r))throw Error(i(299));var d=!1,p="",w=tT,I=nT,j=iT,K=null;return s!=null&&(s.unstable_strictMode===!0&&(d=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(w=s.onUncaughtError),s.onCaughtError!==void 0&&(I=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(K=s.unstable_transitionCallbacks)),s=Pw(r,1,!1,null,null,d,p,w,I,j,K,null),r[F0]=s.current,Pb(r),new Yb(s)},N1.hydrateRoot=function(r,s,d){if(!a(r))throw Error(i(299));var p=!1,w="",I=tT,j=nT,K=iT,le=null,be=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(I=d.onUncaughtError),d.onCaughtError!==void 0&&(j=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(le=d.unstable_transitionCallbacks),d.formState!==void 0&&(be=d.formState)),s=Pw(r,1,!0,s,d??null,p,w,I,j,K,le,be),s.context=Lw(null),d=s.current,p=Lr(),p=wr(p),w=ul(p),w.callback=null,dl(d,w,p),d=p,s.current.lanes=d,Lt(s,d),mo(s),r[F0]=s.current,Pb(r),new YS(s)},N1.version="19.1.0",N1}var $w;function WM(){if($w)return Kb.exports;$w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kb.exports=XM(),Kb.exports}var $M=WM();const np={black:"#000",white:"#fff"},bd={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},KM={500:"#e91e63"},Cd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},ZM={500:"#3f51b5"},Dd={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Td={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},wd={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},q1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},JM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function rl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const ao="$$material";function gy(){return gy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},gy.apply(null,arguments)}function eF(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function tF(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var nF=function(){function n(t){var i=this;this._insertTag=function(a){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,o),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(tF(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=eF(a);try{o.insertRule(i,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},n}(),_i="-ms-",py="-moz-",kt="-webkit-",NR="comm",r6="rule",a6="decl",iF="@import",qR="@keyframes",rF="@layer",aF=Math.abs,fv=String.fromCharCode,oF=Object.assign;function sF(n,e){return Ri(n,0)^45?(((e<<2^Ri(n,0))<<2^Ri(n,1))<<2^Ri(n,2))<<2^Ri(n,3):0}function BR(n){return n.trim()}function lF(n,e){return(n=e.exec(n))?n[0]:n}function Ut(n,e,t){return n.replace(e,t)}function YC(n,e){return n.indexOf(e)}function Ri(n,e){return n.charCodeAt(e)|0}function ip(n,e,t){return n.slice(e,t)}function No(n){return n.length}function o6(n){return n.length}function WS(n,e){return e.push(n),n}function cF(n,e){return n.map(e).join("")}var gv=1,Pf=1,GR=0,Tr=0,Jn=0,Nf="";function pv(n,e,t,i,a,o,c){return{value:n,root:e,parent:t,type:i,props:a,children:o,line:gv,column:Pf,length:c,return:""}}function B1(n,e){return oF(pv("",null,null,"",null,null,0),n,{length:-n.length},e)}function uF(){return Jn}function dF(){return Jn=Tr>0?Ri(Nf,--Tr):0,Pf--,Jn===10&&(Pf=1,gv--),Jn}function $r(){return Jn=Tr<GR?Ri(Nf,Tr++):0,Pf++,Jn===10&&(Pf=1,gv++),Jn}function Vo(){return Ri(Nf,Tr)}function A2(){return Tr}function Im(n,e){return ip(Nf,n,e)}function rp(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function VR(n){return gv=Pf=1,GR=No(Nf=n),Tr=0,[]}function zR(n){return Nf="",n}function R2(n){return BR(Im(Tr-1,XC(n===91?n+2:n===40?n+1:n)))}function hF(n){for(;(Jn=Vo())&&Jn<33;)$r();return rp(n)>2||rp(Jn)>3?"":" "}function fF(n,e){for(;--e&&$r()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return Im(n,A2()+(e<6&&Vo()==32&&$r()==32))}function XC(n){for(;$r();)switch(Jn){case n:return Tr;case 34:case 39:n!==34&&n!==39&&XC(Jn);break;case 40:n===41&&XC(n);break;case 92:$r();break}return Tr}function gF(n,e){for(;$r()&&n+Jn!==57;)if(n+Jn===84&&Vo()===47)break;return"/*"+Im(e,Tr-1)+"*"+fv(n===47?n:$r())}function pF(n){for(;!rp(Vo());)$r();return Im(n,Tr)}function mF(n){return zR(O2("",null,null,null,[""],n=VR(n),0,[0],n))}function O2(n,e,t,i,a,o,c,l,h){for(var f=0,g=0,S=c,b=0,m=0,y=0,v=1,D=1,x=1,T=0,C="",A=a,R=o,E=i,U=C;D;)switch(y=T,T=$r()){case 40:if(y!=108&&Ri(U,S-1)==58){YC(U+=Ut(R2(T),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:U+=R2(T);break;case 9:case 10:case 13:case 32:U+=hF(y);break;case 92:U+=fF(A2()-1,7);continue;case 47:switch(Vo()){case 42:case 47:WS(SF(gF($r(),A2()),e,t),h);break;default:U+="/"}break;case 123*v:l[f++]=No(U)*x;case 125*v:case 59:case 0:switch(T){case 0:case 125:D=0;case 59+g:x==-1&&(U=Ut(U,/\f/g,"")),m>0&&No(U)-S&&WS(m>32?Zw(U+";",i,t,S-1):Zw(Ut(U," ","")+";",i,t,S-2),h);break;case 59:U+=";";default:if(WS(E=Kw(U,e,t,f,g,a,l,C,A=[],R=[],S),o),T===123)if(g===0)O2(U,e,E,E,A,o,S,l,R);else switch(b===99&&Ri(U,3)===110?100:b){case 100:case 108:case 109:case 115:O2(n,E,E,i&&WS(Kw(n,E,E,0,0,a,l,C,a,A=[],S),R),a,R,S,l,i?A:R);break;default:O2(U,E,E,E,[""],R,0,l,R)}}f=g=m=0,v=x=1,C=U="",S=c;break;case 58:S=1+No(U),m=y;default:if(v<1){if(T==123)--v;else if(T==125&&v++==0&&dF()==125)continue}switch(U+=fv(T),T*v){case 38:x=g>0?1:(U+="\f",-1);break;case 44:l[f++]=(No(U)-1)*x,x=1;break;case 64:Vo()===45&&(U+=R2($r())),b=Vo(),g=S=No(C=U+=pF(A2())),T++;break;case 45:y===45&&No(U)==2&&(v=0)}}return o}function Kw(n,e,t,i,a,o,c,l,h,f,g){for(var S=a-1,b=a===0?o:[""],m=o6(b),y=0,v=0,D=0;y<i;++y)for(var x=0,T=ip(n,S+1,S=aF(v=c[y])),C=n;x<m;++x)(C=BR(v>0?b[x]+" "+T:Ut(T,/&\f/g,b[x])))&&(h[D++]=C);return pv(n,e,t,a===0?r6:l,h,f,g)}function SF(n,e,t){return pv(n,e,t,NR,fv(uF()),ip(n,2,-2),0)}function Zw(n,e,t,i){return pv(n,e,t,a6,ip(n,0,i),ip(n,i+1,-1),i)}function kd(n,e){for(var t="",i=o6(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function yF(n,e,t,i){switch(n.type){case rF:if(n.children.length)break;case iF:case a6:return n.return=n.return||n.value;case NR:return"";case qR:return n.return=n.value+"{"+kd(n.children,i)+"}";case r6:n.value=n.props.join(",")}return No(t=kd(n.children,i))?n.return=n.value+"{"+t+"}":""}function vF(n){var e=o6(n);return function(t,i,a,o){for(var c="",l=0;l<e;l++)c+=n[l](t,i,a,o)||"";return c}}function bF(n){return function(e){e.root||(e=e.return)&&n(e)}}function QR(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var CF=function(e,t,i){for(var a=0,o=0;a=o,o=Vo(),a===38&&o===12&&(t[i]=1),!rp(o);)$r();return Im(e,Tr)},DF=function(e,t){var i=-1,a=44;do switch(rp(a)){case 0:a===38&&Vo()===12&&(t[i]=1),e[i]+=CF(Tr-1,t,i);break;case 2:e[i]+=R2(a);break;case 4:if(a===44){e[++i]=Vo()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=fv(a)}while(a=$r());return e},TF=function(e,t){return zR(DF(VR(e),t))},Jw=new WeakMap,wF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Jw.get(i))&&!a){Jw.set(e,!0);for(var o=[],c=TF(t,o),l=i.props,h=0,f=0;h<c.length;h++)for(var g=0;g<l.length;g++,f++)e.props[f]=o[h]?c[h].replace(/&\f/g,l[g]):l[g]+" "+c[h]}}},xF=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function HR(n,e){switch(sF(n,e)){case 5103:return kt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+n+py+n+_i+n+n;case 6828:case 4268:return kt+n+_i+n+n;case 6165:return kt+n+_i+"flex-"+n+n;case 5187:return kt+n+Ut(n,/(\w+).+(:[^]+)/,kt+"box-$1$2"+_i+"flex-$1$2")+n;case 5443:return kt+n+_i+"flex-item-"+Ut(n,/flex-|-self/,"")+n;case 4675:return kt+n+_i+"flex-line-pack"+Ut(n,/align-content|flex-|-self/,"")+n;case 5548:return kt+n+_i+Ut(n,"shrink","negative")+n;case 5292:return kt+n+_i+Ut(n,"basis","preferred-size")+n;case 6060:return kt+"box-"+Ut(n,"-grow","")+kt+n+_i+Ut(n,"grow","positive")+n;case 4554:return kt+Ut(n,/([^-])(transform)/g,"$1"+kt+"$2")+n;case 6187:return Ut(Ut(Ut(n,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),n,"")+n;case 5495:case 3959:return Ut(n,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Ut(Ut(n,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+_i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+n+n;case 4095:case 3583:case 4068:case 2532:return Ut(n,/(.+)-inline(.+)/,kt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(n)-1-e>6)switch(Ri(n,e+1)){case 109:if(Ri(n,e+4)!==45)break;case 102:return Ut(n,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+py+(Ri(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~YC(n,"stretch")?HR(Ut(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Ri(n,e+1)!==115)break;case 6444:switch(Ri(n,No(n)-3-(~YC(n,"!important")&&10))){case 107:return Ut(n,":",":"+kt)+n;case 101:return Ut(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(Ri(n,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+_i+"$2box$3")+n}break;case 5936:switch(Ri(n,e+11)){case 114:return kt+n+_i+Ut(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return kt+n+_i+Ut(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return kt+n+_i+Ut(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return kt+n+_i+n+n}return n}var AF=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case a6:e.return=HR(e.value,e.length);break;case qR:return kd([B1(e,{value:Ut(e.value,"@","@"+kt)})],a);case r6:if(e.length)return cF(e.props,function(o){switch(lF(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kd([B1(e,{props:[Ut(o,/:(read-\w+)/,":"+py+"$1")]})],a);case"::placeholder":return kd([B1(e,{props:[Ut(o,/:(plac\w+)/,":"+kt+"input-$1")]}),B1(e,{props:[Ut(o,/:(plac\w+)/,":"+py+"$1")]}),B1(e,{props:[Ut(o,/:(plac\w+)/,_i+"input-$1")]})],a)}return""})}},RF=[AF],OF=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(v){var D=v.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=e.stylisPlugins||RF,o={},c,l=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var D=v.getAttribute("data-emotion").split(" "),x=1;x<D.length;x++)o[D[x]]=!0;l.push(v)});var h,f=[wF,xF];{var g,S=[yF,bF(function(v){g.insert(v)})],b=vF(f.concat(a,S)),m=function(D){return kd(mF(D),b)};h=function(D,x,T,C){g=T,m(D?D+"{"+x.styles+"}":x.styles),C&&(y.inserted[x.name]=!0)}}var y={key:t,sheet:new nF({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:h};return y.sheet.hydrate(l),y},tC={exports:{}},Nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e9;function PF(){if(e9)return Nt;e9=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,S=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,D=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var E=R.$$typeof;switch(E){case e:switch(R=R.type,R){case h:case f:case i:case o:case a:case S:return R;default:switch(R=R&&R.$$typeof,R){case l:case g:case y:case m:case c:return R;default:return E}}case t:return E}}}function A(R){return C(R)===f}return Nt.AsyncMode=h,Nt.ConcurrentMode=f,Nt.ContextConsumer=l,Nt.ContextProvider=c,Nt.Element=e,Nt.ForwardRef=g,Nt.Fragment=i,Nt.Lazy=y,Nt.Memo=m,Nt.Portal=t,Nt.Profiler=o,Nt.StrictMode=a,Nt.Suspense=S,Nt.isAsyncMode=function(R){return A(R)||C(R)===h},Nt.isConcurrentMode=A,Nt.isContextConsumer=function(R){return C(R)===l},Nt.isContextProvider=function(R){return C(R)===c},Nt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Nt.isForwardRef=function(R){return C(R)===g},Nt.isFragment=function(R){return C(R)===i},Nt.isLazy=function(R){return C(R)===y},Nt.isMemo=function(R){return C(R)===m},Nt.isPortal=function(R){return C(R)===t},Nt.isProfiler=function(R){return C(R)===o},Nt.isStrictMode=function(R){return C(R)===a},Nt.isSuspense=function(R){return C(R)===S},Nt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===i||R===f||R===o||R===a||R===S||R===b||typeof R=="object"&&R!==null&&(R.$$typeof===y||R.$$typeof===m||R.$$typeof===c||R.$$typeof===l||R.$$typeof===g||R.$$typeof===D||R.$$typeof===x||R.$$typeof===T||R.$$typeof===v)},Nt.typeOf=C,Nt}var t9;function LF(){return t9||(t9=1,tC.exports=PF()),tC.exports}var nC,n9;function IF(){if(n9)return nC;n9=1;var n=LF(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=a;function c(y){return n.isMemo(y)?a:o[y.$$typeof]||e}var l=Object.defineProperty,h=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,S=Object.getPrototypeOf,b=Object.prototype;function m(y,v,D){if(typeof v!="string"){if(b){var x=S(v);x&&x!==b&&m(y,x,D)}var T=h(v);f&&(T=T.concat(f(v)));for(var C=c(y),A=c(v),R=0;R<T.length;++R){var E=T[R];if(!t[E]&&!(D&&D[E])&&!(A&&A[E])&&!(C&&C[E])){var U=g(v,E);try{l(y,E,U)}catch{}}}}return y}return nC=m,nC}IF();var EF=!0;function jR(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(i+=a+" ")}),i}var s6=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||EF===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},l6=function(e,t,i){s6(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function _F(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var MF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},FF=/[A-Z]|^ms/g,kF=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YR=function(e){return e.charCodeAt(1)===45},i9=function(e){return e!=null&&typeof e!="boolean"},iC=QR(function(n){return YR(n)?n:n.replace(FF,"-$&").toLowerCase()}),r9=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(kF,function(i,a,o){return qo={name:a,styles:o,next:qo},a})}return MF[e]!==1&&!YR(e)&&typeof t=="number"&&t!==0?t+"px":t};function ap(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return qo={name:a.name,styles:a.styles,next:qo},a.name;var o=t;if(o.styles!==void 0){var c=o.next;if(c!==void 0)for(;c!==void 0;)qo={name:c.name,styles:c.styles,next:qo},c=c.next;var l=o.styles+";";return l}return UF(n,e,t)}case"function":{if(n!==void 0){var h=qo,f=t(n);return qo=h,ap(n,e,f)}break}}var g=t;if(e==null)return g;var S=e[g];return S!==void 0?S:g}function UF(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=ap(n,e,t[a])+";";else for(var o in t){var c=t[o];if(typeof c!="object"){var l=c;e!=null&&e[l]!==void 0?i+=o+"{"+e[l]+"}":i9(l)&&(i+=iC(o)+":"+r9(o,l)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var h=0;h<c.length;h++)i9(c[h])&&(i+=iC(o)+":"+r9(o,c[h])+";");else{var f=ap(n,e,c);switch(o){case"animation":case"animationName":{i+=iC(o)+":"+f+";";break}default:i+=o+"{"+f+"}"}}}return i}var a9=/label:\s*([^\s;{]+)\s*(;|$)/g,qo;function Em(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,a="";qo=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,a+=ap(t,e,o);else{var c=o;a+=c[0]}for(var l=1;l<n.length;l++)if(a+=ap(t,e,n[l]),i){var h=o;a+=h[l]}a9.lastIndex=0;for(var f="",g;(g=a9.exec(a))!==null;)f+="-"+g[1];var S=_F(a)+f;return{name:S,styles:a,next:qo}}var NF=function(e){return e()},XR=fy.useInsertionEffect?fy.useInsertionEffect:!1,WR=XR||NF,o9=XR||te.useLayoutEffect,$R=te.createContext(typeof HTMLElement<"u"?OF({key:"css"}):null);$R.Provider;var c6=function(e){return te.forwardRef(function(t,i){var a=te.useContext($R);return e(t,a,i)})},_m=te.createContext({}),u6={}.hasOwnProperty,WC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qF=function(e,t){var i={};for(var a in t)u6.call(t,a)&&(i[a]=t[a]);return i[WC]=e,i},BF=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return s6(t,i,a),WR(function(){return l6(t,i,a)}),null},GF=c6(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var a=n[WC],o=[i],c="";typeof n.className=="string"?c=jR(e.registered,o,n.className):n.className!=null&&(c=n.className+" ");var l=Em(o,void 0,te.useContext(_m));c+=e.key+"-"+l.name;var h={};for(var f in n)u6.call(n,f)&&f!=="css"&&f!==WC&&(h[f]=n[f]);return h.className=c,t&&(h.ref=t),te.createElement(te.Fragment,null,te.createElement(BF,{cache:e,serialized:l,isStringTag:typeof a=="string"}),te.createElement(a,h))}),VF=GF,s9=function(e,t){var i=arguments;if(t==null||!u6.call(t,"css"))return te.createElement.apply(void 0,i);var a=i.length,o=new Array(a);o[0]=VF,o[1]=qF(e,t);for(var c=2;c<a;c++)o[c]=i[c];return te.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(s9||(s9={}));var zF=c6(function(n,e){var t=n.styles,i=Em([t],void 0,te.useContext(_m)),a=te.useRef();return o9(function(){var o=e.key+"-global",c=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),l=!1,h=document.querySelector('style[data-emotion="'+o+" "+i.name+'"]');return e.sheet.tags.length&&(c.before=e.sheet.tags[0]),h!==null&&(l=!0,h.setAttribute("data-emotion",o),c.hydrate([h])),a.current=[c,l],function(){c.flush()}},[e]),o9(function(){var o=a.current,c=o[0],l=o[1];if(l){o[1]=!1;return}if(i.next!==void 0&&l6(e,i.next,!0),c.tags.length){var h=c.tags[c.tags.length-1].nextElementSibling;c.before=h,c.flush()}e.insert("",i,c,!1)},[e,i.name]),null});function qf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Em(e)}function Gc(){var n=qf.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var QF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HF=QR(function(n){return QF.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),jF=HF,YF=function(e){return e!=="theme"},l9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jF:YF},c9=function(e,t,i){var a;if(t){var o=t.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(c){return e.__emotion_forwardProp(c)&&o(c)}:o}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},XF=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return s6(t,i,a),WR(function(){return l6(t,i,a)}),null},WF=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,o,c;t!==void 0&&(o=t.label,c=t.target);var l=c9(e,t,i),h=l||l9(a),f=!h("as");return function(){var g=arguments,S=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&S.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)S.push.apply(S,g);else{var b=g[0];S.push(b[0]);for(var m=g.length,y=1;y<m;y++)S.push(g[y],b[y])}var v=c6(function(D,x,T){var C=f&&D.as||a,A="",R=[],E=D;if(D.theme==null){E={};for(var U in D)E[U]=D[U];E.theme=te.useContext(_m)}typeof D.className=="string"?A=jR(x.registered,R,D.className):D.className!=null&&(A=D.className+" ");var _=Em(S.concat(R),x.registered,E);A+=x.key+"-"+_.name,c!==void 0&&(A+=" "+c);var M=f&&l===void 0?l9(C):h,P={};for(var q in D)f&&q==="as"||M(q)&&(P[q]=D[q]);return P.className=A,T&&(P.ref=T),te.createElement(te.Fragment,null,te.createElement(XF,{cache:x,serialized:_,isStringTag:typeof C=="string"}),te.createElement(C,P))});return v.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=a,v.__emotion_styles=S,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+c}}),v.withComponent=function(D,x){var T=n(D,gy({},t,x,{shouldForwardProp:c9(v,x,!0)}));return T.apply(void 0,S)},v}},$F=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$C=WF.bind(null);$F.forEach(function(n){$C[n]=$C(n)});function KF(n){return n==null||Object.keys(n).length===0}function KR(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?a=>e(KF(a)?t:a):e;return ce.jsx(zF,{styles:i})}function ZR(n,e){return $C(n,e)}function ZF(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const u9=[];function Ic(n){return u9[0]=n,Em(u9)}var rC={exports:{}},Yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d9;function JF(){if(d9)return Yt;d9=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function y(v){if(typeof v=="object"&&v!==null){var D=v.$$typeof;switch(D){case n:switch(v=v.type,v){case t:case a:case i:case h:case f:case b:return v;default:switch(v=v&&v.$$typeof,v){case c:case l:case S:case g:return v;case o:return v;default:return D}}case e:return D}}}return Yt.ContextConsumer=o,Yt.ContextProvider=c,Yt.Element=n,Yt.ForwardRef=l,Yt.Fragment=t,Yt.Lazy=S,Yt.Memo=g,Yt.Portal=e,Yt.Profiler=a,Yt.StrictMode=i,Yt.Suspense=h,Yt.SuspenseList=f,Yt.isContextConsumer=function(v){return y(v)===o},Yt.isContextProvider=function(v){return y(v)===c},Yt.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===n},Yt.isForwardRef=function(v){return y(v)===l},Yt.isFragment=function(v){return y(v)===t},Yt.isLazy=function(v){return y(v)===S},Yt.isMemo=function(v){return y(v)===g},Yt.isPortal=function(v){return y(v)===e},Yt.isProfiler=function(v){return y(v)===a},Yt.isStrictMode=function(v){return y(v)===i},Yt.isSuspense=function(v){return y(v)===h},Yt.isSuspenseList=function(v){return y(v)===f},Yt.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===t||v===a||v===i||v===h||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===S||v.$$typeof===g||v.$$typeof===c||v.$$typeof===o||v.$$typeof===l||v.$$typeof===m||v.getModuleId!==void 0)},Yt.typeOf=y,Yt}var h9;function ek(){return h9||(h9=1,rC.exports=JF()),rC.exports}var JR=ek();function Bo(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function eO(n){if(te.isValidElement(n)||JR.isValidElementType(n)||!Bo(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=eO(n[t])}),e}function mi(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Bo(n)&&Bo(e)&&Object.keys(e).forEach(a=>{te.isValidElement(e[a])||JR.isValidElementType(e[a])?i[a]=e[a]:Bo(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&Bo(n[a])?i[a]=mi(n[a],e[a],t):t.clone?i[a]=Bo(e[a])?eO(e[a]):e[a]:i[a]=e[a]}),i}const tk=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function nk(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...a}=n,o=tk(e),c=Object.keys(o);function l(b){return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t})`}function h(b){return`@media (max-width:${(typeof e[b]=="number"?e[b]:b)-i/100}${t})`}function f(b,m){const y=c.indexOf(m);return`@media (min-width:${typeof e[b]=="number"?e[b]:b}${t}) and (max-width:${(y!==-1&&typeof e[c[y]]=="number"?e[c[y]]:m)-i/100}${t})`}function g(b){return c.indexOf(b)+1<c.length?f(b,c[c.indexOf(b)+1]):l(b)}function S(b){const m=c.indexOf(b);return m===0?l(c[1]):m===c.length-1?h(c[m]):f(b,c[c.indexOf(b)+1]).replace("@media","@media not all and")}return{keys:c,values:o,up:l,down:h,between:f,only:g,not:S,unit:t,...a}}function f9(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,a)=>{var c,l;const o=/min-width:\s*([0-9.]+)/;return+(((c=i.match(o))==null?void 0:c[1])||0)-+(((l=a.match(o))==null?void 0:l[1])||0)});return t.length?t.reduce((i,a)=>{const o=e[a];return delete i[a],i[a]=o,i},{...e}):e}function ik(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function rk(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,a]=t,o=Number.isNaN(+i)?i||0:+i;return n.containerQueries(a).up(o)}function ak(n){const e=(o,c)=>o.replace("@media",c?`@container ${c}`:"@container");function t(o,c){o.up=(...l)=>e(n.breakpoints.up(...l),c),o.down=(...l)=>e(n.breakpoints.down(...l),c),o.between=(...l)=>e(n.breakpoints.between(...l),c),o.only=(...l)=>e(n.breakpoints.only(...l),c),o.not=(...l)=>{const h=e(n.breakpoints.not(...l),c);return h.includes("not all and")?h.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):h}}const i={},a=o=>(t(i,o),i);return t(a),{...n,containerQueries:a}}const ok={borderRadius:4};function Yg(n,e){return e?mi(n,e,{clone:!1}):n}const mv={xs:0,sm:600,md:900,lg:1200,xl:1536},g9={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${mv[n]}px)`},sk={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:mv[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function oo(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const o=i.breakpoints||g9;return e.reduce((c,l,h)=>(c[o.up(o.keys[h])]=t(e[h]),c),{})}if(typeof e=="object"){const o=i.breakpoints||g9;return Object.keys(e).reduce((c,l)=>{if(ik(o.keys,l)){const h=rk(i.containerQueries?i:sk,l);h&&(c[h]=t(e[l],l))}else if(Object.keys(o.values||mv).includes(l)){const h=o.up(l);c[h]=t(e[l],l)}else{const h=l;c[h]=e[h]}return c},{})}return t(e)}function tO(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,a)=>{const o=n.up(a);return i[o]={},i},{}))||{}}function KC(n,e){return n.reduce((t,i)=>{const a=t[i];return(!a||Object.keys(a).length===0)&&delete t[i],t},e)}function lk(n,...e){const t=tO(n),i=[t,...e].reduce((a,o)=>mi(a,o),{});return KC(Object.keys(t),i)}function ck(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((a,o)=>{o<n.length&&(t[a]=!0)}):i.forEach(a=>{n[a]!=null&&(t[a]=!0)}),t}function aC({values:n,breakpoints:e,base:t}){const i=t||ck(n,e),a=Object.keys(i);if(a.length===0)return n;let o;return a.reduce((c,l,h)=>(Array.isArray(n)?(c[l]=n[h]!=null?n[h]:n[o],o=h):typeof n=="object"?(c[l]=n[l]!=null?n[l]:n[o],o=l):c[l]=n,c),{})}function Qe(n){if(typeof n!="string")throw new Error(rl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Lc(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,n);if(i!=null)return i}return e.split(".").reduce((i,a)=>i&&i[a]!=null?i[a]:null,n)}function my(n,e,t,i=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||i:a=Lc(n,t)||i,e&&(a=e(a,i,n)),a}function zn(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:a}=n,o=c=>{if(c[e]==null)return null;const l=c[e],h=c.theme,f=Lc(h,i)||{};return oo(c,l,S=>{let b=my(f,a,S);return S===b&&typeof S=="string"&&(b=my(f,a,`${e}${S==="default"?"":Qe(S)}`,S)),t===!1?b:{[t]:b}})};return o.propTypes={},o.filterProps=[e],o}function uk(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const dk={m:"margin",p:"padding"},hk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},p9={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},fk=uk(n=>{if(n.length>2)if(p9[n])n=p9[n];else return[n];const[e,t]=n.split(""),i=dk[e],a=hk[t]||"";return Array.isArray(a)?a.map(o=>i+o):[i+a]}),d6=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h6=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...d6,...h6];function Mm(n,e,t,i){const a=Lc(n,e,!0)??t;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const c=Math.abs(o),l=a[c];return o>=0?l:typeof l=="number"?-l:typeof l=="string"&&l.startsWith("var(")?`calc(-1 * ${l})`:`-${l}`}:typeof a=="function"?a:()=>{}}function Sv(n){return Mm(n,"spacing",8)}function R0(n,e){return typeof e=="string"||e==null?e:n(e)}function gk(n,e){return t=>n.reduce((i,a)=>(i[a]=R0(e,t),i),{})}function pk(n,e,t,i){if(!e.includes(t))return null;const a=fk(t),o=gk(a,i),c=n[t];return oo(n,c,o)}function nO(n,e){const t=Sv(n.theme);return Object.keys(n).map(i=>pk(n,e,i,t)).reduce(Yg,{})}function An(n){return nO(n,d6)}An.propTypes={};An.filterProps=d6;function Rn(n){return nO(n,h6)}Rn.propTypes={};Rn.filterProps=h6;function iO(n=8,e=Sv({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(o=>{const c=e(o);return typeof c=="number"?`${c}px`:c}).join(" ");return t.mui=!0,t}function yv(...n){const e=n.reduce((i,a)=>(a.filterProps.forEach(o=>{i[o]=a}),i),{}),t=i=>Object.keys(i).reduce((a,o)=>e[o]?Yg(a,e[o](i)):a,{});return t.propTypes={},t.filterProps=n.reduce((i,a)=>i.concat(a.filterProps),[]),t}function Ma(n){return typeof n!="number"?n:`${n}px solid`}function Na(n,e){return zn({prop:n,themeKey:"borders",transform:e})}const mk=Na("border",Ma),Sk=Na("borderTop",Ma),yk=Na("borderRight",Ma),vk=Na("borderBottom",Ma),bk=Na("borderLeft",Ma),Ck=Na("borderColor"),Dk=Na("borderTopColor"),Tk=Na("borderRightColor"),wk=Na("borderBottomColor"),xk=Na("borderLeftColor"),Ak=Na("outline",Ma),Rk=Na("outlineColor"),vv=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Mm(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:R0(e,i)});return oo(n,n.borderRadius,t)}return null};vv.propTypes={};vv.filterProps=["borderRadius"];yv(mk,Sk,yk,vk,bk,Ck,Dk,Tk,wk,xk,vv,Ak,Rk);const bv=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Mm(n.theme,"spacing",8),t=i=>({gap:R0(e,i)});return oo(n,n.gap,t)}return null};bv.propTypes={};bv.filterProps=["gap"];const Cv=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Mm(n.theme,"spacing",8),t=i=>({columnGap:R0(e,i)});return oo(n,n.columnGap,t)}return null};Cv.propTypes={};Cv.filterProps=["columnGap"];const Dv=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Mm(n.theme,"spacing",8),t=i=>({rowGap:R0(e,i)});return oo(n,n.rowGap,t)}return null};Dv.propTypes={};Dv.filterProps=["rowGap"];const Ok=zn({prop:"gridColumn"}),Pk=zn({prop:"gridRow"}),Lk=zn({prop:"gridAutoFlow"}),Ik=zn({prop:"gridAutoColumns"}),Ek=zn({prop:"gridAutoRows"}),_k=zn({prop:"gridTemplateColumns"}),Mk=zn({prop:"gridTemplateRows"}),Fk=zn({prop:"gridTemplateAreas"}),kk=zn({prop:"gridArea"});yv(bv,Cv,Dv,Ok,Pk,Lk,Ik,Ek,_k,Mk,Fk,kk);function Ud(n,e){return e==="grey"?e:n}const Uk=zn({prop:"color",themeKey:"palette",transform:Ud}),Nk=zn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ud}),qk=zn({prop:"backgroundColor",themeKey:"palette",transform:Ud});yv(Uk,Nk,qk);function Wr(n){return n<=1&&n!==0?`${n*100}%`:n}const Bk=zn({prop:"width",transform:Wr}),f6=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var a,o,c,l,h;const i=((c=(o=(a=n.theme)==null?void 0:a.breakpoints)==null?void 0:o.values)==null?void 0:c[t])||mv[t];return i?((h=(l=n.theme)==null?void 0:l.breakpoints)==null?void 0:h.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Wr(t)}};return oo(n,n.maxWidth,e)}return null};f6.filterProps=["maxWidth"];const Gk=zn({prop:"minWidth",transform:Wr}),Vk=zn({prop:"height",transform:Wr}),zk=zn({prop:"maxHeight",transform:Wr}),Qk=zn({prop:"minHeight",transform:Wr});zn({prop:"size",cssProperty:"width",transform:Wr});zn({prop:"size",cssProperty:"height",transform:Wr});const Hk=zn({prop:"boxSizing"});yv(Bk,f6,Gk,Vk,zk,Qk,Hk);const Fm={border:{themeKey:"borders",transform:Ma},borderTop:{themeKey:"borders",transform:Ma},borderRight:{themeKey:"borders",transform:Ma},borderBottom:{themeKey:"borders",transform:Ma},borderLeft:{themeKey:"borders",transform:Ma},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ma},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vv},color:{themeKey:"palette",transform:Ud},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ud},backgroundColor:{themeKey:"palette",transform:Ud},p:{style:Rn},pt:{style:Rn},pr:{style:Rn},pb:{style:Rn},pl:{style:Rn},px:{style:Rn},py:{style:Rn},padding:{style:Rn},paddingTop:{style:Rn},paddingRight:{style:Rn},paddingBottom:{style:Rn},paddingLeft:{style:Rn},paddingX:{style:Rn},paddingY:{style:Rn},paddingInline:{style:Rn},paddingInlineStart:{style:Rn},paddingInlineEnd:{style:Rn},paddingBlock:{style:Rn},paddingBlockStart:{style:Rn},paddingBlockEnd:{style:Rn},m:{style:An},mt:{style:An},mr:{style:An},mb:{style:An},ml:{style:An},mx:{style:An},my:{style:An},margin:{style:An},marginTop:{style:An},marginRight:{style:An},marginBottom:{style:An},marginLeft:{style:An},marginX:{style:An},marginY:{style:An},marginInline:{style:An},marginInlineStart:{style:An},marginInlineEnd:{style:An},marginBlock:{style:An},marginBlockStart:{style:An},marginBlockEnd:{style:An},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:bv},rowGap:{style:Dv},columnGap:{style:Cv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wr},maxWidth:{style:f6},minWidth:{transform:Wr},height:{transform:Wr},maxHeight:{transform:Wr},minHeight:{transform:Wr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function jk(...n){const e=n.reduce((i,a)=>i.concat(Object.keys(a)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Yk(n,e){return typeof n=="function"?n(e):n}function Xk(){function n(t,i,a,o){const c={[t]:i,theme:a},l=o[t];if(!l)return{[t]:i};const{cssProperty:h=t,themeKey:f,transform:g,style:S}=l;if(i==null)return null;if(f==="typography"&&i==="inherit")return{[t]:i};const b=Lc(a,f)||{};return S?S(c):oo(c,i,y=>{let v=my(b,g,y);return y===v&&typeof y=="string"&&(v=my(b,g,`${t}${y==="default"?"":Qe(y)}`,y)),h===!1?v:{[h]:v}})}function e(t){const{sx:i,theme:a={},nested:o}=t||{};if(!i)return null;const c=a.unstable_sxConfig??Fm;function l(h){let f=h;if(typeof h=="function")f=h(a);else if(typeof h!="object")return h;if(!f)return null;const g=tO(a.breakpoints),S=Object.keys(g);let b=g;return Object.keys(f).forEach(m=>{const y=Yk(f[m],a);if(y!=null)if(typeof y=="object")if(c[m])b=Yg(b,n(m,y,a,c));else{const v=oo({theme:a},y,D=>({[m]:D}));jk(v,y)?b[m]=e({sx:y,theme:a,nested:!0}):b=Yg(b,v)}else b=Yg(b,n(m,y,a,c))}),!o&&a.modularCssLayers?{"@layer sx":f9(a,KC(S,b))}:f9(a,KC(S,b))}return Array.isArray(i)?i.map(l):l(i)}return e}const kc=Xk();kc.filterProps=["sx"];function Wk(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let a=t.getColorSchemeSelector(n);return a==="&"?e:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:e})}return t.palette.mode===n?e:{}}function Tv(n={},...e){const{breakpoints:t={},palette:i={},spacing:a,shape:o={},...c}=n,l=nk(t),h=iO(a);let f=mi({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:h,shape:{...ok,...o}},c);return f=ak(f),f.applyStyles=Wk,f=e.reduce((g,S)=>mi(g,S),f),f.unstable_sxConfig={...Fm,...c==null?void 0:c.unstable_sxConfig},f.unstable_sx=function(S){return kc({sx:S,theme:this})},f}function $k(n){return Object.keys(n).length===0}function wv(n=null){const e=te.useContext(_m);return!e||$k(e)?n:e}const Kk=Tv();function xv(n=Kk){return wv(n)}function oC(n){const e=Ic(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function rO({styles:n,themeId:e,defaultTheme:t={}}){const i=xv(t),a=e&&i[e]||i;let o=typeof n=="function"?n(a):n;return a.modularCssLayers&&(Array.isArray(o)?o=o.map(c=>oC(typeof c=="function"?c(a):c)):o=oC(o)),ce.jsx(KR,{styles:o})}const Zk=n=>{var i;const e={systemProps:{},otherProps:{}},t=((i=n==null?void 0:n.theme)==null?void 0:i.unstable_sxConfig)??Fm;return Object.keys(n).forEach(a=>{t[a]?e.systemProps[a]=n[a]:e.otherProps[a]=n[a]}),e};function g6(n){const{sx:e,...t}=n,{systemProps:i,otherProps:a}=Zk(t);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...c)=>{const l=e(...c);return Bo(l)?{...i,...l}:i}:o={...i,...e},{...a,sx:o}}const m9=n=>n,Jk=()=>{let n=m9;return{configure(e){n=e},generate(e){return n(e)},reset(){n=m9}}},aO=Jk();function oO(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=oO(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Ke(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=oO(n))&&(i&&(i+=" "),i+=e);return i}function eU(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:a}=n,o=ZR("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(kc);return te.forwardRef(function(h,f){const g=xv(t),{className:S,component:b="div",...m}=g6(h);return ce.jsx(o,{as:b,ref:f,className:Ke(S,a?a(i):i),theme:e&&g[e]||g,...m})})}const tU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ft(n,e,t="Mui"){const i=tU[e];return i?`${t}-${i}`:`${aO.generate(n)}-${e}`}function gt(n,e,t="Mui"){const i={};return e.forEach(a=>{i[a]=ft(n,a,t)}),i}function sO(n){const{variants:e,...t}=n,i={variants:e,style:Ic(t),isProcessed:!0};return i.style===t||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=Ic(a.style))}),i}const nU=Tv();function sC(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function bu(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function iU(n){return n?(e,t)=>t[n]:null}function rU(n,e,t){n.theme=oU(n.theme)?t:n.theme[e]||n.theme}function P2(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(a=>P2(n,a,t));if(Array.isArray(i==null?void 0:i.variants)){let a;if(i.isProcessed)a=t?bu(i.style,t):i.style;else{const{variants:o,...c}=i;a=t?bu(Ic(c),t):c}return lO(n,i.variants,[a],t)}return i!=null&&i.isProcessed?t?bu(Ic(i.style),t):i.style:t?bu(Ic(i),t):i}function lO(n,e,t=[],i=void 0){var o;let a;e:for(let c=0;c<e.length;c+=1){const l=e[c];if(typeof l.props=="function"){if(a??(a={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(a))continue}else for(const h in l.props)if(n[h]!==l.props[h]&&((o=n.ownerState)==null?void 0:o[h])!==l.props[h])continue e;typeof l.style=="function"?(a??(a={...n,...n.ownerState,ownerState:n.ownerState}),t.push(i?bu(Ic(l.style(a)),i):l.style(a))):t.push(i?bu(Ic(l.style),i):l.style)}return t}function cO(n={}){const{themeId:e,defaultTheme:t=nU,rootShouldForwardProp:i=sC,slotShouldForwardProp:a=sC}=n;function o(l){rU(l,e,t)}return(l,h={})=>{ZF(l,E=>E.filter(U=>U!==kc));const{name:f,slot:g,skipVariantsResolver:S,skipSx:b,overridesResolver:m=iU(lU(g)),...y}=h,v=f&&f.startsWith("Mui")||g?"components":"custom",D=S!==void 0?S:g&&g!=="Root"&&g!=="root"||!1,x=b||!1;let T=sC;g==="Root"||g==="root"?T=i:g?T=a:sU(l)&&(T=void 0);const C=ZR(l,{shouldForwardProp:T,label:aU(),...y}),A=E=>{if(E.__emotion_real===E)return E;if(typeof E=="function")return function(_){return P2(_,E,_.theme.modularCssLayers?v:void 0)};if(Bo(E)){const U=sO(E);return function(M){return U.variants?P2(M,U,M.theme.modularCssLayers?v:void 0):M.theme.modularCssLayers?bu(U.style,v):U.style}}return E},R=(...E)=>{const U=[],_=E.map(A),M=[];if(U.push(o),f&&m&&M.push(function(L){var G,W;const F=(W=(G=L.theme.components)==null?void 0:G[f])==null?void 0:W.styleOverrides;if(!F)return null;const k={};for(const X in F)k[X]=P2(L,F[X],L.theme.modularCssLayers?"theme":void 0);return m(L,k)}),f&&!D&&M.push(function(L){var k,G;const O=L.theme,F=(G=(k=O==null?void 0:O.components)==null?void 0:k[f])==null?void 0:G.variants;return F?lO(L,F,[],L.theme.modularCssLayers?"theme":void 0):null}),x||M.push(kc),Array.isArray(_[0])){const N=_.shift(),L=new Array(U.length).fill(""),O=new Array(M.length).fill("");let F;F=[...L,...N,...O],F.raw=[...L,...N.raw,...O],U.unshift(F)}const P=[...U,..._,...M],q=C(...P);return l.muiName&&(q.muiName=l.muiName),q};return C.withConfig&&(R.withConfig=C.withConfig),R}}function aU(n,e){return void 0}function oU(n){for(const e in n)return!1;return!0}function sU(n){return typeof n=="string"&&n.charCodeAt(0)>96}function lU(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const cU=cO();function op(n,e,t=!1){const i={...e};for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const o=a;if(o==="components"||o==="slots")i[o]={...n[o],...i[o]};else if(o==="componentsProps"||o==="slotProps"){const c=n[o],l=e[o];if(!l)i[o]=c||{};else if(!c)i[o]=l;else{i[o]={...l};for(const h in c)if(Object.prototype.hasOwnProperty.call(c,h)){const f=h;i[o][f]=op(c[f],l[f],t)}}}else o==="className"&&t&&e.className?i.className=Ke(n==null?void 0:n.className,e==null?void 0:e.className):o==="style"&&t&&e.style?i.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:i[o]===void 0&&(i[o]=n[o])}return i}function uO(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:op(e.components[t].defaultProps,i)}function uU({props:n,name:e,defaultTheme:t,themeId:i}){let a=xv(t);return i&&(a=a[i]||a),uO({theme:a,name:e,props:n})}const so=typeof window<"u"?te.useLayoutEffect:te.useEffect;function dU(n,e,t,i,a){const[o,c]=te.useState(()=>a&&t?t(n).matches:i?i(n).matches:e);return so(()=>{if(!t)return;const l=t(n),h=()=>{c(l.matches)};return h(),l.addEventListener("change",h),()=>{l.removeEventListener("change",h)}},[n,t]),o}const hU={...fy},dO=hU.useSyncExternalStore;function fU(n,e,t,i,a){const o=te.useCallback(()=>e,[e]),c=te.useMemo(()=>{if(a&&t)return()=>t(n).matches;if(i!==null){const{matches:g}=i(n);return()=>g}return o},[o,n,i,a,t]),[l,h]=te.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const g=t(n);return[()=>g.matches,S=>(g.addEventListener("change",S),()=>{g.removeEventListener("change",S)})]},[o,t,n]);return dO(h,l,c)}function hO(n={}){const{themeId:e}=n;return function(i,a={}){let o=wv();o&&e&&(o=o[e]||o);const c=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:l=!1,matchMedia:h=c?window.matchMedia:null,ssrMatchMedia:f=null,noSsr:g=!1}=uO({name:"MuiUseMediaQuery",props:a,theme:o});let S=typeof i=="function"?i(o):i;return S=S.replace(/^@media( ?)/m,""),S.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(dO!==void 0?fU:dU)(S,l,h,f,g)}}hO();function Od(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function p6(n,e=0,t=1){return Od(n,e,t)}function gU(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,a)=>a<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Uc(n){if(n.type)return n;if(n.charAt(0)==="#")return Uc(gU(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(rl(9,n));let i=n.substring(e+1,n.length-1),a;if(t==="color"){if(i=i.split(" "),a=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(rl(10,a))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:t,values:i,colorSpace:a}}const pU=n=>{const e=Uc(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},kg=(n,e)=>{try{return pU(n)}catch{return n}};function Av(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function fO(n){n=Uc(n);const{values:e}=n,t=e[0],i=e[1]/100,a=e[2]/100,o=i*Math.min(a,1-a),c=(f,g=(f+t/30)%12)=>a-o*Math.max(Math.min(g-3,9-g,1),-1);let l="rgb";const h=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return n.type==="hsla"&&(l+="a",h.push(e[3])),Av({type:l,values:h})}function ZC(n){n=Uc(n);let e=n.type==="hsl"||n.type==="hsla"?Uc(fO(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function mU(n,e){const t=ZC(n),i=ZC(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function In(n,e){return n=Uc(n),e=p6(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Av(n)}function $S(n,e,t){try{return In(n,e)}catch{return n}}function O0(n,e){if(n=Uc(n),e=p6(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Av(n)}function $t(n,e,t){try{return O0(n,e)}catch{return n}}function P0(n,e){if(n=Uc(n),e=p6(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Av(n)}function Kt(n,e,t){try{return P0(n,e)}catch{return n}}function SU(n,e=.15){return ZC(n)>.5?O0(n,e):P0(n,e)}function KS(n,e,t){try{return SU(n,e)}catch{return n}}const gO=te.createContext(null);function m6(){return te.useContext(gO)}const yU=typeof Symbol=="function"&&Symbol.for,vU=yU?Symbol.for("mui.nested"):"__THEME_NESTED__";function bU(n,e){return typeof e=="function"?e(n):{...n,...e}}function CU(n){const{children:e,theme:t}=n,i=m6(),a=te.useMemo(()=>{const o=i===null?{...t}:bU(i,t);return o!=null&&(o[vU]=i!==null),o},[t,i]);return ce.jsx(gO.Provider,{value:a,children:e})}const pO=te.createContext();function DU({value:n,...e}){return ce.jsx(pO.Provider,{value:n??!0,...e})}const S6=()=>te.useContext(pO)??!1,mO=te.createContext(void 0);function TU({value:n,children:e}){return ce.jsx(mO.Provider,{value:n,children:e})}function wU(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const a=e.components[t];return a.defaultProps?op(a.defaultProps,i,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?op(a,i,e.components.mergeClassNameAndStyle):i}function xU({props:n,name:e}){const t=te.useContext(mO);return wU({props:n,name:e,theme:{components:t}})}let S9=0;function AU(n){const[e,t]=te.useState(n),i=n||e;return te.useEffect(()=>{e==null&&(S9+=1,t(`mui-${S9}`))},[e]),i}const RU={...fy},y9=RU.useId;function km(n){if(y9!==void 0){const e=y9();return n??e}return AU(n)}function OU(n){const e=wv(),t=km()||"",{modularCssLayers:i}=n;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!i||e!==null?a="":typeof i=="string"?a=i.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,so(()=>{var l,h;const o=document.querySelector("head");if(!o)return;const c=o.firstChild;if(a){if(c&&((l=c.hasAttribute)!=null&&l.call(c,"data-mui-layer-order"))&&c.getAttribute("data-mui-layer-order")===t)return;const f=document.createElement("style");f.setAttribute("data-mui-layer-order",t),f.textContent=a,o.prepend(f)}else(h=o.querySelector(`style[data-mui-layer-order="${t}"]`))==null||h.remove()},[a,t]),a?ce.jsx(rO,{styles:a}):null}const v9={};function b9(n,e,t,i=!1){return te.useMemo(()=>{const a=n&&e[n]||e;if(typeof t=="function"){const o=t(a),c=n?{...e,[n]:o}:o;return i?()=>c:c}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function SO(n){const{children:e,theme:t,themeId:i}=n,a=wv(v9),o=m6()||v9,c=b9(i,a,t),l=b9(i,o,t,!0),h=(i?c[i]:c).direction==="rtl",f=OU(c);return ce.jsx(CU,{theme:l,children:ce.jsx(_m.Provider,{value:c,children:ce.jsx(DU,{value:h,children:ce.jsxs(TU,{value:i?c[i].components:c.components,children:[f,e]})})})})}const C9={theme:void 0};function PU(n){let e,t;return function(a){let o=e;return(o===void 0||a.theme!==t)&&(C9.theme=a.theme,o=sO(n(C9)),e=o,t=a.theme),o}}const y6="mode",v6="color-scheme",LU="data-color-scheme";function IU(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:a=y6,colorSchemeStorageKey:o=v6,attribute:c=LU,colorSchemeNode:l="document.documentElement",nonce:h}=n||{};let f="",g=c;if(c==="class"&&(g=".%s"),c==="data"&&(g="[data-%s]"),g.startsWith(".")){const b=g.substring(1);f+=`${l}.classList.remove('${b}'.replace('%s', light), '${b}'.replace('%s', dark));
      ${l}.classList.add('${b}'.replace('%s', colorScheme));`}const S=g.match(/\[([^\]]+)\]/);if(S){const[b,m]=S[1].split("=");m||(f+=`${l}.removeAttribute('${b}'.replace('%s', light));
      ${l}.removeAttribute('${b}'.replace('%s', dark));`),f+=`
      ${l}.setAttribute('${b}'.replace('%s', colorScheme), ${m?`${m}.replace('%s', colorScheme)`:'""'});`}else f+=`${l}.setAttribute('${g}', colorScheme);`;return ce.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${i}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${f}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function EU(){}const _U=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return EU;const i=a=>{const o=a.newValue;a.key===n&&t(o)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function lC(){}function D9(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function yO(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function MU(n){return yO(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function FU(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:a=[],modeStorageKey:o=y6,colorSchemeStorageKey:c=v6,storageWindow:l=typeof window>"u"?void 0:window,storageManager:h=_U,noSsr:f=!1}=n,g=a.join(","),S=a.length>1,b=te.useMemo(()=>h==null?void 0:h({key:o,storageWindow:l}),[h,o,l]),m=te.useMemo(()=>h==null?void 0:h({key:`${c}-light`,storageWindow:l}),[h,c,l]),y=te.useMemo(()=>h==null?void 0:h({key:`${c}-dark`,storageWindow:l}),[h,c,l]),[v,D]=te.useState(()=>{const _=(b==null?void 0:b.get(e))||e,M=(m==null?void 0:m.get(t))||t,P=(y==null?void 0:y.get(i))||i;return{mode:_,systemMode:D9(_),lightColorScheme:M,darkColorScheme:P}}),[x,T]=te.useState(f||!S);te.useEffect(()=>{T(!0)},[]);const C=MU(v),A=te.useCallback(_=>{D(M=>{if(_===M.mode)return M;const P=_??e;return b==null||b.set(P),{...M,mode:P,systemMode:D9(P)}})},[b,e]),R=te.useCallback(_=>{_?typeof _=="string"?_&&!g.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):D(M=>{const P={...M};return yO(M,q=>{q==="light"&&(m==null||m.set(_),P.lightColorScheme=_),q==="dark"&&(y==null||y.set(_),P.darkColorScheme=_)}),P}):D(M=>{const P={...M},q=_.light===null?t:_.light,N=_.dark===null?i:_.dark;return q&&(g.includes(q)?(P.lightColorScheme=q,m==null||m.set(q)):console.error(`\`${q}\` does not exist in \`theme.colorSchemes\`.`)),N&&(g.includes(N)?(P.darkColorScheme=N,y==null||y.set(N)):console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`)),P}):D(M=>(m==null||m.set(t),y==null||y.set(i),{...M,lightColorScheme:t,darkColorScheme:i}))},[g,m,y,t,i]),E=te.useCallback(_=>{v.mode==="system"&&D(M=>{const P=_!=null&&_.matches?"dark":"light";return M.systemMode===P?M:{...M,systemMode:P}})},[v.mode]),U=te.useRef(E);return U.current=E,te.useEffect(()=>{if(typeof window.matchMedia!="function"||!S)return;const _=(...P)=>U.current(...P),M=window.matchMedia("(prefers-color-scheme: dark)");return M.addListener(_),_(M),()=>{M.removeListener(_)}},[S]),te.useEffect(()=>{if(S){const _=(b==null?void 0:b.subscribe(q=>{(!q||["light","dark","system"].includes(q))&&A(q||e)}))||lC,M=(m==null?void 0:m.subscribe(q=>{(!q||g.match(q))&&R({light:q})}))||lC,P=(y==null?void 0:y.subscribe(q=>{(!q||g.match(q))&&R({dark:q})}))||lC;return()=>{_(),M(),P()}}},[R,A,g,e,l,S,b,m,y]),{...v,mode:x?v.mode:void 0,systemMode:x?v.systemMode:void 0,colorScheme:x?C:void 0,setMode:A,setColorScheme:R}}const kU="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function UU(n){const{themeId:e,theme:t={},modeStorageKey:i=y6,colorSchemeStorageKey:a=v6,disableTransitionOnChange:o=!1,defaultColorScheme:c,resolveTheme:l}=n,h={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},f=te.createContext(void 0),g=()=>te.useContext(f)||h,S={},b={};function m(x){var Ce,ke,qe,je;const{children:T,theme:C,modeStorageKey:A=i,colorSchemeStorageKey:R=a,disableTransitionOnChange:E=o,storageManager:U,storageWindow:_=typeof window>"u"?void 0:window,documentNode:M=typeof document>"u"?void 0:document,colorSchemeNode:P=typeof document>"u"?void 0:document.documentElement,disableNestedContext:q=!1,disableStyleSheetGeneration:N=!1,defaultMode:L="system",forceThemeRerender:O=!1,noSsr:F}=x,k=te.useRef(!1),G=m6(),W=te.useContext(f),X=!!W&&!q,Q=te.useMemo(()=>C||(typeof t=="function"?t():t),[C]),Y=Q[e],$=Y||Q,{colorSchemes:ee=S,components:re=b,cssVarPrefix:ie}=$,fe=Object.keys(ee).filter(Ge=>!!ee[Ge]).join(","),ne=te.useMemo(()=>fe.split(","),[fe]),oe=typeof c=="string"?c:c.light,pe=typeof c=="string"?c:c.dark,me=ee[oe]&&ee[pe]?L:((ke=(Ce=ee[$.defaultColorScheme])==null?void 0:Ce.palette)==null?void 0:ke.mode)||((qe=$.palette)==null?void 0:qe.mode),{mode:xe,setMode:Oe,systemMode:Be,lightColorScheme:B,darkColorScheme:ge,colorScheme:ye,setColorScheme:J}=FU({supportedColorSchemes:ne,defaultLightColorScheme:oe,defaultDarkColorScheme:pe,modeStorageKey:A,colorSchemeStorageKey:R,defaultMode:me,storageManager:U,storageWindow:_,noSsr:F});let Z=xe,ue=ye;X&&(Z=W.mode,ue=W.colorScheme);let we=ue||$.defaultColorScheme;$.vars&&!O&&(we=$.defaultColorScheme);const Ae=te.useMemo(()=>{var et;const Ge=((et=$.generateThemeVars)==null?void 0:et.call($))||$.vars,Ve={...$,components:re,colorSchemes:ee,cssVarPrefix:ie,vars:Ge};if(typeof Ve.generateSpacing=="function"&&(Ve.spacing=Ve.generateSpacing()),we){const He=ee[we];He&&typeof He=="object"&&Object.keys(He).forEach(it=>{He[it]&&typeof He[it]=="object"?Ve[it]={...Ve[it],...He[it]}:Ve[it]=He[it]})}return l?l(Ve):Ve},[$,we,re,ee,ie]),se=$.colorSchemeSelector;so(()=>{if(ue&&P&&se&&se!=="media"){const Ge=se;let Ve=se;if(Ge==="class"&&(Ve=".%s"),Ge==="data"&&(Ve="[data-%s]"),Ge!=null&&Ge.startsWith("data-")&&!Ge.includes("%s")&&(Ve=`[${Ge}="%s"]`),Ve.startsWith("."))P.classList.remove(...ne.map(et=>Ve.substring(1).replace("%s",et))),P.classList.add(Ve.substring(1).replace("%s",ue));else{const et=Ve.replace("%s",ue).match(/\[([^\]]+)\]/);if(et){const[He,it]=et[1].split("=");it||ne.forEach(Jt=>{P.removeAttribute(He.replace(ue,Jt))}),P.setAttribute(He,it?it.replace(/"|'/g,""):"")}else P.setAttribute(Ve,ue)}}},[ue,se,P,ne]),te.useEffect(()=>{let Ge;if(E&&k.current&&M){const Ve=M.createElement("style");Ve.appendChild(M.createTextNode(kU)),M.head.appendChild(Ve),window.getComputedStyle(M.body),Ge=setTimeout(()=>{M.head.removeChild(Ve)},1)}return()=>{clearTimeout(Ge)}},[ue,E,M]),te.useEffect(()=>(k.current=!0,()=>{k.current=!1}),[]);const Ee=te.useMemo(()=>({allColorSchemes:ne,colorScheme:ue,darkColorScheme:ge,lightColorScheme:B,mode:Z,setColorScheme:J,setMode:Oe,systemMode:Be}),[ne,ue,ge,B,Z,J,Oe,Be,Ae.colorSchemeSelector]);let Ue=!0;(N||$.cssVariables===!1||X&&(G==null?void 0:G.cssVarPrefix)===ie)&&(Ue=!1);const he=ce.jsxs(te.Fragment,{children:[ce.jsx(SO,{themeId:Y?e:void 0,theme:Ae,children:T}),Ue&&ce.jsx(KR,{styles:((je=Ae.generateStyleSheets)==null?void 0:je.call(Ae))||[]})]});return X?he:ce.jsx(f.Provider,{value:Ee,children:he})}const y=typeof c=="string"?c:c.light,v=typeof c=="string"?c:c.dark;return{CssVarsProvider:m,useColorScheme:g,getInitColorSchemeScript:x=>IU({colorSchemeStorageKey:a,defaultLightColorScheme:y,defaultDarkColorScheme:v,modeStorageKey:i,...x})}}function NU(n=""){function e(...i){if(!i.length)return"";const a=i[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...i.slice(1))})`:`, ${a}`}return(i,...a)=>`var(--${n?`${n}-`:""}${i}${e(...a)})`}const T9=(n,e,t,i=[])=>{let a=n;e.forEach((o,c)=>{c===e.length-1?Array.isArray(a)?a[Number(o)]=t:a&&typeof a=="object"&&(a[o]=t):a&&typeof a=="object"&&(a[o]||(a[o]=i.includes(o)?[]:{}),a=a[o])})},qU=(n,e,t)=>{function i(a,o=[],c=[]){Object.entries(a).forEach(([l,h])=>{(!t||t&&!t([...o,l]))&&h!=null&&(typeof h=="object"&&Object.keys(h).length>0?i(h,[...o,l],Array.isArray(h)?[...c,l]:c):e([...o,l],h,c))})}i(n)},BU=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function cC(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},a={},o={},c={};return qU(n,(l,h,f)=>{if((typeof h=="string"||typeof h=="number")&&(!i||!i(l,h))){const g=`--${t?`${t}-`:""}${l.join("-")}`,S=BU(l,h);Object.assign(a,{[g]:S}),T9(o,l,`var(${g})`,f),T9(c,l,`var(${g}, ${S})`,f)}},l=>l[0]==="vars"),{css:a,vars:o,varsWithDefaults:c}}function GU(n,e={}){const{getSelector:t=D,disableCssColorScheme:i,colorSchemeSelector:a}=e,{colorSchemes:o={},components:c,defaultColorScheme:l="light",...h}=n,{vars:f,css:g,varsWithDefaults:S}=cC(h,e);let b=S;const m={},{[l]:y,...v}=o;if(Object.entries(v||{}).forEach(([C,A])=>{const{vars:R,css:E,varsWithDefaults:U}=cC(A,e);b=mi(b,U),m[C]={css:E,vars:R}}),y){const{css:C,vars:A,varsWithDefaults:R}=cC(y,e);b=mi(b,R),m[l]={css:C,vars:A}}function D(C,A){var E,U;let R=a;if(a==="class"&&(R=".%s"),a==="data"&&(R="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(R=`[${a}="%s"]`),C){if(R==="media")return n.defaultColorScheme===C?":root":{[`@media (prefers-color-scheme: ${((U=(E=o[C])==null?void 0:E.palette)==null?void 0:U.mode)||C})`]:{":root":A}};if(R)return n.defaultColorScheme===C?`:root, ${R.replace("%s",String(C))}`:R.replace("%s",String(C))}return":root"}return{vars:b,generateThemeVars:()=>{let C={...f};return Object.entries(m).forEach(([,{vars:A}])=>{C=mi(C,A)}),C},generateStyleSheets:()=>{var _,M;const C=[],A=n.defaultColorScheme||"light";function R(P,q){Object.keys(q).length&&C.push(typeof P=="string"?{[P]:{...q}}:P)}R(t(void 0,{...g}),g);const{[A]:E,...U}=m;if(E){const{css:P}=E,q=(M=(_=o[A])==null?void 0:_.palette)==null?void 0:M.mode,N=!i&&q?{colorScheme:q,...P}:{...P};R(t(A,{...N}),N)}return Object.entries(U).forEach(([P,{css:q}])=>{var O,F;const N=(F=(O=o[P])==null?void 0:O.palette)==null?void 0:F.mode,L=!i&&N?{colorScheme:N,...q}:{...q};R(t(P,{...L}),L)}),C}}}function VU(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function pt(n,e,t=void 0){const i={};for(const a in n){const o=n[a];let c="",l=!0;for(let h=0;h<o.length;h+=1){const f=o[h];f&&(c+=(l===!0?"":" ")+e(f),l=!1,t&&t[f]&&(c+=" "+t[f]))}i[a]=c}return i}function uC(n,e){var t,i,a;return te.isValidElement(n)&&e.indexOf(n.type.muiName??((a=(i=(t=n.type)==null?void 0:t._payload)==null?void 0:i.value)==null?void 0:a.muiName))!==-1}const zU=Tv(),QU=cU("div",{name:"MuiStack",slot:"Root"});function HU(n){return uU({props:n,name:"MuiStack",defaultTheme:zU})}function jU(n,e){const t=te.Children.toArray(n).filter(Boolean);return t.reduce((i,a,o)=>(i.push(a),o<t.length-1&&i.push(te.cloneElement(e,{key:`separator-${o}`})),i),[])}const YU=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],XU=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...oo({theme:e},aC({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=Sv(e),a=Object.keys(e.breakpoints.values).reduce((h,f)=>((typeof n.spacing=="object"&&n.spacing[f]!=null||typeof n.direction=="object"&&n.direction[f]!=null)&&(h[f]=!0),h),{}),o=aC({values:n.direction,base:a}),c=aC({values:n.spacing,base:a});typeof o=="object"&&Object.keys(o).forEach((h,f,g)=>{if(!o[h]){const b=f>0?o[g[f-1]]:"column";o[h]=b}}),t=mi(t,oo({theme:e},c,(h,f)=>n.useFlexGap?{gap:R0(i,h)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${YU(f?o[f]:n.direction)}`]:R0(i,h)}}))}return t=lk(e.breakpoints,t),t};function WU(n={}){const{createStyledComponent:e=QU,useThemeProps:t=HU,componentName:i="MuiStack"}=n,a=()=>pt({root:["root"]},h=>ft(i,h),{}),o=e(XU);return te.forwardRef(function(h,f){const g=t(h),S=g6(g),{component:b="div",direction:m="column",spacing:y=0,divider:v,children:D,className:x,useFlexGap:T=!1,...C}=S,A={direction:m,spacing:y,useFlexGap:T},R=a();return ce.jsx(o,{as:b,ownerState:A,ref:f,className:Ke(R.root,x),...C,children:v?jU(D,v):D})})}function vO(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:np.white,default:np.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const $U=vO();function bO(){return{text:{primary:np.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:np.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const w9=bO();function x9(n,e,t,i){const a=i.light||i,o=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=P0(n.main,a):e==="dark"&&(n.dark=O0(n.main,o)))}function KU(n="light"){return n==="dark"?{main:Dd[200],light:Dd[50],dark:Dd[400]}:{main:Dd[700],light:Dd[400],dark:Dd[800]}}function ZU(n="light"){return n==="dark"?{main:Cd[200],light:Cd[50],dark:Cd[400]}:{main:Cd[500],light:Cd[300],dark:Cd[700]}}function JU(n="light"){return n==="dark"?{main:bd[500],light:bd[300],dark:bd[700]}:{main:bd[700],light:bd[400],dark:bd[800]}}function eN(n="light"){return n==="dark"?{main:Td[400],light:Td[300],dark:Td[700]}:{main:Td[700],light:Td[500],dark:Td[900]}}function tN(n="light"){return n==="dark"?{main:wd[400],light:wd[300],dark:wd[700]}:{main:wd[800],light:wd[500],dark:wd[900]}}function nN(n="light"){return n==="dark"?{main:q1[400],light:q1[300],dark:q1[700]}:{main:"#ed6c02",light:q1[500],dark:q1[900]}}function b6(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...a}=n,o=n.primary||KU(e),c=n.secondary||ZU(e),l=n.error||JU(e),h=n.info||eN(e),f=n.success||tN(e),g=n.warning||nN(e);function S(v){return mU(v,w9.text.primary)>=t?w9.text.primary:$U.text.primary}const b=({color:v,name:D,mainShade:x=500,lightShade:T=300,darkShade:C=700})=>{if(v={...v},!v.main&&v[x]&&(v.main=v[x]),!v.hasOwnProperty("main"))throw new Error(rl(11,D?` (${D})`:"",x));if(typeof v.main!="string")throw new Error(rl(12,D?` (${D})`:"",JSON.stringify(v.main)));return x9(v,"light",T,i),x9(v,"dark",C,i),v.contrastText||(v.contrastText=S(v.main)),v};let m;return e==="light"?m=vO():e==="dark"&&(m=bO()),mi({common:{...np},mode:e,primary:b({color:o,name:"primary"}),secondary:b({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:g,name:"warning"}),info:b({color:h,name:"info"}),success:b({color:f,name:"success"}),grey:JM,contrastThreshold:t,getContrastText:S,augmentColor:b,tonalOffset:i,...m},a)}function iN(n){const e={};return Object.entries(n).forEach(i=>{const[a,o]=i;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function rN(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function aN(n){return Math.round(n*1e5)/1e5}const A9={textTransform:"uppercase"},R9='"Roboto", "Helvetica", "Arial", sans-serif';function CO(n,e){const{fontFamily:t=R9,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:c=500,fontWeightBold:l=700,htmlFontSize:h=16,allVariants:f,pxToRem:g,...S}=typeof e=="function"?e(n):e,b=i/14,m=g||(D=>`${D/h*b}rem`),y=(D,x,T,C,A)=>({fontFamily:t,fontWeight:D,fontSize:m(x),lineHeight:T,...t===R9?{letterSpacing:`${aN(C/x)}em`}:{},...A,...f}),v={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(c,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(c,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(c,14,1.75,.4,A9),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,A9),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return mi({htmlFontSize:h,pxToRem:m,fontFamily:t,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:c,fontWeightBold:l,...v},S,{clone:!1})}const oN=.2,sN=.14,lN=.12;function fn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${oN})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${sN})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${lN})`].join(",")}const cN=["none",fn(0,2,1,-1,0,1,1,0,0,1,3,0),fn(0,3,1,-2,0,2,2,0,0,1,5,0),fn(0,3,3,-2,0,3,4,0,0,1,8,0),fn(0,2,4,-1,0,4,5,0,0,1,10,0),fn(0,3,5,-1,0,5,8,0,0,1,14,0),fn(0,3,5,-1,0,6,10,0,0,1,18,0),fn(0,4,5,-2,0,7,10,1,0,2,16,1),fn(0,5,5,-3,0,8,10,1,0,3,14,2),fn(0,5,6,-3,0,9,12,1,0,3,16,2),fn(0,6,6,-3,0,10,14,1,0,4,18,3),fn(0,6,7,-4,0,11,15,1,0,4,20,3),fn(0,7,8,-4,0,12,17,2,0,5,22,4),fn(0,7,8,-4,0,13,19,2,0,5,24,4),fn(0,7,9,-4,0,14,21,2,0,5,26,4),fn(0,8,9,-5,0,15,22,2,0,6,28,5),fn(0,8,10,-5,0,16,24,2,0,6,30,5),fn(0,8,11,-5,0,17,26,2,0,6,32,5),fn(0,9,11,-5,0,18,28,2,0,7,34,6),fn(0,9,12,-6,0,19,29,2,0,7,36,6),fn(0,10,13,-6,0,20,31,3,0,8,38,7),fn(0,10,13,-6,0,21,33,3,0,8,40,7),fn(0,10,14,-6,0,22,35,3,0,8,42,7),fn(0,11,14,-7,0,23,36,3,0,9,44,8),fn(0,11,15,-7,0,24,38,3,0,9,46,8)],uN={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O9(n){return`${Math.round(n)}ms`}function hN(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function fN(n){const e={...uN,...n.easing},t={...dN,...n.duration};return{getAutoHeightDuration:hN,create:(a=["all"],o={})=>{const{duration:c=t.standard,easing:l=e.easeInOut,delay:h=0,...f}=o;return(Array.isArray(a)?a:[a]).map(g=>`${g} ${typeof c=="string"?c:O9(c)} ${l} ${typeof h=="string"?h:O9(h)}`).join(",")},...n,easing:e,duration:t}}const gN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function pN(n){return Bo(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function DO(n={}){const e={...n};function t(i){const a=Object.entries(i);for(let o=0;o<a.length;o++){const[c,l]=a[o];!pN(l)||c.startsWith("unstable_")?delete i[c]:Bo(l)&&(i[c]={...l},t(i[c]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function JC(n={},...e){const{breakpoints:t,mixins:i={},spacing:a,palette:o={},transitions:c={},typography:l={},shape:h,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(rl(20));const g=b6(o),S=Tv(n);let b=mi(S,{mixins:rN(S.breakpoints,i),palette:g,shadows:cN.slice(),typography:CO(g,l),transitions:fN(c),zIndex:{...gN}});return b=mi(b,f),b=e.reduce((m,y)=>mi(m,y),b),b.unstable_sxConfig={...Fm,...f==null?void 0:f.unstable_sxConfig},b.unstable_sx=function(y){return kc({sx:y,theme:this})},b.toRuntimeSource=DO,b}function e4(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const mN=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=e4(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function TO(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function wO(n){return n==="dark"?mN:[]}function SN(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...a}=n,o=b6(e);return{palette:o,opacity:{...TO(o.mode),...t},overlays:i||wO(o.mode),...a}}function yN(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const vN=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],bN=n=>(e,t)=>{const i=n.rootSelector||":root",a=n.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const c={};return vN(n.cssVarPrefix).forEach(l=>{c[l]=t[l],delete t[l]}),o==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:c}}:o?{[o.replace("%s",e)]:c,[`${i}, ${o.replace("%s",e)}`]:t}:{[i]:{...t,...c}}}if(o&&o!=="media")return`${i}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(o)return o.replace("%s",String(e))}return i};function CN(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Pe(n,e,t){!n[e]&&t&&(n[e]=t)}function Ug(n){return typeof n!="string"||!n.startsWith("hsl")?n:fO(n)}function ss(n,e){`${e}Channel`in n||(n[`${e}Channel`]=kg(Ug(n[e])))}function DN(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const So=n=>{try{return n()}catch{}},TN=(n="mui")=>NU(n);function dC(n,e,t,i){if(!e)return;e=e===!0?{}:e;const a=i==="dark"?"dark":"light";if(!t){n[i]=SN({...e,palette:{mode:a,...e==null?void 0:e.palette}});return}const{palette:o,...c}=JC({...t,palette:{mode:a,...e==null?void 0:e.palette}});return n[i]={...e,palette:o,opacity:{...TO(a),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||wO(a)},c}function wN(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:c=yN,colorSchemeSelector:l=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...f}=n,g=Object.keys(t)[0],S=i||(t.light&&g!=="light"?"light":g),b=TN(o),{[S]:m,light:y,dark:v,...D}=t,x={...D};let T=m;if((S==="dark"&&!("dark"in t)||S==="light"&&!("light"in t))&&(T=!0),!T)throw new Error(rl(21,S));const C=dC(x,T,f,S);y&&!x.light&&dC(x,y,void 0,"light"),v&&!x.dark&&dC(x,v,void 0,"dark");let A={defaultColorScheme:S,...C,cssVarPrefix:o,colorSchemeSelector:l,rootSelector:h,getCssVar:b,colorSchemes:x,font:{...iN(C.typography),...C.font},spacing:DN(f.spacing)};Object.keys(A.colorSchemes).forEach(M=>{const P=A.colorSchemes[M].palette,q=N=>{const L=N.split("-"),O=L[1],F=L[2];return b(N,P[O][F])};if(P.mode==="light"&&(Pe(P.common,"background","#fff"),Pe(P.common,"onBackground","#000")),P.mode==="dark"&&(Pe(P.common,"background","#000"),Pe(P.common,"onBackground","#fff")),CN(P,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),P.mode==="light"){Pe(P.Alert,"errorColor",$t(P.error.light,.6)),Pe(P.Alert,"infoColor",$t(P.info.light,.6)),Pe(P.Alert,"successColor",$t(P.success.light,.6)),Pe(P.Alert,"warningColor",$t(P.warning.light,.6)),Pe(P.Alert,"errorFilledBg",q("palette-error-main")),Pe(P.Alert,"infoFilledBg",q("palette-info-main")),Pe(P.Alert,"successFilledBg",q("palette-success-main")),Pe(P.Alert,"warningFilledBg",q("palette-warning-main")),Pe(P.Alert,"errorFilledColor",So(()=>P.getContrastText(P.error.main))),Pe(P.Alert,"infoFilledColor",So(()=>P.getContrastText(P.info.main))),Pe(P.Alert,"successFilledColor",So(()=>P.getContrastText(P.success.main))),Pe(P.Alert,"warningFilledColor",So(()=>P.getContrastText(P.warning.main))),Pe(P.Alert,"errorStandardBg",Kt(P.error.light,.9)),Pe(P.Alert,"infoStandardBg",Kt(P.info.light,.9)),Pe(P.Alert,"successStandardBg",Kt(P.success.light,.9)),Pe(P.Alert,"warningStandardBg",Kt(P.warning.light,.9)),Pe(P.Alert,"errorIconColor",q("palette-error-main")),Pe(P.Alert,"infoIconColor",q("palette-info-main")),Pe(P.Alert,"successIconColor",q("palette-success-main")),Pe(P.Alert,"warningIconColor",q("palette-warning-main")),Pe(P.AppBar,"defaultBg",q("palette-grey-100")),Pe(P.Avatar,"defaultBg",q("palette-grey-400")),Pe(P.Button,"inheritContainedBg",q("palette-grey-300")),Pe(P.Button,"inheritContainedHoverBg",q("palette-grey-A100")),Pe(P.Chip,"defaultBorder",q("palette-grey-400")),Pe(P.Chip,"defaultAvatarColor",q("palette-grey-700")),Pe(P.Chip,"defaultIconColor",q("palette-grey-700")),Pe(P.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Pe(P.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Pe(P.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Pe(P.LinearProgress,"primaryBg",Kt(P.primary.main,.62)),Pe(P.LinearProgress,"secondaryBg",Kt(P.secondary.main,.62)),Pe(P.LinearProgress,"errorBg",Kt(P.error.main,.62)),Pe(P.LinearProgress,"infoBg",Kt(P.info.main,.62)),Pe(P.LinearProgress,"successBg",Kt(P.success.main,.62)),Pe(P.LinearProgress,"warningBg",Kt(P.warning.main,.62)),Pe(P.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.11)`),Pe(P.Slider,"primaryTrack",Kt(P.primary.main,.62)),Pe(P.Slider,"secondaryTrack",Kt(P.secondary.main,.62)),Pe(P.Slider,"errorTrack",Kt(P.error.main,.62)),Pe(P.Slider,"infoTrack",Kt(P.info.main,.62)),Pe(P.Slider,"successTrack",Kt(P.success.main,.62)),Pe(P.Slider,"warningTrack",Kt(P.warning.main,.62));const N=KS(P.background.default,.8);Pe(P.SnackbarContent,"bg",N),Pe(P.SnackbarContent,"color",So(()=>P.getContrastText(N))),Pe(P.SpeedDialAction,"fabHoverBg",KS(P.background.paper,.15)),Pe(P.StepConnector,"border",q("palette-grey-400")),Pe(P.StepContent,"border",q("palette-grey-400")),Pe(P.Switch,"defaultColor",q("palette-common-white")),Pe(P.Switch,"defaultDisabledColor",q("palette-grey-100")),Pe(P.Switch,"primaryDisabledColor",Kt(P.primary.main,.62)),Pe(P.Switch,"secondaryDisabledColor",Kt(P.secondary.main,.62)),Pe(P.Switch,"errorDisabledColor",Kt(P.error.main,.62)),Pe(P.Switch,"infoDisabledColor",Kt(P.info.main,.62)),Pe(P.Switch,"successDisabledColor",Kt(P.success.main,.62)),Pe(P.Switch,"warningDisabledColor",Kt(P.warning.main,.62)),Pe(P.TableCell,"border",Kt($S(P.divider,1),.88)),Pe(P.Tooltip,"bg",$S(P.grey[700],.92))}if(P.mode==="dark"){Pe(P.Alert,"errorColor",Kt(P.error.light,.6)),Pe(P.Alert,"infoColor",Kt(P.info.light,.6)),Pe(P.Alert,"successColor",Kt(P.success.light,.6)),Pe(P.Alert,"warningColor",Kt(P.warning.light,.6)),Pe(P.Alert,"errorFilledBg",q("palette-error-dark")),Pe(P.Alert,"infoFilledBg",q("palette-info-dark")),Pe(P.Alert,"successFilledBg",q("palette-success-dark")),Pe(P.Alert,"warningFilledBg",q("palette-warning-dark")),Pe(P.Alert,"errorFilledColor",So(()=>P.getContrastText(P.error.dark))),Pe(P.Alert,"infoFilledColor",So(()=>P.getContrastText(P.info.dark))),Pe(P.Alert,"successFilledColor",So(()=>P.getContrastText(P.success.dark))),Pe(P.Alert,"warningFilledColor",So(()=>P.getContrastText(P.warning.dark))),Pe(P.Alert,"errorStandardBg",$t(P.error.light,.9)),Pe(P.Alert,"infoStandardBg",$t(P.info.light,.9)),Pe(P.Alert,"successStandardBg",$t(P.success.light,.9)),Pe(P.Alert,"warningStandardBg",$t(P.warning.light,.9)),Pe(P.Alert,"errorIconColor",q("palette-error-main")),Pe(P.Alert,"infoIconColor",q("palette-info-main")),Pe(P.Alert,"successIconColor",q("palette-success-main")),Pe(P.Alert,"warningIconColor",q("palette-warning-main")),Pe(P.AppBar,"defaultBg",q("palette-grey-900")),Pe(P.AppBar,"darkBg",q("palette-background-paper")),Pe(P.AppBar,"darkColor",q("palette-text-primary")),Pe(P.Avatar,"defaultBg",q("palette-grey-600")),Pe(P.Button,"inheritContainedBg",q("palette-grey-800")),Pe(P.Button,"inheritContainedHoverBg",q("palette-grey-700")),Pe(P.Chip,"defaultBorder",q("palette-grey-700")),Pe(P.Chip,"defaultAvatarColor",q("palette-grey-300")),Pe(P.Chip,"defaultIconColor",q("palette-grey-300")),Pe(P.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Pe(P.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Pe(P.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Pe(P.LinearProgress,"primaryBg",$t(P.primary.main,.5)),Pe(P.LinearProgress,"secondaryBg",$t(P.secondary.main,.5)),Pe(P.LinearProgress,"errorBg",$t(P.error.main,.5)),Pe(P.LinearProgress,"infoBg",$t(P.info.main,.5)),Pe(P.LinearProgress,"successBg",$t(P.success.main,.5)),Pe(P.LinearProgress,"warningBg",$t(P.warning.main,.5)),Pe(P.Skeleton,"bg",`rgba(${q("palette-text-primaryChannel")} / 0.13)`),Pe(P.Slider,"primaryTrack",$t(P.primary.main,.5)),Pe(P.Slider,"secondaryTrack",$t(P.secondary.main,.5)),Pe(P.Slider,"errorTrack",$t(P.error.main,.5)),Pe(P.Slider,"infoTrack",$t(P.info.main,.5)),Pe(P.Slider,"successTrack",$t(P.success.main,.5)),Pe(P.Slider,"warningTrack",$t(P.warning.main,.5));const N=KS(P.background.default,.98);Pe(P.SnackbarContent,"bg",N),Pe(P.SnackbarContent,"color",So(()=>P.getContrastText(N))),Pe(P.SpeedDialAction,"fabHoverBg",KS(P.background.paper,.15)),Pe(P.StepConnector,"border",q("palette-grey-600")),Pe(P.StepContent,"border",q("palette-grey-600")),Pe(P.Switch,"defaultColor",q("palette-grey-300")),Pe(P.Switch,"defaultDisabledColor",q("palette-grey-600")),Pe(P.Switch,"primaryDisabledColor",$t(P.primary.main,.55)),Pe(P.Switch,"secondaryDisabledColor",$t(P.secondary.main,.55)),Pe(P.Switch,"errorDisabledColor",$t(P.error.main,.55)),Pe(P.Switch,"infoDisabledColor",$t(P.info.main,.55)),Pe(P.Switch,"successDisabledColor",$t(P.success.main,.55)),Pe(P.Switch,"warningDisabledColor",$t(P.warning.main,.55)),Pe(P.TableCell,"border",$t($S(P.divider,1),.68)),Pe(P.Tooltip,"bg",$S(P.grey[700],.92))}ss(P.background,"default"),ss(P.background,"paper"),ss(P.common,"background"),ss(P.common,"onBackground"),ss(P,"divider"),Object.keys(P).forEach(N=>{const L=P[N];N!=="tonalOffset"&&L&&typeof L=="object"&&(L.main&&Pe(P[N],"mainChannel",kg(Ug(L.main))),L.light&&Pe(P[N],"lightChannel",kg(Ug(L.light))),L.dark&&Pe(P[N],"darkChannel",kg(Ug(L.dark))),L.contrastText&&Pe(P[N],"contrastTextChannel",kg(Ug(L.contrastText))),N==="text"&&(ss(P[N],"primary"),ss(P[N],"secondary")),N==="action"&&(L.active&&ss(P[N],"active"),L.selected&&ss(P[N],"selected")))})}),A=e.reduce((M,P)=>mi(M,P),A);const R={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:bN(A)},{vars:E,generateThemeVars:U,generateStyleSheets:_}=GU(A,R);return A.vars=E,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([M,P])=>{A[M]=P}),A.generateThemeVars=U,A.generateStyleSheets=_,A.generateSpacing=function(){return iO(f.spacing,Sv(this))},A.getColorSchemeSelector=VU(l),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=c,A.unstable_sxConfig={...Fm,...f==null?void 0:f.unstable_sxConfig},A.unstable_sx=function(P){return kc({sx:P,theme:this})},A.toRuntimeSource=DO,A}function P9(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:b6({...t===!0?{}:t.palette,mode:e})})}function Rv(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...c}=n,l=o||"light",h=a==null?void 0:a[l],f={...a,...t?{[l]:{...typeof h!="boolean"&&h,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return JC(n,...e);let g=t;"palette"in n||f[l]&&(f[l]!==!0?g=f[l].palette:l==="dark"&&(g={mode:"dark"}));const S=JC({...n,palette:g},...e);return S.defaultColorScheme=l,S.colorSchemes=f,S.palette.mode==="light"&&(S.colorSchemes.light={...f.light!==!0&&f.light,palette:S.palette},P9(S,"dark",f.dark)),S.palette.mode==="dark"&&(S.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:S.palette},P9(S,"light",f.light)),S}return!t&&!("light"in f)&&l==="light"&&(f.light=!0),wN({...c,colorSchemes:f,defaultColorScheme:l,...typeof i!="boolean"&&i},...e)}const C6=Rv();function Bf(){const n=xv(C6);return n[ao]||n}function Ov(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Ho=n=>Ov(n)&&n!=="classes",ze=cO({themeId:ao,defaultTheme:C6,rootShouldForwardProp:Ho});function xN({theme:n,...e}){const t=ao in n?n[ao]:void 0;return ce.jsx(SO,{...e,themeId:t?ao:void 0,theme:t||n})}const ZS={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:AN}=UU({themeId:ao,theme:()=>Rv({cssVariables:!0}),colorSchemeStorageKey:ZS.colorSchemeStorageKey,modeStorageKey:ZS.modeStorageKey,defaultColorScheme:{light:ZS.defaultLightColorScheme,dark:ZS.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:CO(n.palette,n.typography)};return e.unstable_sx=function(i){return kc({sx:i,theme:this})},e}}),RN=AN;function ON({theme:n,...e}){const t=te.useMemo(()=>{if(typeof n=="function")return n;const i=ao in n?n[ao]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return t?ce.jsx(xN,{theme:t,...e}):ce.jsx(RN,{theme:n,...e})}function L9(...n){return n.reduce((e,t)=>t==null?e:function(...a){e.apply(this,a),t.apply(this,a)},()=>{})}function PN(n){return ce.jsx(rO,{...n,defaultTheme:C6,themeId:ao})}function D6(n){return function(t){return ce.jsx(PN,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function LN(){return g6}const ct=PU;function mt(n){return xU(n)}function IN(n){return ft("MuiSvgIcon",n)}gt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const EN=n=>{const{color:e,fontSize:t,classes:i}=n,a={root:["root",e!=="inherit"&&`color${Qe(e)}`,`fontSize${Qe(t)}`]};return pt(a,IN,i)},_N=ze("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Qe(t.color)}`],e[`fontSize${Qe(t.fontSize)}`]]}})(ct(({theme:n})=>{var e,t,i,a,o,c,l,h,f,g,S,b,m,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(e=n.transitions)==null?void 0:e.create)==null?void 0:a.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((h=(l=n.typography)==null?void 0:l.pxToRem)==null?void 0:h.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,v])=>v&&v.main).map(([v])=>{var D,x;return{props:{color:v},style:{color:(x=(D=(n.vars??n).palette)==null?void 0:D[v])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(b=(S=(n.vars??n).palette)==null?void 0:S.action)==null?void 0:b.active}},{props:{color:"disabled"},style:{color:(y=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:y.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),t4=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:c="inherit",component:l="svg",fontSize:h="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:S,viewBox:b="0 0 24 24",...m}=i,y=te.isValidElement(a)&&a.type==="svg",v={...i,color:c,component:l,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:b,hasSvgAsChild:y},D={};g||(D.viewBox=b);const x=EN(v);return ce.jsxs(_N,{as:l,className:Ke(x.root,o),focusable:"false",color:f,"aria-hidden":S?void 0:!0,role:S?"img":void 0,ref:t,...D,...m,...y&&a.props,ownerState:v,children:[y?a.props.children:a,S?ce.jsx("title",{children:S}):null]})});t4.muiName="SvgIcon";function al(n,e){function t(i,a){return ce.jsx(t4,{"data-testid":void 0,ref:a,...i,children:n})}return t.muiName=t4.muiName,te.memo(te.forwardRef(t))}function T6(n,e=166){let t;function i(...a){const o=()=>{n.apply(this,a)};clearTimeout(t),t=setTimeout(o,e)}return i.clear=()=>{clearTimeout(t)},i}function Wi(n){return n&&n.ownerDocument||document}function lo(n){return Wi(n).defaultView||window}function I9(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function n4(n){const{controlled:e,default:t,name:i,state:a="value"}=n,{current:o}=te.useRef(e!==void 0),[c,l]=te.useState(t),h=o?e:c,f=te.useCallback(g=>{o||l(g)},[]);return[h,f]}function zo(n){const e=te.useRef(n);return so(()=>{e.current=n}),te.useRef((...t)=>(0,e.current)(...t)).current}function Ui(...n){const e=te.useRef(void 0),t=te.useCallback(i=>{const a=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const c=o,l=c(i);return typeof l=="function"?l:()=>{c(null)}}return o.current=i,()=>{o.current=null}});return()=>{a.forEach(o=>o==null?void 0:o())}},n);return te.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function MN(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function FN(n,e){if(!n)return e;function t(c,l){const h={};return Object.keys(l).forEach(f=>{MN(f,l[f])&&typeof c[f]=="function"&&(h[f]=(...g)=>{c[f](...g),l[f](...g)})}),h}if(typeof n=="function"||typeof e=="function")return c=>{const l=typeof e=="function"?e(c):e,h=typeof n=="function"?n({...c,...l}):n,f=Ke(c==null?void 0:c.className,l==null?void 0:l.className,h==null?void 0:h.className),g=t(h,l);return{...l,...h,...g,...!!f&&{className:f},...(l==null?void 0:l.style)&&(h==null?void 0:h.style)&&{style:{...l.style,...h.style}},...(l==null?void 0:l.sx)&&(h==null?void 0:h.sx)&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(h.sx)?h.sx:[h.sx]]}}};const i=e,a=t(n,i),o=Ke(i==null?void 0:i.className,n==null?void 0:n.className);return{...e,...n,...a,...!!o&&{className:o},...(i==null?void 0:i.style)&&(n==null?void 0:n.style)&&{style:{...i.style,...n.style}},...(i==null?void 0:i.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function xO(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function i4(n,e){return i4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},i4(n,e)}function AO(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,i4(n,e)}var RO=UR();const JS=Lm(RO),E9={disabled:!1},Sy=Dr.createContext(null);var kN=function(e){return e.scrollTop},Ng="unmounted",pu="exited",mu="entering",Pd="entered",r4="exiting",uo=function(n){AO(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var c=a,l=c&&!c.isMounting?i.enter:i.appear,h;return o.appearStatus=null,i.in?l?(h=pu,o.appearStatus=mu):h=Pd:i.unmountOnExit||i.mountOnEnter?h=Ng:h=pu,o.state={status:h},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var c=a.in;return c&&o.status===Ng?{status:pu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var o=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==mu&&c!==Pd&&(o=mu):(c===mu||c===Pd)&&(o=r4)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,o,c,l;return o=c=l=a,a!=null&&typeof a!="number"&&(o=a.exit,c=a.enter,l=a.appear!==void 0?a.appear:c),{exit:o,enter:c,appear:l}},t.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===mu){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:JS.findDOMNode(this);c&&kN(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pu&&this.setState({status:Ng})},t.performEnter=function(a){var o=this,c=this.props.enter,l=this.context?this.context.isMounting:a,h=this.props.nodeRef?[l]:[JS.findDOMNode(this),l],f=h[0],g=h[1],S=this.getTimeouts(),b=l?S.appear:S.enter;if(!a&&!c||E9.disabled){this.safeSetState({status:Pd},function(){o.props.onEntered(f)});return}this.props.onEnter(f,g),this.safeSetState({status:mu},function(){o.props.onEntering(f,g),o.onTransitionEnd(b,function(){o.safeSetState({status:Pd},function(){o.props.onEntered(f,g)})})})},t.performExit=function(){var a=this,o=this.props.exit,c=this.getTimeouts(),l=this.props.nodeRef?void 0:JS.findDOMNode(this);if(!o||E9.disabled){this.safeSetState({status:pu},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:r4},function(){a.props.onExiting(l),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:pu},function(){a.props.onExited(l)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},t.setNextCallback=function(a){var o=this,c=!0;return this.nextCallback=function(l){c&&(c=!1,o.nextCallback=null,a(l))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,o){this.setNextCallback(o);var c=this.props.nodeRef?this.props.nodeRef.current:JS.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!c||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],f=h[0],g=h[1];this.props.addEndListener(f,g)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Ng)return null;var o=this.props,c=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=xO(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Dr.createElement(Sy.Provider,{value:null},typeof c=="function"?c(a,l):Dr.cloneElement(Dr.Children.only(c),l))},e}(Dr.Component);uo.contextType=Sy;uo.propTypes={};function xd(){}uo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xd,onEntering:xd,onEntered:xd,onExit:xd,onExiting:xd,onExited:xd};uo.UNMOUNTED=Ng;uo.EXITED=pu;uo.ENTERING=mu;uo.ENTERED=Pd;uo.EXITING=r4;function UN(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function w6(n,e){var t=function(o){return e&&te.isValidElement(o)?e(o):o},i=Object.create(null);return n&&te.Children.map(n,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function NN(n,e){n=n||{},e=e||{};function t(g){return g in e?e[g]:n[g]}var i=Object.create(null),a=[];for(var o in n)o in e?a.length&&(i[o]=a,a=[]):a.push(o);var c,l={};for(var h in e){if(i[h])for(c=0;c<i[h].length;c++){var f=i[h][c];l[i[h][c]]=t(f)}l[h]=t(h)}for(c=0;c<a.length;c++)l[a[c]]=t(a[c]);return l}function Cu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function qN(n,e){return w6(n.children,function(t){return te.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Cu(t,"appear",n),enter:Cu(t,"enter",n),exit:Cu(t,"exit",n)})})}function BN(n,e,t){var i=w6(n.children),a=NN(e,i);return Object.keys(a).forEach(function(o){var c=a[o];if(te.isValidElement(c)){var l=o in e,h=o in i,f=e[o],g=te.isValidElement(f)&&!f.props.in;h&&(!l||g)?a[o]=te.cloneElement(c,{onExited:t.bind(null,c),in:!0,exit:Cu(c,"exit",n),enter:Cu(c,"enter",n)}):!h&&l&&!g?a[o]=te.cloneElement(c,{in:!1}):h&&l&&te.isValidElement(f)&&(a[o]=te.cloneElement(c,{onExited:t.bind(null,c),in:f.props.in,exit:Cu(c,"exit",n),enter:Cu(c,"enter",n)}))}}),a}var GN=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},VN={component:"div",childFactory:function(e){return e}},x6=function(n){AO(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var c=o.handleExited.bind(UN(o));return o.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var c=o.children,l=o.handleExited,h=o.firstRender;return{children:h?qN(a,l):BN(a,c,l),firstRender:!1}},t.handleExited=function(a,o){var c=w6(this.props.children);a.key in c||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(l){var h=gy({},l.children);return delete h[a.key],{children:h}}))},t.render=function(){var a=this.props,o=a.component,c=a.childFactory,l=xO(a,["component","childFactory"]),h=this.state.contextValue,f=GN(this.state.children).map(c);return delete l.appear,delete l.enter,delete l.exit,o===null?Dr.createElement(Sy.Provider,{value:h},f):Dr.createElement(Sy.Provider,{value:h},Dr.createElement(o,l,f))},e}(Dr.Component);x6.propTypes={};x6.defaultProps=VN;const _9={};function OO(n,e){const t=te.useRef(_9);return t.current===_9&&(t.current=n(e)),t}const zN=[];function QN(n){te.useEffect(n,zN)}class A6{constructor(){ae(this,"currentId",null);ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ae(this,"disposeEffect",()=>this.clear)}static create(){return new A6}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function PO(){const n=OO(A6.create).current;return QN(n.disposeEffect),n}const R6=n=>n.scrollTop;function Lf(n,e){const{timeout:t,easing:i,style:a={}}=n;return{duration:a.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:a.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:a.transitionDelay}}function HN(n){return ft("MuiPaper",n)}gt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const jN=n=>{const{square:e,elevation:t,variant:i,classes:a}=n,o={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return pt(o,HN,a)},YN=ze("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(ct(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Um=te.forwardRef(function(e,t){var m;const i=mt({props:e,name:"MuiPaper"}),a=Bf(),{className:o,component:c="div",elevation:l=1,square:h=!1,variant:f="elevation",...g}=i,S={...i,component:c,elevation:l,square:h,variant:f},b=jN(S);return ce.jsx(YN,{as:c,ownerState:S,className:Ke(b.root,o),ref:t,...g,style:{...f==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[l],...a.vars&&{"--Paper-overlay":(m=a.vars.overlays)==null?void 0:m[l]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${In("#fff",e4(l))}, ${In("#fff",e4(l))})`}},...g.style}})});function XN(n){return typeof n=="string"}function LO(n,e,t){return n===void 0||XN(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function IO(n,e,t){return typeof n=="function"?n(e,t):n}function Xg(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function M9(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function EO(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:a,className:o}=n;if(!e){const m=Ke(t==null?void 0:t.className,o,a==null?void 0:a.className,i==null?void 0:i.className),y={...t==null?void 0:t.style,...a==null?void 0:a.style,...i==null?void 0:i.style},v={...t,...a,...i};return m.length>0&&(v.className=m),Object.keys(y).length>0&&(v.style=y),{props:v,internalRef:void 0}}const c=Xg({...a,...i}),l=M9(i),h=M9(a),f=e(c),g=Ke(f==null?void 0:f.className,t==null?void 0:t.className,o,a==null?void 0:a.className,i==null?void 0:i.className),S={...f==null?void 0:f.style,...t==null?void 0:t.style,...a==null?void 0:a.style,...i==null?void 0:i.style},b={...f,...t,...h,...l};return g.length>0&&(b.className=g),Object.keys(S).length>0&&(b.style=S),{props:b,internalRef:f.ref}}function Gn(n,e){const{className:t,elementType:i,ownerState:a,externalForwardedProps:o,internalForwardedProps:c,shouldForwardComponentProp:l=!1,...h}=e,{component:f,slots:g={[n]:void 0},slotProps:S={[n]:void 0},...b}=o,m=g[n]||i,y=IO(S[n],a),{props:{component:v,...D},internalRef:x}=EO({className:t,...h,externalForwardedProps:n==="root"?b:void 0,externalSlotProps:y}),T=Ui(x,y==null?void 0:y.ref,e.ref),C=n==="root"?v||f:v,A=LO(m,{...n==="root"&&!f&&!g[n]&&c,...n!=="root"&&!g[n]&&c,...D,...C&&!l&&{as:C},...C&&l&&{component:C},ref:T},a);return[m,A]}function If(n){try{return n.matches(":focus-visible")}catch{}return!1}class yy{constructor(){ae(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new yy}static use(){const e=OO(yy.create).current,[t,i]=te.useState(!1);return e.shouldMount=t,e.setShouldMount=i,te.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=$N(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function WN(){return yy.use()}function $N(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t}function KN(n){const{className:e,classes:t,pulsate:i=!1,rippleX:a,rippleY:o,rippleSize:c,in:l,onExited:h,timeout:f}=n,[g,S]=te.useState(!1),b=Ke(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),m={width:c,height:c,top:-(c/2)+o,left:-(c/2)+a},y=Ke(t.child,g&&t.childLeaving,i&&t.childPulsate);return!l&&!g&&S(!0),te.useEffect(()=>{if(!l&&h!=null){const v=setTimeout(h,f);return()=>{clearTimeout(v)}}},[h,l,f]),ce.jsx("span",{className:b,style:m,children:ce.jsx("span",{className:y})})}const _a=gt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),a4=550,ZN=80,JN=Gc`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,eq=Gc`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,tq=Gc`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,nq=ze("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),iq=ze(KN,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${_a.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${JN};
    animation-duration: ${a4}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${_a.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${_a.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${_a.childLeaving} {
    opacity: 0;
    animation-name: ${eq};
    animation-duration: ${a4}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${_a.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${tq};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,rq=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:c,...l}=i,[h,f]=te.useState([]),g=te.useRef(0),S=te.useRef(null);te.useEffect(()=>{S.current&&(S.current(),S.current=null)},[h]);const b=te.useRef(!1),m=PO(),y=te.useRef(null),v=te.useRef(null),D=te.useCallback(A=>{const{pulsate:R,rippleX:E,rippleY:U,rippleSize:_,cb:M}=A;f(P=>[...P,ce.jsx(iq,{classes:{ripple:Ke(o.ripple,_a.ripple),rippleVisible:Ke(o.rippleVisible,_a.rippleVisible),ripplePulsate:Ke(o.ripplePulsate,_a.ripplePulsate),child:Ke(o.child,_a.child),childLeaving:Ke(o.childLeaving,_a.childLeaving),childPulsate:Ke(o.childPulsate,_a.childPulsate)},timeout:a4,pulsate:R,rippleX:E,rippleY:U,rippleSize:_},g.current)]),g.current+=1,S.current=M},[o]),x=te.useCallback((A={},R={},E=()=>{})=>{const{pulsate:U=!1,center:_=a||R.pulsate,fakeElement:M=!1}=R;if((A==null?void 0:A.type)==="mousedown"&&b.current){b.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(b.current=!0);const P=M?null:v.current,q=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,L,O;if(_||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)N=Math.round(q.width/2),L=Math.round(q.height/2);else{const{clientX:F,clientY:k}=A.touches&&A.touches.length>0?A.touches[0]:A;N=Math.round(F-q.left),L=Math.round(k-q.top)}if(_)O=Math.sqrt((2*q.width**2+q.height**2)/3),O%2===0&&(O+=1);else{const F=Math.max(Math.abs((P?P.clientWidth:0)-N),N)*2+2,k=Math.max(Math.abs((P?P.clientHeight:0)-L),L)*2+2;O=Math.sqrt(F**2+k**2)}A!=null&&A.touches?y.current===null&&(y.current=()=>{D({pulsate:U,rippleX:N,rippleY:L,rippleSize:O,cb:E})},m.start(ZN,()=>{y.current&&(y.current(),y.current=null)})):D({pulsate:U,rippleX:N,rippleY:L,rippleSize:O,cb:E})},[a,D,m]),T=te.useCallback(()=>{x({},{pulsate:!0})},[x]),C=te.useCallback((A,R)=>{if(m.clear(),(A==null?void 0:A.type)==="touchend"&&y.current){y.current(),y.current=null,m.start(0,()=>{C(A,R)});return}y.current=null,f(E=>E.length>0?E.slice(1):E),S.current=R},[m]);return te.useImperativeHandle(t,()=>({pulsate:T,start:x,stop:C}),[T,x,C]),ce.jsx(nq,{className:Ke(_a.root,o.root,c),ref:v,...l,children:ce.jsx(x6,{component:null,exit:!0,children:h})})});function aq(n){return ft("MuiButtonBase",n)}const oq=gt("MuiButtonBase",["root","disabled","focusVisible"]),sq=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:a}=n,c=pt({root:["root",e&&"disabled",t&&"focusVisible"]},aq,a);return t&&i&&(c.root+=` ${i}`),c},lq=ze("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oq.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_O=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:c,className:l,component:h="button",disabled:f=!1,disableRipple:g=!1,disableTouchRipple:S=!1,focusRipple:b=!1,focusVisibleClassName:m,LinkComponent:y="a",onBlur:v,onClick:D,onContextMenu:x,onDragLeave:T,onFocus:C,onFocusVisible:A,onKeyDown:R,onKeyUp:E,onMouseDown:U,onMouseLeave:_,onMouseUp:M,onTouchEnd:P,onTouchMove:q,onTouchStart:N,tabIndex:L=0,TouchRippleProps:O,touchRippleRef:F,type:k,...G}=i,W=te.useRef(null),X=WN(),Q=Ui(X.ref,F),[Y,$]=te.useState(!1);f&&Y&&$(!1),te.useImperativeHandle(a,()=>({focusVisible:()=>{$(!0),W.current.focus()}}),[]);const ee=X.shouldMount&&!g&&!f;te.useEffect(()=>{Y&&b&&!g&&X.pulsate()},[g,b,Y,X]);const re=ls(X,"start",U,S),ie=ls(X,"stop",x,S),fe=ls(X,"stop",T,S),ne=ls(X,"stop",M,S),oe=ls(X,"stop",se=>{Y&&se.preventDefault(),_&&_(se)},S),pe=ls(X,"start",N,S),me=ls(X,"stop",P,S),xe=ls(X,"stop",q,S),Oe=ls(X,"stop",se=>{If(se.target)||$(!1),v&&v(se)},!1),Be=zo(se=>{W.current||(W.current=se.currentTarget),If(se.target)&&($(!0),A&&A(se)),C&&C(se)}),B=()=>{const se=W.current;return h&&h!=="button"&&!(se.tagName==="A"&&se.href)},ge=zo(se=>{b&&!se.repeat&&Y&&se.key===" "&&X.stop(se,()=>{X.start(se)}),se.target===se.currentTarget&&B()&&se.key===" "&&se.preventDefault(),R&&R(se),se.target===se.currentTarget&&B()&&se.key==="Enter"&&!f&&(se.preventDefault(),D&&D(se))}),ye=zo(se=>{b&&se.key===" "&&Y&&!se.defaultPrevented&&X.stop(se,()=>{X.pulsate(se)}),E&&E(se),D&&se.target===se.currentTarget&&B()&&se.key===" "&&!se.defaultPrevented&&D(se)});let J=h;J==="button"&&(G.href||G.to)&&(J=y);const Z={};J==="button"?(Z.type=k===void 0?"button":k,Z.disabled=f):(!G.href&&!G.to&&(Z.role="button"),f&&(Z["aria-disabled"]=f));const ue=Ui(t,W),we={...i,centerRipple:o,component:h,disabled:f,disableRipple:g,disableTouchRipple:S,focusRipple:b,tabIndex:L,focusVisible:Y},Ae=sq(we);return ce.jsxs(lq,{as:J,className:Ke(Ae.root,l),ownerState:we,onBlur:Oe,onClick:D,onContextMenu:ie,onFocus:Be,onKeyDown:ge,onKeyUp:ye,onMouseDown:re,onMouseLeave:oe,onMouseUp:ne,onDragLeave:fe,onTouchEnd:me,onTouchMove:xe,onTouchStart:pe,ref:ue,tabIndex:f?-1:L,type:k,...Z,...G,children:[c,ee?ce.jsx(rq,{ref:Q,center:o,...O}):null]})});function ls(n,e,t,i=!1){return zo(a=>(t&&t(a),i||n[e](a),!0))}function cq(n){return typeof n.main=="string"}function uq(n,e=[]){if(!cq(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function ui(n=[]){return([,e])=>e&&uq(e,n)}function dq(n){return ft("MuiCircularProgress",n)}gt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Pl=44,o4=Gc`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,s4=Gc`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,hq=typeof o4!="string"?qf`
        animation: ${o4} 1.4s linear infinite;
      `:null,fq=typeof s4!="string"?qf`
        animation: ${s4} 1.4s ease-in-out infinite;
      `:null,gq=n=>{const{classes:e,variant:t,color:i,disableShrink:a}=n,o={root:["root",t,`color${Qe(i)}`],svg:["svg"],circle:["circle",`circle${Qe(t)}`,a&&"circleDisableShrink"]};return pt(o,dq,e)},pq=ze("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Qe(t.color)}`]]}})(ct(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:hq||{animation:`${o4} 1.4s linear infinite`}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),mq=ze("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Sq=ze("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Qe(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ct(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:fq||{animation:`${s4} 1.4s ease-in-out infinite`}}]}))),yq=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:c=!1,size:l=40,style:h,thickness:f=3.6,value:g=0,variant:S="indeterminate",...b}=i,m={...i,color:o,disableShrink:c,size:l,thickness:f,value:g,variant:S},y=gq(m),v={},D={},x={};if(S==="determinate"){const T=2*Math.PI*((Pl-f)/2);v.strokeDasharray=T.toFixed(3),x["aria-valuenow"]=Math.round(g),v.strokeDashoffset=`${((100-g)/100*T).toFixed(3)}px`,D.transform="rotate(-90deg)"}return ce.jsx(pq,{className:Ke(y.root,a),style:{width:l,height:l,...D,...h},ownerState:m,ref:t,role:"progressbar",...x,...b,children:ce.jsx(mq,{className:y.svg,ownerState:m,viewBox:`${Pl/2} ${Pl/2} ${Pl} ${Pl}`,children:ce.jsx(Sq,{className:y.circle,style:v,ownerState:m,cx:Pl,cy:Pl,r:(Pl-f)/2,fill:"none",strokeWidth:f})})})});function vq(n){return ft("MuiIconButton",n)}const F9=gt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),bq=n=>{const{classes:e,disabled:t,color:i,edge:a,size:o,loading:c}=n,l={root:["root",c&&"loading",t&&"disabled",i!=="default"&&`color${Qe(i)}`,a&&`edge${Qe(a)}`,`size${Qe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return pt(l,vq,e)},Cq=ze(_O,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Qe(t.color)}`],t.edge&&e[`edge${Qe(t.edge)}`],e[`size${Qe(t.size)}`]]}})(ct(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:In(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ct(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:In((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${F9.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${F9.loading}`]:{color:"transparent"}}))),Dq=ze("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Tq=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiIconButton"}),{edge:a=!1,children:o,className:c,color:l="default",disabled:h=!1,disableFocusRipple:f=!1,size:g="medium",id:S,loading:b=null,loadingIndicator:m,...y}=i,v=km(S),D=m??ce.jsx(yq,{"aria-labelledby":v,color:"inherit",size:16}),x={...i,edge:a,color:l,disabled:h,disableFocusRipple:f,loading:b,loadingIndicator:D,size:g},T=bq(x);return ce.jsxs(Cq,{id:b?v:S,className:Ke(T.root,c),centerRipple:!0,focusRipple:!f,disabled:h||b,ref:t,...y,ownerState:x,children:[typeof b=="boolean"&&ce.jsx("span",{className:T.loadingWrapper,style:{display:"contents"},children:ce.jsx(Dq,{className:T.loadingIndicator,ownerState:x,children:b&&D})}),o]})});function wq(n){return ft("MuiTypography",n)}gt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xq={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Aq=LN(),Rq=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:a,variant:o,classes:c}=n,l={root:["root",o,n.align!=="inherit"&&`align${Qe(e)}`,t&&"gutterBottom",i&&"noWrap",a&&"paragraph"]};return pt(l,wq,c)},Oq=ze("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Qe(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(ct(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,i])=>t!=="inherit"&&i&&typeof i=="object").map(([t,i])=>({props:{variant:t},style:i})),...Object.entries(n.palette).filter(ui()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Qe(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),k9={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vy=te.forwardRef(function(e,t){const{color:i,...a}=mt({props:e,name:"MuiTypography"}),o=!xq[i],c=Aq({...a,...o&&{color:i}}),{align:l="inherit",className:h,component:f,gutterBottom:g=!1,noWrap:S=!1,paragraph:b=!1,variant:m="body1",variantMapping:y=k9,...v}=c,D={...c,align:l,color:i,className:h,component:f,gutterBottom:g,noWrap:S,paragraph:b,variant:m,variantMapping:y},x=f||(b?"p":y[m]||k9[m])||"span",T=Rq(D);return ce.jsx(Oq,{as:x,ref:t,className:Ke(T.root,h),...v,ownerState:D,style:{...l!=="inherit"&&{"--Typography-textAlign":l},...v.style}})});function Pq(n){return ft("MuiAppBar",n)}gt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Lq=n=>{const{color:e,position:t,classes:i}=n,a={root:["root",`color${Qe(e)}`,`position${Qe(t)}`]};return pt(a,Pq,i)},U9=(n,e)=>n?`${n==null?void 0:n.replace(")","")}, ${e})`:e,Iq=ze(Um,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Qe(t.position)}`],e[`color${Qe(t.color)}`]]}})(ct(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(ui(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?U9(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?U9(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),Eq=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiAppBar"}),{className:a,color:o="primary",enableColorOnDark:c=!1,position:l="fixed",...h}=i,f={...i,color:o,position:l,enableColorOnDark:c},g=Lq(f);return ce.jsx(Iq,{square:!0,component:"header",ownerState:f,elevation:4,className:Ke(g.root,a,l==="fixed"&&"mui-fixed"),ref:t,...h})});function gs(n){var S;const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:a=!1,...o}=n,c=a?{}:IO(t,i),{props:l,internalRef:h}=EO({...o,externalSlotProps:c}),f=Ui(h,c==null?void 0:c.ref,(S=n.additionalProps)==null?void 0:S.ref);return LO(e,{...l,ref:f},i)}function Gf(n){var e;return parseInt(te.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}function _q(n){return typeof n=="function"?n():n}const Mq=te.forwardRef(function(e,t){const{children:i,container:a,disablePortal:o=!1}=e,[c,l]=te.useState(null),h=Ui(te.isValidElement(i)?Gf(i):null,t);if(so(()=>{o||l(_q(a)||document.body)},[a,o]),so(()=>{if(c&&!o)return I9(t,c),()=>{I9(t,null)}},[t,c,o]),o){if(te.isValidElement(i)){const f={ref:h};return te.cloneElement(i,f)}return i}return c&&RO.createPortal(i,c)});function e2(n){return parseInt(n,10)||0}const Fq={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function kq(n){for(const e in n)return!1;return!0}function N9(n){return kq(n)||n.outerHeightStyle===0&&!n.overflowing}const Uq=te.forwardRef(function(e,t){const{onChange:i,maxRows:a,minRows:o=1,style:c,value:l,...h}=e,{current:f}=te.useRef(l!=null),g=te.useRef(null),S=Ui(t,g),b=te.useRef(null),m=te.useRef(null),y=te.useCallback(()=>{const C=g.current,A=m.current;if(!C||!A)return;const E=lo(C).getComputedStyle(C);if(E.width==="0px")return{outerHeightStyle:0,overflowing:!1};A.style.width=E.width,A.value=C.value||e.placeholder||"x",A.value.slice(-1)===`
`&&(A.value+=" ");const U=E.boxSizing,_=e2(E.paddingBottom)+e2(E.paddingTop),M=e2(E.borderBottomWidth)+e2(E.borderTopWidth),P=A.scrollHeight;A.value="x";const q=A.scrollHeight;let N=P;o&&(N=Math.max(Number(o)*q,N)),a&&(N=Math.min(Number(a)*q,N)),N=Math.max(N,q);const L=N+(U==="border-box"?_+M:0),O=Math.abs(N-P)<=1;return{outerHeightStyle:L,overflowing:O}},[a,o,e.placeholder]),v=zo(()=>{const C=g.current,A=y();if(!C||!A||N9(A))return!1;const R=A.outerHeightStyle;return b.current!=null&&b.current!==R}),D=te.useCallback(()=>{const C=g.current,A=y();if(!C||!A||N9(A))return;const R=A.outerHeightStyle;b.current!==R&&(b.current=R,C.style.height=`${R}px`),C.style.overflow=A.overflowing?"hidden":""},[y]),x=te.useRef(-1);so(()=>{const C=T6(D),A=g==null?void 0:g.current;if(!A)return;const R=lo(A);R.addEventListener("resize",C);let E;return typeof ResizeObserver<"u"&&(E=new ResizeObserver(()=>{v()&&(E.unobserve(A),cancelAnimationFrame(x.current),D(),x.current=requestAnimationFrame(()=>{E.observe(A)}))}),E.observe(A)),()=>{C.clear(),cancelAnimationFrame(x.current),R.removeEventListener("resize",C),E&&E.disconnect()}},[y,D,v]),so(()=>{D()});const T=C=>{f||D();const A=C.target,R=A.value.length,E=A.value.endsWith(`
`),U=A.selectionStart===R;E&&U&&A.setSelectionRange(R,R),i&&i(C)};return ce.jsxs(te.Fragment,{children:[ce.jsx("textarea",{value:l,onChange:T,ref:S,rows:o,style:c,...h}),ce.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:{...Fq.shadow,...c,paddingTop:0,paddingBottom:0}})]})});function w0(n){return typeof n=="string"}function Vf({props:n,states:e,muiFormControl:t}){return e.reduce((i,a)=>(i[a]=n[a],t&&typeof n[a]>"u"&&(i[a]=t[a]),i),{})}const Pv=te.createContext(void 0);function _0(){return te.useContext(Pv)}function q9(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function by(n,e=!1){return n&&(q9(n.value)&&n.value!==""||e&&q9(n.defaultValue)&&n.defaultValue!=="")}function Nq(n){return n.startAdornment}function qq(n){return ft("MuiInputBase",n)}const Ef=gt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var B9;const Lv=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Qe(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Iv=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Bq=n=>{const{classes:e,color:t,disabled:i,error:a,endAdornment:o,focused:c,formControl:l,fullWidth:h,hiddenLabel:f,multiline:g,readOnly:S,size:b,startAdornment:m,type:y}=n,v={root:["root",`color${Qe(t)}`,i&&"disabled",a&&"error",h&&"fullWidth",c&&"focused",l&&"formControl",b&&b!=="medium"&&`size${Qe(b)}`,g&&"multiline",m&&"adornedStart",o&&"adornedEnd",f&&"hiddenLabel",S&&"readOnly"],input:["input",i&&"disabled",y==="search"&&"inputTypeSearch",g&&"inputMultiline",b==="small"&&"inputSizeSmall",f&&"inputHiddenLabel",m&&"inputAdornedStart",o&&"inputAdornedEnd",S&&"readOnly"]};return pt(v,qq,e)},Ev=ze("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Lv})(ct(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ef.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),_v=ze("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Iv})(ct(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},a=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ef.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${Ef.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),G9=D6({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),O6=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:c,className:l,color:h,components:f={},componentsProps:g={},defaultValue:S,disabled:b,disableInjectingGlobalStyles:m,endAdornment:y,error:v,fullWidth:D=!1,id:x,inputComponent:T="input",inputProps:C={},inputRef:A,margin:R,maxRows:E,minRows:U,multiline:_=!1,name:M,onBlur:P,onChange:q,onClick:N,onFocus:L,onKeyDown:O,onKeyUp:F,placeholder:k,readOnly:G,renderSuffix:W,rows:X,size:Q,slotProps:Y={},slots:$={},startAdornment:ee,type:re="text",value:ie,...fe}=i,ne=C.value!=null?C.value:ie,{current:oe}=te.useRef(ne!=null),pe=te.useRef(),me=te.useCallback(Ve=>{},[]),xe=Ui(pe,A,C.ref,me),[Oe,Be]=te.useState(!1),B=_0(),ge=Vf({props:i,muiFormControl:B,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ge.focused=B?B.focused:Oe,te.useEffect(()=>{!B&&b&&Oe&&(Be(!1),P&&P())},[B,b,Oe,P]);const ye=B&&B.onFilled,J=B&&B.onEmpty,Z=te.useCallback(Ve=>{by(Ve)?ye&&ye():J&&J()},[ye,J]);so(()=>{oe&&Z({value:ne})},[ne,Z,oe]);const ue=Ve=>{L&&L(Ve),C.onFocus&&C.onFocus(Ve),B&&B.onFocus?B.onFocus(Ve):Be(!0)},we=Ve=>{P&&P(Ve),C.onBlur&&C.onBlur(Ve),B&&B.onBlur?B.onBlur(Ve):Be(!1)},Ae=(Ve,...et)=>{if(!oe){const He=Ve.target||pe.current;if(He==null)throw new Error(rl(1));Z({value:He.value})}C.onChange&&C.onChange(Ve,...et),q&&q(Ve,...et)};te.useEffect(()=>{Z(pe.current)},[]);const se=Ve=>{pe.current&&Ve.currentTarget===Ve.target&&pe.current.focus(),N&&N(Ve)};let Ee=T,Ue=C;_&&Ee==="input"&&(X?Ue={type:void 0,minRows:X,maxRows:X,...Ue}:Ue={type:void 0,maxRows:E,minRows:U,...Ue},Ee=Uq);const he=Ve=>{Z(Ve.animationName==="mui-auto-fill-cancel"?pe.current:{value:"x"})};te.useEffect(()=>{B&&B.setAdornedStart(!!ee)},[B,ee]);const Ce={...i,color:ge.color||"primary",disabled:ge.disabled,endAdornment:y,error:ge.error,focused:ge.focused,formControl:B,fullWidth:D,hiddenLabel:ge.hiddenLabel,multiline:_,size:ge.size,startAdornment:ee,type:re},ke=Bq(Ce),qe=$.root||f.Root||Ev,je=Y.root||g.root||{},Ge=$.input||f.Input||_v;return Ue={...Ue,...Y.input??g.input},ce.jsxs(te.Fragment,{children:[!m&&typeof G9=="function"&&(B9||(B9=ce.jsx(G9,{}))),ce.jsxs(qe,{...je,ref:t,onClick:se,...fe,...!w0(qe)&&{ownerState:{...Ce,...je.ownerState}},className:Ke(ke.root,je.className,l,G&&"MuiInputBase-readOnly"),children:[ee,ce.jsx(Pv.Provider,{value:null,children:ce.jsx(Ge,{"aria-invalid":ge.error,"aria-describedby":a,autoComplete:o,autoFocus:c,defaultValue:S,disabled:ge.disabled,id:x,onAnimationStart:he,name:M,placeholder:k,readOnly:G,required:ge.required,rows:X,value:ne,onKeyDown:O,onKeyUp:F,type:re,...Ue,...!w0(Ge)&&{as:Ee,ownerState:{...Ce,...Ue.ownerState}},ref:xe,className:Ke(ke.input,Ue.className,G&&"MuiInputBase-readOnly"),onBlur:we,onChange:Ae,onFocus:ue})}),y,W?W({...ge,startAdornment:ee}):null]})]})});function Gq(n){return ft("MuiInput",n)}const G1={...Ef,...gt("MuiInput",["root","underline","input"])};function Vq(n){return ft("MuiOutlinedInput",n)}const yo={...Ef,...gt("MuiOutlinedInput",["root","notchedOutline","input"])};function zq(n){return ft("MuiFilledInput",n)}const ou={...Ef,...gt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Qq=al(ce.jsx("path",{d:"M7 10l5 5 5-5z"})),Hq={entering:{opacity:1},entered:{opacity:1}},l4=te.forwardRef(function(e,t){const i=Bf(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:c=!0,children:l,easing:h,in:f,onEnter:g,onEntered:S,onEntering:b,onExit:m,onExited:y,onExiting:v,style:D,timeout:x=a,TransitionComponent:T=uo,...C}=e,A=te.useRef(null),R=Ui(A,Gf(l),t),E=O=>F=>{if(O){const k=A.current;F===void 0?O(k):O(k,F)}},U=E(b),_=E((O,F)=>{R6(O);const k=Lf({style:D,timeout:x,easing:h},{mode:"enter"});O.style.webkitTransition=i.transitions.create("opacity",k),O.style.transition=i.transitions.create("opacity",k),g&&g(O,F)}),M=E(S),P=E(v),q=E(O=>{const F=Lf({style:D,timeout:x,easing:h},{mode:"exit"});O.style.webkitTransition=i.transitions.create("opacity",F),O.style.transition=i.transitions.create("opacity",F),m&&m(O)}),N=E(y),L=O=>{o&&o(A.current,O)};return ce.jsx(T,{appear:c,in:f,nodeRef:A,onEnter:_,onEntered:M,onEntering:U,onExit:q,onExited:N,onExiting:P,addEndListener:L,timeout:x,...C,children:(O,{ownerState:F,...k})=>te.cloneElement(l,{style:{opacity:0,visibility:O==="exited"&&!f?"hidden":void 0,...Hq[O],...D,...l.props.style},ref:R,...k})})});function jq(n){return ft("MuiBackdrop",n)}gt("MuiBackdrop",["root","invisible"]);const Yq=n=>{const{classes:e,invisible:t}=n;return pt({root:["root",t&&"invisible"]},jq,e)},Xq=ze("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),MO=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiBackdrop"}),{children:a,className:o,component:c="div",invisible:l=!1,open:h,components:f={},componentsProps:g={},slotProps:S={},slots:b={},TransitionComponent:m,transitionDuration:y,...v}=i,D={...i,component:c,invisible:l},x=Yq(D),T={transition:m,root:f.Root,...b},C={...g,...S},A={component:c,slots:T,slotProps:C},[R,E]=Gn("root",{elementType:Xq,externalForwardedProps:A,className:Ke(x.root,o),ownerState:D}),[U,_]=Gn("transition",{elementType:l4,externalForwardedProps:A,ownerState:D});return ce.jsx(U,{in:h,timeout:y,...v,..._,children:ce.jsx(R,{"aria-hidden":!0,...E,classes:x,ref:t,children:a})})}),Wq=gt("MuiBox",["root"]),$q=Rv(),Kq=eU({themeId:ao,defaultTheme:$q,defaultClassName:Wq.root,generateClassName:aO.generate});function Zq(n){return te.Children.toArray(n).filter(e=>te.isValidElement(e))}const c4=typeof D6({})=="function",Jq=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),eB=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),FO=(n,e=!1)=>{var o,c;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([l,h])=>{var g,S;const f=n.getColorSchemeSelector(l);f.startsWith("@")?t[f]={":root":{colorScheme:(g=h.palette)==null?void 0:g.mode}}:t[f.replace(/\s*&/,"")]={colorScheme:(S=h.palette)==null?void 0:S.mode}});let i={html:Jq(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...eB(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const a=(c=(o=n.components)==null?void 0:o.MuiCssBaseline)==null?void 0:c.styleOverrides;return a&&(i=[i,a]),i},L2="mui-ecs",tB=n=>{const e=FO(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${L2})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,a])=>{var c,l;const o=n.getColorSchemeSelector(i);o.startsWith("@")?t[o]={[`:root:not(:has(.${L2}))`]:{colorScheme:(c=a.palette)==null?void 0:c.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${L2}))`]:{colorScheme:(l=a.palette)==null?void 0:l.mode}}}),e},nB=D6(c4?({theme:n,enableColorScheme:e})=>FO(n,e):({theme:n})=>tB(n));function iB(n){const e=mt({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return ce.jsxs(te.Fragment,{children:[c4&&ce.jsx(nB,{enableColorScheme:i}),!c4&&!i&&ce.jsx("span",{className:L2,style:{display:"none"}}),t]})}function kO(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function rB(n){const e=Wi(n);return e.body===n?lo(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Wg(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function V9(n){return parseInt(lo(n).getComputedStyle(n).paddingRight,10)||0}function aB(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function z9(n,e,t,i,a){const o=[e,t,...i];[].forEach.call(n.children,c=>{const l=!o.includes(c),h=!aB(c);l&&h&&Wg(c,a)})}function hC(n,e){let t=-1;return n.some((i,a)=>e(i)?(t=a,!0):!1),t}function oB(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(rB(i)){const c=kO(lo(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${V9(i)+c}px`;const l=Wi(i).querySelectorAll(".mui-fixed");[].forEach.call(l,h=>{t.push({value:h.style.paddingRight,property:"padding-right",el:h}),h.style.paddingRight=`${V9(h)+c}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=Wi(i).body;else{const c=i.parentElement,l=lo(i);o=(c==null?void 0:c.nodeName)==="HTML"&&l.getComputedStyle(c).overflowY==="scroll"?c:i}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:c,property:l})=>{o?c.style.setProperty(l,o):c.style.removeProperty(l)})}}function sB(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class lB{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&Wg(e.modalRef,!1);const a=sB(t);z9(t,e.mount,e.modalRef,a,!0);const o=hC(this.containers,c=>c.container===t);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:a}),i)}mount(e,t){const i=hC(this.containers,o=>o.modals.includes(e)),a=this.containers[i];a.restore||(a.restore=oB(a,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const a=hC(this.containers,c=>c.modals.includes(e)),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Wg(e.modalRef,t),z9(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const c=o.modals[o.modals.length-1];c.modalRef&&Wg(c.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const cB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function uB(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function dB(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function hB(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||dB(n))}function fB(n){const e=[],t=[];return Array.from(n.querySelectorAll(cB)).forEach((i,a)=>{const o=uB(i);o===-1||!hB(i)||(o===0?e.push(i):t.push({documentOrder:a,tabIndex:o,node:i}))}),t.sort((i,a)=>i.tabIndex===a.tabIndex?i.documentOrder-a.documentOrder:i.tabIndex-a.tabIndex).map(i=>i.node).concat(e)}function gB(){return!0}function pB(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:a=!1,getTabbable:o=fB,isEnabled:c=gB,open:l}=n,h=te.useRef(!1),f=te.useRef(null),g=te.useRef(null),S=te.useRef(null),b=te.useRef(null),m=te.useRef(!1),y=te.useRef(null),v=Ui(Gf(e),y),D=te.useRef(null);te.useEffect(()=>{!l||!y.current||(m.current=!t)},[t,l]),te.useEffect(()=>{if(!l||!y.current)return;const C=Wi(y.current);return y.current.contains(C.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),m.current&&y.current.focus()),()=>{a||(S.current&&S.current.focus&&(h.current=!0,S.current.focus()),S.current=null)}},[l]),te.useEffect(()=>{if(!l||!y.current)return;const C=Wi(y.current),A=U=>{D.current=U,!(i||!c()||U.key!=="Tab")&&C.activeElement===y.current&&U.shiftKey&&(h.current=!0,g.current&&g.current.focus())},R=()=>{var M,P;const U=y.current;if(U===null)return;if(!C.hasFocus()||!c()||h.current){h.current=!1;return}if(U.contains(C.activeElement)||i&&C.activeElement!==f.current&&C.activeElement!==g.current)return;if(C.activeElement!==b.current)b.current=null;else if(b.current!==null)return;if(!m.current)return;let _=[];if((C.activeElement===f.current||C.activeElement===g.current)&&(_=o(y.current)),_.length>0){const q=!!((M=D.current)!=null&&M.shiftKey&&((P=D.current)==null?void 0:P.key)==="Tab"),N=_[0],L=_[_.length-1];typeof N!="string"&&typeof L!="string"&&(q?L.focus():N.focus())}else U.focus()};C.addEventListener("focusin",R),C.addEventListener("keydown",A,!0);const E=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(E),C.removeEventListener("focusin",R),C.removeEventListener("keydown",A,!0)}},[t,i,a,c,l,o]);const x=C=>{S.current===null&&(S.current=C.relatedTarget),m.current=!0,b.current=C.target;const A=e.props.onFocus;A&&A(C)},T=C=>{S.current===null&&(S.current=C.relatedTarget),m.current=!0};return ce.jsxs(te.Fragment,{children:[ce.jsx("div",{tabIndex:l?0:-1,onFocus:T,ref:f,"data-testid":"sentinelStart"}),te.cloneElement(e,{ref:v,onFocus:x}),ce.jsx("div",{tabIndex:l?0:-1,onFocus:T,ref:g,"data-testid":"sentinelEnd"})]})}function mB(n){return typeof n=="function"?n():n}function SB(n){return n?n.props.hasOwnProperty("in"):!1}const Q9=()=>{},t2=new lB;function yB(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:c,children:l,onClose:h,open:f,rootRef:g}=n,S=te.useRef({}),b=te.useRef(null),m=te.useRef(null),y=Ui(m,g),[v,D]=te.useState(!f),x=SB(l);let T=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(T=!1);const C=()=>Wi(b.current),A=()=>(S.current.modalRef=m.current,S.current.mount=b.current,S.current),R=()=>{t2.mount(A(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},E=zo(()=>{const F=mB(e)||C().body;t2.add(A(),F),m.current&&R()}),U=()=>t2.isTopModal(A()),_=zo(F=>{b.current=F,F&&(f&&U()?R():m.current&&Wg(m.current,T))}),M=te.useCallback(()=>{t2.remove(A(),T)},[T]);te.useEffect(()=>()=>{M()},[M]),te.useEffect(()=>{f?E():(!x||!a)&&M()},[f,M,x,a,E]);const P=F=>k=>{var G;(G=F.onKeyDown)==null||G.call(F,k),!(k.key!=="Escape"||k.which===229||!U())&&(t||(k.stopPropagation(),h&&h(k,"escapeKeyDown")))},q=F=>k=>{var G;(G=F.onClick)==null||G.call(F,k),k.target===k.currentTarget&&h&&h(k,"backdropClick")};return{getRootProps:(F={})=>{const k=Xg(n);delete k.onTransitionEnter,delete k.onTransitionExited;const G={...k,...F};return{role:"presentation",...G,onKeyDown:P(G),ref:y}},getBackdropProps:(F={})=>{const k=F;return{"aria-hidden":!0,...k,onClick:q(k),open:f}},getTransitionProps:()=>{const F=()=>{D(!1),o&&o()},k=()=>{D(!0),c&&c(),a&&M()};return{onEnter:L9(F,(l==null?void 0:l.props.onEnter)??Q9),onExited:L9(k,(l==null?void 0:l.props.onExited)??Q9)}},rootRef:y,portalRef:_,isTopModal:U,exited:v,hasTransition:x}}function vB(n){return ft("MuiModal",n)}gt("MuiModal",["root","hidden","backdrop"]);const bB=n=>{const{open:e,exited:t,classes:i}=n;return pt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},vB,i)},CB=ze("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(ct(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),DB=ze(MO,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),UO=te.forwardRef(function(e,t){const i=mt({name:"MuiModal",props:e}),{BackdropComponent:a=DB,BackdropProps:o,classes:c,className:l,closeAfterTransition:h=!1,children:f,container:g,component:S,components:b={},componentsProps:m={},disableAutoFocus:y=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:D=!1,disablePortal:x=!1,disableRestoreFocus:T=!1,disableScrollLock:C=!1,hideBackdrop:A=!1,keepMounted:R=!1,onClose:E,onTransitionEnter:U,onTransitionExited:_,open:M,slotProps:P={},slots:q={},theme:N,...L}=i,O={...i,closeAfterTransition:h,disableAutoFocus:y,disableEnforceFocus:v,disableEscapeKeyDown:D,disablePortal:x,disableRestoreFocus:T,disableScrollLock:C,hideBackdrop:A,keepMounted:R},{getRootProps:F,getBackdropProps:k,getTransitionProps:G,portalRef:W,isTopModal:X,exited:Q,hasTransition:Y}=yB({...O,rootRef:t}),$={...O,exited:Q},ee=bB($),re={};if(f.props.tabIndex===void 0&&(re.tabIndex="-1"),Y){const{onEnter:me,onExited:xe}=G();re.onEnter=me,re.onExited=xe}const ie={slots:{root:b.Root,backdrop:b.Backdrop,...q},slotProps:{...m,...P}},[fe,ne]=Gn("root",{ref:t,elementType:CB,externalForwardedProps:{...ie,...L,component:S},getSlotProps:F,ownerState:$,className:Ke(l,ee==null?void 0:ee.root,!$.open&&$.exited&&(ee==null?void 0:ee.hidden))}),[oe,pe]=Gn("backdrop",{ref:o==null?void 0:o.ref,elementType:a,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:me=>k({...me,onClick:xe=>{me!=null&&me.onClick&&me.onClick(xe)}}),className:Ke(o==null?void 0:o.className,ee==null?void 0:ee.backdrop),ownerState:$});return!R&&!M&&(!Y||Q)?null:ce.jsx(Mq,{ref:W,container:g,disablePortal:x,children:ce.jsxs(fe,{...ne,children:[!A&&a?ce.jsx(oe,{...pe}):null,ce.jsx(pB,{disableEnforceFocus:v,disableAutoFocus:y,disableRestoreFocus:T,isEnabled:X,open:M,children:te.cloneElement(f,re)})]})})});function TB(n){return ft("MuiDialog",n)}const fC=gt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),wB=te.createContext({}),xB=ze(MO,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),AB=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:a,fullScreen:o}=n,c={root:["root"],container:["container",`scroll${Qe(t)}`],paper:["paper",`paperScroll${Qe(t)}`,`paperWidth${Qe(String(i))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return pt(c,TB,e)},RB=ze(UO,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),OB=ze("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Qe(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),PB=ze(Um,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Qe(t.scroll)}`],e[`paperWidth${Qe(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(ct(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${fC.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${fC.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${fC.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),LB=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiDialog"}),a=Bf(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":l,"aria-modal":h=!0,BackdropComponent:f,BackdropProps:g,children:S,className:b,disableEscapeKeyDown:m=!1,fullScreen:y=!1,fullWidth:v=!1,maxWidth:D="sm",onClick:x,onClose:T,open:C,PaperComponent:A=Um,PaperProps:R={},scroll:E="paper",slots:U={},slotProps:_={},TransitionComponent:M=l4,transitionDuration:P=o,TransitionProps:q,...N}=i,L={...i,disableEscapeKeyDown:m,fullScreen:y,fullWidth:v,maxWidth:D,scroll:E},O=AB(L),F=te.useRef(),k=Be=>{F.current=Be.target===Be.currentTarget},G=Be=>{x&&x(Be),F.current&&(F.current=null,T&&T(Be,"backdropClick"))},W=km(l),X=te.useMemo(()=>({titleId:W}),[W]),Q={transition:M,...U},Y={transition:q,paper:R,backdrop:g,..._},$={slots:Q,slotProps:Y},[ee,re]=Gn("root",{elementType:RB,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:L,className:Ke(O.root,b),ref:t}),[ie,fe]=Gn("backdrop",{elementType:xB,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:L}),[ne,oe]=Gn("paper",{elementType:PB,shouldForwardComponentProp:!0,externalForwardedProps:$,ownerState:L,className:Ke(O.paper,R.className)}),[pe,me]=Gn("container",{elementType:OB,externalForwardedProps:$,ownerState:L,className:O.container}),[xe,Oe]=Gn("transition",{elementType:l4,externalForwardedProps:$,ownerState:L,additionalProps:{appear:!0,in:C,timeout:P,role:"presentation"}});return ce.jsx(ee,{closeAfterTransition:!0,slots:{backdrop:ie},slotProps:{backdrop:{transitionDuration:P,as:f,...fe}},disableEscapeKeyDown:m,onClose:T,open:C,onClick:G,...re,...N,children:ce.jsx(xe,{...Oe,children:ce.jsx(pe,{onMouseDown:k,...me,children:ce.jsx(ne,{as:A,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":W,"aria-modal":h,...oe,children:ce.jsx(wB.Provider,{value:X,children:S})})})})})});function IB(n,e,t){const i=e.getBoundingClientRect(),a=t&&t.getBoundingClientRect(),o=lo(e);let c;if(e.fakeTransform)c=e.fakeTransform;else{const f=o.getComputedStyle(e);c=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let l=0,h=0;if(c&&c!=="none"&&typeof c=="string"){const f=c.split("(")[1].split(")")[0].split(",");l=parseInt(f[4],10),h=parseInt(f[5],10)}return n==="left"?a?`translateX(${a.right+l-i.left}px)`:`translateX(${o.innerWidth+l-i.left}px)`:n==="right"?a?`translateX(-${i.right-a.left-l}px)`:`translateX(-${i.left+i.width-l}px)`:n==="up"?a?`translateY(${a.bottom+h-i.top}px)`:`translateY(${o.innerHeight+h-i.top}px)`:a?`translateY(-${i.top-a.top+i.height-h}px)`:`translateY(-${i.top+i.height-h}px)`}function EB(n){return typeof n=="function"?n():n}function n2(n,e,t){const i=EB(t),a=IB(n,e,i);a&&(e.style.webkitTransform=a,e.style.transform=a)}const _B=te.forwardRef(function(e,t){const i=Bf(),a={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:c,appear:l=!0,children:h,container:f,direction:g="down",easing:S=a,in:b,onEnter:m,onEntered:y,onEntering:v,onExit:D,onExited:x,onExiting:T,style:C,timeout:A=o,TransitionComponent:R=uo,...E}=e,U=te.useRef(null),_=Ui(Gf(h),U,t),M=W=>X=>{W&&(X===void 0?W(U.current):W(U.current,X))},P=M((W,X)=>{n2(g,W,f),R6(W),m&&m(W,X)}),q=M((W,X)=>{const Q=Lf({timeout:A,style:C,easing:S},{mode:"enter"});W.style.webkitTransition=i.transitions.create("-webkit-transform",{...Q}),W.style.transition=i.transitions.create("transform",{...Q}),W.style.webkitTransform="none",W.style.transform="none",v&&v(W,X)}),N=M(y),L=M(T),O=M(W=>{const X=Lf({timeout:A,style:C,easing:S},{mode:"exit"});W.style.webkitTransition=i.transitions.create("-webkit-transform",X),W.style.transition=i.transitions.create("transform",X),n2(g,W,f),D&&D(W)}),F=M(W=>{W.style.webkitTransition="",W.style.transition="",x&&x(W)}),k=W=>{c&&c(U.current,W)},G=te.useCallback(()=>{U.current&&n2(g,U.current,f)},[g,f]);return te.useEffect(()=>{if(b||g==="down"||g==="right")return;const W=T6(()=>{U.current&&n2(g,U.current,f)}),X=lo(U.current);return X.addEventListener("resize",W),()=>{W.clear(),X.removeEventListener("resize",W)}},[g,b,f]),te.useEffect(()=>{b||G()},[b,G]),ce.jsx(R,{nodeRef:U,onEnter:P,onEntered:N,onEntering:q,onExit:O,onExited:F,onExiting:L,addEndListener:k,appear:l,in:b,timeout:A,...E,children:(W,{ownerState:X,...Q})=>te.cloneElement(h,{ref:_,style:{visibility:W==="exited"&&!b?"hidden":void 0,...C,...h.props.style},...Q})})}),MB=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:a,size:o,hiddenLabel:c,multiline:l}=n,h={root:["root",!t&&"underline",i&&"adornedStart",a&&"adornedEnd",o==="small"&&`size${Qe(o)}`,c&&"hiddenLabel",l&&"multiline"],input:["input"]},f=pt(h,zq,e);return{...e,...f}},FB=ze(Ev,{shouldForwardProp:n=>Ho(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Lv(n,e),!t.disableUnderline&&e.underline]}})(ct(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${ou.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${ou.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:c})=>!c.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ou.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ou.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ou.disabled}, .${ou.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${ou.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ui()).map(([c])=>{var l;return{props:{disableUnderline:!1,color:c},style:{"&::after":{borderBottom:`2px solid ${(l=(n.vars||n).palette[c])==null?void 0:l.main}`}}}}),{props:({ownerState:c})=>c.startAdornment,style:{paddingLeft:12}},{props:({ownerState:c})=>c.endAdornment,style:{paddingRight:12}},{props:({ownerState:c})=>c.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:c,size:l})=>c.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:c})=>c.multiline&&c.hiddenLabel&&c.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),kB=ze(_v,{name:"MuiFilledInput",slot:"Input",overridesResolver:Iv})(ct(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),P6=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:o={},componentsProps:c,fullWidth:l=!1,hiddenLabel:h,inputComponent:f="input",multiline:g=!1,slotProps:S,slots:b={},type:m="text",...y}=i,v={...i,disableUnderline:a,fullWidth:l,inputComponent:f,multiline:g,type:m},D=MB(i),x={root:{ownerState:v},input:{ownerState:v}},T=S??c?mi(x,S??c):x,C=b.root??o.Root??FB,A=b.input??o.Input??kB;return ce.jsx(O6,{slots:{root:C,input:A},slotProps:T,fullWidth:l,inputComponent:f,multiline:g,ref:t,type:m,...y,classes:D})});P6.muiName="Input";function UB(n){return ft("MuiFormControl",n)}gt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const NB=n=>{const{classes:e,margin:t,fullWidth:i}=n,a={root:["root",t!=="none"&&`margin${Qe(t)}`,i&&"fullWidth"]};return pt(a,UB,e)},qB=ze("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Qe(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),BB=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiFormControl"}),{children:a,className:o,color:c="primary",component:l="div",disabled:h=!1,error:f=!1,focused:g,fullWidth:S=!1,hiddenLabel:b=!1,margin:m="none",required:y=!1,size:v="medium",variant:D="outlined",...x}=i,T={...i,color:c,component:l,disabled:h,error:f,fullWidth:S,hiddenLabel:b,margin:m,required:y,size:v,variant:D},C=NB(T),[A,R]=te.useState(()=>{let F=!1;return a&&te.Children.forEach(a,k=>{if(!uC(k,["Input","Select"]))return;const G=uC(k,["Select"])?k.props.input:k;G&&Nq(G.props)&&(F=!0)}),F}),[E,U]=te.useState(()=>{let F=!1;return a&&te.Children.forEach(a,k=>{uC(k,["Input","Select"])&&(by(k.props,!0)||by(k.props.inputProps,!0))&&(F=!0)}),F}),[_,M]=te.useState(!1);h&&_&&M(!1);const P=g!==void 0&&!h?g:_;let q;te.useRef(!1);const N=te.useCallback(()=>{U(!0)},[]),L=te.useCallback(()=>{U(!1)},[]),O=te.useMemo(()=>({adornedStart:A,setAdornedStart:R,color:c,disabled:h,error:f,filled:E,focused:P,fullWidth:S,hiddenLabel:b,size:v,onBlur:()=>{M(!1)},onFocus:()=>{M(!0)},onEmpty:L,onFilled:N,registerEffect:q,required:y,variant:D}),[A,c,h,f,E,P,S,b,q,L,N,y,v,D]);return ce.jsx(Pv.Provider,{value:O,children:ce.jsx(qB,{as:l,ownerState:T,className:Ke(C.root,o),ref:t,...x,children:a})})});function GB(n){return ft("MuiFormHelperText",n)}const H9=gt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var j9;const VB=n=>{const{classes:e,contained:t,size:i,disabled:a,error:o,filled:c,focused:l,required:h}=n,f={root:["root",a&&"disabled",o&&"error",i&&`size${Qe(i)}`,t&&"contained",l&&"focused",c&&"filled",h&&"required"]};return pt(f,GB,e)},zB=ze("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Qe(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${H9.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${H9.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),QB=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiFormHelperText"}),{children:a,className:o,component:c="p",disabled:l,error:h,filled:f,focused:g,margin:S,required:b,variant:m,...y}=i,v=_0(),D=Vf({props:i,muiFormControl:v,states:["variant","size","disabled","error","filled","focused","required"]}),x={...i,component:c,contained:D.variant==="filled"||D.variant==="outlined",variant:D.variant,size:D.size,disabled:D.disabled,error:D.error,filled:D.filled,focused:D.focused,required:D.required};delete x.ownerState;const T=VB(x);return ce.jsx(zB,{as:c,className:Ke(T.root,o),ref:t,...y,ownerState:x,children:a===" "?j9||(j9=ce.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function HB(n){return ft("MuiFormLabel",n)}const $g=gt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),jB=n=>{const{classes:e,color:t,focused:i,disabled:a,error:o,filled:c,required:l}=n,h={root:["root",`color${Qe(t)}`,a&&"disabled",o&&"error",c&&"filled",i&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return pt(h,HB,e)},YB=ze("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{[`&.${$g.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${$g.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${$g.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),XB=ze("span",{name:"MuiFormLabel",slot:"Asterisk"})(ct(({theme:n})=>({[`&.${$g.error}`]:{color:(n.vars||n).palette.error.main}}))),WB=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiFormLabel"}),{children:a,className:o,color:c,component:l="label",disabled:h,error:f,filled:g,focused:S,required:b,...m}=i,y=_0(),v=Vf({props:i,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),D={...i,color:v.color||"primary",component:l,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required},x=jB(D);return ce.jsxs(YB,{as:l,ownerState:D,className:Ke(x.root,o),ref:t,...m,children:[a,v.required&&ce.jsxs(XB,{ownerState:D,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function u4(n){return`scale(${n}, ${n**2})`}const $B={entering:{opacity:1,transform:u4(1)},entered:{opacity:1,transform:"none"}},gC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),d4=te.forwardRef(function(e,t){const{addEndListener:i,appear:a=!0,children:o,easing:c,in:l,onEnter:h,onEntered:f,onEntering:g,onExit:S,onExited:b,onExiting:m,style:y,timeout:v="auto",TransitionComponent:D=uo,...x}=e,T=PO(),C=te.useRef(),A=Bf(),R=te.useRef(null),E=Ui(R,Gf(o),t),U=F=>k=>{if(F){const G=R.current;k===void 0?F(G):F(G,k)}},_=U(g),M=U((F,k)=>{R6(F);const{duration:G,delay:W,easing:X}=Lf({style:y,timeout:v,easing:c},{mode:"enter"});let Q;v==="auto"?(Q=A.transitions.getAutoHeightDuration(F.clientHeight),C.current=Q):Q=G,F.style.transition=[A.transitions.create("opacity",{duration:Q,delay:W}),A.transitions.create("transform",{duration:gC?Q:Q*.666,delay:W,easing:X})].join(","),h&&h(F,k)}),P=U(f),q=U(m),N=U(F=>{const{duration:k,delay:G,easing:W}=Lf({style:y,timeout:v,easing:c},{mode:"exit"});let X;v==="auto"?(X=A.transitions.getAutoHeightDuration(F.clientHeight),C.current=X):X=k,F.style.transition=[A.transitions.create("opacity",{duration:X,delay:G}),A.transitions.create("transform",{duration:gC?X:X*.666,delay:gC?G:G||X*.333,easing:W})].join(","),F.style.opacity=0,F.style.transform=u4(.75),S&&S(F)}),L=U(b),O=F=>{v==="auto"&&T.start(C.current||0,F),i&&i(R.current,F)};return ce.jsx(D,{appear:a,in:l,nodeRef:R,onEnter:M,onEntered:P,onEntering:_,onExit:N,onExited:L,onExiting:q,addEndListener:O,timeout:v==="auto"?null:v,...x,children:(F,{ownerState:k,...G})=>te.cloneElement(o,{style:{opacity:0,transform:u4(.75),visibility:F==="exited"&&!l?"hidden":void 0,...$B[F],...y,...o.props.style},ref:E,...G})})});d4&&(d4.muiSupportAuto=!0);const KB=n=>{const{classes:e,disableUnderline:t}=n,a=pt({root:["root",!t&&"underline"],input:["input"]},Gq,e);return{...e,...a}},ZB=ze(Ev,{shouldForwardProp:n=>Ho(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Lv(n,e),!t.disableUnderline&&e.underline]}})(ct(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${G1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${G1.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${G1.disabled}, .${G1.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${G1.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(ui()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),JB=ze(_v,{name:"MuiInput",slot:"Input",overridesResolver:Iv})({}),L6=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:o={},componentsProps:c,fullWidth:l=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:S={},type:b="text",...m}=i,y=KB(i),D={root:{ownerState:{disableUnderline:a}}},x=g??c?mi(g??c,D):D,T=S.root??o.Root??ZB,C=S.input??o.Input??JB;return ce.jsx(O6,{slots:{root:T,input:C},slotProps:x,fullWidth:l,inputComponent:h,multiline:f,ref:t,type:b,...m,classes:y})});L6.muiName="Input";function eG(n){return ft("MuiInputAdornment",n)}const Y9=gt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var X9;const tG=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Qe(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},nG=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:i,position:a,size:o,variant:c}=n,l={root:["root",t&&"disablePointerEvents",a&&`position${Qe(a)}`,c,i&&"hiddenLabel",o&&`size${Qe(o)}`]};return pt(l,eG,e)},iG=ze("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:tG})(ct(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${Y9.positionStart}&:not(.${Y9.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),rG=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiInputAdornment"}),{children:a,className:o,component:c="div",disablePointerEvents:l=!1,disableTypography:h=!1,position:f,variant:g,...S}=i,b=_0()||{};let m=g;g&&b.variant,b&&!m&&(m=b.variant);const y={...i,hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:l,position:f,variant:m},v=nG(y);return ce.jsx(Pv.Provider,{value:null,children:ce.jsx(iG,{as:c,ownerState:y,className:Ke(v.root,o),ref:t,...S,children:typeof a=="string"&&!h?ce.jsx(vy,{color:"textSecondary",children:a}):ce.jsxs(te.Fragment,{children:[f==="start"?X9||(X9=ce.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,a]})})})});function aG(n){return ft("MuiInputLabel",n)}gt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const oG=n=>{const{classes:e,formControl:t,size:i,shrink:a,disableAnimation:o,variant:c,required:l}=n,h={root:["root",t&&"formControl",!o&&"animated",a&&"shrink",i&&i!=="medium"&&`size${Qe(i)}`,c],asterisk:[l&&"asterisk"]},f=pt(h,aG,e);return{...e,...f}},sG=ze(WB,{shouldForwardProp:n=>Ho(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${$g.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(ct(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),lG=te.forwardRef(function(e,t){const i=mt({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:o,shrink:c,variant:l,className:h,...f}=i,g=_0();let S=c;typeof S>"u"&&g&&(S=g.filled||g.focused||g.adornedStart);const b=Vf({props:i,muiFormControl:g,states:["size","variant","required","focused"]}),m={...i,disableAnimation:a,formControl:g,shrink:S,size:b.size,variant:b.variant,required:b.required,focused:b.focused},y=oG(m);return ce.jsx(sG,{"data-shrink":S,ref:t,className:Ke(y.root,h),...f,ownerState:m,classes:y})});function cG(n){return ft("MuiLinearProgress",n)}gt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const h4=4,f4=Gc`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,uG=typeof f4!="string"?qf`
        animation: ${f4} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,g4=Gc`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,dG=typeof g4!="string"?qf`
        animation: ${g4} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,p4=Gc`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,hG=typeof p4!="string"?qf`
        animation: ${p4} 3s infinite linear;
      `:null,fG=n=>{const{classes:e,variant:t,color:i}=n,a={root:["root",`color${Qe(i)}`,t],dashed:["dashed",`dashedColor${Qe(i)}`],bar1:["bar","bar1",`barColor${Qe(i)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Qe(i)}`,t==="buffer"&&`color${Qe(i)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return pt(a,cG,e)},I6=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?P0(n.palette[e].main,.62):O0(n.palette[e].main,.5),gG=ze("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Qe(t.color)}`],e[t.variant]]}})(ct(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{backgroundColor:I6(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),pG=ze("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Qe(t.color)}`]]}})(ct(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(ui()).map(([e])=>{const t=I6(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),hG||{animation:`${p4} 3s infinite linear`}),mG=ze("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Qe(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(ct(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${h4}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${h4}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:uG||{animation:`${f4} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),SG=ze("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Qe(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(ct(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:I6(n,e),transition:`transform .${h4}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:dG||{animation:`${g4} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),yG=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiLinearProgress"}),{className:a,color:o="primary",value:c,valueBuffer:l,variant:h="indeterminate",...f}=i,g={...i,color:o,variant:h},S=fG(g),b=S6(),m={},y={bar1:{},bar2:{}};if((h==="determinate"||h==="buffer")&&c!==void 0){m["aria-valuenow"]=Math.round(c),m["aria-valuemin"]=0,m["aria-valuemax"]=100;let v=c-100;b&&(v=-v),y.bar1.transform=`translateX(${v}%)`}if(h==="buffer"&&l!==void 0){let v=(l||0)-100;b&&(v=-v),y.bar2.transform=`translateX(${v}%)`}return ce.jsxs(gG,{className:Ke(S.root,a),ownerState:g,role:"progressbar",...m,ref:t,...f,children:[h==="buffer"?ce.jsx(pG,{className:S.dashed,ownerState:g}):null,ce.jsx(mG,{className:S.bar1,ownerState:g,style:y.bar1}),h==="determinate"?null:ce.jsx(SG,{className:S.bar2,ownerState:g,style:y.bar2})]})});function vG(n){return ft("MuiLink",n)}const bG=gt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),CG=({theme:n,ownerState:e})=>{const t=e.color,i=Lc(n,`palette.${t}.main`,!1)||Lc(n,`palette.${t}`,!1)||e.color,a=Lc(n,`palette.${t}.mainChannel`)||Lc(n,`palette.${t}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:In(i,.4)},W9={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},DG=n=>{const{classes:e,component:t,focusVisible:i,underline:a}=n,o={root:["root",`underline${Qe(a)}`,t==="button"&&"button",i&&"focusVisible"]};return pt(o,vG,e)},TG=ze(vy,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Qe(t.underline)}`],t.component==="button"&&e.button]}})(ct(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:In(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:In(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:In(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${bG.focusVisible}`]:{outline:"auto"}}}]}))),$9=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiLink"}),a=Bf(),{className:o,color:c="primary",component:l="a",onBlur:h,onFocus:f,TypographyClasses:g,underline:S="always",variant:b="inherit",sx:m,...y}=i,[v,D]=te.useState(!1),x=R=>{If(R.target)||D(!1),h&&h(R)},T=R=>{If(R.target)&&D(!0),f&&f(R)},C={...i,color:c,component:l,focusVisible:v,underline:S,variant:b},A=DG(C);return ce.jsx(TG,{color:c,className:Ke(A.root,o),classes:g,component:l,onBlur:x,onFocus:T,ref:t,ownerState:C,variant:b,...y,sx:[...W9[c]===void 0?[{color:c}]:[],...Array.isArray(m)?m:[m]],style:{...y.style,...S==="always"&&c!=="inherit"&&!W9[c]&&{"--Link-underlineColor":CG({theme:a,ownerState:C})}}})}),wG=te.createContext({});function xG(n){return ft("MuiList",n)}gt("MuiList",["root","padding","dense","subheader"]);const AG=n=>{const{classes:e,disablePadding:t,dense:i,subheader:a}=n;return pt({root:["root",!t&&"padding",i&&"dense",a&&"subheader"]},xG,e)},RG=ze("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),OG=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiList"}),{children:a,className:o,component:c="ul",dense:l=!1,disablePadding:h=!1,subheader:f,...g}=i,S=te.useMemo(()=>({dense:l}),[l]),b={...i,component:c,dense:l,disablePadding:h},m=AG(b);return ce.jsx(wG.Provider,{value:S,children:ce.jsxs(RG,{as:c,className:Ke(m.root,o),ref:t,ownerState:b,...g,children:[f,a]})})});function pC(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function K9(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function NO(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function V1(n,e,t,i,a,o){let c=!1,l=a(n,e,e?t:!1);for(;l;){if(l===n.firstChild){if(c)return!1;c=!0}const h=i?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!NO(l,o)||h)l=a(n,l,t);else return l.focus(),!0}return!1}const PG=te.forwardRef(function(e,t){const{actions:i,autoFocus:a=!1,autoFocusItem:o=!1,children:c,className:l,disabledItemsFocusable:h=!1,disableListWrap:f=!1,onKeyDown:g,variant:S="selectedMenu",...b}=e,m=te.useRef(null),y=te.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});so(()=>{a&&m.current.focus()},[a]),te.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(C,{direction:A})=>{const R=!m.current.style.width;if(C.clientHeight<m.current.clientHeight&&R){const E=`${kO(lo(C))}px`;m.current.style[A==="rtl"?"paddingLeft":"paddingRight"]=E,m.current.style.width=`calc(100% + ${E})`}return m.current}}),[]);const v=C=>{const A=m.current,R=C.key;if(C.ctrlKey||C.metaKey||C.altKey){g&&g(C);return}const U=Wi(A).activeElement;if(R==="ArrowDown")C.preventDefault(),V1(A,U,f,h,pC);else if(R==="ArrowUp")C.preventDefault(),V1(A,U,f,h,K9);else if(R==="Home")C.preventDefault(),V1(A,null,f,h,pC);else if(R==="End")C.preventDefault(),V1(A,null,f,h,K9);else if(R.length===1){const _=y.current,M=R.toLowerCase(),P=performance.now();_.keys.length>0&&(P-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&M!==_.keys[0]&&(_.repeating=!1)),_.lastTime=P,_.keys.push(M);const q=U&&!_.repeating&&NO(U,_);_.previousKeyMatched&&(q||V1(A,U,!1,h,pC,_))?C.preventDefault():_.previousKeyMatched=!1}g&&g(C)},D=Ui(m,t);let x=-1;te.Children.forEach(c,(C,A)=>{if(!te.isValidElement(C)){x===A&&(x+=1,x>=c.length&&(x=-1));return}C.props.disabled||(S==="selectedMenu"&&C.props.selected||x===-1)&&(x=A),x===A&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(x+=1,x>=c.length&&(x=-1))});const T=te.Children.map(c,(C,A)=>{if(A===x){const R={};return o&&(R.autoFocus=!0),C.props.tabIndex===void 0&&S==="selectedMenu"&&(R.tabIndex=0),te.cloneElement(C,R)}return C});return ce.jsx(OG,{role:"menu",ref:D,className:l,onKeyDown:v,tabIndex:a?0:-1,...b,children:T})});function LG(n){return ft("MuiPopover",n)}gt("MuiPopover",["root","paper"]);function Z9(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function J9(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function ex(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function i2(n){return typeof n=="function"?n():n}const IG=n=>{const{classes:e}=n;return pt({root:["root"],paper:["paper"]},LG,e)},EG=ze(UO,{name:"MuiPopover",slot:"Root"})({}),qO=ze(Um,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_G=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiPopover"}),{action:a,anchorEl:o,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:h="anchorEl",children:f,className:g,container:S,elevation:b=8,marginThreshold:m=16,open:y,PaperProps:v={},slots:D={},slotProps:x={},transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:A="auto",TransitionProps:R={},disableScrollLock:E=!1,...U}=i,_=te.useRef(),M={...i,anchorOrigin:c,anchorReference:h,elevation:b,marginThreshold:m,transformOrigin:T,TransitionComponent:C,transitionDuration:A,TransitionProps:R},P=IG(M),q=te.useCallback(()=>{if(h==="anchorPosition")return l;const me=i2(o),Oe=(me&&me.nodeType===1?me:Wi(_.current).body).getBoundingClientRect();return{top:Oe.top+Z9(Oe,c.vertical),left:Oe.left+J9(Oe,c.horizontal)}},[o,c.horizontal,c.vertical,l,h]),N=te.useCallback(me=>({vertical:Z9(me,T.vertical),horizontal:J9(me,T.horizontal)}),[T.horizontal,T.vertical]),L=te.useCallback(me=>{const xe={width:me.offsetWidth,height:me.offsetHeight},Oe=N(xe);if(h==="none")return{top:null,left:null,transformOrigin:ex(Oe)};const Be=q();let B=Be.top-Oe.vertical,ge=Be.left-Oe.horizontal;const ye=B+xe.height,J=ge+xe.width,Z=lo(i2(o)),ue=Z.innerHeight-m,we=Z.innerWidth-m;if(m!==null&&B<m){const Ae=B-m;B-=Ae,Oe.vertical+=Ae}else if(m!==null&&ye>ue){const Ae=ye-ue;B-=Ae,Oe.vertical+=Ae}if(m!==null&&ge<m){const Ae=ge-m;ge-=Ae,Oe.horizontal+=Ae}else if(J>we){const Ae=J-we;ge-=Ae,Oe.horizontal+=Ae}return{top:`${Math.round(B)}px`,left:`${Math.round(ge)}px`,transformOrigin:ex(Oe)}},[o,h,q,N,m]),[O,F]=te.useState(y),k=te.useCallback(()=>{const me=_.current;if(!me)return;const xe=L(me);xe.top!==null&&me.style.setProperty("top",xe.top),xe.left!==null&&(me.style.left=xe.left),me.style.transformOrigin=xe.transformOrigin,F(!0)},[L]);te.useEffect(()=>(E&&window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)),[o,E,k]);const G=()=>{k()},W=()=>{F(!1)};te.useEffect(()=>{y&&k()}),te.useImperativeHandle(a,()=>y?{updatePosition:()=>{k()}}:null,[y,k]),te.useEffect(()=>{if(!y)return;const me=T6(()=>{k()}),xe=lo(i2(o));return xe.addEventListener("resize",me),()=>{me.clear(),xe.removeEventListener("resize",me)}},[o,y,k]);let X=A;const Q={slots:{transition:C,...D},slotProps:{transition:R,paper:v,...x}},[Y,$]=Gn("transition",{elementType:d4,externalForwardedProps:Q,ownerState:M,getSlotProps:me=>({...me,onEntering:(xe,Oe)=>{var Be;(Be=me.onEntering)==null||Be.call(me,xe,Oe),G()},onExited:xe=>{var Oe;(Oe=me.onExited)==null||Oe.call(me,xe),W()}}),additionalProps:{appear:!0,in:y}});A==="auto"&&!Y.muiSupportAuto&&(X=void 0);const ee=S||(o?Wi(i2(o)).body:void 0),[re,{slots:ie,slotProps:fe,...ne}]=Gn("root",{ref:t,elementType:EG,externalForwardedProps:{...Q,...U},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:D.backdrop},slotProps:{backdrop:FN(typeof x.backdrop=="function"?x.backdrop(M):x.backdrop,{invisible:!0})},container:ee,open:y},ownerState:M,className:Ke(P.root,g)}),[oe,pe]=Gn("paper",{ref:_,className:P.paper,elementType:qO,externalForwardedProps:Q,shouldForwardComponentProp:!0,additionalProps:{elevation:b,style:O?void 0:{opacity:0}},ownerState:M});return ce.jsx(re,{...ne,...!w0(re)&&{slots:ie,slotProps:fe,disableScrollLock:E},children:ce.jsx(Y,{...$,timeout:X,children:ce.jsx(oe,{...pe,children:f})})})});function MG(n){return ft("MuiMenu",n)}gt("MuiMenu",["root","paper","list"]);const FG={vertical:"top",horizontal:"right"},kG={vertical:"top",horizontal:"left"},UG=n=>{const{classes:e}=n;return pt({root:["root"],paper:["paper"],list:["list"]},MG,e)},NG=ze(_G,{shouldForwardProp:n=>Ho(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),qG=ze(qO,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),BG=ze(PG,{name:"MuiMenu",slot:"List"})({outline:0}),GG=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:c,disableAutoFocusItem:l=!1,MenuListProps:h={},onClose:f,open:g,PaperProps:S={},PopoverClasses:b,transitionDuration:m="auto",TransitionProps:{onEntering:y,...v}={},variant:D="selectedMenu",slots:x={},slotProps:T={},...C}=i,A=S6(),R={...i,autoFocus:a,disableAutoFocusItem:l,MenuListProps:h,onEntering:y,PaperProps:S,transitionDuration:m,TransitionProps:v,variant:D},E=UG(R),U=a&&!l&&g,_=te.useRef(null),M=(X,Q)=>{_.current&&_.current.adjustStyleForScrollbar(X,{direction:A?"rtl":"ltr"}),y&&y(X,Q)},P=X=>{X.key==="Tab"&&(X.preventDefault(),f&&f(X,"tabKeyDown"))};let q=-1;te.Children.map(o,(X,Q)=>{te.isValidElement(X)&&(X.props.disabled||(D==="selectedMenu"&&X.props.selected||q===-1)&&(q=Q))});const N={slots:x,slotProps:{list:h,transition:v,paper:S,...T}},L=gs({elementType:x.root,externalSlotProps:T.root,ownerState:R,className:[E.root,c]}),[O,F]=Gn("paper",{className:E.paper,elementType:qG,externalForwardedProps:N,shouldForwardComponentProp:!0,ownerState:R}),[k,G]=Gn("list",{className:Ke(E.list,h.className),elementType:BG,shouldForwardComponentProp:!0,externalForwardedProps:N,getSlotProps:X=>({...X,onKeyDown:Q=>{var Y;P(Q),(Y=X.onKeyDown)==null||Y.call(X,Q)}}),ownerState:R}),W=typeof N.slotProps.transition=="function"?N.slotProps.transition(R):N.slotProps.transition;return ce.jsx(NG,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?FG:kG,slots:{root:x.root,paper:O,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:L,paper:F,backdrop:typeof T.backdrop=="function"?T.backdrop(R):T.backdrop,transition:{...W,onEntering:(...X)=>{var Q;M(...X),(Q=W==null?void 0:W.onEntering)==null||Q.call(W,...X)}}},open:g,ref:t,transitionDuration:m,ownerState:R,...C,classes:b,children:ce.jsx(k,{actions:_,autoFocus:a&&(q===-1||l),autoFocusItem:U,variant:D,...G,children:o})})});function VG(n){return ft("MuiNativeSelect",n)}const E6=gt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),zG=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:c}=n,l={select:["select",t,i&&"disabled",a&&"multiple",c&&"error"],icon:["icon",`icon${Qe(t)}`,o&&"iconOpen",i&&"disabled"]};return pt(l,VG,e)},BO=ze("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${E6.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),QG=ze(BO,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ho,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${E6.multiple}`]:e.multiple}]}})({}),GO=ze("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${E6.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),HG=ze(GO,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Qe(t.variant)}`],t.open&&e.iconOpen]}})({}),jG=te.forwardRef(function(e,t){const{className:i,disabled:a,error:o,IconComponent:c,inputRef:l,variant:h="standard",...f}=e,g={...e,disabled:a,variant:h,error:o},S=zG(g);return ce.jsxs(te.Fragment,{children:[ce.jsx(QG,{ownerState:g,className:Ke(S.select,i),disabled:a,ref:l||t,...f}),e.multiple?null:ce.jsx(HG,{as:c,ownerState:g,className:S.icon})]})});var tx;const YG=ze("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ho})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),XG=ze("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ho})(ct(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function WG(n){const{children:e,classes:t,className:i,label:a,notched:o,...c}=n,l=a!=null&&a!=="",h={...n,notched:o,withLabel:l};return ce.jsx(YG,{"aria-hidden":!0,className:i,ownerState:h,...c,children:ce.jsx(XG,{ownerState:h,children:l?ce.jsx("span",{children:a}):tx||(tx=ce.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const $G=n=>{const{classes:e}=n,i=pt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Vq,e);return{...e,...i}},KG=ze(Ev,{shouldForwardProp:n=>Ho(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Lv})(ct(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${yo.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${yo.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${yo.focused} .${yo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(ui()).map(([t])=>({props:{color:t},style:{[`&.${yo.focused} .${yo.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${yo.error} .${yo.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${yo.disabled} .${yo.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),ZG=ze(WG,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(ct(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),JG=ze(_v,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Iv})(ct(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),_6=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:c="input",label:l,multiline:h=!1,notched:f,slots:g={},slotProps:S={},type:b="text",...m}=i,y=$G(i),v=_0(),D=Vf({props:i,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:D.color||"primary",disabled:D.disabled,error:D.error,focused:D.focused,formControl:v,fullWidth:o,hiddenLabel:D.hiddenLabel,multiline:h,size:D.size,type:b},T=g.root??a.Root??KG,C=g.input??a.Input??JG,[A,R]=Gn("notchedOutline",{elementType:ZG,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:x,externalForwardedProps:{slots:g,slotProps:S},additionalProps:{label:l!=null&&l!==""&&D.required?ce.jsxs(te.Fragment,{children:[l," ","*"]}):l}});return ce.jsx(O6,{slots:{root:T,input:C},slotProps:S,renderSuffix:E=>ce.jsx(A,{...R,notched:typeof f<"u"?f:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:o,inputComponent:c,multiline:h,ref:t,type:b,...m,classes:{...y,notchedOutline:null}})});_6.muiName="Input";const eV={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function VO(n){return ft("MuiSelect",n)}const z1=gt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var nx;const tV=ze(BO,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${z1.select}`]:e.select},{[`&.${z1.select}`]:e[t.variant]},{[`&.${z1.error}`]:e.error},{[`&.${z1.multiple}`]:e.multiple}]}})({[`&.${z1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),nV=ze(GO,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Qe(t.variant)}`],t.open&&e.iconOpen]}})({}),iV=ze("input",{shouldForwardProp:n=>Ov(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ix(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function rV(n){return n==null||typeof n=="string"&&!n.trim()}const aV=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:c}=n,l={select:["select",t,i&&"disabled",a&&"multiple",c&&"error"],icon:["icon",`icon${Qe(t)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return pt(l,VO,e)},oV=te.forwardRef(function(e,t){var Jt,Fn;const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:c,children:l,className:h,defaultOpen:f,defaultValue:g,disabled:S,displayEmpty:b,error:m=!1,IconComponent:y,inputRef:v,labelId:D,MenuProps:x={},multiple:T,name:C,onBlur:A,onChange:R,onClose:E,onFocus:U,onOpen:_,open:M,readOnly:P,renderValue:q,required:N,SelectDisplayProps:L={},tabIndex:O,type:F,value:k,variant:G="standard",...W}=e,[X,Q]=n4({controlled:k,default:g,name:"Select"}),[Y,$]=n4({controlled:M,default:f,name:"Select"}),ee=te.useRef(null),re=te.useRef(null),[ie,fe]=te.useState(null),{current:ne}=te.useRef(M!=null),[oe,pe]=te.useState(),me=Ui(t,v),xe=te.useCallback(We=>{re.current=We,We&&fe(We)},[]),Oe=ie==null?void 0:ie.parentNode;te.useImperativeHandle(me,()=>({focus:()=>{re.current.focus()},node:ee.current,value:X}),[X]),te.useEffect(()=>{f&&Y&&ie&&!ne&&(pe(c?null:Oe.clientWidth),re.current.focus())},[ie,c]),te.useEffect(()=>{o&&re.current.focus()},[o]),te.useEffect(()=>{if(!D)return;const We=Wi(re.current).getElementById(D);if(We){const Mt=()=>{getSelection().isCollapsed&&re.current.focus()};return We.addEventListener("click",Mt),()=>{We.removeEventListener("click",Mt)}}},[D]);const Be=(We,Mt)=>{We?_&&_(Mt):E&&E(Mt),ne||(pe(c?null:Oe.clientWidth),$(We))},B=We=>{We.button===0&&(We.preventDefault(),re.current.focus(),Be(!0,We))},ge=We=>{Be(!1,We)},ye=te.Children.toArray(l),J=We=>{const Mt=ye.find(en=>en.props.value===We.target.value);Mt!==void 0&&(Q(Mt.props.value),R&&R(We,Mt))},Z=We=>Mt=>{let en;if(Mt.currentTarget.hasAttribute("tabindex")){if(T){en=Array.isArray(X)?X.slice():[];const qi=X.indexOf(We.props.value);qi===-1?en.push(We.props.value):en.splice(qi,1)}else en=We.props.value;if(We.props.onClick&&We.props.onClick(Mt),X!==en&&(Q(en),R)){const qi=Mt.nativeEvent||Mt,qa=new qi.constructor(qi.type,qi);Object.defineProperty(qa,"target",{writable:!0,value:{value:en,name:C}}),R(qa,We)}T||Be(!1,Mt)}},ue=We=>{P||[" ","ArrowUp","ArrowDown","Enter"].includes(We.key)&&(We.preventDefault(),Be(!0,We))},we=ie!==null&&Y,Ae=We=>{!we&&A&&(Object.defineProperty(We,"target",{writable:!0,value:{value:X,name:C}}),A(We))};delete W["aria-invalid"];let se,Ee;const Ue=[];let he=!1;(by({value:X})||b)&&(q?se=q(X):he=!0);const Ce=ye.map(We=>{if(!te.isValidElement(We))return null;let Mt;if(T){if(!Array.isArray(X))throw new Error(rl(2));Mt=X.some(en=>ix(en,We.props.value)),Mt&&he&&Ue.push(We.props.children)}else Mt=ix(X,We.props.value),Mt&&he&&(Ee=We.props.children);return te.cloneElement(We,{"aria-selected":Mt?"true":"false",onClick:Z(We),onKeyUp:en=>{en.key===" "&&en.preventDefault(),We.props.onKeyUp&&We.props.onKeyUp(en)},role:"option",selected:Mt,value:void 0,"data-value":We.props.value})});he&&(T?Ue.length===0?se=null:se=Ue.reduce((We,Mt,en)=>(We.push(Mt),en<Ue.length-1&&We.push(", "),We),[]):se=Ee);let ke=oe;!c&&ne&&ie&&(ke=Oe.clientWidth);let qe;typeof O<"u"?qe=O:qe=S?null:0;const je=L.id||(C?`mui-component-select-${C}`:void 0),Ge={...e,variant:G,value:X,open:we,error:m},Ve=aV(Ge),et={...x.PaperProps,...(Jt=x.slotProps)==null?void 0:Jt.paper},He={...x.MenuListProps,...(Fn=x.slotProps)==null?void 0:Fn.list},it=km();return ce.jsxs(te.Fragment,{children:[ce.jsx(tV,{as:"div",ref:xe,tabIndex:qe,role:"combobox","aria-controls":we?it:void 0,"aria-disabled":S?"true":void 0,"aria-expanded":we?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[D,je].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":N?"true":void 0,"aria-invalid":m?"true":void 0,onKeyDown:ue,onMouseDown:S||P?null:B,onBlur:Ae,onFocus:U,...L,ownerState:Ge,className:Ke(L.className,Ve.select,h),id:je,children:rV(se)?nx||(nx=ce.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):se}),ce.jsx(iV,{"aria-invalid":m,value:Array.isArray(X)?X.join(","):X,name:C,ref:ee,"aria-hidden":!0,onChange:J,tabIndex:-1,disabled:S,className:Ve.nativeInput,autoFocus:o,required:N,...W,ownerState:Ge}),ce.jsx(nV,{as:y,className:Ve.icon,ownerState:Ge}),ce.jsx(GG,{id:`menu-${C||""}`,anchorEl:Oe,open:we,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":D,role:"listbox","aria-multiselectable":T?"true":void 0,disableListWrap:!0,id:it,...He},paper:{...et,style:{minWidth:ke,...et!=null?et.style:null}}},children:Ce})]})}),sV=n=>{const{classes:e}=n,i=pt({root:["root"]},VO,e);return{...e,...i}},M6={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Ho(n)&&n!=="variant"},lV=ze(L6,M6)(""),cV=ze(_6,M6)(""),uV=ze(P6,M6)(""),zO=te.forwardRef(function(e,t){const i=mt({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:o,classes:c={},className:l,defaultOpen:h=!1,displayEmpty:f=!1,IconComponent:g=Qq,id:S,input:b,inputProps:m,label:y,labelId:v,MenuProps:D,multiple:x=!1,native:T=!1,onClose:C,onOpen:A,open:R,renderValue:E,SelectDisplayProps:U,variant:_="outlined",...M}=i,P=T?jG:oV,q=_0(),N=Vf({props:i,muiFormControl:q,states:["variant","error"]}),L=N.variant||_,O={...i,variant:L,classes:c},F=sV(O),{root:k,...G}=F,W=b||{standard:ce.jsx(lV,{ownerState:O}),outlined:ce.jsx(cV,{label:y,ownerState:O}),filled:ce.jsx(uV,{ownerState:O})}[L],X=Ui(t,Gf(W));return ce.jsx(te.Fragment,{children:te.cloneElement(W,{inputComponent:P,inputProps:{children:o,error:N.error,IconComponent:g,variant:L,type:void 0,multiple:x,...T?{id:S}:{autoWidth:a,defaultOpen:h,displayEmpty:f,labelId:v,MenuProps:D,onClose:C,onOpen:A,open:R,renderValue:E,SelectDisplayProps:{id:S,...U}},...m,classes:m?mi(G,m.classes):G,...b?b.props.inputProps:{}},...(x&&T||f)&&L==="outlined"?{notched:!0}:{},ref:X,className:Ke(W.props.className,l,F.root),...!b&&{variant:L},...M})})});zO.muiName="Select";function dV(n,e,t=(i,a)=>i===a){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}const hV=2;function Ad(n,e,t,i,a){return t===1?Math.min(n+e,a):Math.max(n-e,i)}function QO(n,e){return n-e}function rx(n,e){const{index:t}=n.reduce((i,a,o)=>{const c=Math.abs(e-a);return i===null||c<i.distance||c===i.distance?{distance:c,index:o}:i},null)??{};return t}function r2(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const a=t.changedTouches[i];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function Cy(n,e,t){return(n-e)*100/(t-e)}function fV(n,e,t){return(t-e)*n+e}function gV(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function pV(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(gV(e)))}function ax({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(QO)}function a2({sliderRef:n,activeIndex:e,setActive:t}){var a,o,c;const i=Wi(n.current);(!((a=n.current)!=null&&a.contains(i.activeElement))||Number((o=i==null?void 0:i.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((c=n.current)==null||c.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function o2(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?dV(n,e):!1}const mV={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},SV=n=>n;let s2;function ox(){return s2===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?s2=CSS.supports("touch-action","none"):s2=!0),s2}function yV(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:a=!1,isRtl:o=!1,marks:c=!1,max:l=100,min:h=0,name:f,onChange:g,onChangeCommitted:S,orientation:b="horizontal",rootRef:m,scale:y=SV,step:v=1,shiftStep:D=10,tabIndex:x,value:T}=n,C=te.useRef(void 0),[A,R]=te.useState(-1),[E,U]=te.useState(-1),[_,M]=te.useState(!1),P=te.useRef(0),q=te.useRef(null),[N,L]=n4({controlled:T,default:t??h,name:"Slider"}),O=g&&((he,Ce,ke)=>{const qe=he.nativeEvent||he,je=new qe.constructor(qe.type,qe);Object.defineProperty(je,"target",{writable:!0,value:{value:Ce,name:f}}),q.current=Ce,g(je,Ce,ke)}),F=Array.isArray(N);let k=F?N.slice().sort(QO):[N];k=k.map(he=>he==null?h:Od(he,h,l));const G=c===!0&&v!==null?[...Array(Math.floor((l-h)/v)+1)].map((he,Ce)=>({value:h+v*Ce})):c||[],W=G.map(he=>he.value),[X,Q]=te.useState(-1),Y=te.useRef(null),$=Ui(m,Y),ee=he=>Ce=>{var qe;const ke=Number(Ce.currentTarget.getAttribute("data-index"));If(Ce.target)&&Q(ke),U(ke),(qe=he==null?void 0:he.onFocus)==null||qe.call(he,Ce)},re=he=>Ce=>{var ke;If(Ce.target)||Q(-1),U(-1),(ke=he==null?void 0:he.onBlur)==null||ke.call(he,Ce)},ie=(he,Ce)=>{const ke=Number(he.currentTarget.getAttribute("data-index")),qe=k[ke],je=W.indexOf(qe);let Ge=Ce;if(G&&v==null){const Ve=W[W.length-1];Ge>=Ve?Ge=Ve:Ge<=W[0]?Ge=W[0]:Ge=Ge<qe?W[je-1]:W[je+1]}if(Ge=Od(Ge,h,l),F){a&&(Ge=Od(Ge,k[ke-1]||-1/0,k[ke+1]||1/0));const Ve=Ge;Ge=ax({values:k,newValue:Ge,index:ke});let et=ke;a||(et=Ge.indexOf(Ve)),a2({sliderRef:Y,activeIndex:et})}L(Ge),Q(ke),O&&!o2(Ge,N)&&O(he,Ge,ke),S&&S(he,q.current??Ge)},fe=he=>Ce=>{var ke;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(Ce.key)){Ce.preventDefault();const qe=Number(Ce.currentTarget.getAttribute("data-index")),je=k[qe];let Ge=null;if(v!=null){const Ve=Ce.shiftKey?D:v;switch(Ce.key){case"ArrowUp":Ge=Ad(je,Ve,1,h,l);break;case"ArrowRight":Ge=Ad(je,Ve,o?-1:1,h,l);break;case"ArrowDown":Ge=Ad(je,Ve,-1,h,l);break;case"ArrowLeft":Ge=Ad(je,Ve,o?1:-1,h,l);break;case"PageUp":Ge=Ad(je,D,1,h,l);break;case"PageDown":Ge=Ad(je,D,-1,h,l);break;case"Home":Ge=h;break;case"End":Ge=l;break}}else if(G){const Ve=W[W.length-1],et=W.indexOf(je),He=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],it=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];He.includes(Ce.key)?et===0?Ge=W[0]:Ge=W[et-1]:it.includes(Ce.key)&&(et===W.length-1?Ge=Ve:Ge=W[et+1])}Ge!=null&&ie(Ce,Ge)}(ke=he==null?void 0:he.onKeyDown)==null||ke.call(he,Ce)};so(()=>{var he;i&&Y.current.contains(document.activeElement)&&((he=document.activeElement)==null||he.blur())},[i]),i&&A!==-1&&R(-1),i&&X!==-1&&Q(-1);const ne=he=>Ce=>{var ke;(ke=he.onChange)==null||ke.call(he,Ce),ie(Ce,Ce.target.valueAsNumber)},oe=te.useRef(void 0);let pe=b;o&&b==="horizontal"&&(pe+="-reverse");const me=({finger:he,move:Ce=!1})=>{const{current:ke}=Y,{width:qe,height:je,bottom:Ge,left:Ve}=ke.getBoundingClientRect();let et;pe.startsWith("vertical")?et=(Ge-he.y)/je:et=(he.x-Ve)/qe,pe.includes("-reverse")&&(et=1-et);let He;if(He=fV(et,h,l),v)He=pV(He,v,h);else{const Jt=rx(W,He);He=W[Jt]}He=Od(He,h,l);let it=0;if(F){Ce?it=oe.current:it=rx(k,He),a&&(He=Od(He,k[it-1]||-1/0,k[it+1]||1/0));const Jt=He;He=ax({values:k,newValue:He,index:it}),a&&Ce||(it=He.indexOf(Jt),oe.current=it)}return{newValue:He,activeIndex:it}},xe=zo(he=>{const Ce=r2(he,C);if(!Ce)return;if(P.current+=1,he.type==="mousemove"&&he.buttons===0){Oe(he);return}const{newValue:ke,activeIndex:qe}=me({finger:Ce,move:!0});a2({sliderRef:Y,activeIndex:qe,setActive:R}),L(ke),!_&&P.current>hV&&M(!0),O&&!o2(ke,N)&&O(he,ke,qe)}),Oe=zo(he=>{const Ce=r2(he,C);if(M(!1),!Ce)return;const{newValue:ke}=me({finger:Ce,move:!0});R(-1),he.type==="touchend"&&U(-1),S&&S(he,q.current??ke),C.current=void 0,B()}),Be=zo(he=>{if(i)return;ox()||he.preventDefault();const Ce=he.changedTouches[0];Ce!=null&&(C.current=Ce.identifier);const ke=r2(he,C);if(ke!==!1){const{newValue:je,activeIndex:Ge}=me({finger:ke});a2({sliderRef:Y,activeIndex:Ge,setActive:R}),L(je),O&&!o2(je,N)&&O(he,je,Ge)}P.current=0;const qe=Wi(Y.current);qe.addEventListener("touchmove",xe,{passive:!0}),qe.addEventListener("touchend",Oe,{passive:!0})}),B=te.useCallback(()=>{const he=Wi(Y.current);he.removeEventListener("mousemove",xe),he.removeEventListener("mouseup",Oe),he.removeEventListener("touchmove",xe),he.removeEventListener("touchend",Oe)},[Oe,xe]);te.useEffect(()=>{const{current:he}=Y;return he.addEventListener("touchstart",Be,{passive:ox()}),()=>{he.removeEventListener("touchstart",Be),B()}},[B,Be]),te.useEffect(()=>{i&&B()},[i,B]);const ge=he=>Ce=>{var je;if((je=he.onMouseDown)==null||je.call(he,Ce),i||Ce.defaultPrevented||Ce.button!==0)return;Ce.preventDefault();const ke=r2(Ce,C);if(ke!==!1){const{newValue:Ge,activeIndex:Ve}=me({finger:ke});a2({sliderRef:Y,activeIndex:Ve,setActive:R}),L(Ge),O&&!o2(Ge,N)&&O(Ce,Ge,Ve)}P.current=0;const qe=Wi(Y.current);qe.addEventListener("mousemove",xe,{passive:!0}),qe.addEventListener("mouseup",Oe)},ye=Cy(F?k[0]:h,h,l),J=Cy(k[k.length-1],h,l)-ye,Z=(he={})=>{const Ce=Xg(he),ke={onMouseDown:ge(Ce||{})},qe={...Ce,...ke};return{...he,ref:$,...qe}},ue=he=>Ce=>{var qe;(qe=he.onMouseOver)==null||qe.call(he,Ce);const ke=Number(Ce.currentTarget.getAttribute("data-index"));U(ke)},we=he=>Ce=>{var ke;(ke=he.onMouseLeave)==null||ke.call(he,Ce),U(-1)},Ae=(he={})=>{const Ce=Xg(he),ke={onMouseOver:ue(Ce||{}),onMouseLeave:we(Ce||{})};return{...he,...Ce,...ke}},se=he=>({pointerEvents:A!==-1&&A!==he?"none":void 0});let Ee;return b==="vertical"&&(Ee=o?"vertical-rl":"vertical-lr"),{active:A,axis:pe,axisProps:mV,dragging:_,focusedThumbIndex:X,getHiddenInputProps:(he={})=>{const Ce=Xg(he),ke={onChange:ne(Ce||{}),onFocus:ee(Ce||{}),onBlur:re(Ce||{}),onKeyDown:fe(Ce||{})},qe={...Ce,...ke};return{tabIndex:x,"aria-labelledby":e,"aria-orientation":b,"aria-valuemax":y(l),"aria-valuemin":y(h),name:f,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...he,...qe,style:{...eV,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Ee}}},getRootProps:Z,getThumbProps:Ae,marks:G,open:E,range:F,rootRef:$,trackLeap:J,trackOffset:ye,values:k,getThumbStyle:se}}const vV=n=>!n||!w0(n);function bV(n){return ft("MuiSlider",n)}const Fa=gt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),CV=n=>{const{open:e}=n;return{offset:Ke(e&&Fa.valueLabelOpen),circle:Fa.valueLabelCircle,label:Fa.valueLabelLabel}};function DV(n){const{children:e,className:t,value:i}=n,a=CV(n);return e?te.cloneElement(e,{className:e.props.className},ce.jsxs(te.Fragment,{children:[e.props.children,ce.jsx("span",{className:Ke(a.offset,t),"aria-hidden":!0,children:ce.jsx("span",{className:a.circle,children:ce.jsx("span",{className:a.label,children:i})})})]})):null}function sx(n){return n}const TV=ze("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Qe(t.color)}`],t.size!=="medium"&&e[`size${Qe(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(ct(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Fa.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${Fa.dragging}`]:{[`& .${Fa.thumb}, & .${Fa.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),wV=ze("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),xV=ze("span",{name:"MuiSlider",slot:"Track"})(ct(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:P0(n.palette[e].main,.62),borderColor:P0(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:O0(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:O0(n.palette[e].main,.5)})}}}))]}))),AV=ze("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Qe(t.color)}`],t.size!=="medium"&&e[`thumbSize${Qe(t.size)}`]]}})(ct(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Fa.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Fa.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${In(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Fa.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${In(n.palette[e].main,.16)}`}}}}))]}))),RV=ze(DV,{name:"MuiSlider",slot:"ValueLabel"})(ct(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Fa.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Fa.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),OV=ze("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Ov(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(ct(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),PV=ze("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Ov(n)&&n!=="markLabelActive"})(ct(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),LV=n=>{const{disabled:e,dragging:t,marked:i,orientation:a,track:o,classes:c,color:l,size:h}=n,f={root:["root",e&&"disabled",t&&"dragging",i&&"marked",a==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",l&&`color${Qe(l)}`,h&&`size${Qe(h)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",h&&`thumbSize${Qe(h)}`,l&&`thumbColor${Qe(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return pt(f,bV,c)},IV=({children:n})=>n,EV=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiSlider"}),a=S6(),{"aria-label":o,"aria-valuetext":c,"aria-labelledby":l,component:h="span",components:f={},componentsProps:g={},color:S="primary",classes:b,className:m,disableSwap:y=!1,disabled:v=!1,getAriaLabel:D,getAriaValueText:x,marks:T=!1,max:C=100,min:A=0,name:R,onChange:E,onChangeCommitted:U,orientation:_="horizontal",shiftStep:M=10,size:P="medium",step:q=1,scale:N=sx,slotProps:L,slots:O,tabIndex:F,track:k="normal",value:G,valueLabelDisplay:W="off",valueLabelFormat:X=sx,...Q}=i,Y={...i,isRtl:a,max:C,min:A,classes:b,disabled:v,disableSwap:y,orientation:_,marks:T,color:S,size:P,step:q,shiftStep:M,scale:N,track:k,valueLabelDisplay:W,valueLabelFormat:X},{axisProps:$,getRootProps:ee,getHiddenInputProps:re,getThumbProps:ie,open:fe,active:ne,axis:oe,focusedThumbIndex:pe,range:me,dragging:xe,marks:Oe,values:Be,trackOffset:B,trackLeap:ge,getThumbStyle:ye}=yV({...Y,rootRef:t});Y.marked=Oe.length>0&&Oe.some(Lt=>Lt.label),Y.dragging=xe,Y.focusedThumbIndex=pe;const J=LV(Y),Z=(O==null?void 0:O.root)??f.Root??TV,ue=(O==null?void 0:O.rail)??f.Rail??wV,we=(O==null?void 0:O.track)??f.Track??xV,Ae=(O==null?void 0:O.thumb)??f.Thumb??AV,se=(O==null?void 0:O.valueLabel)??f.ValueLabel??RV,Ee=(O==null?void 0:O.mark)??f.Mark??OV,Ue=(O==null?void 0:O.markLabel)??f.MarkLabel??PV,he=(O==null?void 0:O.input)??f.Input??"input",Ce=(L==null?void 0:L.root)??g.root,ke=(L==null?void 0:L.rail)??g.rail,qe=(L==null?void 0:L.track)??g.track,je=(L==null?void 0:L.thumb)??g.thumb,Ge=(L==null?void 0:L.valueLabel)??g.valueLabel,Ve=(L==null?void 0:L.mark)??g.mark,et=(L==null?void 0:L.markLabel)??g.markLabel,He=(L==null?void 0:L.input)??g.input,it=gs({elementType:Z,getSlotProps:ee,externalSlotProps:Ce,externalForwardedProps:Q,additionalProps:{...vV(Z)&&{as:h}},ownerState:{...Y,...Ce==null?void 0:Ce.ownerState},className:[J.root,m]}),Jt=gs({elementType:ue,externalSlotProps:ke,ownerState:Y,className:J.rail}),Fn=gs({elementType:we,externalSlotProps:qe,additionalProps:{style:{...$[oe].offset(B),...$[oe].leap(ge)}},ownerState:{...Y,...qe==null?void 0:qe.ownerState},className:J.track}),We=gs({elementType:Ae,getSlotProps:ie,externalSlotProps:je,ownerState:{...Y,...je==null?void 0:je.ownerState},className:J.thumb}),Mt=gs({elementType:se,externalSlotProps:Ge,ownerState:{...Y,...Ge==null?void 0:Ge.ownerState},className:J.valueLabel}),en=gs({elementType:Ee,externalSlotProps:Ve,ownerState:Y,className:J.mark}),qi=gs({elementType:Ue,externalSlotProps:et,ownerState:Y,className:J.markLabel}),qa=gs({elementType:he,getSlotProps:re,externalSlotProps:He,ownerState:Y});return ce.jsxs(Z,{...it,children:[ce.jsx(ue,{...Jt}),ce.jsx(we,{...Fn}),Oe.filter(Lt=>Lt.value>=A&&Lt.value<=C).map((Lt,dn)=>{const M0=Cy(Lt.value,A,C),Vc=$[oe].offset(M0);let wr;return k===!1?wr=Be.includes(Lt.value):wr=k==="normal"&&(me?Lt.value>=Be[0]&&Lt.value<=Be[Be.length-1]:Lt.value<=Be[0])||k==="inverted"&&(me?Lt.value<=Be[0]||Lt.value>=Be[Be.length-1]:Lt.value>=Be[0]),ce.jsxs(te.Fragment,{children:[ce.jsx(Ee,{"data-index":dn,...en,...!w0(Ee)&&{markActive:wr},style:{...Vc,...en.style},className:Ke(en.className,wr&&J.markActive)}),Lt.label!=null?ce.jsx(Ue,{"aria-hidden":!0,"data-index":dn,...qi,...!w0(Ue)&&{markLabelActive:wr},style:{...Vc,...qi.style},className:Ke(J.markLabel,qi.className,wr&&J.markLabelActive),children:Lt.label}):null]},dn)}),Be.map((Lt,dn)=>{const M0=Cy(Lt,A,C),Vc=$[oe].offset(M0),wr=W==="off"?IV:se;return ce.jsx(wr,{...!w0(wr)&&{valueLabelFormat:X,valueLabelDisplay:W,value:typeof X=="function"?X(N(Lt),dn):X,index:dn,open:fe===dn||ne===dn||W==="on",disabled:v},...Mt,children:ce.jsx(Ae,{"data-index":dn,...We,className:Ke(J.thumb,We.className,ne===dn&&J.active,pe===dn&&J.focusVisible),style:{...Vc,...ye(dn),...We.style},children:ce.jsx(he,{"data-index":dn,"aria-label":D?D(dn):o,"aria-valuenow":N(Lt),"aria-labelledby":l,"aria-valuetext":x?x(N(Lt),dn):c,value:Be[dn],...qa})})},dn)})]})}),HO=WU({createStyledComponent:ze("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>mt({props:n,name:"MuiStack"})}),jO=te.createContext();function _V(n){return ft("MuiTable",n)}gt("MuiTable",["root","stickyHeader"]);const MV=n=>{const{classes:e,stickyHeader:t}=n;return pt({root:["root",t&&"stickyHeader"]},_V,e)},FV=ze("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(ct(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),lx="table",kV=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTable"}),{className:a,component:o=lx,padding:c="normal",size:l="medium",stickyHeader:h=!1,...f}=i,g={...i,component:o,padding:c,size:l,stickyHeader:h},S=MV(g),b=te.useMemo(()=>({padding:c,size:l,stickyHeader:h}),[c,l,h]);return ce.jsx(jO.Provider,{value:b,children:ce.jsx(FV,{as:o,role:o===lx?null:"table",ref:t,className:Ke(S.root,a),ownerState:g,...f})})}),Mv=te.createContext();function UV(n){return ft("MuiTableBody",n)}gt("MuiTableBody",["root"]);const NV=n=>{const{classes:e}=n;return pt({root:["root"]},UV,e)},qV=ze("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),BV={variant:"body"},cx="tbody",GV=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTableBody"}),{className:a,component:o=cx,...c}=i,l={...i,component:o},h=NV(l);return ce.jsx(Mv.Provider,{value:BV,children:ce.jsx(qV,{className:Ke(h.root,a),as:o,ref:t,role:o===cx?null:"rowgroup",ownerState:l,...c})})});function VV(n){return ft("MuiTableCell",n)}const zV=gt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),QV=n=>{const{classes:e,variant:t,align:i,padding:a,size:o,stickyHeader:c}=n,l={root:["root",t,c&&"stickyHeader",i!=="inherit"&&`align${Qe(i)}`,a!=="normal"&&`padding${Qe(a)}`,`size${Qe(o)}`]};return pt(l,VV,e)},HV=ze("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Qe(t.size)}`],t.padding!=="normal"&&e[`padding${Qe(t.padding)}`],t.align!=="inherit"&&e[`align${Qe(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(ct(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?P0(In(n.palette.divider,1),.88):O0(In(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${zV.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),l2=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTableCell"}),{align:a="inherit",className:o,component:c,padding:l,scope:h,size:f,sortDirection:g,variant:S,...b}=i,m=te.useContext(jO),y=te.useContext(Mv),v=y&&y.variant==="head";let D;c?D=c:D=v?"th":"td";let x=h;D==="td"?x=void 0:!x&&v&&(x="col");const T=S||y&&y.variant,C={...i,align:a,component:D,padding:l||(m&&m.padding?m.padding:"normal"),size:f||(m&&m.size?m.size:"medium"),sortDirection:g,stickyHeader:T==="head"&&m&&m.stickyHeader,variant:T},A=QV(C);let R=null;return g&&(R=g==="asc"?"ascending":"descending"),ce.jsx(HV,{as:D,ref:t,className:Ke(A.root,o),"aria-sort":R,scope:x,ownerState:C,...b})});function jV(n){return ft("MuiTableContainer",n)}gt("MuiTableContainer",["root"]);const YV=n=>{const{classes:e}=n;return pt({root:["root"]},jV,e)},XV=ze("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),WV=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTableContainer"}),{className:a,component:o="div",...c}=i,l={...i,component:o},h=YV(l);return ce.jsx(XV,{ref:t,as:o,className:Ke(h.root,a),ownerState:l,...c})});function $V(n){return ft("MuiTableHead",n)}gt("MuiTableHead",["root"]);const KV=n=>{const{classes:e}=n;return pt({root:["root"]},$V,e)},ZV=ze("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),JV={variant:"head"},ux="thead",ez=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTableHead"}),{className:a,component:o=ux,...c}=i,l={...i,component:o},h=KV(l);return ce.jsx(Mv.Provider,{value:JV,children:ce.jsx(ZV,{as:o,className:Ke(h.root,a),ref:t,role:o===ux?null:"rowgroup",ownerState:l,...c})})});function tz(n){return ft("MuiToolbar",n)}gt("MuiToolbar",["root","gutters","regular","dense"]);const nz=n=>{const{classes:e,disableGutters:t,variant:i}=n;return pt({root:["root",!t&&"gutters",i]},tz,e)},iz=ze("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(ct(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),rz=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiToolbar"}),{className:a,component:o="div",disableGutters:c=!1,variant:l="regular",...h}=i,f={...i,component:o,disableGutters:c,variant:l},g=nz(f);return ce.jsx(iz,{as:o,className:Ke(g.root,a),ref:t,ownerState:f,...h})});function az(n){return ft("MuiTableRow",n)}const dx=gt("MuiTableRow",["root","selected","hover","head","footer"]),oz=n=>{const{classes:e,selected:t,hover:i,head:a,footer:o}=n;return pt({root:["root",t&&"selected",i&&"hover",a&&"head",o&&"footer"]},az,e)},sz=ze("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(ct(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${dx.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${dx.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),hx="tr",fx=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTableRow"}),{className:a,component:o=hx,hover:c=!1,selected:l=!1,...h}=i,f=te.useContext(Mv),g={...i,component:o,hover:c,selected:l,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},S=oz(g);return ce.jsx(sz,{as:o,ref:t,className:Ke(S.root,a),role:o===hx?null:"row",ownerState:g,...h})});function lz(n){return ft("MuiTextField",n)}gt("MuiTextField",["root"]);const cz={standard:L6,filled:P6,outlined:_6},uz=n=>{const{classes:e}=n;return pt({root:["root"]},lz,e)},dz=ze(BB,{name:"MuiTextField",slot:"Root"})({}),hz=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:o=!1,children:c,className:l,color:h="primary",defaultValue:f,disabled:g=!1,error:S=!1,FormHelperTextProps:b,fullWidth:m=!1,helperText:y,id:v,InputLabelProps:D,inputProps:x,InputProps:T,inputRef:C,label:A,maxRows:R,minRows:E,multiline:U=!1,name:_,onBlur:M,onChange:P,onFocus:q,placeholder:N,required:L=!1,rows:O,select:F=!1,SelectProps:k,slots:G={},slotProps:W={},type:X,value:Q,variant:Y="outlined",...$}=i,ee={...i,autoFocus:o,color:h,disabled:g,error:S,fullWidth:m,multiline:U,required:L,select:F,variant:Y},re=uz(ee),ie=km(v),fe=y&&ie?`${ie}-helper-text`:void 0,ne=A&&ie?`${ie}-label`:void 0,oe=cz[Y],pe={slots:G,slotProps:{input:T,inputLabel:D,htmlInput:x,formHelperText:b,select:k,...W}},me={},xe=pe.slotProps.inputLabel;Y==="outlined"&&(xe&&typeof xe.shrink<"u"&&(me.notched=xe.shrink),me.label=A),F&&((!k||!k.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[Oe,Be]=Gn("root",{elementType:dz,shouldForwardComponentProp:!0,externalForwardedProps:{...pe,...$},ownerState:ee,className:Ke(re.root,l),ref:t,additionalProps:{disabled:g,error:S,fullWidth:m,required:L,color:h,variant:Y}}),[B,ge]=Gn("input",{elementType:oe,externalForwardedProps:pe,additionalProps:me,ownerState:ee}),[ye,J]=Gn("inputLabel",{elementType:lG,externalForwardedProps:pe,ownerState:ee}),[Z,ue]=Gn("htmlInput",{elementType:"input",externalForwardedProps:pe,ownerState:ee}),[we,Ae]=Gn("formHelperText",{elementType:QB,externalForwardedProps:pe,ownerState:ee}),[se,Ee]=Gn("select",{elementType:zO,externalForwardedProps:pe,ownerState:ee}),Ue=ce.jsx(B,{"aria-describedby":fe,autoComplete:a,autoFocus:o,defaultValue:f,fullWidth:m,multiline:U,name:_,rows:O,maxRows:R,minRows:E,type:X,value:Q,id:ie,inputRef:C,onBlur:M,onChange:P,onFocus:q,placeholder:N,inputProps:ue,slots:{input:G.htmlInput?Z:void 0},...ge});return ce.jsxs(Oe,{...Be,children:[A!=null&&A!==""&&ce.jsx(ye,{htmlFor:ie,id:ne,...J,children:A}),F?ce.jsx(se,{"aria-describedby":fe,id:ie,labelId:ne,value:Q,input:Ue,...Ee,children:c}):Ue,y&&ce.jsx(we,{id:fe,...Ae,children:y})]})});function fz(n){return ft("MuiToggleButton",n)}const Du=gt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),YO=te.createContext({}),XO=te.createContext(void 0);function gz(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const pz=n=>{const{classes:e,fullWidth:t,selected:i,disabled:a,size:o,color:c}=n,l={root:["root",i&&"selected",a&&"disabled",t&&"fullWidth",`size${Qe(o)}`,c]};return pt(l,fz,e)},mz=ze(_O,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Qe(t.size)}`]]}})(ct(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${Du.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:In(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Du.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(ui()).map(([e])=>({props:{color:e},style:{[`&.${Du.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:In(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:In(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),c2=te.forwardRef(function(e,t){const{value:i,...a}=te.useContext(YO),o=te.useContext(XO),c=op({...a,selected:gz(e.value,i)},e),l=mt({props:c,name:"MuiToggleButton"}),{children:h,className:f,color:g="standard",disabled:S=!1,disableFocusRipple:b=!1,fullWidth:m=!1,onChange:y,onClick:v,selected:D,size:x="medium",value:T,...C}=l,A={...l,color:g,disabled:S,disableFocusRipple:b,fullWidth:m,size:x},R=pz(A),E=_=>{v&&(v(_,T),_.defaultPrevented)||y&&y(_,T)},U=o||"";return ce.jsx(mz,{className:Ke(a.className,R.root,f,U),disabled:S,focusRipple:!b,ref:t,onClick:E,onChange:y,value:T,ownerState:A,"aria-pressed":D,...C,children:h})});function Sz(n){return ft("MuiToggleButtonGroup",n)}const sn=gt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),yz=n=>{const{classes:e,orientation:t,fullWidth:i,disabled:a}=n,o={root:["root",t,i&&"fullWidth"],grouped:["grouped",`grouped${Qe(t)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return pt(o,Sz,e)},vz=ze("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${sn.grouped}`]:e.grouped},{[`& .${sn.grouped}`]:e[`grouped${Qe(t.orientation)}`]},{[`& .${sn.firstButton}`]:e.firstButton},{[`& .${sn.lastButton}`]:e.lastButton},{[`& .${sn.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(ct(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${sn.grouped}`]:{[`&.${sn.selected} + .${sn.grouped}.${sn.selected}`]:{borderTop:0,marginTop:0}},[`& .${sn.firstButton},& .${sn.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${sn.lastButton},& .${sn.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${sn.lastButton}.${Du.disabled},& .${sn.middleButton}.${Du.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${sn.grouped}`]:{[`&.${sn.selected} + .${sn.grouped}.${sn.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${sn.firstButton},& .${sn.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${sn.lastButton},& .${sn.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${sn.lastButton}.${Du.disabled},& .${sn.middleButton}.${Du.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),bz=te.forwardRef(function(e,t){const i=mt({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:o,color:c="standard",disabled:l=!1,exclusive:h=!1,fullWidth:f=!1,onChange:g,orientation:S="horizontal",size:b="medium",value:m,...y}=i,v={...i,disabled:l,fullWidth:f,orientation:S,size:b},D=yz(v),x=te.useCallback((U,_)=>{if(!g)return;const M=m&&m.indexOf(_);let P;m&&M>=0?(P=m.slice(),P.splice(M,1)):P=m?m.concat(_):[_],g(U,P)},[g,m]),T=te.useCallback((U,_)=>{g&&g(U,m===_?null:_)},[g,m]),C=te.useMemo(()=>({className:D.grouped,onChange:h?T:x,value:m,size:b,fullWidth:f,color:c,disabled:l}),[D.grouped,h,T,x,m,b,f,c,l]),A=Zq(a),R=A.length,E=U=>{const _=U===0,M=U===R-1;return _&&M?"":_?D.firstButton:M?D.lastButton:D.middleButton};return ce.jsx(vz,{role:"group",className:Ke(D.root,o),ref:t,ownerState:v,...y,children:ce.jsx(YO.Provider,{value:C,children:A.map((U,_)=>ce.jsx(XO.Provider,{value:E(_),children:U},_))})})}),Cz=hO({themeId:ao});var I2={exports:{}},Q1={},mC={},SC={},gx;function vt(){return gx||(gx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof _d<"u"?_d:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.20",isBrowser:t(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return n.Konva.angleDeg?a*e:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var a;return(a=n.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(a){n.glob.Konva=a}};const i=a=>{n.Konva[a.prototype.getClassName()]=a};n._registerNode=i,n.Konva._injectGlobal(n.Konva)}(SC)),SC}var yC={},px;function Mn(){return px||(px=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=vt();class t{constructor(A=[1,0,0,1,0,0]){this.dirty=!1,this.m=A&&A.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(A){A.m[0]=this.m[0],A.m[1]=this.m[1],A.m[2]=this.m[2],A.m[3]=this.m[3],A.m[4]=this.m[4],A.m[5]=this.m[5]}point(A){const R=this.m;return{x:R[0]*A.x+R[2]*A.y+R[4],y:R[1]*A.x+R[3]*A.y+R[5]}}translate(A,R){return this.m[4]+=this.m[0]*A+this.m[2]*R,this.m[5]+=this.m[1]*A+this.m[3]*R,this}scale(A,R){return this.m[0]*=A,this.m[1]*=A,this.m[2]*=R,this.m[3]*=R,this}rotate(A){const R=Math.cos(A),E=Math.sin(A),U=this.m[0]*R+this.m[2]*E,_=this.m[1]*R+this.m[3]*E,M=this.m[0]*-E+this.m[2]*R,P=this.m[1]*-E+this.m[3]*R;return this.m[0]=U,this.m[1]=_,this.m[2]=M,this.m[3]=P,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(A,R){const E=this.m[0]+this.m[2]*R,U=this.m[1]+this.m[3]*R,_=this.m[2]+this.m[0]*A,M=this.m[3]+this.m[1]*A;return this.m[0]=E,this.m[1]=U,this.m[2]=_,this.m[3]=M,this}multiply(A){const R=this.m[0]*A.m[0]+this.m[2]*A.m[1],E=this.m[1]*A.m[0]+this.m[3]*A.m[1],U=this.m[0]*A.m[2]+this.m[2]*A.m[3],_=this.m[1]*A.m[2]+this.m[3]*A.m[3],M=this.m[0]*A.m[4]+this.m[2]*A.m[5]+this.m[4],P=this.m[1]*A.m[4]+this.m[3]*A.m[5]+this.m[5];return this.m[0]=R,this.m[1]=E,this.m[2]=U,this.m[3]=_,this.m[4]=M,this.m[5]=P,this}invert(){const A=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),R=this.m[3]*A,E=-this.m[1]*A,U=-this.m[2]*A,_=this.m[0]*A,M=A*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),P=A*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=R,this.m[1]=E,this.m[2]=U,this.m[3]=_,this.m[4]=M,this.m[5]=P,this}getMatrix(){return this.m}decompose(){const A=this.m[0],R=this.m[1],E=this.m[2],U=this.m[3],_=this.m[4],M=this.m[5],P=A*U-R*E,q={x:_,y:M,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(A!=0||R!=0){const N=Math.sqrt(A*A+R*R);q.rotation=R>0?Math.acos(A/N):-Math.acos(A/N),q.scaleX=N,q.scaleY=P/N,q.skewX=(A*E+R*U)/P,q.skewY=0}else if(E!=0||U!=0){const N=Math.sqrt(E*E+U*U);q.rotation=Math.PI/2-(U>0?Math.acos(-E/N):-Math.acos(E/N)),q.scaleX=P/N,q.scaleY=N,q.skewX=0,q.skewY=(A*E+R*U)/P}return q.rotation=n.Util._getRotation(q.rotation),q}}n.Transform=t;const i="[object Array]",a="[object Number]",o="[object String]",c="[object Boolean]",l=Math.PI/180,h=180/Math.PI,f="#",g="",S="0",b="Konva warning: ",m="Konva error: ",y="rgb(",v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},D=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let x=[];const T=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};n.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===i},_isNumber(C){return Object.prototype.toString.call(C)===a&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===o},_isBoolean(C){return Object.prototype.toString.call(C)===c},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;const A=C[0];return A==="#"||A==="."||A===A.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){x.push(C),x.length===1&&T(function(){const A=x;x=[],A.forEach(function(R){R()})})},createCanvasElement(){const C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,A){const R=n.Util.createImageElement();R.onload=function(){A(R)},R.src=C},_rgbToHex(C,A,R){return((1<<24)+(C<<16)+(A<<8)+R).toString(16).slice(1)},_hexToRgb(C){C=C.replace(f,g);const A=parseInt(C,16);return{r:A>>16&255,g:A>>8&255,b:A&255}},getRandomColor(){let C=(Math.random()*16777215<<0).toString(16);for(;C.length<6;)C=S+C;return f+C},getRGB(C){let A;return C in v?(A=v[C],{r:A[0],g:A[1],b:A[2]}):C[0]===f?this._hexToRgb(C.substring(1)):C.substr(0,4)===y?(A=D.exec(C.replace(/ /g,"")),{r:parseInt(A[1],10),g:parseInt(A[2],10),b:parseInt(A[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",n.Util._namedColorToRBA(C)||n.Util._hex3ColorToRGBA(C)||n.Util._hex4ColorToRGBA(C)||n.Util._hex6ColorToRGBA(C)||n.Util._hex8ColorToRGBA(C)||n.Util._rgbColorToRGBA(C)||n.Util._rgbaColorToRGBA(C)||n.Util._hslColorToRGBA(C)},_namedColorToRBA(C){const A=v[C.toLowerCase()];return A?{r:A[0],g:A[1],b:A[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];const A=C.split(/ *, */).map(Number);return{r:A[0],g:A[1],b:A[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];const A=C.split(/ *, */).map((R,E)=>R.slice(-1)==="%"?E===3?parseInt(R)/100:parseInt(R)/100*255:Number(R));return{r:A[0],g:A[1],b:A[2],a:A[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[A,...R]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),E=Number(R[0])/360,U=Number(R[1])/100,_=Number(R[2])/100;let M,P,q;if(U===0)return q=_*255,{r:Math.round(q),g:Math.round(q),b:Math.round(q),a:1};_<.5?M=_*(1+U):M=_+U-_*U;const N=2*_-M,L=[0,0,0];for(let O=0;O<3;O++)P=E+1/3*-(O-1),P<0&&P++,P>1&&P--,6*P<1?q=N+(M-N)*6*P:2*P<1?q=M:3*P<2?q=N+(M-N)*(2/3-P)*6:q=N,L[O]=q*255;return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:1}}},haveIntersection(C,A){return!(A.x>C.x+C.width||A.x+A.width<C.x||A.y>C.y+C.height||A.y+A.height<C.y)},cloneObject(C){const A={};for(const R in C)this._isPlainObject(C[R])?A[R]=this.cloneObject(C[R]):this._isArray(C[R])?A[R]=this.cloneArray(C[R]):A[R]=C[R];return A},cloneArray(C){return C.slice(0)},degToRad(C){return C*l},radToDeg(C){return C*h},_degToRad(C){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(C)},_radToDeg(C){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(C)},_getRotation(C){return e.Konva.angleDeg?n.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(m+C)},error(C){console.error(m+C)},warn(C){e.Konva.showWarnings&&console.warn(b+C)},each(C,A){for(const R in C)A(R,C[R])},_inRange(C,A,R){return A<=C&&C<R},_getProjectionToSegment(C,A,R,E,U,_){let M,P,q;const N=(C-R)*(C-R)+(A-E)*(A-E);if(N==0)M=C,P=A,q=(U-R)*(U-R)+(_-E)*(_-E);else{const L=((U-C)*(R-C)+(_-A)*(E-A))/N;L<0?(M=C,P=A,q=(C-U)*(C-U)+(A-_)*(A-_)):L>1?(M=R,P=E,q=(R-U)*(R-U)+(E-_)*(E-_)):(M=C+L*(R-C),P=A+L*(E-A),q=(M-U)*(M-U)+(P-_)*(P-_))}return[M,P,q]},_getProjectionToLine(C,A,R){const E=n.Util.cloneObject(C);let U=Number.MAX_VALUE;return A.forEach(function(_,M){if(!R&&M===A.length-1)return;const P=A[(M+1)%A.length],q=n.Util._getProjectionToSegment(_.x,_.y,P.x,P.y,C.x,C.y),N=q[0],L=q[1],O=q[2];O<U&&(E.x=N,E.y=L,U=O)}),E},_prepareArrayForTween(C,A,R){const E=[],U=[];if(C.length>A.length){const M=A;A=C,C=M}for(let M=0;M<C.length;M+=2)E.push({x:C[M],y:C[M+1]});for(let M=0;M<A.length;M+=2)U.push({x:A[M],y:A[M+1]});const _=[];return U.forEach(function(M){const P=n.Util._getProjectionToLine(M,E,R);_.push(P.x),_.push(P.y)}),_},_prepareToStringify(C){let A;C.visitedByCircularReferenceRemoval=!0;for(const R in C)if(C.hasOwnProperty(R)&&C[R]&&typeof C[R]=="object"){if(A=Object.getOwnPropertyDescriptor(C,R),C[R].visitedByCircularReferenceRemoval||n.Util._isElement(C[R]))if(A.configurable)delete C[R];else return null;else if(n.Util._prepareToStringify(C[R])===null)if(A.configurable)delete C[R];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,A){for(const R in A)C[R]=A[R];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){e.Konva.releaseCanvasOnDestroy&&C.forEach(A=>{A.width=0,A.height=0})},drawRoundedRectPath(C,A,R,E){let U=0,_=0,M=0,P=0;typeof E=="number"?U=_=M=P=Math.min(E,A/2,R/2):(U=Math.min(E[0]||0,A/2,R/2),_=Math.min(E[1]||0,A/2,R/2),P=Math.min(E[2]||0,A/2,R/2),M=Math.min(E[3]||0,A/2,R/2)),C.moveTo(U,0),C.lineTo(A-_,0),C.arc(A-_,_,_,Math.PI*3/2,0,!1),C.lineTo(A,R-P),C.arc(A-P,R-P,P,0,Math.PI/2,!1),C.lineTo(M,R),C.arc(M,R-M,M,Math.PI/2,Math.PI,!1),C.lineTo(0,U),C.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}}(yC)),yC}var H1={},vC={},nr={},mx;function At(){if(mx)return nr;mx=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.RGBComponent=i,nr.alphaComponent=a,nr.getNumberValidator=o,nr.getNumberOrArrayOfNumbersValidator=c,nr.getNumberOrAutoValidator=l,nr.getStringValidator=h,nr.getStringOrGradientValidator=f,nr.getFunctionValidator=g,nr.getNumberArrayValidator=S,nr.getBooleanValidator=b,nr.getComponentValidator=m;const n=vt(),e=Mn();function t(y){return e.Util._isString(y)?'"'+y+'"':Object.prototype.toString.call(y)==="[object Number]"||e.Util._isBoolean(y)?y:Object.prototype.toString.call(y)}function i(y){return y>255?255:y<0?0:Math.round(y)}function a(y){return y>1?1:y<1e-4?1e-4:y}function o(){if(n.Konva.isUnminified)return function(y,v){return e.Util._isNumber(y)||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a number.'),y}}function c(y){if(n.Konva.isUnminified)return function(v,D){let x=e.Util._isNumber(v),T=e.Util._isArray(v)&&v.length==y;return!x&&!T&&e.Util.warn(t(v)+' is a not valid value for "'+D+'" attribute. The value should be a number or Array<number>('+y+")"),v}}function l(){if(n.Konva.isUnminified)return function(y,v){var D=e.Util._isNumber(y),x=y==="auto";return D||x||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a number or "auto".'),y}}function h(){if(n.Konva.isUnminified)return function(y,v){return e.Util._isString(y)||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a string.'),y}}function f(){if(n.Konva.isUnminified)return function(y,v){const D=e.Util._isString(y),x=Object.prototype.toString.call(y)==="[object CanvasGradient]"||y&&y.addColorStop;return D||x||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a string or a native gradient.'),y}}function g(){if(n.Konva.isUnminified)return function(y,v){return e.Util._isFunction(y)||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a function.'),y}}function S(){if(n.Konva.isUnminified)return function(y,v){const D=Int8Array?Object.getPrototypeOf(Int8Array):null;return D&&y instanceof D||(e.Util._isArray(y)?y.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+v+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a array of numbers.')),y}}function b(){if(n.Konva.isUnminified)return function(y,v){var D=y===!0||y===!1;return D||e.Util.warn(t(y)+' is a not valid value for "'+v+'" attribute. The value should be a boolean.'),y}}function m(y){if(n.Konva.isUnminified)return function(v,D){return v==null||e.Util.isObject(v)||e.Util.warn(t(v)+' is a not valid value for "'+D+'" attribute. The value should be an object with properties '+y),v}}return nr}var Sx;function Tt(){return Sx||(Sx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=Mn(),t=At(),i="get",a="set";n.Factory={addGetterSetter(o,c,l,h,f){n.Factory.addGetter(o,c,l),n.Factory.addSetter(o,c,h,f),n.Factory.addOverloadedGetterSetter(o,c)},addGetter(o,c,l){var h=i+e.Util._capitalize(c);o.prototype[h]=o.prototype[h]||function(){const f=this.attrs[c];return f===void 0?l:f}},addSetter(o,c,l,h){var f=a+e.Util._capitalize(c);o.prototype[f]||n.Factory.overWriteSetter(o,c,l,h)},overWriteSetter(o,c,l,h){var f=a+e.Util._capitalize(c);o.prototype[f]=function(g){return l&&g!==void 0&&g!==null&&(g=l.call(this,g,c)),this._setAttr(c,g),h&&h.call(this),this}},addComponentsGetterSetter(o,c,l,h,f){const g=l.length,S=e.Util._capitalize,b=i+S(c),m=a+S(c);o.prototype[b]=function(){const v={};for(let D=0;D<g;D++){const x=l[D];v[x]=this.getAttr(c+S(x))}return v};const y=(0,t.getComponentValidator)(l);o.prototype[m]=function(v){const D=this.attrs[c];h&&(v=h.call(this,v,c)),y&&y.call(this,v,c);for(const x in v)v.hasOwnProperty(x)&&this._setAttr(c+S(x),v[x]);return v||l.forEach(x=>{this._setAttr(c+S(x),void 0)}),this._fireChangeEvent(c,D,v),f&&f.call(this),this},n.Factory.addOverloadedGetterSetter(o,c)},addOverloadedGetterSetter(o,c){var l=e.Util._capitalize(c),h=a+l,f=i+l;o.prototype[c]=function(){return arguments.length?(this[h](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(o,c,l,h){e.Util.error("Adding deprecated "+c);const f=i+e.Util._capitalize(c),g=c+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[f]=function(){e.Util.error(g);const S=this.attrs[c];return S===void 0?l:S},n.Factory.addSetter(o,c,h,function(){e.Util.error(g)}),n.Factory.addOverloadedGetterSetter(o,c)},backCompat(o,c){e.Util.each(c,function(l,h){const f=o.prototype[h],g=i+e.Util._capitalize(l),S=a+e.Util._capitalize(l);function b(){f.apply(this,arguments),e.Util.error('"'+l+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}o.prototype[l]=b,o.prototype[g]=b,o.prototype[S]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(vC)),vC}var cs={},us={},yx;function WO(){if(yx)return us;yx=1,Object.defineProperty(us,"__esModule",{value:!0}),us.HitContext=us.SceneContext=us.Context=void 0;const n=Mn(),e=vt();function t(x){const T=[],C=x.length,A=n.Util;for(let R=0;R<C;R++){let E=x[R];A._isNumber(E)?E=Math.round(E*1e3)/1e3:A._isString(E)||(E=E+""),T.push(E)}return T}const i=",",a="(",o=")",c="([",l="])",h=";",f="()",g="=",S=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],m=100;let y=class{constructor(T){this.canvas=T,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(T){T.fillEnabled()&&this._fill(T)}_fill(T){}strokeShape(T){T.hasStroke()&&this._stroke(T)}_stroke(T){}fillStrokeShape(T){T.attrs.fillAfterStrokeEnabled?(this.strokeShape(T),this.fillShape(T)):(this.fillShape(T),this.strokeShape(T))}getTrace(T,C){let A=this.traceArr,R=A.length,E="",U,_,M,P;for(U=0;U<R;U++)_=A[U],M=_.method,M?(P=_.args,E+=M,T?E+=f:n.Util._isArray(P[0])?E+=c+P.join(i)+l:(C&&(P=P.map(q=>typeof q=="number"?Math.floor(q):q)),E+=a+P.join(i)+o)):(E+=_.property,T||(E+=g+_.val)),E+=h;return E}clearTrace(){this.traceArr=[]}_trace(T){let C=this.traceArr,A;C.push(T),A=C.length,A>=m&&C.shift()}reset(){const T=this.getCanvas().getPixelRatio();this.setTransform(1*T,0,0,1*T,0,0)}getCanvas(){return this.canvas}clear(T){const C=this.getCanvas();T?this.clearRect(T.x||0,T.y||0,T.width||0,T.height||0):this.clearRect(0,0,C.getWidth()/C.pixelRatio,C.getHeight()/C.pixelRatio)}_applyLineCap(T){const C=T.attrs.lineCap;C&&this.setAttr("lineCap",C)}_applyOpacity(T){const C=T.getAbsoluteOpacity();C!==1&&this.setAttr("globalAlpha",C)}_applyLineJoin(T){const C=T.attrs.lineJoin;C&&this.setAttr("lineJoin",C)}setAttr(T,C){this._context[T]=C}arc(T,C,A,R,E,U){this._context.arc(T,C,A,R,E,U)}arcTo(T,C,A,R,E){this._context.arcTo(T,C,A,R,E)}beginPath(){this._context.beginPath()}bezierCurveTo(T,C,A,R,E,U){this._context.bezierCurveTo(T,C,A,R,E,U)}clearRect(T,C,A,R){this._context.clearRect(T,C,A,R)}clip(...T){this._context.clip.apply(this._context,T)}closePath(){this._context.closePath()}createImageData(T,C){const A=arguments;if(A.length===2)return this._context.createImageData(T,C);if(A.length===1)return this._context.createImageData(T)}createLinearGradient(T,C,A,R){return this._context.createLinearGradient(T,C,A,R)}createPattern(T,C){return this._context.createPattern(T,C)}createRadialGradient(T,C,A,R,E,U){return this._context.createRadialGradient(T,C,A,R,E,U)}drawImage(T,C,A,R,E,U,_,M,P){const q=arguments,N=this._context;q.length===3?N.drawImage(T,C,A):q.length===5?N.drawImage(T,C,A,R,E):q.length===9&&N.drawImage(T,C,A,R,E,U,_,M,P)}ellipse(T,C,A,R,E,U,_,M){this._context.ellipse(T,C,A,R,E,U,_,M)}isPointInPath(T,C,A,R){return A?this._context.isPointInPath(A,T,C,R):this._context.isPointInPath(T,C,R)}fill(...T){this._context.fill.apply(this._context,T)}fillRect(T,C,A,R){this._context.fillRect(T,C,A,R)}strokeRect(T,C,A,R){this._context.strokeRect(T,C,A,R)}fillText(T,C,A,R){R?this._context.fillText(T,C,A,R):this._context.fillText(T,C,A)}measureText(T){return this._context.measureText(T)}getImageData(T,C,A,R){return this._context.getImageData(T,C,A,R)}lineTo(T,C){this._context.lineTo(T,C)}moveTo(T,C){this._context.moveTo(T,C)}rect(T,C,A,R){this._context.rect(T,C,A,R)}roundRect(T,C,A,R,E){this._context.roundRect(T,C,A,R,E)}putImageData(T,C,A){this._context.putImageData(T,C,A)}quadraticCurveTo(T,C,A,R){this._context.quadraticCurveTo(T,C,A,R)}restore(){this._context.restore()}rotate(T){this._context.rotate(T)}save(){this._context.save()}scale(T,C){this._context.scale(T,C)}setLineDash(T){this._context.setLineDash?this._context.setLineDash(T):"mozDash"in this._context?this._context.mozDash=T:"webkitLineDash"in this._context&&(this._context.webkitLineDash=T)}getLineDash(){return this._context.getLineDash()}setTransform(T,C,A,R,E,U){this._context.setTransform(T,C,A,R,E,U)}stroke(T){T?this._context.stroke(T):this._context.stroke()}strokeText(T,C,A,R){this._context.strokeText(T,C,A,R)}transform(T,C,A,R,E,U){this._context.transform(T,C,A,R,E,U)}translate(T,C){this._context.translate(T,C)}_enableTrace(){let T=this,C=S.length,A=this.setAttr,R,E;const U=function(_){let M=T[_],P;T[_]=function(){return E=t(Array.prototype.slice.call(arguments,0)),P=M.apply(T,arguments),T._trace({method:_,args:E}),P}};for(R=0;R<C;R++)U(S[R]);T.setAttr=function(){A.apply(T,arguments);const _=arguments[0];let M=arguments[1];(_==="shadowOffsetX"||_==="shadowOffsetY"||_==="shadowBlur")&&(M=M/this.canvas.getPixelRatio()),T._trace({property:_,val:M})}}_applyGlobalCompositeOperation(T){const C=T.attrs.globalCompositeOperation;!C||C==="source-over"||this.setAttr("globalCompositeOperation",C)}};us.Context=y,b.forEach(function(x){Object.defineProperty(y.prototype,x,{get(){return this._context[x]},set(T){this._context[x]=T}})});class v extends y{constructor(T,{willReadFrequently:C=!1}={}){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:C})}_fillColor(T){const C=T.fill();this.setAttr("fillStyle",C),T._fillFunc(this)}_fillPattern(T){this.setAttr("fillStyle",T._getFillPattern()),T._fillFunc(this)}_fillLinearGradient(T){const C=T._getLinearGradient();C&&(this.setAttr("fillStyle",C),T._fillFunc(this))}_fillRadialGradient(T){const C=T._getRadialGradient();C&&(this.setAttr("fillStyle",C),T._fillFunc(this))}_fill(T){const C=T.fill(),A=T.getFillPriority();if(C&&A==="color"){this._fillColor(T);return}const R=T.getFillPatternImage();if(R&&A==="pattern"){this._fillPattern(T);return}const E=T.getFillLinearGradientColorStops();if(E&&A==="linear-gradient"){this._fillLinearGradient(T);return}const U=T.getFillRadialGradientColorStops();if(U&&A==="radial-gradient"){this._fillRadialGradient(T);return}C?this._fillColor(T):R?this._fillPattern(T):E?this._fillLinearGradient(T):U&&this._fillRadialGradient(T)}_strokeLinearGradient(T){const C=T.getStrokeLinearGradientStartPoint(),A=T.getStrokeLinearGradientEndPoint(),R=T.getStrokeLinearGradientColorStops(),E=this.createLinearGradient(C.x,C.y,A.x,A.y);if(R){for(let U=0;U<R.length;U+=2)E.addColorStop(R[U],R[U+1]);this.setAttr("strokeStyle",E)}}_stroke(T){const C=T.dash(),A=T.getStrokeScaleEnabled();if(T.hasStroke()){if(!A){this.save();const E=this.getCanvas().getPixelRatio();this.setTransform(E,0,0,E,0,0)}this._applyLineCap(T),C&&T.dashEnabled()&&(this.setLineDash(C),this.setAttr("lineDashOffset",T.dashOffset())),this.setAttr("lineWidth",T.strokeWidth()),T.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),T.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(T):this.setAttr("strokeStyle",T.stroke()),T._strokeFunc(this),A||this.restore()}}_applyShadow(T){var C,A,R;const E=(C=T.getShadowRGBA())!==null&&C!==void 0?C:"black",U=(A=T.getShadowBlur())!==null&&A!==void 0?A:5,_=(R=T.getShadowOffset())!==null&&R!==void 0?R:{x:0,y:0},M=T.getAbsoluteScale(),P=this.canvas.getPixelRatio(),q=M.x*P,N=M.y*P;this.setAttr("shadowColor",E),this.setAttr("shadowBlur",U*Math.min(Math.abs(q),Math.abs(N))),this.setAttr("shadowOffsetX",_.x*q),this.setAttr("shadowOffsetY",_.y*N)}}us.SceneContext=v;class D extends y{constructor(T){super(T),this._context=T._canvas.getContext("2d",{willReadFrequently:!0})}_fill(T){this.save(),this.setAttr("fillStyle",T.colorKey),T._fillFuncHit(this),this.restore()}strokeShape(T){T.hasHitStroke()&&this._stroke(T)}_stroke(T){if(T.hasHitStroke()){const C=T.getStrokeScaleEnabled();if(!C){this.save();const E=this.getCanvas().getPixelRatio();this.setTransform(E,0,0,E,0,0)}this._applyLineCap(T);const A=T.hitStrokeWidth(),R=A==="auto"?T.strokeWidth():A;this.setAttr("lineWidth",R),this.setAttr("strokeStyle",T.colorKey),T._strokeFuncHit(this),C||this.restore()}}}return us.HitContext=D,us}var vx;function Fv(){if(vx)return cs;vx=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.HitCanvas=cs.SceneCanvas=cs.Canvas=void 0;const n=Mn(),e=WO(),t=vt();let i;function a(){if(i)return i;const h=n.Util.createCanvasElement(),f=h.getContext("2d");return i=function(){const g=t.Konva._global.devicePixelRatio||1,S=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1;return g/S}(),n.Util.releaseCanvas(h),i}let o=class{constructor(f){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const S=(f||{}).pixelRatio||t.Konva.pixelRatio||a();this.pixelRatio=S,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(f){const g=this.pixelRatio;this.pixelRatio=f,this.setSize(this.getWidth()/g,this.getHeight()/g)}setWidth(f){this.width=this._canvas.width=f*this.pixelRatio,this._canvas.style.width=f+"px";const g=this.pixelRatio;this.getContext()._context.scale(g,g)}setHeight(f){this.height=this._canvas.height=f*this.pixelRatio,this._canvas.style.height=f+"px";const g=this.pixelRatio;this.getContext()._context.scale(g,g)}getWidth(){return this.width}getHeight(){return this.height}setSize(f,g){this.setWidth(f||0),this.setHeight(g||0)}toDataURL(f,g){try{return this._canvas.toDataURL(f,g)}catch{try{return this._canvas.toDataURL()}catch(b){return n.Util.error("Unable to get data URL. "+b.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};cs.Canvas=o;class c extends o{constructor(f={width:0,height:0,willReadFrequently:!1}){super(f),this.context=new e.SceneContext(this,{willReadFrequently:f.willReadFrequently}),this.setSize(f.width,f.height)}}cs.SceneCanvas=c;class l extends o{constructor(f={width:0,height:0}){super(f),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(f.width,f.height)}}return cs.HitCanvas=l,cs}var bC={},bx;function F6(){return bx||(bx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=vt(),t=Mn();n.DD={get isDragging(){let i=!1;return n.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return n.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];n.DD._dragElements.forEach((o,c)=>{const{node:l}=o,h=l.getStage();h.setPointersPositions(i),o.pointerId===void 0&&(o.pointerId=t.Util._getFirstPointerId(i));const f=h._changedPointerPositions.find(g=>g.id===o.pointerId);if(f){if(o.dragStatus!=="dragging"){const g=l.dragDistance();if(Math.max(Math.abs(f.x-o.startPointerPos.x),Math.abs(f.y-o.startPointerPos.y))<g||(l.startDrag({evt:i}),!l.isDragging()))return}l._setDragPosition(i,o),a.push(l)}}),a.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:i},!0)})},_endDragBefore(i){const a=[];n.DD._dragElements.forEach(o=>{const{node:c}=o,l=c.getStage();if(i&&l.setPointersPositions(i),!l._changedPointerPositions.find(g=>g.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const f=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;f&&a.indexOf(f)===-1&&a.push(f)}),a.forEach(o=>{o.draw()})},_endDragAfter(i){n.DD._dragElements.forEach((a,o)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&n.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(bC)),bC}var Cx;function Qn(){if(Cx)return H1;Cx=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.Node=void 0;const n=Mn(),e=Tt(),t=Fv(),i=vt(),a=F6(),o=At(),c="absoluteOpacity",l="allEventListeners",h="absoluteTransform",f="absoluteScale",g="canvas",S="Change",b="children",m="konva",y="listening",v="mouseenter",D="mouseleave",x="set",T="Shape",C=" ",A="stage",R="transform",E="Stage",U="visible",_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(C);let M=1,P=class m4{constructor(L){this._id=M++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(L),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(L){(L===R||L===h)&&this._cache.get(L)?this._cache.get(L).dirty=!0:L?this._cache.delete(L):this._cache.clear()}_getCache(L,O){let F=this._cache.get(L);return(F===void 0||(L===R||L===h)&&F.dirty===!0)&&(F=O.call(this),this._cache.set(L,F)),F}_calculate(L,O,F){if(!this._attachedDepsListeners.get(L)){const k=O.map(G=>G+"Change.konva").join(C);this.on(k,()=>{this._clearCache(L)}),this._attachedDepsListeners.set(L,!0)}return this._getCache(L,F)}_getCanvasCache(){return this._cache.get(g)}_clearSelfAndDescendantCache(L){this._clearCache(L),L===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(g)){const{scene:L,filter:O,hit:F}=this._cache.get(g);n.Util.releaseCanvas(L,O,F),this._cache.delete(g)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(L){const O=L||{};let F={};(O.x===void 0||O.y===void 0||O.width===void 0||O.height===void 0)&&(F=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let k=Math.ceil(O.width||F.width),G=Math.ceil(O.height||F.height),W=O.pixelRatio,X=O.x===void 0?Math.floor(F.x):O.x,Q=O.y===void 0?Math.floor(F.y):O.y,Y=O.offset||0,$=O.drawBorder||!1,ee=O.hitCanvasPixelRatio||1;if(!k||!G){n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const re=Math.abs(Math.round(F.x)-X)>.5?1:0,ie=Math.abs(Math.round(F.y)-Q)>.5?1:0;k+=Y*2+re,G+=Y*2+ie,X-=Y,Q-=Y;const fe=new t.SceneCanvas({pixelRatio:W,width:k,height:G}),ne=new t.SceneCanvas({pixelRatio:W,width:0,height:0,willReadFrequently:!0}),oe=new t.HitCanvas({pixelRatio:ee,width:k,height:G}),pe=fe.getContext(),me=oe.getContext();return oe.isCache=!0,fe.isCache=!0,this._cache.delete(g),this._filterUpToDate=!1,O.imageSmoothingEnabled===!1&&(fe.getContext()._context.imageSmoothingEnabled=!1,ne.getContext()._context.imageSmoothingEnabled=!1),pe.save(),me.save(),pe.translate(-X,-Q),me.translate(-X,-Q),this._isUnderCache=!0,this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this.drawScene(fe,this),this.drawHit(oe,this),this._isUnderCache=!1,pe.restore(),me.restore(),$&&(pe.save(),pe.beginPath(),pe.rect(0,0,k,G),pe.closePath(),pe.setAttr("strokeStyle","red"),pe.setAttr("lineWidth",5),pe.stroke(),pe.restore()),this._cache.set(g,{scene:fe,filter:ne,hit:oe,x:X,y:Q}),this._requestDraw(),this}isCached(){return this._cache.has(g)}getClientRect(L){throw new Error('abstract "getClientRect" method call')}_transformedRect(L,O){const F=[{x:L.x,y:L.y},{x:L.x+L.width,y:L.y},{x:L.x+L.width,y:L.y+L.height},{x:L.x,y:L.y+L.height}];let k=1/0,G=1/0,W=-1/0,X=-1/0;const Q=this.getAbsoluteTransform(O);return F.forEach(function(Y){const $=Q.point(Y);k===void 0&&(k=W=$.x,G=X=$.y),k=Math.min(k,$.x),G=Math.min(G,$.y),W=Math.max(W,$.x),X=Math.max(X,$.y)}),{x:k,y:G,width:W-k,height:X-G}}_drawCachedSceneCanvas(L){L.save(),L._applyOpacity(this),L._applyGlobalCompositeOperation(this);const O=this._getCanvasCache();L.translate(O.x,O.y);const F=this._getCachedSceneCanvas(),k=F.pixelRatio;L.drawImage(F._canvas,0,0,F.width/k,F.height/k),L.restore()}_drawCachedHitCanvas(L){const O=this._getCanvasCache(),F=O.hit;L.save(),L.translate(O.x,O.y),L.drawImage(F._canvas,0,0,F.width/F.pixelRatio,F.height/F.pixelRatio),L.restore()}_getCachedSceneCanvas(){let L=this.filters(),O=this._getCanvasCache(),F=O.scene,k=O.filter,G=k.getContext(),W,X,Q,Y;if(L){if(!this._filterUpToDate){const $=F.pixelRatio;k.setSize(F.width/F.pixelRatio,F.height/F.pixelRatio);try{for(W=L.length,G.clear(),G.drawImage(F._canvas,0,0,F.getWidth()/$,F.getHeight()/$),X=G.getImageData(0,0,k.getWidth(),k.getHeight()),Q=0;Q<W;Q++){if(Y=L[Q],typeof Y!="function"){n.Util.error("Filter should be type of function, but got "+typeof Y+" instead. Please check correct filters");continue}Y.call(this,X),G.putImageData(X,0,0)}}catch(ee){n.Util.error("Unable to apply filter. "+ee.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return k}return F}on(L,O){if(this._cache&&this._cache.delete(l),arguments.length===3)return this._delegate.apply(this,arguments);let F=L.split(C),k=F.length,G,W,X,Q,Y;for(G=0;G<k;G++)W=F[G],X=W.split("."),Q=X[0],Y=X[1]||"",this.eventListeners[Q]||(this.eventListeners[Q]=[]),this.eventListeners[Q].push({name:Y,handler:O});return this}off(L,O){let F=(L||"").split(C),k=F.length,G,W,X,Q,Y,$;if(this._cache&&this._cache.delete(l),!L)for(W in this.eventListeners)this._off(W);for(G=0;G<k;G++)if(X=F[G],Q=X.split("."),Y=Q[0],$=Q[1],Y)this.eventListeners[Y]&&this._off(Y,$,O);else for(W in this.eventListeners)this._off(W,$,O);return this}dispatchEvent(L){const O={target:this,type:L.type,evt:L};return this.fire(L.type,O),this}addEventListener(L,O){return this.on(L,function(F){O.call(this,F.evt)}),this}removeEventListener(L){return this.off(L),this}_delegate(L,O,F){const k=this;this.on(L,function(G){const W=G.target.findAncestors(O,!0,k);for(let X=0;X<W.length;X++)G=n.Util.cloneObject(G),G.currentTarget=W[X],F.call(W[X],G)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(A),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(y)}_remove(){this._clearCaches();const L=this.getParent();L&&L.children&&(L.children.splice(this.index,1),L._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(L){const O="get"+n.Util._capitalize(L);return n.Util._isFunction(this[O])?this[O]():this.attrs[L]}getAncestors(){let L=this.getParent(),O=[];for(;L;)O.push(L),L=L.getParent();return O}getAttrs(){return this.attrs||{}}setAttrs(L){return this._batchTransformChanges(()=>{let O,F;if(!L)return this;for(O in L)O!==b&&(F=x+n.Util._capitalize(O),n.Util._isFunction(this[F])?this[F](L[O]):this._setAttr(O,L[O]))}),this}isListening(){return this._getCache(y,this._isListening)}_isListening(L){if(!this.listening())return!1;const F=this.getParent();return F&&F!==L&&this!==L?F._isListening(L):!0}isVisible(){return this._getCache(U,this._isVisible)}_isVisible(L){if(!this.visible())return!1;const F=this.getParent();return F&&F!==L&&this!==L?F._isVisible(L):!0}shouldDrawHit(L,O=!1){if(L)return this._isVisible(L)&&this._isListening(L);const F=this.getLayer();let k=!1;a.DD._dragElements.forEach(W=>{W.dragStatus==="dragging"&&(W.node.nodeType==="Stage"||W.node.getLayer()===F)&&(k=!0)});const G=!O&&!i.Konva.hitOnDragEnabled&&(k||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!G}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let L=this.getDepth(),O=this,F=0,k,G,W,X;function Q($){for(k=[],G=$.length,W=0;W<G;W++)X=$[W],F++,X.nodeType!==T&&(k=k.concat(X.getChildren().slice())),X._id===O._id&&(W=G);k.length>0&&k[0].getDepth()<=L&&Q(k)}const Y=this.getStage();return O.nodeType!==E&&Y&&Q(Y.getChildren()),F}getDepth(){let L=0,O=this.parent;for(;O;)L++,O=O.parent;return L}_batchTransformChanges(L){this._batchingTransformChange=!0,L(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(R),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(L){return this._batchTransformChanges(()=>{this.x(L.x),this.y(L.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const L=this.getStage();if(!L)return null;const O=L.getPointerPosition();if(!O)return null;const F=this.getAbsoluteTransform().copy();return F.invert(),F.point(O)}getAbsolutePosition(L){let O=!1,F=this.parent;for(;F;){if(F.isCached()){O=!0;break}F=F.parent}O&&!L&&(L=!0);const k=this.getAbsoluteTransform(L).getMatrix(),G=new n.Transform,W=this.offset();return G.m=k.slice(),G.translate(W.x,W.y),G.getTranslation()}setAbsolutePosition(L){const{x:O,y:F,...k}=this._clearTransform();this.attrs.x=O,this.attrs.y=F,this._clearCache(R);const G=this._getAbsoluteTransform().copy();return G.invert(),G.translate(L.x,L.y),L={x:this.attrs.x+G.getTranslation().x,y:this.attrs.y+G.getTranslation().y},this._setTransform(k),this.setPosition({x:L.x,y:L.y}),this._clearCache(R),this._clearSelfAndDescendantCache(h),this}_setTransform(L){let O;for(O in L)this.attrs[O]=L[O]}_clearTransform(){const L={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,L}move(L){let O=L.x,F=L.y,k=this.x(),G=this.y();return O!==void 0&&(k+=O),F!==void 0&&(G+=F),this.setPosition({x:k,y:G}),this}_eachAncestorReverse(L,O){let F=[],k=this.getParent(),G,W;if(!(O&&O._id===this._id)){for(F.unshift(this);k&&(!O||k._id!==O._id);)F.unshift(k),k=k.parent;for(G=F.length,W=0;W<G;W++)L(F[W])}}rotate(L){return this.rotation(this.rotation()+L),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const L=this.index,O=this.parent.getChildren().length;return L<O-1?(this.parent.children.splice(L,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;const L=this.index,O=this.parent.getChildren().length;return L<O-1?(this.parent.children.splice(L,1),this.parent.children.splice(L+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.splice(L-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const L=this.index;return L>0?(this.parent.children.splice(L,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(L){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(L<0||L>=this.parent.children.length)&&n.Util.warn("Unexpected value "+L+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const O=this.index;return this.parent.children.splice(O,1),this.parent.children.splice(L,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(c,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let L=this.opacity();const O=this.getParent();return O&&!O._isUnderCache&&(L*=O.getAbsoluteOpacity()),L}moveTo(L){return this.getParent()!==L&&(this._remove(),L.add(this)),this}toObject(){let L=this.getAttrs(),O,F,k,G,W;const X={attrs:{},className:this.getClassName()};for(O in L)F=L[O],W=n.Util.isObject(F)&&!n.Util._isPlainObject(F)&&!n.Util._isArray(F),!W&&(k=typeof this[O]=="function"&&this[O],delete L[O],G=k?k.call(this):null,L[O]=F,G!==F&&(X.attrs[O]=F));return n.Util._prepareToStringify(X)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(L,O,F){const k=[];O&&this._isMatch(L)&&k.push(this);let G=this.parent;for(;G;){if(G===F)return k;G._isMatch(L)&&k.push(G),G=G.parent}return k}isAncestorOf(L){return!1}findAncestor(L,O,F){return this.findAncestors(L,O,F)[0]}_isMatch(L){if(!L)return!1;if(typeof L=="function")return L(this);let O=L.replace(/ /g,"").split(","),F=O.length,k,G;for(k=0;k<F;k++)if(G=O[k],n.Util.isValidSelector(G)||(n.Util.warn('Selector "'+G+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),G.charAt(0)==="#"){if(this.id()===G.slice(1))return!0}else if(G.charAt(0)==="."){if(this.hasName(G.slice(1)))return!0}else if(this.className===G||this.nodeType===G)return!0;return!1}getLayer(){const L=this.getParent();return L?L.getLayer():null}getStage(){return this._getCache(A,this._getStage)}_getStage(){const L=this.getParent();return L?L.getStage():null}fire(L,O={},F){return O.target=O.target||this,F?this._fireAndBubble(L,O):this._fire(L,O),this}getAbsoluteTransform(L){return L?this._getAbsoluteTransform(L):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(L){let O;if(L)return O=new n.Transform,this._eachAncestorReverse(function(F){const k=F.transformsEnabled();k==="all"?O.multiply(F.getTransform()):k==="position"&&O.translate(F.x()-F.offsetX(),F.y()-F.offsetY())},L),O;{O=this._cache.get(h)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(O):O.reset();const F=this.transformsEnabled();if(F==="all")O.multiply(this.getTransform());else if(F==="position"){const k=this.attrs.x||0,G=this.attrs.y||0,W=this.attrs.offsetX||0,X=this.attrs.offsetY||0;O.translate(k-W,G-X)}return O.dirty=!1,O}}getAbsoluteScale(L){let O=this;for(;O;)O._isUnderCache&&(L=O),O=O.getParent();const k=this.getAbsoluteTransform(L).decompose();return{x:k.scaleX,y:k.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(R,this._getTransform)}_getTransform(){var L,O;const F=this._cache.get(R)||new n.Transform;F.reset();const k=this.x(),G=this.y(),W=i.Konva.getAngle(this.rotation()),X=(L=this.attrs.scaleX)!==null&&L!==void 0?L:1,Q=(O=this.attrs.scaleY)!==null&&O!==void 0?O:1,Y=this.attrs.skewX||0,$=this.attrs.skewY||0,ee=this.attrs.offsetX||0,re=this.attrs.offsetY||0;return(k!==0||G!==0)&&F.translate(k,G),W!==0&&F.rotate(W),(Y!==0||$!==0)&&F.skew(Y,$),(X!==1||Q!==1)&&F.scale(X,Q),(ee!==0||re!==0)&&F.translate(-1*ee,-1*re),F.dirty=!1,F}clone(L){let O=n.Util.cloneObject(this.attrs),F,k,G,W,X;for(F in L)O[F]=L[F];const Q=new this.constructor(O);for(F in this.eventListeners)for(k=this.eventListeners[F],G=k.length,W=0;W<G;W++)X=k[W],X.name.indexOf(m)<0&&(Q.eventListeners[F]||(Q.eventListeners[F]=[]),Q.eventListeners[F].push(X));return Q}_toKonvaCanvas(L){L=L||{};const O=this.getClientRect(),F=this.getStage(),k=L.x!==void 0?L.x:Math.floor(O.x),G=L.y!==void 0?L.y:Math.floor(O.y),W=L.pixelRatio||1,X=new t.SceneCanvas({width:L.width||Math.ceil(O.width)||(F?F.width():0),height:L.height||Math.ceil(O.height)||(F?F.height():0),pixelRatio:W}),Q=X.getContext(),Y=new t.SceneCanvas({width:X.width/X.pixelRatio+Math.abs(k),height:X.height/X.pixelRatio+Math.abs(G),pixelRatio:X.pixelRatio});return L.imageSmoothingEnabled===!1&&(Q._context.imageSmoothingEnabled=!1),Q.save(),(k||G)&&Q.translate(-1*k,-1*G),this.drawScene(X,void 0,Y),Q.restore(),X}toCanvas(L){return this._toKonvaCanvas(L)._canvas}toDataURL(L){L=L||{};const O=L.mimeType||null,F=L.quality||null,k=this._toKonvaCanvas(L).toDataURL(O,F);return L.callback&&L.callback(k),k}toImage(L){return new Promise((O,F)=>{try{const k=L==null?void 0:L.callback;k&&delete L.callback,n.Util._urlToImage(this.toDataURL(L),function(G){O(G),k==null||k(G)})}catch(k){F(k)}})}toBlob(L){return new Promise((O,F)=>{try{const k=L==null?void 0:L.callback;k&&delete L.callback,this.toCanvas(L).toBlob(G=>{O(G),k==null||k(G)},L==null?void 0:L.mimeType,L==null?void 0:L.quality)}catch(k){F(k)}})}setSize(L){return this.width(L.width),this.height(L.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(L,O,F){let k=this.eventListeners[L],G,W,X;for(G=0;G<k.length;G++)if(W=k[G].name,X=k[G].handler,(W!=="konva"||O==="konva")&&(!O||W===O)&&(!F||F===X)){if(k.splice(G,1),k.length===0){delete this.eventListeners[L];break}G--}}_fireChangeEvent(L,O,F){this._fire(L+S,{oldVal:O,newVal:F})}addName(L){if(!this.hasName(L)){const O=this.name(),F=O?O+" "+L:L;this.name(F)}return this}hasName(L){if(!L)return!1;const O=this.name();return O?(O||"").split(/\s/g).indexOf(L)!==-1:!1}removeName(L){const O=(this.name()||"").split(/\s/g),F=O.indexOf(L);return F!==-1&&(O.splice(F,1),this.name(O.join(" "))),this}setAttr(L,O){const F=this[x+n.Util._capitalize(L)];return n.Util._isFunction(F)?F.call(this,O):this._setAttr(L,O),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const L=this.getLayer()||this.getStage();L==null||L.batchDraw()}}_setAttr(L,O){const F=this.attrs[L];F===O&&!n.Util.isObject(O)||(O==null?delete this.attrs[L]:this.attrs[L]=O,this._shouldFireChangeEvents&&this._fireChangeEvent(L,F,O),this._requestDraw())}_setComponentAttr(L,O,F){let k;F!==void 0&&(k=this.attrs[L],k||(this.attrs[L]=this.getAttr(L)),this.attrs[L][O]=F,this._fireChangeEvent(L,k,F))}_fireAndBubble(L,O,F){if(O&&this.nodeType===T&&(O.target=this),!((L===v||L===D)&&(F&&(this===F||this.isAncestorOf&&this.isAncestorOf(F))||this.nodeType==="Stage"&&!F))){this._fire(L,O);const G=(L===v||L===D)&&F&&F.isAncestorOf&&F.isAncestorOf(this)&&!F.isAncestorOf(this.parent);(O&&!O.cancelBubble||!O)&&this.parent&&this.parent.isListening()&&!G&&(F&&F.parent?this._fireAndBubble.call(this.parent,L,O,F):this._fireAndBubble.call(this.parent,L,O))}}_getProtoListeners(L){var O,F,k;const G=(O=this._cache.get(l))!==null&&O!==void 0?O:{};let W=G==null?void 0:G[L];if(W===void 0){W=[];let X=Object.getPrototypeOf(this);for(;X;){const Q=(k=(F=X.eventListeners)===null||F===void 0?void 0:F[L])!==null&&k!==void 0?k:[];W.push(...Q),X=Object.getPrototypeOf(X)}G[L]=W,this._cache.set(l,G)}return W}_fire(L,O){O=O||{},O.currentTarget=this,O.type=L;const F=this._getProtoListeners(L);if(F)for(var k=0;k<F.length;k++)F[k].handler.call(this,O);const G=this.eventListeners[L];if(G)for(var k=0;k<G.length;k++)G[k].handler.call(this,O)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(L){const O=L?L.pointerId:void 0,F=this.getStage(),k=this.getAbsolutePosition();if(!F)return;const G=F._getPointerById(O)||F._changedPointerPositions[0]||k;a.DD._dragElements.set(this._id,{node:this,startPointerPos:G,offset:{x:G.x-k.x,y:G.y-k.y},dragStatus:"ready",pointerId:O})}startDrag(L,O=!0){a.DD._dragElements.has(this._id)||this._createDragElement(L);const F=a.DD._dragElements.get(this._id);F.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:L&&L.evt},O)}_setDragPosition(L,O){const F=this.getStage()._getPointerById(O.pointerId);if(!F)return;let k={x:F.x-O.offset.x,y:F.y-O.offset.y};const G=this.dragBoundFunc();if(G!==void 0){const W=G.call(this,k,L);W?k=W:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==k.x||this._lastPos.y!==k.y)&&(this.setAbsolutePosition(k),this._requestDraw()),this._lastPos=k}stopDrag(L){const O=a.DD._dragElements.get(this._id);O&&(O.dragStatus="stopped"),a.DD._endDragBefore(L),a.DD._endDragAfter(L)}setDraggable(L){this._setAttr("draggable",L),this._dragChange()}isDragging(){const L=a.DD._dragElements.get(this._id);return L?L.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(L){if(!(!(L.evt.button!==void 0)||i.Konva.dragButtons.indexOf(L.evt.button)>=0)||this.isDragging())return;let k=!1;a.DD._dragElements.forEach(G=>{this.isAncestorOf(G.node)&&(k=!0)}),k||this._createDragElement(L)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const O=a.DD._dragElements.get(this._id),F=O&&O.dragStatus==="dragging",k=O&&O.dragStatus==="ready";F?this.stopDrag():k&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(L={x:0,y:0}){const O=this.getStage();if(!O)return!1;const F={x:-L.x,y:-L.y,width:O.width()+2*L.x,height:O.height()+2*L.y};return n.Util.haveIntersection(F,this.getClientRect())}static create(L,O){return n.Util._isString(L)&&(L=JSON.parse(L)),this._createNode(L,O)}static _createNode(L,O){let F=m4.prototype.getClassName.call(L),k=L.children,G,W,X;O&&(L.attrs.container=O),i.Konva[F]||(n.Util.warn('Can not find a node with class name "'+F+'". Fallback to "Shape".'),F="Shape");const Q=i.Konva[F];if(G=new Q(L.attrs),k)for(W=k.length,X=0;X<W;X++)G.add(m4._createNode(k[X]));return G}};H1.Node=P,P.prototype.nodeType="Node",P.prototype._attrsAffectingSize=[],P.prototype.eventListeners={},P.prototype.on.call(P.prototype,_,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(R),this._clearSelfAndDescendantCache(h)}),P.prototype.on.call(P.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(U)}),P.prototype.on.call(P.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(y)}),P.prototype.on.call(P.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(c)});const q=e.Factory.addGetterSetter;return q(P,"zIndex"),q(P,"absolutePosition"),q(P,"position"),q(P,"x",0,(0,o.getNumberValidator)()),q(P,"y",0,(0,o.getNumberValidator)()),q(P,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),q(P,"opacity",1,(0,o.getNumberValidator)()),q(P,"name","",(0,o.getStringValidator)()),q(P,"id","",(0,o.getStringValidator)()),q(P,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"scale",["x","y"]),q(P,"scaleX",1,(0,o.getNumberValidator)()),q(P,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"skew",["x","y"]),q(P,"skewX",0,(0,o.getNumberValidator)()),q(P,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(P,"offset",["x","y"]),q(P,"offsetX",0,(0,o.getNumberValidator)()),q(P,"offsetY",0,(0,o.getNumberValidator)()),q(P,"dragDistance",void 0,(0,o.getNumberValidator)()),q(P,"width",0,(0,o.getNumberValidator)()),q(P,"height",0,(0,o.getNumberValidator)()),q(P,"listening",!0,(0,o.getBooleanValidator)()),q(P,"preventDefault",!0,(0,o.getBooleanValidator)()),q(P,"filters",void 0,function(N){return this._filterUpToDate=!1,N}),q(P,"visible",!0,(0,o.getBooleanValidator)()),q(P,"transformsEnabled","all",(0,o.getStringValidator)()),q(P,"size"),q(P,"dragBoundFunc"),q(P,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(P,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),H1}var j1={},Dx;function kv(){if(Dx)return j1;Dx=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.Container=void 0;const n=Tt(),e=Qn(),t=At();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const c=this.children||[],l=[];return c.forEach(function(h){o(h)&&l.push(h)}),l}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let l=0;l<o.length;l++)this.add(o[l]);return this}const c=o[0];return c.getParent()?(c.moveTo(this),this):(this._validateAdd(c),c.index=this.getChildren().length,c.parent=this,c._clearCaches(),this.getChildren().push(c),this._fire("add",{child:c}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const c=this._generalFind(o,!0);return c.length>0?c[0]:void 0}_generalFind(o,c){const l=[];return this._descendants(h=>{const f=h._isMatch(o);return f&&l.push(h),!!(f&&c)}),l}_descendants(o){let c=!1;const l=this.getChildren();for(const h of l){if(c=o(h),c)return!0;if(h.hasChildren()&&(c=h._descendants(o),c))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(c=>{o.children.push(c.toObject())}),o}isAncestorOf(o){let c=o.getParent();for(;c;){if(c._id===this._id)return!0;c=c.getParent()}return!1}clone(o){const c=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(l){c.add(l.clone())}),c}getAllIntersections(o){const c=[];return this.find("Shape").forEach(l=>{l.isVisible()&&l.intersects(o)&&c.push(l)}),c}_clearSelfAndDescendantCache(o){var c;super._clearSelfAndDescendantCache(o),!this.isCached()&&((c=this.children)===null||c===void 0||c.forEach(function(l){l._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(c,l){c.index=l}),this._requestDraw()}drawScene(o,c,l){const h=this.getLayer(),f=o||h&&h.getCanvas(),g=f&&f.getContext(),S=this._getCanvasCache(),b=S&&S.scene,m=f&&f.isCache;if(!this.isVisible()&&!m)return this;if(b){g.save();const y=this.getAbsoluteTransform(c).getMatrix();g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedSceneCanvas(g),g.restore()}else this._drawChildren("drawScene",f,c,l);return this}drawHit(o,c){if(!this.shouldDrawHit(c))return this;const l=this.getLayer(),h=o||l&&l.hitCanvas,f=h&&h.getContext(),g=this._getCanvasCache();if(g&&g.hit){f.save();const b=this.getAbsoluteTransform(c).getMatrix();f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",h,c);return this}_drawChildren(o,c,l,h){var f;const g=c&&c.getContext(),S=this.clipWidth(),b=this.clipHeight(),m=this.clipFunc(),y=typeof S=="number"&&typeof b=="number"||m,v=l===this;if(y){g.save();const x=this.getAbsoluteTransform(l);let T=x.getMatrix();g.transform(T[0],T[1],T[2],T[3],T[4],T[5]),g.beginPath();let C;if(m)C=m.call(this,g,this);else{const A=this.clipX(),R=this.clipY();g.rect(A||0,R||0,S,b)}g.clip.apply(g,C),T=x.copy().invert().getMatrix(),g.transform(T[0],T[1],T[2],T[3],T[4],T[5])}const D=!v&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";D&&(g.save(),g._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(x){x[o](c,l,h)}),D&&g.restore(),y&&g.restore()}getClientRect(o={}){var c;const l=o.skipTransform,h=o.relativeTo;let f,g,S,b,m={x:1/0,y:1/0,width:0,height:0};const y=this;(c=this.children)===null||c===void 0||c.forEach(function(x){if(!x.visible())return;const T=x.getClientRect({relativeTo:y,skipShadow:o.skipShadow,skipStroke:o.skipStroke});T.width===0&&T.height===0||(f===void 0?(f=T.x,g=T.y,S=T.x+T.width,b=T.y+T.height):(f=Math.min(f,T.x),g=Math.min(g,T.y),S=Math.max(S,T.x+T.width),b=Math.max(b,T.y+T.height)))});const v=this.find("Shape");let D=!1;for(let x=0;x<v.length;x++)if(v[x]._isVisible(this)){D=!0;break}return D&&f!==void 0?m={x:f,y:g,width:S-f,height:b-g}:m={x:0,y:0,width:0,height:0},l?m:this._transformedRect(m,h)}};return j1.Container=i,n.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(i,"clipX",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipY",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipWidth",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipHeight",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipFunc"),j1}var CC={},Ll={},Tx;function $O(){if(Tx)return Ll;Tx=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.getCapturedShape=i,Ll.createEvent=a,Ll.hasPointerCapture=o,Ll.setPointerCapture=c,Ll.releaseCapture=l;const n=vt(),e=new Map,t=n.Konva._global.PointerEvent!==void 0;function i(h){return e.get(h)}function a(h){return{evt:h,pointerId:h.pointerId}}function o(h,f){return e.get(h)===f}function c(h,f){l(h),f.getStage()&&(e.set(h,f),t&&f._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function l(h,f){const g=e.get(h);if(!g)return;const S=g.getStage();S&&S.content,e.delete(h),t&&g._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return Ll}var wx;function Dz(){return wx||(wx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=Mn(),t=Tt(),i=kv(),a=vt(),o=Fv(),c=F6(),l=vt(),h=$O(),f="Stage",g="string",S="px",b="mouseout",m="mouseleave",y="mouseover",v="mouseenter",D="mousemove",x="mousedown",T="mouseup",C="pointermove",A="pointerdown",R="pointerup",E="pointercancel",U="lostpointercapture",_="pointerout",M="pointerleave",P="pointerover",q="pointerenter",N="contextmenu",L="touchstart",O="touchend",F="touchmove",k="touchcancel",G="wheel",W=5,X=[[v,"_pointerenter"],[x,"_pointerdown"],[D,"_pointermove"],[T,"_pointerup"],[m,"_pointerleave"],[L,"_pointerdown"],[F,"_pointermove"],[O,"_pointerup"],[k,"_pointercancel"],[y,"_pointerover"],[G,"_wheel"],[N,"_contextmenu"],[A,"_pointerdown"],[C,"_pointermove"],[R,"_pointerup"],[E,"_pointercancel"],[U,"_lostpointercapture"]],Q={mouse:{[_]:b,[M]:m,[P]:y,[q]:v,[C]:D,[A]:x,[R]:T,[E]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[_]:"touchout",[M]:"touchleave",[P]:"touchover",[q]:"touchenter",[C]:F,[A]:L,[R]:O,[E]:k,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[_]:_,[M]:M,[P]:P,[q]:q,[C]:C,[A]:A,[R]:R,[E]:E,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y=fe=>fe.indexOf("pointer")>=0?"pointer":fe.indexOf("touch")>=0?"touch":"mouse",$=fe=>{const ne=Y(fe);if(ne==="pointer")return a.Konva.pointerEventsEnabled&&Q.pointer;if(ne==="touch")return Q.touch;if(ne==="mouse")return Q.mouse};function ee(fe={}){return(fe.clipFunc||fe.clipWidth||fe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),fe}const re="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class ie extends i.Container{constructor(ne){super(ee(ne)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ee(this.attrs)}),this._checkVisibility()}_validateAdd(ne){const oe=ne.getType()==="Layer",pe=ne.getType()==="FastLayer";oe||pe||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const ne=this.visible()?"":"none";this.content.style.display=ne}setContainer(ne){if(typeof ne===g){if(ne.charAt(0)==="."){const pe=ne.slice(1);ne=document.getElementsByClassName(pe)[0]}else{var oe;ne.charAt(0)!=="#"?oe=ne:oe=ne.slice(1),ne=document.getElementById(oe)}if(!ne)throw"Can not find container in document with id "+oe}return this._setAttr("container",ne),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),ne.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const ne=this.children,oe=ne.length;for(let pe=0;pe<oe;pe++)ne[pe].clear();return this}clone(ne){return ne||(ne={}),ne.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,ne)}destroy(){super.destroy();const ne=this.content;ne&&e.Util._isInDocument(ne)&&this.container().removeChild(ne);const oe=n.stages.indexOf(this);return oe>-1&&n.stages.splice(oe,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const ne=this._pointerPositions[0]||this._changedPointerPositions[0];return ne?{x:ne.x,y:ne.y}:(e.Util.warn(re),null)}_getPointerById(ne){return this._pointerPositions.find(oe=>oe.id===ne)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(ne){ne=ne||{},ne.x=ne.x||0,ne.y=ne.y||0,ne.width=ne.width||this.width(),ne.height=ne.height||this.height();const oe=new o.SceneCanvas({width:ne.width,height:ne.height,pixelRatio:ne.pixelRatio||1}),pe=oe.getContext()._context,me=this.children;return(ne.x||ne.y)&&pe.translate(-1*ne.x,-1*ne.y),me.forEach(function(xe){if(!xe.isVisible())return;const Oe=xe._toKonvaCanvas(ne);pe.drawImage(Oe._canvas,ne.x,ne.y,Oe.getWidth()/Oe.getPixelRatio(),Oe.getHeight()/Oe.getPixelRatio())}),oe}getIntersection(ne){if(!ne)return null;const oe=this.children,pe=oe.length,me=pe-1;for(let xe=me;xe>=0;xe--){const Oe=oe[xe].getIntersection(ne);if(Oe)return Oe}return null}_resizeDOM(){const ne=this.width(),oe=this.height();this.content&&(this.content.style.width=ne+S,this.content.style.height=oe+S),this.bufferCanvas.setSize(ne,oe),this.bufferHitCanvas.setSize(ne,oe),this.children.forEach(pe=>{pe.setSize({width:ne,height:oe}),pe.draw()})}add(ne,...oe){if(arguments.length>1){for(let me=0;me<arguments.length;me++)this.add(arguments[me]);return this}super.add(ne);const pe=this.children.length;return pe>W&&e.Util.warn("The stage has "+pe+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),ne.setSize({width:this.width(),height:this.height()}),ne.draw(),a.Konva.isBrowser&&this.content.appendChild(ne.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(ne){return h.hasPointerCapture(ne,this)}setPointerCapture(ne){h.setPointerCapture(ne,this)}releaseCapture(ne){h.releaseCapture(ne,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&X.forEach(([ne,oe])=>{this.content.addEventListener(ne,pe=>{this[oe](pe)},{passive:!1})})}_pointerenter(ne){this.setPointersPositions(ne);const oe=$(ne.type);oe&&this._fire(oe.pointerenter,{evt:ne,target:this,currentTarget:this})}_pointerover(ne){this.setPointersPositions(ne);const oe=$(ne.type);oe&&this._fire(oe.pointerover,{evt:ne,target:this,currentTarget:this})}_getTargetShape(ne){let oe=this[ne+"targetShape"];return oe&&!oe.getStage()&&(oe=null),oe}_pointerleave(ne){const oe=$(ne.type),pe=Y(ne.type);if(!oe)return;this.setPointersPositions(ne);const me=this._getTargetShape(pe),xe=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;me&&xe?(me._fireAndBubble(oe.pointerout,{evt:ne}),me._fireAndBubble(oe.pointerleave,{evt:ne}),this._fire(oe.pointerleave,{evt:ne,target:this,currentTarget:this}),this[pe+"targetShape"]=null):xe&&(this._fire(oe.pointerleave,{evt:ne,target:this,currentTarget:this}),this._fire(oe.pointerout,{evt:ne,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(ne){const oe=$(ne.type),pe=Y(ne.type);if(!oe)return;this.setPointersPositions(ne);let me=!1;this._changedPointerPositions.forEach(xe=>{const Oe=this.getIntersection(xe);if(c.DD.justDragged=!1,a.Konva["_"+pe+"ListenClick"]=!0,!Oe||!Oe.isListening()){this[pe+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&Oe.setPointerCapture(xe.id),this[pe+"ClickStartShape"]=Oe,Oe._fireAndBubble(oe.pointerdown,{evt:ne,pointerId:xe.id}),me=!0;const Be=ne.type.indexOf("touch")>=0;Oe.preventDefault()&&ne.cancelable&&Be&&ne.preventDefault()}),me||this._fire(oe.pointerdown,{evt:ne,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(ne){const oe=$(ne.type),pe=Y(ne.type);if(!oe||(a.Konva.isDragging()&&c.DD.node.preventDefault()&&ne.cancelable&&ne.preventDefault(),this.setPointersPositions(ne),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const xe={};let Oe=!1;const Be=this._getTargetShape(pe);this._changedPointerPositions.forEach(B=>{const ge=h.getCapturedShape(B.id)||this.getIntersection(B),ye=B.id,J={evt:ne,pointerId:ye},Z=Be!==ge;if(Z&&Be&&(Be._fireAndBubble(oe.pointerout,{...J},ge),Be._fireAndBubble(oe.pointerleave,{...J},ge)),ge){if(xe[ge._id])return;xe[ge._id]=!0}ge&&ge.isListening()?(Oe=!0,Z&&(ge._fireAndBubble(oe.pointerover,{...J},Be),ge._fireAndBubble(oe.pointerenter,{...J},Be),this[pe+"targetShape"]=ge),ge._fireAndBubble(oe.pointermove,{...J})):Be&&(this._fire(oe.pointerover,{evt:ne,target:this,currentTarget:this,pointerId:ye}),this[pe+"targetShape"]=null)}),Oe||this._fire(oe.pointermove,{evt:ne,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(ne){const oe=$(ne.type),pe=Y(ne.type);if(!oe)return;this.setPointersPositions(ne);const me=this[pe+"ClickStartShape"],xe=this[pe+"ClickEndShape"],Oe={};let Be=!1;this._changedPointerPositions.forEach(B=>{const ge=h.getCapturedShape(B.id)||this.getIntersection(B);if(ge){if(ge.releaseCapture(B.id),Oe[ge._id])return;Oe[ge._id]=!0}const ye=B.id,J={evt:ne,pointerId:ye};let Z=!1;a.Konva["_"+pe+"InDblClickWindow"]?(Z=!0,clearTimeout(this[pe+"DblTimeout"])):c.DD.justDragged||(a.Konva["_"+pe+"InDblClickWindow"]=!0,clearTimeout(this[pe+"DblTimeout"])),this[pe+"DblTimeout"]=setTimeout(function(){a.Konva["_"+pe+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),ge&&ge.isListening()?(Be=!0,this[pe+"ClickEndShape"]=ge,ge._fireAndBubble(oe.pointerup,{...J}),a.Konva["_"+pe+"ListenClick"]&&me&&me===ge&&(ge._fireAndBubble(oe.pointerclick,{...J}),Z&&xe&&xe===ge&&ge._fireAndBubble(oe.pointerdblclick,{...J}))):(this[pe+"ClickEndShape"]=null,a.Konva["_"+pe+"ListenClick"]&&this._fire(oe.pointerclick,{evt:ne,target:this,currentTarget:this,pointerId:ye}),Z&&this._fire(oe.pointerdblclick,{evt:ne,target:this,currentTarget:this,pointerId:ye}))}),Be||this._fire(oe.pointerup,{evt:ne,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+pe+"ListenClick"]=!1,ne.cancelable&&pe!=="touch"&&pe!=="pointer"&&ne.preventDefault()}_contextmenu(ne){this.setPointersPositions(ne);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(N,{evt:ne}):this._fire(N,{evt:ne,target:this,currentTarget:this})}_wheel(ne){this.setPointersPositions(ne);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(G,{evt:ne}):this._fire(G,{evt:ne,target:this,currentTarget:this})}_pointercancel(ne){this.setPointersPositions(ne);const oe=h.getCapturedShape(ne.pointerId)||this.getIntersection(this.getPointerPosition());oe&&oe._fireAndBubble(R,h.createEvent(ne)),h.releaseCapture(ne.pointerId)}_lostpointercapture(ne){h.releaseCapture(ne.pointerId)}setPointersPositions(ne){const oe=this._getContentPosition();let pe=null,me=null;ne=ne||window.event,ne.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(ne.touches,xe=>{this._pointerPositions.push({id:xe.identifier,x:(xe.clientX-oe.left)/oe.scaleX,y:(xe.clientY-oe.top)/oe.scaleY})}),Array.prototype.forEach.call(ne.changedTouches||ne.touches,xe=>{this._changedPointerPositions.push({id:xe.identifier,x:(xe.clientX-oe.left)/oe.scaleX,y:(xe.clientY-oe.top)/oe.scaleY})})):(pe=(ne.clientX-oe.left)/oe.scaleX,me=(ne.clientY-oe.top)/oe.scaleY,this.pointerPos={x:pe,y:me},this._pointerPositions=[{x:pe,y:me,id:e.Util._getFirstPointerId(ne)}],this._changedPointerPositions=[{x:pe,y:me,id:e.Util._getFirstPointerId(ne)}])}_setPointerPosition(ne){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(ne)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const ne=this.content.getBoundingClientRect();return{top:ne.top,left:ne.left,scaleX:ne.width/this.content.clientWidth||1,scaleY:ne.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const ne=this.container();if(!ne)throw"Stage has no container. A container is required.";ne.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),ne.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(ne){ne.batchDraw()}),this}}n.Stage=ie,ie.prototype.nodeType=f,(0,l._registerNode)(ie),t.Factory.addGetterSetter(ie,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(fe=>{fe.batchDraw()})})}(CC)),CC}var Y1={},DC={},xx;function yi(){return xx||(xx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=vt(),t=Mn(),i=Tt(),a=Qn(),o=At(),c=vt(),l=$O(),h="hasShadow",f="shadowRGBA",g="patternImage",S="linearGradient",b="radialGradient";let m;function y(){return m||(m=t.Util.createCanvasElement().getContext("2d"),m)}n.shapes={};function v(M){const P=this.attrs.fillRule;P?M.fill(P):M.fill()}function D(M){M.stroke()}function x(M){const P=this.attrs.fillRule;P?M.fill(P):M.fill()}function T(M){M.stroke()}function C(){this._clearCache(h)}function A(){this._clearCache(f)}function R(){this._clearCache(g)}function E(){this._clearCache(S)}function U(){this._clearCache(b)}class _ extends a.Node{constructor(P){super(P);let q;for(;q=t.Util.getRandomColor(),!(q&&!(q in n.shapes)););this.colorKey=q,n.shapes[q]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(g,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const q=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(q&&q.setTransform){const N=new t.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(e.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const L=N.getMatrix(),O=typeof DOMMatrix>"u"?{a:L[0],b:L[1],c:L[2],d:L[3],e:L[4],f:L[5]}:new DOMMatrix(L);q.setTransform(O)}return q}}_getLinearGradient(){return this._getCache(S,this.__getLinearGradient)}__getLinearGradient(){const P=this.fillLinearGradientColorStops();if(P){const q=y(),N=this.fillLinearGradientStartPoint(),L=this.fillLinearGradientEndPoint(),O=q.createLinearGradient(N.x,N.y,L.x,L.y);for(let F=0;F<P.length;F+=2)O.addColorStop(P[F],P[F+1]);return O}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const P=this.fillRadialGradientColorStops();if(P){const q=y(),N=this.fillRadialGradientStartPoint(),L=this.fillRadialGradientEndPoint(),O=q.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),L.x,L.y,this.fillRadialGradientEndRadius());for(let F=0;F<P.length;F+=2)O.addColorStop(P[F],P[F+1]);return O}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const P=t.Util.colorToRGBA(this.shadowColor());if(P)return"rgba("+P.r+","+P.g+","+P.b+","+P.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const P=this.hitStrokeWidth();return P==="auto"?this.hasStroke():this.strokeEnabled()&&!!P}intersects(P){const q=this.getStage();if(!q)return!1;const N=q.bufferHitCanvas;return N.getContext().clear(),this.drawHit(N,void 0,!0),N.context.getImageData(Math.round(P.x),Math.round(P.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(P){var q;if(!((q=this.attrs.perfectDrawEnabled)!==null&&q!==void 0?q:!0))return!1;const L=P||this.hasFill(),O=this.hasStroke(),F=this.getAbsoluteOpacity()!==1;if(L&&O&&F)return!0;const k=this.hasShadow(),G=this.shadowForStrokeEnabled();return!!(L&&O&&k&&G)}setStrokeHitEnabled(P){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),P?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const P=this.size();return{x:this._centroid?-P.width/2:0,y:this._centroid?-P.height/2:0,width:P.width,height:P.height}}getClientRect(P={}){let q=!1,N=this.getParent();for(;N;){if(N.isCached()){q=!0;break}N=N.getParent()}const L=P.skipTransform,O=P.relativeTo||q&&this.getStage()||void 0,F=this.getSelfRect(),G=!P.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,W=F.width+G,X=F.height+G,Q=!P.skipShadow&&this.hasShadow(),Y=Q?this.shadowOffsetX():0,$=Q?this.shadowOffsetY():0,ee=W+Math.abs(Y),re=X+Math.abs($),ie=Q&&this.shadowBlur()||0,fe=ee+ie*2,ne=re+ie*2,oe={width:fe,height:ne,x:-(G/2+ie)+Math.min(Y,0)+F.x,y:-(G/2+ie)+Math.min($,0)+F.y};return L?oe:this._transformedRect(oe,O)}drawScene(P,q,N){const L=this.getLayer();let O=P||L.getCanvas(),F=O.getContext(),k=this._getCanvasCache(),G=this.getSceneFunc(),W=this.hasShadow(),X,Q;const Y=O.isCache,$=q===this;if(!this.isVisible()&&!$)return this;if(k){F.save();const re=this.getAbsoluteTransform(q).getMatrix();return F.transform(re[0],re[1],re[2],re[3],re[4],re[5]),this._drawCachedSceneCanvas(F),F.restore(),this}if(!G)return this;if(F.save(),this._useBufferCanvas()&&!Y){X=this.getStage();const re=N||X.bufferCanvas;Q=re.getContext(),Q.clear(),Q.save(),Q._applyLineJoin(this);var ee=this.getAbsoluteTransform(q).getMatrix();Q.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),G.call(this,Q,this),Q.restore();const ie=re.pixelRatio;W&&F._applyShadow(this),F._applyOpacity(this),F._applyGlobalCompositeOperation(this),F.drawImage(re._canvas,0,0,re.width/ie,re.height/ie)}else{if(F._applyLineJoin(this),!$){var ee=this.getAbsoluteTransform(q).getMatrix();F.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),F._applyOpacity(this),F._applyGlobalCompositeOperation(this)}W&&F._applyShadow(this),G.call(this,F,this)}return F.restore(),this}drawHit(P,q,N=!1){if(!this.shouldDrawHit(q,N))return this;const L=this.getLayer(),O=P||L.hitCanvas,F=O&&O.getContext(),k=this.hitFunc()||this.sceneFunc(),G=this._getCanvasCache(),W=G&&G.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),W){F.save();const Q=this.getAbsoluteTransform(q).getMatrix();return F.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),this._drawCachedHitCanvas(F),F.restore(),this}if(!k)return this;if(F.save(),F._applyLineJoin(this),!(this===q)){const Q=this.getAbsoluteTransform(q).getMatrix();F.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}return k.call(this,F,this),F.restore(),this}drawHitFromCache(P=0){const q=this._getCanvasCache(),N=this._getCachedSceneCanvas(),L=q.hit,O=L.getContext(),F=L.getWidth(),k=L.getHeight();O.clear(),O.drawImage(N._canvas,0,0,F,k);try{const G=O.getImageData(0,0,F,k),W=G.data,X=W.length,Q=t.Util._hexToRgb(this.colorKey);for(let Y=0;Y<X;Y+=4)W[Y+3]>P?(W[Y]=Q.r,W[Y+1]=Q.g,W[Y+2]=Q.b,W[Y+3]=255):W[Y+3]=0;O.putImageData(G,0,0)}catch(G){t.Util.error("Unable to draw hit graph from cached scene canvas. "+G.message)}return this}hasPointerCapture(P){return l.hasPointerCapture(P,this)}setPointerCapture(P){l.setPointerCapture(P,this)}releaseCapture(P){l.releaseCapture(P,this)}}n.Shape=_,_.prototype._fillFunc=v,_.prototype._strokeFunc=D,_.prototype._fillFuncHit=x,_.prototype._strokeFuncHit=T,_.prototype._centroid=!1,_.prototype.nodeType="Shape",(0,c._registerNode)(_),_.prototype.eventListeners={},_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",A),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",R),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",E),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),i.Factory.addGetterSetter(_,"stroke",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(_,"strokeWidth",2,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(_,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(_,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"lineJoin"),i.Factory.addGetterSetter(_,"lineCap"),i.Factory.addGetterSetter(_,"sceneFunc"),i.Factory.addGetterSetter(_,"hitFunc"),i.Factory.addGetterSetter(_,"dash"),i.Factory.addGetterSetter(_,"dashOffset",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowColor",void 0,(0,o.getStringValidator)()),i.Factory.addGetterSetter(_,"shadowBlur",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowOpacity",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(_,"shadowOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternImage"),i.Factory.addGetterSetter(_,"fill",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(_,"fillPatternX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(_,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(_,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(_,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(_,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(_,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(_,"fillEnabled",!0),i.Factory.addGetterSetter(_,"strokeEnabled",!0),i.Factory.addGetterSetter(_,"shadowEnabled",!0),i.Factory.addGetterSetter(_,"dashEnabled",!0),i.Factory.addGetterSetter(_,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(_,"fillPriority","color"),i.Factory.addComponentsGetterSetter(_,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(_,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(_,"fillPatternScaleX",1,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternScaleY",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(_,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(_,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(_,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(_,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(_,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(_,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(_,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(_,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(_,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(_,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(_,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(_,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(_,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(_,"fillPatternRotation",0),i.Factory.addGetterSetter(_,"fillRule",void 0,(0,o.getStringValidator)()),i.Factory.backCompat(_,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(DC)),DC}var Ax;function KO(){if(Ax)return Y1;Ax=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.Layer=void 0;const n=Mn(),e=kv(),t=Qn(),i=Tt(),a=Fv(),o=At(),c=yi(),l=vt(),h="#",f="beforeDraw",g="draw",S=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=S.length;let m=class extends e.Container{constructor(v){super(v),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(v){return this.getContext().clear(v),this.getHitCanvas().getContext().clear(v),this}setZIndex(v){super.setZIndex(v);const D=this.getStage();return D&&D.content&&(D.content.removeChild(this.getNativeCanvasElement()),v<D.children.length-1?D.content.insertBefore(this.getNativeCanvasElement(),D.children[v+1].getCanvas()._canvas):D.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const v=this.getStage();return v&&v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const D=this.getStage();return!D||!D.content?!1:(D.content.removeChild(this.getNativeCanvasElement()),this.index<D.children.length-1?D.content.insertBefore(this.getNativeCanvasElement(),D.children[this.index+1].getCanvas()._canvas):D.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const v=this.getStage();if(v){const D=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),D[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const v=this.getStage();if(v){const D=v.children;v.content&&(v.content.removeChild(this.getNativeCanvasElement()),v.content.insertBefore(this.getNativeCanvasElement(),D[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const v=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),v&&v.parentNode&&n.Util._isInDocument(v)&&v.parentNode.removeChild(v),this}getStage(){return this.parent}setSize({width:v,height:D}){return this.canvas.setSize(v,D),this.hitCanvas.setSize(v,D),this._setSmoothEnabled(),this}_validateAdd(v){const D=v.getType();D!=="Group"&&D!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(v){return v=v||{},v.width=v.width||this.getWidth(),v.height=v.height||this.getHeight(),v.x=v.x!==void 0?v.x:this.x(),v.y=v.y!==void 0?v.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,v)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(v){if(!this.isListening()||!this.isVisible())return null;let D=1,x=!1;for(;;){for(let T=0;T<b;T++){const C=S[T],A=this._getIntersection({x:v.x+C.x*D,y:v.y+C.y*D}),R=A.shape;if(R)return R;if(x=!!A.antialiased,!A.antialiased)break}if(x)D+=1;else return null}}_getIntersection(v){const D=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(v.x*D),Math.round(v.y*D),1,1).data,T=x[3];if(T===255){const C=n.Util._rgbToHex(x[0],x[1],x[2]),A=c.shapes[h+C];return A?{shape:A}:{antialiased:!0}}else if(T>0)return{antialiased:!0};return{}}drawScene(v,D){const x=this.getLayer(),T=v||x&&x.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&T.getContext().clear(),e.Container.prototype.drawScene.call(this,T,D),this._fire(g,{node:this}),this}drawHit(v,D){const x=this.getLayer(),T=v||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,T,D),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(v){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(v)}getHitGraphEnabled(v){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const v=this.parent;!!this.hitCanvas._canvas.parentNode?v.content.removeChild(this.hitCanvas._canvas):v.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Y1.Layer=m,m.prototype.nodeType="Layer",(0,l._registerNode)(m),i.Factory.addGetterSetter(m,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(m,"clearBeforeDraw",!0),i.Factory.addGetterSetter(m,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),Y1}var X1={},Rx;function Tz(){if(Rx)return X1;Rx=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.FastLayer=void 0;const n=Mn(),e=KO(),t=vt();let i=class extends e.Layer{constructor(o){super(o),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return X1.FastLayer=i,i.prototype.nodeType="FastLayer",(0,t._registerNode)(i),X1}var W1={},Ox;function k6(){if(Ox)return W1;Ox=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.Group=void 0;const n=Mn(),e=kv(),t=vt();let i=class extends e.Container{_validateAdd(o){const c=o.getType();c!=="Group"&&c!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return W1.Group=i,i.prototype.nodeType="Group",(0,t._registerNode)(i),W1}var $1={},Px;function U6(){if(Px)return $1;Px=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.Animation=void 0;const n=vt(),e=Mn(),t=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Ld{constructor(o,c){this.id=Ld.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=o,this.setLayers(c)}setLayers(o){let c=[];return o&&(c=Array.isArray(o)?o:[o]),this.layers=c,this}getLayers(){return this.layers}addLayer(o){const c=this.layers,l=c.length;for(let h=0;h<l;h++)if(c[h]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const c=Ld.animations,l=c.length;for(let h=0;h<l;h++)if(c[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),Ld._addAnimation(this),this}stop(){return Ld._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const c=o.id,l=this.animations,h=l.length;for(let f=0;f<h;f++)if(l[f].id===c){this.animations.splice(f,1);break}}static _runFrames(){const o={},c=this.animations;for(let l=0;l<c.length;l++){const h=c[l],f=h.layers,g=h.func;h._updateFrameObject(t());const S=f.length;let b;if(g?b=g.call(h,h.frame)!==!1:b=!0,!!b)for(let m=0;m<S;m++){const y=f[m];y._id!==void 0&&(o[y._id]=y)}}for(const l in o)o.hasOwnProperty(l)&&o[l].batchDraw()}static _animationLoop(){const o=Ld;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return $1.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,$1}var TC={},Lx;function wz(){return Lx||(Lx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=Mn(),t=U6(),i=Qn(),a=vt(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},c=1,l=2,h=3,f=["fill","stroke","shadowColor"];let g=0;class S{constructor(y,v,D,x,T,C,A){this.prop=y,this.propFunc=v,this.begin=x,this._pos=x,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=A,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=D,this._change=T-this.begin,this.pause()}fire(y){const v=this[y];v&&v()}setTime(y){y>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():y<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=y,this.update())}getTime(){return this._time}setPosition(y){this.prevPos=this._pos,this.propFunc(y),this._pos=y}getPosition(y){return y===void 0&&(y=this._time),this.func(y,this.begin,this._change,this.duration)}play(){this.state=l,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(y){this.pause(),this._time=y,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const y=this.getTimer()-this._startTime;this.state===l?this.setTime(y):this.state===h&&this.setTime(this.duration-y)}pause(){this.state=c,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(y){const v=this,D=y.node,x=D._id,T=y.easing||n.Easings.Linear,C=!!y.yoyo;let A,R;typeof y.duration>"u"?A=.3:y.duration===0?A=.001:A=y.duration,this.node=D,this._id=g++;const E=D.getLayer()||(D instanceof a.Konva.Stage?D.getLayers():null);E||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){v.tween.onEnterFrame()},E),this.tween=new S(R,function(U){v._tweenFunc(U)},T,0,1,A*1e3,C),this._addListeners(),b.attrs[x]||(b.attrs[x]={}),b.attrs[x][this._id]||(b.attrs[x][this._id]={}),b.tweens[x]||(b.tweens[x]={});for(R in y)o[R]===void 0&&this._addAttr(R,y[R]);this.reset(),this.onFinish=y.onFinish,this.onReset=y.onReset,this.onUpdate=y.onUpdate}_addAttr(y,v){const D=this.node,x=D._id;let T,C,A,R,E;const U=b.tweens[x][y];U&&delete b.attrs[x][U][y];let _=D.getAttr(y);if(e.Util._isArray(v))if(T=[],C=Math.max(v.length,_.length),y==="points"&&v.length!==_.length&&(v.length>_.length?(R=_,_=e.Util._prepareArrayForTween(_,v,D.closed())):(A=v,v=e.Util._prepareArrayForTween(v,_,D.closed()))),y.indexOf("fill")===0)for(let M=0;M<C;M++)if(M%2===0)T.push(v[M]-_[M]);else{const P=e.Util.colorToRGBA(_[M]);E=e.Util.colorToRGBA(v[M]),_[M]=P,T.push({r:E.r-P.r,g:E.g-P.g,b:E.b-P.b,a:E.a-P.a})}else for(let M=0;M<C;M++)T.push(v[M]-_[M]);else f.indexOf(y)!==-1?(_=e.Util.colorToRGBA(_),E=e.Util.colorToRGBA(v),T={r:E.r-_.r,g:E.g-_.g,b:E.b-_.b,a:E.a-_.a}):T=v-_;b.attrs[x][this._id][y]={start:_,diff:T,end:v,trueEnd:A,trueStart:R},b.tweens[x][y]=this._id}_tweenFunc(y){const v=this.node,D=b.attrs[v._id][this._id];let x,T,C,A,R,E,U,_;for(x in D){if(T=D[x],C=T.start,A=T.diff,_=T.end,e.Util._isArray(C))if(R=[],U=Math.max(C.length,_.length),x.indexOf("fill")===0)for(E=0;E<U;E++)E%2===0?R.push((C[E]||0)+A[E]*y):R.push("rgba("+Math.round(C[E].r+A[E].r*y)+","+Math.round(C[E].g+A[E].g*y)+","+Math.round(C[E].b+A[E].b*y)+","+(C[E].a+A[E].a*y)+")");else for(E=0;E<U;E++)R.push((C[E]||0)+A[E]*y);else f.indexOf(x)!==-1?R="rgba("+Math.round(C.r+A.r*y)+","+Math.round(C.g+A.g*y)+","+Math.round(C.b+A.b*y)+","+(C.a+A.a*y)+")":R=C+A*y;v.setAttr(x,R)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const y=this.node,v=b.attrs[y._id][this._id];v.points&&v.points.trueEnd&&y.setAttr("points",v.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const y=this.node,v=b.attrs[y._id][this._id];v.points&&v.points.trueStart&&y.points(v.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(y){return this.tween.seek(y*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const y=this.node._id,v=this._id,D=b.tweens[y];this.pause();for(const x in D)delete b.tweens[y][x];delete b.attrs[y][v]}}n.Tween=b,b.attrs={},b.tweens={},i.Node.prototype.to=function(m){const y=m.onFinish;m.node=this,m.onFinish=function(){this.destroy(),y&&y()},new b(m).play()},n.Easings={BackEaseIn(m,y,v,D){return v*(m/=D)*m*((1.70158+1)*m-1.70158)+y},BackEaseOut(m,y,v,D){return v*((m=m/D-1)*m*((1.70158+1)*m+1.70158)+1)+y},BackEaseInOut(m,y,v,D){let x=1.70158;return(m/=D/2)<1?v/2*(m*m*(((x*=1.525)+1)*m-x))+y:v/2*((m-=2)*m*(((x*=1.525)+1)*m+x)+2)+y},ElasticEaseIn(m,y,v,D,x,T){let C=0;return m===0?y:(m/=D)===1?y+v:(T||(T=D*.3),!x||x<Math.abs(v)?(x=v,C=T/4):C=T/(2*Math.PI)*Math.asin(v/x),-(x*Math.pow(2,10*(m-=1))*Math.sin((m*D-C)*(2*Math.PI)/T))+y)},ElasticEaseOut(m,y,v,D,x,T){let C=0;return m===0?y:(m/=D)===1?y+v:(T||(T=D*.3),!x||x<Math.abs(v)?(x=v,C=T/4):C=T/(2*Math.PI)*Math.asin(v/x),x*Math.pow(2,-10*m)*Math.sin((m*D-C)*(2*Math.PI)/T)+v+y)},ElasticEaseInOut(m,y,v,D,x,T){let C=0;return m===0?y:(m/=D/2)===2?y+v:(T||(T=D*(.3*1.5)),!x||x<Math.abs(v)?(x=v,C=T/4):C=T/(2*Math.PI)*Math.asin(v/x),m<1?-.5*(x*Math.pow(2,10*(m-=1))*Math.sin((m*D-C)*(2*Math.PI)/T))+y:x*Math.pow(2,-10*(m-=1))*Math.sin((m*D-C)*(2*Math.PI)/T)*.5+v+y)},BounceEaseOut(m,y,v,D){return(m/=D)<1/2.75?v*(7.5625*m*m)+y:m<2/2.75?v*(7.5625*(m-=1.5/2.75)*m+.75)+y:m<2.5/2.75?v*(7.5625*(m-=2.25/2.75)*m+.9375)+y:v*(7.5625*(m-=2.625/2.75)*m+.984375)+y},BounceEaseIn(m,y,v,D){return v-n.Easings.BounceEaseOut(D-m,0,v,D)+y},BounceEaseInOut(m,y,v,D){return m<D/2?n.Easings.BounceEaseIn(m*2,0,v,D)*.5+y:n.Easings.BounceEaseOut(m*2-D,0,v,D)*.5+v*.5+y},EaseIn(m,y,v,D){return v*(m/=D)*m+y},EaseOut(m,y,v,D){return-v*(m/=D)*(m-2)+y},EaseInOut(m,y,v,D){return(m/=D/2)<1?v/2*m*m+y:-v/2*(--m*(m-2)-1)+y},StrongEaseIn(m,y,v,D){return v*(m/=D)*m*m*m*m+y},StrongEaseOut(m,y,v,D){return v*((m=m/D-1)*m*m*m*m+1)+y},StrongEaseInOut(m,y,v,D){return(m/=D/2)<1?v/2*m*m*m*m*m+y:v/2*((m-=2)*m*m*m*m+2)+y},Linear(m,y,v,D){return v*m/D+y}}}(TC)),TC}var Ix;function xz(){return Ix||(Ix=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=vt(),t=Mn(),i=Qn(),a=kv(),o=Dz(),c=KO(),l=Tz(),h=k6(),f=F6(),g=yi(),S=U6(),b=wz(),m=WO(),y=Fv();n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:i.Node,Container:a.Container,Stage:o.Stage,stages:o.stages,Layer:c.Layer,FastLayer:l.FastLayer,Group:h.Group,DD:f.DD,Shape:g.Shape,shapes:g.shapes,Animation:S.Animation,Tween:b.Tween,Easings:b.Easings,Context:m.Context,Canvas:y.Canvas}),n.default=n.Konva}(mC)),mC}var K1={},Ex;function Az(){if(Ex)return K1;Ex=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.Arc=void 0;const n=Tt(),e=yi(),t=vt(),i=At(),a=vt();let o=class extends e.Shape{_sceneFunc(l){const h=t.Konva.getAngle(this.angle()),f=this.clockwise();l.beginPath(),l.arc(0,0,this.outerRadius(),0,h,f),l.arc(0,0,this.innerRadius(),h,0,!f),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}getSelfRect(){const l=this.innerRadius(),h=this.outerRadius(),f=this.clockwise(),g=t.Konva.getAngle(f?360-this.angle():this.angle()),S=Math.cos(Math.min(g,Math.PI)),b=1,m=Math.sin(Math.min(Math.max(Math.PI,g),3*Math.PI/2)),y=Math.sin(Math.min(g,Math.PI/2)),v=S*(S>0?l:h),D=b*h,x=m*(m>0?l:h),T=y*(y>0?h:l);return{x:v,y:f?-1*T:x,width:D-v,height:T-x}}};return K1.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1,(0,i.getBooleanValidator)()),K1}var Z1={},J1={},_x;function ZO(){if(_x)return J1;_x=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.Line=void 0;const n=Tt(),e=vt(),t=yi(),i=At();function a(l,h,f,g,S,b,m){const y=Math.sqrt(Math.pow(f-l,2)+Math.pow(g-h,2)),v=Math.sqrt(Math.pow(S-f,2)+Math.pow(b-g,2)),D=m*y/(y+v),x=m*v/(y+v),T=f-D*(S-l),C=g-D*(b-h),A=f+x*(S-l),R=g+x*(b-h);return[T,C,A,R]}function o(l,h){const f=l.length,g=[];for(let S=2;S<f-2;S+=2){const b=a(l[S-2],l[S-1],l[S],l[S+1],l[S+2],l[S+3],h);isNaN(b[0])||(g.push(b[0]),g.push(b[1]),g.push(l[S]),g.push(l[S+1]),g.push(b[2]),g.push(b[3]))}return g}let c=class extends t.Shape{constructor(h){super(h),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(h){let f=this.points(),g=f.length,S=this.tension(),b=this.closed(),m=this.bezier(),y,v,D;if(g){if(h.beginPath(),h.moveTo(f[0],f[1]),S!==0&&g>4){for(y=this.getTensionPoints(),v=y.length,D=b?0:4,b||h.quadraticCurveTo(y[0],y[1],y[2],y[3]);D<v-2;)h.bezierCurveTo(y[D++],y[D++],y[D++],y[D++],y[D++],y[D++]);b||h.quadraticCurveTo(y[v-2],y[v-1],f[g-2],f[g-1])}else if(m)for(D=2;D<g;)h.bezierCurveTo(f[D++],f[D++],f[D++],f[D++],f[D++],f[D++]);else for(D=2;D<g;D+=2)h.lineTo(f[D],f[D+1]);b?(h.closePath(),h.fillStrokeShape(this)):h.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const h=this.points(),f=h.length,g=this.tension(),S=a(h[f-2],h[f-1],h[0],h[1],h[2],h[3],g),b=a(h[f-4],h[f-3],h[f-2],h[f-1],h[0],h[1],g),m=o(h,g);return[S[2],S[3]].concat(m).concat([b[0],b[1],h[f-2],h[f-1],b[2],b[3],S[0],S[1],h[0],h[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let h=this.points();if(h.length<4)return{x:h[0]||0,y:h[1]||0,width:0,height:0};this.tension()!==0?h=[h[0],h[1],...this._getTensionPoints(),h[h.length-2],h[h.length-1]]:h=this.points();let f=h[0],g=h[0],S=h[1],b=h[1],m,y;for(let v=0;v<h.length/2;v++)m=h[v*2],y=h[v*2+1],f=Math.min(f,m),g=Math.max(g,m),S=Math.min(S,y),b=Math.max(b,y);return{x:f,y:S,width:g-f,height:b-S}}};return J1.Line=c,c.prototype.className="Line",c.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(c),n.Factory.addGetterSetter(c,"closed",!1),n.Factory.addGetterSetter(c,"bezier",!1),n.Factory.addGetterSetter(c,"tension",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(c,"points",[],(0,i.getNumberArrayValidator)()),J1}var eg={},wC={},Mx;function Rz(){return Mx||(Mx=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(c,l,h)=>{let f,g;const b=h/2;f=0;for(let m=0;m<20;m++)g=b*n.tValues[20][m]+b,f+=n.cValues[20][m]*i(c,l,g);return b*f};n.getCubicArcLength=e;const t=(c,l,h)=>{h===void 0&&(h=1);const f=c[0]-2*c[1]+c[2],g=l[0]-2*l[1]+l[2],S=2*c[1]-2*c[0],b=2*l[1]-2*l[0],m=4*(f*f+g*g),y=4*(f*S+g*b),v=S*S+b*b;if(m===0)return h*Math.sqrt(Math.pow(c[2]-c[0],2)+Math.pow(l[2]-l[0],2));const D=y/(2*m),x=v/m,T=h+D,C=x-D*D,A=T*T+C>0?Math.sqrt(T*T+C):0,R=D*D+C>0?Math.sqrt(D*D+C):0,E=D+Math.sqrt(D*D+C)!==0?C*Math.log(Math.abs((T+A)/(D+R))):0;return Math.sqrt(m)/2*(T*A-D*R+E)};n.getQuadraticArcLength=t;function i(c,l,h){const f=a(1,h,c),g=a(1,h,l),S=f*f+g*g;return Math.sqrt(S)}const a=(c,l,h)=>{const f=h.length-1;let g,S;if(f===0)return 0;if(c===0){S=0;for(let b=0;b<=f;b++)S+=n.binomialCoefficients[f][b]*Math.pow(1-l,f-b)*Math.pow(l,b)*h[b];return S}else{g=new Array(f);for(let b=0;b<f;b++)g[b]=f*(h[b+1]-h[b]);return a(c-1,l,g)}},o=(c,l,h)=>{let f=1,g=c/l,S=(c-h(g))/l,b=0;for(;f>.001;){const m=h(g+S),y=Math.abs(c-m)/l;if(y<f)f=y,g+=S;else{const v=h(g-S),D=Math.abs(c-v)/l;D<f?(f=D,g-=S):S/=2}if(b++,b>500)break}return g};n.t2length=o}(wC)),wC}var Fx;function N6(){if(Fx)return eg;Fx=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.Path=void 0;const n=Tt(),e=yi(),t=vt(),i=Rz();let a=class rr extends e.Shape{constructor(c){super(c),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=rr.parsePathData(this.data()),this.pathLength=rr.getPathLength(this.dataArray)}_sceneFunc(c){const l=this.dataArray;c.beginPath();let h=!1;for(let A=0;A<l.length;A++){const R=l[A].command,E=l[A].points;switch(R){case"L":c.lineTo(E[0],E[1]);break;case"M":c.moveTo(E[0],E[1]);break;case"C":c.bezierCurveTo(E[0],E[1],E[2],E[3],E[4],E[5]);break;case"Q":c.quadraticCurveTo(E[0],E[1],E[2],E[3]);break;case"A":var f=E[0],g=E[1],S=E[2],b=E[3],m=E[4],y=E[5],v=E[6],D=E[7],x=S>b?S:b,T=S>b?1:S/b,C=S>b?b/S:1;c.translate(f,g),c.rotate(v),c.scale(T,C),c.arc(0,0,x,m,m+y,1-D),c.scale(1/T,1/C),c.rotate(-v),c.translate(-f,-g);break;case"z":h=!0,c.closePath();break}}!h&&!this.hasFill()?c.strokeShape(this):c.fillStrokeShape(this)}getSelfRect(){let c=[];this.dataArray.forEach(function(m){if(m.command==="A"){const y=m.points[4],v=m.points[5],D=m.points[4]+v;let x=Math.PI/180;if(Math.abs(y-D)<x&&(x=Math.abs(y-D)),v<0)for(let T=y-x;T>D;T-=x){const C=rr.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],T,0);c.push(C.x,C.y)}else for(let T=y+x;T<D;T+=x){const C=rr.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],T,0);c.push(C.x,C.y)}}else if(m.command==="C")for(let y=0;y<=1;y+=.01){const v=rr.getPointOnCubicBezier(y,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);c.push(v.x,v.y)}else c=c.concat(m.points)});let l=c[0],h=c[0],f=c[1],g=c[1],S,b;for(let m=0;m<c.length/2;m++)S=c[m*2],b=c[m*2+1],isNaN(S)||(l=Math.min(l,S),h=Math.max(h,S)),isNaN(b)||(f=Math.min(f,b),g=Math.max(g,b));return{x:l,y:f,width:h-l,height:g-f}}getLength(){return this.pathLength}getPointAtLength(c){return rr.getPointAtLengthOfDataArray(c,this.dataArray)}static getLineLength(c,l,h,f){return Math.sqrt((h-c)*(h-c)+(f-l)*(f-l))}static getPathLength(c){let l=0;for(let h=0;h<c.length;++h)l+=c[h].pathLength;return l}static getPointAtLengthOfDataArray(c,l){let h,f=0,g=l.length;if(!g)return null;for(;f<g&&c>l[f].pathLength;)c-=l[f].pathLength,++f;if(f===g)return h=l[f-1].points.slice(-2),{x:h[0],y:h[1]};if(c<.01)return h=l[f].points.slice(0,2),{x:h[0],y:h[1]};const S=l[f],b=S.points;switch(S.command){case"L":return rr.getPointOnLine(c,S.start.x,S.start.y,b[0],b[1]);case"C":return rr.getPointOnCubicBezier((0,i.t2length)(c,rr.getPathLength(l),A=>(0,i.getCubicArcLength)([S.start.x,b[0],b[2],b[4]],[S.start.y,b[1],b[3],b[5]],A)),S.start.x,S.start.y,b[0],b[1],b[2],b[3],b[4],b[5]);case"Q":return rr.getPointOnQuadraticBezier((0,i.t2length)(c,rr.getPathLength(l),A=>(0,i.getQuadraticArcLength)([S.start.x,b[0],b[2]],[S.start.y,b[1],b[3]],A)),S.start.x,S.start.y,b[0],b[1],b[2],b[3]);case"A":var m=b[0],y=b[1],v=b[2],D=b[3],x=b[4],T=b[5],C=b[6];return x+=T*c/S.pathLength,rr.getPointOnEllipticalArc(m,y,v,D,x,C)}return null}static getPointOnLine(c,l,h,f,g,S,b){S=S??l,b=b??h;const m=this.getLineLength(l,h,f,g);if(m<1e-10)return{x:l,y:h};if(f===l)return{x:S,y:b+(g>h?c:-c)};const y=(g-h)/(f-l),v=Math.sqrt(c*c/(1+y*y))*(f<l?-1:1),D=y*v;if(Math.abs(b-h-y*(S-l))<1e-10)return{x:S+v,y:b+D};const x=((S-l)*(f-l)+(b-h)*(g-h))/(m*m),T=l+x*(f-l),C=h+x*(g-h),A=this.getLineLength(S,b,T,C),R=Math.sqrt(c*c-A*A),E=Math.sqrt(R*R/(1+y*y))*(f<l?-1:1),U=y*E;return{x:T+E,y:C+U}}static getPointOnCubicBezier(c,l,h,f,g,S,b,m,y){function v(R){return R*R*R}function D(R){return 3*R*R*(1-R)}function x(R){return 3*R*(1-R)*(1-R)}function T(R){return(1-R)*(1-R)*(1-R)}const C=m*v(c)+S*D(c)+f*x(c)+l*T(c),A=y*v(c)+b*D(c)+g*x(c)+h*T(c);return{x:C,y:A}}static getPointOnQuadraticBezier(c,l,h,f,g,S,b){function m(T){return T*T}function y(T){return 2*T*(1-T)}function v(T){return(1-T)*(1-T)}const D=S*m(c)+f*y(c)+l*v(c),x=b*m(c)+g*y(c)+h*v(c);return{x:D,y:x}}static getPointOnEllipticalArc(c,l,h,f,g,S){const b=Math.cos(S),m=Math.sin(S),y={x:h*Math.cos(g),y:f*Math.sin(g)};return{x:c+(y.x*b-y.y*m),y:l+(y.x*m+y.y*b)}}static parsePathData(c){if(!c)return[];let l=c;const h=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];l=l.replace(new RegExp(" ","g"),",");for(var f=0;f<h.length;f++)l=l.replace(new RegExp(h[f],"g"),"|"+h[f]);const g=l.split("|"),S=[],b=[];let m=0,y=0;const v=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let D;for(f=1;f<g.length;f++){let L=g[f],O=L.charAt(0);for(L=L.slice(1),b.length=0;D=v.exec(L);)b.push(D[0]);const F=[];for(let k=0,G=b.length;k<G;k++){if(b[k]==="00"){F.push(0,0);continue}const W=parseFloat(b[k]);isNaN(W)?F.push(0):F.push(W)}for(;F.length>0&&!isNaN(F[0]);){let k="",G=[];const W=m,X=y;var x,T,C,A,R,E,U,_,M,P;switch(O){case"l":m+=F.shift(),y+=F.shift(),k="L",G.push(m,y);break;case"L":m=F.shift(),y=F.shift(),G.push(m,y);break;case"m":var q=F.shift(),N=F.shift();if(m+=q,y+=N,k="M",S.length>2&&S[S.length-1].command==="z"){for(let Q=S.length-2;Q>=0;Q--)if(S[Q].command==="M"){m=S[Q].points[0]+q,y=S[Q].points[1]+N;break}}G.push(m,y),O="l";break;case"M":m=F.shift(),y=F.shift(),k="M",G.push(m,y),O="L";break;case"h":m+=F.shift(),k="L",G.push(m,y);break;case"H":m=F.shift(),k="L",G.push(m,y);break;case"v":y+=F.shift(),k="L",G.push(m,y);break;case"V":y=F.shift(),k="L",G.push(m,y);break;case"C":G.push(F.shift(),F.shift(),F.shift(),F.shift()),m=F.shift(),y=F.shift(),G.push(m,y);break;case"c":G.push(m+F.shift(),y+F.shift(),m+F.shift(),y+F.shift()),m+=F.shift(),y+=F.shift(),k="C",G.push(m,y);break;case"S":T=m,C=y,x=S[S.length-1],x.command==="C"&&(T=m+(m-x.points[2]),C=y+(y-x.points[3])),G.push(T,C,F.shift(),F.shift()),m=F.shift(),y=F.shift(),k="C",G.push(m,y);break;case"s":T=m,C=y,x=S[S.length-1],x.command==="C"&&(T=m+(m-x.points[2]),C=y+(y-x.points[3])),G.push(T,C,m+F.shift(),y+F.shift()),m+=F.shift(),y+=F.shift(),k="C",G.push(m,y);break;case"Q":G.push(F.shift(),F.shift()),m=F.shift(),y=F.shift(),G.push(m,y);break;case"q":G.push(m+F.shift(),y+F.shift()),m+=F.shift(),y+=F.shift(),k="Q",G.push(m,y);break;case"T":T=m,C=y,x=S[S.length-1],x.command==="Q"&&(T=m+(m-x.points[0]),C=y+(y-x.points[1])),m=F.shift(),y=F.shift(),k="Q",G.push(T,C,m,y);break;case"t":T=m,C=y,x=S[S.length-1],x.command==="Q"&&(T=m+(m-x.points[0]),C=y+(y-x.points[1])),m+=F.shift(),y+=F.shift(),k="Q",G.push(T,C,m,y);break;case"A":A=F.shift(),R=F.shift(),E=F.shift(),U=F.shift(),_=F.shift(),M=m,P=y,m=F.shift(),y=F.shift(),k="A",G=this.convertEndpointToCenterParameterization(M,P,m,y,U,_,A,R,E);break;case"a":A=F.shift(),R=F.shift(),E=F.shift(),U=F.shift(),_=F.shift(),M=m,P=y,m+=F.shift(),y+=F.shift(),k="A",G=this.convertEndpointToCenterParameterization(M,P,m,y,U,_,A,R,E);break}S.push({command:k||O,points:G,start:{x:W,y:X},pathLength:this.calcLength(W,X,k||O,G)})}(O==="z"||O==="Z")&&S.push({command:"z",points:[],start:void 0,pathLength:0})}return S}static calcLength(c,l,h,f){let g,S,b,m;const y=rr;switch(h){case"L":return y.getLineLength(c,l,f[0],f[1]);case"C":return(0,i.getCubicArcLength)([c,f[0],f[2],f[4]],[l,f[1],f[3],f[5]],1);case"Q":return(0,i.getQuadraticArcLength)([c,f[0],f[2]],[l,f[1],f[3]],1);case"A":g=0;var v=f[4],D=f[5],x=f[4]+D,T=Math.PI/180;if(Math.abs(v-x)<T&&(T=Math.abs(v-x)),S=y.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],v,0),D<0)for(m=v-T;m>x;m-=T)b=y.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],m,0),g+=y.getLineLength(S.x,S.y,b.x,b.y),S=b;else for(m=v+T;m<x;m+=T)b=y.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],m,0),g+=y.getLineLength(S.x,S.y,b.x,b.y),S=b;return b=y.getPointOnEllipticalArc(f[0],f[1],f[2],f[3],x,0),g+=y.getLineLength(S.x,S.y,b.x,b.y),g}return 0}static convertEndpointToCenterParameterization(c,l,h,f,g,S,b,m,y){const v=y*(Math.PI/180),D=Math.cos(v)*(c-h)/2+Math.sin(v)*(l-f)/2,x=-1*Math.sin(v)*(c-h)/2+Math.cos(v)*(l-f)/2,T=D*D/(b*b)+x*x/(m*m);T>1&&(b*=Math.sqrt(T),m*=Math.sqrt(T));let C=Math.sqrt((b*b*(m*m)-b*b*(x*x)-m*m*(D*D))/(b*b*(x*x)+m*m*(D*D)));g===S&&(C*=-1),isNaN(C)&&(C=0);const A=C*b*x/m,R=C*-m*D/b,E=(c+h)/2+Math.cos(v)*A-Math.sin(v)*R,U=(l+f)/2+Math.sin(v)*A+Math.cos(v)*R,_=function(F){return Math.sqrt(F[0]*F[0]+F[1]*F[1])},M=function(F,k){return(F[0]*k[0]+F[1]*k[1])/(_(F)*_(k))},P=function(F,k){return(F[0]*k[1]<F[1]*k[0]?-1:1)*Math.acos(M(F,k))},q=P([1,0],[(D-A)/b,(x-R)/m]),N=[(D-A)/b,(x-R)/m],L=[(-1*D-A)/b,(-1*x-R)/m];let O=P(N,L);return M(N,L)<=-1&&(O=Math.PI),M(N,L)>=1&&(O=0),S===0&&O>0&&(O=O-2*Math.PI),S===1&&O<0&&(O=O+2*Math.PI),[E,U,b,m,q,O,v,S]}};return eg.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(a),n.Factory.addGetterSetter(a,"data"),eg}var kx;function Oz(){if(kx)return Z1;kx=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.Arrow=void 0;const n=Tt(),e=ZO(),t=At(),i=vt(),a=N6();let o=class extends e.Line{_sceneFunc(l){super._sceneFunc(l);const h=Math.PI*2,f=this.points();let g=f;const S=this.tension()!==0&&f.length>4;S&&(g=this.getTensionPoints());const b=this.pointerLength(),m=f.length;let y,v;if(S){const T=[g[g.length-4],g[g.length-3],g[g.length-2],g[g.length-1],f[m-2],f[m-1]],C=a.Path.calcLength(g[g.length-4],g[g.length-3],"C",T),A=a.Path.getPointOnQuadraticBezier(Math.min(1,1-b/C),T[0],T[1],T[2],T[3],T[4],T[5]);y=f[m-2]-A.x,v=f[m-1]-A.y}else y=f[m-2]-f[m-4],v=f[m-1]-f[m-3];const D=(Math.atan2(v,y)+h)%h,x=this.pointerWidth();this.pointerAtEnding()&&(l.save(),l.beginPath(),l.translate(f[m-2],f[m-1]),l.rotate(D),l.moveTo(0,0),l.lineTo(-b,x/2),l.lineTo(-b,-x/2),l.closePath(),l.restore(),this.__fillStroke(l)),this.pointerAtBeginning()&&(l.save(),l.beginPath(),l.translate(f[0],f[1]),S?(y=(g[0]+g[2])/2-f[0],v=(g[1]+g[3])/2-f[1]):(y=f[2]-f[0],v=f[3]-f[1]),l.rotate((Math.atan2(-v,-y)+h)%h),l.moveTo(0,0),l.lineTo(-b,x/2),l.lineTo(-b,-x/2),l.closePath(),l.restore(),this.__fillStroke(l))}__fillStroke(l){const h=this.dashEnabled();h&&(this.attrs.dashEnabled=!1,l.setLineDash([])),l.fillStrokeShape(this),h&&(this.attrs.dashEnabled=!0)}getSelfRect(){const l=super.getSelfRect(),h=this.pointerWidth()/2;return{x:l.x,y:l.y-h,width:l.width,height:l.height+h*2}}};return Z1.Arrow=o,o.prototype.className="Arrow",(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"pointerLength",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerWidth",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerAtBeginning",!1),n.Factory.addGetterSetter(o,"pointerAtEnding",!0),Z1}var tg={},Ux;function Pz(){if(Ux)return tg;Ux=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.Circle=void 0;const n=Tt(),e=yi(),t=At(),i=vt();let a=class extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius()!==c/2&&this.radius(c/2)}setHeight(c){this.radius()!==c/2&&this.radius(c/2)}};return tg.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),tg}var ng={},Nx;function Lz(){if(Nx)return ng;Nx=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.Ellipse=void 0;const n=Tt(),e=yi(),t=At(),i=vt();let a=class extends e.Shape{_sceneFunc(c){const l=this.radiusX(),h=this.radiusY();c.beginPath(),c.save(),l!==h&&c.scale(1,h/l),c.arc(0,0,l,0,Math.PI*2,!1),c.restore(),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(c){this.radiusX(c/2)}setHeight(c){this.radiusY(c/2)}};return ng.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),n.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),n.Factory.addGetterSetter(a,"radiusX",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"radiusY",0,(0,t.getNumberValidator)()),ng}var ig={},qx;function Iz(){if(qx)return ig;qx=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.Image=void 0;const n=Mn(),e=Tt(),t=yi(),i=vt(),a=At();class o extends t.Shape{constructor(l){super(l),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",h=>{this._removeImageLoad(h.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const l=this.image();l&&l.complete||l&&l.readyState===4||l&&l.addEventListener&&l.addEventListener("load",this._loadListener)}_removeImageLoad(l){l&&l.removeEventListener&&l.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const l=!!this.cornerRadius(),h=this.hasShadow();return l&&h?!0:super._useBufferCanvas(!0)}_sceneFunc(l){const h=this.getWidth(),f=this.getHeight(),g=this.cornerRadius(),S=this.attrs.image;let b;if(S){const m=this.attrs.cropWidth,y=this.attrs.cropHeight;m&&y?b=[S,this.cropX(),this.cropY(),m,y,0,0,h,f]:b=[S,0,0,h,f]}(this.hasFill()||this.hasStroke()||g)&&(l.beginPath(),g?n.Util.drawRoundedRectPath(l,h,f,g):l.rect(0,0,h,f),l.closePath(),l.fillStrokeShape(this)),S&&(g&&l.clip(),l.drawImage.apply(l,b))}_hitFunc(l){const h=this.width(),f=this.height(),g=this.cornerRadius();l.beginPath(),g?n.Util.drawRoundedRectPath(l,h,f,g):l.rect(0,0,h,f),l.closePath(),l.fillStrokeShape(this)}getWidth(){var l,h;return(l=this.attrs.width)!==null&&l!==void 0?l:(h=this.image())===null||h===void 0?void 0:h.width}getHeight(){var l,h;return(l=this.attrs.height)!==null&&l!==void 0?l:(h=this.image())===null||h===void 0?void 0:h.height}static fromURL(l,h,f=null){const g=n.Util.createImageElement();g.onload=function(){const S=new o({image:g});h(S)},g.onerror=f,g.crossOrigin="Anonymous",g.src=l}}return ig.Image=o,o.prototype.className="Image",(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,a.getNumberValidator)()),ig}var su={},Bx;function Ez(){if(Bx)return su;Bx=1,Object.defineProperty(su,"__esModule",{value:!0}),su.Tag=su.Label=void 0;const n=Tt(),e=yi(),t=k6(),i=At(),a=vt(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],c="Change.konva",l="none",h="up",f="right",g="down",S="left",b=o.length;let m=class extends t.Group{constructor(D){super(D),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(D){let x=this,T;const C=function(){x._sync()};for(T=0;T<b;T++)D.on(o[T]+c,C)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let D=this.getText(),x=this.getTag(),T,C,A,R,E,U,_;if(D&&x){switch(T=D.width(),C=D.height(),A=x.pointerDirection(),R=x.pointerWidth(),_=x.pointerHeight(),E=0,U=0,A){case h:E=T/2,U=-1*_;break;case f:E=T+R,U=C/2;break;case g:E=T/2,U=C+_;break;case S:E=-1*R,U=C/2;break}x.setAttrs({x:-1*E,y:-1*U,width:T,height:C}),D.setAttrs({x:-1*E,y:-1*U})}}};su.Label=m,m.prototype.className="Label",(0,a._registerNode)(m);class y extends e.Shape{_sceneFunc(D){const x=this.width(),T=this.height(),C=this.pointerDirection(),A=this.pointerWidth(),R=this.pointerHeight(),E=this.cornerRadius();let U=0,_=0,M=0,P=0;typeof E=="number"?U=_=M=P=Math.min(E,x/2,T/2):(U=Math.min(E[0]||0,x/2,T/2),_=Math.min(E[1]||0,x/2,T/2),P=Math.min(E[2]||0,x/2,T/2),M=Math.min(E[3]||0,x/2,T/2)),D.beginPath(),D.moveTo(U,0),C===h&&(D.lineTo((x-A)/2,0),D.lineTo(x/2,-1*R),D.lineTo((x+A)/2,0)),D.lineTo(x-_,0),D.arc(x-_,_,_,Math.PI*3/2,0,!1),C===f&&(D.lineTo(x,(T-R)/2),D.lineTo(x+A,T/2),D.lineTo(x,(T+R)/2)),D.lineTo(x,T-P),D.arc(x-P,T-P,P,0,Math.PI/2,!1),C===g&&(D.lineTo((x+A)/2,T),D.lineTo(x/2,T+R),D.lineTo((x-A)/2,T)),D.lineTo(M,T),D.arc(M,T-M,M,Math.PI/2,Math.PI,!1),C===S&&(D.lineTo(0,(T+R)/2),D.lineTo(-1*A,T/2),D.lineTo(0,(T-R)/2)),D.lineTo(0,U),D.arc(U,U,U,Math.PI,Math.PI*3/2,!1),D.closePath(),D.fillStrokeShape(this)}getSelfRect(){let D=0,x=0,T=this.pointerWidth(),C=this.pointerHeight(),A=this.pointerDirection(),R=this.width(),E=this.height();return A===h?(x-=C,E+=C):A===g?E+=C:A===S?(D-=T*1.5,R+=T):A===f&&(R+=T*1.5),{x:D,y:x,width:R,height:E}}}return su.Tag=y,y.prototype.className="Tag",(0,a._registerNode)(y),n.Factory.addGetterSetter(y,"pointerDirection",l),n.Factory.addGetterSetter(y,"pointerWidth",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(y,"pointerHeight",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(y,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),su}var rg={},Gx;function JO(){if(Gx)return rg;Gx=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.Rect=void 0;const n=Tt(),e=yi(),t=vt(),i=Mn(),a=At();let o=class extends e.Shape{_sceneFunc(l){const h=this.cornerRadius(),f=this.width(),g=this.height();l.beginPath(),h?i.Util.drawRoundedRectPath(l,f,g,h):l.rect(0,0,f,g),l.closePath(),l.fillStrokeShape(this)}};return rg.Rect=o,o.prototype.className="Rect",(0,t._registerNode)(o),n.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),rg}var ag={},Vx;function _z(){if(Vx)return ag;Vx=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.RegularPolygon=void 0;const n=Tt(),e=yi(),t=At(),i=vt();let a=class extends e.Shape{_sceneFunc(c){const l=this._getPoints();c.beginPath(),c.moveTo(l[0].x,l[0].y);for(let h=1;h<l.length;h++)c.lineTo(l[h].x,l[h].y);c.closePath(),c.fillStrokeShape(this)}_getPoints(){const c=this.attrs.sides,l=this.attrs.radius||0,h=[];for(let f=0;f<c;f++)h.push({x:l*Math.sin(f*2*Math.PI/c),y:-1*l*Math.cos(f*2*Math.PI/c)});return h}getSelfRect(){const c=this._getPoints();let l=c[0].x,h=c[0].y,f=c[0].x,g=c[0].y;return c.forEach(S=>{l=Math.min(l,S.x),h=Math.max(h,S.x),f=Math.min(f,S.y),g=Math.max(g,S.y)}),{x:l,y:f,width:h-l,height:g-f}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return ag.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"sides",0,(0,t.getNumberValidator)()),ag}var og={},zx;function Mz(){if(zx)return og;zx=1,Object.defineProperty(og,"__esModule",{value:!0}),og.Ring=void 0;const n=Tt(),e=yi(),t=At(),i=vt(),a=Math.PI*2;let o=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.innerRadius(),0,a,!1),l.moveTo(this.outerRadius(),0),l.arc(0,0,this.outerRadius(),a,0,!0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return og.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,t.getNumberValidator)()),og}var sg={},Qx;function Fz(){if(Qx)return sg;Qx=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.Sprite=void 0;const n=Tt(),e=yi(),t=U6(),i=At(),a=vt();let o=class extends e.Shape{constructor(l){super(l),this._updated=!0,this.anim=new t.Animation(()=>{const h=this._updated;return this._updated=!1,h}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(l){const h=this.animation(),f=this.frameIndex(),g=f*4,S=this.animations()[h],b=this.frameOffsets(),m=S[g+0],y=S[g+1],v=S[g+2],D=S[g+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(l.beginPath(),l.rect(0,0,v,D),l.closePath(),l.fillStrokeShape(this)),x)if(b){const T=b[h],C=f*2;l.drawImage(x,m,y,v,D,T[C+0],T[C+1],v,D)}else l.drawImage(x,m,y,v,D,0,0,v,D)}_hitFunc(l){const h=this.animation(),f=this.frameIndex(),g=f*4,S=this.animations()[h],b=this.frameOffsets(),m=S[g+2],y=S[g+3];if(l.beginPath(),b){const v=b[h],D=f*2;l.rect(v[D+0],v[D+1],m,y)}else l.rect(0,0,m,y);l.closePath(),l.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const l=this;this.interval=setInterval(function(){l._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const l=this.getLayer();this.anim.setLayers(l),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const l=this.frameIndex(),h=this.animation(),f=this.animations(),g=f[h],S=g.length/4;l<S-1?this.frameIndex(l+1):this.frameIndex(0)}};return sg.Sprite=o,o.prototype.className="Sprite",(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"animation"),n.Factory.addGetterSetter(o,"animations"),n.Factory.addGetterSetter(o,"frameOffsets"),n.Factory.addGetterSetter(o,"image"),n.Factory.addGetterSetter(o,"frameIndex",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"frameRate",17,(0,i.getNumberValidator)()),n.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),sg}var lg={},Hx;function kz(){if(Hx)return lg;Hx=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.Star=void 0;const n=Tt(),e=yi(),t=At(),i=vt();let a=class extends e.Shape{_sceneFunc(c){const l=this.innerRadius(),h=this.outerRadius(),f=this.numPoints();c.beginPath(),c.moveTo(0,0-h);for(let g=1;g<f*2;g++){const S=g%2===0?h:l,b=S*Math.sin(g*Math.PI/f),m=-1*S*Math.cos(g*Math.PI/f);c.lineTo(b,m)}c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return lg.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"numPoints",5,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"outerRadius",0,(0,t.getNumberValidator)()),lg}var Rd={},jx;function eP(){if(jx)return Rd;jx=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.Text=void 0,Rd.stringToArray=c;const n=Mn(),e=Tt(),t=yi(),i=vt(),a=At(),o=vt();function c($){return[...$].reduce((ee,re,ie,fe)=>{if(new RegExp("\\p{Emoji}","u").test(re)){const ne=fe[ie+1];ne&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(ne)?(ee.push(re+ne),fe[ie+1]=""):ee.push(re)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(re+(fe[ie+1]||""))?ee.push(re+fe[ie+1]):ie>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(re)?ee[ee.length-1]+=re:re&&ee.push(re);return ee},[])}const l="auto",h="center",f="inherit",g="justify",S="Change.konva",b="2d",m="-",y="left",v="text",D="Text",x="top",T="bottom",C="middle",A="normal",R="px ",E=" ",U="right",_="rtl",M="word",P="char",q="none",N="…",L=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],O=L.length;function F($){return $.split(",").map(ee=>{ee=ee.trim();const re=ee.indexOf(" ")>=0,ie=ee.indexOf('"')>=0||ee.indexOf("'")>=0;return re&&!ie&&(ee=`"${ee}"`),ee}).join(", ")}let k;function G(){return k||(k=n.Util.createCanvasElement().getContext(b),k)}function W($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function X($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Q($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let Y=class extends t.Shape{constructor(ee){super(Q(ee)),this._partialTextX=0,this._partialTextY=0;for(let re=0;re<O;re++)this.on(L[re]+S,this._setTextData);this._setTextData()}_sceneFunc(ee){const re=this.textArr,ie=re.length;if(!this.text())return;let fe=this.padding(),ne=this.fontSize(),oe=this.lineHeight()*ne,pe=this.verticalAlign(),me=this.direction(),xe=0,Oe=this.align(),Be=this.getWidth(),B=this.letterSpacing(),ge=this.fill(),ye=this.textDecoration(),J=ye.indexOf("underline")!==-1,Z=ye.indexOf("line-through")!==-1,ue;me=me===f?ee.direction:me;let we=oe/2,Ae=C;if(i.Konva._fixTextRendering){const Ge=this.measureSize("M");Ae="alphabetic",we=(Ge.fontBoundingBoxAscent-Ge.fontBoundingBoxDescent)/2+oe/2}var se=0,Ee=0;for(me===_&&ee.setAttr("direction",me),ee.setAttr("font",this._getContextFont()),ee.setAttr("textBaseline",Ae),ee.setAttr("textAlign",y),pe===C?xe=(this.getHeight()-ie*oe-fe*2)/2:pe===T&&(xe=this.getHeight()-ie*oe-fe*2),ee.translate(fe,xe+fe),ue=0;ue<ie;ue++){var se=0,Ee=0,Ue=re[ue],he=Ue.text,Ce=Ue.width,ke=Ue.lastInParagraph,qe,je;if(ee.save(),Oe===U?se+=Be-Ce-fe*2:Oe===h&&(se+=(Be-Ce-fe*2)/2),J){ee.save(),ee.beginPath();const et=i.Konva._fixTextRendering?Math.round(ne/4):Math.round(ne/2),He=se,it=we+Ee+et;ee.moveTo(He,it),qe=he.split(" ").length-1,je=Oe===g&&!ke?Be-fe*2:Ce,ee.lineTo(He+Math.round(je),it),ee.lineWidth=ne/15;const Jt=this._getLinearGradient();ee.strokeStyle=Jt||ge,ee.stroke(),ee.restore()}if(Z){ee.save(),ee.beginPath();const et=i.Konva._fixTextRendering?-Math.round(ne/4):0;ee.moveTo(se,we+Ee+et),qe=he.split(" ").length-1,je=Oe===g&&!ke?Be-fe*2:Ce,ee.lineTo(se+Math.round(je),we+Ee+et),ee.lineWidth=ne/15;const He=this._getLinearGradient();ee.strokeStyle=He||ge,ee.stroke(),ee.restore()}if(me!==_&&(B!==0||Oe===g)){qe=he.split(" ").length-1;const et=c(he);for(let He=0;He<et.length;He++){const it=et[He];it===" "&&!ke&&Oe===g&&(se+=(Be-fe*2-Ce)/qe),this._partialTextX=se,this._partialTextY=we+Ee,this._partialText=it,ee.fillStrokeShape(this),se+=this.measureSize(it).width+B}}else B!==0&&ee.setAttr("letterSpacing",`${B}px`),this._partialTextX=se,this._partialTextY=we+Ee,this._partialText=he,ee.fillStrokeShape(this);ee.restore(),ie>1&&(we+=oe)}}_hitFunc(ee){const re=this.getWidth(),ie=this.getHeight();ee.beginPath(),ee.rect(0,0,re,ie),ee.closePath(),ee.fillStrokeShape(this)}setText(ee){const re=n.Util._isString(ee)?ee:ee==null?"":ee+"";return this._setAttr(v,re),this}getWidth(){return this.attrs.width===l||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===l||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ee){var re,ie,fe,ne,oe,pe,me,xe,Oe,Be,B;let ge=G(),ye=this.fontSize(),J;ge.save(),ge.font=this._getContextFont(),J=ge.measureText(ee),ge.restore();const Z=ye/100;return{actualBoundingBoxAscent:(re=J.actualBoundingBoxAscent)!==null&&re!==void 0?re:71.58203125*Z,actualBoundingBoxDescent:(ie=J.actualBoundingBoxDescent)!==null&&ie!==void 0?ie:0,actualBoundingBoxLeft:(fe=J.actualBoundingBoxLeft)!==null&&fe!==void 0?fe:-7.421875*Z,actualBoundingBoxRight:(ne=J.actualBoundingBoxRight)!==null&&ne!==void 0?ne:75.732421875*Z,alphabeticBaseline:(oe=J.alphabeticBaseline)!==null&&oe!==void 0?oe:0,emHeightAscent:(pe=J.emHeightAscent)!==null&&pe!==void 0?pe:100*Z,emHeightDescent:(me=J.emHeightDescent)!==null&&me!==void 0?me:-20*Z,fontBoundingBoxAscent:(xe=J.fontBoundingBoxAscent)!==null&&xe!==void 0?xe:91*Z,fontBoundingBoxDescent:(Oe=J.fontBoundingBoxDescent)!==null&&Oe!==void 0?Oe:21*Z,hangingBaseline:(Be=J.hangingBaseline)!==null&&Be!==void 0?Be:72.80000305175781*Z,ideographicBaseline:(B=J.ideographicBaseline)!==null&&B!==void 0?B:-21*Z,width:J.width,height:ye}}_getContextFont(){return this.fontStyle()+E+this.fontVariant()+E+(this.fontSize()+R)+F(this.fontFamily())}_addTextLine(ee){this.align()===g&&(ee=ee.trim());const ie=this._getTextWidth(ee);return this.textArr.push({text:ee,width:ie,lastInParagraph:!1})}_getTextWidth(ee){const re=this.letterSpacing(),ie=ee.length;return G().measureText(ee).width+re*ie}_setTextData(){let ee=this.text().split(`
`),re=+this.fontSize(),ie=0,fe=this.lineHeight()*re,ne=this.attrs.width,oe=this.attrs.height,pe=ne!==l&&ne!==void 0,me=oe!==l&&oe!==void 0,xe=this.padding(),Oe=ne-xe*2,Be=oe-xe*2,B=0,ge=this.wrap(),ye=ge!==q,J=ge!==P&&ye,Z=this.ellipsis();this.textArr=[],G().font=this._getContextFont();const ue=Z?this._getTextWidth(N):0;for(let we=0,Ae=ee.length;we<Ae;++we){let se=ee[we],Ee=this._getTextWidth(se);if(pe&&Ee>Oe)for(;se.length>0;){let Ue=0,he=c(se).length,Ce="",ke=0;for(;Ue<he;){const qe=Ue+he>>>1,je=c(se),Ge=je.slice(0,qe+1).join(""),Ve=this._getTextWidth(Ge);(Z&&me&&B+fe>Be?Ve+ue:Ve)<=Oe?(Ue=qe+1,Ce=Ge,ke=Ve):he=qe}if(Ce){if(J){const Ge=c(se),Ve=c(Ce),et=Ge[Ve.length],He=et===E||et===m;let it;if(He&&ke<=Oe)it=Ve.length;else{const Jt=Ve.lastIndexOf(E),Fn=Ve.lastIndexOf(m);it=Math.max(Jt,Fn)+1}it>0&&(Ue=it,Ce=Ge.slice(0,Ue).join(""),ke=this._getTextWidth(Ce))}if(Ce=Ce.trimRight(),this._addTextLine(Ce),ie=Math.max(ie,ke),B+=fe,this._shouldHandleEllipsis(B)){this._tryToAddEllipsisToLastLine();break}if(se=c(se).slice(Ue).join("").trimLeft(),se.length>0&&(Ee=this._getTextWidth(se),Ee<=Oe)){this._addTextLine(se),B+=fe,ie=Math.max(ie,Ee);break}}else break}else this._addTextLine(se),B+=fe,ie=Math.max(ie,Ee),this._shouldHandleEllipsis(B)&&we<Ae-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),me&&B+fe>Be)break}this.textHeight=re,this.textWidth=ie}_shouldHandleEllipsis(ee){const re=+this.fontSize(),ie=this.lineHeight()*re,fe=this.attrs.height,ne=fe!==l&&fe!==void 0,oe=this.padding(),pe=fe-oe*2;return!(this.wrap()!==q)||ne&&ee+ie>pe}_tryToAddEllipsisToLastLine(){const ee=this.attrs.width,re=ee!==l&&ee!==void 0,ie=this.padding(),fe=ee-ie*2,ne=this.ellipsis(),oe=this.textArr[this.textArr.length-1];!oe||!ne||(re&&(this._getTextWidth(oe.text+N)<fe||(oe.text=oe.text.slice(0,oe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(oe.text+N))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const ee=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,re=this.hasShadow();return ee&&re?!0:super._useBufferCanvas()}};return Rd.Text=Y,Y.prototype._fillFunc=W,Y.prototype._strokeFunc=X,Y.prototype.className=D,Y.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(Y),e.Factory.overWriteSetter(Y,"width",(0,a.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(Y,"height",(0,a.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(Y,"direction",f),e.Factory.addGetterSetter(Y,"fontFamily","Arial"),e.Factory.addGetterSetter(Y,"fontSize",12,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(Y,"fontStyle",A),e.Factory.addGetterSetter(Y,"fontVariant",A),e.Factory.addGetterSetter(Y,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(Y,"align",y),e.Factory.addGetterSetter(Y,"verticalAlign",x),e.Factory.addGetterSetter(Y,"lineHeight",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(Y,"wrap",M),e.Factory.addGetterSetter(Y,"ellipsis",!1,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(Y,"letterSpacing",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(Y,"text","",(0,a.getStringValidator)()),e.Factory.addGetterSetter(Y,"textDecoration",""),Rd}var cg={},Yx;function Uz(){if(Yx)return cg;Yx=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.TextPath=void 0;const n=Mn(),e=Tt(),t=yi(),i=N6(),a=eP(),o=At(),c=vt(),l="",h="normal";function f(b){b.fillText(this.partialText,0,0)}function g(b){b.strokeText(this.partialText,0,0)}let S=class extends t.Shape{constructor(m){super(m),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(m){if(!this.attrs.data)return null;const y=this.pathLength;return m-1>y?null:i.Path.getPointAtLengthOfDataArray(m,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(m){m.setAttr("font",this._getContextFont()),m.setAttr("textBaseline",this.textBaseline()),m.setAttr("textAlign","left"),m.save();const y=this.textDecoration(),v=this.fill(),D=this.fontSize(),x=this.glyphInfo;y==="underline"&&m.beginPath();for(let T=0;T<x.length;T++){m.save();const C=x[T].p0;m.translate(C.x,C.y),m.rotate(x[T].rotation),this.partialText=x[T].text,m.fillStrokeShape(this),y==="underline"&&(T===0&&m.moveTo(0,D/2+1),m.lineTo(D,D/2+1)),m.restore()}y==="underline"&&(m.strokeStyle=v,m.lineWidth=D/20,m.stroke()),m.restore()}_hitFunc(m){m.beginPath();const y=this.glyphInfo;if(y.length>=1){const v=y[0].p0;m.moveTo(v.x,v.y)}for(let v=0;v<y.length;v++){const D=y[v].p1;m.lineTo(D.x,D.y)}m.setAttr("lineWidth",this.fontSize()),m.setAttr("strokeStyle",this.colorKey),m.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(m){return a.Text.prototype.setText.call(this,m)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(m){const v=this.dummyCanvas.getContext("2d");v.save(),v.font=this._getContextFont();const D=v.measureText(m);return v.restore(),{width:D.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:m,height:y}=this._getTextSize(this.attrs.text);if(this.textWidth=m,this.textHeight=y,this.glyphInfo=[],!this.attrs.data)return null;const v=this.letterSpacing(),D=this.align(),x=this.kerningFunc(),T=Math.max(this.textWidth+((this.attrs.text||"").length-1)*v,0);let C=0;D==="center"&&(C=Math.max(0,this.pathLength/2-T/2)),D==="right"&&(C=Math.max(0,this.pathLength-T));const A=(0,a.stringToArray)(this.text());let R=C;for(let E=0;E<A.length;E++){const U=this._getPointAtLength(R);if(!U)return;let _=this._getTextSize(A[E]).width+v;if(A[E]===" "&&D==="justify"){const O=this.text().split(" ").length-1;_+=(this.pathLength-T)/O}const M=this._getPointAtLength(R+_);if(!M)return;const P=i.Path.getLineLength(U.x,U.y,M.x,M.y);let q=0;if(x)try{q=x(A[E-1],A[E])*this.fontSize()}catch{q=0}U.x+=q,M.x+=q,this.textWidth+=q;const N=i.Path.getPointOnLine(q+P/2,U.x,U.y,M.x,M.y),L=Math.atan2(M.y-U.y,M.x-U.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:A[E],rotation:L,p0:U,p1:M}),R+=_}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const m=[];this.glyphInfo.forEach(function(R){m.push(R.p0.x),m.push(R.p0.y),m.push(R.p1.x),m.push(R.p1.y)});let y=m[0]||0,v=m[0]||0,D=m[1]||0,x=m[1]||0,T,C;for(let R=0;R<m.length/2;R++)T=m[R*2],C=m[R*2+1],y=Math.min(y,T),v=Math.max(v,T),D=Math.min(D,C),x=Math.max(x,C);const A=this.fontSize();return{x:y-A/2,y:D-A/2,width:v-y+A,height:x-D+A}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return cg.TextPath=S,S.prototype._fillFunc=f,S.prototype._strokeFunc=g,S.prototype._fillFuncHit=f,S.prototype._strokeFuncHit=g,S.prototype.className="TextPath",S.prototype._attrsAffectingSize=["text","fontSize","data"],(0,c._registerNode)(S),e.Factory.addGetterSetter(S,"data"),e.Factory.addGetterSetter(S,"fontFamily","Arial"),e.Factory.addGetterSetter(S,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(S,"fontStyle",h),e.Factory.addGetterSetter(S,"align","left"),e.Factory.addGetterSetter(S,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(S,"textBaseline","middle"),e.Factory.addGetterSetter(S,"fontVariant",h),e.Factory.addGetterSetter(S,"text",l),e.Factory.addGetterSetter(S,"textDecoration",""),e.Factory.addGetterSetter(S,"kerningFunc",void 0),cg}var ug={},Xx;function Nz(){if(Xx)return ug;Xx=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.Transformer=void 0;const n=Mn(),e=Tt(),t=Qn(),i=yi(),a=JO(),o=k6(),c=vt(),l=At(),h=vt(),f="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(_=>_+`.${f}`).join(" "),S="nodesRect",b=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},y="ontouchstart"in c.Konva._global;function v(_,M,P){if(_==="rotater")return P;M+=n.Util.degToRad(m[_]||0);const q=(n.Util.radToDeg(M)%360+360)%360;return n.Util._inRange(q,315+22.5,360)||n.Util._inRange(q,0,22.5)?"ns-resize":n.Util._inRange(q,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(q,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(q,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(q,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(q,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(q,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(q,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+q),"pointer")}const D=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function x(_){return{x:_.x+_.width/2*Math.cos(_.rotation)+_.height/2*Math.sin(-_.rotation),y:_.y+_.height/2*Math.cos(_.rotation)+_.width/2*Math.sin(_.rotation)}}function T(_,M,P){const q=P.x+(_.x-P.x)*Math.cos(M)-(_.y-P.y)*Math.sin(M),N=P.y+(_.x-P.x)*Math.sin(M)+(_.y-P.y)*Math.cos(M);return{..._,rotation:_.rotation+M,x:q,y:N}}function C(_,M){const P=x(_);return T(_,M,P)}function A(_,M,P){let q=M;for(let N=0;N<_.length;N++){const L=c.Konva.getAngle(_[N]),O=Math.abs(L-M)%(Math.PI*2);Math.min(O,Math.PI*2-O)<P&&(q=L)}return q}let R=0,E=class extends o.Group{constructor(M){super(M),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(g,this.update),this.getNode()&&this.update()}attachTo(M){return this.setNode(M),this}setNode(M){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([M])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return f+this._id}setNodes(M=[]){this._nodes&&this._nodes.length&&this.detach();const P=M.filter(N=>N.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=M=P,M.length===1&&this.useSingleNodeRotation()?this.rotation(M[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const L=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(N._attrsAffectingSize.length){const O=N._attrsAffectingSize.map(F=>F+"Change."+this._getEventNamespace()).join(" ");N.on(O,L)}N.on(b.map(O=>O+`.${this._getEventNamespace()}`).join(" "),L),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,L),this._proxyDrag(N)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(M){let P;M.on(`dragstart.${this._getEventNamespace()}`,q=>{P=M.getAbsolutePosition(),!this.isDragging()&&M!==this.findOne(".back")&&this.startDrag(q,!1)}),M.on(`dragmove.${this._getEventNamespace()}`,q=>{if(!P)return;const N=M.getAbsolutePosition(),L=N.x-P.x,O=N.y-P.y;this.nodes().forEach(F=>{if(F===M||F.isDragging())return;const k=F.getAbsolutePosition();F.setAbsolutePosition({x:k.x+L,y:k.y+O}),F.startDrag(q)}),P=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(M=>{M.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(S),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(S,this.__getNodeRect)}__getNodeShape(M,P=this.rotation(),q){const N=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),L=M.getAbsoluteScale(q),O=M.getAbsolutePosition(q),F=N.x*L.x-M.offsetX()*L.x,k=N.y*L.y-M.offsetY()*L.y,G=(c.Konva.getAngle(M.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),W={x:O.x+F*Math.cos(G)+k*Math.sin(-G),y:O.y+k*Math.cos(G)+F*Math.sin(G),width:N.width*L.x,height:N.height*L.y,rotation:G};return T(W,-c.Konva.getAngle(P),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const P=[];this.nodes().map(G=>{const W=G.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),X=[{x:W.x,y:W.y},{x:W.x+W.width,y:W.y},{x:W.x+W.width,y:W.y+W.height},{x:W.x,y:W.y+W.height}],Q=G.getAbsoluteTransform();X.forEach(function(Y){const $=Q.point(Y);P.push($)})});const q=new n.Transform;q.rotate(-c.Konva.getAngle(this.rotation()));let N=1/0,L=1/0,O=-1/0,F=-1/0;P.forEach(function(G){const W=q.point(G);N===void 0&&(N=O=W.x,L=F=W.y),N=Math.min(N,W.x),L=Math.min(L,W.y),O=Math.max(O,W.x),F=Math.max(F,W.y)}),q.invert();const k=q.point({x:N,y:L});return{x:k.x,y:k.y,width:O-N,height:F-L,rotation:c.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),D.forEach(M=>{this._createAnchor(M)}),this._createAnchor("rotater")}_createAnchor(M){const P=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:M+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:y?10:"auto"}),q=this;P.on("mousedown touchstart",function(N){q._handleMouseDown(N)}),P.on("dragstart",N=>{P.stopDrag(),N.cancelBubble=!0}),P.on("dragend",N=>{N.cancelBubble=!0}),P.on("mouseenter",()=>{const N=c.Konva.getAngle(this.rotation()),L=this.rotateAnchorCursor(),O=v(M,N,L);P.getStage().content&&(P.getStage().content.style.cursor=O),this._cursorChange=!0}),P.on("mouseout",()=>{P.getStage().content&&(P.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(P)}_createBack(){const M=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(P,q){const N=q.getParent(),L=N.padding();P.beginPath(),P.rect(-L,-L,q.width()+L*2,q.height()+L*2),P.moveTo(q.width()/2,-L),N.rotateEnabled()&&N.rotateLineVisible()&&P.lineTo(q.width()/2,-N.rotateAnchorOffset()*n.Util._sign(q.height())-L),P.fillStrokeShape(q)},hitFunc:(P,q)=>{if(!this.shouldOverdrawWholeArea())return;const N=this.padding();P.beginPath(),P.rect(-N,-N,q.width()+N*2,q.height()+N*2),P.fillStrokeShape(q)}});this.add(M),this._proxyDrag(M),M.on("dragstart",P=>{P.cancelBubble=!0}),M.on("dragmove",P=>{P.cancelBubble=!0}),M.on("dragend",P=>{P.cancelBubble=!0}),this.on("dragmove",P=>{this.update()})}_handleMouseDown(M){if(this._transforming)return;this._movingAnchorName=M.target.name().split(" ")[0];const P=this._getNodeRect(),q=P.width,N=P.height,L=Math.sqrt(Math.pow(q,2)+Math.pow(N,2));this.sin=Math.abs(N/L),this.cos=Math.abs(q/L),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const O=M.target.getAbsolutePosition(),F=M.target.getStage().getPointerPosition();this._anchorDragOffset={x:F.x-O.x,y:F.y-O.y},R++,this._fire("transformstart",{evt:M.evt,target:this.getNode()}),this._nodes.forEach(k=>{k._fire("transformstart",{evt:M.evt,target:k})})}_handleMouseMove(M){let P,q,N;const L=this.findOne("."+this._movingAnchorName),O=L.getStage();O.setPointersPositions(M);const F=O.getPointerPosition();let k={x:F.x-this._anchorDragOffset.x,y:F.y-this._anchorDragOffset.y};const G=L.getAbsolutePosition();this.anchorDragBoundFunc()&&(k=this.anchorDragBoundFunc()(G,k,M)),L.setAbsolutePosition(k);const W=L.getAbsolutePosition();if(G.x===W.x&&G.y===W.y)return;if(this._movingAnchorName==="rotater"){const pe=this._getNodeRect();P=L.x()-pe.width/2,q=-L.y()+pe.height/2;let me=Math.atan2(-q,P)+Math.PI/2;pe.height<0&&(me-=Math.PI);const Oe=c.Konva.getAngle(this.rotation())+me,Be=c.Konva.getAngle(this.rotationSnapTolerance()),ge=A(this.rotationSnaps(),Oe,Be)-pe.rotation,ye=C(pe,ge);this._fitNodesInto(ye,M);return}const X=this.shiftBehavior();let Q;X==="inverted"?Q=this.keepRatio()&&!M.shiftKey:X==="none"?Q=this.keepRatio():Q=this.keepRatio()||M.shiftKey;var ie=this.centeredScaling()||M.altKey;if(this._movingAnchorName==="top-left"){if(Q){var Y=ie?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(Y.x-L.x(),2)+Math.pow(Y.y-L.y(),2));var $=this.findOne(".top-left").x()>Y.x?-1:1,ee=this.findOne(".top-left").y()>Y.y?-1:1;P=N*this.cos*$,q=N*this.sin*ee,this.findOne(".top-left").x(Y.x-P),this.findOne(".top-left").y(Y.y-q)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(L.y());else if(this._movingAnchorName==="top-right"){if(Q){var Y=ie?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(L.x()-Y.x,2)+Math.pow(Y.y-L.y(),2));var $=this.findOne(".top-right").x()<Y.x?-1:1,ee=this.findOne(".top-right").y()>Y.y?-1:1;P=N*this.cos*$,q=N*this.sin*ee,this.findOne(".top-right").x(Y.x+P),this.findOne(".top-right").y(Y.y-q)}var re=L.position();this.findOne(".top-left").y(re.y),this.findOne(".bottom-right").x(re.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(L.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(L.x());else if(this._movingAnchorName==="bottom-left"){if(Q){var Y=ie?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(Y.x-L.x(),2)+Math.pow(L.y()-Y.y,2));var $=Y.x<L.x()?-1:1,ee=L.y()<Y.y?-1:1;P=N*this.cos*$,q=N*this.sin*ee,L.x(Y.x-P),L.y(Y.y+q)}re=L.position(),this.findOne(".top-left").x(re.x),this.findOne(".bottom-right").y(re.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(L.y());else if(this._movingAnchorName==="bottom-right"){if(Q){var Y=ie?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(L.x()-Y.x,2)+Math.pow(L.y()-Y.y,2));var $=this.findOne(".bottom-right").x()<Y.x?-1:1,ee=this.findOne(".bottom-right").y()<Y.y?-1:1;P=N*this.cos*$,q=N*this.sin*ee,this.findOne(".bottom-right").x(Y.x+P),this.findOne(".bottom-right").y(Y.y+q)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var ie=this.centeredScaling()||M.altKey;if(ie){const pe=this.findOne(".top-left"),me=this.findOne(".bottom-right"),xe=pe.x(),Oe=pe.y(),Be=this.getWidth()-me.x(),B=this.getHeight()-me.y();me.move({x:-xe,y:-Oe}),pe.move({x:Be,y:B})}const fe=this.findOne(".top-left").getAbsolutePosition();P=fe.x,q=fe.y;const ne=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),oe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:P,y:q,width:ne,height:oe,rotation:c.Konva.getAngle(this.rotation())},M)}_handleMouseUp(M){this._removeEvents(M)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(M){var P;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const q=this.getNode();R--,this._fire("transformend",{evt:M,target:q}),(P=this.getLayer())===null||P===void 0||P.batchDraw(),q&&this._nodes.forEach(N=>{var L;N._fire("transformend",{evt:M,target:N}),(L=N.getLayer())===null||L===void 0||L.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(M,P){const q=this._getNodeRect(),N=1;if(n.Util._inRange(M.width,-this.padding()*2-N,N)){this.update();return}if(n.Util._inRange(M.height,-this.padding()*2-N,N)){this.update();return}const L=new n.Transform;if(L.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("left")>=0){const Q=L.point({x:-this.padding()*2,y:0});M.x+=Q.x,M.y+=Q.y,M.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y}else if(this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("right")>=0){const Q=L.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.width+=this.padding()*2}if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("top")>=0){const Q=L.point({x:0,y:-this.padding()*2});M.x+=Q.x,M.y+=Q.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.height+=this.padding()*2}else if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Q=L.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Q.x,this._anchorDragOffset.y-=Q.y,M.height+=this.padding()*2}if(this.boundBoxFunc()){const Q=this.boundBoxFunc()(q,M);Q?M=Q:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const O=1e7,F=new n.Transform;F.translate(q.x,q.y),F.rotate(q.rotation),F.scale(q.width/O,q.height/O);const k=new n.Transform,G=M.width/O,W=M.height/O;this.flipEnabled()===!1?(k.translate(M.x,M.y),k.rotate(M.rotation),k.translate(M.width<0?M.width:0,M.height<0?M.height:0),k.scale(Math.abs(G),Math.abs(W))):(k.translate(M.x,M.y),k.rotate(M.rotation),k.scale(G,W));const X=k.multiply(F.invert());this._nodes.forEach(Q=>{var Y;const $=Q.getParent().getAbsoluteTransform(),ee=Q.getTransform().copy();ee.translate(Q.offsetX(),Q.offsetY());const re=new n.Transform;re.multiply($.copy().invert()).multiply(X).multiply($).multiply(ee);const ie=re.decompose();Q.setAttrs(ie),(Y=Q.getLayer())===null||Y===void 0||Y.batchDraw()}),this.rotation(n.Util._getRotation(M.rotation)),this._nodes.forEach(Q=>{this._fire("transform",{evt:P,target:Q}),Q._fire("transform",{evt:P,target:Q})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(M,P){this.findOne(M).setAttrs(P)}update(){var M;const P=this._getNodeRect();this.rotation(n.Util._getRotation(P.rotation));const q=P.width,N=P.height,L=this.enabledAnchors(),O=this.resizeEnabled(),F=this.padding(),k=this.anchorSize(),G=this.find("._anchor");G.forEach(X=>{X.setAttrs({width:k,height:k,offsetX:k/2,offsetY:k/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:k/2+F,offsetY:k/2+F,visible:O&&L.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:q/2,y:0,offsetY:k/2+F,visible:O&&L.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:q,y:0,offsetX:k/2-F,offsetY:k/2+F,visible:O&&L.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:k/2+F,visible:O&&L.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:q,y:N/2,offsetX:k/2-F,visible:O&&L.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:k/2+F,offsetY:k/2-F,visible:O&&L.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:q/2,y:N,offsetY:k/2-F,visible:O&&L.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:q,y:N,offsetX:k/2-F,offsetY:k/2-F,visible:O&&L.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:q/2,y:-this.rotateAnchorOffset()*n.Util._sign(N)-F,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:q,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const W=this.anchorStyleFunc();W&&G.forEach(X=>{W(X)}),(M=this.getLayer())===null||M===void 0||M.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const M=this.findOne("."+this._movingAnchorName);M&&M.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(M){return t.Node.prototype.clone.call(this,M)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};ug.Transformer=E,E.isTransforming=()=>R>0;function U(_){return _ instanceof Array||n.Util.warn("enabledAnchors value should be an array"),_ instanceof Array&&_.forEach(function(M){D.indexOf(M)===-1&&n.Util.warn("Unknown anchor name: "+M+". Available names are: "+D.join(", "))}),_||[]}return E.prototype.className="Transformer",(0,h._registerNode)(E),e.Factory.addGetterSetter(E,"enabledAnchors",D,U),e.Factory.addGetterSetter(E,"flipEnabled",!0,(0,l.getBooleanValidator)()),e.Factory.addGetterSetter(E,"resizeEnabled",!0),e.Factory.addGetterSetter(E,"anchorSize",10,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"rotateEnabled",!0),e.Factory.addGetterSetter(E,"rotateLineVisible",!0),e.Factory.addGetterSetter(E,"rotationSnaps",[]),e.Factory.addGetterSetter(E,"rotateAnchorOffset",50,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(E,"rotationSnapTolerance",5,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"borderEnabled",!0),e.Factory.addGetterSetter(E,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(E,"anchorStrokeWidth",1,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"anchorFill","white"),e.Factory.addGetterSetter(E,"anchorCornerRadius",0,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(E,"borderStrokeWidth",1,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"borderDash"),e.Factory.addGetterSetter(E,"keepRatio",!0),e.Factory.addGetterSetter(E,"shiftBehavior","default"),e.Factory.addGetterSetter(E,"centeredScaling",!1),e.Factory.addGetterSetter(E,"ignoreStroke",!1),e.Factory.addGetterSetter(E,"padding",0,(0,l.getNumberValidator)()),e.Factory.addGetterSetter(E,"nodes"),e.Factory.addGetterSetter(E,"node"),e.Factory.addGetterSetter(E,"boundBoxFunc"),e.Factory.addGetterSetter(E,"anchorDragBoundFunc"),e.Factory.addGetterSetter(E,"anchorStyleFunc"),e.Factory.addGetterSetter(E,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(E,"useSingleNodeRotation",!0),e.Factory.backCompat(E,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),ug}var dg={},Wx;function qz(){if(Wx)return dg;Wx=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.Wedge=void 0;const n=Tt(),e=yi(),t=vt(),i=At(),a=vt();let o=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),l.lineTo(0,0),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return dg.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1),n.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),dg}var hg={},$x;function Bz(){if($x)return hg;$x=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.Blur=void 0;const n=Tt(),e=Qn(),t=At();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(h,f){const g=h.data,S=h.width,b=h.height;let m,y,v,D,x,T,C,A,R,E,U,_,M,P,q,N,L,O,F,k,G,W,X,Q;const Y=f+f+1,$=S-1,ee=b-1,re=f+1,ie=re*(re+1)/2,fe=new i,ne=a[f],oe=o[f];let pe=null,me=fe,xe=null,Oe=null;for(v=1;v<Y;v++)me=me.next=new i,v===re&&(pe=me);for(me.next=fe,C=T=0,y=0;y<b;y++){for(N=L=O=F=A=R=E=U=0,_=re*(k=g[T]),M=re*(G=g[T+1]),P=re*(W=g[T+2]),q=re*(X=g[T+3]),A+=ie*k,R+=ie*G,E+=ie*W,U+=ie*X,me=fe,v=0;v<re;v++)me.r=k,me.g=G,me.b=W,me.a=X,me=me.next;for(v=1;v<re;v++)D=T+(($<v?$:v)<<2),A+=(me.r=k=g[D])*(Q=re-v),R+=(me.g=G=g[D+1])*Q,E+=(me.b=W=g[D+2])*Q,U+=(me.a=X=g[D+3])*Q,N+=k,L+=G,O+=W,F+=X,me=me.next;for(xe=fe,Oe=pe,m=0;m<S;m++)g[T+3]=X=U*ne>>oe,X!==0?(X=255/X,g[T]=(A*ne>>oe)*X,g[T+1]=(R*ne>>oe)*X,g[T+2]=(E*ne>>oe)*X):g[T]=g[T+1]=g[T+2]=0,A-=_,R-=M,E-=P,U-=q,_-=xe.r,M-=xe.g,P-=xe.b,q-=xe.a,D=C+((D=m+f+1)<$?D:$)<<2,N+=xe.r=g[D],L+=xe.g=g[D+1],O+=xe.b=g[D+2],F+=xe.a=g[D+3],A+=N,R+=L,E+=O,U+=F,xe=xe.next,_+=k=Oe.r,M+=G=Oe.g,P+=W=Oe.b,q+=X=Oe.a,N-=k,L-=G,O-=W,F-=X,Oe=Oe.next,T+=4;C+=S}for(m=0;m<S;m++){for(L=O=F=N=R=E=U=A=0,T=m<<2,_=re*(k=g[T]),M=re*(G=g[T+1]),P=re*(W=g[T+2]),q=re*(X=g[T+3]),A+=ie*k,R+=ie*G,E+=ie*W,U+=ie*X,me=fe,v=0;v<re;v++)me.r=k,me.g=G,me.b=W,me.a=X,me=me.next;for(x=S,v=1;v<=f;v++)T=x+m<<2,A+=(me.r=k=g[T])*(Q=re-v),R+=(me.g=G=g[T+1])*Q,E+=(me.b=W=g[T+2])*Q,U+=(me.a=X=g[T+3])*Q,N+=k,L+=G,O+=W,F+=X,me=me.next,v<ee&&(x+=S);for(T=m,xe=fe,Oe=pe,y=0;y<b;y++)D=T<<2,g[D+3]=X=U*ne>>oe,X>0?(X=255/X,g[D]=(A*ne>>oe)*X,g[D+1]=(R*ne>>oe)*X,g[D+2]=(E*ne>>oe)*X):g[D]=g[D+1]=g[D+2]=0,A-=_,R-=M,E-=P,U-=q,_-=xe.r,M-=xe.g,P-=xe.b,q-=xe.a,D=m+((D=y+re)<ee?D:ee)*S<<2,A+=N+=xe.r=g[D],R+=L+=xe.g=g[D+1],E+=O+=xe.b=g[D+2],U+=F+=xe.a=g[D+3],xe=xe.next,_+=k=Oe.r,M+=G=Oe.g,P+=W=Oe.b,q+=X=Oe.a,N-=k,L-=G,O-=W,F-=X,Oe=Oe.next,T+=S}}const l=function(f){const g=Math.round(this.blurRadius());g>0&&c(f,g)};return hg.Blur=l,n.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),hg}var fg={},Kx;function Gz(){if(Kx)return fg;Kx=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.Brighten=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=this.brightness()*255,c=a.data,l=c.length;for(let h=0;h<l;h+=4)c[h]+=o,c[h+1]+=o,c[h+2]+=o};return fg.Brighten=i,n.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),fg}var gg={},Zx;function Vz(){if(Zx)return gg;Zx=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.Contrast=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=Math.pow((this.contrast()+100)/100,2),c=a.data,l=c.length;let h=150,f=150,g=150;for(let S=0;S<l;S+=4)h=c[S],f=c[S+1],g=c[S+2],h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,g/=255,g-=.5,g*=o,g+=.5,g*=255,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,g=g<0?0:g>255?255:g,c[S]=h,c[S+1]=f,c[S+2]=g};return gg.Contrast=i,n.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),gg}var pg={},Jx;function zz(){if(Jx)return pg;Jx=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.Emboss=void 0;const n=Tt(),e=Qn(),t=Mn(),i=At(),a=function(o){const c=this.embossStrength()*10,l=this.embossWhiteLevel()*255,h=this.embossDirection(),f=this.embossBlend(),g=o.data,S=o.width,b=o.height,m=S*4;let y=0,v=0,D=b;switch(h){case"top-left":y=-1,v=-1;break;case"top":y=-1,v=0;break;case"top-right":y=-1,v=1;break;case"right":y=0,v=1;break;case"bottom-right":y=1,v=1;break;case"bottom":y=1,v=0;break;case"bottom-left":y=1,v=-1;break;case"left":y=0,v=-1;break;default:t.Util.error("Unknown emboss direction: "+h)}do{const x=(D-1)*m;let T=y;D+T<1&&(T=0),D+T>b&&(T=0);const C=(D-1+T)*S*4;let A=S;do{const R=x+(A-1)*4;let E=v;A+E<1&&(E=0),A+E>S&&(E=0);const U=C+(A-1+E)*4,_=g[R]-g[U],M=g[R+1]-g[U+1],P=g[R+2]-g[U+2];let q=_;const N=q>0?q:-q,L=M>0?M:-M,O=P>0?P:-P;if(L>N&&(q=M),O>N&&(q=P),q*=c,f){const F=g[R]+q,k=g[R+1]+q,G=g[R+2]+q;g[R]=F>255?255:F<0?0:F,g[R+1]=k>255?255:k<0?0:k,g[R+2]=G>255?255:G<0?0:G}else{let F=l-q;F<0?F=0:F>255&&(F=255),g[R]=g[R+1]=g[R+2]=F}}while(--A)}while(--D)};return pg.Emboss=a,n.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),pg}var mg={},eA;function Qz(){if(eA)return mg;eA=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.Enhance=void 0;const n=Tt(),e=Qn(),t=At();function i(o,c,l,h,f){const g=l-c,S=f-h;if(g===0)return h+S/2;if(S===0)return h;let b=(o-c)/g;return b=S*b+h,b}const a=function(o){const c=o.data,l=c.length;let h=c[0],f=h,g,S=c[1],b=S,m,y=c[2],v=y,D;const x=this.enhance();if(x===0)return;for(let q=0;q<l;q+=4)g=c[q+0],g<h?h=g:g>f&&(f=g),m=c[q+1],m<S?S=m:m>b&&(b=m),D=c[q+2],D<y?y=D:D>v&&(v=D);f===h&&(f=255,h=0),b===S&&(b=255,S=0),v===y&&(v=255,y=0);let T,C,A,R,E,U,_,M,P;x>0?(C=f+x*(255-f),A=h-x*(h-0),E=b+x*(255-b),U=S-x*(S-0),M=v+x*(255-v),P=y-x*(y-0)):(T=(f+h)*.5,C=f+x*(f-T),A=h+x*(h-T),R=(b+S)*.5,E=b+x*(b-R),U=S+x*(S-R),_=(v+y)*.5,M=v+x*(v-_),P=y+x*(y-_));for(let q=0;q<l;q+=4)c[q+0]=i(c[q+0],h,f,A,C),c[q+1]=i(c[q+1],S,b,U,E),c[q+2]=i(c[q+2],y,v,P,M)};return mg.Enhance=a,n.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),mg}var Sg={},tA;function Hz(){if(tA)return Sg;tA=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Grayscale=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=.34*t[a]+.5*t[a+1]+.16*t[a+2];t[a]=o,t[a+1]=o,t[a+2]=o}};return Sg.Grayscale=n,Sg}var yg={},nA;function jz(){if(nA)return yg;nA=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.HSL=void 0;const n=Tt(),e=Qn(),t=At();n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter);const i=function(a){const o=a.data,c=o.length,l=1,h=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,g=this.luminance()*127,S=l*h*Math.cos(f*Math.PI/180),b=l*h*Math.sin(f*Math.PI/180),m=.299*l+.701*S+.167*b,y=.587*l-.587*S+.33*b,v=.114*l-.114*S-.497*b,D=.299*l-.299*S-.328*b,x=.587*l+.413*S+.035*b,T=.114*l-.114*S+.293*b,C=.299*l-.3*S+1.25*b,A=.587*l-.586*S-1.05*b,R=.114*l+.886*S-.2*b;let E,U,_,M;for(let P=0;P<c;P+=4)E=o[P+0],U=o[P+1],_=o[P+2],M=o[P+3],o[P+0]=m*E+y*U+v*_+g,o[P+1]=D*E+x*U+T*_+g,o[P+2]=C*E+A*U+R*_+g,o[P+3]=M};return yg.HSL=i,yg}var vg={},iA;function Yz(){if(iA)return vg;iA=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.HSV=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=a.data,c=o.length,l=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),f=Math.abs(this.hue()+360)%360,g=l*h*Math.cos(f*Math.PI/180),S=l*h*Math.sin(f*Math.PI/180),b=.299*l+.701*g+.167*S,m=.587*l-.587*g+.33*S,y=.114*l-.114*g-.497*S,v=.299*l-.299*g-.328*S,D=.587*l+.413*g+.035*S,x=.114*l-.114*g+.293*S,T=.299*l-.3*g+1.25*S,C=.587*l-.586*g-1.05*S,A=.114*l+.886*g-.2*S;let R,E,U,_;for(let M=0;M<c;M+=4)R=o[M+0],E=o[M+1],U=o[M+2],_=o[M+3],o[M+0]=b*R+m*E+y*U,o[M+1]=v*R+D*E+x*U,o[M+2]=T*R+C*E+A*U,o[M+3]=_};return vg.HSV=i,n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),vg}var bg={},rA;function Xz(){if(rA)return bg;rA=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.Invert=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]};return bg.Invert=n,bg}var Cg={},aA;function Wz(){if(aA)return Cg;aA=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.Kaleidoscope=void 0;const n=Tt(),e=Qn(),t=Mn(),i=At(),a=function(l,h,f){const g=l.data,S=h.data,b=l.width,m=l.height,y=f.polarCenterX||b/2,v=f.polarCenterY||m/2;let D=Math.sqrt(y*y+v*v),x=b-y,T=m-v;const C=Math.sqrt(x*x+T*T);D=C>D?C:D;const A=m,R=b,E=360/R*Math.PI/180;for(let U=0;U<R;U+=1){const _=Math.sin(U*E),M=Math.cos(U*E);for(let P=0;P<A;P+=1){x=Math.floor(y+D*P/A*M),T=Math.floor(v+D*P/A*_);let q=(T*b+x)*4;const N=g[q+0],L=g[q+1],O=g[q+2],F=g[q+3];q=(U+P*b)*4,S[q+0]=N,S[q+1]=L,S[q+2]=O,S[q+3]=F}}},o=function(l,h,f){const g=l.data,S=h.data,b=l.width,m=l.height,y=f.polarCenterX||b/2,v=f.polarCenterY||m/2;let D=Math.sqrt(y*y+v*v),x=b-y,T=m-v;const C=Math.sqrt(x*x+T*T);D=C>D?C:D;const A=m,R=b,E=0;let U,_;for(x=0;x<b;x+=1)for(T=0;T<m;T+=1){const M=x-y,P=T-v,q=Math.sqrt(M*M+P*P)*A/D;let N=(Math.atan2(P,M)*180/Math.PI+360+E)%360;N=N*R/360,U=Math.floor(N),_=Math.floor(q);let L=(_*b+U)*4;const O=g[L+0],F=g[L+1],k=g[L+2],G=g[L+3];L=(T*b+x)*4,S[L+0]=O,S[L+1]=F,S[L+2]=k,S[L+3]=G}},c=function(l){const h=l.width,f=l.height;let g,S,b,m,y,v,D,x,T,C,A=Math.round(this.kaleidoscopePower());const R=Math.round(this.kaleidoscopeAngle()),E=Math.floor(h*(R%360)/360);if(A<1)return;const U=t.Util.createCanvasElement();U.width=h,U.height=f;const _=U.getContext("2d").getImageData(0,0,h,f);t.Util.releaseCanvas(U),a(l,_,{polarCenterX:h/2,polarCenterY:f/2});let M=h/Math.pow(2,A);for(;M<=8;)M=M*2,A-=1;M=Math.ceil(M);let P=M,q=0,N=P,L=1;for(E+M>h&&(q=P,N=0,L=-1),S=0;S<f;S+=1)for(g=q;g!==N;g+=L)b=Math.round(g+E)%h,T=(h*S+b)*4,y=_.data[T+0],v=_.data[T+1],D=_.data[T+2],x=_.data[T+3],C=(h*S+g)*4,_.data[C+0]=y,_.data[C+1]=v,_.data[C+2]=D,_.data[C+3]=x;for(S=0;S<f;S+=1)for(P=Math.floor(M),m=0;m<A;m+=1){for(g=0;g<P+1;g+=1)T=(h*S+g)*4,y=_.data[T+0],v=_.data[T+1],D=_.data[T+2],x=_.data[T+3],C=(h*S+P*2-g-1)*4,_.data[C+0]=y,_.data[C+1]=v,_.data[C+2]=D,_.data[C+3]=x;P*=2}o(_,l,{})};return Cg.Kaleidoscope=c,n.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),Cg}var Dg={},oA;function $z(){if(oA)return Dg;oA=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.Mask=void 0;const n=Tt(),e=Qn(),t=At();function i(b,m,y){let v=(y*b.width+m)*4;const D=[];return D.push(b.data[v++],b.data[v++],b.data[v++],b.data[v++]),D}function a(b,m){return Math.sqrt(Math.pow(b[0]-m[0],2)+Math.pow(b[1]-m[1],2)+Math.pow(b[2]-m[2],2))}function o(b){const m=[0,0,0];for(let y=0;y<b.length;y++)m[0]+=b[y][0],m[1]+=b[y][1],m[2]+=b[y][2];return m[0]/=b.length,m[1]/=b.length,m[2]/=b.length,m}function c(b,m){const y=i(b,0,0),v=i(b,b.width-1,0),D=i(b,0,b.height-1),x=i(b,b.width-1,b.height-1),T=m||10;if(a(y,v)<T&&a(v,x)<T&&a(x,D)<T&&a(D,y)<T){const C=o([v,y,x,D]),A=[];for(let R=0;R<b.width*b.height;R++){const E=a(C,[b.data[R*4],b.data[R*4+1],b.data[R*4+2]]);A[R]=E<T?0:255}return A}}function l(b,m){for(let y=0;y<b.width*b.height;y++)b.data[4*y+3]=m[y]}function h(b,m,y){const v=[1,1,1,1,0,1,1,1,1],D=Math.round(Math.sqrt(v.length)),x=Math.floor(D/2),T=[];for(let C=0;C<y;C++)for(let A=0;A<m;A++){const R=C*m+A;let E=0;for(let U=0;U<D;U++)for(let _=0;_<D;_++){const M=C+U-x,P=A+_-x;if(M>=0&&M<y&&P>=0&&P<m){const q=M*m+P,N=v[U*D+_];E+=b[q]*N}}T[R]=E===255*8?255:0}return T}function f(b,m,y){const v=[1,1,1,1,1,1,1,1,1],D=Math.round(Math.sqrt(v.length)),x=Math.floor(D/2),T=[];for(let C=0;C<y;C++)for(let A=0;A<m;A++){const R=C*m+A;let E=0;for(let U=0;U<D;U++)for(let _=0;_<D;_++){const M=C+U-x,P=A+_-x;if(M>=0&&M<y&&P>=0&&P<m){const q=M*m+P,N=v[U*D+_];E+=b[q]*N}}T[R]=E>=255*4?255:0}return T}function g(b,m,y){const v=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],D=Math.round(Math.sqrt(v.length)),x=Math.floor(D/2),T=[];for(let C=0;C<y;C++)for(let A=0;A<m;A++){const R=C*m+A;let E=0;for(let U=0;U<D;U++)for(let _=0;_<D;_++){const M=C+U-x,P=A+_-x;if(M>=0&&M<y&&P>=0&&P<m){const q=M*m+P,N=v[U*D+_];E+=b[q]*N}}T[R]=E}return T}const S=function(b){const m=this.threshold();let y=c(b,m);return y&&(y=h(y,b.width,b.height),y=f(y,b.width,b.height),y=g(y,b.width,b.height),l(b,y)),b};return Dg.Mask=S,n.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Dg}var Tg={},sA;function Kz(){if(sA)return Tg;sA=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.Noise=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=this.noise()*255,c=a.data,l=c.length,h=o/2;for(let f=0;f<l;f+=4)c[f+0]+=h-2*h*Math.random(),c[f+1]+=h-2*h*Math.random(),c[f+2]+=h-2*h*Math.random()};return Tg.Noise=i,n.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Tg}var wg={},lA;function Zz(){if(lA)return wg;lA=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.Pixelate=void 0;const n=Tt(),e=Mn(),t=Qn(),i=At(),a=function(o){let c=Math.ceil(this.pixelSize()),l=o.width,h=o.height,f,g,S,b,m,y,v,D=Math.ceil(l/c),x=Math.ceil(h/c),T,C,A,R,E,U,_,M=o.data;if(c<=0){e.Util.error("pixelSize value can not be <= 0");return}for(E=0;E<D;E+=1)for(U=0;U<x;U+=1){for(b=0,m=0,y=0,v=0,T=E*c,C=T+c,A=U*c,R=A+c,_=0,f=T;f<C;f+=1)if(!(f>=l))for(g=A;g<R;g+=1)g>=h||(S=(l*g+f)*4,b+=M[S+0],m+=M[S+1],y+=M[S+2],v+=M[S+3],_+=1);for(b=b/_,m=m/_,y=y/_,v=v/_,f=T;f<C;f+=1)if(!(f>=l))for(g=A;g<R;g+=1)g>=h||(S=(l*g+f)*4,M[S+0]=b,M[S+1]=m,M[S+2]=y,M[S+3]=v)}};return wg.Pixelate=a,n.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),wg}var xg={},cA;function Jz(){if(cA)return xg;cA=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Posterize=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=Math.round(this.levels()*254)+1,c=a.data,l=c.length,h=255/o;for(let f=0;f<l;f+=1)c[f]=Math.floor(c[f]/h)*h};return xg.Posterize=i,n.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),xg}var Ag={},uA;function eQ(){if(uA)return Ag;uA=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.RGB=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=a.data,c=o.length,l=this.red(),h=this.green(),f=this.blue();for(let g=0;g<c;g+=4){const S=(.34*o[g]+.5*o[g+1]+.16*o[g+2])/255;o[g]=S*l,o[g+1]=S*h,o[g+2]=S*f,o[g+3]=o[g+3]}};return Ag.RGB=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),Ag}var Rg={},dA;function tQ(){if(dA)return Rg;dA=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.RGBA=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=a.data,c=o.length,l=this.red(),h=this.green(),f=this.blue(),g=this.alpha();for(let S=0;S<c;S+=4){const b=1-g;o[S]=l*g+o[S]*b,o[S+1]=h*g+o[S+1]*b,o[S+2]=f*g+o[S+2]*b}};return Rg.RGBA=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),Rg}var Og={},hA;function nQ(){if(hA)return Og;hA=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.Sepia=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=t[a+0],c=t[a+1],l=t[a+2];t[a+0]=Math.min(255,o*.393+c*.769+l*.189),t[a+1]=Math.min(255,o*.349+c*.686+l*.168),t[a+2]=Math.min(255,o*.272+c*.534+l*.131)}};return Og.Sepia=n,Og}var Pg={},fA;function iQ(){if(fA)return Pg;fA=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.Solarize=void 0;const n=function(e){const t=e.data,i=e.width,a=e.height,o=i*4;let c=a;do{const l=(c-1)*o;let h=i;do{const f=l+(h-1)*4;let g=t[f],S=t[f+1],b=t[f+2];g>127&&(g=255-g),S>127&&(S=255-S),b>127&&(b=255-b),t[f]=g,t[f+1]=S,t[f+2]=b}while(--h)}while(--c)};return Pg.Solarize=n,Pg}var Lg={},gA;function rQ(){if(gA)return Lg;gA=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.Threshold=void 0;const n=Tt(),e=Qn(),t=At(),i=function(a){const o=this.threshold()*255,c=a.data,l=c.length;for(let h=0;h<l;h+=1)c[h]=c[h]<o?0:255};return Lg.Threshold=i,n.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Lg}var pA;function aQ(){if(pA)return Q1;pA=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.Konva=void 0;const n=xz(),e=Az(),t=Oz(),i=Pz(),a=Lz(),o=Iz(),c=Ez(),l=ZO(),h=N6(),f=JO(),g=_z(),S=Mz(),b=Fz(),m=kz(),y=eP(),v=Uz(),D=Nz(),x=qz(),T=Bz(),C=Gz(),A=Vz(),R=zz(),E=Qz(),U=Hz(),_=jz(),M=Yz(),P=Xz(),q=Wz(),N=$z(),L=Kz(),O=Zz(),F=Jz(),k=eQ(),G=tQ(),W=nQ(),X=iQ(),Q=rQ();return Q1.Konva=n.Konva.Util._assign(n.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:o.Image,Label:c.Label,Tag:c.Tag,Line:l.Line,Path:h.Path,Rect:f.Rect,RegularPolygon:g.RegularPolygon,Ring:S.Ring,Sprite:b.Sprite,Star:m.Star,Text:y.Text,TextPath:v.TextPath,Transformer:D.Transformer,Wedge:x.Wedge,Filters:{Blur:T.Blur,Brighten:C.Brighten,Contrast:A.Contrast,Emboss:R.Emboss,Enhance:E.Enhance,Grayscale:U.Grayscale,HSL:_.HSL,HSV:M.HSV,Invert:P.Invert,Kaleidoscope:q.Kaleidoscope,Mask:N.Mask,Noise:L.Noise,Pixelate:O.Pixelate,Posterize:F.Posterize,RGB:k.RGB,RGBA:G.RGBA,Sepia:W.Sepia,Solarize:X.Solarize,Threshold:Q.Threshold}}),Q1}var oQ=I2.exports,mA;function sQ(){if(mA)return I2.exports;mA=1,Object.defineProperty(oQ,"__esModule",{value:!0});const n=aQ();return I2.exports=n.Konva,I2.exports}var lQ=sQ();const cQ=Lm(lQ);var xC={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var SA;function uQ(){return SA||(SA=1,function(n){var e=function(){var t={};t.floodFill=function(l,h,f,g,S,b){return b?a(l,h,f,g,S):i(l,h,f,g,S)};function i(l,h,f,g,S){var b,m,y,v,D,x,T,C,A,R,E=l.data,U=l.width,_=l.height,M=l.bytes,P=-1,q=U+1,N=-1,L=_+1,O=f*U+h,F=new Uint8Array(U*_),k=new Uint8Array(S||U*_);if(k[O]===1)return null;O=O*M;var G=[E[O],E[O+1],E[O+2],E[O+3]],W=[{y:f,left:h-1,right:h+1,dir:1}];do{for(v=W.shift(),R=!1,m=v.left+1;m<v.right;m++)if(T=v.y*U,O=(T+m)*M,k[T+m]!==1&&(b=E[O]-G[0],!(b>g||b<-g)&&(b=E[O+1]-G[1],!(b>g||b<-g)&&(b=E[O+2]-G[2],!(b>g||b<-g))))){for(R=!0,F[T+m]=1,k[T+m]=1,x=m-1;x>-1&&(C=T+x,O=C*M,!(k[C]===1||(b=E[O]-G[0],b>g||b<-g)||(b=E[O+1]-G[1],b>g||b<-g)||(b=E[O+2]-G[2],b>g||b<-g)));)F[C]=1,k[C]=1,x--;for(D=m+1;D<U&&(A=T+D,O=A*M,!(k[A]===1||(b=E[O]-G[0],b>g||b<-g)||(b=E[O+1]-G[1],b>g||b<-g)||(b=E[O+2]-G[2],b>g||b<-g)));)F[A]=1,k[A]=1,D++;x<q&&(q=x+1),D>P&&(P=D-1),y=v.y-v.dir,y>=0&&y<_&&(x<v.left&&W.push({y,left:x,right:v.left,dir:-v.dir}),v.right<D&&W.push({y,left:v.right,right:D,dir:-v.dir})),y=v.y+v.dir,y>=0&&y<_&&x<D&&W.push({y,left:x,right:D,dir:v.dir})}R&&(v.y<L&&(L=v.y),v.y>N&&(N=v.y))}while(W.length>0);return{data:F,width:l.width,height:l.height,bounds:{minX:q,minY:L,maxX:P,maxY:N}}}function a(l,h,f,g,S){var b,m,y,v,D,x,T,C,A,R,E=l.data,U=l.width,_=l.height,M=l.bytes,P=-1,q=U+1,N=-1,L=_+1,O=f*U+h,F=new Uint8Array(U*_),k=new Uint8Array(S||U*_);if(k[O]===1)return null;O=O*M;var G=[E[O],E[O+1],E[O+2],E[O+3]],W=[{y:f,left:h-1,right:h+1,dir:1}];do{for(v=W.shift(),R=!1,m=v.left+1;m<v.right;m++)if(T=v.y*U,O=(T+m)*M,k[T+m]!==1&&(R=!0,F[T+m]=1,k[T+m]=1,b=E[O]-G[0],!(b>g||b<-g)&&(b=E[O+1]-G[1],!(b>g||b<-g)&&(b=E[O+2]-G[2],!(b>g||b<-g))))){for(x=m-1;x>-1&&(C=T+x,O=C*M,!(k[C]===1||(F[C]=1,k[C]=1,x--,b=E[O]-G[0],b>g||b<-g)||(b=E[O+1]-G[1],b>g||b<-g)||(b=E[O+2]-G[2],b>g||b<-g))););for(D=m+1;D<U&&(A=T+D,O=A*M,!(k[A]===1||(F[A]=1,k[A]=1,D++,b=E[O]-G[0],b>g||b<-g)||(b=E[O+1]-G[1],b>g||b<-g)||(b=E[O+2]-G[2],b>g||b<-g))););x<q&&(q=x+1),D>P&&(P=D-1),y=v.y-v.dir,y>=0&&y<_&&(x<v.left&&W.push({y,left:x,right:v.left,dir:-v.dir}),v.right<D&&W.push({y,left:v.right,right:D,dir:-v.dir})),y=v.y+v.dir,y>=0&&y<_&&x<D&&W.push({y,left:x,right:D,dir:v.dir})}R&&(v.y<L&&(L=v.y),v.y>N&&(N=v.y))}while(W.length>0);return{data:F,width:l.width,height:l.height,bounds:{minX:q,minY:L,maxX:P,maxY:N}}}t.gaussBlur=function(l,h){var f,g,S,b,m,y,v,D,x=h*2+1,T=h*h,C=new Float32Array(x),A=0,R=l.width,E=l.height,U=l.data,_=l.bounds.minX,M=l.bounds.maxX,P=l.bounds.minY,q=l.bounds.maxY;for(f=0;f<h;f++){var N=(h-f)*(h-f),L=Math.exp(-N/(2*T))/(2*Math.PI*T);C[h+f]=C[h-f]=L,A+=2*L}for(f=0;f<x;f++)C[f]/=A;var O=new Uint8Array(R*E),F=h+R,k=h+E;for(m=P;m<q+1;m++)for(b=_;b<M+1;b++){for(y=0,g=m*R+b,v=h-b>0?h-b:0,D=F-b<x?F-b:x,S=g-h,f=v;f<D;f++)y+=U[S+f]*C[f];for(v=h-m>0?h-m:0,D=k-m<x?k-m:x,S=g-h*R,f=v;f<D;f++)y+=U[S+f*R]*C[f];O[g]=y>.5?1:0}return{data:O,width:R,height:E,bounds:{minX:_,minY:P,maxX:M,maxY:q}}};function o(l,h,f){var g,S,b,m,y,v,D,x=l.width,T=l.height,C=l.data,A=new Uint8Array(C),R=l.bounds.minX,E=l.bounds.maxX,U=l.bounds.minY,_=l.bounds.maxY,M=x*T,P=new Uint8Array(M),q=[],N=Math.max(R,1),L=Math.min(E,x-2),O=Math.max(U,1),F=Math.min(_,T-2);if(f&&f.length>0)for(y=0;y<M;y++)f[y]===1&&(A[y]=1);for(m=O;m<F+1;m++)for(g=N;g<L+1;g++)y=m*x+g,C[y]!==0&&(v=y+x,D=y-x,(A[y+1]===0||A[y-1]===0||A[v]===0||A[v+1]===0||A[v-1]===0||A[D]===0||A[D+1]===0||A[D-1]===0)&&q.push(y));if(R==0)for(m=U;m<_+1;m++)C[m*x]===1&&q.push(m*x);if(E==x-1)for(m=U;m<_+1;m++)C[m*x+E]===1&&q.push(m*x+E);if(U==0)for(g=R;g<E+1;g++)C[g]===1&&q.push(g);if(_==T-1)for(g=R;g<E+1;g++)C[_*x+g]===1&&q.push(_*x+g);var k=[],G,W,X=h+x,Q=h+T,Y=h*2+1;for(M=q.length,b=0;b<M;b++){for(y=q[b],P[y]=1,k.push(y),g=y%x,m=(y-g)/x,G=h-g>0?h-g:0,W=X-g<Y?X-g:Y,v=y-h,S=G;S<W;S++)D=v+S,P[D]===0&&(P[D]=1,k.push(D));for(G=h-m>0?h-m:0,W=Q-m<Y?Q-m:Y,v=y-h*x,S=G;S<W;S++)D=v+S*x,P[D]===0&&(P[D]=1,k.push(D))}return k}t.gaussBlurOnlyBorder=function(l,h,f){var g=o(l,h,f),S,b,m,y,v,D,x,T,C,A,R,E=h*2+1,U=2*h*h,_=new Float32Array(E),M=0,P=l.width,q=l.height,N=l.data,L=l.bounds.minX,O=l.bounds.maxX,F=l.bounds.minY,k=l.bounds.maxY,G=g.length;for(m=0;m<h;m++)b=(h-m)*(h-m),S=Math.exp(-b/U)/Math.PI,_[h+m]=_[h-m]=S,M+=2*S;for(m=0;m<E;m++)_[m]/=M;var W=new Uint8Array(N),X=h+P,Q=h+q;for(m=0;m<G;m++){for(v=g[m],C=0,x=v%P,T=(v-x)/P,A=h-x>0?h-x:0,R=X-x<E?X-x:E,D=v-h,y=A;y<R;y++)C+=N[D+y]*_[y];if(C>.5){W[v]=1,x<L&&(L=x),x>O&&(O=x),T<F&&(F=T),T>k&&(k=T);continue}for(A=h-T>0?h-T:0,R=Q-T<E?Q-T:E,D=v-h*P,y=A;y<R;y++)C+=N[D+y*P]*_[y];C>.5?(W[v]=1,x<L&&(L=x),x>O&&(O=x),T<F&&(F=T),T>k&&(k=T)):W[v]=0}return{data:W,width:P,height:q,bounds:{minX:L,minY:F,maxX:O,maxY:k}}},t.createBorderMask=function(l){var h,f,g,S,b,m=l.width,y=l.height,v=l.data,D=l.bounds.minX,x=l.bounds.maxX,T=l.bounds.minY,C=l.bounds.maxY,A=x-D+1,R=C-T+1,E=new Uint8Array(A*R),U=Math.max(D,1),_=Math.min(x,m-2),M=Math.max(T,1),P=Math.min(C,y-2);for(f=M;f<P+1;f++)for(h=U;h<_+1;h++)g=f*m+h,v[g]!==0&&(S=g+m,b=g-m,(v[g+1]===0||v[g-1]===0||v[S]===0||v[S+1]===0||v[S-1]===0||v[b]===0||v[b+1]===0||v[b-1]===0)&&(E[(f-T)*A+(h-D)]=1));if(D==0)for(f=T;f<C+1;f++)v[f*m]===1&&(E[(f-T)*A]=1);if(x==m-1)for(f=T;f<C+1;f++)v[f*m+x]===1&&(E[(f-T)*A+(x-D)]=1);if(T==0)for(h=D;h<x+1;h++)v[h]===1&&(E[h-D]=1);if(C==y-1)for(h=D;h<x+1;h++)v[C*m+h]===1&&(E[(C-T)*A+(h-D)]=1);return{data:E,width:A,height:R,offset:{x:D,y:T}}},t.getBorderIndices=function(l){var h,f,g,S,b,m=l.width,y=l.height,v=l.data,D=[],x=m-1,T=y-1;for(f=1;f<T;f++)for(h=1;h<x;h++)g=f*m+h,v[g]!==0&&(S=g+m,b=g-m,(v[g+1]===0||v[g-1]===0||v[S]===0||v[S+1]===0||v[S-1]===0||v[b]===0||v[b+1]===0||v[b-1]===0)&&D.push(g));for(f=0;f<y;f++)v[f*m]===1&&D.push(f*m);for(h=0;h<m;h++)v[h]===1&&D.push(h);for(g=m-1,f=0;f<y;f++)v[f*m+g]===1&&D.push(f*m+g);for(g=(y-1)*m,h=0;h<m;h++)v[g+h]===1&&D.push(g+h);return D};function c(l){var h,f,g=l.width,S=l.data,b=l.bounds.minX,m=l.bounds.maxX,y=l.bounds.minY,v=l.bounds.maxY,D=m-b+3,x=v-y+3,T=new Uint8Array(D*x);for(f=y;f<v+1;f++)for(h=b;h<m+1;h++)S[f*g+h]===1&&(T[(f-y+1)*D+(h-b+1)]=1);return{data:T,width:D,height:x,offset:{x:b-1,y:y-1}}}return t.traceContours=function(l){var h=c(l),f=[],g=0,S=h.width,b=S*2,m=h.height,y=h.data,v=h.offset.x,D=h.offset.y,x=new Uint8Array(y),T,C,A,R,E,U,_,M,P,q,N,L,O,F,k,G=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(R=1;R<m-1;R++)for(A=1;A<S-1;A++)if(E=R*S+A,y[E]===1){for(T=-S;T<b;T+=b)if(y[E+T]===0&&x[E+T]===0){for(M=T===S,g++,_=[],P=M?2:6,L=O=q={x:A,y:R},N=null;;){for(x[L.y*S+L.x]=g,C=0;C<8;C++){if(P=(P+1)%8,k=G[P],F={x:L.x+k[0],y:L.y+k[1]},U=F.y*S+F.x,y[U]===1){x[U]=g;break}x[U]=-1,F=null}if(F===null)break;if(L=F,N){if(O.x===q.x&&O.y===q.y&&L.x===N.x&&L.y===N.y)break}else N=F;_.push({x:O.x+v,y:O.y+D}),O=L,P=(P+4)%8}F!=null&&(_.push({x:q.x+v,y:q.y+D}),f.push({inner:M,label:g,points:_}))}}return f},t.simplifyContours=function(l,h,f){var g=l.length,S=[],b,m,y,v,D,x,T,C,A,R,E,U,_,M,P,q,N,L,O,F,k;for(m=0;m<g;m++){if(v=l[m],D=v.points,x=v.points.length,x<f){for(T=[],y=0;y<x;y++)T.push({x:D[y].x,y:D[y].y});S.push({inner:v.inner,label:v.label,points:T,initialCount:x});continue}C=[0,x-1],A=[{first:0,last:x-1}];do if(R=A.shift(),!(R.last<=R.first+1)){for(E=-1,U=R.first,b=R.first+1;b<R.last;b++)O=D[b],F=D[R.first],k=D[R.last],N=O.x-F.x,L=O.y-F.y,M=Math.sqrt(N*N+L*L),N=O.x-k.x,L=O.y-k.y,P=Math.sqrt(N*N+L*L),N=F.x-k.x,L=F.y-k.y,q=Math.sqrt(N*N+L*L),M>=Math.sqrt(P*P+q*q)?_=P:P>=Math.sqrt(M*M+q*q)?_=M:_=Math.abs((L*O.x-N*O.y+F.x*k.y-k.x*F.y)/q),_>E&&(U=b,E=_);E>h&&(C.push(U),A.push({first:R.first,last:U}),A.push({first:U,last:R.last}))}while(A.length>0);for(T=[],x=C.length,C.sort(function(G,W){return G-W}),y=0;y<x;y++)T.push({x:D[C[y]].x,y:D[C[y]].y});S.push({inner:v.inner,label:v.label,points:T,initialCount:v.points.length})}return S},t}();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)}(xC)),xC.exports}var dQ=uQ();const hQ=Lm(dQ);function u2(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var AC={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var yA;function fQ(){return yA||(yA=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,a,o){function c(f,g){if(!a[f]){if(!i[f]){var S=typeof u2=="function"&&u2;if(!g&&S)return S(f,!0);if(l)return l(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var m=a[f]={exports:{}};i[f][0].call(m.exports,function(y){var v=i[f][1][y];return c(v||y)},m,m.exports,t,i,a,o)}return a[f].exports}for(var l=typeof u2=="function"&&u2,h=0;h<o.length;h++)c(o[h]);return c}({1:[function(t,i,a){var o=t("./utils"),c=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(h){for(var f,g,S,b,m,y,v,D=[],x=0,T=h.length,C=T,A=o.getTypeOf(h)!=="string";x<h.length;)C=T-x,S=A?(f=h[x++],g=x<T?h[x++]:0,x<T?h[x++]:0):(f=h.charCodeAt(x++),g=x<T?h.charCodeAt(x++):0,x<T?h.charCodeAt(x++):0),b=f>>2,m=(3&f)<<4|g>>4,y=1<C?(15&g)<<2|S>>6:64,v=2<C?63&S:64,D.push(l.charAt(b)+l.charAt(m)+l.charAt(y)+l.charAt(v));return D.join("")},a.decode=function(h){var f,g,S,b,m,y,v=0,D=0,x="data:";if(h.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var T,C=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===l.charAt(64)&&C--,h.charAt(h.length-2)===l.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=c.uint8array?new Uint8Array(0|C):new Array(0|C);v<h.length;)f=l.indexOf(h.charAt(v++))<<2|(b=l.indexOf(h.charAt(v++)))>>4,g=(15&b)<<4|(m=l.indexOf(h.charAt(v++)))>>2,S=(3&m)<<6|(y=l.indexOf(h.charAt(v++))),T[D++]=f,m!==64&&(T[D++]=g),y!==64&&(T[D++]=S);return T}},{"./support":30,"./utils":32}],2:[function(t,i,a){var o=t("./external"),c=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),h=t("./stream/DataLengthProbe");function f(g,S,b,m,y){this.compressedSize=g,this.uncompressedSize=S,this.crc32=b,this.compression=m,this.compressedContent=y}f.prototype={getContentWorker:function(){var g=new c(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),S=this;return g.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new c(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(g,S,b){return g.pipe(new l).pipe(new h("uncompressedSize")).pipe(S.compressWorker(b)).pipe(new h("compressedSize")).withStreamInfo("compression",S)},i.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,a){var o=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,a){var o=t("./utils"),c=function(){for(var l,h=[],f=0;f<256;f++){l=f;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;h[f]=l}return h}();i.exports=function(l,h){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(f,g,S,b){var m=c,y=b+S;f^=-1;for(var v=b;v<y;v++)f=f>>>8^m[255&(f^g[v])];return-1^f}(0|h,l,l.length,0):function(f,g,S,b){var m=c,y=b+S;f^=-1;for(var v=b;v<y;v++)f=f>>>8^m[255&(f^g.charCodeAt(v))];return-1^f}(0|h,l,l.length,0):0}},{"./utils":32}],5:[function(t,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,i,a){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),l=t("./utils"),h=t("./stream/GenericWorker"),f=o?"uint8array":"array";function g(S,b){h.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=b,this.meta={}}a.magic="\b\0",l.inherits(g,h),g.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,S.data),!1)},g.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(b){S.push({data:b,meta:S.meta})}},a.compressWorker=function(S){return new g("Deflate",S)},a.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,a){function o(m,y){var v,D="";for(v=0;v<y;v++)D+=String.fromCharCode(255&m),m>>>=8;return D}function c(m,y,v,D,x,T){var C,A,R=m.file,E=m.compression,U=T!==f.utf8encode,_=l.transformTo("string",T(R.name)),M=l.transformTo("string",f.utf8encode(R.name)),P=R.comment,q=l.transformTo("string",T(P)),N=l.transformTo("string",f.utf8encode(P)),L=M.length!==R.name.length,O=N.length!==P.length,F="",k="",G="",W=R.dir,X=R.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};y&&!v||(Q.crc32=m.crc32,Q.compressedSize=m.compressedSize,Q.uncompressedSize=m.uncompressedSize);var Y=0;y&&(Y|=8),U||!L&&!O||(Y|=2048);var $=0,ee=0;W&&($|=16),x==="UNIX"?(ee=798,$|=function(ie,fe){var ne=ie;return ie||(ne=fe?16893:33204),(65535&ne)<<16}(R.unixPermissions,W)):(ee=20,$|=function(ie){return 63&(ie||0)}(R.dosPermissions)),C=X.getUTCHours(),C<<=6,C|=X.getUTCMinutes(),C<<=5,C|=X.getUTCSeconds()/2,A=X.getUTCFullYear()-1980,A<<=4,A|=X.getUTCMonth()+1,A<<=5,A|=X.getUTCDate(),L&&(k=o(1,1)+o(g(_),4)+M,F+="up"+o(k.length,2)+k),O&&(G=o(1,1)+o(g(q),4)+N,F+="uc"+o(G.length,2)+G);var re="";return re+=`
\0`,re+=o(Y,2),re+=E.magic,re+=o(C,2),re+=o(A,2),re+=o(Q.crc32,4),re+=o(Q.compressedSize,4),re+=o(Q.uncompressedSize,4),re+=o(_.length,2),re+=o(F.length,2),{fileRecord:S.LOCAL_FILE_HEADER+re+_+F,dirRecord:S.CENTRAL_FILE_HEADER+o(ee,2)+re+o(q.length,2)+"\0\0\0\0"+o($,4)+o(D,4)+_+F+q}}var l=t("../utils"),h=t("../stream/GenericWorker"),f=t("../utf8"),g=t("../crc32"),S=t("../signature");function b(m,y,v,D){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=v,this.encodeFileName=D,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,h),b.prototype.push=function(m){var y=m.meta.percent||0,v=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,h.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(y+100*(v-D-1))/v:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var y=this.streamFiles&&!m.file.dir;if(y){var v=c(m,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var y=this.streamFiles&&!m.file.dir,v=c(m,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),y)this.push({data:function(D){return S.DATA_DESCRIPTOR+o(D.crc32,4)+o(D.compressedSize,4)+o(D.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var v=this.bytesWritten-m,D=function(x,T,C,A,R){var E=l.transformTo("string",R(A));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(T,4)+o(C,4)+o(E.length,2)+E}(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var y=this;return m.on("data",function(v){y.processChunk(v)}),m.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),m.on("error",function(v){y.error(v)}),this},b.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var y=this._sources;if(!h.prototype.error.call(this,m))return!1;for(var v=0;v<y.length;v++)try{y[v].error(m)}catch{}return!0},b.prototype.lock=function(){h.prototype.lock.call(this);for(var m=this._sources,y=0;y<m.length;y++)m[y].lock()},i.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,a){var o=t("../compressions"),c=t("./ZipFileWorker");a.generateWorker=function(l,h,f){var g=new c(h.streamFiles,f,h.platform,h.encodeFileName),S=0;try{l.forEach(function(b,m){S++;var y=function(T,C){var A=T||C,R=o[A];if(!R)throw new Error(A+" is not a valid compression method !");return R}(m.options.compression,h.compression),v=m.options.compressionOptions||h.compressionOptions||{},D=m.dir,x=m.date;m._compressWorker(y,v).withStreamInfo("file",{name:b,dir:D,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(g)}),g.entriesCount=S}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new o;for(var l in this)typeof this[l]!="function"&&(c[l]=this[l]);return c}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(c,l){return new o().loadAsync(c,l)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,a){var o=t("./utils"),c=t("./external"),l=t("./utf8"),h=t("./zipEntries"),f=t("./stream/Crc32Probe"),g=t("./nodejsUtils");function S(b){return new c.Promise(function(m,y){var v=b.decompressed.getContentWorker().pipe(new f);v.on("error",function(D){y(D)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(b,m){var y=this;return m=o.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),g.isNode&&g.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(v){var D=new h(m);return D.load(v),D}).then(function(v){var D=[c.Promise.resolve(v)],x=v.files;if(m.checkCRC32)for(var T=0;T<x.length;T++)D.push(S(x[T]));return c.Promise.all(D)}).then(function(v){for(var D=v.shift(),x=D.files,T=0;T<x.length;T++){var C=x[T],A=C.fileNameStr,R=o.resolve(C.fileNameStr);y.file(R,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:m.createFolders}),C.dir||(y.file(R).unsafeOriginalName=A)}return D.zipComment.length&&(y.comment=D.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,a){var o=t("../utils"),c=t("../stream/GenericWorker");function l(h,f){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}o.inherits(l,c),l.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(g){f.push({data:g,meta:{percent:0}})}).on("error",function(g){f.isPaused?this.generatedError=g:f.error(g)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,a){var o=t("readable-stream").Readable;function c(l,h,f){o.call(this,h),this._helper=l;var g=this;l.on("data",function(S,b){g.push(S)||g._helper.pause(),f&&f(b)}).on("error",function(S){g.emit("error",S)}).on("end",function(){g.push(null)})}t("../utils").inherits(c,o),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,c);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,c)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var c=new Buffer(o);return c.fill(0),c},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,a){function o(R,E,U){var _,M=l.getTypeOf(E),P=l.extend(U||{},g);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(R=x(R)),P.createFolders&&(_=D(R))&&T.call(this,_,!0);var q=M==="string"&&P.binary===!1&&P.base64===!1;U&&U.binary!==void 0||(P.binary=!q),(E instanceof S&&E.uncompressedSize===0||P.dir||!E||E.length===0)&&(P.base64=!1,P.binary=!0,E="",P.compression="STORE",M="string");var N=null;N=E instanceof S||E instanceof h?E:y.isNode&&y.isStream(E)?new v(R,E):l.prepareContent(R,E,P.binary,P.optimizedBinaryString,P.base64);var L=new b(R,N,P);this.files[R]=L}var c=t("./utf8"),l=t("./utils"),h=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),g=t("./defaults"),S=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),y=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),D=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var E=R.lastIndexOf("/");return 0<E?R.substring(0,E):""},x=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},T=function(R,E){return E=E!==void 0?E:g.createFolders,R=x(R),this.files[R]||o.call(this,R,null,{dir:!0,createFolders:E}),this.files[R]};function C(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var E,U,_;for(E in this.files)_=this.files[E],(U=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&R(U,_)},filter:function(R){var E=[];return this.forEach(function(U,_){R(U,_)&&E.push(_)}),E},file:function(R,E,U){if(arguments.length!==1)return R=this.root+R,o.call(this,R,E,U),this;if(C(R)){var _=R;return this.filter(function(P,q){return!q.dir&&_.test(P)})}var M=this.files[this.root+R];return M&&!M.dir?M:null},folder:function(R){if(!R)return this;if(C(R))return this.filter(function(M,P){return P.dir&&R.test(M)});var E=this.root+R,U=T.call(this,E),_=this.clone();return _.root=U.name,_},remove:function(R){R=this.root+R;var E=this.files[R];if(E||(R.slice(-1)!=="/"&&(R+="/"),E=this.files[R]),E&&!E.dir)delete this.files[R];else for(var U=this.filter(function(M,P){return P.name.slice(0,R.length)===R}),_=0;_<U.length;_++)delete this.files[U[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var E,U={};try{if((U=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");l.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var _=U.comment||this.comment||"";E=m.generateWorker(this,U,_)}catch(M){(E=new h("error")).error(M)}return new f(E,U.type||"string",U.mimeType)},generateAsync:function(R,E){return this.generateInternalStream(R).accumulate(E)},generateNodeStream:function(R,E){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(E)}};i.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,a){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,a){var o=t("./DataReader");function c(l){o.call(this,l);for(var h=0;h<this.data.length;h++)l[h]=255&l[h]}t("../utils").inherits(c,o),c.prototype.byteAt=function(l){return this.data[this.zero+l]},c.prototype.lastIndexOfSignature=function(l){for(var h=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),S=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===h&&this.data[b+1]===f&&this.data[b+2]===g&&this.data[b+3]===S)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(l){var h=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),S=l.charCodeAt(3),b=this.readData(4);return h===b[0]&&f===b[1]&&g===b[2]&&S===b[3]},c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,i,a){var o=t("../utils");function c(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var h,f=0;for(this.checkOffset(l),h=this.index+l-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=l,f},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=c},{"../utils":32}],19:[function(t,i,a){var o=t("./Uint8ArrayReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.readData=function(l){this.checkOffset(l);var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,a){var o=t("./DataReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},c.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},c.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},c.prototype.readData=function(l){this.checkOffset(l);var h=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,i,a){var o=t("./ArrayReader");function c(l){o.call(this,l)}t("../utils").inherits(c,o),c.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,h},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,a){var o=t("../utils"),c=t("../support"),l=t("./ArrayReader"),h=t("./StringReader"),f=t("./NodeBufferReader"),g=t("./Uint8ArrayReader");i.exports=function(S){var b=o.getTypeOf(S);return o.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new f(S):c.uint8array?new g(o.transformTo("uint8array",S)):new l(o.transformTo("array",S)):new h(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,a){var o=t("./GenericWorker"),c=t("../utils");function l(h){o.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(l,o),l.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,a){var o=t("./GenericWorker"),c=t("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,o),l.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,a){var o=t("../utils"),c=t("./GenericWorker");function l(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}o.inherits(l,c),l.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}c.prototype.processChunk.call(this,h)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,a){var o=t("../utils"),c=t("./GenericWorker");function l(h){c.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(g){f.dataIsReady=!0,f.data=g,f.max=g&&g.length||0,f.type=o.getTypeOf(g),f.isPaused||f._tickAndRepeat()},function(g){f.error(g)})}o.inherits(l,c),l.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,a){function o(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,l){return this._listeners[c].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,l){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,l)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var l=this;return c.on("data",function(h){l.processChunk(h)}),c.on("end",function(){l.end()}),c.on("error",function(h){l.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,l){return this.extraStreamInfo[c]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=o},{}],29:[function(t,i,a){var o=t("../utils"),c=t("./ConvertWorker"),l=t("./GenericWorker"),h=t("../base64"),f=t("../support"),g=t("../external"),S=null;if(f.nodestream)try{S=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(y,v){return new g.Promise(function(D,x){var T=[],C=y._internalType,A=y._outputType,R=y._mimeType;y.on("data",function(E,U){T.push(E),v&&v(U)}).on("error",function(E){T=[],x(E)}).on("end",function(){try{var E=function(U,_,M){switch(U){case"blob":return o.newBlob(o.transformTo("arraybuffer",_),M);case"base64":return h.encode(_);default:return o.transformTo(U,_)}}(A,function(U,_){var M,P=0,q=null,N=0;for(M=0;M<_.length;M++)N+=_[M].length;switch(U){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(q=new Uint8Array(N),M=0;M<_.length;M++)q.set(_[M],P),P+=_[M].length;return q;case"nodebuffer":return Buffer.concat(_);default:throw new Error("concat : unsupported type '"+U+"'")}}(C,T),R);D(E)}catch(U){x(U)}T=[]}).resume()})}function m(y,v,D){var x=v;switch(v){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=v,this._mimeType=D,o.checkSupport(x),this._worker=y.pipe(new c(x)),y.lock()}catch(T){this._worker=new l("error"),this._worker.error(T)}}m.prototype={accumulate:function(y){return b(this,y)},on:function(y,v){var D=this;return y==="data"?this._worker.on(y,function(x){v.call(D,x.data,x.meta)}):this._worker.on(y,function(){o.delay(v,arguments,D)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},y)}},i.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(o),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,a){for(var o=t("./utils"),c=t("./support"),l=t("./nodejsUtils"),h=t("./stream/GenericWorker"),f=new Array(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;f[254]=f[254]=1;function S(){h.call(this,"utf-8 decode"),this.leftOver=null}function b(){h.call(this,"utf-8 encode")}a.utf8encode=function(m){return c.nodebuffer?l.newBufferFrom(m,"utf-8"):function(y){var v,D,x,T,C,A=y.length,R=0;for(T=0;T<A;T++)(64512&(D=y.charCodeAt(T)))==55296&&T+1<A&&(64512&(x=y.charCodeAt(T+1)))==56320&&(D=65536+(D-55296<<10)+(x-56320),T++),R+=D<128?1:D<2048?2:D<65536?3:4;for(v=c.uint8array?new Uint8Array(R):new Array(R),T=C=0;C<R;T++)(64512&(D=y.charCodeAt(T)))==55296&&T+1<A&&(64512&(x=y.charCodeAt(T+1)))==56320&&(D=65536+(D-55296<<10)+(x-56320),T++),D<128?v[C++]=D:(D<2048?v[C++]=192|D>>>6:(D<65536?v[C++]=224|D>>>12:(v[C++]=240|D>>>18,v[C++]=128|D>>>12&63),v[C++]=128|D>>>6&63),v[C++]=128|63&D);return v}(m)},a.utf8decode=function(m){return c.nodebuffer?o.transformTo("nodebuffer",m).toString("utf-8"):function(y){var v,D,x,T,C=y.length,A=new Array(2*C);for(v=D=0;v<C;)if((x=y[v++])<128)A[D++]=x;else if(4<(T=f[x]))A[D++]=65533,v+=T-1;else{for(x&=T===2?31:T===3?15:7;1<T&&v<C;)x=x<<6|63&y[v++],T--;1<T?A[D++]=65533:x<65536?A[D++]=x:(x-=65536,A[D++]=55296|x>>10&1023,A[D++]=56320|1023&x)}return A.length!==D&&(A.subarray?A=A.subarray(0,D):A.length=D),o.applyFromCharCode(A)}(m=o.transformTo(c.uint8array?"uint8array":"array",m))},o.inherits(S,h),S.prototype.processChunk=function(m){var y=o.transformTo(c.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var v=y;(y=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),y.set(v,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var D=function(T,C){var A;for((C=C||T.length)>T.length&&(C=T.length),A=C-1;0<=A&&(192&T[A])==128;)A--;return A<0||A===0?C:A+f[T[A]]>C?A:C}(y),x=y;D!==y.length&&(c.uint8array?(x=y.subarray(0,D),this.leftOver=y.subarray(D,y.length)):(x=y.slice(0,D),this.leftOver=y.slice(D,y.length))),this.push({data:a.utf8decode(x),meta:m.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=S,o.inherits(b,h),b.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,a){var o=t("./support"),c=t("./base64"),l=t("./nodejsUtils"),h=t("./external");function f(v){return v}function g(v,D){for(var x=0;x<v.length;++x)D[x]=255&v.charCodeAt(x);return D}t("setimmediate"),a.newBlob=function(v,D){a.checkSupport("blob");try{return new Blob([v],{type:D})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(v),x.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(v,D,x){var T=[],C=0,A=v.length;if(A<=x)return String.fromCharCode.apply(null,v);for(;C<A;)D==="array"||D==="nodebuffer"?T.push(String.fromCharCode.apply(null,v.slice(C,Math.min(C+x,A)))):T.push(String.fromCharCode.apply(null,v.subarray(C,Math.min(C+x,A)))),C+=x;return T.join("")},stringifyByChar:function(v){for(var D="",x=0;x<v.length;x++)D+=String.fromCharCode(v[x]);return D},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(v){var D=65536,x=a.getTypeOf(v),T=!0;if(x==="uint8array"?T=S.applyCanBeUsed.uint8array:x==="nodebuffer"&&(T=S.applyCanBeUsed.nodebuffer),T)for(;1<D;)try{return S.stringifyByChunk(v,x,D)}catch{D=Math.floor(D/2)}return S.stringifyByChar(v)}function m(v,D){for(var x=0;x<v.length;x++)D[x]=v[x];return D}a.applyFromCharCode=b;var y={};y.string={string:f,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return y.string.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:function(v){return g(v,l.allocBuffer(v.length))}},y.array={string:b,array:f,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(v)}},y.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:f,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return l.newBufferFrom(new Uint8Array(v))}},y.uint8array={string:b,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:f,nodebuffer:function(v){return l.newBufferFrom(v)}},y.nodebuffer={string:b,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return y.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:f},a.transformTo=function(v,D){if(D=D||"",!v)return D;a.checkSupport(v);var x=a.getTypeOf(D);return y[x][v](D)},a.resolve=function(v){for(var D=v.split("/"),x=[],T=0;T<D.length;T++){var C=D[T];C==="."||C===""&&T!==0&&T!==D.length-1||(C===".."?x.pop():x.push(C))}return x.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(v)?"nodebuffer":o.uint8array&&v instanceof Uint8Array?"uint8array":o.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!o[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var D,x,T="";for(x=0;x<(v||"").length;x++)T+="\\x"+((D=v.charCodeAt(x))<16?"0":"")+D.toString(16).toUpperCase();return T},a.delay=function(v,D,x){setImmediate(function(){v.apply(x||null,D||[])})},a.inherits=function(v,D){function x(){}x.prototype=D.prototype,v.prototype=new x},a.extend=function(){var v,D,x={};for(v=0;v<arguments.length;v++)for(D in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],D)&&x[D]===void 0&&(x[D]=arguments[v][D]);return x},a.prepareContent=function(v,D,x,T,C){return h.Promise.resolve(D).then(function(A){return o.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new h.Promise(function(R,E){var U=new FileReader;U.onload=function(_){R(_.target.result)},U.onerror=function(_){E(_.target.error)},U.readAsArrayBuffer(A)}):A}).then(function(A){var R=a.getTypeOf(A);return R?(R==="arraybuffer"?A=a.transformTo("uint8array",A):R==="string"&&(C?A=c.decode(A):x&&T!==!0&&(A=function(E){return g(E,o.uint8array?new Uint8Array(E.length):new Array(E.length))}(A))),A):h.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,a){var o=t("./reader/readerFor"),c=t("./utils"),l=t("./signature"),h=t("./zipEntry"),f=t("./support");function g(S){this.files=[],this.loadOptions=S}g.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(S)+")")}},isSignature:function(S,b){var m=this.reader.index;this.reader.setIndex(S);var y=this.reader.readString(4)===b;return this.reader.setIndex(m),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),b=f.uint8array?"uint8array":"array",m=c.transformTo(b,S);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,b,m,y=this.zip64EndOfCentralSize-44;0<y;)S=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[S]={id:S,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,b;for(S=0;S<this.files.length;S++)b=this.files[S],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(S=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var b=S;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var y=b-m;if(0<y)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(S){this.reader=o(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,a){var o=t("./reader/readerFor"),c=t("./utils"),l=t("./compressedObject"),h=t("./crc32"),f=t("./utf8"),g=t("./compressions"),S=t("./support");function b(m,y){this.options=m,this.loadOptions=y}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var y,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(D){for(var x in g)if(Object.prototype.hasOwnProperty.call(g,x)&&g[x].magic===D)return g[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,y,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var y=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(y),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=o(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var y,v,D,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)y=m.readInt(2),v=m.readInt(2),D=m.readData(v),this.extraFields[y]={id:y,length:v,value:D};m.setIndex(x)},handleUTF8:function(){var m=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var v=c.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var x=c.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var y=o(m.value);return y.readInt(1)!==1||h(this.fileName)!==y.readInt(4)?null:f.utf8decode(y.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var y=o(m.value);return y.readInt(1)!==1||h(this.fileComment)!==y.readInt(4)?null:f.utf8decode(y.readData(m.length-5))}return null}},i.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,a){function o(y,v,D){this.name=y,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=v,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var c=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),h=t("./utf8"),f=t("./compressedObject"),g=t("./stream/GenericWorker");o.prototype={internalStream:function(y){var v=null,D="string";try{if(!y)throw new Error("No output type specified.");var x=(D=y.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),v=this._decompressWorker();var T=!this._dataBinary;T&&!x&&(v=v.pipe(new h.Utf8EncodeWorker)),!T&&x&&(v=v.pipe(new h.Utf8DecodeWorker))}catch(C){(v=new g("error")).error(C)}return new c(v,D,"")},async:function(y,v){return this.internalStream(y).accumulate(v)},nodeStream:function(y,v){return this.internalStream(y||"nodebuffer").toNodejsStream(v)},_compressWorker:function(y,v){if(this._data instanceof f&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(D,y,v)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof g?this._data:new l(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<S.length;m++)o.prototype[S[m]]=b;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,a){(function(o){var c,l,h=o.MutationObserver||o.WebKitMutationObserver;if(h){var f=0,g=new h(y),S=o.document.createTextNode("");g.observe(S,{characterData:!0}),c=function(){S.data=f=++f%2}}else if(o.setImmediate||o.MessageChannel===void 0)c="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var v=o.document.createElement("script");v.onreadystatechange=function(){y(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},o.document.documentElement.appendChild(v)}:function(){setTimeout(y,0)};else{var b=new o.MessageChannel;b.port1.onmessage=y,c=function(){b.port2.postMessage(0)}}var m=[];function y(){var v,D;l=!0;for(var x=m.length;x;){for(D=m,m=[],v=-1;++v<x;)D[v]();x=m.length}l=!1}i.exports=function(v){m.push(v)!==1||l||c()}}).call(this,typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,a){var o=t("immediate");function c(){}var l={},h=["REJECTED"],f=["FULFILLED"],g=["PENDING"];function S(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,x!==c&&v(this,x)}function b(x,T,C){this.promise=x,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function m(x,T,C){o(function(){var A;try{A=T(C)}catch(R){return l.reject(x,R)}A===x?l.reject(x,new TypeError("Cannot resolve promise with itself")):l.resolve(x,A)})}function y(x){var T=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof T=="function")return function(){T.apply(x,arguments)}}function v(x,T){var C=!1;function A(U){C||(C=!0,l.reject(x,U))}function R(U){C||(C=!0,l.resolve(x,U))}var E=D(function(){T(R,A)});E.status==="error"&&A(E.value)}function D(x,T){var C={};try{C.value=x(T),C.status="success"}catch(A){C.status="error",C.value=A}return C}(i.exports=S).prototype.finally=function(x){if(typeof x!="function")return this;var T=this.constructor;return this.then(function(C){return T.resolve(x()).then(function(){return C})},function(C){return T.resolve(x()).then(function(){throw C})})},S.prototype.catch=function(x){return this.then(null,x)},S.prototype.then=function(x,T){if(typeof x!="function"&&this.state===f||typeof T!="function"&&this.state===h)return this;var C=new this.constructor(c);return this.state!==g?m(C,this.state===f?x:T,this.outcome):this.queue.push(new b(C,x,T)),C},b.prototype.callFulfilled=function(x){l.resolve(this.promise,x)},b.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},b.prototype.callRejected=function(x){l.reject(this.promise,x)},b.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},l.resolve=function(x,T){var C=D(y,T);if(C.status==="error")return l.reject(x,C.value);var A=C.value;if(A)v(x,A);else{x.state=f,x.outcome=T;for(var R=-1,E=x.queue.length;++R<E;)x.queue[R].callFulfilled(T)}return x},l.reject=function(x,T){x.state=h,x.outcome=T;for(var C=-1,A=x.queue.length;++C<A;)x.queue[C].callRejected(T);return x},S.resolve=function(x){return x instanceof this?x:l.resolve(new this(c),x)},S.reject=function(x){var T=new this(c);return l.reject(T,x)},S.all=function(x){var T=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=x.length,A=!1;if(!C)return this.resolve([]);for(var R=new Array(C),E=0,U=-1,_=new this(c);++U<C;)M(x[U],U);return _;function M(P,q){T.resolve(P).then(function(N){R[q]=N,++E!==C||A||(A=!0,l.resolve(_,R))},function(N){A||(A=!0,l.reject(_,N))})}},S.race=function(x){var T=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=x.length,A=!1;if(!C)return this.resolve([]);for(var R=-1,E=new this(c);++R<C;)U=x[R],T.resolve(U).then(function(_){A||(A=!0,l.resolve(E,_))},function(_){A||(A=!0,l.reject(E,_))});var U;return E}},{immediate:36}],38:[function(t,i,a){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,a){var o=t("./zlib/deflate"),c=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/messages"),f=t("./zlib/zstream"),g=Object.prototype.toString,S=0,b=-1,m=0,y=8;function v(x){if(!(this instanceof v))return new v(x);this.options=c.assign({level:b,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(C!==S)throw new Error(h[C]);if(T.header&&o.deflateSetHeader(this.strm,T.header),T.dictionary){var A;if(A=typeof T.dictionary=="string"?l.string2buf(T.dictionary):g.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(C=o.deflateSetDictionary(this.strm,A))!==S)throw new Error(h[C]);this._dict_set=!0}}function D(x,T){var C=new v(T);if(C.push(x,!0),C.err)throw C.msg||h[C.err];return C.result}v.prototype.push=function(x,T){var C,A,R=this.strm,E=this.options.chunkSize;if(this.ended)return!1;A=T===~~T?T:T===!0?4:0,typeof x=="string"?R.input=l.string2buf(x):g.call(x)==="[object ArrayBuffer]"?R.input=new Uint8Array(x):R.input=x,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new c.Buf8(E),R.next_out=0,R.avail_out=E),(C=o.deflate(R,A))!==1&&C!==S)return this.onEnd(C),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(c.shrinkBuf(R.output,R.next_out))):this.onData(c.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&C!==1);return A===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===S):A!==2||(this.onEnd(S),!(R.avail_out=0))},v.prototype.onData=function(x){this.chunks.push(x)},v.prototype.onEnd=function(x){x===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=v,a.deflate=D,a.deflateRaw=function(x,T){return(T=T||{}).raw=!0,D(x,T)},a.gzip=function(x,T){return(T=T||{}).gzip=!0,D(x,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,a){var o=t("./zlib/inflate"),c=t("./utils/common"),l=t("./utils/strings"),h=t("./zlib/constants"),f=t("./zlib/messages"),g=t("./zlib/zstream"),S=t("./zlib/gzheader"),b=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},v||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||v&&v.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,D.windowBits);if(x!==h.Z_OK)throw new Error(f[x]);this.header=new S,o.inflateGetHeader(this.strm,this.header)}function y(v,D){var x=new m(D);if(x.push(v,!0),x.err)throw x.msg||f[x.err];return x.result}m.prototype.push=function(v,D){var x,T,C,A,R,E,U=this.strm,_=this.options.chunkSize,M=this.options.dictionary,P=!1;if(this.ended)return!1;T=D===~~D?D:D===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof v=="string"?U.input=l.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?U.input=new Uint8Array(v):U.input=v,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new c.Buf8(_),U.next_out=0,U.avail_out=_),(x=o.inflate(U,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&M&&(E=typeof M=="string"?l.string2buf(M):b.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,x=o.inflateSetDictionary(this.strm,E)),x===h.Z_BUF_ERROR&&P===!0&&(x=h.Z_OK,P=!1),x!==h.Z_STREAM_END&&x!==h.Z_OK)return this.onEnd(x),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&x!==h.Z_STREAM_END&&(U.avail_in!==0||T!==h.Z_FINISH&&T!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=l.utf8border(U.output,U.next_out),A=U.next_out-C,R=l.buf2string(U.output,C),U.next_out=A,U.avail_out=_-A,A&&c.arraySet(U.output,U.output,C,A,0),this.onData(R)):this.onData(c.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(P=!0)}while((0<U.avail_in||U.avail_out===0)&&x!==h.Z_STREAM_END);return x===h.Z_STREAM_END&&(T=h.Z_FINISH),T===h.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h.Z_OK):T!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(U.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=m,a.inflate=y,a.inflateRaw=function(v,D){return(D=D||{}).raw=!0,y(v,D)},a.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var g=f.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var S in g)g.hasOwnProperty(S)&&(h[S]=g[S])}}return h},a.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var c={arraySet:function(h,f,g,S,b){if(f.subarray&&h.subarray)h.set(f.subarray(g,g+S),b);else for(var m=0;m<S;m++)h[b+m]=f[g+m]},flattenChunks:function(h){var f,g,S,b,m,y;for(f=S=0,g=h.length;f<g;f++)S+=h[f].length;for(y=new Uint8Array(S),f=b=0,g=h.length;f<g;f++)m=h[f],y.set(m,b),b+=m.length;return y}},l={arraySet:function(h,f,g,S,b){for(var m=0;m<S;m++)h[b+m]=f[g+m]},flattenChunks:function(h){return[].concat.apply([],h)}};a.setTyped=function(h){h?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(o)},{}],42:[function(t,i,a){var o=t("./common"),c=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var h=new o.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function g(S,b){if(b<65537&&(S.subarray&&l||!S.subarray&&c))return String.fromCharCode.apply(null,o.shrinkBuf(S,b));for(var m="",y=0;y<b;y++)m+=String.fromCharCode(S[y]);return m}h[254]=h[254]=1,a.string2buf=function(S){var b,m,y,v,D,x=S.length,T=0;for(v=0;v<x;v++)(64512&(m=S.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=S.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),v++),T+=m<128?1:m<2048?2:m<65536?3:4;for(b=new o.Buf8(T),v=D=0;D<T;v++)(64512&(m=S.charCodeAt(v)))==55296&&v+1<x&&(64512&(y=S.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),v++),m<128?b[D++]=m:(m<2048?b[D++]=192|m>>>6:(m<65536?b[D++]=224|m>>>12:(b[D++]=240|m>>>18,b[D++]=128|m>>>12&63),b[D++]=128|m>>>6&63),b[D++]=128|63&m);return b},a.buf2binstring=function(S){return g(S,S.length)},a.binstring2buf=function(S){for(var b=new o.Buf8(S.length),m=0,y=b.length;m<y;m++)b[m]=S.charCodeAt(m);return b},a.buf2string=function(S,b){var m,y,v,D,x=b||S.length,T=new Array(2*x);for(m=y=0;m<x;)if((v=S[m++])<128)T[y++]=v;else if(4<(D=h[v]))T[y++]=65533,m+=D-1;else{for(v&=D===2?31:D===3?15:7;1<D&&m<x;)v=v<<6|63&S[m++],D--;1<D?T[y++]=65533:v<65536?T[y++]=v:(v-=65536,T[y++]=55296|v>>10&1023,T[y++]=56320|1023&v)}return g(T,y)},a.utf8border=function(S,b){var m;for((b=b||S.length)>S.length&&(b=S.length),m=b-1;0<=m&&(192&S[m])==128;)m--;return m<0||m===0?b:m+h[S[m]]>b?m:b}},{"./common":41}],43:[function(t,i,a){i.exports=function(o,c,l,h){for(var f=65535&o|0,g=o>>>16&65535|0,S=0;l!==0;){for(l-=S=2e3<l?2e3:l;g=g+(f=f+c[h++]|0)|0,--S;);f%=65521,g%=65521}return f|g<<16|0}},{}],44:[function(t,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,a){var o=function(){for(var c,l=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;l[h]=c}return l}();i.exports=function(c,l,h,f){var g=o,S=f+h;c^=-1;for(var b=f;b<S;b++)c=c>>>8^g[255&(c^l[b])];return-1^c}},{}],46:[function(t,i,a){var o,c=t("../utils/common"),l=t("./trees"),h=t("./adler32"),f=t("./crc32"),g=t("./messages"),S=0,b=4,m=0,y=-2,v=-1,D=4,x=2,T=8,C=9,A=286,R=30,E=19,U=2*A+1,_=15,M=3,P=258,q=P+M+1,N=42,L=113,O=1,F=2,k=3,G=4;function W(B,ge){return B.msg=g[ge],ge}function X(B){return(B<<1)-(4<B?9:0)}function Q(B){for(var ge=B.length;0<=--ge;)B[ge]=0}function Y(B){var ge=B.state,ye=ge.pending;ye>B.avail_out&&(ye=B.avail_out),ye!==0&&(c.arraySet(B.output,ge.pending_buf,ge.pending_out,ye,B.next_out),B.next_out+=ye,ge.pending_out+=ye,B.total_out+=ye,B.avail_out-=ye,ge.pending-=ye,ge.pending===0&&(ge.pending_out=0))}function $(B,ge){l._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ge),B.block_start=B.strstart,Y(B.strm)}function ee(B,ge){B.pending_buf[B.pending++]=ge}function re(B,ge){B.pending_buf[B.pending++]=ge>>>8&255,B.pending_buf[B.pending++]=255&ge}function ie(B,ge){var ye,J,Z=B.max_chain_length,ue=B.strstart,we=B.prev_length,Ae=B.nice_match,se=B.strstart>B.w_size-q?B.strstart-(B.w_size-q):0,Ee=B.window,Ue=B.w_mask,he=B.prev,Ce=B.strstart+P,ke=Ee[ue+we-1],qe=Ee[ue+we];B.prev_length>=B.good_match&&(Z>>=2),Ae>B.lookahead&&(Ae=B.lookahead);do if(Ee[(ye=ge)+we]===qe&&Ee[ye+we-1]===ke&&Ee[ye]===Ee[ue]&&Ee[++ye]===Ee[ue+1]){ue+=2,ye++;do;while(Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&Ee[++ue]===Ee[++ye]&&ue<Ce);if(J=P-(Ce-ue),ue=Ce-P,we<J){if(B.match_start=ge,Ae<=(we=J))break;ke=Ee[ue+we-1],qe=Ee[ue+we]}}while((ge=he[ge&Ue])>se&&--Z!=0);return we<=B.lookahead?we:B.lookahead}function fe(B){var ge,ye,J,Z,ue,we,Ae,se,Ee,Ue,he=B.w_size;do{if(Z=B.window_size-B.lookahead-B.strstart,B.strstart>=he+(he-q)){for(c.arraySet(B.window,B.window,he,he,0),B.match_start-=he,B.strstart-=he,B.block_start-=he,ge=ye=B.hash_size;J=B.head[--ge],B.head[ge]=he<=J?J-he:0,--ye;);for(ge=ye=he;J=B.prev[--ge],B.prev[ge]=he<=J?J-he:0,--ye;);Z+=he}if(B.strm.avail_in===0)break;if(we=B.strm,Ae=B.window,se=B.strstart+B.lookahead,Ee=Z,Ue=void 0,Ue=we.avail_in,Ee<Ue&&(Ue=Ee),ye=Ue===0?0:(we.avail_in-=Ue,c.arraySet(Ae,we.input,we.next_in,Ue,se),we.state.wrap===1?we.adler=h(we.adler,Ae,Ue,se):we.state.wrap===2&&(we.adler=f(we.adler,Ae,Ue,se)),we.next_in+=Ue,we.total_in+=Ue,Ue),B.lookahead+=ye,B.lookahead+B.insert>=M)for(ue=B.strstart-B.insert,B.ins_h=B.window[ue],B.ins_h=(B.ins_h<<B.hash_shift^B.window[ue+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[ue+M-1])&B.hash_mask,B.prev[ue&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=ue,ue++,B.insert--,!(B.lookahead+B.insert<M)););}while(B.lookahead<q&&B.strm.avail_in!==0)}function ne(B,ge){for(var ye,J;;){if(B.lookahead<q){if(fe(B),B.lookahead<q&&ge===S)return O;if(B.lookahead===0)break}if(ye=0,B.lookahead>=M&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+M-1])&B.hash_mask,ye=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),ye!==0&&B.strstart-ye<=B.w_size-q&&(B.match_length=ie(B,ye)),B.match_length>=M)if(J=l._tr_tally(B,B.strstart-B.match_start,B.match_length-M),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=M){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+M-1])&B.hash_mask,ye=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else J=l._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(J&&($(B,!1),B.strm.avail_out===0))return O}return B.insert=B.strstart<M-1?B.strstart:M-1,ge===b?($(B,!0),B.strm.avail_out===0?k:G):B.last_lit&&($(B,!1),B.strm.avail_out===0)?O:F}function oe(B,ge){for(var ye,J,Z;;){if(B.lookahead<q){if(fe(B),B.lookahead<q&&ge===S)return O;if(B.lookahead===0)break}if(ye=0,B.lookahead>=M&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+M-1])&B.hash_mask,ye=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=M-1,ye!==0&&B.prev_length<B.max_lazy_match&&B.strstart-ye<=B.w_size-q&&(B.match_length=ie(B,ye),B.match_length<=5&&(B.strategy===1||B.match_length===M&&4096<B.strstart-B.match_start)&&(B.match_length=M-1)),B.prev_length>=M&&B.match_length<=B.prev_length){for(Z=B.strstart+B.lookahead-M,J=l._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-M),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=Z&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+M-1])&B.hash_mask,ye=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=M-1,B.strstart++,J&&($(B,!1),B.strm.avail_out===0))return O}else if(B.match_available){if((J=l._tr_tally(B,0,B.window[B.strstart-1]))&&$(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return O}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(J=l._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<M-1?B.strstart:M-1,ge===b?($(B,!0),B.strm.avail_out===0?k:G):B.last_lit&&($(B,!1),B.strm.avail_out===0)?O:F}function pe(B,ge,ye,J,Z){this.good_length=B,this.max_lazy=ge,this.nice_length=ye,this.max_chain=J,this.func=Z}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*U),this.dyn_dtree=new c.Buf16(2*(2*R+1)),this.bl_tree=new c.Buf16(2*(2*E+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(_+1),this.heap=new c.Buf16(2*A+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*A+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xe(B){var ge;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=x,(ge=B.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?N:L,B.adler=ge.wrap===2?0:1,ge.last_flush=S,l._tr_init(ge),m):W(B,y)}function Oe(B){var ge=xe(B);return ge===m&&function(ye){ye.window_size=2*ye.w_size,Q(ye.head),ye.max_lazy_match=o[ye.level].max_lazy,ye.good_match=o[ye.level].good_length,ye.nice_match=o[ye.level].nice_length,ye.max_chain_length=o[ye.level].max_chain,ye.strstart=0,ye.block_start=0,ye.lookahead=0,ye.insert=0,ye.match_length=ye.prev_length=M-1,ye.match_available=0,ye.ins_h=0}(B.state),ge}function Be(B,ge,ye,J,Z,ue){if(!B)return y;var we=1;if(ge===v&&(ge=6),J<0?(we=0,J=-J):15<J&&(we=2,J-=16),Z<1||C<Z||ye!==T||J<8||15<J||ge<0||9<ge||ue<0||D<ue)return W(B,y);J===8&&(J=9);var Ae=new me;return(B.state=Ae).strm=B,Ae.wrap=we,Ae.gzhead=null,Ae.w_bits=J,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=Z+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+M-1)/M),Ae.window=new c.Buf8(2*Ae.w_size),Ae.head=new c.Buf16(Ae.hash_size),Ae.prev=new c.Buf16(Ae.w_size),Ae.lit_bufsize=1<<Z+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new c.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=ge,Ae.strategy=ue,Ae.method=ye,Oe(B)}o=[new pe(0,0,0,0,function(B,ge){var ye=65535;for(ye>B.pending_buf_size-5&&(ye=B.pending_buf_size-5);;){if(B.lookahead<=1){if(fe(B),B.lookahead===0&&ge===S)return O;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var J=B.block_start+ye;if((B.strstart===0||B.strstart>=J)&&(B.lookahead=B.strstart-J,B.strstart=J,$(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-q&&($(B,!1),B.strm.avail_out===0))return O}return B.insert=0,ge===b?($(B,!0),B.strm.avail_out===0?k:G):(B.strstart>B.block_start&&($(B,!1),B.strm.avail_out),O)}),new pe(4,4,8,4,ne),new pe(4,5,16,8,ne),new pe(4,6,32,32,ne),new pe(4,4,16,16,oe),new pe(8,16,32,32,oe),new pe(8,16,128,128,oe),new pe(8,32,128,256,oe),new pe(32,128,258,1024,oe),new pe(32,258,258,4096,oe)],a.deflateInit=function(B,ge){return Be(B,ge,T,15,8,0)},a.deflateInit2=Be,a.deflateReset=Oe,a.deflateResetKeep=xe,a.deflateSetHeader=function(B,ge){return B&&B.state?B.state.wrap!==2?y:(B.state.gzhead=ge,m):y},a.deflate=function(B,ge){var ye,J,Z,ue;if(!B||!B.state||5<ge||ge<0)return B?W(B,y):y;if(J=B.state,!B.output||!B.input&&B.avail_in!==0||J.status===666&&ge!==b)return W(B,B.avail_out===0?-5:y);if(J.strm=B,ye=J.last_flush,J.last_flush=ge,J.status===N)if(J.wrap===2)B.adler=0,ee(J,31),ee(J,139),ee(J,8),J.gzhead?(ee(J,(J.gzhead.text?1:0)+(J.gzhead.hcrc?2:0)+(J.gzhead.extra?4:0)+(J.gzhead.name?8:0)+(J.gzhead.comment?16:0)),ee(J,255&J.gzhead.time),ee(J,J.gzhead.time>>8&255),ee(J,J.gzhead.time>>16&255),ee(J,J.gzhead.time>>24&255),ee(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),ee(J,255&J.gzhead.os),J.gzhead.extra&&J.gzhead.extra.length&&(ee(J,255&J.gzhead.extra.length),ee(J,J.gzhead.extra.length>>8&255)),J.gzhead.hcrc&&(B.adler=f(B.adler,J.pending_buf,J.pending,0)),J.gzindex=0,J.status=69):(ee(J,0),ee(J,0),ee(J,0),ee(J,0),ee(J,0),ee(J,J.level===9?2:2<=J.strategy||J.level<2?4:0),ee(J,3),J.status=L);else{var we=T+(J.w_bits-8<<4)<<8;we|=(2<=J.strategy||J.level<2?0:J.level<6?1:J.level===6?2:3)<<6,J.strstart!==0&&(we|=32),we+=31-we%31,J.status=L,re(J,we),J.strstart!==0&&(re(J,B.adler>>>16),re(J,65535&B.adler)),B.adler=1}if(J.status===69)if(J.gzhead.extra){for(Z=J.pending;J.gzindex<(65535&J.gzhead.extra.length)&&(J.pending!==J.pending_buf_size||(J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),Y(B),Z=J.pending,J.pending!==J.pending_buf_size));)ee(J,255&J.gzhead.extra[J.gzindex]),J.gzindex++;J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),J.gzindex===J.gzhead.extra.length&&(J.gzindex=0,J.status=73)}else J.status=73;if(J.status===73)if(J.gzhead.name){Z=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),Y(B),Z=J.pending,J.pending===J.pending_buf_size)){ue=1;break}ue=J.gzindex<J.gzhead.name.length?255&J.gzhead.name.charCodeAt(J.gzindex++):0,ee(J,ue)}while(ue!==0);J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),ue===0&&(J.gzindex=0,J.status=91)}else J.status=91;if(J.status===91)if(J.gzhead.comment){Z=J.pending;do{if(J.pending===J.pending_buf_size&&(J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),Y(B),Z=J.pending,J.pending===J.pending_buf_size)){ue=1;break}ue=J.gzindex<J.gzhead.comment.length?255&J.gzhead.comment.charCodeAt(J.gzindex++):0,ee(J,ue)}while(ue!==0);J.gzhead.hcrc&&J.pending>Z&&(B.adler=f(B.adler,J.pending_buf,J.pending-Z,Z)),ue===0&&(J.status=103)}else J.status=103;if(J.status===103&&(J.gzhead.hcrc?(J.pending+2>J.pending_buf_size&&Y(B),J.pending+2<=J.pending_buf_size&&(ee(J,255&B.adler),ee(J,B.adler>>8&255),B.adler=0,J.status=L)):J.status=L),J.pending!==0){if(Y(B),B.avail_out===0)return J.last_flush=-1,m}else if(B.avail_in===0&&X(ge)<=X(ye)&&ge!==b)return W(B,-5);if(J.status===666&&B.avail_in!==0)return W(B,-5);if(B.avail_in!==0||J.lookahead!==0||ge!==S&&J.status!==666){var Ae=J.strategy===2?function(se,Ee){for(var Ue;;){if(se.lookahead===0&&(fe(se),se.lookahead===0)){if(Ee===S)return O;break}if(se.match_length=0,Ue=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Ue&&($(se,!1),se.strm.avail_out===0))return O}return se.insert=0,Ee===b?($(se,!0),se.strm.avail_out===0?k:G):se.last_lit&&($(se,!1),se.strm.avail_out===0)?O:F}(J,ge):J.strategy===3?function(se,Ee){for(var Ue,he,Ce,ke,qe=se.window;;){if(se.lookahead<=P){if(fe(se),se.lookahead<=P&&Ee===S)return O;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=M&&0<se.strstart&&(he=qe[Ce=se.strstart-1])===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]){ke=se.strstart+P;do;while(he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&he===qe[++Ce]&&Ce<ke);se.match_length=P-(ke-Ce),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=M?(Ue=l._tr_tally(se,1,se.match_length-M),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Ue=l._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Ue&&($(se,!1),se.strm.avail_out===0))return O}return se.insert=0,Ee===b?($(se,!0),se.strm.avail_out===0?k:G):se.last_lit&&($(se,!1),se.strm.avail_out===0)?O:F}(J,ge):o[J.level].func(J,ge);if(Ae!==k&&Ae!==G||(J.status=666),Ae===O||Ae===k)return B.avail_out===0&&(J.last_flush=-1),m;if(Ae===F&&(ge===1?l._tr_align(J):ge!==5&&(l._tr_stored_block(J,0,0,!1),ge===3&&(Q(J.head),J.lookahead===0&&(J.strstart=0,J.block_start=0,J.insert=0))),Y(B),B.avail_out===0))return J.last_flush=-1,m}return ge!==b?m:J.wrap<=0?1:(J.wrap===2?(ee(J,255&B.adler),ee(J,B.adler>>8&255),ee(J,B.adler>>16&255),ee(J,B.adler>>24&255),ee(J,255&B.total_in),ee(J,B.total_in>>8&255),ee(J,B.total_in>>16&255),ee(J,B.total_in>>24&255)):(re(J,B.adler>>>16),re(J,65535&B.adler)),Y(B),0<J.wrap&&(J.wrap=-J.wrap),J.pending!==0?m:1)},a.deflateEnd=function(B){var ge;return B&&B.state?(ge=B.state.status)!==N&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==L&&ge!==666?W(B,y):(B.state=null,ge===L?W(B,-3):m):y},a.deflateSetDictionary=function(B,ge){var ye,J,Z,ue,we,Ae,se,Ee,Ue=ge.length;if(!B||!B.state||(ue=(ye=B.state).wrap)===2||ue===1&&ye.status!==N||ye.lookahead)return y;for(ue===1&&(B.adler=h(B.adler,ge,Ue,0)),ye.wrap=0,Ue>=ye.w_size&&(ue===0&&(Q(ye.head),ye.strstart=0,ye.block_start=0,ye.insert=0),Ee=new c.Buf8(ye.w_size),c.arraySet(Ee,ge,Ue-ye.w_size,ye.w_size,0),ge=Ee,Ue=ye.w_size),we=B.avail_in,Ae=B.next_in,se=B.input,B.avail_in=Ue,B.next_in=0,B.input=ge,fe(ye);ye.lookahead>=M;){for(J=ye.strstart,Z=ye.lookahead-(M-1);ye.ins_h=(ye.ins_h<<ye.hash_shift^ye.window[J+M-1])&ye.hash_mask,ye.prev[J&ye.w_mask]=ye.head[ye.ins_h],ye.head[ye.ins_h]=J,J++,--Z;);ye.strstart=J,ye.lookahead=M-1,fe(ye)}return ye.strstart+=ye.lookahead,ye.block_start=ye.strstart,ye.insert=ye.lookahead,ye.lookahead=0,ye.match_length=ye.prev_length=M-1,ye.match_available=0,B.next_in=Ae,B.input=se,B.avail_in=we,ye.wrap=ue,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,a){i.exports=function(o,c){var l,h,f,g,S,b,m,y,v,D,x,T,C,A,R,E,U,_,M,P,q,N,L,O,F;l=o.state,h=o.next_in,O=o.input,f=h+(o.avail_in-5),g=o.next_out,F=o.output,S=g-(c-o.avail_out),b=g+(o.avail_out-257),m=l.dmax,y=l.wsize,v=l.whave,D=l.wnext,x=l.window,T=l.hold,C=l.bits,A=l.lencode,R=l.distcode,E=(1<<l.lenbits)-1,U=(1<<l.distbits)-1;e:do{C<15&&(T+=O[h++]<<C,C+=8,T+=O[h++]<<C,C+=8),_=A[T&E];t:for(;;){if(T>>>=M=_>>>24,C-=M,(M=_>>>16&255)===0)F[g++]=65535&_;else{if(!(16&M)){if((64&M)==0){_=A[(65535&_)+(T&(1<<M)-1)];continue t}if(32&M){l.mode=12;break e}o.msg="invalid literal/length code",l.mode=30;break e}P=65535&_,(M&=15)&&(C<M&&(T+=O[h++]<<C,C+=8),P+=T&(1<<M)-1,T>>>=M,C-=M),C<15&&(T+=O[h++]<<C,C+=8,T+=O[h++]<<C,C+=8),_=R[T&U];n:for(;;){if(T>>>=M=_>>>24,C-=M,!(16&(M=_>>>16&255))){if((64&M)==0){_=R[(65535&_)+(T&(1<<M)-1)];continue n}o.msg="invalid distance code",l.mode=30;break e}if(q=65535&_,C<(M&=15)&&(T+=O[h++]<<C,(C+=8)<M&&(T+=O[h++]<<C,C+=8)),m<(q+=T&(1<<M)-1)){o.msg="invalid distance too far back",l.mode=30;break e}if(T>>>=M,C-=M,(M=g-S)<q){if(v<(M=q-M)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break e}if(L=x,(N=0)===D){if(N+=y-M,M<P){for(P-=M;F[g++]=x[N++],--M;);N=g-q,L=F}}else if(D<M){if(N+=y+D-M,(M-=D)<P){for(P-=M;F[g++]=x[N++],--M;);if(N=0,D<P){for(P-=M=D;F[g++]=x[N++],--M;);N=g-q,L=F}}}else if(N+=D-M,M<P){for(P-=M;F[g++]=x[N++],--M;);N=g-q,L=F}for(;2<P;)F[g++]=L[N++],F[g++]=L[N++],F[g++]=L[N++],P-=3;P&&(F[g++]=L[N++],1<P&&(F[g++]=L[N++]))}else{for(N=g-q;F[g++]=F[N++],F[g++]=F[N++],F[g++]=F[N++],2<(P-=3););P&&(F[g++]=F[N++],1<P&&(F[g++]=F[N++]))}break}}break}}while(h<f&&g<b);h-=P=C>>3,T&=(1<<(C-=P<<3))-1,o.next_in=h,o.next_out=g,o.avail_in=h<f?f-h+5:5-(h-f),o.avail_out=g<b?b-g+257:257-(g-b),l.hold=T,l.bits=C}},{}],49:[function(t,i,a){var o=t("../utils/common"),c=t("./adler32"),l=t("./crc32"),h=t("./inffast"),f=t("./inftrees"),g=1,S=2,b=0,m=-2,y=1,v=852,D=592;function x(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(N){var L;return N&&N.state?(L=N.state,N.total_in=N.total_out=L.total=0,N.msg="",L.wrap&&(N.adler=1&L.wrap),L.mode=y,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new o.Buf32(v),L.distcode=L.distdyn=new o.Buf32(D),L.sane=1,L.back=-1,b):m}function A(N){var L;return N&&N.state?((L=N.state).wsize=0,L.whave=0,L.wnext=0,C(N)):m}function R(N,L){var O,F;return N&&N.state?(F=N.state,L<0?(O=0,L=-L):(O=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?m:(F.window!==null&&F.wbits!==L&&(F.window=null),F.wrap=O,F.wbits=L,A(N))):m}function E(N,L){var O,F;return N?(F=new T,(N.state=F).window=null,(O=R(N,L))!==b&&(N.state=null),O):m}var U,_,M=!0;function P(N){if(M){var L;for(U=new o.Buf32(512),_=new o.Buf32(32),L=0;L<144;)N.lens[L++]=8;for(;L<256;)N.lens[L++]=9;for(;L<280;)N.lens[L++]=7;for(;L<288;)N.lens[L++]=8;for(f(g,N.lens,0,288,U,0,N.work,{bits:9}),L=0;L<32;)N.lens[L++]=5;f(S,N.lens,0,32,_,0,N.work,{bits:5}),M=!1}N.lencode=U,N.lenbits=9,N.distcode=_,N.distbits=5}function q(N,L,O,F){var k,G=N.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new o.Buf8(G.wsize)),F>=G.wsize?(o.arraySet(G.window,L,O-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(F<(k=G.wsize-G.wnext)&&(k=F),o.arraySet(G.window,L,O-F,k,G.wnext),(F-=k)?(o.arraySet(G.window,L,O-F,F,0),G.wnext=F,G.whave=G.wsize):(G.wnext+=k,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=k))),0}a.inflateReset=A,a.inflateReset2=R,a.inflateResetKeep=C,a.inflateInit=function(N){return E(N,15)},a.inflateInit2=E,a.inflate=function(N,L){var O,F,k,G,W,X,Q,Y,$,ee,re,ie,fe,ne,oe,pe,me,xe,Oe,Be,B,ge,ye,J,Z=0,ue=new o.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return m;(O=N.state).mode===12&&(O.mode=13),W=N.next_out,k=N.output,Q=N.avail_out,G=N.next_in,F=N.input,X=N.avail_in,Y=O.hold,$=O.bits,ee=X,re=Q,ge=b;e:for(;;)switch(O.mode){case y:if(O.wrap===0){O.mode=13;break}for(;$<16;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(2&O.wrap&&Y===35615){ue[O.check=0]=255&Y,ue[1]=Y>>>8&255,O.check=l(O.check,ue,2,0),$=Y=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&Y)<<8)+(Y>>8))%31){N.msg="incorrect header check",O.mode=30;break}if((15&Y)!=8){N.msg="unknown compression method",O.mode=30;break}if($-=4,B=8+(15&(Y>>>=4)),O.wbits===0)O.wbits=B;else if(B>O.wbits){N.msg="invalid window size",O.mode=30;break}O.dmax=1<<B,N.adler=O.check=1,O.mode=512&Y?10:12,$=Y=0;break;case 2:for(;$<16;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(O.flags=Y,(255&O.flags)!=8){N.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){N.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=Y>>8&1),512&O.flags&&(ue[0]=255&Y,ue[1]=Y>>>8&255,O.check=l(O.check,ue,2,0)),$=Y=0,O.mode=3;case 3:for(;$<32;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.head&&(O.head.time=Y),512&O.flags&&(ue[0]=255&Y,ue[1]=Y>>>8&255,ue[2]=Y>>>16&255,ue[3]=Y>>>24&255,O.check=l(O.check,ue,4,0)),$=Y=0,O.mode=4;case 4:for(;$<16;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.head&&(O.head.xflags=255&Y,O.head.os=Y>>8),512&O.flags&&(ue[0]=255&Y,ue[1]=Y>>>8&255,O.check=l(O.check,ue,2,0)),$=Y=0,O.mode=5;case 5:if(1024&O.flags){for(;$<16;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.length=Y,O.head&&(O.head.extra_len=Y),512&O.flags&&(ue[0]=255&Y,ue[1]=Y>>>8&255,O.check=l(O.check,ue,2,0)),$=Y=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(X<(ie=O.length)&&(ie=X),ie&&(O.head&&(B=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),o.arraySet(O.head.extra,F,G,ie,B)),512&O.flags&&(O.check=l(O.check,F,ie,G)),X-=ie,G+=ie,O.length-=ie),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(X===0)break e;for(ie=0;B=F[G+ie++],O.head&&B&&O.length<65536&&(O.head.name+=String.fromCharCode(B)),B&&ie<X;);if(512&O.flags&&(O.check=l(O.check,F,ie,G)),X-=ie,G+=ie,B)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(X===0)break e;for(ie=0;B=F[G+ie++],O.head&&B&&O.length<65536&&(O.head.comment+=String.fromCharCode(B)),B&&ie<X;);if(512&O.flags&&(O.check=l(O.check,F,ie,G)),X-=ie,G+=ie,B)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;$<16;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(Y!==(65535&O.check)){N.msg="header crc mismatch",O.mode=30;break}$=Y=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),N.adler=O.check=0,O.mode=12;break;case 10:for(;$<32;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}N.adler=O.check=x(Y),$=Y=0,O.mode=11;case 11:if(O.havedict===0)return N.next_out=W,N.avail_out=Q,N.next_in=G,N.avail_in=X,O.hold=Y,O.bits=$,2;N.adler=O.check=1,O.mode=12;case 12:if(L===5||L===6)break e;case 13:if(O.last){Y>>>=7&$,$-=7&$,O.mode=27;break}for(;$<3;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}switch(O.last=1&Y,$-=1,3&(Y>>>=1)){case 0:O.mode=14;break;case 1:if(P(O),O.mode=20,L!==6)break;Y>>>=2,$-=2;break e;case 2:O.mode=17;break;case 3:N.msg="invalid block type",O.mode=30}Y>>>=2,$-=2;break;case 14:for(Y>>>=7&$,$-=7&$;$<32;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if((65535&Y)!=(Y>>>16^65535)){N.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&Y,$=Y=0,O.mode=15,L===6)break e;case 15:O.mode=16;case 16:if(ie=O.length){if(X<ie&&(ie=X),Q<ie&&(ie=Q),ie===0)break e;o.arraySet(k,F,G,ie,W),X-=ie,G+=ie,Q-=ie,W+=ie,O.length-=ie;break}O.mode=12;break;case 17:for(;$<14;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(O.nlen=257+(31&Y),Y>>>=5,$-=5,O.ndist=1+(31&Y),Y>>>=5,$-=5,O.ncode=4+(15&Y),Y>>>=4,$-=4,286<O.nlen||30<O.ndist){N.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;$<3;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.lens[we[O.have++]]=7&Y,Y>>>=3,$-=3}for(;O.have<19;)O.lens[we[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,ye={bits:O.lenbits},ge=f(0,O.lens,0,19,O.lencode,0,O.work,ye),O.lenbits=ye.bits,ge){N.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;pe=(Z=O.lencode[Y&(1<<O.lenbits)-1])>>>16&255,me=65535&Z,!((oe=Z>>>24)<=$);){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(me<16)Y>>>=oe,$-=oe,O.lens[O.have++]=me;else{if(me===16){for(J=oe+2;$<J;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(Y>>>=oe,$-=oe,O.have===0){N.msg="invalid bit length repeat",O.mode=30;break}B=O.lens[O.have-1],ie=3+(3&Y),Y>>>=2,$-=2}else if(me===17){for(J=oe+3;$<J;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}$-=oe,B=0,ie=3+(7&(Y>>>=oe)),Y>>>=3,$-=3}else{for(J=oe+7;$<J;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}$-=oe,B=0,ie=11+(127&(Y>>>=oe)),Y>>>=7,$-=7}if(O.have+ie>O.nlen+O.ndist){N.msg="invalid bit length repeat",O.mode=30;break}for(;ie--;)O.lens[O.have++]=B}}if(O.mode===30)break;if(O.lens[256]===0){N.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,ye={bits:O.lenbits},ge=f(g,O.lens,0,O.nlen,O.lencode,0,O.work,ye),O.lenbits=ye.bits,ge){N.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,ye={bits:O.distbits},ge=f(S,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,ye),O.distbits=ye.bits,ge){N.msg="invalid distances set",O.mode=30;break}if(O.mode=20,L===6)break e;case 20:O.mode=21;case 21:if(6<=X&&258<=Q){N.next_out=W,N.avail_out=Q,N.next_in=G,N.avail_in=X,O.hold=Y,O.bits=$,h(N,re),W=N.next_out,k=N.output,Q=N.avail_out,G=N.next_in,F=N.input,X=N.avail_in,Y=O.hold,$=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;pe=(Z=O.lencode[Y&(1<<O.lenbits)-1])>>>16&255,me=65535&Z,!((oe=Z>>>24)<=$);){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(pe&&(240&pe)==0){for(xe=oe,Oe=pe,Be=me;pe=(Z=O.lencode[Be+((Y&(1<<xe+Oe)-1)>>xe)])>>>16&255,me=65535&Z,!(xe+(oe=Z>>>24)<=$);){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}Y>>>=xe,$-=xe,O.back+=xe}if(Y>>>=oe,$-=oe,O.back+=oe,O.length=me,pe===0){O.mode=26;break}if(32&pe){O.back=-1,O.mode=12;break}if(64&pe){N.msg="invalid literal/length code",O.mode=30;break}O.extra=15&pe,O.mode=22;case 22:if(O.extra){for(J=O.extra;$<J;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.length+=Y&(1<<O.extra)-1,Y>>>=O.extra,$-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;pe=(Z=O.distcode[Y&(1<<O.distbits)-1])>>>16&255,me=65535&Z,!((oe=Z>>>24)<=$);){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if((240&pe)==0){for(xe=oe,Oe=pe,Be=me;pe=(Z=O.distcode[Be+((Y&(1<<xe+Oe)-1)>>xe)])>>>16&255,me=65535&Z,!(xe+(oe=Z>>>24)<=$);){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}Y>>>=xe,$-=xe,O.back+=xe}if(Y>>>=oe,$-=oe,O.back+=oe,64&pe){N.msg="invalid distance code",O.mode=30;break}O.offset=me,O.extra=15&pe,O.mode=24;case 24:if(O.extra){for(J=O.extra;$<J;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}O.offset+=Y&(1<<O.extra)-1,Y>>>=O.extra,$-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){N.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(Q===0)break e;if(ie=re-Q,O.offset>ie){if((ie=O.offset-ie)>O.whave&&O.sane){N.msg="invalid distance too far back",O.mode=30;break}fe=ie>O.wnext?(ie-=O.wnext,O.wsize-ie):O.wnext-ie,ie>O.length&&(ie=O.length),ne=O.window}else ne=k,fe=W-O.offset,ie=O.length;for(Q<ie&&(ie=Q),Q-=ie,O.length-=ie;k[W++]=ne[fe++],--ie;);O.length===0&&(O.mode=21);break;case 26:if(Q===0)break e;k[W++]=O.length,Q--,O.mode=21;break;case 27:if(O.wrap){for(;$<32;){if(X===0)break e;X--,Y|=F[G++]<<$,$+=8}if(re-=Q,N.total_out+=re,O.total+=re,re&&(N.adler=O.check=O.flags?l(O.check,k,re,W-re):c(O.check,k,re,W-re)),re=Q,(O.flags?Y:x(Y))!==O.check){N.msg="incorrect data check",O.mode=30;break}$=Y=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;$<32;){if(X===0)break e;X--,Y+=F[G++]<<$,$+=8}if(Y!==(4294967295&O.total)){N.msg="incorrect length check",O.mode=30;break}$=Y=0}O.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return m}return N.next_out=W,N.avail_out=Q,N.next_in=G,N.avail_in=X,O.hold=Y,O.bits=$,(O.wsize||re!==N.avail_out&&O.mode<30&&(O.mode<27||L!==4))&&q(N,N.output,N.next_out,re-N.avail_out)?(O.mode=31,-4):(ee-=N.avail_in,re-=N.avail_out,N.total_in+=ee,N.total_out+=re,O.total+=re,O.wrap&&re&&(N.adler=O.check=O.flags?l(O.check,k,re,N.next_out-re):c(O.check,k,re,N.next_out-re)),N.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(ee==0&&re===0||L===4)&&ge===b&&(ge=-5),ge)},a.inflateEnd=function(N){if(!N||!N.state)return m;var L=N.state;return L.window&&(L.window=null),N.state=null,b},a.inflateGetHeader=function(N,L){var O;return N&&N.state?(2&(O=N.state).wrap)==0?m:((O.head=L).done=!1,b):m},a.inflateSetDictionary=function(N,L){var O,F=L.length;return N&&N.state?(O=N.state).wrap!==0&&O.mode!==11?m:O.mode===11&&c(1,L,F,0)!==O.check?-3:q(N,L,F,F)?(O.mode=31,-4):(O.havedict=1,b):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,a){var o=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,S,b,m,y,v,D,x){var T,C,A,R,E,U,_,M,P,q=x.bits,N=0,L=0,O=0,F=0,k=0,G=0,W=0,X=0,Q=0,Y=0,$=null,ee=0,re=new o.Buf16(16),ie=new o.Buf16(16),fe=null,ne=0;for(N=0;N<=15;N++)re[N]=0;for(L=0;L<m;L++)re[S[b+L]]++;for(k=q,F=15;1<=F&&re[F]===0;F--);if(F<k&&(k=F),F===0)return y[v++]=20971520,y[v++]=20971520,x.bits=1,0;for(O=1;O<F&&re[O]===0;O++);for(k<O&&(k=O),N=X=1;N<=15;N++)if(X<<=1,(X-=re[N])<0)return-1;if(0<X&&(g===0||F!==1))return-1;for(ie[1]=0,N=1;N<15;N++)ie[N+1]=ie[N]+re[N];for(L=0;L<m;L++)S[b+L]!==0&&(D[ie[S[b+L]]++]=L);if(U=g===0?($=fe=D,19):g===1?($=c,ee-=257,fe=l,ne-=257,256):($=h,fe=f,-1),N=O,E=v,W=L=Y=0,A=-1,R=(Q=1<<(G=k))-1,g===1&&852<Q||g===2&&592<Q)return 1;for(;;){for(_=N-W,P=D[L]<U?(M=0,D[L]):D[L]>U?(M=fe[ne+D[L]],$[ee+D[L]]):(M=96,0),T=1<<N-W,O=C=1<<G;y[E+(Y>>W)+(C-=T)]=_<<24|M<<16|P|0,C!==0;);for(T=1<<N-1;Y&T;)T>>=1;if(T!==0?(Y&=T-1,Y+=T):Y=0,L++,--re[N]==0){if(N===F)break;N=S[b+D[L]]}if(k<N&&(Y&R)!==A){for(W===0&&(W=k),E+=O,X=1<<(G=N-W);G+W<F&&!((X-=re[G+W])<=0);)G++,X<<=1;if(Q+=1<<G,g===1&&852<Q||g===2&&592<Q)return 1;y[A=Y&R]=k<<24|G<<16|E-v|0}}return Y!==0&&(y[E+Y]=N-W<<24|64<<16|0),x.bits=k,0}},{"../utils/common":41}],51:[function(t,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,a){var o=t("../utils/common"),c=0,l=1;function h(Z){for(var ue=Z.length;0<=--ue;)Z[ue]=0}var f=0,g=29,S=256,b=S+1+g,m=30,y=19,v=2*b+1,D=15,x=16,T=7,C=256,A=16,R=17,E=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(b+2));h(q);var N=new Array(2*m);h(N);var L=new Array(512);h(L);var O=new Array(256);h(O);var F=new Array(g);h(F);var k,G,W,X=new Array(m);function Q(Z,ue,we,Ae,se){this.static_tree=Z,this.extra_bits=ue,this.extra_base=we,this.elems=Ae,this.max_length=se,this.has_stree=Z&&Z.length}function Y(Z,ue){this.dyn_tree=Z,this.max_code=0,this.stat_desc=ue}function $(Z){return Z<256?L[Z]:L[256+(Z>>>7)]}function ee(Z,ue){Z.pending_buf[Z.pending++]=255&ue,Z.pending_buf[Z.pending++]=ue>>>8&255}function re(Z,ue,we){Z.bi_valid>x-we?(Z.bi_buf|=ue<<Z.bi_valid&65535,ee(Z,Z.bi_buf),Z.bi_buf=ue>>x-Z.bi_valid,Z.bi_valid+=we-x):(Z.bi_buf|=ue<<Z.bi_valid&65535,Z.bi_valid+=we)}function ie(Z,ue,we){re(Z,we[2*ue],we[2*ue+1])}function fe(Z,ue){for(var we=0;we|=1&Z,Z>>>=1,we<<=1,0<--ue;);return we>>>1}function ne(Z,ue,we){var Ae,se,Ee=new Array(D+1),Ue=0;for(Ae=1;Ae<=D;Ae++)Ee[Ae]=Ue=Ue+we[Ae-1]<<1;for(se=0;se<=ue;se++){var he=Z[2*se+1];he!==0&&(Z[2*se]=fe(Ee[he]++,he))}}function oe(Z){var ue;for(ue=0;ue<b;ue++)Z.dyn_ltree[2*ue]=0;for(ue=0;ue<m;ue++)Z.dyn_dtree[2*ue]=0;for(ue=0;ue<y;ue++)Z.bl_tree[2*ue]=0;Z.dyn_ltree[2*C]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function pe(Z){8<Z.bi_valid?ee(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function me(Z,ue,we,Ae){var se=2*ue,Ee=2*we;return Z[se]<Z[Ee]||Z[se]===Z[Ee]&&Ae[ue]<=Ae[we]}function xe(Z,ue,we){for(var Ae=Z.heap[we],se=we<<1;se<=Z.heap_len&&(se<Z.heap_len&&me(ue,Z.heap[se+1],Z.heap[se],Z.depth)&&se++,!me(ue,Ae,Z.heap[se],Z.depth));)Z.heap[we]=Z.heap[se],we=se,se<<=1;Z.heap[we]=Ae}function Oe(Z,ue,we){var Ae,se,Ee,Ue,he=0;if(Z.last_lit!==0)for(;Ae=Z.pending_buf[Z.d_buf+2*he]<<8|Z.pending_buf[Z.d_buf+2*he+1],se=Z.pending_buf[Z.l_buf+he],he++,Ae===0?ie(Z,se,ue):(ie(Z,(Ee=O[se])+S+1,ue),(Ue=U[Ee])!==0&&re(Z,se-=F[Ee],Ue),ie(Z,Ee=$(--Ae),we),(Ue=_[Ee])!==0&&re(Z,Ae-=X[Ee],Ue)),he<Z.last_lit;);ie(Z,C,ue)}function Be(Z,ue){var we,Ae,se,Ee=ue.dyn_tree,Ue=ue.stat_desc.static_tree,he=ue.stat_desc.has_stree,Ce=ue.stat_desc.elems,ke=-1;for(Z.heap_len=0,Z.heap_max=v,we=0;we<Ce;we++)Ee[2*we]!==0?(Z.heap[++Z.heap_len]=ke=we,Z.depth[we]=0):Ee[2*we+1]=0;for(;Z.heap_len<2;)Ee[2*(se=Z.heap[++Z.heap_len]=ke<2?++ke:0)]=1,Z.depth[se]=0,Z.opt_len--,he&&(Z.static_len-=Ue[2*se+1]);for(ue.max_code=ke,we=Z.heap_len>>1;1<=we;we--)xe(Z,Ee,we);for(se=Ce;we=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],xe(Z,Ee,1),Ae=Z.heap[1],Z.heap[--Z.heap_max]=we,Z.heap[--Z.heap_max]=Ae,Ee[2*se]=Ee[2*we]+Ee[2*Ae],Z.depth[se]=(Z.depth[we]>=Z.depth[Ae]?Z.depth[we]:Z.depth[Ae])+1,Ee[2*we+1]=Ee[2*Ae+1]=se,Z.heap[1]=se++,xe(Z,Ee,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(qe,je){var Ge,Ve,et,He,it,Jt,Fn=je.dyn_tree,We=je.max_code,Mt=je.stat_desc.static_tree,en=je.stat_desc.has_stree,qi=je.stat_desc.extra_bits,qa=je.stat_desc.extra_base,Lt=je.stat_desc.max_length,dn=0;for(He=0;He<=D;He++)qe.bl_count[He]=0;for(Fn[2*qe.heap[qe.heap_max]+1]=0,Ge=qe.heap_max+1;Ge<v;Ge++)Lt<(He=Fn[2*Fn[2*(Ve=qe.heap[Ge])+1]+1]+1)&&(He=Lt,dn++),Fn[2*Ve+1]=He,We<Ve||(qe.bl_count[He]++,it=0,qa<=Ve&&(it=qi[Ve-qa]),Jt=Fn[2*Ve],qe.opt_len+=Jt*(He+it),en&&(qe.static_len+=Jt*(Mt[2*Ve+1]+it)));if(dn!==0){do{for(He=Lt-1;qe.bl_count[He]===0;)He--;qe.bl_count[He]--,qe.bl_count[He+1]+=2,qe.bl_count[Lt]--,dn-=2}while(0<dn);for(He=Lt;He!==0;He--)for(Ve=qe.bl_count[He];Ve!==0;)We<(et=qe.heap[--Ge])||(Fn[2*et+1]!==He&&(qe.opt_len+=(He-Fn[2*et+1])*Fn[2*et],Fn[2*et+1]=He),Ve--)}}(Z,ue),ne(Ee,ke,Z.bl_count)}function B(Z,ue,we){var Ae,se,Ee=-1,Ue=ue[1],he=0,Ce=7,ke=4;for(Ue===0&&(Ce=138,ke=3),ue[2*(we+1)+1]=65535,Ae=0;Ae<=we;Ae++)se=Ue,Ue=ue[2*(Ae+1)+1],++he<Ce&&se===Ue||(he<ke?Z.bl_tree[2*se]+=he:se!==0?(se!==Ee&&Z.bl_tree[2*se]++,Z.bl_tree[2*A]++):he<=10?Z.bl_tree[2*R]++:Z.bl_tree[2*E]++,Ee=se,ke=(he=0)===Ue?(Ce=138,3):se===Ue?(Ce=6,3):(Ce=7,4))}function ge(Z,ue,we){var Ae,se,Ee=-1,Ue=ue[1],he=0,Ce=7,ke=4;for(Ue===0&&(Ce=138,ke=3),Ae=0;Ae<=we;Ae++)if(se=Ue,Ue=ue[2*(Ae+1)+1],!(++he<Ce&&se===Ue)){if(he<ke)for(;ie(Z,se,Z.bl_tree),--he!=0;);else se!==0?(se!==Ee&&(ie(Z,se,Z.bl_tree),he--),ie(Z,A,Z.bl_tree),re(Z,he-3,2)):he<=10?(ie(Z,R,Z.bl_tree),re(Z,he-3,3)):(ie(Z,E,Z.bl_tree),re(Z,he-11,7));Ee=se,ke=(he=0)===Ue?(Ce=138,3):se===Ue?(Ce=6,3):(Ce=7,4)}}h(X);var ye=!1;function J(Z,ue,we,Ae){re(Z,(f<<1)+(Ae?1:0),3),function(se,Ee,Ue,he){pe(se),ee(se,Ue),ee(se,~Ue),o.arraySet(se.pending_buf,se.window,Ee,Ue,se.pending),se.pending+=Ue}(Z,ue,we)}a._tr_init=function(Z){ye||(function(){var ue,we,Ae,se,Ee,Ue=new Array(D+1);for(se=Ae=0;se<g-1;se++)for(F[se]=Ae,ue=0;ue<1<<U[se];ue++)O[Ae++]=se;for(O[Ae-1]=se,se=Ee=0;se<16;se++)for(X[se]=Ee,ue=0;ue<1<<_[se];ue++)L[Ee++]=se;for(Ee>>=7;se<m;se++)for(X[se]=Ee<<7,ue=0;ue<1<<_[se]-7;ue++)L[256+Ee++]=se;for(we=0;we<=D;we++)Ue[we]=0;for(ue=0;ue<=143;)q[2*ue+1]=8,ue++,Ue[8]++;for(;ue<=255;)q[2*ue+1]=9,ue++,Ue[9]++;for(;ue<=279;)q[2*ue+1]=7,ue++,Ue[7]++;for(;ue<=287;)q[2*ue+1]=8,ue++,Ue[8]++;for(ne(q,b+1,Ue),ue=0;ue<m;ue++)N[2*ue+1]=5,N[2*ue]=fe(ue,5);k=new Q(q,U,S+1,b,D),G=new Q(N,_,0,m,D),W=new Q(new Array(0),M,0,y,T)}(),ye=!0),Z.l_desc=new Y(Z.dyn_ltree,k),Z.d_desc=new Y(Z.dyn_dtree,G),Z.bl_desc=new Y(Z.bl_tree,W),Z.bi_buf=0,Z.bi_valid=0,oe(Z)},a._tr_stored_block=J,a._tr_flush_block=function(Z,ue,we,Ae){var se,Ee,Ue=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(he){var Ce,ke=4093624447;for(Ce=0;Ce<=31;Ce++,ke>>>=1)if(1&ke&&he.dyn_ltree[2*Ce]!==0)return c;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return l;for(Ce=32;Ce<S;Ce++)if(he.dyn_ltree[2*Ce]!==0)return l;return c}(Z)),Be(Z,Z.l_desc),Be(Z,Z.d_desc),Ue=function(he){var Ce;for(B(he,he.dyn_ltree,he.l_desc.max_code),B(he,he.dyn_dtree,he.d_desc.max_code),Be(he,he.bl_desc),Ce=y-1;3<=Ce&&he.bl_tree[2*P[Ce]+1]===0;Ce--);return he.opt_len+=3*(Ce+1)+5+5+4,Ce}(Z),se=Z.opt_len+3+7>>>3,(Ee=Z.static_len+3+7>>>3)<=se&&(se=Ee)):se=Ee=we+5,we+4<=se&&ue!==-1?J(Z,ue,we,Ae):Z.strategy===4||Ee===se?(re(Z,2+(Ae?1:0),3),Oe(Z,q,N)):(re(Z,4+(Ae?1:0),3),function(he,Ce,ke,qe){var je;for(re(he,Ce-257,5),re(he,ke-1,5),re(he,qe-4,4),je=0;je<qe;je++)re(he,he.bl_tree[2*P[je]+1],3);ge(he,he.dyn_ltree,Ce-1),ge(he,he.dyn_dtree,ke-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,Ue+1),Oe(Z,Z.dyn_ltree,Z.dyn_dtree)),oe(Z),Ae&&pe(Z)},a._tr_tally=function(Z,ue,we){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=ue>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&ue,Z.pending_buf[Z.l_buf+Z.last_lit]=255&we,Z.last_lit++,ue===0?Z.dyn_ltree[2*we]++:(Z.matches++,ue--,Z.dyn_ltree[2*(O[we]+S+1)]++,Z.dyn_dtree[2*$(ue)]++),Z.last_lit===Z.lit_bufsize-1},a._tr_align=function(Z){re(Z,2,3),ie(Z,C,q),function(ue){ue.bi_valid===16?(ee(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):8<=ue.bi_valid&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(t,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,a){(function(o){(function(c,l){if(!c.setImmediate){var h,f,g,S,b=1,m={},y=!1,v=c.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(c);D=D&&D.setTimeout?D:c,h={}.toString.call(c.process)==="[object process]"?function(A){process.nextTick(function(){T(A)})}:function(){if(c.postMessage&&!c.importScripts){var A=!0,R=c.onmessage;return c.onmessage=function(){A=!1},c.postMessage("","*"),c.onmessage=R,A}}()?(S="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",C,!1):c.attachEvent("onmessage",C),function(A){c.postMessage(S+A,"*")}):c.MessageChannel?((g=new MessageChannel).port1.onmessage=function(A){T(A.data)},function(A){g.port2.postMessage(A)}):v&&"onreadystatechange"in v.createElement("script")?(f=v.documentElement,function(A){var R=v.createElement("script");R.onreadystatechange=function(){T(A),R.onreadystatechange=null,f.removeChild(R),R=null},f.appendChild(R)}):function(A){setTimeout(T,0,A)},D.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var R=new Array(arguments.length-1),E=0;E<R.length;E++)R[E]=arguments[E+1];var U={callback:A,args:R};return m[b]=U,h(b),b++},D.clearImmediate=x}function x(A){delete m[A]}function T(A){if(y)setTimeout(T,0,A);else{var R=m[A];if(R){y=!0;try{(function(E){var U=E.callback,_=E.args;switch(_.length){case 0:U();break;case 1:U(_[0]);break;case 2:U(_[0],_[1]);break;case 3:U(_[0],_[1],_[2]);break;default:U.apply(l,_)}})(R)}finally{x(A),y=!1}}}}function C(A){A.source===c&&typeof A.data=="string"&&A.data.indexOf(S)===0&&T(+A.data.slice(S.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof _d<"u"?_d:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(AC)),AC.exports}var gQ=fQ();const pQ=Lm(gQ);var Oi={m:{},d:function(n,e){for(var t in e)Oi.o(e,t)&&!Oi.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Oi.p=n})(),Oi.b=document.baseURI||self.location.href;var Ss,up,S4;const tp=class tp{constructor(e){V(this,up);V(this,Ss);if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create index with non number values.");H(this,Ss,e)}get(e){return u(this,Ss)[e]}length(){return u(this,Ss).length}toString(){return"("+u(this,Ss).toString()+")"}getValues(){return u(this,Ss).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)t.push(this.get(i)+e.get(i));return new tp(t)}next(e){return z(this,up,S4).call(this,e,1)}previous(e){return z(this,up,S4).call(this,e,-1)}getWithNew2D(e,t){const i=[e,t];for(let a=2,o=this.length();a<o;++a)i.push(this.get(a));return new tp(i)}};Ss=new WeakMap,up=new WeakSet,S4=function(e,t){const i=u(this,Ss).slice();return e<i.length?i[e]+=t:console.warn("Cannot add to given dimension: ",e,i.length),new tp(i)};let Et=tp;var qd,Bd,Ru,Gd;class mQ{constructor(e,t){V(this,qd);V(this,Bd);V(this,Ru);V(this,Gd);if(H(this,qd,e),H(this,Bd,e.isID()),H(this,Ru,Math.pow(2,t)),!u(this,Bd)){H(this,Gd,new Float32Array(u(this,Ru)));for(let i=0;i<u(this,Ru);++i)u(this,Gd)[i]=u(this,qd).apply(i)}}getRSI(){return u(this,qd)}getLength(){return u(this,Ru)}getValue(e){return u(this,Bd)?e:u(this,Gd)[e]}}qd=new WeakMap,Bd=new WeakMap,Ru=new WeakMap,Gd=new WeakMap;var ys,Fl,Vd,kl,zd;class SQ{constructor(e,t,i){V(this,ys);V(this,Fl);V(this,Vd);V(this,kl,0);V(this,zd,!0);if(H(this,ys,e),t){const a=u(this,ys).getLength();H(this,kl,a/2)}else H(this,kl,0);H(this,zd,i)}getVoiLut(){return u(this,Fl)}getModalityLut(){return u(this,ys)}setVoiLut(e){if(H(this,Fl,e),u(this,Fl).setSignedOffset(u(this,ys).getRSI().getSlope()*u(this,kl)),u(this,zd)){const t=u(this,ys).getLength();H(this,Vd,new Uint8ClampedArray(t));for(let i=0;i<t;++i)u(this,Vd)[i]=u(this,Fl).apply(u(this,ys).getValue(i))}}getValue(e){return u(this,zd)?u(this,Vd)[e+u(this,kl)]:Math.floor(u(this,Fl).apply(e+u(this,kl)))}}ys=new WeakMap,Fl=new WeakMap,Vd=new WeakMap,kl=new WeakMap,zd=new WeakMap;function ds(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function RC(n){return n}function OC(n){return 255-n}class q6{constructor(e,t,i){ae(this,"red");ae(this,"green");ae(this,"blue");this.red=e,this.green=t,this.blue=i}}const vA={plain:{red:ds(RC),green:ds(RC),blue:ds(RC)},invPlain:{red:ds(OC),green:ds(OC),blue:ds(OC)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:ds(function(n){const e=3*n;return e>255?255:e}),green:ds(function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t}),blue:ds(function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},Re={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},yu={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};var dp,hp,Ou,Qd,fp,gp;class bA{constructor(e,t,i){V(this,dp);V(this,hp);V(this,Ou,0);V(this,Qd,255);V(this,fp);V(this,gp);i===void 0&&(i=!1);let a=e,o=t;i||(a-=.5,o-=1),H(this,dp,a-o/2),H(this,hp,a+o/2),H(this,fp,(u(this,Qd)-u(this,Ou))/o),H(this,gp,(-a/o+.5)*(u(this,Qd)-u(this,Ou))+u(this,Ou))}getY(e){let t;return t=e<=u(this,dp)?u(this,Ou):e>u(this,hp)?u(this,Qd):e*u(this,fp)+u(this,gp),t}}dp=new WeakMap,hp=new WeakMap,Ou=new WeakMap,Qd=new WeakMap,fp=new WeakMap,gp=new WeakMap;var pp,Py,mp,Sp;class yQ{constructor(e,t){V(this,pp,0);V(this,Py,255);V(this,mp);V(this,Sp);H(this,mp,e),H(this,Sp,t)}getY(e){return(u(this,Py)-u(this,pp))/(1+Math.exp(-4*(e-u(this,mp))/u(this,Sp)))+u(this,pp)}}pp=new WeakMap,Py=new WeakMap,mp=new WeakMap,Sp=new WeakMap;var Pu,yp,Lu,Hd,vp,y4;class vQ{constructor(e,t){V(this,vp);V(this,Pu);V(this,yp,0);V(this,Lu);V(this,Hd,yu.linear);if(H(this,Pu,e),t!==void 0){const i=[];for(const a in yu)i.push(yu[a]);i.includes(t)?H(this,Hd,t):Re.debug("Unknown VOI LUT function: "+t)}z(this,vp,y4).call(this)}getWindowLevel(){return u(this,Pu)}setSignedOffset(e){H(this,yp,e),z(this,vp,y4).call(this)}apply(e){return u(this,Lu).getY(e)}}Pu=new WeakMap,yp=new WeakMap,Lu=new WeakMap,Hd=new WeakMap,vp=new WeakSet,y4=function(){const e=u(this,Pu).center,t=u(this,Pu).width,i=e+u(this,yp);u(this,Hd)===yu.linear_exact?H(this,Lu,new bA(i,t,!0)):u(this,Hd)===yu.sigmoid?H(this,Lu,new yQ(i,t)):H(this,Lu,new bA(i,t))};function CA(n,e,t){if(n===void 0)return;let i=n.center;i=Math.min(i,e.max),i=Math.max(i,e.min);let a=1;t===void 0||t!==yu.linear_exact&&t!==yu.sigmoid||(a=0);let o=n.width;return o=Math.max(o,a),o=Math.min(o,e.max-e.min),new Cr(i,o)}class Cr{constructor(e,t){ae(this,"center");ae(this,"width");this.center=e,this.width=t}equals(e){return e!=null&&this.center===e.center&&this.width===e.width}}class Di{constructor(e,t,i){ae(this,"r");ae(this,"g");ae(this,"b");this.r=e,this.g=t,this.b=i}}function bQ(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function CQ(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const tP={x:95.0489,y:100,z:108.884};function DQ(n){return function(e){function t(o){let c=null;return c=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,c}const i=tP,a=t(e.y/i.y);return{l:116*a-16,a:500*(t(e.x/i.x)-a),b:200*(a-t(e.z/i.z))}}(function(e){function t(c){let l=null;return l=c<=.04045?c/12.92:Math.pow((c+.055)/1.055,2.4),l}const i=t(e.r/255),a=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*i+.3576*a+.1805*o),y:100*(.2126*i+.7152*a+.0722*o),z:100*(.0193*i+.1192*a+.9505*o)}}(n))}function TQ(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const wQ={CT:{mediastinum:new Cr(40,400),lung:new Cr(-500,1500),bone:new Cr(500,2e3),brain:new Cr(40,80),head:new Cr(90,350)}};class xQ{create(e,t){const i=new RQ(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&i.setColourMap("invPlain");let a={};t.getMeta().windowPresets!==void 0&&(a=t.getMeta().windowPresets),a.minmax={name:"minmax"};const o=t.getMeta().Modality;let c;c=wQ[o];for(const l in c){const h=c[l];a[l]={wl:[new Cr(h.center,h.width)],name:l}}return i.setWindowPresets(a),i.init(),i}}var ca,ua,da;const J6=class J6{constructor(e,t,i){V(this,ca);V(this,ua);V(this,da);H(this,ca,e),H(this,ua,t),H(this,da,i)}getX(){return u(this,ca)}getY(){return u(this,ua)}getZ(){return u(this,da)}equals(e){return e!==null&&u(this,ca)===e.getX()&&u(this,ua)===e.getY()&&u(this,da)===e.getZ()}toString(){return"("+u(this,ca)+", "+u(this,ua)+", "+u(this,da)+")"}norm(){return Math.sqrt(u(this,ca)*u(this,ca)+u(this,ua)*u(this,ua)+u(this,da)*u(this,da))}crossProduct(e){return new J6(u(this,ua)*e.getZ()-e.getY()*u(this,da),u(this,da)*e.getX()-e.getZ()*u(this,ca),u(this,ca)*e.getY()-e.getX()*u(this,ua))}dotProduct(e){return u(this,ca)*e.getX()+u(this,ua)*e.getY()+u(this,da)*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}};ca=new WeakMap,ua=new WeakMap,da=new WeakMap;let mn=J6;var vs,bs;class Le{constructor(e,t){V(this,vs);V(this,bs);H(this,vs,e),H(this,bs,t)}getX(){return u(this,vs)}getY(){return u(this,bs)}getValues(){return[u(this,vs),u(this,bs)]}getCentroid(){return this}equals(e){return e!=null&&u(this,vs)===e.getX()&&u(this,bs)===e.getY()}toString(){return"("+u(this,vs)+", "+u(this,bs)+")"}getDistance(e){const t=u(this,vs)-e.getX(),i=u(this,bs)-e.getY();return Math.sqrt(t*t+i*i)}}vs=new WeakMap,bs=new WeakMap;var ja,Ya,Xa,jd,E2;class Xt{constructor(e,t,i){V(this,jd);V(this,ja);V(this,Ya);V(this,Xa);H(this,ja,e),H(this,Ya,t),H(this,Xa,i)}getX(){return u(this,ja)}getY(){return u(this,Ya)}getZ(){return u(this,Xa)}getValues(){return[u(this,ja),u(this,Ya),u(this,Xa)]}equals(e){return e!==null&&u(this,ja)===e.getX()&&u(this,Ya)===e.getY()&&u(this,Xa)===e.getZ()}isSimilar(e,t){return e!==null&&Kg(u(this,ja),e.getX(),t)&&Kg(u(this,Ya),e.getY(),t)&&Kg(u(this,Xa),e.getZ(),t)}toString(){return"("+u(this,ja)+", "+u(this,Ya)+", "+u(this,Xa)+")"}getDistance(e){return Math.sqrt(z(this,jd,E2).call(this,e))}getClosest(e){let t=0,i=z(this,jd,E2).call(this,e[t]);for(let a=0;a<e.length;++a){const o=z(this,jd,E2).call(this,e[a]);o<i&&(t=a,i=o)}return t}minus(e){return new mn(u(this,ja)-e.getX(),u(this,Ya)-e.getY(),u(this,Xa)-e.getZ())}}ja=new WeakMap,Ya=new WeakMap,Xa=new WeakMap,jd=new WeakSet,E2=function(e){const t=u(this,ja)-e.getX(),i=u(this,Ya)-e.getY(),a=u(this,Xa)-e.getZ();return t*t+i*i+a*a};var Ul;const Ly=class Ly{constructor(e){V(this,Ul);if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create point with non number values.");H(this,Ul,e)}get(e){return u(this,Ul)[e]}length(){return u(this,Ul).length}toString(){return"("+u(this,Ul).toString()+")"}getValues(){return u(this,Ul).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}get3D(){return new Xt(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],i=this.getValues(),a=e.getValues();for(let o=0;o<i.length;++o)t.push(i[o]+a[o]);return new Ly(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new Ly(t)}};Ul=new WeakMap;let Nc=Ly;const Uv=1e-4;function Kg(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}var bp,Yd;const Fd=class Fd{constructor(e){V(this,bp);V(this,Yd);H(this,bp,e)}get(e,t){return u(this,bp)[3*e+t]}getInverse(){return u(this,Yd)===void 0&&H(this,Yd,function(e){const t=e.get(0,0),i=e.get(0,1),a=e.get(0,2),o=e.get(1,0),c=e.get(1,1),l=e.get(1,2),h=e.get(2,0),f=e.get(2,1),g=e.get(2,2),S=c*g-l*f,b=l*h-o*g,m=o*f-c*h;let y=t*S+i*b+a*m;if(y!==0)return y=1/y,new Fd([y*S,y*(a*f-i*g),y*(i*l-a*c),y*b,y*(t*g-a*h),y*(a*o-t*l),y*m,y*(i*h-t*f),y*(t*c-i*o)]);Re.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),u(this,Yd)}equals(e){for(let t=0;t<3;++t)for(let i=0;i<3;++i)if(this.get(t,i)!==e.get(t,i))return!1;return!0}isSimilar(e,t){for(let i=0;i<3;++i)for(let a=0;a<3;++a)if(!Kg(this.get(i,a),e.get(i,a),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let i=0;i<3;++i)i!==0&&(e+=", "),e+=this.get(t,i)}return e+="]",e}multiply(e){const t=[];for(let i=0;i<3;++i)for(let a=0;a<3;++a){let o=0;for(let c=0;c<3;++c)o+=this.get(i,c)*e.get(c,a);t.push(o)}return new Fd(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let i=0;i<3;++i)e.push(Math.abs(this.get(t,i)));return new Fd(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=[];for(let i=0;i<3;++i){let a=0;for(let o=0;o<3;++o)a+=this.get(i,o)*e[o];t.push(a)}return t}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new mn(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Xt(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new Et(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(e,a),index:a}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(a,e),index:a}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const i=this.getRowAbsMax(t),a=i.value>0?1:-1;for(let o=0;o<3;++o)o===i.index?e.push(1*a):e.push(0)}return new Fd(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}};bp=new WeakMap,Yd=new WeakMap;let _f=Fd;function Nv(){return new _f([1,0,0,0,1,0,0,0,1])}function Dy(n){return n.equals(Nv())}function lu(n,e,t,i,a,o,c,l){let h=e;const f=o-a*i;let g=0,S=0;return{next:function(){if(g<t){const b={value:n(h),done:!1,index:h};return h+=i,++g,++S,S===a&&(S=0,h+=f),b}return{done:!0,index:h}}}}function PC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function nP(n,e,t,i){const a=n.getGeometry().getSize();let o=2;i&&i!==void 0&&(o=i.getColAbsMax(2).index);const c=e.getValues(),l=new Et(c.map(function(T,C){return C===o||C>2?T:0}));let h=a.indexToOffset(l);t===void 0&&(t=!1);let f=null;f=t?function(T){return n.getRescaledValueAtOffset(T)}:function(T){return n.getValueAtOffset(T)};const g=a.get(0),S=a.get(1),b=a.get(2);let m=a.getDimSize(2);const y=n.getNumberOfComponents(),v=n.getPlanarConfiguration()===1,D=function(T,C,A,R,E,U,_,M){return y===1?lu(T,C,A,R,E,U):y===3?function(P,q,N,L,O,F,k,G,W){const X=[];return W?(X.push(lu(P,q,N,L,O,F)),X.push(lu(P,q+N*L,N,L,O,F)),X.push(lu(P,q+2*N*L,N,L,O,F))):(L*=3,F*=3,X.push(lu(P,q,N,L,O,F)),X.push(lu(P,q+1,N,L,O,F)),X.push(lu(P,q+2,N,L,O,F))),{next:function(){const Q=X[0].next(),Y=X[1].next(),$=X[2].next();return Q.done?{done:!0,index:$.index}:{value:[Q.value,Y.value,$.value],done:!1,index:[Q.index,Y.index,$.index]}}}}(T,3*C,A,R,E,U,_,M,v):void 0};let x=null;if(i&&i!==void 0){const T=i.getColAbsMax(0),C=i.getColAbsMax(2),A=!1,R=!1;let E=null;if(C.index===2)E=g*S,x=T.index===0?D(f,h,E,1,g,g,A,R):D(f,h,E,g,S,1,A,R);else if(C.index===0)E=b*S,x=T.index===1?D(f,h,E,g,S,m,A,R):D(f,h,E,m,b,g,A,R);else{if(C.index!==1)throw new Error("Unknown direction: "+C.index);E=b*g,x=T.index===0?D(f,h,E,1,g,m,A,R):D(f,h,E,m,b,1,A,R)}}else if(n.getNumberOfComponents()===1)x=function(T,C,A,R){R===void 0&&(R=1);let E=C;return{next:function(){if(E<A){const U={value:T(E),done:!1,index:E};return E+=R,U}return{done:!0,index:A}}}}(f,h,h+m);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());h*=3,m*=3,x=function(T,C,A,R,E){R===void 0&&(R=1),E===void 0&&(E=!1);let U=C,_=1;E?_=(A-C)/3:R*=3;let M=U+_,P=U+2*_;return{next:function(){if(U<A){const q={value:[T(U),T(M),T(P)],done:!1,index:[U,M,P]};return U+=R,M+=R,P+=R,q}return{done:!0,index:[A]}}}}(f,h,h+m,1,v)}return x}function AQ(n,e){let t=0,i=0;return{next:function(){if(t<e){i+1<n.length&&t>=n[i+1].index&&++i;const a={value:n[i].value,done:!1,index:t};return++t,a}return{done:!0,index:e}}}}var ha;class Kr{constructor(){V(this,ha,{});ae(this,"fireEvent",e=>{if(u(this,ha)[e.type]===void 0)return;const t=u(this,ha)[e.type].slice();for(let i=0;i<t.length;++i)t[i](e)})}add(e,t){u(this,ha)[e]===void 0&&(u(this,ha)[e]=[]),u(this,ha)[e].push(t)}remove(e,t){if(u(this,ha)[e]===void 0)return;let i=0;for(let a=0;a<u(this,ha)[e].length;++a)u(this,ha)[e][a]===t&&(++i,u(this,ha)[e].splice(a,1));i===0&&Re.debug("No callback found on remove listener for type "+e)}}ha=new WeakMap;var Xd,Wd;class B6{constructor(e,t){V(this,Xd);V(this,Wd);H(this,Xd,e),H(this,Wd,t)}getSlope(){return u(this,Xd)}getIntercept(){return u(this,Wd)}apply(e){return e*u(this,Xd)+u(this,Wd)}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}Xd=new WeakMap,Wd=new WeakMap;const Mf=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];var Vt,Iu,Eu,pi,fa,Nl,$d,_u,Kd,Zd,Cp,I0,v4,iP,Cs;class RQ{constructor(e){V(this,I0);V(this,Vt);V(this,Iu);V(this,Eu);V(this,pi,{minmax:{name:"minmax"}});V(this,fa,null);V(this,Nl);V(this,$d,"plain");V(this,_u,null);V(this,Kd);V(this,Zd,new Kr);V(this,Cp,function(e,t){return 255});V(this,Cs,e=>{u(this,Zd).fireEvent(e)});H(this,Vt,e),u(this,Vt).addEventListener("appendframe",()=>{const t=this.getCurrentIndex();if(t.length()===3){const i=t.getValues();i.push(0),this.setCurrentIndex(new Et(i))}})}getImage(){return u(this,Vt)}setImage(e){H(this,Vt,e)}getOrientation(){return u(this,Kd)}setOrientation(e){H(this,Kd,e)}init(){this.setInitialIndex()}setInitialIndex(){const e=u(this,Vt).getGeometry().getSize(),t=new Array(e.length());t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),this.setCurrentIndex(new Et(t),!0)}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}getAlphaFunction(){return u(this,Cp)}setAlphaFunction(e){H(this,Cp,e),u(this,Cs).call(this,{type:"alphafuncchange"})}getWindowPresets(){return u(this,pi)}getWindowPresetsNames(){return Object.keys(u(this,pi))}setWindowPresets(e){H(this,pi,e)}addWindowPresets(e){const t=Object.keys(e);let i=null;for(let a=0;a<t.length;++a)if(i=t[a],u(this,pi)[i]!==void 0){if(u(this,pi)[i].perslice!==void 0&&u(this,pi)[i].perslice===!0)throw new Error("Cannot add perslice preset");u(this,pi)[i]=e[i]}else u(this,pi)[i]=e[i],u(this,Cs).call(this,{type:"wlpresetadd",name:i})}getCurrentWindowPresetName(){return u(this,fa)}getColourMap(){return u(this,$d)}setColourMap(e){if(!vA[e])throw new Error("Unknown colour map: '"+e+"'");H(this,$d,e),u(this,Cs).call(this,{type:"colourmapchange",value:[e]})}getCurrentPosition(){return u(this,_u)}getCurrentIndex(){const e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null}getCurrentImageUid(){return u(this,Vt).getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return u(this,Vt).getOriginForImageUid(e)}includesImageUid(e){return u(this,Vt).includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=u(this,_u));const t=u(this,Vt).getGeometry(),i=t.worldToIndex(e),a=[this.getScrollDimIndex()];return i.length()===4&&a.push(3),t.isIndexInBounds(i,a)}getOrigin(e){const t=u(this,Vt).getGeometry();let i=0;return e!==void 0&&(i=t.worldToIndex(e).get(2)),t.getOrigins()[i]}setCurrentIndex(e,t){const i=u(this,Vt).getGeometry().indexToWorld(e);return this.setCurrentPosition(i,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const i=u(this,Vt).getGeometry(),a=i.worldToIndex(e),o=[this.getScrollDimIndex()];if(a.length()===4&&o.push(3),!i.isIndexInBounds(a,o))return H(this,_u,e),t||u(this,Cs).call(this,{type:"positionchange",value:[a.getValues(),e.getValues()],valid:!1}),!1;let c=null,l=null;if(this.getCurrentPosition()&&(l=this.getCurrentIndex()),l)if(l.canCompare(a))c=l.compare(a);else{c=[];const h=Math.min(l.length(),a.length());for(let g=0;g<h;++g)l.get(g)!==a.get(g)&&c.push(g);const f=Math.max(l.length(),a.length());for(let g=h;g<f;++g)c.push(g)}else{c=[];for(let h=0;h<a.length();++h)c.push(h)}if(H(this,_u,e),!t){const h={type:"positionchange",value:[a.getValues(),e.getValues()],diffDims:c,data:{imageUid:u(this,Vt).getImageUid(a)}};if(u(this,Vt).canQuantify()){const f=u(this,Vt).getRescaledValueAtIndex(a);h.value.push(f)}u(this,Cs).call(this,h)}return!0}setWindowLevel(e,t,i){if(t===void 0&&(t="manual"),t!=="manual"&&u(this,pi)[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");i===void 0&&(i=!1);const a=CA(e,u(this,Vt).getRescaledDataRange(),u(this,Vt).getMeta().VOILUTFunction),o=!a.equals(u(this,Nl)),c=u(this,fa)!==t;(o||c)&&(H(this,Nl,a),H(this,fa,t),t==="manual"&&(u(this,pi)[t]!==void 0?u(this,pi)[t].wl[0]=a:this.addWindowPresets({manual:{wl:[a],name:"manual"}})),u(this,Cs).call(this,{type:"wlchange",value:[a.center,a.width,t],wc:a.center,ww:a.width,skipGenerate:i}))}getWindowLevel(){return z(this,I0,v4).call(this).getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const i=this.getWindowPresets()[e];if(i===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&i.wl===void 0&&(i.wl=[this.getWindowLevelMinMax()]);let a=i.wl[0];if(i.perslice!==void 0&&i.perslice===!0){const o=u(this,Vt).getSecondaryOffset(this.getCurrentIndex());a=i.wl[o]}a!==void 0&&this.setWindowLevel(a,e,t)}setWindowLevelPresetById(e,t){const i=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(i[e],t)}addEventListener(e,t){u(this,Zd).add(e,t)}removeEventListener(e,t){u(this,Zd).remove(e,t)}getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,i=e.min+t/2;return CA(new Cr(i,t),e,u(this,Vt).getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){t===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());const i=this.getImage(),a=!i.isConstantRSI(),o=nP(i,t,a,this.getOrientation()),c=i.getPhotometricInterpretation();switch(c){case"MONOCHROME1":case"MONOCHROME2":(function(l,h,f,g,S){let b=0,m=0,y=h.next();for(;!y.done;)m=g.getValue(y.value),l.data[b]=S.red[m],l.data[b+1]=S.green[m],l.data[b+2]=S.blue[m],l.data[b+3]=f(y.value,y.index),b+=4,y=h.next()})(e,o,this.getAlphaFunction(),z(this,I0,v4).call(this),z(this,I0,iP).call(this));break;case"PALETTE COLOR":(function(l,h,f,g,S){const b=function(D){return D>>8};S&&Re.info("Scaling 16bits data to 8bits.");let m=0,y=0,v=h.next();for(;!v.done;)y=v.value,S?(l.data[m]=b(g.red[y]),l.data[m+1]=b(g.green[y]),l.data[m+2]=b(g.blue[y])):(l.data[m]=g.red[y],l.data[m+1]=g.green[y],l.data[m+2]=g.blue[y]),l.data[m+3]=f(y,v.index),m+=4,v=h.next()})(e,o,this.getAlphaFunction(),i.getPaletteColourMap(),i.getMeta().BitsStored===16);break;case"RGB":(function(l,h,f){let g=0,S=h.next();for(;!S.done;)l.data[g]=S.value[0],l.data[g+1]=S.value[1],l.data[g+2]=S.value[2],l.data[g+3]=f(S.value,S.index),g+=4,S=h.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(l,h,f){let g=0,S=null,b=h.next();for(;!b.done;)m=b.value[0],y=b.value[1],v=b.value[2],S={r:m+1.402*(v-128),g:m-.34414*(y-128)-.71414*(v-128),b:m+1.772*(y-128)},l.data[g]=S.r,l.data[g+1]=S.g,l.data[g+2]=S.b,l.data[g+3]=f(b.value,b.index),g+=4,b=h.next();var m,y,v})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+c)}}getScrollDimIndex(){let e=null;const t=this.getOrientation();return e=t!==void 0?t.getThirdColMajorDirection():2,e}isAquisitionOrientation(){return Dy(u(this,Kd))}}Vt=new WeakMap,Iu=new WeakMap,Eu=new WeakMap,pi=new WeakMap,fa=new WeakMap,Nl=new WeakMap,$d=new WeakMap,_u=new WeakMap,Kd=new WeakMap,Zd=new WeakMap,Cp=new WeakMap,I0=new WeakSet,v4=function(){if(u(this,fa)&&u(this,pi)[u(this,fa)]!==void 0&&u(this,pi)[u(this,fa)].perslice!==void 0&&u(this,pi)[u(this,fa)].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const i=this.getCurrentIndex(),a=u(this,Vt).getSecondaryOffset(i),o=u(this,pi)[u(this,fa)].wl[a];o!==void 0&&this.setWindowLevel(o,u(this,fa),!0)}if(u(this,Nl)===void 0&&this.setWindowLevelPresetById(0,!0),u(this,Eu)===void 0||u(this,Vt).isConstantRSI()!==u(this,Eu)){let i,a;H(this,Eu,u(this,Vt).isConstantRSI()),u(this,Eu)?(i=u(this,Vt).getRescaleSlopeAndIntercept(),a=!0):(i=new B6(1,0),a=!1);const o=new mQ(i,u(this,Vt).getMeta().BitsStored);H(this,Iu,new SQ(o,u(this,Vt).getMeta().PixelRepresentation===1,a))}const e=u(this,Iu).getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!u(this,Nl).equals(t)){const i=new vQ(u(this,Nl),u(this,Vt).getMeta().VOILUTFunction);u(this,Iu).setVoiLut(i)}return u(this,Iu)},iP=function(){return vA[u(this,$d)]},Cs=new WeakMap;function rP(){return new _f([1,0,0,0,0,1,0,-1,0])}const nl={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function DA(n){let e;return n===nl.Axial?e=Nv():n===nl.Coronal?e=rP():n===nl.Sagittal&&(e=new _f([0,0,-1,1,0,0,0,-1,0])),e}function aP(n){const e=new mn(n.get(0,0),n.get(1,0),n.get(2,0)),t=new mn(n.get(0,1),n.get(1,1),n.get(2,1)),i=new mn(n.get(0,2),n.get(1,2),n.get(2,2));return LC(e)+LC(t)+LC(i)}function LC(n){let e=new mn(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const i=n.getX()<0?"R":"L",a=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",c=1e-4;for(let l=0;l<3;l++)if(e.getX()>c&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=i,e=new mn(0,e.getY(),e.getZ());else if(e.getY()>c&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=a,e=new mn(e.getX(),0,e.getZ());else{if(!(e.getZ()>c&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new mn(e.getX(),e.getY(),0)}return t}function OQ(n){let e;const t=G6(n);return t!==void 0&&(e=function(i){let a;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(i)?a=nl.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(i)?a=nl.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(i)&&(a=nl.Sagittal),a}(aP(t.asOneAndZeros()))),e}function G6(n){let e;if(n!==void 0&&n.length===6){const t=new mn(n[0],n[1],n[2]),i=new mn(n[3],n[4],n[5]),a=t.crossProduct(i);e=new _f([t.getX(),i.getX(),a.getX(),t.getY(),i.getY(),a.getY(),t.getZ(),i.getZ(),a.getZ()])}return e}function TA(n,e){let t=Nv();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const PQ={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm²",ml:"ml",degree:"°",pixel:"pixels"}[t[1]]),e}};function cu(n,e,t){if(n==null||e==null)return!1;const i=0;return n.substring(i,i+e.length)===e}function wA(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function xA(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let i=t.exec(n);for(;i;)e.push(i[1]),i=t.exec(n);return e}function Il(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function LQ(n){const e=new Uint8Array(n.length);for(let t=0,i=n.length;t<i;t++)e[t]=n.charCodeAt(t);return e}function Go(n,e){const t=Math.pow(10,e),i=.01/t;return Math.round(n*t+i)/t}var ql;class il{constructor(e){V(this,ql);if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create size with non number or zero values.");H(this,ql,e)}get(e){return u(this,ql)[e]}length(){return u(this,ql).length}toString(){return"("+u(this,ql).toString()+")"}getValues(){return u(this,ql).slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let i=3;i<this.length();++i)t=t||this.moreThanOne(i);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let i=1;for(let a=t;a<e;++a)i*=this.get(a);return i}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}isInBounds(e,t){if(!e)return!1;const i=this.length();if(i!==e.length())return!1;if(t===void 0){t=[];for(let c=0;c<i;++c)t.push(c)}else for(let c=0;c<i;++c)if(t[c]>i-1)throw new Error("Wrong input dir value: "+t[c]);for(let c=0;c<t.length;++c)if(a=e.get(t[c]),o=this.get(t[c]),!(a>=0&&a<o))return!1;var a,o;return!0}indexToOffset(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let i=0;for(let a=t;a<this.length();++a){const o=this.get(a),c=e.get(a);if(c>=o||c<0)return-1;i+=c*this.getDimSize(a,t)}return i}offsetToIndex(e){const t=new Array(this.length());let i=e,a=0;for(let o=this.length()-1;o>0;--o)a=this.getDimSize(o),t[o]=Math.floor(i/a),i-=t[o]*a;return t[0]=i,new Et(t)}get2D(){return{x:this.get(0),y:this.get(1)}}}ql=new WeakMap;var Bl;class Ec{constructor(e){V(this,Bl);if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create spacing with non number or zero values.");H(this,Bl,e)}get(e){return u(this,Bl)[e]}length(){return u(this,Bl).length}toString(){return"("+u(this,Bl).toString()+")"}getValues(){return u(this,Bl).slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}Bl=new WeakMap;function IQ(n,e){if(e===void 0){e=[];for(let i=0;i<n.length;++i)e.push(i)}for(let i=0;i<e.length;++i)if(e[i]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let i=0;i<e.length;++i)i!==0&&(t+="_"),t+="#"+e[i]+"-"+n[e[i]];return t}function oP(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&sP(n.slice().sort(),e.slice().sort())}function sP(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every(function(t,i){return t===e[i]})}function AA(n){return String.fromCharCode.apply(String,n)}function d2(n,e,t,i){(t===void 0||t<0||t>=n.length)&&(t=0),(i===void 0||i<=t||i>n.length)&&(i=n.length);for(let a=t;a<i;++a)if(e(n[a],a,n))return a}function RA(n){return function(e,t,i){for(let a=0;a<n.length;++a)if(i[t+a]!==n[a])return!1;return!0}}const _2={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},EQ={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},_Q={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function MQ(n){return _Q[n]!==void 0}const FQ={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function kQ(n){return FQ[n]!==void 0}const OA={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},PA={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},Ty="1.2.840.10008.1.2",b4="1.2.840.10008.1.2.1",wy="1.2.840.10008.1.2.2";var Mr,ga,Jd,M2;class sp{constructor(e,t){V(this,Jd);V(this,Mr);V(this,ga);if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);H(this,Mr,e),H(this,ga,t)}getGroup(){return u(this,Mr)}getElement(){return u(this,ga)}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&u(this,Mr)===e.getGroup()&&u(this,ga)===e.getElement()}getKey(){return u(this,Mr)+u(this,ga)}getGroupName(){return EQ[u(this,Mr)]}isWithVR(){return!(u(this,Mr)==="FFFE"&&(u(this,ga)==="E000"||u(this,ga)==="E00D"||u(this,ga)==="E0DD"))}isPrivate(){return parseInt(u(this,Mr),16)%2==1}getVrFromDictionary(){let e;const t=z(this,Jd,M2).call(this);return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=z(this,Jd,M2).call(this);return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=z(this,Jd,M2).call(this);return t!==void 0&&(e=t[2]),e}}Mr=new WeakMap,ga=new WeakMap,Jd=new WeakSet,M2=function(){let e;return _2[u(this,Mr)]!==void 0&&_2[u(this,Mr)][u(this,ga)]!==void 0&&(e=_2[u(this,Mr)][u(this,ga)]),e};function lP(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new sp(n.substring(0,4),n.substring(4,8))}function UQ(n){return n.getKey()==="FFFEE00D"}function LA(n){return n.getKey()==="FFFEE0DD"}function IA(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function cP(n){const e=["7FE00010","7FE00009","7FE00008"];let t=!1;for(const i of e)if(n[i]!==void 0){t=!0;break}return t}function NQ(n){if(n==null)return null;let e=null,t=null;const i=_2,a=Object.keys(i);let o,c=null,l=!1;for(let h=0,f=a.length;h<f;++h){e=a[h],c=Object.keys(i[e]);for(let g=0,S=c.length;g<S;++g)if(t=c[g],i[e][t][2]===n){l=!0;break}if(l)break}return l&&(o=new sp(e,t)),o}function uP(n){return function(e,t){const i=lP(t);let a=i.getNameFromDictionary();a===void 0&&(a="x"+i.getKey());const o=n[t];for(const l in o)o[l]===void 0&&delete o[l];let c;if(o.vr==="SQ"){c={value:[]};for(let l=0;l<o.value.length;++l){const h=o.value[l];c.value.push(Object.keys(h).reduce(uP(h),{}))}}else c=o.value.length===1?o.value[0]:o.value;return e[a]=c,e}}function qQ(n){const e=structuredClone(n);return Object.keys(e).reduce(uP(e),{})}class x0{constructor(e){ae(this,"vr");ae(this,"value");ae(this,"tag");ae(this,"vl");ae(this,"undefinedLength");ae(this,"startOffset");ae(this,"endOffset");ae(this,"items");this.vr=e}}function dP(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function cn(n,e){let t;return dP(n[e])&&(t=n[e].value[0]),t}function bo(n,e){let t;return dP(n[e])&&(t=n[e].value),t}function hs(n,e,t){let i="";if(n===void 0)i+=" "+e+" is undefined,";else if(n.value===void 0)i+=" "+e+" has undefined value,";else if(n.value.length===0)i+=" "+e+" is empty,";else if(t!==void 0)for(let a=0;a<t.length;++a)n.value.includes(t[a])||(i+=" "+e+" does not contain "+t[a]+" (value: "+n.value+"),");return i}function El(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),i=n.BYTES_PER_ELEMENT;let a;for(let o=0;o<e;o+=i)for(let c=o+i-1,l=o;c>l;c--,l++)a=t[l],t[l]=t[c],t[c]=a}var Gi,Fr,Iy,pa,ma;class IC{constructor(e,t){V(this,Gi);V(this,Fr,!0);V(this,Iy,function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}());V(this,pa);V(this,ma);H(this,Gi,e),t!==void 0&&H(this,Fr,t),H(this,pa,u(this,Fr)!==u(this,Iy)),H(this,ma,new DataView(e))}readUint16(e){return u(this,ma).getUint16(e,u(this,Fr))}readInt16(e){return u(this,ma).getInt16(e,u(this,Fr))}readUint32(e){return u(this,ma).getUint32(e,u(this,Fr))}readBigUint64(e){return u(this,ma).getBigUint64(e,u(this,Fr))}readInt32(e){return u(this,ma).getInt32(e,u(this,Fr))}readBigInt64(e){return u(this,ma).getBigInt64(e,u(this,Fr))}readFloat32(e){return u(this,ma).getFloat32(e,u(this,Fr))}readFloat64(e){return u(this,ma).getFloat64(e,u(this,Fr))}readBinaryArray(e,t,i){const a=new Uint8Array(u(this,Gi),e,t);let o;o=i!==void 0?i:8*a.length;const c=new Uint8Array(o);let l=0,h=0;for(let f=0;f<o;++f)l=f%8,h=Math.floor(f/8),c[f]=255*!!(a[h]&1<<l);return c}readUint8Array(e,t){return new Uint8Array(u(this,Gi),e,t)}readInt8Array(e,t){return new Int8Array(u(this,Gi),e,t)}readUint16Array(e,t){const i=Uint16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint16Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Uint16Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readUint16(c),c+=i}return o}readInt16Array(e,t){const i=Int16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int16Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Int16Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readInt16(c),c+=i}return o}readUint32Array(e,t){const i=Uint32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint32Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Uint32Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readUint32(c),c+=i}return o}readUint64Array(e,t){const i=BigUint64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigUint64Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new BigUint64Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readBigUint64(c),c+=i}return o}readInt32Array(e,t){const i=Int32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int32Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Int32Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readInt32(c),c+=i}return o}readInt64Array(e,t){const i=BigInt64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigInt64Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new BigInt64Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readBigInt64(c),c+=i}return o}readFloat32Array(e,t){const i=Float32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float32Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Float32Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readFloat32(c),c+=i}return o}readFloat64Array(e,t){const i=Float64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float64Array(u(this,Gi),e,a),u(this,pa)&&El(o);else{o=new Float64Array(a);let c=e;for(let l=0;l<a;++l)o[l]=this.readFloat64(c),c+=i}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}Gi=new WeakMap,Fr=new WeakMap,Iy=new WeakMap,pa=new WeakMap,ma=new WeakMap;function BQ(){return"0.35.1"}function EA(n){const e=n.split("-");let t=[];for(const i of e)t=t.concat(i.split("."));return t}function _A(n,e){let t=0;const i=EA(n),a=EA(e);for(let o=0;o<3&&(t=parseInt(i[o],10)-parseInt(a[o],10),t===0);++o);if(t===0){const c=i[4],l=a[4];t=c===void 0&&l===void 0?0:c===void 0&&l!==void 0?1:c!==void 0&&l===void 0?-1:parseInt(c,10)-parseInt(l,10)}return t}const GQ=String.fromCharCode("u200B");class VQ{decode(e){let t="";for(let i=0,a=e.length;i<a;++i)t+=String.fromCharCode(e[i]);return t}}function MA(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let i=0;i<n.length;i++){const a=e[n.substring(i,i+1)];a&&(t+=a)}return t}function zQ(n){return n===Ty}function QQ(n){return n===wy}function V6(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function z6(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function Q6(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function hP(n){return n==="1.2.840.10008.1.2.5"}function HQ(n,e,t){let i=null;try{n===1||n===8?i=e===0?new Uint8Array(t):new Int8Array(t):n===16?i=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(i=e===0?new Uint32Array(t):new Int32Array(t))}catch(a){if(a instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));Re.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return i}const FA="00280100",kA="00280103";var Xn,Mu,Dp,Tp,ht,F2,gP,pP,C4,mP,vo,la,SP;class fP{constructor(){V(this,ht);V(this,Xn,{});V(this,Mu);V(this,Dp,new VQ);V(this,Tp,u(this,Dp))}getDefaultCharacterSet(){return u(this,Mu)}setDefaultCharacterSet(e){H(this,Mu,e)}setDecoderCharacterSet(e){H(this,Tp,new TextDecoder(e))}getDicomElements(){return u(this,Xn)}safeGet(e){return cn(u(this,Xn),e)}parse(e,t){let i=0,a="",o=null;const c=new IC(e);let l=new IC(e);i=128;const h=z(this,ht,F2).call(this,c.readUint8Array(i,4));if(i+=4*Uint8Array.BYTES_PER_ELEMENT,h==="DICM"){o=z(this,ht,vo).call(this,c,i,!1),o.value=z(this,ht,la).call(this,o,c),i=o.endOffset,u(this,Xn)[o.tag.getKey()]=o;const b=i+o.value[0];for(;i<b;)o=z(this,ht,vo).call(this,c,i,!1),i=o.endOffset,u(this,Xn)[o.tag.getKey()]=o;if(o=u(this,Xn)["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=z(this,ht,la).call(this,o,c),a=o.value[0]}else{Re.warn("No DICM prefix, trying to guess tansfer syntax."),o=z(this,ht,vo).call(this,l,0,!1);const b=function(m){const y="0008",v=m.tag.getGroup();if(v!=="0800"&&v!==y)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const D=m.vr,x=D.charCodeAt(0),T=D.charCodeAt(1),C=!(x>=65&&x<=90&&T>=65&&T<=90);let A=null;if(v===y)A=C?Ty:b4;else{if(C)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");A=wy}const R=new x0("UI");return R.tag=new sp("0002","0010"),R.value=[A],R.vl=R.value[0].length,R.startOffset=m.startOffset,R.endOffset=R.startOffset+R.vl,R}(o);u(this,Xn)[b.tag.getKey()]=b,a=b.value[0],i=0}if(!function(b){return b===Ty||b===b4||b===wy||V6(b)||z6(b)||Q6(b)||hP(b)}(a))throw new Error("Unsupported DICOM transfer syntax: '"+a+"' ("+function(b){let m="Unknown";return PA[b]!==void 0&&(m=PA[b]),m}(a)+")");let f=!1;zQ(a)&&(f=!0),QQ(a)&&(l=new IC(e,!1));let g,S=!1;for(;i<e.byteLength;){if(o=z(this,ht,vo).call(this,l,i,f,t),t!==void 0&&o.tag.equals(t)){S=!0;break}i=o.endOffset;const b=o.tag.getKey();u(this,Xn)[b]===void 0?u(this,Xn)[b]=o:Re.warn("Not saving duplicate tag: "+b)}if(isNaN(i))throw new Error("Problem while parsing, bad offset");if(S||e.byteLength===i||Re.warn("Did not reach the end of the buffer: "+i+" != "+e.byteLength),cP(u(this,Xn))){let b=0;o=u(this,Xn)[kA],o!==void 0?(o.value=z(this,ht,la).call(this,o,l),b=o.value[0]):Re.warn("Reading DICOM pixel data with default pixelRepresentation.");let m=16;o=u(this,Xn)[FA],o!==void 0?(o.value=z(this,ht,la).call(this,o,l),m=o.value[0]):Re.warn("Reading DICOM pixel data with default bitsAllocated.");let y,v,D=1;o=u(this,Xn)["00280008"],o!==void 0&&(o.value=z(this,ht,la).call(this,o,l),D=parseInt(o.value[0],10)),g={pixelRepresentation:b,bitsAllocated:m,numberOfFrames:D},o=u(this,Xn)["00280010"],o!==void 0&&(o.value=z(this,ht,la).call(this,o,l),y=parseInt(o.value[0],10)),o=u(this,Xn)["00280011"],o!==void 0&&(o.value=z(this,ht,la).call(this,o,l),v=parseInt(o.value[0],10)),y!==void 0&&v!==void 0&&(g.imageBufferSize=y*v*D)}if(u(this,Mu)!==void 0&&this.setDecoderCharacterSet(u(this,Mu)),o=u(this,Xn)["00080005"],o!==void 0){let b;o.value=z(this,ht,la).call(this,o,l),o.value.length===1?b=o.value[0]:(b=o.value[1],Re.warn("Unsupported character set with code extensions: '"+b+"'.")),this.setDecoderCharacterSet(function(m){let y="utf-8";return m==="ISO_IR 100"?y="iso-8859-1":m==="ISO_IR 101"?y="iso-8859-2":m==="ISO_IR 109"?y="iso-8859-3":m==="ISO_IR 110"?y="iso-8859-4":m==="ISO_IR 144"?y="iso-8859-5":m==="ISO_IR 127"?y="iso-8859-6":m==="ISO_IR 126"?y="iso-8859-7":m==="ISO_IR 138"?y="iso-8859-8":m==="ISO_IR 148"?y="iso-8859-9":m==="ISO_IR 13"?y="shift-jis":m==="ISO_IR 166"?y="iso-8859-11":m==="ISO 2022 IR 87"?y="iso-2022-jp":m==="ISO 2022 IR 149"||m==="ISO 2022 IR 58"||(m==="ISO_IR 192"?y="utf-8":m==="GB18030"?y="gb18030":m==="GB2312"?y="gb2312":m==="GBK"&&(y="chinese")),y}(b))}if(z(this,ht,SP).call(this,u(this,Xn),l,g),o=u(this,Xn)["7FE00010"],o!==void 0&&o.undefinedLength){const b=g.numberOfFrames,m=o.value;if(m.length>1&&m.length>b){const y=m.length/b,v=[];let D=0;for(let x=0;x<b;++x){D=x*y;let T=0;for(let R=0;R<y;++R)T+=m[D+R].length;const C=new m[0].constructor(T);let A=0;for(let R=0;R<y;++R)C.set(m[D+R],A),A+=m[D+R].length;v[x]=C}o.value=v}}}}Xn=new WeakMap,Mu=new WeakMap,Dp=new WeakMap,Tp=new WeakMap,ht=new WeakSet,F2=function(e){return u(this,Dp).decode(e)},gP=function(e){return u(this,Tp).decode(e)},pP=function(e,t){const i=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const a=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new sp(i,a),endOffset:t}},C4=function(e,t,i){const a={};let o=z(this,ht,vo).call(this,e,t,i);if(t=o.endOffset,LA(o.tag))return{data:a,endOffset:o.endOffset,isSeqDelim:!0};if(a[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let c=!1;for(;!c;)o=z(this,ht,vo).call(this,e,t,i),t=o.endOffset,c=UQ(o.tag),c||(a[o.tag.getKey()]=o)}else{const c=t;for(t-=o.vl;t<c;)o=z(this,ht,vo).call(this,e,t,i),t=o.endOffset,a[o.tag.getKey()]=o}return{data:a,endOffset:t,isSeqDelim:!1}},mP=function(e,t,i){const a=[];let o=z(this,ht,vo).call(this,e,t,i);const c=o.vl;t=o.endOffset;let l=!1;for(;!l;)o=z(this,ht,vo).call(this,e,t,i),t=o.endOffset,l=LA(o.tag),l||(o.vr="OB",a.push(o));return{data:a,endOffset:t,offsetTableVl:c}},vo=function(e,t,i,a){const o=z(this,ht,pP).call(this,e,t),c=o.tag;if(a!==void 0&&c.equals(a)){const v=new x0("");return v.tag=c,v}t=o.endOffset;let l=null,h=!1;c.isWithVR()?i?(l=c.getVrFromDictionary(),l===void 0&&(l="UN"),h=!0):(l=z(this,ht,F2).call(this,e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,h=MQ(l),h&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(l="NONE",h=!0),function(v){return Object.keys(OA).concat(["NONE","ox","xx","xs"]).includes(v)}(l)||(Re.warn("Unknown VR: "+l+" (for tag "+c.getKey()+"), treating as 'UN'"),l="UN");let f=0;h?(f=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(f=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let g=!1;f===4294967295&&(g=!0,f=0),c.isPrivate()&&l==="UN"&&f===0&&(l="SQ");let S,b=t,m=b+f;if(IA(c)&&g){const v=z(this,ht,mP).call(this,e,t,i);t=v.endOffset,b+=v.offsetTableVl,S=v.data,m=t,f=t-b}else if(l==="SQ"){let v;if(S=[],g){let D=!1;for(;!D;)v=z(this,ht,C4).call(this,e,t,i),D=v.isSeqDelim,t=v.endOffset,D||S.push(v.data);m=t,f=t-b}else if(f!==0){const D=t+f;for(;t<D;)v=z(this,ht,C4).call(this,e,t,i),S.push(v.data),t=v.endOffset;m=t,f=t-b}}const y=new x0(l);return y.tag=c,y.vl=f,y.startOffset=b,y.endOffset=m,g&&(y.undefinedLength=g),S&&(y.items=S),y},la=function(e,t,i){const a=e.tag,o=e.vl,c=e.vr,l=e.startOffset;let h,f;i!==void 0&&(h=i.bitsAllocated,f=i.pixelRepresentation);let g=null;const S=OA[c];if(IA(a))if(e.undefinedLength){g=[];for(let b=0;b<e.items.length;++b)g.push(z(this,ht,la).call(this,e.items[b],t,i));delete e.items}else if(h>8&&c==="OB"&&(Re.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),g=[],h===1)g.push(t.readBinaryArray(l,o,i.imageBufferSize));else if(h===8)f===0?g.push(t.readUint8Array(l,o)):g.push(t.readInt8Array(l,o));else if(h===16)f===0?g.push(t.readUint16Array(l,o)):g.push(t.readInt16Array(l,o));else if(h===32)g.push(t.readFloat32Array(l,o));else{if(h!==64)throw new Error("Unsupported bits allocated: "+h);g.push(t.readFloat64Array(l,o))}else if(S!==void 0)if(S==="Uint8")g=t.readUint8Array(l,o);else if(S==="Uint16")g=t.readUint16Array(l,o),c[0]!=="O"&&(g=Array.from(g));else if(S==="Uint32")g=t.readUint32Array(l,o),c[0]!=="O"&&(g=Array.from(g));else if(S==="Uint64")g=t.readUint64Array(l,o);else if(S==="Int16")g=Array.from(t.readInt16Array(l,o));else if(S==="Int32")g=Array.from(t.readInt32Array(l,o));else if(S==="Int64")g=t.readInt64Array(l,o);else if(S==="Float32")g=Array.from(t.readFloat32Array(l,o));else if(S==="Float64")g=Array.from(t.readFloat64Array(l,o));else{if(S!=="string")throw new Error("Unknown VR type: "+S);{const b=t.readUint8Array(l,o);g=kQ(c)?z(this,ht,gP).call(this,b):z(this,ht,F2).call(this,b),g=function(m){let y=m;const v=m.length-1;return m[v]===GQ&&(y=m.substring(0,v)),y=y.trim(),y}(g).split("\\")}}else if(c==="xx")g=Array.from(t.readUint16Array(l,o));else if(c==="ox")g=h===8?f===0?Array.from(t.readUint8Array(l,o)):Array.from(t.readInt8Array(l,o)):f===0?Array.from(t.readUint16Array(l,o)):Array.from(t.readInt16Array(l,o));else if(c==="xs")g=f===0?Array.from(t.readUint16Array(l,o)):Array.from(t.readInt16Array(l,o));else if(c==="AT"){const b=t.readUint16Array(l,o);g=[];for(let m=0,y=b.length;m<y;m+=2){const v=b[m].toString(16),D=b[m+1].toString(16);let x="(";x+="0000".substring(0,4-v.length)+v.toUpperCase(),x+=",",x+="0000".substring(0,4-D.length)+D.toUpperCase(),x+=")",g.push(x)}}else if(c==="SQ"){g=[];for(let b=0;b<e.items.length;++b){const m=e.items[b],y={},v=Object.keys(m);let D=h,x=f;for(let T=0;T<v.length;++T){let C=m[FA];C!==void 0&&C.value!==void 0&&(D=C.value[0]),C=m[kA],C!==void 0&&C.value!==void 0&&(x=C.value[0]);const A={bitsAllocated:D,pixelRepresentation:x},R=m[v[T]];R.value=z(this,ht,la).call(this,R,t,A),delete R.tag,delete R.vl,delete R.startOffset,delete R.endOffset,y[v[T]]=R}g.push(y)}delete e.items}else c==="NONE"||Re.warn("Unknown VR: "+c+" (for tag "+e.tag.getKey()+")"),g=[];return g},SP=function(e,t,i){const a=Object.keys(e);for(let o=0;o<a.length;++o){const c=e[a[o]];c.value===void 0&&(c.value=z(this,ht,la).call(this,c,t,i)),delete c.tag,delete c.vl,delete c.startOffset,delete c.endOffset}};class jQ{constructor(e,t,i,a){ae(this,"min");ae(this,"max");ae(this,"mean");ae(this,"stdDev");ae(this,"median");ae(this,"p25");ae(this,"p75");this.min=e,this.max=t,this.mean=i,this.stdDev=a}}function H6(n,e){return function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))}(e)?function(t){const i=D4(t);return t.sort(function(a,o){return a-o}),i.median=EC(t,.5),i.p25=EC(t,.25),i.p75=EC(t,.75),i}(n):D4(n)}function D4(n){let e=n[0],t=e,i=0,a=0,o=0;const c=n.length;for(let g=0;g<c;++g)o=n[g],o<e?e=o:o>t&&(t=o),i+=o,a+=o*o;const l=i/c;let h=a/c-l*l;h<0&&(h=0);const f=Math.sqrt(h);return new jQ(e,t,l,f)}function EC(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,i=Math.floor(t),a=n[i];return a+(n[i+1]-a)*(t-i)}var kr,Ur,Vi,Nr,eh,Ds,th,Ey,yP;class _c{constructor(e,t,i,a,o){V(this,Ey);V(this,kr);V(this,Ur);V(this,Vi);V(this,Nr,{});V(this,eh);V(this,Ds,Nv());V(this,th,!1);H(this,kr,e),H(this,Ur,t),H(this,Vi,i),o!==void 0&&(H(this,eh,o),u(this,Nr)[o]=e),a!==void 0&&H(this,Ds,a)}getInitialTime(){return u(this,eh)}getCurrentTotalNumberOfSlices(){const e=Object.keys(u(this,Nr));if(e.length===0)return u(this,kr).length;let t=0;for(let i=0;i<e.length;++i)t+=u(this,Nr)[e[i]].length;return t}hasSlicesAtTime(e){return u(this,Nr)[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(u(this,Nr));if(t.length===0)return;let i=0;for(let a=0;a<t.length;++a){const o=t[a];if(parseInt(o,10)===e)break;i+=u(this,Nr)[o].length}return i}getOrigin(){return u(this,kr)[0]}getOrigins(){return u(this,kr)}includesOrigin(e,t){for(let i=0;i<u(this,kr).length;++i)if(u(this,kr)[i].isSimilar(e,t))return!0;return!1}getSize(e){let t=u(this,Ur);if(e&&e!==void 0){let i=Zg([u(this,Ur).get(0),u(this,Ur).get(1),u(this,Ur).get(2)],e);i=i.map(Math.abs),t=new il(i.concat(u(this,Ur).getValues().slice(3)))}return t}getSpacing(e){u(this,th)&&(z(this,Ey,yP).call(this),H(this,th,!1));let t=u(this,Vi);if(e&&e!==void 0){let i=Zg([u(this,Vi).get(0),u(this,Vi).get(1),u(this,Vi).get(2)],e);i=i.map(Math.abs),t=new Ec(i)}return t}getRealSpacing(){return this.getSpacing(u(this,Ds).getInverse().asOneAndZeros())}getOrientation(){return u(this,Ds)}getSliceIndex(e,t){let i=u(this,kr);t!==void 0&&(i=u(this,Nr)[t]);const a=e.getClosest(i),o=i[a],c=e.minus(o);return new mn(u(this,Ds).get(0,2),u(this,Ds).get(1,2),u(this,Ds).get(2,2)).isCodirectional(c)?a+1:a}appendOrigin(e,t,i){const a=function(o){return o.equals(e)};if(i!==void 0){if(u(this,Nr)[i].find(a)!==void 0)throw new Error("Cannot append same time origin twice");u(this,Nr)[i].splice(t,0,e)}if(i===void 0||i===u(this,eh)){if(u(this,kr).find(a)!==void 0)throw new Error("Cannot append same origin twice");H(this,th,!0),u(this,kr).splice(t,0,e);const o=u(this,Ur).getValues();o[2]+=1,H(this,Ur,new il(o))}}appendFrame(e,t){u(this,Nr)[t]=[e];const i=u(this,Ur).getValues(),a=u(this,Vi).getValues();i.length===4?i[3]+=1:(i.push(2),a.push(1)),H(this,Ur,new il(i)),H(this,Vi,new Ec(a))}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!==null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const i=new Et(t),a=new Et(this.getSize().getValues());return[this.indexToWorld(i),this.indexToWorld(a)]}indexToWorld(e){const t=this.getSpacing(),i=new Xt(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=e.getValues(),c=this.getOrigin();return o[0]=c.getX()+a.getX(),o[1]=c.getY()+a.getY(),o[2]=c.getZ()+a.getZ(),new Nc(o)}pointToWorld(e){const t=this.getSpacing(),i=new Xt(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=this.getOrigin();return new Xt(o.getX()+a.getX(),o.getY()+a.getY(),o.getZ()+a.getZ())}worldToIndex(e){const t=this.getOrigin(),i=new Xt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),c=this.getSpacing();return o[0]=Math.floor(Go(a.getX()/c.get(0),5)),o[1]=Math.floor(Go(a.getY()/c.get(1),5)),o[2]=Math.floor(Go(a.getZ()/c.get(2),5)),new Et(o)}worldToPoint(e){const t=this.getOrigin(),i=new Xt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),c=this.getSpacing();return o[0]=a.getX()/c.get(0),o[1]=a.getY()/c.get(1),o[2]=a.getZ()/c.get(2),new Xt(o[0],o[1],o[2])}}kr=new WeakMap,Ur=new WeakMap,Vi=new WeakMap,Nr=new WeakMap,eh=new WeakMap,Ds=new WeakMap,th=new WeakMap,Ey=new WeakSet,yP=function(){const e=function(t){if(t.length<=1)return;const i=[];for(let c=0;c<t.length-1;++c){const l=t[c],h=t[c+1],f=l.getDistance(h);if(f===0)throw new Error("Zero slice spacing "+l.toString()+" "+h.toString());i.push(f)}const a=D4(i),o=Go(a.mean,4);return a.stdDev>Uv&&Re.warn("Varying slice spacing, value: "+o+" (mean: "+a.mean+", min: "+a.min+", max: "+a.max+", stdDev: "+a.stdDev+")"),o}(u(this,kr));if(e!==void 0){u(this,Vi).get(2)!==1&&u(this,Vi).get(2)!==e&&Re.debug("Using geometric spacing "+e+" instead of tag spacing "+u(this,Vi).get(2));const t=u(this,Vi).getValues();t[2]=e,H(this,Vi,new Ec(t))}};function Zg(n,e){return e.getInverse().multiplyArray3D(n)}function UA(n,e){return e.multiplyArray3D(n)}const io={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002"};function T4(n){let e;const t=cn(n,io.Rows),i=cn(n,io.Columns);return t!==void 0&&i!==void 0&&(e=[i,t]),e}function vP(n){const e=bo(n,io.PixelSpacing);if(e===void 0||e.length!==2)return;const t=[parseFloat(e[1]),parseFloat(e[0])],i=cn(n,io.SpacingBetweenSlices);return i!==void 0&&t.push(parseFloat(i)),new Ec(t)}function NA(n){const e=cn(n,io.PhotometricInterpretation),t=cn(n,io.TransferSyntax);if(e!==void 0&&t!==void 0){let i=e.toUpperCase();(Q6(t)||V6(t)||z6(t))&&!j6(i)&&(i="RGB");let a=cn(n,io.SamplesPerPixel);return a===void 0&&(a=1),i==="RGB"&&a===1&&(i="PALETTE COLOR"),i}}function j6(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function Jg(n){return("0"+n).slice(-2)}function _C(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,i=6;return e.length===10&&(t=5,i=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===i+2?parseInt(e.substring(i,i+2),10):0}}function h2(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),i=e.length>=4?parseInt(e.substring(2,4),10):0,a=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:i,seconds:a,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function w4(n){return{year:n.getFullYear().toString(),monthIndex:Jg((n.getMonth()+1).toString()),day:Jg(n.getDate().toString())}}function x4(n){return{hours:Jg(n.getHours().toString()),minutes:Jg(n.getMinutes().toString()),seconds:Jg(n.getSeconds().toString())}}function A4(n){return n.year+n.monthIndex+n.day}function R4(n){return n.hours+n.minutes+n.seconds}const qA="00080016",BA="00080060",GA="00280002",VA="00280100",zA={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};var Gl,nh;class YQ{constructor(){V(this,Gl);V(this,nh)}getWarning(){return u(this,Gl)}checkElements(e){if(H(this,Gl,void 0),T4(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!cP(e))throw new Error("No pixel data in DICOM file");const t=cn(e,BA);if(t!==void 0&&t==="PT"){const a=NA(e);if((i=cn(e,qA))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(i)||!j6(a))return u(this,Gl);const o=function(c){let l="";const h={};let f;l+=hs(c["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),l+=hs(c["00541102"],"Decay Correction (00541102)",["START"]),l+=hs(c["00541001"],"Units (00541001)",["BQML"]);const g=c["00101030"],S=hs(g," PatientWeight (00101030)");if(S.length===0){const m=parseFloat(g.value[0]);isNaN(m)?l+=" PatientWeight is not a number":f=m}else l+=S;const b=function(m){let y,v="";const D=_C(m["00080021"]);let x,T,C;const A=m["00540016"];if(v+=hs(A,"RadiopharmaceuticalInformationSequence (00540016)"),A!==void 0){A.value.length!==1&&Re.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const P="RadionuclideTotalDose (00181074)",q=A.value[0]["00181074"];if(y=hs(q,P),y.length===0){const G=parseFloat(q.value[0]);isNaN(G)?v+=" TotalDose is not a number":x=G}else v+=y;const N="RadionuclideHalfLife (00181075)",L=A.value[0]["00181075"];if(y=hs(L,N),y.length===0){const G=parseFloat(L.value[0]);isNaN(G)?v+=" HalfLife is not a number":T=G}else v+=y;const O=A.value[0]["00181078"];let F,k;if(O===void 0)F=D,k=h2(A.value[0]["00181072"]);else{const G=function(W){if(W===void 0||W.value.length!==1)return;const X=W.value[0].split("&")[0],Q=new x0("DA");Q.value=[X.substring(0,8)];const Y=_C(Q),$=new x0("TM");return $.value=[X.substring(8)],{date:Y,time:X.length>=9?h2($):void 0}}(O);F=G.date,k=G.time}k===void 0&&(k={hours:0,minutes:0,seconds:0,milliseconds:0}),C=new Date(F.year,F.monthIndex,F.day,k.hours,k.minutes,k.seconds,k.milliseconds)}const R=h2(m["00080031"]);let E=new Date(D.year,D.monthIndex,D.day,R.hours,R.minutes,R.seconds,R.milliseconds);const U=m["00080022"],_=m["00080032"];if(U!==void 0&&_!==void 0){const P=_C(U),q=h2(_),N=new Date(P.year,P.monthIndex,P.day,q.hours,q.minutes,q.seconds,q.milliseconds);if(E>N){const L="Series date/time is after Aquisition date/time (diff="+(E.getTime()-N.getTime()).toString()+"ms) ";Re.debug(L);let O=0;const F="FrameReferenceTime (00541300)",k=m["00541300"];v+=hs(k,F),k!==void 0&&(O=k.value[0]);let G=0;const W="ActualFrameDuration (00181242)",X=m["00181242"];if(v+=hs(X,W),X!==void 0&&(G=X.value[0]),O>0&&G>0){G/=1e3,O/=1e3;const Q=Math.log(2)/T,Y=Q*G,$=1/Q*Math.log(Y/(1-Math.exp(-Y)))-O;E=new Date(P.year,P.monthIndex,P.day,q.hours,q.minutes,q.seconds+$,q.milliseconds)}}}let M;if(E!==void 0&&C!==void 0&&x!==void 0&&T!==void 0){const P=(E.getTime()-C.getTime())/1e3;M=x*Math.pow(2,-P/T)}return{value:M,warning:v}}(c);return l+=b.warning,l.length!==0?h.warning="Cannot calculate PET SUV:"+l:h.value=1e3*f/b.value,h}(e);H(this,nh,o.value),H(this,Gl,o.warning)}var i;return u(this,Gl)}create(e,t,i){const a=function(X){return cn(e,X)},o=function(X){return bo(e,X)},c=T4(e),l=[c[0],c[1],1],h=a("00280008");if(h!==void 0){const X=parseInt(h,10);X>1&&l.push(X)}const f=new il(l);let g=[1,1,1];const S=function(X){let Q;const Y=["PixelSpacing","ImagerPixelSpacing","NominalScannedPixelSpacing","PixelAspectRatio"];for(const $ of Y){const ee=bo(X,io[$]);if(ee!==void 0&&ee.length===2){Q=[parseFloat(ee[1]),parseFloat(ee[0])];break}}return Q}(e);S!==void 0&&(g=[S[0],S[1],1]);const b=new Ec(g),m=o("00200032");let y=new Array(0,0,0);m!==void 0&&(y=[parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]);const v=function(X){const Q=bo(X,io.ImageOrientationPatient);let Y;return Q!==void 0&&(Y=G6(Q.map($=>parseFloat($)))),Y}(e),D=new Xt(y[0],y[1],y[2]),x=void 0,T=new _c([D],f,b,v,x),C=a("00080018");let A=a(GA);A===void 0&&(A=1);const R=f.getTotalSize()*A;if(R!==t.length){if(Re.warn("Badly sized pixel buffer: "+t.length+" != "+R),!(R<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,f.getTotalSize())}const E=new L0(T,t,[C]),U=NA(e);U!==void 0&&E.setPhotometricInterpretation(U);const _=a("00280006");_!==void 0&&E.setPlanarConfiguration(_);let M=1;const P=a("00281053");if(P!==void 0){const X=parseFloat(P);isNaN(X)||(M=X)}let q=0;const N=a("00281052");if(N!==void 0){const X=parseFloat(N);isNaN(X)||(q=X)}let L=!1,O=1;u(this,nh)!==void 0&&(L=!0,O=u(this,nh),Re.info("Applying PET SUV calibration: "+O),M*=O,q*=O);const F=new B6(M,q);if(E.setRescaleSlopeAndIntercept(F),E.getPhotometricInterpretation()==="PALETTE COLOR"){const X=function(Q){let Y;const $=bo(Q,"00281101");if($!==void 0&&$.length===3){let ee,re,ie;const fe=Q["00281201"],ne=Q["00281202"],oe=Q["00281203"];if($[2]===16){let pe=!1,me=$[0];me===0&&(me=65536);const xe=fe.vl;if(xe!==2*me&&(pe=!0,Re.info("16bits lut but size is not double. desc: "+me+" vl: "+xe)),parseInt(cn(Q,VA),10)===8&&(pe=!0,Re.info("Scaling 16bits color lut since bits allocated is 8.")),pe){const Oe=function(Be){return Be>>8};ee=fe.value.map(Oe),re=ne.value.map(Oe),ie=oe.value.map(Oe)}}else if($[2]===8){Re.info("Scaling 16bits color lut since the lut descriptor is 8.");let pe=fe.value.slice(0);ee=Array.from(new Uint8Array(pe.buffer)),pe=ne.value.slice(0),re=Array.from(new Uint8Array(pe.buffer)),pe=oe.value.slice(0),ie=Array.from(new Uint8Array(pe.buffer))}Y=new q6(ee,re,ie)}return Y}(e);X!==void 0&&E.setPaletteColourMap(X)}const k={numberOfFiles:i};k.TransferSyntaxUID=a("00020010"),k.MediaStorageSOPClassUID=a("00020002"),k.SOPClassUID=a(qA),k.Modality=a(BA),k.ImageType=a("00080008"),k.SamplesPerPixel=a(GA),k.PhotometricInterpretation=a("00280004"),k.PixelRepresentation=a("00280103"),k.BitsAllocated=a(VA),k.BitsStored=a("00280101"),k.HighBit=a("00280102"),k.ImageOrientationPatient=o("00200037");const G=Object.keys(zA);for(const X of G)k[X]=a(zA[X]);if(L)k.pixelUnit="SUV";else{const X=function(Q){return function(Y){let $;const ee=["RescaleType","Units"];for(const re of ee)if(cn(Y,io[re])!==void 0)break;if($===void 0){const re=cn(Y,io.Modality);re!==void 0&&re==="CT"&&($="HU")}return $}(Q)}(e);X!==void 0&&(k.pixelUnit=X)}k.lengthUnit=S===void 0?"unit.pixel":"unit.mm";const W=function(X,Q){let Y;const $=bo(X,"00281050"),ee=bo(X,"00281051");if($!==void 0&&ee!==void 0){Y={};const re=bo(X,"00281055");let ie;for(let fe=0;fe<$.length;++fe){const ne=parseFloat($[fe]);let oe=parseFloat(ee[fe]);ne&&oe&&oe!==0&&(ie="",re!==void 0&&(ie=re[fe]),ie===""&&(ie="Default"+fe),oe*=Q,oe<1&&(oe=1),Y[ie]={wl:[new Cr(ne*Q,oe)],name:ie}),oe===0&&Re.warn("Zero window width found in DICOM.")}}return Y}(e,O);return W!==void 0&&(k.windowPresets=W),k.VOILUTFunction=a("00281056"),E.setMeta(k),E}}Gl=new WeakMap,nh=new WeakMap;let QA=0;function XQ(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);QA+=1;const t="."+QA;let i="1.2.826.0.1.3680043.9.7278.1.";const a=29+t.length+e.length,o=Math.min(n.length,64-a);if(o>1){let c="";for(let l=0;l<o;++l)c+=n.charCodeAt(l);i+=c.substring(0,o)}return i+=e+t,i}function lp(n){const e=Object.keys(n),t={};for(const i of e){const a=NQ(i);if(a===void 0)continue;const o=a.getVrFromDictionary();let c,l=!1;const h=n[i];if(o==="SQ"){const g=[];if(h.undefinedLength!==void 0&&(l=h.undefinedLength),Array.isArray(h.value))for(const S of h.value)g.push(lp(S));else Re.debug("Non array simpleTag SQ value");c=g}else c=Array.isArray(h)?h:[h];const f=new x0(o);f.tag=a,f.value=c,l&&(f.undefinedLength=l),t[a.getKey()]=f}return t}const HA="00080100",jA="00080102",YA="00080119",XA="00080120";class cp{constructor(e){ae(this,"meaning");ae(this,"value");ae(this,"longValue");ae(this,"urnValue");ae(this,"schemeDesignator");this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function k2(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function Md(n){const e=new cp(n["00080104"].value[0]);if(n[HA]!==void 0)e.value=n[HA].value[0];else if(n[YA]!==void 0)e.longValue=n[YA].value[0];else{if(n[XA]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[XA].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[jA]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[jA].value[0]}return e}function qc(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const WA={value:"111017",meaning:"CAD Processing and Findings Summary"},$A={value:"111030",meaning:"Image Region"},KA={value:"111059",meaning:"Single Image Finding"},WQ={value:"111099",meaning:"Selected region"},$Q={value:"111242",meaning:"All algorithms succeeded; with findings"},ZA={value:"112000",meaning:"Chest CAD Report"},JA={value:"112020",meaning:"Response Evaluation"},KQ={value:"112021",meaning:"Response Evaluation Method"},ZQ={value:"112022",meaning:"RECIST"},f2={value:"112039",meaning:"Tracking Identifier"},e7={value:"112051",meaning:"Measurement of Response"},MC={value:"112040",meaning:"Tracking Unique Identifier"},t7={value:"112048",meaning:"Current Response"},JQ={value:"113076",meaning:"Segmentation"},eH={value:"121055",meaning:"Path"},n7={value:"121106",meaning:"Comment"},tH={value:"121322",meaning:"Source image for image processing operation"},nH={value:"121324",meaning:"Source Image"},g2={value:"122438",meaning:"Reference Points"},p2={value:"125007",meaning:"Measurement Group"},i7={value:"125309",meaning:"Short Label"},FC={value:"126000",meaning:"Imaging Measurement Report"},r7={value:"126010",meaning:"Imaging Measurements"},a7={value:"128773",meaning:"Reference Geometry"},iH={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},rH={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function at(n){const e=new cp(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function xy(n,e){let t,i;return e==="SCT"?t=iH[n]:e==="UCUM"&&(t=rH[n]),t!==void 0&&(i=new cp(t),i.schemeDesignator=e,i.value=n),i}function o7(){return xy("718499004","SCT")}const O4={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},P4={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function bP(n){const e=P4[n];let t;return e!==void 0?t=xy(e,"UCUM"):e===void 0&&(t=xy("1","UCUM")),t}const s7="00620005",l7="00620009",c7="0062000C",u7="0062000D",d7="00620003",h7="0062000F",f7="00620020";class aH{constructor(e,t,i){ae(this,"number");ae(this,"label");ae(this,"algorithmType");ae(this,"algorithmName");ae(this,"displayValue");ae(this,"displayRGBValue");ae(this,"propertyTypeCode");ae(this,"propertyCategoryCode");ae(this,"trackingUid");ae(this,"trackingId");this.number=e,this.label=t,this.algorithmType=i}}function oH(n){const e=new aH(n["00620004"].value[0],n[s7]?n[s7].value[0]:"n/a",n["00620008"].value[0]);if(n[l7]!==void 0&&(e.algorithmName=n[l7].value[0]),n[c7]!==void 0)e.displayValue=n[c7].value[0];else if(n[u7]!==void 0){const i=n[u7].value,a=function(o){return function(c){function l(S){let b=null;return b=S<=.0031308?12.92*S:1.055*Math.pow(S,.416666667)-.055,Math.min(1,Math.max(0,b))}const h=c.x/100,f=c.y/100,g=c.z/100;return{r:Math.round(255*l(3.2406*h-1.5372*f-.4986*g)),g:Math.round(255*l(-.9689*h+1.8758*f+.0415*g)),b:Math.round(255*l(.0557*h-.204*f+1.057*g))}}(function(c){function l(g){let S=null;return S=g>.206896552?Math.pow(g,3):.128418549*g-.017712903,S}const h=tP,f=(c.l+16)/116;return{x:h.x*l(f+c.a/500),y:h.y*l(f),z:h.z*l(f-c.b/200)}}(o))}({l:.001525902*(t={l:i[0],a:i[1],b:i[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=a}else Re.warn("No recommended colour for segment, using default"),e.displayRGBValue=function(i){const a=[new Di(0,0,0),new Di(255,0,0),new Di(0,255,0),new Di(0,0,255),new Di(255,255,0),new Di(0,255,255),new Di(255,0,255),new Di(255,239,213),new Di(0,0,205),new Di(205,133,63),new Di(210,180,140),new Di(102,205,170),new Di(0,0,128),new Di(0,139,139),new Di(46,139,87),new Di(255,228,225)];let o;return o=i<a.length?a[i]:new Di(255*Math.random(),255*Math.random(),255*Math.random()),o}(e.number);var t;if(n[d7]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=Md(n[d7].value[0]),n[h7]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=Md(n[h7].value[0]),n[f7]!==void 0&&(e.trackingId=n[f7].value[0],e.trackingUid=n["00620021"].value[0]),e}function sH(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const i=CQ(DQ(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(i.l),Math.round(i.a),Math.round(i.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[qc(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[qc(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const g7="00089124",p7="00082112",m7="00081150",S7="00081155",y7="00209116",v7="00289110";class lH{constructor(e,t,i,a){ae(this,"dimIndex");ae(this,"imagePosPat");ae(this,"derivationImages");ae(this,"refSegmentNumber");ae(this,"imageOrientationPatient");ae(this,"spacing");this.dimIndex=e,this.imagePosPat=t,this.derivationImages=i,this.refSegmentNumber=a}}function cH(n){const e=[];if(n[g7]!==void 0){const l=n[g7].value;for(let h=0;h<l.length;++h){const f=[];if(l[h][p7]!==void 0){const g=l[h][p7].value;for(let S=0;S<g.length;++S){const b={};g[S][m7]!==void 0&&(b.referencedSOPClassUID=g[S][m7].value[0]),g[S][S7]!==void 0&&(b.referencedSOPInstanceUID=g[S][S7].value[0]),f.push(b)}}e.push({sourceImages:f})}}const t=n["00209111"].value[0]["00209157"].value,i=n["0062000A"].value,a=parseInt(i[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let l=0;l<o.length;++l)o[l]=parseFloat(o[l]);const c=new lH(t,o,e,a);if(n[y7]!==void 0){const l=n[y7];if(l.value.length!==0){const h=l.value[0]["00200037"].value;h!==void 0&&(c.imageOrientationPatient=h)}}if(n[v7]!==void 0){const l=n[v7];if(l.value.length!==0){const h=vP(l.value[0]);h!==void 0&&(c.spacing=h)}else Re.warn("No shared functional group pixel measure sequence items.")}return c}function uH(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=qc(at(tH)),i=qc(at(JQ)),a=[];for(const o of n.derivationImages){const c=[];for(const l of o.sourceImages)c.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:l.referencedSOPClassUID,ReferencedSOPInstanceUID:l.referencedSOPInstanceUID});a.push({DerivationCodeSequence:{value:[i]},SourceImageSequence:{value:c}})}e.DerivationImageSequence={value:a}}return e}const b7="00209116",C7="00289110",D7={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function dH(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let i,a=!1;if(i=t.value.length===1?t.value[0]:t.value,Array.isArray(i))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(oP(e.enum[o],i)){a=!0;break}}else a=e.enum.includes(i);if(!a)throw new Error("Unsupported "+e.name+" value: "+i)}function hH(n,e,t){const i=n.getGeometry().getSize().getDimSize(2),a={};for(let o=0;o<i;++o){const c=t+o,l=n.getValueAtOffset(c);for(const h of e){const f=h.number-1;l===h.number&&(a[f]===void 0&&(a[f]=new Uint8Array(i)),a[f][o]=1)}}return a}const CP=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[Ty,b4,wy]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function DP(){const n={};for(const e of CP)n[e.name]=e.enum[0];return n}var _y,Uf,TP,wP;class L4{constructor(){V(this,Uf);V(this,_y)}getWarning(){return u(this,_y)}checkElements(e){}create(e,t,i){const a=function(ie){return cn(e,ie)},o=function(ie){return bo(e,ie)};for(const ie of CP)dH(e,ie);const c=T4(e),l=new il([c[0],c[1],1]),h=l.getTotalSize();let f=a("00280008");if(f=f!==void 0?parseInt(f,10):1,f!==t.length/h)throw new Error("Buffer and numberOfFrames meta are not equal "+f+" "+t.length/h);const g=function(ie){const fe=ie["00209221"];if(fe===void 0||fe.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const ne=fe.value[0]["00209164"].value[0],oe=[],pe=ie["00209222"];if(pe!==void 0){const me=pe.value;if(me.length!==2)throw new Error("Unsupported dimension index sequence length");let xe;for(let Oe=0;Oe<me.length;++Oe){const Be=me[Oe]["00209164"].value[0];if(Be!==ne)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");xe=me[Oe]["00209165"].value[0];const B={DimensionOrganizationUID:Be,DimensionIndexPointer:xe};me[Oe]["00209421"]!==void 0&&(B.DimensionDescriptionLabel=me[Oe]["00209421"].value[0]),oe.push(B)}if(xe!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:ne}]},indices:{value:oe}}}(e),S=o("00620002");if(S===void 0)throw new Error("Missing or empty segmentation sequence");const b=[],m=[0],y=[0],v=[0];for(let ie=0;ie<S.length;++ie){const fe=oH(S[ie]);fe.displayRGBValue!==void 0&&(m[fe.number]=fe.displayRGBValue.r,y[fe.number]=fe.displayRGBValue.g,v[fe.number]=fe.displayRGBValue.b),b.push(fe)}let D,x,T,C=!1;m.length>1&&(C=!0,D=new q6(m,y,v));const A=o("52009229");if(A!==void 0){const ie=A[0];if(ie[b7]!==void 0){const fe=ie[b7];fe.value.length!==0?T=fe.value[0]["00200037"].value:Re.warn("No shared functional group plane orientation sequence items.")}if(ie[C7]!==void 0){const fe=ie[C7];fe.value.length!==0?x=vP(fe.value[0]):Re.warn("No shared functional group pixel measure sequence items.")}}const R=function(ie,fe){return ie.some(function(ne){return oe=fe,pe=ne,JSON.stringify(oe)===JSON.stringify(pe);var oe,pe})},E=function(ie,fe){return ie.findIndex(function(ne){return fe.equals(ne)})},U=o("52009230");if(U===void 0)throw new Error("Missing or empty per frame functional sequence");if(f!==U.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const _=[];for(let ie=0;ie<U.length;++ie)_.push(cH(U[ie]));const M=[];for(let ie=0;ie<_.length;++ie){if(R(M,_[ie].imagePosPat)||M.push(_[ie].imagePosPat),_[ie].imageOrientationPatient!==void 0){if(T===void 0)T=_[ie].imageOrientationPatient;else if(!oP(T,_[ie].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(_[ie].spacing!==void 0){if(x===void 0)x=_[ie].spacing;else if(!x.equals(_[ie].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(x===void 0)throw new Error("No spacing found for DICOM SEG");if(x.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(T===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const P=G6(T.map(ie=>parseFloat(ie)));if(P===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");M.sort(function(ie){const fe=ie.getInverse();return function(ne,oe){const pe=fe.multiplyArray3D(ne),me=fe.multiplyArray3D(oe);return pe[2]-me[2]}}(P));const q=function(ie){return new Xt(ie[0],ie[1],ie[2])},N=[];for(const ie of M)N.push(q(ie));let L;L=i!==void 0?z(this,Uf,TP).call(this,N,l,x,P,i.getGeometry().getOrigins()):z(this,Uf,wP).call(this,N,l,x,P);const O=L.getSize().get(2),F=function(ie){return function(fe){return fe.number===ie}},k=new t.constructor(h*O);k.fill(0);const G=L.getOrigins();let W,X,Q;for(let ie=0;ie<_.length;++ie){if(W=E(G,q(_[ie].imagePosPat)),W===-1)throw new Error("Cannot find frame origin in mask origins");X=h*ie,Q=h*W;const fe=b.find(F(_[ie].refSegmentNumber));for(let ne=0;ne<h;++ne)t[X+ne]!==0&&(k[Q+ne]=C?fe.number:fe.displayValue)}const Y=[];for(let ie=0;ie<O;++ie)Y.push(ie.toString());const $=new L0(L,k,Y);C&&($.setPhotometricInterpretation("PALETTE COLOR"),$.setPaletteColourMap(D));const ee=DP(),re=Object.keys(D7);for(const ie of re)ee[ie]=a(D7[ie]);return ee.DimensionOrganizationSequence=g.organizations,ee.DimensionIndexSequence=g.indices,ee.custom={segments:b,frameInfos:_,SOPInstanceUID:a("00080018")},ee.lengthUnit=i.getMeta().lengthUnit,ee.numberOfFiles=O,$.setMeta(ee),$}toDicom(e,t,i,a){const o=e.getMeta();t===void 0&&(t=o.segments);const c=e.getGeometry(),l=c.getSize();o.Rows=l.get(1),o.Columns=l.get(0);const h=new Date;o.ContentDate=A4(w4(h)),o.ContentTime=R4(x4(h)),i!==void 0&&(o.StudyInstanceUID=i.getMeta().StudyInstanceUID);const f=[];for(const R of t)f.push(sH(R));var g,S;o.SegmentSequence={value:f},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(S=c.getOrientation(),{ImageOrientationPatient:[S.get(0,0),S.get(1,0),S.get(2,0),S.get(0,1),S.get(1,1),S.get(2,1)]})]},PixelMeasuresSequence:{value:[(g=c.getSpacing(),{SpacingBetweenSlices:g.get(2),PixelSpacing:[g.get(1),g.get(0)]})]}}]};const b=function(R,E){const U=R.getGeometry().getSize(),_=U.getDimSize(2),M={};for(let P=0;P<U.get(2);++P){const q=hH(R,E,P*_),N=Object.keys(q);for(const L of N)M[L]===void 0&&(M[L]={}),M[L][P]=q[L]}return M}(e,t),m=[],y=[],v=[];for(const R of t){const E=R.number,U=E-1;if(b[U]===void 0)continue;const _=Object.keys(b[U]);for(let M=_.length-1;M>=0;--M){const P=Number.parseInt(_[M],10);y.push(b[U][P]);const q=e.getGeometry().getOrigins()[P],N=[q.getX(),q.getY(),q.getZ()],L={dimIndex:[E,_.length-M],imagePosPat:N,refSegmentNumber:E};if(i!==void 0){const O=i.getGeometry().worldToIndex(new Nc([q.getX(),q.getY(),q.getZ()]));L.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:i.getImageUid(O),referencedSOPClassUID:i.getMeta().SOPClassUID}]}],v.push({ReferencedSOPInstanceUID:i.getImageUid(O),ReferencedSOPClassUID:i.getMeta().SOPClassUID})}m.push(L)}}o.NumberOfFrames=y.length.toString();const D=[];for(const R of m)D.push(uH(R));if(o.PerFrameFunctionalGroupsSequence={value:D},i!==void 0){const R=[];R.push({ReferencedInstanceSequence:{value:v},SeriesInstanceUID:i.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:R}}a!==void 0&&function(R,E){const U=Object.keys(E);for(const _ of U)R[_]!==void 0&&Re.debug("Overwritting tag: "+_),R[_]=E[_]}(o,a);const x=lp(o),T=l.getDimSize(2),C=y.length*T/8,A=new x0("OB");return A.tag=new sp("7FE0","0010"),A.vl=C,A.value=y,x["7FE00010"]=A,x}}_y=new WeakMap,Uf=new WeakSet,TP=function(e,t,i,a,o){const c=function(g,S){return g.findIndex(function(b){return S.isSimilar(b,1e-4)})},l=[];l.push(e[0]);let h=c(o,e[0]);if(h===-1)throw new Error("No index for first frame origin");for(let g=1;g<e.length;++g){const S=e[g],b=c(o,S);if(b===-1)throw new Error("No index for frame origin "+g);if(b!==h+1)for(let m=h+1;m<b;++m)l.push(o[m]);l.push(S),h=b}const f=new _c([e[0]],t,i,a);for(let g=1;g<l.length;++g)f.appendOrigin(l[g],g);return f},wP=function(e,t,i,a){Re.warn("Guessing image geometry for DICOM SEG");const o=new _c([e[0]],t,i,a),c=function(g){let S=g>Uv;return S&&(S=g>.001,S?(S=g>.01,S||Re.warn("Using larger+ real world epsilon in SEG pos pat adding")):Re.warn("Using larger real world epsilon in SEG pos pat adding")),S},l=[];l.push(e[0]);let h=0;for(let g=1;g<e.length;++g){++h;let S=new Et([0,0,h]),b=o.indexToWorld(S).get3D();const m=e[g];let y=m.getDistance(b);const v=y;for(;c(y);)if(Re.debug("Adding intermediate pos pats for DICOM seg at "+b.toString()),l.push(b),++h,S=new Et([0,0,h]),b=o.indexToWorld(S).get3D(),y=m.getDistance(b),y>v)throw new Error("Test distance is increasing when adding intermediate pos pats");l.push(m)}const f=new _c([e[0]],t,i,a);for(let g=1;g<l.length;++g)f.appendOrigin(l[g],g);return f};var wp,I4;class xP{constructor(e){V(this,wp);ae(this,"poolSize");ae(this,"taskQueue");ae(this,"freeThreads");ae(this,"runningThreads");ae(this,"handleWorkerError",e=>{z(this,wp,I4).call(this),this.onerror({error:e}),this.onworkend({type:"work-end"})});this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new fH(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){z(this,wp,I4).call(this),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}wp=new WeakSet,I4=function(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]};class fH{constructor(e){ae(this,"parentPool");ae(this,"id");ae(this,"runningTask");ae(this,"worker");ae(this,"onmessage",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)});ae(this,"onerror",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.handleWorkerError(e),this.stop()});this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}}class Nm{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class gH extends Nm{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Oi.u(391),Oi.b),{name:"labeling.worker",type:"module"})}}var ih;class pH{constructor(){V(this,ih,new xP(1));u(this,ih).onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){u(this,ih).onworkitem=this.ondone;const i=new gH(function(a,o){const c=o.length(),l=Array(c).fill(0);for(let f=0;f<c;f++)l[f]=o.getDimSize(f);const h=Array(c).fill(0);for(let f=0;f<c;f++)h[f]=o.get(f);return{imageBuffer:a,unitVectors:l,sizes:h,totalSize:o.getTotalSize()}}(e,t),{});u(this,ih).addWorkerTask(i)}ondone(e){}}ih=new WeakMap;var Nn,zt,qr,Vl,Do,rh,ah,oh,zl,xp,Wn,oi,Ql,Hl,sh,lh,jl,Qo,E4,AP,_4,Wa;const eD=class eD{constructor(e,t,i){V(this,Qo);V(this,Nn);V(this,zt);V(this,qr);V(this,Vl,new B6(1,0));V(this,Do,null);V(this,rh,!0);V(this,ah,!0);V(this,oh,"MONOCHROME2");V(this,zl);V(this,xp,0);V(this,Wn);V(this,oi,{});V(this,Ql,null);V(this,Hl,null);V(this,sh,null);V(this,lh,new Kr);V(this,jl);V(this,Wa,e=>{u(this,lh).fireEvent(e)});H(this,Nn,e),H(this,zt,t),H(this,qr,i),H(this,jl,null),H(this,Wn,u(this,zt).length/u(this,Nn).getSize().getTotalSize())}getImageUid(e){let t=u(this,qr)[0];return u(this,qr).length!==1&&e!==void 0&&(t=u(this,qr)[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const i=u(this,qr).indexOf(e);return i!==-1&&(t=this.getGeometry().getOrigins()[i]),t}includesImageUid(e){return u(this,qr).includes(e)}containsImageUids(e){return function(t,i){if(t===null||i===null||t===void 0||i===void 0||t.length===0||i.length===0||i.length>t.length)return!1;for(const a of i)if(!t.includes(a))return!1;return!0}(u(this,qr),e)}getGeometry(){return u(this,Nn)}getBuffer(){return u(this,zt)}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return j6(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let i=1;return u(this,oi).numberOfFiles!==void 0&&(i=u(this,oi).numberOfFiles),t.canScroll(e)||i!==1}getSecondaryOffset(e){return u(this,Nn).getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=u(this,Vl);if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const i=this.getSecondaryOffset(e);u(this,Do)[i]!==void 0?t=u(this,Do)[i]:Re.warn("undefined non constant rsi at "+i)}return t}setRescaleSlopeAndIntercept(e,t){if(H(this,rh,u(this,rh)&&e.isID()),u(this,ah)){if(!u(this,Vl).equals(e))if(t===void 0)H(this,Vl,e);else{H(this,ah,!1),H(this,Do,[]);for(let i=0,a=z(this,Qo,E4).call(this);i<a;++i)u(this,Do).push(u(this,Vl));H(this,Vl,null),u(this,Do).splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");u(this,Do).splice(t,0,e)}}isIdentityRSI(){return u(this,rh)}isConstantRSI(){return u(this,ah)}getPhotometricInterpretation(){return u(this,oh)}setPhotometricInterpretation(e){H(this,oh,e)}setPaletteColourMap(e){H(this,zl,e),u(this,Wa).call(this,{type:"imagecontentchange"})}getPaletteColourMap(){return u(this,zl)}updatePaletteColourMap(e,t){u(this,zl).red[e]=t.r,u(this,zl).green[e]=t.g,u(this,zl).blue[e]=t.b,u(this,Wa).call(this,{type:"imagecontentchange"})}getPlanarConfiguration(){return u(this,xp)}setPlanarConfiguration(e){H(this,xp,e)}getNumberOfComponents(){return u(this,Wn)}getMeta(){return u(this,oi)}setMeta(e){H(this,oi,e)}getValueAtOffset(e){return u(this,zt)[e]}getOffsets(e){let t;if(typeof e=="number"){if(u(this,Wn)!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(u(this,Wn)!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const i=[];let a;for(let o=0;o<u(this,zt).length;o+=u(this,Wn)){a=!0;for(let c=0;c<u(this,Wn);++c)if(u(this,zt)[o+c]!==t[c]){a=!1;break}a&&i.push(o)}return i}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let f=0;f<e.length;++f)u(this,Wn)===1?t.push([e[f]]):u(this,Wn)===3&&t.push([e[f].r,e[f].g,e[f].b]);let i;u(this,Wn)===1?i=function(f,g){return f[0]===g[0]}:u(this,Wn)===3&&(i=function(f,g){return f[0]===g[0]&&f[1]===g[1]&&f[2]===g[2]});const a=function(f){return function(g){return i(g,f)}},o=new Array(e.length);o.fill(!1);const c=t.slice();let l,h;for(let f=0,g=u(this,zt).length;f<g;f+=u(this,Wn)){h=[];for(let S=0;S<c.length;++S){l=!0;for(let b=0;b<u(this,Wn);++b)if(u(this,zt)[f+b]!==c[S][b]){l=!1;break}l&&(o[t.findIndex(a(c[S]))]=!0,h.push(S))}for(let S=0;S<h.length;++S)c.splice(h[S],1);if(c.length===0)break}return o}clone(){const e=u(this,zt).slice(0),t=new eD(this.getGeometry(),e,u(this,qr));if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let i=0;i<z(this,Qo,E4).call(this);++i)t.setRescaleSlopeAndIntercept(z(this,Qo,AP).call(this,i),i);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setMeta(this.getMeta()),t}appendSlice(e){if(e===null)throw new Error("Cannot append null slice");const t=e.getGeometry().getSize();let i=u(this,Nn).getSize();if(t.get(2)!==1)throw new Error("Cannot append more than one slice");if(i.get(0)!==t.get(0))throw new Error("Cannot append a slice with different number of columns");if(i.get(1)!==t.get(1))throw new Error("Cannot append a slice with different number of rows");if(!u(this,Nn).getOrientation().isSimilar(e.getGeometry().getOrientation(),Uv))throw new Error("Cannot append a slice with different orientation");if(u(this,oh)!==e.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const T in u(this,oi))if(T!=="windowPresets"&&T!=="numberOfFiles"&&T!=="custom"&&T!=="ImageOrientationPatient"&&u(this,oi)[T]!==e.getMeta()[T])throw new Error("Cannot append a slice with different "+T+": "+u(this,oi)[T]+" != "+e.getMeta()[T]);const a=e.getDataRange(),o=this.getDataRange();H(this,Ql,{min:Math.min(a.min,o.min),max:Math.max(a.max,o.max)});const c=e.getRescaledDataRange(),l=this.getRescaledDataRange();H(this,Hl,{min:Math.min(c.min,l.min),max:Math.max(c.max,l.max)});const h=e.getGeometry().getInitialTime();let f=!1;h===void 0||u(this,Nn).hasSlicesAtTime(h)||(this.appendFrame(h,e.getGeometry().getOrigin()),i=u(this,Nn).getSize(),f=!0);const g=function(T,C){const A=C.getInitialTime(),R=[];return R.push(0),R.push(0),R.push(T.getSliceIndex(C.getOrigin(),A)),A!==void 0&&R.push(A),new Et(R)}(u(this,Nn),e.getGeometry()),S=u(this,Wn)*i.getDimSize(2);if(u(this,oi).numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const b=S*u(this,oi).numberOfFiles;u(this,zt).length!==b&&z(this,Qo,_4).call(this,b);const m=g.get(2);let y=m;h!==void 0&&(y+=u(this,Nn).getCurrentNumberOfSlicesBeforeTime(h));const v=y*S,D=u(this,Nn).getCurrentTotalNumberOfSlices()*S;v<D&&u(this,zt).set(u(this,zt).subarray(v,D),v+S),u(this,zt).set(e.getBuffer(),v),f||u(this,Nn).appendOrigin(e.getGeometry().getOrigin(),m,h),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),y);const x=u(this,qr).length;if(u(this,qr).splice(y,0,e.getImageUid()),u(this,oi).windowPresets!==void 0){const T=u(this,oi).windowPresets,C=e.getMeta().windowPresets,A=Object.keys(C);let R=null;for(let E=0;E<A.length;++E){R=A[E];const U=C[R],_=T[R];if(_!==void 0){if((_.perslice===void 0||_.perslice===!1)&&!_.wl[0].equals(U.wl[0])){_.perslice=!0;for(let M=0;M<x-1;++M)_.wl.push(_.wl[0])}_.perslice!==void 0&&_.perslice===!0&&T[R].wl.splice(y,0,U.wl[0])}else T[R]=C[R]}}u(this,Wa).call(this,{type:"imagegeometrychange"})}appendFrameBuffer(e,t){const i=u(this,Nn).getSize(),a=u(this,Wn)*i.getDimSize(2);if(u(this,oi).numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=a*u(this,oi).numberOfFiles;u(this,zt).length!==o&&z(this,Qo,_4).call(this,o),t>=u(this,oi).numberOfFiles?Re.warn("Ignoring frame at index "+t+" (size: "+u(this,oi).numberOfFiles+")"):(u(this,zt).set(e,a*t),this.appendFrame(t,new Xt(0,0,0)))}appendFrame(e,t){u(this,Nn).appendFrame(t,e),u(this,Wa).call(this,{type:"appendframe"})}getDataRange(){return u(this,Ql)||H(this,Ql,this.calculateDataRange()),u(this,Ql)}getRescaledDataRange(){return u(this,Hl)||H(this,Hl,this.calculateRescaledDataRange()),u(this,Hl)}getHistogram(){if(!u(this,sh)){const e=this.calculateHistogram();H(this,Ql,e.dataRange),H(this,Hl,e.rescaledDataRange),H(this,sh,e.histogram)}return u(this,sh)}addEventListener(e,t){u(this,lh).add(e,t)}removeEventListener(e,t){u(this,lh).remove(e,t)}setAtOffsets(e,t){let i,a;if(typeof t=="number"){if(u(this,Wn)!==1)throw new Error("Number of components is not 1 for setting single value.");i=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(u(this,Wn)!==3)throw new Error("Number of components is not 3 for setting RGB value.");i=[t.r,t.g,t.b]}for(let o=0,c=e.length;o<c;++o){a=e[o];for(let l=0;l<u(this,Wn);++l)u(this,zt)[a+l]=i[l]}u(this,Wa).call(this,{type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(e,t){const i=[];for(let a=0;a<e.length;++a){const o=e[a];let c=o[0],l=u(this,zt)[c];const h=[];h.push({index:0,value:l});for(let f=0;f<o.length;++f){c=o[f];const g=u(this,zt)[c];l!==g&&(h.push({index:f,value:g}),l=g),u(this,zt)[c]=t}i.push(h)}return u(this,Wa).call(this,{type:"imagecontentchange"}),i}setAtOffsetsWithIterator(e,t){const i=Array.isArray(t);for(let a=0;a<e.length;++a){const o=e[a];let c;c=AQ(i?t[a]:[{index:0,value:t}],o.length);let l=c.next();for(;!l.done;){const h=o[l.index];u(this,zt)[h]=l.value,l=c.next()}}u(this,Wa).call(this,{type:"imagecontentchange"})}getValue(e,t,i,a){const o=new Et([e,t,i,a||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(o))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,i,a){a===void 0&&(a=0);let o=this.getValue(e,t,i,a);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const c=new Et([e,t,i,a]);o=this.getRescaleSlopeAndIntercept(c).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const i=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(i).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()>=3&&(o=a.getDimSize(3));for(let c=0;c<o;++c)i=this.getValueAtOffset(c),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),i=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<i?t:i,max:t>i?t:i}}{let e=this.getRescaledValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()===3&&(o=a.getDimSize(3));for(let c=0;c<o;++c)i=this.getRescaledValueAtOffset(c),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let i=this.getValueAtOffset(0),a=i,o=0,c=this.getRescaledValueAtOffset(0),l=c,h=0;for(let b=0,m=e.getTotalSize();b<m;++b)o=this.getValueAtOffset(b),o>a&&(a=o),o<i&&(i=o),h=this.getRescaledValueAtOffset(b),h>l&&(l=h),h<c&&(c=h),t[h]=(t[h]||0)+1;const f={min:i,max:a},g={min:c,max:l},S=[];for(let b=c;b<=l;++b)S.push([b,t[b]||0]);return{dataRange:f,rescaledDataRange:g,histogram:S}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),i=t.getBuffer(),a=this.getGeometry().getSize(),o=a.getDimSize(2)*this.getNumberOfComponents();for(let c=0;c<a.get(2);++c)this.convoluteBuffer(e,i,c*o);return t}convoluteBuffer(e,t,i){const a=this.getGeometry().getSize(),o=a.get(0),c=a.get(1),l=this.getNumberOfComponents();let h=1,f=1;l===3&&(this.getPlanarConfiguration()===0?h=3:f=a.getDimSize(2));const g=[];g[0]=(-o-1)*h,g[1]=-o*h,g[2]=(1-o)*h,g[3]=-h,g[4]=0,g[5]=1*h,g[6]=(o-1)*h,g[7]=o*h,g[8]=(o+1)*h;const S=[];S[0]=g[4],S[1]=g[4],S[2]=g[5],S[3]=g[4],S[4]=g[4],S[5]=g[5],S[6]=g[7],S[7]=g[7],S[8]=g[8];const b=[];b[0]=g[1],b[1]=g[1],b[2]=g[2],b[3]=g[4],b[4]=g[4],b[5]=g[5],b[6]=g[7],b[7]=g[7],b[8]=g[8];const m=[];m[0]=g[1],m[1]=g[1],m[2]=g[2],m[3]=g[4],m[4]=g[4],m[5]=g[5],m[6]=g[4],m[7]=g[4],m[8]=g[5];const y=[];y[0]=g[3],y[1]=g[4],y[2]=g[5],y[3]=g[3],y[4]=g[4],y[5]=g[5],y[6]=g[6],y[7]=g[7],y[8]=g[8];const v=[];v[0]=g[0],v[1]=g[1],v[2]=g[2],v[3]=g[3],v[4]=g[4],v[5]=g[5],v[6]=g[3],v[7]=g[4],v[8]=g[5];const D=[];D[0]=g[3],D[1]=g[4],D[2]=g[4],D[3]=g[3],D[4]=g[4],D[5]=g[4],D[6]=g[6],D[7]=g[7],D[8]=g[7];const x=[];x[0]=g[0],x[1]=g[1],x[2]=g[1],x[3]=g[3],x[4]=g[4],x[5]=g[4],x[6]=g[6],x[7]=g[7],x[8]=g[7];const T=[];T[0]=g[0],T[1]=g[1],T[2]=g[1],T[3]=g[3],T[4]=g[4],T[5]=g[4],T[6]=g[3],T[7]=g[4],T[8]=g[4];let C=i,A=0,R=[];for(let E=0;E<l;++E){C+=E*f;for(let U=0;U<c;++U)for(let _=0;_<o;++_){R=g,_===0&&U===0?R=S:_===0&&U===c-1?R=m:_===o-1&&U===0?R=D:_===o-1&&U===c-1?R=T:_===0&&U!==c-1&&U!==0?R=b:_===o-1&&U!==c-1&&U!==0?R=x:_!==0&&_!==o-1&&U===0?R=y:_!==0&&_!==o-1&&U===c-1&&(R=v),A=0;for(let M=0;M<9;++M)A+=this.getValueAtOffset(C+R[M])*e[M];t[C]=A,C+=h}}}transform(e){const t=this.clone(),i=t.getBuffer();for(let a=0,o=i.length;a<o;++a)i[a]=e(t.getValueAtOffset(a));return t}compose(e,t){const i=this.clone(),a=i.getBuffer();for(let o=0,c=a.length;o<c;++o)a[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return i}recalculateLabels(){if(u(this,jl)===null){H(this,jl,new pH);const e=u(this,Nn).getSpacing(),t=this.getMeta().lengthUnit;let i=1,a="unit.pixel";t==="unit.mm"&&(i=e.get(0)*e.get(1)*e.get(2)*.001,a="unit.ml"),u(this,jl).ondone=o=>{const c=o.data.labels;for(const h of c)h.centroid=u(this,Nn).indexToWorld(new Et(h.centroidIndex)),h.volume=h.count*i,h.unit=a;const l=c.sort((h,f)=>f.volume-h.volume).sort((h,f)=>h.id-f.id);u(this,Wa).call(this,{type:"labelschanged",labels:l})}}u(this,jl).run(u(this,zt),u(this,Nn).getSize())}};Nn=new WeakMap,zt=new WeakMap,qr=new WeakMap,Vl=new WeakMap,Do=new WeakMap,rh=new WeakMap,ah=new WeakMap,oh=new WeakMap,zl=new WeakMap,xp=new WeakMap,Wn=new WeakMap,oi=new WeakMap,Ql=new WeakMap,Hl=new WeakMap,sh=new WeakMap,lh=new WeakMap,jl=new WeakMap,Qo=new WeakSet,E4=function(){return u(this,Nn).getSize().getTotalSize(2)},AP=function(e){return u(this,Do)[e]},_4=function(e){let t=u(this,zt);if(H(this,zt,HQ(8*u(this,zt).BYTES_PER_ELEMENT,u(this,oi).PixelRepresentation,e)),u(this,zt)===null)throw new Error("Cannot reallocate data for image.");u(this,zt).set(t),t=null},Wa=new WeakMap;let L0=eD;var Ts,To,Fu,Mi,Br;class RP{constructor(e,t){V(this,Ts);V(this,To);V(this,Fu);V(this,Mi);V(this,Br);H(this,Ts,e),H(this,To,e.getRealSpacing()),H(this,Fu,e.getOrientation()),H(this,Mi,t),H(this,Br,function(i,a){let o=i.asOneAndZeros().multiply(a);return i.asOneAndZeros().getAbs().isSimilar(rP().getAbs())&&(o=o.getAbs()),o}(u(this,Fu),t))}getViewOrientation(){return u(this,Mi)}getTargetOrientation(){return u(this,Br)}getOffset3DFromPlaneOffset(e){const t=new mn(e.x,e.y,0),i=this.getTargetDeOrientedVector3D(t);return new mn(i.getX()*u(this,To).get(0),i.getY()*u(this,To).get(1),i.getZ()*u(this,To).get(2))}getPlaneOffsetFromOffset3D(e){const t=new mn(e.x/u(this,To).get(0),e.y/u(this,To).get(1),e.z/u(this,To).get(2)),i=this.getTargetOrientedVector3D(t);return{x:i.getX(),y:i.getY()}}getTargetOrientedVector3D(e){let t=e;return u(this,Br)!==void 0&&(t=u(this,Br).getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return u(this,Br)!==void 0&&(t=u(this,Br).multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return u(this,Br)!==void 0&&(t=u(this,Br).multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(u(this,Mi)!==void 0){const i=UA([e.getX(),e.getY(),e.getZ()],u(this,Mi));t=new mn(i[0],i[1],i[2])}return t}getImageOrientedPoint3D(e){let t=e;if(u(this,Mi)!==void 0){const i=UA([e.getX(),e.getY(),e.getZ()],u(this,Mi));t=new Xt(i[0],i[1],i[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(u(this,Mi)!==void 0){const i=Zg([e.getX(),e.getY(),e.getZ()],u(this,Mi));t=new mn(i[0],i[1],i[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(u(this,Mi)!==void 0){const i=Zg([e.getX(),e.getY(),e.getZ()],u(this,Mi));t=new Xt(i[0],i[1],i[2])}return t}getPositionFromPlanePoint(e,t){const i=new Xt(e.getX(),e.getY(),t),a=this.getImageOrientedPoint3D(i);return u(this,Ts).pointToWorld(a)}getPlanePointFromPosition(e){const t=u(this,Ts).worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=u(this,Br)).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),i=this.indexToWorld(t),a=this.getPlanePointFromPosition(i),o=this.getPositionFromPlanePoint(new Le(0,0),a.getZ()),c=u(this,Ts).getOrigins(),l=c[o.getClosest(c)],h=o.getValues(),f=l.getValues(),g=this.getNativeScrollDimIndex();h[g]=f[g];const S=this.getCosines();return[new Xt(h[0],h[1],h[2]),new Xt(S[0],S[1],S[2]),new Xt(S[3],S[4],S[5])]}worldToIndex(e){return u(this,Ts).worldToIndex(e)}indexToWorld(e){return u(this,Ts).indexToWorld(e)}isAquisitionOrientation(){return Dy(u(this,Mi))}getTargetOrientedPositiveXYZ(e){const t=Zg([e.x,e.y,e.z],u(this,Br));return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=u(this,Mi)!==void 0?u(this,Mi).getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=u(this,Fu)!==void 0?u(this,Fu).getThirdColMajorDirection():2,e}}Ts=new WeakMap,To=new WeakMap,Fu=new WeakMap,Mi=new WeakMap,Br=new WeakMap;var ch;class mH{constructor(e){V(this,ch);H(this,ch,e)}getCurrentPosition(){return u(this,ch).getCurrentPosition()}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=u(this,ch).setCurrentPosition(e,t)),i}}ch=new WeakMap;var uh,or,Sa;class T7{constructor(e){V(this,uh);V(this,or);V(this,Sa);H(this,uh,new mH(e)),H(this,or,e.getImage().getGeometry()),H(this,Sa,e.getScrollDimIndex())}getGeometry(){return u(this,or)}getScrollDimIndex(){return u(this,Sa)}getMaximumDimValue(e){return u(this,or).getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(u(this,Sa))}getCurrentPosition(){return u(this,uh).getCurrentPosition()}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(u(this,Sa))}getCurrentPositionAtDimValue(e,t){const i=this.getCurrentIndex().getValues();return i[e]=t,u(this,or).indexToWorld(new Et(i))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(u(this,Sa),e)}getCurrentIndex(){return u(this,or).worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=u(this,uh).setCurrentPosition(e,t)),i}setCurrentPositionSafe(e,t){let i=!1;return this.isPositionInBounds(e)&&(i=this.setCurrentPosition(e,t)),i}merge(e){if(u(this,Sa)!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");H(this,or,function(t,i){const a=t.getOrientation();if(!a.isSimilar(i.getOrientation()))throw new Error("Cannot merge geometries with different orientation");const o=a.getInverse(),c=function(T,C){return T.map((A,R)=>Math.min(A,C[R]))},l=new Ec(c(t.getSpacing().getValues(),i.getSpacing().getValues())),h=function(T){return o.multiplyPoint3D(T.get3D())},f=t.getRange().map(h),g=i.getRange().map(h),S=c(f[0].getValues(),g[0].getValues()),b=(m=f[1].getValues(),y=g[1].getValues(),m.map((T,C)=>Math.max(T,y[C])));var m,y;const v=[];for(let T=0;T<S.length;++T)v.push(Math.round(Math.abs(b[T]-S[T])/l.get(T)));const D=new il(v),x=[];for(let T=0;T<D.get(2);++T){const C=S.slice();C[2]=S[2]+T*l.get(2);const A=new Xt(C[0],C[1],C[2]);x.push(a.multiplyPoint3D(A))}return new _c(x,D,l,a)}(u(this,or),e.getGeometry()))}isPositionInBounds(e){const t=u(this,or).worldToIndex(e),i=[u(this,Sa)];return t.length()===4&&i.push(3),u(this,or).isIndexInBounds(t,i)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return u(this,or).indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return u(this,or).indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(u(this,Sa))}decrementPositionAlongScroll(){return this.decrementPosition(u(this,Sa))}}uh=new WeakMap,or=new WeakMap,Sa=new WeakMap;var Xe,$a,ws,xs,Ap,Rp,M4;class SH{constructor(e){V(this,Rp);V(this,Xe);V(this,$a);V(this,ws);V(this,xs);V(this,Ap,!1);if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");H(this,Xe,e),H(this,$a,new RP(e.getImage().getGeometry(),e.getOrientation())),H(this,ws,new T7(e)),e.getImage().getMeta().Modality==="SEG"&&H(this,Ap,!0)}getPlaneHelper(){return u(this,$a)}isMask(){return u(this,Ap)}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new Le(0,0)))}getModality(){return u(this,Xe).getImage().getMeta().Modality}getSopClassUid(){return u(this,Xe).getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return u(this,Xe).getWindowPresetsNames()}addWindowLevelPresets(e){return u(this,Xe).addWindowPresets(e)}setWindowLevelPreset(e){u(this,Xe).setWindowLevelPreset(e)}setWindowLevelPresetById(e){u(this,Xe).setWindowLevelPresetById(e)}isPlaying(){return u(this,xs)!==void 0}getPositionHelper(){return u(this,ws)}getPositionHelperClone(){return new T7(u(this,Xe))}getCurrentPosition(){return u(this,ws).getCurrentPosition()}getCurrentIndex(){return u(this,ws).getCurrentIndex()}getCurrentImageUid(){return u(this,Xe).getCurrentImageUid()}getOriginForImageUid(e){return u(this,Xe).getOriginForImageUid(e)}includesImageUid(e){return u(this,Xe).includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(u(this,Xe).getOrientation()!==void 0){const t=u(this,$a).getImageDeOrientedVector3D(new mn(e.get(0),e.get(1),e.get(2)));e=new Et([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return u(this,Xe).getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(u(this,Xe).getScrollDimIndex())}getOrigin(e){return u(this,Xe).getOrigin(e)}isAquisitionOrientation(){return u(this,Xe).isAquisitionOrientation()}getPlanePoints(e){return u(this,$a).getPlanePoints(e)}getCurrentScrollPosition(){const e=u(this,Xe).getScrollDimIndex();return u(this,Xe).getCurrentPosition().get(e)}generateImageData(e,t){u(this,Xe).generateImageData(e,t)}setImage(e){u(this,Xe).setImage(e)}get2DSpacing(){return u(this,Xe).getImage().getGeometry().getSpacing(u(this,Xe).getOrientation()).get2D()}getRescaledImageValue(e){const t=u(this,Xe).getImage();if(!t.canQuantify())return;const i=t.getGeometry(),a=i.worldToIndex(e);let o;return i.isIndexInBounds(a)&&(o=t.getRescaledValueAtIndex(a)),o}getPixelUnit(){return u(this,Xe).getImage().getMeta().pixelUnit}getLengthUnit(){return u(this,Xe).getImage().getMeta().lengthUnit}getImageRegionValues(e,t,i){let a=u(this,Xe).getImage();const o=u(this,Xe).getOrientation();let c=i,l=!0;Dy(o)||(a=z(this,Rp,M4).call(this,a,c,l,o),c=new Et([0,0,0]),l=!1);const h=function(g,S,b,m,y){if(g.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+g.getNumberOfComponents());b===void 0&&(b=!1);let v=null;v=b?function(A){return g.getRescaledValueAtOffset(A)}:function(A){return g.getValueAtOffset(A)};const D=g.getGeometry().getSize();m===void 0&&(m=new Le(0,0)),y===void 0&&(y=new Le(D.get(0)-1,D.get(1)));const x=D.indexToOffset(S.getWithNew2D(m.getX(),m.getY())),T=D.indexToOffset(S.getWithNew2D(y.getX(),y.getY()-1)),C=Math.max(1,y.getX()-m.getX());return function(A,R,E,U,_,M){let P=R,q=0;return{next:function(){if(P<E){const N={value:A(P),done:!1,index:P};return q+=1,P+=1,q===_&&(q=0,P+=M),N}return{done:!0,index:E}}}}(v,x,T+1,0,C,D.get(0)-C)}(a,c,l,e,t);let f=[];return h&&(f=PC(h)),f}getImageVariableRegionValues(e,t){let i=u(this,Xe).getImage();const a=u(this,Xe).getOrientation();let o=t,c=!0;Dy(a)||(i=z(this,Rp,M4).call(this,i,o,c,a),o=new Et([0,0,0]),c=!1);const l=function(f,g,S,b){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());S===void 0&&(S=!1);let m=null;m=S?function(A){return f.getRescaledValueAtOffset(A)}:function(A){return f.getValueAtOffset(A)};const y=f.getGeometry().getSize(),v=[];let D,x=null,T=null,C=null;for(let A=0;A<b.length;++A){D=b[A];const R=D[1][0]-D[0][0];R!==0&&(C=A,x||(x=D[0]),v.push([D[0][0],R,y.get(0)-D[1][0]]))}if(C!==null&&(T=b[C][1]),v.length!==0)return function(A,R,E,U,_){let M=R,P=0,q=0;return{next:function(){if(M<E){const N={value:A(M),done:!1,index:M};return q+=1,M+=1,q===_[P][1]&&(q=0,M+=_[P][2],P+=1,P<_.length&&(M+=_[P][0])),N}return{done:!0,index:E}}}}(m,y.indexToOffset(g.getWithNew2D(x[0],x[1])),y.indexToOffset(g.getWithNew2D(T[0],T[1]))+1,0,v)}(i,o,c,e);let h=[];return l&&(h=PC(l)),h}canQuantifyImage(){return u(this,Xe).getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return u(this,Xe).getImage().isMonochrome()}canScroll(){return u(this,Xe).getImage().canScroll(u(this,Xe).getOrientation())}getImageSize(){return u(this,Xe).getImage().getGeometry().getSize(u(this,Xe).getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=u(this,Xe).getImage().getGeometry(),t=e.getSize(u(this,Xe).getOrientation()).get2D(),i=e.getSpacing(u(this,Xe).getOrientation()).get2D();return{x:t.x*i.x,y:t.y*i.y}}getImageRescaledDataRange(){return u(this,Xe).getImage().getRescaledDataRange()}equalImageMeta(e){const t=u(this,Xe).getImage().getMeta(),i=Object.keys(e);for(let a=0;a<i.length;++a){const o=i[a];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return u(this,Xe).isPositionInBounds(e)}setCurrentPosition(e,t){return u(this,Xe).setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const i=new Xt(e.getX(),e.getY(),t),a=u(this,$a).getImageOrientedPoint3D(i),o=u(this,Xe).getImage().getGeometry().pointToWorld(a);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=u(this,Xe).getImage().getGeometry().worldToPoint(e),i=u(this,$a).getImageDeOrientedPoint3D(t);return new Le(i.getX(),i.getY())}getIndexFromPosition(e){return u(this,Xe).getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return u(this,Xe).setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),i=new Xt(e.getX(),e.getY(),t),a=u(this,$a).getTargetDeOrientedPoint3D(i),o=u(this,Xe).getImage().getGeometry().getRealSpacing();return new Xt(a.getX()*o.get(0),a.getY()*o.get(1),a.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return u(this,$a).getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(u(this,xs)===void 0){const e=u(this,Xe).getImage(),t=e.getMeta().RecommendedDisplayFrameRate,i=u(this,Xe).getPlaybackMilliseconds(t),a=e.getGeometry().getSize().canScroll3D();H(this,xs,window.setInterval(()=>{let o=!1;if(o=a?u(this,ws).incrementPositionAlongScroll():u(this,ws).incrementPosition(3),!o){const c=this.getCurrentIndex().getValues(),l=u(this,Xe).getOrientation();a?c[l.getThirdColMajorDirection()]=0:c[3]=0;const h=new Et(c),f=u(this,Xe).getImage().getGeometry();this.setCurrentPosition(f.indexToWorld(h))}},i))}else this.stop()}stop(){u(this,xs)!==void 0&&(clearInterval(u(this,xs)),H(this,xs,void 0))}getWindowLevel(){return u(this,Xe).getWindowLevel()}getCurrentWindowPresetName(){return u(this,Xe).getCurrentWindowPresetName()}setWindowLevel(e){u(this,Xe).setWindowLevel(e)}getColourMap(){return u(this,Xe).getColourMap()}setColourMap(e){u(this,Xe).setColourMap(e)}setViewAlphaFunction(e){u(this,Xe).setAlphaFunction(e)}bindImageAndLayer(e){const t=u(this,Xe).getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange)}unbindImageAndLayer(e){const t=u(this,Xe).getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange)}}Xe=new WeakMap,$a=new WeakMap,ws=new WeakMap,xs=new WeakMap,Ap=new WeakMap,Rp=new WeakSet,M4=function(e,t,i,a){const o=PC(nP(e,t,i,a)),c=e.getGeometry().getSize(a).getValues();c[2]=1;const l=new il(c),h=e.getGeometry().getSpacing(a).getValues();h[2]=1;const f=new Ec(h),g=new Xt(0,0,0),S=new _c([g],l,f);return new L0(S,o)};const Ff=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function w7(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let a=n[0].target.offsetParent;for(;a;)isNaN(a.offsetLeft)||(e+=a.offsetLeft),isNaN(a.offsetTop)||(t+=a.offsetTop),a=a.offsetParent}else Re.debug("No touch target offset parent.");const i=[];for(let a=0;a<n.length;++a)i.push(new Le(n[a].pageX-e,n[a].pageY-t));return i}function ir(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=w7(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=w7(n.changedTouches)),e}function Yn(n){return new Le(n.offsetX,n.offsetY)}function x7(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const i=document.createElement("canvas");i.width=1,i.height=1;const a=t.getContext("2d"),o=i.getContext("2d");return a&&(a.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}var sr,gn,si,Yl,zi,As,ku,Gr,dh,Rs,On,lr,ya,qt,cr,Xl,li,hh,ur,Vr,Os,fh,Op,gh,ph,Fc,U2,Ps,OP,My,Fy,ky,Uy;class Ei{constructor(e){V(this,Fc);V(this,sr);V(this,gn,null);V(this,si,null);V(this,Yl,null);V(this,zi,null);V(this,As,!0);V(this,ku,null);V(this,Gr);V(this,dh);V(this,Rs,1);V(this,On,{x:1,y:1});V(this,lr,{x:1,y:1});V(this,ya,{x:1,y:1,z:1});V(this,qt,{x:0,y:0});V(this,cr,{x:0,y:0});V(this,Xl,{x:0,y:0});V(this,li,{x:0,y:0});V(this,hh,{x:0,y:0});V(this,ur,{x:0,y:0});V(this,Vr,null);V(this,Os);V(this,fh,new Kr);V(this,Op,!1);V(this,gh);V(this,ph);ae(this,"onimageset",e=>{u(this,Os)===e.dataid&&(u(this,gn).setImage(e.value[0]),z(this,Fc,U2).call(this,u(this,gn).getImageSize().get2D()),H(this,Vr,!0))});ae(this,"onimagecontentchange",e=>{u(this,Os)===e.dataid&&(H(this,As,u(this,gn).isPositionInBounds()),H(this,Vr,!0),this.draw())});ae(this,"onimagegeometrychange",e=>{if(u(this,Os)===e.dataid){const t=u(this,gn).getImageSize().get2D();if(u(this,Gr).x!==t.x||u(this,Gr).y!==t.y){if(u(this,gh)!==void 0&&u(this,ph)!==void 0){const i=u(this,gn).getOrigin(),a=u(this,ph).minus(i),o=u(this,gn).getOrigin(u(this,gn).getCurrentPosition()),c=u(this,gh).minus(o);this.setBaseOffset(a,c)}z(this,Fc,U2).call(this,t),H(this,Vr,!0),this.draw()}}});V(this,Ps,e=>{e.srclayerid=this.getId(),e.dataid=u(this,Os),u(this,fh).fireEvent(e)});V(this,My,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(H(this,Vr,!0),this.draw())});V(this,Fy,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(H(this,Vr,!0),this.draw())});V(this,ky,e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const i=[0,1,2],a=i.indexOf(u(this,gn).getScrollDimIndex());i.splice(a,1),e.diffDims.filter(function(o){return i.indexOf(o)===-1}).length===0&&u(this,As)||(H(this,As,!0),H(this,Vr,!0),this.draw())}else u(this,As)&&(H(this,As,!1),this.clear())}});V(this,Uy,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(H(this,Vr,!0),this.draw())});H(this,sr,e),u(this,sr).className+=" viewLayer"}getDataId(){return u(this,Os)}getScale(){return u(this,On)}getAbsoluteZoomOffset(){return{x:u(this,li).x*u(this,lr).x,y:u(this,li).y*u(this,lr).y}}setImageSmoothing(e){H(this,Op,e)}setView(e,t){H(this,Os,t),e.addEventListener("wlchange",u(this,My)),e.addEventListener("colourmapchange",u(this,Fy)),e.addEventListener("positionchange",u(this,ky)),e.addEventListener("alphafuncchange",u(this,Uy));for(let i=0;i<Mf.length;++i)e.addEventListener(Mf[i],u(this,Ps));H(this,gn,new SH(e)),this.bindImage()}getViewController(){return u(this,gn)}getImageData(){return u(this,ku)}bindImage(){u(this,gn)&&u(this,gn).bindImageAndLayer(this)}unbindImage(){u(this,gn)&&u(this,gn).unbindImageAndLayer(this)}getId(){return u(this,sr).id}removeFromDOM(){u(this,sr).remove()}getBaseSize(){return u(this,Gr)}getImageWorldSize(){return u(this,gn).getImageWorldSize()}getOpacity(){return u(this,Rs)}setOpacity(e){if(e===u(this,Rs))return;H(this,Rs,Math.min(Math.max(e,0),1));const t={type:"opacitychange",value:[u(this,Rs)]};u(this,Ps).call(this,t)}addFlipOffsetX(){u(this,ur).x+=u(this,si).width/u(this,On).x,u(this,qt).x+=u(this,ur).x}addFlipOffsetY(){u(this,ur).y+=u(this,si).height/u(this,On).y,u(this,qt).y+=u(this,ur).y}flipScaleX(){u(this,ya).x*=-1}flipScaleY(){u(this,ya).y*=-1}flipScaleZ(){u(this,ya).z*=-1}setScale(e,t){const i=u(this,gn).getPlaneHelper(),a=i.getTargetOrientedPositiveXYZ({x:e.x*u(this,ya).x,y:e.y*u(this,ya).y,z:e.z*u(this,ya).z}),o={x:u(this,lr).x*a.x,y:u(this,lr).y*a.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const c={x:u(this,qt).x-u(this,li).x,y:u(this,qt).y-u(this,li).y};H(this,li,{x:0,y:0}),H(this,qt,c)}else if(t!==void 0){let c=i.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});c={x:c.x+u(this,cr).x,y:c.y+u(this,cr).y};const l=eI(u(this,qt),u(this,On),o,c),h={x:u(this,li).x+l.x-u(this,qt).x,y:u(this,li).y+l.y-u(this,qt).y};H(this,li,h),H(this,qt,l)}H(this,On,o)}initScale(e,t){const i=u(this,gn).getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*u(this,ya).x,y:e.y*u(this,ya).y,z:e.z*u(this,ya).z}),a={x:u(this,lr).x*i.x,y:u(this,lr).y*i.y};H(this,On,a),H(this,li,{x:t.x/u(this,lr).x,y:t.y/u(this,lr).y}),H(this,qt,{x:u(this,qt).x+u(this,li).x,y:u(this,qt).y+u(this,li).y})}setBaseOffset(e,t,i,a){const o=u(this,gn).getPlaneHelper(),c=o.getNativeScrollDimIndex(),l=o.getPlaneOffsetFromOffset3D({x:c===0?e.getX():t.getX(),y:c===1?e.getY():t.getY(),z:c===2?e.getZ():t.getZ()}),h=u(this,cr).x!==l.x||u(this,cr).y!==l.y;return i!==void 0&&a!==void 0&&(H(this,gh,i),H(this,ph,a)),h&&(H(this,qt,{x:u(this,qt).x-u(this,cr).x+l.x,y:u(this,qt).y-u(this,cr).y+l.y}),H(this,cr,l)),h}setOffset(e){const t=u(this,gn).getPlaneHelper().getPlaneOffsetFromOffset3D(e);H(this,qt,{x:u(this,qt).x-u(this,hh).x+t.x,y:u(this,qt).y-u(this,hh).y+t.y}),H(this,hh,t)}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new Et([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new Le(e.getX()/u(this,On).x,e.getY()/u(this,On).y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new Le(t.getX()+u(this,qt).x,t.getY()+u(this,qt).y)}planePosToDisplay(e){let t=(e.getX()-u(this,qt).x+u(this,cr).x)*u(this,On).x,i=(e.getY()-u(this,qt).y+u(this,cr).y)*u(this,On).y;return(t<0||t>=u(this,si).width)&&(t=void 0),(i<0||i>=u(this,si).height)&&(i=void 0),new Le(t,i)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new Le(t.getX()-u(this,cr).x,t.getY()-u(this,cr).y)}display(e){u(this,sr).style.display=e?"":"none"}isVisible(){return u(this,sr).style.display===""}draw(){if(!u(this,As))return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};u(this,Ps).call(this,e),u(this,Vr)&&z(this,Fc,OP).call(this),u(this,zi).globalAlpha=u(this,Rs),this.clear(),u(this,zi).setTransform(u(this,On).x,0,0,u(this,On).y,-1*u(this,qt).x*u(this,On).x,-1*u(this,qt).y*u(this,On).y),u(this,zi).imageSmoothingEnabled=u(this,Op),u(this,zi).drawImage(u(this,Yl),0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},u(this,Ps).call(this,e)}initialise(e,t,i){H(this,dh,t),H(this,Rs,Math.min(Math.max(i,0),1)),H(this,si,document.createElement("canvas")),u(this,sr).appendChild(u(this,si)),u(this,si).getContext?(H(this,zi,u(this,si).getContext("2d")),u(this,zi)?(H(this,Yl,document.createElement("canvas")),z(this,Fc,U2).call(this,e),H(this,Vr,!0)):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}fitToContainer(e,t,i){let a=!1;const o={x:t*u(this,dh).x,y:t*u(this,dh).y},c=o.x/u(this,lr).x,l=o.y/u(this,lr).y,h=e.x/(u(this,si).width*c),f=e.y/(u(this,si).height*l);if(u(this,si).width!==e.x||u(this,si).height!==e.y){if(!x7(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);u(this,si).width=e.x,u(this,si).height=e.y,a=!0}const g={x:u(this,On).x*c,y:u(this,On).y*l};u(this,On).x===g.x&&u(this,On).y===g.y||(H(this,lr,o),H(this,On,g),a=!0);const S={x:i.x/o.x,y:i.y/o.y},b={x:e.x/o.x,y:e.y/o.y},m={x:u(this,ur).x!==0?b.x:0,y:u(this,ur).y!==0?b.y:0};if(u(this,Xl).x!==S.x||u(this,Xl).y!==S.y||u(this,ur).x!==m.x||u(this,ur).y!==m.y){const y={x:u(this,li).x*h,y:u(this,li).y*f};H(this,qt,{x:u(this,qt).x+S.x-u(this,Xl).x+m.x-u(this,ur).x+y.x-u(this,li).x,y:u(this,qt).y+S.y-u(this,Xl).y+m.y-u(this,ur).y+y.y-u(this,li).y}),H(this,ur,m),H(this,Xl,S),H(this,li,y),a=!0}a&&this.draw()}bindInteraction(){u(this,sr).style.pointerEvents="auto";const e=Ff;for(let t=0;t<e.length;++t){const i=e[t],a=i!=="wheel";u(this,sr).addEventListener(i,u(this,Ps),{passive:a})}}unbindInteraction(){u(this,sr).style.pointerEvents="none";const e=Ff;for(let t=0;t<e.length;++t)u(this,sr).removeEventListener(e[t],u(this,Ps))}addEventListener(e,t){u(this,fh).add(e,t)}removeEventListener(e,t){u(this,fh).remove(e,t)}setCurrentPosition(e,t){return u(this,gn).setCurrentPosition(e)}clear(){u(this,zi).save(),u(this,zi).setTransform(1,0,0,1,0,0),u(this,zi).clearRect(0,0,u(this,si).width,u(this,si).height),u(this,zi).restore()}}sr=new WeakMap,gn=new WeakMap,si=new WeakMap,Yl=new WeakMap,zi=new WeakMap,As=new WeakMap,ku=new WeakMap,Gr=new WeakMap,dh=new WeakMap,Rs=new WeakMap,On=new WeakMap,lr=new WeakMap,ya=new WeakMap,qt=new WeakMap,cr=new WeakMap,Xl=new WeakMap,li=new WeakMap,hh=new WeakMap,ur=new WeakMap,Vr=new WeakMap,Os=new WeakMap,fh=new WeakMap,Op=new WeakMap,gh=new WeakMap,ph=new WeakMap,Fc=new WeakSet,U2=function(e){if(!x7(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);H(this,Gr,e),u(this,Yl).width=u(this,Gr).x,u(this,Yl).height=u(this,Gr).y,u(this,zi).clearRect(0,0,u(this,Gr).x,u(this,Gr).y),H(this,ku,u(this,zi).createImageData(u(this,Gr).x,u(this,Gr).y))},Ps=new WeakMap,OP=function(){u(this,gn).generateImageData(u(this,ku)),u(this,Yl).getContext("2d").putImageData(u(this,ku),0,0),H(this,Vr,!1)},My=new WeakMap,Fy=new WeakMap,ky=new WeakMap,Uy=new WeakMap;var zr,Uu,mh,Sh,Pp,Nu;class ep{constructor(e){V(this,zr);V(this,Uu,{});V(this,mh,new Kr);V(this,Sh);V(this,Pp);V(this,Nu,e=>{u(this,mh).fireEvent(e)});H(this,zr,e!==void 0?e:[]),H(this,Sh,!0)}getList(){return u(this,zr)}getLength(){return u(this,zr).length}isEditable(){return u(this,Sh)}setEditable(e){H(this,Sh,e),u(this,Nu).call(this,{type:"annotationgroupeditablechange",data:e})}getColour(){return u(this,Pp)}setColour(e){H(this,Pp,e)}add(e){u(this,zr).push(e),u(this,Nu).call(this,{type:"annotationadd",data:e})}update(e,t,i){const a=u(this,zr).findIndex(o=>o.trackingUid===e.trackingUid);a!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),u(this,zr)[a]=e,u(this,Nu).call(this,{type:"annotationupdate",data:e,keys:t,propagate:i})):Re.warn("Cannot find annotation to update")}remove(e){const t=u(this,zr).findIndex(i=>i.trackingUid===e);if(t!==-1){const i=u(this,zr).splice(t,1)[0];u(this,Nu).call(this,{type:"annotationremove",data:i})}else Re.warn("Cannot find annotation to remove")}setViewController(e){for(const t of u(this,zr))t.setViewController(e),t.updateQuantification()}find(e){return u(this,zr).find(t=>t.trackingUid===e)}getMeta(){return u(this,Uu)}hasMeta(e){return u(this,Uu)[e]!==void 0}getMetaValue(e){return u(this,Uu)[e]}setMetaValue(e,t){u(this,Uu)[e]=t}addEventListener(e,t){u(this,mh).add(e,t)}removeEventListener(e,t){u(this,mh).remove(e,t)}}zr=new WeakMap,Uu=new WeakMap,mh=new WeakMap,Sh=new WeakMap,Pp=new WeakMap,Nu=new WeakMap;var A7,kC,Ne=(A7={default:function(){return cQ}},kC={},Oi.d(kC,A7),kC),qu,yh;class N2{constructor(e,t){V(this,qu);V(this,yh);H(this,qu,e),H(this,yh,t)}getName(){return"AddAnnotation-"+u(this,qu).trackingUid}execute(){u(this,yh).addAnnotation(u(this,qu))}undo(){u(this,yh).removeAnnotation(u(this,qu).trackingUid)}}qu=new WeakMap,yh=new WeakMap;var Bu,vh;class Y6{constructor(e,t){V(this,Bu);V(this,vh);H(this,Bu,e),H(this,vh,t)}getName(){return"RemoveAnnotation-"+u(this,Bu).trackingUid}execute(){u(this,vh).removeAnnotation(u(this,Bu).trackingUid)}undo(){u(this,vh).addAnnotation(u(this,Bu))}}Bu=new WeakMap,vh=new WeakMap;var Ls,bh,Ch,Dh;class A0{constructor(e,t,i,a){V(this,Ls);V(this,bh);V(this,Ch);V(this,Dh);H(this,Ls,e),H(this,bh,a),H(this,Ch,t),H(this,Dh,i)}getName(){return"UpdateAnnotation-"+u(this,Ls).trackingUid}execute(){const e=Object.keys(u(this,Dh));for(const t of e)u(this,Ls)[t]=u(this,Dh)[t];u(this,bh).updateAnnotation(u(this,Ls),e)}undo(){const e=Object.keys(u(this,Ch));for(const t of e)u(this,Ls)[t]=u(this,Ch)[t];u(this,bh).updateAnnotation(u(this,Ls),e)}}Ls=new WeakMap,bh=new WeakMap,Ch=new WeakMap,Dh=new WeakMap;var dr;class yH{constructor(e){V(this,dr);H(this,dr,e!==void 0?e:new ep)}getAnnotation(e){return u(this,dr).find(e)}getAnnotationGroup(){return u(this,dr)}isAnnotationGroupEditable(){return u(this,dr).isEditable()}setAnnotationGroupEditable(e){u(this,dr).setEditable(e)}addAnnotation(e){u(this,dr).add(e)}updateAnnotation(e,t,i){u(this,dr).update(e,t,i)}removeAnnotation(e){u(this,dr).remove(e)}removeAnnotationWithCommand(e,t){const i=this.getAnnotation(e);if(i===void 0)return void Re.warn("Cannot create remove command for undefined annotation: "+e);const a=new Y6(i,this);t(a),a.execute()}updateAnnotationWithCommand(e,t,i,a){const o=this.getAnnotation(e);if(o===void 0)return void Re.warn("Cannot create update command for undefined annotation: "+e);const c=new A0(o,t,i,this);a(c),c.execute()}removeAllAnnotationsWithCommand(e){for(const t of u(this,dr).getList())this.removeAnnotationWithCommand(t.trackingUid,e)}hasAnnotationMeta(e){return u(this,dr).hasMeta(e)}setAnnotationMeta(e,t){u(this,dr).setMetaValue(e,t)}}dr=new WeakMap;const uu={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function F4(n){return n.name()==="label"}function Mc(n){return n.name()==="shape"}function PP(n){return n.name()==="position-group"}function m2(n){const e=n.getChildren(Mc)[0];if(e instanceof Ne.default.Line)return e}function wt(n,e){const t=n.getChildren(function(i){return i.id()==="anchor"+e})[0];if(t instanceof Ne.default.Ellipse)return t}function UC(n){return function(e){return e.id()===n}}function du(n,e,t,i){const a=i.applyZoomScale(6),o={x:Math.abs(a.x),y:Math.abs(a.y)};return new Ne.default.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function R7(n){return parseInt(n.substring(6),10)}var Ny,qy,By,Lp,Th,Is,Gy,Vy,zy,Qy;class Ay{constructor(){V(this,Ny,10);V(this,qy,"Verdana");V(this,By,"#fff");V(this,Lp,"#ffff80");V(this,Th,{x:1,y:1});V(this,Is,{x:1,y:1});V(this,Gy,2);V(this,Vy,{x:.25,y:.25});V(this,zy,.2);V(this,Qy,3)}getFontFamily(){return u(this,qy)}getFontSize(){return u(this,Ny)}getStrokeWidth(){return u(this,Gy)}getTextColour(){return u(this,By)}getLineColour(){return u(this,Lp)}setLineColour(e){H(this,Lp,e)}setBaseScale(e){H(this,Th,e)}setZoomScale(e){H(this,Is,e)}getBaseScale(){return u(this,Th)}getZoomScale(){return u(this,Is)}scale(e){return e/u(this,Th).x}applyZoomScale(e){return{x:e/u(this,Is).x,y:e/u(this,Is).y}}applyZoomRatio(e){return e*u(this,Is).x/u(this,Is).y}getShadowOffset(){return u(this,Vy)}getTagOpacity(){return u(this,zy)}getTextPadding(){return u(this,Qy)}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return function(e){return .001172549*(t=bQ(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t}(this.getLineColour())?"#fff":"#000"}}Ny=new WeakMap,qy=new WeakMap,By=new WeakMap,Lp=new WeakMap,Th=new WeakMap,Is=new WeakMap,Gy=new WeakMap,Vy=new WeakMap,zy=new WeakMap,Qy=new WeakMap;var Ip,Ep;class nn{constructor(e,t){V(this,Ip);V(this,Ep);H(this,Ip,e),H(this,Ep,t)}getBegin(){return u(this,Ip)}getEnd(){return u(this,Ep)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const i=this.getDeltaX()*e.x,a=this.getDeltaY()*e.y;t=Math.sqrt(i*i+a*a)}return t}getMidpoint(){return new Le((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(e){const t={},i=e.get2DSpacing(),a=this.getWorldLength(i);return a!==null&&(t.length={value:a,unit:e.getLengthUnit()}),t}}Ip=new WeakMap,Ep=new WeakMap;function k4(n,e){const t=n.getDeltaX(),i=n.getDeltaY(),a=e.getDeltaX(),o=e.getDeltaY(),c=t*a+i*o,l=t*o-i*a;return 360-(180-180*Math.atan2(l,c)/Math.PI)}function NC(n,e){const t=n.getDeltaX(),i=n.getDeltaY();return t*e.getDeltaX()+i*e.getDeltaY()==0}function Qa(n,e,t,i){i===void 0&&(i={x:1,y:1});const a=-i.x*i.x/(i.y*i.y*n.getSlope());return LP(a,e.getY()-a*e.getX(),e,t,i)}function O7(n,e,t,i){const a=LP(n.getSlope(),n.getIntercept(),n.getBegin(),e,i);let o;return o=function(c,l){const h=Math.min(l.getBegin().getX(),l.getEnd().getX()),f=Math.max(l.getBegin().getX(),l.getEnd().getX()),g=Math.min(l.getBegin().getY(),l.getEnd().getY()),S=Math.max(l.getBegin().getY(),l.getEnd().getY());return c.getX()>=h&&c.getX()<=f&&c.getY()>=g&&c.getY()<=S}(a.getBegin(),n)?a.getBegin():a.getEnd(),Qa(n,o,t,i)}function LP(n,e,t,i,a){a===void 0&&(a={x:1,y:1});let o=0,c=0,l=0,h=0;if(Kg(n,0,Uv))o=t.getX()-i/(2*a.x),c=t.getY(),l=t.getX()+i/(2*a.x),h=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),c=t.getY()-i/(2*a.y),l=t.getX(),h=t.getY()+i/(2*a.y);else{const f=a.x*a.x,g=a.y*a.y,S=i/(2*Math.sqrt(f+g*n*n));o=t.getX()-S,c=n*o+e,l=t.getX()+S,h=n*l+e}return new nn(new Le(o,c),new Le(l,h))}var _p,Mp;class Tu{constructor(e,t){V(this,_p);V(this,Mp);H(this,_p,new Le(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY()))),H(this,Mp,new Le(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY())))}getBegin(){return u(this,_p)}getEnd(){return u(this,Mp)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new Le(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new Le(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new Le(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,i){const a={},o=e.get2DSpacing(),c=e.getLengthUnit();a.width={value:this.getWidth()*o.x,unit:c},a.height={value:this.getHeight()*o.y,unit:c};const l=this.getWorldSurface(o);if(l!==null&&(a.surface=c==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:c}),e.canQuantifyImage()){const h=this.getRound(),f=e.getImageRegionValues(h.min,h.max,t),g=e.getPixelUnit(),S=H6(f,i);a.min={value:S.min,unit:g},a.max={value:S.max,unit:g},a.mean={value:S.mean,unit:g},a.stdDev={value:S.stdDev,unit:g},S.median!==void 0&&(a.median={value:S.median,unit:g}),S.p25!==void 0&&(a.p25={value:S.p25,unit:g}),S.p75!==void 0&&(a.p75={value:S.p75,unit:g})}return a}}_p=new WeakMap,Mp=new WeakMap;var Qi;class ro{constructor(e){V(this,Qi,[]);e!==void 0&&H(this,Qi,e)}getPoint(e){return u(this,Qi)[e]}getPoints(){return u(this,Qi)}getLength(){return u(this,Qi).length}addPoint(e){u(this,Qi).push(e)}addPoints(e){H(this,Qi,u(this,Qi).concat(e))}getCentroid(){let e,t=0,i=0,a=0;for(let o=0;o<u(this,Qi).length;++o){const c=u(this,Qi)[o];let l;l=o===u(this,Qi).length-1?u(this,Qi)[0]:u(this,Qi)[o+1];const h=c.getX()*l.getY()-l.getX()*c.getY();t+=h,i+=(c.getX()+l.getX())*h,a+=(c.getY()+l.getY())*h}if(t!==0){const o=1/(3*t);e=new Le(o*i,o*a)}return e}}Qi=new WeakMap;var va;class wu{constructor(e){V(this,va);if(e.length>3)throw new Error("Too many points for a protractor");H(this,va,e.slice(0,3))}getPoint(e){return u(this,va)[e]}getLength(){return u(this,va).length}getCentroid(){return u(this,va)[1]}quantify(e,t){const i={};if(u(this,va).length===3){let a=k4(new nn(u(this,va)[0],u(this,va)[1]),new nn(u(this,va)[1],u(this,va)[2]));a>180&&(a=360-a),i.angle={value:a,unit:"unit.degree"}}return i}}va=new WeakMap;var wh,Fp,kp;class xu{constructor(e,t,i){V(this,wh);V(this,Fp);V(this,kp);H(this,wh,e),H(this,Fp,t),H(this,kp,i)}getCenter(){return u(this,wh)}getCentroid(){return u(this,wh)}getA(){return u(this,Fp)}getB(){return u(this,kp)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getA(),a=this.getB(),o=i/a,c=Math.pow(a,2),l=t+a,h=[];for(let f=t-a;f<l;++f){const g=c-Math.pow(f-t,2);if(Math.abs(g)<1e-7)continue;const S=o*Math.sqrt(g);S<.5||h.push([[Math.round(e-S),Math.round(f)],[Math.round(e+S),Math.round(f)]])}return h}quantify(e,t,i){const a={},o=e.get2DSpacing(),c=e.getLengthUnit();a.a={value:this.getA()*o.x,unit:c},a.b={value:this.getB()*o.y,unit:c};const l=this.getWorldSurface(o);if(l!==null&&(a.surface=c==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:c}),e.canQuantifyImage()){const h=this.getRound();if(h.length!==0){const f=e.getImageVariableRegionValues(h,t),g=e.getPixelUnit(),S=H6(f,i);a.min={value:S.min,unit:g},a.max={value:S.max,unit:g},a.mean={value:S.mean,unit:g},a.stdDev={value:S.stdDev,unit:g},S.median!==void 0&&(a.median={value:S.median,unit:g}),S.p25!==void 0&&(a.p25={value:S.p25,unit:g}),S.p75!==void 0&&(a.p75={value:S.p75,unit:g})}}return a}}wh=new WeakMap,Fp=new WeakMap,kp=new WeakMap;function vH(n,e,t){const i=n.getValues(),a=i.slice(),o=[],c=e[0],l=e[1],h=c/l,f=Math.pow(l,2),g=t[0],S=t[1];for(let b=0;b<l;++b){const m=Math.round(h*Math.sqrt(f-Math.pow(b,2))),y=i[S]+b,v=i[S]-b;for(let D=0;D<m;++D){const x=i[g]+D,T=i[g]-D;a[g]=x,a[S]=y,o.push(new Et(a.slice())),v!==y&&(a[S]=v,o.push(new Et(a.slice()))),T!==x&&(a[g]=T,a[S]=y,o.push(new Et(a.slice())),v!==y&&(a[S]=v,o.push(new Et(a.slice()))))}}return o}var xh,Up;class Au{constructor(e,t){V(this,xh);V(this,Up);H(this,xh,e),H(this,Up,t)}getCenter(){return u(this,xh)}getCentroid(){return u(this,xh)}getRadius(){return u(this,Up)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getRadius(),a=Math.pow(i,2),o=t+i,c=[];for(let l=t-i;l<o;++l){const h=a-Math.pow(l-t,2);if(Math.abs(h)<1e-7)continue;const f=Math.sqrt(h);f<.5||c.push([[Math.round(e-f),Math.round(l)],[Math.round(e+f),Math.round(l)]])}return c}quantify(e,t,i){const a={},o=e.get2DSpacing(),c=e.getLengthUnit();a.radius={value:this.getRadius()*o.x,unit:c};const l=this.getWorldSurface(o);if(l!==null&&(a.surface=c==="unit.mm"?{value:l/100,unit:"unit.cm2"}:{value:l,unit:c}),e.canQuantifyImage()){const h=this.getRound();if(h.length!==0){const f=e.getImageVariableRegionValues(h,t),g=e.getPixelUnit(),S=H6(f,i);a.min={value:S.min,unit:g},a.max={value:S.max,unit:g},a.mean={value:S.mean,unit:g},a.stdDev={value:S.stdDev,unit:g},S.median!==void 0&&(a.median={value:S.median,unit:g}),S.p25!==void 0&&(a.p25={value:S.p25,unit:g}),S.p75!==void 0&&(a.p75={value:S.p75,unit:g})}}return a}}xh=new WeakMap,Up=new WeakMap;var Gu;class bH{constructor(){V(this,Gu,0)}getSum(){return u(this,Gu)}add(e){H(this,Gu,u(this,Gu)+function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60}(e))}clear(){H(this,Gu,0)}isTick(){return Math.abs(u(this,Gu))>=1}}Gu=new WeakMap;var Np,Vu;class qg{constructor(e){V(this,Np);V(this,Vu,new bH);H(this,Np,e)}wheel(e){u(this,Vu).add(e);const t=u(this,Vu).getSum()>=0;if(!u(this,Vu).isTick())return;u(this,Vu).clear(),e.preventDefault();const i=Ot(e),a=u(this,Np).getLayerGroupByDivId(i.groupDivId),o=a.getPositionHelper();a.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():a.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}Np=new WeakMap,Vu=new WeakMap;var zu,qp,wo,$n,Wl,hr,Ah,Vn,q2,B2,U4,N4,q4,IP;class CH{constructor(e,t){V(this,Vn);V(this,zu);V(this,qp);V(this,wo,null);V(this,$n,null);V(this,Wl);V(this,hr);V(this,Ah,!1);H(this,zu,e),H(this,qp,t)}setShape(e,t,i){if(H(this,$n,e),H(this,Wl,t),H(this,hr,i),u(this,$n)){if(z(this,Vn,U4).call(this),H(this,wo,i.getFactory()),u(this,wo)===void 0)throw new Error("Could not find a factory to update shape.");z(this,Vn,N4).call(this)}}getShape(){return u(this,$n)}getAnnotation(){return u(this,hr)}isActive(){return u(this,Ah)}enable(){H(this,Ah,!0),u(this,$n)&&(z(this,Vn,B2).call(this,!0),u(this,$n).getLayer()&&u(this,$n).getLayer().draw())}disable(){H(this,Ah,!1),u(this,$n)&&(z(this,Vn,B2).call(this,!1),u(this,$n).getLayer()&&u(this,$n).getLayer().draw())}reset(){H(this,$n,void 0),H(this,Wl,void 0),H(this,hr,void 0)}resetAnchors(){z(this,Vn,U4).call(this),z(this,Vn,N4).call(this),z(this,Vn,B2).call(this,!0)}setAnchorsActive(e){let t=null;t=e?i=>{z(this,Vn,q4).call(this,i)}:i=>{z(this,Vn,IP).call(this,i)},z(this,Vn,q2).call(this,t)}}zu=new WeakMap,qp=new WeakMap,wo=new WeakMap,$n=new WeakMap,Wl=new WeakMap,hr=new WeakMap,Ah=new WeakMap,Vn=new WeakSet,q2=function(e){u(this,$n)&&u(this,$n).getParent()&&u(this,$n).getParent().find(".anchor").forEach(e)},B2=function(e){z(this,Vn,q2).call(this,function(t){t.visible(e)})},U4=function(){z(this,Vn,q2).call(this,function(e){e.remove()})},N4=function(){if(!u(this,$n)||!u(this,$n).getLayer())return;const e=u(this,$n).getParent(),t=u(this,wo).getAnchors(u(this,$n),u(this,zu).getStyle());for(let i=0;i<t.length;++i)z(this,Vn,q4).call(this,t[i]),e.add(t[i])},q4=function(e){let t;e.on("dragstart.edit",i=>{i.cancelBubble=!0,t={mathShape:u(this,hr).mathShape,referencePoints:u(this,hr).referencePoints}}),e.on("dragmove.edit",i=>{const a=i.target;a instanceof Ne.default.Shape&&(function(o,c){const l=c.getParent();(function(h,f,g){h.x()<f.getX()?h.x(f.getX()):h.x()>g.getX()&&h.x(g.getX()),h.y()<f.getY()?h.y(f.getY()):h.y()>g.getY()&&h.y(g.getY())})(c,new Le(-l.x(),-l.y()),new Le(o.x-l.x(),o.y-l.y()))}(u(this,Wl).getBaseSize(),a),u(this,wo).constrainAnchorMove!==void 0&&u(this,wo).constrainAnchorMove(a),u(this,wo).updateAnnotationOnAnchorMove(u(this,hr),a),u(this,wo).updateShapeGroupOnAnchorMove(u(this,hr),a,u(this,zu).getStyle()),a.getLayer()?a.getLayer().draw():Re.warn("No layer to draw the anchor!"),i.cancelBubble=!0)}),e.on("dragend.edit",i=>{const a={mathShape:u(this,hr).mathShape,referencePoints:u(this,hr).referencePoints},o=new A0(u(this,hr),t,a,u(this,Wl).getDrawController());u(this,zu).addToUndoStack(o),u(this,qp).call(this,{type:"annotationupdate",data:u(this,hr),dataid:u(this,Wl).getDataId(),keys:Object.keys(a)}),t={mathShape:a.mathShape,referencePoints:a.referencePoints},i.cancelBubble=!0}),e.on("mousedown touchstart",i=>{i.target.moveToTop()}),e.on("mouseover.edit",i=>{const a=i.target;a instanceof Ne.default.Shape&&(a.stroke("#ddd"),a.getLayer()?a.getLayer().draw():Re.warn("No layer to draw the anchor!"))}),e.on("mouseout.edit",i=>{const a=i.target;a instanceof Ne.default.Shape&&(a.stroke("#999"),a.getLayer()?a.getLayer().draw():Re.warn("No layer to draw the anchor!"))})},IP=function(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")};var qn;class DH{constructor(){V(this,qn);this.createTrashIcon()}createTrashIcon(){H(this,qn,new Ne.default.Group);const e=new Ne.default.Line({points:[-10,-10,10,10],stroke:"red"}),t=new Ne.default.Line({points:[10,-10,-10,10],stroke:"red"});u(this,qn).width(20),u(this,qn).height(20),u(this,qn).add(e),u(this,qn).add(t)}activate(e){const t=e.getKonvaStage(),i=t.scale(),a=e.getKonvaLayer(),o={x:1/i.x,y:1/i.y};u(this,qn).x(t.offset().x+t.width()/(2*i.x)),u(this,qn).y(t.offset().y+t.height()/(15*i.y)),u(this,qn).scale(o),a.add(u(this,qn)),a.draw()}changeChildrenColourOnTrashHover(e,t,i){if(this.isOverTrash(e))return this.changeGroupChildrenColour(u(this,qn),"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(u(this,qn),"red"),this.changeGroupChildrenColour(t,i)}changeGroupChildrenColour(e,t){e.getChildren().forEach(function(i){i instanceof Ne.default.Shape&&i.stroke!==void 0&&i.stroke(t)})}remove(){u(this,qn).remove()}isOverTrash(e){const t=u(this,qn).width()*Math.abs(u(this,qn).scaleX())/2,i=u(this,qn).height()*Math.abs(u(this,qn).scaleY())/2;return Math.abs(e.x-u(this,qn).x())<t&&Math.abs(e.y-u(this,qn).y())<i}}qn=new WeakMap;var Es,ci,_s,Bp,Qu,$l,Rh,$i,B4,EP,_P,MP,FP,kP;class TH{constructor(e,t){V(this,$i);V(this,Es);V(this,ci);V(this,_s);V(this,Bp,"pointer");V(this,Qu);V(this,$l);V(this,Rh);H(this,Es,e),H(this,Rh,t),H(this,ci,new CH(e,t)),H(this,_s,new DH)}setEditorShape(e,t){const i=t.getDrawController();e&&e instanceof Ne.default.Shape&&e!==u(this,ci).getShape()&&i.isAnnotationGroupEditable()&&(u(this,ci).disable(),u(this,ci).setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),u(this,ci).enable())}getEditorShapeGroup(){let e;if(!u(this,ci).isActive()||(e=u(this,ci).getShape().getParent(),e instanceof Ne.default.Group))return e}getEditorAnnotation(){let e;return u(this,ci).isActive()&&(e=u(this,ci).getAnnotation()),e}disableAndResetEditor(){u(this,ci).disable(),u(this,ci).reset()}storeMouseOverCursor(e){H(this,Bp,e)}onMouseOutShapeGroup(){u(this,Qu)!==void 0&&(document.body.style.cursor=u(this,Qu),H(this,Qu,void 0)),u(this,$l)!==void 0&&u(this,$l).opacity(1)}addShapeGroupListeners(e,t,i){z(this,$i,_P).call(this,e),z(this,$i,FP).call(this,e,t,i),z(this,$i,kP).call(this,e,t,i),e.on("dblclick",()=>{const a=t.textExpr;(function(c,l){const h=prompt("Label",c.textExpr);h!==null&&(c.textExpr=h,l(c))})(t,c=>{const l=c.textExpr,h=new A0(c,{textExpr:a},{textExpr:l},i.getDrawController());u(this,Es).addToUndoStack(h),h.execute()})})}removeShapeListeners(e){z(this,$i,MP).call(this,e),e.off("dblclick");const t=e.getChildren(Mc)[0];t instanceof Ne.default.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const i=e.getChildren(F4)[0];i instanceof Ne.default.Label&&(i.draggable(!1),i.off("dragstart.draw"),i.off("dragend.draw"))}}Es=new WeakMap,ci=new WeakMap,_s=new WeakMap,Bp=new WeakMap,Qu=new WeakMap,$l=new WeakMap,Rh=new WeakMap,$i=new WeakSet,B4=function(e,t){const i=t.getKonvaStage();return{x:i.offset().x+e.x/i.scale().x,y:i.offset().y+e.y/i.scale().y}},EP=function(){H(this,Qu,document.body.style.cursor),document.body.style.cursor=u(this,Bp),u(this,$l).opacity(.75)},_P=function(e){e.on("mouseover",()=>{H(this,$l,e),z(this,$i,EP).call(this)}),e.on("mouseout",()=>{this.onMouseOutShapeGroup(),H(this,$l,void 0)})},MP=function(e){e.off("mouseover"),e.off("mouseout")},FP=function(e,t,i){const a=i.getKonvaLayer(),o=e.getChildren(Mc)[0];if(!(o instanceof Ne.default.Shape))return;let c,l,h,f;o.draggable(!0),o.on("dragstart.draw",g=>{f=o.stroke(),c={x:o.x(),y:o.y()},l={x:g.target.x(),y:g.target.y()},h={mathShape:t.mathShape,referencePoints:t.referencePoints},u(this,_s).activate(i),u(this,ci).setAnchorsActive(!1),a.draw()}),o.on("dragmove.draw",g=>{const S=function(C,A){return{min:new Le(0,0),max:new Le(C.x-Math.abs(A.width()),C.y-Math.abs(A.height()))}}(i.getBaseSize(),o);if(S&&!function(C,A,R){const E=C.getClientRect({relativeTo:C.getParent()});return E.x>A.getX()&&E.x<R.getX()&&E.y>A.getY()&&E.y<R.getY()}(o,S.min,S.max))return o.x(l.x),void o.y(l.y);const b={x:g.target.x()-l.x,y:g.target.y()-l.y},m=e.getChildren(),y=t.labelPosition===void 0;for(const C of m)C===g.target||C.name()==="label"&&!y||C.name()==="connector"||C.move(b);l={x:g.target.x(),y:g.target.y()};const v=t.getFactory();if(v===void 0)throw new Error("Cannot follow drag move without factory");v.updateAnnotationOnTranslation(t,b),v.updateLabelContent(t,e,u(this,Es).getStyle()),v.updateConnector(e);const D=Yn(g.evt),x={x:D.getX(),y:D.getY()},T=z(this,$i,B4).call(this,x,i);u(this,_s).changeChildrenColourOnTrashHover(T,e,f),a.draw()}),o.on("dragend.draw",g=>{if(u(this,_s).remove(),g===void 0||g.evt===void 0)return;const S=o.x(),b=o.y(),m=Yn(g.evt),y={x:m.getX(),y:m.getY()},v=z(this,$i,B4).call(this,y,i);if(u(this,_s).isOverTrash(v)){e.x(c.x),e.y(c.y),u(this,ci).disable(),u(this,ci).reset(),u(this,_s).changeGroupChildrenColour(e,f),t.mathShape=h.mathShape,t.referencePoints=h.referencePoints;const D=new Y6(t,i.getDrawController());u(this,Es).addToUndoStack(D),D.execute(),this.onMouseOutShapeGroup()}else{const D={x:S-c.x,y:b-c.y};if(D.x!==0||D.y!==0){const x={mathShape:t.mathShape,referencePoints:t.referencePoints},T=new A0(t,h,x,i.getDrawController());u(this,Es).addToUndoStack(T),u(this,Rh).call(this,{type:"annotationupdate",data:t,dataid:i.getDataId(),keys:Object.keys(x)}),h={mathShape:x.mathShape,referencePoints:x.referencePoints}}u(this,ci).setAnchorsActive(!0),u(this,ci).resetAnchors()}a.draw(),c={x:o.x(),y:o.y()}})},kP=function(e,t,i){const a=e.getChildren(F4)[0];if(!(a instanceof Ne.default.Label))return;let o,c;a.draggable(!0),a.on("dragstart.draw",()=>{o={x:a.x(),y:a.y()},c=t.labelPosition}),a.on("dragmove.draw",()=>{const l=t.getFactory();if(l===void 0)throw new Error("Cannot udpate connector without factory");l.updateConnector(e)}),a.on("dragend.draw",()=>{const l=a.x()-o.x,h=a.y()-o.y;if(l!==0||h!==0){const f=new Le(a.x(),a.y());t.labelPosition=f;const g=new A0(t,{labelPosition:c},{labelPosition:f},i.getDrawController());u(this,Es).addToUndoStack(g),u(this,Rh).call(this,{type:"annotationupdate",data:t,dataid:i.getDataId(),keys:["labelPosition"]}),c=f}o={x:a.x(),y:a.y()}})};class X6{constructor(e){ae(this,"meta");ae(this,"image");ae(this,"annotationGroup");ae(this,"buffer");this.meta=e}}var Bn,Gp,Oh,Kl,Hi,_r;class wH{constructor(){V(this,Hi);V(this,Bn,{});V(this,Gp,-1);V(this,Oh,new Kr);V(this,Kl,e=>{u(this,Oh).fireEvent(e)})}getNextDataId(){return++Er(this,Gp)._,u(this,Gp).toString()}getDataIds(){return Object.keys(u(this,Bn))}reset(){H(this,Bn,{})}get(e){return u(this,Bn)[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const i=Object.keys(u(this,Bn));for(const a of i)u(this,Bn)[a].image!==void 0&&u(this,Bn)[a].image.containsImageUids(e)&&t.push(a);return t}getDataIdFromSeriesUid(e){let t;const i=Object.keys(u(this,Bn));for(const a of i){const o=u(this,Bn)[a].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=a;break}}return t}setImage(e,t){u(this,Bn)[e].image=t,u(this,Kl).call(this,{type:"dataimageset",value:[t],dataid:e}),t.addEventListener("imagecontentchange",z(this,Hi,_r).call(this,e)),t.addEventListener("imagegeometrychange",z(this,Hi,_r).call(this,e))}add(e,t){if(u(this,Bn)[e]!==void 0)throw new Error("Data id already used in storage: "+e);let i;if(u(this,Bn)[e]=t,t.meta["00080060"]!==void 0&&(i=t.meta["00080060"].value[0]),i==="SEG"&&t.image===void 0){let a;const o=t.meta["00081115"];if(o!==void 0&&(a=o.value[0]["0020000E"].value[0]),a===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const c=this.getDataIdFromSeriesUid(a);if(c===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");const l=new L4;t.image=l.create(t.meta,t.buffer,u(this,Bn)[c].image)}u(this,Kl).call(this,{type:"dataadd",dataid:e}),t.image!==void 0&&(t.image.addEventListener("imagecontentchange",z(this,Hi,_r).call(this,e)),t.image.addEventListener("imagegeometrychange",z(this,Hi,_r).call(this,e))),t.annotationGroup!==void 0&&(t.annotationGroup.addEventListener("annotationadd",z(this,Hi,_r).call(this,e)),t.annotationGroup.addEventListener("annotationupdate",z(this,Hi,_r).call(this,e)),t.annotationGroup.addEventListener("annotationremove",z(this,Hi,_r).call(this,e)))}remove(e){if(u(this,Bn)[e]!==void 0){const t=u(this,Bn)[e].image;t!==void 0&&(t.removeEventListener("imagecontentchange",z(this,Hi,_r).call(this,e)),t.removeEventListener("imagegeometrychange",z(this,Hi,_r).call(this,e)));const i=u(this,Bn)[e].annotationGroup;i!==void 0&&(i.removeEventListener("annotationadd",z(this,Hi,_r).call(this,e)),i.removeEventListener("annotationupdate",z(this,Hi,_r).call(this,e)),i.removeEventListener("annotationremove",z(this,Hi,_r).call(this,e))),delete u(this,Bn)[e],u(this,Kl).call(this,{type:"dataremove",dataid:e})}}update(e,t){if(u(this,Bn)[e]===void 0)throw new Error("Cannot find data to update: "+e);const i=u(this,Bn)[e];i.image!==void 0&&t.image!==void 0&&i.image.appendSlice(t.image);let a="";a=t.meta["00020010"]!==void 0?"00200013":"imageUid",i.meta=function(o,c,l,h){const f={};if(!l)throw new Error("Cannot merge object with an undefined id key: "+l);if(!Object.prototype.hasOwnProperty.call(o,l))throw new Error("Id key not found in first object while merging: "+l+", obj: "+o);if(!Object.prototype.hasOwnProperty.call(c,l))throw new Error("Id key not found in second object while merging: "+l+", obj: "+c);let g=!1;if(Object.prototype.hasOwnProperty.call(o[l],"merged")&&o[l].merged&&(g=!0),!Object.prototype.hasOwnProperty.call(o[l],h))throw new Error("Id value not found in first object while merging: "+l+", valueKey: "+h+", ojb: "+o);if(!Object.prototype.hasOwnProperty.call(c[l],h))throw new Error("Id value not found in second object while merging: "+l+", valueKey: "+h+", ojb: "+c);let S=o[l][h];const b=c[l][h][0];if(f[l]=o[l],g){for(let D=0;D<S.length;++D)if(S[D]===b)throw new Error("The first object already contains id2: "+b+", id1: "+S);f[l][h].push(b)}else{if(S=S[0],S===b)throw new Error("Cannot merge object with same ids: "+S+", id2: "+b);f[l][h].push(b),f[l].merged=!0}const m=Object.keys(o),y=Object.keys(c).filter(function(D){return m.indexOf(D)<0}),v=m.concat(y);for(let D=0;D<v.length;++D){const x=v[D];if(x!==l){let T,C,A,R,E;if(Object.prototype.hasOwnProperty.call(o,x)&&(T=o[x],Object.prototype.hasOwnProperty.call(T,h)&&(C=T[h])),Object.prototype.hasOwnProperty.call(c,x)&&(A=c[x],Object.prototype.hasOwnProperty.call(A,h)&&(R=A[h])),T!==void 0?E=T:A!==void 0&&(E=A),!sP(C,R))if(g){if(Array.isArray(C)){E[h]={};for(let U=0;U<S.length;++U)E[h][S[U]]=C}else E[h]=C;E[h]===void 0&&(E[h]={}),E[h][b]=R}else{const U={};U[S]=C,U[b]=R,E[h]=U}f[x]=E}}return f}(i.meta,t.meta,a,"value"),u(this,Kl).call(this,{type:"dataupdate",dataid:e})}addEventListener(e,t){u(this,Oh).add(e,t)}removeEventListener(e,t){u(this,Oh).remove(e,t)}}Bn=new WeakMap,Gp=new WeakMap,Oh=new WeakMap,Kl=new WeakMap,Hi=new WeakSet,_r=function(e){return t=>{t.dataid=e,u(this,Kl).call(this,t)}};const xH="No source image to create mask",P7="No source image to get offsets, ID: {0}",AH="No brush origins",RH="No mask defined when adding mask slices",OH="No created mask image",PH="No mask image for temporary draw command, ID: {0}",LH="No mask image to get offsets from",IH="No mask image for draw command, ID: {0}",L7="No mask ID to apply mask index",EH="No mask view layers",_H="No selected segment number",MH="Too many mask view layers: {0}",FH="More mask layers than expected",kH="Cannot display mask with no mask ID",UH="Cannot draw with no mask data ID",NH="Cannot draw with no offsets",qH="Cannot draw with no colour list",BH="Cannot get mask layers with no mask ID",GH="Cannot get mask view controller: no mask ID",VH="Cannot get mask view controller: no mask layers",zH="Cannot find source data for an existing mask, ID: {0}",QH="Unsupported scroll index: {0}";function _l(n,...e){return n.replace(/{(\d+)}/g,(t,i)=>e[i]||"")}const G2="del",qC="add";function I7(n,e,t,i){return vH(n.worldToIndex(e),t,i)}class E7{constructor(){ae(this,"mask");ae(this,"dataId");ae(this,"offsetsLists");ae(this,"mode");ae(this,"segmentNumber");ae(this,"srclayerid");ae(this,"originalValuesLists");ae(this,"isSilent")}}var Zl,Ph,Jl,Vp,ec,Lh,xo,zp,tc,Ih;class _7{constructor(e){V(this,Zl);V(this,Ph);V(this,Jl);V(this,Vp);V(this,ec);V(this,Lh);V(this,xo);V(this,zp);V(this,tc);V(this,Ih);H(this,Zl,e.mask),H(this,Ph,e.dataId),H(this,Jl,e.offsetsLists),H(this,Vp,e.mode),H(this,ec,e.segmentNumber),H(this,Lh,e.srclayerid),e.originalValuesLists!==void 0&&H(this,xo,e.originalValuesLists),H(this,zp,e.isSilent??!1),H(this,tc,u(this,Vp)===G2?"brushremove":"brushdraw"),H(this,Ih,u(this,tc)==="brushdraw"?"brushremove":"brushdraw")}getOriginalValuesLists(){return u(this,xo)}getExecuteEvent(){const e=u(this,tc)==="brushdraw"?u(this,ec):void 0;return new CustomEvent(u(this,tc),{detail:{segmentnumber:e,dataid:u(this,Ph),srclayerid:u(this,Lh)}})}getName(){return"Draw-brush"}execute(){if(u(this,ec)===void 0)return;let e=u(this,ec);u(this,tc)==="brushremove"&&(e=0),u(this,xo)===void 0?H(this,xo,u(this,Zl).setAtOffsetsAndGetOriginals(u(this,Jl),e)):u(this,Zl).setAtOffsetsWithIterator(u(this,Jl),e),u(this,zp)||this.onExecute(this.getExecuteEvent())}undo(){u(this,xo)===void 0?H(this,xo,u(this,Zl).setAtOffsetsAndGetOriginals(u(this,Jl),0)):u(this,Zl).setAtOffsetsWithIterator(u(this,Jl),u(this,xo));const e=u(this,Ih)==="brushdraw"?u(this,ec):void 0,t=new CustomEvent(u(this,Ih),{detail:{segmentnumber:e,dataid:u(this,Ph),srclayerid:u(this,Lh)}});this.onUndo(t)}onExecute(e){}onUndo(e){}}Zl=new WeakMap,Ph=new WeakMap,Jl=new WeakMap,Vp=new WeakMap,ec=new WeakMap,Lh=new WeakMap,xo=new WeakMap,zp=new WeakMap,tc=new WeakMap,Ih=new WeakMap;var Kn,Qp,nc,ji,pn,fr,ic,Qr,Hu,Hp,Eh,rc,ac,oc,jp,ut,G4,UP,V4,NP,qP,BP,GP,VP,zP,QP,z4,HP,jP,Q4,H4,YP,XP;class HH extends EventTarget{constructor(t){super();V(this,ut);V(this,Kn);V(this,Qp);V(this,nc,!1);V(this,ji);V(this,pn);V(this,fr,10);V(this,ic,{min:1,max:20});V(this,Qr,G2);V(this,Hu);V(this,Hp,0);V(this,Eh);V(this,rc);V(this,ac);V(this,oc);V(this,jp,[]);ae(this,"mousedown",t=>{if(z(this,ut,HP).call(this,t))return;if(u(this,Hu)===void 0)return void Re.warn(_H);H(this,nc,!0),H(this,rc,new Le(t.offsetX,t.offsetY)),H(this,ac,[]),H(this,oc,[]),z(this,ut,jP).call(this,t);const i=z(this,ut,z4).call(this,t);i.length>0?z(this,ut,V4).call(this,i):(H(this,nc,!1),z(this,ut,Q4).call(this,t))});ae(this,"mousemove",t=>{if(!u(this,nc)||u(this,rc)===void 0)return;const i=new Le(t.offsetX,t.offsetY),a=Math.abs(i.getX()-u(this,rc).getX()),o=Math.abs(i.getY()-u(this,rc).getY());if(a>u(this,fr)/2||o>u(this,fr)/2){const c=z(this,ut,z4).call(this,t);c.length>0&&z(this,ut,V4).call(this,c),H(this,rc,i)}});ae(this,"mouseup",t=>{if(u(this,nc)){if(H(this,nc,!1),z(this,ut,Q4).call(this,t),u(this,pn)===void 0)throw new Error(UH);if(u(this,ac)===void 0)throw new Error(NH);if(u(this,oc)===void 0)throw new Error(qH);u(this,ac).reverse(),u(this,oc).reverse();const i=z(this,ut,H4).call(this).getId(),a=u(this,Kn).getData(u(this,pn));if(!a)throw new Error(_l(IH,u(this,pn)));const o=new E7;o.mask=a.image,o.dataId=u(this,pn),o.offsetsLists=u(this,ac),o.mode=u(this,Qr),o.segmentNumber=u(this,Hu),o.srclayerid=i,o.originalValuesLists=u(this,oc);const c=new _7(o);c.onExecute=l=>{this.dispatchEvent(l)},c.onUndo=l=>{this.dispatchEvent(l),u(this,ji).recalculateLabels()},u(this,Kn).addToUndoStack(c),this.dispatchEvent(c.getExecuteEvent()),u(this,ji).recalculateLabels()}});ae(this,"mouseout",t=>{this.mouseup(t)});ae(this,"touchstart",t=>{this.mousedown(t)});ae(this,"touchmove",t=>{this.mousemove(t)});ae(this,"touchend",t=>{this.mouseup(t)});ae(this,"wheel",t=>{u(this,Qp).wheel(t)});ae(this,"keydown",t=>{t.context="Brush",u(this,Kn).onKeydown(t);const i=t.ctrlKey||t.altKey;!i&&t.key==="+"&&u(this,fr)+1<u(this,ic).max?(H(this,fr,u(this,fr)+1),Re.debug("Brush size: "+u(this,fr))):!i&&t.key==="-"&&u(this,fr)-1>=u(this,ic).min?(H(this,fr,u(this,fr)-1),Re.debug("Brush size: "+u(this,fr))):i||Number.isNaN(Number.parseInt(t.key,10))?i||t.key!=="a"?i||t.key!=="d"||(H(this,Qr,G2),Re.debug("Brush mode: "+u(this,Qr))):(H(this,Qr,qC),Re.debug("Brush mode: "+u(this,Qr))):H(this,Qr,qC)});H(this,Kn,t),H(this,Qp,new qg(t))}activate(t){const i=function(a){let o=[];if(!a)return[];for(const c in a)if(a[c]){const l=a[c];if(Array.isArray(l)){const h=l.map(function(f){return f.divId});o=[...o,...h]}}return[...new Set(o)]}(u(this,Kn).getDataViewConfigs());t?z(this,ut,YP).call(this,i):z(this,ut,XP).call(this,i)}setFeatures(t){t.brushSizeRange!==void 0&&H(this,ic,t.brushSizeRange),t.brushSize!==void 0&&t.brushSize>=u(this,ic).min&&t.brushSize<u(this,ic).max&&H(this,fr,t.brushSize),t.brushMode!==void 0&&H(this,Qr,t.brushMode),t.createMask?H(this,pn,void 0):t.maskDataId!==void 0&&H(this,pn,t.maskDataId),t.selectedSegmentNumber!==void 0&&H(this,Hu,t.selectedSegmentNumber),t.blacklist!==void 0&&H(this,jp,t.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}Kn=new WeakMap,Qp=new WeakMap,nc=new WeakMap,ji=new WeakMap,pn=new WeakMap,fr=new WeakMap,ic=new WeakMap,Qr=new WeakMap,Hu=new WeakMap,Hp=new WeakMap,Eh=new WeakMap,rc=new WeakMap,ac=new WeakMap,oc=new WeakMap,jp=new WeakMap,ut=new WeakSet,G4=function(t,i,a){const o=t.getSize().getValues();o[2]=1;const c=new il(o),l=new _c([i],c,t.getSpacing(),t.getOrientation()),h=new Uint8Array(c.getDimSize(2));h.fill(0),++Er(this,Hp)._;const f=[u(this,Hp).toString()],g=new L0(l,h,f);return g.setMeta(a),g.setPhotometricInterpretation("PALETTE COLOR"),g.setPaletteColourMap(new q6([0],[0],[0])),g},UP=function(t,i,a,o,c,l){const h=function(D,x){const T=x.sort(function(G,W){let X=0;const Q=G.get(2),Y=W.get(2);return Q!==void 0&&Y!==void 0&&(X=Q-Y),X}),C=T[0].get(2);if(C===void 0)return[];const A=new Et([0,0,C]),R=D.indexToWorld(A),E=T.at(-1).get(2);if(E===void 0)return[];const U=new Et([0,0,E]),_=D.indexToWorld(U),M=D.getOrigins(),P=.1*D.getSpacing().get(2),q=R.get3D().getClosest(M),N=M[q],L=R.get3D().getDistance(N);L>P&&Re.warn("Large distance between origin and origin for first index: "+L);const O=_.get3D().getClosest(M),F=M[O],k=_.get3D().getDistance(F);return k>P&&Re.warn("Large distance between origin and origin for last index: "+k),[q,O]}(t,I7(t,a,c,o));if(h===void 0||h.length===0)throw new Error(AH);const f=t.getOrigins(),g=i.getOrigins(),S=g[0].getClosest(f),b=g.at(-1).getClosest(f),m=[];if(h[0]<S)for(let D=S-1;D>=h[0];--D)m.push(D);if(h[1]>b)for(let D=b+1;D<=h[1];++D)m.push(D);const y=[];for(const D of m)y.push(f[D]);if(u(this,ji)===void 0)throw new Error(RH);const v=u(this,ji).getMeta();for(const D of y)v.numberOfFiles+=1,u(this,ji).appendSlice(z(this,ut,G4).call(this,i,D,l))},V4=function(t){const i=z(this,ut,H4).call(this).getId();if(u(this,pn)===void 0)throw new Error(L7);const a=u(this,Kn).getData(u(this,pn));if(!a)throw new Error(_l(PH,u(this,pn)));const o=new E7;o.mask=a.image,o.dataId=u(this,pn),o.offsetsLists=[t],o.mode=u(this,Qr),o.segmentNumber=u(this,Hu),o.srclayerid=i;const c=new _7(o);c.execute(),u(this,ac).push(t);const l=c.getOriginalValuesLists();l!==void 0&&u(this,oc).push(l[0])},NP=function(t,i){if(!i)throw new Error(_l(xH));const a=i.getGeometry(),o=a.worldToIndex(t).get(2);if(o===void 0)throw new Error("Z position is undefined");const c=new Et([0,0,o]),l=DP(),h=function(){const y="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:y,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:y,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:y}]}}}();l.DimensionOrganizationSequence=h.organizations,l.DimensionIndexSequence=h.indices,l.PixelRepresentation=0,l.numberOfFiles=1;const f=i.getMeta();l.PatientID=f.PatientID,l.StudyInstanceUID=f.StudyInstanceUID,l.SeriesInstanceUID=f.SeriesInstanceUID;const g=[{referencedSOPClassUID:f.SOPClassUID,referencedSOPInstanceUID:i.getImageUid(c)}],S=[];S.push({ReferencedInstanceSequence:{value:g},SeriesInstanceUID:f.SeriesInstanceUID}),l.ReferencedSeriesSequence={value:S},l.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:f.ImageOrientationPatient,derivationImages:[{sourceImages:g}]}]},l.lengthUnit=i.getMeta().lengthUnit,H(this,ji,z(this,ut,G4).call(this,a,a.getOrigins()[o],l));const b=lp(l),m=new X6(b);return m.image=u(this,ji),u(this,Kn).addData(m)},qP=function(t){const i=u(this,Kn).getDataViewConfigs();let a;for(const o in i){const c=i[o].find(function(l){return l.divId===t});if(c!==void 0){a=c.orientation;break}}return a},BP=function(t){if(u(this,pn)===void 0)throw new Error(kH);const i=new TE(t);i.orientation=z(this,ut,qP).call(this,t),u(this,Kn).addDataViewConfig(u(this,pn),i),u(this,Kn).render(u(this,pn))},GP=function(t){let i;const a=t.custom.frameInfos;if(a.length===0)return i;const o=a[0].derivationImages;if(o===void 0||o.length===0)return i;const c=o[0].sourceImages;return c===void 0?i:c.length!==0?c[0].referencedSOPInstanceUID:void 0},VP=function(t){const i=t.getMeta(),a=z(this,ut,GP).call(this,i);let o=[];a!=="undefined"&&(o=u(this,Kn).getDataIdsFromSopUids([a]));let c="0";return o.length>0?c=o[0]:Re.warn(_l(zH,a)),c},zP=function(t){if(u(this,pn)===void 0)throw new Error(BH);const i=t.getViewLayersByDataId(u(this,pn));if(i.length===0)throw new Error(EH);return i.length!==1&&Re.warn(_l(MH,i.length)),i[0]},QP=function(t){if(t===void 0)throw new Error(L7);const i=u(this,Kn).getData(t);if(i===void 0)throw new Error(LH);return i.image},z4=function(t){const i=Ot(t),a=new Le(t.offsetX,t.offsetY),o=u(this,Kn).getLayerGroupByDivId(i.groupDivId);if(o===void 0)throw new Error("No layergroup to get mask offsets");let c;if(H(this,Eh,o),c=u(this,pn)===void 0?o.getBaseViewLayer():o.getViewLayersByDataId(u(this,pn))[0],c===void 0)return[];const l=c.getViewController(),h=l.getCurrentPosition();let f,g,S,b;if(l.equalImageMeta({Modality:"SEG"})){H(this,ji,z(this,ut,QP).call(this,u(this,pn)));const R=z(this,ut,VP).call(this,u(this,ji)),E=u(this,Kn).getData(R);if(!E)throw new Error(_l(P7,R));b=E.image;const U=o.getViewLayersByDataId(R)[0],_=U.getViewController(),M=U.displayToPlanePos(a);S=_.getPositionFromPlanePoint(M),f=c,g=l}else{const R=c.getDataId(),E=u(this,Kn).getData(R);if(!E)throw new Error(_l(P7,R));b=E.image;const U=c.displayToPlanePos(a);if(S=l.getPositionFromPlanePoint(U),H(this,pn,z(this,ut,NP).call(this,h,b)),u(this,ji)===void 0)throw new Error(OH);const _=o.getDivId(),M=_!==void 0;M&&z(this,ut,BP).call(this,_),f=z(this,ut,zP).call(this,o),g=f.getViewController(),M&&g.setCurrentPosition(h)}const m=b.getGeometry(),y=u(this,ji).getMeta(),v=u(this,ji).getGeometry(),D=l.get2DSpacing(),x=[Math.round(u(this,fr)/D.x),Math.round(u(this,fr)/D.y)];let T;const C=l.getScrollDimIndex();switch(C){case 0:T=[1,2];break;case 1:T=[0,2];break;case 2:T=[0,1];break;default:throw new Error(_l(QH,C))}z(this,ut,UP).call(this,m,v,S,T,x,y);const A=f.displayToPlanePos(a);return function(R,E){const U=R.getSize(),_=[];for(const M of E){const P=U.indexToOffset(M);P>=0&&_.push(P)}return _.sort(function(M,P){return M-P})}(v,I7(v,g.getPositionFromPlanePoint(A),x,T))},HP=function(t){const i=Ot(t),a=u(this,Kn).getLayerGroupByDivId(i.groupDivId);if(a===void 0)throw new Error("No layergroup to check black list");if(a.getActiveDrawLayer()===void 0){const o=a.getActiveViewLayer().getDataId(),c=u(this,Kn).getData(o).image.getMeta().SeriesInstanceUID;if(u(this,jp).includes(c))return!0}return!1},jP=function(t){if(t.button===2){H(this,Qr,G2);const i=new CustomEvent("erasingactivated");this.dispatchEvent(i)}},Q4=function(t){if(t.button===2){H(this,Qr,qC);const i=new CustomEvent("erasingdeactivated");this.dispatchEvent(i)}},H4=function(){if(u(this,pn)===void 0)throw new Error(GH);if(u(this,Eh)===void 0)throw new Error("No current layer group");const t=u(this,Eh).getViewLayersByDataId(u(this,pn));if(t.length===0)throw new Error(VH);return t.length!==1&&Re.warn(FH),t[0]},YP=function(t){for(const i of t){const a=document.querySelector("#"+i);if(!a)return;a.addEventListener("contextmenu",o=>{o.preventDefault(),o.stopPropagation()})}},XP=function(t){for(const i of t){const a=document.querySelector("#"+i);if(!a)return;a.addEventListener("contextmenu",o=>{})}};var S2=function(n){var e={};return Oi.d(e,n),e}({default:function(){return hQ}});class Ig{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const i=[];for(let a=0;a<e.controlPointIndexArray.length;++a)i[a]=e.controlPointIndexArray[a]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(i)}}class jH{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(i){return i},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let i=this.buckets[t];for(;i!==null&&(i.next===null||e.x!==i.next.x||e.y!==i.next.y);)i=i.next;return i!==null&&(i.next=i.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let i=0;i<t.length;i++)t[i]=null;return t}}const YH=2/(3*Math.PI);function BC(n,e,t,i,a){const o=n[i][t],c=e[i][t];let l=Math.sqrt(o*o+c*c);l=Math.max(l,1e-100),a.x=o/l,a.y=c/l}var Hy;class XH{constructor(){V(this,Hy,e=>Math.round(this.searchGran*this.cost[e.y][e.x]));this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(i,a,o){const c={data:[]};for(let l=0;l<o;l++){c.data[l]=[];for(let h=0;h<a;h++){const f=4*(l*a+h);c.data[l][h]=(i[f]+i[f+1]+i[f+2])/765}}return c.dx=function(l,h){return l+1===this.data[h].length&&l--,this.data[h][l+1]-this.data[h][l]},c.dy=function(l,h){return h+1===this.data.length&&h--,this.data[h][l]-this.data[h+1][l]},c.gradMagnitude=function(l,h){const f=this.dx(l,h),g=this.dy(l,h);return Math.sqrt(f*f+g*g)},c.laplace=function(l,h){let f=-16*this.data[h][l];return f+=this.data[h-2][l],f+=this.data[h-1][l-1]+2*this.data[h-1][l]+this.data[h-1][l+1],f+=this.data[h][l-2]+2*this.data[h][l-1]+2*this.data[h][l+1]+this.data[h][l+2],f+=this.data[h+1][l-1]+2*this.data[h+1][l]+this.data[h+1][l+1],f+=this.data[h+2][l],f},c}(e,this.width,this.height),this.laplace=function(i){const a=[];a[0]=[],a[1]=[];for(let o=1;o<i.data.length;o++)a[0][o]=1,a[1][o]=1;for(let o=2;o<i.data.length-2;o++){a[o]=[],a[o][0]=1,a[o][1]=1;for(let c=2;c<i.data[o].length-2;c++)a[o][c]=i.laplace(c,o)>.33?0:1;a[o][i.data[o].length-2]=1,a[o][i.data[o].length-1]=1}a[i.data.length-2]=[],a[i.data.length-1]=[];for(let o=1;o<i.data.length;o++)a[i.data.length-2][o]=1,a[i.data.length-1][o]=1;return a}(this.greyscale),this.gradient=function(i){const a=[];let o=0,c=0,l=0;for(l=0;l<i.data.length-1;l++){for(a[l]=[],c=0;c<i.data[l].length-1;c++)a[l][c]=i.gradMagnitude(c,l),o=Math.max(a[l][c],o);a[l][i.data[l].length-1]=a[l][i.data.length-2]}a[i.data.length-1]=[];for(let h=0;h<a[0].length;h++)a[i.data.length-1][h]=a[i.data.length-2][h];for(l=0;l<a.length;l++)for(c=0;c<a[l].length;c++)a[l][c]=1-a[l][c]/o;return a}(this.greyscale),this.gradX=function(i){const a=[];for(let o=0;o<i.data.length;o++){a[o]=[];for(let c=0;c<i.data[o].length-1;c++)a[o][c]=i.dx(c,o);a[o][i.data[o].length-1]=a[o][i.data[o].length-2]}return a}(this.greyscale),this.gradY=function(i){const a=[];for(let o=0;o<i.data.length-1;o++){a[o]=[];for(let c=0;c<i.data[o].length;c++)a[o][c]=i.dy(c,o)}a[i.data.length-1]=[];for(let o=0;o<i.data[0].length;o++)a[i.data.length-1][o]=a[i.data.length-2][o];return a}(this.greyscale);const t=function(i,a,o,c){const l={inside:[],outside:[]},h={x:-1,y:-1};for(let f=0;f<a.length;f++){l.inside[f]=[],l.outside[f]=[];for(let g=0;g<a[f].length;g++){BC(a,o,g,f,h);let S=Math.round(g+i*h.y),b=Math.round(f-i*h.x),m=Math.round(g-i*h.y),y=Math.round(f+i*h.x);S=Math.max(Math.min(S,a[f].length-1),0),m=Math.max(Math.min(m,a[f].length-1),0),b=Math.max(Math.min(b,a.length-1),0),y=Math.max(Math.min(y,a.length-1),0),l.inside[f][g]=c.data[b][S],l.outside[f][g]=c.data[y][m]}}return l}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let i=0;i<this.trainingLength&&e;i++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,i,a){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let c=1;for(o=0;o<this.trainingPoints.length;o++){const l=this.trainingPoints[o],h=this.getTrainingIdx(t,i[l.y][l.x]);e[h]+=1,c=Math.max(c,e[h])}for(o=0;o<t;o++)e[o]=1-e[o]/c;(function(l,h){h[0]=.4*l[0]+.5*l[1]+.1*l[1],h[1]=.25*l[0]+.4*l[1]+.25*l[2]+.1*l[3];for(let g=2;g<l.length-2;g++)h[g]=.05*l[g-2]+.25*l[g-1]+.4*l[g]+.25*l[g+1]+.05*l[g+2];const f=l.length;h[f-2]=.25*l[f-1]+.4*l[f-2]+.25*l[f-3]+.1*l[f-4],h[f-1]=.4*l[f-1]+.5*l[f-2]+.1*l[f-3]})(e,a)}addInStaticGrad(e,t){for(let i=0;i<this.gradGran;i++)this.gradTraining[i]=Math.min(this.gradTraining[i],1-i*(t-e)/(t*this.gradGran))}gradDirection(e,t,i,a){return function(o,c,l,h,f,g){const S={x:-1,y:-1},b={x:-1,y:-1};BC(o,c,l,h,S),BC(o,c,f,g,b);let m=S.y*(f-l)-S.x*(g-h),y=b.y*(f-l)-b.x*(g-h);return m<0&&(m=-m,y=-y),l!==f&&h!==g&&(m*=Math.SQRT1_2,y*=Math.SQRT1_2),YH*(Math.acos(m)+Math.acos(y))}(this.gradX,this.gradY,e,t,i,a)}dist(e,t,i,a){let o=this.gradient[a][i];e!==i&&t!==a||(o*=Math.SQRT1_2);const c=this.laplace[a][i],l=this.gradDirection(e,t,i,a);return this.trained?.3*this.getTrainedGrad(o)+.3*c+.1*(l+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*c+.11*l}adj(e){const t=[],i=Math.max(e.x-1,0),a=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),c=Math.min(e.y+1,this.greyscale.data.length-1);let l=0;for(let h=a;h<=c;h++)for(let f=i;f<=o;f++)f===e.x&&h===e.y||(t[l++]={x:f,y:h});return t}setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,i=0;for(this.visited=[],i=0;i<this.height;i++)for(this.visited[i]=[],t=0;t<this.width;t++)this.visited[i][t]=!1;for(this.parents=[],i=0;i<this.height;i++)this.parents[i]=[];for(this.cost=[],i=0;i<this.height;i++)for(this.cost[i]=[],t=0;t<this.width;t++)this.cost[i][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new jH(this.searchGranBits,u(this,Hy)),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const i=this.pq.pop();t.push(i),t.push(this.parents[i.y][i.x]),this.visited[i.y][i.x]=!0;const a=this.adj(i);for(let o=0;o<a.length;o++){const c=a[o],l=this.cost[i.y][i.x]+this.dist(i.x,i.y,c.x,c.y);l<this.cost[c.y][c.x]&&(this.cost[c.y][c.x]!==Number.MAX_VALUE&&this.pq.remove(c),this.cost[c.y][c.x]=l,this.parents[c.y][c.x]=i,this.pq.push(c))}e++}return t}}Hy=new WeakMap;var Yp;class hu{constructor(e){V(this,Yp);H(this,Yp,e)}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=u(this,Yp).call(this,e)),t}create(e,t){const i=new Ne.default.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),a=e.getText();i.setText(a);const o=t.applyZoomScale(1),c={x:2*o.x,y:2*o.y},l=this.getPosition(e),h=new Ne.default.Label({x:l.getX(),y:l.getY(),scale:c,visible:a.length!==0,name:"label"});return h.add(i),h.add(new Ne.default.Tag({fill:e.colour,opacity:t.getTagOpacity()})),h}updatePosition(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof Ne.default.Label))return;const a=this.getPosition(e);i.position({x:a.getX(),y:a.getY()})}getLabelAnchorsPosition(e){const t=e.x(),i=e.y(),a=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new Le(t+a/2,i),new Le(t,i+o/2),new Le(t+a/2,i+o),new Le(t+a,i+o/2)]}getClosestPoints(e,t){let i=e[0].getDistance(t[0]),a=e[0],o=t[0];for(const c of e)for(const l of t){const h=c.getDistance(l);h<i&&(i=h,a=c,o=l)}return[a,o]}getConnector(e,t,i){const a=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,a);return new Ne.default.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const i=e.getChildren(function(l){return l.name()==="label"})[0];if(!(i instanceof Ne.default.Label))return;const a=this.getLabelAnchorsPosition(i),o=this.getClosestPoints(t,a),c=e.getChildren(function(l){return l.name()==="connector"})[0];c instanceof Ne.default.Line&&c.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof Ne.default.Label))return;const a=e.getText();i.getText().setText(a),i.visible()&&i.visible(a.length!==0)}}Yp=new WeakMap;var Xp,Wp,$p;class WH{constructor(){V(this,Xp,0);V(this,Wp,0);V(this,$p,null)}getMin(){return u(this,Xp)}setMin(e){H(this,Xp,e)}getMax(){return u(this,Wp)}setMax(e){H(this,Wp,e)}getName(){return"Threshold"}setOriginalImage(e){H(this,$p,e)}getOriginalImage(){return u(this,$p)}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform(i=>i<this.getMin()||i>this.getMax()?t:i)}}Xp=new WeakMap,Wp=new WeakMap,$p=new WeakMap;var Kp;class $H{constructor(){V(this,Kp,null)}getName(){return"Sharpen"}setOriginalImage(e){H(this,Kp,e)}getOriginalImage(){return u(this,Kp)}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}Kp=new WeakMap;var Zp;class KH{constructor(){V(this,Zp,null)}getName(){return"Sobel"}setOriginalImage(e){H(this,Zp,e)}getOriginalImage(){return u(this,Zp)}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),i=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(i,function(a,o){return Math.sqrt(a*a+o*o)})}}Zp=new WeakMap;var ju,Ao,sc;class GC{constructor(e,t,i){V(this,ju);V(this,Ao);V(this,sc);H(this,ju,e),H(this,Ao,t),H(this,sc,i)}getName(){return"Filter-"+u(this,ju).getName()}execute(){u(this,sc).setImage(u(this,Ao),u(this,ju).update()),u(this,sc).render(u(this,Ao));const e={type:"filterrun",id:this.getName(),dataId:u(this,Ao)};this.onExecute(e)}undo(){u(this,sc).setImage(u(this,Ao),u(this,ju).getOriginalImage()),u(this,sc).render(u(this,Ao));const e={type:"filterundo",id:this.getName(),dataid:u(this,Ao)};this.onUndo(e)}onExecute(e){}onUndo(e){}}ju=new WeakMap,Ao=new WeakMap,sc=new WeakMap;const ZH={},V2={};var Ms,Yu,Xu,Jp,em,ki,z2,j4,Y4,Q2,fR,Ro,Wu,$u,tm,Oo,nm,Ku,ti,WP,X4,W4,H2,$P,j2,gR,Fs,ks,Us,Ns,_h,Mh,ei,Bg,$4,jy,K4,Yy,Z4,Y2,pR,Fh,Zu,kh,im,ka,J4,e3,X2,mR,Pn,rm,Po,ba,Uh,Ca,Ti,am,Zn,gr,om,Nh,qh,Bh,Gh,Da,Vh,Hr,zh,Qh,lt,KP,ZP,JP,t3,W2,eL,tL,$2,nL,iL,rL,n3,i3,r3,a3,Ju,SR,Hh,Yi,lc,jh,e0,yR,Ta,Xy,Wy,$y,cc,t0,qs,Lo,n0,wa,Ka,i0,Yh,sm,uc,En,o3,lm,aL,Gg,s3,l3,K2,vR,Za,r0,Xh,xa,dc,Bs,Io,Gs,cm,Ni,c3,oL,Vs,u3,d3,h3,bR;const JH={WindowLevel:(fR=class{constructor(n){V(this,ki);V(this,Ms);V(this,Yu,!1);V(this,Xu);V(this,Jp);V(this,em,!0);ae(this,"mousedown",n=>{const e=Yn(n),t=Ot(n);z(this,ki,j4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,ki,Y4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{z(this,ki,Q2).call(this)});ae(this,"mouseout",n=>{z(this,ki,Q2).call(this)});ae(this,"touchstart",n=>{const e=ir(n),t=Ot(n);z(this,ki,j4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=ir(n),t=Ot(n);z(this,ki,Y4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{z(this,ki,Q2).call(this)});ae(this,"dblclick",n=>{const e=Ot(n),t=Yn(n),i=u(this,Ms).getLayerGroupByDivId(e.groupDivId),a=z(this,ki,z2).call(this,i);if(a===void 0)return;const o=a.displayToPlaneIndex(t),c=a.getViewController();if(!c.isMonochrome())return;const l=u(this,Ms).getData(a.getDataId()).image,h=new Cr(l.getRescaledValueAtIndex(c.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),c.getWindowLevel().width);c.setWindowLevel(h)});ae(this,"wheel",n=>{u(this,Jp).wheel(n)});ae(this,"keydown",n=>{n.context="WindowLevel",u(this,Ms).onKeydown(n)});H(this,Ms,n),H(this,Jp,new qg(n))}activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&H(this,em,n.strictViewLayer)}},Ms=new WeakMap,Yu=new WeakMap,Xu=new WeakMap,Jp=new WeakMap,em=new WeakMap,ki=new WeakSet,z2=function(n){let e;if(u(this,em))e=n.getActiveViewLayer();else{const t=function(i){return i.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e},j4=function(n,e){const t=u(this,Ms).getLayerGroupByDivId(e),i=z(this,ki,z2).call(this,t);i!==void 0&&i.getViewController().isMonochrome()&&(H(this,Yu,!0),H(this,Xu,n))},Y4=function(n,e){if(!u(this,Yu))return;const t=u(this,Ms).getLayerGroupByDivId(e),i=z(this,ki,z2).call(this,t);if(i===void 0)return;const a=i.getViewController(),o=n.getX()-u(this,Xu).getX(),c=u(this,Xu).getY()-n.getY(),l=a.getImageRescaledDataRange(),h=.001*(l.max-l.min),f=a.getWindowLevel().center,g=a.getWindowLevel().width,S=new Cr(f+c*h,g+o*h);a.setWindowLevel(S),H(this,Xu,n)},Q2=function(){u(this,Yu)&&H(this,Yu,!1)},fR),Scroll:(gR=class{constructor(n){V(this,ti);V(this,Ro);V(this,Wu,!1);V(this,$u);V(this,tm);V(this,Oo);V(this,nm,!1);V(this,Ku);ae(this,"mousedown",n=>{const e=Yn(n),t=Ot(n);z(this,ti,X4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,ti,W4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{z(this,ti,H2).call(this)});ae(this,"mouseout",n=>{z(this,ti,H2).call(this),z(this,ti,j2).call(this)});ae(this,"touchstart",n=>{H(this,Oo,setTimeout(()=>{this.dblclick(n)},500));const e=ir(n),t=Ot(n);z(this,ti,X4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{u(this,Oo)!==null&&(clearTimeout(u(this,Oo)),H(this,Oo,null));const e=ir(n),t=Ot(n);z(this,ti,W4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{u(this,Oo)!==null&&(clearTimeout(u(this,Oo)),H(this,Oo,null)),z(this,ti,H2).call(this)});ae(this,"wheel",n=>{u(this,tm).wheel(n)});ae(this,"keydown",n=>{n.context="Scroll",u(this,Ro).onKeydown(n)});ae(this,"dblclick",n=>{const e=Ot(n),t=u(this,Ro).getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()});H(this,Ro,n),H(this,tm,new qg(n))}activate(n){n||z(this,ti,j2).call(this)}setFeatures(n){n.displayTooltip!==void 0&&H(this,nm,n.displayTooltip)}init(){}},Ro=new WeakMap,Wu=new WeakMap,$u=new WeakMap,tm=new WeakMap,Oo=new WeakMap,nm=new WeakMap,Ku=new WeakMap,ti=new WeakSet,WP=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Re.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e},X4=function(n,e){z(this,ti,j2).call(this);const t=u(this,Ro).getLayerGroupByDivId(e),i=z(this,ti,WP).call(this,t);if(i===void 0)return void Re.warn("No view layer to start scroll");const a=i.getViewController();a.isPlaying()&&a.stop();const o=i.displayToPlanePos(n),c=a.getPositionFromPlanePoint(o);a.setCurrentPosition(c),H(this,Wu,!0),H(this,$u,n)},W4=function(n,e){if(!u(this,Wu))return void(u(this,nm)&&z(this,ti,$P).call(this,n,e));const t=u(this,Ro).getLayerGroupByDivId(e),i=t.getPositionHelper(),a=n.getY()-u(this,$u).getY(),o=Math.abs(a)>15,c=n.getX()-u(this,$u).getX(),l=Math.abs(c)>15;o&&t.canScroll()?a>0?i.decrementPositionAlongScroll():i.incrementPositionAlongScroll():l&&t.moreThanOne(3)&&(c>0?i.incrementPosition(3):i.decrementPosition(3)),(l||o)&&H(this,$u,n)},H2=function(){u(this,Wu)&&H(this,Wu,!1)},$P=function(n,e){const t=u(this,Ro).getLayerGroupByDivId(e);H(this,Ku,e),t.showTooltip(n)},j2=function(){u(this,Ku)!==void 0&&(u(this,Ro).getLayerGroupByDivId(u(this,Ku)).removeTooltipDiv(),H(this,Ku,void 0))},gR),ZoomAndPan:(pR=class{constructor(n){V(this,ei);V(this,Fs);V(this,ks,!1);V(this,Us);V(this,Ns);V(this,_h);V(this,Mh);V(this,jy,n=>{H(this,ks,!0),H(this,Us,n[0]),H(this,Ns,!1),H(this,_h,new nn(n[0],n[1])),H(this,Mh,u(this,_h).getMidpoint())});V(this,Yy,(n,e)=>{if(!u(this,ks))return;H(this,Ns,!0);const t=new nn(n[0],n[1]).getLength()/u(this,_h).getLength(),i=u(this,Fs).getLayerGroupByDivId(e),a=i.getPositionHelper();if(t===1){const o=n[0].getY()-u(this,Us).getY();if(Math.abs(o)<15)return;i.canScroll()&&(o>0?a.incrementPositionAlongScroll():a.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&u(this,Mh)!==void 0){const c=z(this,ei,Bg).call(this,i);if(c===void 0)return void Re.warn("No view layer to do touch zoom/pan");const l=c.getViewController(),h=c.displayToMainPlanePos(u(this,Mh)),f=l.getPlanePositionFromPlanePoint(h);i.addScale(o,f),i.draw()}}});ae(this,"mousedown",n=>{const e=Yn(n);z(this,ei,$4).call(this,e)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,ei,K4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,Ns)){const e=Yn(n),t=Ot(n);z(this,ei,Z4).call(this,e,t.groupDivId)}z(this,ei,Y2).call(this)});ae(this,"mouseout",n=>{z(this,ei,Y2).call(this)});ae(this,"touchstart",n=>{const e=ir(n);e.length===1?z(this,ei,$4).call(this,e[0]):e.length===2&&u(this,jy).call(this,e)});ae(this,"touchmove",n=>{const e=ir(n),t=Ot(n);e.length===1?z(this,ei,K4).call(this,e[0],t.groupDivId):e.length===2&&u(this,Yy).call(this,e,t.groupDivId)});ae(this,"touchend",n=>{if(!u(this,Ns)){const e=Yn(n),t=Ot(n);z(this,ei,Z4).call(this,e,t.groupDivId)}z(this,ei,Y2).call(this)});ae(this,"wheel",n=>{n.preventDefault();const e=-n.deltaY/500,t=Ot(n),i=Yn(n),a=u(this,Fs).getLayerGroupByDivId(t.groupDivId),o=z(this,ei,Bg).call(this,a);if(o===void 0)return void Re.warn("No view layer to do wheel zoom/pan");const c=o.getViewController(),l=o.displayToMainPlanePos(i),h=c.getPlanePositionFromPlanePoint(l);a.addScale(e,h),a.draw()});ae(this,"keydown",n=>{n.context="ZoomAndPan",u(this,Fs).onKeydown(n)});H(this,Fs,n)}activate(n){}init(){}setFeatures(n){}},Fs=new WeakMap,ks=new WeakMap,Us=new WeakMap,Ns=new WeakMap,_h=new WeakMap,Mh=new WeakMap,ei=new WeakSet,Bg=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Re.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e},$4=function(n){H(this,ks,!0),H(this,Us,n),H(this,Ns,!1)},jy=new WeakMap,K4=function(n,e){if(!u(this,ks))return;H(this,Ns,!0);const t=n.getX()-u(this,Us).getX(),i=n.getY()-u(this,Us).getY(),a=u(this,Fs).getLayerGroupByDivId(e),o=z(this,ei,Bg).call(this,a);if(o===void 0)return void Re.warn("No view layer to update zoom/pan");const c=o.getViewController(),l=o.displayToPlaneScale(new Le(t,i)),h=c.getOffset3DFromPlaneOffset({x:l.getX(),y:l.getY()});a.addTranslation({x:h.getX(),y:h.getY(),z:h.getZ()}),a.draw(),H(this,Us,n)},Yy=new WeakMap,Z4=function(n,e){const t=u(this,Fs).getLayerGroupByDivId(e),i=z(this,ei,Bg).call(this,t);if(i===void 0)return void Re.warn("No view layer to set current position");const a=i.getViewController(),o=i.displayToPlanePos(n),c=a.getPositionFromPlanePoint(o);a.setCurrentPosition(c)},Y2=function(){u(this,ks)&&H(this,ks,!1)},pR),Opacity:(mR=class{constructor(n){V(this,ka);V(this,Fh);V(this,Zu,!1);V(this,kh);V(this,im);ae(this,"mousedown",n=>{const e=Yn(n);z(this,ka,J4).call(this,e)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,ka,e3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{z(this,ka,X2).call(this)});ae(this,"mouseout",n=>{z(this,ka,X2).call(this)});ae(this,"touchstart",n=>{const e=ir(n);z(this,ka,J4).call(this,e[0])});ae(this,"touchmove",n=>{const e=ir(n),t=Ot(n);z(this,ka,e3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{z(this,ka,X2).call(this)});ae(this,"wheel",n=>{u(this,im).wheel(n)});ae(this,"keydown",n=>{n.context="Opacity",u(this,Fh).onKeydown(n)});H(this,Fh,n),H(this,im,new qg(n))}activate(n){}init(){}setFeatures(n){}},Fh=new WeakMap,Zu=new WeakMap,kh=new WeakMap,im=new WeakMap,ka=new WeakSet,J4=function(n){H(this,Zu,!0),H(this,kh,n)},e3=function(n,e){if(!u(this,Zu))return;const t=n.getX()-u(this,kh).getX();if(Math.abs(t)>15){const i=u(this,Fh).getLayerGroupByDivId(e).getActiveLayer(),a=i.getOpacity();i.setOpacity(a+t/200),i.draw(),H(this,kh,n)}},X2=function(){u(this,Zu)&&H(this,Zu,!1)},mR),Draw:(SR=class{constructor(n){V(this,lt);V(this,Pn);V(this,rm);V(this,Po);V(this,ba,!1);V(this,Uh,null);V(this,Ca,null);V(this,Ti,null);V(this,am);V(this,Zn,[]);V(this,gr,null);V(this,om,!0);V(this,Nh);V(this,qh);V(this,Bh);V(this,Gh);V(this,Da);V(this,Vh,!1);V(this,Hr,{});V(this,zh,!1);V(this,Qh,[]);ae(this,"mousedown",n=>{if(u(this,ba))return;const e=Yn(n),t=Ot(n);z(this,lt,t3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{if(!u(this,ba))return;const e=Yn(n),t=Ot(n);z(this,lt,iL).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,ba))return;const e=Ot(n);z(this,lt,rL).call(this,e.groupDivId)});ae(this,"dblclick",n=>{if(u(this,Ca)&&u(this,Ca).getNPoints()!==void 0||!u(this,ba))return;if(u(this,Zn).length===0)return void Re.warn("Draw dblclick but no points...");const e=Ot(n),t=u(this,Pn).getLayerGroupByDivId(e.groupDivId);z(this,lt,i3).call(this,u(this,Zn),t),z(this,lt,$2).call(this)});ae(this,"touchstart",n=>{if(u(this,ba))return;const e=ir(n),t=Ot(n);z(this,lt,t3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{if(!u(this,ba))return;const e=Ot(n),t=ir(n),i=u(this,Pn).getLayerGroupByDivId(e.groupDivId),a=z(this,lt,W2).call(this,i);if(a===void 0)return void Re.warn("No view layer to handle touch move");const o=a.displayToPlanePos(t[0]);(Math.abs(o.getX()-u(this,gr).getX())>0||Math.abs(o.getY()-u(this,gr).getY())>0)&&(u(this,Zn).length!==1&&u(this,Zn).pop(),H(this,gr,o),u(this,Zn).push(u(this,gr)),u(this,Zn).length<u(this,Ca).getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{u(this,Zn).push(u(this,gr))},u(this,Ca).getTimeout())),z(this,lt,n3).call(this,u(this,Zn),i))});ae(this,"touchend",n=>{this.dblclick(n)});ae(this,"wheel",n=>{u(this,om)&&u(this,rm).wheel(n)});ae(this,"keydown",n=>{u(this,ba)||(n.context="Draw",u(this,Pn).onKeydown(n));const e=u(this,Da).getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=u(this,Pn).getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void Re.warn("No draw layer to handle key down");const i=t.getDrawController(),a=new Y6(e,i);u(this,Pn).addToUndoStack(a),a.execute(),u(this,Da).onMouseOutShapeGroup()}if(n.key==="Escape"&&u(this,Ti)!==null){const t=u(this,Ti).getLayer();u(this,Ti).destroy(),H(this,Ti,null),z(this,lt,$2).call(this),t.draw()}});V(this,Ju,n=>{if(u(this,Hr)[n.type]!==void 0)for(let e=0;e<u(this,Hr)[n.type].length;++e)u(this,Hr)[n.type][e](n)});H(this,Pn,n),H(this,rm,new qg(n)),H(this,Da,new TH(n,u(this,Ju))),H(this,Po,n.getStyle())}activate(n){n||u(this,Da).onMouseOutShapeGroup();const e=u(this,Pn).getDrawLayers();for(const t of e)t!==void 0&&z(this,lt,a3).call(this,t,n);u(this,Pn).addEventListener("drawlayeradd",t=>{const i=u(this,Pn).getDrawLayers(function(a){return a.getId()===t.layerid});i.length===1&&z(this,lt,a3).call(this,i[0],n)})}setOptions(n){H(this,Uh,n)}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&H(this,Vh,n.autoShapeColour),n.shapeColour!==void 0&&(u(this,Po).setLineColour(n.shapeColour),H(this,Vh,!1)),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");H(this,am,n.shapeName)}n.mouseOverCursor!==void 0&&u(this,Da).storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&H(this,om,n.withScroll),n.refMetaValidator!==void 0&&H(this,Nh,n.refMetaValidator),n.drawMetaValidator!==void 0&&H(this,qh,n.drawMetaValidator),n.annotationGroupMeta!==void 0&&H(this,Bh,n.annotationGroupMeta),n.annotationMeta!==void 0&&H(this,Gh,n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){u(this,Hr)[n]===void 0&&(u(this,Hr)[n]=[]),u(this,Hr)[n].push(e)}removeEventListener(n,e){if(u(this,Hr)[n]!==void 0)for(let t=0;t<u(this,Hr)[n].length;++t)u(this,Hr)[n][t]===e&&u(this,Hr)[n].splice(t,1)}hasShape(n){return u(this,Uh)[n]!==void 0}},Pn=new WeakMap,rm=new WeakMap,Po=new WeakMap,ba=new WeakMap,Uh=new WeakMap,Ca=new WeakMap,Ti=new WeakMap,am=new WeakMap,Zn=new WeakMap,gr=new WeakMap,om=new WeakMap,Nh=new WeakMap,qh=new WeakMap,Bh=new WeakMap,Gh=new WeakMap,Da=new WeakMap,Vh=new WeakMap,Hr=new WeakMap,zh=new WeakMap,Qh=new WeakMap,lt=new WeakSet,KP=function(n){let e=!0;if(u(this,Nh)!==void 0){const t=n.getActiveViewLayer().getDataId(),i=u(this,Pn).getData(t).image.getMeta();e=u(this,Nh).call(this,i)}return e},ZP=function(n){let e=!0;if(u(this,qh)!==void 0){const t=n.getDataId(),i=u(this,Pn).getData(t).annotationGroup.getMeta();e=u(this,qh).call(this,i)}return e},JP=function(n){const e=n.getActiveViewLayer().getDataId(),t=u(this,Pn).createAnnotationData(e);if(u(this,Bh)!==void 0)for(const a of u(this,Bh))t.annotationGroup.setMetaValue(a.concept,a.value);u(this,Pn).addAndRenderAnnotationData(t,n.getDivId(),e);const i=n.getActiveDrawLayer();return i.setShapeHandler(u(this,Da)),n.setActiveLayerByDataId(i.getDataId()),i},t3=function(n,e){const t=u(this,Pn).getLayerGroupByDivId(e);let i=t.getActiveDrawLayer();if(i===void 0){if(!z(this,lt,KP).call(this,t))return void u(this,Ju).call(this,{type:"warn",message:"Cannot create draw layer, reference meta is invalid"});i=z(this,lt,JP).call(this,t)}else if(!z(this,lt,ZP).call(this,i))return void u(this,Ju).call(this,{type:"warn",message:"Cannot create draw, data meta is invalid"});const a=i.getDrawController().getAnnotationGroup(),o=i.getKonvaStage();if(u(this,Po).setZoomScale(o.scale()),a.isEditable()){const c=o.getIntersection({x:n.getX(),y:n.getY()});c?z(this,lt,nL).call(this,i,c):z(this,lt,eL).call(this,t,n)}},W2=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Re.warn("No draw layer to do draw")},eL=function(n,e){u(this,Da).disableAndResetEditor(),z(this,lt,tL).call(this);const t=z(this,lt,W2).call(this,n);t!==void 0?(H(this,gr,t.displayToPlanePos(e)),u(this,Zn).push(u(this,gr))):Re.warn("No view layer to start shape")},tL=function(){H(this,ba,!0),H(this,Ca,new(u(this,Uh))[u(this,am)]),H(this,Zn,[])},$2=function(){H(this,ba,!1),H(this,Zn,[])},nL=function(n,e){let t=e.getParent();e instanceof Ne.default.Tag&&(t=t.getParent());const i=t.find(".shape")[0];i instanceof Ne.default.Shape&&(u(this,Ju).call(this,{type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),u(this,Da).setEditorShape(i,n))},iL=function(n,e){const t=u(this,Pn).getLayerGroupByDivId(e),i=z(this,lt,W2).call(this,t);if(i===void 0)return void Re.warn("No view layer to update shape");const a=i.displayToPlanePos(n);(Math.abs(a.getX()-u(this,gr).getX())>0||Math.abs(a.getY()-u(this,gr).getY())>0)&&(u(this,zh)&&u(this,Zn).pop(),H(this,gr,a),H(this,zh,!0),u(this,Zn).push(u(this,gr)),z(this,lt,n3).call(this,u(this,Zn),t))},rL=function(n){if(u(this,Zn).length!==0){if(u(this,Zn).length===u(this,Ca).getNPoints()){const e=u(this,Pn).getLayerGroupByDivId(n);z(this,lt,i3).call(this,u(this,Zn),e),z(this,lt,$2).call(this)}H(this,zh,!1)}else Re.warn("Draw mouseup but no points...")},n3=function(n,e){u(this,Ti)&&(u(this,Ti).destroy(),H(this,Ti,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Re.warn("No draw layer to handle new points");const i=t.getDrawController(),a=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Re.warn("No view layer to handle new points");const c=o.getViewController();if(u(this,Vh)){const f=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],g=t.getId(),S=g.substring(g.length-1),b=f[parseInt(S,10)-1];b!==void 0&&u(this,Po).setLineColour(b)}const l=new tl,h=i.getAnnotationGroup().getColour();l.colour=h!==void 0?h:u(this,Po).getLineColour(),l.init(c),u(this,Ca).setAnnotationMathShape(l,n),H(this,Ti,u(this,Ca).createShapeGroup(l,u(this,Po))),t.setLabelVisibility(u(this,Ti)),u(this,Ti).getChildren(Mc)[0].listening(!1),a.listening(!1),a.add(u(this,Ti)),a.draw()},i3=function(n,e){u(this,Ti)&&(u(this,Ti).destroy(),H(this,Ti,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Re.warn("No draw layer to handle final points");const i=t.getKonvaLayer(),a=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Re.warn("No view layer to handle final points");const c=o.getViewController(),l=new tl,h=a.getAnnotationGroup().getColour();if(l.colour=h!==void 0?h:u(this,Po).getLineColour(),l.init(c),u(this,Gh)!==void 0)for(const g of u(this,Gh))l.addMetaItem(g.concept,g.value);u(this,Ca).setAnnotationMathShape(l,n);const f=new N2(l,a);u(this,Pn).addToUndoStack(f),f.execute(),i.listening(!0)},r3=function(n){const e=n.getId();return u(this,Qh)[e]===void 0&&(u(this,Qh)[e]=()=>{n.activateCurrentPositionShapes(!0)}),u(this,Qh)[e]},a3=function(n,e){n.setShapeHandler(u(this,Da)),n.activateCurrentPositionShapes(e),e?u(this,Pn).addEventListener("positionchange",z(this,lt,r3).call(this,n)):u(this,Pn).removeEventListener("positionchange",z(this,lt,r3).call(this,n))},Ju=new WeakMap,SR),Brush:HH,Filter:(yR=class{constructor(n){V(this,Hh);V(this,Yi,null);V(this,lc,0);V(this,jh,new Kr);ae(this,"keydown",n=>{n.context="Filter",u(this,Hh).onKeydown(n)});V(this,e0,n=>{u(this,jh).fireEvent(n)});H(this,Hh,n)}activate(n){for(const e in u(this,Yi))n?(u(this,Yi)[e].addEventListener("filterrun",u(this,e0)),u(this,Yi)[e].addEventListener("filterundo",u(this,e0))):(u(this,Yi)[e].removeEventListener("filterrun",u(this,e0)),u(this,Yi)[e].removeEventListener("filterundo",u(this,e0)))}setOptions(n){H(this,Yi,{});for(const e in n)u(this,Yi)[e]=new n[e](u(this,Hh))}getOptionsType(){return"instance"}init(){for(const n in u(this,Yi))u(this,Yi)[n].init()}getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){u(this,jh).add(n,e)}removeEventListener(n,e){u(this,jh).remove(n,e)}getSelectedFilter(){return u(this,lc)}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");u(this,lc)&&u(this,lc).activate(!1),H(this,lc,u(this,Yi)[n.filterName]),u(this,lc).activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return u(this,Yi)}hasFilter(n){return u(this,Yi)[n]}},Hh=new WeakMap,Yi=new WeakMap,lc=new WeakMap,jh=new WeakMap,e0=new WeakMap,yR),Floodfill:(vR=class{constructor(n){V(this,En);V(this,Ta);V(this,Xy,5);V(this,Wy,0);V(this,$y,2e3);V(this,cc,null);V(this,t0,null);V(this,qs,10);V(this,Lo,null);V(this,n0,!1);V(this,wa);V(this,Ka);V(this,i0,null);V(this,Yh,[]);V(this,sm,!1);V(this,uc,new Ay);V(this,lm,(n,e)=>{const t=u(this,Ta).getLayerGroupByDivId(e),i=z(this,En,o3).call(this,t);if(i===void 0)return void Re.warn("No view layer to get index");const a=i.displayToPlaneIndex(n);return{x:a.get(0),y:a.get(1)}});ae(this,"mousedown",n=>{const e=Yn(n),t=Ot(n);z(this,En,s3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,En,l3).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{z(this,En,K2).call(this)});ae(this,"mouseout",n=>{z(this,En,K2).call(this)});ae(this,"touchstart",n=>{const e=ir(n),t=Ot(n);z(this,En,s3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=ir(n),t=Ot(n);z(this,En,l3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{z(this,En,K2).call(this)});ae(this,"keydown",n=>{n.context="Floodfill",u(this,Ta).onKeydown(n)});H(this,Ta,n)}setExtend(n){H(this,sm,n)}getExtend(){return u(this,sm)}extend(n,e,t){if(!u(this,Ka))throw"'initialpoint' not found. User must click before use extend!";const i=t.getPositionHelper(),a=z(this,En,o3).call(this,t);if(a===void 0)return void Re.warn("No view layer to extend floodfill");const o=a.getViewController(),c=o.getCurrentIndex(),l=o.getImageSize(),h=u(this,Lo)||u(this,qs);for(let f=c.get(2),g=e||l.get(2);f<g&&z(this,En,Gg).call(this,u(this,Ka),h,t);f++)i.incrementPositionAlongScroll();o.setCurrentIndex(c);for(let f=c.get(2),g=n||0;f>g&&z(this,En,Gg).call(this,u(this,Ka),h,t);f--)i.decrementPositionAlongScroll();o.setCurrentIndex(c)}onThresholdChange(n){}activate(n){n&&(u(this,uc).setBaseScale(u(this,Ta).getBaseScale()),this.setFeatures({shapeColour:u(this,uc).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,uc).setLineColour(n.shapeColour)}},Ta=new WeakMap,Xy=new WeakMap,Wy=new WeakMap,$y=new WeakMap,cc=new WeakMap,t0=new WeakMap,qs=new WeakMap,Lo=new WeakMap,n0=new WeakMap,wa=new WeakMap,Ka=new WeakMap,i0=new WeakMap,Yh=new WeakMap,sm=new WeakMap,uc=new WeakMap,En=new WeakSet,o3=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Re.warn("No draw layer to do floodfill")},lm=new WeakMap,aL=function(n,e,t){H(this,Yh,[]);const i={data:u(this,cc).data,width:u(this,cc).width,height:u(this,cc).height,bytes:4};H(this,t0,S2.default.floodFill(i,n.x,n.y,e)),H(this,t0,S2.default.gaussBlurOnlyBorder(u(this,t0),u(this,Xy)));let a=S2.default.traceContours(u(this,t0));if(a=S2.default.simplifyContours(a,u(this,Wy),u(this,$y)),a.length>0&&a[0].points[0].x){if(t)return a[0].points;for(let o=0,c=a[0].points.length;o<c;o++)u(this,Yh).push(new Le(a[0].points[o].x,a[0].points[o].y));return u(this,Yh)}return[]},Gg=function(n,e,t){if(H(this,i0,z(this,En,aL).call(this,n,e,!1)),u(this,i0).length!==0){const i=t.getActiveDrawLayer();if(i===void 0)return Re.warn("No draw layer to paint border"),!1;const a=i.getDrawController(),o=new ro(u(this,i0));let c;if(u(this,wa)===void 0){H(this,wa,new tl),u(this,wa).colour=u(this,uc).getLineColour();const l=t.getViewLayerById(i.getReferenceLayerId());if(l===void 0)return Re.warn("No view layer to paint border"),!1;const h=l.getViewController();u(this,wa).init(h),u(this,wa).mathShape=o,c=new N2(u(this,wa),a)}else{const l=u(this,wa).mathShape;c=new A0(u(this,wa),{mathShape:l},{mathShape:o},a)}u(this,Ta).addToUndoStack(c),c.execute()}return u(this,i0).length!==0},s3=function(n,e){H(this,wa,void 0);const t=u(this,Ta).getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();if(a===void 0){i=t.getActiveViewLayer();const o=i.getDataId(),c=u(this,Ta).createAnnotationData(o);u(this,Ta).addAndRenderAnnotationData(c,e,o),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}else if(i=t.getViewLayerById(a.getReferenceLayerId()),i===void 0)return void Re.warn("No view layer to start floodfill");H(this,cc,i.getImageData()),u(this,cc)?(u(this,uc).setZoomScale(a.getKonvaLayer().getAbsoluteScale()),H(this,n0,!0),H(this,Ka,u(this,lm).call(this,n,e)),z(this,En,Gg).call(this,u(this,Ka),u(this,qs),t),this.onThresholdChange(u(this,qs))):Re.error("No image found")},l3=function(n,e){if(!u(this,n0))return;const t=u(this,lm).call(this,n,e);H(this,Lo,Math.round(Math.sqrt(Math.pow(u(this,Ka).x-t.x,2)+Math.pow(u(this,Ka).y-t.y,2))/2)),H(this,Lo,u(this,Lo)<u(this,qs)?u(this,qs):u(this,Lo)-u(this,qs)),z(this,En,Gg).call(this,u(this,Ka),u(this,Lo),u(this,Ta).getLayerGroupByDivId(e)),this.onThresholdChange(u(this,Lo))},K2=function(){u(this,n0)&&H(this,n0,!1)},vR),Livewire:(bR=class{constructor(n){V(this,Ni);V(this,Za);V(this,r0,!1);V(this,Xh);V(this,xa);V(this,dc,new Ay);V(this,Bs,new Ig);V(this,Io,new Ig);V(this,Gs,[]);V(this,cm,5);V(this,Vs,new XH);ae(this,"mousedown",n=>{const e=Yn(n),t=Ot(n);z(this,Ni,u3).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Yn(n),t=Ot(n);z(this,Ni,d3).call(this,e,t.groupDivId)});ae(this,"mouseout",n=>{});ae(this,"dblclick",n=>{z(this,Ni,h3).call(this)});ae(this,"touchstart",n=>{const e=ir(n),t=Ot(n);z(this,Ni,u3).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=ir(n),t=Ot(n);z(this,Ni,d3).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{});ae(this,"keydown",n=>{n.context="Livewire",u(this,Za).onKeydown(n)});H(this,Za,n)}mouseup(n){}activate(n){n&&(u(this,dc).setBaseScale(u(this,Za).getBaseScale()),this.setFeatures({shapeColour:u(this,dc).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,dc).setLineColour(n.shapeColour)}},Za=new WeakMap,r0=new WeakMap,Xh=new WeakMap,xa=new WeakMap,dc=new WeakMap,Bs=new WeakMap,Io=new WeakMap,Gs=new WeakMap,cm=new WeakMap,Ni=new WeakSet,c3=function(n){const e=n.get(1);for(let t=0;t<e;++t)u(this,Gs)[t]=[]},oL=function(){H(this,Bs,new Ig),H(this,Io,new Ig)},Vs=new WeakMap,u3=function(n,e){const t=u(this,Za).getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();i=a===void 0?t.getActiveViewLayer():t.getViewLayerById(a.getReferenceLayerId());const o=i.getViewController().getImageSize();u(this,Vs).setDimensions(o.get(0),o.get(1)),u(this,Vs).setData(i.getImageData().data);const c=i.displayToPlaneIndex(n);if(u(this,r0)){const l=Math.abs(c.get(0)-u(this,Xh).getX()),h=Math.abs(c.get(1)-u(this,Xh).getY());if(l<u(this,cm)&&h<u(this,cm))z(this,Ni,h3).call(this);else{H(this,Bs,u(this,Io)),z(this,Ni,c3).call(this,o);const f={x:c.get(0),y:c.get(1)};u(this,Vs).doTraining(f),u(this,Bs).addControlPoint(u(this,Io).getPoint(0))}}else{if(H(this,xa,void 0),H(this,r0,!0),H(this,Xh,new Le(c.get(0),c.get(1))),z(this,Ni,oL).call(this),z(this,Ni,c3).call(this,o),a===void 0){const f=i.getDataId(),g=u(this,Za).createAnnotationData(f);u(this,Za).addAndRenderAnnotationData(g,e,f),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}u(this,dc).setZoomScale(a.getKonvaLayer().getAbsoluteScale());const l={x:c.get(0),y:c.get(1)};u(this,Vs).doTraining(l);const h=new Le(c.get(0),c.get(1));u(this,Bs).addPoint(h),u(this,Bs).addControlPoint(h)}},d3=function(n,e){if(!u(this,r0))return;const t=u(this,Za).getLayerGroupByDivId(e),i=t.getActiveDrawLayer();if(i===void 0)return void Re.warn("No draw layer to update livewire");const a=t.getViewLayerById(i.getReferenceLayerId());if(a===void 0)return void Re.warn("No view layer to update livewire");const o=a.displayToPlaneIndex(n);let c={x:o.get(0),y:o.get(1)};u(this,Vs).setPoint(c);let l=[],h=!1;for(;!u(this,Gs)[c.y][c.x]&&!h;)if(l=u(this,Vs).doWork(),l.length===0)h=!0;else for(let b=0;b<l.length-1;b+=2){const m=l[b],y=l[b+1];u(this,Gs)[m.y][m.x]=y}for(H(this,Io,new Ig),h=!1;c&&!h;)u(this,Io).addPoint(new Le(c.x,c.y)),u(this,Gs)[c.y]&&u(this,Gs)[c.y][c.x]?c=u(this,Gs)[c.y][c.x]:h=!0;u(this,Io).appenPath(u(this,Bs));const f=i.getDrawController(),g=new ro(u(this,Io).pointArray);let S;if(u(this,xa)===void 0){H(this,xa,new tl),u(this,xa).colour=u(this,dc).getLineColour();const b=a.getViewController();u(this,xa).init(b),u(this,xa).mathShape=g,S=new N2(u(this,xa),f)}else{const b=u(this,xa).mathShape;S=new A0(u(this,xa),{mathShape:b},{mathShape:g},f)}u(this,Za).addToUndoStack(S),S.execute()},h3=function(){H(this,r0,!1)},bR)};var Wh,hc,un,g3,sL,lL,cL,uL,Z2,dL,hL,fL,ej,tj,CR,$h,zs,yn,p3,gL,pL,mL,m3,S3,SL,yL,vL,nj,DR,Kh,Qs,vn,y3,bL,CL,DL,v3,b3,TL,wL,xL,ij,TR,Zh,Hs,an,C3,AL,RL,OL,D3,J2,PL,LL,IL,rj,aj,wR,Jh,fc,Dn,T3,EL,_L,ML,FL,w3,kL,UL,NL,oj,xR,ef,js,Sn,qL,x3,BL,GL,A3,ey,VL,zL,sj,lj,AR,tf,Ys,on,R3,QL,HL,jL,O3,ty,YL,XL,WL,cj,uj,RR,a0,o0,nf,rf,um,OR,s0,af,dm,PR,l0,of,hm,LR;const f3={draw:{ArrowFactory:(CR=class{constructor(){V(this,un);V(this,Wh,"arrow");V(this,hc,new hu(z(this,un,hL)))}static supports(n){return n instanceof Le}getName(){return u(this,Wh)}getGroupName(){return u(this,Wh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=z(this,un,lL).call(this,e),n.referencePoints=[e[1]],n.setTextExpr(z(this,un,cL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,un,uL).call(this,n,e);t.add(i);const a=z(this,un,dL).call(this,n,e);for(const l of a)t.add(l);const o=u(this,hc).create(n,e);t.add(o);const c=z(this,un,g3).call(this,i);return t.add(u(this,hc).getConnector(c,o,e)),t}getAnchors(n,e){const t=z(this,un,sL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,un,fL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,hc).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ne.default.Group))return;const i=z(this,un,Z2).call(this,t),a=wt(t,0),o=wt(t,1),c=new Le(a.x()-i.x(),a.y()-i.y()),l=new Le(o.x()-i.x(),o.y()-i.y());n.mathShape=c,n.referencePoints=[l],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new nn(t,i),o=a.getBegin(),c=new Le(o.getX()+e.x,o.getY()+e.y),l=a.getEnd(),h=new Le(l.getX()+e.x,l.getY()+e.y);n.mathShape=c,n.referencePoints=[h],n.updateQuantification()}updateLabelContent(n,e,t){u(this,hc).updateContent(n,e)}updateConnector(n){const e=z(this,un,Z2).call(this,n),t=z(this,un,g3).call(this,e);u(this,hc).updateConnector(n,t)}},Wh=new WeakMap,hc=new WeakMap,un=new WeakSet,g3=function(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new Le(a,o)]},sL=function(n){const e=n.points(),t=n.x(),i=n.y();return[new Le(e[0]+t,e[1]+i),new Le(e[2]+t,e[3]+i)]},lL=function(n){return n[0]},cL=function(){return uu[u(this,Wh)]},uL=function(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const i=n.referencePoints[0],a=new nn(t,i),o=new Ne.default.Line({points:[t.getX(),t.getY(),i.getX(),i.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),c=Qa(a,t,20,e.getZoomScale()),l=Qa(a,i,20,e.getZoomScale());return o.hitFunc(function(h){h.beginPath(),h.moveTo(c.getBegin().getX(),c.getBegin().getY()),h.lineTo(c.getEnd().getX(),c.getEnd().getY()),h.lineTo(l.getEnd().getX(),l.getEnd().getY()),h.lineTo(l.getBegin().getX(),l.getBegin().getY()),h.closePath(),h.fillStrokeShape(o)}),o},Z2=function(n){return m2(n)},dL=function(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new nn(t,i),o=O7(a,40,20,e.getZoomScale());return[new Ne.default.Line({points:[a.getBegin().getX(),a.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]},hL=function(n){return n.mathShape},fL=function(n,e,t){const i=n.mathShape,a=n.referencePoints[0],o=new nn(i,a),c=e.getParent();if(!(c instanceof Ne.default.Group))return;const l=z(this,un,Z2).call(this,c);l.position({x:0,y:0}),l.points([i.getX(),i.getY(),a.getX(),a.getY()]);const h=c.getChildren(function(y){return y.name()==="shape-triangle"})[0];if(!(h instanceof Ne.default.Line))return;const f=wt(c,0),g=wt(c,1);switch(e.id()){case"anchor0":f.x(e.x()),f.y(e.y());break;case"anchor1":g.x(e.x()),g.y(e.y());break;default:Re.error("Unhandled anchor id: "+e.id())}const S=O7(o,40,20,t.getZoomScale());h.position({x:0,y:0}),h.points([o.getBegin().getX(),o.getBegin().getY(),S.getBegin().getX(),S.getBegin().getY(),S.getEnd().getX(),S.getEnd().getY()]);const b=Qa(o,i,20,t.getZoomScale()),m=Qa(o,a,20,t.getZoomScale());l.hitFunc(function(y){y.beginPath(),y.moveTo(b.getBegin().getX(),b.getBegin().getY()),y.lineTo(b.getEnd().getX(),b.getEnd().getY()),y.lineTo(m.getEnd().getX(),m.getEnd().getY()),y.lineTo(m.getBegin().getX(),m.getBegin().getY()),y.closePath(),y.fillStrokeShape(l)})},ej=function(n,e){},tj=function(n,e){},CR),CircleFactory:(DR=class{constructor(){V(this,yn);V(this,$h,"circle");V(this,zs,new hu(z(this,yn,SL)))}static supports(n){return n instanceof Au}getName(){return u(this,$h)}getGroupName(){return u(this,$h)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=z(this,yn,pL).call(this,e),n.setTextExpr(z(this,yn,mL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,yn,m3).call(this,n,e);t.add(z(this,yn,m3).call(this,n,e));const a=u(this,zs).create(n,e);t.add(u(this,zs).create(n,e));const o=z(this,yn,p3).call(this,i);return t.add(u(this,zs).getConnector(o,a,e)),t}getAnchors(n,e){const t=z(this,yn,gL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Ne.default.Group))return;const t=wt(e,0),i=wt(e,1),a=wt(e,2),o=wt(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:Re.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,yn,yL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,zs).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=new Le(t.getCenter().getX(),t.getCenter().getY()),a=new Le(e.x(),e.y()),o=i.getDistance(a);n.mathShape=new Au(i,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new Le(i.getX()+e.x,i.getY()+e.y);n.mathShape=new Au(a,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,zs).updateContent(n,e)}updateConnector(n){const e=z(this,yn,S3).call(this,n),t=z(this,yn,p3).call(this,e);u(this,zs).updateConnector(n,t)}},$h=new WeakMap,zs=new WeakMap,yn=new WeakSet,p3=function(n){const e=n.x(),t=n.y(),i=n.radius()*Math.sqrt(2)/2;return[new Le(e-i,t-i),new Le(e+i,t-i),new Le(e-i,t+i),new Le(e+i,t+i)]},gL=function(n){const e=n.x(),t=n.y(),i=n.radius();return[new Le(e-i,t),new Le(e+i,t),new Le(e,t+i),new Le(e,t-i)]},pL=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),i=Math.round(Math.sqrt(e*e+t*t));return new Au(n[0],i)},mL=function(){return uu[u(this,$h)]},m3=function(n,e){const t=n.mathShape;return new Ne.default.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},S3=function(n){const e=n.getChildren(Mc)[0];if(e instanceof Ne.default.Circle)return e},SL=function(n){const e=n.mathShape,t=e.getCenter(),i=e.getRadius();return new Le(t.getX()-i,t.getY()+i)},yL=function(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getRadius(),c=e.getParent();if(!(c instanceof Ne.default.Group))return;z(this,yn,S3).call(this,c).radius(o);const l=wt(c,0),h=wt(c,1),f=wt(c,2),g=wt(c,3),S=h.x()<l.x()?-1:1,b=g.y()<f.y()?1:-1;switch(e.id()){case"anchor0":l.x(e.x()),h.x(a.getX()+S*o),f.y(a.getY()+o),g.y(a.getY()-o);break;case"anchor1":h.x(e.x()),l.x(a.getX()-S*o),f.y(a.getY()+o),g.y(a.getY()-o);break;case"anchor2":f.y(e.y()),l.x(a.getX()-o),h.x(a.getX()+o),g.y(a.getY()-b*o);break;case"anchor3":g.y(e.y()),l.x(a.getX()-o),h.x(a.getX()+o),f.y(a.getY()+b*o);break;default:Re.error("Unhandled anchor id: "+e.id())}},vL=function(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new Ne.default.Group;o.name("shadow");const c=t.getRound();for(let l=0;l<c.length;++l){const h=c[l],f=h[0][0],g=h[0][1],S=h[1][0],b=new Ne.default.Rect({x:f-i,y:g-a,width:S-f,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(b)}return o},nj=function(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=z(this,yn,vL).call(this,n,e);e.add(i),i.moveToBottom()}},DR),EllipseFactory:(TR=class{constructor(){V(this,vn);V(this,Kh,"ellipse");V(this,Qs,new hu(z(this,vn,TL)))}static supports(n){return n instanceof xu}getName(){return u(this,Kh)}getGroupName(){return u(this,Kh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=z(this,vn,CL).call(this,e),n.setTextExpr(z(this,vn,DL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,vn,v3).call(this,n,e);t.add(z(this,vn,v3).call(this,n,e));const a=u(this,Qs).create(n,e);t.add(u(this,Qs).create(n,e));const o=z(this,vn,y3).call(this,i);return t.add(u(this,Qs).getConnector(o,a,e)),t}getAnchors(n,e){const t=z(this,vn,bL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Ne.default.Group))return;const t=wt(e,0),i=wt(e,1),a=wt(e,2),o=wt(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:Re.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,vn,wL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,Qs).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=t.getCenter();let a=t.getA(),o=t.getB();switch(e.id()){case"anchor0":a=i.getX()-e.x();break;case"anchor1":a=e.x()-i.getX();break;case"anchor2":o=e.y()-i.getY();break;case"anchor3":o=i.getY()-e.y();break;default:Re.error("Unhandled anchor id: "+e.id())}n.mathShape=new xu(i,Math.abs(a),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new Le(i.getX()+e.x,i.getY()+e.y);n.mathShape=new xu(a,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Qs).updateContent(n,e)}updateConnector(n){const e=z(this,vn,b3).call(this,n),t=z(this,vn,y3).call(this,e);u(this,Qs).updateConnector(n,t)}},Kh=new WeakMap,Qs=new WeakMap,vn=new WeakSet,y3=function(n){const e=n.x(),t=n.y(),i=n.radiusX()*Math.sqrt(2)/2,a=n.radiusY()*Math.sqrt(2)/2;return[new Le(e-i,t-a),new Le(e+i,t-a),new Le(e-i,t+a),new Le(e+i,t+a)]},bL=function(n){const e=n.x(),t=n.y(),i=n.radius();return[new Le(e-i.x,t),new Le(e+i.x,t),new Le(e,t+i.y),new Le(e,t-i.y)]},CL=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new xu(n[0],e,t)},DL=function(){return uu[u(this,Kh)]},v3=function(n,e){const t=n.mathShape,i=t.getCenter(),a={x:t.getA(),y:t.getB()};return new Ne.default.Ellipse({x:i.getX(),y:i.getY(),radius:a,radiusX:a.x,radiusY:a.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},b3=function(n){const e=n.getChildren(Mc)[0];if(e instanceof Ne.default.Ellipse)return e},TL=function(n){const e=n.mathShape,t=e.getCenter();return new Le(t.getX()-e.getA(),t.getY()+e.getB())},wL=function(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getA(),c=i.getB(),l=e.getParent();if(!(l instanceof Ne.default.Group))return;z(this,vn,b3).call(this,l).radius({x:o,y:c});const h=wt(l,0),f=wt(l,1),g=wt(l,2),S=wt(l,3),b=f.x()<h.x()?-1:1,m=S.y()<g.y()?1:-1;switch(e.id()){case"anchor0":h.x(e.x()),f.x(a.getX()+b*o),g.y(a.getY()+c),S.y(a.getY()-c);break;case"anchor1":f.x(e.x()),h.x(a.getX()-b*o),g.y(a.getY()+c),S.y(a.getY()-c);break;case"anchor2":g.y(e.y()),h.x(a.getX()-o),f.x(a.getX()+o),S.y(a.getY()-m*c);break;case"anchor3":S.y(e.y()),h.x(a.getX()-o),f.x(a.getX()+o),g.y(a.getY()+m*c);break;default:Re.error("Unhandled anchor id: "+e.id())}},xL=function(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new Ne.default.Group;o.name("shadow");const c=t.getRound();for(let l=0;l<c.length;++l){const h=c[l],f=h[0][0],g=h[0][1],S=h[1][0],b=new Ne.default.Rect({x:f-i,y:g-a,width:S-f,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(b)}return o},ij=function(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=z(this,vn,xL).call(this,n,e);e.add(i),i.moveToBottom()}},TR),ProtractorFactory:(wR=class{constructor(){V(this,an);V(this,Zh,"protractor");V(this,Hs,new hu(z(this,an,LL)))}static supports(n){return n instanceof wu}getName(){return u(this,Zh)}getGroupName(){return u(this,Zh)+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=z(this,an,RL).call(this,e),n.setTextExpr(z(this,an,OL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,i=new Ne.default.Group;i.name(this.getGroupName()),i.visible(!0),i.id(n.trackingUid);const a=z(this,an,D3).call(this,n,e);if(i.add(z(this,an,D3).call(this,n,e)),t.getLength()===this.getNPoints()){const o=z(this,an,PL).call(this,n,e);for(const h of o)i.add(h);const c=u(this,Hs).create(n,e);i.add(u(this,Hs).create(n,e));const l=z(this,an,C3).call(this,a);i.add(u(this,Hs).getConnector(l,c,e))}return i}getAnchors(n,e){const t=z(this,an,AL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,an,IL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,Hs).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ne.default.Group))return;const i=z(this,an,J2).call(this,t),a=wt(t,0),o=wt(t,1),c=wt(t,2),l=new Le(a.x()-i.x(),a.y()-i.y()),h=new Le(o.x()-i.x(),o.y()-i.y()),f=new Le(c.x()-i.x(),c.y()-i.y());n.mathShape=new wu([l,h,f]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<3;++a)i.push(new Le(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new wu(i),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Hs).updateContent(n,e)}updateConnector(n){const e=z(this,an,J2).call(this,n),t=z(this,an,C3).call(this,e);u(this,Hs).updateConnector(n,t)}},Zh=new WeakMap,Hs=new WeakMap,an=new WeakSet,C3=function(n){const e=n.points(),t=n.x(),i=n.y();return[new Le(e[2]+t,e[3]+i)]},AL=function(n){const e=n.points(),t=n.x(),i=n.y();return[new Le(e[0]+t,e[1]+i),new Le(e[2]+t,e[3]+i),new Le(e[4]+t,e[5]+i)]},RL=function(n){return new wu(n)},OL=function(){return uu[u(this,Zh)]},D3=function(n,e){const t=n.mathShape,i=[];for(let o=0;o<t.getLength();++o)i.push(t.getPoint(o).getX()),i.push(t.getPoint(o).getY());const a=new Ne.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&a.hitFunc(function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(a)}),a},J2=function(n){return m2(n)},PL=function(n,e){const t=n.mathShape,i=new nn(t.getPoint(0),t.getPoint(1)),a=new nn(t.getPoint(1),t.getPoint(2));let o=k4(i,a),c=i.getInclination();o>180&&(o=360-o,c+=o);const l=33*Math.min(i.getLength(),a.getLength())/100;return[new Ne.default.Arc({innerRadius:l,outerRadius:l,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-c,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]},LL=function(n){const e=n.mathShape,t=new nn(e.getPoint(0),e.getPoint(1)),i=new nn(e.getPoint(1),e.getPoint(2)),a=(t.getMidpoint().getX()+i.getMidpoint().getX())/2,o=(t.getMidpoint().getY()+i.getMidpoint().getY())/2;return new Le(a,o)},IL=function(n,e,t){const i=n.mathShape,a=new nn(i.getPoint(0),i.getPoint(1)),o=new nn(i.getPoint(1),i.getPoint(2)),c=e.getParent();if(!(c instanceof Ne.default.Group))return;const l=z(this,an,J2).call(this,c);l.position({x:0,y:0}),l.points([i.getPoint(0).getX(),i.getPoint(0).getY(),i.getPoint(1).getX(),i.getPoint(1).getY(),i.getPoint(2).getX(),i.getPoint(2).getY()]);const h=c.getChildren(function(D){return D.name()==="shape-arc"})[0];if(!(h instanceof Ne.default.Arc))return;const f=wt(c,0),g=wt(c,1),S=wt(c,2);switch(e.id()){case"anchor0":f.x(e.x()),f.y(e.y());break;case"anchor1":g.x(e.x()),g.y(e.y());break;case"anchor2":S.x(e.x()),S.y(e.y())}let b=k4(a,o),m=a.getInclination();b>180&&(b=360-b,m+=b);const y=33*Math.min(a.getLength(),o.getLength())/100;h.innerRadius(y),h.outerRadius(y),h.angle(b),h.rotation(-m);const v={x:g.x(),y:g.y()};h.position(v),l.hitFunc(function(D){D.beginPath(),D.moveTo(i.getPoint(0).getX(),i.getPoint(0).getY()),D.lineTo(i.getPoint(1).getX(),i.getPoint(1).getY()),D.lineTo(i.getPoint(2).getX(),i.getPoint(2).getY()),D.closePath(),D.fillStrokeShape(l)})},rj=function(n,e){},aj=function(n,e){},wR),RectangleFactory:(xR=class{constructor(){V(this,Dn);V(this,Jh,"rectangle");V(this,fc,new hu(z(this,Dn,kL)))}static supports(n){return n instanceof Tu}getName(){return u(this,Jh)}getGroupName(){return u(this,Jh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=z(this,Dn,_L).call(this,e),n.setTextExpr(z(this,Dn,ML).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,Dn,FL).call(this,n,e);t.add(i);const a=u(this,fc).create(n,e);t.add(a);const o=z(this,Dn,T3).call(this,i);return t.add(u(this,fc).getConnector(o,a,e)),t}getAnchors(n,e){const t=z(this,Dn,EL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,Dn,UL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,fc).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ne.default.Group))return;const i=wt(t,0),a=wt(t,2),o=new Le(i.x(),i.y()),c=new Le(a.x(),a.y());n.mathShape=new Tu(o,c),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new Le(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),c=new Le(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Tu(a,c),n.updateQuantification()}updateLabelContent(n,e,t){u(this,fc).updateContent(n,e)}updateConnector(n){const e=z(this,Dn,w3).call(this,n),t=z(this,Dn,T3).call(this,e);u(this,fc).updateConnector(n,t)}},Jh=new WeakMap,fc=new WeakMap,Dn=new WeakSet,T3=function(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new Le(e+i/2,t),new Le(e,t+a/2),new Le(e+i/2,t+a),new Le(e+i,t+a/2)]},EL=function(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new Le(e,t),new Le(e+i,t),new Le(e+i,t+a),new Le(e,t+a)]},_L=function(n){return new Tu(n[0],n[1])},ML=function(){return uu[u(this,Jh)]},FL=function(n,e){const t=n.mathShape;return new Ne.default.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},w3=function(n){const e=n.getChildren(Mc)[0];if(e instanceof Ne.default.Rect)return e},kL=function(n){const e=n.mathShape;return new Le(e.getBegin().getX(),e.getEnd().getY())},UL=function(n,e,t){const i=n.mathShape,a=i.getBegin(),o=e.getParent();if(!(o instanceof Ne.default.Group))return;const c=z(this,Dn,w3).call(this,o);c.position({x:a.getX(),y:a.getY()}),c.size({width:i.getWidth(),height:i.getHeight()});const l=wt(o,0),h=wt(o,1),f=wt(o,2),g=wt(o,3);switch(e.id()){case"anchor0":l.x(e.x()),l.y(e.y()),h.y(e.y()),g.x(e.x());break;case"anchor1":h.x(e.x()),h.y(e.y()),l.y(e.y()),f.x(e.x());break;case"anchor2":f.x(e.x()),f.y(e.y()),g.y(e.y()),h.x(e.x());break;case"anchor3":g.x(e.x()),g.y(e.y()),f.y(e.y()),l.x(e.x());break;default:Re.error("Unhandled anchor id: "+e.id())}},NL=function(n,e){const t=n.mathShape.getRound(),i=t.max.getX()-t.min.getX(),a=t.max.getY()-t.min.getY();return new Ne.default.Rect({x:t.min.getX(),y:t.min.getY(),width:i,height:a,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})},oj=function(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=z(this,Dn,NL).call(this,n);e.add(i),i.moveToBottom()}},xR),RoiFactory:(AR=class{constructor(){V(this,Sn);V(this,ef,"roi");V(this,js,new hu(z(this,Sn,VL)))}static supports(n){return n instanceof ro}getName(){return u(this,ef)}getGroupName(){return u(this,ef)+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=z(this,Sn,BL).call(this,e),n.setTextExpr(z(this,Sn,GL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,Sn,A3).call(this,n,e);t.add(z(this,Sn,A3).call(this,n,e));const a=u(this,js).create(n,e);t.add(u(this,js).create(n,e));const o=z(this,Sn,x3).call(this,i);return t.add(u(this,js).getConnector(o,a,e)),t}getAnchors(n,e){const t=z(this,Sn,qL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,Sn,zL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,js).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ne.default.Group))return;const i=z(this,Sn,ey).call(this,t),a=n.mathShape.getPoints().slice(),o=new Le(e.x()-i.x(),e.y()-i.y());a[R7(e.id())]=o,n.mathShape=new ro(a),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(new Le(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new ro(i),n.updateQuantification()}updateLabelContent(n,e,t){u(this,js).updateContent(n,e)}updateConnector(n){const e=z(this,Sn,ey).call(this,n),t=z(this,Sn,x3).call(this,e);u(this,js).updateConnector(n,t)}},ef=new WeakMap,js=new WeakMap,Sn=new WeakSet,qL=function(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2)a.push(new Le(e[o]+t,e[o+1]+i));return a},x3=function(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2){const c=(o+2)%e.length,l=(e[o]+e[c])/2+t,h=(e[o+1]+e[c+1])/2+i;a.push(new Le(l,h))}return a},BL=function(n){return new ro(n)},GL=function(){return uu[u(this,ef)]},A3=function(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(t.getPoint(a).getX()),i.push(t.getPoint(a).getY());return new Ne.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})},ey=function(n){return m2(n)},VL=function(n){const e=n.mathShape;return new Le(e.getPoint(0).getX(),e.getPoint(0).getY())},zL=function(n,e,t){const i=e.getParent();if(!(i instanceof Ne.default.Group))return;const a=z(this,Sn,ey).call(this,i),o=a.points(),c=2*R7(e.id());o[c]=e.x()-a.x(),o[c+1]=e.y()-a.y(),a.points(o);const l=i.getChildren(function(h){return h.id()===e.id()})[0];l.x(e.x()),l.y(e.y())},sj=function(n,e){},lj=function(n,e){},AR),RulerFactory:(RR=class{constructor(){V(this,on);V(this,tf,"ruler");V(this,Ys,new hu(z(this,on,XL)))}static supports(n){return n instanceof nn}getName(){return u(this,tf)}getGroupName(){return u(this,tf)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=z(this,on,HL).call(this,e),n.setTextExpr(z(this,on,jL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new Ne.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=z(this,on,O3).call(this,n,e);t.add(z(this,on,O3).call(this,n,e));const a=z(this,on,YL).call(this,n,e);for(const l of a)t.add(l);const o=u(this,Ys).create(n,e);t.add(u(this,Ys).create(n,e));const c=z(this,on,R3).call(this,i);return t.add(u(this,Ys).getConnector(c,o,e)),t}getAnchors(n,e){const t=z(this,on,QL).call(this,n),i=[];for(let a=0;a<t.length;++a)i.push(du(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ne.default.Group&&(z(this,on,WL).call(this,n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&u(this,Ys).updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ne.default.Group))return;const i=z(this,on,ty).call(this,t),a=wt(t,0),o=wt(t,1),c=new Le(a.x()-i.x(),a.y()-i.y()),l=new Le(o.x()-i.x(),o.y()-i.y());n.mathShape=new nn(c,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new Le(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),c=new Le(o.getX()+e.x,o.getY()+e.y);n.mathShape=new nn(a,c),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Ys).updateContent(n,e)}updateConnector(n){const e=z(this,on,ty).call(this,n),t=z(this,on,R3).call(this,e);u(this,Ys).updateConnector(n,t)}},tf=new WeakMap,Ys=new WeakMap,on=new WeakSet,R3=function(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new Le(a,o)]},QL=function(n){const e=n.points(),t=n.x(),i=n.y();return[new Le(e[0]+t,e[1]+i),new Le(e[2]+t,e[3]+i)]},HL=function(n){return new nn(n[0],n[1])},jL=function(){return uu[u(this,tf)]},O3=function(n,e){const t=n.mathShape,i=new Ne.default.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),a=Qa(t,t.getBegin(),20,e.getZoomScale()),o=Qa(t,t.getEnd(),20,e.getZoomScale());return i.hitFunc(function(c){c.beginPath(),c.moveTo(a.getBegin().getX(),a.getBegin().getY()),c.lineTo(a.getEnd().getX(),a.getEnd().getY()),c.lineTo(o.getEnd().getX(),o.getEnd().getY()),c.lineTo(o.getBegin().getX(),o.getBegin().getY()),c.closePath(),c.fillStrokeShape(i)}),i},ty=function(n){return m2(n)},YL=function(n,e){const t=n.mathShape,i=Qa(t,t.getBegin(),20,e.getZoomScale()),a=new Ne.default.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=Qa(t,t.getEnd(),20,e.getZoomScale());return[a,new Ne.default.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]},XL=function(n){const e=n.mathShape,t=e.getBegin(),i=e.getEnd();let a=t;return t.getY()<i.getY()&&(a=i),a},WL=function(n,e,t){const i=n.mathShape,a=e.getParent();if(!(a instanceof Ne.default.Group))return;const o=z(this,on,ty).call(this,a);o.position({x:0,y:0}),o.points([i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()]);const c=a.getChildren(function(b){return b.name()==="shape-tick0"})[0];if(!(c instanceof Ne.default.Line))return;const l=a.getChildren(function(b){return b.name()==="shape-tick1"})[0];if(!(l instanceof Ne.default.Line))return;const h=wt(a,0),f=wt(a,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:Re.error("Unhandled anchor id: "+e.id())}const g=Qa(i,i.getBegin(),20,t.getZoomScale());c.position({x:0,y:0}),c.points([g.getBegin().getX(),g.getBegin().getY(),g.getEnd().getX(),g.getEnd().getY()]);const S=Qa(i,i.getEnd(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([S.getBegin().getX(),S.getBegin().getY(),S.getEnd().getX(),S.getEnd().getY()]),o.hitFunc(function(b){b.beginPath(),b.moveTo(g.getBegin().getX(),g.getBegin().getY()),b.lineTo(g.getEnd().getX(),g.getEnd().getY()),b.lineTo(S.getEnd().getX(),S.getEnd().getY()),b.lineTo(S.getBegin().getX(),S.getBegin().getY()),b.closePath(),b.fillStrokeShape(o)})},cj=function(n,e){},uj=function(n,e){},RR)},filter:{Threshold:(OR=class{constructor(n){V(this,a0);V(this,o0,new WH);V(this,nf,!0);V(this,rf,new Kr);V(this,um,n=>{u(this,rf).fireEvent(n)});H(this,a0,n)}activate(n){n&&H(this,nf,!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(u(this,o0).setMin(n.min),u(this,o0).setMax(n.max),u(this,nf)){const t=u(this,a0).getData(n.dataId).image;u(this,o0).setOriginalImage(t),H(this,nf,!1)}const e=new GC(u(this,o0),n.dataId,u(this,a0));e.onExecute=u(this,um),e.onUndo=u(this,um),e.execute(),u(this,a0).addToUndoStack(e)}addEventListener(n,e){u(this,rf).add(n,e)}removeEventListener(n,e){u(this,rf).remove(n,e)}},a0=new WeakMap,o0=new WeakMap,nf=new WeakMap,rf=new WeakMap,um=new WeakMap,OR),Sobel:(PR=class{constructor(n){V(this,s0);V(this,af,new Kr);V(this,dm,n=>{u(this,af).fireEvent(n)});H(this,s0,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new KH,t=u(this,s0).getData(n.dataId).image;e.setOriginalImage(t);const i=new GC(e,n.dataId,u(this,s0));i.onExecute=u(this,dm),i.onUndo=u(this,dm),i.execute(),u(this,s0).addToUndoStack(i)}addEventListener(n,e){u(this,af).add(n,e)}removeEventListener(n,e){u(this,af).remove(n,e)}},s0=new WeakMap,af=new WeakMap,dm=new WeakMap,PR),Sharpen:(LR=class{constructor(n){V(this,l0);V(this,of,new Kr);V(this,hm,n=>{u(this,of).fireEvent(n)});H(this,l0,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new $H,t=u(this,l0).getData(n.dataId).image;e.setOriginalImage(t);const i=new GC(e,n.dataId,u(this,l0));i.onExecute=u(this,hm),i.onUndo=u(this,hm),i.execute(),u(this,l0).addToUndoStack(i)}addEventListener(n,e){u(this,of).add(n,e)}removeEventListener(n,e){u(this,of).remove(n,e)}},l0=new WeakMap,of=new WeakMap,hm=new WeakMap,LR)}};var Xi,Xs,fm,P3;class tl{constructor(){V(this,fm);ae(this,"trackingId");ae(this,"trackingUid");ae(this,"referencedSopInstanceUID");ae(this,"referencedSopClassUID");ae(this,"referencedFrameNumber");ae(this,"mathShape");ae(this,"referencePoints");ae(this,"colour","#ffff80");ae(this,"quantification");ae(this,"textExpr","");ae(this,"labelPosition");ae(this,"planeOrigin");ae(this,"planePoints");V(this,Xi);V(this,Xs,{});this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=XQ("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(u(this,Xs))}getMetaItem(e){return u(this,Xs)[e]}addMetaItem(e,t){const i=e.value;u(this,Xs)[i]!==void 0&&Re.warn("Overwriting annotation meta with id="+i),u(this,Xs)[e.value]={concept:e,value:t}}removeMetaItem(e){u(this,Xs)[e]!==void 0&&delete u(this,Xs)[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=OQ(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void Re.debug("Cannot initialise annotation twice");H(this,Xi,e);const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return u(this,Xi)!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const i=e.getCosines(),a=new Xt(i[0],i[1],i[2]),o=new Xt(i[3],i[4],i[5]);a.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(H(this,Xi,e),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):Re.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}getCentroid(){let e;if(u(this,Xi)!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=z(this,fm,P3).call(this),i=u(this,Xi).getScrollDimIndex(),a=t.getValues()[i],o=this.mathShape.getCentroid();if(e=u(this,Xi).getPositionFromPlanePoint(o,a),this.referencedFrameNumber!==void 0){const c=e.getValues();c[3]=this.referencedFrameNumber,e=new Nc(c)}}return e}setTextExpr(e){if(u(this,Xi)!==void 0){const t=u(this,Xi).getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else Re.warn("Cannot set text expr without a view controller")}getText(){return function(e,t){let i="";if(e==null||(i=e,t==null))return i;const a=xA(e);for(let o=0;o<a.length;++o){const c=t[a[o]];if(c!=null&&c.value!==null&&c.value!==void 0){let l=c.value.toPrecision(4);c.unit!==null&&c.unit!==void 0&&c.unit.length!==0&&(c.unit!=="unit.degree"&&(l+=" "),l+=PQ.t(c.unit));const h="{"+a[o]+"}";i=i.replace(h,l)}}return i}(this.textExpr,this.quantification)}updateQuantification(){u(this,Xi)!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(u(this,Xi),z(this,fm,P3).call(this),xA(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(V2.draw!==void 0)for(const t in V2.draw){const i=V2.draw[t];if(i.supports(this.mathShape)){e=new i;break}}if(e===void 0)for(const t in f3.draw){const i=f3.draw[t];if(i.supports(this.mathShape)){e=new i;break}}return e===void 0&&Re.warn("No shape factory found for math shape"),e}}Xi=new WeakMap,Xs=new WeakMap,fm=new WeakSet,P3=function(){let e;if(u(this,Xi)!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const i=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&i.push(this.referencedFrameNumber);const a=new Nc(i);e=u(this,Xi).getIndexFromPosition(a)}return e};var pr,nt,c0,sf,Aa,Ra,Eo,gc,wi,lf,mr,gm,Sr,cf,pm,u0,Ja,mm,uf,_t,L3,I3,$L,ny,E3,KL,_3,ZL,JL,M3,df,F3;class y2{constructor(e){V(this,_t);V(this,pr);V(this,nt,null);V(this,c0);V(this,sf);V(this,Aa,{x:1,y:1});V(this,Ra,{x:1,y:1,z:1});V(this,Eo,{x:0,y:0});V(this,gc,{x:0,y:0});V(this,wi,{x:0,y:0});V(this,lf,{x:0,y:0});V(this,mr,{x:0,y:0});V(this,gm);V(this,Sr);V(this,cf);V(this,pm);V(this,u0);V(this,Ja);V(this,mm,!0);V(this,uf,new Kr);V(this,df,e=>{e.srclayerid=this.getId(),e.dataid=u(this,cf),u(this,uf).fireEvent(e)});H(this,pr,e),u(this,pr).className+=" drawLayer"}setShapeHandler(e){H(this,Ja,e)}getDataId(){return u(this,cf)}getReferenceLayerId(){return u(this,pm)}getKonvaStage(){return u(this,nt)}getKonvaLayer(){return u(this,nt).getLayers()[0]}getDrawController(){return u(this,gm)}setPlaneHelper(e){H(this,Sr,e)}getId(){return u(this,pr).id}removeFromDOM(){u(this,pr).remove()}getBaseSize(){return u(this,c0)}getOpacity(){return u(this,nt).opacity()}setOpacity(e){u(this,nt).opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=u(this,nt).scale(),t=u(this,nt).size();u(this,mr).x+=t.width/e.x;const i=u(this,nt).offset();i.x+=u(this,mr).x,u(this,nt).offset(i)}addFlipOffsetY(){const e=u(this,nt).scale(),t=u(this,nt).size();u(this,mr).y+=t.height/e.y;const i=u(this,nt).offset();i.y+=u(this,mr).y,u(this,nt).offset(i)}flipScaleX(){u(this,Ra).x*=-1}flipScaleY(){u(this,Ra).y*=-1}flipScaleZ(){u(this,Ra).z*=-1}setScale(e,t){const i=u(this,Sr).getTargetOrientedPositiveXYZ({x:e.x*u(this,Ra).x,y:e.y*u(this,Ra).y,z:e.z*u(this,Ra).z}),a={x:u(this,Aa).x*i.x,y:u(this,Aa).y*i.y},o=u(this,nt).offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const c={x:o.x-u(this,wi).x,y:o.y-u(this,wi).y};H(this,wi,{x:0,y:0}),u(this,nt).offset(c)}else if(t!==void 0){let c=u(this,Sr).getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});c={x:c.x+u(this,Eo).x,y:c.y+u(this,Eo).y};const l=eI(o,u(this,nt).scale(),a,c),h={x:u(this,wi).x+l.x-o.x,y:u(this,wi).y+l.y-o.y};H(this,wi,h),u(this,nt).offset(l)}u(this,nt).scale(a),z(this,_t,F3).call(this,a)}initScale(e,t){const i=u(this,Sr).getTargetOrientedPositiveXYZ({x:e.x*u(this,Ra).x,y:e.y*u(this,Ra).y,z:e.z*u(this,Ra).z}),a={x:u(this,Aa).x*i.x,y:u(this,Aa).y*i.y};u(this,nt).scale(a),H(this,wi,{x:t.x/u(this,Aa).x,y:t.y/u(this,Aa).y});const o=u(this,nt).offset();u(this,nt).offset({x:o.x+u(this,wi).x,y:o.y+u(this,wi).y})}setOffset(e){const t=u(this,Sr).getPlaneOffsetFromOffset3D(e),i=u(this,nt).offset();u(this,nt).offset({x:i.x-u(this,lf).x+t.x,y:i.y-u(this,lf).y+t.y}),H(this,lf,t)}setBaseOffset(e,t){const i=u(this,Sr).getNativeScrollDimIndex(),a=u(this,Sr).getPlaneOffsetFromOffset3D({x:i===0?e.getX():t.getX(),y:i===1?e.getY():t.getY(),z:i===2?e.getZ():t.getZ()}),o=u(this,Eo).x!==a.x||u(this,Eo).y!==a.y;if(o){const c=u(this,nt).offset();u(this,nt).offset({x:c.x-u(this,Eo).x+a.x,y:c.y-u(this,Eo).y+a.y}),H(this,Eo,a)}return o}display(e){u(this,pr).style.display=e?"":"none"}isVisible(){return u(this,pr).style.display===""}draw(){u(this,nt).draw()}initialise(e,t,i){H(this,c0,e),H(this,sf,t),H(this,pm,i),H(this,nt,new Ne.default.Stage({container:u(this,pr),width:u(this,c0).x,height:u(this,c0).y,listening:!1})),u(this,nt).getContent().setAttribute("style","");const a=new Ne.default.Layer({listening:!1,visible:!0});u(this,nt).add(a)}setAnnotationGroup(e,t,i){if(H(this,cf,t),e.addEventListener("annotationadd",a=>{z(this,_t,ny).call(this,a.data,!0),this.getKonvaLayer().draw()}),e.addEventListener("annotationupdate",a=>{z(this,_t,KL).call(this,a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationremove",a=>{z(this,_t,E3).call(this,a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationgroupeditablechange",a=>{this.activateCurrentPositionShapes(a.data)}),H(this,gm,new yH(e)),e.getLength()!==0)for(const a of e.getList())z(this,_t,ny).call(this,a,!1),i(new N2(a,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(u(this,nt).listening(!1),u(this,Ja)!==void 0){u(this,Ja).disableAndResetEditor();const a=t.getChildren();for(const o of a)o instanceof Ne.default.Group&&o.getChildren().forEach(c=>{c instanceof Ne.default.Group&&u(this,Ja).removeShapeListeners(c)})}const i=this.getDrawController();if(e&&i.getAnnotationGroup().isEditable()){u(this,nt).listening(!0);const a=z(this,_t,JL).call(this).getChildren();a.length!==0&&t.listening(!0),u(this,Ja)!==void 0&&a.forEach(o=>{if(o instanceof Ne.default.Group){const c=i.getAnnotation(o.id());u(this,Ja).addShapeGroupListeners(o,c,this)}})}t.draw()}fitToContainer(e,t,i){const a={x:t*u(this,sf).x,y:t*u(this,sf).y},o=a.x/u(this,Aa).x,c=a.y/u(this,Aa).y,l=e.x/(u(this,nt).width()*o),h=e.y/(u(this,nt).height()*c);u(this,nt).width()===e.x&&u(this,nt).height()===e.y||(u(this,nt).width(e.x),u(this,nt).height(e.y));const f={x:u(this,nt).scale().x*o,y:u(this,nt).scale().y*c};u(this,nt).scale().x===f.x&&u(this,nt).scale().y===f.y||(H(this,Aa,a),u(this,nt).scale(f),z(this,_t,F3).call(this,f));const g={x:i.x/a.x,y:i.y/a.y},S={x:e.x/a.x,y:e.y/a.y},b={x:u(this,mr).x!==0?S.x:0,y:u(this,mr).y!==0?S.y:0};if(u(this,gc).x!==g.x||u(this,gc).y!==g.y||u(this,mr).x!==b.x||u(this,mr).y!==b.y){const m={x:u(this,wi).x*l,y:u(this,wi).y*h};u(this,nt).offset({x:u(this,nt).offset().x+g.x-u(this,gc).x+b.x-u(this,mr).x+m.x-u(this,wi).x,y:u(this,nt).offset().y+g.y-u(this,gc).y+b.y-u(this,mr).y+m.y-u(this,wi).y}),H(this,mr,b),H(this,gc,g),H(this,wi,m)}}isAnnotationVisible(e){const t=z(this,_t,M3).call(this,e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const i=z(this,_t,M3).call(this,e);return i!==void 0&&(t===void 0&&(t=!i.isVisible()),i.visible(t),this.draw(),!0)}setLabelsVisibility(e){H(this,mm,e);const t=this.getKonvaLayer().getChildren();for(const i of t)if(i instanceof Ne.default.Group){const a=i.getChildren();for(const o of a)o instanceof Ne.default.Group&&z(this,_t,_3).call(this,o,e)}}setLabelVisibility(e){z(this,_t,_3).call(this,e,u(this,mm))}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const i of e)i instanceof Ne.default.Group&&(t+=i.getChildren().length);return t}bindInteraction(){u(this,nt).listening(!0),u(this,pr).style.pointerEvents="auto";const e=Ff;for(let t=0;t<e.length;++t)u(this,pr).addEventListener(e[t],u(this,df))}unbindInteraction(){u(this,nt).listening(!1),u(this,pr).style.pointerEvents="none";const e=Ff;for(let t=0;t<e.length;++t)u(this,pr).removeEventListener(e[t],u(this,df))}setCurrentPosition(e,t){t===void 0&&(t=u(this,Sr).worldToIndex(e));const i=u(this,Sr).getPlanePoints(e);let a,o;a=u(this,Sr).isAquisitionOrientation()?[i[0]]:i,e.length()>3&&(o=e.get(3));const c=z(this,_t,I3).call(this,a,o);return z(this,_t,ZL).call(this,c),u(this,df).call(this,{type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}addEventListener(e,t){u(this,uf).add(e,t)}removeEventListener(e,t){u(this,uf).remove(e,t)}}pr=new WeakMap,nt=new WeakMap,c0=new WeakMap,sf=new WeakMap,Aa=new WeakMap,Ra=new WeakMap,Eo=new WeakMap,gc=new WeakMap,wi=new WeakMap,lf=new WeakMap,mr=new WeakMap,gm=new WeakMap,Sr=new WeakMap,cf=new WeakMap,pm=new WeakMap,u0=new WeakMap,Ja=new WeakMap,mm=new WeakMap,uf=new WeakMap,_t=new WeakSet,L3=function(e){let t,i;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(i=z(this,_t,I3).call(this,t,e.referencedFrameNumber)),i},I3=function(e,t){let i="";for(const a of e)i.length!==0&&(i+="-"),i+=IQ([Go(a.getX(),2),Go(a.getY(),2),Go(a.getZ(),2)]);return t!==void 0&&(i+="-"+t),i},$L=function(e){let t;const i=z(this,_t,L3).call(this,e),a=this.getKonvaLayer().getChildren(UC(i));if(a.length!==0){const o=a[0];if(!(o instanceof Ne.default.Group))return;const c=o.getChildren(UC(e.trackingUid));c.length!==0&&c[0]instanceof Ne.default.Group&&(t=c[0])}return t},ny=function(e,t){if(!e.canView()||!e.isCompatibleView(u(this,Sr)))return;const i=z(this,_t,L3).call(this,e);let a=this.getKonvaLayer().getChildren(UC(i))[0];if(a===void 0&&(a=new Ne.default.Group({id:i,name:"position-group",visible:t}),this.getKonvaLayer().add(a)),!(a instanceof Ne.default.Group))return;const o=new Ay,c=this.getKonvaStage();o.setZoomScale(c.scale());const l=e.getFactory();if(l===void 0)throw new Error("Cannot add an annotation draw without factory");const h=l.createShapeGroup(e,o);a.add(h),t&&u(this,Ja)!==void 0&&u(this,Ja).addShapeGroupListeners(h,e,this),this.setLabelVisibility(h)},E3=function(e){const t=z(this,_t,$L).call(this,e);return t instanceof Ne.default.Group?(t.remove(),!0):(Re.debug("No shape group to remove"),!1)},KL=function(e){z(this,_t,E3).call(this,e)&&z(this,_t,ny).call(this,e,!0)},_3=function(e,t){const i=e.getChildren(F4)[0];if(i instanceof Ne.default.Label&&(t===void 0&&(t=!i.isVisible()),i.getText()!==void 0&&i.getText().text().length!==0)){i.visible(t);const a=e.getChildren(o=>o.className==="Line"&&o.name()==="connector")[0];a&&a.visible(t)}},ZL=function(e){H(this,u0,e);const t=this.getKonvaLayer().getChildren(PP);let i;for(let a=0,o=t.length;a<o;++a)i=!1,e!==void 0&&t[a].id()===e&&(i=!0),t[a].visible(i);this.getKonvaLayer().draw()},JL=function(){if(u(this,u0)===void 0)return;const e=this.getKonvaLayer().getChildren(i=>i.id()===u(this,u0));let t;return e.length===1?e[0]instanceof Ne.default.Group&&(t=e[0]):e.length===0?(t=new Ne.default.Group,t.name("position-group"),t.id(u(this,u0)),t.visible(!0),this.getKonvaLayer().add(t)):Re.warn("Unexpected number of draw position groups"),t},M3=function(e){return this.getKonvaLayer().findOne("#"+e)},df=new WeakMap,F3=function(e){const t=2/e.x,i=2/e.y,a=u(this,nt).find("Label");for(let o=0;o<a.length;++o)a[o].scale({x:t,y:i})};function dj(n){const e=[0,0,0],t=n.split("#");for(const i of t){const a=i.split("-");e[a[0]]=a[1]}return e}function iy(n){const e=n.split("-layer-");return e.length!==2&&Re.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function Ot(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=iy(t.id)),e}function eI(n,e,t,i){const a=(i.x-n.x)*e.x,o=(i.y-n.y)*e.y;return{x:i.x-a/t.x,y:i.y-o/t.y}}var Cn,ot,Oa,eo,Pa,to,hf,d0,h0,f0,Sm,ym,_o,g0,_n,tI,nI,iI,rI,k3,Vg,ry,xi;class hj{constructor(e){V(this,_n);V(this,Cn);V(this,ot,[]);V(this,Oa,{x:1,y:1,z:1});V(this,eo,{x:1,y:1,z:1});V(this,Pa,{x:0,y:0,z:0});V(this,to);V(this,hf,new Kr);V(this,d0,!1);V(this,h0,[]);V(this,f0);V(this,Sm);V(this,ym,!1);V(this,_o);V(this,g0,e=>{z(this,_n,Vg).call(this)});ae(this,"updateLayersToPositionChange",e=>{for(const l of u(this,ot))l!==void 0&&(l.removeEventListener("positionchange",this.updateLayersToPositionChange),l.removeEventListener("positionchange",u(this,xi)));const t=new Et(e.value[0]),i=new Nc(e.value[1]);H(this,Sm,i),u(this,d0)&&z(this,_n,Vg).call(this,i);const a={};let o,c;for(const l of u(this,ot)){if(l===void 0)continue;let h=!1;if(l instanceof Ei){const g=l.getViewController(),S=g.getOrigin(),b=g.getOrigin(i);let m,y;if(c===void 0)o=S,c=b,m=new mn(0,0,0),y=new mn(0,0,0);else if(g.isPositionInBounds(i)&&b!==void 0){const v=o.minus(S);m=new mn(v.getX(),v.getY(),v.getZ());const D=c.minus(b);y=new mn(D.getX(),D.getY(),D.getZ())}m!==void 0&&y!==void 0&&(h=l.setBaseOffset(m,y,c,o),a[l.getId()]={scroll:m,plane:y})}if(l instanceof y2){const g=a[l.getReferenceLayerId()];g!==void 0&&(h=l.setBaseOffset(g.scroll,g.plane))}let f=!1;l.getId()!==e.srclayerid&&(f=l.setCurrentPosition(i,t)),!f&&h&&l.draw()}for(const l of u(this,ot))l!==void 0&&(l.addEventListener("positionchange",this.updateLayersToPositionChange),l.addEventListener("positionchange",u(this,xi)))});V(this,xi,e=>{u(this,hf).fireEvent(e)});H(this,Cn,e)}getPositionHelper(){if(u(this,_o)===void 0){for(const e of u(this,ot))if(e instanceof Ei){const t=e.getViewController().getPositionHelperClone();u(this,_o)===void 0?H(this,_o,t):u(this,_o).merge(t)}}return u(this,_o)}getShowCrosshair(){return u(this,d0)}setShowCrosshair(e){H(this,d0,e),e?(this.addEventListener("offsetchange",u(this,g0)),this.addEventListener("zoomchange",u(this,g0)),z(this,_n,Vg).call(this)):(this.removeEventListener("offsetchange",u(this,g0)),this.removeEventListener("zoomchange",u(this,g0)),z(this,_n,ry).call(this))}setImageSmoothing(e){H(this,ym,e);for(const t of u(this,ot))t instanceof Ei&&t.setImageSmoothing(e)}getDivId(){let e;return u(this,Cn)!==null&&(e=u(this,Cn).id),e}getScale(){return u(this,Oa)}getBaseScale(){return u(this,eo)}getAddedScale(){return{x:u(this,Oa).x/u(this,eo).x,y:u(this,Oa).y/u(this,eo).y,z:u(this,Oa).z/u(this,eo).z}}getOffset(){return u(this,Pa)}getNumberOfLayers(){let e=0;return u(this,ot).forEach(t=>{t!==void 0&&e++}),e}includes(e){if(e===void 0)return!1;for(const t of u(this,ot))if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of u(this,ot))i instanceof Ei&&e(i)&&t.push(i);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;u(this,to)!==void 0&&(t=u(this,to));const i=[];for(let o=t;o>=0;o--)i.push(o);for(let o=u(this,ot).length-1;o>t;o--)i.push(o);const a=[];for(const o of i){const c=u(this,ot)[o];c instanceof Ei&&e(c)&&a.push(c)}return a}someViewLayer(e){let t=!1;for(const i of u(this,ot))if(i instanceof Ei&&e(i)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of u(this,ot))i instanceof y2&&e(i)&&t.push(i);return t}getNumberOfViewLayers(){let e=0;return u(this,ot).forEach(t=>{t!==void 0&&t instanceof Ei&&e++}),e}getActiveLayer(){let e;return u(this,to)!==void 0&&(e=u(this,ot)[u(this,to)]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof Ei&&(e=t),e}getBaseViewLayer(){let e;for(const t of u(this,ot))if(t instanceof Ei){e=t;break}if(e!==void 0)return e;Re.warn("No layer found")}getViewLayerById(e){const t=this.getViewLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getViewLayersByDataId(e){return this.getViewLayers(function(t){return t.getDataId()===e})}searchViewLayers(e){const t=structuredClone(e);let i;t.SOPInstanceUID!==void 0&&(i=t.SOPInstanceUID,delete t.SOPInstanceUID);const a=i!==void 0,o=Object.keys(t).length!==0,c=[];for(const l of u(this,ot))if(l instanceof Ei){let h=!1;o&&(h=l.getViewController().equalImageMeta(t));let f=!1;a&&(f=l.getViewController().includesImageUid(i));let g=!1;o&&a?g=h&&f:o?g=h:a&&(g=f),g&&c.push(l)}return c}getViewDataIndices(){const e=[];for(const t of u(this,ot))t instanceof Ei&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof y2&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getDrawLayersByDataId(e){return this.getDrawLayers(function(t){return t.getDataId()===e})}setActiveLayer(e){H(this,to,e),u(this,xi).call(this,{type:"activelayerchange",value:[u(this,ot)[e]]})}setActiveLayerById(e){let t;for(let i=0;i<u(this,ot).length;++i)if(u(this,ot)[i]!==void 0&&u(this,ot)[i].getId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):Re.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let i=0;i<u(this,ot).length;++i)if(u(this,ot)[i]!==void 0&&u(this,ot)[i].getDataId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):Re.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=u(this,ot).length,t=z(this,_n,k3).call(this);u(this,Cn).append(t);const i=new Ei(t);return i.setImageSmoothing(u(this,ym)),u(this,ot).push(i),this.setActiveLayer(e),z(this,_n,tI).call(this,i),H(this,_o,void 0),i}addDrawLayer(){H(this,to,u(this,ot).length);const e=z(this,_n,k3).call(this);u(this,Cn).append(e);const t=new y2(e);return u(this,ot).push(t),z(this,_n,iI).call(this,t),t}empty(){for(const e of u(this,ot))e!==void 0&&this.removeLayer(e);H(this,ot,[]),z(this,_n,ry).call(this)}removeLayersByDataId(e){for(const t of u(this,ot))t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=u(this,ot).findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layer to remove");u(this,to)===t&&H(this,to,void 0),e instanceof Ei?z(this,_n,nI).call(this,e):z(this,_n,rI).call(this,e),u(this,ot)[t]=void 0,H(this,_o,void 0),e.removeFromDOM(),u(this,xi).call(this,{type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),i=t.getViewController(),a=t.displayToPlanePos(e),o=i.getPositionFromPlanePoint(a),c=i.getRescaledImageValue(o);if(c!==void 0){const l=document.createElement("span");l.id="scroll-tooltip",l.style.left=e.getX()+10+"px",l.style.top=e.getY()+10+"px";let h=Go(c,3).toString();i.getPixelUnit()!==void 0&&(h+=" "+i.getPixelUnit()),l.appendChild(document.createTextNode(h)),H(this,f0,l),u(this,Cn).appendChild(l)}}removeTooltipDiv(){u(this,f0)!==void 0&&(u(this,f0).remove(),H(this,f0,void 0))}isPositionInBounds(e){return this.someViewLayer(function(t){return t.getViewController().isPositionInBounds(e)})}canScroll(){return this.someViewLayer(function(e){return e.getViewController().canScroll()})}moreThanOne(e){return this.someViewLayer(function(t){return t.getViewController().moreThanOne(e)})}getDivToWorldSizeRatio(){if(u(this,Cn).offsetWidth===0&&u(this,Cn).offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+u(this,Cn).id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(u(this,Cn).offsetHeight===0){const t=u(this,Cn).offsetWidth/e.x,i=e.y*t;u(this,Cn).style.height=i+"px"}return Math.min(u(this,Cn).offsetWidth/e.x,u(this,Cn).offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const i={x:u(this,Cn).offsetWidth,y:u(this,Cn).offsetHeight},a={x:-.5*(i.x-Math.floor(t.x*e)),y:-.5*(i.y-Math.floor(t.y*e))};for(const o of u(this,ot))o!==void 0&&o.fitToContainer(i,e,a);u(this,d0)&&z(this,_n,Vg).call(this)}getMaxWorldSize(){let e={x:0,y:0};for(const t of u(this,ot))if(t instanceof Ei){const i=t.getImageWorldSize();i.x>e.x&&(e.x=i.x),i.y>e.y&&(e.y=i.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){u(this,eo).z*=-1,this.setScale(u(this,eo))}addScale(e,t){const i={x:u(this,Oa).x*(1+e),y:u(this,Oa).y*(1+e),z:u(this,Oa).z*(1+e)};this.setScale(i,t)}setScale(e,t){H(this,Oa,e);for(const a of u(this,ot))a!==void 0&&a.setScale(u(this,Oa),t);const i=[e.x,e.y,e.z];t!==void 0&&(i.push(t.getX()),i.push(t.getY()),i.push(t.getZ())),u(this,xi).call(this,{type:"zoomchange",value:i})}addTranslation(e){this.setOffset({x:u(this,Pa).x-e.x,y:u(this,Pa).y-e.y,z:u(this,Pa).z-e.z})}setOffset(e){H(this,Pa,e);for(const t of u(this,ot))t!==void 0&&t.setOffset(u(this,Pa));u(this,xi).call(this,{type:"offsetchange",value:[u(this,Pa).x,u(this,Pa).y,u(this,Pa).z]})}reset(){this.setScale(u(this,eo)),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(u(this,eo)),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of u(this,ot))if(t!==void 0&&t instanceof Ei){const i=t.getViewController();e&&(i.resetPosition(),e=!1),i.resetWindowLevel()}}draw(){for(const e of u(this,ot))e!==void 0&&e.draw()}display(e){for(const t of u(this,ot))t!==void 0&&t.display(e)}addEventListener(e,t){u(this,hf).add(e,t)}removeEventListener(e,t){u(this,hf).remove(e,t)}}Cn=new WeakMap,ot=new WeakMap,Oa=new WeakMap,eo=new WeakMap,Pa=new WeakMap,to=new WeakMap,hf=new WeakMap,d0=new WeakMap,h0=new WeakMap,f0=new WeakMap,Sm=new WeakMap,ym=new WeakMap,_o=new WeakMap,g0=new WeakMap,_n=new WeakSet,tI=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of Mf)e.addEventListener(t,u(this,xi));e.addEventListener("renderstart",u(this,xi)),e.addEventListener("renderend",u(this,xi))},nI=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of Mf)e.removeEventListener(t,u(this,xi));e.removeEventListener("renderstart",u(this,xi)),e.removeEventListener("renderend",u(this,xi)),e.unbindImage()},iI=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",u(this,xi))},rI=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",u(this,xi))},k3=function(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+u(this,ot).length,e.className="layer",e.style.pointerEvents="none",e},Vg=function(e){let t;e===void 0&&(e=u(this,Sm)),z(this,_n,ry).call(this);for(const o of u(this,ot))if(o instanceof Ei){t=o;break}if(t===void 0)return void Re.warn("No layer to show crosshair");const i=t.getViewController().getPlanePositionFromPosition(e),a=t.planePosToDisplay(i);if(a.getY()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-horizontal",o.className="horizontal",o.style.width=u(this,Cn).offsetWidth+"px",o.style.left="0px",o.style.top=a.getY()+"px",u(this,h0).push(o),u(this,Cn).appendChild(o)}if(a.getX()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-vertical",o.className="vertical",o.style.width=u(this,Cn).offsetHeight+"px",o.style.left=a.getX()+"px",o.style.top="0px",u(this,h0).push(o),u(this,Cn).appendChild(o)}},ry=function(){for(const e of u(this,h0))e.remove();H(this,h0,[])},xi=new WeakMap;const M7={WindowLevelBinder:class{constructor(){ae(this,"getEventType",function(){return"wlchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const i=t[0].getViewController();if(e.value.length===2){const a=new Cr(e.value[0],e.value[1]);i.setWindowLevel(a)}e.value.length===3&&i.setWindowLevelPreset(e.value[2])}}})}},PositionBinder:class{constructor(){ae(this,"getEventType",function(){return"positionchange"});ae(this,"getCallback",function(n){return function(e){const t=e.value[1],i=n.getBaseViewLayer().getViewController(),a=i.getCurrentPosition(),o=a.length(),c=t.length;c!==o&&(c===o-1?t.push(a.get(o-1)):c===o+1&&t.pop()),i.setCurrentPosition(new Nc(t))}})}},ZoomBinder:class{constructor(){ae(this,"getEventType",function(){return"zoomchange"});ae(this,"getCallback",function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let i;e.value.length===6&&(i=new Xt(e.value[3],e.value[4],e.value[5])),n.setScale(t,i),n.draw()}})}},OffsetBinder:class{constructor(){ae(this,"getEventType",function(){return"offsetchange"});ae(this,"getCallback",function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}})}},OpacityBinder:class{constructor(){ae(this,"getEventType",function(){return"opacitychange"});ae(this,"getCallback",function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),i=n.getBaseViewLayer();t.length!==0&&i!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}})}},ColourMapBinder:class{constructor(){ae(this,"getEventType",function(){return"colourmapchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}})}}};var yt,Ws,vm,no,La,co,U3,N3,q3;class fj{constructor(){V(this,co);V(this,yt,[]);V(this,Ws);V(this,vm,!1);V(this,no,[]);V(this,La,null)}getLayerGroup(e){return u(this,yt)[e]}getNumberOfLayerGroups(){return u(this,yt).length}getActiveLayerGroup(){return this.getLayerGroup(u(this,Ws))}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?H(this,Ws,e):Re.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const i of u(this,yt))t=t.concat(i.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const i of u(this,yt))t=t.concat(i.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const i of u(this,yt))t=t.concat(i.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const i of u(this,yt))t=t.concat(i.getDrawLayers(e));return t}addLayerGroup(e){H(this,Ws,u(this,yt).length);const t=new hj(e);t.setImageSmoothing(u(this,vm));const i=u(this,La)&&u(this,La).length!==0;return i&&this.unbindLayerGroups(),u(this,yt).push(t),i&&this.bindLayerGroups(),t}getLayerGroupByDivId(e){return u(this,yt).find(function(t){return t.getDivId()===e})}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");u(this,no).length!==0&&this.unbindLayerGroups(),H(this,no,e.slice()),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of u(this,yt))e.empty();H(this,yt,[]),H(this,Ws,void 0)}removeLayersByDataId(e){for(const t of u(this,yt))t.removeLayersByDataId(e)}removeLayerGroup(e){const t=u(this,yt).findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),u(this,yt).splice(t,1),u(this,Ws)===t&&H(this,Ws,void 0),this.bindLayerGroups()}reset(){for(const e of u(this,yt))e.reset()}resetZoomPan(){for(const e of u(this,yt))e.resetZoomPan()}resetViews(){for(const e of u(this,yt))e.resetViews()}draw(){for(const e of u(this,yt))e.draw()}fitToContainer(){let e;const t=[];for(let i=0;i<u(this,yt).length;++i){const a=u(this,yt)[i].getDivToWorldSizeRatio();a!==void 0&&(t.push(i),(e===void 0||a<e)&&(e=a))}if(e!==void 0)for(let i=0;i<u(this,yt).length;++i)t.includes(i)&&u(this,yt)[i].fitToContainer(e)}bindLayerGroups(){if(u(this,yt).length!==0&&u(this,yt).length!==1&&u(this,no).length!==0){H(this,La,new Array(u(this,yt).length));for(let e=0;e<u(this,yt).length;++e)for(let t=0;t<u(this,no).length;++t)z(this,co,N3).call(this,e,u(this,no)[t])}}unbindLayerGroups(){if(u(this,yt).length!==0&&u(this,yt).length!==1&&u(this,no).length!==0&&u(this,La)){for(let e=0;e<u(this,yt).length;++e)for(let t=0;t<u(this,no).length;++t)z(this,co,q3).call(this,e,u(this,no)[t]);H(this,La,null)}}setImageSmoothing(e){H(this,vm,e);for(const t of u(this,yt))t.setImageSmoothing(e)}}yt=new WeakMap,Ws=new WeakMap,vm=new WeakMap,no=new WeakMap,La=new WeakMap,co=new WeakSet,U3=function(e,t){u(this,La)[t]===void 0&&(u(this,La)[t]=[]);let i=u(this,La)[t].find(function(a){return a.binder===e});return i===void 0&&(i={binder:e,callback:a=>{z(this,co,q3).call(this,t,e),e.getCallback(u(this,yt)[t])(a),z(this,co,N3).call(this,t,e)}},u(this,La)[t].push(i)),i.callback},N3=function(e,t){for(let i=0;i<u(this,yt).length;++i)i!==e&&u(this,yt)[e].addEventListener(t.getEventType(),z(this,co,U3).call(this,t,i))},q3=function(e,t){for(let i=0;i<u(this,yt).length;++i)i!==e&&u(this,yt)[e].removeEventListener(t.getEventType(),z(this,co,U3).call(this,t,i))};var bm,Ua,aI,oI,sI,lI,cI;class gj{constructor(e){V(this,Ua);V(this,bm);H(this,bm,e)}fromJSON(e){const t=JSON.parse(e);let i=null;if(t.version==="0.1")i=z(this,Ua,aI).call(this,t);else if(t.version==="0.2")i=z(this,Ua,oI).call(this,t);else if(t.version==="0.3")i=z(this,Ua,sI).call(this,t);else if(t.version==="0.4")i=z(this,Ua,lI).call(this,t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");i=z(this,Ua,cI).call(this,t)}return i}apply(e,t){const i=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),a=new Cr(t["window-center"],t["window-width"]);i.setWindowLevel(a);const o=e.getActiveLayerGroup().getBaseScale();let c=null,l=null;if(t.scaleCenter!==void 0){c={x:t.scale*o.x,y:t.scale*o.y,z:1};const h=t.scaleCenter.x-t.scaleCenter.x*t.scale,f=t.scaleCenter.y-t.scaleCenter.y*t.scale,g=h+t.translation.x*c.x,S=f+t.translation.y*c.y;l={x:-g/c.x,y:-S/c.y,z:0}}else c={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},l={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(c),e.getActiveLayerGroup().setOffset(l),e.setDrawings(t.drawings,t.drawingsDetails,u(this,bm))}}bm=new WeakMap,Ua=new WeakSet,aI=function(e){const t=function(i){const a=[],o={};let c,l;for(let h=0,f=i.length;h<f;++h){a[h]=[];for(let g=0,S=i[h].length;g<S;++g){c=i[h][g];const b=[];for(let m=0,y=c.length;m<y;++m){l=Ne.default.Node.create(c[m]),l.visible(!0);let v={x:0,y:0};const D=l.getChildren(function(_){return _.name()==="shape"})[0];if(D.stroke(TQ(D.stroke())),l.name()==="line-group"){l.name("ruler-group");const _=new Ne.default.Line({points:[D.points()[0],D.points()[1],D.points()[0],D.points()[1]],name:"shape-tick0"});l.add(_);const M=new Ne.default.Line({points:[D.points()[2],D.points()[3],D.points()[2],D.points()[3]],name:"shape-tick1"});l.add(M)}const x=l.getChildren(function(_){return _.name()==="arc"});x.length===1&&x[0].name("shape-arc");const T=l.getChildren(function(_){return _.name()==="text"});let C=new Ne.default.Text({name:"text",text:""});T.length===1?(v.x=T[0].x(),v.y=T[0].y(),T[0].remove(),C=T[0]):D.points().length!==0&&(v={x:D.points()[0],y:D.points()[1]});const A=new Ne.default.Label({x:v.x,y:v.y,name:"label"});A.add(C),A.add(new Ne.default.Tag),l.add(A),b.push(JSON.stringify(l.toObject()));let R=C.text();const E=R.length;let U=null;l.name()==="ruler-group"?(U={length:{value:parseFloat(R.substring(0,E-2)),unit:R.substring(-2)}},R="{length}"):l.name()==="ellipse-group"||l.name()==="rectangle-group"?(U={surface:{value:parseFloat(R.substring(0,E-3)),unit:R.substring(-3)}},R="{surface}"):l.name()!=="protractor-group"&&l.name()!=="rectangle-group"||(U={angle:{value:parseFloat(R.substring(0,E-1)),unit:R.substring(-1)}},R="{angle}"),o[l.id()]={textExpr:R,longText:"",quant:U}}a[h].push(b)}}return{drawings:a,drawingsDetails:o}}(e.drawings);return e.drawings=F7(t.drawings).toObject(),e.drawingsDetails=VC(t.drawingsDetails),(e=v2(e)).drawings=b2(e.drawings),e},oI=function(e){return e.drawings=F7(e.drawings).toObject(),e.drawingsDetails=VC(function(t){const i={},a=typeof t=="string"?JSON.parse(t):t;for(let o=0,c=a.length;o<c;++o)for(let l=0,h=a[o].length;l<h;++l)for(let f=0,g=a[o][l].length;f<g;++f){const S=a[o][l][f];i[S.id]={textExpr:S.textExpr,longText:S.longText,quant:S.quant}}return i}(e.drawingsDetails)),(e=v2(e)).drawings=b2(e.drawings),e},sI=function(e){return e.drawingsDetails=VC(e.drawingsDetails),(e=v2(e)).drawings=b2(e.drawings),e},lI=function(e){return(e=v2(e)).drawings=b2(e.drawings),e},cI=function(e){return e};function F7(n){let e,t,i;const a=new Ne.default.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let l=0,h=o.length;l<h;++l)for(let f=0,g=o[l].length;f<g;++f)if(t=o[l][f],t.length!==0){i=new Ne.default.Group({id:(c=new Et([1,1,l,f]),"slice-"+c.get(2)+"_frame-"+(c.length()===4?c.get(3):0)),name:"position-group",visible:!1});for(let S=0,b=t.length;S<b;++S)e=Ne.default.Node.create(t[S]),e.draggable(!0),e.getChildren().forEach(function(m){m.draggable(!1)}),i.add(e);a.add(i)}var c;return a}function VC(n){const e={},t=Object.keys(n);for(let i=0,a=t.length;i<a;++i){const o=n[t[i]];e[t[i]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function v2(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function b2(n){const e=n.children;for(let t=0,i=e.length;t<i;++t){const a=e[t],o=a.attrs.id.split("_"),c=parseInt(o[0].substring(6),10),l=parseInt(o[1].substring(6),10);let h="#2-";h+=c===0&&l!==0?l:c,a.attrs.id=h}return n}function Eg(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function k7(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let i=n.indexOf("#");i===-1&&(i=n.length);const a=n.substring(t+1,i);e.query=function(o){const c={};if(o){const l=o.split("&");for(let h=0;h<l.length;++h){const f=l[h].split("=");c[f[0]]?(c[f[0]]instanceof Array||(c[f[0]]=[c[f[0]]]),c[f[0]].push(f[1])):c[f[0]]=f[1]}}return c}(a)}return e}var jr,yr;class U7 extends EventTarget{constructor(){super(...arguments);V(this,jr,[]);V(this,yr,0)}getStackSize(){return u(this,jr).length}getCurrentStackIndex(){return u(this,yr)}getCurrentCommand(){return u(this,jr)[u(this,yr)-1]}add(t){H(this,jr,u(this,jr).slice(0,u(this,yr))),u(this,jr).push(t),++Er(this,yr)._,this.dispatchEvent(new Event("undoadd"))}remove(t){let i=!1;const a=u(this,jr).findIndex(function(o){return o.getName()===t});return a!==-1&&(i=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:t}})),u(this,jr).splice(a,1),--Er(this,yr)._),i}undo(){u(this,yr)>0&&(this.dispatchEvent(new Event("undo")),--Er(this,yr)._,u(this,jr)[u(this,yr)].undo())}redo(){u(this,yr)<u(this,jr).length&&(u(this,jr)[u(this,yr)].execute(),++Er(this,yr)._,this.dispatchEvent(new Event("redo")))}}jr=new WeakMap,yr=new WeakMap;var pc,Mo,mc,ff,Fi,B3,uI,dI,hI,zg;class pj{constructor(e){V(this,Fi);V(this,pc);V(this,Mo,null);V(this,mc,[]);V(this,ff,{});H(this,pc,e)}init(){for(const e in u(this,pc))u(this,pc)[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",z(this,Fi,zg).call(this,"window","keydown"),!0):window.removeEventListener("keydown",z(this,Fi,zg).call(this,"window","keydown"),!0)}getToolList(){return u(this,pc)}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return u(this,Mo)}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");u(this,Mo)&&u(this,Mo).activate(!1),H(this,Mo,u(this,pc)[e]),u(this,Mo).activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const i=e.getDivId();e.addEventListener("activelayerchange",z(this,Fi,uI).call(this,i)),z(this,Fi,B3).call(this,i,t)}}pc=new WeakMap,Mo=new WeakMap,mc=new WeakMap,ff=new WeakMap,Fi=new WeakSet,B3=function(e,t){u(this,ff)[e]!==void 0&&z(this,Fi,hI).call(this,u(this,ff)[e]),u(this,ff)[e]=t,z(this,Fi,dI).call(this,t)},uI=function(e){return t=>{const i=t.value[0];i!==void 0&&z(this,Fi,B3).call(this,e,i)}},dI=function(e){e.bindInteraction();const t=Ff;for(let i=0;i<t.length;++i)e.addEventListener(t[i],z(this,Fi,zg).call(this,e.getId(),t[i]))},hI=function(e){e.unbindInteraction();const t=Ff;for(let i=0;i<t.length;++i)e.removeEventListener(t[i],z(this,Fi,zg).call(this,e.getId(),t[i]))},zg=function(e,t){if(u(this,mc)[e]===void 0&&(u(this,mc)[e]=[]),u(this,mc)[e][t]===void 0){const i=a=>{if(u(this,Mo)){const o=u(this,Mo)[a.type];o&&o(a)}};u(this,mc)[e][t]=i}return u(this,mc)[e][t]};var Sc,p0,Cm,E0,G3,fI;class W6{constructor(e){V(this,E0);V(this,Sc,[]);V(this,p0,2);V(this,Cm);ae(this,"onprogress",e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;u(this,Sc)[e.index][e.subindex]=t;let i=null;i=e.item!==void 0?e.item:{loaded:z(this,E0,G3).call(this,e.index),total:100,source:e.source},u(this,Cm).call(this,{lengthComputable:!0,loaded:z(this,E0,fI).call(this),total:100,item:i})});H(this,Cm,e)}setNumberOfDimensions(e){H(this,p0,e)}setNToLoad(e){for(let t=0;t<e;++t){u(this,Sc)[t]=[];for(let i=0;i<u(this,p0);++i)u(this,Sc)[t][i]=0}}getMonoProgressHandler(e,t){return i=>{i.index=e,i.subindex=t,this.onprogress(i)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}Sc=new WeakMap,p0=new WeakMap,Cm=new WeakMap,E0=new WeakSet,G3=function(e){let t=0;for(let i=0;i<u(this,p0);++i)t+=u(this,Sc)[e][i];return t/u(this,p0)},fI=function(){let e=0;const t=u(this,Sc).length;for(let i=0;i<t;++i)e+=z(this,E0,G3).call(this,i);return Math.round(e/t)};var yc,Yr,vc,gf,pf,m0,Dm,rn,gI,pI,mI,SI,yI,Ky,bc,Su,vI,V3,bI;class N7{constructor(){V(this,rn);V(this,yc,null);V(this,Yr,[]);V(this,vc,null);V(this,gf,0);V(this,pf,0);V(this,m0);V(this,Dm);V(this,Ky,e=>{Er(this,gf)._++,u(this,gf)===u(this,yc).length&&this.onload({source:u(this,yc)})});V(this,bc,e=>{Er(this,pf)._++,u(this,pf)===u(this,yc).length&&this.onloadend({source:u(this,yc)})})}getDefaultCharacterSet(){return u(this,Dm)}setDefaultCharacterSet(e){H(this,Dm,e)}load(e,t){this.onloadstart({source:e}),e.length===1&&(wA(e[0],"DICOMDIR")||wA(e[0],".dcmdir"))?z(this,rn,bI).call(this,e[0],t):z(this,rn,V3).call(this,e,t)}abort(){H(this,m0,!0);for(let e=0;e<u(this,Yr).length;++e)u(this,Yr)[e].readyState!==4&&u(this,Yr)[e].abort();u(this,vc)&&u(this,vc).isLoading()&&u(this,vc).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}yc=new WeakMap,Yr=new WeakMap,vc=new WeakMap,gf=new WeakMap,pf=new WeakMap,m0=new WeakMap,Dm=new WeakMap,rn=new WeakSet,gI=function(e){H(this,yc,e),H(this,gf,0),H(this,pf,0),H(this,m0,!1),z(this,rn,mI).call(this),z(this,rn,yI).call(this)},pI=function(e){u(this,Yr).push(e)},mI=function(){H(this,Yr,[])},SI=function(e){H(this,vc,e)},yI=function(){H(this,vc,null)},Ky=new WeakMap,bc=new WeakMap,Su=function(e,t){return i=>{i.source=t,e(i)}},vI=function(e,t,i){return a=>{const o=a.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),u(this,bc).call(this)):e.load(a.target.response,t,i)}},V3=function(e,t){if(e===void 0||e.length===0)return;z(this,rn,gI).call(this,e);const i=new W6(this.onprogress);i.setNToLoad(e.length);const a=[];for(let S=0;S<kf.length;++S)a.push(new kf[S]);let o=e[0],c=null,l=!1;for(let S=0;S<a.length;++S)if(c=a[S],c.canLoadUrl(o,t)){l=!0,c.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),c.onprogress=i.getUndefinedMonoProgressHandler(1),c.onloaditem=this.onloaditem,c.onload=u(this,Ky),c.onloadend=u(this,bc),c.onerror=this.onerror,c.onabort=this.onabort,z(this,rn,SI).call(this,c);break}if(!l)throw new Error("No loader found for url: "+o);let h=0;const f=()=>{h<u(this,Yr).length-1&&!u(this,m0)&&(++h,u(this,Yr)[h].send(null))};for(let S=0;S<e.length;++S){if(o=e[S],!c.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const b=new XMLHttpRequest;if(b.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const D=t.requestHeaders;for(let x=0;x<D.length;++x)D[x].name!==void 0&&D[x].value!==void 0&&b.setRequestHeader(D[x].name,D[x].value)}t.withCredentials!==void 0&&(b.withCredentials=t.withCredentials)}b.onprogress=z(this,rn,Su).call(this,i.getMonoProgressHandler(S,0),o),b.onload=z(this,rn,vI).call(this,c,o,S),b.onloadend=f;const m=z(this,rn,Su).call(this,this.onerror,o);b.onerror=D=>{u(this,bc).call(this),m(D)};const y=z(this,rn,Su).call(this,this.ontimeout,o);b.ontimeout=D=>{u(this,bc).call(this),y(D)};const v=z(this,rn,Su).call(this,this.onabort,o);b.onabort=D=>{u(this,bc).call(this),v(D)},c.loadUrlAs()===1&&(b.responseType="arraybuffer"),z(this,rn,pI).call(this,b)}let g=u(this,Yr).length;t!==void 0&&t.batchSize!==void 0&&g!==0&&(g=Math.min(t.batchSize,u(this,Yr).length));for(let S=0;S<g;++S)u(this,m0)||(h=S,u(this,Yr)[h].send(null))},bI=function(e,t){const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=a=>{const o=a.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),this.onloadend({});else{const c=function(f){const g=new fP;return g.parse(f),function(S){const b=S["00041220"];if(b===void 0||b.value===void 0)return void Re.warn("No Directory Record Sequence found in DICOMDIR.");const m=b.value;if(m.length===0)return void Re.warn("The Directory Record Sequence of the DICOMDIR is empty.");const y=[];let v=null,D=null;for(let x=0;x<m.length;++x){const T=m[x]["00041430"];if(T===void 0||T.value===void 0)continue;const C=T.value[0];if(C==="STUDY")D=[],y.push(D);else if(C==="SERIES")v=[],D.push(v);else if(C==="IMAGE"){const A=m[x]["00041500"];if(A===void 0||A.value===void 0)continue;const R=A.value;v.push(R.join("/"))}}return y}(g.getDicomElements())}(a.target.response)[0][0],l=e.split("/").slice(0,-1).join("/"),h=[];for(let f=0;f<c.length;++f)h.push(l+"/"+c[f]);z(this,rn,V3).call(this,h,t)}},i.onerror=a=>{z(this,rn,Su).call(this,this.onerror,e)(a),this.onloadend({})},i.onabort=a=>{z(this,rn,Su).call(this,this.onabort,e)(a),this.onloadend({})},i.send(null)};class mj extends Nm{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Oi.u(968),Oi.b),{name:"jpegbaseline.worker",type:"module"})}}class Sj extends Nm{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Oi.u(112),Oi.b),{name:"jpegloss.worker",type:"module"})}}class yj extends Nm{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Oi.u(557),Oi.b),{name:"jpeg2000.worker",type:"module"})}}class vj extends Nm{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Oi.u(326),Oi.b),{name:"rle.worker",type:"module"})}}var Cc,Ia,Tm;class bj{constructor(e){V(this,Cc);V(this,Ia);V(this,Tm,!1);H(this,Cc,e),H(this,Ia,new xP(10))}decode(e,t,i){u(this,Tm)||(H(this,Tm,!0),u(this,Ia).onworkstart=this.ondecodestart,u(this,Ia).onworkitem=this.ondecodeditem,u(this,Ia).onwork=this.ondecoded,u(this,Ia).onworkend=this.ondecodeend,u(this,Ia).onerror=this.onerror,u(this,Ia).onabort=this.onabort);const a={buffer:e,meta:t};let o;u(this,Cc)==="jpeg-baseline"?o=new mj(a,i):u(this,Cc)==="jpeg-lossless"?o=new Sj(a,i):u(this,Cc)==="jpeg2000"?o=new yj(a,i):u(this,Cc)==="rle"&&(o=new vj(a,i)),o!==void 0&&u(this,Ia).addWorkerTask(o)}abort(){u(this,Ia).abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}Cc=new WeakMap,Ia=new WeakMap,Tm=new WeakMap;const q7="0040A30A",B7="0040A161",G7="0040A162",V7="0040A163",z7="004008EA";class $6{constructor(){ae(this,"numericValue");ae(this,"floatingPointValue");ae(this,"rationalNumeratorValue");ae(this,"rationalDenominatorValue");ae(this,"measurementUnitsCode")}toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function Cj(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[qc(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const Q7="0040A300",H7="0040A301";class K6{constructor(){ae(this,"measuredValue");ae(this,"numericValueQualifierCode")}toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function Dj(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[Cj(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[qc(n.numericValueQualifierCode)]}),e}const j7="00081150",Y7="00081155";class CI{constructor(){ae(this,"referencedSOPClassUID");ae(this,"referencedSOPInstanceUID")}toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function X7(n){const e=new CI;return n[j7]!==void 0&&(e.referencedSOPClassUID=n[j7].value[0]),n[Y7]!==void 0&&(e.referencedSOPInstanceUID=n[Y7].value[0]),e}function DI(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const W7="00081160",$7="00081199",K7="0062000B";class TI{constructor(){ae(this,"referencedSOPSequence");ae(this,"referencedFrameNumber");ae(this,"referencedSegmentNumber")}toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function Tj(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[DI(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}const Z7="00480301",J7="00700022",eR="00700023",tR="0070031A",Z6="POINT",C2="MULTIPOINT",Qg="POLYLINE",wI="CIRCLE",xI="ELLIPSE";class Ry{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"pixelOriginInterpretation");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function wj(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function nR(n){const e=new Ry;if(n instanceof Le)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=Z6;else if(n instanceof nn)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=Qg;else if(n instanceof wu){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=Qg}else if(n instanceof ro){e.graphicData=[];for(let i=0;i<n.getLength();++i)e.graphicData.push(n.getPoint(i).getX().toString()),e.graphicData.push(n.getPoint(i).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=Qg}else if(n instanceof Au){const t=n.getCenter(),i=new Le(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),i.getX().toString(),i.getY().toString()],e.graphicType=wI}else if(n instanceof xu){const t=n.getCenter(),i=n.getA(),a=n.getB();e.graphicData=[(t.getX()-i).toString(),t.getY().toString(),(t.getX()+i).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-a).toString(),t.getX().toString(),(t.getY()+a).toString()],e.graphicType=xI}else if(n instanceof Tu){const t=n.getBegin(),i=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),i.getY().toString(),i.getX().toString(),i.getY().toString(),i.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=Qg}return e}function D2(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let c=0;c<e;c+=2)t.push(new Le(parseFloat(n.graphicData[c]),parseFloat(n.graphicData[c+1])));let i=!1;const a=t.length;if(a>2){const c=t[0],l=t[a-1];i=c.equals(l)}let o;if(n.graphicType===Z6)t.length>1&&Re.warn("Expecting 1 point for point, got "+a),o=t[0];else if(n.graphicType===wI){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+a);t.length>2&&Re.warn("Expecting 2 points for circles, got "+a);const c=t[0],l=t[1].getDistance(c);o=new Au(c,l)}else if(n.graphicType===xI){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+a);t.length>4&&Re.warn("Expecting 4 points for ellipses, got "+a);const c=t[0].getDistance(t[1])/2,l=t[2].getDistance(t[3])/2,h=new Le(t[0].getX()+c,t[0].getY());o=new xu(h,c,l)}else if(n.graphicType===Qg)if(i)if(t.length===5){const c=new nn(t[0],t[1]),l=new nn(t[1],t[2]),h=new nn(t[2],t[3]),f=new nn(t[3],t[4]);o=NC(c,l)&&NC(l,h)&&NC(h,f)?new Tu(t[0],t[2]):new ro(t.slice(0,-1))}else o=new ro(t.slice(0,-1));else t.length===2?o=new nn(t[0],t[1]):t.length===3&&(o=new wu([t[0],t[1],t[2]]));return o}const iR="00700022",rR="00700023",aR="30060024",oR="0070031A";class AI{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"referencedFrameofReferenceUID");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function xj(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const Co={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},xn="CONTAINS",fs="HAS PROPERTIES",fu="HAS OBS CONTEXT",gu="INFERRED FROM",_g="SELECTED FROM",T2="HAS CONCEPT MOD",sa="TEXT",Ml="NUM",Ha="CODE",w2="UIDREF",RI="COMPOSITE",vu="IMAGE",ar="SCOORD",Oy="SCOORD3D",za="CONTAINER",Mg="SEPARATE",OI={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function zC(n){let e;const t=cn(n,Co.ContentTemplateSequence);if(t!==void 0){const i=cn(t,Co.MappingResource),a=cn(t,Co.TemplateIdentifier);i!==void 0&&a!==void 0&&(e=i+"-"+a)}return e}class Zt{constructor(e){ae(this,"valueType");ae(this,"conceptNameCode");ae(this,"relationshipType");ae(this,"contentSequence",[]);ae(this,"value");this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const i of this.contentSequence)t+=`
`+e+"- "+i.toString(e+"  ");return t}hasHeader(e,t,i){return this.valueType===e&&k2(this.conceptNameCode,t)&&this.relationshipType===i}}function Hg(n){let e=cn(n,Co.ValueType);e===void 0&&(e="");const t=new Zt(e);t.relationshipType=cn(n,Co.RelationshipType);const i=cn(n,Co.ConceptNameCodeSequence);if(i!==void 0&&(t.conceptNameCode=Md(i)),e===Ha)t.value=Md(cn(n,Co.ConceptCodeSequence));else if(e===Ml)t.value=function(o){const c=new K6;return o[Q7]!==void 0&&(c.measuredValue=function(l){const h=new $6;return l[q7]!==void 0&&(h.numericValue=parseFloat(l[q7].value[0])),l[B7]!==void 0&&(h.floatingPointValue=parseFloat(l[B7].value[0])),l[G7]!==void 0&&(h.rationalNumeratorValue=parseInt(l[G7].value[0],10)),l[V7]!==void 0&&(h.rationalDenominatorValue=parseInt(l[V7].value[0],10)),l[z7]!==void 0&&(h.measurementUnitsCode=Md(l[z7].value[0])),h}(o[Q7].value[0])),o[H7]!==void 0&&(c.numericValueQualifierCode=Md(o[H7].value[0])),c}(n);else if(e===vu)t.value=function(o){const c=new TI;return o[W7]!==void 0&&(c.referencedFrameNumber=o[W7].value[0]),o[$7]!==void 0&&(c.referencedSOPSequence=X7(o[$7].value[0])),o[K7]!==void 0&&(c.referencedSegmentNumber=o[K7].value[0]),c}(n);else if(e===RI)t.value=X7(cn(n,Co.ReferencedSOPSequence));else if(e===ar)t.value=function(o){const c=new Ry;return o[J7]!==void 0&&(c.graphicData=o[J7].value),o[eR]!==void 0&&(c.graphicType=o[eR].value[0]),o[Z7]!==void 0&&(c.pixelOriginInterpretation=o[Z7].value[0]),o[tR]!==void 0&&(c.fiducialUID=o[tR].value[0]),c}(n);else if(e===Oy)t.value=function(o){const c=new AI;return o[iR]!==void 0&&(c.graphicData=o[iR].value),o[rR]!==void 0&&(c.graphicType=o[rR].value[0]),o[aR]!==void 0&&(c.referencedFrameofReferenceUID=o[aR].value[0]),o[oR]!==void 0&&(c.fiducialUID=o[oR].value[0]),c}(n);else{const o=OI[e];o!==void 0?t.value=cn(n,Co[o]):console.warn("Unsupported input ValueType: "+e)}const a=bo(n,Co.ContentSequence);if(a!==void 0)for(const o of a)t.contentSequence.push(Hg(o));return t}function z3(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[qc(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[qc(n.value)]};else if(n.valueType===Ml)e={...e,...Dj(n.value)};else if(n.valueType===vu)e={...e,...Tj(n.value)};else if(n.valueType===RI)e={...e,...DI(n.value)};else if(n.valueType===ar)e={...e,...wj(n.value)};else if(n.valueType===Oy)e={...e,...xj(n.value)};else{const t=OI[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(z3(t))}return e}function sR(n,e,t,i){const a=function(f){const g=O4[f];let S;return g!==void 0&&(S=xy(g.key,g.scheme)),S}(n);if(a===void 0)return;let o=xn;i!==void 0&&(o=i);const c=new Zt(Ml);c.relationshipType=o,c.conceptNameCode=a;const l=new $6;l.numericValue=e,l.measurementUnitsCode=bP(t);const h=new K6;return h.measuredValue=l,c.value=h,c}function lR(n,e){const t=Object.keys(e);for(const i of t)n[i]!==void 0&&Re.debug("Overwritting tag: "+i),n[i]=e[i]}class Aj{constructor(){ae(this,"current");ae(this,"measure")}}class Rj{constructor(){ae(this,"annotationGroups");ae(this,"responseEvaluations");ae(this,"comment")}}var S0,Fe,Q3,H3,ay,jg,PI,oy,j3,sy,ly,Y3,cy,LI,II,EI,_I,MI,FI,uy,kI,UI,dy,NI,qI,BI,GI,VI,zI,QI,HI,jI,YI,X3,Id,XI,WI,$I,KI,ZI,JI,eE;class QC{constructor(){V(this,Fe);V(this,S0)}getWarning(){return u(this,S0)}checkElements(e){return H(this,S0,void 0),z(this,Fe,Q3).call(this,e)||z(this,Fe,H3).call(this,e)||z(this,Fe,ay).call(this,e)||H(this,S0,"Not a dwv supported annotation"),u(this,S0)}create(e){const t=Hg(e);let i,a;if(z(this,Fe,H3).call(this,e)?(a="TID 1500 SR",i=z(this,Fe,HI).call(this,t)):z(this,Fe,Q3).call(this,e)&&(Re.warn("DWV v0.34 annotation"),a="DWV v0.34 SR",i=z(this,Fe,YI).call(this,t)),z(this,Fe,ay).call(this,e)){a="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(i=o.annotationGroups[0])}if(i===void 0)throw new Error("Cannot create annotation group from "+a);return z(this,Fe,X3).call(this,i,e),i}createCADReport(e){const t=Hg(e),i=z(this,Fe,jI).call(this,t);if(i===void 0)return void Re.warn("No CAD processing and Findings Summary in TID 4100 SR");let a=[];if(z(this,Fe,ay).call(this,e)&&(a=z(this,Fe,zI).call(this,i)),a===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const h of a)z(this,Fe,X3).call(this,h,e);const o=[];let c;for(const h of i.contentSequence)if(z(this,Fe,II).call(this,h)){const f=z(this,Fe,eE).call(this,h);f!==void 0&&o.push(f)}else z(this,Fe,EI).call(this,h)&&(c=h.value);const l=new Rj;return l.annotationGroups=a,l.responseEvaluations=o,l.comment=c,l}toDicom(e,t){let i=e.getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=A4(w4(a)),i.ContentTime=R4(x4(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let c=o.ReferencedSOPSequence;c===void 0&&(o.ReferencedSOPSequence={value:[]},c=o.ReferencedSOPSequence);const l=c.value;for(const f of e.getList()){const g={ReferencedSOPInstanceUID:f.referencedSopInstanceUID,ReferencedSOPClassUID:f.referencedSopClassUID},S=function(b){return b.ReferencedSOPInstanceUID===g.ReferencedSOPInstanceUID&&b.ReferencedSOPClassUID===g.ReferencedSOPClassUID};l.find(S)===void 0&&l.push(g)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const h=z(this,Fe,$I).call(this,e);if(h===void 0)throw new Error("No annotation group SR content");return i={...i,...z3(h)},t!==void 0&&lR(i,t),lp(i)}toDicomCADReport(e,t){let i=e.annotationGroups[0].getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=A4(w4(a)),i.ContentTime=R4(x4(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let c=o.ReferencedSOPSequence;c===void 0&&(o.ReferencedSOPSequence={value:[]},c=o.ReferencedSOPSequence);const l=c.value;for(const g of e.annotationGroups)for(const S of g.getList()){const b={ReferencedSOPInstanceUID:S.referencedSopInstanceUID,ReferencedSOPClassUID:S.referencedSopClassUID},m=function(y){return y.ReferencedSOPInstanceUID===b.ReferencedSOPInstanceUID&&y.ReferencedSOPClassUID===b.ReferencedSOPClassUID};l.find(m)===void 0&&l.push(b)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const h=new Zt(Ha);h.relationshipType=xn,h.conceptNameCode=at(WA),h.value=at($Q),h.contentSequence=[];for(const g of e.responseEvaluations){const S=z(this,Fe,JI).call(this,g);h.contentSequence.push(S)}for(const g of e.annotationGroups)z(this,Fe,ZI).call(this,g,h.contentSequence);if(e.comment!==void 0){const g=new Zt(sa);g.relationshipType=xn,g.conceptNameCode=at(n7),g.value=e.comment,h.contentSequence.push(g)}const f=new Zt(za);if(f.conceptNameCode=at(ZA),f.value=Mg,f.contentSequence.push(h),f===void 0)throw new Error("No annotation group SR content");return i={...i,...z3(f)},t!==void 0&&lR(i,t),lp(i)}}S0=new WeakMap,Fe=new WeakSet,Q3=function(e){const t=function(l){let h;return l.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(h=l.substring(29).replace(".99","-beta")),h}(cn(e,"00020012")),i=t!==void 0&&function(l){const h=_A(l,"0.34.0"),f=_A(l,"0.35.0-beta.21");return h>=0&&f<=0}(t),a=zC(e);let o;const c=Hg(e);return c.conceptNameCode!==void 0&&(o=c.conceptNameCode.value),i&&a===void 0&&o===p2.value},H3=function(e){const t=zC(e)==="DCMR-1500";let i;const a=Hg(e);a.conceptNameCode!==void 0&&(i=a.conceptNameCode.value);let o=!1;if(t&&i===FC.value){const c=a.contentSequence.find(z(this,Fe,Y3));if(c!==void 0){const l=c.contentSequence.find(z(this,Fe,cy));if(l!==void 0){const h=l.contentSequence.find(z(this,Fe,uy)),f=l.contentSequence.find(z(this,Fe,dy));h===void 0&&f===void 0||(o=!0)}}}return o},ay=function(e){return zC(e)==="DCMR-4100"},jg=function(e,t){t.valueType===vu&&t.relationshipType===_g&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))},PI=function(e,t){t.hasHeader(w2,at(f2),fs)&&(e.trackingId=t.value,e.trackingUid=t.value)},oy=function(e,t){t.hasHeader(sa,at(f2),fu)&&(e.trackingId=t.value),t.hasHeader(w2,at(MC),fu)&&(e.trackingUid=t.value)},j3=function(e,t,i){i===void 0&&(i=!1);let a=T2;if(i&&(a=fs),t.hasHeader(sa,at(i7),a)){e.textExpr=t.value;const o=t.contentSequence.find(function(c){return c.hasHeader(ar,at(g2),fs)});o!==void 0&&(e.labelPosition=new Le(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader(sa,o7(),a)&&(e.colour=t.value),t.hasHeader(ar,at(g2),a)&&t.value.graphicType===C2){const o=[];for(let c=0;c<t.value.graphicData.length;c+=2)o.push(new Le(t.value.graphicData[c],t.value.graphicData[c+1]));e.referencePoints=o}if(t.hasHeader(Oy,at(a7),xn)&&t.value.graphicType===C2){const o=t.value.graphicData,c=[],l=Math.floor(o.length/3);for(let h=0;h<l;++h){const f=3*h;c.push(new Xt(o[f],o[f+1],o[f+2]))}e.planePoints=c}z(this,Fe,sy).call(this,e,t),z(this,Fe,ly).call(this,e,t)},sy=function(e,t,i){let a;if(i===void 0&&(a=xn),t.valueType===Ml&&t.relationshipType===a){const o=function(c){let l;for(const h in O4){const f=O4[h];if(f.scheme===c.schemeDesignator&&f.key===c.value){l=h;break}}return l}(t.conceptNameCode);if(o!==void 0){const c=t.value.measuredValue,l=function(h){let f;for(const g in P4){const S=P4[g];if(h.schemeDesignator==="UCUM"&&S===h.value){f=g;break}}return f}(c.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:c.numericValue,unit:l}}}},ly=function(e,t){t.valueType!==Ha&&t.valueType!==sa||t.relationshipType!==xn||e.addMetaItem(t.conceptNameCode,t.value)},Y3=function(e){return e.hasHeader(za,at(r7),xn)},cy=function(e){return e.hasHeader(za,at(p2),xn)},LI=function(e){return e.hasHeader(Ha,at(KA),gu)},II=function(e){return e.hasHeader(za,at(JA),fs)},EI=function(e){return e.hasHeader(sa,at(n7),xn)},_I=function(e){return e.hasHeader(Ha,at(t7),xn)},MI=function(e){return e.hasHeader(Ml,at(e7),xn)},FI=function(e){return e.hasHeader(Ha,at(WA),xn)},uy=function(e){return e.hasHeader(ar,at($A),xn)},kI=function(e){return e.contentSequence.find(z(this,Fe,uy))!==void 0},UI=function(e){let t;const i=e.contentSequence.find(z(this,Fe,uy));if(i!==void 0){t=new tl,t.mathShape=D2(i.value);const a=i.contentSequence.find(function(o){return o.valueType===vu&&o.relationshipType===_g});a!==void 0&&z(this,Fe,jg).call(this,t,a);for(const o of e.contentSequence)z(this,Fe,oy).call(this,t,o),z(this,Fe,j3).call(this,t,o)}return t},dy=function(e){let t;return e.valueType===Ml&&e.relationshipType===xn&&(t=e.contentSequence.find(function(i){return i.valueType===ar&&i.relationshipType===gu})),t!==void 0},NI=function(e){let t;return e.valueType===Ml&&e.relationshipType===fs&&(t=e.contentSequence.find(function(i){return i.valueType===ar&&i.relationshipType===gu})),t!==void 0},qI=function(e){return e.contentSequence.find(z(this,Fe,dy))!==void 0},BI=function(e){let t;const i=e.contentSequence.find(z(this,Fe,dy));if(i!==void 0){t=new tl;const a=i.contentSequence.find(function(c){return c.valueType===ar&&c.relationshipType===gu});t.mathShape=D2(a.value),t.mathShape instanceof Le&&a.value.graphicData.length>=4&&(t.referencePoints=[new Le(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(c){return c.valueType===vu&&c.relationshipType===_g});o!==void 0&&z(this,Fe,jg).call(this,t,o)}if(t!==void 0)for(const a of e.contentSequence)z(this,Fe,oy).call(this,t,a),z(this,Fe,sy).call(this,t,i),z(this,Fe,ly).call(this,t,a);return t},GI=function(e){let t;const i=e.contentSequence.find(z(this,Fe,NI));if(i!==void 0){t=new tl;const a=i.contentSequence.find(function(c){return c.valueType===ar&&c.relationshipType===gu});t.mathShape=D2(a.value),t.mathShape instanceof Le&&a.value.graphicData.length>=4&&(t.referencePoints=[new Le(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(c){return c.valueType===vu&&c.relationshipType===_g});o!==void 0&&z(this,Fe,jg).call(this,t,o)}if(t!==void 0)for(const a of e.contentSequence)z(this,Fe,oy).call(this,t,a),z(this,Fe,sy).call(this,t,i,fs),z(this,Fe,ly).call(this,t,a);return t},VI=function(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let i=!1,a=!1;z(this,Fe,cy).call(this,t)&&(i=z(this,Fe,kI).call(this,t),a=z(this,Fe,qI).call(this,t));const o=[];let c,l=!1;for(const h of e.contentSequence)if(z(this,Fe,cy).call(this,h)){let f;l=!0,i?f=z(this,Fe,UI).call(this,h):a&&(f=z(this,Fe,BI).call(this,h)),f!==void 0&&o.push(f)}return l?o.length!==0?c=new ep(o):Re.warn("No valid measurement groups in TID 1500 SR"):Re.warn("No measurement groups in TID 1500 SR"),c},zI=function(e){const t=[];let i=!1;for(const o of e.contentSequence)if(z(this,Fe,LI).call(this,o)){i=!0;const c=z(this,Fe,GI).call(this,o);c!==void 0&&t.push(c)}const a=[];return i?t.length!==0?a.push(new ep(t)):Re.warn("No valid measurement groups in TID 4100 SR"):Re.warn("No image findings in TID 4100 SR"),a},QI=function(e){const t=new tl;t.mathShape=D2(e.value);for(const i of e.contentSequence)z(this,Fe,jg).call(this,t,i),z(this,Fe,PI).call(this,t,i),z(this,Fe,j3).call(this,t,i,!0);return t},HI=function(e){let t;e.valueType===za&&k2(e.conceptNameCode,at(FC))||Re.warn("Not the expected TID 1500 SR content header");const i=e.contentSequence.find(z(this,Fe,Y3));return i!==void 0?t=z(this,Fe,VI).call(this,i):Re.warn("No imaging measurements in TID 1500 SR"),t},jI=function(e){return e.valueType===za&&k2(e.conceptNameCode,at(ZA))||Re.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(z(this,Fe,FI))},YI=function(e){e.valueType===za&&k2(e.conceptNameCode,at(p2))||console.warn("Not the expected dwv034 content header");const t=[];for(const i of e.contentSequence)i.valueType===ar&&t.push(z(this,Fe,QI).call(this,i));return new ep(t)},X3=function(e,t){const i=function(c){return cn(t,c)};e.setMetaValue("StudyInstanceUID",i("0020000D")),e.setMetaValue("StudyID",i("00200010")),e.setMetaValue("SeriesInstanceUID",i("0020000E")),e.setMetaValue("SeriesNumber",i("00200011")),e.setMetaValue("Modality",i("00080060")),e.setMetaValue("PatientName",i("00100010")),e.setMetaValue("PatientID",i("00100020")),e.setMetaValue("PatientBirthDate",i("00100030")),e.setMetaValue("PatientSex",i("00100040"));const a="0040A375",o=t[a];if(o!==void 0){const c=qQ({[a]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",c.CurrentRequestedProcedureEvidenceSequence)}},Id=function(e){const t=new Zt(vu);t.relationshipType=_g,t.conceptNameCode=at(nH);const i=new CI;i.referencedSOPClassUID=e.referencedSopClassUID,i.referencedSOPInstanceUID=e.referencedSopInstanceUID;const a=new TI;return a.referencedSOPSequence=i,e.referencedFrameNumber!==void 0&&(a.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=a,t},XI=function(e){const t=[],i=new Zt(sa);i.relationshipType=fu,i.conceptNameCode=at(f2),i.value=e.trackingId,t.push(i);const a=new Zt(w2);if(a.relationshipType=fu,a.conceptNameCode=at(MC),a.value=e.trackingUid,t.push(a),e.textExpr!==void 0&&e.textExpr.length!==0){const l=new Zt(sa);if(l.relationshipType=T2,l.conceptNameCode=at(i7),l.value=e.textExpr,e.labelPosition!==void 0){const h=new Zt(ar);h.relationshipType=fs,h.conceptNameCode=at(g2);const f=new Ry;f.graphicType=Z6;const g=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];f.graphicData=g,h.value=f;const S=z(this,Fe,Id).call(this,e);h.contentSequence=[S],l.contentSequence=[h]}t.push(l)}const o=new Zt(sa);if(o.relationshipType=T2,o.conceptNameCode=o7(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const l=new Zt(ar);l.relationshipType=T2,l.conceptNameCode=at(g2);const h=new Ry;h.graphicType=C2;const f=[];for(const S of e.referencePoints)f.push(S.getX().toString()),f.push(S.getY().toString());h.graphicData=f,l.value=h;const g=z(this,Fe,Id).call(this,e);l.contentSequence=[g],t.push(l)}if(e.planePoints!==void 0){const l=new Zt(Oy);l.relationshipType=xn,l.conceptNameCode=at(a7);const h=new AI;h.graphicType=C2;const f=[];for(const S of e.planePoints)f.push(S.getX().toString()),f.push(S.getY().toString()),f.push(S.getZ().toString());h.graphicData=f,l.value=h;const g=z(this,Fe,Id).call(this,e);l.contentSequence=[g],t.push(l)}if(e.quantification!==void 0)for(const l in e.quantification){const h=sR(l,Go(e.quantification[l].value,12),e.quantification[l].unit);h!==void 0&&t.push(h)}const c=e.getMetaConceptIds();for(const l of c){const h=e.getMetaItem(l);let f=sa;h.value instanceof cp&&(f=Ha);const g=new Zt(f);g.relationshipType=xn,g.conceptNameCode=h.concept,g.value=h.value,t.push(g)}return t},WI=function(e){const t=new Zt(za);t.relationshipType=xn,t.conceptNameCode=at(p2),t.value=Mg;const i=new Zt(ar);i.relationshipType=xn,i.conceptNameCode=at($A),i.value=nR(e.mathShape);const a=z(this,Fe,Id).call(this,e);return i.contentSequence=[a],t.contentSequence=[i].concat(z(this,Fe,XI).call(this,e)),t},$I=function(e){let t;if(e.getList().length!==0){const i=new Zt(za);i.conceptNameCode=at(r7),i.relationshipType=xn,i.value=Mg;const a=[];for(const o of e.getList())a.push(z(this,Fe,WI).call(this,o));i.contentSequence=a,t=new Zt(za),t.conceptNameCode=at(FC),t.value=Mg,t.contentSequence=[i]}return t},KI=function(e){const t=new Zt(Ha);t.relationshipType=gu,t.conceptNameCode=at(KA),t.value=at(WQ),t.contentSequence=[];const i=new Zt(sa);i.relationshipType=fu,i.conceptNameCode=at(f2),i.value=e.trackingId,t.contentSequence.push(i);const a=new Zt(w2);if(a.relationshipType=fu,a.conceptNameCode=at(MC),a.value=e.trackingUid,t.contentSequence.push(a),e.quantification!==void 0)for(const c in e.quantification){const l=sR(c,Go(e.quantification[c].value,12),e.quantification[c].unit,fs);if(l!==void 0){const h=new Zt(ar);h.relationshipType=gu,h.conceptNameCode=at(eH),h.value=nR(e.mathShape);const f=z(this,Fe,Id).call(this,e);h.contentSequence=[f],l.contentSequence=[h],t.contentSequence.push(l)}}const o=e.getMetaConceptIds();for(const c of o){const l=e.getMetaItem(c);let h=sa;l.value instanceof cp&&(h=Ha);const f=new Zt(h);f.relationshipType=xn,f.conceptNameCode=l.concept,f.value=l.value,t.contentSequence.push(f)}return t},ZI=function(e,t){if(e.getList().length!==0)for(const i of e.getList())t.push(z(this,Fe,KI).call(this,i))},JI=function(e){const t=new Zt(za);t.relationshipType=fs,t.conceptNameCode=at(JA),t.value=Mg,t.contentSequence=[];const i=new Zt(Ha);if(i.relationshipType=fu,i.conceptNameCode=at(KQ),i.value=at(ZQ),t.contentSequence.push(i),e!==void 0){if(e.current!==void 0){const a=new Zt(Ha);a.relationshipType=xn,a.conceptNameCode=at(t7),a.value=e.current,t.contentSequence.push(a)}if(e.measure!==void 0){const a=new Zt(Ml);a.relationshipType=xn,a.conceptNameCode=at(e7);const o=new $6;o.numericValue=e.measure,o.measurementUnitsCode=bP("unit.mm");const c=new K6;c.measuredValue=o,a.value=c,t.contentSequence.push(a)}}return t},eE=function(e){let t,i,a;for(const o of e.contentSequence)z(this,Fe,_I).call(this,o)?t=o.value:z(this,Fe,MI).call(this,o)&&(i=o.value.measuredValue.numericValue);return t!==void 0&&(a=new Aj,a.current=t,i!==void 0&&(a.measure=i)),a};var y0,Ea,v0,$s,Ks,wm,ni,tE,W3,$3,nE,iE,rE,aE,oE;class Oj{constructor(){V(this,ni);V(this,y0);V(this,Ea,null);V(this,v0,[]);V(this,$s,[]);V(this,Ks,[]);V(this,wm,[])}setOptions(e){H(this,y0,e)}convert(e,t,i){this.onloadstart({source:t,index:i});const a=new fP;let o;u(this,y0).defaultCharacterSet!==void 0&&a.setDefaultCharacterSet(u(this,y0).defaultCharacterSet);try{a.parse(e),o=z(this,ni,tE).call(this,a.getDicomElements()),o.checkElements(a.getDicomElements())}catch(c){return this.onerror({error:c,source:t}),void this.onloadend({source:t})}u(this,v0)[i]=a,u(this,wm)[i]=o,o instanceof QC?z(this,ni,aE).call(this,i,t):z(this,ni,oE).call(this,i,t)}abort(){u(this,Ea)&&u(this,Ea).abort()}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}y0=new WeakMap,Ea=new WeakMap,v0=new WeakMap,$s=new WeakMap,Ks=new WeakMap,wm=new WeakMap,ni=new WeakSet,tE=function(e){let t;const i=e["00080060"];if(i!==void 0){const a=i.value[0];a==="SEG"?t=new L4:a==="SR"&&(t=new QC)}return t===void 0&&(t=new YQ),t},W3=function(e,t){const i=u(this,v0)[e].getDicomElements(),a=u(this,wm)[e];if(a===void 0)return!1;try{const o=new X6(i);a instanceof QC?a.checkElements(i)===void 0&&(o.annotationGroup=a.create(i)):a instanceof L4?o.buffer=u(this,Ks)[e]:o.image=a.create(i,u(this,Ks)[e],u(this,y0).numberOfFiles),this.onloaditem({data:o,source:t,warn:a.getWarning()})}catch(o){return this.onerror({error:o,source:t}),this.onloadend({source:t}),!1}return!0},$3=function(e,t){z(this,ni,W3).call(this,e,t)&&this.onload({source:t}),this.onloadend({source:t})},nE=function(e,t){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),z(this,ni,$3).call(this,e,t)},iE=function(e,t,i){const a=u(this,v0)[e],o={bitsAllocated:a.getDicomElements()["00280100"].value[0],isSigned:a.getDicomElements()["00280103"].value[0]===1},c=a.getDicomElements()["00280011"],l=a.getDicomElements()["00280010"];c!==void 0&&l!==void 0&&(o.sliceSize=c.value[0]*l.value[0]);const h=a.getDicomElements()["00280002"];h!==void 0&&(o.samplesPerPixel=h.value[0]);const f=a.getDicomElements()["00280006"];f!==void 0&&(o.planarConfiguration=f.value[0]);const g=t.length;u(this,Ea)===null&&(H(this,Ea,new bj(i)),u(this,Ea).ondecodeditem=S=>{z(this,ni,rE).call(this,S),S.itemNumber+1===S.numberOfItems&&(this.onload(S),this.onloadend(S))},u(this,Ea).onerror=this.onerror,u(this,Ea).onabort=this.onabort);for(let S=0;S<g;++S)u(this,Ea).decode(t[S],o,{itemNumber:S,numberOfItems:g,index:e})},rE=function(e){this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:origin});const t=e.index,i=e.data[0];if(e.numberOfItems!==1){if(u(this,$s)[t]===void 0){u(this,$s)[t]=i.length;const a=e.numberOfItems*u(this,$s)[t];try{u(this,Ks)[t]=new i.constructor(a)}catch(o){if(o instanceof RangeError){const c=Math.floor(Math.log(a)/Math.log(2));Re.error("Cannot allocate "+i.constructor.name+" of size: "+a+" (>2^"+c+") for decompressed data.")}return u(this,Ea).abort(),this.onerror({error:o,source:origin}),void this.onloadend({source:origin})}}i.length!==u(this,$s)[t]&&Re.warn("Unsupported varying decompressed data size: "+i.length+" != "+u(this,$s)[t]),u(this,Ks)[t].set(i,u(this,$s)[t]*e.itemNumber)}else u(this,Ks)[t]=i;e.itemNumber===0&&z(this,ni,W3).call(this,t,origin)},aE=function(e,t){z(this,ni,$3).call(this,e,t)},oE=function(e,t){const i=u(this,v0)[e].getDicomElements();let a=i["7FE00010"];a===void 0&&(a=i["7FE00008"]),a===void 0&&(a=i["7FE00009"]);const o=a.value;u(this,Ks)[e]=o[0];const c=function(l){let h;return Q6(l)?h="jpeg2000":V6(l)?h="jpeg-baseline":z6(l)?h="jpeg-lossless":hP(l)&&(h="rle"),h}(i["00020010"].value[0]);c!==void 0?z(this,ni,iE).call(this,e,o,c):z(this,ni,nE).call(this,e,t)};var Dc,Tc,mf,Sf,xm,Bc,sE,lE,cE,Zy,Jy;class K3{constructor(){V(this,Bc);V(this,Dc,null);V(this,Tc,null);V(this,mf,0);V(this,Sf,0);V(this,xm);V(this,Zy,e=>{Er(this,mf)._++,u(this,mf)===u(this,Dc).length&&this.onload({source:u(this,Dc)})});V(this,Jy,e=>{Er(this,Sf)._++,u(this,Sf)===u(this,Dc).length&&this.onloadend({source:u(this,Dc)})})}getDefaultCharacterSet(){return u(this,xm)}setDefaultCharacterSet(e){H(this,xm,e)}load(e){if(e===void 0||e.length===0)return;z(this,Bc,sE).call(this,e),this.onloadstart({source:e});const t=new W6(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const i=[];for(let l=0;l<kf.length;++l)i.push(new kf[l]);let a=e[0],o=null,c=!1;for(let l=0;l<i.length;++l)if(o=i[l],o.canLoadMemory(a)){c=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=u(this,Zy),o.onloadend=u(this,Jy),o.onerror=this.onerror,o.onabort=this.onabort,z(this,Bc,lE).call(this,o);break}if(!c)throw new Error("No loader found for data: "+a.filename);for(let l=0;l<e.length;++l){if(a=e[l],!o.canLoadMemory(a))throw new Error("Input data of different type: "+a.filename);o.load(a.data,a.filename,l)}}abort(){u(this,Tc)&&u(this,Tc).isLoading()&&u(this,Tc).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}Dc=new WeakMap,Tc=new WeakMap,mf=new WeakMap,Sf=new WeakMap,xm=new WeakMap,Bc=new WeakSet,sE=function(e){H(this,Dc,e),H(this,mf,0),H(this,Sf,0),z(this,Bc,cE).call(this)},lE=function(e){H(this,Tc,e)},cE=function(){H(this,Tc,null)},Zy=new WeakMap,Jy=new WeakMap;function x2(n){return parseInt(n,36).toString()}function cR(n){const e=n.data.length,t=new Uint8Array(e/4*3);let i=0;for(let a=0;a<e;a+=4)t[i]=n.data[a],t[i+1]=n.data[a+1],t[i+2]=n.data[a+2],i+=3;return t}function uR(n,e,t,i,a,o){const c=new il([n,e,1]),l=new Ec([1,1,1]),h=new Xt(0,0,t),f=new _c([h],c,l),g=new L0(f,i,[o]);g.setPhotometricInterpretation("RGB");const S={BitsStored:8};return a!==void 0&&(S.numberOfFiles=a),g.setMeta(S),g}var Pj=function(n){var e={};return Oi.d(e,n),e}({default:function(){return pQ}}),Am,wc,Xr,IR,b0,ER,C0,_R,yf,ev,uE,MR,tv,dE,FR,D0,vf,Fo,ko,Rm,Z3,kR;const kf=[(IR=class{constructor(){V(this,Am,{});V(this,wc,!1);V(this,Xr,new Oj)}setOptions(n){H(this,Am,n)}isLoading(){return u(this,wc)}load(n,e,t){u(this,wc)||(u(this,Xr).setOptions(u(this,Am)),u(this,Xr).onloadstart=this.onloadstart,u(this,Xr).onprogress=this.onprogress,u(this,Xr).onloaditem=this.onloaditem,u(this,Xr).onload=this.onload,u(this,Xr).onloadend=i=>{H(this,wc,!1),this.onloadend(i)},u(this,Xr).onerror=i=>{i.source=e,this.onerror(i)},u(this,Xr).onabort=this.onabort),H(this,wc,!0),u(this,Xr).convert(n,e,t)}abort(){H(this,wc,!1),u(this,Xr).abort()}canLoadFile(n){const e=Il(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const l=function(f){return f.name==="Accept"},h=e.requestHeaders.find(l);if(h!==void 0){const f="application/dicom";return cu(h.value,f)&&h.value[f.length]!=="+"}}}const t=Eg(n),i=Il(t.pathname),a=i===null,o=i==="dcm",c=t.searchParams.get("contentType");return c!=null?c==="application/dicom":a||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ms.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Am=new WeakMap,wc=new WeakMap,Xr=new WeakMap,IR),(ER=class{constructor(){V(this,b0,!1)}setOptions(n){}isLoading(){return u(this,b0)}load(n,e,t){H(this,b0,!0),this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i={data:n,source:e};this.onloaditem(i),this.onload(i)}catch(i){this.onerror({error:i,source:e})}finally{H(this,b0,!1),this.onloadend({source:e})}}abort(){H(this,b0,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return Il(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return cu(i.value,"application/json")||cu(i.value,"application/dicom+json")}}return Il(Eg(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ms.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},b0=new WeakMap,ER),(_R=class{constructor(){V(this,C0,!1)}setOptions(n){}isLoading(){return u(this,C0)}load(n,e,t){this.onloadstart({source:e}),H(this,C0,!0);const i=new K3;i.onprogress=a=>{a.loaded=50+a.loaded/2,a.index=t,this.onprogress(a)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=a=>{H(this,C0,!1),this.onloadend(a)},i.onerror=this.onerror,i.onabort=this.onabort,i.load(function(a){const o=new Uint8Array(a),c=[];if(o.length===0)return c;const l=RA(new Uint8Array([13,10,13,10]));let h=d2(o,l,0);if(h===void 0)throw new Error("Can't find the end of the first multipart header");const f=AA(o.slice(0,h)).split(`\r
`);let g;for(let y=0;y<f.length;++y)if(f[y][0]==="-"&&f[y][1]==="-"){g=f[y];break}if(g===void 0)throw new Error("Can't find the boundary between multi-parts");const S=RA(LQ(g)),b=g.length;let m=d2(o,S,0);for(;h!==void 0;){const y={},v=AA(o.slice(m+b,h)).split(`\r
`);for(let T=0;T<v.length;++T){const C=v[T],A=C.indexOf(":");if(A!==-1){const R=C.substring(0,A).trim(),E=C.substring(A+1).trim();y[R]=E}}if(m=d2(o,S,h),m===void 0)break;const D=h+4,x=m-2;y.data=D<x?o.slice(D,x).buffer:new Uint8Array,c.push(y),h=d2(o,l,m+b)}return c}(n))}abort(){H(this,C0,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return cu(i.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return ms.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},C0=new WeakMap,_R),(MR=class{constructor(){V(this,ev);V(this,yf,!1)}setOptions(n){}isLoading(){return!0}load(n,e,t){H(this,yf,!1);const i=new Image;if(i.onload=()=>{try{if(!u(this,yf)){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const a=function(o,c,l){const h=o.width,f=o.height,g=document.createElement("canvas");g.width=h,g.height=f;const S=g.getContext("2d");S.drawImage(o,0,0);const b=S.getImageData(0,0,h,f),m={};let y;typeof c=="string"?(m.origin={value:c},y=x2(c)):(m.fileName={value:c.name},y=x2(c.name),m.fileType={value:c.type},m.fileLastModifiedDate={value:c.lastModified}),m.imageWidth={value:h},m.imageHeight={value:f};const v=l||0;m.imageUid={value:v},m.seriesUid={value:y};const D=uR(h,f,v,cR(b),1,v.toString()),x=D.getMeta();return x.SeriesInstanceUID=y,D.setMeta(x),{data:{image:D,meta:m},source:c}}(i,e,t);this.onloaditem(a),this.onload(a)}}catch(a){this.onerror({error:a,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")i.src=n;else if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=z(this,ev,uE).call(this,n,a)}}abort(){H(this,yf,!0),this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const c=function(h){return h.name==="Accept"},l=e.requestHeaders.find(c);if(l!==void 0)return cu(l.value,"image/")}}const t=Eg(n),i=Il(t.pathname),a=i==="jpeg"||i==="jpg"||i==="png"||i==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":a}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return ms.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},yf=new WeakMap,ev=new WeakSet,uE=function(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const i=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(i)},MR),(FR=class{constructor(){V(this,tv)}setOptions(n){}isLoading(){return!0}load(n,e,t){const i=document.createElement("video");if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=z(this,tv,dE).call(this,n,a)}else i.src=n;i.onloadedmetadata=a=>{try{(function(o,c,l,h,f,g,S){const b=o.videoWidth,m=o.videoHeight,y=Math.ceil(30*o.duration),v={};let D;typeof g=="string"?(v.origin={value:g},D=x2(g)):(v.fileName={value:g.name},D=x2(g.name),v.fileType={value:g.type},v.fileLastModifiedDate={value:g.lastModified}),v.imageWidth={value:b},v.imageHeight={value:m},v.numberOfFrames={value:y},v.imageUid={value:0},v.seriesUid={value:D};const x=document.createElement("canvas");x.width=b,x.height=m;const T=x.getContext("2d");o.addEventListener("seeked",function E(U){(function(){h({lengthComputable:!0,loaded:C,total:y,index:S,source:g}),T.drawImage(o,0,0);const _=cR(T.getImageData(0,0,b,m));if(C===0){A=uR(b,m,1,_,y,S.toString());const M=A.getMeta();M.SeriesInstanceUID=D,A.setMeta(M),c({data:{image:A,meta:v},source:g})}else A.appendFrameBuffer(_,C);++C})(),R+=1/30,R<=U.target.duration?this.currentTime=R:(l({source:g}),f({source:g}),o.removeEventListener("seeked",E))},!1);let C=0,A=null,R=0;o.currentTime=R})(a.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const i=function(o){return o.name==="Accept"},a=e.requestHeaders.find(i);if(a!==void 0)return cu(a.value,"video/")}}const t=Il(Eg(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return ms.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},tv=new WeakSet,dE=function(n,e){const t=new Uint8Array(n);let i="";for(let a=0;a<t.byteLength;++a)i+=String.fromCharCode(t[a]);return"data:video/"+e+";base64,"+window.btoa(i)},FR),(kR=class{constructor(){V(this,Rm);V(this,D0,!1);V(this,vf,"");V(this,Fo,[]);V(this,ko,null)}setOptions(n){}isLoading(){return u(this,D0)}load(n,e,t){this.onloadstart({source:e}),H(this,D0,!0),Pj.default.loadAsync(n).then(i=>{H(this,Fo,[]),H(this,ko,i.file(/.*\.dcm/));const a=u(this,Fo).length;H(this,vf,u(this,ko)[a].name),u(this,ko)[a].async("arrayBuffer").then(o=>{z(this,Rm,Z3).call(this,o,e,t)})})}abort(){H(this,D0,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return Il(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return cu(i.value,"application/zip")}}return Il(Eg(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ms.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},D0=new WeakMap,vf=new WeakMap,Fo=new WeakMap,ko=new WeakMap,Rm=new WeakSet,Z3=function(n,e,t){u(this,Fo).push({filename:u(this,vf),data:n});const i=100*u(this,Fo).length/u(this,ko).length;if(this.onprogress({lengthComputable:!0,loaded:i/2,total:100,index:t,item:{loaded:i,total:100,source:e}}),u(this,Fo).length<u(this,ko).length){const a=u(this,Fo).length;H(this,vf,u(this,ko)[a].name),u(this,ko)[a].async("arrayBuffer").then(o=>{z(this,Rm,Z3).call(this,o,e,t)})}else{const a=new K3;a.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},a.onloaditem=this.onloaditem,a.onload=this.onload,a.onloadend=o=>{H(this,D0,!1),this.onloadend(o)},a.onerror=this.onerror,a.onabort=this.onabort,a.load(u(this,Fo))}},kR)],ms={Text:0,ArrayBuffer:1,DataURL:2};var xc,Ac,Rc,bf,Cf,Om,Si,hE,fE,gE,pE,mE,nv,Df,hy,SE;class dR{constructor(){V(this,Si);V(this,xc,null);V(this,Ac,[]);V(this,Rc,null);V(this,bf,0);V(this,Cf,0);V(this,Om);V(this,nv,e=>{Er(this,bf)._++,u(this,bf)===u(this,xc).length&&this.onload({source:u(this,xc)})});V(this,Df,e=>{Er(this,Cf)._++,u(this,Cf)===u(this,xc).length&&this.onloadend({source:u(this,xc)})})}getDefaultCharacterSet(){return u(this,Om)}setDefaultCharacterSet(e){H(this,Om,e)}load(e){if(e===void 0||e.length===0)return;z(this,Si,hE).call(this,e),this.onloadstart({source:e});const t=new W6(this.onprogress);t.setNToLoad(e.length);const i=[];for(let l=0;l<kf.length;++l)i.push(new kf[l]);let a=e[0],o=null,c=!1;for(let l=0;l<i.length;++l)if(o=i[l],o.canLoadFile(a)){c=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=u(this,nv),o.onloadend=u(this,Df),o.onerror=this.onerror,o.onabort=this.onabort,z(this,Si,pE).call(this,o);break}if(!c)throw new Error("No loader found for file: "+a.name);for(let l=0;l<e.length;++l){if(a=e[l],!o.canLoadFile(a))throw new Error("Input file of different type: "+a);const h=new FileReader;z(this,Si,fE).call(this,h),h.onprogress=z(this,Si,hy).call(this,t.getMonoProgressHandler(l,0),a),h.onload=z(this,Si,SE).call(this,o,a,l);const f=z(this,Si,hy).call(this,this.onerror,a);h.onerror=S=>{u(this,Df).call(this),f(S)};const g=z(this,Si,hy).call(this,this.onabort,a);h.onabort=S=>{u(this,Df).call(this),g(S)},o.loadFileAs()===ms.Text?h.readAsText(a):o.loadFileAs()===ms.DataURL?h.readAsDataURL(a):o.loadFileAs()===ms.ArrayBuffer&&h.readAsArrayBuffer(a)}}abort(){for(let e=0;e<u(this,Ac).length;++e)u(this,Ac)[e].readyState===1&&u(this,Ac)[e].abort();u(this,Rc)&&u(this,Rc).isLoading()&&u(this,Rc).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}xc=new WeakMap,Ac=new WeakMap,Rc=new WeakMap,bf=new WeakMap,Cf=new WeakMap,Om=new WeakMap,Si=new WeakSet,hE=function(e){H(this,xc,e),H(this,bf,0),H(this,Cf,0),z(this,Si,gE).call(this),z(this,Si,mE).call(this)},fE=function(e){u(this,Ac).push(e)},gE=function(){H(this,Ac,[])},pE=function(e){H(this,Rc,e)},mE=function(){H(this,Rc,null)},nv=new WeakMap,Df=new WeakMap,hy=function(e,t){return i=>{i.source=t,e(i)}},SE=function(e,t,i){return a=>{e.load(a.target.result,t,i)}};var Tf,vr,ln,yE,vE,bE,CE,Ed,ps;class Lj{constructor(e){V(this,ln);V(this,Tf);V(this,vr,{});H(this,Tf,e)}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?z(this,ln,bE).call(this,e[0],t):z(this,ln,yE).call(this,e,t)}loadURLs(e,t,i){e[0].split(".").pop().toLowerCase()==="json"?z(this,ln,CE).call(this,e[0],t,i):z(this,ln,vE).call(this,e,t,i)}loadImageObject(e,t){const i=new K3;z(this,ln,Ed).call(this,e,i,"image",t)}getLoadingDataIds(){return Object.keys(u(this,vr))}abort(e){u(this,vr)[e]!==void 0&&(u(this,vr)[e].loader.abort(),delete u(this,vr)[e])}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}Tf=new WeakMap,vr=new WeakMap,ln=new WeakSet,yE=function(e,t){const i=new dR;i.setDefaultCharacterSet(u(this,Tf)),z(this,ln,Ed).call(this,e,i,"image",t)},vE=function(e,t,i){const a=new N7;a.setDefaultCharacterSet(u(this,Tf)),z(this,ln,Ed).call(this,e,a,"image",t,i)},bE=function(e,t){const i=new dR;z(this,ln,Ed).call(this,[e],i,"state",t)},CE=function(e,t,i){const a=new N7;z(this,ln,Ed).call(this,[e],a,"state",t,i)},Ed=function(e,t,i,a,o){const c={loadtype:i,dataid:a};t.onloadstart=l=>{u(this,vr)[a]={loader:t,isFirstItem:!0},z(this,ln,ps).call(this,this.onloadstart,c)(l)},t.onprogress=z(this,ln,ps).call(this,this.onprogress,c),t.onloaditem=l=>{const h={loadtype:i,dataid:a};u(this,vr)[a]!==void 0&&(h.isfirstitem=u(this,vr)[a].isFirstItem),z(this,ln,ps).call(this,this.onloaditem,h)(l),u(this,vr)[a]!==void 0&&u(this,vr)[a].isFirstItem&&(u(this,vr)[a].isFirstItem=!1)},t.onload=z(this,ln,ps).call(this,this.onload,c),t.onloadend=l=>{delete u(this,vr)[a],z(this,ln,ps).call(this,this.onloadend,c)(l)},t.onerror=z(this,ln,ps).call(this,this.onerror,c),t.onabort=z(this,ln,ps).call(this,this.onabort,c),t.ontimeout!==void 0&&(t.ontimeout=z(this,ln,ps).call(this,this.ontimeout,c));try{t.load(e,o)}catch(l){return this.onerror({error:l,dataid:a}),void this.onloadend({dataid:a})}},ps=function(e,t){return function(i){const a=Object.keys(t);for(let o=0;o<a.length;++o){const c=a[o];i[c]=t[c]}e(i)}};function Ij(n){return function(e){return Number(e).toPrecision(n)}}function hR(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function HC(n,e){let t=n;for(let i=0;i<e.length;++i)t=t.replace("{v"+i+"}",e[i]);return t}var Oc,wf,Pc,Zs,xf,T0,Js,Af,Pm,Rf,iv,DE;class Ej{constructor(e,t,i){V(this,iv);V(this,Oc);V(this,wf);V(this,Pc);V(this,Zs,[]);V(this,xf);V(this,T0,[]);V(this,Js);V(this,Af,new Kr);V(this,Pm,e=>{e.dataid===u(this,wf)&&e.data!==void 0&&e.data.imageUid!==void 0&&u(this,Js)!==e.data.imageUid&&(H(this,Js,e.data.imageUid),u(this,Rf).call(this,e))});V(this,Rf,e=>{if(e.dataid!==u(this,wf))return;const t=u(this,T0)[u(this,Js)];if(t!==void 0){for(let i=0;i<t.length;++i){let a;if(t[i].tags!==void 0)e.type==="positionchange"&&(a=t[i].value);else if(t[i].event!==void 0&&t[i].event===e.type){const o=t[i].format;let c=e.value;if(t[i].precision!==void 0){let l=null;l=t[i].precision==="round"?Math.round:Ij(t[i].precision),c=c.map(l)}a=HC(o,c)}a!==void 0&&(t[i].value=a)}z(this,iv,DE).call(this,{type:"valuechange",data:t})}else console.warn("No slice overlay data for: "+u(this,Js))});H(this,Oc,e),H(this,wf,t),H(this,Pc,i);const a=Object.keys(u(this,Pc));for(let o=0;o<a.length;++o){const c=u(this,Pc)[a[o]];for(let l=0;l<c.length;++l){const h=c[l].event;h!==void 0&&(u(this,Zs).includes(h)||u(this,Zs).push(h))}}this.addAppListeners()}reset(){H(this,T0,[]),H(this,Js,void 0)}addItemMeta(e){let t;if(e["00020010"]!==void 0)t=e["00080018"]!==void 0?e["00080018"].value[0]:e.length,u(this,T0)[t]=function(i,a){const o=[];let c;const l=i["00080060"];if(l===void 0)return o;c=l.value[0];const h=a[c]||a["*"];if(!h)return o;for(let g=0;g<h.length;++g){const S=JSON.parse(JSON.stringify(h[g])),b=S.tags;if(b!==void 0&&b.length!==0){const m=[];for(let y=0;y<b.length;++y)i[b[y]]!==void 0?m.push(i[b[y]].value):m.push("");S.format!==void 0&&S.format!==null||(S.format=hR(m.length)),S.value=HC(S.format,m).trim()}o.push(S)}const f=i["00200020"];if(f!==void 0&&f.value.length===2){const g=f.value[0],S=f.value[1];o.push({pos:"cr",value:g,format:"{v0}"}),o.push({pos:"cl",value:MA(g),format:"{v0}"}),o.push({pos:"bc",value:S,format:"{v0}"}),o.push({pos:"tc",value:MA(S),format:"{v0}"})}return o}(e,u(this,Pc));else{const i=Object.keys(e);for(let a=0;a<i.length;++a){const o=e[i[a]];if(i[a]==="imageUid"){t=o.value;break}}u(this,T0)[t]=function(a,o){const c=[],l=o.DOM;if(!l)return c;const h=Object.keys(a);for(let f=0;f<l.length;++f){const g=JSON.parse(JSON.stringify(l[f])),S=g.tags;if(S!==void 0&&S.length!==0){const b=[];for(let m=0;m<S.length;++m)for(let y=0;y<h.length;++y)S[m]===h[y]&&b.push(a[h[y]].value);g.format!==void 0&&g.format!==null||(g.format=hR(b.length)),g.value=HC(g.format,b).trim()}c.push(g)}return c}(e,u(this,Pc))}H(this,Js,t)}isListening(){return u(this,xf)}addAppListeners(){u(this,Oc).addEventListener("positionchange",u(this,Pm));for(let e=0;e<u(this,Zs).length;++e)u(this,Oc).addEventListener(u(this,Zs)[e],u(this,Rf));H(this,xf,!0)}removeAppListeners(){u(this,Oc).removeEventListener("positionchange",u(this,Pm));for(let e=0;e<u(this,Zs).length;++e)u(this,Oc).removeEventListener(u(this,Zs)[e],u(this,Rf));H(this,xf,!1)}addEventListener(e,t){u(this,Af).add(e,t)}removeEventListener(e,t){u(this,Af).remove(e,t)}}Oc=new WeakMap,wf=new WeakMap,Pc=new WeakMap,Zs=new WeakMap,xf=new WeakMap,T0=new WeakMap,Js=new WeakMap,Af=new WeakMap,Pm=new WeakMap,Rf=new WeakMap,iv=new WeakSet,DE=function(e){u(this,Af).fireEvent(e)};class TE{constructor(e){ae(this,"divId");ae(this,"orientation");ae(this,"colourMap");ae(this,"opacity");ae(this,"wlPresetName");ae(this,"windowCenter");ae(this,"windowWidth");this.divId=e}}var Pt,xt,br,Ai,$e,Ln,rv,Uo,Of,ii,J3,e6,Dt,av,ov,sv,lv,cv,uv,dv,hv,wE,xE,AE,t6,n6;class _j{constructor(){V(this,ii);V(this,Pt,null);V(this,xt,null);V(this,br,null);V(this,Ai,null);V(this,$e,null);V(this,Ln,null);V(this,rv,new Ay);V(this,Uo,{});V(this,Of,new Kr);ae(this,"addToUndoStack",e=>{u(this,Ln)!==null&&u(this,Ln).add(e)});ae(this,"removeFromUndoStack",e=>{let t=!1;return u(this,Ln)!==null&&(t=u(this,Ln).remove(e)),t});ae(this,"loadFiles",e=>{if(e.length===0)return Re.warn("Ignoring empty input file list."),"-1";const t=u(this,xt).getNextDataId();return u(this,Ai).loadFiles(e,t),t});ae(this,"loadURLs",(e,t)=>{if(e.length===0)return Re.warn("Ignoring empty input url list."),"-1";const i=u(this,xt).getNextDataId();return u(this,Ai).loadURLs(e,i,t),i});ae(this,"loadFromUri",(e,t)=>{const i=function(o){const c=k7(o);return Object.keys(c).length===0?null:c.query}(e),a=()=>{this.removeEventListener("loadend",a),this.loadURLs([i.state])};i&&i.input!==void 0&&(i.state!==void 0&&this.addEventListener("loadend",a),function(o,c,l){o.type&&o.type==="manifest"?function(h,f){let g="";h.input[0]==="/"&&(g=window.location.protocol+"//"+window.location.host),g+=h.input;const S=new XMLHttpRequest;S.open("GET",decodeURIComponent(g),!0),S.responseType="document",S.onload=function(b){f(function(m,y){const v=[],D=m.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",x=m.getElementsByTagName("Patient");x.length>1&&Re.warn("More than one patient, loading first one.");const T=x[0].getElementsByTagName("Study");T.length>1&&Re.warn("More than one study, loading first one.");const C=T[0].getAttribute("StudyInstanceUID"),A=T[0].getElementsByTagName("Series");A.length>1&&Re.warn("More than one series, loading first one.");const R=A[0].getAttribute("SeriesInstanceUID"),E=A[0].getElementsByTagName("Instance");let U=E.length;y<U&&(U=y);for(let _=0;_<U;++_){const M=D+"&studyUID="+C+"&seriesUID="+R+"&objectUID="+E[_].getAttribute("SOPInstanceUID");v.push(M)}return v}(b.target.responseXML,h.nslices))},S.onerror=function(b){Re.warn("RequestError while receiving manifest: "+b.target.status)},S.send(null)}(o,c):c(function(h,f){const g=[];let S="key";f&&(S=f);const b=decodeURIComponent(h),m=k7(b);if(Object.keys(m).length===0)g.push(b);else{const y=Object.keys(m.query);let v=null;for(let D=0;D<y.length;++D)if(m.query[y[D]]instanceof Array){v=y[D];break}if(v){const D=m.query[v];let x=m.base;x!==""&&v!=="file"&&(x+="?");let T,C=!1;for(let A=0;A<y.length;++A)y[A]!==v&&(C&&(x+="&"),x+=y[A]+"="+m.query[y[A]],C=!0);for(let A=0;A<D.length;++A)T=x,C&&(T+="&"),S==="key"&&(T+=v+"="),T+=D[A],g.push(T)}else g.push(b)}return g}(o.input,o.dwvReplaceMode),l)}(i,this.loadURLs,t))});ae(this,"loadImageObject",e=>{const t=u(this,xt).getNextDataId();return u(this,Ai).loadImageObject(e,t),t});ae(this,"onResize",()=>{this.fitToContainer()});ae(this,"onKeydown",e=>{u(this,Dt).call(this,e)});ae(this,"defaultOnKeydown",e=>{if(e.ctrlKey){if(e.shiftKey){const t=u(this,$e).getActiveLayerGroup(),i=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&i.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&i.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&i.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&i.decrementPositionAlongScroll()}else if(e.key==="y")u(this,Ln).redo();else if(e.key==="z")u(this,Ln).undo();else if(e.key===" ")for(let t=0;t<u(this,$e).getNumberOfLayerGroups();++t)u(this,$e).getLayerGroup(t).setShowCrosshair(!u(this,$e).getLayerGroup(t).getShowCrosshair())}});V(this,Dt,e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&u(this,Of).fireEvent(e)});V(this,av,e=>{u(this,Pt).overlayConfig!==void 0&&(u(this,Uo)[e.dataid]=new Ej(this,e.dataid,u(this,Pt).overlayConfig)),e.type="loadstart",u(this,Dt).call(this,e)});V(this,ov,e=>{e.type="loadprogress",u(this,Dt).call(this,e)});V(this,sv,e=>{let t;e.data===void 0&&Re.error("Missing loaditem event data."),e.loadtype===void 0&&Re.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state"),u(this,Dt).call(this,{type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn});const i=e.isfirstitem;e.loadtype==="image"?i?u(this,xt).add(e.dataid,e.data):u(this,xt).update(e.dataid,e.data):e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid),u(this,Uo)!==void 0&&u(this,Uo)[e.dataid]!==void 0&&u(this,Uo)[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&i&&u(this,Pt).viewOnFirstLoadItem&&this.render(e.dataid)});V(this,lv,e=>{e.type="load",u(this,Dt).call(this,e)});V(this,cv,e=>{e.type="loadend",u(this,Dt).call(this,e)});V(this,uv,e=>{e.type===void 0&&(e.type="error"),u(this,Dt).call(this,e)});V(this,dv,e=>{e.type===void 0&&(e.type="timeout"),u(this,Dt).call(this,e)});V(this,hv,e=>{e.type===void 0&&(e.type="abort"),u(this,Dt).call(this,e)})}getData(e){return u(this,xt).get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){u(this,xt).setImage(e,t)}addData(e){const t=u(this,xt).getNextDataId();return u(this,xt).add(t,e),t}getMetaData(e){let t;return u(this,xt).get(e)!==void 0&&(t=u(this,xt).get(e).meta),t}getDataIds(){return u(this,xt).getDataIds()}getDataIdsFromSopUids(e){return u(this,xt).getDataIdsFromSopUids(e)}canScroll(){return u(this,$e).getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return u(this,$e).getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return u(this,$e).getActiveLayerGroup().getAddedScale()}getBaseScale(){return u(this,$e).getActiveLayerGroup().getBaseScale()}getOffset(){return u(this,$e).getActiveLayerGroup().getOffset()}getToolboxController(){return u(this,br)}getActiveLayerGroup(){return u(this,$e).getActiveLayerGroup()}setActiveLayerGroup(e){u(this,$e).setActiveLayerGroup(e)}getViewLayersByDataId(e){return u(this,$e).getViewLayersByDataId(e)}getViewLayers(e){return u(this,$e).getViewLayers(e)}getDrawLayersByDataId(e){return u(this,$e).getDrawLayersByDataId(e)}getDrawLayers(e){return u(this,$e).getDrawLayers(e)}getLayerGroupByDivId(e){return u(this,$e).getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return u(this,$e).getNumberOfLayerGroups()}getStyle(){return u(this,rv)}init(e){if(H(this,Pt,e),u(this,Pt).viewOnFirstLoadItem===void 0&&(u(this,Pt).viewOnFirstLoadItem=!0),u(this,Pt).dataViewConfigs===void 0&&(u(this,Pt).dataViewConfigs={}),u(this,Pt).rootDocument===void 0&&(u(this,Pt).rootDocument=document),H(this,Ln,new U7),u(this,Ln).addEventListener("undoadd",u(this,Dt)),u(this,Ln).addEventListener("undo",u(this,Dt)),u(this,Ln).addEventListener("redo",u(this,Dt)),u(this,Pt).tools!==void 0){const t={},i=Object.keys(u(this,Pt).tools);for(let a=0;a<i.length;++a){const o=i[a];let c=JH[o];if(c===void 0&&(c=ZH[o]),c!==void 0){if(t[o]=new c(this),t[o].addEventListener!==void 0){const h=t[o].getEventNames();for(let f=0;f<h.length;++f)t[o].addEventListener(h[f],u(this,Dt))}const l=u(this,Pt).tools[o];if(l.options!==void 0&&l.options.length!==0){let h,f="raw";if(t[o].getOptionsType!==void 0&&(f=t[o].getOptionsType()),f==="instance"||f==="factory"){h={};for(let g=0;g<l.options.length;++g){const S=l.options[g];let b=S;f==="factory"&&(b+="Factory");const m=o.charAt(0).toLowerCase()+o.slice(1);let y,v=V2[m];v!==void 0&&(y=v[b]),y===void 0&&(v=f3[m],v!==void 0&&(y=v[b])),y!==void 0?h[S]=y:Re.warn("Could not find option class for: "+S)}}else h=l.options;t[o].setOptions(h)}}else Re.warn("Could not initialise unknown tool: "+o)}H(this,br,new pj(t))}H(this,Ai,new Lj(u(this,Pt).defaultCharacterSet)),u(this,Ai).onloadstart=u(this,av),u(this,Ai).onprogress=u(this,ov),u(this,Ai).onloaditem=u(this,sv),u(this,Ai).onload=u(this,lv),u(this,Ai).onloadend=u(this,cv),u(this,Ai).onerror=u(this,uv),u(this,Ai).ontimeout=u(this,dv),u(this,Ai).onabort=u(this,hv),H(this,xt,new wH),u(this,xt).addEventListener("dataadd",u(this,Dt)),u(this,xt).addEventListener("dataremove",u(this,Dt)),u(this,xt).addEventListener("dataimageset",u(this,Dt)),u(this,xt).addEventListener("dataupdate",u(this,Dt)),u(this,xt).addEventListener("imagecontentchange",u(this,Dt)),u(this,xt).addEventListener("imagegeometrychange",u(this,Dt)),u(this,xt).addEventListener("annotationadd",u(this,Dt)),u(this,xt).addEventListener("annotationupdate",u(this,Dt)),u(this,xt).addEventListener("annotationremove",u(this,Dt)),u(this,xt).addEventListener("annotationgroupeditablechange",u(this,Dt)),H(this,$e,new fj),u(this,Pt).binders!==void 0&&u(this,$e).setBinders(u(this,Pt).binders)}reset(){u(this,$e).empty(),H(this,Uo,{}),u(this,Ln)&&(H(this,Ln,new U7),u(this,Ln).addEventListener("undoadd",u(this,Dt)),u(this,Ln).addEventListener("undo",u(this,Dt)),u(this,Ln).addEventListener("redo",u(this,Dt)))}resetLayout(){u(this,$e).reset(),u(this,$e).draw()}resetZoomPan(){u(this,$e).resetZoomPan(),u(this,$e).draw()}resetViews(){u(this,$e).resetViews()}addEventListener(e,t){u(this,Of).add(e,t)}removeEventListener(e,t){u(this,Of).remove(e,t)}abortAllLoads(){const e=u(this,Ai).getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){u(this,Ai).abort(e),u(this,xt).remove(e),u(this,$e).removeLayersByDataId(e)}fitToContainer(){u(this,$e).fitToContainer()}initWLDisplay(){u(this,$e).getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){u(this,$e).setImageSmoothing(e),u(this,$e).draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),u(this,Pt).dataViewConfigs===null||u(this,Pt).dataViewConfigs===void 0)throw new Error("No available data view configuration");let i=[];return u(this,Pt).dataViewConfigs[e]!==void 0?i=u(this,Pt).dataViewConfigs[e]:t||u(this,Pt).dataViewConfigs["*"]===void 0||(i=u(this,Pt).dataViewConfigs["*"]),i}getViewConfig(e,t,i){return this.getViewConfigs(e,i).find(function(a){return a.divId===t})}getDataViewConfigs(){return u(this,Pt).dataViewConfigs}setDataViewConfigs(e){u(this,$e).empty(),u(this,Pt).dataViewConfigs=e,z(this,ii,J3).call(this,e)}addDataViewConfig(e,t){const i=u(this,Pt).dataViewConfigs;if(i[e]===void 0&&(i[e]=[]),i[e].findIndex(function(a){return a.divId===t.divId})!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);u(this,Pt).dataViewConfigs[e].push(t),u(this,$e).getLayerGroupByDivId(t.divId)===void 0&&z(this,ii,e6).call(this,t),u(this,xt).get(e)!==void 0&&this.render(e,[t])}removeDataViewConfig(e,t){const i=u(this,Pt).dataViewConfigs;if(i[e]===void 0)return;const a=i[e].findIndex(function(c){return c.divId===t});if(a===-1)return;i[e].splice(a,1),i[e].length===0&&delete i[e];const o=u(this,$e).getLayerGroupByDivId(t);if(o!==void 0){const c=o.getViewLayersByDataId(e);c.length===1&&o.removeLayer(c[0]);const l=o.getDrawLayersByDataId(e);l.length===1&&o.removeLayer(l[0]),o.getNumberOfLayers()===0&&u(this,$e).removeLayerGroup(o)}}updateDataViewConfig(e,t,i){const a=u(this,Pt).dataViewConfigs;if(a[e]===void 0)throw new Error("No config for dataId: "+e);const o=a[e].findIndex(function(h){return h.divId===t});if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const c=a[e][o];for(const h in i)c[h]=i[h];const l=u(this,$e).getLayerGroupByDivId(c.divId);if(l!==void 0){const h=l.getViewLayersByDataId(e);h.length===1&&l.removeLayer(h[0]);const f=l.getDrawLayersByDataId(e);f.length===1&&l.removeLayer(f[0])}u(this,xt).get(e)!==void 0&&this.render(e,[c])}setLayerGroupsBinders(e){const t=[];for(let i=0;i<e.length;++i)M7[e[i]]!==void 0&&t.push(new M7[e[i]]);u(this,$e).setBinders(t)}render(e,t){if(e==null)throw new Error("Cannot render without data id");const i=this.getData(e).image!==void 0,a=this.getData(e).annotationGroup!==void 0;if(u(this,$e).getNumberOfLayerGroups()===0&&z(this,ii,J3).call(this,u(this,Pt).dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let o=0;o<t.length;++o){const c=t[o],l=u(this,$e).getLayerGroupByDivId(c.divId);if(!l)throw new Error("No layer group for "+c.divId);u(this,xt).get(e)!==void 0&&(i&&l.getViewLayersByDataId(e).length===0?z(this,ii,xE).call(this,e,c):a&&l.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,c)),l.draw()}else Re.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,i){const a=u(this,$e).getActiveLayerGroup(),o=a.getBaseViewLayer().getViewController().getCurrentScrollPosition(),c=new Xt(t,i,o);a.addScale(e,c),a.draw()}translate(e,t){const i=u(this,$e).getActiveLayerGroup();i.addTranslation({x:e,y:t,z:0}),i.draw()}setOpacity(e){const t=u(this,$e).getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,i){const a=u(this,$e).getActiveLayerGroup().getBaseViewLayer(),o=a.getDataId(),c=this.getData(o),l=a.getViewController(),h=function(g,S,b){const m=[],y=Ne.default.Node.create(g).getChildren(PP);for(let v=0,D=y.length;v<D;++v){const x=y[v],T=x.getChildren();for(let C=0,A=T.length;C<A;++C){const R=new tl,E=new Et(dj(x.id()));R.referencedSopInstanceUID=b.getImageUid(E);const U=T[0];R.trackingId=U.id(),R.trackingUid=U.id();const _=U.getChildren(Mc)[0];if(R.colour=_.stroke(),U.name()==="line-group"){const M=_.points();R.mathShape=new Le(M[0],M[1]),R.referencePoints=[new Le(M[2],M[3])]}else if(U.name()==="ruler-group"){const M=_.points();R.mathShape=new nn(new Le(M[0],M[1]),new Le(M[2],M[3]))}else if(U.name()==="rectangle-group")R.mathShape=new Tu(new Le(_.x(),_.y()),new Le(_.x()+_.width(),_.y()+_.height()));else if(U.name()==="roi-group"){const M=_.points(),P=[];for(let q=0;q<M.length;q+=2)P.push(new Le(M[q],M[q+1]));R.mathShape=new ro(P)}else if(U.name()==="freeHand-group"){Re.warn("Converting freehand into ROI shape");const M=_.points(),P=[];for(let q=0;q<M.length;q+=2)P.push(new Le(M[q],M[q+1]));R.mathShape=new ro(P)}else if(U.name()==="protractor-group"){const M=_.points();R.mathShape=new wu([new Le(M[0],M[1]),new Le(M[2],M[3]),new Le(M[4],M[5])])}else if(U.name()==="ellipse-group"){const M=_.absolutePosition();R.mathShape=new xu(new Le(M.x,M.y),_.radiusX(),_.radiusY())}else if(U.name()==="circle-group"){const M=_.absolutePosition();R.mathShape=new Au(new Le(M.x,M.y),_.radius())}if(S){const M=S[U.id()];R.textExpr=M.meta.textExpr,R.quantification=M.meta.quantification}m.push(R)}}return m}(e,t,c.image),f=this.createAnnotationData(o);for(const g of h)g.setViewController(l),f.annotationGroup.add(g);u(this,xt).add(i,f),this.render(i)}applyJsonState(e,t){const i=new gj(t);i.apply(this,i.fromJSON(e))}resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){u(this,$e).getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){u(this,$e).getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<u(this,$e).getNumberOfLayerGroups();++t){const i=u(this,$e).getLayerGroup(t),a=i.getActiveLayer();a!==void 0&&u(this,br).bindLayerGroup(i,a)}u(this,br).setSelectedTool(e)}setToolFeatures(e){u(this,br).setToolFeatures(e)}undo(){u(this,Ln).undo()}redo(){u(this,Ln).redo()}getStackSize(){return u(this,Ln).getStackSize()}getCurrentStackIndex(){return u(this,Ln).getCurrentStackIndex()}getOverlayData(e){let t;return u(this,Uo)!==void 0&&(t=u(this,Uo)[e]),t}toggleOverlayListeners(e){const t=this.getOverlayData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),i=new X6({});i.annotationGroup=new ep,i.annotationGroup.setMetaValue("Modality","SR");const a=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of a)i.annotationGroup.setMetaValue(o,t[o]);return i.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),i}addAndRenderAnnotationData(e,t,i){const a=this.addData(e),o=this.getViewConfigs(i).find(l=>l.divId===t);if(o===void 0)throw new Error("No reference data view config for draw");const c=new TE(t);c.orientation=o.orientation,this.addDataViewConfig(a,c),this.render(a)}addDrawLayer(e,t){const i=u(this,$e).getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const a=u(this,xt).get(e);if(!a)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=a.annotationGroup,c=z(this,ii,AE).call(this,o,i);if(c===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const l=c.getDataId();u(this,$e).unbindLayerGroups();const h=c.getViewController();a.annotationGroup.setViewController(h);const f=u(this,xt).get(l);if(!f)throw new Error("Cannot initialise layer without reference data, id: "+l);const g=f.image.getGeometry(),S=TA(g.getOrientation(),DA(t.orientation)),b=g.getSize(S).get2D(),m=g.getSpacing(S).get2D(),y=i.addDrawLayer();y.initialise(b,m,c.getId());const v=new RP(g,S);y.setPlaneHelper(v);const D=[h.getCurrentIndex().getValues(),h.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:D,srclayerid:y.getId()}),u(this,$e).fitToContainer(),y.setOffset(i.getOffset());const x=z(this,ii,t6).call(this,g.getOrientation(),t.orientation);z(this,ii,n6).call(this,x,y),y.initScale(i.getScale(),c.getAbsoluteZoomOffset()),y.setAnnotationGroup(a.annotationGroup,e,this.addToUndoStack),y.setCurrentPosition(h.getCurrentPosition(),h.getCurrentIndex()),u(this,$e).bindLayerGroups(),u(this,br)&&u(this,br).bindLayerGroup(i,y),u(this,Dt).call(this,{type:"drawlayeradd",layerid:y.getId(),layergroupid:i.getDivId(),dataid:e})}}Pt=new WeakMap,xt=new WeakMap,br=new WeakMap,Ai=new WeakMap,$e=new WeakMap,Ln=new WeakMap,rv=new WeakMap,Uo=new WeakMap,Of=new WeakMap,ii=new WeakSet,J3=function(e){const t=Object.keys(e),i=[];for(let a=0;a<t.length;++a){const o=e[t[a]];for(let c=0;c<o.length;++c){const l=o[c];i.includes(l.divId)||(z(this,ii,e6).call(this,l),i.push(l.divId))}}},e6=function(e){const t=u(this,Pt).rootDocument.getElementById(e.divId),i=u(this,$e).addLayerGroup(t);z(this,ii,wE).call(this,i)},Dt=new WeakMap,av=new WeakMap,ov=new WeakMap,sv=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,dv=new WeakMap,hv=new WeakMap,wE=function(e){e.addEventListener("zoomchange",u(this,Dt)),e.addEventListener("offsetchange",u(this,Dt)),e.addEventListener("layerremove",u(this,Dt)),e.addEventListener("renderstart",u(this,Dt)),e.addEventListener("renderend",u(this,Dt));for(let t=0;t<Mf.length;++t)e.addEventListener(Mf[t],u(this,Dt));e.addEventListener("wlchange",t=>{const i=iy(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.windowCenter=void 0,a.windowWidth=void 0,a.wlPresetName=void 0,t.value.length===3&&(a.windowCenter=t.value[0],a.windowWidth=t.value[1],a.wlPresetName=t.value[2]))}),e.addEventListener("opacitychange",t=>{const i=iy(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.opacity=t.value[0])}),e.addEventListener("colourmapchange",t=>{const i=iy(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.colourMap=t.value[0])})},xE=function(e,t){const i=u(this,xt).get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const a=u(this,$e).getLayerGroupByDivId(t.divId);if(!a)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=i.image.getGeometry();u(this,$e).unbindLayerGroups();const c=new xQ().create(i.meta,i.image),l=TA(o.getOrientation(),DA(t.orientation));c.setOrientation(l),i.image.getMeta().Modality==="SEG"&&c.setAlphaFunction(function(D){return D===0?0:255});const h=a.getNumberOfViewLayers()===0;let f=1;t.opacity!==void 0?f=t.opacity:h||(f=.5);const g=a.addViewLayer();g.setView(c,e);const S=o.getSize(l).get2D(),b=o.getSpacing(l).get2D();g.initialise(S,b,f);const m=g.getViewController();if(t.wlPresetName!==void 0)m.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const D=new Cr(t.windowCenter,t.windowWidth);m.setWindowLevel(D)}t.colourMap!==void 0?m.setColourMap(t.colourMap):h||(i.image.getMeta().Modality==="PT"?m.setColourMap("hot"):m.setColourMap("rainbow")),u(this,xt).addEventListener("dataimageset",g.onimageset);const y=[m.getCurrentIndex().getValues(),m.getCurrentPosition().getValues()];a.updateLayersToPositionChange({value:y,srclayerid:g.getId()}),u(this,$e).fitToContainer(),g.setOffset(a.getOffset());const v=z(this,ii,t6).call(this,o.getOrientation(),t.orientation);if(z(this,ii,n6).call(this,v,g),h)g.setScale(a.getScale());else{const D=a.getBaseViewLayer();g.initScale(a.getScale(),D.getAbsoluteZoomOffset())}u(this,$e).bindLayerGroups(),u(this,br)&&u(this,br).bindLayerGroup(a,g),u(this,Dt).call(this,{type:"viewlayeradd",layerid:g.getId(),layergroupid:a.getDivId(),dataid:e}),h&&u(this,br)&&u(this,br).init()},AE=function(e,t){let i;const a=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(a!==void 0){const c=a.value[0],l=c==null?void 0:c.ReferencedSeriesSequence,h=l==null?void 0:l.value[0],f=h==null?void 0:h.SeriesInstanceUID,g={SeriesInstanceUID:f},S=t.searchViewLayers(g);S.length!==0&&(i=S[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const c=o.value[0],l=c==null?void 0:c.SeriesInstanceUID,h={SeriesInstanceUID:l},f=t.searchViewLayers(h);f.length!==0&&(i=f[0])}if(i===void 0)for(const c of e.getList()){const l={SOPInstanceUID:c.referencedSopInstanceUID,SOPClassUID:c.referencedSopClassUID},h=t.searchViewLayers(l);if(h.length!==0){i=h[0];break}}return i},t6=function(e,t){const i=aP(e.asOneAndZeros());if(i===void 0)throw new Error("Unsupported undefined orientation code");const a=t===void 0,o=!a&&t===nl.Axial,c=!a&&t===nl.Coronal,l=!a&&t===nl.Sagittal,h={x:!1,y:!1},f={x:!1,y:!1,z:!1};return i==="LPS"?(c||l)&&(f.z=!0,h.y=!0):i==="LAI"?a||o?h.y=!0:c?f.z=!0:l&&(f.z=!0,h.x=!0):i==="RPI"?a||o?h.x=!0:c?(f.z=!0,h.x=!0):l&&(f.z=!0):i==="RAS"?(h.x=!0,h.y=!0,(c||l)&&(f.z=!0)):i==="LSA"?(h.y=!0,a||c?f.z=!0:o?f.y=!0:l&&(h.x=!0,f.y=!0,f.z=!0)):i==="RSP"?a||c?(h.x=!0,h.y=!0,f.x=!0,f.z=!0):o?(h.x=!0,f.x=!0):l&&(h.y=!0,f.z=!0):i==="RIA"?(h.x=!0,a||c?f.x=!0:o?(h.y=!0,f.x=!0,f.y=!0):l&&(f.y=!0)):i==="PSL"?(f.z=!0,(a||l||c)&&(h.y=!0)):i==="PIR"?(f.z=!0,(o||c)&&(h.x=!0)):i==="ASR"?(h.x=!0,h.y=!0,(a||l||c)&&(f.z=!0)):i==="AIL"?a||l?(h.x=!0,f.z=!0):o?h.y=!0:c&&(f.z=!0):i!=="LIP"&&Re.warn("Unsupported orientation code: "+i+", display could be incorrect"),{scale:f,offset:h}},n6=function(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()};const RE=al(ce.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Fg="TagsTable",el={flex:`${Fg}-flex`,spacer:`${Fg}-spacer`,searchField:`${Fg}-searchField`,slider:`${Fg}-slider`,container:`${Fg}-container`},Mj=ze("div")(({theme:n})=>({[`& .${el.flex}`]:{flex:1},[`& .${el.spacer}`]:{flex:"1 1 100%"},[`& .${el.searchField}`]:{width:"45%"},[`& .${el.slider}`]:{margin:20},[`&.${el.container}`]:{padding:10,overflow:"hidden"}}));class Fj extends Dr.Component{constructor(t){super(t);ae(this,"onSliderChange",t=>{const i=parseInt(t.target.value,10),a=this.state.instanceNumbers[i],o=this.getMetaArray(a);this.setState({instanceNumber:a,displayData:o}),this.filterList(this.state.searchfor,a)});ae(this,"onSearch",t=>{var i=t.target.value;this.filterList(i,this.state.instanceNumber)});const i=this.props.data;this.state={fullMetaData:i,searchfor:"",instanceNumber:0};const a=i["00200013"];if(typeof a<"u"){let o=a.value;typeof o=="string"&&(o=[o]),this.state.instanceNumbers=o.map(Number),this.state.instanceNumbers.sort((c,l)=>c-l),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(t,i){var a=t.toLowerCase(),o=this.getMetaArray(i),c=o.filter(function(l){for(var h in l)if(l.hasOwnProperty(h)){var f=l[h];if(typeof f<"u"&&(typeof f!="string"&&(f=f.toString()),f.toLowerCase().indexOf(a)!==-1))return!0}return!1});this.setState({searchfor:t,displayData:c})}getMetaArray(t){let i;return this.isDicomMeta(this.state.fullMetaData)?i=this.getDicomTagReducer(this.state.fullMetaData,t,""):i=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(i,[])}isDicomMeta(t){return typeof t["00020010"]<"u"}getTagReducer(t){return function(i,a){return i.push({name:a,value:t[a].value}),i}}getDicomTagReducer(t,i,a){return(o,c)=>{const l=lP(c);let h=l.getNameFromDictionary();typeof h>"u"&&(h="x"+l.getKey());const f=h,g=t[c];let S=g.value;if(typeof S.slice>"u"&&typeof S[i]<"u"&&(S=S[i]),f==="InstanceNumber"&&(S=i),g.vr==="SQ"){o.push({name:(a?a+" ":"")+f,value:""});for(let b=0;b<S.length;++b){const m=S[b],v=Object.keys(m).reduce(this.getDicomTagReducer(m,i,a+"["+b+"]"),[]);o=o.concat(v)}}else g.vr[0]==="O"&&S.length>10&&(S=S.slice(0,10).toString()+"... (len:"+S.length+")"),o.push({name:(a?a+" ":"")+f,value:S.toString()});return o}}render(){const{displayData:t,searchfor:i,sliderMin:a,sliderMax:o}=this.state;return ce.jsxs(Mj,{className:el.container,children:[ce.jsxs(HO,{direction:"row",spacing:2,children:[ce.jsx(hz,{id:"search",type:"search",value:i,className:el.searchField,onChange:this.onSearch,margin:"normal",size:"small",slotProps:{input:{startAdornment:ce.jsx(rG,{position:"start",children:ce.jsx(RE,{})})}}}),ce.jsxs(Kq,{width:300,display:"flex",alignItems:"center",children:[ce.jsx(EV,{title:"Instance number",className:el.slider,marks:!0,min:a,max:o,onChange:this.onSliderChange}),ce.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),ce.jsx(Um,{sx:{width:"100%",overflow:"hidden"},children:ce.jsx(WV,{sx:{maxHeight:400},children:ce.jsxs(kV,{stickyHeader:!0,className:el.table,children:[ce.jsx(ez,{children:ce.jsxs(fx,{children:[ce.jsx(l2,{children:"Tag"}),ce.jsx(l2,{children:"Value"})]})}),ce.jsx(GV,{children:t.map((c,l)=>ce.jsxs(fx,{children:[ce.jsx(l2,{children:c.name}),ce.jsx(l2,{children:c.value})]},l))})]})})})]})}}const kj=al(ce.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Uj=al(ce.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),Nj=al(ce.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),qj=al(ce.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"})),Bj=al(ce.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),Gj=al(ce.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),Vj=al([ce.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),ce.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")]),jC="DwvComponent",Nd={appBar:`${jC}-appBar`,title:`${jC}-title`,iconSmall:`${jC}-iconSmall`},zj=ze("div")(({theme:n})=>({[`& .${Nd.appBar}`]:{position:"relative"},[`& .${Nd.title}`]:{flex:"0 0 auto"},[`& .${Nd.iconSmall}`]:{fontSize:20}})),Qj=Dr.forwardRef((n,e)=>ce.jsx(_B,{direction:"up",...n,ref:e}));class Hj extends Dr.Component{constructor(t){super(t);ae(this,"getToolIcon",t=>{let i;return t==="Scroll"?i=ce.jsx(Nj,{}):t==="ZoomAndPan"?i=ce.jsx(RE,{}):t==="WindowLevel"?i=ce.jsx(qj,{}):t==="Draw"&&(i=ce.jsx(Gj,{})),i});ae(this,"onChangeTool",t=>{if(this.state.dwvApp)if(this.setState({selectedTool:t}),this.state.dwvApp.setTool(t),t==="Draw")this.onChangeShape(this.state.tools.Draw.options[0]);else{const i=this.state.dwvApp.getActiveLayerGroup();i==null||i.setActiveLayer(0)}});ae(this,"canRunTool",t=>{let i;return t==="Scroll"?i=this.state.canScroll:t==="WindowLevel"?i=this.state.canWindowLevel:i=!0,i});ae(this,"toggleOrientation",()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const t={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(t);const i=this.state.dwvApp.getDataIds();for(const a of i)this.state.dwvApp.render(a)});ae(this,"onChangeShape",t=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:t})});ae(this,"onReset",()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()});ae(this,"handleTagsDialogOpen",()=>{this.setState({showDicomTags:!0})});ae(this,"handleTagsDialogClose",()=>{this.setState({showDicomTags:!1})});ae(this,"setupDropbox",t=>{this.showDropbox(t,!0)});ae(this,"defaultHandleDragEvent",t=>{t.stopPropagation(),t.preventDefault()});ae(this,"onBoxDragOver",t=>{this.defaultHandleDragEvent(t);const i=document.getElementById(this.state.dropboxDivId);i&&i.className.indexOf(this.state.hoverClassName)===-1&&(i.className+=" "+this.state.hoverClassName)});ae(this,"onBoxDragLeave",t=>{this.defaultHandleDragEvent(t);const i=document.getElementById(this.state.dropboxDivId);i&&i.className.indexOf(this.state.hoverClassName)!==-1&&(i.className=i.className.replace(" "+this.state.hoverClassName,""))});ae(this,"onDrop",t=>{this.defaultHandleDragEvent(t),this.state.dwvApp.loadFiles(t.dataTransfer.files)});ae(this,"onInputFile",t=>{t.target&&t.target.files&&this.state.dwvApp.loadFiles(t.target.files)});ae(this,"showDropbox",(t,i)=>{const a=document.getElementById(this.state.dropboxDivId);if(!a)return;const o=document.getElementById("layerGroup0");if(i){if(a.className=this.state.dropboxClassName+" "+this.state.borderClassName,a.innerHTML===""){const c=document.createElement("p");c.appendChild(document.createTextNode("Drag and drop data here or "));const l=document.createElement("input");l.onchange=this.onInputFile,l.type="file",l.multiple=!0,l.id="input-file",l.style.display="none";const h=document.createElement("label");h.htmlFor="input-file";const f=document.createElement("a");f.appendChild(document.createTextNode("click here")),f.id="input-file-link",h.appendChild(f),c.appendChild(l),c.appendChild(h),a.appendChild(c)}a.setAttribute("style","display:initial"),o&&(o.removeEventListener("dragover",this.defaultHandleDragEvent),o.removeEventListener("dragleave",this.defaultHandleDragEvent),o.removeEventListener("drop",this.onDrop)),a.addEventListener("dragover",this.onBoxDragOver),a.addEventListener("dragleave",this.onBoxDragLeave),a.addEventListener("drop",this.onDrop)}else a.className=this.state.dropboxClassName,a.innerHTML="",a.setAttribute("style","display:none"),a.removeEventListener("dragover",this.onBoxDragOver),a.removeEventListener("dragleave",this.onBoxDragLeave),a.removeEventListener("drop",this.onDrop),o&&(o.addEventListener("dragover",this.defaultHandleDragEvent),o.addEventListener("dragleave",this.defaultHandleDragEvent),o.addEventListener("drop",this.onDrop))});this.state={versions:{dwv:BQ(),react:Dr.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){const{versions:t,tools:i,loadProgress:a,dataLoaded:o,metaData:c}=this.state,l=(f,g)=>{g&&this.onChangeTool(g)},h=Object.keys(i).map(f=>ce.jsx(c2,{value:f,title:f,disabled:!o||!this.canRunTool(f),children:this.getToolIcon(f)},f));return ce.jsxs(zj,{className:Nd.root,id:"dwv",children:[ce.jsx(yG,{variant:"determinate",value:a}),ce.jsxs(HO,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[ce.jsx(bz,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:l,children:h}),ce.jsx(c2,{size:"small",value:"reset",title:"Reset",disabled:!o,onChange:this.onReset,children:ce.jsx(Uj,{})}),ce.jsx(c2,{size:"small",value:"toggleOrientation",title:"Toggle Orientation",disabled:!o,onClick:this.toggleOrientation,children:ce.jsx(Vj,{})}),ce.jsx(c2,{size:"small",value:"tags",title:"Tags",disabled:!o,onClick:this.handleTagsDialogOpen,children:ce.jsx(Bj,{})}),ce.jsxs(LB,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,slots:{transition:Qj},children:[ce.jsx(Eq,{className:Nd.appBar,position:"sticky",children:ce.jsxs(rz,{children:[ce.jsx(Tq,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:ce.jsx(kj,{})}),ce.jsx(vy,{variant:"h6",color:"inherit",className:Nd.flex,children:"DICOM Tags"})]})}),ce.jsx(Fj,{data:c})]})]}),ce.jsx("div",{id:"layerGroup0",className:"layerGroup",children:ce.jsx("div",{id:"dropBox"})}),ce.jsx("div",{children:ce.jsx("p",{className:"legend",children:ce.jsxs(vy,{variant:"caption",children:["Powered by ",ce.jsx($9,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",t.dwv," and ",ce.jsx($9,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",t.react]})})})]})}componentDidMount(){const t=new _j;t.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});let i=null,a=null,o=null,c=null;t.addEventListener("loadstart",()=>{i=0,a=0,o=0,c=!0,this.showDropbox(t,!1)}),t.addEventListener("loadprogress",l=>{this.setState({loadProgress:l.loaded})}),t.addEventListener("renderend",l=>{if(c){c=!1;const f=this.state.dwvApp.getViewLayersByDataId(l.dataid)[0].getViewController();f.canScroll()&&this.setState({canScroll:!0}),f.isMonochrome()&&this.setState({canWindowLevel:!0});let g="ZoomAndPan";f.canScroll()&&(g="Scroll"),this.onChangeTool(g)}}),t.addEventListener("load",l=>{this.setState({metaData:t.getMetaData(l.dataid)}),this.setState({loadProgress:100}),this.setState({dataLoaded:!0})}),t.addEventListener("loadend",()=>{a&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),i||this.showDropbox(t,!0)),o&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(t,!0))}),t.addEventListener("loaditem",()=>{++i}),t.addEventListener("loaderror",l=>{console.error(l.error),++a}),t.addEventListener("loadabort",()=>{++o}),t.addEventListener("keydown",l=>{t.defaultOnKeydown(l)}),window.addEventListener("resize",t.onResize),this.setState({dwvApp:t}),this.setupDropbox(t),t.loadFromUri(window.location.href)}}function jj(){const n=Cz("(prefers-color-scheme: dark)"),e=Rv({typography:{useNextVariants:!0},palette:{primary:{main:ZM[500]},secondary:{main:KM[500]},mode:n?"dark":"light"}});return ce.jsxs(ON,{theme:e,children:[ce.jsx(iB,{}),ce.jsx("div",{className:"App",children:ce.jsx(Hj,{})})]})}$M.createRoot(document.getElementById("app")).render(ce.jsx(te.StrictMode,{children:ce.jsx(jj,{})}));
