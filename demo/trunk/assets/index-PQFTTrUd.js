var UO=Object.defineProperty;var rD=n=>{throw TypeError(n)};var BO=(n,e,t)=>e in n?UO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ae=(n,e,t)=>BO(n,typeof e!="symbol"?e+"":e,t),S5=(n,e,t)=>e.has(n)||rD("Cannot "+t);var u=(n,e,t)=>(S5(n,e,"read from private field"),t?t.call(n):e.get(n)),G=(n,e,t)=>e.has(n)?rD("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),z=(n,e,t,r)=>(S5(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Q=(n,e,t)=>(S5(n,e,"access private method"),t);var Ci=(n,e,t,r)=>({set _(i){z(n,e,i,t)},get _(){return u(n,e,r)}});function qO(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var y5={exports:{}},Nf={},v5={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iD;function VO(){if(iD)return St;iD=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function C(V,$,ne){this.props=V,this.context=$,this.refs=y,this.updater=ne||g}C.prototype.isReactComponent={},C.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function x(){}x.prototype=C.prototype;function b(V,$,ne){this.props=V,this.context=$,this.refs=y,this.updater=ne||g}var w=b.prototype=new x;w.constructor=b,S(w,C.prototype),w.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function E(V,$,ne){var ie,te={},pe=null,J=null;if($!=null)for(ie in $.ref!==void 0&&(J=$.ref),$.key!==void 0&&(pe=""+$.key),$)P.call($,ie)&&!F.hasOwnProperty(ie)&&(te[ie]=$[ie]);var oe=arguments.length-2;if(oe===1)te.children=ne;else if(1<oe){for(var de=Array(oe),me=0;me<oe;me++)de[me]=arguments[me+2];te.children=de}if(V&&V.defaultProps)for(ie in oe=V.defaultProps,oe)te[ie]===void 0&&(te[ie]=oe[ie]);return{$$typeof:n,type:V,key:pe,ref:J,props:te,_owner:A.current}}function k(V,$){return{$$typeof:n,type:V.type,key:$,ref:V.ref,props:V.props,_owner:V._owner}}function L(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function U(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ne){return $[ne]})}var N=/\/+/g;function R(V,$){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):$.toString(36)}function I(V,$,ne,ie,te){var pe=typeof V;(pe==="undefined"||pe==="boolean")&&(V=null);var J=!1;if(V===null)J=!0;else switch(pe){case"string":case"number":J=!0;break;case"object":switch(V.$$typeof){case n:case e:J=!0}}if(J)return J=V,te=te(J),V=ie===""?"."+R(J,0):ie,T(te)?(ne="",V!=null&&(ne=V.replace(N,"$&/")+"/"),I(te,$,ne,"",function(me){return me})):te!=null&&(L(te)&&(te=k(te,ne+(!te.key||J&&J.key===te.key?"":(""+te.key).replace(N,"$&/")+"/")+V)),$.push(te)),1;if(J=0,ie=ie===""?".":ie+":",T(V))for(var oe=0;oe<V.length;oe++){pe=V[oe];var de=ie+R(pe,oe);J+=I(pe,$,ne,de,te)}else if(de=v(V),typeof de=="function")for(V=de.call(V),oe=0;!(pe=V.next()).done;)pe=pe.value,de=ie+R(pe,oe++),J+=I(pe,$,ne,de,te);else if(pe==="object")throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return J}function _(V,$,ne){if(V==null)return V;var ie=[],te=0;return I(V,ie,"","",function(pe){return $.call(ne,pe,te++)}),ie}function q(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(ne){(V._status===0||V._status===-1)&&(V._status=1,V._result=ne)},function(ne){(V._status===0||V._status===-1)&&(V._status=2,V._result=ne)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var W={current:null},j={transition:null},H={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:j,ReactCurrentOwner:A};function X(){throw Error("act(...) is not supported in production builds of React.")}return St.Children={map:_,forEach:function(V,$,ne){_(V,function(){$.apply(this,arguments)},ne)},count:function(V){var $=0;return _(V,function(){$++}),$},toArray:function(V){return _(V,function($){return $})||[]},only:function(V){if(!L(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=C,St.Fragment=t,St.Profiler=i,St.PureComponent=b,St.StrictMode=r,St.Suspense=d,St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,St.act=X,St.cloneElement=function(V,$,ne){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ie=S({},V.props),te=V.key,pe=V.ref,J=V._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,J=A.current),$.key!==void 0&&(te=""+$.key),V.type&&V.type.defaultProps)var oe=V.type.defaultProps;for(de in $)P.call($,de)&&!F.hasOwnProperty(de)&&(ie[de]=$[de]===void 0&&oe!==void 0?oe[de]:$[de])}var de=arguments.length-2;if(de===1)ie.children=ne;else if(1<de){oe=Array(de);for(var me=0;me<de;me++)oe[me]=arguments[me+2];ie.children=oe}return{$$typeof:n,type:V.type,key:te,ref:pe,props:ie,_owner:J}},St.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:o,_context:V},V.Consumer=V},St.createElement=E,St.createFactory=function(V){var $=E.bind(null,V);return $.type=V,$},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:s,render:V}},St.isValidElement=L,St.lazy=function(V){return{$$typeof:f,_payload:{_status:-1,_result:V},_init:q}},St.memo=function(V,$){return{$$typeof:h,type:V,compare:$===void 0?null:$}},St.startTransition=function(V){var $=j.transition;j.transition={};try{V()}finally{j.transition=$}},St.unstable_act=X,St.useCallback=function(V,$){return W.current.useCallback(V,$)},St.useContext=function(V){return W.current.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V){return W.current.useDeferredValue(V)},St.useEffect=function(V,$){return W.current.useEffect(V,$)},St.useId=function(){return W.current.useId()},St.useImperativeHandle=function(V,$,ne){return W.current.useImperativeHandle(V,$,ne)},St.useInsertionEffect=function(V,$){return W.current.useInsertionEffect(V,$)},St.useLayoutEffect=function(V,$){return W.current.useLayoutEffect(V,$)},St.useMemo=function(V,$){return W.current.useMemo(V,$)},St.useReducer=function(V,$,ne){return W.current.useReducer(V,$,ne)},St.useRef=function(V){return W.current.useRef(V)},St.useState=function(V){return W.current.useState(V)},St.useSyncExternalStore=function(V,$,ne){return W.current.useSyncExternalStore(V,$,ne)},St.useTransition=function(){return W.current.useTransition()},St.version="18.3.1",St}var oD;function T3(){return oD||(oD=1,v5.exports=VO()),v5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD;function GO(){if(aD)return Nf;aD=1;var n=T3(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(s,d,h){var f,m={},v=null,g=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(g=d.ref);for(f in d)r.call(d,f)&&!o.hasOwnProperty(f)&&(m[f]=d[f]);if(s&&s.defaultProps)for(f in d=s.defaultProps,d)m[f]===void 0&&(m[f]=d[f]);return{$$typeof:e,type:s,key:v,ref:g,props:m,_owner:i.current}}return Nf.Fragment=t,Nf.jsx=l,Nf.jsxs=l,Nf}var sD;function QO(){return sD||(sD=1,y5.exports=GO()),y5.exports}var le=QO(),ee=T3();const pi=Rg(ee),l2=qO({__proto__:null,default:pi},[ee]);var zm={},C5={exports:{}},jr={},w5={exports:{}},b5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lD;function zO(){return lD||(lD=1,function(n){function e(j,H){var X=j.length;j.push(H);e:for(;0<X;){var V=X-1>>>1,$=j[V];if(0<i($,H))j[V]=H,j[X]=$,X=V;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],X=j.pop();if(X!==H){j[0]=X;e:for(var V=0,$=j.length,ne=$>>>1;V<ne;){var ie=2*(V+1)-1,te=j[ie],pe=ie+1,J=j[pe];if(0>i(te,X))pe<$&&0>i(J,te)?(j[V]=J,j[pe]=X,V=pe):(j[V]=te,j[ie]=X,V=ie);else if(pe<$&&0>i(J,X))j[V]=J,j[pe]=X,V=pe;else break e}}return H}function i(j,H){var X=j.sortIndex-H.sortIndex;return X!==0?X:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();n.unstable_now=function(){return l.now()-s}}var d=[],h=[],f=1,m=null,v=3,g=!1,S=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var H=t(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=j)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(h)}}function T(j){if(y=!1,w(j),!S)if(t(d)!==null)S=!0,q(P);else{var H=t(h);H!==null&&W(T,H.startTime-j)}}function P(j,H){S=!1,y&&(y=!1,x(E),E=-1),g=!0;var X=v;try{for(w(H),m=t(d);m!==null&&(!(m.expirationTime>H)||j&&!U());){var V=m.callback;if(typeof V=="function"){m.callback=null,v=m.priorityLevel;var $=V(m.expirationTime<=H);H=n.unstable_now(),typeof $=="function"?m.callback=$:m===t(d)&&r(d),w(H)}else r(d);m=t(d)}if(m!==null)var ne=!0;else{var ie=t(h);ie!==null&&W(T,ie.startTime-H),ne=!1}return ne}finally{m=null,v=X,g=!1}}var A=!1,F=null,E=-1,k=5,L=-1;function U(){return!(n.unstable_now()-L<k)}function N(){if(F!==null){var j=n.unstable_now();L=j;var H=!0;try{H=F(!0,j)}finally{H?R():(A=!1,F=null)}}else A=!1}var R;if(typeof b=="function")R=function(){b(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,_=I.port2;I.port1.onmessage=N,R=function(){_.postMessage(null)}}else R=function(){C(N,0)};function q(j){F=j,A||(A=!0,R())}function W(j,H){E=C(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){S||g||(S=!0,q(P))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(j){switch(v){case 1:case 2:case 3:var H=3;break;default:H=v}var X=v;v=H;try{return j()}finally{v=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=v;v=j;try{return H()}finally{v=X}},n.unstable_scheduleCallback=function(j,H,X){var V=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?V+X:V):X=V,j){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=X+$,j={id:f++,callback:H,priorityLevel:j,startTime:X,expirationTime:$,sortIndex:-1},X>V?(j.sortIndex=X,e(h,j),t(d)===null&&j===t(h)&&(y?(x(E),E=-1):y=!0,W(T,X-V))):(j.sortIndex=$,e(d,j),S||g||(S=!0,q(P))),j},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(j){var H=v;return function(){var X=v;v=H;try{return j.apply(this,arguments)}finally{v=X}}}}(b5)),b5}var uD;function WO(){return uD||(uD=1,w5.exports=zO()),w5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD;function HO(){if(cD)return jr;cD=1;var n=T3(),e=WO();function t(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,p=1;p<arguments.length;p++)c+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(a,c){l(a,c),l(a+"Capture",c)}function l(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(a){return d.call(m,a)?!0:d.call(f,a)?!1:h.test(a)?m[a]=!0:(f[a]=!0,!1)}function g(a,c,p,D){if(p!==null&&p.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return D?!1:p!==null?!p.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,c,p,D){if(c===null||typeof c>"u"||g(a,c,p,D))return!0;if(D)return!1;if(p!==null)switch(p.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function y(a,c,p,D,O,M,Y){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=D,this.attributeNamespace=O,this.mustUseProperty=p,this.propertyName=a,this.type=c,this.sanitizeURL=M,this.removeEmptyString=Y}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new y(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];C[c]=new y(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new y(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new y(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new y(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new y(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function b(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(x,b);C[c]=new y(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(x,b);C[c]=new y(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(x,b);C[c]=new y(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});function w(a,c,p,D){var O=C.hasOwnProperty(c)?C[c]:null;(O!==null?O.type!==0:D||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(S(c,p,O,D)&&(p=null),D||O===null?v(c)&&(p===null?a.removeAttribute(c):a.setAttribute(c,""+p)):O.mustUseProperty?a[O.propertyName]=p===null?O.type===3?!1:"":p:(c=O.attributeName,D=O.attributeNamespace,p===null?a.removeAttribute(c):(O=O.type,p=O===3||O===4&&p===!0?"":""+p,D?a.setAttributeNS(D,c,p):a.setAttribute(c,p))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),U=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),j=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var X=Object.assign,V;function $(a){if(V===void 0)try{throw Error()}catch(p){var c=p.stack.trim().match(/\n( *(at )?)/);V=c&&c[1]||""}return`
`+V+a}var ne=!1;function ie(a,c){if(!a||ne)return"";ne=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(De){var D=De}Reflect.construct(a,[],c)}else{try{c.call()}catch(De){D=De}a.call(c.prototype)}else{try{throw Error()}catch(De){D=De}a()}}catch(De){if(De&&D&&typeof De.stack=="string"){for(var O=De.stack.split(`
`),M=D.stack.split(`
`),Y=O.length-1,re=M.length-1;1<=Y&&0<=re&&O[Y]!==M[re];)re--;for(;1<=Y&&0<=re;Y--,re--)if(O[Y]!==M[re]){if(Y!==1||re!==1)do if(Y--,re--,0>re||O[Y]!==M[re]){var ue=`
`+O[Y].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=Y&&0<=re);break}}}finally{ne=!1,Error.prepareStackTrace=p}return(a=a?a.displayName||a.name:"")?$(a):""}function te(a){switch(a.tag){case 5:return $(a.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return a=ie(a.type,!1),a;case 11:return a=ie(a.type.render,!1),a;case 1:return a=ie(a.type,!0),a;default:return""}}function pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case F:return"Fragment";case A:return"Portal";case k:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case U:return(a.displayName||"Context")+".Consumer";case L:return(a._context.displayName||"Context")+".Provider";case N:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _:return c=a.displayName||null,c!==null?c:pe(a.type)||"Memo";case q:c=a._payload,a=a._init;try{return pe(a(c))}catch{}}return null}function J(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(c);case 8:return c===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function oe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function de(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function me(a){var c=de(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),D=""+a[c];if(!a.hasOwnProperty(c)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var O=p.get,M=p.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return O.call(this)},set:function(Y){D=""+Y,M.call(this,Y)}}),Object.defineProperty(a,c,{enumerable:p.enumerable}),{getValue:function(){return D},setValue:function(Y){D=""+Y},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function be(a){a._valueTracker||(a._valueTracker=me(a))}function Te(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var p=c.getValue(),D="";return a&&(D=de(a)?a.checked?"true":"false":a.value),a=D,a!==p?(c.setValue(a),!0):!1}function Ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function B(a,c){var p=c.checked;return X({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??a._wrapperState.initialChecked})}function ge(a,c){var p=c.defaultValue==null?"":c.defaultValue,D=c.checked!=null?c.checked:c.defaultChecked;p=oe(c.value!=null?c.value:p),a._wrapperState={initialChecked:D,initialValue:p,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Se(a,c){c=c.checked,c!=null&&w(a,"checked",c,!1)}function Z(a,c){Se(a,c);var p=oe(c.value),D=c.type;if(p!=null)D==="number"?(p===0&&a.value===""||a.value!=p)&&(a.value=""+p):a.value!==""+p&&(a.value=""+p);else if(D==="submit"||D==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?ce(a,c.type,p):c.hasOwnProperty("defaultValue")&&ce(a,c.type,oe(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function K(a,c,p){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var D=c.type;if(!(D!=="submit"&&D!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,p||c===a.value||(a.value=c),a.defaultValue=c}p=a.name,p!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,p!==""&&(a.name=p)}function ce(a,c,p){(c!=="number"||Ue(a.ownerDocument)!==a)&&(p==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+p&&(a.defaultValue=""+p))}var Ce=Array.isArray;function xe(a,c,p,D){if(a=a.options,c){c={};for(var O=0;O<p.length;O++)c["$"+p[O]]=!0;for(p=0;p<a.length;p++)O=c.hasOwnProperty("$"+a[p].value),a[p].selected!==O&&(a[p].selected=O),O&&D&&(a[p].defaultSelected=!0)}else{for(p=""+oe(p),c=null,O=0;O<a.length;O++){if(a[O].value===p){a[O].selected=!0,D&&(a[O].defaultSelected=!0);return}c!==null||a[O].disabled||(c=a[O])}c!==null&&(c.selected=!0)}}function se(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return X({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Re(a,c){var p=c.value;if(p==null){if(p=c.children,c=c.defaultValue,p!=null){if(c!=null)throw Error(t(92));if(Ce(p)){if(1<p.length)throw Error(t(93));p=p[0]}c=p}c==null&&(c=""),p=c}a._wrapperState={initialValue:oe(p)}}function Ee(a,c){var p=oe(c.value),D=oe(c.defaultValue);p!=null&&(p=""+p,p!==a.value&&(a.value=p),c.defaultValue==null&&a.defaultValue!==p&&(a.defaultValue=p)),D!=null&&(a.defaultValue=""+D)}function he(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function we(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?we(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Oe,ze=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,p,D,O){MSApp.execUnsafeLocalFunction(function(){return a(c,p,D,O)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Oe.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Be(a,c){if(c){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=c;return}}a.textContent=c}var Ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tt=["Webkit","ms","Moz","O"];Object.keys(Ge).forEach(function(a){tt.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Ge[c]=Ge[a]})});function We(a,c,p){return c==null||typeof c=="boolean"||c===""?"":p||typeof c!="number"||c===0||Ge.hasOwnProperty(a)&&Ge[a]?(""+c).trim():c+"px"}function Tt(a,c){a=a.style;for(var p in c)if(c.hasOwnProperty(p)){var D=p.indexOf("--")===0,O=We(p,c[p],D);p==="float"&&(p="cssFloat"),D?a.setProperty(p,O):a[p]=O}}var $e=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lt(a,c){if(c){if($e[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function qt(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vr=null;function qi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Na=null,Io=null,It=null;function Kt(a){if(a=bf(a)){if(typeof Na!="function")throw Error(t(280));var c=a.stateNode;c&&(c=om(c),Na(a.stateNode,a.type,c))}}function ud(a){Io?It?It.push(a):It=[a]:Io=a}function bu(){if(Io){var a=Io,c=It;if(It=Io=null,Kt(a),c)for(a=0;a<c.length;a++)Kt(c[a])}}function Vi(a,c){return a(c)}function xw(){}var _y=!1;function Tw(a,c,p){if(_y)return a(c,p);_y=!0;try{return Vi(a,c,p)}finally{_y=!1,(Io!==null||It!==null)&&(xw(),bu())}}function ef(a,c){var p=a.stateNode;if(p===null)return null;var D=om(p);if(D===null)return null;p=D[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(a=a.type,D=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!D;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(t(231,c,typeof p));return p}var Fy=!1;if(s)try{var tf={};Object.defineProperty(tf,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",tf,tf),window.removeEventListener("test",tf,tf)}catch{Fy=!1}function z7(a,c,p,D,O,M,Y,re,ue){var De=Array.prototype.slice.call(arguments,3);try{c.apply(p,De)}catch(Fe){this.onError(Fe)}}var nf=!1,Ng=null,Ug=!1,My=null,W7={onError:function(a){nf=!0,Ng=a}};function H7(a,c,p,D,O,M,Y,re,ue){nf=!1,Ng=null,z7.apply(W7,arguments)}function j7(a,c,p,D,O,M,Y,re,ue){if(H7.apply(this,arguments),nf){if(nf){var De=Ng;nf=!1,Ng=null}else throw Error(t(198));Ug||(Ug=!0,My=De)}}function Du(a){var c=a,p=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(p=c.return),a=c.return;while(a)}return c.tag===3?p:null}function Pw(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function Iw(a){if(Du(a)!==a)throw Error(t(188))}function $7(a){var c=a.alternate;if(!c){if(c=Du(a),c===null)throw Error(t(188));return c!==a?null:a}for(var p=a,D=c;;){var O=p.return;if(O===null)break;var M=O.alternate;if(M===null){if(D=O.return,D!==null){p=D;continue}break}if(O.child===M.child){for(M=O.child;M;){if(M===p)return Iw(O),a;if(M===D)return Iw(O),c;M=M.sibling}throw Error(t(188))}if(p.return!==D.return)p=O,D=M;else{for(var Y=!1,re=O.child;re;){if(re===p){Y=!0,p=O,D=M;break}if(re===D){Y=!0,D=O,p=M;break}re=re.sibling}if(!Y){for(re=M.child;re;){if(re===p){Y=!0,p=M,D=O;break}if(re===D){Y=!0,D=M,p=O;break}re=re.sibling}if(!Y)throw Error(t(189))}}if(p.alternate!==D)throw Error(t(190))}if(p.tag!==3)throw Error(t(188));return p.stateNode.current===p?a:c}function Lw(a){return a=$7(a),a!==null?Rw(a):null}function Rw(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=Rw(a);if(c!==null)return c;a=a.sibling}return null}var Aw=e.unstable_scheduleCallback,Ow=e.unstable_cancelCallback,Y7=e.unstable_shouldYield,X7=e.unstable_requestPaint,Ln=e.unstable_now,K7=e.unstable_getCurrentPriorityLevel,Ny=e.unstable_ImmediatePriority,Ew=e.unstable_UserBlockingPriority,Bg=e.unstable_NormalPriority,Z7=e.unstable_LowPriority,kw=e.unstable_IdlePriority,qg=null,na=null;function J7(a){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(qg,a,void 0,(a.current.flags&128)===128)}catch{}}var Lo=Math.clz32?Math.clz32:nA,eA=Math.log,tA=Math.LN2;function nA(a){return a>>>=0,a===0?32:31-(eA(a)/tA|0)|0}var Vg=64,Gg=4194304;function rf(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Qg(a,c){var p=a.pendingLanes;if(p===0)return 0;var D=0,O=a.suspendedLanes,M=a.pingedLanes,Y=p&268435455;if(Y!==0){var re=Y&~O;re!==0?D=rf(re):(M&=Y,M!==0&&(D=rf(M)))}else Y=p&~O,Y!==0?D=rf(Y):M!==0&&(D=rf(M));if(D===0)return 0;if(c!==0&&c!==D&&(c&O)===0&&(O=D&-D,M=c&-c,O>=M||O===16&&(M&4194240)!==0))return c;if((D&4)!==0&&(D|=p&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=D;0<c;)p=31-Lo(c),O=1<<p,D|=a[p],c&=~O;return D}function rA(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iA(a,c){for(var p=a.suspendedLanes,D=a.pingedLanes,O=a.expirationTimes,M=a.pendingLanes;0<M;){var Y=31-Lo(M),re=1<<Y,ue=O[Y];ue===-1?((re&p)===0||(re&D)!==0)&&(O[Y]=rA(re,c)):ue<=c&&(a.expiredLanes|=re),M&=~re}}function Uy(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function _w(){var a=Vg;return Vg<<=1,(Vg&4194240)===0&&(Vg=64),a}function By(a){for(var c=[],p=0;31>p;p++)c.push(a);return c}function of(a,c,p){a.pendingLanes|=c,c!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-Lo(c),a[c]=p}function oA(a,c){var p=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var D=a.eventTimes;for(a=a.expirationTimes;0<p;){var O=31-Lo(p),M=1<<O;c[O]=0,D[O]=-1,a[O]=-1,p&=~M}}function qy(a,c){var p=a.entangledLanes|=c;for(a=a.entanglements;p;){var D=31-Lo(p),O=1<<D;O&c|a[D]&c&&(a[D]|=c),p&=~O}}var Nt=0;function Fw(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Mw,Vy,Nw,Uw,Bw,Gy=!1,zg=[],Ws=null,Hs=null,js=null,af=new Map,sf=new Map,$s=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(a,c){switch(a){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":af.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":sf.delete(c.pointerId)}}function lf(a,c,p,D,O,M){return a===null||a.nativeEvent!==M?(a={blockedOn:c,domEventName:p,eventSystemFlags:D,nativeEvent:M,targetContainers:[O]},c!==null&&(c=bf(c),c!==null&&Vy(c)),a):(a.eventSystemFlags|=D,c=a.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),a)}function sA(a,c,p,D,O){switch(c){case"focusin":return Ws=lf(Ws,a,c,p,D,O),!0;case"dragenter":return Hs=lf(Hs,a,c,p,D,O),!0;case"mouseover":return js=lf(js,a,c,p,D,O),!0;case"pointerover":var M=O.pointerId;return af.set(M,lf(af.get(M)||null,a,c,p,D,O)),!0;case"gotpointercapture":return M=O.pointerId,sf.set(M,lf(sf.get(M)||null,a,c,p,D,O)),!0}return!1}function Vw(a){var c=xu(a.target);if(c!==null){var p=Du(c);if(p!==null){if(c=p.tag,c===13){if(c=Pw(p),c!==null){a.blockedOn=c,Bw(a.priority,function(){Nw(p)});return}}else if(c===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Wg(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var p=zy(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(p===null){p=a.nativeEvent;var D=new p.constructor(p.type,p);Vr=D,p.target.dispatchEvent(D),Vr=null}else return c=bf(p),c!==null&&Vy(c),a.blockedOn=p,!1;c.shift()}return!0}function Gw(a,c,p){Wg(a)&&p.delete(c)}function lA(){Gy=!1,Ws!==null&&Wg(Ws)&&(Ws=null),Hs!==null&&Wg(Hs)&&(Hs=null),js!==null&&Wg(js)&&(js=null),af.forEach(Gw),sf.forEach(Gw)}function uf(a,c){a.blockedOn===c&&(a.blockedOn=null,Gy||(Gy=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lA)))}function cf(a){function c(O){return uf(O,a)}if(0<zg.length){uf(zg[0],a);for(var p=1;p<zg.length;p++){var D=zg[p];D.blockedOn===a&&(D.blockedOn=null)}}for(Ws!==null&&uf(Ws,a),Hs!==null&&uf(Hs,a),js!==null&&uf(js,a),af.forEach(c),sf.forEach(c),p=0;p<$s.length;p++)D=$s[p],D.blockedOn===a&&(D.blockedOn=null);for(;0<$s.length&&(p=$s[0],p.blockedOn===null);)Vw(p),p.blockedOn===null&&$s.shift()}var cd=T.ReactCurrentBatchConfig,Hg=!0;function uA(a,c,p,D){var O=Nt,M=cd.transition;cd.transition=null;try{Nt=1,Qy(a,c,p,D)}finally{Nt=O,cd.transition=M}}function cA(a,c,p,D){var O=Nt,M=cd.transition;cd.transition=null;try{Nt=4,Qy(a,c,p,D)}finally{Nt=O,cd.transition=M}}function Qy(a,c,p,D){if(Hg){var O=zy(a,c,p,D);if(O===null)sv(a,c,D,jg,p),qw(a,D);else if(sA(O,a,c,p,D))D.stopPropagation();else if(qw(a,D),c&4&&-1<aA.indexOf(a)){for(;O!==null;){var M=bf(O);if(M!==null&&Mw(M),M=zy(a,c,p,D),M===null&&sv(a,c,D,jg,p),M===O)break;O=M}O!==null&&D.stopPropagation()}else sv(a,c,D,null,p)}}var jg=null;function zy(a,c,p,D){if(jg=null,a=qi(D),a=xu(a),a!==null)if(c=Du(a),c===null)a=null;else if(p=c.tag,p===13){if(a=Pw(c),a!==null)return a;a=null}else if(p===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return jg=a,null}function Qw(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K7()){case Ny:return 1;case Ew:return 4;case Bg:case Z7:return 16;case kw:return 536870912;default:return 16}default:return 16}}var Ys=null,Wy=null,$g=null;function zw(){if($g)return $g;var a,c=Wy,p=c.length,D,O="value"in Ys?Ys.value:Ys.textContent,M=O.length;for(a=0;a<p&&c[a]===O[a];a++);var Y=p-a;for(D=1;D<=Y&&c[p-D]===O[M-D];D++);return $g=O.slice(a,1<D?1-D:void 0)}function Yg(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Xg(){return!0}function Ww(){return!1}function mi(a){function c(p,D,O,M,Y){this._reactName=p,this._targetInst=O,this.type=D,this.nativeEvent=M,this.target=Y,this.currentTarget=null;for(var re in a)a.hasOwnProperty(re)&&(p=a[re],this[re]=p?p(M):M[re]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Xg:Ww,this.isPropagationStopped=Ww,this}return X(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),c}var dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hy=mi(dd),df=X({},dd,{view:0,detail:0}),dA=mi(df),jy,$y,hf,Kg=X({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xy,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==hf&&(hf&&a.type==="mousemove"?(jy=a.screenX-hf.screenX,$y=a.screenY-hf.screenY):$y=jy=0,hf=a),jy)},movementY:function(a){return"movementY"in a?a.movementY:$y}}),Hw=mi(Kg),hA=X({},Kg,{dataTransfer:0}),fA=mi(hA),pA=X({},df,{relatedTarget:0}),Yy=mi(pA),gA=X({},dd,{animationName:0,elapsedTime:0,pseudoElement:0}),mA=mi(gA),SA=X({},dd,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yA=mi(SA),vA=X({},dd,{data:0}),jw=mi(vA),CA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=bA[a])?!!c[a]:!1}function Xy(){return DA}var xA=X({},df,{key:function(a){if(a.key){var c=CA[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Yg(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wA[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xy,charCode:function(a){return a.type==="keypress"?Yg(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yg(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),TA=mi(xA),PA=X({},Kg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$w=mi(PA),IA=X({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xy}),LA=mi(IA),RA=X({},dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),AA=mi(RA),OA=X({},Kg,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),EA=mi(OA),kA=[9,13,27,32],Ky=s&&"CompositionEvent"in window,ff=null;s&&"documentMode"in document&&(ff=document.documentMode);var _A=s&&"TextEvent"in window&&!ff,Yw=s&&(!Ky||ff&&8<ff&&11>=ff),Xw=" ",Kw=!1;function Zw(a,c){switch(a){case"keyup":return kA.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var hd=!1;function FA(a,c){switch(a){case"compositionend":return Jw(c);case"keypress":return c.which!==32?null:(Kw=!0,Xw);case"textInput":return a=c.data,a===Xw&&Kw?null:a;default:return null}}function MA(a,c){if(hd)return a==="compositionend"||!Ky&&Zw(a,c)?(a=zw(),$g=Wy=Ys=null,hd=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Yw&&c.locale!=="ko"?null:c.data;default:return null}}var NA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eb(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!NA[a.type]:c==="textarea"}function tb(a,c,p,D){ud(D),c=nm(c,"onChange"),0<c.length&&(p=new Hy("onChange","change",null,p,D),a.push({event:p,listeners:c}))}var pf=null,gf=null;function UA(a){vb(a,0)}function Zg(a){var c=Sd(a);if(Te(c))return a}function BA(a,c){if(a==="change")return c}var nb=!1;if(s){var Zy;if(s){var Jy="oninput"in document;if(!Jy){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),Jy=typeof rb.oninput=="function"}Zy=Jy}else Zy=!1;nb=Zy&&(!document.documentMode||9<document.documentMode)}function ib(){pf&&(pf.detachEvent("onpropertychange",ob),gf=pf=null)}function ob(a){if(a.propertyName==="value"&&Zg(gf)){var c=[];tb(c,gf,a,qi(a)),Tw(UA,c)}}function qA(a,c,p){a==="focusin"?(ib(),pf=c,gf=p,pf.attachEvent("onpropertychange",ob)):a==="focusout"&&ib()}function VA(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zg(gf)}function GA(a,c){if(a==="click")return Zg(c)}function QA(a,c){if(a==="input"||a==="change")return Zg(c)}function zA(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Ro=typeof Object.is=="function"?Object.is:zA;function mf(a,c){if(Ro(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var p=Object.keys(a),D=Object.keys(c);if(p.length!==D.length)return!1;for(D=0;D<p.length;D++){var O=p[D];if(!d.call(c,O)||!Ro(a[O],c[O]))return!1}return!0}function ab(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sb(a,c){var p=ab(a);a=0;for(var D;p;){if(p.nodeType===3){if(D=a+p.textContent.length,a<=c&&D>=c)return{node:p,offset:c-a};a=D}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ab(p)}}function lb(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?lb(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function ub(){for(var a=window,c=Ue();c instanceof a.HTMLIFrameElement;){try{var p=typeof c.contentWindow.location.href=="string"}catch{p=!1}if(p)a=c.contentWindow;else break;c=Ue(a.document)}return c}function ev(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function WA(a){var c=ub(),p=a.focusedElem,D=a.selectionRange;if(c!==p&&p&&p.ownerDocument&&lb(p.ownerDocument.documentElement,p)){if(D!==null&&ev(p)){if(c=D.start,a=D.end,a===void 0&&(a=c),"selectionStart"in p)p.selectionStart=c,p.selectionEnd=Math.min(a,p.value.length);else if(a=(c=p.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var O=p.textContent.length,M=Math.min(D.start,O);D=D.end===void 0?M:Math.min(D.end,O),!a.extend&&M>D&&(O=D,D=M,M=O),O=sb(p,M);var Y=sb(p,D);O&&Y&&(a.rangeCount!==1||a.anchorNode!==O.node||a.anchorOffset!==O.offset||a.focusNode!==Y.node||a.focusOffset!==Y.offset)&&(c=c.createRange(),c.setStart(O.node,O.offset),a.removeAllRanges(),M>D?(a.addRange(c),a.extend(Y.node,Y.offset)):(c.setEnd(Y.node,Y.offset),a.addRange(c)))}}for(c=[],a=p;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<c.length;p++)a=c[p],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var HA=s&&"documentMode"in document&&11>=document.documentMode,fd=null,tv=null,Sf=null,nv=!1;function cb(a,c,p){var D=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;nv||fd==null||fd!==Ue(D)||(D=fd,"selectionStart"in D&&ev(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),Sf&&mf(Sf,D)||(Sf=D,D=nm(tv,"onSelect"),0<D.length&&(c=new Hy("onSelect","select",null,c,p),a.push({event:c,listeners:D}),c.target=fd)))}function Jg(a,c){var p={};return p[a.toLowerCase()]=c.toLowerCase(),p["Webkit"+a]="webkit"+c,p["Moz"+a]="moz"+c,p}var pd={animationend:Jg("Animation","AnimationEnd"),animationiteration:Jg("Animation","AnimationIteration"),animationstart:Jg("Animation","AnimationStart"),transitionend:Jg("Transition","TransitionEnd")},rv={},db={};s&&(db=document.createElement("div").style,"AnimationEvent"in window||(delete pd.animationend.animation,delete pd.animationiteration.animation,delete pd.animationstart.animation),"TransitionEvent"in window||delete pd.transitionend.transition);function em(a){if(rv[a])return rv[a];if(!pd[a])return a;var c=pd[a],p;for(p in c)if(c.hasOwnProperty(p)&&p in db)return rv[a]=c[p];return a}var hb=em("animationend"),fb=em("animationiteration"),pb=em("animationstart"),gb=em("transitionend"),mb=new Map,Sb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(a,c){mb.set(a,c),o(c,[a])}for(var iv=0;iv<Sb.length;iv++){var ov=Sb[iv],jA=ov.toLowerCase(),$A=ov[0].toUpperCase()+ov.slice(1);Xs(jA,"on"+$A)}Xs(hb,"onAnimationEnd"),Xs(fb,"onAnimationIteration"),Xs(pb,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(gb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("cancel close invalid load scroll toggle".split(" ").concat(yf));function yb(a,c,p){var D=a.type||"unknown-event";a.currentTarget=p,j7(D,c,void 0,a),a.currentTarget=null}function vb(a,c){c=(c&4)!==0;for(var p=0;p<a.length;p++){var D=a[p],O=D.event;D=D.listeners;e:{var M=void 0;if(c)for(var Y=D.length-1;0<=Y;Y--){var re=D[Y],ue=re.instance,De=re.currentTarget;if(re=re.listener,ue!==M&&O.isPropagationStopped())break e;yb(O,re,De),M=ue}else for(Y=0;Y<D.length;Y++){if(re=D[Y],ue=re.instance,De=re.currentTarget,re=re.listener,ue!==M&&O.isPropagationStopped())break e;yb(O,re,De),M=ue}}}if(Ug)throw a=My,Ug=!1,My=null,a}function Zt(a,c){var p=c[fv];p===void 0&&(p=c[fv]=new Set);var D=a+"__bubble";p.has(D)||(Cb(c,a,2,!1),p.add(D))}function av(a,c,p){var D=0;c&&(D|=4),Cb(p,a,D,c)}var tm="_reactListening"+Math.random().toString(36).slice(2);function vf(a){if(!a[tm]){a[tm]=!0,r.forEach(function(p){p!=="selectionchange"&&(YA.has(p)||av(p,!1,a),av(p,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[tm]||(c[tm]=!0,av("selectionchange",!1,c))}}function Cb(a,c,p,D){switch(Qw(c)){case 1:var O=uA;break;case 4:O=cA;break;default:O=Qy}p=O.bind(null,c,p,a),O=void 0,!Fy||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),D?O!==void 0?a.addEventListener(c,p,{capture:!0,passive:O}):a.addEventListener(c,p,!0):O!==void 0?a.addEventListener(c,p,{passive:O}):a.addEventListener(c,p,!1)}function sv(a,c,p,D,O){var M=D;if((c&1)===0&&(c&2)===0&&D!==null)e:for(;;){if(D===null)return;var Y=D.tag;if(Y===3||Y===4){var re=D.stateNode.containerInfo;if(re===O||re.nodeType===8&&re.parentNode===O)break;if(Y===4)for(Y=D.return;Y!==null;){var ue=Y.tag;if((ue===3||ue===4)&&(ue=Y.stateNode.containerInfo,ue===O||ue.nodeType===8&&ue.parentNode===O))return;Y=Y.return}for(;re!==null;){if(Y=xu(re),Y===null)return;if(ue=Y.tag,ue===5||ue===6){D=M=Y;continue e}re=re.parentNode}}D=D.return}Tw(function(){var De=M,Fe=qi(p),Ne=[];e:{var ke=mb.get(a);if(ke!==void 0){var He=Hy,Ye=a;switch(a){case"keypress":if(Yg(p)===0)break e;case"keydown":case"keyup":He=TA;break;case"focusin":Ye="focus",He=Yy;break;case"focusout":Ye="blur",He=Yy;break;case"beforeblur":case"afterblur":He=Yy;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Hw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=fA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=LA;break;case hb:case fb:case pb:He=mA;break;case gb:He=AA;break;case"scroll":He=dA;break;case"wheel":He=EA;break;case"copy":case"cut":case"paste":He=yA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=$w}var Xe=(c&4)!==0,Rn=!Xe&&a==="scroll",ye=Xe?ke!==null?ke+"Capture":null:ke;Xe=[];for(var fe=De,ve;fe!==null;){ve=fe;var qe=ve.stateNode;if(ve.tag===5&&qe!==null&&(ve=qe,ye!==null&&(qe=ef(fe,ye),qe!=null&&Xe.push(Cf(fe,qe,ve)))),Rn)break;fe=fe.return}0<Xe.length&&(ke=new He(ke,Ye,null,p,Fe),Ne.push({event:ke,listeners:Xe}))}}if((c&7)===0){e:{if(ke=a==="mouseover"||a==="pointerover",He=a==="mouseout"||a==="pointerout",ke&&p!==Vr&&(Ye=p.relatedTarget||p.fromElement)&&(xu(Ye)||Ye[Ua]))break e;if((He||ke)&&(ke=Fe.window===Fe?Fe:(ke=Fe.ownerDocument)?ke.defaultView||ke.parentWindow:window,He?(Ye=p.relatedTarget||p.toElement,He=De,Ye=Ye?xu(Ye):null,Ye!==null&&(Rn=Du(Ye),Ye!==Rn||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(He=null,Ye=De),He!==Ye)){if(Xe=Hw,qe="onMouseLeave",ye="onMouseEnter",fe="mouse",(a==="pointerout"||a==="pointerover")&&(Xe=$w,qe="onPointerLeave",ye="onPointerEnter",fe="pointer"),Rn=He==null?ke:Sd(He),ve=Ye==null?ke:Sd(Ye),ke=new Xe(qe,fe+"leave",He,p,Fe),ke.target=Rn,ke.relatedTarget=ve,qe=null,xu(Fe)===De&&(Xe=new Xe(ye,fe+"enter",Ye,p,Fe),Xe.target=ve,Xe.relatedTarget=Rn,qe=Xe),Rn=qe,He&&Ye)t:{for(Xe=He,ye=Ye,fe=0,ve=Xe;ve;ve=gd(ve))fe++;for(ve=0,qe=ye;qe;qe=gd(qe))ve++;for(;0<fe-ve;)Xe=gd(Xe),fe--;for(;0<ve-fe;)ye=gd(ye),ve--;for(;fe--;){if(Xe===ye||ye!==null&&Xe===ye.alternate)break t;Xe=gd(Xe),ye=gd(ye)}Xe=null}else Xe=null;He!==null&&wb(Ne,ke,He,Xe,!1),Ye!==null&&Rn!==null&&wb(Ne,Rn,Ye,Xe,!0)}}e:{if(ke=De?Sd(De):window,He=ke.nodeName&&ke.nodeName.toLowerCase(),He==="select"||He==="input"&&ke.type==="file")var Ze=BA;else if(eb(ke))if(nb)Ze=QA;else{Ze=VA;var nt=qA}else(He=ke.nodeName)&&He.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(Ze=GA);if(Ze&&(Ze=Ze(a,De))){tb(Ne,Ze,p,Fe);break e}nt&&nt(a,ke,De),a==="focusout"&&(nt=ke._wrapperState)&&nt.controlled&&ke.type==="number"&&ce(ke,"number",ke.value)}switch(nt=De?Sd(De):window,a){case"focusin":(eb(nt)||nt.contentEditable==="true")&&(fd=nt,tv=De,Sf=null);break;case"focusout":Sf=tv=fd=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,cb(Ne,p,Fe);break;case"selectionchange":if(HA)break;case"keydown":case"keyup":cb(Ne,p,Fe)}var rt;if(Ky)e:{switch(a){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else hd?Zw(a,p)&&(ot="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(ot="onCompositionStart");ot&&(Yw&&p.locale!=="ko"&&(hd||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&hd&&(rt=zw()):(Ys=Fe,Wy="value"in Ys?Ys.value:Ys.textContent,hd=!0)),nt=nm(De,ot),0<nt.length&&(ot=new jw(ot,a,null,p,Fe),Ne.push({event:ot,listeners:nt}),rt?ot.data=rt:(rt=Jw(p),rt!==null&&(ot.data=rt)))),(rt=_A?FA(a,p):MA(a,p))&&(De=nm(De,"onBeforeInput"),0<De.length&&(Fe=new jw("onBeforeInput","beforeinput",null,p,Fe),Ne.push({event:Fe,listeners:De}),Fe.data=rt))}vb(Ne,c)})}function Cf(a,c,p){return{instance:a,listener:c,currentTarget:p}}function nm(a,c){for(var p=c+"Capture",D=[];a!==null;){var O=a,M=O.stateNode;O.tag===5&&M!==null&&(O=M,M=ef(a,p),M!=null&&D.unshift(Cf(a,M,O)),M=ef(a,c),M!=null&&D.push(Cf(a,M,O))),a=a.return}return D}function gd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function wb(a,c,p,D,O){for(var M=c._reactName,Y=[];p!==null&&p!==D;){var re=p,ue=re.alternate,De=re.stateNode;if(ue!==null&&ue===D)break;re.tag===5&&De!==null&&(re=De,O?(ue=ef(p,M),ue!=null&&Y.unshift(Cf(p,ue,re))):O||(ue=ef(p,M),ue!=null&&Y.push(Cf(p,ue,re)))),p=p.return}Y.length!==0&&a.push({event:c,listeners:Y})}var XA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function bb(a){return(typeof a=="string"?a:""+a).replace(XA,`
`).replace(KA,"")}function rm(a,c,p){if(c=bb(c),bb(a)!==c&&p)throw Error(t(425))}function im(){}var lv=null,uv=null;function cv(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var dv=typeof setTimeout=="function"?setTimeout:void 0,ZA=typeof clearTimeout=="function"?clearTimeout:void 0,Db=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof Db<"u"?function(a){return Db.resolve(null).then(a).catch(eO)}:dv;function eO(a){setTimeout(function(){throw a})}function hv(a,c){var p=c,D=0;do{var O=p.nextSibling;if(a.removeChild(p),O&&O.nodeType===8)if(p=O.data,p==="/$"){if(D===0){a.removeChild(O),cf(c);return}D--}else p!=="$"&&p!=="$?"&&p!=="$!"||D++;p=O}while(p);cf(c)}function Ks(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function xb(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(c===0)return a;c--}else p==="/$"&&c++}a=a.previousSibling}return null}var md=Math.random().toString(36).slice(2),ra="__reactFiber$"+md,wf="__reactProps$"+md,Ua="__reactContainer$"+md,fv="__reactEvents$"+md,tO="__reactListeners$"+md,nO="__reactHandles$"+md;function xu(a){var c=a[ra];if(c)return c;for(var p=a.parentNode;p;){if(c=p[Ua]||p[ra]){if(p=c.alternate,c.child!==null||p!==null&&p.child!==null)for(a=xb(a);a!==null;){if(p=a[ra])return p;a=xb(a)}return c}a=p,p=a.parentNode}return null}function bf(a){return a=a[ra]||a[Ua],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Sd(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function om(a){return a[wf]||null}var pv=[],yd=-1;function Zs(a){return{current:a}}function Jt(a){0>yd||(a.current=pv[yd],pv[yd]=null,yd--)}function Ht(a,c){yd++,pv[yd]=a.current,a.current=c}var Js={},yr=Zs(Js),Gr=Zs(!1),Tu=Js;function vd(a,c){var p=a.type.contextTypes;if(!p)return Js;var D=a.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===c)return D.__reactInternalMemoizedMaskedChildContext;var O={},M;for(M in p)O[M]=c[M];return D&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=O),O}function Qr(a){return a=a.childContextTypes,a!=null}function am(){Jt(Gr),Jt(yr)}function Tb(a,c,p){if(yr.current!==Js)throw Error(t(168));Ht(yr,c),Ht(Gr,p)}function Pb(a,c,p){var D=a.stateNode;if(c=c.childContextTypes,typeof D.getChildContext!="function")return p;D=D.getChildContext();for(var O in D)if(!(O in c))throw Error(t(108,J(a)||"Unknown",O));return X({},p,D)}function sm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Js,Tu=yr.current,Ht(yr,a),Ht(Gr,Gr.current),!0}function Ib(a,c,p){var D=a.stateNode;if(!D)throw Error(t(169));p?(a=Pb(a,c,Tu),D.__reactInternalMemoizedMergedChildContext=a,Jt(Gr),Jt(yr),Ht(yr,a)):Jt(Gr),Ht(Gr,p)}var Ba=null,lm=!1,gv=!1;function Lb(a){Ba===null?Ba=[a]:Ba.push(a)}function rO(a){lm=!0,Lb(a)}function el(){if(!gv&&Ba!==null){gv=!0;var a=0,c=Nt;try{var p=Ba;for(Nt=1;a<p.length;a++){var D=p[a];do D=D(!0);while(D!==null)}Ba=null,lm=!1}catch(O){throw Ba!==null&&(Ba=Ba.slice(a+1)),Aw(Ny,el),O}finally{Nt=c,gv=!1}}return null}var Cd=[],wd=0,um=null,cm=0,Gi=[],Qi=0,Pu=null,qa=1,Va="";function Iu(a,c){Cd[wd++]=cm,Cd[wd++]=um,um=a,cm=c}function Rb(a,c,p){Gi[Qi++]=qa,Gi[Qi++]=Va,Gi[Qi++]=Pu,Pu=a;var D=qa;a=Va;var O=32-Lo(D)-1;D&=~(1<<O),p+=1;var M=32-Lo(c)+O;if(30<M){var Y=O-O%5;M=(D&(1<<Y)-1).toString(32),D>>=Y,O-=Y,qa=1<<32-Lo(c)+O|p<<O|D,Va=M+a}else qa=1<<M|p<<O|D,Va=a}function mv(a){a.return!==null&&(Iu(a,1),Rb(a,1,0))}function Sv(a){for(;a===um;)um=Cd[--wd],Cd[wd]=null,cm=Cd[--wd],Cd[wd]=null;for(;a===Pu;)Pu=Gi[--Qi],Gi[Qi]=null,Va=Gi[--Qi],Gi[Qi]=null,qa=Gi[--Qi],Gi[Qi]=null}var Si=null,yi=null,on=!1,Ao=null;function Ab(a,c){var p=ji(5,null,null,0);p.elementType="DELETED",p.stateNode=c,p.return=a,c=a.deletions,c===null?(a.deletions=[p],a.flags|=16):c.push(p)}function Ob(a,c){switch(a.tag){case 5:var p=a.type;return c=c.nodeType!==1||p.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,Si=a,yi=Ks(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,Si=a,yi=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(p=Pu!==null?{id:qa,overflow:Va}:null,a.memoizedState={dehydrated:c,treeContext:p,retryLane:1073741824},p=ji(18,null,null,0),p.stateNode=c,p.return=a,a.child=p,Si=a,yi=null,!0):!1;default:return!1}}function yv(a){return(a.mode&1)!==0&&(a.flags&128)===0}function vv(a){if(on){var c=yi;if(c){var p=c;if(!Ob(a,c)){if(yv(a))throw Error(t(418));c=Ks(p.nextSibling);var D=Si;c&&Ob(a,c)?Ab(D,p):(a.flags=a.flags&-4097|2,on=!1,Si=a)}}else{if(yv(a))throw Error(t(418));a.flags=a.flags&-4097|2,on=!1,Si=a}}}function Eb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Si=a}function dm(a){if(a!==Si)return!1;if(!on)return Eb(a),on=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!cv(a.type,a.memoizedProps)),c&&(c=yi)){if(yv(a))throw kb(),Error(t(418));for(;c;)Ab(a,c),c=Ks(c.nextSibling)}if(Eb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var p=a.data;if(p==="/$"){if(c===0){yi=Ks(a.nextSibling);break e}c--}else p!=="$"&&p!=="$!"&&p!=="$?"||c++}a=a.nextSibling}yi=null}}else yi=Si?Ks(a.stateNode.nextSibling):null;return!0}function kb(){for(var a=yi;a;)a=Ks(a.nextSibling)}function bd(){yi=Si=null,on=!1}function Cv(a){Ao===null?Ao=[a]:Ao.push(a)}var iO=T.ReactCurrentBatchConfig;function Df(a,c,p){if(a=p.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(t(309));var D=p.stateNode}if(!D)throw Error(t(147,a));var O=D,M=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===M?c.ref:(c=function(Y){var re=O.refs;Y===null?delete re[M]:re[M]=Y},c._stringRef=M,c)}if(typeof a!="string")throw Error(t(284));if(!p._owner)throw Error(t(290,a))}return a}function hm(a,c){throw a=Object.prototype.toString.call(c),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function _b(a){var c=a._init;return c(a._payload)}function Fb(a){function c(ye,fe){if(a){var ve=ye.deletions;ve===null?(ye.deletions=[fe],ye.flags|=16):ve.push(fe)}}function p(ye,fe){if(!a)return null;for(;fe!==null;)c(ye,fe),fe=fe.sibling;return null}function D(ye,fe){for(ye=new Map;fe!==null;)fe.key!==null?ye.set(fe.key,fe):ye.set(fe.index,fe),fe=fe.sibling;return ye}function O(ye,fe){return ye=ll(ye,fe),ye.index=0,ye.sibling=null,ye}function M(ye,fe,ve){return ye.index=ve,a?(ve=ye.alternate,ve!==null?(ve=ve.index,ve<fe?(ye.flags|=2,fe):ve):(ye.flags|=2,fe)):(ye.flags|=1048576,fe)}function Y(ye){return a&&ye.alternate===null&&(ye.flags|=2),ye}function re(ye,fe,ve,qe){return fe===null||fe.tag!==6?(fe=d5(ve,ye.mode,qe),fe.return=ye,fe):(fe=O(fe,ve),fe.return=ye,fe)}function ue(ye,fe,ve,qe){var Ze=ve.type;return Ze===F?Fe(ye,fe,ve.props.children,qe,ve.key):fe!==null&&(fe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===q&&_b(Ze)===fe.type)?(qe=O(fe,ve.props),qe.ref=Df(ye,fe,ve),qe.return=ye,qe):(qe=Mm(ve.type,ve.key,ve.props,null,ye.mode,qe),qe.ref=Df(ye,fe,ve),qe.return=ye,qe)}function De(ye,fe,ve,qe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ve.containerInfo||fe.stateNode.implementation!==ve.implementation?(fe=h5(ve,ye.mode,qe),fe.return=ye,fe):(fe=O(fe,ve.children||[]),fe.return=ye,fe)}function Fe(ye,fe,ve,qe,Ze){return fe===null||fe.tag!==7?(fe=Fu(ve,ye.mode,qe,Ze),fe.return=ye,fe):(fe=O(fe,ve),fe.return=ye,fe)}function Ne(ye,fe,ve){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return fe=d5(""+fe,ye.mode,ve),fe.return=ye,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case P:return ve=Mm(fe.type,fe.key,fe.props,null,ye.mode,ve),ve.ref=Df(ye,null,fe),ve.return=ye,ve;case A:return fe=h5(fe,ye.mode,ve),fe.return=ye,fe;case q:var qe=fe._init;return Ne(ye,qe(fe._payload),ve)}if(Ce(fe)||H(fe))return fe=Fu(fe,ye.mode,ve,null),fe.return=ye,fe;hm(ye,fe)}return null}function ke(ye,fe,ve,qe){var Ze=fe!==null?fe.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return Ze!==null?null:re(ye,fe,""+ve,qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:return ve.key===Ze?ue(ye,fe,ve,qe):null;case A:return ve.key===Ze?De(ye,fe,ve,qe):null;case q:return Ze=ve._init,ke(ye,fe,Ze(ve._payload),qe)}if(Ce(ve)||H(ve))return Ze!==null?null:Fe(ye,fe,ve,qe,null);hm(ye,ve)}return null}function He(ye,fe,ve,qe,Ze){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ye=ye.get(ve)||null,re(fe,ye,""+qe,Ze);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case P:return ye=ye.get(qe.key===null?ve:qe.key)||null,ue(fe,ye,qe,Ze);case A:return ye=ye.get(qe.key===null?ve:qe.key)||null,De(fe,ye,qe,Ze);case q:var nt=qe._init;return He(ye,fe,ve,nt(qe._payload),Ze)}if(Ce(qe)||H(qe))return ye=ye.get(ve)||null,Fe(fe,ye,qe,Ze,null);hm(fe,qe)}return null}function Ye(ye,fe,ve,qe){for(var Ze=null,nt=null,rt=fe,ot=fe=0,ir=null;rt!==null&&ot<ve.length;ot++){rt.index>ot?(ir=rt,rt=null):ir=rt.sibling;var At=ke(ye,rt,ve[ot],qe);if(At===null){rt===null&&(rt=ir);break}a&&rt&&At.alternate===null&&c(ye,rt),fe=M(At,fe,ot),nt===null?Ze=At:nt.sibling=At,nt=At,rt=ir}if(ot===ve.length)return p(ye,rt),on&&Iu(ye,ot),Ze;if(rt===null){for(;ot<ve.length;ot++)rt=Ne(ye,ve[ot],qe),rt!==null&&(fe=M(rt,fe,ot),nt===null?Ze=rt:nt.sibling=rt,nt=rt);return on&&Iu(ye,ot),Ze}for(rt=D(ye,rt);ot<ve.length;ot++)ir=He(rt,ye,ot,ve[ot],qe),ir!==null&&(a&&ir.alternate!==null&&rt.delete(ir.key===null?ot:ir.key),fe=M(ir,fe,ot),nt===null?Ze=ir:nt.sibling=ir,nt=ir);return a&&rt.forEach(function(ul){return c(ye,ul)}),on&&Iu(ye,ot),Ze}function Xe(ye,fe,ve,qe){var Ze=H(ve);if(typeof Ze!="function")throw Error(t(150));if(ve=Ze.call(ve),ve==null)throw Error(t(151));for(var nt=Ze=null,rt=fe,ot=fe=0,ir=null,At=ve.next();rt!==null&&!At.done;ot++,At=ve.next()){rt.index>ot?(ir=rt,rt=null):ir=rt.sibling;var ul=ke(ye,rt,At.value,qe);if(ul===null){rt===null&&(rt=ir);break}a&&rt&&ul.alternate===null&&c(ye,rt),fe=M(ul,fe,ot),nt===null?Ze=ul:nt.sibling=ul,nt=ul,rt=ir}if(At.done)return p(ye,rt),on&&Iu(ye,ot),Ze;if(rt===null){for(;!At.done;ot++,At=ve.next())At=Ne(ye,At.value,qe),At!==null&&(fe=M(At,fe,ot),nt===null?Ze=At:nt.sibling=At,nt=At);return on&&Iu(ye,ot),Ze}for(rt=D(ye,rt);!At.done;ot++,At=ve.next())At=He(rt,ye,ot,At.value,qe),At!==null&&(a&&At.alternate!==null&&rt.delete(At.key===null?ot:At.key),fe=M(At,fe,ot),nt===null?Ze=At:nt.sibling=At,nt=At);return a&&rt.forEach(function(NO){return c(ye,NO)}),on&&Iu(ye,ot),Ze}function Rn(ye,fe,ve,qe){if(typeof ve=="object"&&ve!==null&&ve.type===F&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case P:e:{for(var Ze=ve.key,nt=fe;nt!==null;){if(nt.key===Ze){if(Ze=ve.type,Ze===F){if(nt.tag===7){p(ye,nt.sibling),fe=O(nt,ve.props.children),fe.return=ye,ye=fe;break e}}else if(nt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===q&&_b(Ze)===nt.type){p(ye,nt.sibling),fe=O(nt,ve.props),fe.ref=Df(ye,nt,ve),fe.return=ye,ye=fe;break e}p(ye,nt);break}else c(ye,nt);nt=nt.sibling}ve.type===F?(fe=Fu(ve.props.children,ye.mode,qe,ve.key),fe.return=ye,ye=fe):(qe=Mm(ve.type,ve.key,ve.props,null,ye.mode,qe),qe.ref=Df(ye,fe,ve),qe.return=ye,ye=qe)}return Y(ye);case A:e:{for(nt=ve.key;fe!==null;){if(fe.key===nt)if(fe.tag===4&&fe.stateNode.containerInfo===ve.containerInfo&&fe.stateNode.implementation===ve.implementation){p(ye,fe.sibling),fe=O(fe,ve.children||[]),fe.return=ye,ye=fe;break e}else{p(ye,fe);break}else c(ye,fe);fe=fe.sibling}fe=h5(ve,ye.mode,qe),fe.return=ye,ye=fe}return Y(ye);case q:return nt=ve._init,Rn(ye,fe,nt(ve._payload),qe)}if(Ce(ve))return Ye(ye,fe,ve,qe);if(H(ve))return Xe(ye,fe,ve,qe);hm(ye,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,fe!==null&&fe.tag===6?(p(ye,fe.sibling),fe=O(fe,ve),fe.return=ye,ye=fe):(p(ye,fe),fe=d5(ve,ye.mode,qe),fe.return=ye,ye=fe),Y(ye)):p(ye,fe)}return Rn}var Dd=Fb(!0),Mb=Fb(!1),fm=Zs(null),pm=null,xd=null,wv=null;function bv(){wv=xd=pm=null}function Dv(a){var c=fm.current;Jt(fm),a._currentValue=c}function xv(a,c,p){for(;a!==null;){var D=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,D!==null&&(D.childLanes|=c)):D!==null&&(D.childLanes&c)!==c&&(D.childLanes|=c),a===p)break;a=a.return}}function Td(a,c){pm=a,wv=xd=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&c)!==0&&(zr=!0),a.firstContext=null)}function zi(a){var c=a._currentValue;if(wv!==a)if(a={context:a,memoizedValue:c,next:null},xd===null){if(pm===null)throw Error(t(308));xd=a,pm.dependencies={lanes:0,firstContext:a}}else xd=xd.next=a;return c}var Lu=null;function Tv(a){Lu===null?Lu=[a]:Lu.push(a)}function Nb(a,c,p,D){var O=c.interleaved;return O===null?(p.next=p,Tv(c)):(p.next=O.next,O.next=p),c.interleaved=p,Ga(a,D)}function Ga(a,c){a.lanes|=c;var p=a.alternate;for(p!==null&&(p.lanes|=c),p=a,a=a.return;a!==null;)a.childLanes|=c,p=a.alternate,p!==null&&(p.childLanes|=c),p=a,a=a.return;return p.tag===3?p.stateNode:null}var tl=!1;function Pv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ub(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Qa(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function nl(a,c,p){var D=a.updateQueue;if(D===null)return null;if(D=D.shared,(Lt&2)!==0){var O=D.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),D.pending=c,Ga(a,p)}return O=D.interleaved,O===null?(c.next=c,Tv(D)):(c.next=O.next,O.next=c),D.interleaved=c,Ga(a,p)}function gm(a,c,p){if(c=c.updateQueue,c!==null&&(c=c.shared,(p&4194240)!==0)){var D=c.lanes;D&=a.pendingLanes,p|=D,c.lanes=p,qy(a,p)}}function Bb(a,c){var p=a.updateQueue,D=a.alternate;if(D!==null&&(D=D.updateQueue,p===D)){var O=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var Y={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};M===null?O=M=Y:M=M.next=Y,p=p.next}while(p!==null);M===null?O=M=c:M=M.next=c}else O=M=c;p={baseState:D.baseState,firstBaseUpdate:O,lastBaseUpdate:M,shared:D.shared,effects:D.effects},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=c:a.next=c,p.lastBaseUpdate=c}function mm(a,c,p,D){var O=a.updateQueue;tl=!1;var M=O.firstBaseUpdate,Y=O.lastBaseUpdate,re=O.shared.pending;if(re!==null){O.shared.pending=null;var ue=re,De=ue.next;ue.next=null,Y===null?M=De:Y.next=De,Y=ue;var Fe=a.alternate;Fe!==null&&(Fe=Fe.updateQueue,re=Fe.lastBaseUpdate,re!==Y&&(re===null?Fe.firstBaseUpdate=De:re.next=De,Fe.lastBaseUpdate=ue))}if(M!==null){var Ne=O.baseState;Y=0,Fe=De=ue=null,re=M;do{var ke=re.lane,He=re.eventTime;if((D&ke)===ke){Fe!==null&&(Fe=Fe.next={eventTime:He,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var Ye=a,Xe=re;switch(ke=c,He=p,Xe.tag){case 1:if(Ye=Xe.payload,typeof Ye=="function"){Ne=Ye.call(He,Ne,ke);break e}Ne=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Xe.payload,ke=typeof Ye=="function"?Ye.call(He,Ne,ke):Ye,ke==null)break e;Ne=X({},Ne,ke);break e;case 2:tl=!0}}re.callback!==null&&re.lane!==0&&(a.flags|=64,ke=O.effects,ke===null?O.effects=[re]:ke.push(re))}else He={eventTime:He,lane:ke,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Fe===null?(De=Fe=He,ue=Ne):Fe=Fe.next=He,Y|=ke;if(re=re.next,re===null){if(re=O.shared.pending,re===null)break;ke=re,re=ke.next,ke.next=null,O.lastBaseUpdate=ke,O.shared.pending=null}}while(!0);if(Fe===null&&(ue=Ne),O.baseState=ue,O.firstBaseUpdate=De,O.lastBaseUpdate=Fe,c=O.shared.interleaved,c!==null){O=c;do Y|=O.lane,O=O.next;while(O!==c)}else M===null&&(O.shared.lanes=0);Ou|=Y,a.lanes=Y,a.memoizedState=Ne}}function qb(a,c,p){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var D=a[c],O=D.callback;if(O!==null){if(D.callback=null,D=p,typeof O!="function")throw Error(t(191,O));O.call(D)}}}var xf={},ia=Zs(xf),Tf=Zs(xf),Pf=Zs(xf);function Ru(a){if(a===xf)throw Error(t(174));return a}function Iv(a,c){switch(Ht(Pf,c),Ht(Tf,a),Ht(ia,xf),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Me(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Me(c,a)}Jt(ia),Ht(ia,c)}function Pd(){Jt(ia),Jt(Tf),Jt(Pf)}function Vb(a){Ru(Pf.current);var c=Ru(ia.current),p=Me(c,a.type);c!==p&&(Ht(Tf,a),Ht(ia,p))}function Lv(a){Tf.current===a&&(Jt(ia),Jt(Tf))}var fn=Zs(0);function Sm(a){for(var c=a;c!==null;){if(c.tag===13){var p=c.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Rv=[];function Av(){for(var a=0;a<Rv.length;a++)Rv[a]._workInProgressVersionPrimary=null;Rv.length=0}var ym=T.ReactCurrentDispatcher,Ov=T.ReactCurrentBatchConfig,Au=0,pn=null,$n=null,nr=null,vm=!1,If=!1,Lf=0,oO=0;function vr(){throw Error(t(321))}function Ev(a,c){if(c===null)return!1;for(var p=0;p<c.length&&p<a.length;p++)if(!Ro(a[p],c[p]))return!1;return!0}function kv(a,c,p,D,O,M){if(Au=M,pn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ym.current=a===null||a.memoizedState===null?uO:cO,a=p(D,O),If){M=0;do{if(If=!1,Lf=0,25<=M)throw Error(t(301));M+=1,nr=$n=null,c.updateQueue=null,ym.current=dO,a=p(D,O)}while(If)}if(ym.current=bm,c=$n!==null&&$n.next!==null,Au=0,nr=$n=pn=null,vm=!1,c)throw Error(t(300));return a}function _v(){var a=Lf!==0;return Lf=0,a}function oa(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?pn.memoizedState=nr=a:nr=nr.next=a,nr}function Wi(){if($n===null){var a=pn.alternate;a=a!==null?a.memoizedState:null}else a=$n.next;var c=nr===null?pn.memoizedState:nr.next;if(c!==null)nr=c,$n=a;else{if(a===null)throw Error(t(310));$n=a,a={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},nr===null?pn.memoizedState=nr=a:nr=nr.next=a}return nr}function Rf(a,c){return typeof c=="function"?c(a):c}function Fv(a){var c=Wi(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var D=$n,O=D.baseQueue,M=p.pending;if(M!==null){if(O!==null){var Y=O.next;O.next=M.next,M.next=Y}D.baseQueue=O=M,p.pending=null}if(O!==null){M=O.next,D=D.baseState;var re=Y=null,ue=null,De=M;do{var Fe=De.lane;if((Au&Fe)===Fe)ue!==null&&(ue=ue.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),D=De.hasEagerState?De.eagerState:a(D,De.action);else{var Ne={lane:Fe,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ue===null?(re=ue=Ne,Y=D):ue=ue.next=Ne,pn.lanes|=Fe,Ou|=Fe}De=De.next}while(De!==null&&De!==M);ue===null?Y=D:ue.next=re,Ro(D,c.memoizedState)||(zr=!0),c.memoizedState=D,c.baseState=Y,c.baseQueue=ue,p.lastRenderedState=D}if(a=p.interleaved,a!==null){O=a;do M=O.lane,pn.lanes|=M,Ou|=M,O=O.next;while(O!==a)}else O===null&&(p.lanes=0);return[c.memoizedState,p.dispatch]}function Mv(a){var c=Wi(),p=c.queue;if(p===null)throw Error(t(311));p.lastRenderedReducer=a;var D=p.dispatch,O=p.pending,M=c.memoizedState;if(O!==null){p.pending=null;var Y=O=O.next;do M=a(M,Y.action),Y=Y.next;while(Y!==O);Ro(M,c.memoizedState)||(zr=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),p.lastRenderedState=M}return[M,D]}function Gb(){}function Qb(a,c){var p=pn,D=Wi(),O=c(),M=!Ro(D.memoizedState,O);if(M&&(D.memoizedState=O,zr=!0),D=D.queue,Nv(Hb.bind(null,p,D,a),[a]),D.getSnapshot!==c||M||nr!==null&&nr.memoizedState.tag&1){if(p.flags|=2048,Af(9,Wb.bind(null,p,D,O,c),void 0,null),rr===null)throw Error(t(349));(Au&30)!==0||zb(p,c,O)}return O}function zb(a,c,p){a.flags|=16384,a={getSnapshot:c,value:p},c=pn.updateQueue,c===null?(c={lastEffect:null,stores:null},pn.updateQueue=c,c.stores=[a]):(p=c.stores,p===null?c.stores=[a]:p.push(a))}function Wb(a,c,p,D){c.value=p,c.getSnapshot=D,jb(c)&&$b(a)}function Hb(a,c,p){return p(function(){jb(c)&&$b(a)})}function jb(a){var c=a.getSnapshot;a=a.value;try{var p=c();return!Ro(a,p)}catch{return!0}}function $b(a){var c=Ga(a,1);c!==null&&_o(c,a,1,-1)}function Yb(a){var c=oa();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:a},c.queue=a,a=a.dispatch=lO.bind(null,pn,a),[c.memoizedState,a]}function Af(a,c,p,D){return a={tag:a,create:c,destroy:p,deps:D,next:null},c=pn.updateQueue,c===null?(c={lastEffect:null,stores:null},pn.updateQueue=c,c.lastEffect=a.next=a):(p=c.lastEffect,p===null?c.lastEffect=a.next=a:(D=p.next,p.next=a,a.next=D,c.lastEffect=a)),a}function Xb(){return Wi().memoizedState}function Cm(a,c,p,D){var O=oa();pn.flags|=a,O.memoizedState=Af(1|c,p,void 0,D===void 0?null:D)}function wm(a,c,p,D){var O=Wi();D=D===void 0?null:D;var M=void 0;if($n!==null){var Y=$n.memoizedState;if(M=Y.destroy,D!==null&&Ev(D,Y.deps)){O.memoizedState=Af(c,p,M,D);return}}pn.flags|=a,O.memoizedState=Af(1|c,p,M,D)}function Kb(a,c){return Cm(8390656,8,a,c)}function Nv(a,c){return wm(2048,8,a,c)}function Zb(a,c){return wm(4,2,a,c)}function Jb(a,c){return wm(4,4,a,c)}function e6(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function t6(a,c,p){return p=p!=null?p.concat([a]):null,wm(4,4,e6.bind(null,c,a),p)}function Uv(){}function n6(a,c){var p=Wi();c=c===void 0?null:c;var D=p.memoizedState;return D!==null&&c!==null&&Ev(c,D[1])?D[0]:(p.memoizedState=[a,c],a)}function r6(a,c){var p=Wi();c=c===void 0?null:c;var D=p.memoizedState;return D!==null&&c!==null&&Ev(c,D[1])?D[0]:(a=a(),p.memoizedState=[a,c],a)}function i6(a,c,p){return(Au&21)===0?(a.baseState&&(a.baseState=!1,zr=!0),a.memoizedState=p):(Ro(p,c)||(p=_w(),pn.lanes|=p,Ou|=p,a.baseState=!0),c)}function aO(a,c){var p=Nt;Nt=p!==0&&4>p?p:4,a(!0);var D=Ov.transition;Ov.transition={};try{a(!1),c()}finally{Nt=p,Ov.transition=D}}function o6(){return Wi().memoizedState}function sO(a,c,p){var D=al(a);if(p={lane:D,action:p,hasEagerState:!1,eagerState:null,next:null},a6(a))s6(c,p);else if(p=Nb(a,c,p,D),p!==null){var O=Ar();_o(p,a,D,O),l6(p,c,D)}}function lO(a,c,p){var D=al(a),O={lane:D,action:p,hasEagerState:!1,eagerState:null,next:null};if(a6(a))s6(c,O);else{var M=a.alternate;if(a.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var Y=c.lastRenderedState,re=M(Y,p);if(O.hasEagerState=!0,O.eagerState=re,Ro(re,Y)){var ue=c.interleaved;ue===null?(O.next=O,Tv(c)):(O.next=ue.next,ue.next=O),c.interleaved=O;return}}catch{}finally{}p=Nb(a,c,O,D),p!==null&&(O=Ar(),_o(p,a,D,O),l6(p,c,D))}}function a6(a){var c=a.alternate;return a===pn||c!==null&&c===pn}function s6(a,c){If=vm=!0;var p=a.pending;p===null?c.next=c:(c.next=p.next,p.next=c),a.pending=c}function l6(a,c,p){if((p&4194240)!==0){var D=c.lanes;D&=a.pendingLanes,p|=D,c.lanes=p,qy(a,p)}}var bm={readContext:zi,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},uO={readContext:zi,useCallback:function(a,c){return oa().memoizedState=[a,c===void 0?null:c],a},useContext:zi,useEffect:Kb,useImperativeHandle:function(a,c,p){return p=p!=null?p.concat([a]):null,Cm(4194308,4,e6.bind(null,c,a),p)},useLayoutEffect:function(a,c){return Cm(4194308,4,a,c)},useInsertionEffect:function(a,c){return Cm(4,2,a,c)},useMemo:function(a,c){var p=oa();return c=c===void 0?null:c,a=a(),p.memoizedState=[a,c],a},useReducer:function(a,c,p){var D=oa();return c=p!==void 0?p(c):c,D.memoizedState=D.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},D.queue=a,a=a.dispatch=sO.bind(null,pn,a),[D.memoizedState,a]},useRef:function(a){var c=oa();return a={current:a},c.memoizedState=a},useState:Yb,useDebugValue:Uv,useDeferredValue:function(a){return oa().memoizedState=a},useTransition:function(){var a=Yb(!1),c=a[0];return a=aO.bind(null,a[1]),oa().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,p){var D=pn,O=oa();if(on){if(p===void 0)throw Error(t(407));p=p()}else{if(p=c(),rr===null)throw Error(t(349));(Au&30)!==0||zb(D,c,p)}O.memoizedState=p;var M={value:p,getSnapshot:c};return O.queue=M,Kb(Hb.bind(null,D,M,a),[a]),D.flags|=2048,Af(9,Wb.bind(null,D,M,p,c),void 0,null),p},useId:function(){var a=oa(),c=rr.identifierPrefix;if(on){var p=Va,D=qa;p=(D&~(1<<32-Lo(D)-1)).toString(32)+p,c=":"+c+"R"+p,p=Lf++,0<p&&(c+="H"+p.toString(32)),c+=":"}else p=oO++,c=":"+c+"r"+p.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},cO={readContext:zi,useCallback:n6,useContext:zi,useEffect:Nv,useImperativeHandle:t6,useInsertionEffect:Zb,useLayoutEffect:Jb,useMemo:r6,useReducer:Fv,useRef:Xb,useState:function(){return Fv(Rf)},useDebugValue:Uv,useDeferredValue:function(a){var c=Wi();return i6(c,$n.memoizedState,a)},useTransition:function(){var a=Fv(Rf)[0],c=Wi().memoizedState;return[a,c]},useMutableSource:Gb,useSyncExternalStore:Qb,useId:o6,unstable_isNewReconciler:!1},dO={readContext:zi,useCallback:n6,useContext:zi,useEffect:Nv,useImperativeHandle:t6,useInsertionEffect:Zb,useLayoutEffect:Jb,useMemo:r6,useReducer:Mv,useRef:Xb,useState:function(){return Mv(Rf)},useDebugValue:Uv,useDeferredValue:function(a){var c=Wi();return $n===null?c.memoizedState=a:i6(c,$n.memoizedState,a)},useTransition:function(){var a=Mv(Rf)[0],c=Wi().memoizedState;return[a,c]},useMutableSource:Gb,useSyncExternalStore:Qb,useId:o6,unstable_isNewReconciler:!1};function Oo(a,c){if(a&&a.defaultProps){c=X({},c),a=a.defaultProps;for(var p in a)c[p]===void 0&&(c[p]=a[p]);return c}return c}function Bv(a,c,p,D){c=a.memoizedState,p=p(D,c),p=p==null?c:X({},c,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var Dm={isMounted:function(a){return(a=a._reactInternals)?Du(a)===a:!1},enqueueSetState:function(a,c,p){a=a._reactInternals;var D=Ar(),O=al(a),M=Qa(D,O);M.payload=c,p!=null&&(M.callback=p),c=nl(a,M,O),c!==null&&(_o(c,a,O,D),gm(c,a,O))},enqueueReplaceState:function(a,c,p){a=a._reactInternals;var D=Ar(),O=al(a),M=Qa(D,O);M.tag=1,M.payload=c,p!=null&&(M.callback=p),c=nl(a,M,O),c!==null&&(_o(c,a,O,D),gm(c,a,O))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var p=Ar(),D=al(a),O=Qa(p,D);O.tag=2,c!=null&&(O.callback=c),c=nl(a,O,D),c!==null&&(_o(c,a,D,p),gm(c,a,D))}};function u6(a,c,p,D,O,M,Y){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(D,M,Y):c.prototype&&c.prototype.isPureReactComponent?!mf(p,D)||!mf(O,M):!0}function c6(a,c,p){var D=!1,O=Js,M=c.contextType;return typeof M=="object"&&M!==null?M=zi(M):(O=Qr(c)?Tu:yr.current,D=c.contextTypes,M=(D=D!=null)?vd(a,O):Js),c=new c(p,M),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Dm,a.stateNode=c,c._reactInternals=a,D&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=O,a.__reactInternalMemoizedMaskedChildContext=M),c}function d6(a,c,p,D){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(p,D),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(p,D),c.state!==a&&Dm.enqueueReplaceState(c,c.state,null)}function qv(a,c,p,D){var O=a.stateNode;O.props=p,O.state=a.memoizedState,O.refs={},Pv(a);var M=c.contextType;typeof M=="object"&&M!==null?O.context=zi(M):(M=Qr(c)?Tu:yr.current,O.context=vd(a,M)),O.state=a.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Bv(a,c,M,p),O.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(c=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),c!==O.state&&Dm.enqueueReplaceState(O,O.state,null),mm(a,p,O,D),O.state=a.memoizedState),typeof O.componentDidMount=="function"&&(a.flags|=4194308)}function Id(a,c){try{var p="",D=c;do p+=te(D),D=D.return;while(D);var O=p}catch(M){O=`
Error generating stack: `+M.message+`
`+M.stack}return{value:a,source:c,stack:O,digest:null}}function Vv(a,c,p){return{value:a,source:null,stack:p??null,digest:c??null}}function Gv(a,c){try{console.error(c.value)}catch(p){setTimeout(function(){throw p})}}var hO=typeof WeakMap=="function"?WeakMap:Map;function h6(a,c,p){p=Qa(-1,p),p.tag=3,p.payload={element:null};var D=c.value;return p.callback=function(){Am||(Am=!0,r5=D),Gv(a,c)},p}function f6(a,c,p){p=Qa(-1,p),p.tag=3;var D=a.type.getDerivedStateFromError;if(typeof D=="function"){var O=c.value;p.payload=function(){return D(O)},p.callback=function(){Gv(a,c)}}var M=a.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(p.callback=function(){Gv(a,c),typeof D!="function"&&(il===null?il=new Set([this]):il.add(this));var Y=c.stack;this.componentDidCatch(c.value,{componentStack:Y!==null?Y:""})}),p}function p6(a,c,p){var D=a.pingCache;if(D===null){D=a.pingCache=new hO;var O=new Set;D.set(c,O)}else O=D.get(c),O===void 0&&(O=new Set,D.set(c,O));O.has(p)||(O.add(p),a=PO.bind(null,a,c,p),c.then(a,a))}function g6(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function m6(a,c,p,D,O){return(a.mode&1)===0?(a===c?a.flags|=65536:(a.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(c=Qa(-1,1),c.tag=2,nl(p,c,1))),p.lanes|=1),a):(a.flags|=65536,a.lanes=O,a)}var fO=T.ReactCurrentOwner,zr=!1;function Rr(a,c,p,D){c.child=a===null?Mb(c,null,p,D):Dd(c,a.child,p,D)}function S6(a,c,p,D,O){p=p.render;var M=c.ref;return Td(c,O),D=kv(a,c,p,D,M,O),p=_v(),a!==null&&!zr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~O,za(a,c,O)):(on&&p&&mv(c),c.flags|=1,Rr(a,c,D,O),c.child)}function y6(a,c,p,D,O){if(a===null){var M=p.type;return typeof M=="function"&&!c5(M)&&M.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(c.tag=15,c.type=M,v6(a,c,M,D,O)):(a=Mm(p.type,null,D,c,c.mode,O),a.ref=c.ref,a.return=c,c.child=a)}if(M=a.child,(a.lanes&O)===0){var Y=M.memoizedProps;if(p=p.compare,p=p!==null?p:mf,p(Y,D)&&a.ref===c.ref)return za(a,c,O)}return c.flags|=1,a=ll(M,D),a.ref=c.ref,a.return=c,c.child=a}function v6(a,c,p,D,O){if(a!==null){var M=a.memoizedProps;if(mf(M,D)&&a.ref===c.ref)if(zr=!1,c.pendingProps=D=M,(a.lanes&O)!==0)(a.flags&131072)!==0&&(zr=!0);else return c.lanes=a.lanes,za(a,c,O)}return Qv(a,c,p,D,O)}function C6(a,c,p){var D=c.pendingProps,O=D.children,M=a!==null?a.memoizedState:null;if(D.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Rd,vi),vi|=p;else{if((p&1073741824)===0)return a=M!==null?M.baseLanes|p:p,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,Ht(Rd,vi),vi|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},D=M!==null?M.baseLanes:p,Ht(Rd,vi),vi|=D}else M!==null?(D=M.baseLanes|p,c.memoizedState=null):D=p,Ht(Rd,vi),vi|=D;return Rr(a,c,O,p),c.child}function w6(a,c){var p=c.ref;(a===null&&p!==null||a!==null&&a.ref!==p)&&(c.flags|=512,c.flags|=2097152)}function Qv(a,c,p,D,O){var M=Qr(p)?Tu:yr.current;return M=vd(c,M),Td(c,O),p=kv(a,c,p,D,M,O),D=_v(),a!==null&&!zr?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~O,za(a,c,O)):(on&&D&&mv(c),c.flags|=1,Rr(a,c,p,O),c.child)}function b6(a,c,p,D,O){if(Qr(p)){var M=!0;sm(c)}else M=!1;if(Td(c,O),c.stateNode===null)Tm(a,c),c6(c,p,D),qv(c,p,D,O),D=!0;else if(a===null){var Y=c.stateNode,re=c.memoizedProps;Y.props=re;var ue=Y.context,De=p.contextType;typeof De=="object"&&De!==null?De=zi(De):(De=Qr(p)?Tu:yr.current,De=vd(c,De));var Fe=p.getDerivedStateFromProps,Ne=typeof Fe=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Ne||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(re!==D||ue!==De)&&d6(c,Y,D,De),tl=!1;var ke=c.memoizedState;Y.state=ke,mm(c,D,Y,O),ue=c.memoizedState,re!==D||ke!==ue||Gr.current||tl?(typeof Fe=="function"&&(Bv(c,p,Fe,D),ue=c.memoizedState),(re=tl||u6(c,p,re,D,ke,ue,De))?(Ne||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(c.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=D,c.memoizedState=ue),Y.props=D,Y.state=ue,Y.context=De,D=re):(typeof Y.componentDidMount=="function"&&(c.flags|=4194308),D=!1)}else{Y=c.stateNode,Ub(a,c),re=c.memoizedProps,De=c.type===c.elementType?re:Oo(c.type,re),Y.props=De,Ne=c.pendingProps,ke=Y.context,ue=p.contextType,typeof ue=="object"&&ue!==null?ue=zi(ue):(ue=Qr(p)?Tu:yr.current,ue=vd(c,ue));var He=p.getDerivedStateFromProps;(Fe=typeof He=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(re!==Ne||ke!==ue)&&d6(c,Y,D,ue),tl=!1,ke=c.memoizedState,Y.state=ke,mm(c,D,Y,O);var Ye=c.memoizedState;re!==Ne||ke!==Ye||Gr.current||tl?(typeof He=="function"&&(Bv(c,p,He,D),Ye=c.memoizedState),(De=tl||u6(c,p,De,D,ke,Ye,ue)||!1)?(Fe||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(D,Ye,ue),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(D,Ye,ue)),typeof Y.componentDidUpdate=="function"&&(c.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof Y.componentDidUpdate!="function"||re===a.memoizedProps&&ke===a.memoizedState||(c.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&ke===a.memoizedState||(c.flags|=1024),c.memoizedProps=D,c.memoizedState=Ye),Y.props=D,Y.state=Ye,Y.context=ue,D=De):(typeof Y.componentDidUpdate!="function"||re===a.memoizedProps&&ke===a.memoizedState||(c.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||re===a.memoizedProps&&ke===a.memoizedState||(c.flags|=1024),D=!1)}return zv(a,c,p,D,M,O)}function zv(a,c,p,D,O,M){w6(a,c);var Y=(c.flags&128)!==0;if(!D&&!Y)return O&&Ib(c,p,!1),za(a,c,M);D=c.stateNode,fO.current=c;var re=Y&&typeof p.getDerivedStateFromError!="function"?null:D.render();return c.flags|=1,a!==null&&Y?(c.child=Dd(c,a.child,null,M),c.child=Dd(c,null,re,M)):Rr(a,c,re,M),c.memoizedState=D.state,O&&Ib(c,p,!0),c.child}function D6(a){var c=a.stateNode;c.pendingContext?Tb(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Tb(a,c.context,!1),Iv(a,c.containerInfo)}function x6(a,c,p,D,O){return bd(),Cv(O),c.flags|=256,Rr(a,c,p,D),c.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function Hv(a){return{baseLanes:a,cachePool:null,transitions:null}}function T6(a,c,p){var D=c.pendingProps,O=fn.current,M=!1,Y=(c.flags&128)!==0,re;if((re=Y)||(re=a!==null&&a.memoizedState===null?!1:(O&2)!==0),re?(M=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(O|=1),Ht(fn,O&1),a===null)return vv(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((c.mode&1)===0?c.lanes=1:a.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(Y=D.children,a=D.fallback,M?(D=c.mode,M=c.child,Y={mode:"hidden",children:Y},(D&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=Y):M=Nm(Y,D,0,null),a=Fu(a,D,p,null),M.return=c,a.return=c,M.sibling=a,c.child=M,c.child.memoizedState=Hv(p),c.memoizedState=Wv,a):jv(c,Y));if(O=a.memoizedState,O!==null&&(re=O.dehydrated,re!==null))return pO(a,c,Y,D,re,O,p);if(M){M=D.fallback,Y=c.mode,O=a.child,re=O.sibling;var ue={mode:"hidden",children:D.children};return(Y&1)===0&&c.child!==O?(D=c.child,D.childLanes=0,D.pendingProps=ue,c.deletions=null):(D=ll(O,ue),D.subtreeFlags=O.subtreeFlags&14680064),re!==null?M=ll(re,M):(M=Fu(M,Y,p,null),M.flags|=2),M.return=c,D.return=c,D.sibling=M,c.child=D,D=M,M=c.child,Y=a.child.memoizedState,Y=Y===null?Hv(p):{baseLanes:Y.baseLanes|p,cachePool:null,transitions:Y.transitions},M.memoizedState=Y,M.childLanes=a.childLanes&~p,c.memoizedState=Wv,D}return M=a.child,a=M.sibling,D=ll(M,{mode:"visible",children:D.children}),(c.mode&1)===0&&(D.lanes=p),D.return=c,D.sibling=null,a!==null&&(p=c.deletions,p===null?(c.deletions=[a],c.flags|=16):p.push(a)),c.child=D,c.memoizedState=null,D}function jv(a,c){return c=Nm({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function xm(a,c,p,D){return D!==null&&Cv(D),Dd(c,a.child,null,p),a=jv(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function pO(a,c,p,D,O,M,Y){if(p)return c.flags&256?(c.flags&=-257,D=Vv(Error(t(422))),xm(a,c,Y,D)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(M=D.fallback,O=c.mode,D=Nm({mode:"visible",children:D.children},O,0,null),M=Fu(M,O,Y,null),M.flags|=2,D.return=c,M.return=c,D.sibling=M,c.child=D,(c.mode&1)!==0&&Dd(c,a.child,null,Y),c.child.memoizedState=Hv(Y),c.memoizedState=Wv,M);if((c.mode&1)===0)return xm(a,c,Y,null);if(O.data==="$!"){if(D=O.nextSibling&&O.nextSibling.dataset,D)var re=D.dgst;return D=re,M=Error(t(419)),D=Vv(M,D,void 0),xm(a,c,Y,D)}if(re=(Y&a.childLanes)!==0,zr||re){if(D=rr,D!==null){switch(Y&-Y){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(D.suspendedLanes|Y))!==0?0:O,O!==0&&O!==M.retryLane&&(M.retryLane=O,Ga(a,O),_o(D,a,O,-1))}return u5(),D=Vv(Error(t(421))),xm(a,c,Y,D)}return O.data==="$?"?(c.flags|=128,c.child=a.child,c=IO.bind(null,a),O._reactRetry=c,null):(a=M.treeContext,yi=Ks(O.nextSibling),Si=c,on=!0,Ao=null,a!==null&&(Gi[Qi++]=qa,Gi[Qi++]=Va,Gi[Qi++]=Pu,qa=a.id,Va=a.overflow,Pu=c),c=jv(c,D.children),c.flags|=4096,c)}function P6(a,c,p){a.lanes|=c;var D=a.alternate;D!==null&&(D.lanes|=c),xv(a.return,c,p)}function $v(a,c,p,D,O){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:D,tail:p,tailMode:O}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=D,M.tail=p,M.tailMode=O)}function I6(a,c,p){var D=c.pendingProps,O=D.revealOrder,M=D.tail;if(Rr(a,c,D.children,p),D=fn.current,(D&2)!==0)D=D&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&P6(a,p,c);else if(a.tag===19)P6(a,p,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}D&=1}if(Ht(fn,D),(c.mode&1)===0)c.memoizedState=null;else switch(O){case"forwards":for(p=c.child,O=null;p!==null;)a=p.alternate,a!==null&&Sm(a)===null&&(O=p),p=p.sibling;p=O,p===null?(O=c.child,c.child=null):(O=p.sibling,p.sibling=null),$v(c,!1,O,p,M);break;case"backwards":for(p=null,O=c.child,c.child=null;O!==null;){if(a=O.alternate,a!==null&&Sm(a)===null){c.child=O;break}a=O.sibling,O.sibling=p,p=O,O=a}$v(c,!0,p,null,M);break;case"together":$v(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Tm(a,c){(c.mode&1)===0&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function za(a,c,p){if(a!==null&&(c.dependencies=a.dependencies),Ou|=c.lanes,(p&c.childLanes)===0)return null;if(a!==null&&c.child!==a.child)throw Error(t(153));if(c.child!==null){for(a=c.child,p=ll(a,a.pendingProps),c.child=p,p.return=c;a.sibling!==null;)a=a.sibling,p=p.sibling=ll(a,a.pendingProps),p.return=c;p.sibling=null}return c.child}function gO(a,c,p){switch(c.tag){case 3:D6(c),bd();break;case 5:Vb(c);break;case 1:Qr(c.type)&&sm(c);break;case 4:Iv(c,c.stateNode.containerInfo);break;case 10:var D=c.type._context,O=c.memoizedProps.value;Ht(fm,D._currentValue),D._currentValue=O;break;case 13:if(D=c.memoizedState,D!==null)return D.dehydrated!==null?(Ht(fn,fn.current&1),c.flags|=128,null):(p&c.child.childLanes)!==0?T6(a,c,p):(Ht(fn,fn.current&1),a=za(a,c,p),a!==null?a.sibling:null);Ht(fn,fn.current&1);break;case 19:if(D=(p&c.childLanes)!==0,(a.flags&128)!==0){if(D)return I6(a,c,p);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Ht(fn,fn.current),D)break;return null;case 22:case 23:return c.lanes=0,C6(a,c,p)}return za(a,c,p)}var L6,Yv,R6,A6;L6=function(a,c){for(var p=c.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},Yv=function(){},R6=function(a,c,p,D){var O=a.memoizedProps;if(O!==D){a=c.stateNode,Ru(ia.current);var M=null;switch(p){case"input":O=B(a,O),D=B(a,D),M=[];break;case"select":O=X({},O,{value:void 0}),D=X({},D,{value:void 0}),M=[];break;case"textarea":O=se(a,O),D=se(a,D),M=[];break;default:typeof O.onClick!="function"&&typeof D.onClick=="function"&&(a.onclick=im)}lt(p,D);var Y;p=null;for(De in O)if(!D.hasOwnProperty(De)&&O.hasOwnProperty(De)&&O[De]!=null)if(De==="style"){var re=O[De];for(Y in re)re.hasOwnProperty(Y)&&(p||(p={}),p[Y]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(i.hasOwnProperty(De)?M||(M=[]):(M=M||[]).push(De,null));for(De in D){var ue=D[De];if(re=O!=null?O[De]:void 0,D.hasOwnProperty(De)&&ue!==re&&(ue!=null||re!=null))if(De==="style")if(re){for(Y in re)!re.hasOwnProperty(Y)||ue&&ue.hasOwnProperty(Y)||(p||(p={}),p[Y]="");for(Y in ue)ue.hasOwnProperty(Y)&&re[Y]!==ue[Y]&&(p||(p={}),p[Y]=ue[Y])}else p||(M||(M=[]),M.push(De,p)),p=ue;else De==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,re=re?re.__html:void 0,ue!=null&&re!==ue&&(M=M||[]).push(De,ue)):De==="children"?typeof ue!="string"&&typeof ue!="number"||(M=M||[]).push(De,""+ue):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(i.hasOwnProperty(De)?(ue!=null&&De==="onScroll"&&Zt("scroll",a),M||re===ue||(M=[])):(M=M||[]).push(De,ue))}p&&(M=M||[]).push("style",p);var De=M;(c.updateQueue=De)&&(c.flags|=4)}},A6=function(a,c,p,D){p!==D&&(c.flags|=4)};function Of(a,c){if(!on)switch(a.tailMode){case"hidden":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var D=null;p!==null;)p.alternate!==null&&(D=p),p=p.sibling;D===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:D.sibling=null}}function Cr(a){var c=a.alternate!==null&&a.alternate.child===a.child,p=0,D=0;if(c)for(var O=a.child;O!==null;)p|=O.lanes|O.childLanes,D|=O.subtreeFlags&14680064,D|=O.flags&14680064,O.return=a,O=O.sibling;else for(O=a.child;O!==null;)p|=O.lanes|O.childLanes,D|=O.subtreeFlags,D|=O.flags,O.return=a,O=O.sibling;return a.subtreeFlags|=D,a.childLanes=p,c}function mO(a,c,p){var D=c.pendingProps;switch(Sv(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(c),null;case 1:return Qr(c.type)&&am(),Cr(c),null;case 3:return D=c.stateNode,Pd(),Jt(Gr),Jt(yr),Av(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(a===null||a.child===null)&&(dm(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Ao!==null&&(a5(Ao),Ao=null))),Yv(a,c),Cr(c),null;case 5:Lv(c);var O=Ru(Pf.current);if(p=c.type,a!==null&&c.stateNode!=null)R6(a,c,p,D,O),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!D){if(c.stateNode===null)throw Error(t(166));return Cr(c),null}if(a=Ru(ia.current),dm(c)){D=c.stateNode,p=c.type;var M=c.memoizedProps;switch(D[ra]=c,D[wf]=M,a=(c.mode&1)!==0,p){case"dialog":Zt("cancel",D),Zt("close",D);break;case"iframe":case"object":case"embed":Zt("load",D);break;case"video":case"audio":for(O=0;O<yf.length;O++)Zt(yf[O],D);break;case"source":Zt("error",D);break;case"img":case"image":case"link":Zt("error",D),Zt("load",D);break;case"details":Zt("toggle",D);break;case"input":ge(D,M),Zt("invalid",D);break;case"select":D._wrapperState={wasMultiple:!!M.multiple},Zt("invalid",D);break;case"textarea":Re(D,M),Zt("invalid",D)}lt(p,M),O=null;for(var Y in M)if(M.hasOwnProperty(Y)){var re=M[Y];Y==="children"?typeof re=="string"?D.textContent!==re&&(M.suppressHydrationWarning!==!0&&rm(D.textContent,re,a),O=["children",re]):typeof re=="number"&&D.textContent!==""+re&&(M.suppressHydrationWarning!==!0&&rm(D.textContent,re,a),O=["children",""+re]):i.hasOwnProperty(Y)&&re!=null&&Y==="onScroll"&&Zt("scroll",D)}switch(p){case"input":be(D),K(D,M,!0);break;case"textarea":be(D),he(D);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(D.onclick=im)}D=O,c.updateQueue=D,D!==null&&(c.flags|=4)}else{Y=O.nodeType===9?O:O.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=we(p)),a==="http://www.w3.org/1999/xhtml"?p==="script"?(a=Y.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof D.is=="string"?a=Y.createElement(p,{is:D.is}):(a=Y.createElement(p),p==="select"&&(Y=a,D.multiple?Y.multiple=!0:D.size&&(Y.size=D.size))):a=Y.createElementNS(a,p),a[ra]=c,a[wf]=D,L6(a,c,!1,!1),c.stateNode=a;e:{switch(Y=qt(p,D),p){case"dialog":Zt("cancel",a),Zt("close",a),O=D;break;case"iframe":case"object":case"embed":Zt("load",a),O=D;break;case"video":case"audio":for(O=0;O<yf.length;O++)Zt(yf[O],a);O=D;break;case"source":Zt("error",a),O=D;break;case"img":case"image":case"link":Zt("error",a),Zt("load",a),O=D;break;case"details":Zt("toggle",a),O=D;break;case"input":ge(a,D),O=B(a,D),Zt("invalid",a);break;case"option":O=D;break;case"select":a._wrapperState={wasMultiple:!!D.multiple},O=X({},D,{value:void 0}),Zt("invalid",a);break;case"textarea":Re(a,D),O=se(a,D),Zt("invalid",a);break;default:O=D}lt(p,O),re=O;for(M in re)if(re.hasOwnProperty(M)){var ue=re[M];M==="style"?Tt(a,ue):M==="dangerouslySetInnerHTML"?(ue=ue?ue.__html:void 0,ue!=null&&ze(a,ue)):M==="children"?typeof ue=="string"?(p!=="textarea"||ue!=="")&&Be(a,ue):typeof ue=="number"&&Be(a,""+ue):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ue!=null&&M==="onScroll"&&Zt("scroll",a):ue!=null&&w(a,M,ue,Y))}switch(p){case"input":be(a),K(a,D,!1);break;case"textarea":be(a),he(a);break;case"option":D.value!=null&&a.setAttribute("value",""+oe(D.value));break;case"select":a.multiple=!!D.multiple,M=D.value,M!=null?xe(a,!!D.multiple,M,!1):D.defaultValue!=null&&xe(a,!!D.multiple,D.defaultValue,!0);break;default:typeof O.onClick=="function"&&(a.onclick=im)}switch(p){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}}D&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Cr(c),null;case 6:if(a&&c.stateNode!=null)A6(a,c,a.memoizedProps,D);else{if(typeof D!="string"&&c.stateNode===null)throw Error(t(166));if(p=Ru(Pf.current),Ru(ia.current),dm(c)){if(D=c.stateNode,p=c.memoizedProps,D[ra]=c,(M=D.nodeValue!==p)&&(a=Si,a!==null))switch(a.tag){case 3:rm(D.nodeValue,p,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&rm(D.nodeValue,p,(a.mode&1)!==0)}M&&(c.flags|=4)}else D=(p.nodeType===9?p:p.ownerDocument).createTextNode(D),D[ra]=c,c.stateNode=D}return Cr(c),null;case 13:if(Jt(fn),D=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(on&&yi!==null&&(c.mode&1)!==0&&(c.flags&128)===0)kb(),bd(),c.flags|=98560,M=!1;else if(M=dm(c),D!==null&&D.dehydrated!==null){if(a===null){if(!M)throw Error(t(318));if(M=c.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(t(317));M[ra]=c}else bd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Cr(c),M=!1}else Ao!==null&&(a5(Ao),Ao=null),M=!0;if(!M)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=p,c):(D=D!==null,D!==(a!==null&&a.memoizedState!==null)&&D&&(c.child.flags|=8192,(c.mode&1)!==0&&(a===null||(fn.current&1)!==0?Yn===0&&(Yn=3):u5())),c.updateQueue!==null&&(c.flags|=4),Cr(c),null);case 4:return Pd(),Yv(a,c),a===null&&vf(c.stateNode.containerInfo),Cr(c),null;case 10:return Dv(c.type._context),Cr(c),null;case 17:return Qr(c.type)&&am(),Cr(c),null;case 19:if(Jt(fn),M=c.memoizedState,M===null)return Cr(c),null;if(D=(c.flags&128)!==0,Y=M.rendering,Y===null)if(D)Of(M,!1);else{if(Yn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(Y=Sm(a),Y!==null){for(c.flags|=128,Of(M,!1),D=Y.updateQueue,D!==null&&(c.updateQueue=D,c.flags|=4),c.subtreeFlags=0,D=p,p=c.child;p!==null;)M=p,a=D,M.flags&=14680066,Y=M.alternate,Y===null?(M.childLanes=0,M.lanes=a,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=Y.childLanes,M.lanes=Y.lanes,M.child=Y.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=Y.memoizedProps,M.memoizedState=Y.memoizedState,M.updateQueue=Y.updateQueue,M.type=Y.type,a=Y.dependencies,M.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),p=p.sibling;return Ht(fn,fn.current&1|2),c.child}a=a.sibling}M.tail!==null&&Ln()>Ad&&(c.flags|=128,D=!0,Of(M,!1),c.lanes=4194304)}else{if(!D)if(a=Sm(Y),a!==null){if(c.flags|=128,D=!0,p=a.updateQueue,p!==null&&(c.updateQueue=p,c.flags|=4),Of(M,!0),M.tail===null&&M.tailMode==="hidden"&&!Y.alternate&&!on)return Cr(c),null}else 2*Ln()-M.renderingStartTime>Ad&&p!==1073741824&&(c.flags|=128,D=!0,Of(M,!1),c.lanes=4194304);M.isBackwards?(Y.sibling=c.child,c.child=Y):(p=M.last,p!==null?p.sibling=Y:c.child=Y,M.last=Y)}return M.tail!==null?(c=M.tail,M.rendering=c,M.tail=c.sibling,M.renderingStartTime=Ln(),c.sibling=null,p=fn.current,Ht(fn,D?p&1|2:p&1),c):(Cr(c),null);case 22:case 23:return l5(),D=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==D&&(c.flags|=8192),D&&(c.mode&1)!==0?(vi&1073741824)!==0&&(Cr(c),c.subtreeFlags&6&&(c.flags|=8192)):Cr(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function SO(a,c){switch(Sv(c),c.tag){case 1:return Qr(c.type)&&am(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Pd(),Jt(Gr),Jt(yr),Av(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 5:return Lv(c),null;case 13:if(Jt(fn),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(t(340));bd()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return Jt(fn),null;case 4:return Pd(),null;case 10:return Dv(c.type._context),null;case 22:case 23:return l5(),null;case 24:return null;default:return null}}var Pm=!1,wr=!1,yO=typeof WeakSet=="function"?WeakSet:Set,je=null;function Ld(a,c){var p=a.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(D){Sn(a,c,D)}else p.current=null}function Xv(a,c,p){try{p()}catch(D){Sn(a,c,D)}}var O6=!1;function vO(a,c){if(lv=Hg,a=ub(),ev(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var D=p.getSelection&&p.getSelection();if(D&&D.rangeCount!==0){p=D.anchorNode;var O=D.anchorOffset,M=D.focusNode;D=D.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var Y=0,re=-1,ue=-1,De=0,Fe=0,Ne=a,ke=null;t:for(;;){for(var He;Ne!==p||O!==0&&Ne.nodeType!==3||(re=Y+O),Ne!==M||D!==0&&Ne.nodeType!==3||(ue=Y+D),Ne.nodeType===3&&(Y+=Ne.nodeValue.length),(He=Ne.firstChild)!==null;)ke=Ne,Ne=He;for(;;){if(Ne===a)break t;if(ke===p&&++De===O&&(re=Y),ke===M&&++Fe===D&&(ue=Y),(He=Ne.nextSibling)!==null)break;Ne=ke,ke=Ne.parentNode}Ne=He}p=re===-1||ue===-1?null:{start:re,end:ue}}else p=null}p=p||{start:0,end:0}}else p=null;for(uv={focusedElem:a,selectionRange:p},Hg=!1,je=c;je!==null;)if(c=je,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,je=a;else for(;je!==null;){c=je;try{var Ye=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Xe=Ye.memoizedProps,Rn=Ye.memoizedState,ye=c.stateNode,fe=ye.getSnapshotBeforeUpdate(c.elementType===c.type?Xe:Oo(c.type,Xe),Rn);ye.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:var ve=c.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(qe){Sn(c,c.return,qe)}if(a=c.sibling,a!==null){a.return=c.return,je=a;break}je=c.return}return Ye=O6,O6=!1,Ye}function Ef(a,c,p){var D=c.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var O=D=D.next;do{if((O.tag&a)===a){var M=O.destroy;O.destroy=void 0,M!==void 0&&Xv(c,p,M)}O=O.next}while(O!==D)}}function Im(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&a)===a){var D=p.create;p.destroy=D()}p=p.next}while(p!==c)}}function Kv(a){var c=a.ref;if(c!==null){var p=a.stateNode;switch(a.tag){case 5:a=p;break;default:a=p}typeof c=="function"?c(a):c.current=a}}function E6(a){var c=a.alternate;c!==null&&(a.alternate=null,E6(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[ra],delete c[wf],delete c[fv],delete c[tO],delete c[nO])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function k6(a){return a.tag===5||a.tag===3||a.tag===4}function _6(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||k6(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zv(a,c,p){var D=a.tag;if(D===5||D===6)a=a.stateNode,c?p.nodeType===8?p.parentNode.insertBefore(a,c):p.insertBefore(a,c):(p.nodeType===8?(c=p.parentNode,c.insertBefore(a,p)):(c=p,c.appendChild(a)),p=p._reactRootContainer,p!=null||c.onclick!==null||(c.onclick=im));else if(D!==4&&(a=a.child,a!==null))for(Zv(a,c,p),a=a.sibling;a!==null;)Zv(a,c,p),a=a.sibling}function Jv(a,c,p){var D=a.tag;if(D===5||D===6)a=a.stateNode,c?p.insertBefore(a,c):p.appendChild(a);else if(D!==4&&(a=a.child,a!==null))for(Jv(a,c,p),a=a.sibling;a!==null;)Jv(a,c,p),a=a.sibling}var ur=null,Eo=!1;function rl(a,c,p){for(p=p.child;p!==null;)F6(a,c,p),p=p.sibling}function F6(a,c,p){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(qg,p)}catch{}switch(p.tag){case 5:wr||Ld(p,c);case 6:var D=ur,O=Eo;ur=null,rl(a,c,p),ur=D,Eo=O,ur!==null&&(Eo?(a=ur,p=p.stateNode,a.nodeType===8?a.parentNode.removeChild(p):a.removeChild(p)):ur.removeChild(p.stateNode));break;case 18:ur!==null&&(Eo?(a=ur,p=p.stateNode,a.nodeType===8?hv(a.parentNode,p):a.nodeType===1&&hv(a,p),cf(a)):hv(ur,p.stateNode));break;case 4:D=ur,O=Eo,ur=p.stateNode.containerInfo,Eo=!0,rl(a,c,p),ur=D,Eo=O;break;case 0:case 11:case 14:case 15:if(!wr&&(D=p.updateQueue,D!==null&&(D=D.lastEffect,D!==null))){O=D=D.next;do{var M=O,Y=M.destroy;M=M.tag,Y!==void 0&&((M&2)!==0||(M&4)!==0)&&Xv(p,c,Y),O=O.next}while(O!==D)}rl(a,c,p);break;case 1:if(!wr&&(Ld(p,c),D=p.stateNode,typeof D.componentWillUnmount=="function"))try{D.props=p.memoizedProps,D.state=p.memoizedState,D.componentWillUnmount()}catch(re){Sn(p,c,re)}rl(a,c,p);break;case 21:rl(a,c,p);break;case 22:p.mode&1?(wr=(D=wr)||p.memoizedState!==null,rl(a,c,p),wr=D):rl(a,c,p);break;default:rl(a,c,p)}}function M6(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var p=a.stateNode;p===null&&(p=a.stateNode=new yO),c.forEach(function(D){var O=LO.bind(null,a,D);p.has(D)||(p.add(D),D.then(O,O))})}}function ko(a,c){var p=c.deletions;if(p!==null)for(var D=0;D<p.length;D++){var O=p[D];try{var M=a,Y=c,re=Y;e:for(;re!==null;){switch(re.tag){case 5:ur=re.stateNode,Eo=!1;break e;case 3:ur=re.stateNode.containerInfo,Eo=!0;break e;case 4:ur=re.stateNode.containerInfo,Eo=!0;break e}re=re.return}if(ur===null)throw Error(t(160));F6(M,Y,O),ur=null,Eo=!1;var ue=O.alternate;ue!==null&&(ue.return=null),O.return=null}catch(De){Sn(O,c,De)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)N6(c,a),c=c.sibling}function N6(a,c){var p=a.alternate,D=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(ko(c,a),aa(a),D&4){try{Ef(3,a,a.return),Im(3,a)}catch(Xe){Sn(a,a.return,Xe)}try{Ef(5,a,a.return)}catch(Xe){Sn(a,a.return,Xe)}}break;case 1:ko(c,a),aa(a),D&512&&p!==null&&Ld(p,p.return);break;case 5:if(ko(c,a),aa(a),D&512&&p!==null&&Ld(p,p.return),a.flags&32){var O=a.stateNode;try{Be(O,"")}catch(Xe){Sn(a,a.return,Xe)}}if(D&4&&(O=a.stateNode,O!=null)){var M=a.memoizedProps,Y=p!==null?p.memoizedProps:M,re=a.type,ue=a.updateQueue;if(a.updateQueue=null,ue!==null)try{re==="input"&&M.type==="radio"&&M.name!=null&&Se(O,M),qt(re,Y);var De=qt(re,M);for(Y=0;Y<ue.length;Y+=2){var Fe=ue[Y],Ne=ue[Y+1];Fe==="style"?Tt(O,Ne):Fe==="dangerouslySetInnerHTML"?ze(O,Ne):Fe==="children"?Be(O,Ne):w(O,Fe,Ne,De)}switch(re){case"input":Z(O,M);break;case"textarea":Ee(O,M);break;case"select":var ke=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!M.multiple;var He=M.value;He!=null?xe(O,!!M.multiple,He,!1):ke!==!!M.multiple&&(M.defaultValue!=null?xe(O,!!M.multiple,M.defaultValue,!0):xe(O,!!M.multiple,M.multiple?[]:"",!1))}O[wf]=M}catch(Xe){Sn(a,a.return,Xe)}}break;case 6:if(ko(c,a),aa(a),D&4){if(a.stateNode===null)throw Error(t(162));O=a.stateNode,M=a.memoizedProps;try{O.nodeValue=M}catch(Xe){Sn(a,a.return,Xe)}}break;case 3:if(ko(c,a),aa(a),D&4&&p!==null&&p.memoizedState.isDehydrated)try{cf(c.containerInfo)}catch(Xe){Sn(a,a.return,Xe)}break;case 4:ko(c,a),aa(a);break;case 13:ko(c,a),aa(a),O=a.child,O.flags&8192&&(M=O.memoizedState!==null,O.stateNode.isHidden=M,!M||O.alternate!==null&&O.alternate.memoizedState!==null||(n5=Ln())),D&4&&M6(a);break;case 22:if(Fe=p!==null&&p.memoizedState!==null,a.mode&1?(wr=(De=wr)||Fe,ko(c,a),wr=De):ko(c,a),aa(a),D&8192){if(De=a.memoizedState!==null,(a.stateNode.isHidden=De)&&!Fe&&(a.mode&1)!==0)for(je=a,Fe=a.child;Fe!==null;){for(Ne=je=Fe;je!==null;){switch(ke=je,He=ke.child,ke.tag){case 0:case 11:case 14:case 15:Ef(4,ke,ke.return);break;case 1:Ld(ke,ke.return);var Ye=ke.stateNode;if(typeof Ye.componentWillUnmount=="function"){D=ke,p=ke.return;try{c=D,Ye.props=c.memoizedProps,Ye.state=c.memoizedState,Ye.componentWillUnmount()}catch(Xe){Sn(D,p,Xe)}}break;case 5:Ld(ke,ke.return);break;case 22:if(ke.memoizedState!==null){q6(Ne);continue}}He!==null?(He.return=ke,je=He):q6(Ne)}Fe=Fe.sibling}e:for(Fe=null,Ne=a;;){if(Ne.tag===5){if(Fe===null){Fe=Ne;try{O=Ne.stateNode,De?(M=O.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(re=Ne.stateNode,ue=Ne.memoizedProps.style,Y=ue!=null&&ue.hasOwnProperty("display")?ue.display:null,re.style.display=We("display",Y))}catch(Xe){Sn(a,a.return,Xe)}}}else if(Ne.tag===6){if(Fe===null)try{Ne.stateNode.nodeValue=De?"":Ne.memoizedProps}catch(Xe){Sn(a,a.return,Xe)}}else if((Ne.tag!==22&&Ne.tag!==23||Ne.memoizedState===null||Ne===a)&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===a)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===a)break e;Fe===Ne&&(Fe=null),Ne=Ne.return}Fe===Ne&&(Fe=null),Ne.sibling.return=Ne.return,Ne=Ne.sibling}}break;case 19:ko(c,a),aa(a),D&4&&M6(a);break;case 21:break;default:ko(c,a),aa(a)}}function aa(a){var c=a.flags;if(c&2){try{e:{for(var p=a.return;p!==null;){if(k6(p)){var D=p;break e}p=p.return}throw Error(t(160))}switch(D.tag){case 5:var O=D.stateNode;D.flags&32&&(Be(O,""),D.flags&=-33);var M=_6(a);Jv(a,M,O);break;case 3:case 4:var Y=D.stateNode.containerInfo,re=_6(a);Zv(a,re,Y);break;default:throw Error(t(161))}}catch(ue){Sn(a,a.return,ue)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function CO(a,c,p){je=a,U6(a)}function U6(a,c,p){for(var D=(a.mode&1)!==0;je!==null;){var O=je,M=O.child;if(O.tag===22&&D){var Y=O.memoizedState!==null||Pm;if(!Y){var re=O.alternate,ue=re!==null&&re.memoizedState!==null||wr;re=Pm;var De=wr;if(Pm=Y,(wr=ue)&&!De)for(je=O;je!==null;)Y=je,ue=Y.child,Y.tag===22&&Y.memoizedState!==null?V6(O):ue!==null?(ue.return=Y,je=ue):V6(O);for(;M!==null;)je=M,U6(M),M=M.sibling;je=O,Pm=re,wr=De}B6(a)}else(O.subtreeFlags&8772)!==0&&M!==null?(M.return=O,je=M):B6(a)}}function B6(a){for(;je!==null;){var c=je;if((c.flags&8772)!==0){var p=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:wr||Im(5,c);break;case 1:var D=c.stateNode;if(c.flags&4&&!wr)if(p===null)D.componentDidMount();else{var O=c.elementType===c.type?p.memoizedProps:Oo(c.type,p.memoizedProps);D.componentDidUpdate(O,p.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var M=c.updateQueue;M!==null&&qb(c,M,D);break;case 3:var Y=c.updateQueue;if(Y!==null){if(p=null,c.child!==null)switch(c.child.tag){case 5:p=c.child.stateNode;break;case 1:p=c.child.stateNode}qb(c,Y,p)}break;case 5:var re=c.stateNode;if(p===null&&c.flags&4){p=re;var ue=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":ue.autoFocus&&p.focus();break;case"img":ue.src&&(p.src=ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var De=c.alternate;if(De!==null){var Fe=De.memoizedState;if(Fe!==null){var Ne=Fe.dehydrated;Ne!==null&&cf(Ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wr||c.flags&512&&Kv(c)}catch(ke){Sn(c,c.return,ke)}}if(c===a){je=null;break}if(p=c.sibling,p!==null){p.return=c.return,je=p;break}je=c.return}}function q6(a){for(;je!==null;){var c=je;if(c===a){je=null;break}var p=c.sibling;if(p!==null){p.return=c.return,je=p;break}je=c.return}}function V6(a){for(;je!==null;){var c=je;try{switch(c.tag){case 0:case 11:case 15:var p=c.return;try{Im(4,c)}catch(ue){Sn(c,p,ue)}break;case 1:var D=c.stateNode;if(typeof D.componentDidMount=="function"){var O=c.return;try{D.componentDidMount()}catch(ue){Sn(c,O,ue)}}var M=c.return;try{Kv(c)}catch(ue){Sn(c,M,ue)}break;case 5:var Y=c.return;try{Kv(c)}catch(ue){Sn(c,Y,ue)}}}catch(ue){Sn(c,c.return,ue)}if(c===a){je=null;break}var re=c.sibling;if(re!==null){re.return=c.return,je=re;break}je=c.return}}var wO=Math.ceil,Lm=T.ReactCurrentDispatcher,e5=T.ReactCurrentOwner,Hi=T.ReactCurrentBatchConfig,Lt=0,rr=null,Mn=null,cr=0,vi=0,Rd=Zs(0),Yn=0,kf=null,Ou=0,Rm=0,t5=0,_f=null,Wr=null,n5=0,Ad=1/0,Wa=null,Am=!1,r5=null,il=null,Om=!1,ol=null,Em=0,Ff=0,i5=null,km=-1,_m=0;function Ar(){return(Lt&6)!==0?Ln():km!==-1?km:km=Ln()}function al(a){return(a.mode&1)===0?1:(Lt&2)!==0&&cr!==0?cr&-cr:iO.transition!==null?(_m===0&&(_m=_w()),_m):(a=Nt,a!==0||(a=window.event,a=a===void 0?16:Qw(a.type)),a)}function _o(a,c,p,D){if(50<Ff)throw Ff=0,i5=null,Error(t(185));of(a,p,D),((Lt&2)===0||a!==rr)&&(a===rr&&((Lt&2)===0&&(Rm|=p),Yn===4&&sl(a,cr)),Hr(a,D),p===1&&Lt===0&&(c.mode&1)===0&&(Ad=Ln()+500,lm&&el()))}function Hr(a,c){var p=a.callbackNode;iA(a,c);var D=Qg(a,a===rr?cr:0);if(D===0)p!==null&&Ow(p),a.callbackNode=null,a.callbackPriority=0;else if(c=D&-D,a.callbackPriority!==c){if(p!=null&&Ow(p),c===1)a.tag===0?rO(Q6.bind(null,a)):Lb(Q6.bind(null,a)),JA(function(){(Lt&6)===0&&el()}),p=null;else{switch(Fw(D)){case 1:p=Ny;break;case 4:p=Ew;break;case 16:p=Bg;break;case 536870912:p=kw;break;default:p=Bg}p=K6(p,G6.bind(null,a))}a.callbackPriority=c,a.callbackNode=p}}function G6(a,c){if(km=-1,_m=0,(Lt&6)!==0)throw Error(t(327));var p=a.callbackNode;if(Od()&&a.callbackNode!==p)return null;var D=Qg(a,a===rr?cr:0);if(D===0)return null;if((D&30)!==0||(D&a.expiredLanes)!==0||c)c=Fm(a,D);else{c=D;var O=Lt;Lt|=2;var M=W6();(rr!==a||cr!==c)&&(Wa=null,Ad=Ln()+500,ku(a,c));do try{xO();break}catch(re){z6(a,re)}while(!0);bv(),Lm.current=M,Lt=O,Mn!==null?c=0:(rr=null,cr=0,c=Yn)}if(c!==0){if(c===2&&(O=Uy(a),O!==0&&(D=O,c=o5(a,O))),c===1)throw p=kf,ku(a,0),sl(a,D),Hr(a,Ln()),p;if(c===6)sl(a,D);else{if(O=a.current.alternate,(D&30)===0&&!bO(O)&&(c=Fm(a,D),c===2&&(M=Uy(a),M!==0&&(D=M,c=o5(a,M))),c===1))throw p=kf,ku(a,0),sl(a,D),Hr(a,Ln()),p;switch(a.finishedWork=O,a.finishedLanes=D,c){case 0:case 1:throw Error(t(345));case 2:_u(a,Wr,Wa);break;case 3:if(sl(a,D),(D&130023424)===D&&(c=n5+500-Ln(),10<c)){if(Qg(a,0)!==0)break;if(O=a.suspendedLanes,(O&D)!==D){Ar(),a.pingedLanes|=a.suspendedLanes&O;break}a.timeoutHandle=dv(_u.bind(null,a,Wr,Wa),c);break}_u(a,Wr,Wa);break;case 4:if(sl(a,D),(D&4194240)===D)break;for(c=a.eventTimes,O=-1;0<D;){var Y=31-Lo(D);M=1<<Y,Y=c[Y],Y>O&&(O=Y),D&=~M}if(D=O,D=Ln()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*wO(D/1960))-D,10<D){a.timeoutHandle=dv(_u.bind(null,a,Wr,Wa),D);break}_u(a,Wr,Wa);break;case 5:_u(a,Wr,Wa);break;default:throw Error(t(329))}}}return Hr(a,Ln()),a.callbackNode===p?G6.bind(null,a):null}function o5(a,c){var p=_f;return a.current.memoizedState.isDehydrated&&(ku(a,c).flags|=256),a=Fm(a,c),a!==2&&(c=Wr,Wr=p,c!==null&&a5(c)),a}function a5(a){Wr===null?Wr=a:Wr.push.apply(Wr,a)}function bO(a){for(var c=a;;){if(c.flags&16384){var p=c.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var D=0;D<p.length;D++){var O=p[D],M=O.getSnapshot;O=O.value;try{if(!Ro(M(),O))return!1}catch{return!1}}}if(p=c.child,c.subtreeFlags&16384&&p!==null)p.return=c,c=p;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function sl(a,c){for(c&=~t5,c&=~Rm,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var p=31-Lo(c),D=1<<p;a[p]=-1,c&=~D}}function Q6(a){if((Lt&6)!==0)throw Error(t(327));Od();var c=Qg(a,0);if((c&1)===0)return Hr(a,Ln()),null;var p=Fm(a,c);if(a.tag!==0&&p===2){var D=Uy(a);D!==0&&(c=D,p=o5(a,D))}if(p===1)throw p=kf,ku(a,0),sl(a,c),Hr(a,Ln()),p;if(p===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,_u(a,Wr,Wa),Hr(a,Ln()),null}function s5(a,c){var p=Lt;Lt|=1;try{return a(c)}finally{Lt=p,Lt===0&&(Ad=Ln()+500,lm&&el())}}function Eu(a){ol!==null&&ol.tag===0&&(Lt&6)===0&&Od();var c=Lt;Lt|=1;var p=Hi.transition,D=Nt;try{if(Hi.transition=null,Nt=1,a)return a()}finally{Nt=D,Hi.transition=p,Lt=c,(Lt&6)===0&&el()}}function l5(){vi=Rd.current,Jt(Rd)}function ku(a,c){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;if(p!==-1&&(a.timeoutHandle=-1,ZA(p)),Mn!==null)for(p=Mn.return;p!==null;){var D=p;switch(Sv(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&am();break;case 3:Pd(),Jt(Gr),Jt(yr),Av();break;case 5:Lv(D);break;case 4:Pd();break;case 13:Jt(fn);break;case 19:Jt(fn);break;case 10:Dv(D.type._context);break;case 22:case 23:l5()}p=p.return}if(rr=a,Mn=a=ll(a.current,null),cr=vi=c,Yn=0,kf=null,t5=Rm=Ou=0,Wr=_f=null,Lu!==null){for(c=0;c<Lu.length;c++)if(p=Lu[c],D=p.interleaved,D!==null){p.interleaved=null;var O=D.next,M=p.pending;if(M!==null){var Y=M.next;M.next=O,D.next=Y}p.pending=D}Lu=null}return a}function z6(a,c){do{var p=Mn;try{if(bv(),ym.current=bm,vm){for(var D=pn.memoizedState;D!==null;){var O=D.queue;O!==null&&(O.pending=null),D=D.next}vm=!1}if(Au=0,nr=$n=pn=null,If=!1,Lf=0,e5.current=null,p===null||p.return===null){Yn=1,kf=c,Mn=null;break}e:{var M=a,Y=p.return,re=p,ue=c;if(c=cr,re.flags|=32768,ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var De=ue,Fe=re,Ne=Fe.tag;if((Fe.mode&1)===0&&(Ne===0||Ne===11||Ne===15)){var ke=Fe.alternate;ke?(Fe.updateQueue=ke.updateQueue,Fe.memoizedState=ke.memoizedState,Fe.lanes=ke.lanes):(Fe.updateQueue=null,Fe.memoizedState=null)}var He=g6(Y);if(He!==null){He.flags&=-257,m6(He,Y,re,M,c),He.mode&1&&p6(M,De,c),c=He,ue=De;var Ye=c.updateQueue;if(Ye===null){var Xe=new Set;Xe.add(ue),c.updateQueue=Xe}else Ye.add(ue);break e}else{if((c&1)===0){p6(M,De,c),u5();break e}ue=Error(t(426))}}else if(on&&re.mode&1){var Rn=g6(Y);if(Rn!==null){(Rn.flags&65536)===0&&(Rn.flags|=256),m6(Rn,Y,re,M,c),Cv(Id(ue,re));break e}}M=ue=Id(ue,re),Yn!==4&&(Yn=2),_f===null?_f=[M]:_f.push(M),M=Y;do{switch(M.tag){case 3:M.flags|=65536,c&=-c,M.lanes|=c;var ye=h6(M,ue,c);Bb(M,ye);break e;case 1:re=ue;var fe=M.type,ve=M.stateNode;if((M.flags&128)===0&&(typeof fe.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(il===null||!il.has(ve)))){M.flags|=65536,c&=-c,M.lanes|=c;var qe=f6(M,re,c);Bb(M,qe);break e}}M=M.return}while(M!==null)}j6(p)}catch(Ze){c=Ze,Mn===p&&p!==null&&(Mn=p=p.return);continue}break}while(!0)}function W6(){var a=Lm.current;return Lm.current=bm,a===null?bm:a}function u5(){(Yn===0||Yn===3||Yn===2)&&(Yn=4),rr===null||(Ou&268435455)===0&&(Rm&268435455)===0||sl(rr,cr)}function Fm(a,c){var p=Lt;Lt|=2;var D=W6();(rr!==a||cr!==c)&&(Wa=null,ku(a,c));do try{DO();break}catch(O){z6(a,O)}while(!0);if(bv(),Lt=p,Lm.current=D,Mn!==null)throw Error(t(261));return rr=null,cr=0,Yn}function DO(){for(;Mn!==null;)H6(Mn)}function xO(){for(;Mn!==null&&!Y7();)H6(Mn)}function H6(a){var c=X6(a.alternate,a,vi);a.memoizedProps=a.pendingProps,c===null?j6(a):Mn=c,e5.current=null}function j6(a){var c=a;do{var p=c.alternate;if(a=c.return,(c.flags&32768)===0){if(p=mO(p,c,vi),p!==null){Mn=p;return}}else{if(p=SO(p,c),p!==null){p.flags&=32767,Mn=p;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Yn=6,Mn=null;return}}if(c=c.sibling,c!==null){Mn=c;return}Mn=c=a}while(c!==null);Yn===0&&(Yn=5)}function _u(a,c,p){var D=Nt,O=Hi.transition;try{Hi.transition=null,Nt=1,TO(a,c,p,D)}finally{Hi.transition=O,Nt=D}return null}function TO(a,c,p,D){do Od();while(ol!==null);if((Lt&6)!==0)throw Error(t(327));p=a.finishedWork;var O=a.finishedLanes;if(p===null)return null;if(a.finishedWork=null,a.finishedLanes=0,p===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var M=p.lanes|p.childLanes;if(oA(a,M),a===rr&&(Mn=rr=null,cr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Om||(Om=!0,K6(Bg,function(){return Od(),null})),M=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||M){M=Hi.transition,Hi.transition=null;var Y=Nt;Nt=1;var re=Lt;Lt|=4,e5.current=null,vO(a,p),N6(p,a),WA(uv),Hg=!!lv,uv=lv=null,a.current=p,CO(p),X7(),Lt=re,Nt=Y,Hi.transition=M}else a.current=p;if(Om&&(Om=!1,ol=a,Em=O),M=a.pendingLanes,M===0&&(il=null),J7(p.stateNode),Hr(a,Ln()),c!==null)for(D=a.onRecoverableError,p=0;p<c.length;p++)O=c[p],D(O.value,{componentStack:O.stack,digest:O.digest});if(Am)throw Am=!1,a=r5,r5=null,a;return(Em&1)!==0&&a.tag!==0&&Od(),M=a.pendingLanes,(M&1)!==0?a===i5?Ff++:(Ff=0,i5=a):Ff=0,el(),null}function Od(){if(ol!==null){var a=Fw(Em),c=Hi.transition,p=Nt;try{if(Hi.transition=null,Nt=16>a?16:a,ol===null)var D=!1;else{if(a=ol,ol=null,Em=0,(Lt&6)!==0)throw Error(t(331));var O=Lt;for(Lt|=4,je=a.current;je!==null;){var M=je,Y=M.child;if((je.flags&16)!==0){var re=M.deletions;if(re!==null){for(var ue=0;ue<re.length;ue++){var De=re[ue];for(je=De;je!==null;){var Fe=je;switch(Fe.tag){case 0:case 11:case 15:Ef(8,Fe,M)}var Ne=Fe.child;if(Ne!==null)Ne.return=Fe,je=Ne;else for(;je!==null;){Fe=je;var ke=Fe.sibling,He=Fe.return;if(E6(Fe),Fe===De){je=null;break}if(ke!==null){ke.return=He,je=ke;break}je=He}}}var Ye=M.alternate;if(Ye!==null){var Xe=Ye.child;if(Xe!==null){Ye.child=null;do{var Rn=Xe.sibling;Xe.sibling=null,Xe=Rn}while(Xe!==null)}}je=M}}if((M.subtreeFlags&2064)!==0&&Y!==null)Y.return=M,je=Y;else e:for(;je!==null;){if(M=je,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:Ef(9,M,M.return)}var ye=M.sibling;if(ye!==null){ye.return=M.return,je=ye;break e}je=M.return}}var fe=a.current;for(je=fe;je!==null;){Y=je;var ve=Y.child;if((Y.subtreeFlags&2064)!==0&&ve!==null)ve.return=Y,je=ve;else e:for(Y=fe;je!==null;){if(re=je,(re.flags&2048)!==0)try{switch(re.tag){case 0:case 11:case 15:Im(9,re)}}catch(Ze){Sn(re,re.return,Ze)}if(re===Y){je=null;break e}var qe=re.sibling;if(qe!==null){qe.return=re.return,je=qe;break e}je=re.return}}if(Lt=O,el(),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(qg,a)}catch{}D=!0}return D}finally{Nt=p,Hi.transition=c}}return!1}function $6(a,c,p){c=Id(p,c),c=h6(a,c,1),a=nl(a,c,1),c=Ar(),a!==null&&(of(a,1,c),Hr(a,c))}function Sn(a,c,p){if(a.tag===3)$6(a,a,p);else for(;c!==null;){if(c.tag===3){$6(c,a,p);break}else if(c.tag===1){var D=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(il===null||!il.has(D))){a=Id(p,a),a=f6(c,a,1),c=nl(c,a,1),a=Ar(),c!==null&&(of(c,1,a),Hr(c,a));break}}c=c.return}}function PO(a,c,p){var D=a.pingCache;D!==null&&D.delete(c),c=Ar(),a.pingedLanes|=a.suspendedLanes&p,rr===a&&(cr&p)===p&&(Yn===4||Yn===3&&(cr&130023424)===cr&&500>Ln()-n5?ku(a,0):t5|=p),Hr(a,c)}function Y6(a,c){c===0&&((a.mode&1)===0?c=1:(c=Gg,Gg<<=1,(Gg&130023424)===0&&(Gg=4194304)));var p=Ar();a=Ga(a,c),a!==null&&(of(a,c,p),Hr(a,p))}function IO(a){var c=a.memoizedState,p=0;c!==null&&(p=c.retryLane),Y6(a,p)}function LO(a,c){var p=0;switch(a.tag){case 13:var D=a.stateNode,O=a.memoizedState;O!==null&&(p=O.retryLane);break;case 19:D=a.stateNode;break;default:throw Error(t(314))}D!==null&&D.delete(c),Y6(a,p)}var X6;X6=function(a,c,p){if(a!==null)if(a.memoizedProps!==c.pendingProps||Gr.current)zr=!0;else{if((a.lanes&p)===0&&(c.flags&128)===0)return zr=!1,gO(a,c,p);zr=(a.flags&131072)!==0}else zr=!1,on&&(c.flags&1048576)!==0&&Rb(c,cm,c.index);switch(c.lanes=0,c.tag){case 2:var D=c.type;Tm(a,c),a=c.pendingProps;var O=vd(c,yr.current);Td(c,p),O=kv(null,c,D,a,O,p);var M=_v();return c.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,Qr(D)?(M=!0,sm(c)):M=!1,c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Pv(c),O.updater=Dm,c.stateNode=O,O._reactInternals=c,qv(c,D,a,p),c=zv(null,c,D,!0,M,p)):(c.tag=0,on&&M&&mv(c),Rr(null,c,O,p),c=c.child),c;case 16:D=c.elementType;e:{switch(Tm(a,c),a=c.pendingProps,O=D._init,D=O(D._payload),c.type=D,O=c.tag=AO(D),a=Oo(D,a),O){case 0:c=Qv(null,c,D,a,p);break e;case 1:c=b6(null,c,D,a,p);break e;case 11:c=S6(null,c,D,a,p);break e;case 14:c=y6(null,c,D,Oo(D.type,a),p);break e}throw Error(t(306,D,""))}return c;case 0:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:Oo(D,O),Qv(a,c,D,O,p);case 1:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:Oo(D,O),b6(a,c,D,O,p);case 3:e:{if(D6(c),a===null)throw Error(t(387));D=c.pendingProps,M=c.memoizedState,O=M.element,Ub(a,c),mm(c,D,null,p);var Y=c.memoizedState;if(D=Y.element,M.isDehydrated)if(M={element:D,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){O=Id(Error(t(423)),c),c=x6(a,c,D,p,O);break e}else if(D!==O){O=Id(Error(t(424)),c),c=x6(a,c,D,p,O);break e}else for(yi=Ks(c.stateNode.containerInfo.firstChild),Si=c,on=!0,Ao=null,p=Mb(c,null,D,p),c.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(bd(),D===O){c=za(a,c,p);break e}Rr(a,c,D,p)}c=c.child}return c;case 5:return Vb(c),a===null&&vv(c),D=c.type,O=c.pendingProps,M=a!==null?a.memoizedProps:null,Y=O.children,cv(D,O)?Y=null:M!==null&&cv(D,M)&&(c.flags|=32),w6(a,c),Rr(a,c,Y,p),c.child;case 6:return a===null&&vv(c),null;case 13:return T6(a,c,p);case 4:return Iv(c,c.stateNode.containerInfo),D=c.pendingProps,a===null?c.child=Dd(c,null,D,p):Rr(a,c,D,p),c.child;case 11:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:Oo(D,O),S6(a,c,D,O,p);case 7:return Rr(a,c,c.pendingProps,p),c.child;case 8:return Rr(a,c,c.pendingProps.children,p),c.child;case 12:return Rr(a,c,c.pendingProps.children,p),c.child;case 10:e:{if(D=c.type._context,O=c.pendingProps,M=c.memoizedProps,Y=O.value,Ht(fm,D._currentValue),D._currentValue=Y,M!==null)if(Ro(M.value,Y)){if(M.children===O.children&&!Gr.current){c=za(a,c,p);break e}}else for(M=c.child,M!==null&&(M.return=c);M!==null;){var re=M.dependencies;if(re!==null){Y=M.child;for(var ue=re.firstContext;ue!==null;){if(ue.context===D){if(M.tag===1){ue=Qa(-1,p&-p),ue.tag=2;var De=M.updateQueue;if(De!==null){De=De.shared;var Fe=De.pending;Fe===null?ue.next=ue:(ue.next=Fe.next,Fe.next=ue),De.pending=ue}}M.lanes|=p,ue=M.alternate,ue!==null&&(ue.lanes|=p),xv(M.return,p,c),re.lanes|=p;break}ue=ue.next}}else if(M.tag===10)Y=M.type===c.type?null:M.child;else if(M.tag===18){if(Y=M.return,Y===null)throw Error(t(341));Y.lanes|=p,re=Y.alternate,re!==null&&(re.lanes|=p),xv(Y,p,c),Y=M.sibling}else Y=M.child;if(Y!==null)Y.return=M;else for(Y=M;Y!==null;){if(Y===c){Y=null;break}if(M=Y.sibling,M!==null){M.return=Y.return,Y=M;break}Y=Y.return}M=Y}Rr(a,c,O.children,p),c=c.child}return c;case 9:return O=c.type,D=c.pendingProps.children,Td(c,p),O=zi(O),D=D(O),c.flags|=1,Rr(a,c,D,p),c.child;case 14:return D=c.type,O=Oo(D,c.pendingProps),O=Oo(D.type,O),y6(a,c,D,O,p);case 15:return v6(a,c,c.type,c.pendingProps,p);case 17:return D=c.type,O=c.pendingProps,O=c.elementType===D?O:Oo(D,O),Tm(a,c),c.tag=1,Qr(D)?(a=!0,sm(c)):a=!1,Td(c,p),c6(c,D,O),qv(c,D,O,p),zv(null,c,D,!0,a,p);case 19:return I6(a,c,p);case 22:return C6(a,c,p)}throw Error(t(156,c.tag))};function K6(a,c){return Aw(a,c)}function RO(a,c,p,D){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(a,c,p,D){return new RO(a,c,p,D)}function c5(a){return a=a.prototype,!(!a||!a.isReactComponent)}function AO(a){if(typeof a=="function")return c5(a)?1:0;if(a!=null){if(a=a.$$typeof,a===N)return 11;if(a===_)return 14}return 2}function ll(a,c){var p=a.alternate;return p===null?(p=ji(a.tag,c,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=c,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&14680064,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,c=a.dependencies,p.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p}function Mm(a,c,p,D,O,M){var Y=2;if(D=a,typeof a=="function")c5(a)&&(Y=1);else if(typeof a=="string")Y=5;else e:switch(a){case F:return Fu(p.children,O,M,c);case E:Y=8,O|=8;break;case k:return a=ji(12,p,c,O|2),a.elementType=k,a.lanes=M,a;case R:return a=ji(13,p,c,O),a.elementType=R,a.lanes=M,a;case I:return a=ji(19,p,c,O),a.elementType=I,a.lanes=M,a;case W:return Nm(p,O,M,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:Y=10;break e;case U:Y=9;break e;case N:Y=11;break e;case _:Y=14;break e;case q:Y=16,D=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return c=ji(Y,p,c,O),c.elementType=a,c.type=D,c.lanes=M,c}function Fu(a,c,p,D){return a=ji(7,a,D,c),a.lanes=p,a}function Nm(a,c,p,D){return a=ji(22,a,D,c),a.elementType=W,a.lanes=p,a.stateNode={isHidden:!1},a}function d5(a,c,p){return a=ji(6,a,null,c),a.lanes=p,a}function h5(a,c,p){return c=ji(4,a.children!==null?a.children:[],a.key,c),c.lanes=p,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function OO(a,c,p,D,O){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=By(0),this.expirationTimes=By(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=By(0),this.identifierPrefix=D,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function f5(a,c,p,D,O,M,Y,re,ue){return a=new OO(a,c,p,re,ue),c===1?(c=1,M===!0&&(c|=8)):c=0,M=ji(3,null,null,c),a.current=M,M.stateNode=a,M.memoizedState={element:D,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pv(M),a}function EO(a,c,p){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:D==null?null:""+D,children:a,containerInfo:c,implementation:p}}function Z6(a){if(!a)return Js;a=a._reactInternals;e:{if(Du(a)!==a||a.tag!==1)throw Error(t(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(Qr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(a.tag===1){var p=a.type;if(Qr(p))return Pb(a,p,c)}return c}function J6(a,c,p,D,O,M,Y,re,ue){return a=f5(p,D,!0,a,O,M,Y,re,ue),a.context=Z6(null),p=a.current,D=Ar(),O=al(p),M=Qa(D,O),M.callback=c??null,nl(p,M,O),a.current.lanes=O,of(a,O,D),Hr(a,D),a}function Um(a,c,p,D){var O=c.current,M=Ar(),Y=al(O);return p=Z6(p),c.context===null?c.context=p:c.pendingContext=p,c=Qa(M,Y),c.payload={element:a},D=D===void 0?null:D,D!==null&&(c.callback=D),a=nl(O,c,Y),a!==null&&(_o(a,O,Y,M),gm(a,O,Y)),Y}function Bm(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function eD(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<c?p:c}}function p5(a,c){eD(a,c),(a=a.alternate)&&eD(a,c)}function kO(){return null}var tD=typeof reportError=="function"?reportError:function(a){console.error(a)};function g5(a){this._internalRoot=a}qm.prototype.render=g5.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(t(409));Um(a,c,null,null)},qm.prototype.unmount=g5.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Eu(function(){Um(null,a,null,null)}),c[Ua]=null}};function qm(a){this._internalRoot=a}qm.prototype.unstable_scheduleHydration=function(a){if(a){var c=Uw();a={blockedOn:null,target:a,priority:c};for(var p=0;p<$s.length&&c!==0&&c<$s[p].priority;p++);$s.splice(p,0,a),p===0&&Vw(a)}};function m5(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Vm(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function nD(){}function _O(a,c,p,D,O){if(O){if(typeof D=="function"){var M=D;D=function(){var De=Bm(Y);M.call(De)}}var Y=J6(c,D,a,0,null,!1,!1,"",nD);return a._reactRootContainer=Y,a[Ua]=Y.current,vf(a.nodeType===8?a.parentNode:a),Eu(),Y}for(;O=a.lastChild;)a.removeChild(O);if(typeof D=="function"){var re=D;D=function(){var De=Bm(ue);re.call(De)}}var ue=f5(a,0,!1,null,null,!1,!1,"",nD);return a._reactRootContainer=ue,a[Ua]=ue.current,vf(a.nodeType===8?a.parentNode:a),Eu(function(){Um(c,ue,p,D)}),ue}function Gm(a,c,p,D,O){var M=p._reactRootContainer;if(M){var Y=M;if(typeof O=="function"){var re=O;O=function(){var ue=Bm(Y);re.call(ue)}}Um(c,Y,a,O)}else Y=_O(p,c,a,O,D);return Bm(Y)}Mw=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var p=rf(c.pendingLanes);p!==0&&(qy(c,p|1),Hr(c,Ln()),(Lt&6)===0&&(Ad=Ln()+500,el()))}break;case 13:Eu(function(){var D=Ga(a,1);if(D!==null){var O=Ar();_o(D,a,1,O)}}),p5(a,1)}},Vy=function(a){if(a.tag===13){var c=Ga(a,134217728);if(c!==null){var p=Ar();_o(c,a,134217728,p)}p5(a,134217728)}},Nw=function(a){if(a.tag===13){var c=al(a),p=Ga(a,c);if(p!==null){var D=Ar();_o(p,a,c,D)}p5(a,c)}},Uw=function(){return Nt},Bw=function(a,c){var p=Nt;try{return Nt=a,c()}finally{Nt=p}},Na=function(a,c,p){switch(c){case"input":if(Z(a,p),c=p.name,p.type==="radio"&&c!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<p.length;c++){var D=p[c];if(D!==a&&D.form===a.form){var O=om(D);if(!O)throw Error(t(90));Te(D),Z(D,O)}}}break;case"textarea":Ee(a,p);break;case"select":c=p.value,c!=null&&xe(a,!!p.multiple,c,!1)}},Vi=s5,xw=Eu;var FO={usingClientEntryPoint:!1,Events:[bf,Sd,om,ud,bu,s5]},Mf={findFiberByHostInstance:xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MO={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Lw(a),a===null?null:a.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||kO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{qg=Qm.inject(MO),na=Qm}catch{}}return jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FO,jr.createPortal=function(a,c){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m5(c))throw Error(t(200));return EO(a,c,null,p)},jr.createRoot=function(a,c){if(!m5(a))throw Error(t(299));var p=!1,D="",O=tD;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(D=c.identifierPrefix),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=f5(a,1,!1,null,null,p,!1,D,O),a[Ua]=c.current,vf(a.nodeType===8?a.parentNode:a),new g5(c)},jr.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Lw(c),a=a===null?null:a.stateNode,a},jr.flushSync=function(a){return Eu(a)},jr.hydrate=function(a,c,p){if(!Vm(c))throw Error(t(200));return Gm(null,a,c,!0,p)},jr.hydrateRoot=function(a,c,p){if(!m5(a))throw Error(t(405));var D=p!=null&&p.hydratedSources||null,O=!1,M="",Y=tD;if(p!=null&&(p.unstable_strictMode===!0&&(O=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(Y=p.onRecoverableError)),c=J6(c,null,a,1,p??null,O,!1,M,Y),a[Ua]=c.current,vf(a),D)for(a=0;a<D.length;a++)p=D[a],O=p._getVersion,O=O(p._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[p,O]:c.mutableSourceEagerHydrationData.push(p,O);return new qm(c)},jr.render=function(a,c,p){if(!Vm(c))throw Error(t(200));return Gm(null,a,c,!1,p)},jr.unmountComponentAtNode=function(a){if(!Vm(a))throw Error(t(40));return a._reactRootContainer?(Eu(function(){Gm(null,null,a,!1,function(){a._reactRootContainer=null,a[Ua]=null})}),!0):!1},jr.unstable_batchedUpdates=s5,jr.unstable_renderSubtreeIntoContainer=function(a,c,p,D){if(!Vm(p))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Gm(a,c,p,!1,D)},jr.version="18.3.1-next-f1338f8080-20240426",jr}var dD;function JP(){if(dD)return C5.exports;dD=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),C5.exports=HO(),C5.exports}var hD;function jO(){if(hD)return zm;hD=1;var n=JP();return zm.createRoot=n.createRoot,zm.hydrateRoot=n.hydrateRoot,zm}var $O=jO();const tp={black:"#000",white:"#fff"},Ed={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},YO={500:"#e91e63"},kd={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},XO={500:"#3f51b5"},_d={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Fd={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Md={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Uf={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},KO={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Qs(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const Ko="$$material";function u2(){return u2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},u2.apply(null,arguments)}function ZO(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function JO(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var eE=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JO(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=ZO(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Dr="-ms-",c2="-moz-",kt="-webkit-",e9="comm",P3="rule",I3="decl",tE="@import",t9="@keyframes",nE="@layer",rE=Math.abs,ly=String.fromCharCode,iE=Object.assign;function oE(n,e){return mr(n,0)^45?(((e<<2^mr(n,0))<<2^mr(n,1))<<2^mr(n,2))<<2^mr(n,3):0}function n9(n){return n.trim()}function aE(n,e){return(n=e.exec(n))?n[0]:n}function _t(n,e,t){return n.replace(e,t)}function mC(n,e){return n.indexOf(e)}function mr(n,e){return n.charCodeAt(e)|0}function np(n,e,t){return n.slice(e,t)}function La(n){return n.length}function L3(n){return n.length}function Wm(n,e){return e.push(n),n}function sE(n,e){return n.map(e).join("")}var uy=1,qh=1,r9=0,gi=0,Qn=0,Yh="";function cy(n,e,t,r,i,o,l){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:uy,column:qh,length:l,return:""}}function Bf(n,e){return iE(cy("",null,null,"",null,null,0),n,{length:-n.length},e)}function lE(){return Qn}function uE(){return Qn=gi>0?mr(Yh,--gi):0,qh--,Qn===10&&(qh=1,uy--),Qn}function Ui(){return Qn=gi<r9?mr(Yh,gi++):0,qh++,Qn===10&&(qh=1,uy++),Qn}function Ea(){return mr(Yh,gi)}function wS(){return gi}function Ag(n,e){return np(Yh,n,e)}function rp(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function i9(n){return uy=qh=1,r9=La(Yh=n),gi=0,[]}function o9(n){return Yh="",n}function bS(n){return n9(Ag(gi-1,SC(n===91?n+2:n===40?n+1:n)))}function cE(n){for(;(Qn=Ea())&&Qn<33;)Ui();return rp(n)>2||rp(Qn)>3?"":" "}function dE(n,e){for(;--e&&Ui()&&!(Qn<48||Qn>102||Qn>57&&Qn<65||Qn>70&&Qn<97););return Ag(n,wS()+(e<6&&Ea()==32&&Ui()==32))}function SC(n){for(;Ui();)switch(Qn){case n:return gi;case 34:case 39:n!==34&&n!==39&&SC(Qn);break;case 40:n===41&&SC(n);break;case 92:Ui();break}return gi}function hE(n,e){for(;Ui()&&n+Qn!==57;)if(n+Qn===84&&Ea()===47)break;return"/*"+Ag(e,gi-1)+"*"+ly(n===47?n:Ui())}function fE(n){for(;!rp(Ea());)Ui();return Ag(n,gi)}function pE(n){return o9(DS("",null,null,null,[""],n=i9(n),0,[0],n))}function DS(n,e,t,r,i,o,l,s,d){for(var h=0,f=0,m=l,v=0,g=0,S=0,y=1,C=1,x=1,b=0,w="",T=i,P=o,A=r,F=w;C;)switch(S=b,b=Ui()){case 40:if(S!=108&&mr(F,m-1)==58){mC(F+=_t(bS(b),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:F+=bS(b);break;case 9:case 10:case 13:case 32:F+=cE(S);break;case 92:F+=dE(wS()-1,7);continue;case 47:switch(Ea()){case 42:case 47:Wm(gE(hE(Ui(),wS()),e,t),d);break;default:F+="/"}break;case 123*y:s[h++]=La(F)*x;case 125*y:case 59:case 0:switch(b){case 0:case 125:C=0;case 59+f:x==-1&&(F=_t(F,/\f/g,"")),g>0&&La(F)-m&&Wm(g>32?pD(F+";",r,t,m-1):pD(_t(F," ","")+";",r,t,m-2),d);break;case 59:F+=";";default:if(Wm(A=fD(F,e,t,h,f,i,s,w,T=[],P=[],m),o),b===123)if(f===0)DS(F,e,A,A,T,o,m,s,P);else switch(v===99&&mr(F,3)===110?100:v){case 100:case 108:case 109:case 115:DS(n,A,A,r&&Wm(fD(n,A,A,0,0,i,s,w,i,T=[],m),P),i,P,m,s,r?T:P);break;default:DS(F,A,A,A,[""],P,0,s,P)}}h=f=g=0,y=x=1,w=F="",m=l;break;case 58:m=1+La(F),g=S;default:if(y<1){if(b==123)--y;else if(b==125&&y++==0&&uE()==125)continue}switch(F+=ly(b),b*y){case 38:x=f>0?1:(F+="\f",-1);break;case 44:s[h++]=(La(F)-1)*x,x=1;break;case 64:Ea()===45&&(F+=bS(Ui())),v=Ea(),f=m=La(w=F+=fE(wS())),b++;break;case 45:S===45&&La(F)==2&&(y=0)}}return o}function fD(n,e,t,r,i,o,l,s,d,h,f){for(var m=i-1,v=i===0?o:[""],g=L3(v),S=0,y=0,C=0;S<r;++S)for(var x=0,b=np(n,m+1,m=rE(y=l[S])),w=n;x<g;++x)(w=n9(y>0?v[x]+" "+b:_t(b,/&\f/g,v[x])))&&(d[C++]=w);return cy(n,e,t,i===0?P3:s,d,h,f)}function gE(n,e,t){return cy(n,e,t,e9,ly(lE()),np(n,2,-2),0)}function pD(n,e,t,r){return cy(n,e,t,I3,np(n,0,r),np(n,r+1,-1),r)}function $d(n,e){for(var t="",r=L3(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function mE(n,e,t,r){switch(n.type){case nE:if(n.children.length)break;case tE:case I3:return n.return=n.return||n.value;case e9:return"";case t9:return n.return=n.value+"{"+$d(n.children,r)+"}";case P3:n.value=n.props.join(",")}return La(t=$d(n.children,r))?n.return=n.value+"{"+t+"}":""}function SE(n){var e=L3(n);return function(t,r,i,o){for(var l="",s=0;s<e;s++)l+=n[s](t,r,i,o)||"";return l}}function yE(n){return function(e){e.root||(e=e.return)&&n(e)}}function a9(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var vE=function(e,t,r){for(var i=0,o=0;i=o,o=Ea(),i===38&&o===12&&(t[r]=1),!rp(o);)Ui();return Ag(e,gi)},CE=function(e,t){var r=-1,i=44;do switch(rp(i)){case 0:i===38&&Ea()===12&&(t[r]=1),e[r]+=vE(gi-1,t,r);break;case 2:e[r]+=bS(i);break;case 4:if(i===44){e[++r]=Ea()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=ly(i)}while(i=Ui());return e},wE=function(e,t){return o9(CE(i9(e),t))},gD=new WeakMap,bE=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!gD.get(r))&&!i){gD.set(e,!0);for(var o=[],l=wE(t,o),s=r.props,d=0,h=0;d<l.length;d++)for(var f=0;f<s.length;f++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,s[f]):s[f]+" "+l[d]}}},DE=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function s9(n,e){switch(oE(n,e)){case 5103:return kt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+n+c2+n+Dr+n+n;case 6828:case 4268:return kt+n+Dr+n+n;case 6165:return kt+n+Dr+"flex-"+n+n;case 5187:return kt+n+_t(n,/(\w+).+(:[^]+)/,kt+"box-$1$2"+Dr+"flex-$1$2")+n;case 5443:return kt+n+Dr+"flex-item-"+_t(n,/flex-|-self/,"")+n;case 4675:return kt+n+Dr+"flex-line-pack"+_t(n,/align-content|flex-|-self/,"")+n;case 5548:return kt+n+Dr+_t(n,"shrink","negative")+n;case 5292:return kt+n+Dr+_t(n,"basis","preferred-size")+n;case 6060:return kt+"box-"+_t(n,"-grow","")+kt+n+Dr+_t(n,"grow","positive")+n;case 4554:return kt+_t(n,/([^-])(transform)/g,"$1"+kt+"$2")+n;case 6187:return _t(_t(_t(n,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),n,"")+n;case 5495:case 3959:return _t(n,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return _t(_t(n,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+Dr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+n+n;case 4095:case 3583:case 4068:case 2532:return _t(n,/(.+)-inline(.+)/,kt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(La(n)-1-e>6)switch(mr(n,e+1)){case 109:if(mr(n,e+4)!==45)break;case 102:return _t(n,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+c2+(mr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~mC(n,"stretch")?s9(_t(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(mr(n,e+1)!==115)break;case 6444:switch(mr(n,La(n)-3-(~mC(n,"!important")&&10))){case 107:return _t(n,":",":"+kt)+n;case 101:return _t(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(mr(n,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+Dr+"$2box$3")+n}break;case 5936:switch(mr(n,e+11)){case 114:return kt+n+Dr+_t(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return kt+n+Dr+_t(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return kt+n+Dr+_t(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return kt+n+Dr+n+n}return n}var xE=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case I3:e.return=s9(e.value,e.length);break;case t9:return $d([Bf(e,{value:_t(e.value,"@","@"+kt)})],i);case P3:if(e.length)return sE(e.props,function(o){switch(aE(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $d([Bf(e,{props:[_t(o,/:(read-\w+)/,":"+c2+"$1")]})],i);case"::placeholder":return $d([Bf(e,{props:[_t(o,/:(plac\w+)/,":"+kt+"input-$1")]}),Bf(e,{props:[_t(o,/:(plac\w+)/,":"+c2+"$1")]}),Bf(e,{props:[_t(o,/:(plac\w+)/,Dr+"input-$1")]})],i)}return""})}},TE=[xE],PE=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var C=y.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||TE,o={},l,s=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var C=y.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)o[C[x]]=!0;s.push(y)});var d,h=[bE,DE];{var f,m=[mE,yE(function(y){f.insert(y)})],v=SE(h.concat(i,m)),g=function(C){return $d(pE(C),v)};d=function(C,x,b,w){f=b,g(C?C+"{"+x.styles+"}":x.styles),w&&(S.inserted[x.name]=!0)}}var S={key:t,sheet:new eE({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return S.sheet.hydrate(s),S},D5={exports:{}},Ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function IE(){if(mD)return Ft;mD=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,C=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(P){if(typeof P=="object"&&P!==null){var A=P.$$typeof;switch(A){case e:switch(P=P.type,P){case d:case h:case r:case o:case i:case m:return P;default:switch(P=P&&P.$$typeof,P){case s:case f:case S:case g:case l:return P;default:return A}}case t:return A}}}function T(P){return w(P)===h}return Ft.AsyncMode=d,Ft.ConcurrentMode=h,Ft.ContextConsumer=s,Ft.ContextProvider=l,Ft.Element=e,Ft.ForwardRef=f,Ft.Fragment=r,Ft.Lazy=S,Ft.Memo=g,Ft.Portal=t,Ft.Profiler=o,Ft.StrictMode=i,Ft.Suspense=m,Ft.isAsyncMode=function(P){return T(P)||w(P)===d},Ft.isConcurrentMode=T,Ft.isContextConsumer=function(P){return w(P)===s},Ft.isContextProvider=function(P){return w(P)===l},Ft.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Ft.isForwardRef=function(P){return w(P)===f},Ft.isFragment=function(P){return w(P)===r},Ft.isLazy=function(P){return w(P)===S},Ft.isMemo=function(P){return w(P)===g},Ft.isPortal=function(P){return w(P)===t},Ft.isProfiler=function(P){return w(P)===o},Ft.isStrictMode=function(P){return w(P)===i},Ft.isSuspense=function(P){return w(P)===m},Ft.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===h||P===o||P===i||P===m||P===v||typeof P=="object"&&P!==null&&(P.$$typeof===S||P.$$typeof===g||P.$$typeof===l||P.$$typeof===s||P.$$typeof===f||P.$$typeof===C||P.$$typeof===x||P.$$typeof===b||P.$$typeof===y)},Ft.typeOf=w,Ft}var SD;function LE(){return SD||(SD=1,D5.exports=IE()),D5.exports}var x5,yD;function RE(){if(yD)return x5;yD=1;var n=LE(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=i;function l(S){return n.isMemo(S)?i:o[S.$$typeof]||e}var s=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function g(S,y,C){if(typeof y!="string"){if(v){var x=m(y);x&&x!==v&&g(S,x,C)}var b=d(y);h&&(b=b.concat(h(y)));for(var w=l(S),T=l(y),P=0;P<b.length;++P){var A=b[P];if(!t[A]&&!(C&&C[A])&&!(T&&T[A])&&!(w&&w[A])){var F=f(y,A);try{s(S,A,F)}catch{}}}}return S}return x5=g,x5}RE();var AE=!0;function l9(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var R3=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||AE===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},A3=function(e,t,r){R3(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function OE(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var EE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kE=/[A-Z]|^ms/g,_E=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u9=function(e){return e.charCodeAt(1)===45},vD=function(e){return e!=null&&typeof e!="boolean"},T5=a9(function(n){return u9(n)?n:n.replace(kE,"-$&").toLowerCase()}),CD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(_E,function(r,i,o){return Ra={name:i,styles:o,next:Ra},i})}return EE[e]!==1&&!u9(e)&&typeof t=="number"&&t!==0?t+"px":t};function ip(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ra={name:i.name,styles:i.styles,next:Ra},i.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Ra={name:l.name,styles:l.styles,next:Ra},l=l.next;var s=o.styles+";";return s}return FE(n,e,t)}case"function":{if(n!==void 0){var d=Ra,h=t(n);return Ra=d,ip(n,e,h)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function FE(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=ip(n,e,t[i])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var s=l;e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":vD(s)&&(r+=T5(o)+":"+CD(o,s)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)vD(l[d])&&(r+=T5(o)+":"+CD(o,l[d])+";");else{var h=ip(n,e,l);switch(o){case"animation":case"animationName":{r+=T5(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var wD=/label:\s*([^\s;{]+)\s*(;|$)/g,Ra;function Og(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ra=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=ip(t,e,o);else{var l=o;i+=l[0]}for(var s=1;s<n.length;s++)if(i+=ip(t,e,n[s]),r){var d=o;i+=d[s]}wD.lastIndex=0;for(var h="",f;(f=wD.exec(i))!==null;)h+="-"+f[1];var m=OE(i)+h;return{name:m,styles:i,next:Ra}}var ME=function(e){return e()},c9=l2.useInsertionEffect?l2.useInsertionEffect:!1,d9=c9||ME,bD=c9||ee.useLayoutEffect,h9=ee.createContext(typeof HTMLElement<"u"?PE({key:"css"}):null);h9.Provider;var O3=function(e){return ee.forwardRef(function(t,r){var i=ee.useContext(h9);return e(t,i,r)})},Eg=ee.createContext({}),E3={}.hasOwnProperty,yC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",NE=function(e,t){var r={};for(var i in t)E3.call(t,i)&&(r[i]=t[i]);return r[yC]=e,r},UE=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return R3(t,r,i),d9(function(){return A3(t,r,i)}),null},BE=O3(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[yC],o=[r],l="";typeof n.className=="string"?l=l9(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var s=Og(o,void 0,ee.useContext(Eg));l+=e.key+"-"+s.name;var d={};for(var h in n)E3.call(n,h)&&h!=="css"&&h!==yC&&(d[h]=n[h]);return d.className=l,t&&(d.ref=t),ee.createElement(ee.Fragment,null,ee.createElement(UE,{cache:e,serialized:s,isStringTag:typeof i=="string"}),ee.createElement(i,d))}),qE=BE,DD=function(e,t){var r=arguments;if(t==null||!E3.call(t,"css"))return ee.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=qE,o[1]=NE(e,t);for(var l=2;l<i;l++)o[l]=r[l];return ee.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(DD||(DD={}));var VE=O3(function(n,e){var t=n.styles,r=Og([t],void 0,ee.useContext(Eg)),i=ee.useRef();return bD(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,d=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(s=!0,d.setAttribute("data-emotion",o),l.hydrate([d])),i.current=[l,s],function(){l.flush()}},[e]),bD(function(){var o=i.current,l=o[0],s=o[1];if(s){o[1]=!1;return}if(r.next!==void 0&&A3(e,r.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",r,l,!1)},[e,r.name]),null});function Xh(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Og(e)}function wu(){var n=Xh.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var GE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,QE=a9(function(n){return GE.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),zE=QE,WE=function(e){return e!=="theme"},xD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?zE:WE},TD=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},HE=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return R3(t,r,i),d9(function(){return A3(t,r,i)}),null},jE=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var s=TD(e,t,r),d=s||xD(i),h=!d("as");return function(){var f=arguments,m=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var v=f[0];m.push(v[0]);for(var g=f.length,S=1;S<g;S++)m.push(f[S],v[S])}var y=O3(function(C,x,b){var w=h&&C.as||i,T="",P=[],A=C;if(C.theme==null){A={};for(var F in C)A[F]=C[F];A.theme=ee.useContext(Eg)}typeof C.className=="string"?T=l9(x.registered,P,C.className):C.className!=null&&(T=C.className+" ");var E=Og(m.concat(P),x.registered,A);T+=x.key+"-"+E.name,l!==void 0&&(T+=" "+l);var k=h&&s===void 0?xD(w):d,L={};for(var U in C)h&&U==="as"||k(U)&&(L[U]=C[U]);return L.className=T,b&&(L.ref=b),ee.createElement(ee.Fragment,null,ee.createElement(HE,{cache:x,serialized:E,isStringTag:typeof w=="string"}),ee.createElement(w,L))});return y.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=m,y.__emotion_forwardProp=s,Object.defineProperty(y,"toString",{value:function(){return"."+l}}),y.withComponent=function(C,x){var b=n(C,u2({},t,x,{shouldForwardProp:TD(y,x,!0)}));return b.apply(void 0,m)},y}},$E=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vC=jE.bind(null);$E.forEach(function(n){vC[n]=vC(n)});function YE(n){return n==null||Object.keys(n).length===0}function f9(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(YE(i)?t:i):e;return le.jsx(VE,{styles:r})}/**
 * @mui/styled-engine v6.4.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function p9(n,e){return vC(n,e)}function XE(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const PD=[];function ID(n){return PD[0]=n,Og(PD)}var P5={exports:{}},Vt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD;function KE(){if(LD)return Vt;LD=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),g=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var C=y.$$typeof;switch(C){case n:switch(y=y.type,y){case t:case i:case r:case d:case h:return y;default:switch(y=y&&y.$$typeof,y){case l:case s:case m:case f:return y;case o:return y;default:return C}}case e:return C}}}return Vt.ContextConsumer=o,Vt.ContextProvider=l,Vt.Element=n,Vt.ForwardRef=s,Vt.Fragment=t,Vt.Lazy=m,Vt.Memo=f,Vt.Portal=e,Vt.Profiler=i,Vt.StrictMode=r,Vt.Suspense=d,Vt.SuspenseList=h,Vt.isContextConsumer=function(y){return S(y)===o},Vt.isContextProvider=function(y){return S(y)===l},Vt.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},Vt.isForwardRef=function(y){return S(y)===s},Vt.isFragment=function(y){return S(y)===t},Vt.isLazy=function(y){return S(y)===m},Vt.isMemo=function(y){return S(y)===f},Vt.isPortal=function(y){return S(y)===e},Vt.isProfiler=function(y){return S(y)===i},Vt.isStrictMode=function(y){return S(y)===r},Vt.isSuspense=function(y){return S(y)===d},Vt.isSuspenseList=function(y){return S(y)===h},Vt.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===d||y===h||y===v||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===l||y.$$typeof===o||y.$$typeof===s||y.$$typeof===g||y.getModuleId!==void 0)},Vt.typeOf=S,Vt}var RD;function ZE(){return RD||(RD=1,P5.exports=KE()),P5.exports}var g9=ZE();function Aa(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function m9(n){if(ee.isValidElement(n)||g9.isValidElementType(n)||!Aa(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=m9(n[t])}),e}function ar(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Aa(n)&&Aa(e)&&Object.keys(e).forEach(i=>{ee.isValidElement(e[i])||g9.isValidElementType(e[i])?r[i]=e[i]:Aa(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Aa(n[i])?r[i]=ar(n[i],e[i],t):t.clone?r[i]=Aa(e[i])?m9(e[i]):e[i]:r[i]=e[i]}),r}const JE=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function ek(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=JE(e),l=Object.keys(o);function s(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function h(v,g){const S=l.indexOf(g);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:g)-r/100}${t})`}function f(v){return l.indexOf(v)+1<l.length?h(v,l[l.indexOf(v)+1]):s(v)}function m(v){const g=l.indexOf(v);return g===0?s(l[1]):g===l.length-1?d(l[g]):h(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:s,down:d,between:h,only:f,not:m,unit:t,...i}}function tk(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,s;const o=/min-width:\s*([0-9.]+)/;return+(((l=r.match(o))==null?void 0:l[1])||0)-+(((s=i.match(o))==null?void 0:s[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function nk(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function rk(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function ik(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...s)=>e(n.breakpoints.up(...s),l),o.down=(...s)=>e(n.breakpoints.down(...s),l),o.between=(...s)=>e(n.breakpoints.between(...s),l),o.only=(...s)=>e(n.breakpoints.only(...s),l),o.not=(...s)=>{const d=e(n.breakpoints.not(...s),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const ok={borderRadius:4};function H1(n,e){return e?ar(n,e,{clone:!1}):n}const dy={xs:0,sm:600,md:900,lg:1200,xl:1536},AD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${dy[n]}px)`},ak={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:dy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Zo(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||AD;return e.reduce((l,s,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=r.breakpoints||AD;return Object.keys(e).reduce((l,s)=>{if(nk(o.keys,s)){const d=rk(r.containerQueries?r:ak,s);d&&(l[d]=t(e[s],s))}else if(Object.keys(o.values||dy).includes(s)){const d=o.up(s);l[d]=t(e[s],s)}else{const d=s;l[d]=e[d]}return l},{})}return t(e)}function S9(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function y9(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function sk(n,...e){const t=S9(n),r=[t,...e].reduce((i,o)=>ar(i,o),{});return y9(Object.keys(t),r)}function lk(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((i,o)=>{o<n.length&&(t[i]=!0)}):r.forEach(i=>{n[i]!=null&&(t[i]=!0)}),t}function I5({values:n,breakpoints:e,base:t}){const r=t||lk(n,e),i=Object.keys(r);if(i.length===0)return n;let o;return i.reduce((l,s,d)=>(Array.isArray(n)?(l[s]=n[d]!=null?n[d]:n[o],o=d):typeof n=="object"?(l[s]=n[s]!=null?n[s]:n[o],o=s):l[s]=n,l),{})}function Qe(n){if(typeof n!="string")throw new Error(Qs(7));return n.charAt(0).toUpperCase()+n.slice(1)}function du(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function d2(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=du(n,t)||r,e&&(i=e(i,r,n)),i}function _n(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=l=>{if(l[e]==null)return null;const s=l[e],d=l.theme,h=du(d,r)||{};return Zo(l,s,m=>{let v=d2(h,i,m);return m===v&&typeof m=="string"&&(v=d2(h,i,`${e}${m==="default"?"":Qe(m)}`,m)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function uk(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const ck={m:"margin",p:"padding"},dk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},OD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hk=uk(n=>{if(n.length>2)if(OD[n])n=OD[n];else return[n];const[e,t]=n.split(""),r=ck[e],i=dk[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),k3=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_3=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...k3,..._3];function kg(n,e,t,r){const i=du(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),s=i[l];return o>=0?s:typeof s=="number"?-s:`-${s}`}:typeof i=="function"?i:()=>{}}function hy(n){return kg(n,"spacing",8)}function nd(n,e){return typeof e=="string"||e==null?e:n(e)}function fk(n,e){return t=>n.reduce((r,i)=>(r[i]=nd(e,t),r),{})}function pk(n,e,t,r){if(!e.includes(t))return null;const i=hk(t),o=fk(i,r),l=n[t];return Zo(n,l,o)}function v9(n,e){const t=hy(n.theme);return Object.keys(n).map(r=>pk(n,e,r,t)).reduce(H1,{})}function vn(n){return v9(n,k3)}vn.propTypes={};vn.filterProps=k3;function Cn(n){return v9(n,_3)}Cn.propTypes={};Cn.filterProps=_3;function C9(n=8,e=hy({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function fy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?H1(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function bo(n){return typeof n!="number"?n:`${n}px solid`}function Po(n,e){return _n({prop:n,themeKey:"borders",transform:e})}const gk=Po("border",bo),mk=Po("borderTop",bo),Sk=Po("borderRight",bo),yk=Po("borderBottom",bo),vk=Po("borderLeft",bo),Ck=Po("borderColor"),wk=Po("borderTopColor"),bk=Po("borderRightColor"),Dk=Po("borderBottomColor"),xk=Po("borderLeftColor"),Tk=Po("outline",bo),Pk=Po("outlineColor"),py=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=kg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:nd(e,r)});return Zo(n,n.borderRadius,t)}return null};py.propTypes={};py.filterProps=["borderRadius"];fy(gk,mk,Sk,yk,vk,Ck,wk,bk,Dk,xk,py,Tk,Pk);const gy=n=>{if(n.gap!==void 0&&n.gap!==null){const e=kg(n.theme,"spacing",8),t=r=>({gap:nd(e,r)});return Zo(n,n.gap,t)}return null};gy.propTypes={};gy.filterProps=["gap"];const my=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=kg(n.theme,"spacing",8),t=r=>({columnGap:nd(e,r)});return Zo(n,n.columnGap,t)}return null};my.propTypes={};my.filterProps=["columnGap"];const Sy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=kg(n.theme,"spacing",8),t=r=>({rowGap:nd(e,r)});return Zo(n,n.rowGap,t)}return null};Sy.propTypes={};Sy.filterProps=["rowGap"];const Ik=_n({prop:"gridColumn"}),Lk=_n({prop:"gridRow"}),Rk=_n({prop:"gridAutoFlow"}),Ak=_n({prop:"gridAutoColumns"}),Ok=_n({prop:"gridAutoRows"}),Ek=_n({prop:"gridTemplateColumns"}),kk=_n({prop:"gridTemplateRows"}),_k=_n({prop:"gridTemplateAreas"}),Fk=_n({prop:"gridArea"});fy(gy,my,Sy,Ik,Lk,Rk,Ak,Ok,Ek,kk,_k,Fk);function Yd(n,e){return e==="grey"?e:n}const Mk=_n({prop:"color",themeKey:"palette",transform:Yd}),Nk=_n({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Yd}),Uk=_n({prop:"backgroundColor",themeKey:"palette",transform:Yd});fy(Mk,Nk,Uk);function Ni(n){return n<=1&&n!==0?`${n*100}%`:n}const Bk=_n({prop:"width",transform:Ni}),F3=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,l,s,d;const r=((l=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:l[t])||dy[t];return r?((d=(s=n.theme)==null?void 0:s.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ni(t)}};return Zo(n,n.maxWidth,e)}return null};F3.filterProps=["maxWidth"];const qk=_n({prop:"minWidth",transform:Ni}),Vk=_n({prop:"height",transform:Ni}),Gk=_n({prop:"maxHeight",transform:Ni}),Qk=_n({prop:"minHeight",transform:Ni});_n({prop:"size",cssProperty:"width",transform:Ni});_n({prop:"size",cssProperty:"height",transform:Ni});const zk=_n({prop:"boxSizing"});fy(Bk,F3,qk,Vk,Gk,Qk,zk);const _g={border:{themeKey:"borders",transform:bo},borderTop:{themeKey:"borders",transform:bo},borderRight:{themeKey:"borders",transform:bo},borderBottom:{themeKey:"borders",transform:bo},borderLeft:{themeKey:"borders",transform:bo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:bo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:py},color:{themeKey:"palette",transform:Yd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Yd},backgroundColor:{themeKey:"palette",transform:Yd},p:{style:Cn},pt:{style:Cn},pr:{style:Cn},pb:{style:Cn},pl:{style:Cn},px:{style:Cn},py:{style:Cn},padding:{style:Cn},paddingTop:{style:Cn},paddingRight:{style:Cn},paddingBottom:{style:Cn},paddingLeft:{style:Cn},paddingX:{style:Cn},paddingY:{style:Cn},paddingInline:{style:Cn},paddingInlineStart:{style:Cn},paddingInlineEnd:{style:Cn},paddingBlock:{style:Cn},paddingBlockStart:{style:Cn},paddingBlockEnd:{style:Cn},m:{style:vn},mt:{style:vn},mr:{style:vn},mb:{style:vn},ml:{style:vn},mx:{style:vn},my:{style:vn},margin:{style:vn},marginTop:{style:vn},marginRight:{style:vn},marginBottom:{style:vn},marginLeft:{style:vn},marginX:{style:vn},marginY:{style:vn},marginInline:{style:vn},marginInlineStart:{style:vn},marginInlineEnd:{style:vn},marginBlock:{style:vn},marginBlockStart:{style:vn},marginBlockEnd:{style:vn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gy},rowGap:{style:Sy},columnGap:{style:my},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ni},maxWidth:{style:F3},minWidth:{transform:Ni},height:{transform:Ni},maxHeight:{transform:Ni},minHeight:{transform:Ni},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Wk(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function Hk(n,e){return typeof n=="function"?n(e):n}function jk(){function n(t,r,i,o){const l={[t]:r,theme:i},s=o[t];if(!s)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:f,style:m}=s;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const v=du(i,h)||{};return m?m(l):Zo(l,r,S=>{let y=d2(v,f,S);return S===y&&typeof S=="string"&&(y=d2(v,f,`${t}${S==="default"?"":Qe(S)}`,S)),d===!1?y:{[d]:y}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??_g;function l(s){let d=s;if(typeof s=="function")d=s(i);else if(typeof s!="object")return s;if(!d)return null;const h=S9(i.breakpoints),f=Object.keys(h);let m=h;return Object.keys(d).forEach(v=>{const g=Hk(d[v],i);if(g!=null)if(typeof g=="object")if(o[v])m=H1(m,n(v,g,i,o));else{const S=Zo({theme:i},g,y=>({[v]:y}));Wk(S,g)?m[v]=e({sx:g,theme:i}):m=H1(m,S)}else m=H1(m,n(v,g,i,o))}),tk(i,y9(f,m))}return Array.isArray(r)?r.map(l):l(r)}return e}const mu=jk();mu.filterProps=["sx"];function $k(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function yy(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...l}=n,s=ek(t),d=C9(i);let h=ar({breakpoints:s,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...ok,...o}},l);return h=ik(h),h.applyStyles=$k,h=e.reduce((f,m)=>ar(f,m),h),h.unstable_sxConfig={..._g,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(m){return mu({sx:m,theme:this})},h}function Yk(n){return Object.keys(n).length===0}function M3(n=null){const e=ee.useContext(Eg);return!e||Yk(e)?n:e}const Xk=yy();function vy(n=Xk){return M3(n)}function Kk({styles:n,themeId:e,defaultTheme:t={}}){const r=vy(t),i=typeof n=="function"?n(e&&r[e]||r):n;return le.jsx(f9,{styles:i})}const Zk=n=>{var r;const e={systemProps:{},otherProps:{}},t=((r=n==null?void 0:n.theme)==null?void 0:r.unstable_sxConfig)??_g;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function N3(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=Zk(t);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...l)=>{const s=e(...l);return Aa(s)?{...r,...s}:r}:o={...r,...e},{...i,sx:o}}const ED=n=>n,Jk=()=>{let n=ED;return{configure(e){n=e},generate(e){return n(e)},reset(){n=ED}}},w9=Jk();function b9(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=b9(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Je(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=b9(n))&&(r&&(r+=" "),r+=e);return r}function e_(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,o=p9("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(mu);return ee.forwardRef(function(d,h){const f=vy(t),{className:m,component:v="div",...g}=N3(d);return le.jsx(o,{as:v,ref:h,className:Je(m,i?i(r):r),theme:e&&f[e]||f,...g})})}const t_={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ft(n,e,t="Mui"){const r=t_[e];return r?`${t}-${r}`:`${w9.generate(n)}-${e}`}function pt(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=ft(n,i,t)}),r}function D9(n){const{variants:e,...t}=n,r={variants:e,style:ID(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=ID(i.style))}),r}const n_=yy();function L5(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function r_(n){return n?(e,t)=>t[n]:null}function i_(n,e,t){n.theme=a_(n.theme)?t:n.theme[e]||n.theme}function xS(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>xS(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return x9(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function x9(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const s in l.props)if(n[s]!==l.props[s]&&((i=n.ownerState)==null?void 0:i[s])!==l.props[s])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function T9(n={}){const{themeId:e,defaultTheme:t=n_,rootShouldForwardProp:r=L5,slotShouldForwardProp:i=L5}=n;function o(s){i_(s,e,t)}return(s,d={})=>{XE(s,P=>P.filter(A=>A!==mu));const{name:h,slot:f,skipVariantsResolver:m,skipSx:v,overridesResolver:g=r_(l_(f)),...S}=d,y=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,C=v||!1;let x=L5;f==="Root"||f==="root"?x=r:f?x=i:s_(s)&&(x=void 0);const b=p9(s,{shouldForwardProp:x,label:o_(),...S}),w=P=>{if(typeof P=="function"&&P.__emotion_real!==P)return function(F){return xS(F,P)};if(Aa(P)){const A=D9(P);return A.variants?function(E){return xS(E,A)}:A.style}return P},T=(...P)=>{const A=[],F=P.map(w),E=[];if(A.push(o),h&&g&&E.push(function(N){var q,W;const I=(W=(q=N.theme.components)==null?void 0:q[h])==null?void 0:W.styleOverrides;if(!I)return null;const _={};for(const j in I)_[j]=xS(N,I[j]);return g(N,_)}),h&&!y&&E.push(function(N){var _,q;const R=N.theme,I=(q=(_=R==null?void 0:R.components)==null?void 0:_[h])==null?void 0:q.variants;return I?x9(N,I):null}),C||E.push(mu),Array.isArray(F[0])){const U=F.shift(),N=new Array(A.length).fill(""),R=new Array(E.length).fill("");let I;I=[...N,...U,...R],I.raw=[...N,...U.raw,...R],A.unshift(I)}const k=[...A,...F,...E],L=b(...k);return s.muiName&&(L.muiName=s.muiName),L};return b.withConfig&&(T.withConfig=b.withConfig),T}}function o_(n,e){return void 0}function a_(n){for(const e in n)return!1;return!0}function s_(n){return typeof n=="string"&&n.charCodeAt(0)>96}function l_(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const u_=T9();function op(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],l=e[i];if(!l)t[i]=o||{};else if(!o)t[i]=l;else{t[i]={...l};for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const d=s;t[i][d]=op(o[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}function P9(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:op(e.components[t].defaultProps,r)}function c_({props:n,name:e,defaultTheme:t,themeId:r}){let i=vy(t);return r&&(i=i[r]||i),P9({theme:i,name:e,props:n})}const _a=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;function d_(n,e,t,r,i){const[o,l]=ee.useState(()=>i&&t?t(n).matches:r?r(n).matches:e);return _a(()=>{if(!t)return;const s=t(n),d=()=>{l(s.matches)};return d(),s.addEventListener("change",d),()=>{s.removeEventListener("change",d)}},[n,t]),o}const h_={...l2},I9=h_.useSyncExternalStore;function f_(n,e,t,r,i){const o=ee.useCallback(()=>e,[e]),l=ee.useMemo(()=>{if(i&&t)return()=>t(n).matches;if(r!==null){const{matches:f}=r(n);return()=>f}return o},[o,n,r,i,t]),[s,d]=ee.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const f=t(n);return[()=>f.matches,m=>(f.addEventListener("change",m),()=>{f.removeEventListener("change",m)})]},[o,t,n]);return I9(d,s,l)}function L9(n={}){const{themeId:e}=n;return function(r,i={}){let o=M3();o&&e&&(o=o[e]||o);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:d=l?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=P9({name:"MuiUseMediaQuery",props:i,theme:o});let m=typeof r=="function"?r(o):r;return m=m.replace(/^@media( ?)/m,""),(I9!==void 0?f_:d_)(m,s,d,h,f)}}L9();function qd(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function U3(n,e=0,t=1){return qd(n,e,t)}function p_(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Su(n){if(n.type)return n;if(n.charAt(0)==="#")return Su(p_(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Qs(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Qs(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const g_=n=>{const e=Su(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},F1=(n,e)=>{try{return g_(n)}catch{return n}};function Cy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function R9(n){n=Su(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),l=(h,f=(h+t/30)%12)=>i-o*Math.max(Math.min(f-3,9-f,1),-1);let s="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(s+="a",d.push(e[3])),Cy({type:s,values:d})}function CC(n){n=Su(n);let e=n.type==="hsl"||n.type==="hsla"?Su(R9(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function m_(n,e){const t=CC(n),r=CC(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function xn(n,e){return n=Su(n),e=U3(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Cy(n)}function Hm(n,e,t){try{return xn(n,e)}catch{return n}}function rd(n,e){if(n=Su(n),e=U3(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Cy(n)}function Qt(n,e,t){try{return rd(n,e)}catch{return n}}function id(n,e){if(n=Su(n),e=U3(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Cy(n)}function zt(n,e,t){try{return id(n,e)}catch{return n}}function S_(n,e=.15){return CC(n)>.5?rd(n,e):id(n,e)}function jm(n,e,t){try{return S_(n,e)}catch{return n}}function kD(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function B3(n,e=166){let t;function r(...i){const o=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(o,e)}return r.clear=()=>{clearTimeout(t)},r}function R5(n,e){var t,r,i;return ee.isValidElement(n)&&e.indexOf(n.type.muiName??((i=(r=(t=n.type)==null?void 0:t._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function Br(n){return n&&n.ownerDocument||document}function Jo(n){return Br(n).defaultView||window}function _D(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let FD=0;function y_(n){const[e,t]=ee.useState(n),r=n||e;return ee.useEffect(()=>{e==null&&(FD+=1,t(`mui-${FD}`))},[e]),r}const v_={...l2},MD=v_.useId;function wy(n){if(MD!==void 0){const e=MD();return n??e}return y_(n)}function wC({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=ee.useRef(n!==void 0),[o,l]=ee.useState(e),s=i?n:o,d=ee.useCallback(h=>{i||l(h)},[]);return[s,d]}function ka(n){const e=ee.useRef(n);return _a(()=>{e.current=n}),ee.useRef((...t)=>(0,e.current)(...t)).current}function Ir(...n){const e=ee.useRef(void 0),t=ee.useCallback(r=>{const i=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,s=l(r);return typeof s=="function"?s:()=>{l(null)}}return o.current=r,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},n);return ee.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const ND={};function A9(n,e){const t=ee.useRef(ND);return t.current===ND&&(t.current=n(e)),t}const C_=[];function w_(n){ee.useEffect(n,C_)}class q3{constructor(){ae(this,"currentId",null);ae(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ae(this,"disposeEffect",()=>this.clear)}static create(){return new q3}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function O9(){const n=A9(q3.create).current;return w_(n.disposeEffect),n}function Vh(n){try{return n.matches(":focus-visible")}catch{}return!1}function E9(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function b_(n){return ee.Children.toArray(n).filter(e=>ee.isValidElement(e))}const D_={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function gt(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let l="",s=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(l+=(s===!0?"":" ")+e(h),s=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}function x_(n){return typeof n=="string"}function k9(n,e,t){return n===void 0||x_(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function j1(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function UD(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function _9(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:o}=n;if(!e){const g=Je(t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),S={...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...t,...i,...r};return g.length>0&&(y.className=g),Object.keys(S).length>0&&(y.style=S),{props:y,internalRef:void 0}}const l=j1({...i,...r}),s=UD(r),d=UD(i),h=e(l),f=Je(h==null?void 0:h.className,t==null?void 0:t.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m={...h==null?void 0:h.style,...t==null?void 0:t.style,...i==null?void 0:i.style,...r==null?void 0:r.style},v={...h,...t,...d,...s};return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:h.ref}}function F9(n,e,t){return typeof n=="function"?n(e,t):n}function Ja(n){var m;const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...o}=n,l=i?{}:F9(t,r),{props:s,internalRef:d}=_9({...o,externalSlotProps:l}),h=Ir(d,l==null?void 0:l.ref,(m=n.additionalProps)==null?void 0:m.ref);return k9(e,{...s,ref:h},r)}function Kh(n){var e;return parseInt(ee.version,10)>=19?((e=n==null?void 0:n.props)==null?void 0:e.ref)||null:(n==null?void 0:n.ref)||null}const M9=ee.createContext(null);function V3(){return ee.useContext(M9)}const T_=typeof Symbol=="function"&&Symbol.for,P_=T_?Symbol.for("mui.nested"):"__THEME_NESTED__";function I_(n,e){return typeof e=="function"?e(n):{...n,...e}}function L_(n){const{children:e,theme:t}=n,r=V3(),i=ee.useMemo(()=>{const o=r===null?{...t}:I_(r,t);return o!=null&&(o[P_]=r!==null),o},[t,r]);return le.jsx(M9.Provider,{value:i,children:e})}const N9=ee.createContext();function R_({value:n,...e}){return le.jsx(N9.Provider,{value:n??!0,...e})}const G3=()=>ee.useContext(N9)??!1,U9=ee.createContext(void 0);function A_({value:n,children:e}){return le.jsx(U9.Provider,{value:n,children:e})}function O_(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?op(i.defaultProps,r):!i.styleOverrides&&!i.variants?op(i,r):r}function E_({props:n,name:e}){const t=ee.useContext(U9);return O_({props:n,name:e,theme:{components:t}})}const BD={};function qD(n,e,t,r=!1){return ee.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const o=t(i),l=n?{...e,[n]:o}:o;return r?()=>l:l}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,r])}function B9(n){const{children:e,theme:t,themeId:r}=n,i=M3(BD),o=V3()||BD,l=qD(r,i,t),s=qD(r,o,t,!0),d=(r?l[r]:l).direction==="rtl";return le.jsx(L_,{theme:s,children:le.jsx(Eg.Provider,{value:l,children:le.jsx(R_,{value:d,children:le.jsx(A_,{value:r?l[r].components:l.components,children:e})})})})}const VD={theme:void 0};function k_(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(VD.theme=i.theme,o=D9(n(VD)),e=o,t=i.theme),o}}const Q3="mode",z3="color-scheme",__="data-color-scheme";function F_(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=Q3,colorSchemeStorageKey:o=z3,attribute:l=__,colorSchemeNode:s="document.documentElement",nonce:d}=n||{};let h="",f=l;if(l==="class"&&(f=".%s"),l==="data"&&(f="[data-%s]"),f.startsWith(".")){const v=f.substring(1);h+=`${s}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${s}.classList.add('${v}'.replace('%s', colorScheme));`}const m=f.match(/\[([^\]]+)\]/);if(m){const[v,g]=m[1].split("=");g||(h+=`${s}.removeAttribute('${v}'.replace('%s', light));
      ${s}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${s}.setAttribute('${v}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else h+=`${s}.setAttribute('${f}', colorScheme);`;return le.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${r}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function M_(){}const N_=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let r;try{r=e.localStorage.getItem(n)}catch{}return r||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return M_;const r=i=>{const o=i.newValue;i.key===n&&t(o)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function A5(){}function GD(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function q9(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function U_(n){return q9(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function B_(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:o=Q3,colorSchemeStorageKey:l=z3,storageWindow:s=typeof window>"u"?void 0:window,storageManager:d=N_,noSsr:h=!1}=n,f=i.join(","),m=i.length>1,v=ee.useMemo(()=>d==null?void 0:d({key:o,storageWindow:s}),[d,o,s]),g=ee.useMemo(()=>d==null?void 0:d({key:`${l}-light`,storageWindow:s}),[d,l,s]),S=ee.useMemo(()=>d==null?void 0:d({key:`${l}-dark`,storageWindow:s}),[d,l,s]),[y,C]=ee.useState(()=>{const E=(v==null?void 0:v.get(e))||e,k=(g==null?void 0:g.get(t))||t,L=(S==null?void 0:S.get(r))||r;return{mode:E,systemMode:GD(E),lightColorScheme:k,darkColorScheme:L}}),[x,b]=ee.useState(h||!m);ee.useEffect(()=>{b(!0)},[]);const w=U_(y),T=ee.useCallback(E=>{C(k=>{if(E===k.mode)return k;const L=E??e;return v==null||v.set(L),{...k,mode:L,systemMode:GD(L)}})},[v,e]),P=ee.useCallback(E=>{E?typeof E=="string"?E&&!f.includes(E)?console.error(`\`${E}\` does not exist in \`theme.colorSchemes\`.`):C(k=>{const L={...k};return q9(k,U=>{U==="light"&&(g==null||g.set(E),L.lightColorScheme=E),U==="dark"&&(S==null||S.set(E),L.darkColorScheme=E)}),L}):C(k=>{const L={...k},U=E.light===null?t:E.light,N=E.dark===null?r:E.dark;return U&&(f.includes(U)?(L.lightColorScheme=U,g==null||g.set(U)):console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`)),N&&(f.includes(N)?(L.darkColorScheme=N,S==null||S.set(N)):console.error(`\`${N}\` does not exist in \`theme.colorSchemes\`.`)),L}):C(k=>(g==null||g.set(t),S==null||S.set(r),{...k,lightColorScheme:t,darkColorScheme:r}))},[f,g,S,t,r]),A=ee.useCallback(E=>{y.mode==="system"&&C(k=>{const L=E!=null&&E.matches?"dark":"light";return k.systemMode===L?k:{...k,systemMode:L}})},[y.mode]),F=ee.useRef(A);return F.current=A,ee.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const E=(...L)=>F.current(...L),k=window.matchMedia("(prefers-color-scheme: dark)");return k.addListener(E),E(k),()=>{k.removeListener(E)}},[m]),ee.useEffect(()=>{if(m){const E=(v==null?void 0:v.subscribe(U=>{(!U||["light","dark","system"].includes(U))&&T(U||e)}))||A5,k=(g==null?void 0:g.subscribe(U=>{(!U||f.match(U))&&P({light:U})}))||A5,L=(S==null?void 0:S.subscribe(U=>{(!U||f.match(U))&&P({dark:U})}))||A5;return()=>{E(),k(),L()}}},[P,T,f,e,s,m,v,g,S]),{...y,mode:x?y.mode:void 0,systemMode:x?y.systemMode:void 0,colorScheme:x?w:void 0,setMode:T,setColorScheme:P}}const q_="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function V_(n){const{themeId:e,theme:t={},modeStorageKey:r=Q3,colorSchemeStorageKey:i=z3,disableTransitionOnChange:o=!1,defaultColorScheme:l,resolveTheme:s}=n,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=ee.createContext(void 0),f=()=>ee.useContext(h)||d,m={},v={};function g(x){var Ee,he,we,Me;const{children:b,theme:w,modeStorageKey:T=r,colorSchemeStorageKey:P=i,disableTransitionOnChange:A=o,storageManager:F,storageWindow:E=typeof window>"u"?void 0:window,documentNode:k=typeof document>"u"?void 0:document,colorSchemeNode:L=typeof document>"u"?void 0:document.documentElement,disableNestedContext:U=!1,disableStyleSheetGeneration:N=!1,defaultMode:R="system",noSsr:I}=x,_=ee.useRef(!1),q=V3(),W=ee.useContext(h),j=!!W&&!U,H=ee.useMemo(()=>w||(typeof t=="function"?t():t),[w]),X=H[e],V=X||H,{colorSchemes:$=m,components:ne=v,cssVarPrefix:ie}=V,te=Object.keys($).filter(Oe=>!!$[Oe]).join(","),pe=ee.useMemo(()=>te.split(","),[te]),J=typeof l=="string"?l:l.light,oe=typeof l=="string"?l:l.dark,de=$[J]&&$[oe]?R:((he=(Ee=$[V.defaultColorScheme])==null?void 0:Ee.palette)==null?void 0:he.mode)||((we=V.palette)==null?void 0:we.mode),{mode:me,setMode:be,systemMode:Te,lightColorScheme:Ue,darkColorScheme:B,colorScheme:ge,setColorScheme:Se}=B_({supportedColorSchemes:pe,defaultLightColorScheme:J,defaultDarkColorScheme:oe,modeStorageKey:T,colorSchemeStorageKey:P,defaultMode:de,storageManager:F,storageWindow:E,noSsr:I});let Z=me,K=ge;j&&(Z=W.mode,K=W.colorScheme);const ce=ee.useMemo(()=>{var Ge;const Oe=K||V.defaultColorScheme,ze=((Ge=V.generateThemeVars)==null?void 0:Ge.call(V))||V.vars,Be={...V,components:ne,colorSchemes:$,cssVarPrefix:ie,vars:ze};if(typeof Be.generateSpacing=="function"&&(Be.spacing=Be.generateSpacing()),Oe){const tt=$[Oe];tt&&typeof tt=="object"&&Object.keys(tt).forEach(We=>{tt[We]&&typeof tt[We]=="object"?Be[We]={...Be[We],...tt[We]}:Be[We]=tt[We]})}return s?s(Be):Be},[V,K,ne,$,ie]),Ce=V.colorSchemeSelector;_a(()=>{if(K&&L&&Ce&&Ce!=="media"){const Oe=Ce;let ze=Ce;if(Oe==="class"&&(ze=".%s"),Oe==="data"&&(ze="[data-%s]"),Oe!=null&&Oe.startsWith("data-")&&!Oe.includes("%s")&&(ze=`[${Oe}="%s"]`),ze.startsWith("."))L.classList.remove(...pe.map(Be=>ze.substring(1).replace("%s",Be))),L.classList.add(ze.substring(1).replace("%s",K));else{const Be=ze.replace("%s",K).match(/\[([^\]]+)\]/);if(Be){const[Ge,tt]=Be[1].split("=");tt||pe.forEach(We=>{L.removeAttribute(Ge.replace(K,We))}),L.setAttribute(Ge,tt?tt.replace(/"|'/g,""):"")}else L.setAttribute(ze,K)}}},[K,Ce,L,pe]),ee.useEffect(()=>{let Oe;if(A&&_.current&&k){const ze=k.createElement("style");ze.appendChild(k.createTextNode(q_)),k.head.appendChild(ze),window.getComputedStyle(k.body),Oe=setTimeout(()=>{k.head.removeChild(ze)},1)}return()=>{clearTimeout(Oe)}},[K,A,k]),ee.useEffect(()=>(_.current=!0,()=>{_.current=!1}),[]);const xe=ee.useMemo(()=>({allColorSchemes:pe,colorScheme:K,darkColorScheme:B,lightColorScheme:Ue,mode:Z,setColorScheme:Se,setMode:be,systemMode:Te}),[pe,K,B,Ue,Z,Se,be,Te,ce.colorSchemeSelector]);let se=!0;(N||V.cssVariables===!1||j&&(q==null?void 0:q.cssVarPrefix)===ie)&&(se=!1);const Re=le.jsxs(ee.Fragment,{children:[le.jsx(B9,{themeId:X?e:void 0,theme:ce,children:b}),se&&le.jsx(f9,{styles:((Me=ce.generateStyleSheets)==null?void 0:Me.call(ce))||[]})]});return j?Re:le.jsx(h.Provider,{value:xe,children:Re})}const S=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:g,useColorScheme:f,getInitColorSchemeScript:x=>F_({colorSchemeStorageKey:i,defaultLightColorScheme:S,defaultDarkColorScheme:y,modeStorageKey:r,...x})}}function G_(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const QD=(n,e,t,r=[])=>{let i=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},Q_=(n,e,t)=>{function r(i,o=[],l=[]){Object.entries(i).forEach(([s,d])=>{(!t||t&&!t([...o,s]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,s],Array.isArray(d)?[...l,s]:l):e([...o,s],d,l))})}r(n)},z_=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function O5(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},l={};return Q_(n,(s,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(s,d))){const f=`--${t?`${t}-`:""}${s.join("-")}`,m=z_(s,d);Object.assign(i,{[f]:m}),QD(o,s,`var(${f})`,h),QD(l,s,`var(${f}, ${m})`,h)}},s=>s[0]==="vars"),{css:i,vars:o,varsWithDefaults:l}}function W_(n,e={}){const{getSelector:t=C,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:l,defaultColorScheme:s="light",...d}=n,{vars:h,css:f,varsWithDefaults:m}=O5(d,e);let v=m;const g={},{[s]:S,...y}=o;if(Object.entries(y||{}).forEach(([w,T])=>{const{vars:P,css:A,varsWithDefaults:F}=O5(T,e);v=ar(v,F),g[w]={css:A,vars:P}}),S){const{css:w,vars:T,varsWithDefaults:P}=O5(S,e);v=ar(v,P),g[s]={css:w,vars:T}}function C(w,T){var A,F;let P=i;if(i==="class"&&(P=".%s"),i==="data"&&(P="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(P=`[${i}="%s"]`),w){if(P==="media")return n.defaultColorScheme===w?":root":{[`@media (prefers-color-scheme: ${((F=(A=o[w])==null?void 0:A.palette)==null?void 0:F.mode)||w})`]:{":root":T}};if(P)return n.defaultColorScheme===w?`:root, ${P.replace("%s",String(w))}`:P.replace("%s",String(w))}return":root"}return{vars:v,generateThemeVars:()=>{let w={...h};return Object.entries(g).forEach(([,{vars:T}])=>{w=ar(w,T)}),w},generateStyleSheets:()=>{var E,k;const w=[],T=n.defaultColorScheme||"light";function P(L,U){Object.keys(U).length&&w.push(typeof L=="string"?{[L]:{...U}}:L)}P(t(void 0,{...f}),f);const{[T]:A,...F}=g;if(A){const{css:L}=A,U=(k=(E=o[T])==null?void 0:E.palette)==null?void 0:k.mode,N=!r&&U?{colorScheme:U,...L}:{...L};P(t(T,{...N}),N)}return Object.entries(F).forEach(([L,{css:U}])=>{var I,_;const N=(_=(I=o[L])==null?void 0:I.palette)==null?void 0:_.mode,R=!r&&N?{colorScheme:N,...U}:{...U};P(t(L,{...R}),R)}),w}}}function H_(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const j_=yy(),$_=u_("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function Y_(n){return c_({props:n,name:"MuiStack",defaultTheme:j_})}function X_(n,e){const t=ee.Children.toArray(n).filter(Boolean);return t.reduce((r,i,o)=>(r.push(i),o<t.length-1&&r.push(ee.cloneElement(e,{key:`separator-${o}`})),r),[])}const K_=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Z_=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...Zo({theme:e},I5({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(n.spacing){const r=hy(e),i=Object.keys(e.breakpoints.values).reduce((d,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(d[h]=!0),d),{}),o=I5({values:n.direction,base:i}),l=I5({values:n.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((d,h,f)=>{if(!o[d]){const v=h>0?o[f[h-1]]:"column";o[d]=v}}),t=ar(t,Zo({theme:e},l,(d,h)=>n.useFlexGap?{gap:nd(r,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${K_(h?o[h]:n.direction)}`]:nd(r,d)}}))}return t=sk(e.breakpoints,t),t};function J_(n={}){const{createStyledComponent:e=$_,useThemeProps:t=Y_,componentName:r="MuiStack"}=n,i=()=>gt({root:["root"]},d=>ft(r,d),{}),o=e(Z_);return ee.forwardRef(function(d,h){const f=t(d),m=N3(f),{component:v="div",direction:g="column",spacing:S=0,divider:y,children:C,className:x,useFlexGap:b=!1,...w}=m,T={direction:g,spacing:S,useFlexGap:b},P=i();return le.jsx(o,{as:v,ownerState:T,ref:h,className:Je(P.root,x),...w,children:y?X_(C,y):C})})}function V9(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tp.white,default:tp.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const eF=V9();function G9(){return{text:{primary:tp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const zD=G9();function WD(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=id(n.main,i):e==="dark"&&(n.dark=rd(n.main,o)))}function tF(n="light"){return n==="dark"?{main:_d[200],light:_d[50],dark:_d[400]}:{main:_d[700],light:_d[400],dark:_d[800]}}function nF(n="light"){return n==="dark"?{main:kd[200],light:kd[50],dark:kd[400]}:{main:kd[500],light:kd[300],dark:kd[700]}}function rF(n="light"){return n==="dark"?{main:Ed[500],light:Ed[300],dark:Ed[700]}:{main:Ed[700],light:Ed[400],dark:Ed[800]}}function iF(n="light"){return n==="dark"?{main:Fd[400],light:Fd[300],dark:Fd[700]}:{main:Fd[700],light:Fd[500],dark:Fd[900]}}function oF(n="light"){return n==="dark"?{main:Md[400],light:Md[300],dark:Md[700]}:{main:Md[800],light:Md[500],dark:Md[900]}}function aF(n="light"){return n==="dark"?{main:Uf[400],light:Uf[300],dark:Uf[700]}:{main:"#ed6c02",light:Uf[500],dark:Uf[900]}}function W3(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||tF(e),l=n.secondary||nF(e),s=n.error||rF(e),d=n.info||iF(e),h=n.success||oF(e),f=n.warning||aF(e);function m(y){return m_(y,zD.text.primary)>=t?zD.text.primary:eF.text.primary}const v=({color:y,name:C,mainShade:x=500,lightShade:b=300,darkShade:w=700})=>{if(y={...y},!y.main&&y[x]&&(y.main=y[x]),!y.hasOwnProperty("main"))throw new Error(Qs(11,C?` (${C})`:"",x));if(typeof y.main!="string")throw new Error(Qs(12,C?` (${C})`:"",JSON.stringify(y.main)));return WD(y,"light",b,r),WD(y,"dark",w,r),y.contrastText||(y.contrastText=m(y.main)),y};let g;return e==="light"?g=V9():e==="dark"&&(g=G9()),ar({common:{...tp},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:s,name:"error"}),warning:v({color:f,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:h,name:"success"}),grey:KO,contrastThreshold:t,getContrastText:m,augmentColor:v,tonalOffset:r,...g},i)}function sF(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function lF(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function uF(n){return Math.round(n*1e5)/1e5}const HD={textTransform:"uppercase"},jD='"Roboto", "Helvetica", "Arial", sans-serif';function Q9(n,e){const{fontFamily:t=jD,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:s=700,htmlFontSize:d=16,allVariants:h,pxToRem:f,...m}=typeof e=="function"?e(n):e,v=r/14,g=f||(C=>`${C/d*v}rem`),S=(C,x,b,w,T)=>({fontFamily:t,fontWeight:C,fontSize:g(x),lineHeight:b,...t===jD?{letterSpacing:`${uF(w/x)}em`}:{},...T,...h}),y={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,HD),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,HD),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ar({htmlFontSize:d,pxToRem:g,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:s,...y},m,{clone:!1})}const cF=.2,dF=.14,hF=.12;function an(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${cF})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${dF})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${hF})`].join(",")}const fF=["none",an(0,2,1,-1,0,1,1,0,0,1,3,0),an(0,3,1,-2,0,2,2,0,0,1,5,0),an(0,3,3,-2,0,3,4,0,0,1,8,0),an(0,2,4,-1,0,4,5,0,0,1,10,0),an(0,3,5,-1,0,5,8,0,0,1,14,0),an(0,3,5,-1,0,6,10,0,0,1,18,0),an(0,4,5,-2,0,7,10,1,0,2,16,1),an(0,5,5,-3,0,8,10,1,0,3,14,2),an(0,5,6,-3,0,9,12,1,0,3,16,2),an(0,6,6,-3,0,10,14,1,0,4,18,3),an(0,6,7,-4,0,11,15,1,0,4,20,3),an(0,7,8,-4,0,12,17,2,0,5,22,4),an(0,7,8,-4,0,13,19,2,0,5,24,4),an(0,7,9,-4,0,14,21,2,0,5,26,4),an(0,8,9,-5,0,15,22,2,0,6,28,5),an(0,8,10,-5,0,16,24,2,0,6,30,5),an(0,8,11,-5,0,17,26,2,0,6,32,5),an(0,9,11,-5,0,18,28,2,0,7,34,6),an(0,9,12,-6,0,19,29,2,0,7,36,6),an(0,10,13,-6,0,20,31,3,0,8,38,7),an(0,10,13,-6,0,21,33,3,0,8,40,7),an(0,10,14,-6,0,22,35,3,0,8,42,7),an(0,11,14,-7,0,23,36,3,0,9,44,8),an(0,11,15,-7,0,24,38,3,0,9,46,8)],pF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},gF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $D(n){return`${Math.round(n)}ms`}function mF(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function SF(n){const e={...pF,...n.easing},t={...gF,...n.duration};return{getAutoHeightDuration:mF,create:(i=["all"],o={})=>{const{duration:l=t.standard,easing:s=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(i)?i:[i]).map(f=>`${f} ${typeof l=="string"?l:$D(l)} ${s} ${typeof d=="string"?d:$D(d)}`).join(",")},...n,easing:e,duration:t}}const yF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function vF(n){return Aa(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function z9(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[l,s]=i[o];!vF(s)||l.startsWith("unstable_")?delete r[l]:Aa(s)&&(r[l]={...s},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function bC(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:l={},typography:s={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Qs(20));const f=W3(o),m=yy(n);let v=ar(m,{mixins:lF(m.breakpoints,r),palette:f,shadows:fF.slice(),typography:Q9(f,s),transitions:SF(l),zIndex:{...yF}});return v=ar(v,h),v=e.reduce((g,S)=>ar(g,S),v),v.unstable_sxConfig={..._g,...h==null?void 0:h.unstable_sxConfig},v.unstable_sx=function(S){return mu({sx:S,theme:this})},v.toRuntimeSource=z9,v}function DC(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const CF=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=DC(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function W9(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function H9(n){return n==="dark"?CF:[]}function wF(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=W3(e);return{palette:o,opacity:{...W9(o.mode),...t},overlays:r||H9(o.mode),...i}}function bF(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const DF=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],xF=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return DF(n.cssVarPrefix).forEach(s=>{l[s]=t[s],delete t[s]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:o?{[o.replace("%s",e)]:l,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function TF(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function Ie(n,e,t){!n[e]&&t&&(n[e]=t)}function M1(n){return typeof n!="string"||!n.startsWith("hsl")?n:R9(n)}function Ha(n,e){`${e}Channel`in n||(n[`${e}Channel`]=F1(M1(n[e])))}function PF(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const sa=n=>{try{return n()}catch{}},IF=(n="mui")=>G_(n);function E5(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=wF({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...l}=bC({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...W9(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||H9(i)},l}function LF(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:l=bF,colorSchemeSelector:s=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,f=Object.keys(t)[0],m=r||(t.light&&f!=="light"?"light":f),v=IF(o),{[m]:g,light:S,dark:y,...C}=t,x={...C};let b=g;if((m==="dark"&&!("dark"in t)||m==="light"&&!("light"in t))&&(b=!0),!b)throw new Error(Qs(21,m));const w=E5(x,b,h,m);S&&!x.light&&E5(x,S,void 0,"light"),y&&!x.dark&&E5(x,y,void 0,"dark");let T={defaultColorScheme:m,...w,cssVarPrefix:o,colorSchemeSelector:s,rootSelector:d,getCssVar:v,colorSchemes:x,font:{...sF(w.typography),...w.font},spacing:PF(h.spacing)};Object.keys(T.colorSchemes).forEach(k=>{const L=T.colorSchemes[k].palette,U=N=>{const R=N.split("-"),I=R[1],_=R[2];return v(N,L[I][_])};if(L.mode==="light"&&(Ie(L.common,"background","#fff"),Ie(L.common,"onBackground","#000")),L.mode==="dark"&&(Ie(L.common,"background","#000"),Ie(L.common,"onBackground","#fff")),TF(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){Ie(L.Alert,"errorColor",Qt(L.error.light,.6)),Ie(L.Alert,"infoColor",Qt(L.info.light,.6)),Ie(L.Alert,"successColor",Qt(L.success.light,.6)),Ie(L.Alert,"warningColor",Qt(L.warning.light,.6)),Ie(L.Alert,"errorFilledBg",U("palette-error-main")),Ie(L.Alert,"infoFilledBg",U("palette-info-main")),Ie(L.Alert,"successFilledBg",U("palette-success-main")),Ie(L.Alert,"warningFilledBg",U("palette-warning-main")),Ie(L.Alert,"errorFilledColor",sa(()=>L.getContrastText(L.error.main))),Ie(L.Alert,"infoFilledColor",sa(()=>L.getContrastText(L.info.main))),Ie(L.Alert,"successFilledColor",sa(()=>L.getContrastText(L.success.main))),Ie(L.Alert,"warningFilledColor",sa(()=>L.getContrastText(L.warning.main))),Ie(L.Alert,"errorStandardBg",zt(L.error.light,.9)),Ie(L.Alert,"infoStandardBg",zt(L.info.light,.9)),Ie(L.Alert,"successStandardBg",zt(L.success.light,.9)),Ie(L.Alert,"warningStandardBg",zt(L.warning.light,.9)),Ie(L.Alert,"errorIconColor",U("palette-error-main")),Ie(L.Alert,"infoIconColor",U("palette-info-main")),Ie(L.Alert,"successIconColor",U("palette-success-main")),Ie(L.Alert,"warningIconColor",U("palette-warning-main")),Ie(L.AppBar,"defaultBg",U("palette-grey-100")),Ie(L.Avatar,"defaultBg",U("palette-grey-400")),Ie(L.Button,"inheritContainedBg",U("palette-grey-300")),Ie(L.Button,"inheritContainedHoverBg",U("palette-grey-A100")),Ie(L.Chip,"defaultBorder",U("palette-grey-400")),Ie(L.Chip,"defaultAvatarColor",U("palette-grey-700")),Ie(L.Chip,"defaultIconColor",U("palette-grey-700")),Ie(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),Ie(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),Ie(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),Ie(L.LinearProgress,"primaryBg",zt(L.primary.main,.62)),Ie(L.LinearProgress,"secondaryBg",zt(L.secondary.main,.62)),Ie(L.LinearProgress,"errorBg",zt(L.error.main,.62)),Ie(L.LinearProgress,"infoBg",zt(L.info.main,.62)),Ie(L.LinearProgress,"successBg",zt(L.success.main,.62)),Ie(L.LinearProgress,"warningBg",zt(L.warning.main,.62)),Ie(L.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.11)`),Ie(L.Slider,"primaryTrack",zt(L.primary.main,.62)),Ie(L.Slider,"secondaryTrack",zt(L.secondary.main,.62)),Ie(L.Slider,"errorTrack",zt(L.error.main,.62)),Ie(L.Slider,"infoTrack",zt(L.info.main,.62)),Ie(L.Slider,"successTrack",zt(L.success.main,.62)),Ie(L.Slider,"warningTrack",zt(L.warning.main,.62));const N=jm(L.background.default,.8);Ie(L.SnackbarContent,"bg",N),Ie(L.SnackbarContent,"color",sa(()=>L.getContrastText(N))),Ie(L.SpeedDialAction,"fabHoverBg",jm(L.background.paper,.15)),Ie(L.StepConnector,"border",U("palette-grey-400")),Ie(L.StepContent,"border",U("palette-grey-400")),Ie(L.Switch,"defaultColor",U("palette-common-white")),Ie(L.Switch,"defaultDisabledColor",U("palette-grey-100")),Ie(L.Switch,"primaryDisabledColor",zt(L.primary.main,.62)),Ie(L.Switch,"secondaryDisabledColor",zt(L.secondary.main,.62)),Ie(L.Switch,"errorDisabledColor",zt(L.error.main,.62)),Ie(L.Switch,"infoDisabledColor",zt(L.info.main,.62)),Ie(L.Switch,"successDisabledColor",zt(L.success.main,.62)),Ie(L.Switch,"warningDisabledColor",zt(L.warning.main,.62)),Ie(L.TableCell,"border",zt(Hm(L.divider,1),.88)),Ie(L.Tooltip,"bg",Hm(L.grey[700],.92))}if(L.mode==="dark"){Ie(L.Alert,"errorColor",zt(L.error.light,.6)),Ie(L.Alert,"infoColor",zt(L.info.light,.6)),Ie(L.Alert,"successColor",zt(L.success.light,.6)),Ie(L.Alert,"warningColor",zt(L.warning.light,.6)),Ie(L.Alert,"errorFilledBg",U("palette-error-dark")),Ie(L.Alert,"infoFilledBg",U("palette-info-dark")),Ie(L.Alert,"successFilledBg",U("palette-success-dark")),Ie(L.Alert,"warningFilledBg",U("palette-warning-dark")),Ie(L.Alert,"errorFilledColor",sa(()=>L.getContrastText(L.error.dark))),Ie(L.Alert,"infoFilledColor",sa(()=>L.getContrastText(L.info.dark))),Ie(L.Alert,"successFilledColor",sa(()=>L.getContrastText(L.success.dark))),Ie(L.Alert,"warningFilledColor",sa(()=>L.getContrastText(L.warning.dark))),Ie(L.Alert,"errorStandardBg",Qt(L.error.light,.9)),Ie(L.Alert,"infoStandardBg",Qt(L.info.light,.9)),Ie(L.Alert,"successStandardBg",Qt(L.success.light,.9)),Ie(L.Alert,"warningStandardBg",Qt(L.warning.light,.9)),Ie(L.Alert,"errorIconColor",U("palette-error-main")),Ie(L.Alert,"infoIconColor",U("palette-info-main")),Ie(L.Alert,"successIconColor",U("palette-success-main")),Ie(L.Alert,"warningIconColor",U("palette-warning-main")),Ie(L.AppBar,"defaultBg",U("palette-grey-900")),Ie(L.AppBar,"darkBg",U("palette-background-paper")),Ie(L.AppBar,"darkColor",U("palette-text-primary")),Ie(L.Avatar,"defaultBg",U("palette-grey-600")),Ie(L.Button,"inheritContainedBg",U("palette-grey-800")),Ie(L.Button,"inheritContainedHoverBg",U("palette-grey-700")),Ie(L.Chip,"defaultBorder",U("palette-grey-700")),Ie(L.Chip,"defaultAvatarColor",U("palette-grey-300")),Ie(L.Chip,"defaultIconColor",U("palette-grey-300")),Ie(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),Ie(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),Ie(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),Ie(L.LinearProgress,"primaryBg",Qt(L.primary.main,.5)),Ie(L.LinearProgress,"secondaryBg",Qt(L.secondary.main,.5)),Ie(L.LinearProgress,"errorBg",Qt(L.error.main,.5)),Ie(L.LinearProgress,"infoBg",Qt(L.info.main,.5)),Ie(L.LinearProgress,"successBg",Qt(L.success.main,.5)),Ie(L.LinearProgress,"warningBg",Qt(L.warning.main,.5)),Ie(L.Skeleton,"bg",`rgba(${U("palette-text-primaryChannel")} / 0.13)`),Ie(L.Slider,"primaryTrack",Qt(L.primary.main,.5)),Ie(L.Slider,"secondaryTrack",Qt(L.secondary.main,.5)),Ie(L.Slider,"errorTrack",Qt(L.error.main,.5)),Ie(L.Slider,"infoTrack",Qt(L.info.main,.5)),Ie(L.Slider,"successTrack",Qt(L.success.main,.5)),Ie(L.Slider,"warningTrack",Qt(L.warning.main,.5));const N=jm(L.background.default,.98);Ie(L.SnackbarContent,"bg",N),Ie(L.SnackbarContent,"color",sa(()=>L.getContrastText(N))),Ie(L.SpeedDialAction,"fabHoverBg",jm(L.background.paper,.15)),Ie(L.StepConnector,"border",U("palette-grey-600")),Ie(L.StepContent,"border",U("palette-grey-600")),Ie(L.Switch,"defaultColor",U("palette-grey-300")),Ie(L.Switch,"defaultDisabledColor",U("palette-grey-600")),Ie(L.Switch,"primaryDisabledColor",Qt(L.primary.main,.55)),Ie(L.Switch,"secondaryDisabledColor",Qt(L.secondary.main,.55)),Ie(L.Switch,"errorDisabledColor",Qt(L.error.main,.55)),Ie(L.Switch,"infoDisabledColor",Qt(L.info.main,.55)),Ie(L.Switch,"successDisabledColor",Qt(L.success.main,.55)),Ie(L.Switch,"warningDisabledColor",Qt(L.warning.main,.55)),Ie(L.TableCell,"border",Qt(Hm(L.divider,1),.68)),Ie(L.Tooltip,"bg",Hm(L.grey[700],.92))}Ha(L.background,"default"),Ha(L.background,"paper"),Ha(L.common,"background"),Ha(L.common,"onBackground"),Ha(L,"divider"),Object.keys(L).forEach(N=>{const R=L[N];N!=="tonalOffset"&&R&&typeof R=="object"&&(R.main&&Ie(L[N],"mainChannel",F1(M1(R.main))),R.light&&Ie(L[N],"lightChannel",F1(M1(R.light))),R.dark&&Ie(L[N],"darkChannel",F1(M1(R.dark))),R.contrastText&&Ie(L[N],"contrastTextChannel",F1(M1(R.contrastText))),N==="text"&&(Ha(L[N],"primary"),Ha(L[N],"secondary")),N==="action"&&(R.active&&Ha(L[N],"active"),R.selected&&Ha(L[N],"selected")))})}),T=e.reduce((k,L)=>ar(k,L),T);const P={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:xF(T)},{vars:A,generateThemeVars:F,generateStyleSheets:E}=W_(T,P);return T.vars=A,Object.entries(T.colorSchemes[T.defaultColorScheme]).forEach(([k,L])=>{T[k]=L}),T.generateThemeVars=F,T.generateStyleSheets=E,T.generateSpacing=function(){return C9(h.spacing,hy(this))},T.getColorSchemeSelector=H_(s),T.spacing=T.generateSpacing(),T.shouldSkipGeneratingVar=l,T.unstable_sxConfig={..._g,...h==null?void 0:h.unstable_sxConfig},T.unstable_sx=function(L){return mu({sx:L,theme:this})},T.toRuntimeSource=z9,T}function YD(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:W3({...t===!0?{}:t.palette,mode:e})})}function by(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...l}=n,s=o||"light",d=i==null?void 0:i[s],h={...i,...t?{[s]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return bC(n,...e);let f=t;"palette"in n||h[s]&&(h[s]!==!0?f=h[s].palette:s==="dark"&&(f={mode:"dark"}));const m=bC({...n,palette:f},...e);return m.defaultColorScheme=s,m.colorSchemes=h,m.palette.mode==="light"&&(m.colorSchemes.light={...h.light!==!0&&h.light,palette:m.palette},YD(m,"dark",h.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:m.palette},YD(m,"light",h.light)),m}return!t&&!("light"in h)&&s==="light"&&(h.light=!0),LF({...l,colorSchemes:h,defaultColorScheme:s,...typeof r!="boolean"&&r},...e)}const H3=by();function Zh(){const n=vy(H3);return n[Ko]||n}function Dy(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Ma=n=>Dy(n)&&n!=="classes",Ve=T9({themeId:Ko,defaultTheme:H3,rootShouldForwardProp:Ma});function k5({theme:n,...e}){const t=Ko in n?n[Ko]:void 0;return le.jsx(B9,{...e,themeId:t?Ko:void 0,theme:t||n})}const $m={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:RF}=V_({themeId:Ko,theme:()=>by({cssVariables:!0}),colorSchemeStorageKey:$m.colorSchemeStorageKey,modeStorageKey:$m.modeStorageKey,defaultColorScheme:{light:$m.defaultLightColorScheme,dark:$m.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:Q9(n.palette,n.typography)};return e.unstable_sx=function(r){return mu({sx:r,theme:this})},e}}),AF=RF;function OF({theme:n,...e}){if(typeof n=="function")return le.jsx(k5,{theme:n,...e});const t=Ko in n?n[Ko]:n;return"colorSchemes"in t?le.jsx(AF,{theme:n,...e}):"vars"in t?le.jsx(k5,{theme:n,...e}):le.jsx(k5,{theme:{...n,vars:null},...e})}function EF(n){return le.jsx(Kk,{...n,defaultTheme:H3,themeId:Ko})}function j3(n){return function(t){return le.jsx(EF,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function kF(){return N3}const ct=k_;function mt(n){return E_(n)}function _F(n){return ft("MuiSvgIcon",n)}pt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const FF=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Qe(e)}`,`fontSize${Qe(t)}`]};return gt(i,_F,r)},MF=Ve("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Qe(t.color)}`],e[`fontSize${Qe(t.fontSize)}`]]}})(ct(({theme:n})=>{var e,t,r,i,o,l,s,d,h,f,m,v,g,S;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:y=>!y.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:d.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((f=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:f.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,y])=>y&&y.main).map(([y])=>{var C,x;return{props:{color:y},style:{color:(x=(C=(n.vars??n).palette)==null?void 0:C[y])==null?void 0:x.main}}}),{props:{color:"action"},style:{color:(v=(m=(n.vars??n).palette)==null?void 0:m.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(S=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:S.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),xC=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:s="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:m,viewBox:v="0 0 24 24",...g}=r,S=ee.isValidElement(i)&&i.type==="svg",y={...r,color:l,component:s,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:v,hasSvgAsChild:S},C={};f||(C.viewBox=v);const x=FF(y);return le.jsxs(MF,{as:s,className:Je(x.root,o),focusable:"false",color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,...C,...g,...S&&i.props,ownerState:y,children:[S?i.props.children:i,m?le.jsx("title",{children:m}):null]})});xC.muiName="SvgIcon";function zs(n,e){function t(r,i){return le.jsx(xC,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=xC.muiName,ee.memo(ee.forwardRef(t))}function NF(n,e){if(!n)return e;if(typeof n=="function"||typeof e=="function")return i=>{const o=typeof e=="function"?e(i):e,l=typeof n=="function"?n({...i,...o}):n,s=Je(i==null?void 0:i.className,o==null?void 0:o.className,l==null?void 0:l.className);return{...o,...l,...!!s&&{className:s},...(o==null?void 0:o.style)&&(l==null?void 0:l.style)&&{style:{...o.style,...l.style}},...(o==null?void 0:o.sx)&&(l==null?void 0:l.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const t=e,r=Je(t==null?void 0:t.className,n==null?void 0:n.className);return{...e,...n,...!!r&&{className:r},...(t==null?void 0:t.style)&&(n==null?void 0:n.style)&&{style:{...t.style,...n.style}},...(t==null?void 0:t.sx)&&(n==null?void 0:n.sx)&&{sx:[...Array.isArray(t.sx)?t.sx:[t.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function j9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function TC(n,e){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},TC(n,e)}function $9(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,TC(n,e)}var Y9=JP();const Ym=Rg(Y9),XD={disabled:!1},h2=pi.createContext(null);var UF=function(e){return e.scrollTop},N1="unmounted",Wu="exited",Hu="entering",Vd="entered",PC="exiting",ta=function(n){$9(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=i,s=l&&!l.isMounting?r.enter:r.appear,d;return o.appearStatus=null,r.in?s?(d=Wu,o.appearStatus=Hu):d=Vd:r.unmountOnExit||r.mountOnEnter?d=N1:d=Wu,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===N1?{status:Wu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Hu&&l!==Vd&&(o=Hu):(l===Hu||l===Vd)&&(o=PC)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,l,s;return o=l=s=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,s=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:s}},t.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Hu){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Ym.findDOMNode(this);l&&UF(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wu&&this.setState({status:N1})},t.performEnter=function(i){var o=this,l=this.props.enter,s=this.context?this.context.isMounting:i,d=this.props.nodeRef?[s]:[Ym.findDOMNode(this),s],h=d[0],f=d[1],m=this.getTimeouts(),v=s?m.appear:m.enter;if(!i&&!l||XD.disabled){this.safeSetState({status:Vd},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Hu},function(){o.props.onEntering(h,f),o.onTransitionEnd(v,function(){o.safeSetState({status:Vd},function(){o.props.onEntered(h,f)})})})},t.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),s=this.props.nodeRef?void 0:Ym.findDOMNode(this);if(!o||XD.disabled){this.safeSetState({status:Wu},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:PC},function(){i.props.onExiting(s),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:Wu},function(){i.props.onExited(s)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(s){l&&(l=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Ym.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!l||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],f=d[1];this.props.addEndListener(h,f)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===N1)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=j9(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pi.createElement(h2.Provider,{value:null},typeof l=="function"?l(i,s):pi.cloneElement(pi.Children.only(l),s))},e}(pi.Component);ta.contextType=h2;ta.propTypes={};function Nd(){}ta.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nd,onEntering:Nd,onEntered:Nd,onExit:Nd,onExiting:Nd,onExited:Nd};ta.UNMOUNTED=N1;ta.EXITED=Wu;ta.ENTERING=Hu;ta.ENTERED=Vd;ta.EXITING=PC;function BF(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $3(n,e){var t=function(o){return e&&ee.isValidElement(o)?e(o):o},r=Object.create(null);return n&&ee.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function qF(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var l,s={};for(var d in e){if(r[d])for(l=0;l<r[d].length;l++){var h=r[d][l];s[r[d][l]]=t(h)}s[d]=t(d)}for(l=0;l<i.length;l++)s[i[l]]=t(i[l]);return s}function Xu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function VF(n,e){return $3(n.children,function(t){return ee.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Xu(t,"appear",n),enter:Xu(t,"enter",n),exit:Xu(t,"exit",n)})})}function GF(n,e,t){var r=$3(n.children),i=qF(e,r);return Object.keys(i).forEach(function(o){var l=i[o];if(ee.isValidElement(l)){var s=o in e,d=o in r,h=e[o],f=ee.isValidElement(h)&&!h.props.in;d&&(!s||f)?i[o]=ee.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:Xu(l,"exit",n),enter:Xu(l,"enter",n)}):!d&&s&&!f?i[o]=ee.cloneElement(l,{in:!1}):d&&s&&ee.isValidElement(h)&&(i[o]=ee.cloneElement(l,{onExited:t.bind(null,l),in:h.props.in,exit:Xu(l,"exit",n),enter:Xu(l,"enter",n)}))}}),i}var QF=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},zF={component:"div",childFactory:function(e){return e}},Y3=function(n){$9(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var l=o.handleExited.bind(BF(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var l=o.children,s=o.handleExited,d=o.firstRender;return{children:d?VF(i,s):GF(i,l,s),firstRender:!1}},t.handleExited=function(i,o){var l=$3(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var d=u2({},s.children);return delete d[i.key],{children:d}}))},t.render=function(){var i=this.props,o=i.component,l=i.childFactory,s=j9(i,["component","childFactory"]),d=this.state.contextValue,h=QF(this.state.children).map(l);return delete s.appear,delete s.enter,delete s.exit,o===null?pi.createElement(h2.Provider,{value:d},h):pi.createElement(h2.Provider,{value:d},pi.createElement(o,s,h))},e}(pi.Component);Y3.propTypes={};Y3.defaultProps=zF;const X3=n=>n.scrollTop;function Gh(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function WF(n){return ft("MuiPaper",n)}pt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const HF=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return gt(o,WF,i)},jF=Ve("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(ct(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Fg=ee.forwardRef(function(e,t){var g;const r=mt({props:e,name:"MuiPaper"}),i=Zh(),{className:o,component:l="div",elevation:s=1,square:d=!1,variant:h="elevation",...f}=r,m={...r,component:l,elevation:s,square:d,variant:h},v=HF(m);return le.jsx(jF,{as:l,ownerState:m,className:Je(v.root,o),ref:t,...f,style:{...h==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":(g=i.vars.overlays)==null?void 0:g[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${xn("#fff",DC(s))}, ${xn("#fff",DC(s))})`}},...f.style}})});function er(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:s=!1,...d}=e,{component:h,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...v}=o,g=f[n]||r,S=F9(m[n],i),{props:{component:y,...C},internalRef:x}=_9({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:S}),b=Ir(x,S==null?void 0:S.ref,e.ref),w=n==="root"?y||h:y,T=k9(g,{...n==="root"&&!h&&!f[n]&&l,...n!=="root"&&!f[n]&&l,...C,...w&&!s&&{as:w},...w&&s&&{component:w},ref:b},i);return[g,T]}class f2{constructor(){ae(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new f2}static use(){const e=A9(f2.create).current,[t,r]=ee.useState(!1);return e.shouldMount=t,e.setShouldMount=r,ee.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=YF(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function $F(){return f2.use()}function YF(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function XF(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:l,in:s,onExited:d,timeout:h}=n,[f,m]=ee.useState(!1),v=Je(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:l,height:l,top:-(l/2)+o,left:-(l/2)+i},S=Je(t.child,f&&t.childLeaving,r&&t.childPulsate);return!s&&!f&&m(!0),ee.useEffect(()=>{if(!s&&d!=null){const y=setTimeout(d,h);return()=>{clearTimeout(y)}}},[d,s,h]),le.jsx("span",{className:v,style:g,children:le.jsx("span",{className:S})})}const wo=pt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),IC=550,KF=80,ZF=wu`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,JF=wu`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,eM=wu`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,tM=Ve("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),nM=Ve(XF,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${wo.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${ZF};
    animation-duration: ${IC}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${wo.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${wo.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${wo.childLeaving} {
    opacity: 0;
    animation-name: ${JF};
    animation-duration: ${IC}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${wo.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${eM};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,rM=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l,...s}=r,[d,h]=ee.useState([]),f=ee.useRef(0),m=ee.useRef(null);ee.useEffect(()=>{m.current&&(m.current(),m.current=null)},[d]);const v=ee.useRef(!1),g=O9(),S=ee.useRef(null),y=ee.useRef(null),C=ee.useCallback(T=>{const{pulsate:P,rippleX:A,rippleY:F,rippleSize:E,cb:k}=T;h(L=>[...L,le.jsx(nM,{classes:{ripple:Je(o.ripple,wo.ripple),rippleVisible:Je(o.rippleVisible,wo.rippleVisible),ripplePulsate:Je(o.ripplePulsate,wo.ripplePulsate),child:Je(o.child,wo.child),childLeaving:Je(o.childLeaving,wo.childLeaving),childPulsate:Je(o.childPulsate,wo.childPulsate)},timeout:IC,pulsate:P,rippleX:A,rippleY:F,rippleSize:E},f.current)]),f.current+=1,m.current=k},[o]),x=ee.useCallback((T={},P={},A=()=>{})=>{const{pulsate:F=!1,center:E=i||P.pulsate,fakeElement:k=!1}=P;if((T==null?void 0:T.type)==="mousedown"&&v.current){v.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(v.current=!0);const L=k?null:y.current,U=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let N,R,I;if(E||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)N=Math.round(U.width/2),R=Math.round(U.height/2);else{const{clientX:_,clientY:q}=T.touches&&T.touches.length>0?T.touches[0]:T;N=Math.round(_-U.left),R=Math.round(q-U.top)}if(E)I=Math.sqrt((2*U.width**2+U.height**2)/3),I%2===0&&(I+=1);else{const _=Math.max(Math.abs((L?L.clientWidth:0)-N),N)*2+2,q=Math.max(Math.abs((L?L.clientHeight:0)-R),R)*2+2;I=Math.sqrt(_**2+q**2)}T!=null&&T.touches?S.current===null&&(S.current=()=>{C({pulsate:F,rippleX:N,rippleY:R,rippleSize:I,cb:A})},g.start(KF,()=>{S.current&&(S.current(),S.current=null)})):C({pulsate:F,rippleX:N,rippleY:R,rippleSize:I,cb:A})},[i,C,g]),b=ee.useCallback(()=>{x({},{pulsate:!0})},[x]),w=ee.useCallback((T,P)=>{if(g.clear(),(T==null?void 0:T.type)==="touchend"&&S.current){S.current(),S.current=null,g.start(0,()=>{w(T,P)});return}S.current=null,h(A=>A.length>0?A.slice(1):A),m.current=P},[g]);return ee.useImperativeHandle(t,()=>({pulsate:b,start:x,stop:w}),[b,x,w]),le.jsx(tM,{className:Je(wo.root,o.root,l),ref:y,...s,children:le.jsx(Y3,{component:null,exit:!0,children:d})})});function iM(n){return ft("MuiButtonBase",n)}const oM=pt("MuiButtonBase",["root","disabled","focusVisible"]),aM=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,l=gt({root:["root",e&&"disabled",t&&"focusVisible"]},iM,i);return t&&r&&(l.root+=` ${r}`),l},sM=Ve("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${oM.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),X9=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:s,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:v=!1,focusVisibleClassName:g,LinkComponent:S="a",onBlur:y,onClick:C,onContextMenu:x,onDragLeave:b,onFocus:w,onFocusVisible:T,onKeyDown:P,onKeyUp:A,onMouseDown:F,onMouseLeave:E,onMouseUp:k,onTouchEnd:L,onTouchMove:U,onTouchStart:N,tabIndex:R=0,TouchRippleProps:I,touchRippleRef:_,type:q,...W}=r,j=ee.useRef(null),H=$F(),X=Ir(H.ref,_),[V,$]=ee.useState(!1);h&&V&&$(!1),ee.useImperativeHandle(i,()=>({focusVisible:()=>{$(!0),j.current.focus()}}),[]);const ne=H.shouldMount&&!f&&!h;ee.useEffect(()=>{V&&v&&!f&&H.pulsate()},[f,v,V,H]);const ie=ja(H,"start",F,m),te=ja(H,"stop",x,m),pe=ja(H,"stop",b,m),J=ja(H,"stop",k,m),oe=ja(H,"stop",se=>{V&&se.preventDefault(),E&&E(se)},m),de=ja(H,"start",N,m),me=ja(H,"stop",L,m),be=ja(H,"stop",U,m),Te=ja(H,"stop",se=>{Vh(se.target)||$(!1),y&&y(se)},!1),Ue=ka(se=>{j.current||(j.current=se.currentTarget),Vh(se.target)&&($(!0),T&&T(se)),w&&w(se)}),B=()=>{const se=j.current;return d&&d!=="button"&&!(se.tagName==="A"&&se.href)},ge=ka(se=>{v&&!se.repeat&&V&&se.key===" "&&H.stop(se,()=>{H.start(se)}),se.target===se.currentTarget&&B()&&se.key===" "&&se.preventDefault(),P&&P(se),se.target===se.currentTarget&&B()&&se.key==="Enter"&&!h&&(se.preventDefault(),C&&C(se))}),Se=ka(se=>{v&&se.key===" "&&V&&!se.defaultPrevented&&H.stop(se,()=>{H.pulsate(se)}),A&&A(se),C&&se.target===se.currentTarget&&B()&&se.key===" "&&!se.defaultPrevented&&C(se)});let Z=d;Z==="button"&&(W.href||W.to)&&(Z=S);const K={};Z==="button"?(K.type=q===void 0?"button":q,K.disabled=h):(!W.href&&!W.to&&(K.role="button"),h&&(K["aria-disabled"]=h));const ce=Ir(t,j),Ce={...r,centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:m,focusRipple:v,tabIndex:R,focusVisible:V},xe=aM(Ce);return le.jsxs(sM,{as:Z,className:Je(xe.root,s),ownerState:Ce,onBlur:Te,onClick:C,onContextMenu:te,onFocus:Ue,onKeyDown:ge,onKeyUp:Se,onMouseDown:ie,onMouseLeave:oe,onMouseUp:J,onDragLeave:pe,onTouchEnd:me,onTouchMove:be,onTouchStart:de,ref:ce,tabIndex:h?-1:R,type:q,...K,...W,children:[l,ne?le.jsx(rM,{ref:X,center:o,...I}):null]})});function ja(n,e,t,r=!1){return ka(i=>(t&&t(i),r||n[e](i),!0))}function lM(n){return typeof n.main=="string"}function uM(n,e=[]){if(!lM(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function tr(n=[]){return([,e])=>e&&uM(e,n)}function cM(n){return ft("MuiCircularProgress",n)}pt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const cl=44,LC=wu`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,RC=wu`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,dM=typeof LC!="string"?Xh`
        animation: ${LC} 1.4s linear infinite;
      `:null,hM=typeof RC!="string"?Xh`
        animation: ${RC} 1.4s ease-in-out infinite;
      `:null,fM=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,o={root:["root",t,`color${Qe(r)}`],svg:["svg"],circle:["circle",`circle${Qe(t)}`,i&&"circleDisableShrink"]};return gt(o,cM,e)},pM=Ve("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Qe(t.color)}`]]}})(ct(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:dM||{animation:`${LC} 1.4s linear infinite`}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),gM=Ve("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),mM=Ve("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Qe(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(ct(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:hM||{animation:`${RC} 1.4s ease-in-out infinite`}}]}))),SM=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:l=!1,size:s=40,style:d,thickness:h=3.6,value:f=0,variant:m="indeterminate",...v}=r,g={...r,color:o,disableShrink:l,size:s,thickness:h,value:f,variant:m},S=fM(g),y={},C={},x={};if(m==="determinate"){const b=2*Math.PI*((cl-h)/2);y.strokeDasharray=b.toFixed(3),x["aria-valuenow"]=Math.round(f),y.strokeDashoffset=`${((100-f)/100*b).toFixed(3)}px`,C.transform="rotate(-90deg)"}return le.jsx(pM,{className:Je(S.root,i),style:{width:s,height:s,...C,...d},ownerState:g,ref:t,role:"progressbar",...x,...v,children:le.jsx(gM,{className:S.svg,ownerState:g,viewBox:`${cl/2} ${cl/2} ${cl} ${cl}`,children:le.jsx(mM,{className:S.circle,style:y,ownerState:g,cx:cl,cy:cl,r:(cl-h)/2,fill:"none",strokeWidth:h})})})});function yM(n){return ft("MuiIconButton",n)}const KD=pt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),vM=n=>{const{classes:e,disabled:t,color:r,edge:i,size:o,loading:l}=n,s={root:["root",l&&"loading",t&&"disabled",r!=="default"&&`color${Qe(r)}`,i&&`edge${Qe(i)}`,`size${Qe(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return gt(s,yM,e)},CM=Ve(X9,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Qe(t.color)}`],t.edge&&e[`edge${Qe(t.edge)}`],e[`size${Qe(t.size)}`]]}})(ct(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:xn(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ct(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:xn((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${KD.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${KD.loading}`]:{color:"transparent"}}))),wM=Ve("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(n,e)=>e.loadingIndicator})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),bM=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:l,color:s="default",disabled:d=!1,disableFocusRipple:h=!1,size:f="medium",id:m,loading:v=null,loadingIndicator:g,...S}=r,y=wy(m),C=g??le.jsx(SM,{"aria-labelledby":y,color:"inherit",size:16}),x={...r,edge:i,color:s,disabled:d,disableFocusRipple:h,loading:v,loadingIndicator:C,size:f},b=vM(x);return le.jsxs(CM,{id:v?y:m,className:Je(b.root,l),centerRipple:!0,focusRipple:!h,disabled:d||v,ref:t,...S,ownerState:x,children:[typeof v=="boolean"&&le.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:le.jsx(wM,{className:b.loadingIndicator,ownerState:x,children:v&&C})}),o]})});function DM(n){return ft("MuiTypography",n)}pt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const xM={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},TM=kF(),PM=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:o,classes:l}=n,s={root:["root",o,n.align!=="inherit"&&`align${Qe(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return gt(s,DM,l)},IM=Ve("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Qe(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(ct(({theme:n})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(n.palette).filter(tr()).map(([t])=>({props:{color:t},style:{color:(n.vars||n).palette[t].main}})),...Object.entries(((e=n.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${Qe(t)}`},style:{color:(n.vars||n).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),ZD={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},p2=ee.forwardRef(function(e,t){const{color:r,...i}=mt({props:e,name:"MuiTypography"}),o=!xM[r],l=TM({...i,...o&&{color:r}}),{align:s="inherit",className:d,component:h,gutterBottom:f=!1,noWrap:m=!1,paragraph:v=!1,variant:g="body1",variantMapping:S=ZD,...y}=l,C={...l,align:s,color:r,className:d,component:h,gutterBottom:f,noWrap:m,paragraph:v,variant:g,variantMapping:S},x=h||(v?"p":S[g]||ZD[g])||"span",b=PM(C);return le.jsx(IM,{as:x,ref:t,className:Je(b.root,d),...y,ownerState:C,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...y.style}})});function LM(n){return ft("MuiAppBar",n)}pt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const RM=n=>{const{color:e,position:t,classes:r}=n,i={root:["root",`color${Qe(e)}`,`position${Qe(t)}`]};return gt(i,LM,r)},JD=(n,e)=>n?`${n==null?void 0:n.replace(")","")}, ${e})`:e,AM=Ve(Fg,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Qe(t.position)}`],e[`color${Qe(t.color)}`]]}})(ct(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(tr(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?JD(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?JD(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),OM=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:l=!1,position:s="fixed",...d}=r,h={...r,color:o,position:s,enableColorOnDark:l},f=RM(h);return le.jsx(AM,{square:!0,component:"header",ownerState:h,elevation:4,className:Je(f.root,i,s==="fixed"&&"mui-fixed"),ref:t,...d})});function EM(n){return typeof n=="function"?n():n}const kM=ee.forwardRef(function(e,t){const{children:r,container:i,disablePortal:o=!1}=e,[l,s]=ee.useState(null),d=Ir(ee.isValidElement(r)?Kh(r):null,t);if(_a(()=>{o||s(EM(i)||document.body)},[i,o]),_a(()=>{if(l&&!o)return _D(t,l),()=>{_D(t,null)}},[t,l,o]),o){if(ee.isValidElement(r)){const h={ref:d};return ee.cloneElement(r,h)}return r}return l&&Y9.createPortal(r,l)});function Xm(n){return parseInt(n,10)||0}const _M={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function FM(n){for(const e in n)return!1;return!0}function e8(n){return FM(n)||n.outerHeightStyle===0&&!n.overflowing}const MM=ee.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:o=1,style:l,value:s,...d}=e,{current:h}=ee.useRef(s!=null),f=ee.useRef(null),m=Ir(t,f),v=ee.useRef(null),g=ee.useRef(null),S=ee.useCallback(()=>{const w=f.current,T=g.current;if(!w||!T)return;const A=Jo(w).getComputedStyle(w);if(A.width==="0px")return{outerHeightStyle:0,overflowing:!1};T.style.width=A.width,T.value=w.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const F=A.boxSizing,E=Xm(A.paddingBottom)+Xm(A.paddingTop),k=Xm(A.borderBottomWidth)+Xm(A.borderTopWidth),L=T.scrollHeight;T.value="x";const U=T.scrollHeight;let N=L;o&&(N=Math.max(Number(o)*U,N)),i&&(N=Math.min(Number(i)*U,N)),N=Math.max(N,U);const R=N+(F==="border-box"?E+k:0),I=Math.abs(N-L)<=1;return{outerHeightStyle:R,overflowing:I}},[i,o,e.placeholder]),y=ka(()=>{const w=f.current,T=S();if(!w||!T||e8(T))return!1;const P=T.outerHeightStyle;return v.current!=null&&v.current!==P}),C=ee.useCallback(()=>{const w=f.current,T=S();if(!w||!T||e8(T))return;const P=T.outerHeightStyle;v.current!==P&&(v.current=P,w.style.height=`${P}px`),w.style.overflow=T.overflowing?"hidden":""},[S]),x=ee.useRef(-1);_a(()=>{const w=B3(C),T=f==null?void 0:f.current;if(!T)return;const P=Jo(T);P.addEventListener("resize",w);let A;return typeof ResizeObserver<"u"&&(A=new ResizeObserver(()=>{y()&&(A.unobserve(T),cancelAnimationFrame(x.current),C(),x.current=requestAnimationFrame(()=>{A.observe(T)}))}),A.observe(T)),()=>{w.clear(),cancelAnimationFrame(x.current),P.removeEventListener("resize",w),A&&A.disconnect()}},[S,C,y]),_a(()=>{C()});const b=w=>{h||C(),r&&r(w)};return le.jsxs(ee.Fragment,{children:[le.jsx("textarea",{value:s,onChange:b,ref:m,rows:o,style:l,...d}),le.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{..._M.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function Jc(n){return typeof n=="string"}function Jh({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const xy=ee.createContext(void 0);function ld(){return ee.useContext(xy)}function t8(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function g2(n,e=!1){return n&&(t8(n.value)&&n.value!==""||e&&t8(n.defaultValue)&&n.defaultValue!=="")}function NM(n){return n.startAdornment}function UM(n){return ft("MuiInputBase",n)}const Qh=pt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var n8;const Ty=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Qe(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Py=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},BM=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:o,focused:l,formControl:s,fullWidth:d,hiddenLabel:h,multiline:f,readOnly:m,size:v,startAdornment:g,type:S}=n,y={root:["root",`color${Qe(t)}`,r&&"disabled",i&&"error",d&&"fullWidth",l&&"focused",s&&"formControl",v&&v!=="medium"&&`size${Qe(v)}`,f&&"multiline",g&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",m&&"readOnly"],input:["input",r&&"disabled",S==="search"&&"inputTypeSearch",f&&"inputMultiline",v==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",g&&"inputAdornedStart",o&&"inputAdornedEnd",m&&"readOnly"]};return gt(y,UM,e)},Iy=Ve("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ty})(ct(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Qh.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Ly=Ve("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Py})(ct(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Qh.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${Qh.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),r8=j3({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),K3=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:o,autoFocus:l,className:s,color:d,components:h={},componentsProps:f={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:g,endAdornment:S,error:y,fullWidth:C=!1,id:x,inputComponent:b="input",inputProps:w={},inputRef:T,margin:P,maxRows:A,minRows:F,multiline:E=!1,name:k,onBlur:L,onChange:U,onClick:N,onFocus:R,onKeyDown:I,onKeyUp:_,placeholder:q,readOnly:W,renderSuffix:j,rows:H,size:X,slotProps:V={},slots:$={},startAdornment:ne,type:ie="text",value:te,...pe}=r,J=w.value!=null?w.value:te,{current:oe}=ee.useRef(J!=null),de=ee.useRef(),me=ee.useCallback(Ge=>{},[]),be=Ir(de,T,w.ref,me),[Te,Ue]=ee.useState(!1),B=ld(),ge=Jh({props:r,muiFormControl:B,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ge.focused=B?B.focused:Te,ee.useEffect(()=>{!B&&v&&Te&&(Ue(!1),L&&L())},[B,v,Te,L]);const Se=B&&B.onFilled,Z=B&&B.onEmpty,K=ee.useCallback(Ge=>{g2(Ge)?Se&&Se():Z&&Z()},[Se,Z]);_a(()=>{oe&&K({value:J})},[J,K,oe]);const ce=Ge=>{R&&R(Ge),w.onFocus&&w.onFocus(Ge),B&&B.onFocus?B.onFocus(Ge):Ue(!0)},Ce=Ge=>{L&&L(Ge),w.onBlur&&w.onBlur(Ge),B&&B.onBlur?B.onBlur(Ge):Ue(!1)},xe=(Ge,...tt)=>{if(!oe){const We=Ge.target||de.current;if(We==null)throw new Error(Qs(1));K({value:We.value})}w.onChange&&w.onChange(Ge,...tt),U&&U(Ge,...tt)};ee.useEffect(()=>{K(de.current)},[]);const se=Ge=>{de.current&&Ge.currentTarget===Ge.target&&de.current.focus(),N&&N(Ge)};let Re=b,Ee=w;E&&Re==="input"&&(H?Ee={type:void 0,minRows:H,maxRows:H,...Ee}:Ee={type:void 0,maxRows:A,minRows:F,...Ee},Re=MM);const he=Ge=>{K(Ge.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};ee.useEffect(()=>{B&&B.setAdornedStart(!!ne)},[B,ne]);const we={...r,color:ge.color||"primary",disabled:ge.disabled,endAdornment:S,error:ge.error,focused:ge.focused,formControl:B,fullWidth:C,hiddenLabel:ge.hiddenLabel,multiline:E,size:ge.size,startAdornment:ne,type:ie},Me=BM(we),Oe=$.root||h.Root||Iy,ze=V.root||f.root||{},Be=$.input||h.Input||Ly;return Ee={...Ee,...V.input??f.input},le.jsxs(ee.Fragment,{children:[!g&&typeof r8=="function"&&(n8||(n8=le.jsx(r8,{}))),le.jsxs(Oe,{...ze,ref:t,onClick:se,...pe,...!Jc(Oe)&&{ownerState:{...we,...ze.ownerState}},className:Je(Me.root,ze.className,s,W&&"MuiInputBase-readOnly"),children:[ne,le.jsx(xy.Provider,{value:null,children:le.jsx(Be,{"aria-invalid":ge.error,"aria-describedby":i,autoComplete:o,autoFocus:l,defaultValue:m,disabled:ge.disabled,id:x,onAnimationStart:he,name:k,placeholder:q,readOnly:W,required:ge.required,rows:H,value:J,onKeyDown:I,onKeyUp:_,type:ie,...Ee,...!Jc(Be)&&{as:Re,ownerState:{...we,...Ee.ownerState}},ref:be,className:Je(Me.input,Ee.className,W&&"MuiInputBase-readOnly"),onBlur:Ce,onChange:xe,onFocus:ce})}),S,j?j({...ge,startAdornment:ne}):null]})]})});function qM(n){return ft("MuiInput",n)}const qf={...Qh,...pt("MuiInput",["root","underline","input"])};function VM(n){return ft("MuiOutlinedInput",n)}const la={...Qh,...pt("MuiOutlinedInput",["root","notchedOutline","input"])};function GM(n){return ft("MuiFilledInput",n)}const Mu={...Qh,...pt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},QM=zs(le.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),zM={entering:{opacity:1},entered:{opacity:1}},AC=ee.forwardRef(function(e,t){const r=Zh(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:s,easing:d,in:h,onEnter:f,onEntered:m,onEntering:v,onExit:g,onExited:S,onExiting:y,style:C,timeout:x=i,TransitionComponent:b=ta,...w}=e,T=ee.useRef(null),P=Ir(T,Kh(s),t),A=I=>_=>{if(I){const q=T.current;_===void 0?I(q):I(q,_)}},F=A(v),E=A((I,_)=>{X3(I);const q=Gh({style:C,timeout:x,easing:d},{mode:"enter"});I.style.webkitTransition=r.transitions.create("opacity",q),I.style.transition=r.transitions.create("opacity",q),f&&f(I,_)}),k=A(m),L=A(y),U=A(I=>{const _=Gh({style:C,timeout:x,easing:d},{mode:"exit"});I.style.webkitTransition=r.transitions.create("opacity",_),I.style.transition=r.transitions.create("opacity",_),g&&g(I)}),N=A(S),R=I=>{o&&o(T.current,I)};return le.jsx(b,{appear:l,in:h,nodeRef:T,onEnter:E,onEntered:k,onEntering:F,onExit:U,onExited:N,onExiting:L,addEndListener:R,timeout:x,...w,children:(I,{ownerState:_,...q})=>ee.cloneElement(s,{style:{opacity:0,visibility:I==="exited"&&!h?"hidden":void 0,...zM[I],...C,...s.props.style},ref:P,...q})})});function WM(n){return ft("MuiBackdrop",n)}pt("MuiBackdrop",["root","invisible"]);const HM=n=>{const{classes:e,invisible:t}=n;return gt({root:["root",t&&"invisible"]},WM,e)},jM=Ve("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),K9=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:l="div",invisible:s=!1,open:d,components:h={},componentsProps:f={},slotProps:m={},slots:v={},TransitionComponent:g,transitionDuration:S,...y}=r,C={...r,component:l,invisible:s},x=HM(C),b={transition:g,root:h.Root,...v},w={...f,...m},T={slots:b,slotProps:w},[P,A]=er("root",{elementType:jM,externalForwardedProps:T,className:Je(x.root,o),ownerState:C}),[F,E]=er("transition",{elementType:AC,externalForwardedProps:T,ownerState:C});return le.jsx(F,{in:d,timeout:S,...y,...E,children:le.jsx(P,{"aria-hidden":!0,...A,classes:x,ref:t,children:i})})}),$M=pt("MuiBox",["root"]),YM=by(),XM=e_({themeId:Ko,defaultTheme:YM,defaultClassName:$M.root,generateClassName:w9.generate}),OC=typeof j3({})=="function",KM=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),ZM=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),Z9=(n,e=!1)=>{var o,l;const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([s,d])=>{var f,m;const h=n.getColorSchemeSelector(s);h.startsWith("@")?t[h]={":root":{colorScheme:(f=d.palette)==null?void 0:f.mode}}:t[h.replace(/\s*&/,"")]={colorScheme:(m=d.palette)==null?void 0:m.mode}});let r={html:KM(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...ZM(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const i=(l=(o=n.components)==null?void 0:o.MuiCssBaseline)==null?void 0:l.styleOverrides;return i&&(r=[r,i]),r},TS="mui-ecs",JM=n=>{const e=Z9(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${TS})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([r,i])=>{var l,s;const o=n.getColorSchemeSelector(r);o.startsWith("@")?t[o]={[`:root:not(:has(.${TS}))`]:{colorScheme:(l=i.palette)==null?void 0:l.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${TS}))`]:{colorScheme:(s=i.palette)==null?void 0:s.mode}}}),e},eN=j3(OC?({theme:n,enableColorScheme:e})=>Z9(n,e):({theme:n})=>JM(n));function tN(n){const e=mt({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:r=!1}=e;return le.jsxs(ee.Fragment,{children:[OC&&le.jsx(eN,{enableColorScheme:r}),!OC&&!r&&le.jsx("span",{className:TS,style:{display:"none"}}),t]})}function nN(n){const e=Br(n);return e.body===n?Jo(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function $1(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function i8(n){return parseInt(Jo(n).getComputedStyle(n).paddingRight,10)||0}function rN(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function o8(n,e,t,r,i){const o=[e,t,...r];[].forEach.call(n.children,l=>{const s=!o.includes(l),d=!rN(l);s&&d&&$1(l,i)})}function _5(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function iN(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(nN(r)){const l=E9(Jo(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${i8(r)+l}px`;const s=Br(r).querySelectorAll(".mui-fixed");[].forEach.call(s,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${i8(d)+l}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=Br(r).body;else{const l=r.parentElement,s=Jo(r);o=(l==null?void 0:l.nodeName)==="HTML"&&s.getComputedStyle(l).overflowY==="scroll"?l:r}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:l,property:s})=>{o?l.style.setProperty(s,o):l.style.removeProperty(s)})}}function oN(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class aN{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&$1(e.modalRef,!1);const i=oN(t);o8(t,e.mount,e.modalRef,i,!0);const o=_5(this.containers,l=>l.container===t);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=_5(this.containers,o=>o.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=iN(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=_5(this.containers,l=>l.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&$1(e.modalRef,t),o8(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&$1(l.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const sN=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function lN(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function uN(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function cN(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||uN(n))}function dN(n){const e=[],t=[];return Array.from(n.querySelectorAll(sN)).forEach((r,i)=>{const o=lN(r);o===-1||!cN(r)||(o===0?e.push(r):t.push({documentOrder:i,tabIndex:o,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function hN(){return!0}function fN(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=dN,isEnabled:l=hN,open:s}=n,d=ee.useRef(!1),h=ee.useRef(null),f=ee.useRef(null),m=ee.useRef(null),v=ee.useRef(null),g=ee.useRef(!1),S=ee.useRef(null),y=Ir(Kh(e),S),C=ee.useRef(null);ee.useEffect(()=>{!s||!S.current||(g.current=!t)},[t,s]),ee.useEffect(()=>{if(!s||!S.current)return;const w=Br(S.current);return S.current.contains(w.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),g.current&&S.current.focus()),()=>{i||(m.current&&m.current.focus&&(d.current=!0,m.current.focus()),m.current=null)}},[s]),ee.useEffect(()=>{if(!s||!S.current)return;const w=Br(S.current),T=F=>{C.current=F,!(r||!l()||F.key!=="Tab")&&w.activeElement===S.current&&F.shiftKey&&(d.current=!0,f.current&&f.current.focus())},P=()=>{var k,L;const F=S.current;if(F===null)return;if(!w.hasFocus()||!l()||d.current){d.current=!1;return}if(F.contains(w.activeElement)||r&&w.activeElement!==h.current&&w.activeElement!==f.current)return;if(w.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!g.current)return;let E=[];if((w.activeElement===h.current||w.activeElement===f.current)&&(E=o(S.current)),E.length>0){const U=!!((k=C.current)!=null&&k.shiftKey&&((L=C.current)==null?void 0:L.key)==="Tab"),N=E[0],R=E[E.length-1];typeof N!="string"&&typeof R!="string"&&(U?R.focus():N.focus())}else F.focus()};w.addEventListener("focusin",P),w.addEventListener("keydown",T,!0);const A=setInterval(()=>{w.activeElement&&w.activeElement.tagName==="BODY"&&P()},50);return()=>{clearInterval(A),w.removeEventListener("focusin",P),w.removeEventListener("keydown",T,!0)}},[t,r,i,l,s,o]);const x=w=>{m.current===null&&(m.current=w.relatedTarget),g.current=!0,v.current=w.target;const T=e.props.onFocus;T&&T(w)},b=w=>{m.current===null&&(m.current=w.relatedTarget),g.current=!0};return le.jsxs(ee.Fragment,{children:[le.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:h,"data-testid":"sentinelStart"}),ee.cloneElement(e,{ref:y,onFocus:x}),le.jsx("div",{tabIndex:s?0:-1,onFocus:b,ref:f,"data-testid":"sentinelEnd"})]})}function pN(n){return typeof n=="function"?n():n}function gN(n){return n?n.props.hasOwnProperty("in"):!1}const a8=()=>{},Km=new aN;function mN(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:l,children:s,onClose:d,open:h,rootRef:f}=n,m=ee.useRef({}),v=ee.useRef(null),g=ee.useRef(null),S=Ir(g,f),[y,C]=ee.useState(!h),x=gN(s);let b=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(b=!1);const w=()=>Br(v.current),T=()=>(m.current.modalRef=g.current,m.current.mount=v.current,m.current),P=()=>{Km.mount(T(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},A=ka(()=>{const _=pN(e)||w().body;Km.add(T(),_),g.current&&P()}),F=()=>Km.isTopModal(T()),E=ka(_=>{v.current=_,_&&(h&&F()?P():g.current&&$1(g.current,b))}),k=ee.useCallback(()=>{Km.remove(T(),b)},[b]);ee.useEffect(()=>()=>{k()},[k]),ee.useEffect(()=>{h?A():(!x||!i)&&k()},[h,k,x,i,A]);const L=_=>q=>{var W;(W=_.onKeyDown)==null||W.call(_,q),!(q.key!=="Escape"||q.which===229||!F())&&(t||(q.stopPropagation(),d&&d(q,"escapeKeyDown")))},U=_=>q=>{var W;(W=_.onClick)==null||W.call(_,q),q.target===q.currentTarget&&d&&d(q,"backdropClick")};return{getRootProps:(_={})=>{const q=j1(n);delete q.onTransitionEnter,delete q.onTransitionExited;const W={...q,..._};return{role:"presentation",...W,onKeyDown:L(W),ref:S}},getBackdropProps:(_={})=>{const q=_;return{"aria-hidden":!0,...q,onClick:U(q),open:h}},getTransitionProps:()=>{const _=()=>{C(!1),o&&o()},q=()=>{C(!0),l&&l(),i&&k()};return{onEnter:kD(_,(s==null?void 0:s.props.onEnter)??a8),onExited:kD(q,(s==null?void 0:s.props.onExited)??a8)}},rootRef:S,portalRef:E,isTopModal:F,exited:y,hasTransition:x}}function SN(n){return ft("MuiModal",n)}pt("MuiModal",["root","hidden","backdrop"]);const yN=n=>{const{open:e,exited:t,classes:r}=n;return gt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},SN,r)},vN=Ve("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(ct(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),CN=Ve(K9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(n,e)=>e.backdrop})({zIndex:-1}),J9=ee.forwardRef(function(e,t){const r=mt({name:"MuiModal",props:e}),{BackdropComponent:i=CN,BackdropProps:o,classes:l,className:s,closeAfterTransition:d=!1,children:h,container:f,component:m,components:v={},componentsProps:g={},disableAutoFocus:S=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:b=!1,disableScrollLock:w=!1,hideBackdrop:T=!1,keepMounted:P=!1,onBackdropClick:A,onClose:F,onTransitionEnter:E,onTransitionExited:k,open:L,slotProps:U={},slots:N={},theme:R,...I}=r,_={...r,closeAfterTransition:d,disableAutoFocus:S,disableEnforceFocus:y,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:b,disableScrollLock:w,hideBackdrop:T,keepMounted:P},{getRootProps:q,getBackdropProps:W,getTransitionProps:j,portalRef:H,isTopModal:X,exited:V,hasTransition:$}=mN({..._,rootRef:t}),ne={..._,exited:V},ie=yN(ne),te={};if(h.props.tabIndex===void 0&&(te.tabIndex="-1"),$){const{onEnter:be,onExited:Te}=j();te.onEnter=be,te.onExited=Te}const pe={slots:{root:v.Root,backdrop:v.Backdrop,...N},slotProps:{...g,...U}},[J,oe]=er("root",{ref:t,elementType:vN,externalForwardedProps:{...pe,...I,component:m},getSlotProps:q,ownerState:ne,className:Je(s,ie==null?void 0:ie.root,!ne.open&&ne.exited&&(ie==null?void 0:ie.hidden))}),[de,me]=er("backdrop",{ref:o==null?void 0:o.ref,elementType:i,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:be=>W({...be,onClick:Te=>{A&&A(Te),be!=null&&be.onClick&&be.onClick(Te)}}),className:Je(o==null?void 0:o.className,ie==null?void 0:ie.backdrop),ownerState:ne});return!P&&!L&&(!$||V)?null:le.jsx(kM,{ref:H,container:f,disablePortal:x,children:le.jsxs(J,{...oe,children:[!T&&i?le.jsx(de,{...me}):null,le.jsx(fN,{disableEnforceFocus:y,disableAutoFocus:S,disableRestoreFocus:b,isEnabled:X,open:L,children:ee.cloneElement(h,te)})]})})});function wN(n){return ft("MuiDialog",n)}const F5=pt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),bN=ee.createContext({}),DN=Ve(K9,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),xN=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:o}=n,l={root:["root"],container:["container",`scroll${Qe(t)}`],paper:["paper",`paperScroll${Qe(t)}`,`paperWidth${Qe(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return gt(l,wN,e)},TN=Ve(J9,{name:"MuiDialog",slot:"Root",overridesResolver:(n,e)=>e.root})({"@media print":{position:"absolute !important"}}),PN=Ve("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Qe(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),IN=Ve(Fg,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Qe(t.scroll)}`],e[`paperWidth${Qe(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(ct(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${F5.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${F5.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${F5.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),LN=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiDialog"}),i=Zh(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":s,"aria-modal":d=!0,BackdropComponent:h,BackdropProps:f,children:m,className:v,disableEscapeKeyDown:g=!1,fullScreen:S=!1,fullWidth:y=!1,maxWidth:C="sm",onBackdropClick:x,onClick:b,onClose:w,open:T,PaperComponent:P=Fg,PaperProps:A={},scroll:F="paper",slots:E={},slotProps:k={},TransitionComponent:L=AC,transitionDuration:U=o,TransitionProps:N,...R}=r,I={...r,disableEscapeKeyDown:g,fullScreen:S,fullWidth:y,maxWidth:C,scroll:F},_=xN(I),q=ee.useRef(),W=B=>{q.current=B.target===B.currentTarget},j=B=>{b&&b(B),q.current&&(q.current=null,x&&x(B),w&&w(B,"backdropClick"))},H=wy(s),X=ee.useMemo(()=>({titleId:H}),[H]),V={transition:L,...E},$={transition:N,paper:A,backdrop:f,...k},ne={slots:V,slotProps:$},[ie,te]=er("root",{elementType:TN,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I,className:Je(_.root,v),ref:t}),[pe,J]=er("backdrop",{elementType:DN,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I}),[oe,de]=er("paper",{elementType:IN,shouldForwardComponentProp:!0,externalForwardedProps:ne,ownerState:I,className:Je(_.paper,A.className)}),[me,be]=er("container",{elementType:PN,externalForwardedProps:ne,ownerState:I,className:Je(_.container)}),[Te,Ue]=er("transition",{elementType:AC,externalForwardedProps:ne,ownerState:I,additionalProps:{appear:!0,in:T,timeout:U,role:"presentation"}});return le.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:pe},slotProps:{backdrop:{transitionDuration:U,as:h,...J}},disableEscapeKeyDown:g,onClose:w,open:T,onClick:j,...te,...R,children:le.jsx(Te,{...Ue,children:le.jsx(me,{onMouseDown:W,...be,children:le.jsx(oe,{as:P,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":H,"aria-modal":d,...de,children:le.jsx(bN.Provider,{value:X,children:m})})})})})});function RN(n,e,t){const r=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),o=Jo(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const h=o.getComputedStyle(e);l=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let s=0,d=0;if(l&&l!=="none"&&typeof l=="string"){const h=l.split("(")[1].split(")")[0].split(",");s=parseInt(h[4],10),d=parseInt(h[5],10)}return n==="left"?i?`translateX(${i.right+s-r.left}px)`:`translateX(${o.innerWidth+s-r.left}px)`:n==="right"?i?`translateX(-${r.right-i.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:n==="up"?i?`translateY(${i.bottom+d-r.top}px)`:`translateY(${o.innerHeight+d-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-d}px)`:`translateY(-${r.top+r.height-d}px)`}function AN(n){return typeof n=="function"?n():n}function Zm(n,e,t){const r=AN(t),i=RN(n,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const ON=ee.forwardRef(function(e,t){const r=Zh(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:l,appear:s=!0,children:d,container:h,direction:f="down",easing:m=i,in:v,onEnter:g,onEntered:S,onEntering:y,onExit:C,onExited:x,onExiting:b,style:w,timeout:T=o,TransitionComponent:P=ta,...A}=e,F=ee.useRef(null),E=Ir(Kh(d),F,t),k=j=>H=>{j&&(H===void 0?j(F.current):j(F.current,H))},L=k((j,H)=>{Zm(f,j,h),X3(j),g&&g(j,H)}),U=k((j,H)=>{const X=Gh({timeout:T,style:w,easing:m},{mode:"enter"});j.style.webkitTransition=r.transitions.create("-webkit-transform",{...X}),j.style.transition=r.transitions.create("transform",{...X}),j.style.webkitTransform="none",j.style.transform="none",y&&y(j,H)}),N=k(S),R=k(b),I=k(j=>{const H=Gh({timeout:T,style:w,easing:m},{mode:"exit"});j.style.webkitTransition=r.transitions.create("-webkit-transform",H),j.style.transition=r.transitions.create("transform",H),Zm(f,j,h),C&&C(j)}),_=k(j=>{j.style.webkitTransition="",j.style.transition="",x&&x(j)}),q=j=>{l&&l(F.current,j)},W=ee.useCallback(()=>{F.current&&Zm(f,F.current,h)},[f,h]);return ee.useEffect(()=>{if(v||f==="down"||f==="right")return;const j=B3(()=>{F.current&&Zm(f,F.current,h)}),H=Jo(F.current);return H.addEventListener("resize",j),()=>{j.clear(),H.removeEventListener("resize",j)}},[f,v,h]),ee.useEffect(()=>{v||W()},[v,W]),le.jsx(P,{nodeRef:F,onEnter:L,onEntered:N,onEntering:U,onExit:I,onExited:_,onExiting:R,addEndListener:q,appear:s,in:v,timeout:T,...A,children:(j,{ownerState:H,...X})=>ee.cloneElement(d,{ref:E,style:{visibility:j==="exited"&&!v?"hidden":void 0,...w,...d.props.style},...X})})}),EN=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:o,hiddenLabel:l,multiline:s}=n,d={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",o==="small"&&`size${Qe(o)}`,l&&"hiddenLabel",s&&"multiline"],input:["input"]},h=gt(d,GM,e);return{...e,...h}},kN=Ve(Iy,{shouldForwardProp:n=>Ma(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ty(n,e),!t.disableUnderline&&e.underline]}})(ct(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Mu.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Mu.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Mu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Mu.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Mu.disabled}, .${Mu.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Mu.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(tr()).map(([l])=>{var s;return{props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(s=(n.vars||n).palette[l])==null?void 0:s.main}`}}}}),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:s})=>l.multiline&&s==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),_N=Ve(Ly,{name:"MuiFilledInput",slot:"Input",overridesResolver:Py})(ct(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Z3=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:o={},componentsProps:l,fullWidth:s=!1,hiddenLabel:d,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:g="text",...S}=r,y={...r,disableUnderline:i,fullWidth:s,inputComponent:h,multiline:f,type:g},C=EN(r),x={root:{ownerState:y},input:{ownerState:y}},b=m??l?ar(x,m??l):x,w=v.root??o.Root??kN,T=v.input??o.Input??_N;return le.jsx(K3,{slots:{root:w,input:T},slotProps:b,fullWidth:s,inputComponent:h,multiline:f,ref:t,type:g,...S,classes:C})});Z3.muiName="Input";function FN(n){return ft("MuiFormControl",n)}pt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const MN=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${Qe(t)}`,r&&"fullWidth"]};return gt(i,FN,e)},NN=Ve("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Qe(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),UN=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:l="primary",component:s="div",disabled:d=!1,error:h=!1,focused:f,fullWidth:m=!1,hiddenLabel:v=!1,margin:g="none",required:S=!1,size:y="medium",variant:C="outlined",...x}=r,b={...r,color:l,component:s,disabled:d,error:h,fullWidth:m,hiddenLabel:v,margin:g,required:S,size:y,variant:C},w=MN(b),[T,P]=ee.useState(()=>{let _=!1;return i&&ee.Children.forEach(i,q=>{if(!R5(q,["Input","Select"]))return;const W=R5(q,["Select"])?q.props.input:q;W&&NM(W.props)&&(_=!0)}),_}),[A,F]=ee.useState(()=>{let _=!1;return i&&ee.Children.forEach(i,q=>{R5(q,["Input","Select"])&&(g2(q.props,!0)||g2(q.props.inputProps,!0))&&(_=!0)}),_}),[E,k]=ee.useState(!1);d&&E&&k(!1);const L=f!==void 0&&!d?f:E;let U;ee.useRef(!1);const N=ee.useCallback(()=>{F(!0)},[]),R=ee.useCallback(()=>{F(!1)},[]),I=ee.useMemo(()=>({adornedStart:T,setAdornedStart:P,color:l,disabled:d,error:h,filled:A,focused:L,fullWidth:m,hiddenLabel:v,size:y,onBlur:()=>{k(!1)},onFocus:()=>{k(!0)},onEmpty:R,onFilled:N,registerEffect:U,required:S,variant:C}),[T,l,d,h,A,L,m,v,U,R,N,S,y,C]);return le.jsx(xy.Provider,{value:I,children:le.jsx(NN,{as:s,ownerState:b,className:Je(w.root,o),ref:t,...x,children:i})})});function BN(n){return ft("MuiFormHelperText",n)}const s8=pt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var l8;const qN=n=>{const{classes:e,contained:t,size:r,disabled:i,error:o,filled:l,focused:s,required:d}=n,h={root:["root",i&&"disabled",o&&"error",r&&`size${Qe(r)}`,t&&"contained",s&&"focused",l&&"filled",d&&"required"]};return gt(h,BN,e)},VN=Ve("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Qe(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${s8.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${s8.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),GN=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:l="p",disabled:s,error:d,filled:h,focused:f,margin:m,required:v,variant:g,...S}=r,y=ld(),C=Jh({props:r,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),x={...r,component:l,contained:C.variant==="filled"||C.variant==="outlined",variant:C.variant,size:C.size,disabled:C.disabled,error:C.error,filled:C.filled,focused:C.focused,required:C.required};delete x.ownerState;const b=qN(x);return le.jsx(VN,{as:l,className:Je(b.root,o),ref:t,...S,ownerState:x,children:i===" "?l8||(l8=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function QN(n){return ft("MuiFormLabel",n)}const Y1=pt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),zN=n=>{const{classes:e,color:t,focused:r,disabled:i,error:o,filled:l,required:s}=n,d={root:["root",`color${Qe(t)}`,i&&"disabled",o&&"error",l&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return gt(d,QN,e)},WN=Ve("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(ct(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{[`&.${Y1.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${Y1.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Y1.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),HN=Ve("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(ct(({theme:n})=>({[`&.${Y1.error}`]:{color:(n.vars||n).palette.error.main}}))),jN=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiFormLabel"}),{children:i,className:o,color:l,component:s="label",disabled:d,error:h,filled:f,focused:m,required:v,...g}=r,S=ld(),y=Jh({props:r,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),C={...r,color:y.color||"primary",component:s,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},x=zN(C);return le.jsxs(WN,{as:s,ownerState:C,className:Je(x.root,o),ref:t,...g,children:[i,y.required&&le.jsxs(HN,{ownerState:C,"aria-hidden":!0,className:x.asterisk,children:[" ","*"]})]})});function EC(n){return`scale(${n}, ${n**2})`}const $N={entering:{opacity:1,transform:EC(1)},entered:{opacity:1,transform:"none"}},M5=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kC=ee.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:o,easing:l,in:s,onEnter:d,onEntered:h,onEntering:f,onExit:m,onExited:v,onExiting:g,style:S,timeout:y="auto",TransitionComponent:C=ta,...x}=e,b=O9(),w=ee.useRef(),T=Zh(),P=ee.useRef(null),A=Ir(P,Kh(o),t),F=_=>q=>{if(_){const W=P.current;q===void 0?_(W):_(W,q)}},E=F(f),k=F((_,q)=>{X3(_);const{duration:W,delay:j,easing:H}=Gh({style:S,timeout:y,easing:l},{mode:"enter"});let X;y==="auto"?(X=T.transitions.getAutoHeightDuration(_.clientHeight),w.current=X):X=W,_.style.transition=[T.transitions.create("opacity",{duration:X,delay:j}),T.transitions.create("transform",{duration:M5?X:X*.666,delay:j,easing:H})].join(","),d&&d(_,q)}),L=F(h),U=F(g),N=F(_=>{const{duration:q,delay:W,easing:j}=Gh({style:S,timeout:y,easing:l},{mode:"exit"});let H;y==="auto"?(H=T.transitions.getAutoHeightDuration(_.clientHeight),w.current=H):H=q,_.style.transition=[T.transitions.create("opacity",{duration:H,delay:W}),T.transitions.create("transform",{duration:M5?H:H*.666,delay:M5?W:W||H*.333,easing:j})].join(","),_.style.opacity=0,_.style.transform=EC(.75),m&&m(_)}),R=F(v),I=_=>{y==="auto"&&b.start(w.current||0,_),r&&r(P.current,_)};return le.jsx(C,{appear:i,in:s,nodeRef:P,onEnter:k,onEntered:L,onEntering:E,onExit:N,onExited:R,onExiting:U,addEndListener:I,timeout:y==="auto"?null:y,...x,children:(_,{ownerState:q,...W})=>ee.cloneElement(o,{style:{opacity:0,transform:EC(.75),visibility:_==="exited"&&!s?"hidden":void 0,...$N[_],...S,...o.props.style},ref:A,...W})})});kC&&(kC.muiSupportAuto=!0);const YN=L9({themeId:Ko}),XN=n=>{const{classes:e,disableUnderline:t}=n,i=gt({root:["root",!t&&"underline"],input:["input"]},qM,e);return{...e,...i}},KN=Ve(Iy,{shouldForwardProp:n=>Ma(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Ty(n,e),!t.disableUnderline&&e.underline]}})(ct(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qf.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qf.disabled}, .${qf.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${qf.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(tr()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),ZN=Ve(Ly,{name:"MuiInput",slot:"Input",overridesResolver:Py})({}),J3=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:o={},componentsProps:l,fullWidth:s=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text",...g}=r,S=XN(r),C={root:{ownerState:{disableUnderline:i}}},x=f??l?ar(f??l,C):C,b=m.root??o.Root??KN,w=m.input??o.Input??ZN;return le.jsx(K3,{slots:{root:b,input:w},slotProps:x,fullWidth:s,inputComponent:d,multiline:h,ref:t,type:v,...g,classes:S})});J3.muiName="Input";function JN(n){return ft("MuiInputAdornment",n)}const u8=pt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var c8;const eU=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Qe(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},tU=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:r,position:i,size:o,variant:l}=n,s={root:["root",t&&"disablePointerEvents",i&&`position${Qe(i)}`,l,r&&"hiddenLabel",o&&`size${Qe(o)}`]};return gt(s,JN,e)},nU=Ve("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:eU})(ct(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${u8.positionStart}&:not(.${u8.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),rU=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:l="div",disablePointerEvents:s=!1,disableTypography:d=!1,position:h,variant:f,...m}=r,v=ld()||{};let g=f;f&&v.variant,v&&!g&&(g=v.variant);const S={...r,hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:s,position:h,variant:g},y=tU(S);return le.jsx(xy.Provider,{value:null,children:le.jsx(nU,{as:l,ownerState:S,className:Je(y.root,o),ref:t,...m,children:typeof i=="string"&&!d?le.jsx(p2,{color:"textSecondary",children:i}):le.jsxs(ee.Fragment,{children:[h==="start"?c8||(c8=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,i]})})})});function iU(n){return ft("MuiInputLabel",n)}pt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const oU=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:o,variant:l,required:s}=n,d={root:["root",t&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Qe(r)}`,l],asterisk:[s&&"asterisk"]},h=gt(d,iU,e);return{...e,...h}},aU=Ve(jN,{shouldForwardProp:n=>Ma(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Y1.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(ct(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),sU=ee.forwardRef(function(e,t){const r=mt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:o,shrink:l,variant:s,className:d,...h}=r,f=ld();let m=l;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const v=Jh({props:r,muiFormControl:f,states:["size","variant","required","focused"]}),g={...r,disableAnimation:i,formControl:f,shrink:m,size:v.size,variant:v.variant,required:v.required,focused:v.focused},S=oU(g);return le.jsx(aU,{"data-shrink":m,ref:t,className:Je(S.root,d),...h,ownerState:g,classes:S})});function lU(n){return ft("MuiLinearProgress",n)}pt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const _C=4,FC=wu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,uU=typeof FC!="string"?Xh`
        animation: ${FC} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,MC=wu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,cU=typeof MC!="string"?Xh`
        animation: ${MC} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,NC=wu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,dU=typeof NC!="string"?Xh`
        animation: ${NC} 3s infinite linear;
      `:null,hU=n=>{const{classes:e,variant:t,color:r}=n,i={root:["root",`color${Qe(r)}`,t],dashed:["dashed",`dashedColor${Qe(r)}`],bar1:["bar","bar1",`barColor${Qe(r)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Qe(r)}`,t==="buffer"&&`color${Qe(r)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return gt(i,lU,e)},ew=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?id(n.palette[e].main,.62):rd(n.palette[e].main,.5),fU=Ve("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Qe(t.color)}`],e[t.variant]]}})(ct(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{backgroundColor:ew(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),pU=Ve("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Qe(t.color)}`]]}})(ct(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(tr()).map(([e])=>{const t=ew(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),dU||{animation:`${NC} 3s infinite linear`}),gU=Ve("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Qe(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(ct(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${_C}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${_C}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:uU||{animation:`${FC} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),mU=Ve("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Qe(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(ct(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:ew(n,e),transition:`transform .${_C}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:cU||{animation:`${MC} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),SU=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:l,valueBuffer:s,variant:d="indeterminate",...h}=r,f={...r,color:o,variant:d},m=hU(f),v=G3(),g={},S={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&l!==void 0){g["aria-valuenow"]=Math.round(l),g["aria-valuemin"]=0,g["aria-valuemax"]=100;let y=l-100;v&&(y=-y),S.bar1.transform=`translateX(${y}%)`}if(d==="buffer"&&s!==void 0){let y=(s||0)-100;v&&(y=-y),S.bar2.transform=`translateX(${y}%)`}return le.jsxs(fU,{className:Je(m.root,i),ownerState:f,role:"progressbar",...g,ref:t,...h,children:[d==="buffer"?le.jsx(pU,{className:m.dashed,ownerState:f}):null,le.jsx(gU,{className:m.bar1,ownerState:f,style:S.bar1}),d==="determinate"?null:le.jsx(mU,{className:m.bar2,ownerState:f,style:S.bar2})]})});function yU(n){return ft("MuiLink",n)}const vU=pt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),CU=({theme:n,ownerState:e})=>{const t=e.color,r=du(n,`palette.${t}.main`,!1)||du(n,`palette.${t}`,!1)||e.color,i=du(n,`palette.${t}.mainChannel`)||du(n,`palette.${t}Channel`);return"vars"in n&&i?`rgba(${i} / 0.4)`:xn(r,.4)},d8={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},wU=n=>{const{classes:e,component:t,focusVisible:r,underline:i}=n,o={root:["root",`underline${Qe(i)}`,t==="button"&&"button",r&&"focusVisible"]};return gt(o,yU,e)},bU=Ve(p2,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Qe(t.underline)}`],t.component==="button"&&e.button]}})(ct(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:xn(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:xn(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:xn(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${vU.focusVisible}`]:{outline:"auto"}}}]}))),h8=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiLink"}),i=Zh(),{className:o,color:l="primary",component:s="a",onBlur:d,onFocus:h,TypographyClasses:f,underline:m="always",variant:v="inherit",sx:g,...S}=r,[y,C]=ee.useState(!1),x=P=>{Vh(P.target)||C(!1),d&&d(P)},b=P=>{Vh(P.target)&&C(!0),h&&h(P)},w={...r,color:l,component:s,focusVisible:y,underline:m,variant:v},T=wU(w);return le.jsx(bU,{color:l,className:Je(T.root,o),classes:f,component:s,onBlur:x,onFocus:b,ref:t,ownerState:w,variant:v,...S,sx:[...d8[l]===void 0?[{color:l}]:[],...Array.isArray(g)?g:[g]],style:{...S.style,...m==="always"&&l!=="inherit"&&!d8[l]&&{"--Link-underlineColor":CU({theme:i,ownerState:w})}}})}),DU=ee.createContext({});function xU(n){return ft("MuiList",n)}pt("MuiList",["root","padding","dense","subheader"]);const TU=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return gt({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},xU,e)},PU=Ve("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),IU=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:s=!1,disablePadding:d=!1,subheader:h,...f}=r,m=ee.useMemo(()=>({dense:s}),[s]),v={...r,component:l,dense:s,disablePadding:d},g=TU(v);return le.jsx(DU.Provider,{value:m,children:le.jsxs(PU,{as:l,className:Je(g.root,o),ref:t,ownerState:v,...f,children:[h,i]})})});function N5(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function f8(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function eI(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Vf(n,e,t,r,i,o){let l=!1,s=i(n,e,e?t:!1);for(;s;){if(s===n.firstChild){if(l)return!1;l=!0}const d=r?!1:s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||!eI(s,o)||d)s=i(n,s,t);else return s.focus(),!0}return!1}const LU=ee.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:l,className:s,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:f,variant:m="selectedMenu",...v}=e,g=ee.useRef(null),S=ee.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});_a(()=>{i&&g.current.focus()},[i]),ee.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(w,{direction:T})=>{const P=!g.current.style.width;if(w.clientHeight<g.current.clientHeight&&P){const A=`${E9(Jo(w))}px`;g.current.style[T==="rtl"?"paddingLeft":"paddingRight"]=A,g.current.style.width=`calc(100% + ${A})`}return g.current}}),[]);const y=w=>{const T=g.current,P=w.key;if(w.ctrlKey||w.metaKey||w.altKey){f&&f(w);return}const F=Br(T).activeElement;if(P==="ArrowDown")w.preventDefault(),Vf(T,F,h,d,N5);else if(P==="ArrowUp")w.preventDefault(),Vf(T,F,h,d,f8);else if(P==="Home")w.preventDefault(),Vf(T,null,h,d,N5);else if(P==="End")w.preventDefault(),Vf(T,null,h,d,f8);else if(P.length===1){const E=S.current,k=P.toLowerCase(),L=performance.now();E.keys.length>0&&(L-E.lastTime>500?(E.keys=[],E.repeating=!0,E.previousKeyMatched=!0):E.repeating&&k!==E.keys[0]&&(E.repeating=!1)),E.lastTime=L,E.keys.push(k);const U=F&&!E.repeating&&eI(F,E);E.previousKeyMatched&&(U||Vf(T,F,!1,d,N5,E))?w.preventDefault():E.previousKeyMatched=!1}f&&f(w)},C=Ir(g,t);let x=-1;ee.Children.forEach(l,(w,T)=>{if(!ee.isValidElement(w)){x===T&&(x+=1,x>=l.length&&(x=-1));return}w.props.disabled||(m==="selectedMenu"&&w.props.selected||x===-1)&&(x=T),x===T&&(w.props.disabled||w.props.muiSkipListHighlight||w.type.muiSkipListHighlight)&&(x+=1,x>=l.length&&(x=-1))});const b=ee.Children.map(l,(w,T)=>{if(T===x){const P={};return o&&(P.autoFocus=!0),w.props.tabIndex===void 0&&m==="selectedMenu"&&(P.tabIndex=0),ee.cloneElement(w,P)}return w});return le.jsx(IU,{role:"menu",ref:C,className:s,onKeyDown:y,tabIndex:i?0:-1,...v,children:b})});function RU(n){return ft("MuiPopover",n)}pt("MuiPopover",["root","paper"]);function p8(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function g8(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function m8(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function U5(n){return typeof n=="function"?n():n}const AU=n=>{const{classes:e}=n;return gt({root:["root"],paper:["paper"]},RU,e)},OU=Ve(J9,{name:"MuiPopover",slot:"Root",overridesResolver:(n,e)=>e.root})({}),tI=Ve(Fg,{name:"MuiPopover",slot:"Paper",overridesResolver:(n,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),EU=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiPopover"}),{action:i,anchorEl:o,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:v=8,marginThreshold:g=16,open:S,PaperProps:y={},slots:C={},slotProps:x={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:T="auto",TransitionProps:P={},disableScrollLock:A=!1,...F}=r,E=ee.useRef(),k={...r,anchorOrigin:l,anchorReference:d,elevation:v,marginThreshold:g,transformOrigin:b,TransitionComponent:w,transitionDuration:T,TransitionProps:P},L=AU(k),U=ee.useCallback(()=>{if(d==="anchorPosition")return s;const me=U5(o),Te=(me&&me.nodeType===1?me:Br(E.current).body).getBoundingClientRect();return{top:Te.top+p8(Te,l.vertical),left:Te.left+g8(Te,l.horizontal)}},[o,l.horizontal,l.vertical,s,d]),N=ee.useCallback(me=>({vertical:p8(me,b.vertical),horizontal:g8(me,b.horizontal)}),[b.horizontal,b.vertical]),R=ee.useCallback(me=>{const be={width:me.offsetWidth,height:me.offsetHeight},Te=N(be);if(d==="none")return{top:null,left:null,transformOrigin:m8(Te)};const Ue=U();let B=Ue.top-Te.vertical,ge=Ue.left-Te.horizontal;const Se=B+be.height,Z=ge+be.width,K=Jo(U5(o)),ce=K.innerHeight-g,Ce=K.innerWidth-g;if(g!==null&&B<g){const xe=B-g;B-=xe,Te.vertical+=xe}else if(g!==null&&Se>ce){const xe=Se-ce;B-=xe,Te.vertical+=xe}if(g!==null&&ge<g){const xe=ge-g;ge-=xe,Te.horizontal+=xe}else if(Z>Ce){const xe=Z-Ce;ge-=xe,Te.horizontal+=xe}return{top:`${Math.round(B)}px`,left:`${Math.round(ge)}px`,transformOrigin:m8(Te)}},[o,d,U,N,g]),[I,_]=ee.useState(S),q=ee.useCallback(()=>{const me=E.current;if(!me)return;const be=R(me);be.top!==null&&me.style.setProperty("top",be.top),be.left!==null&&(me.style.left=be.left),me.style.transformOrigin=be.transformOrigin,_(!0)},[R]);ee.useEffect(()=>(A&&window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)),[o,A,q]);const W=()=>{q()},j=()=>{_(!1)};ee.useEffect(()=>{S&&q()}),ee.useImperativeHandle(i,()=>S?{updatePosition:()=>{q()}}:null,[S,q]),ee.useEffect(()=>{if(!S)return;const me=B3(()=>{q()}),be=Jo(o);return be.addEventListener("resize",me),()=>{me.clear(),be.removeEventListener("resize",me)}},[o,S,q]);let H=T;const X={slots:{transition:w,...C},slotProps:{transition:P,paper:y,...x}},[V,$]=er("transition",{elementType:kC,externalForwardedProps:X,ownerState:k,getSlotProps:me=>({...me,onEntering:(be,Te)=>{var Ue;(Ue=me.onEntering)==null||Ue.call(me,be,Te),W()},onExited:be=>{var Te;(Te=me.onExited)==null||Te.call(me,be),j()}}),additionalProps:{appear:!0,in:S}});T==="auto"&&!V.muiSupportAuto&&(H=void 0);const ne=m||(o?Br(U5(o)).body:void 0),[ie,{slots:te,slotProps:pe,...J}]=er("root",{ref:t,elementType:OU,externalForwardedProps:{...X,...F},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:C.backdrop},slotProps:{backdrop:NF(typeof x.backdrop=="function"?x.backdrop(k):x.backdrop,{invisible:!0})},container:ne,open:S},ownerState:k,className:Je(L.root,f)}),[oe,de]=er("paper",{ref:E,className:L.paper,elementType:tI,externalForwardedProps:X,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:I?void 0:{opacity:0}},ownerState:k});return le.jsx(ie,{...J,...!Jc(ie)&&{slots:te,slotProps:pe,disableScrollLock:A},children:le.jsx(V,{...$,timeout:H,children:le.jsx(oe,{...de,children:h})})})});function kU(n){return ft("MuiMenu",n)}pt("MuiMenu",["root","paper","list"]);const _U={vertical:"top",horizontal:"right"},FU={vertical:"top",horizontal:"left"},MU=n=>{const{classes:e}=n;return gt({root:["root"],paper:["paper"],list:["list"]},kU,e)},NU=Ve(EU,{shouldForwardProp:n=>Ma(n)||n==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(n,e)=>e.root})({}),UU=Ve(tI,{name:"MuiMenu",slot:"Paper",overridesResolver:(n,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),BU=Ve(LU,{name:"MuiMenu",slot:"List",overridesResolver:(n,e)=>e.list})({outline:0}),qU=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:o,className:l,disableAutoFocusItem:s=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:g="auto",TransitionProps:{onEntering:S,...y}={},variant:C="selectedMenu",slots:x={},slotProps:b={},...w}=r,T=G3(),P={...r,autoFocus:i,disableAutoFocusItem:s,MenuListProps:d,onEntering:S,PaperProps:m,transitionDuration:g,TransitionProps:y,variant:C},A=MU(P),F=i&&!s&&f,E=ee.useRef(null),k=(H,X)=>{E.current&&E.current.adjustStyleForScrollbar(H,{direction:T?"rtl":"ltr"}),S&&S(H,X)},L=H=>{H.key==="Tab"&&(H.preventDefault(),h&&h(H,"tabKeyDown"))};let U=-1;ee.Children.map(o,(H,X)=>{ee.isValidElement(H)&&(H.props.disabled||(C==="selectedMenu"&&H.props.selected||U===-1)&&(U=X))});const N={slots:x,slotProps:{list:d,transition:y,paper:m,...b}},R=Ja({elementType:x.root,externalSlotProps:b.root,ownerState:P,className:[A.root,l]}),[I,_]=er("paper",{className:A.paper,elementType:UU,externalForwardedProps:N,shouldForwardComponentProp:!0,ownerState:P}),[q,W]=er("list",{className:Je(A.list,d.className),elementType:BU,shouldForwardComponentProp:!0,externalForwardedProps:N,getSlotProps:H=>({...H,onKeyDown:X=>{var V;L(X),(V=H.onKeyDown)==null||V.call(H,X)}}),ownerState:P}),j=typeof N.slotProps.transition=="function"?N.slotProps.transition(P):N.slotProps.transition;return le.jsx(NU,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?_U:FU,slots:{root:x.root,paper:I,backdrop:x.backdrop,...x.transition&&{transition:x.transition}},slotProps:{root:R,paper:_,backdrop:typeof b.backdrop=="function"?b.backdrop(P):b.backdrop,transition:{...j,onEntering:(...H)=>{var X;k(...H),(X=j==null?void 0:j.onEntering)==null||X.call(j,...H)}}},open:f,ref:t,transitionDuration:g,ownerState:P,...w,classes:v,children:le.jsx(q,{actions:E,autoFocus:i&&(U===-1||s),autoFocusItem:F,variant:C,...W,children:o})})});function VU(n){return ft("MuiNativeSelect",n)}const tw=pt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),GU=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:l}=n,s={select:["select",t,r&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${Qe(t)}`,o&&"iconOpen",r&&"disabled"]};return gt(s,VU,e)},nI=Ve("select")(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${tw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),QU=Ve(nI,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ma,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${tw.multiple}`]:e.multiple}]}})({}),rI=Ve("svg")(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${tw.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),zU=Ve(rI,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Qe(t.variant)}`],t.open&&e.iconOpen]}})({}),WU=ee.forwardRef(function(e,t){const{className:r,disabled:i,error:o,IconComponent:l,inputRef:s,variant:d="standard",...h}=e,f={...e,disabled:i,variant:d,error:o},m=GU(f);return le.jsxs(ee.Fragment,{children:[le.jsx(QU,{ownerState:f,className:Je(m.select,r),disabled:i,ref:s||t,...h}),e.multiple?null:le.jsx(zU,{as:l,ownerState:f,className:m.icon})]})});var S8;const HU=Ve("fieldset",{shouldForwardProp:Ma})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jU=Ve("legend",{shouldForwardProp:Ma})(ct(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function $U(n){const{children:e,classes:t,className:r,label:i,notched:o,...l}=n,s=i!=null&&i!=="",d={...n,notched:o,withLabel:s};return le.jsx(HU,{"aria-hidden":!0,className:r,ownerState:d,...l,children:le.jsx(jU,{ownerState:d,children:s?le.jsx("span",{children:i}):S8||(S8=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const YU=n=>{const{classes:e}=n,r=gt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},VM,e);return{...e,...r}},XU=Ve(Iy,{shouldForwardProp:n=>Ma(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Ty})(ct(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${la.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${la.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${la.focused} .${la.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(tr()).map(([t])=>({props:{color:t},style:{[`&.${la.focused} .${la.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${la.error} .${la.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${la.disabled} .${la.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),KU=Ve($U,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(n,e)=>e.notchedOutline})(ct(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),ZU=Ve(Ly,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Py})(ct(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),nw=ee.forwardRef(function(e,t){var r;const i=mt({props:e,name:"MuiOutlinedInput"}),{components:o={},fullWidth:l=!1,inputComponent:s="input",label:d,multiline:h=!1,notched:f,slots:m={},type:v="text",...g}=i,S=YU(i),y=ld(),C=Jh({props:i,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x={...i,color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:y,fullWidth:l,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:v},b=m.root??o.Root??XU,w=m.input??o.Input??ZU;return le.jsx(K3,{slots:{root:b,input:w},renderSuffix:T=>le.jsx(KU,{ownerState:x,className:S.notchedOutline,label:d!=null&&d!==""&&C.required?r||(r=le.jsxs(ee.Fragment,{children:[d," ","*"]})):d,notched:typeof f<"u"?f:!!(T.startAdornment||T.filled||T.focused)}),fullWidth:l,inputComponent:s,multiline:h,ref:t,type:v,...g,classes:{...S,notchedOutline:null}})});nw.muiName="Input";function iI(n){return ft("MuiSelect",n)}const Gf=pt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var y8;const JU=Ve(nI,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${Gf.select}`]:e.select},{[`&.${Gf.select}`]:e[t.variant]},{[`&.${Gf.error}`]:e.error},{[`&.${Gf.multiple}`]:e.multiple}]}})({[`&.${Gf.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),eB=Ve(rI,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Qe(t.variant)}`],t.open&&e.iconOpen]}})({}),tB=Ve("input",{shouldForwardProp:n=>Dy(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(n,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function v8(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function nB(n){return n==null||typeof n=="string"&&!n.trim()}const rB=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:o,error:l}=n,s={select:["select",t,r&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${Qe(t)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return gt(s,iI,e)},iB=ee.forwardRef(function(e,t){var Tt;const{"aria-describedby":r,"aria-label":i,autoFocus:o,autoWidth:l,children:s,className:d,defaultOpen:h,defaultValue:f,disabled:m,displayEmpty:v,error:g=!1,IconComponent:S,inputRef:y,labelId:C,MenuProps:x={},multiple:b,name:w,onBlur:T,onChange:P,onClose:A,onFocus:F,onOpen:E,open:k,readOnly:L,renderValue:U,required:N,SelectDisplayProps:R={},tabIndex:I,type:_,value:q,variant:W="standard",...j}=e,[H,X]=wC({controlled:q,default:f,name:"Select"}),[V,$]=wC({controlled:k,default:h,name:"Select"}),ne=ee.useRef(null),ie=ee.useRef(null),[te,pe]=ee.useState(null),{current:J}=ee.useRef(k!=null),[oe,de]=ee.useState(),me=Ir(t,y),be=ee.useCallback($e=>{ie.current=$e,$e&&pe($e)},[]),Te=te==null?void 0:te.parentNode;ee.useImperativeHandle(me,()=>({focus:()=>{ie.current.focus()},node:ne.current,value:H}),[H]),ee.useEffect(()=>{h&&V&&te&&!J&&(de(l?null:Te.clientWidth),ie.current.focus())},[te,l]),ee.useEffect(()=>{o&&ie.current.focus()},[o]),ee.useEffect(()=>{if(!C)return;const $e=Br(ie.current).getElementById(C);if($e){const lt=()=>{getSelection().isCollapsed&&ie.current.focus()};return $e.addEventListener("click",lt),()=>{$e.removeEventListener("click",lt)}}},[C]);const Ue=($e,lt)=>{$e?E&&E(lt):A&&A(lt),J||(de(l?null:Te.clientWidth),$($e))},B=$e=>{$e.button===0&&($e.preventDefault(),ie.current.focus(),Ue(!0,$e))},ge=$e=>{Ue(!1,$e)},Se=ee.Children.toArray(s),Z=$e=>{const lt=Se.find(qt=>qt.props.value===$e.target.value);lt!==void 0&&(X(lt.props.value),P&&P($e,lt))},K=$e=>lt=>{let qt;if(lt.currentTarget.hasAttribute("tabindex")){if(b){qt=Array.isArray(H)?H.slice():[];const Vr=H.indexOf($e.props.value);Vr===-1?qt.push($e.props.value):qt.splice(Vr,1)}else qt=$e.props.value;if($e.props.onClick&&$e.props.onClick(lt),H!==qt&&(X(qt),P)){const Vr=lt.nativeEvent||lt,qi=new Vr.constructor(Vr.type,Vr);Object.defineProperty(qi,"target",{writable:!0,value:{value:qt,name:w}}),P(qi,$e)}b||Ue(!1,lt)}},ce=$e=>{L||[" ","ArrowUp","ArrowDown","Enter"].includes($e.key)&&($e.preventDefault(),Ue(!0,$e))},Ce=te!==null&&V,xe=$e=>{!Ce&&T&&(Object.defineProperty($e,"target",{writable:!0,value:{value:H,name:w}}),T($e))};delete j["aria-invalid"];let se,Re;const Ee=[];let he=!1;(g2({value:H})||v)&&(U?se=U(H):he=!0);const we=Se.map($e=>{if(!ee.isValidElement($e))return null;let lt;if(b){if(!Array.isArray(H))throw new Error(Qs(2));lt=H.some(qt=>v8(qt,$e.props.value)),lt&&he&&Ee.push($e.props.children)}else lt=v8(H,$e.props.value),lt&&he&&(Re=$e.props.children);return ee.cloneElement($e,{"aria-selected":lt?"true":"false",onClick:K($e),onKeyUp:qt=>{qt.key===" "&&qt.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(qt)},role:"option",selected:lt,value:void 0,"data-value":$e.props.value})});he&&(b?Ee.length===0?se=null:se=Ee.reduce(($e,lt,qt)=>($e.push(lt),qt<Ee.length-1&&$e.push(", "),$e),[]):se=Re);let Me=oe;!l&&J&&te&&(Me=Te.clientWidth);let Oe;typeof I<"u"?Oe=I:Oe=m?null:0;const ze=R.id||(w?`mui-component-select-${w}`:void 0),Be={...e,variant:W,value:H,open:Ce,error:g},Ge=rB(Be),tt={...x.PaperProps,...(Tt=x.slotProps)==null?void 0:Tt.paper},We=wy();return le.jsxs(ee.Fragment,{children:[le.jsx(JU,{as:"div",ref:be,tabIndex:Oe,role:"combobox","aria-controls":Ce?We:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":Ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[C,ze].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":N?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:ce,onMouseDown:m||L?null:B,onBlur:xe,onFocus:F,...R,ownerState:Be,className:Je(R.className,Ge.select,d),id:ze,children:nB(se)?y8||(y8=le.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):se}),le.jsx(tB,{"aria-invalid":g,value:Array.isArray(H)?H.join(","):H,name:w,ref:ne,"aria-hidden":!0,onChange:Z,tabIndex:-1,disabled:m,className:Ge.nativeInput,autoFocus:o,required:N,...j,ownerState:Be}),le.jsx(eB,{as:S,className:Ge.icon,ownerState:Be}),le.jsx(qU,{id:`menu-${w||""}`,anchorEl:Te,open:Ce,onClose:ge,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...x,slotProps:{...x.slotProps,list:{"aria-labelledby":C,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:We,...x.MenuListProps},paper:{...tt,style:{minWidth:Me,...tt!=null?tt.style:null}}},children:we})]})}),oB=n=>{const{classes:e}=n,r=gt({root:["root"]},iI,e);return{...e,...r}},rw={name:"MuiSelect",overridesResolver:(n,e)=>e.root,shouldForwardProp:n=>Ma(n)&&n!=="variant",slot:"Root"},aB=Ve(J3,rw)(""),sB=Ve(nw,rw)(""),lB=Ve(Z3,rw)(""),oI=ee.forwardRef(function(e,t){const r=mt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:l={},className:s,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:f=QM,id:m,input:v,inputProps:g,label:S,labelId:y,MenuProps:C,multiple:x=!1,native:b=!1,onClose:w,onOpen:T,open:P,renderValue:A,SelectDisplayProps:F,variant:E="outlined",...k}=r,L=b?WU:iB,U=ld(),N=Jh({props:r,muiFormControl:U,states:["variant","error"]}),R=N.variant||E,I={...r,variant:R,classes:l},_=oB(I),{root:q,...W}=_,j=v||{standard:le.jsx(aB,{ownerState:I}),outlined:le.jsx(sB,{label:S,ownerState:I}),filled:le.jsx(lB,{ownerState:I})}[R],H=Ir(t,Kh(j));return le.jsx(ee.Fragment,{children:ee.cloneElement(j,{inputComponent:L,inputProps:{children:o,error:N.error,IconComponent:f,variant:R,type:void 0,multiple:x,...b?{id:m}:{autoWidth:i,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:C,onClose:w,onOpen:T,open:P,renderValue:A,SelectDisplayProps:{id:m,...F}},...g,classes:g?ar(W,g.classes):W,...v?v.props.inputProps:{}},...(x&&b||h)&&R==="outlined"?{notched:!0}:{},ref:H,className:Je(j.props.className,s,_.root),...!v&&{variant:R},...k})})});oI.muiName="Select";function uB(n,e,t=(r,i)=>r===i){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}const cB=2;function Ud(n,e,t,r,i){return t===1?Math.min(n+e,i):Math.max(n-e,r)}function aI(n,e){return n-e}function C8(n,e){const{index:t}=n.reduce((r,i,o)=>{const l=Math.abs(e-i);return r===null||l<r.distance||l===r.distance?{distance:l,index:o}:r},null)??{};return t}function Jm(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let r=0;r<t.changedTouches.length;r+=1){const i=t.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function m2(n,e,t){return(n-e)*100/(t-e)}function dB(n,e,t){return(t-e)*n+e}function hB(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function fB(n,e,t){const r=Math.round((n-t)/e)*e+t;return Number(r.toFixed(hB(e)))}function w8({values:n,newValue:e,index:t}){const r=n.slice();return r[t]=e,r.sort(aI)}function eS({sliderRef:n,activeIndex:e,setActive:t}){var i,o,l;const r=Br(n.current);(!((i=n.current)!=null&&i.contains(r.activeElement))||Number((o=r==null?void 0:r.activeElement)==null?void 0:o.getAttribute("data-index"))!==e)&&((l=n.current)==null||l.querySelector(`[type="range"][data-index="${e}"]`).focus()),t&&t(e)}function tS(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?uB(n,e):!1}const pB={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},gB=n=>n;let nS;function b8(){return nS===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?nS=CSS.supports("touch-action","none"):nS=!0),nS}function mB(n){const{"aria-labelledby":e,defaultValue:t,disabled:r=!1,disableSwap:i=!1,isRtl:o=!1,marks:l=!1,max:s=100,min:d=0,name:h,onChange:f,onChangeCommitted:m,orientation:v="horizontal",rootRef:g,scale:S=gB,step:y=1,shiftStep:C=10,tabIndex:x,value:b}=n,w=ee.useRef(void 0),[T,P]=ee.useState(-1),[A,F]=ee.useState(-1),[E,k]=ee.useState(!1),L=ee.useRef(0),U=ee.useRef(null),[N,R]=wC({controlled:b,default:t??d,name:"Slider"}),I=f&&((he,we,Me)=>{const Oe=he.nativeEvent||he,ze=new Oe.constructor(Oe.type,Oe);Object.defineProperty(ze,"target",{writable:!0,value:{value:we,name:h}}),U.current=we,f(ze,we,Me)}),_=Array.isArray(N);let q=_?N.slice().sort(aI):[N];q=q.map(he=>he==null?d:qd(he,d,s));const W=l===!0&&y!==null?[...Array(Math.floor((s-d)/y)+1)].map((he,we)=>({value:d+y*we})):l||[],j=W.map(he=>he.value),[H,X]=ee.useState(-1),V=ee.useRef(null),$=Ir(g,V),ne=he=>we=>{var Oe;const Me=Number(we.currentTarget.getAttribute("data-index"));Vh(we.target)&&X(Me),F(Me),(Oe=he==null?void 0:he.onFocus)==null||Oe.call(he,we)},ie=he=>we=>{var Me;Vh(we.target)||X(-1),F(-1),(Me=he==null?void 0:he.onBlur)==null||Me.call(he,we)},te=(he,we)=>{const Me=Number(he.currentTarget.getAttribute("data-index")),Oe=q[Me],ze=j.indexOf(Oe);let Be=we;if(W&&y==null){const Ge=j[j.length-1];Be>=Ge?Be=Ge:Be<=j[0]?Be=j[0]:Be=Be<Oe?j[ze-1]:j[ze+1]}if(Be=qd(Be,d,s),_){i&&(Be=qd(Be,q[Me-1]||-1/0,q[Me+1]||1/0));const Ge=Be;Be=w8({values:q,newValue:Be,index:Me});let tt=Me;i||(tt=Be.indexOf(Ge)),eS({sliderRef:V,activeIndex:tt})}R(Be),X(Me),I&&!tS(Be,N)&&I(he,Be,Me),m&&m(he,U.current??Be)},pe=he=>we=>{var Me;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(we.key)){we.preventDefault();const Oe=Number(we.currentTarget.getAttribute("data-index")),ze=q[Oe];let Be=null;if(y!=null){const Ge=we.shiftKey?C:y;switch(we.key){case"ArrowUp":Be=Ud(ze,Ge,1,d,s);break;case"ArrowRight":Be=Ud(ze,Ge,o?-1:1,d,s);break;case"ArrowDown":Be=Ud(ze,Ge,-1,d,s);break;case"ArrowLeft":Be=Ud(ze,Ge,o?1:-1,d,s);break;case"PageUp":Be=Ud(ze,C,1,d,s);break;case"PageDown":Be=Ud(ze,C,-1,d,s);break;case"Home":Be=d;break;case"End":Be=s;break}}else if(W){const Ge=j[j.length-1],tt=j.indexOf(ze),We=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Tt=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];We.includes(we.key)?tt===0?Be=j[0]:Be=j[tt-1]:Tt.includes(we.key)&&(tt===j.length-1?Be=Ge:Be=j[tt+1])}Be!=null&&te(we,Be)}(Me=he==null?void 0:he.onKeyDown)==null||Me.call(he,we)};_a(()=>{var he;r&&V.current.contains(document.activeElement)&&((he=document.activeElement)==null||he.blur())},[r]),r&&T!==-1&&P(-1),r&&H!==-1&&X(-1);const J=he=>we=>{var Me;(Me=he.onChange)==null||Me.call(he,we),te(we,we.target.valueAsNumber)},oe=ee.useRef(void 0);let de=v;o&&v==="horizontal"&&(de+="-reverse");const me=({finger:he,move:we=!1})=>{const{current:Me}=V,{width:Oe,height:ze,bottom:Be,left:Ge}=Me.getBoundingClientRect();let tt;de.startsWith("vertical")?tt=(Be-he.y)/ze:tt=(he.x-Ge)/Oe,de.includes("-reverse")&&(tt=1-tt);let We;if(We=dB(tt,d,s),y)We=fB(We,y,d);else{const $e=C8(j,We);We=j[$e]}We=qd(We,d,s);let Tt=0;if(_){we?Tt=oe.current:Tt=C8(q,We),i&&(We=qd(We,q[Tt-1]||-1/0,q[Tt+1]||1/0));const $e=We;We=w8({values:q,newValue:We,index:Tt}),i&&we||(Tt=We.indexOf($e),oe.current=Tt)}return{newValue:We,activeIndex:Tt}},be=ka(he=>{const we=Jm(he,w);if(!we)return;if(L.current+=1,he.type==="mousemove"&&he.buttons===0){Te(he);return}const{newValue:Me,activeIndex:Oe}=me({finger:we,move:!0});eS({sliderRef:V,activeIndex:Oe,setActive:P}),R(Me),!E&&L.current>cB&&k(!0),I&&!tS(Me,N)&&I(he,Me,Oe)}),Te=ka(he=>{const we=Jm(he,w);if(k(!1),!we)return;const{newValue:Me}=me({finger:we,move:!0});P(-1),he.type==="touchend"&&F(-1),m&&m(he,U.current??Me),w.current=void 0,B()}),Ue=ka(he=>{if(r)return;b8()||he.preventDefault();const we=he.changedTouches[0];we!=null&&(w.current=we.identifier);const Me=Jm(he,w);if(Me!==!1){const{newValue:ze,activeIndex:Be}=me({finger:Me});eS({sliderRef:V,activeIndex:Be,setActive:P}),R(ze),I&&!tS(ze,N)&&I(he,ze,Be)}L.current=0;const Oe=Br(V.current);Oe.addEventListener("touchmove",be,{passive:!0}),Oe.addEventListener("touchend",Te,{passive:!0})}),B=ee.useCallback(()=>{const he=Br(V.current);he.removeEventListener("mousemove",be),he.removeEventListener("mouseup",Te),he.removeEventListener("touchmove",be),he.removeEventListener("touchend",Te)},[Te,be]);ee.useEffect(()=>{const{current:he}=V;return he.addEventListener("touchstart",Ue,{passive:b8()}),()=>{he.removeEventListener("touchstart",Ue),B()}},[B,Ue]),ee.useEffect(()=>{r&&B()},[r,B]);const ge=he=>we=>{var ze;if((ze=he.onMouseDown)==null||ze.call(he,we),r||we.defaultPrevented||we.button!==0)return;we.preventDefault();const Me=Jm(we,w);if(Me!==!1){const{newValue:Be,activeIndex:Ge}=me({finger:Me});eS({sliderRef:V,activeIndex:Ge,setActive:P}),R(Be),I&&!tS(Be,N)&&I(we,Be,Ge)}L.current=0;const Oe=Br(V.current);Oe.addEventListener("mousemove",be,{passive:!0}),Oe.addEventListener("mouseup",Te)},Se=m2(_?q[0]:d,d,s),Z=m2(q[q.length-1],d,s)-Se,K=(he={})=>{const we=j1(he),Me={onMouseDown:ge(we||{})},Oe={...we,...Me};return{...he,ref:$,...Oe}},ce=he=>we=>{var Oe;(Oe=he.onMouseOver)==null||Oe.call(he,we);const Me=Number(we.currentTarget.getAttribute("data-index"));F(Me)},Ce=he=>we=>{var Me;(Me=he.onMouseLeave)==null||Me.call(he,we),F(-1)},xe=(he={})=>{const we=j1(he),Me={onMouseOver:ce(we||{}),onMouseLeave:Ce(we||{})};return{...he,...we,...Me}},se=he=>({pointerEvents:T!==-1&&T!==he?"none":void 0});let Re;return v==="vertical"&&(Re=o?"vertical-rl":"vertical-lr"),{active:T,axis:de,axisProps:pB,dragging:E,focusedThumbIndex:H,getHiddenInputProps:(he={})=>{const we=j1(he),Me={onChange:J(we||{}),onFocus:ne(we||{}),onBlur:ie(we||{}),onKeyDown:pe(we||{})},Oe={...we,...Me};return{tabIndex:x,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(s),"aria-valuemin":S(d),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:r,...he,...Oe,style:{...D_,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Re}}},getRootProps:K,getThumbProps:xe,marks:W,open:A,range:_,rootRef:$,trackLeap:Z,trackOffset:Se,values:q,getThumbStyle:se}}const SB=n=>!n||!Jc(n);function yB(n){return ft("MuiSlider",n)}const Do=pt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),vB=n=>{const{open:e}=n;return{offset:Je(e&&Do.valueLabelOpen),circle:Do.valueLabelCircle,label:Do.valueLabelLabel}};function CB(n){const{children:e,className:t,value:r}=n,i=vB(n);return e?ee.cloneElement(e,{className:Je(e.props.className)},le.jsxs(ee.Fragment,{children:[e.props.children,le.jsx("span",{className:Je(i.offset,t),"aria-hidden":!0,children:le.jsx("span",{className:i.circle,children:le.jsx("span",{className:i.label,children:r})})})]})):null}function D8(n){return n}const wB=Ve("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Qe(t.color)}`],t.size!=="medium"&&e[`size${Qe(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(ct(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Do.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${Do.dragging}`]:{[`& .${Do.thumb}, & .${Do.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),bB=Ve("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(n,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),DB=Ve("span",{name:"MuiSlider",slot:"Track",overridesResolver:(n,e)=>e.track})(ct(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:id(n.palette[e].main,.62),borderColor:id(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:rd(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:rd(n.palette[e].main,.5)})}}}))]}))),xB=Ve("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Qe(t.color)}`],t.size!=="medium"&&e[`thumbSize${Qe(t.size)}`]]}})(ct(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Do.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${Do.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${xn(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${Do.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${xn(n.palette[e].main,.16)}`}}}}))]}))),TB=Ve(CB,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(n,e)=>e.valueLabel})(ct(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Do.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Do.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),PB=Ve("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Dy(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(ct(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),IB=Ve("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Dy(n)&&n!=="markLabelActive",overridesResolver:(n,e)=>e.markLabel})(ct(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),LB=n=>{const{disabled:e,dragging:t,marked:r,orientation:i,track:o,classes:l,color:s,size:d}=n,h={root:["root",e&&"disabled",t&&"dragging",r&&"marked",i==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",s&&`color${Qe(s)}`,d&&`size${Qe(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${Qe(d)}`,s&&`thumbColor${Qe(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return gt(h,yB,l)},RB=({children:n})=>n,AB=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiSlider"}),i=G3(),{"aria-label":o,"aria-valuetext":l,"aria-labelledby":s,component:d="span",components:h={},componentsProps:f={},color:m="primary",classes:v,className:g,disableSwap:S=!1,disabled:y=!1,getAriaLabel:C,getAriaValueText:x,marks:b=!1,max:w=100,min:T=0,name:P,onChange:A,onChangeCommitted:F,orientation:E="horizontal",shiftStep:k=10,size:L="medium",step:U=1,scale:N=D8,slotProps:R,slots:I,tabIndex:_,track:q="normal",value:W,valueLabelDisplay:j="off",valueLabelFormat:H=D8,...X}=r,V={...r,isRtl:i,max:w,min:T,classes:v,disabled:y,disableSwap:S,orientation:E,marks:b,color:m,size:L,step:U,shiftStep:k,scale:N,track:q,valueLabelDisplay:j,valueLabelFormat:H},{axisProps:$,getRootProps:ne,getHiddenInputProps:ie,getThumbProps:te,open:pe,active:J,axis:oe,focusedThumbIndex:de,range:me,dragging:be,marks:Te,values:Ue,trackOffset:B,trackLeap:ge,getThumbStyle:Se}=mB({...V,rootRef:t});V.marked=Te.length>0&&Te.some(It=>It.label),V.dragging=be,V.focusedThumbIndex=de;const Z=LB(V),K=(I==null?void 0:I.root)??h.Root??wB,ce=(I==null?void 0:I.rail)??h.Rail??bB,Ce=(I==null?void 0:I.track)??h.Track??DB,xe=(I==null?void 0:I.thumb)??h.Thumb??xB,se=(I==null?void 0:I.valueLabel)??h.ValueLabel??TB,Re=(I==null?void 0:I.mark)??h.Mark??PB,Ee=(I==null?void 0:I.markLabel)??h.MarkLabel??IB,he=(I==null?void 0:I.input)??h.Input??"input",we=(R==null?void 0:R.root)??f.root,Me=(R==null?void 0:R.rail)??f.rail,Oe=(R==null?void 0:R.track)??f.track,ze=(R==null?void 0:R.thumb)??f.thumb,Be=(R==null?void 0:R.valueLabel)??f.valueLabel,Ge=(R==null?void 0:R.mark)??f.mark,tt=(R==null?void 0:R.markLabel)??f.markLabel,We=(R==null?void 0:R.input)??f.input,Tt=Ja({elementType:K,getSlotProps:ne,externalSlotProps:we,externalForwardedProps:X,additionalProps:{...SB(K)&&{as:d}},ownerState:{...V,...we==null?void 0:we.ownerState},className:[Z.root,g]}),$e=Ja({elementType:ce,externalSlotProps:Me,ownerState:V,className:Z.rail}),lt=Ja({elementType:Ce,externalSlotProps:Oe,additionalProps:{style:{...$[oe].offset(B),...$[oe].leap(ge)}},ownerState:{...V,...Oe==null?void 0:Oe.ownerState},className:Z.track}),qt=Ja({elementType:xe,getSlotProps:te,externalSlotProps:ze,ownerState:{...V,...ze==null?void 0:ze.ownerState},className:Z.thumb}),Vr=Ja({elementType:se,externalSlotProps:Be,ownerState:{...V,...Be==null?void 0:Be.ownerState},className:Z.valueLabel}),qi=Ja({elementType:Re,externalSlotProps:Ge,ownerState:V,className:Z.mark}),Na=Ja({elementType:Ee,externalSlotProps:tt,ownerState:V,className:Z.markLabel}),Io=Ja({elementType:he,getSlotProps:ie,externalSlotProps:We,ownerState:V});return le.jsxs(K,{...Tt,children:[le.jsx(ce,{...$e}),le.jsx(Ce,{...lt}),Te.filter(It=>It.value>=T&&It.value<=w).map((It,Kt)=>{const ud=m2(It.value,T,w),bu=$[oe].offset(ud);let Vi;return q===!1?Vi=Ue.includes(It.value):Vi=q==="normal"&&(me?It.value>=Ue[0]&&It.value<=Ue[Ue.length-1]:It.value<=Ue[0])||q==="inverted"&&(me?It.value<=Ue[0]||It.value>=Ue[Ue.length-1]:It.value>=Ue[0]),le.jsxs(ee.Fragment,{children:[le.jsx(Re,{"data-index":Kt,...qi,...!Jc(Re)&&{markActive:Vi},style:{...bu,...qi.style},className:Je(qi.className,Vi&&Z.markActive)}),It.label!=null?le.jsx(Ee,{"aria-hidden":!0,"data-index":Kt,...Na,...!Jc(Ee)&&{markLabelActive:Vi},style:{...bu,...Na.style},className:Je(Z.markLabel,Na.className,Vi&&Z.markLabelActive),children:It.label}):null]},Kt)}),Ue.map((It,Kt)=>{const ud=m2(It,T,w),bu=$[oe].offset(ud),Vi=j==="off"?RB:se;return le.jsx(Vi,{...!Jc(Vi)&&{valueLabelFormat:H,valueLabelDisplay:j,value:typeof H=="function"?H(N(It),Kt):H,index:Kt,open:pe===Kt||J===Kt||j==="on",disabled:y},...Vr,children:le.jsx(xe,{"data-index":Kt,...qt,className:Je(Z.thumb,qt.className,J===Kt&&Z.active,de===Kt&&Z.focusVisible),style:{...bu,...Se(Kt),...qt.style},children:le.jsx(he,{"data-index":Kt,"aria-label":C?C(Kt):o,"aria-valuenow":N(It),"aria-labelledby":s,"aria-valuetext":x?x(N(It),Kt):l,value:Ue[Kt],...Io})})},Kt)})]})}),sI=J_({createStyledComponent:Ve("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root}),useThemeProps:n=>mt({props:n,name:"MuiStack"})}),lI=ee.createContext();function OB(n){return ft("MuiTable",n)}pt("MuiTable",["root","stickyHeader"]);const EB=n=>{const{classes:e,stickyHeader:t}=n;return gt({root:["root",t&&"stickyHeader"]},OB,e)},kB=Ve("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(ct(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),x8="table",_B=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTable"}),{className:i,component:o=x8,padding:l="normal",size:s="medium",stickyHeader:d=!1,...h}=r,f={...r,component:o,padding:l,size:s,stickyHeader:d},m=EB(f),v=ee.useMemo(()=>({padding:l,size:s,stickyHeader:d}),[l,s,d]);return le.jsx(lI.Provider,{value:v,children:le.jsx(kB,{as:o,role:o===x8?null:"table",ref:t,className:Je(m.root,i),ownerState:f,...h})})}),Ry=ee.createContext();function FB(n){return ft("MuiTableBody",n)}pt("MuiTableBody",["root"]);const MB=n=>{const{classes:e}=n;return gt({root:["root"]},FB,e)},NB=Ve("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-row-group"}),UB={variant:"body"},T8="tbody",BB=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTableBody"}),{className:i,component:o=T8,...l}=r,s={...r,component:o},d=MB(s);return le.jsx(Ry.Provider,{value:UB,children:le.jsx(NB,{className:Je(d.root,i),as:o,ref:t,role:o===T8?null:"rowgroup",ownerState:s,...l})})});function qB(n){return ft("MuiTableCell",n)}const VB=pt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),GB=n=>{const{classes:e,variant:t,align:r,padding:i,size:o,stickyHeader:l}=n,s={root:["root",t,l&&"stickyHeader",r!=="inherit"&&`align${Qe(r)}`,i!=="normal"&&`padding${Qe(i)}`,`size${Qe(o)}`]};return gt(s,qB,e)},QB=Ve("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Qe(t.size)}`],t.padding!=="normal"&&e[`padding${Qe(t.padding)}`],t.align!=="inherit"&&e[`align${Qe(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(ct(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?id(xn(n.palette.divider,1),.88):rd(xn(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${VB.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),rS=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:l,padding:s,scope:d,size:h,sortDirection:f,variant:m,...v}=r,g=ee.useContext(lI),S=ee.useContext(Ry),y=S&&S.variant==="head";let C;l?C=l:C=y?"th":"td";let x=d;C==="td"?x=void 0:!x&&y&&(x="col");const b=m||S&&S.variant,w={...r,align:i,component:C,padding:s||(g&&g.padding?g.padding:"normal"),size:h||(g&&g.size?g.size:"medium"),sortDirection:f,stickyHeader:b==="head"&&g&&g.stickyHeader,variant:b},T=GB(w);let P=null;return f&&(P=f==="asc"?"ascending":"descending"),le.jsx(QB,{as:C,ref:t,className:Je(T.root,o),"aria-sort":P,scope:x,ownerState:w,...v})});function zB(n){return ft("MuiTableContainer",n)}pt("MuiTableContainer",["root"]);const WB=n=>{const{classes:e}=n;return gt({root:["root"]},zB,e)},HB=Ve("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(n,e)=>e.root})({width:"100%",overflowX:"auto"}),jB=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTableContainer"}),{className:i,component:o="div",...l}=r,s={...r,component:o},d=WB(s);return le.jsx(HB,{ref:t,as:o,className:Je(d.root,i),ownerState:s,...l})});function $B(n){return ft("MuiTableHead",n)}pt("MuiTableHead",["root"]);const YB=n=>{const{classes:e}=n;return gt({root:["root"]},$B,e)},XB=Ve("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"table-header-group"}),KB={variant:"head"},P8="thead",ZB=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTableHead"}),{className:i,component:o=P8,...l}=r,s={...r,component:o},d=YB(s);return le.jsx(Ry.Provider,{value:KB,children:le.jsx(XB,{as:o,className:Je(d.root,i),ref:t,role:o===P8?null:"rowgroup",ownerState:s,...l})})});function JB(n){return ft("MuiToolbar",n)}pt("MuiToolbar",["root","gutters","regular","dense"]);const eq=n=>{const{classes:e,disableGutters:t,variant:r}=n;return gt({root:["root",!t&&"gutters",r]},JB,e)},tq=Ve("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(ct(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),nq=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:l=!1,variant:s="regular",...d}=r,h={...r,component:o,disableGutters:l,variant:s},f=eq(h);return le.jsx(tq,{as:o,className:Je(f.root,i),ref:t,ownerState:h,...d})});function rq(n){return ft("MuiTableRow",n)}const I8=pt("MuiTableRow",["root","selected","hover","head","footer"]),iq=n=>{const{classes:e,selected:t,hover:r,head:i,footer:o}=n;return gt({root:["root",t&&"selected",r&&"hover",i&&"head",o&&"footer"]},rq,e)},oq=Ve("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(ct(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${I8.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${I8.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:xn(n.palette.primary.main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:xn(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)}}}))),L8="tr",R8=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTableRow"}),{className:i,component:o=L8,hover:l=!1,selected:s=!1,...d}=r,h=ee.useContext(Ry),f={...r,component:o,hover:l,selected:s,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},m=iq(f);return le.jsx(oq,{as:o,ref:t,className:Je(m.root,i),role:o===L8?null:"row",ownerState:f,...d})});function aq(n){return ft("MuiTextField",n)}pt("MuiTextField",["root"]);const sq={standard:J3,filled:Z3,outlined:nw},lq=n=>{const{classes:e}=n;return gt({root:["root"]},aq,e)},uq=Ve(UN,{name:"MuiTextField",slot:"Root",overridesResolver:(n,e)=>e.root})({}),cq=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:l,className:s,color:d="primary",defaultValue:h,disabled:f=!1,error:m=!1,FormHelperTextProps:v,fullWidth:g=!1,helperText:S,id:y,InputLabelProps:C,inputProps:x,InputProps:b,inputRef:w,label:T,maxRows:P,minRows:A,multiline:F=!1,name:E,onBlur:k,onChange:L,onFocus:U,placeholder:N,required:R=!1,rows:I,select:_=!1,SelectProps:q,slots:W={},slotProps:j={},type:H,value:X,variant:V="outlined",...$}=r,ne={...r,autoFocus:o,color:d,disabled:f,error:m,fullWidth:g,multiline:F,required:R,select:_,variant:V},ie=lq(ne),te=wy(y),pe=S&&te?`${te}-helper-text`:void 0,J=T&&te?`${te}-label`:void 0,oe=sq[V],de={slots:W,slotProps:{input:b,inputLabel:C,htmlInput:x,formHelperText:v,select:q,...j}},me={},be=de.slotProps.inputLabel;V==="outlined"&&(be&&typeof be.shrink<"u"&&(me.notched=be.shrink),me.label=T),_&&((!q||!q.native)&&(me.id=void 0),me["aria-describedby"]=void 0);const[Te,Ue]=er("input",{elementType:oe,externalForwardedProps:de,additionalProps:me,ownerState:ne}),[B,ge]=er("inputLabel",{elementType:sU,externalForwardedProps:de,ownerState:ne}),[Se,Z]=er("htmlInput",{elementType:"input",externalForwardedProps:de,ownerState:ne}),[K,ce]=er("formHelperText",{elementType:GN,externalForwardedProps:de,ownerState:ne}),[Ce,xe]=er("select",{elementType:oI,externalForwardedProps:de,ownerState:ne}),se=le.jsx(Te,{"aria-describedby":pe,autoComplete:i,autoFocus:o,defaultValue:h,fullWidth:g,multiline:F,name:E,rows:I,maxRows:P,minRows:A,type:H,value:X,id:te,inputRef:w,onBlur:k,onChange:L,onFocus:U,placeholder:N,inputProps:Z,slots:{input:W.htmlInput?Se:void 0},...Ue});return le.jsxs(uq,{className:Je(ie.root,s),disabled:f,error:m,fullWidth:g,ref:t,required:R,color:d,variant:V,ownerState:ne,...$,children:[T!=null&&T!==""&&le.jsx(B,{htmlFor:te,id:J,...ge,children:T}),_?le.jsx(Ce,{"aria-describedby":pe,id:te,labelId:J,value:X,input:se,...xe,children:l}):se,S&&le.jsx(K,{id:pe,...ce,children:S})]})});function dq(n){return ft("MuiToggleButton",n)}const Ku=pt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),uI=ee.createContext({}),cI=ee.createContext(void 0);function hq(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const fq=n=>{const{classes:e,fullWidth:t,selected:r,disabled:i,size:o,color:l}=n,s={root:["root",r&&"selected",i&&"disabled",t&&"fullWidth",`size${Qe(o)}`,l]};return gt(s,dq,e)},pq=Ve(X9,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Qe(t.size)}`]]}})(ct(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${Ku.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:xn(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Ku.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:xn(n.palette.text.primary,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:xn(n.palette.text.primary,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.selectedOpacity})`:xn(n.palette.text.primary,n.palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(tr()).map(([e])=>({props:{color:e},style:{[`&.${Ku.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:xn(n.palette[e].main,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:xn(n.palette[e].main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.selectedOpacity})`:xn(n.palette[e].main,n.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),iS=ee.forwardRef(function(e,t){const{value:r,...i}=ee.useContext(uI),o=ee.useContext(cI),l=op({...i,selected:hq(e.value,r)},e),s=mt({props:l,name:"MuiToggleButton"}),{children:d,className:h,color:f="standard",disabled:m=!1,disableFocusRipple:v=!1,fullWidth:g=!1,onChange:S,onClick:y,selected:C,size:x="medium",value:b,...w}=s,T={...s,color:f,disabled:m,disableFocusRipple:v,fullWidth:g,size:x},P=fq(T),A=E=>{y&&(y(E,b),E.defaultPrevented)||S&&S(E,b)},F=o||"";return le.jsx(pq,{className:Je(i.className,P.root,h,F),disabled:m,focusRipple:!v,ref:t,onClick:A,onChange:S,value:b,ownerState:T,"aria-pressed":C,...w,children:d})});function gq(n){return ft("MuiToggleButtonGroup",n)}const en=pt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),mq=n=>{const{classes:e,orientation:t,fullWidth:r,disabled:i}=n,o={root:["root",t,r&&"fullWidth"],grouped:["grouped",`grouped${Qe(t)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return gt(o,gq,e)},Sq=Ve("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${en.grouped}`]:e.grouped},{[`& .${en.grouped}`]:e[`grouped${Qe(t.orientation)}`]},{[`& .${en.firstButton}`]:e.firstButton},{[`& .${en.lastButton}`]:e.lastButton},{[`& .${en.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(ct(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${en.grouped}`]:{[`&.${en.selected} + .${en.grouped}.${en.selected}`]:{borderTop:0,marginTop:0}},[`& .${en.firstButton},& .${en.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${en.lastButton},& .${en.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${en.lastButton}.${Ku.disabled},& .${en.middleButton}.${Ku.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${en.grouped}`]:{[`&.${en.selected} + .${en.grouped}.${en.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${en.firstButton},& .${en.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${en.lastButton},& .${en.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${en.lastButton}.${Ku.disabled},& .${en.middleButton}.${Ku.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),yq=ee.forwardRef(function(e,t){const r=mt({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:o,color:l="standard",disabled:s=!1,exclusive:d=!1,fullWidth:h=!1,onChange:f,orientation:m="horizontal",size:v="medium",value:g,...S}=r,y={...r,disabled:s,fullWidth:h,orientation:m,size:v},C=mq(y),x=ee.useCallback((F,E)=>{if(!f)return;const k=g&&g.indexOf(E);let L;g&&k>=0?(L=g.slice(),L.splice(k,1)):L=g?g.concat(E):[E],f(F,L)},[f,g]),b=ee.useCallback((F,E)=>{f&&f(F,g===E?null:E)},[f,g]),w=ee.useMemo(()=>({className:C.grouped,onChange:d?b:x,value:g,size:v,fullWidth:h,color:l,disabled:s}),[C.grouped,d,b,x,g,v,h,l,s]),T=b_(i),P=T.length,A=F=>{const E=F===0,k=F===P-1;return E&&k?"":E?C.firstButton:k?C.lastButton:C.middleButton};return le.jsx(Sq,{role:"group",className:Je(C.root,o),ref:t,ownerState:y,...S,children:le.jsx(uI.Provider,{value:w,children:T.map((F,E)=>le.jsx(cI.Provider,{value:A(E),children:F},E))})})});var PS={exports:{}},Qf={},B5={},q5={},A8;function vt(){return A8||(A8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof Wd<"u"?Wd:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.20",isBrowser:t(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return n.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var i;return(i=n.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(i){n.glob.Konva=i}};const r=i=>{n.Konva[i.prototype.getClassName()]=i};n._registerNode=r,n.Konva._injectGlobal(n.Konva)}(q5)),q5}var V5={},O8;function In(){return O8||(O8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=vt();class t{constructor(T=[1,0,0,1,0,0]){this.dirty=!1,this.m=T&&T.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(T){T.m[0]=this.m[0],T.m[1]=this.m[1],T.m[2]=this.m[2],T.m[3]=this.m[3],T.m[4]=this.m[4],T.m[5]=this.m[5]}point(T){const P=this.m;return{x:P[0]*T.x+P[2]*T.y+P[4],y:P[1]*T.x+P[3]*T.y+P[5]}}translate(T,P){return this.m[4]+=this.m[0]*T+this.m[2]*P,this.m[5]+=this.m[1]*T+this.m[3]*P,this}scale(T,P){return this.m[0]*=T,this.m[1]*=T,this.m[2]*=P,this.m[3]*=P,this}rotate(T){const P=Math.cos(T),A=Math.sin(T),F=this.m[0]*P+this.m[2]*A,E=this.m[1]*P+this.m[3]*A,k=this.m[0]*-A+this.m[2]*P,L=this.m[1]*-A+this.m[3]*P;return this.m[0]=F,this.m[1]=E,this.m[2]=k,this.m[3]=L,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(T,P){const A=this.m[0]+this.m[2]*P,F=this.m[1]+this.m[3]*P,E=this.m[2]+this.m[0]*T,k=this.m[3]+this.m[1]*T;return this.m[0]=A,this.m[1]=F,this.m[2]=E,this.m[3]=k,this}multiply(T){const P=this.m[0]*T.m[0]+this.m[2]*T.m[1],A=this.m[1]*T.m[0]+this.m[3]*T.m[1],F=this.m[0]*T.m[2]+this.m[2]*T.m[3],E=this.m[1]*T.m[2]+this.m[3]*T.m[3],k=this.m[0]*T.m[4]+this.m[2]*T.m[5]+this.m[4],L=this.m[1]*T.m[4]+this.m[3]*T.m[5]+this.m[5];return this.m[0]=P,this.m[1]=A,this.m[2]=F,this.m[3]=E,this.m[4]=k,this.m[5]=L,this}invert(){const T=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),P=this.m[3]*T,A=-this.m[1]*T,F=-this.m[2]*T,E=this.m[0]*T,k=T*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),L=T*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=P,this.m[1]=A,this.m[2]=F,this.m[3]=E,this.m[4]=k,this.m[5]=L,this}getMatrix(){return this.m}decompose(){const T=this.m[0],P=this.m[1],A=this.m[2],F=this.m[3],E=this.m[4],k=this.m[5],L=T*F-P*A,U={x:E,y:k,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(T!=0||P!=0){const N=Math.sqrt(T*T+P*P);U.rotation=P>0?Math.acos(T/N):-Math.acos(T/N),U.scaleX=N,U.scaleY=L/N,U.skewX=(T*A+P*F)/L,U.skewY=0}else if(A!=0||F!=0){const N=Math.sqrt(A*A+F*F);U.rotation=Math.PI/2-(F>0?Math.acos(-A/N):-Math.acos(A/N)),U.scaleX=L/N,U.scaleY=N,U.skewX=0,U.skewY=(T*A+P*F)/L}return U.rotation=n.Util._getRotation(U.rotation),U}}n.Transform=t;const r="[object Array]",i="[object Number]",o="[object String]",l="[object Boolean]",s=Math.PI/180,d=180/Math.PI,h="#",f="",m="0",v="Konva warning: ",g="Konva error: ",S="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let x=[];const b=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(w){setTimeout(w,60)};n.Util={_isElement(w){return!!(w&&w.nodeType==1)},_isFunction(w){return!!(w&&w.constructor&&w.call&&w.apply)},_isPlainObject(w){return!!w&&w.constructor===Object},_isArray(w){return Object.prototype.toString.call(w)===r},_isNumber(w){return Object.prototype.toString.call(w)===i&&!isNaN(w)&&isFinite(w)},_isString(w){return Object.prototype.toString.call(w)===o},_isBoolean(w){return Object.prototype.toString.call(w)===l},isObject(w){return w instanceof Object},isValidSelector(w){if(typeof w!="string")return!1;const T=w[0];return T==="#"||T==="."||T===T.toUpperCase()},_sign(w){return w===0||w>0?1:-1},requestAnimFrame(w){x.push(w),x.length===1&&b(function(){const T=x;x=[],T.forEach(function(P){P()})})},createCanvasElement(){const w=document.createElement("canvas");try{w.style=w.style||{}}catch{}return w},createImageElement(){return document.createElement("img")},_isInDocument(w){for(;w=w.parentNode;)if(w==document)return!0;return!1},_urlToImage(w,T){const P=n.Util.createImageElement();P.onload=function(){T(P)},P.src=w},_rgbToHex(w,T,P){return((1<<24)+(w<<16)+(T<<8)+P).toString(16).slice(1)},_hexToRgb(w){w=w.replace(h,f);const T=parseInt(w,16);return{r:T>>16&255,g:T>>8&255,b:T&255}},getRandomColor(){let w=(Math.random()*16777215<<0).toString(16);for(;w.length<6;)w=m+w;return h+w},getRGB(w){let T;return w in y?(T=y[w],{r:T[0],g:T[1],b:T[2]}):w[0]===h?this._hexToRgb(w.substring(1)):w.substr(0,4)===S?(T=C.exec(w.replace(/ /g,"")),{r:parseInt(T[1],10),g:parseInt(T[2],10),b:parseInt(T[3],10)}):{r:0,g:0,b:0}},colorToRGBA(w){return w=w||"black",n.Util._namedColorToRBA(w)||n.Util._hex3ColorToRGBA(w)||n.Util._hex4ColorToRGBA(w)||n.Util._hex6ColorToRGBA(w)||n.Util._hex8ColorToRGBA(w)||n.Util._rgbColorToRGBA(w)||n.Util._rgbaColorToRGBA(w)||n.Util._hslColorToRGBA(w)},_namedColorToRBA(w){const T=y[w.toLowerCase()];return T?{r:T[0],g:T[1],b:T[2],a:1}:null},_rgbColorToRGBA(w){if(w.indexOf("rgb(")===0){w=w.match(/rgb\(([^)]+)\)/)[1];const T=w.split(/ *, */).map(Number);return{r:T[0],g:T[1],b:T[2],a:1}}},_rgbaColorToRGBA(w){if(w.indexOf("rgba(")===0){w=w.match(/rgba\(([^)]+)\)/)[1];const T=w.split(/ *, */).map((P,A)=>P.slice(-1)==="%"?A===3?parseInt(P)/100:parseInt(P)/100*255:Number(P));return{r:T[0],g:T[1],b:T[2],a:T[3]}}},_hex8ColorToRGBA(w){if(w[0]==="#"&&w.length===9)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:parseInt(w.slice(7,9),16)/255}},_hex6ColorToRGBA(w){if(w[0]==="#"&&w.length===7)return{r:parseInt(w.slice(1,3),16),g:parseInt(w.slice(3,5),16),b:parseInt(w.slice(5,7),16),a:1}},_hex4ColorToRGBA(w){if(w[0]==="#"&&w.length===5)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:parseInt(w[4]+w[4],16)/255}},_hex3ColorToRGBA(w){if(w[0]==="#"&&w.length===4)return{r:parseInt(w[1]+w[1],16),g:parseInt(w[2]+w[2],16),b:parseInt(w[3]+w[3],16),a:1}},_hslColorToRGBA(w){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(w)){const[T,...P]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(w),A=Number(P[0])/360,F=Number(P[1])/100,E=Number(P[2])/100;let k,L,U;if(F===0)return U=E*255,{r:Math.round(U),g:Math.round(U),b:Math.round(U),a:1};E<.5?k=E*(1+F):k=E+F-E*F;const N=2*E-k,R=[0,0,0];for(let I=0;I<3;I++)L=A+1/3*-(I-1),L<0&&L++,L>1&&L--,6*L<1?U=N+(k-N)*6*L:2*L<1?U=k:3*L<2?U=N+(k-N)*(2/3-L)*6:U=N,R[I]=U*255;return{r:Math.round(R[0]),g:Math.round(R[1]),b:Math.round(R[2]),a:1}}},haveIntersection(w,T){return!(T.x>w.x+w.width||T.x+T.width<w.x||T.y>w.y+w.height||T.y+T.height<w.y)},cloneObject(w){const T={};for(const P in w)this._isPlainObject(w[P])?T[P]=this.cloneObject(w[P]):this._isArray(w[P])?T[P]=this.cloneArray(w[P]):T[P]=w[P];return T},cloneArray(w){return w.slice(0)},degToRad(w){return w*s},radToDeg(w){return w*d},_degToRad(w){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(w)},_radToDeg(w){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(w)},_getRotation(w){return e.Konva.angleDeg?n.Util.radToDeg(w):w},_capitalize(w){return w.charAt(0).toUpperCase()+w.slice(1)},throw(w){throw new Error(g+w)},error(w){console.error(g+w)},warn(w){e.Konva.showWarnings&&console.warn(v+w)},each(w,T){for(const P in w)T(P,w[P])},_inRange(w,T,P){return T<=w&&w<P},_getProjectionToSegment(w,T,P,A,F,E){let k,L,U;const N=(w-P)*(w-P)+(T-A)*(T-A);if(N==0)k=w,L=T,U=(F-P)*(F-P)+(E-A)*(E-A);else{const R=((F-w)*(P-w)+(E-T)*(A-T))/N;R<0?(k=w,L=T,U=(w-F)*(w-F)+(T-E)*(T-E)):R>1?(k=P,L=A,U=(P-F)*(P-F)+(A-E)*(A-E)):(k=w+R*(P-w),L=T+R*(A-T),U=(k-F)*(k-F)+(L-E)*(L-E))}return[k,L,U]},_getProjectionToLine(w,T,P){const A=n.Util.cloneObject(w);let F=Number.MAX_VALUE;return T.forEach(function(E,k){if(!P&&k===T.length-1)return;const L=T[(k+1)%T.length],U=n.Util._getProjectionToSegment(E.x,E.y,L.x,L.y,w.x,w.y),N=U[0],R=U[1],I=U[2];I<F&&(A.x=N,A.y=R,F=I)}),A},_prepareArrayForTween(w,T,P){const A=[],F=[];if(w.length>T.length){const k=T;T=w,w=k}for(let k=0;k<w.length;k+=2)A.push({x:w[k],y:w[k+1]});for(let k=0;k<T.length;k+=2)F.push({x:T[k],y:T[k+1]});const E=[];return F.forEach(function(k){const L=n.Util._getProjectionToLine(k,A,P);E.push(L.x),E.push(L.y)}),E},_prepareToStringify(w){let T;w.visitedByCircularReferenceRemoval=!0;for(const P in w)if(w.hasOwnProperty(P)&&w[P]&&typeof w[P]=="object"){if(T=Object.getOwnPropertyDescriptor(w,P),w[P].visitedByCircularReferenceRemoval||n.Util._isElement(w[P]))if(T.configurable)delete w[P];else return null;else if(n.Util._prepareToStringify(w[P])===null)if(T.configurable)delete w[P];else return null}return delete w.visitedByCircularReferenceRemoval,w},_assign(w,T){for(const P in T)w[P]=T[P];return w},_getFirstPointerId(w){return w.touches?w.changedTouches[0].identifier:w.pointerId||999},releaseCanvas(...w){e.Konva.releaseCanvasOnDestroy&&w.forEach(T=>{T.width=0,T.height=0})},drawRoundedRectPath(w,T,P,A){let F=0,E=0,k=0,L=0;typeof A=="number"?F=E=k=L=Math.min(A,T/2,P/2):(F=Math.min(A[0]||0,T/2,P/2),E=Math.min(A[1]||0,T/2,P/2),L=Math.min(A[2]||0,T/2,P/2),k=Math.min(A[3]||0,T/2,P/2)),w.moveTo(F,0),w.lineTo(T-E,0),w.arc(T-E,E,E,Math.PI*3/2,0,!1),w.lineTo(T,P-L),w.arc(T-L,P-L,L,0,Math.PI/2,!1),w.lineTo(k,P),w.arc(k,P-k,k,Math.PI/2,Math.PI,!1),w.lineTo(0,F),w.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}}(V5)),V5}var zf={},G5={},$r={},E8;function xt(){if(E8)return $r;E8=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.RGBComponent=r,$r.alphaComponent=i,$r.getNumberValidator=o,$r.getNumberOrArrayOfNumbersValidator=l,$r.getNumberOrAutoValidator=s,$r.getStringValidator=d,$r.getStringOrGradientValidator=h,$r.getFunctionValidator=f,$r.getNumberArrayValidator=m,$r.getBooleanValidator=v,$r.getComponentValidator=g;const n=vt(),e=In();function t(S){return e.Util._isString(S)?'"'+S+'"':Object.prototype.toString.call(S)==="[object Number]"||e.Util._isBoolean(S)?S:Object.prototype.toString.call(S)}function r(S){return S>255?255:S<0?0:Math.round(S)}function i(S){return S>1?1:S<1e-4?1e-4:S}function o(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isNumber(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),S}}function l(S){if(n.Konva.isUnminified)return function(y,C){let x=e.Util._isNumber(y),b=e.Util._isArray(y)&&y.length==S;return!x&&!b&&e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be a number or Array<number>('+S+")"),y}}function s(){if(n.Konva.isUnminified)return function(S,y){var C=e.Util._isNumber(S),x=S==="auto";return C||x||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),S}}function d(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isString(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),S}}function h(){if(n.Konva.isUnminified)return function(S,y){const C=e.Util._isString(S),x=Object.prototype.toString.call(S)==="[object CanvasGradient]"||S&&S.addColorStop;return C||x||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),S}}function f(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isFunction(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),S}}function m(){if(n.Konva.isUnminified)return function(S,y){const C=Int8Array?Object.getPrototypeOf(Int8Array):null;return C&&S instanceof C||(e.Util._isArray(S)?S.forEach(function(x){e.Util._isNumber(x)||e.Util.warn('"'+y+'" attribute has non numeric element '+x+". Make sure that all elements are numbers.")}):e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),S}}function v(){if(n.Konva.isUnminified)return function(S,y){var C=S===!0||S===!1;return C||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),S}}function g(S){if(n.Konva.isUnminified)return function(y,C){return y==null||e.Util.isObject(y)||e.Util.warn(t(y)+' is a not valid value for "'+C+'" attribute. The value should be an object with properties '+S),y}}return $r}var k8;function wt(){return k8||(k8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=In(),t=xt(),r="get",i="set";n.Factory={addGetterSetter(o,l,s,d,h){n.Factory.addGetter(o,l,s),n.Factory.addSetter(o,l,d,h),n.Factory.addOverloadedGetterSetter(o,l)},addGetter(o,l,s){var d=r+e.Util._capitalize(l);o.prototype[d]=o.prototype[d]||function(){const h=this.attrs[l];return h===void 0?s:h}},addSetter(o,l,s,d){var h=i+e.Util._capitalize(l);o.prototype[h]||n.Factory.overWriteSetter(o,l,s,d)},overWriteSetter(o,l,s,d){var h=i+e.Util._capitalize(l);o.prototype[h]=function(f){return s&&f!==void 0&&f!==null&&(f=s.call(this,f,l)),this._setAttr(l,f),d&&d.call(this),this}},addComponentsGetterSetter(o,l,s,d,h){const f=s.length,m=e.Util._capitalize,v=r+m(l),g=i+m(l);o.prototype[v]=function(){const y={};for(let C=0;C<f;C++){const x=s[C];y[x]=this.getAttr(l+m(x))}return y};const S=(0,t.getComponentValidator)(s);o.prototype[g]=function(y){const C=this.attrs[l];d&&(y=d.call(this,y,l)),S&&S.call(this,y,l);for(const x in y)y.hasOwnProperty(x)&&this._setAttr(l+m(x),y[x]);return y||s.forEach(x=>{this._setAttr(l+m(x),void 0)}),this._fireChangeEvent(l,C,y),h&&h.call(this),this},n.Factory.addOverloadedGetterSetter(o,l)},addOverloadedGetterSetter(o,l){var s=e.Util._capitalize(l),d=i+s,h=r+s;o.prototype[l]=function(){return arguments.length?(this[d](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(o,l,s,d){e.Util.error("Adding deprecated "+l);const h=r+e.Util._capitalize(l),f=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[h]=function(){e.Util.error(f);const m=this.attrs[l];return m===void 0?s:m},n.Factory.addSetter(o,l,d,function(){e.Util.error(f)}),n.Factory.addOverloadedGetterSetter(o,l)},backCompat(o,l){e.Util.each(l,function(s,d){const h=o.prototype[d],f=r+e.Util._capitalize(s),m=i+e.Util._capitalize(s);function v(){h.apply(this,arguments),e.Util.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}o.prototype[s]=v,o.prototype[f]=v,o.prototype[m]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(G5)),G5}var $a={},Ya={},_8;function dI(){if(_8)return Ya;_8=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.HitContext=Ya.SceneContext=Ya.Context=void 0;const n=In(),e=vt();function t(x){const b=[],w=x.length,T=n.Util;for(let P=0;P<w;P++){let A=x[P];T._isNumber(A)?A=Math.round(A*1e3)/1e3:T._isString(A)||(A=A+""),b.push(A)}return b}const r=",",i="(",o=")",l="([",s="])",d=";",h="()",f="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],g=100;let S=class{constructor(b){this.canvas=b,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(b){b.fillEnabled()&&this._fill(b)}_fill(b){}strokeShape(b){b.hasStroke()&&this._stroke(b)}_stroke(b){}fillStrokeShape(b){b.attrs.fillAfterStrokeEnabled?(this.strokeShape(b),this.fillShape(b)):(this.fillShape(b),this.strokeShape(b))}getTrace(b,w){let T=this.traceArr,P=T.length,A="",F,E,k,L;for(F=0;F<P;F++)E=T[F],k=E.method,k?(L=E.args,A+=k,b?A+=h:n.Util._isArray(L[0])?A+=l+L.join(r)+s:(w&&(L=L.map(U=>typeof U=="number"?Math.floor(U):U)),A+=i+L.join(r)+o)):(A+=E.property,b||(A+=f+E.val)),A+=d;return A}clearTrace(){this.traceArr=[]}_trace(b){let w=this.traceArr,T;w.push(b),T=w.length,T>=g&&w.shift()}reset(){const b=this.getCanvas().getPixelRatio();this.setTransform(1*b,0,0,1*b,0,0)}getCanvas(){return this.canvas}clear(b){const w=this.getCanvas();b?this.clearRect(b.x||0,b.y||0,b.width||0,b.height||0):this.clearRect(0,0,w.getWidth()/w.pixelRatio,w.getHeight()/w.pixelRatio)}_applyLineCap(b){const w=b.attrs.lineCap;w&&this.setAttr("lineCap",w)}_applyOpacity(b){const w=b.getAbsoluteOpacity();w!==1&&this.setAttr("globalAlpha",w)}_applyLineJoin(b){const w=b.attrs.lineJoin;w&&this.setAttr("lineJoin",w)}setAttr(b,w){this._context[b]=w}arc(b,w,T,P,A,F){this._context.arc(b,w,T,P,A,F)}arcTo(b,w,T,P,A){this._context.arcTo(b,w,T,P,A)}beginPath(){this._context.beginPath()}bezierCurveTo(b,w,T,P,A,F){this._context.bezierCurveTo(b,w,T,P,A,F)}clearRect(b,w,T,P){this._context.clearRect(b,w,T,P)}clip(...b){this._context.clip.apply(this._context,b)}closePath(){this._context.closePath()}createImageData(b,w){const T=arguments;if(T.length===2)return this._context.createImageData(b,w);if(T.length===1)return this._context.createImageData(b)}createLinearGradient(b,w,T,P){return this._context.createLinearGradient(b,w,T,P)}createPattern(b,w){return this._context.createPattern(b,w)}createRadialGradient(b,w,T,P,A,F){return this._context.createRadialGradient(b,w,T,P,A,F)}drawImage(b,w,T,P,A,F,E,k,L){const U=arguments,N=this._context;U.length===3?N.drawImage(b,w,T):U.length===5?N.drawImage(b,w,T,P,A):U.length===9&&N.drawImage(b,w,T,P,A,F,E,k,L)}ellipse(b,w,T,P,A,F,E,k){this._context.ellipse(b,w,T,P,A,F,E,k)}isPointInPath(b,w,T,P){return T?this._context.isPointInPath(T,b,w,P):this._context.isPointInPath(b,w,P)}fill(...b){this._context.fill.apply(this._context,b)}fillRect(b,w,T,P){this._context.fillRect(b,w,T,P)}strokeRect(b,w,T,P){this._context.strokeRect(b,w,T,P)}fillText(b,w,T,P){P?this._context.fillText(b,w,T,P):this._context.fillText(b,w,T)}measureText(b){return this._context.measureText(b)}getImageData(b,w,T,P){return this._context.getImageData(b,w,T,P)}lineTo(b,w){this._context.lineTo(b,w)}moveTo(b,w){this._context.moveTo(b,w)}rect(b,w,T,P){this._context.rect(b,w,T,P)}roundRect(b,w,T,P,A){this._context.roundRect(b,w,T,P,A)}putImageData(b,w,T){this._context.putImageData(b,w,T)}quadraticCurveTo(b,w,T,P){this._context.quadraticCurveTo(b,w,T,P)}restore(){this._context.restore()}rotate(b){this._context.rotate(b)}save(){this._context.save()}scale(b,w){this._context.scale(b,w)}setLineDash(b){this._context.setLineDash?this._context.setLineDash(b):"mozDash"in this._context?this._context.mozDash=b:"webkitLineDash"in this._context&&(this._context.webkitLineDash=b)}getLineDash(){return this._context.getLineDash()}setTransform(b,w,T,P,A,F){this._context.setTransform(b,w,T,P,A,F)}stroke(b){b?this._context.stroke(b):this._context.stroke()}strokeText(b,w,T,P){this._context.strokeText(b,w,T,P)}transform(b,w,T,P,A,F){this._context.transform(b,w,T,P,A,F)}translate(b,w){this._context.translate(b,w)}_enableTrace(){let b=this,w=m.length,T=this.setAttr,P,A;const F=function(E){let k=b[E],L;b[E]=function(){return A=t(Array.prototype.slice.call(arguments,0)),L=k.apply(b,arguments),b._trace({method:E,args:A}),L}};for(P=0;P<w;P++)F(m[P]);b.setAttr=function(){T.apply(b,arguments);const E=arguments[0];let k=arguments[1];(E==="shadowOffsetX"||E==="shadowOffsetY"||E==="shadowBlur")&&(k=k/this.canvas.getPixelRatio()),b._trace({property:E,val:k})}}_applyGlobalCompositeOperation(b){const w=b.attrs.globalCompositeOperation;!w||w==="source-over"||this.setAttr("globalCompositeOperation",w)}};Ya.Context=S,v.forEach(function(x){Object.defineProperty(S.prototype,x,{get(){return this._context[x]},set(b){this._context[x]=b}})});class y extends S{constructor(b,{willReadFrequently:w=!1}={}){super(b),this._context=b._canvas.getContext("2d",{willReadFrequently:w})}_fillColor(b){const w=b.fill();this.setAttr("fillStyle",w),b._fillFunc(this)}_fillPattern(b){this.setAttr("fillStyle",b._getFillPattern()),b._fillFunc(this)}_fillLinearGradient(b){const w=b._getLinearGradient();w&&(this.setAttr("fillStyle",w),b._fillFunc(this))}_fillRadialGradient(b){const w=b._getRadialGradient();w&&(this.setAttr("fillStyle",w),b._fillFunc(this))}_fill(b){const w=b.fill(),T=b.getFillPriority();if(w&&T==="color"){this._fillColor(b);return}const P=b.getFillPatternImage();if(P&&T==="pattern"){this._fillPattern(b);return}const A=b.getFillLinearGradientColorStops();if(A&&T==="linear-gradient"){this._fillLinearGradient(b);return}const F=b.getFillRadialGradientColorStops();if(F&&T==="radial-gradient"){this._fillRadialGradient(b);return}w?this._fillColor(b):P?this._fillPattern(b):A?this._fillLinearGradient(b):F&&this._fillRadialGradient(b)}_strokeLinearGradient(b){const w=b.getStrokeLinearGradientStartPoint(),T=b.getStrokeLinearGradientEndPoint(),P=b.getStrokeLinearGradientColorStops(),A=this.createLinearGradient(w.x,w.y,T.x,T.y);if(P){for(let F=0;F<P.length;F+=2)A.addColorStop(P[F],P[F+1]);this.setAttr("strokeStyle",A)}}_stroke(b){const w=b.dash(),T=b.getStrokeScaleEnabled();if(b.hasStroke()){if(!T){this.save();const A=this.getCanvas().getPixelRatio();this.setTransform(A,0,0,A,0,0)}this._applyLineCap(b),w&&b.dashEnabled()&&(this.setLineDash(w),this.setAttr("lineDashOffset",b.dashOffset())),this.setAttr("lineWidth",b.strokeWidth()),b.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),b.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(b):this.setAttr("strokeStyle",b.stroke()),b._strokeFunc(this),T||this.restore()}}_applyShadow(b){var w,T,P;const A=(w=b.getShadowRGBA())!==null&&w!==void 0?w:"black",F=(T=b.getShadowBlur())!==null&&T!==void 0?T:5,E=(P=b.getShadowOffset())!==null&&P!==void 0?P:{x:0,y:0},k=b.getAbsoluteScale(),L=this.canvas.getPixelRatio(),U=k.x*L,N=k.y*L;this.setAttr("shadowColor",A),this.setAttr("shadowBlur",F*Math.min(Math.abs(U),Math.abs(N))),this.setAttr("shadowOffsetX",E.x*U),this.setAttr("shadowOffsetY",E.y*N)}}Ya.SceneContext=y;class C extends S{constructor(b){super(b),this._context=b._canvas.getContext("2d",{willReadFrequently:!0})}_fill(b){this.save(),this.setAttr("fillStyle",b.colorKey),b._fillFuncHit(this),this.restore()}strokeShape(b){b.hasHitStroke()&&this._stroke(b)}_stroke(b){if(b.hasHitStroke()){const w=b.getStrokeScaleEnabled();if(!w){this.save();const A=this.getCanvas().getPixelRatio();this.setTransform(A,0,0,A,0,0)}this._applyLineCap(b);const T=b.hitStrokeWidth(),P=T==="auto"?b.strokeWidth():T;this.setAttr("lineWidth",P),this.setAttr("strokeStyle",b.colorKey),b._strokeFuncHit(this),w||this.restore()}}}return Ya.HitContext=C,Ya}var F8;function Ay(){if(F8)return $a;F8=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.HitCanvas=$a.SceneCanvas=$a.Canvas=void 0;const n=In(),e=dI(),t=vt();let r;function i(){if(r)return r;const d=n.Util.createCanvasElement(),h=d.getContext("2d");return r=function(){const f=t.Konva._global.devicePixelRatio||1,m=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return f/m}(),n.Util.releaseCanvas(d),r}let o=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(h||{}).pixelRatio||t.Konva.pixelRatio||i();this.pixelRatio=m,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const f=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,f){this.setWidth(h||0),this.setHeight(f||0)}toDataURL(h,f){try{return this._canvas.toDataURL(h,f)}catch{try{return this._canvas.toDataURL()}catch(v){return n.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};$a.Canvas=o;class l extends o{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}$a.SceneCanvas=l;class s extends o{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return $a.HitCanvas=s,$a}var Q5={},M8;function iw(){return M8||(M8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=vt(),t=In();n.DD={get isDragging(){let r=!1;return n.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return n.DD._dragElements.forEach(i=>{r=i.node}),r},_dragElements:new Map,_drag(r){const i=[];n.DD._dragElements.forEach((o,l)=>{const{node:s}=o,d=s.getStage();d.setPointersPositions(r),o.pointerId===void 0&&(o.pointerId=t.Util._getFirstPointerId(r));const h=d._changedPointerPositions.find(f=>f.id===o.pointerId);if(h){if(o.dragStatus!=="dragging"){const f=s.dragDistance();if(Math.max(Math.abs(h.x-o.startPointerPos.x),Math.abs(h.y-o.startPointerPos.y))<f||(s.startDrag({evt:r}),!s.isDragging()))return}s._setDragPosition(r,o),i.push(s)}}),i.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:r},!0)})},_endDragBefore(r){const i=[];n.DD._dragElements.forEach(o=>{const{node:l}=o,s=l.getStage();if(r&&s.setPointersPositions(r),!s._changedPointerPositions.find(f=>f.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const h=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;h&&i.indexOf(h)===-1&&i.push(h)}),i.forEach(o=>{o.draw()})},_endDragAfter(r){n.DD._dragElements.forEach((i,o)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:r},!0),i.dragStatus!=="dragging"&&n.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(Q5)),Q5}var N8;function Fn(){if(N8)return zf;N8=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.Node=void 0;const n=In(),e=wt(),t=Ay(),r=vt(),i=iw(),o=xt(),l="absoluteOpacity",s="allEventListeners",d="absoluteTransform",h="absoluteScale",f="canvas",m="Change",v="children",g="konva",S="listening",y="mouseenter",C="mouseleave",x="set",b="Shape",w=" ",T="stage",P="transform",A="Stage",F="visible",E=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(w);let k=1,L=class UC{constructor(R){this._id=k++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(R),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(R){(R===P||R===d)&&this._cache.get(R)?this._cache.get(R).dirty=!0:R?this._cache.delete(R):this._cache.clear()}_getCache(R,I){let _=this._cache.get(R);return(_===void 0||(R===P||R===d)&&_.dirty===!0)&&(_=I.call(this),this._cache.set(R,_)),_}_calculate(R,I,_){if(!this._attachedDepsListeners.get(R)){const q=I.map(W=>W+"Change.konva").join(w);this.on(q,()=>{this._clearCache(R)}),this._attachedDepsListeners.set(R,!0)}return this._getCache(R,_)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(R){this._clearCache(R),R===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:R,filter:I,hit:_}=this._cache.get(f);n.Util.releaseCanvas(R,I,_),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(R){const I=R||{};let _={};(I.x===void 0||I.y===void 0||I.width===void 0||I.height===void 0)&&(_=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let q=Math.ceil(I.width||_.width),W=Math.ceil(I.height||_.height),j=I.pixelRatio,H=I.x===void 0?Math.floor(_.x):I.x,X=I.y===void 0?Math.floor(_.y):I.y,V=I.offset||0,$=I.drawBorder||!1,ne=I.hitCanvasPixelRatio||1;if(!q||!W){n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ie=Math.abs(Math.round(_.x)-H)>.5?1:0,te=Math.abs(Math.round(_.y)-X)>.5?1:0;q+=V*2+ie,W+=V*2+te,H-=V,X-=V;const pe=new t.SceneCanvas({pixelRatio:j,width:q,height:W}),J=new t.SceneCanvas({pixelRatio:j,width:0,height:0,willReadFrequently:!0}),oe=new t.HitCanvas({pixelRatio:ne,width:q,height:W}),de=pe.getContext(),me=oe.getContext();return oe.isCache=!0,pe.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,I.imageSmoothingEnabled===!1&&(pe.getContext()._context.imageSmoothingEnabled=!1,J.getContext()._context.imageSmoothingEnabled=!1),de.save(),me.save(),de.translate(-H,-X),me.translate(-H,-X),this._isUnderCache=!0,this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this.drawScene(pe,this),this.drawHit(oe,this),this._isUnderCache=!1,de.restore(),me.restore(),$&&(de.save(),de.beginPath(),de.rect(0,0,q,W),de.closePath(),de.setAttr("strokeStyle","red"),de.setAttr("lineWidth",5),de.stroke(),de.restore()),this._cache.set(f,{scene:pe,filter:J,hit:oe,x:H,y:X}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(R){throw new Error('abstract "getClientRect" method call')}_transformedRect(R,I){const _=[{x:R.x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}];let q=1/0,W=1/0,j=-1/0,H=-1/0;const X=this.getAbsoluteTransform(I);return _.forEach(function(V){const $=X.point(V);q===void 0&&(q=j=$.x,W=H=$.y),q=Math.min(q,$.x),W=Math.min(W,$.y),j=Math.max(j,$.x),H=Math.max(H,$.y)}),{x:q,y:W,width:j-q,height:H-W}}_drawCachedSceneCanvas(R){R.save(),R._applyOpacity(this),R._applyGlobalCompositeOperation(this);const I=this._getCanvasCache();R.translate(I.x,I.y);const _=this._getCachedSceneCanvas(),q=_.pixelRatio;R.drawImage(_._canvas,0,0,_.width/q,_.height/q),R.restore()}_drawCachedHitCanvas(R){const I=this._getCanvasCache(),_=I.hit;R.save(),R.translate(I.x,I.y),R.drawImage(_._canvas,0,0,_.width/_.pixelRatio,_.height/_.pixelRatio),R.restore()}_getCachedSceneCanvas(){let R=this.filters(),I=this._getCanvasCache(),_=I.scene,q=I.filter,W=q.getContext(),j,H,X,V;if(R){if(!this._filterUpToDate){const $=_.pixelRatio;q.setSize(_.width/_.pixelRatio,_.height/_.pixelRatio);try{for(j=R.length,W.clear(),W.drawImage(_._canvas,0,0,_.getWidth()/$,_.getHeight()/$),H=W.getImageData(0,0,q.getWidth(),q.getHeight()),X=0;X<j;X++){if(V=R[X],typeof V!="function"){n.Util.error("Filter should be type of function, but got "+typeof V+" instead. Please check correct filters");continue}V.call(this,H),W.putImageData(H,0,0)}}catch(ne){n.Util.error("Unable to apply filter. "+ne.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return q}return _}on(R,I){if(this._cache&&this._cache.delete(s),arguments.length===3)return this._delegate.apply(this,arguments);let _=R.split(w),q=_.length,W,j,H,X,V;for(W=0;W<q;W++)j=_[W],H=j.split("."),X=H[0],V=H[1]||"",this.eventListeners[X]||(this.eventListeners[X]=[]),this.eventListeners[X].push({name:V,handler:I});return this}off(R,I){let _=(R||"").split(w),q=_.length,W,j,H,X,V,$;if(this._cache&&this._cache.delete(s),!R)for(j in this.eventListeners)this._off(j);for(W=0;W<q;W++)if(H=_[W],X=H.split("."),V=X[0],$=X[1],V)this.eventListeners[V]&&this._off(V,$,I);else for(j in this.eventListeners)this._off(j,$,I);return this}dispatchEvent(R){const I={target:this,type:R.type,evt:R};return this.fire(R.type,I),this}addEventListener(R,I){return this.on(R,function(_){I.call(this,_.evt)}),this}removeEventListener(R){return this.off(R),this}_delegate(R,I,_){const q=this;this.on(R,function(W){const j=W.target.findAncestors(I,!0,q);for(let H=0;H<j.length;H++)W=n.Util.cloneObject(W),W.currentTarget=j[H],_.call(j[H],W)})}remove(){return this.isDragging()&&this.stopDrag(),i.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(T),this._clearSelfAndDescendantCache(F),this._clearSelfAndDescendantCache(S)}_remove(){this._clearCaches();const R=this.getParent();R&&R.children&&(R.children.splice(this.index,1),R._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(R){const I="get"+n.Util._capitalize(R);return n.Util._isFunction(this[I])?this[I]():this.attrs[R]}getAncestors(){let R=this.getParent(),I=[];for(;R;)I.push(R),R=R.getParent();return I}getAttrs(){return this.attrs||{}}setAttrs(R){return this._batchTransformChanges(()=>{let I,_;if(!R)return this;for(I in R)I!==v&&(_=x+n.Util._capitalize(I),n.Util._isFunction(this[_])?this[_](R[I]):this._setAttr(I,R[I]))}),this}isListening(){return this._getCache(S,this._isListening)}_isListening(R){if(!this.listening())return!1;const _=this.getParent();return _&&_!==R&&this!==R?_._isListening(R):!0}isVisible(){return this._getCache(F,this._isVisible)}_isVisible(R){if(!this.visible())return!1;const _=this.getParent();return _&&_!==R&&this!==R?_._isVisible(R):!0}shouldDrawHit(R,I=!1){if(R)return this._isVisible(R)&&this._isListening(R);const _=this.getLayer();let q=!1;i.DD._dragElements.forEach(j=>{j.dragStatus==="dragging"&&(j.node.nodeType==="Stage"||j.node.getLayer()===_)&&(q=!0)});const W=!I&&!r.Konva.hitOnDragEnabled&&(q||r.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!W}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let R=this.getDepth(),I=this,_=0,q,W,j,H;function X($){for(q=[],W=$.length,j=0;j<W;j++)H=$[j],_++,H.nodeType!==b&&(q=q.concat(H.getChildren().slice())),H._id===I._id&&(j=W);q.length>0&&q[0].getDepth()<=R&&X(q)}const V=this.getStage();return I.nodeType!==A&&V&&X(V.getChildren()),_}getDepth(){let R=0,I=this.parent;for(;I;)R++,I=I.parent;return R}_batchTransformChanges(R){this._batchingTransformChange=!0,R(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(P),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(R){return this._batchTransformChanges(()=>{this.x(R.x),this.y(R.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const R=this.getStage();if(!R)return null;const I=R.getPointerPosition();if(!I)return null;const _=this.getAbsoluteTransform().copy();return _.invert(),_.point(I)}getAbsolutePosition(R){let I=!1,_=this.parent;for(;_;){if(_.isCached()){I=!0;break}_=_.parent}I&&!R&&(R=!0);const q=this.getAbsoluteTransform(R).getMatrix(),W=new n.Transform,j=this.offset();return W.m=q.slice(),W.translate(j.x,j.y),W.getTranslation()}setAbsolutePosition(R){const{x:I,y:_,...q}=this._clearTransform();this.attrs.x=I,this.attrs.y=_,this._clearCache(P);const W=this._getAbsoluteTransform().copy();return W.invert(),W.translate(R.x,R.y),R={x:this.attrs.x+W.getTranslation().x,y:this.attrs.y+W.getTranslation().y},this._setTransform(q),this.setPosition({x:R.x,y:R.y}),this._clearCache(P),this._clearSelfAndDescendantCache(d),this}_setTransform(R){let I;for(I in R)this.attrs[I]=R[I]}_clearTransform(){const R={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,R}move(R){let I=R.x,_=R.y,q=this.x(),W=this.y();return I!==void 0&&(q+=I),_!==void 0&&(W+=_),this.setPosition({x:q,y:W}),this}_eachAncestorReverse(R,I){let _=[],q=this.getParent(),W,j;if(!(I&&I._id===this._id)){for(_.unshift(this);q&&(!I||q._id!==I._id);)_.unshift(q),q=q.parent;for(W=_.length,j=0;j<W;j++)R(_[j])}}rotate(R){return this.rotation(this.rotation()+R),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const R=this.index,I=this.parent.getChildren().length;return R<I-1?(this.parent.children.splice(R,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;const R=this.index,I=this.parent.getChildren().length;return R<I-1?(this.parent.children.splice(R,1),this.parent.children.splice(R+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;const R=this.index;return R>0?(this.parent.children.splice(R,1),this.parent.children.splice(R-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const R=this.index;return R>0?(this.parent.children.splice(R,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(R){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(R<0||R>=this.parent.children.length)&&n.Util.warn("Unexpected value "+R+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const I=this.index;return this.parent.children.splice(I,1),this.parent.children.splice(R,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(l,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let R=this.opacity();const I=this.getParent();return I&&!I._isUnderCache&&(R*=I.getAbsoluteOpacity()),R}moveTo(R){return this.getParent()!==R&&(this._remove(),R.add(this)),this}toObject(){let R=this.getAttrs(),I,_,q,W,j;const H={attrs:{},className:this.getClassName()};for(I in R)_=R[I],j=n.Util.isObject(_)&&!n.Util._isPlainObject(_)&&!n.Util._isArray(_),!j&&(q=typeof this[I]=="function"&&this[I],delete R[I],W=q?q.call(this):null,R[I]=_,W!==_&&(H.attrs[I]=_));return n.Util._prepareToStringify(H)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(R,I,_){const q=[];I&&this._isMatch(R)&&q.push(this);let W=this.parent;for(;W;){if(W===_)return q;W._isMatch(R)&&q.push(W),W=W.parent}return q}isAncestorOf(R){return!1}findAncestor(R,I,_){return this.findAncestors(R,I,_)[0]}_isMatch(R){if(!R)return!1;if(typeof R=="function")return R(this);let I=R.replace(/ /g,"").split(","),_=I.length,q,W;for(q=0;q<_;q++)if(W=I[q],n.Util.isValidSelector(W)||(n.Util.warn('Selector "'+W+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),W.charAt(0)==="#"){if(this.id()===W.slice(1))return!0}else if(W.charAt(0)==="."){if(this.hasName(W.slice(1)))return!0}else if(this.className===W||this.nodeType===W)return!0;return!1}getLayer(){const R=this.getParent();return R?R.getLayer():null}getStage(){return this._getCache(T,this._getStage)}_getStage(){const R=this.getParent();return R?R.getStage():null}fire(R,I={},_){return I.target=I.target||this,_?this._fireAndBubble(R,I):this._fire(R,I),this}getAbsoluteTransform(R){return R?this._getAbsoluteTransform(R):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(R){let I;if(R)return I=new n.Transform,this._eachAncestorReverse(function(_){const q=_.transformsEnabled();q==="all"?I.multiply(_.getTransform()):q==="position"&&I.translate(_.x()-_.offsetX(),_.y()-_.offsetY())},R),I;{I=this._cache.get(d)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(I):I.reset();const _=this.transformsEnabled();if(_==="all")I.multiply(this.getTransform());else if(_==="position"){const q=this.attrs.x||0,W=this.attrs.y||0,j=this.attrs.offsetX||0,H=this.attrs.offsetY||0;I.translate(q-j,W-H)}return I.dirty=!1,I}}getAbsoluteScale(R){let I=this;for(;I;)I._isUnderCache&&(R=I),I=I.getParent();const q=this.getAbsoluteTransform(R).decompose();return{x:q.scaleX,y:q.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(P,this._getTransform)}_getTransform(){var R,I;const _=this._cache.get(P)||new n.Transform;_.reset();const q=this.x(),W=this.y(),j=r.Konva.getAngle(this.rotation()),H=(R=this.attrs.scaleX)!==null&&R!==void 0?R:1,X=(I=this.attrs.scaleY)!==null&&I!==void 0?I:1,V=this.attrs.skewX||0,$=this.attrs.skewY||0,ne=this.attrs.offsetX||0,ie=this.attrs.offsetY||0;return(q!==0||W!==0)&&_.translate(q,W),j!==0&&_.rotate(j),(V!==0||$!==0)&&_.skew(V,$),(H!==1||X!==1)&&_.scale(H,X),(ne!==0||ie!==0)&&_.translate(-1*ne,-1*ie),_.dirty=!1,_}clone(R){let I=n.Util.cloneObject(this.attrs),_,q,W,j,H;for(_ in R)I[_]=R[_];const X=new this.constructor(I);for(_ in this.eventListeners)for(q=this.eventListeners[_],W=q.length,j=0;j<W;j++)H=q[j],H.name.indexOf(g)<0&&(X.eventListeners[_]||(X.eventListeners[_]=[]),X.eventListeners[_].push(H));return X}_toKonvaCanvas(R){R=R||{};const I=this.getClientRect(),_=this.getStage(),q=R.x!==void 0?R.x:Math.floor(I.x),W=R.y!==void 0?R.y:Math.floor(I.y),j=R.pixelRatio||1,H=new t.SceneCanvas({width:R.width||Math.ceil(I.width)||(_?_.width():0),height:R.height||Math.ceil(I.height)||(_?_.height():0),pixelRatio:j}),X=H.getContext(),V=new t.SceneCanvas({width:H.width/H.pixelRatio+Math.abs(q),height:H.height/H.pixelRatio+Math.abs(W),pixelRatio:H.pixelRatio});return R.imageSmoothingEnabled===!1&&(X._context.imageSmoothingEnabled=!1),X.save(),(q||W)&&X.translate(-1*q,-1*W),this.drawScene(H,void 0,V),X.restore(),H}toCanvas(R){return this._toKonvaCanvas(R)._canvas}toDataURL(R){R=R||{};const I=R.mimeType||null,_=R.quality||null,q=this._toKonvaCanvas(R).toDataURL(I,_);return R.callback&&R.callback(q),q}toImage(R){return new Promise((I,_)=>{try{const q=R==null?void 0:R.callback;q&&delete R.callback,n.Util._urlToImage(this.toDataURL(R),function(W){I(W),q==null||q(W)})}catch(q){_(q)}})}toBlob(R){return new Promise((I,_)=>{try{const q=R==null?void 0:R.callback;q&&delete R.callback,this.toCanvas(R).toBlob(W=>{I(W),q==null||q(W)},R==null?void 0:R.mimeType,R==null?void 0:R.quality)}catch(q){_(q)}})}setSize(R){return this.width(R.width),this.height(R.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():r.Konva.dragDistance}_off(R,I,_){let q=this.eventListeners[R],W,j,H;for(W=0;W<q.length;W++)if(j=q[W].name,H=q[W].handler,(j!=="konva"||I==="konva")&&(!I||j===I)&&(!_||_===H)){if(q.splice(W,1),q.length===0){delete this.eventListeners[R];break}W--}}_fireChangeEvent(R,I,_){this._fire(R+m,{oldVal:I,newVal:_})}addName(R){if(!this.hasName(R)){const I=this.name(),_=I?I+" "+R:R;this.name(_)}return this}hasName(R){if(!R)return!1;const I=this.name();return I?(I||"").split(/\s/g).indexOf(R)!==-1:!1}removeName(R){const I=(this.name()||"").split(/\s/g),_=I.indexOf(R);return _!==-1&&(I.splice(_,1),this.name(I.join(" "))),this}setAttr(R,I){const _=this[x+n.Util._capitalize(R)];return n.Util._isFunction(_)?_.call(this,I):this._setAttr(R,I),this}_requestDraw(){if(r.Konva.autoDrawEnabled){const R=this.getLayer()||this.getStage();R==null||R.batchDraw()}}_setAttr(R,I){const _=this.attrs[R];_===I&&!n.Util.isObject(I)||(I==null?delete this.attrs[R]:this.attrs[R]=I,this._shouldFireChangeEvents&&this._fireChangeEvent(R,_,I),this._requestDraw())}_setComponentAttr(R,I,_){let q;_!==void 0&&(q=this.attrs[R],q||(this.attrs[R]=this.getAttr(R)),this.attrs[R][I]=_,this._fireChangeEvent(R,q,_))}_fireAndBubble(R,I,_){if(I&&this.nodeType===b&&(I.target=this),!((R===y||R===C)&&(_&&(this===_||this.isAncestorOf&&this.isAncestorOf(_))||this.nodeType==="Stage"&&!_))){this._fire(R,I);const W=(R===y||R===C)&&_&&_.isAncestorOf&&_.isAncestorOf(this)&&!_.isAncestorOf(this.parent);(I&&!I.cancelBubble||!I)&&this.parent&&this.parent.isListening()&&!W&&(_&&_.parent?this._fireAndBubble.call(this.parent,R,I,_):this._fireAndBubble.call(this.parent,R,I))}}_getProtoListeners(R){var I,_,q;const W=(I=this._cache.get(s))!==null&&I!==void 0?I:{};let j=W==null?void 0:W[R];if(j===void 0){j=[];let H=Object.getPrototypeOf(this);for(;H;){const X=(q=(_=H.eventListeners)===null||_===void 0?void 0:_[R])!==null&&q!==void 0?q:[];j.push(...X),H=Object.getPrototypeOf(H)}W[R]=j,this._cache.set(s,W)}return j}_fire(R,I){I=I||{},I.currentTarget=this,I.type=R;const _=this._getProtoListeners(R);if(_)for(var q=0;q<_.length;q++)_[q].handler.call(this,I);const W=this.eventListeners[R];if(W)for(var q=0;q<W.length;q++)W[q].handler.call(this,I)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(R){const I=R?R.pointerId:void 0,_=this.getStage(),q=this.getAbsolutePosition();if(!_)return;const W=_._getPointerById(I)||_._changedPointerPositions[0]||q;i.DD._dragElements.set(this._id,{node:this,startPointerPos:W,offset:{x:W.x-q.x,y:W.y-q.y},dragStatus:"ready",pointerId:I})}startDrag(R,I=!0){i.DD._dragElements.has(this._id)||this._createDragElement(R);const _=i.DD._dragElements.get(this._id);_.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:R&&R.evt},I)}_setDragPosition(R,I){const _=this.getStage()._getPointerById(I.pointerId);if(!_)return;let q={x:_.x-I.offset.x,y:_.y-I.offset.y};const W=this.dragBoundFunc();if(W!==void 0){const j=W.call(this,q,R);j?q=j:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==q.x||this._lastPos.y!==q.y)&&(this.setAbsolutePosition(q),this._requestDraw()),this._lastPos=q}stopDrag(R){const I=i.DD._dragElements.get(this._id);I&&(I.dragStatus="stopped"),i.DD._endDragBefore(R),i.DD._endDragAfter(R)}setDraggable(R){this._setAttr("draggable",R),this._dragChange()}isDragging(){const R=i.DD._dragElements.get(this._id);return R?R.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(R){if(!(!(R.evt.button!==void 0)||r.Konva.dragButtons.indexOf(R.evt.button)>=0)||this.isDragging())return;let q=!1;i.DD._dragElements.forEach(W=>{this.isAncestorOf(W.node)&&(q=!0)}),q||this._createDragElement(R)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const I=i.DD._dragElements.get(this._id),_=I&&I.dragStatus==="dragging",q=I&&I.dragStatus==="ready";_?this.stopDrag():q&&i.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(R={x:0,y:0}){const I=this.getStage();if(!I)return!1;const _={x:-R.x,y:-R.y,width:I.width()+2*R.x,height:I.height()+2*R.y};return n.Util.haveIntersection(_,this.getClientRect())}static create(R,I){return n.Util._isString(R)&&(R=JSON.parse(R)),this._createNode(R,I)}static _createNode(R,I){let _=UC.prototype.getClassName.call(R),q=R.children,W,j,H;I&&(R.attrs.container=I),r.Konva[_]||(n.Util.warn('Can not find a node with class name "'+_+'". Fallback to "Shape".'),_="Shape");const X=r.Konva[_];if(W=new X(R.attrs),q)for(j=q.length,H=0;H<j;H++)W.add(UC._createNode(q[H]));return W}};zf.Node=L,L.prototype.nodeType="Node",L.prototype._attrsAffectingSize=[],L.prototype.eventListeners={},L.prototype.on.call(L.prototype,E,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(P),this._clearSelfAndDescendantCache(d)}),L.prototype.on.call(L.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(F)}),L.prototype.on.call(L.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S)}),L.prototype.on.call(L.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(l)});const U=e.Factory.addGetterSetter;return U(L,"zIndex"),U(L,"absolutePosition"),U(L,"position"),U(L,"x",0,(0,o.getNumberValidator)()),U(L,"y",0,(0,o.getNumberValidator)()),U(L,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),U(L,"opacity",1,(0,o.getNumberValidator)()),U(L,"name","",(0,o.getStringValidator)()),U(L,"id","",(0,o.getStringValidator)()),U(L,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(L,"scale",["x","y"]),U(L,"scaleX",1,(0,o.getNumberValidator)()),U(L,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(L,"skew",["x","y"]),U(L,"skewX",0,(0,o.getNumberValidator)()),U(L,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(L,"offset",["x","y"]),U(L,"offsetX",0,(0,o.getNumberValidator)()),U(L,"offsetY",0,(0,o.getNumberValidator)()),U(L,"dragDistance",void 0,(0,o.getNumberValidator)()),U(L,"width",0,(0,o.getNumberValidator)()),U(L,"height",0,(0,o.getNumberValidator)()),U(L,"listening",!0,(0,o.getBooleanValidator)()),U(L,"preventDefault",!0,(0,o.getBooleanValidator)()),U(L,"filters",void 0,function(N){return this._filterUpToDate=!1,N}),U(L,"visible",!0,(0,o.getBooleanValidator)()),U(L,"transformsEnabled","all",(0,o.getStringValidator)()),U(L,"size"),U(L,"dragBoundFunc"),U(L,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(L,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),zf}var Wf={},U8;function Oy(){if(U8)return Wf;U8=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.Container=void 0;const n=wt(),e=Fn(),t=xt();let r=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const l=this.children||[],s=[];return l.forEach(function(d){o(d)&&s.push(d)}),s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let s=0;s<o.length;s++)this.add(o[s]);return this}const l=o[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const l=this._generalFind(o,!0);return l.length>0?l[0]:void 0}_generalFind(o,l){const s=[];return this._descendants(d=>{const h=d._isMatch(o);return h&&s.push(d),!!(h&&l)}),s}_descendants(o){let l=!1;const s=this.getChildren();for(const d of s){if(l=o(d),l)return!0;if(d.hasChildren()&&(l=d._descendants(o),l))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(l=>{o.children.push(l.toObject())}),o}isAncestorOf(o){let l=o.getParent();for(;l;){if(l._id===this._id)return!0;l=l.getParent()}return!1}clone(o){const l=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(s){l.add(s.clone())}),l}getAllIntersections(o){const l=[];return this.find("Shape").forEach(s=>{s.isVisible()&&s.intersects(o)&&l.push(s)}),l}_clearSelfAndDescendantCache(o){var l;super._clearSelfAndDescendantCache(o),!this.isCached()&&((l=this.children)===null||l===void 0||l.forEach(function(s){s._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(l,s){l.index=s}),this._requestDraw()}drawScene(o,l,s){const d=this.getLayer(),h=o||d&&d.getCanvas(),f=h&&h.getContext(),m=this._getCanvasCache(),v=m&&m.scene,g=h&&h.isCache;if(!this.isVisible()&&!g)return this;if(v){f.save();const S=this.getAbsoluteTransform(l).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",h,l,s);return this}drawHit(o,l){if(!this.shouldDrawHit(l))return this;const s=this.getLayer(),d=o||s&&s.hitCanvas,h=d&&d.getContext(),f=this._getCanvasCache();if(f&&f.hit){h.save();const v=this.getAbsoluteTransform(l).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",d,l);return this}_drawChildren(o,l,s,d){var h;const f=l&&l.getContext(),m=this.clipWidth(),v=this.clipHeight(),g=this.clipFunc(),S=typeof m=="number"&&typeof v=="number"||g,y=s===this;if(S){f.save();const x=this.getAbsoluteTransform(s);let b=x.getMatrix();f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),f.beginPath();let w;if(g)w=g.call(this,f,this);else{const T=this.clipX(),P=this.clipY();f.rect(T||0,P||0,m,v)}f.clip.apply(f,w),b=x.copy().invert().getMatrix(),f.transform(b[0],b[1],b[2],b[3],b[4],b[5])}const C=!y&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";C&&(f.save(),f._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(x){x[o](l,s,d)}),C&&f.restore(),S&&f.restore()}getClientRect(o={}){var l;const s=o.skipTransform,d=o.relativeTo;let h,f,m,v,g={x:1/0,y:1/0,width:0,height:0};const S=this;(l=this.children)===null||l===void 0||l.forEach(function(x){if(!x.visible())return;const b=x.getClientRect({relativeTo:S,skipShadow:o.skipShadow,skipStroke:o.skipStroke});b.width===0&&b.height===0||(h===void 0?(h=b.x,f=b.y,m=b.x+b.width,v=b.y+b.height):(h=Math.min(h,b.x),f=Math.min(f,b.y),m=Math.max(m,b.x+b.width),v=Math.max(v,b.y+b.height)))});const y=this.find("Shape");let C=!1;for(let x=0;x<y.length;x++)if(y[x]._isVisible(this)){C=!0;break}return C&&h!==void 0?g={x:h,y:f,width:m-h,height:v-f}:g={x:0,y:0,width:0,height:0},s?g:this._transformedRect(g,d)}};return Wf.Container=r,n.Factory.addComponentsGetterSetter(r,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(r,"clipX",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipY",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipWidth",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipHeight",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(r,"clipFunc"),Wf}var z5={},dl={},B8;function hI(){if(B8)return dl;B8=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.getCapturedShape=r,dl.createEvent=i,dl.hasPointerCapture=o,dl.setPointerCapture=l,dl.releaseCapture=s;const n=vt(),e=new Map,t=n.Konva._global.PointerEvent!==void 0;function r(d){return e.get(d)}function i(d){return{evt:d,pointerId:d.pointerId}}function o(d,h){return e.get(d)===h}function l(d,h){s(d),h.getStage()&&(e.set(d,h),t&&h._fire("gotpointercapture",i(new PointerEvent("gotpointercapture"))))}function s(d,h){const f=e.get(d);if(!f)return;const m=f.getStage();m&&m.content,e.delete(d),t&&f._fire("lostpointercapture",i(new PointerEvent("lostpointercapture")))}return dl}var q8;function vq(){return q8||(q8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=In(),t=wt(),r=Oy(),i=vt(),o=Ay(),l=iw(),s=vt(),d=hI(),h="Stage",f="string",m="px",v="mouseout",g="mouseleave",S="mouseover",y="mouseenter",C="mousemove",x="mousedown",b="mouseup",w="pointermove",T="pointerdown",P="pointerup",A="pointercancel",F="lostpointercapture",E="pointerout",k="pointerleave",L="pointerover",U="pointerenter",N="contextmenu",R="touchstart",I="touchend",_="touchmove",q="touchcancel",W="wheel",j=5,H=[[y,"_pointerenter"],[x,"_pointerdown"],[C,"_pointermove"],[b,"_pointerup"],[g,"_pointerleave"],[R,"_pointerdown"],[_,"_pointermove"],[I,"_pointerup"],[q,"_pointercancel"],[S,"_pointerover"],[W,"_wheel"],[N,"_contextmenu"],[T,"_pointerdown"],[w,"_pointermove"],[P,"_pointerup"],[A,"_pointercancel"],[F,"_lostpointercapture"]],X={mouse:{[E]:v,[k]:g,[L]:S,[U]:y,[w]:C,[T]:x,[P]:b,[A]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[E]:"touchout",[k]:"touchleave",[L]:"touchover",[U]:"touchenter",[w]:_,[T]:R,[P]:I,[A]:q,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[E]:E,[k]:k,[L]:L,[U]:U,[w]:w,[T]:T,[P]:P,[A]:A,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},V=pe=>pe.indexOf("pointer")>=0?"pointer":pe.indexOf("touch")>=0?"touch":"mouse",$=pe=>{const J=V(pe);if(J==="pointer")return i.Konva.pointerEventsEnabled&&X.pointer;if(J==="touch")return X.touch;if(J==="mouse")return X.mouse};function ne(pe={}){return(pe.clipFunc||pe.clipWidth||pe.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),pe}const ie="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class te extends r.Container{constructor(J){super(ne(J)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ne(this.attrs)}),this._checkVisibility()}_validateAdd(J){const oe=J.getType()==="Layer",de=J.getType()==="FastLayer";oe||de||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const J=this.visible()?"":"none";this.content.style.display=J}setContainer(J){if(typeof J===f){if(J.charAt(0)==="."){const de=J.slice(1);J=document.getElementsByClassName(de)[0]}else{var oe;J.charAt(0)!=="#"?oe=J:oe=J.slice(1),J=document.getElementById(oe)}if(!J)throw"Can not find container in document with id "+oe}return this._setAttr("container",J),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),J.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const J=this.children,oe=J.length;for(let de=0;de<oe;de++)J[de].clear();return this}clone(J){return J||(J={}),J.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,J)}destroy(){super.destroy();const J=this.content;J&&e.Util._isInDocument(J)&&this.container().removeChild(J);const oe=n.stages.indexOf(this);return oe>-1&&n.stages.splice(oe,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const J=this._pointerPositions[0]||this._changedPointerPositions[0];return J?{x:J.x,y:J.y}:(e.Util.warn(ie),null)}_getPointerById(J){return this._pointerPositions.find(oe=>oe.id===J)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(J){J=J||{},J.x=J.x||0,J.y=J.y||0,J.width=J.width||this.width(),J.height=J.height||this.height();const oe=new o.SceneCanvas({width:J.width,height:J.height,pixelRatio:J.pixelRatio||1}),de=oe.getContext()._context,me=this.children;return(J.x||J.y)&&de.translate(-1*J.x,-1*J.y),me.forEach(function(be){if(!be.isVisible())return;const Te=be._toKonvaCanvas(J);de.drawImage(Te._canvas,J.x,J.y,Te.getWidth()/Te.getPixelRatio(),Te.getHeight()/Te.getPixelRatio())}),oe}getIntersection(J){if(!J)return null;const oe=this.children,de=oe.length,me=de-1;for(let be=me;be>=0;be--){const Te=oe[be].getIntersection(J);if(Te)return Te}return null}_resizeDOM(){const J=this.width(),oe=this.height();this.content&&(this.content.style.width=J+m,this.content.style.height=oe+m),this.bufferCanvas.setSize(J,oe),this.bufferHitCanvas.setSize(J,oe),this.children.forEach(de=>{de.setSize({width:J,height:oe}),de.draw()})}add(J,...oe){if(arguments.length>1){for(let me=0;me<arguments.length;me++)this.add(arguments[me]);return this}super.add(J);const de=this.children.length;return de>j&&e.Util.warn("The stage has "+de+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),J.setSize({width:this.width(),height:this.height()}),J.draw(),i.Konva.isBrowser&&this.content.appendChild(J.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(J){return d.hasPointerCapture(J,this)}setPointerCapture(J){d.setPointerCapture(J,this)}releaseCapture(J){d.releaseCapture(J,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&H.forEach(([J,oe])=>{this.content.addEventListener(J,de=>{this[oe](de)},{passive:!1})})}_pointerenter(J){this.setPointersPositions(J);const oe=$(J.type);oe&&this._fire(oe.pointerenter,{evt:J,target:this,currentTarget:this})}_pointerover(J){this.setPointersPositions(J);const oe=$(J.type);oe&&this._fire(oe.pointerover,{evt:J,target:this,currentTarget:this})}_getTargetShape(J){let oe=this[J+"targetShape"];return oe&&!oe.getStage()&&(oe=null),oe}_pointerleave(J){const oe=$(J.type),de=V(J.type);if(!oe)return;this.setPointersPositions(J);const me=this._getTargetShape(de),be=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;me&&be?(me._fireAndBubble(oe.pointerout,{evt:J}),me._fireAndBubble(oe.pointerleave,{evt:J}),this._fire(oe.pointerleave,{evt:J,target:this,currentTarget:this}),this[de+"targetShape"]=null):be&&(this._fire(oe.pointerleave,{evt:J,target:this,currentTarget:this}),this._fire(oe.pointerout,{evt:J,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(J){const oe=$(J.type),de=V(J.type);if(!oe)return;this.setPointersPositions(J);let me=!1;this._changedPointerPositions.forEach(be=>{const Te=this.getIntersection(be);if(l.DD.justDragged=!1,i.Konva["_"+de+"ListenClick"]=!0,!Te||!Te.isListening()){this[de+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&Te.setPointerCapture(be.id),this[de+"ClickStartShape"]=Te,Te._fireAndBubble(oe.pointerdown,{evt:J,pointerId:be.id}),me=!0;const Ue=J.type.indexOf("touch")>=0;Te.preventDefault()&&J.cancelable&&Ue&&J.preventDefault()}),me||this._fire(oe.pointerdown,{evt:J,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(J){const oe=$(J.type),de=V(J.type);if(!oe||(i.Konva.isDragging()&&l.DD.node.preventDefault()&&J.cancelable&&J.preventDefault(),this.setPointersPositions(J),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const be={};let Te=!1;const Ue=this._getTargetShape(de);this._changedPointerPositions.forEach(B=>{const ge=d.getCapturedShape(B.id)||this.getIntersection(B),Se=B.id,Z={evt:J,pointerId:Se},K=Ue!==ge;if(K&&Ue&&(Ue._fireAndBubble(oe.pointerout,{...Z},ge),Ue._fireAndBubble(oe.pointerleave,{...Z},ge)),ge){if(be[ge._id])return;be[ge._id]=!0}ge&&ge.isListening()?(Te=!0,K&&(ge._fireAndBubble(oe.pointerover,{...Z},Ue),ge._fireAndBubble(oe.pointerenter,{...Z},Ue),this[de+"targetShape"]=ge),ge._fireAndBubble(oe.pointermove,{...Z})):Ue&&(this._fire(oe.pointerover,{evt:J,target:this,currentTarget:this,pointerId:Se}),this[de+"targetShape"]=null)}),Te||this._fire(oe.pointermove,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(J){const oe=$(J.type),de=V(J.type);if(!oe)return;this.setPointersPositions(J);const me=this[de+"ClickStartShape"],be=this[de+"ClickEndShape"],Te={};let Ue=!1;this._changedPointerPositions.forEach(B=>{const ge=d.getCapturedShape(B.id)||this.getIntersection(B);if(ge){if(ge.releaseCapture(B.id),Te[ge._id])return;Te[ge._id]=!0}const Se=B.id,Z={evt:J,pointerId:Se};let K=!1;i.Konva["_"+de+"InDblClickWindow"]?(K=!0,clearTimeout(this[de+"DblTimeout"])):l.DD.justDragged||(i.Konva["_"+de+"InDblClickWindow"]=!0,clearTimeout(this[de+"DblTimeout"])),this[de+"DblTimeout"]=setTimeout(function(){i.Konva["_"+de+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ge&&ge.isListening()?(Ue=!0,this[de+"ClickEndShape"]=ge,ge._fireAndBubble(oe.pointerup,{...Z}),i.Konva["_"+de+"ListenClick"]&&me&&me===ge&&(ge._fireAndBubble(oe.pointerclick,{...Z}),K&&be&&be===ge&&ge._fireAndBubble(oe.pointerdblclick,{...Z}))):(this[de+"ClickEndShape"]=null,i.Konva["_"+de+"ListenClick"]&&this._fire(oe.pointerclick,{evt:J,target:this,currentTarget:this,pointerId:Se}),K&&this._fire(oe.pointerdblclick,{evt:J,target:this,currentTarget:this,pointerId:Se}))}),Ue||this._fire(oe.pointerup,{evt:J,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+de+"ListenClick"]=!1,J.cancelable&&de!=="touch"&&de!=="pointer"&&J.preventDefault()}_contextmenu(J){this.setPointersPositions(J);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(N,{evt:J}):this._fire(N,{evt:J,target:this,currentTarget:this})}_wheel(J){this.setPointersPositions(J);const oe=this.getIntersection(this.getPointerPosition());oe&&oe.isListening()?oe._fireAndBubble(W,{evt:J}):this._fire(W,{evt:J,target:this,currentTarget:this})}_pointercancel(J){this.setPointersPositions(J);const oe=d.getCapturedShape(J.pointerId)||this.getIntersection(this.getPointerPosition());oe&&oe._fireAndBubble(P,d.createEvent(J)),d.releaseCapture(J.pointerId)}_lostpointercapture(J){d.releaseCapture(J.pointerId)}setPointersPositions(J){const oe=this._getContentPosition();let de=null,me=null;J=J||window.event,J.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(J.touches,be=>{this._pointerPositions.push({id:be.identifier,x:(be.clientX-oe.left)/oe.scaleX,y:(be.clientY-oe.top)/oe.scaleY})}),Array.prototype.forEach.call(J.changedTouches||J.touches,be=>{this._changedPointerPositions.push({id:be.identifier,x:(be.clientX-oe.left)/oe.scaleX,y:(be.clientY-oe.top)/oe.scaleY})})):(de=(J.clientX-oe.left)/oe.scaleX,me=(J.clientY-oe.top)/oe.scaleY,this.pointerPos={x:de,y:me},this._pointerPositions=[{x:de,y:me,id:e.Util._getFirstPointerId(J)}],this._changedPointerPositions=[{x:de,y:me,id:e.Util._getFirstPointerId(J)}])}_setPointerPosition(J){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(J)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const J=this.content.getBoundingClientRect();return{top:J.top,left:J.left,scaleX:J.width/this.content.clientWidth||1,scaleY:J.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const J=this.container();if(!J)throw"Stage has no container. A container is required.";J.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),J.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(J){J.batchDraw()}),this}}n.Stage=te,te.prototype.nodeType=h,(0,s._registerNode)(te),t.Factory.addGetterSetter(te,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(pe=>{pe.batchDraw()})})}(z5)),z5}var Hf={},W5={},V8;function lr(){return V8||(V8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=vt(),t=In(),r=wt(),i=Fn(),o=xt(),l=vt(),s=hI(),d="hasShadow",h="shadowRGBA",f="patternImage",m="linearGradient",v="radialGradient";let g;function S(){return g||(g=t.Util.createCanvasElement().getContext("2d"),g)}n.shapes={};function y(k){const L=this.attrs.fillRule;L?k.fill(L):k.fill()}function C(k){k.stroke()}function x(k){const L=this.attrs.fillRule;L?k.fill(L):k.fill()}function b(k){k.stroke()}function w(){this._clearCache(d)}function T(){this._clearCache(h)}function P(){this._clearCache(f)}function A(){this._clearCache(m)}function F(){this._clearCache(v)}class E extends i.Node{constructor(L){super(L);let U;for(;U=t.Util.getRandomColor(),!(U&&!(U in n.shapes)););this.colorKey=U,n.shapes[U]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const U=S().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(U&&U.setTransform){const N=new t.Transform;N.translate(this.fillPatternX(),this.fillPatternY()),N.rotate(e.Konva.getAngle(this.fillPatternRotation())),N.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),N.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const R=N.getMatrix(),I=typeof DOMMatrix>"u"?{a:R[0],b:R[1],c:R[2],d:R[3],e:R[4],f:R[5]}:new DOMMatrix(R);U.setTransform(I)}return U}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){const L=this.fillLinearGradientColorStops();if(L){const U=S(),N=this.fillLinearGradientStartPoint(),R=this.fillLinearGradientEndPoint(),I=U.createLinearGradient(N.x,N.y,R.x,R.y);for(let _=0;_<L.length;_+=2)I.addColorStop(L[_],L[_+1]);return I}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const L=this.fillRadialGradientColorStops();if(L){const U=S(),N=this.fillRadialGradientStartPoint(),R=this.fillRadialGradientEndPoint(),I=U.createRadialGradient(N.x,N.y,this.fillRadialGradientStartRadius(),R.x,R.y,this.fillRadialGradientEndRadius());for(let _=0;_<L.length;_+=2)I.addColorStop(L[_],L[_+1]);return I}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const L=t.Util.colorToRGBA(this.shadowColor());if(L)return"rgba("+L.r+","+L.g+","+L.b+","+L.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const L=this.hitStrokeWidth();return L==="auto"?this.hasStroke():this.strokeEnabled()&&!!L}intersects(L){const U=this.getStage();if(!U)return!1;const N=U.bufferHitCanvas;return N.getContext().clear(),this.drawHit(N,void 0,!0),N.context.getImageData(Math.round(L.x),Math.round(L.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(L){var U;if(!((U=this.attrs.perfectDrawEnabled)!==null&&U!==void 0?U:!0))return!1;const R=L||this.hasFill(),I=this.hasStroke(),_=this.getAbsoluteOpacity()!==1;if(R&&I&&_)return!0;const q=this.hasShadow(),W=this.shadowForStrokeEnabled();return!!(R&&I&&q&&W)}setStrokeHitEnabled(L){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),L?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const L=this.size();return{x:this._centroid?-L.width/2:0,y:this._centroid?-L.height/2:0,width:L.width,height:L.height}}getClientRect(L={}){let U=!1,N=this.getParent();for(;N;){if(N.isCached()){U=!0;break}N=N.getParent()}const R=L.skipTransform,I=L.relativeTo||U&&this.getStage()||void 0,_=this.getSelfRect(),W=!L.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,j=_.width+W,H=_.height+W,X=!L.skipShadow&&this.hasShadow(),V=X?this.shadowOffsetX():0,$=X?this.shadowOffsetY():0,ne=j+Math.abs(V),ie=H+Math.abs($),te=X&&this.shadowBlur()||0,pe=ne+te*2,J=ie+te*2,oe={width:pe,height:J,x:-(W/2+te)+Math.min(V,0)+_.x,y:-(W/2+te)+Math.min($,0)+_.y};return R?oe:this._transformedRect(oe,I)}drawScene(L,U,N){const R=this.getLayer();let I=L||R.getCanvas(),_=I.getContext(),q=this._getCanvasCache(),W=this.getSceneFunc(),j=this.hasShadow(),H,X;const V=I.isCache,$=U===this;if(!this.isVisible()&&!$)return this;if(q){_.save();const ie=this.getAbsoluteTransform(U).getMatrix();return _.transform(ie[0],ie[1],ie[2],ie[3],ie[4],ie[5]),this._drawCachedSceneCanvas(_),_.restore(),this}if(!W)return this;if(_.save(),this._useBufferCanvas()&&!V){H=this.getStage();const ie=N||H.bufferCanvas;X=ie.getContext(),X.clear(),X.save(),X._applyLineJoin(this);var ne=this.getAbsoluteTransform(U).getMatrix();X.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),W.call(this,X,this),X.restore();const te=ie.pixelRatio;j&&_._applyShadow(this),_._applyOpacity(this),_._applyGlobalCompositeOperation(this),_.drawImage(ie._canvas,0,0,ie.width/te,ie.height/te)}else{if(_._applyLineJoin(this),!$){var ne=this.getAbsoluteTransform(U).getMatrix();_.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),_._applyOpacity(this),_._applyGlobalCompositeOperation(this)}j&&_._applyShadow(this),W.call(this,_,this)}return _.restore(),this}drawHit(L,U,N=!1){if(!this.shouldDrawHit(U,N))return this;const R=this.getLayer(),I=L||R.hitCanvas,_=I&&I.getContext(),q=this.hitFunc()||this.sceneFunc(),W=this._getCanvasCache(),j=W&&W.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),j){_.save();const X=this.getAbsoluteTransform(U).getMatrix();return _.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._drawCachedHitCanvas(_),_.restore(),this}if(!q)return this;if(_.save(),_._applyLineJoin(this),!(this===U)){const X=this.getAbsoluteTransform(U).getMatrix();_.transform(X[0],X[1],X[2],X[3],X[4],X[5])}return q.call(this,_,this),_.restore(),this}drawHitFromCache(L=0){const U=this._getCanvasCache(),N=this._getCachedSceneCanvas(),R=U.hit,I=R.getContext(),_=R.getWidth(),q=R.getHeight();I.clear(),I.drawImage(N._canvas,0,0,_,q);try{const W=I.getImageData(0,0,_,q),j=W.data,H=j.length,X=t.Util._hexToRgb(this.colorKey);for(let V=0;V<H;V+=4)j[V+3]>L?(j[V]=X.r,j[V+1]=X.g,j[V+2]=X.b,j[V+3]=255):j[V+3]=0;I.putImageData(W,0,0)}catch(W){t.Util.error("Unable to draw hit graph from cached scene canvas. "+W.message)}return this}hasPointerCapture(L){return s.hasPointerCapture(L,this)}setPointerCapture(L){s.setPointerCapture(L,this)}releaseCapture(L){s.releaseCapture(L,this)}}n.Shape=E,E.prototype._fillFunc=y,E.prototype._strokeFunc=C,E.prototype._fillFuncHit=x,E.prototype._strokeFuncHit=b,E.prototype._centroid=!1,E.prototype.nodeType="Shape",(0,l._registerNode)(E),E.prototype.eventListeners={},E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),E.prototype.on.call(E.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",T),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",P),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",A),E.prototype.on.call(E.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),r.Factory.addGetterSetter(E,"stroke",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"strokeWidth",2,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(E,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(E,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(E,"lineJoin"),r.Factory.addGetterSetter(E,"lineCap"),r.Factory.addGetterSetter(E,"sceneFunc"),r.Factory.addGetterSetter(E,"hitFunc"),r.Factory.addGetterSetter(E,"dash"),r.Factory.addGetterSetter(E,"dashOffset",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowColor",void 0,(0,o.getStringValidator)()),r.Factory.addGetterSetter(E,"shadowBlur",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOpacity",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(E,"shadowOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"shadowOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternImage"),r.Factory.addGetterSetter(E,"fill",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(E,"fillPatternX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(E,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(E,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(E,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(E,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(E,"fillEnabled",!0),r.Factory.addGetterSetter(E,"strokeEnabled",!0),r.Factory.addGetterSetter(E,"shadowEnabled",!0),r.Factory.addGetterSetter(E,"dashEnabled",!0),r.Factory.addGetterSetter(E,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(E,"fillPriority","color"),r.Factory.addComponentsGetterSetter(E,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(E,"fillPatternScaleX",1,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(E,"fillPatternScaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(E,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(E,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(E,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(E,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(E,"fillPatternRotation",0),r.Factory.addGetterSetter(E,"fillRule",void 0,(0,o.getStringValidator)()),r.Factory.backCompat(E,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(W5)),W5}var G8;function fI(){if(G8)return Hf;G8=1,Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.Layer=void 0;const n=In(),e=Oy(),t=Fn(),r=wt(),i=Ay(),o=xt(),l=lr(),s=vt(),d="#",h="beforeDraw",f="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=m.length;let g=class extends e.Container{constructor(y){super(y),this.canvas=new i.SceneCanvas,this.hitCanvas=new i.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const C=this.getStage();return C&&C.content&&(C.content.removeChild(this.getNativeCanvasElement()),y<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[y+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const C=this.getStage();return!C||!C.content?!1:(C.content.removeChild(this.getNativeCanvasElement()),this.index<C.children.length-1?C.content.insertBefore(this.getNativeCanvasElement(),C.children[this.index+1].getCanvas()._canvas):C.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const C=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),C[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),y&&y.parentNode&&n.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:C}){return this.canvas.setSize(y,C),this.hitCanvas.setSize(y,C),this._setSmoothEnabled(),this}_validateAdd(y){const C=y.getType();C!=="Group"&&C!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let C=1,x=!1;for(;;){for(let b=0;b<v;b++){const w=m[b],T=this._getIntersection({x:y.x+w.x*C,y:y.y+w.y*C}),P=T.shape;if(P)return P;if(x=!!T.antialiased,!T.antialiased)break}if(x)C+=1;else return null}}_getIntersection(y){const C=this.hitCanvas.pixelRatio,x=this.hitCanvas.context.getImageData(Math.round(y.x*C),Math.round(y.y*C),1,1).data,b=x[3];if(b===255){const w=n.Util._rgbToHex(x[0],x[1],x[2]),T=l.shapes[d+w];return T?{shape:T}:{antialiased:!0}}else if(b>0)return{antialiased:!0};return{}}drawScene(y,C){const x=this.getLayer(),b=y||x&&x.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&b.getContext().clear(),e.Container.prototype.drawScene.call(this,b,C),this._fire(f,{node:this}),this}drawHit(y,C){const x=this.getLayer(),b=y||x&&x.hitCanvas;return x&&x.clearBeforeDraw()&&x.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,b,C),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Hf.Layer=g,g.prototype.nodeType="Layer",(0,s._registerNode)(g),r.Factory.addGetterSetter(g,"imageSmoothingEnabled",!0),r.Factory.addGetterSetter(g,"clearBeforeDraw",!0),r.Factory.addGetterSetter(g,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),Hf}var jf={},Q8;function Cq(){if(Q8)return jf;Q8=1,Object.defineProperty(jf,"__esModule",{value:!0}),jf.FastLayer=void 0;const n=In(),e=fI(),t=vt();let r=class extends e.Layer{constructor(o){super(o),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return jf.FastLayer=r,r.prototype.nodeType="FastLayer",(0,t._registerNode)(r),jf}var $f={},z8;function ow(){if(z8)return $f;z8=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.Group=void 0;const n=In(),e=Oy(),t=vt();let r=class extends e.Container{_validateAdd(o){const l=o.getType();l!=="Group"&&l!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return $f.Group=r,r.prototype.nodeType="Group",(0,t._registerNode)(r),$f}var Yf={},W8;function aw(){if(W8)return Yf;W8=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.Animation=void 0;const n=vt(),e=In(),t=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let r=class Gd{constructor(o,l){this.id=Gd.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=o,this.setLayers(l)}setLayers(o){let l=[];return o&&(l=Array.isArray(o)?o:[o]),this.layers=l,this}getLayers(){return this.layers}addLayer(o){const l=this.layers,s=l.length;for(let d=0;d<s;d++)if(l[d]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const l=Gd.animations,s=l.length;for(let d=0;d<s;d++)if(l[d].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),Gd._addAnimation(this),this}stop(){return Gd._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const l=o.id,s=this.animations,d=s.length;for(let h=0;h<d;h++)if(s[h].id===l){this.animations.splice(h,1);break}}static _runFrames(){const o={},l=this.animations;for(let s=0;s<l.length;s++){const d=l[s],h=d.layers,f=d.func;d._updateFrameObject(t());const m=h.length;let v;if(f?v=f.call(d,d.frame)!==!1:v=!0,!!v)for(let g=0;g<m;g++){const S=h[g];S._id!==void 0&&(o[S._id]=S)}}for(const s in o)o.hasOwnProperty(s)&&o[s].batchDraw()}static _animationLoop(){const o=Gd;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return Yf.Animation=r,r.animations=[],r.animIdCounter=0,r.animRunning=!1,Yf}var H5={},H8;function wq(){return H8||(H8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=In(),t=aw(),r=Fn(),i=vt(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,s=2,d=3,h=["fill","stroke","shadowColor"];let f=0;class m{constructor(S,y,C,x,b,w,T){this.prop=S,this.propFunc=y,this.begin=x,this._pos=x,this.duration=w,this._change=0,this.prevPos=0,this.yoyo=T,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=b-this.begin,this.pause()}fire(S){const y=this[S];y&&y()}setTime(S){S>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():S<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=S,this.update())}getTime(){return this._time}setPosition(S){this.prevPos=this._pos,this.propFunc(S),this._pos=S}getPosition(S){return S===void 0&&(S=this._time),this.func(S,this.begin,this._change,this.duration)}play(){this.state=s,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(S){this.pause(),this._time=S,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const S=this.getTimer()-this._startTime;this.state===s?this.setTime(S):this.state===d&&this.setTime(this.duration-S)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(S){const y=this,C=S.node,x=C._id,b=S.easing||n.Easings.Linear,w=!!S.yoyo;let T,P;typeof S.duration>"u"?T=.3:S.duration===0?T=.001:T=S.duration,this.node=C,this._id=f++;const A=C.getLayer()||(C instanceof i.Konva.Stage?C.getLayers():null);A||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){y.tween.onEnterFrame()},A),this.tween=new m(P,function(F){y._tweenFunc(F)},b,0,1,T*1e3,w),this._addListeners(),v.attrs[x]||(v.attrs[x]={}),v.attrs[x][this._id]||(v.attrs[x][this._id]={}),v.tweens[x]||(v.tweens[x]={});for(P in S)o[P]===void 0&&this._addAttr(P,S[P]);this.reset(),this.onFinish=S.onFinish,this.onReset=S.onReset,this.onUpdate=S.onUpdate}_addAttr(S,y){const C=this.node,x=C._id;let b,w,T,P,A;const F=v.tweens[x][S];F&&delete v.attrs[x][F][S];let E=C.getAttr(S);if(e.Util._isArray(y))if(b=[],w=Math.max(y.length,E.length),S==="points"&&y.length!==E.length&&(y.length>E.length?(P=E,E=e.Util._prepareArrayForTween(E,y,C.closed())):(T=y,y=e.Util._prepareArrayForTween(y,E,C.closed()))),S.indexOf("fill")===0)for(let k=0;k<w;k++)if(k%2===0)b.push(y[k]-E[k]);else{const L=e.Util.colorToRGBA(E[k]);A=e.Util.colorToRGBA(y[k]),E[k]=L,b.push({r:A.r-L.r,g:A.g-L.g,b:A.b-L.b,a:A.a-L.a})}else for(let k=0;k<w;k++)b.push(y[k]-E[k]);else h.indexOf(S)!==-1?(E=e.Util.colorToRGBA(E),A=e.Util.colorToRGBA(y),b={r:A.r-E.r,g:A.g-E.g,b:A.b-E.b,a:A.a-E.a}):b=y-E;v.attrs[x][this._id][S]={start:E,diff:b,end:y,trueEnd:T,trueStart:P},v.tweens[x][S]=this._id}_tweenFunc(S){const y=this.node,C=v.attrs[y._id][this._id];let x,b,w,T,P,A,F,E;for(x in C){if(b=C[x],w=b.start,T=b.diff,E=b.end,e.Util._isArray(w))if(P=[],F=Math.max(w.length,E.length),x.indexOf("fill")===0)for(A=0;A<F;A++)A%2===0?P.push((w[A]||0)+T[A]*S):P.push("rgba("+Math.round(w[A].r+T[A].r*S)+","+Math.round(w[A].g+T[A].g*S)+","+Math.round(w[A].b+T[A].b*S)+","+(w[A].a+T[A].a*S)+")");else for(A=0;A<F;A++)P.push((w[A]||0)+T[A]*S);else h.indexOf(x)!==-1?P="rgba("+Math.round(w.r+T.r*S)+","+Math.round(w.g+T.g*S)+","+Math.round(w.b+T.b*S)+","+(w.a+T.a*S)+")":P=w+T*S;y.setAttr(x,P)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueEnd&&S.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueStart&&S.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(S){return this.tween.seek(S*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const S=this.node._id,y=this._id,C=v.tweens[S];this.pause();for(const x in C)delete v.tweens[S][x];delete v.attrs[S][y]}}n.Tween=v,v.attrs={},v.tweens={},r.Node.prototype.to=function(g){const S=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),S&&S()},new v(g).play()},n.Easings={BackEaseIn(g,S,y,C){return y*(g/=C)*g*((1.70158+1)*g-1.70158)+S},BackEaseOut(g,S,y,C){return y*((g=g/C-1)*g*((1.70158+1)*g+1.70158)+1)+S},BackEaseInOut(g,S,y,C){let x=1.70158;return(g/=C/2)<1?y/2*(g*g*(((x*=1.525)+1)*g-x))+S:y/2*((g-=2)*g*(((x*=1.525)+1)*g+x)+2)+S},ElasticEaseIn(g,S,y,C,x,b){let w=0;return g===0?S:(g/=C)===1?S+y:(b||(b=C*.3),!x||x<Math.abs(y)?(x=y,w=b/4):w=b/(2*Math.PI)*Math.asin(y/x),-(x*Math.pow(2,10*(g-=1))*Math.sin((g*C-w)*(2*Math.PI)/b))+S)},ElasticEaseOut(g,S,y,C,x,b){let w=0;return g===0?S:(g/=C)===1?S+y:(b||(b=C*.3),!x||x<Math.abs(y)?(x=y,w=b/4):w=b/(2*Math.PI)*Math.asin(y/x),x*Math.pow(2,-10*g)*Math.sin((g*C-w)*(2*Math.PI)/b)+y+S)},ElasticEaseInOut(g,S,y,C,x,b){let w=0;return g===0?S:(g/=C/2)===2?S+y:(b||(b=C*(.3*1.5)),!x||x<Math.abs(y)?(x=y,w=b/4):w=b/(2*Math.PI)*Math.asin(y/x),g<1?-.5*(x*Math.pow(2,10*(g-=1))*Math.sin((g*C-w)*(2*Math.PI)/b))+S:x*Math.pow(2,-10*(g-=1))*Math.sin((g*C-w)*(2*Math.PI)/b)*.5+y+S)},BounceEaseOut(g,S,y,C){return(g/=C)<1/2.75?y*(7.5625*g*g)+S:g<2/2.75?y*(7.5625*(g-=1.5/2.75)*g+.75)+S:g<2.5/2.75?y*(7.5625*(g-=2.25/2.75)*g+.9375)+S:y*(7.5625*(g-=2.625/2.75)*g+.984375)+S},BounceEaseIn(g,S,y,C){return y-n.Easings.BounceEaseOut(C-g,0,y,C)+S},BounceEaseInOut(g,S,y,C){return g<C/2?n.Easings.BounceEaseIn(g*2,0,y,C)*.5+S:n.Easings.BounceEaseOut(g*2-C,0,y,C)*.5+y*.5+S},EaseIn(g,S,y,C){return y*(g/=C)*g+S},EaseOut(g,S,y,C){return-y*(g/=C)*(g-2)+S},EaseInOut(g,S,y,C){return(g/=C/2)<1?y/2*g*g+S:-y/2*(--g*(g-2)-1)+S},StrongEaseIn(g,S,y,C){return y*(g/=C)*g*g*g*g+S},StrongEaseOut(g,S,y,C){return y*((g=g/C-1)*g*g*g*g+1)+S},StrongEaseInOut(g,S,y,C){return(g/=C/2)<1?y/2*g*g*g*g*g+S:y/2*((g-=2)*g*g*g*g+2)+S},Linear(g,S,y,C){return y*g/C+S}}}(H5)),H5}var j8;function bq(){return j8||(j8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=vt(),t=In(),r=Fn(),i=Oy(),o=vq(),l=fI(),s=Cq(),d=ow(),h=iw(),f=lr(),m=aw(),v=wq(),g=dI(),S=Ay();n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:r.Node,Container:i.Container,Stage:o.Stage,stages:o.stages,Layer:l.Layer,FastLayer:s.FastLayer,Group:d.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:m.Animation,Tween:v.Tween,Easings:v.Easings,Context:g.Context,Canvas:S.Canvas}),n.default=n.Konva}(B5)),B5}var Xf={},$8;function Dq(){if($8)return Xf;$8=1,Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.Arc=void 0;const n=wt(),e=lr(),t=vt(),r=xt(),i=vt();let o=class extends e.Shape{_sceneFunc(s){const d=t.Konva.getAngle(this.angle()),h=this.clockwise();s.beginPath(),s.arc(0,0,this.outerRadius(),0,d,h),s.arc(0,0,this.innerRadius(),d,0,!h),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}getSelfRect(){const s=this.innerRadius(),d=this.outerRadius(),h=this.clockwise(),f=t.Konva.getAngle(h?360-this.angle():this.angle()),m=Math.cos(Math.min(f,Math.PI)),v=1,g=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),S=Math.sin(Math.min(f,Math.PI/2)),y=m*(m>0?s:d),C=v*d,x=g*(g>0?s:d),b=S*(S>0?d:s);return{x:y,y:h?-1*b:x,width:C-y,height:b-x}}};return Xf.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1,(0,r.getBooleanValidator)()),Xf}var Kf={},Zf={},Y8;function pI(){if(Y8)return Zf;Y8=1,Object.defineProperty(Zf,"__esModule",{value:!0}),Zf.Line=void 0;const n=wt(),e=vt(),t=lr(),r=xt();function i(s,d,h,f,m,v,g){const S=Math.sqrt(Math.pow(h-s,2)+Math.pow(f-d,2)),y=Math.sqrt(Math.pow(m-h,2)+Math.pow(v-f,2)),C=g*S/(S+y),x=g*y/(S+y),b=h-C*(m-s),w=f-C*(v-d),T=h+x*(m-s),P=f+x*(v-d);return[b,w,T,P]}function o(s,d){const h=s.length,f=[];for(let m=2;m<h-2;m+=2){const v=i(s[m-2],s[m-1],s[m],s[m+1],s[m+2],s[m+3],d);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(s[m]),f.push(s[m+1]),f.push(v[2]),f.push(v[3]))}return f}let l=class extends t.Shape{constructor(d){super(d),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(d){let h=this.points(),f=h.length,m=this.tension(),v=this.closed(),g=this.bezier(),S,y,C;if(f){if(d.beginPath(),d.moveTo(h[0],h[1]),m!==0&&f>4){for(S=this.getTensionPoints(),y=S.length,C=v?0:4,v||d.quadraticCurveTo(S[0],S[1],S[2],S[3]);C<y-2;)d.bezierCurveTo(S[C++],S[C++],S[C++],S[C++],S[C++],S[C++]);v||d.quadraticCurveTo(S[y-2],S[y-1],h[f-2],h[f-1])}else if(g)for(C=2;C<f;)d.bezierCurveTo(h[C++],h[C++],h[C++],h[C++],h[C++],h[C++]);else for(C=2;C<f;C+=2)d.lineTo(h[C],h[C+1]);v?(d.closePath(),d.fillStrokeShape(this)):d.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const d=this.points(),h=d.length,f=this.tension(),m=i(d[h-2],d[h-1],d[0],d[1],d[2],d[3],f),v=i(d[h-4],d[h-3],d[h-2],d[h-1],d[0],d[1],f),g=o(d,f);return[m[2],m[3]].concat(g).concat([v[0],v[1],d[h-2],d[h-1],v[2],v[3],m[0],m[1],d[0],d[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let d=this.points();if(d.length<4)return{x:d[0]||0,y:d[1]||0,width:0,height:0};this.tension()!==0?d=[d[0],d[1],...this._getTensionPoints(),d[d.length-2],d[d.length-1]]:d=this.points();let h=d[0],f=d[0],m=d[1],v=d[1],g,S;for(let y=0;y<d.length/2;y++)g=d[y*2],S=d[y*2+1],h=Math.min(h,g),f=Math.max(f,g),m=Math.min(m,S),v=Math.max(v,S);return{x:h,y:m,width:f-h,height:v-m}}};return Zf.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(l),n.Factory.addGetterSetter(l,"closed",!1),n.Factory.addGetterSetter(l,"bezier",!1),n.Factory.addGetterSetter(l,"tension",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(l,"points",[],(0,r.getNumberArrayValidator)()),Zf}var Jf={},j5={},X8;function xq(){return X8||(X8=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,s,d)=>{let h,f;const v=d/2;h=0;for(let g=0;g<20;g++)f=v*n.tValues[20][g]+v,h+=n.cValues[20][g]*r(l,s,f);return v*h};n.getCubicArcLength=e;const t=(l,s,d)=>{d===void 0&&(d=1);const h=l[0]-2*l[1]+l[2],f=s[0]-2*s[1]+s[2],m=2*l[1]-2*l[0],v=2*s[1]-2*s[0],g=4*(h*h+f*f),S=4*(h*m+f*v),y=m*m+v*v;if(g===0)return d*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(s[2]-s[0],2));const C=S/(2*g),x=y/g,b=d+C,w=x-C*C,T=b*b+w>0?Math.sqrt(b*b+w):0,P=C*C+w>0?Math.sqrt(C*C+w):0,A=C+Math.sqrt(C*C+w)!==0?w*Math.log(Math.abs((b+T)/(C+P))):0;return Math.sqrt(g)/2*(b*T-C*P+A)};n.getQuadraticArcLength=t;function r(l,s,d){const h=i(1,d,l),f=i(1,d,s),m=h*h+f*f;return Math.sqrt(m)}const i=(l,s,d)=>{const h=d.length-1;let f,m;if(h===0)return 0;if(l===0){m=0;for(let v=0;v<=h;v++)m+=n.binomialCoefficients[h][v]*Math.pow(1-s,h-v)*Math.pow(s,v)*d[v];return m}else{f=new Array(h);for(let v=0;v<h;v++)f[v]=h*(d[v+1]-d[v]);return i(l-1,s,f)}},o=(l,s,d)=>{let h=1,f=l/s,m=(l-d(f))/s,v=0;for(;h>.001;){const g=d(f+m),S=Math.abs(l-g)/s;if(S<h)h=S,f+=m;else{const y=d(f-m),C=Math.abs(l-y)/s;C<h?(h=C,f-=m):m/=2}if(v++,v>500)break}return f};n.t2length=o}(j5)),j5}var K8;function sw(){if(K8)return Jf;K8=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.Path=void 0;const n=wt(),e=lr(),t=vt(),r=xq();let i=class Xr extends e.Shape{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Xr.parsePathData(this.data()),this.pathLength=Xr.getPathLength(this.dataArray)}_sceneFunc(l){const s=this.dataArray;l.beginPath();let d=!1;for(let T=0;T<s.length;T++){const P=s[T].command,A=s[T].points;switch(P){case"L":l.lineTo(A[0],A[1]);break;case"M":l.moveTo(A[0],A[1]);break;case"C":l.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case"Q":l.quadraticCurveTo(A[0],A[1],A[2],A[3]);break;case"A":var h=A[0],f=A[1],m=A[2],v=A[3],g=A[4],S=A[5],y=A[6],C=A[7],x=m>v?m:v,b=m>v?1:m/v,w=m>v?v/m:1;l.translate(h,f),l.rotate(y),l.scale(b,w),l.arc(0,0,x,g,g+S,1-C),l.scale(1/b,1/w),l.rotate(-y),l.translate(-h,-f);break;case"z":d=!0,l.closePath();break}}!d&&!this.hasFill()?l.strokeShape(this):l.fillStrokeShape(this)}getSelfRect(){let l=[];this.dataArray.forEach(function(g){if(g.command==="A"){const S=g.points[4],y=g.points[5],C=g.points[4]+y;let x=Math.PI/180;if(Math.abs(S-C)<x&&(x=Math.abs(S-C)),y<0)for(let b=S-x;b>C;b-=x){const w=Xr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],b,0);l.push(w.x,w.y)}else for(let b=S+x;b<C;b+=x){const w=Xr.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],b,0);l.push(w.x,w.y)}}else if(g.command==="C")for(let S=0;S<=1;S+=.01){const y=Xr.getPointOnCubicBezier(S,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);l.push(y.x,y.y)}else l=l.concat(g.points)});let s=l[0],d=l[0],h=l[1],f=l[1],m,v;for(let g=0;g<l.length/2;g++)m=l[g*2],v=l[g*2+1],isNaN(m)||(s=Math.min(s,m),d=Math.max(d,m)),isNaN(v)||(h=Math.min(h,v),f=Math.max(f,v));return{x:s,y:h,width:d-s,height:f-h}}getLength(){return this.pathLength}getPointAtLength(l){return Xr.getPointAtLengthOfDataArray(l,this.dataArray)}static getLineLength(l,s,d,h){return Math.sqrt((d-l)*(d-l)+(h-s)*(h-s))}static getPathLength(l){let s=0;for(let d=0;d<l.length;++d)s+=l[d].pathLength;return s}static getPointAtLengthOfDataArray(l,s){let d,h=0,f=s.length;if(!f)return null;for(;h<f&&l>s[h].pathLength;)l-=s[h].pathLength,++h;if(h===f)return d=s[h-1].points.slice(-2),{x:d[0],y:d[1]};if(l<.01)return d=s[h].points.slice(0,2),{x:d[0],y:d[1]};const m=s[h],v=m.points;switch(m.command){case"L":return Xr.getPointOnLine(l,m.start.x,m.start.y,v[0],v[1]);case"C":return Xr.getPointOnCubicBezier((0,r.t2length)(l,Xr.getPathLength(s),T=>(0,r.getCubicArcLength)([m.start.x,v[0],v[2],v[4]],[m.start.y,v[1],v[3],v[5]],T)),m.start.x,m.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Xr.getPointOnQuadraticBezier((0,r.t2length)(l,Xr.getPathLength(s),T=>(0,r.getQuadraticArcLength)([m.start.x,v[0],v[2]],[m.start.y,v[1],v[3]],T)),m.start.x,m.start.y,v[0],v[1],v[2],v[3]);case"A":var g=v[0],S=v[1],y=v[2],C=v[3],x=v[4],b=v[5],w=v[6];return x+=b*l/m.pathLength,Xr.getPointOnEllipticalArc(g,S,y,C,x,w)}return null}static getPointOnLine(l,s,d,h,f,m,v){m=m??s,v=v??d;const g=this.getLineLength(s,d,h,f);if(g<1e-10)return{x:s,y:d};if(h===s)return{x:m,y:v+(f>d?l:-l)};const S=(f-d)/(h-s),y=Math.sqrt(l*l/(1+S*S))*(h<s?-1:1),C=S*y;if(Math.abs(v-d-S*(m-s))<1e-10)return{x:m+y,y:v+C};const x=((m-s)*(h-s)+(v-d)*(f-d))/(g*g),b=s+x*(h-s),w=d+x*(f-d),T=this.getLineLength(m,v,b,w),P=Math.sqrt(l*l-T*T),A=Math.sqrt(P*P/(1+S*S))*(h<s?-1:1),F=S*A;return{x:b+A,y:w+F}}static getPointOnCubicBezier(l,s,d,h,f,m,v,g,S){function y(P){return P*P*P}function C(P){return 3*P*P*(1-P)}function x(P){return 3*P*(1-P)*(1-P)}function b(P){return(1-P)*(1-P)*(1-P)}const w=g*y(l)+m*C(l)+h*x(l)+s*b(l),T=S*y(l)+v*C(l)+f*x(l)+d*b(l);return{x:w,y:T}}static getPointOnQuadraticBezier(l,s,d,h,f,m,v){function g(b){return b*b}function S(b){return 2*b*(1-b)}function y(b){return(1-b)*(1-b)}const C=m*g(l)+h*S(l)+s*y(l),x=v*g(l)+f*S(l)+d*y(l);return{x:C,y:x}}static getPointOnEllipticalArc(l,s,d,h,f,m){const v=Math.cos(m),g=Math.sin(m),S={x:d*Math.cos(f),y:h*Math.sin(f)};return{x:l+(S.x*v-S.y*g),y:s+(S.x*g+S.y*v)}}static parsePathData(l){if(!l)return[];let s=l;const d=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];s=s.replace(new RegExp(" ","g"),",");for(var h=0;h<d.length;h++)s=s.replace(new RegExp(d[h],"g"),"|"+d[h]);const f=s.split("|"),m=[],v=[];let g=0,S=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let C;for(h=1;h<f.length;h++){let R=f[h],I=R.charAt(0);for(R=R.slice(1),v.length=0;C=y.exec(R);)v.push(C[0]);const _=[];for(let q=0,W=v.length;q<W;q++){if(v[q]==="00"){_.push(0,0);continue}const j=parseFloat(v[q]);isNaN(j)?_.push(0):_.push(j)}for(;_.length>0&&!isNaN(_[0]);){let q="",W=[];const j=g,H=S;var x,b,w,T,P,A,F,E,k,L;switch(I){case"l":g+=_.shift(),S+=_.shift(),q="L",W.push(g,S);break;case"L":g=_.shift(),S=_.shift(),W.push(g,S);break;case"m":var U=_.shift(),N=_.shift();if(g+=U,S+=N,q="M",m.length>2&&m[m.length-1].command==="z"){for(let X=m.length-2;X>=0;X--)if(m[X].command==="M"){g=m[X].points[0]+U,S=m[X].points[1]+N;break}}W.push(g,S),I="l";break;case"M":g=_.shift(),S=_.shift(),q="M",W.push(g,S),I="L";break;case"h":g+=_.shift(),q="L",W.push(g,S);break;case"H":g=_.shift(),q="L",W.push(g,S);break;case"v":S+=_.shift(),q="L",W.push(g,S);break;case"V":S=_.shift(),q="L",W.push(g,S);break;case"C":W.push(_.shift(),_.shift(),_.shift(),_.shift()),g=_.shift(),S=_.shift(),W.push(g,S);break;case"c":W.push(g+_.shift(),S+_.shift(),g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),q="C",W.push(g,S);break;case"S":b=g,w=S,x=m[m.length-1],x.command==="C"&&(b=g+(g-x.points[2]),w=S+(S-x.points[3])),W.push(b,w,_.shift(),_.shift()),g=_.shift(),S=_.shift(),q="C",W.push(g,S);break;case"s":b=g,w=S,x=m[m.length-1],x.command==="C"&&(b=g+(g-x.points[2]),w=S+(S-x.points[3])),W.push(b,w,g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),q="C",W.push(g,S);break;case"Q":W.push(_.shift(),_.shift()),g=_.shift(),S=_.shift(),W.push(g,S);break;case"q":W.push(g+_.shift(),S+_.shift()),g+=_.shift(),S+=_.shift(),q="Q",W.push(g,S);break;case"T":b=g,w=S,x=m[m.length-1],x.command==="Q"&&(b=g+(g-x.points[0]),w=S+(S-x.points[1])),g=_.shift(),S=_.shift(),q="Q",W.push(b,w,g,S);break;case"t":b=g,w=S,x=m[m.length-1],x.command==="Q"&&(b=g+(g-x.points[0]),w=S+(S-x.points[1])),g+=_.shift(),S+=_.shift(),q="Q",W.push(b,w,g,S);break;case"A":T=_.shift(),P=_.shift(),A=_.shift(),F=_.shift(),E=_.shift(),k=g,L=S,g=_.shift(),S=_.shift(),q="A",W=this.convertEndpointToCenterParameterization(k,L,g,S,F,E,T,P,A);break;case"a":T=_.shift(),P=_.shift(),A=_.shift(),F=_.shift(),E=_.shift(),k=g,L=S,g+=_.shift(),S+=_.shift(),q="A",W=this.convertEndpointToCenterParameterization(k,L,g,S,F,E,T,P,A);break}m.push({command:q||I,points:W,start:{x:j,y:H},pathLength:this.calcLength(j,H,q||I,W)})}(I==="z"||I==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(l,s,d,h){let f,m,v,g;const S=Xr;switch(d){case"L":return S.getLineLength(l,s,h[0],h[1]);case"C":return(0,r.getCubicArcLength)([l,h[0],h[2],h[4]],[s,h[1],h[3],h[5]],1);case"Q":return(0,r.getQuadraticArcLength)([l,h[0],h[2]],[s,h[1],h[3]],1);case"A":f=0;var y=h[4],C=h[5],x=h[4]+C,b=Math.PI/180;if(Math.abs(y-x)<b&&(b=Math.abs(y-x)),m=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],y,0),C<0)for(g=y-b;g>x;g-=b)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;else for(g=y+b;g<x;g+=b)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],g,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;return v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],x,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(l,s,d,h,f,m,v,g,S){const y=S*(Math.PI/180),C=Math.cos(y)*(l-d)/2+Math.sin(y)*(s-h)/2,x=-1*Math.sin(y)*(l-d)/2+Math.cos(y)*(s-h)/2,b=C*C/(v*v)+x*x/(g*g);b>1&&(v*=Math.sqrt(b),g*=Math.sqrt(b));let w=Math.sqrt((v*v*(g*g)-v*v*(x*x)-g*g*(C*C))/(v*v*(x*x)+g*g*(C*C)));f===m&&(w*=-1),isNaN(w)&&(w=0);const T=w*v*x/g,P=w*-g*C/v,A=(l+d)/2+Math.cos(y)*T-Math.sin(y)*P,F=(s+h)/2+Math.sin(y)*T+Math.cos(y)*P,E=function(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])},k=function(_,q){return(_[0]*q[0]+_[1]*q[1])/(E(_)*E(q))},L=function(_,q){return(_[0]*q[1]<_[1]*q[0]?-1:1)*Math.acos(k(_,q))},U=L([1,0],[(C-T)/v,(x-P)/g]),N=[(C-T)/v,(x-P)/g],R=[(-1*C-T)/v,(-1*x-P)/g];let I=L(N,R);return k(N,R)<=-1&&(I=Math.PI),k(N,R)>=1&&(I=0),m===0&&I>0&&(I=I-2*Math.PI),m===1&&I<0&&(I=I+2*Math.PI),[A,F,v,g,U,I,y,m]}};return Jf.Path=i,i.prototype.className="Path",i.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(i),n.Factory.addGetterSetter(i,"data"),Jf}var Z8;function Tq(){if(Z8)return Kf;Z8=1,Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.Arrow=void 0;const n=wt(),e=pI(),t=xt(),r=vt(),i=sw();let o=class extends e.Line{_sceneFunc(s){super._sceneFunc(s);const d=Math.PI*2,h=this.points();let f=h;const m=this.tension()!==0&&h.length>4;m&&(f=this.getTensionPoints());const v=this.pointerLength(),g=h.length;let S,y;if(m){const b=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],h[g-2],h[g-1]],w=i.Path.calcLength(f[f.length-4],f[f.length-3],"C",b),T=i.Path.getPointOnQuadraticBezier(Math.min(1,1-v/w),b[0],b[1],b[2],b[3],b[4],b[5]);S=h[g-2]-T.x,y=h[g-1]-T.y}else S=h[g-2]-h[g-4],y=h[g-1]-h[g-3];const C=(Math.atan2(y,S)+d)%d,x=this.pointerWidth();this.pointerAtEnding()&&(s.save(),s.beginPath(),s.translate(h[g-2],h[g-1]),s.rotate(C),s.moveTo(0,0),s.lineTo(-v,x/2),s.lineTo(-v,-x/2),s.closePath(),s.restore(),this.__fillStroke(s)),this.pointerAtBeginning()&&(s.save(),s.beginPath(),s.translate(h[0],h[1]),m?(S=(f[0]+f[2])/2-h[0],y=(f[1]+f[3])/2-h[1]):(S=h[2]-h[0],y=h[3]-h[1]),s.rotate((Math.atan2(-y,-S)+d)%d),s.moveTo(0,0),s.lineTo(-v,x/2),s.lineTo(-v,-x/2),s.closePath(),s.restore(),this.__fillStroke(s))}__fillStroke(s){const d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,s.setLineDash([])),s.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const s=super.getSelfRect(),d=this.pointerWidth()/2;return{x:s.x,y:s.y-d,width:s.width,height:s.height+d*2}}};return Kf.Arrow=o,o.prototype.className="Arrow",(0,r._registerNode)(o),n.Factory.addGetterSetter(o,"pointerLength",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerWidth",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerAtBeginning",!1),n.Factory.addGetterSetter(o,"pointerAtEnding",!0),Kf}var e1={},J8;function Pq(){if(J8)return e1;J8=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.Circle=void 0;const n=wt(),e=lr(),t=xt(),r=vt();let i=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}};return e1.Circle=i,i.prototype._centroid=!0,i.prototype.className="Circle",i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"radius",0,(0,t.getNumberValidator)()),e1}var t1={},ex;function Iq(){if(ex)return t1;ex=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.Ellipse=void 0;const n=wt(),e=lr(),t=xt(),r=vt();let i=class extends e.Shape{_sceneFunc(l){const s=this.radiusX(),d=this.radiusY();l.beginPath(),l.save(),s!==d&&l.scale(1,d/s),l.arc(0,0,s,0,Math.PI*2,!1),l.restore(),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(l){this.radiusX(l/2)}setHeight(l){this.radiusY(l/2)}};return t1.Ellipse=i,i.prototype.className="Ellipse",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,r._registerNode)(i),n.Factory.addComponentsGetterSetter(i,"radius",["x","y"]),n.Factory.addGetterSetter(i,"radiusX",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"radiusY",0,(0,t.getNumberValidator)()),t1}var n1={},tx;function Lq(){if(tx)return n1;tx=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.Image=void 0;const n=In(),e=wt(),t=lr(),r=vt(),i=xt();class o extends t.Shape{constructor(s){super(s),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",d=>{this._removeImageLoad(d.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const s=this.image();s&&s.complete||s&&s.readyState===4||s&&s.addEventListener&&s.addEventListener("load",this._loadListener)}_removeImageLoad(s){s&&s.removeEventListener&&s.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const s=!!this.cornerRadius(),d=this.hasShadow();return s&&d?!0:super._useBufferCanvas(!0)}_sceneFunc(s){const d=this.getWidth(),h=this.getHeight(),f=this.cornerRadius(),m=this.attrs.image;let v;if(m){const g=this.attrs.cropWidth,S=this.attrs.cropHeight;g&&S?v=[m,this.cropX(),this.cropY(),g,S,0,0,d,h]:v=[m,0,0,d,h]}(this.hasFill()||this.hasStroke()||f)&&(s.beginPath(),f?n.Util.drawRoundedRectPath(s,d,h,f):s.rect(0,0,d,h),s.closePath(),s.fillStrokeShape(this)),m&&(f&&s.clip(),s.drawImage.apply(s,v))}_hitFunc(s){const d=this.width(),h=this.height(),f=this.cornerRadius();s.beginPath(),f?n.Util.drawRoundedRectPath(s,d,h,f):s.rect(0,0,d,h),s.closePath(),s.fillStrokeShape(this)}getWidth(){var s,d;return(s=this.attrs.width)!==null&&s!==void 0?s:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var s,d;return(s=this.attrs.height)!==null&&s!==void 0?s:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(s,d,h=null){const f=n.Util.createImageElement();f.onload=function(){const m=new o({image:f});d(m)},f.onerror=h,f.crossOrigin="Anonymous",f.src=s}}return n1.Image=o,o.prototype.className="Image",(0,r._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,i.getNumberValidator)()),n1}var Nu={},nx;function Rq(){if(nx)return Nu;nx=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.Tag=Nu.Label=void 0;const n=wt(),e=lr(),t=ow(),r=xt(),i=vt(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],l="Change.konva",s="none",d="up",h="right",f="down",m="left",v=o.length;let g=class extends t.Group{constructor(C){super(C),this.on("add.konva",function(x){this._addListeners(x.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(C){let x=this,b;const w=function(){x._sync()};for(b=0;b<v;b++)C.on(o[b]+l,w)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let C=this.getText(),x=this.getTag(),b,w,T,P,A,F,E;if(C&&x){switch(b=C.width(),w=C.height(),T=x.pointerDirection(),P=x.pointerWidth(),E=x.pointerHeight(),A=0,F=0,T){case d:A=b/2,F=-1*E;break;case h:A=b+P,F=w/2;break;case f:A=b/2,F=w+E;break;case m:A=-1*P,F=w/2;break}x.setAttrs({x:-1*A,y:-1*F,width:b,height:w}),C.setAttrs({x:-1*A,y:-1*F})}}};Nu.Label=g,g.prototype.className="Label",(0,i._registerNode)(g);class S extends e.Shape{_sceneFunc(C){const x=this.width(),b=this.height(),w=this.pointerDirection(),T=this.pointerWidth(),P=this.pointerHeight(),A=this.cornerRadius();let F=0,E=0,k=0,L=0;typeof A=="number"?F=E=k=L=Math.min(A,x/2,b/2):(F=Math.min(A[0]||0,x/2,b/2),E=Math.min(A[1]||0,x/2,b/2),L=Math.min(A[2]||0,x/2,b/2),k=Math.min(A[3]||0,x/2,b/2)),C.beginPath(),C.moveTo(F,0),w===d&&(C.lineTo((x-T)/2,0),C.lineTo(x/2,-1*P),C.lineTo((x+T)/2,0)),C.lineTo(x-E,0),C.arc(x-E,E,E,Math.PI*3/2,0,!1),w===h&&(C.lineTo(x,(b-P)/2),C.lineTo(x+T,b/2),C.lineTo(x,(b+P)/2)),C.lineTo(x,b-L),C.arc(x-L,b-L,L,0,Math.PI/2,!1),w===f&&(C.lineTo((x+T)/2,b),C.lineTo(x/2,b+P),C.lineTo((x-T)/2,b)),C.lineTo(k,b),C.arc(k,b-k,k,Math.PI/2,Math.PI,!1),w===m&&(C.lineTo(0,(b+P)/2),C.lineTo(-1*T,b/2),C.lineTo(0,(b-P)/2)),C.lineTo(0,F),C.arc(F,F,F,Math.PI,Math.PI*3/2,!1),C.closePath(),C.fillStrokeShape(this)}getSelfRect(){let C=0,x=0,b=this.pointerWidth(),w=this.pointerHeight(),T=this.pointerDirection(),P=this.width(),A=this.height();return T===d?(x-=w,A+=w):T===f?A+=w:T===m?(C-=b*1.5,P+=b):T===h&&(P+=b*1.5),{x:C,y:x,width:P,height:A}}}return Nu.Tag=S,S.prototype.className="Tag",(0,i._registerNode)(S),n.Factory.addGetterSetter(S,"pointerDirection",s),n.Factory.addGetterSetter(S,"pointerWidth",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(S,"pointerHeight",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(S,"cornerRadius",0,(0,r.getNumberOrArrayOfNumbersValidator)(4)),Nu}var r1={},rx;function gI(){if(rx)return r1;rx=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.Rect=void 0;const n=wt(),e=lr(),t=vt(),r=In(),i=xt();let o=class extends e.Shape{_sceneFunc(s){const d=this.cornerRadius(),h=this.width(),f=this.height();s.beginPath(),d?r.Util.drawRoundedRectPath(s,h,f,d):s.rect(0,0,h,f),s.closePath(),s.fillStrokeShape(this)}};return r1.Rect=o,o.prototype.className="Rect",(0,t._registerNode)(o),n.Factory.addGetterSetter(o,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),r1}var i1={},ix;function Aq(){if(ix)return i1;ix=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.RegularPolygon=void 0;const n=wt(),e=lr(),t=xt(),r=vt();let i=class extends e.Shape{_sceneFunc(l){const s=this._getPoints();l.beginPath(),l.moveTo(s[0].x,s[0].y);for(let d=1;d<s.length;d++)l.lineTo(s[d].x,s[d].y);l.closePath(),l.fillStrokeShape(this)}_getPoints(){const l=this.attrs.sides,s=this.attrs.radius||0,d=[];for(let h=0;h<l;h++)d.push({x:s*Math.sin(h*2*Math.PI/l),y:-1*s*Math.cos(h*2*Math.PI/l)});return d}getSelfRect(){const l=this._getPoints();let s=l[0].x,d=l[0].y,h=l[0].x,f=l[0].y;return l.forEach(m=>{s=Math.min(s,m.x),d=Math.max(d,m.x),h=Math.min(h,m.y),f=Math.max(f,m.y)}),{x:s,y:h,width:d-s,height:f-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return i1.RegularPolygon=i,i.prototype.className="RegularPolygon",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"radius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"sides",0,(0,t.getNumberValidator)()),i1}var o1={},ox;function Oq(){if(ox)return o1;ox=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.Ring=void 0;const n=wt(),e=lr(),t=xt(),r=vt(),i=Math.PI*2;let o=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.innerRadius(),0,i,!1),s.moveTo(this.outerRadius(),0),s.arc(0,0,this.outerRadius(),i,0,!0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return o1.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,t.getNumberValidator)()),o1}var a1={},ax;function Eq(){if(ax)return a1;ax=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.Sprite=void 0;const n=wt(),e=lr(),t=aw(),r=xt(),i=vt();let o=class extends e.Shape{constructor(s){super(s),this._updated=!0,this.anim=new t.Animation(()=>{const d=this._updated;return this._updated=!1,d}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(s){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),g=m[f+0],S=m[f+1],y=m[f+2],C=m[f+3],x=this.image();if((this.hasFill()||this.hasStroke())&&(s.beginPath(),s.rect(0,0,y,C),s.closePath(),s.fillStrokeShape(this)),x)if(v){const b=v[d],w=h*2;s.drawImage(x,g,S,y,C,b[w+0],b[w+1],y,C)}else s.drawImage(x,g,S,y,C,0,0,y,C)}_hitFunc(s){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),g=m[f+2],S=m[f+3];if(s.beginPath(),v){const y=v[d],C=h*2;s.rect(y[C+0],y[C+1],g,S)}else s.rect(0,0,g,S);s.closePath(),s.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const s=this;this.interval=setInterval(function(){s._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const s=this.getLayer();this.anim.setLayers(s),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const s=this.frameIndex(),d=this.animation(),h=this.animations(),f=h[d],m=f.length/4;s<m-1?this.frameIndex(s+1):this.frameIndex(0)}};return a1.Sprite=o,o.prototype.className="Sprite",(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"animation"),n.Factory.addGetterSetter(o,"animations"),n.Factory.addGetterSetter(o,"frameOffsets"),n.Factory.addGetterSetter(o,"image"),n.Factory.addGetterSetter(o,"frameIndex",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"frameRate",17,(0,r.getNumberValidator)()),n.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),a1}var s1={},sx;function kq(){if(sx)return s1;sx=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.Star=void 0;const n=wt(),e=lr(),t=xt(),r=vt();let i=class extends e.Shape{_sceneFunc(l){const s=this.innerRadius(),d=this.outerRadius(),h=this.numPoints();l.beginPath(),l.moveTo(0,0-d);for(let f=1;f<h*2;f++){const m=f%2===0?d:s,v=m*Math.sin(f*Math.PI/h),g=-1*m*Math.cos(f*Math.PI/h);l.lineTo(v,g)}l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return s1.Star=i,i.prototype.className="Star",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,r._registerNode)(i),n.Factory.addGetterSetter(i,"numPoints",5,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"outerRadius",0,(0,t.getNumberValidator)()),s1}var Bd={},lx;function mI(){if(lx)return Bd;lx=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.Text=void 0,Bd.stringToArray=l;const n=In(),e=wt(),t=lr(),r=vt(),i=xt(),o=vt();function l($){return[...$].reduce((ne,ie,te,pe)=>{if(new RegExp("\\p{Emoji}","u").test(ie)){const J=pe[te+1];J&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(J)?(ne.push(ie+J),pe[te+1]=""):ne.push(ie)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ie+(pe[te+1]||""))?ne.push(ie+pe[te+1]):te>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ie)?ne[ne.length-1]+=ie:ie&&ne.push(ie);return ne},[])}const s="auto",d="center",h="inherit",f="justify",m="Change.konva",v="2d",g="-",S="left",y="text",C="Text",x="top",b="bottom",w="middle",T="normal",P="px ",A=" ",F="right",E="rtl",k="word",L="char",U="none",N="…",R=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],I=R.length;function _($){return $.split(",").map(ne=>{ne=ne.trim();const ie=ne.indexOf(" ")>=0,te=ne.indexOf('"')>=0||ne.indexOf("'")>=0;return ie&&!te&&(ne=`"${ne}"`),ne}).join(", ")}let q;function W(){return q||(q=n.Util.createCanvasElement().getContext(v),q)}function j($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function H($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function X($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let V=class extends t.Shape{constructor(ne){super(X(ne)),this._partialTextX=0,this._partialTextY=0;for(let ie=0;ie<I;ie++)this.on(R[ie]+m,this._setTextData);this._setTextData()}_sceneFunc(ne){const ie=this.textArr,te=ie.length;if(!this.text())return;let pe=this.padding(),J=this.fontSize(),oe=this.lineHeight()*J,de=this.verticalAlign(),me=this.direction(),be=0,Te=this.align(),Ue=this.getWidth(),B=this.letterSpacing(),ge=this.fill(),Se=this.textDecoration(),Z=Se.indexOf("underline")!==-1,K=Se.indexOf("line-through")!==-1,ce;me=me===h?ne.direction:me;let Ce=oe/2,xe=w;if(r.Konva._fixTextRendering){const Be=this.measureSize("M");xe="alphabetic",Ce=(Be.fontBoundingBoxAscent-Be.fontBoundingBoxDescent)/2+oe/2}var se=0,Re=0;for(me===E&&ne.setAttr("direction",me),ne.setAttr("font",this._getContextFont()),ne.setAttr("textBaseline",xe),ne.setAttr("textAlign",S),de===w?be=(this.getHeight()-te*oe-pe*2)/2:de===b&&(be=this.getHeight()-te*oe-pe*2),ne.translate(pe,be+pe),ce=0;ce<te;ce++){var se=0,Re=0,Ee=ie[ce],he=Ee.text,we=Ee.width,Me=Ee.lastInParagraph,Oe,ze;if(ne.save(),Te===F?se+=Ue-we-pe*2:Te===d&&(se+=(Ue-we-pe*2)/2),Z){ne.save(),ne.beginPath();const tt=r.Konva._fixTextRendering?Math.round(J/4):Math.round(J/2),We=se,Tt=Ce+Re+tt;ne.moveTo(We,Tt),Oe=he.split(" ").length-1,ze=Te===f&&!Me?Ue-pe*2:we,ne.lineTo(We+Math.round(ze),Tt),ne.lineWidth=J/15;const $e=this._getLinearGradient();ne.strokeStyle=$e||ge,ne.stroke(),ne.restore()}if(K){ne.save(),ne.beginPath();const tt=r.Konva._fixTextRendering?-Math.round(J/4):0;ne.moveTo(se,Ce+Re+tt),Oe=he.split(" ").length-1,ze=Te===f&&!Me?Ue-pe*2:we,ne.lineTo(se+Math.round(ze),Ce+Re+tt),ne.lineWidth=J/15;const We=this._getLinearGradient();ne.strokeStyle=We||ge,ne.stroke(),ne.restore()}if(me!==E&&(B!==0||Te===f)){Oe=he.split(" ").length-1;const tt=l(he);for(let We=0;We<tt.length;We++){const Tt=tt[We];Tt===" "&&!Me&&Te===f&&(se+=(Ue-pe*2-we)/Oe),this._partialTextX=se,this._partialTextY=Ce+Re,this._partialText=Tt,ne.fillStrokeShape(this),se+=this.measureSize(Tt).width+B}}else B!==0&&ne.setAttr("letterSpacing",`${B}px`),this._partialTextX=se,this._partialTextY=Ce+Re,this._partialText=he,ne.fillStrokeShape(this);ne.restore(),te>1&&(Ce+=oe)}}_hitFunc(ne){const ie=this.getWidth(),te=this.getHeight();ne.beginPath(),ne.rect(0,0,ie,te),ne.closePath(),ne.fillStrokeShape(this)}setText(ne){const ie=n.Util._isString(ne)?ne:ne==null?"":ne+"";return this._setAttr(y,ie),this}getWidth(){return this.attrs.width===s||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===s||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(ne){var ie,te,pe,J,oe,de,me,be,Te,Ue,B;let ge=W(),Se=this.fontSize(),Z;ge.save(),ge.font=this._getContextFont(),Z=ge.measureText(ne),ge.restore();const K=Se/100;return{actualBoundingBoxAscent:(ie=Z.actualBoundingBoxAscent)!==null&&ie!==void 0?ie:71.58203125*K,actualBoundingBoxDescent:(te=Z.actualBoundingBoxDescent)!==null&&te!==void 0?te:0,actualBoundingBoxLeft:(pe=Z.actualBoundingBoxLeft)!==null&&pe!==void 0?pe:-7.421875*K,actualBoundingBoxRight:(J=Z.actualBoundingBoxRight)!==null&&J!==void 0?J:75.732421875*K,alphabeticBaseline:(oe=Z.alphabeticBaseline)!==null&&oe!==void 0?oe:0,emHeightAscent:(de=Z.emHeightAscent)!==null&&de!==void 0?de:100*K,emHeightDescent:(me=Z.emHeightDescent)!==null&&me!==void 0?me:-20*K,fontBoundingBoxAscent:(be=Z.fontBoundingBoxAscent)!==null&&be!==void 0?be:91*K,fontBoundingBoxDescent:(Te=Z.fontBoundingBoxDescent)!==null&&Te!==void 0?Te:21*K,hangingBaseline:(Ue=Z.hangingBaseline)!==null&&Ue!==void 0?Ue:72.80000305175781*K,ideographicBaseline:(B=Z.ideographicBaseline)!==null&&B!==void 0?B:-21*K,width:Z.width,height:Se}}_getContextFont(){return this.fontStyle()+A+this.fontVariant()+A+(this.fontSize()+P)+_(this.fontFamily())}_addTextLine(ne){this.align()===f&&(ne=ne.trim());const te=this._getTextWidth(ne);return this.textArr.push({text:ne,width:te,lastInParagraph:!1})}_getTextWidth(ne){const ie=this.letterSpacing(),te=ne.length;return W().measureText(ne).width+ie*te}_setTextData(){let ne=this.text().split(`
`),ie=+this.fontSize(),te=0,pe=this.lineHeight()*ie,J=this.attrs.width,oe=this.attrs.height,de=J!==s&&J!==void 0,me=oe!==s&&oe!==void 0,be=this.padding(),Te=J-be*2,Ue=oe-be*2,B=0,ge=this.wrap(),Se=ge!==U,Z=ge!==L&&Se,K=this.ellipsis();this.textArr=[],W().font=this._getContextFont();const ce=K?this._getTextWidth(N):0;for(let Ce=0,xe=ne.length;Ce<xe;++Ce){let se=ne[Ce],Re=this._getTextWidth(se);if(de&&Re>Te)for(;se.length>0;){let Ee=0,he=l(se).length,we="",Me=0;for(;Ee<he;){const Oe=Ee+he>>>1,ze=l(se),Be=ze.slice(0,Oe+1).join(""),Ge=this._getTextWidth(Be);(K&&me&&B+pe>Ue?Ge+ce:Ge)<=Te?(Ee=Oe+1,we=Be,Me=Ge):he=Oe}if(we){if(Z){const Be=l(se),Ge=l(we),tt=Be[Ge.length],We=tt===A||tt===g;let Tt;if(We&&Me<=Te)Tt=Ge.length;else{const $e=Ge.lastIndexOf(A),lt=Ge.lastIndexOf(g);Tt=Math.max($e,lt)+1}Tt>0&&(Ee=Tt,we=Be.slice(0,Ee).join(""),Me=this._getTextWidth(we))}if(we=we.trimRight(),this._addTextLine(we),te=Math.max(te,Me),B+=pe,this._shouldHandleEllipsis(B)){this._tryToAddEllipsisToLastLine();break}if(se=l(se).slice(Ee).join("").trimLeft(),se.length>0&&(Re=this._getTextWidth(se),Re<=Te)){this._addTextLine(se),B+=pe,te=Math.max(te,Re);break}}else break}else this._addTextLine(se),B+=pe,te=Math.max(te,Re),this._shouldHandleEllipsis(B)&&Ce<xe-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),me&&B+pe>Ue)break}this.textHeight=ie,this.textWidth=te}_shouldHandleEllipsis(ne){const ie=+this.fontSize(),te=this.lineHeight()*ie,pe=this.attrs.height,J=pe!==s&&pe!==void 0,oe=this.padding(),de=pe-oe*2;return!(this.wrap()!==U)||J&&ne+te>de}_tryToAddEllipsisToLastLine(){const ne=this.attrs.width,ie=ne!==s&&ne!==void 0,te=this.padding(),pe=ne-te*2,J=this.ellipsis(),oe=this.textArr[this.textArr.length-1];!oe||!J||(ie&&(this._getTextWidth(oe.text+N)<pe||(oe.text=oe.text.slice(0,oe.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(oe.text+N))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const ne=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ie=this.hasShadow();return ne&&ie?!0:super._useBufferCanvas()}};return Bd.Text=V,V.prototype._fillFunc=j,V.prototype._strokeFunc=H,V.prototype.className=C,V.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(V),e.Factory.overWriteSetter(V,"width",(0,i.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(V,"height",(0,i.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(V,"direction",h),e.Factory.addGetterSetter(V,"fontFamily","Arial"),e.Factory.addGetterSetter(V,"fontSize",12,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"fontStyle",T),e.Factory.addGetterSetter(V,"fontVariant",T),e.Factory.addGetterSetter(V,"padding",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"align",S),e.Factory.addGetterSetter(V,"verticalAlign",x),e.Factory.addGetterSetter(V,"lineHeight",1,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"wrap",k),e.Factory.addGetterSetter(V,"ellipsis",!1,(0,i.getBooleanValidator)()),e.Factory.addGetterSetter(V,"letterSpacing",0,(0,i.getNumberValidator)()),e.Factory.addGetterSetter(V,"text","",(0,i.getStringValidator)()),e.Factory.addGetterSetter(V,"textDecoration",""),Bd}var l1={},ux;function _q(){if(ux)return l1;ux=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.TextPath=void 0;const n=In(),e=wt(),t=lr(),r=sw(),i=mI(),o=xt(),l=vt(),s="",d="normal";function h(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let m=class extends t.Shape{constructor(g){super(g),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return r.Path.getPathLength(this.dataArray)}_getPointAtLength(g){if(!this.attrs.data)return null;const S=this.pathLength;return g-1>S?null:r.Path.getPointAtLengthOfDataArray(g,this.dataArray)}_readDataAttribute(){this.dataArray=r.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(g){g.setAttr("font",this._getContextFont()),g.setAttr("textBaseline",this.textBaseline()),g.setAttr("textAlign","left"),g.save();const S=this.textDecoration(),y=this.fill(),C=this.fontSize(),x=this.glyphInfo;S==="underline"&&g.beginPath();for(let b=0;b<x.length;b++){g.save();const w=x[b].p0;g.translate(w.x,w.y),g.rotate(x[b].rotation),this.partialText=x[b].text,g.fillStrokeShape(this),S==="underline"&&(b===0&&g.moveTo(0,C/2+1),g.lineTo(C,C/2+1)),g.restore()}S==="underline"&&(g.strokeStyle=y,g.lineWidth=C/20,g.stroke()),g.restore()}_hitFunc(g){g.beginPath();const S=this.glyphInfo;if(S.length>=1){const y=S[0].p0;g.moveTo(y.x,y.y)}for(let y=0;y<S.length;y++){const C=S[y].p1;g.lineTo(C.x,C.y)}g.setAttr("lineWidth",this.fontSize()),g.setAttr("strokeStyle",this.colorKey),g.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(g){return i.Text.prototype.setText.call(this,g)}_getContextFont(){return i.Text.prototype._getContextFont.call(this)}_getTextSize(g){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const C=y.measureText(g);return y.restore(),{width:C.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:g,height:S}=this._getTextSize(this.attrs.text);if(this.textWidth=g,this.textHeight=S,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),C=this.align(),x=this.kerningFunc(),b=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let w=0;C==="center"&&(w=Math.max(0,this.pathLength/2-b/2)),C==="right"&&(w=Math.max(0,this.pathLength-b));const T=(0,i.stringToArray)(this.text());let P=w;for(let A=0;A<T.length;A++){const F=this._getPointAtLength(P);if(!F)return;let E=this._getTextSize(T[A]).width+y;if(T[A]===" "&&C==="justify"){const I=this.text().split(" ").length-1;E+=(this.pathLength-b)/I}const k=this._getPointAtLength(P+E);if(!k)return;const L=r.Path.getLineLength(F.x,F.y,k.x,k.y);let U=0;if(x)try{U=x(T[A-1],T[A])*this.fontSize()}catch{U=0}F.x+=U,k.x+=U,this.textWidth+=U;const N=r.Path.getPointOnLine(U+L/2,F.x,F.y,k.x,k.y),R=Math.atan2(k.y-F.y,k.x-F.x);this.glyphInfo.push({transposeX:N.x,transposeY:N.y,text:T[A],rotation:R,p0:F,p1:k}),P+=E}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const g=[];this.glyphInfo.forEach(function(P){g.push(P.p0.x),g.push(P.p0.y),g.push(P.p1.x),g.push(P.p1.y)});let S=g[0]||0,y=g[0]||0,C=g[1]||0,x=g[1]||0,b,w;for(let P=0;P<g.length/2;P++)b=g[P*2],w=g[P*2+1],S=Math.min(S,b),y=Math.max(y,b),C=Math.min(C,w),x=Math.max(x,w);const T=this.fontSize();return{x:S-T/2,y:C-T/2,width:y-S+T,height:x-C+T}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return l1.TextPath=m,m.prototype._fillFunc=h,m.prototype._strokeFunc=f,m.prototype._fillFuncHit=h,m.prototype._strokeFuncHit=f,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,l._registerNode)(m),e.Factory.addGetterSetter(m,"data"),e.Factory.addGetterSetter(m,"fontFamily","Arial"),e.Factory.addGetterSetter(m,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"fontStyle",d),e.Factory.addGetterSetter(m,"align","left"),e.Factory.addGetterSetter(m,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"textBaseline","middle"),e.Factory.addGetterSetter(m,"fontVariant",d),e.Factory.addGetterSetter(m,"text",s),e.Factory.addGetterSetter(m,"textDecoration",""),e.Factory.addGetterSetter(m,"kerningFunc",void 0),l1}var u1={},cx;function Fq(){if(cx)return u1;cx=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.Transformer=void 0;const n=In(),e=wt(),t=Fn(),r=lr(),i=gI(),o=ow(),l=vt(),s=xt(),d=vt(),h="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(E=>E+`.${h}`).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],g={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},S="ontouchstart"in l.Konva._global;function y(E,k,L){if(E==="rotater")return L;k+=n.Util.degToRad(g[E]||0);const U=(n.Util.radToDeg(k)%360+360)%360;return n.Util._inRange(U,315+22.5,360)||n.Util._inRange(U,0,22.5)?"ns-resize":n.Util._inRange(U,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(U,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(U,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(U,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(U,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(U,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(U,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+U),"pointer")}const C=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function x(E){return{x:E.x+E.width/2*Math.cos(E.rotation)+E.height/2*Math.sin(-E.rotation),y:E.y+E.height/2*Math.cos(E.rotation)+E.width/2*Math.sin(E.rotation)}}function b(E,k,L){const U=L.x+(E.x-L.x)*Math.cos(k)-(E.y-L.y)*Math.sin(k),N=L.y+(E.x-L.x)*Math.sin(k)+(E.y-L.y)*Math.cos(k);return{...E,rotation:E.rotation+k,x:U,y:N}}function w(E,k){const L=x(E);return b(E,k,L)}function T(E,k,L){let U=k;for(let N=0;N<E.length;N++){const R=l.Konva.getAngle(E[N]),I=Math.abs(R-k)%(Math.PI*2);Math.min(I,Math.PI*2-I)<L&&(U=R)}return U}let P=0,A=class extends o.Group{constructor(k){super(k),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(k){return this.setNode(k),this}setNode(k){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([k])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(k=[]){this._nodes&&this._nodes.length&&this.detach();const L=k.filter(N=>N.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=k=L,k.length===1&&this.useSingleNodeRotation()?this.rotation(k[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(N=>{const R=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(N._attrsAffectingSize.length){const I=N._attrsAffectingSize.map(_=>_+"Change."+this._getEventNamespace()).join(" ");N.on(I,R)}N.on(v.map(I=>I+`.${this._getEventNamespace()}`).join(" "),R),N.on(`absoluteTransformChange.${this._getEventNamespace()}`,R),this._proxyDrag(N)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(k){let L;k.on(`dragstart.${this._getEventNamespace()}`,U=>{L=k.getAbsolutePosition(),!this.isDragging()&&k!==this.findOne(".back")&&this.startDrag(U,!1)}),k.on(`dragmove.${this._getEventNamespace()}`,U=>{if(!L)return;const N=k.getAbsolutePosition(),R=N.x-L.x,I=N.y-L.y;this.nodes().forEach(_=>{if(_===k||_.isDragging())return;const q=_.getAbsolutePosition();_.setAbsolutePosition({x:q.x+R,y:q.y+I}),_.startDrag(U)}),L=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(k=>{k.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(k,L=this.rotation(),U){const N=k.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),R=k.getAbsoluteScale(U),I=k.getAbsolutePosition(U),_=N.x*R.x-k.offsetX()*R.x,q=N.y*R.y-k.offsetY()*R.y,W=(l.Konva.getAngle(k.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),j={x:I.x+_*Math.cos(W)+q*Math.sin(-W),y:I.y+q*Math.cos(W)+_*Math.sin(W),width:N.width*R.x,height:N.height*R.y,rotation:W};return b(j,-l.Konva.getAngle(L),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const L=[];this.nodes().map(W=>{const j=W.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),H=[{x:j.x,y:j.y},{x:j.x+j.width,y:j.y},{x:j.x+j.width,y:j.y+j.height},{x:j.x,y:j.y+j.height}],X=W.getAbsoluteTransform();H.forEach(function(V){const $=X.point(V);L.push($)})});const U=new n.Transform;U.rotate(-l.Konva.getAngle(this.rotation()));let N=1/0,R=1/0,I=-1/0,_=-1/0;L.forEach(function(W){const j=U.point(W);N===void 0&&(N=I=j.x,R=_=j.y),N=Math.min(N,j.x),R=Math.min(R,j.y),I=Math.max(I,j.x),_=Math.max(_,j.y)}),U.invert();const q=U.point({x:N,y:R});return{x:q.x,y:q.y,width:I-N,height:_-R,rotation:l.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),C.forEach(k=>{this._createAnchor(k)}),this._createAnchor("rotater")}_createAnchor(k){const L=new i.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:k+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:S?10:"auto"}),U=this;L.on("mousedown touchstart",function(N){U._handleMouseDown(N)}),L.on("dragstart",N=>{L.stopDrag(),N.cancelBubble=!0}),L.on("dragend",N=>{N.cancelBubble=!0}),L.on("mouseenter",()=>{const N=l.Konva.getAngle(this.rotation()),R=this.rotateAnchorCursor(),I=y(k,N,R);L.getStage().content&&(L.getStage().content.style.cursor=I),this._cursorChange=!0}),L.on("mouseout",()=>{L.getStage().content&&(L.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(L)}_createBack(){const k=new r.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(L,U){const N=U.getParent(),R=N.padding();L.beginPath(),L.rect(-R,-R,U.width()+R*2,U.height()+R*2),L.moveTo(U.width()/2,-R),N.rotateEnabled()&&N.rotateLineVisible()&&L.lineTo(U.width()/2,-N.rotateAnchorOffset()*n.Util._sign(U.height())-R),L.fillStrokeShape(U)},hitFunc:(L,U)=>{if(!this.shouldOverdrawWholeArea())return;const N=this.padding();L.beginPath(),L.rect(-N,-N,U.width()+N*2,U.height()+N*2),L.fillStrokeShape(U)}});this.add(k),this._proxyDrag(k),k.on("dragstart",L=>{L.cancelBubble=!0}),k.on("dragmove",L=>{L.cancelBubble=!0}),k.on("dragend",L=>{L.cancelBubble=!0}),this.on("dragmove",L=>{this.update()})}_handleMouseDown(k){if(this._transforming)return;this._movingAnchorName=k.target.name().split(" ")[0];const L=this._getNodeRect(),U=L.width,N=L.height,R=Math.sqrt(Math.pow(U,2)+Math.pow(N,2));this.sin=Math.abs(N/R),this.cos=Math.abs(U/R),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const I=k.target.getAbsolutePosition(),_=k.target.getStage().getPointerPosition();this._anchorDragOffset={x:_.x-I.x,y:_.y-I.y},P++,this._fire("transformstart",{evt:k.evt,target:this.getNode()}),this._nodes.forEach(q=>{q._fire("transformstart",{evt:k.evt,target:q})})}_handleMouseMove(k){let L,U,N;const R=this.findOne("."+this._movingAnchorName),I=R.getStage();I.setPointersPositions(k);const _=I.getPointerPosition();let q={x:_.x-this._anchorDragOffset.x,y:_.y-this._anchorDragOffset.y};const W=R.getAbsolutePosition();this.anchorDragBoundFunc()&&(q=this.anchorDragBoundFunc()(W,q,k)),R.setAbsolutePosition(q);const j=R.getAbsolutePosition();if(W.x===j.x&&W.y===j.y)return;if(this._movingAnchorName==="rotater"){const de=this._getNodeRect();L=R.x()-de.width/2,U=-R.y()+de.height/2;let me=Math.atan2(-U,L)+Math.PI/2;de.height<0&&(me-=Math.PI);const Te=l.Konva.getAngle(this.rotation())+me,Ue=l.Konva.getAngle(this.rotationSnapTolerance()),ge=T(this.rotationSnaps(),Te,Ue)-de.rotation,Se=w(de,ge);this._fitNodesInto(Se,k);return}const H=this.shiftBehavior();let X;H==="inverted"?X=this.keepRatio()&&!k.shiftKey:H==="none"?X=this.keepRatio():X=this.keepRatio()||k.shiftKey;var te=this.centeredScaling()||k.altKey;if(this._movingAnchorName==="top-left"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};N=Math.sqrt(Math.pow(V.x-R.x(),2)+Math.pow(V.y-R.y(),2));var $=this.findOne(".top-left").x()>V.x?-1:1,ne=this.findOne(".top-left").y()>V.y?-1:1;L=N*this.cos*$,U=N*this.sin*ne,this.findOne(".top-left").x(V.x-L),this.findOne(".top-left").y(V.y-U)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(R.y());else if(this._movingAnchorName==="top-right"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};N=Math.sqrt(Math.pow(R.x()-V.x,2)+Math.pow(V.y-R.y(),2));var $=this.findOne(".top-right").x()<V.x?-1:1,ne=this.findOne(".top-right").y()>V.y?-1:1;L=N*this.cos*$,U=N*this.sin*ne,this.findOne(".top-right").x(V.x+L),this.findOne(".top-right").y(V.y-U)}var ie=R.position();this.findOne(".top-left").y(ie.y),this.findOne(".bottom-right").x(ie.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(R.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(R.x());else if(this._movingAnchorName==="bottom-left"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};N=Math.sqrt(Math.pow(V.x-R.x(),2)+Math.pow(R.y()-V.y,2));var $=V.x<R.x()?-1:1,ne=R.y()<V.y?-1:1;L=N*this.cos*$,U=N*this.sin*ne,R.x(V.x-L),R.y(V.y+U)}ie=R.position(),this.findOne(".top-left").x(ie.x),this.findOne(".bottom-right").y(ie.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(R.y());else if(this._movingAnchorName==="bottom-right"){if(X){var V=te?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};N=Math.sqrt(Math.pow(R.x()-V.x,2)+Math.pow(R.y()-V.y,2));var $=this.findOne(".bottom-right").x()<V.x?-1:1,ne=this.findOne(".bottom-right").y()<V.y?-1:1;L=N*this.cos*$,U=N*this.sin*ne,this.findOne(".bottom-right").x(V.x+L),this.findOne(".bottom-right").y(V.y+U)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var te=this.centeredScaling()||k.altKey;if(te){const de=this.findOne(".top-left"),me=this.findOne(".bottom-right"),be=de.x(),Te=de.y(),Ue=this.getWidth()-me.x(),B=this.getHeight()-me.y();me.move({x:-be,y:-Te}),de.move({x:Ue,y:B})}const pe=this.findOne(".top-left").getAbsolutePosition();L=pe.x,U=pe.y;const J=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),oe=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:L,y:U,width:J,height:oe,rotation:l.Konva.getAngle(this.rotation())},k)}_handleMouseUp(k){this._removeEvents(k)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(k){var L;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const U=this.getNode();P--,this._fire("transformend",{evt:k,target:U}),(L=this.getLayer())===null||L===void 0||L.batchDraw(),U&&this._nodes.forEach(N=>{var R;N._fire("transformend",{evt:k,target:N}),(R=N.getLayer())===null||R===void 0||R.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(k,L){const U=this._getNodeRect(),N=1;if(n.Util._inRange(k.width,-this.padding()*2-N,N)){this.update();return}if(n.Util._inRange(k.height,-this.padding()*2-N,N)){this.update();return}const R=new n.Transform;if(R.rotate(l.Konva.getAngle(this.rotation())),this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("left")>=0){const X=R.point({x:-this.padding()*2,y:0});k.x+=X.x,k.y+=X.y,k.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y}else if(this._movingAnchorName&&k.width<0&&this._movingAnchorName.indexOf("right")>=0){const X=R.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.width+=this.padding()*2}if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("top")>=0){const X=R.point({x:0,y:-this.padding()*2});k.x+=X.x,k.y+=X.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.height+=this.padding()*2}else if(this._movingAnchorName&&k.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const X=R.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=X.x,this._anchorDragOffset.y-=X.y,k.height+=this.padding()*2}if(this.boundBoxFunc()){const X=this.boundBoxFunc()(U,k);X?k=X:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const I=1e7,_=new n.Transform;_.translate(U.x,U.y),_.rotate(U.rotation),_.scale(U.width/I,U.height/I);const q=new n.Transform,W=k.width/I,j=k.height/I;this.flipEnabled()===!1?(q.translate(k.x,k.y),q.rotate(k.rotation),q.translate(k.width<0?k.width:0,k.height<0?k.height:0),q.scale(Math.abs(W),Math.abs(j))):(q.translate(k.x,k.y),q.rotate(k.rotation),q.scale(W,j));const H=q.multiply(_.invert());this._nodes.forEach(X=>{var V;const $=X.getParent().getAbsoluteTransform(),ne=X.getTransform().copy();ne.translate(X.offsetX(),X.offsetY());const ie=new n.Transform;ie.multiply($.copy().invert()).multiply(H).multiply($).multiply(ne);const te=ie.decompose();X.setAttrs(te),(V=X.getLayer())===null||V===void 0||V.batchDraw()}),this.rotation(n.Util._getRotation(k.rotation)),this._nodes.forEach(X=>{this._fire("transform",{evt:L,target:X}),X._fire("transform",{evt:L,target:X})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(k,L){this.findOne(k).setAttrs(L)}update(){var k;const L=this._getNodeRect();this.rotation(n.Util._getRotation(L.rotation));const U=L.width,N=L.height,R=this.enabledAnchors(),I=this.resizeEnabled(),_=this.padding(),q=this.anchorSize(),W=this.find("._anchor");W.forEach(H=>{H.setAttrs({width:q,height:q,offsetX:q/2,offsetY:q/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:q/2+_,offsetY:q/2+_,visible:I&&R.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:U/2,y:0,offsetY:q/2+_,visible:I&&R.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:U,y:0,offsetX:q/2-_,offsetY:q/2+_,visible:I&&R.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:N/2,offsetX:q/2+_,visible:I&&R.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:U,y:N/2,offsetX:q/2-_,visible:I&&R.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:N,offsetX:q/2+_,offsetY:q/2-_,visible:I&&R.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:U/2,y:N,offsetY:q/2-_,visible:I&&R.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:U,y:N,offsetX:q/2-_,offsetY:q/2-_,visible:I&&R.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:U/2,y:-this.rotateAnchorOffset()*n.Util._sign(N)-_,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:U,height:N,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const j=this.anchorStyleFunc();j&&W.forEach(H=>{j(H)}),(k=this.getLayer())===null||k===void 0||k.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const k=this.findOne("."+this._movingAnchorName);k&&k.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(k){return t.Node.prototype.clone.call(this,k)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};u1.Transformer=A,A.isTransforming=()=>P>0;function F(E){return E instanceof Array||n.Util.warn("enabledAnchors value should be an array"),E instanceof Array&&E.forEach(function(k){C.indexOf(k)===-1&&n.Util.warn("Unknown anchor name: "+k+". Available names are: "+C.join(", "))}),E||[]}return A.prototype.className="Transformer",(0,d._registerNode)(A),e.Factory.addGetterSetter(A,"enabledAnchors",C,F),e.Factory.addGetterSetter(A,"flipEnabled",!0,(0,s.getBooleanValidator)()),e.Factory.addGetterSetter(A,"resizeEnabled",!0),e.Factory.addGetterSetter(A,"anchorSize",10,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateEnabled",!0),e.Factory.addGetterSetter(A,"rotateLineVisible",!0),e.Factory.addGetterSetter(A,"rotationSnaps",[]),e.Factory.addGetterSetter(A,"rotateAnchorOffset",50,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(A,"rotationSnapTolerance",5,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderEnabled",!0),e.Factory.addGetterSetter(A,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"anchorStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"anchorFill","white"),e.Factory.addGetterSetter(A,"anchorCornerRadius",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(A,"borderStrokeWidth",1,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"borderDash"),e.Factory.addGetterSetter(A,"keepRatio",!0),e.Factory.addGetterSetter(A,"shiftBehavior","default"),e.Factory.addGetterSetter(A,"centeredScaling",!1),e.Factory.addGetterSetter(A,"ignoreStroke",!1),e.Factory.addGetterSetter(A,"padding",0,(0,s.getNumberValidator)()),e.Factory.addGetterSetter(A,"nodes"),e.Factory.addGetterSetter(A,"node"),e.Factory.addGetterSetter(A,"boundBoxFunc"),e.Factory.addGetterSetter(A,"anchorDragBoundFunc"),e.Factory.addGetterSetter(A,"anchorStyleFunc"),e.Factory.addGetterSetter(A,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(A,"useSingleNodeRotation",!0),e.Factory.backCompat(A,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),u1}var c1={},dx;function Mq(){if(dx)return c1;dx=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.Wedge=void 0;const n=wt(),e=lr(),t=vt(),r=xt(),i=vt();let o=class extends e.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),s.lineTo(0,0),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return c1.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"radius",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,r.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1),n.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),c1}var d1={},hx;function Nq(){if(hx)return d1;hx=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.Blur=void 0;const n=wt(),e=Fn(),t=xt();function r(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const i=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function l(d,h){const f=d.data,m=d.width,v=d.height;let g,S,y,C,x,b,w,T,P,A,F,E,k,L,U,N,R,I,_,q,W,j,H,X;const V=h+h+1,$=m-1,ne=v-1,ie=h+1,te=ie*(ie+1)/2,pe=new r,J=i[h],oe=o[h];let de=null,me=pe,be=null,Te=null;for(y=1;y<V;y++)me=me.next=new r,y===ie&&(de=me);for(me.next=pe,w=b=0,S=0;S<v;S++){for(N=R=I=_=T=P=A=F=0,E=ie*(q=f[b]),k=ie*(W=f[b+1]),L=ie*(j=f[b+2]),U=ie*(H=f[b+3]),T+=te*q,P+=te*W,A+=te*j,F+=te*H,me=pe,y=0;y<ie;y++)me.r=q,me.g=W,me.b=j,me.a=H,me=me.next;for(y=1;y<ie;y++)C=b+(($<y?$:y)<<2),T+=(me.r=q=f[C])*(X=ie-y),P+=(me.g=W=f[C+1])*X,A+=(me.b=j=f[C+2])*X,F+=(me.a=H=f[C+3])*X,N+=q,R+=W,I+=j,_+=H,me=me.next;for(be=pe,Te=de,g=0;g<m;g++)f[b+3]=H=F*J>>oe,H!==0?(H=255/H,f[b]=(T*J>>oe)*H,f[b+1]=(P*J>>oe)*H,f[b+2]=(A*J>>oe)*H):f[b]=f[b+1]=f[b+2]=0,T-=E,P-=k,A-=L,F-=U,E-=be.r,k-=be.g,L-=be.b,U-=be.a,C=w+((C=g+h+1)<$?C:$)<<2,N+=be.r=f[C],R+=be.g=f[C+1],I+=be.b=f[C+2],_+=be.a=f[C+3],T+=N,P+=R,A+=I,F+=_,be=be.next,E+=q=Te.r,k+=W=Te.g,L+=j=Te.b,U+=H=Te.a,N-=q,R-=W,I-=j,_-=H,Te=Te.next,b+=4;w+=m}for(g=0;g<m;g++){for(R=I=_=N=P=A=F=T=0,b=g<<2,E=ie*(q=f[b]),k=ie*(W=f[b+1]),L=ie*(j=f[b+2]),U=ie*(H=f[b+3]),T+=te*q,P+=te*W,A+=te*j,F+=te*H,me=pe,y=0;y<ie;y++)me.r=q,me.g=W,me.b=j,me.a=H,me=me.next;for(x=m,y=1;y<=h;y++)b=x+g<<2,T+=(me.r=q=f[b])*(X=ie-y),P+=(me.g=W=f[b+1])*X,A+=(me.b=j=f[b+2])*X,F+=(me.a=H=f[b+3])*X,N+=q,R+=W,I+=j,_+=H,me=me.next,y<ne&&(x+=m);for(b=g,be=pe,Te=de,S=0;S<v;S++)C=b<<2,f[C+3]=H=F*J>>oe,H>0?(H=255/H,f[C]=(T*J>>oe)*H,f[C+1]=(P*J>>oe)*H,f[C+2]=(A*J>>oe)*H):f[C]=f[C+1]=f[C+2]=0,T-=E,P-=k,A-=L,F-=U,E-=be.r,k-=be.g,L-=be.b,U-=be.a,C=g+((C=S+ie)<ne?C:ne)*m<<2,T+=N+=be.r=f[C],P+=R+=be.g=f[C+1],A+=I+=be.b=f[C+2],F+=_+=be.a=f[C+3],be=be.next,E+=q=Te.r,k+=W=Te.g,L+=j=Te.b,U+=H=Te.a,N-=q,R-=W,I-=j,_-=H,Te=Te.next,b+=m}}const s=function(h){const f=Math.round(this.blurRadius());f>0&&l(h,f)};return d1.Blur=s,n.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),d1}var h1={},fx;function Uq(){if(fx)return h1;fx=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.Brighten=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=this.brightness()*255,l=i.data,s=l.length;for(let d=0;d<s;d+=4)l[d]+=o,l[d+1]+=o,l[d+2]+=o};return h1.Brighten=r,n.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),h1}var f1={},px;function Bq(){if(px)return f1;px=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.Contrast=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=Math.pow((this.contrast()+100)/100,2),l=i.data,s=l.length;let d=150,h=150,f=150;for(let m=0;m<s;m+=4)d=l[m],h=l[m+1],f=l[m+2],d/=255,d-=.5,d*=o,d+=.5,d*=255,h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,l[m]=d,l[m+1]=h,l[m+2]=f};return f1.Contrast=r,n.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),f1}var p1={},gx;function qq(){if(gx)return p1;gx=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.Emboss=void 0;const n=wt(),e=Fn(),t=In(),r=xt(),i=function(o){const l=this.embossStrength()*10,s=this.embossWhiteLevel()*255,d=this.embossDirection(),h=this.embossBlend(),f=o.data,m=o.width,v=o.height,g=m*4;let S=0,y=0,C=v;switch(d){case"top-left":S=-1,y=-1;break;case"top":S=-1,y=0;break;case"top-right":S=-1,y=1;break;case"right":S=0,y=1;break;case"bottom-right":S=1,y=1;break;case"bottom":S=1,y=0;break;case"bottom-left":S=1,y=-1;break;case"left":S=0,y=-1;break;default:t.Util.error("Unknown emboss direction: "+d)}do{const x=(C-1)*g;let b=S;C+b<1&&(b=0),C+b>v&&(b=0);const w=(C-1+b)*m*4;let T=m;do{const P=x+(T-1)*4;let A=y;T+A<1&&(A=0),T+A>m&&(A=0);const F=w+(T-1+A)*4,E=f[P]-f[F],k=f[P+1]-f[F+1],L=f[P+2]-f[F+2];let U=E;const N=U>0?U:-U,R=k>0?k:-k,I=L>0?L:-L;if(R>N&&(U=k),I>N&&(U=L),U*=l,h){const _=f[P]+U,q=f[P+1]+U,W=f[P+2]+U;f[P]=_>255?255:_<0?0:_,f[P+1]=q>255?255:q<0?0:q,f[P+2]=W>255?255:W<0?0:W}else{let _=s-U;_<0?_=0:_>255&&(_=255),f[P]=f[P+1]=f[P+2]=_}}while(--T)}while(--C)};return p1.Emboss=i,n.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),p1}var g1={},mx;function Vq(){if(mx)return g1;mx=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.Enhance=void 0;const n=wt(),e=Fn(),t=xt();function r(o,l,s,d,h){const f=s-l,m=h-d;if(f===0)return d+m/2;if(m===0)return d;let v=(o-l)/f;return v=m*v+d,v}const i=function(o){const l=o.data,s=l.length;let d=l[0],h=d,f,m=l[1],v=m,g,S=l[2],y=S,C;const x=this.enhance();if(x===0)return;for(let U=0;U<s;U+=4)f=l[U+0],f<d?d=f:f>h&&(h=f),g=l[U+1],g<m?m=g:g>v&&(v=g),C=l[U+2],C<S?S=C:C>y&&(y=C);h===d&&(h=255,d=0),v===m&&(v=255,m=0),y===S&&(y=255,S=0);let b,w,T,P,A,F,E,k,L;x>0?(w=h+x*(255-h),T=d-x*(d-0),A=v+x*(255-v),F=m-x*(m-0),k=y+x*(255-y),L=S-x*(S-0)):(b=(h+d)*.5,w=h+x*(h-b),T=d+x*(d-b),P=(v+m)*.5,A=v+x*(v-P),F=m+x*(m-P),E=(y+S)*.5,k=y+x*(y-E),L=S+x*(S-E));for(let U=0;U<s;U+=4)l[U+0]=r(l[U+0],d,h,T,w),l[U+1]=r(l[U+1],m,v,F,A),l[U+2]=r(l[U+2],S,y,L,k)};return g1.Enhance=i,n.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),g1}var m1={},Sx;function Gq(){if(Sx)return m1;Sx=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.Grayscale=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const o=.34*t[i]+.5*t[i+1]+.16*t[i+2];t[i]=o,t[i+1]=o,t[i+2]=o}};return m1.Grayscale=n,m1}var S1={},yx;function Qq(){if(yx)return S1;yx=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.HSL=void 0;const n=wt(),e=Fn(),t=xt();n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter);const r=function(i){const o=i.data,l=o.length,s=1,d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=this.luminance()*127,m=s*d*Math.cos(h*Math.PI/180),v=s*d*Math.sin(h*Math.PI/180),g=.299*s+.701*m+.167*v,S=.587*s-.587*m+.33*v,y=.114*s-.114*m-.497*v,C=.299*s-.299*m-.328*v,x=.587*s+.413*m+.035*v,b=.114*s-.114*m+.293*v,w=.299*s-.3*m+1.25*v,T=.587*s-.586*m-1.05*v,P=.114*s+.886*m-.2*v;let A,F,E,k;for(let L=0;L<l;L+=4)A=o[L+0],F=o[L+1],E=o[L+2],k=o[L+3],o[L+0]=g*A+S*F+y*E+f,o[L+1]=C*A+x*F+b*E+f,o[L+2]=w*A+T*F+P*E+f,o[L+3]=k};return S1.HSL=r,S1}var y1={},vx;function zq(){if(vx)return y1;vx=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.HSV=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=i.data,l=o.length,s=Math.pow(2,this.value()),d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=s*d*Math.cos(h*Math.PI/180),m=s*d*Math.sin(h*Math.PI/180),v=.299*s+.701*f+.167*m,g=.587*s-.587*f+.33*m,S=.114*s-.114*f-.497*m,y=.299*s-.299*f-.328*m,C=.587*s+.413*f+.035*m,x=.114*s-.114*f+.293*m,b=.299*s-.3*f+1.25*m,w=.587*s-.586*f-1.05*m,T=.114*s+.886*f-.2*m;let P,A,F,E;for(let k=0;k<l;k+=4)P=o[k+0],A=o[k+1],F=o[k+2],E=o[k+3],o[k+0]=v*P+g*A+S*F,o[k+1]=y*P+C*A+x*F,o[k+2]=b*P+w*A+T*F,o[k+3]=E};return y1.HSV=r,n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),y1}var v1={},Cx;function Wq(){if(Cx)return v1;Cx=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.Invert=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};return v1.Invert=n,v1}var C1={},wx;function Hq(){if(wx)return C1;wx=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.Kaleidoscope=void 0;const n=wt(),e=Fn(),t=In(),r=xt(),i=function(s,d,h){const f=s.data,m=d.data,v=s.width,g=s.height,S=h.polarCenterX||v/2,y=h.polarCenterY||g/2;let C=Math.sqrt(S*S+y*y),x=v-S,b=g-y;const w=Math.sqrt(x*x+b*b);C=w>C?w:C;const T=g,P=v,A=360/P*Math.PI/180;for(let F=0;F<P;F+=1){const E=Math.sin(F*A),k=Math.cos(F*A);for(let L=0;L<T;L+=1){x=Math.floor(S+C*L/T*k),b=Math.floor(y+C*L/T*E);let U=(b*v+x)*4;const N=f[U+0],R=f[U+1],I=f[U+2],_=f[U+3];U=(F+L*v)*4,m[U+0]=N,m[U+1]=R,m[U+2]=I,m[U+3]=_}}},o=function(s,d,h){const f=s.data,m=d.data,v=s.width,g=s.height,S=h.polarCenterX||v/2,y=h.polarCenterY||g/2;let C=Math.sqrt(S*S+y*y),x=v-S,b=g-y;const w=Math.sqrt(x*x+b*b);C=w>C?w:C;const T=g,P=v,A=0;let F,E;for(x=0;x<v;x+=1)for(b=0;b<g;b+=1){const k=x-S,L=b-y,U=Math.sqrt(k*k+L*L)*T/C;let N=(Math.atan2(L,k)*180/Math.PI+360+A)%360;N=N*P/360,F=Math.floor(N),E=Math.floor(U);let R=(E*v+F)*4;const I=f[R+0],_=f[R+1],q=f[R+2],W=f[R+3];R=(b*v+x)*4,m[R+0]=I,m[R+1]=_,m[R+2]=q,m[R+3]=W}},l=function(s){const d=s.width,h=s.height;let f,m,v,g,S,y,C,x,b,w,T=Math.round(this.kaleidoscopePower());const P=Math.round(this.kaleidoscopeAngle()),A=Math.floor(d*(P%360)/360);if(T<1)return;const F=t.Util.createCanvasElement();F.width=d,F.height=h;const E=F.getContext("2d").getImageData(0,0,d,h);t.Util.releaseCanvas(F),i(s,E,{polarCenterX:d/2,polarCenterY:h/2});let k=d/Math.pow(2,T);for(;k<=8;)k=k*2,T-=1;k=Math.ceil(k);let L=k,U=0,N=L,R=1;for(A+k>d&&(U=L,N=0,R=-1),m=0;m<h;m+=1)for(f=U;f!==N;f+=R)v=Math.round(f+A)%d,b=(d*m+v)*4,S=E.data[b+0],y=E.data[b+1],C=E.data[b+2],x=E.data[b+3],w=(d*m+f)*4,E.data[w+0]=S,E.data[w+1]=y,E.data[w+2]=C,E.data[w+3]=x;for(m=0;m<h;m+=1)for(L=Math.floor(k),g=0;g<T;g+=1){for(f=0;f<L+1;f+=1)b=(d*m+f)*4,S=E.data[b+0],y=E.data[b+1],C=E.data[b+2],x=E.data[b+3],w=(d*m+L*2-f-1)*4,E.data[w+0]=S,E.data[w+1]=y,E.data[w+2]=C,E.data[w+3]=x;L*=2}o(E,s,{})};return C1.Kaleidoscope=l,n.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),C1}var w1={},bx;function jq(){if(bx)return w1;bx=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.Mask=void 0;const n=wt(),e=Fn(),t=xt();function r(v,g,S){let y=(S*v.width+g)*4;const C=[];return C.push(v.data[y++],v.data[y++],v.data[y++],v.data[y++]),C}function i(v,g){return Math.sqrt(Math.pow(v[0]-g[0],2)+Math.pow(v[1]-g[1],2)+Math.pow(v[2]-g[2],2))}function o(v){const g=[0,0,0];for(let S=0;S<v.length;S++)g[0]+=v[S][0],g[1]+=v[S][1],g[2]+=v[S][2];return g[0]/=v.length,g[1]/=v.length,g[2]/=v.length,g}function l(v,g){const S=r(v,0,0),y=r(v,v.width-1,0),C=r(v,0,v.height-1),x=r(v,v.width-1,v.height-1),b=g||10;if(i(S,y)<b&&i(y,x)<b&&i(x,C)<b&&i(C,S)<b){const w=o([y,S,x,C]),T=[];for(let P=0;P<v.width*v.height;P++){const A=i(w,[v.data[P*4],v.data[P*4+1],v.data[P*4+2]]);T[P]=A<b?0:255}return T}}function s(v,g){for(let S=0;S<v.width*v.height;S++)v.data[4*S+3]=g[S]}function d(v,g,S){const y=[1,1,1,1,0,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),b=[];for(let w=0;w<S;w++)for(let T=0;T<g;T++){const P=w*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=w+F-x,L=T+E-x;if(k>=0&&k<S&&L>=0&&L<g){const U=k*g+L,N=y[F*C+E];A+=v[U]*N}}b[P]=A===255*8?255:0}return b}function h(v,g,S){const y=[1,1,1,1,1,1,1,1,1],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),b=[];for(let w=0;w<S;w++)for(let T=0;T<g;T++){const P=w*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=w+F-x,L=T+E-x;if(k>=0&&k<S&&L>=0&&L<g){const U=k*g+L,N=y[F*C+E];A+=v[U]*N}}b[P]=A>=255*4?255:0}return b}function f(v,g,S){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],C=Math.round(Math.sqrt(y.length)),x=Math.floor(C/2),b=[];for(let w=0;w<S;w++)for(let T=0;T<g;T++){const P=w*g+T;let A=0;for(let F=0;F<C;F++)for(let E=0;E<C;E++){const k=w+F-x,L=T+E-x;if(k>=0&&k<S&&L>=0&&L<g){const U=k*g+L,N=y[F*C+E];A+=v[U]*N}}b[P]=A}return b}const m=function(v){const g=this.threshold();let S=l(v,g);return S&&(S=d(S,v.width,v.height),S=h(S,v.width,v.height),S=f(S,v.width,v.height),s(v,S)),v};return w1.Mask=m,n.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),w1}var b1={},Dx;function $q(){if(Dx)return b1;Dx=1,Object.defineProperty(b1,"__esModule",{value:!0}),b1.Noise=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=this.noise()*255,l=i.data,s=l.length,d=o/2;for(let h=0;h<s;h+=4)l[h+0]+=d-2*d*Math.random(),l[h+1]+=d-2*d*Math.random(),l[h+2]+=d-2*d*Math.random()};return b1.Noise=r,n.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),b1}var D1={},xx;function Yq(){if(xx)return D1;xx=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.Pixelate=void 0;const n=wt(),e=In(),t=Fn(),r=xt(),i=function(o){let l=Math.ceil(this.pixelSize()),s=o.width,d=o.height,h,f,m,v,g,S,y,C=Math.ceil(s/l),x=Math.ceil(d/l),b,w,T,P,A,F,E,k=o.data;if(l<=0){e.Util.error("pixelSize value can not be <= 0");return}for(A=0;A<C;A+=1)for(F=0;F<x;F+=1){for(v=0,g=0,S=0,y=0,b=A*l,w=b+l,T=F*l,P=T+l,E=0,h=b;h<w;h+=1)if(!(h>=s))for(f=T;f<P;f+=1)f>=d||(m=(s*f+h)*4,v+=k[m+0],g+=k[m+1],S+=k[m+2],y+=k[m+3],E+=1);for(v=v/E,g=g/E,S=S/E,y=y/E,h=b;h<w;h+=1)if(!(h>=s))for(f=T;f<P;f+=1)f>=d||(m=(s*f+h)*4,k[m+0]=v,k[m+1]=g,k[m+2]=S,k[m+3]=y)}};return D1.Pixelate=i,n.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,r.getNumberValidator)(),n.Factory.afterSetFilter),D1}var x1={},Tx;function Xq(){if(Tx)return x1;Tx=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.Posterize=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=Math.round(this.levels()*254)+1,l=i.data,s=l.length,d=255/o;for(let h=0;h<s;h+=1)l[h]=Math.floor(l[h]/d)*d};return x1.Posterize=r,n.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),x1}var T1={},Px;function Kq(){if(Px)return T1;Px=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.RGB=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=i.data,l=o.length,s=this.red(),d=this.green(),h=this.blue();for(let f=0;f<l;f+=4){const m=(.34*o[f]+.5*o[f+1]+.16*o[f+2])/255;o[f]=m*s,o[f+1]=m*d,o[f+2]=m*h,o[f+3]=o[f+3]}};return T1.RGB=r,n.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),T1}var P1={},Ix;function Zq(){if(Ix)return P1;Ix=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.RGBA=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=i.data,l=o.length,s=this.red(),d=this.green(),h=this.blue(),f=this.alpha();for(let m=0;m<l;m+=4){const v=1-f;o[m]=s*f+o[m]*v,o[m+1]=d*f+o[m+1]*v,o[m+2]=h*f+o[m+2]*v}};return P1.RGBA=r,n.Factory.addGetterSetter(e.Node,"red",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"green",0,function(i){return this._filterUpToDate=!1,i>255?255:i<0?0:Math.round(i)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"alpha",1,function(i){return this._filterUpToDate=!1,i>1?1:i<0?0:i}),P1}var I1={},Lx;function Jq(){if(Lx)return I1;Lx=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.Sepia=void 0;const n=function(e){const t=e.data,r=t.length;for(let i=0;i<r;i+=4){const o=t[i+0],l=t[i+1],s=t[i+2];t[i+0]=Math.min(255,o*.393+l*.769+s*.189),t[i+1]=Math.min(255,o*.349+l*.686+s*.168),t[i+2]=Math.min(255,o*.272+l*.534+s*.131)}};return I1.Sepia=n,I1}var L1={},Rx;function eV(){if(Rx)return L1;Rx=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.Solarize=void 0;const n=function(e){const t=e.data,r=e.width,i=e.height,o=r*4;let l=i;do{const s=(l-1)*o;let d=r;do{const h=s+(d-1)*4;let f=t[h],m=t[h+1],v=t[h+2];f>127&&(f=255-f),m>127&&(m=255-m),v>127&&(v=255-v),t[h]=f,t[h+1]=m,t[h+2]=v}while(--d)}while(--l)};return L1.Solarize=n,L1}var R1={},Ax;function tV(){if(Ax)return R1;Ax=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.Threshold=void 0;const n=wt(),e=Fn(),t=xt(),r=function(i){const o=this.threshold()*255,l=i.data,s=l.length;for(let d=0;d<s;d+=1)l[d]=l[d]<o?0:255};return R1.Threshold=r,n.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),R1}var Ox;function nV(){if(Ox)return Qf;Ox=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.Konva=void 0;const n=bq(),e=Dq(),t=Tq(),r=Pq(),i=Iq(),o=Lq(),l=Rq(),s=pI(),d=sw(),h=gI(),f=Aq(),m=Oq(),v=Eq(),g=kq(),S=mI(),y=_q(),C=Fq(),x=Mq(),b=Nq(),w=Uq(),T=Bq(),P=qq(),A=Vq(),F=Gq(),E=Qq(),k=zq(),L=Wq(),U=Hq(),N=jq(),R=$q(),I=Yq(),_=Xq(),q=Kq(),W=Zq(),j=Jq(),H=eV(),X=tV();return Qf.Konva=n.Konva.Util._assign(n.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:r.Circle,Ellipse:i.Ellipse,Image:o.Image,Label:l.Label,Tag:l.Tag,Line:s.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:m.Ring,Sprite:v.Sprite,Star:g.Star,Text:S.Text,TextPath:y.TextPath,Transformer:C.Transformer,Wedge:x.Wedge,Filters:{Blur:b.Blur,Brighten:w.Brighten,Contrast:T.Contrast,Emboss:P.Emboss,Enhance:A.Enhance,Grayscale:F.Grayscale,HSL:E.HSL,HSV:k.HSV,Invert:L.Invert,Kaleidoscope:U.Kaleidoscope,Mask:N.Mask,Noise:R.Noise,Pixelate:I.Pixelate,Posterize:_.Posterize,RGB:q.RGB,RGBA:W.RGBA,Sepia:j.Sepia,Solarize:H.Solarize,Threshold:X.Threshold}}),Qf}var rV=PS.exports,Ex;function iV(){if(Ex)return PS.exports;Ex=1,Object.defineProperty(rV,"__esModule",{value:!0});const n=nV();return PS.exports=n.Konva,PS.exports}var oV=iV();const aV=Rg(oV);var $5={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var kx;function sV(){return kx||(kx=1,function(n){var e=function(){var t={};t.floodFill=function(s,d,h,f,m,v){return v?i(s,d,h,f,m):r(s,d,h,f,m)};function r(s,d,h,f,m){var v,g,S,y,C,x,b,w,T,P,A=s.data,F=s.width,E=s.height,k=s.bytes,L=-1,U=F+1,N=-1,R=E+1,I=h*F+d,_=new Uint8Array(F*E),q=new Uint8Array(m||F*E);if(q[I]===1)return null;I=I*k;var W=[A[I],A[I+1],A[I+2],A[I+3]],j=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=j.shift(),P=!1,g=y.left+1;g<y.right;g++)if(b=y.y*F,I=(b+g)*k,q[b+g]!==1&&(v=A[I]-W[0],!(v>f||v<-f)&&(v=A[I+1]-W[1],!(v>f||v<-f)&&(v=A[I+2]-W[2],!(v>f||v<-f))))){for(P=!0,_[b+g]=1,q[b+g]=1,x=g-1;x>-1&&(w=b+x,I=w*k,!(q[w]===1||(v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f)));)_[w]=1,q[w]=1,x--;for(C=g+1;C<F&&(T=b+C,I=T*k,!(q[T]===1||(v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f)));)_[T]=1,q[T]=1,C++;x<U&&(U=x+1),C>L&&(L=C-1),S=y.y-y.dir,S>=0&&S<E&&(x<y.left&&j.push({y:S,left:x,right:y.left,dir:-y.dir}),y.right<C&&j.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&x<C&&j.push({y:S,left:x,right:C,dir:y.dir})}P&&(y.y<R&&(R=y.y),y.y>N&&(N=y.y))}while(j.length>0);return{data:_,width:s.width,height:s.height,bounds:{minX:U,minY:R,maxX:L,maxY:N}}}function i(s,d,h,f,m){var v,g,S,y,C,x,b,w,T,P,A=s.data,F=s.width,E=s.height,k=s.bytes,L=-1,U=F+1,N=-1,R=E+1,I=h*F+d,_=new Uint8Array(F*E),q=new Uint8Array(m||F*E);if(q[I]===1)return null;I=I*k;var W=[A[I],A[I+1],A[I+2],A[I+3]],j=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=j.shift(),P=!1,g=y.left+1;g<y.right;g++)if(b=y.y*F,I=(b+g)*k,q[b+g]!==1&&(P=!0,_[b+g]=1,q[b+g]=1,v=A[I]-W[0],!(v>f||v<-f)&&(v=A[I+1]-W[1],!(v>f||v<-f)&&(v=A[I+2]-W[2],!(v>f||v<-f))))){for(x=g-1;x>-1&&(w=b+x,I=w*k,!(q[w]===1||(_[w]=1,q[w]=1,x--,v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f))););for(C=g+1;C<F&&(T=b+C,I=T*k,!(q[T]===1||(_[T]=1,q[T]=1,C++,v=A[I]-W[0],v>f||v<-f)||(v=A[I+1]-W[1],v>f||v<-f)||(v=A[I+2]-W[2],v>f||v<-f))););x<U&&(U=x+1),C>L&&(L=C-1),S=y.y-y.dir,S>=0&&S<E&&(x<y.left&&j.push({y:S,left:x,right:y.left,dir:-y.dir}),y.right<C&&j.push({y:S,left:y.right,right:C,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<E&&x<C&&j.push({y:S,left:x,right:C,dir:y.dir})}P&&(y.y<R&&(R=y.y),y.y>N&&(N=y.y))}while(j.length>0);return{data:_,width:s.width,height:s.height,bounds:{minX:U,minY:R,maxX:L,maxY:N}}}t.gaussBlur=function(s,d){var h,f,m,v,g,S,y,C,x=d*2+1,b=d*d,w=new Float32Array(x),T=0,P=s.width,A=s.height,F=s.data,E=s.bounds.minX,k=s.bounds.maxX,L=s.bounds.minY,U=s.bounds.maxY;for(h=0;h<d;h++){var N=(d-h)*(d-h),R=Math.exp(-N/(2*b))/(2*Math.PI*b);w[d+h]=w[d-h]=R,T+=2*R}for(h=0;h<x;h++)w[h]/=T;var I=new Uint8Array(P*A),_=d+P,q=d+A;for(g=L;g<U+1;g++)for(v=E;v<k+1;v++){for(S=0,f=g*P+v,y=d-v>0?d-v:0,C=_-v<x?_-v:x,m=f-d,h=y;h<C;h++)S+=F[m+h]*w[h];for(y=d-g>0?d-g:0,C=q-g<x?q-g:x,m=f-d*P,h=y;h<C;h++)S+=F[m+h*P]*w[h];I[f]=S>.5?1:0}return{data:I,width:P,height:A,bounds:{minX:E,minY:L,maxX:k,maxY:U}}};function o(s,d,h){var f,m,v,g,S,y,C,x=s.width,b=s.height,w=s.data,T=new Uint8Array(w),P=s.bounds.minX,A=s.bounds.maxX,F=s.bounds.minY,E=s.bounds.maxY,k=x*b,L=new Uint8Array(k),U=[],N=Math.max(P,1),R=Math.min(A,x-2),I=Math.max(F,1),_=Math.min(E,b-2);if(h&&h.length>0)for(S=0;S<k;S++)h[S]===1&&(T[S]=1);for(g=I;g<_+1;g++)for(f=N;f<R+1;f++)S=g*x+f,w[S]!==0&&(y=S+x,C=S-x,(T[S+1]===0||T[S-1]===0||T[y]===0||T[y+1]===0||T[y-1]===0||T[C]===0||T[C+1]===0||T[C-1]===0)&&U.push(S));if(P==0)for(g=F;g<E+1;g++)w[g*x]===1&&U.push(g*x);if(A==x-1)for(g=F;g<E+1;g++)w[g*x+A]===1&&U.push(g*x+A);if(F==0)for(f=P;f<A+1;f++)w[f]===1&&U.push(f);if(E==b-1)for(f=P;f<A+1;f++)w[E*x+f]===1&&U.push(E*x+f);var q=[],W,j,H=d+x,X=d+b,V=d*2+1;for(k=U.length,v=0;v<k;v++){for(S=U[v],L[S]=1,q.push(S),f=S%x,g=(S-f)/x,W=d-f>0?d-f:0,j=H-f<V?H-f:V,y=S-d,m=W;m<j;m++)C=y+m,L[C]===0&&(L[C]=1,q.push(C));for(W=d-g>0?d-g:0,j=X-g<V?X-g:V,y=S-d*x,m=W;m<j;m++)C=y+m*x,L[C]===0&&(L[C]=1,q.push(C))}return q}t.gaussBlurOnlyBorder=function(s,d,h){var f=o(s,d,h),m,v,g,S,y,C,x,b,w,T,P,A=d*2+1,F=2*d*d,E=new Float32Array(A),k=0,L=s.width,U=s.height,N=s.data,R=s.bounds.minX,I=s.bounds.maxX,_=s.bounds.minY,q=s.bounds.maxY,W=f.length;for(g=0;g<d;g++)v=(d-g)*(d-g),m=Math.exp(-v/F)/Math.PI,E[d+g]=E[d-g]=m,k+=2*m;for(g=0;g<A;g++)E[g]/=k;var j=new Uint8Array(N),H=d+L,X=d+U;for(g=0;g<W;g++){for(y=f[g],w=0,x=y%L,b=(y-x)/L,T=d-x>0?d-x:0,P=H-x<A?H-x:A,C=y-d,S=T;S<P;S++)w+=N[C+S]*E[S];if(w>.5){j[y]=1,x<R&&(R=x),x>I&&(I=x),b<_&&(_=b),b>q&&(q=b);continue}for(T=d-b>0?d-b:0,P=X-b<A?X-b:A,C=y-d*L,S=T;S<P;S++)w+=N[C+S*L]*E[S];w>.5?(j[y]=1,x<R&&(R=x),x>I&&(I=x),b<_&&(_=b),b>q&&(q=b)):j[y]=0}return{data:j,width:L,height:U,bounds:{minX:R,minY:_,maxX:I,maxY:q}}},t.createBorderMask=function(s){var d,h,f,m,v,g=s.width,S=s.height,y=s.data,C=s.bounds.minX,x=s.bounds.maxX,b=s.bounds.minY,w=s.bounds.maxY,T=x-C+1,P=w-b+1,A=new Uint8Array(T*P),F=Math.max(C,1),E=Math.min(x,g-2),k=Math.max(b,1),L=Math.min(w,S-2);for(h=k;h<L+1;h++)for(d=F;d<E+1;d++)f=h*g+d,y[f]!==0&&(m=f+g,v=f-g,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&(A[(h-b)*T+(d-C)]=1));if(C==0)for(h=b;h<w+1;h++)y[h*g]===1&&(A[(h-b)*T]=1);if(x==g-1)for(h=b;h<w+1;h++)y[h*g+x]===1&&(A[(h-b)*T+(x-C)]=1);if(b==0)for(d=C;d<x+1;d++)y[d]===1&&(A[d-C]=1);if(w==S-1)for(d=C;d<x+1;d++)y[w*g+d]===1&&(A[(w-b)*T+(d-C)]=1);return{data:A,width:T,height:P,offset:{x:C,y:b}}},t.getBorderIndices=function(s){var d,h,f,m,v,g=s.width,S=s.height,y=s.data,C=[],x=g-1,b=S-1;for(h=1;h<b;h++)for(d=1;d<x;d++)f=h*g+d,y[f]!==0&&(m=f+g,v=f-g,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&C.push(f));for(h=0;h<S;h++)y[h*g]===1&&C.push(h*g);for(d=0;d<g;d++)y[d]===1&&C.push(d);for(f=g-1,h=0;h<S;h++)y[h*g+f]===1&&C.push(h*g+f);for(f=(S-1)*g,d=0;d<g;d++)y[f+d]===1&&C.push(f+d);return C};function l(s){var d,h,f=s.width,m=s.data,v=s.bounds.minX,g=s.bounds.maxX,S=s.bounds.minY,y=s.bounds.maxY,C=g-v+3,x=y-S+3,b=new Uint8Array(C*x);for(h=S;h<y+1;h++)for(d=v;d<g+1;d++)m[h*f+d]===1&&(b[(h-S+1)*C+(d-v+1)]=1);return{data:b,width:C,height:x,offset:{x:v-1,y:S-1}}}return t.traceContours=function(s){var d=l(s),h=[],f=0,m=d.width,v=m*2,g=d.height,S=d.data,y=d.offset.x,C=d.offset.y,x=new Uint8Array(S),b,w,T,P,A,F,E,k,L,U,N,R,I,_,q,W=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(P=1;P<g-1;P++)for(T=1;T<m-1;T++)if(A=P*m+T,S[A]===1){for(b=-m;b<v;b+=v)if(S[A+b]===0&&x[A+b]===0){for(k=b===m,f++,E=[],L=k?2:6,R=I=U={x:T,y:P},N=null;;){for(x[R.y*m+R.x]=f,w=0;w<8;w++){if(L=(L+1)%8,q=W[L],_={x:R.x+q[0],y:R.y+q[1]},F=_.y*m+_.x,S[F]===1){x[F]=f;break}x[F]=-1,_=null}if(_===null)break;if(R=_,N){if(I.x===U.x&&I.y===U.y&&R.x===N.x&&R.y===N.y)break}else N=_;E.push({x:I.x+y,y:I.y+C}),I=R,L=(L+4)%8}_!=null&&(E.push({x:U.x+y,y:U.y+C}),h.push({inner:k,label:f,points:E}))}}return h},t.simplifyContours=function(s,d,h){var f=s.length,m=[],v,g,S,y,C,x,b,w,T,P,A,F,E,k,L,U,N,R,I,_,q;for(g=0;g<f;g++){if(y=s[g],C=y.points,x=y.points.length,x<h){for(b=[],S=0;S<x;S++)b.push({x:C[S].x,y:C[S].y});m.push({inner:y.inner,label:y.label,points:b,initialCount:x});continue}w=[0,x-1],T=[{first:0,last:x-1}];do if(P=T.shift(),!(P.last<=P.first+1)){for(A=-1,F=P.first,v=P.first+1;v<P.last;v++)I=C[v],_=C[P.first],q=C[P.last],N=I.x-_.x,R=I.y-_.y,k=Math.sqrt(N*N+R*R),N=I.x-q.x,R=I.y-q.y,L=Math.sqrt(N*N+R*R),N=_.x-q.x,R=_.y-q.y,U=Math.sqrt(N*N+R*R),k>=Math.sqrt(L*L+U*U)?E=L:L>=Math.sqrt(k*k+U*U)?E=k:E=Math.abs((R*I.x-N*I.y+_.x*q.y-q.x*_.y)/U),E>A&&(F=v,A=E);A>d&&(w.push(F),T.push({first:P.first,last:F}),T.push({first:F,last:P.last}))}while(T.length>0);for(b=[],x=w.length,w.sort(function(W,j){return W-j}),S=0;S<x;S++)b.push({x:C[w[S]].x,y:C[w[S]].y});m.push({inner:y.inner,label:y.label,points:b,initialCount:y.points.length})}return m},t}();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)}($5)),$5.exports}var lV=sV();const uV=Rg(lV);function oS(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Y5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var _x;function cV(){return _x||(_x=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,o){function l(h,f){if(!i[h]){if(!r[h]){var m=typeof oS=="function"&&oS;if(!f&&m)return m(h,!0);if(s)return s(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var g=i[h]={exports:{}};r[h][0].call(g.exports,function(S){var y=r[h][1][S];return l(y||S)},g,g.exports,t,r,i,o)}return i[h].exports}for(var s=typeof oS=="function"&&oS,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(t,r,i){var o=t("./utils"),l=t("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,m,v,g,S,y,C=[],x=0,b=d.length,w=b,T=o.getTypeOf(d)!=="string";x<d.length;)w=b-x,m=T?(h=d[x++],f=x<b?d[x++]:0,x<b?d[x++]:0):(h=d.charCodeAt(x++),f=x<b?d.charCodeAt(x++):0,x<b?d.charCodeAt(x++):0),v=h>>2,g=(3&h)<<4|f>>4,S=1<w?(15&f)<<2|m>>6:64,y=2<w?63&m:64,C.push(s.charAt(v)+s.charAt(g)+s.charAt(S)+s.charAt(y));return C.join("")},i.decode=function(d){var h,f,m,v,g,S,y=0,C=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var b,w=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===s.charAt(64)&&w--,d.charAt(d.length-2)===s.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=l.uint8array?new Uint8Array(0|w):new Array(0|w);y<d.length;)h=s.indexOf(d.charAt(y++))<<2|(v=s.indexOf(d.charAt(y++)))>>4,f=(15&v)<<4|(g=s.indexOf(d.charAt(y++)))>>2,m=(3&g)<<6|(S=s.indexOf(d.charAt(y++))),b[C++]=h,g!==64&&(b[C++]=f),S!==64&&(b[C++]=m);return b}},{"./support":30,"./utils":32}],2:[function(t,r,i){var o=t("./external"),l=t("./stream/DataWorker"),s=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function h(f,m,v,g,S){this.compressedSize=f,this.uncompressedSize=m,this.crc32=v,this.compression=g,this.compressedContent=S}h.prototype={getContentWorker:function(){var f=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,v){return f.pipe(new s).pipe(new d("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var o=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var o=t("./utils"),l=function(){for(var s,d=[],h=0;h<256;h++){s=h;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;d[h]=s}return d}();r.exports=function(s,d){return s!==void 0&&s.length?o.getTypeOf(s)!=="string"?function(h,f,m,v){var g=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^g[255&(h^f[y])];return-1^h}(0|d,s,s.length,0):function(h,f,m,v){var g=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^g[255&(h^f.charCodeAt(y))];return-1^h}(0|d,s,s.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var o=null;o=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:o}},{lie:37}],7:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),s=t("./utils"),d=t("./stream/GenericWorker"),h=o?"uint8array":"array";function f(m,v){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}i.magic="\b\0",s.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(s.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},i.compressWorker=function(m){return new f("Deflate",m)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function o(g,S){var y,C="";for(y=0;y<S;y++)C+=String.fromCharCode(255&g),g>>>=8;return C}function l(g,S,y,C,x,b){var w,T,P=g.file,A=g.compression,F=b!==h.utf8encode,E=s.transformTo("string",b(P.name)),k=s.transformTo("string",h.utf8encode(P.name)),L=P.comment,U=s.transformTo("string",b(L)),N=s.transformTo("string",h.utf8encode(L)),R=k.length!==P.name.length,I=N.length!==L.length,_="",q="",W="",j=P.dir,H=P.date,X={crc32:0,compressedSize:0,uncompressedSize:0};S&&!y||(X.crc32=g.crc32,X.compressedSize=g.compressedSize,X.uncompressedSize=g.uncompressedSize);var V=0;S&&(V|=8),F||!R&&!I||(V|=2048);var $=0,ne=0;j&&($|=16),x==="UNIX"?(ne=798,$|=function(te,pe){var J=te;return te||(J=pe?16893:33204),(65535&J)<<16}(P.unixPermissions,j)):(ne=20,$|=function(te){return 63&(te||0)}(P.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,T=H.getUTCFullYear()-1980,T<<=4,T|=H.getUTCMonth()+1,T<<=5,T|=H.getUTCDate(),R&&(q=o(1,1)+o(f(E),4)+k,_+="up"+o(q.length,2)+q),I&&(W=o(1,1)+o(f(U),4)+N,_+="uc"+o(W.length,2)+W);var ie="";return ie+=`
\0`,ie+=o(V,2),ie+=A.magic,ie+=o(w,2),ie+=o(T,2),ie+=o(X.crc32,4),ie+=o(X.compressedSize,4),ie+=o(X.uncompressedSize,4),ie+=o(E.length,2),ie+=o(_.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ie+E+_,dirRecord:m.CENTRAL_FILE_HEADER+o(ne,2)+ie+o(U.length,2)+"\0\0\0\0"+o($,4)+o(C,4)+E+_+U}}var s=t("../utils"),d=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),m=t("../signature");function v(g,S,y,C){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=y,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(v,d),v.prototype.push=function(g){var S=g.meta.percent||0,y=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,d.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:y?(S+100*(y-C-1))/y:100}}))},v.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var S=this.streamFiles&&!g.file.dir;if(S){var y=l(g,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(g){this.accumulate=!1;var S=this.streamFiles&&!g.file.dir,y=l(g,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),S)this.push({data:function(C){return m.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var g=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var y=this.bytesWritten-g,C=function(x,b,w,T,P){var A=s.transformTo("string",P(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(x,2)+o(x,2)+o(b,4)+o(w,4)+o(A.length,2)+A}(this.dirRecords.length,y,g,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(g){this._sources.push(g);var S=this;return g.on("data",function(y){S.processChunk(y)}),g.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),g.on("error",function(y){S.error(y)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(g){var S=this._sources;if(!d.prototype.error.call(this,g))return!1;for(var y=0;y<S.length;y++)try{S[y].error(g)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var g=this._sources,S=0;S<g.length;S++)g[S].lock()},r.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var o=t("../compressions"),l=t("./ZipFileWorker");i.generateWorker=function(s,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{s.forEach(function(v,g){m++;var S=function(b,w){var T=b||w,P=o[T];if(!P)throw new Error(T+" is not a valid compression method !");return P}(g.options.compression,d.compression),y=g.options.compressionOptions||d.compressionOptions||{},C=g.dir,x=g.date;g._compressWorker(S,y).withStreamInfo("file",{name:v,dir:C,date:x,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var s in this)typeof this[s]!="function"&&(l[s]=this[s]);return l}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(l,s){return new o().loadAsync(l,s)},o.external=t("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var o=t("./utils"),l=t("./external"),s=t("./utf8"),d=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(v){return new l.Promise(function(g,S){var y=v.decompressed.getContentWorker().pipe(new h);y.on("error",function(C){S(C)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(v,g){var S=this;return g=o.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),f.isNode&&f.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,g.optimizedBinaryString,g.base64).then(function(y){var C=new d(g);return C.load(y),C}).then(function(y){var C=[l.Promise.resolve(y)],x=y.files;if(g.checkCRC32)for(var b=0;b<x.length;b++)C.push(m(x[b]));return l.Promise.all(C)}).then(function(y){for(var C=y.shift(),x=C.files,b=0;b<x.length;b++){var w=x[b],T=w.fileNameStr,P=o.resolve(w.fileNameStr);S.file(P,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:g.createFolders}),w.dir||(S.file(P).unsafeOriginalName=T)}return C.zipComment.length&&(S.comment=C.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var o=t("../utils"),l=t("../stream/GenericWorker");function s(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(s,l),s.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},s.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var o=t("readable-stream").Readable;function l(s,d,h){o.call(this,d),this._helper=s;var f=this;s.on("data",function(m,v){f.push(m)||f._helper.pause(),h&&h(v)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,r,i){function o(P,A,F){var E,k=s.getTypeOf(A),L=s.extend(F||{},f);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(P=x(P)),L.createFolders&&(E=C(P))&&b.call(this,E,!0);var U=k==="string"&&L.binary===!1&&L.base64===!1;F&&F.binary!==void 0||(L.binary=!U),(A instanceof m&&A.uncompressedSize===0||L.dir||!A||A.length===0)&&(L.base64=!1,L.binary=!0,A="",L.compression="STORE",k="string");var N=null;N=A instanceof m||A instanceof d?A:S.isNode&&S.isStream(A)?new y(P,A):s.prepareContent(P,A,L.binary,L.optimizedBinaryString,L.base64);var R=new v(P,N,L);this.files[P]=R}var l=t("./utf8"),s=t("./utils"),d=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),v=t("./zipObject"),g=t("./generate"),S=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),C=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var A=P.lastIndexOf("/");return 0<A?P.substring(0,A):""},x=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},b=function(P,A){return A=A!==void 0?A:f.createFolders,P=x(P),this.files[P]||o.call(this,P,null,{dir:!0,createFolders:A}),this.files[P]};function w(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var A,F,E;for(A in this.files)E=this.files[A],(F=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&P(F,E)},filter:function(P){var A=[];return this.forEach(function(F,E){P(F,E)&&A.push(E)}),A},file:function(P,A,F){if(arguments.length!==1)return P=this.root+P,o.call(this,P,A,F),this;if(w(P)){var E=P;return this.filter(function(L,U){return!U.dir&&E.test(L)})}var k=this.files[this.root+P];return k&&!k.dir?k:null},folder:function(P){if(!P)return this;if(w(P))return this.filter(function(k,L){return L.dir&&P.test(k)});var A=this.root+P,F=b.call(this,A),E=this.clone();return E.root=F.name,E},remove:function(P){P=this.root+P;var A=this.files[P];if(A||(P.slice(-1)!=="/"&&(P+="/"),A=this.files[P]),A&&!A.dir)delete this.files[P];else for(var F=this.filter(function(k,L){return L.name.slice(0,P.length)===P}),E=0;E<F.length;E++)delete this.files[F[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var A,F={};try{if((F=s.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");s.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var E=F.comment||this.comment||"";A=g.generateWorker(this,F,E)}catch(k){(A=new d("error")).error(k)}return new h(A,F.type||"string",F.mimeType)},generateAsync:function(P,A){return this.generateInternalStream(P).accumulate(A)},generateNodeStream:function(P,A){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(A)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var o=t("./DataReader");function l(s){o.call(this,s);for(var d=0;d<this.data.length;d++)s[d]=255&s[d]}t("../utils").inherits(l,o),l.prototype.byteAt=function(s){return this.data[this.zero+s]},l.prototype.lastIndexOfSignature=function(s){for(var d=s.charCodeAt(0),h=s.charCodeAt(1),f=s.charCodeAt(2),m=s.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===h&&this.data[v+2]===f&&this.data[v+3]===m)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(s){var d=s.charCodeAt(0),h=s.charCodeAt(1),f=s.charCodeAt(2),m=s.charCodeAt(3),v=this.readData(4);return d===v[0]&&h===v[1]&&f===v[2]&&m===v[3]},l.prototype.readData=function(s){if(this.checkOffset(s),s===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,d},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var o=t("../utils");function l(s){this.data=s,this.length=s.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(s){this.checkIndex(this.index+s)},checkIndex:function(s){if(this.length<this.zero+s||s<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+s+"). Corrupted zip ?")},setIndex:function(s){this.checkIndex(s),this.index=s},skip:function(s){this.setIndex(this.index+s)},byteAt:function(){},readInt:function(s){var d,h=0;for(this.checkOffset(s),d=this.index+s-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=s,h},readString:function(s){return o.transformTo("string",this.readData(s))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var s=this.readInt(4);return new Date(Date.UTC(1980+(s>>25&127),(s>>21&15)-1,s>>16&31,s>>11&31,s>>5&63,(31&s)<<1))}},r.exports=l},{"../utils":32}],19:[function(t,r,i){var o=t("./Uint8ArrayReader");function l(s){o.call(this,s)}t("../utils").inherits(l,o),l.prototype.readData=function(s){this.checkOffset(s);var d=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,d},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var o=t("./DataReader");function l(s){o.call(this,s)}t("../utils").inherits(l,o),l.prototype.byteAt=function(s){return this.data.charCodeAt(this.zero+s)},l.prototype.lastIndexOfSignature=function(s){return this.data.lastIndexOf(s)-this.zero},l.prototype.readAndCheckSignature=function(s){return s===this.readData(4)},l.prototype.readData=function(s){this.checkOffset(s);var d=this.data.slice(this.zero+this.index,this.zero+this.index+s);return this.index+=s,d},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var o=t("./ArrayReader");function l(s){o.call(this,s)}t("../utils").inherits(l,o),l.prototype.readData=function(s){if(this.checkOffset(s),s===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+s);return this.index+=s,d},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var o=t("../utils"),l=t("../support"),s=t("./ArrayReader"),d=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(m){var v=o.getTypeOf(m);return o.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new h(m):l.uint8array?new f(o.transformTo("uint8array",m)):new s(o.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var o=t("./GenericWorker"),l=t("../utils");function s(d){o.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(s,o),s.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},r.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var o=t("./GenericWorker"),l=t("../crc32");function s(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(s,o),s.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var o=t("../utils"),l=t("./GenericWorker");function s(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(s,l),s.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},r.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var o=t("../utils"),l=t("./GenericWorker");function s(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=o.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}o.inherits(s,l),s.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,s){return this._listeners[l].push(s),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,s){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,s)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var s=this;return l.on("data",function(d){s.processChunk(d)}),l.on("end",function(){s.end()}),l.on("error",function(d){s.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,s){return this.extraStreamInfo[l]=s,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=o},{}],29:[function(t,r,i){var o=t("../utils"),l=t("./ConvertWorker"),s=t("./GenericWorker"),d=t("../base64"),h=t("../support"),f=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(S,y){return new f.Promise(function(C,x){var b=[],w=S._internalType,T=S._outputType,P=S._mimeType;S.on("data",function(A,F){b.push(A),y&&y(F)}).on("error",function(A){b=[],x(A)}).on("end",function(){try{var A=function(F,E,k){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",E),k);case"base64":return d.encode(E);default:return o.transformTo(F,E)}}(T,function(F,E){var k,L=0,U=null,N=0;for(k=0;k<E.length;k++)N+=E[k].length;switch(F){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(U=new Uint8Array(N),k=0;k<E.length;k++)U.set(E[k],L),L+=E[k].length;return U;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+F+"'")}}(w,b),P);C(A)}catch(F){x(F)}b=[]}).resume()})}function g(S,y,C){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=C,o.checkSupport(x),this._worker=S.pipe(new l(x)),S.lock()}catch(b){this._worker=new s("error"),this._worker.error(b)}}g.prototype={accumulate:function(S){return v(this,S)},on:function(S,y){var C=this;return S==="data"?this._worker.on(S,function(x){y.call(C,x.data,x.meta)}):this._worker.on(S,function(){o.delay(y,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var o=t("./utils"),l=t("./support"),s=t("./nodejsUtils"),d=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}i.utf8encode=function(g){return l.nodebuffer?s.newBufferFrom(g,"utf-8"):function(S){var y,C,x,b,w,T=S.length,P=0;for(b=0;b<T;b++)(64512&(C=S.charCodeAt(b)))==55296&&b+1<T&&(64512&(x=S.charCodeAt(b+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),b++),P+=C<128?1:C<2048?2:C<65536?3:4;for(y=l.uint8array?new Uint8Array(P):new Array(P),b=w=0;w<P;b++)(64512&(C=S.charCodeAt(b)))==55296&&b+1<T&&(64512&(x=S.charCodeAt(b+1)))==56320&&(C=65536+(C-55296<<10)+(x-56320),b++),C<128?y[w++]=C:(C<2048?y[w++]=192|C>>>6:(C<65536?y[w++]=224|C>>>12:(y[w++]=240|C>>>18,y[w++]=128|C>>>12&63),y[w++]=128|C>>>6&63),y[w++]=128|63&C);return y}(g)},i.utf8decode=function(g){return l.nodebuffer?o.transformTo("nodebuffer",g).toString("utf-8"):function(S){var y,C,x,b,w=S.length,T=new Array(2*w);for(y=C=0;y<w;)if((x=S[y++])<128)T[C++]=x;else if(4<(b=h[x]))T[C++]=65533,y+=b-1;else{for(x&=b===2?31:b===3?15:7;1<b&&y<w;)x=x<<6|63&S[y++],b--;1<b?T[C++]=65533:x<65536?T[C++]=x:(x-=65536,T[C++]=55296|x>>10&1023,T[C++]=56320|1023&x)}return T.length!==C&&(T.subarray?T=T.subarray(0,C):T.length=C),o.applyFromCharCode(T)}(g=o.transformTo(l.uint8array?"uint8array":"array",g))},o.inherits(m,d),m.prototype.processChunk=function(g){var S=o.transformTo(l.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var y=S;(S=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),S.set(y,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var C=function(b,w){var T;for((w=w||b.length)>b.length&&(w=b.length),T=w-1;0<=T&&(192&b[T])==128;)T--;return T<0||T===0?w:T+h[b[T]]>w?T:w}(S),x=S;C!==S.length&&(l.uint8array?(x=S.subarray(0,C),this.leftOver=S.subarray(C,S.length)):(x=S.slice(0,C),this.leftOver=S.slice(C,S.length))),this.push({data:i.utf8decode(x),meta:g.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,o.inherits(v,d),v.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var o=t("./support"),l=t("./base64"),s=t("./nodejsUtils"),d=t("./external");function h(y){return y}function f(y,C){for(var x=0;x<y.length;++x)C[x]=255&y.charCodeAt(x);return C}t("setimmediate"),i.newBlob=function(y,C){i.checkSupport("blob");try{return new Blob([y],{type:C})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,C,x){var b=[],w=0,T=y.length;if(T<=x)return String.fromCharCode.apply(null,y);for(;w<T;)C==="array"||C==="nodebuffer"?b.push(String.fromCharCode.apply(null,y.slice(w,Math.min(w+x,T)))):b.push(String.fromCharCode.apply(null,y.subarray(w,Math.min(w+x,T)))),w+=x;return b.join("")},stringifyByChar:function(y){for(var C="",x=0;x<y.length;x++)C+=String.fromCharCode(y[x]);return C},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,s.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var C=65536,x=i.getTypeOf(y),b=!0;if(x==="uint8array"?b=m.applyCanBeUsed.uint8array:x==="nodebuffer"&&(b=m.applyCanBeUsed.nodebuffer),b)for(;1<C;)try{return m.stringifyByChunk(y,x,C)}catch{C=Math.floor(C/2)}return m.stringifyByChar(y)}function g(y,C){for(var x=0;x<y.length;x++)C[x]=y[x];return C}i.applyFromCharCode=v;var S={};S.string={string:h,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return S.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,s.allocBuffer(y.length))}},S.array={string:v,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return s.newBufferFrom(y)}},S.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return g(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return s.newBufferFrom(new Uint8Array(y))}},S.uint8array={string:v,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return s.newBufferFrom(y)}},S.nodebuffer={string:v,array:function(y){return g(y,new Array(y.length))},arraybuffer:function(y){return S.nodebuffer.uint8array(y).buffer},uint8array:function(y){return g(y,new Uint8Array(y.length))},nodebuffer:h},i.transformTo=function(y,C){if(C=C||"",!y)return C;i.checkSupport(y);var x=i.getTypeOf(C);return S[x][y](C)},i.resolve=function(y){for(var C=y.split("/"),x=[],b=0;b<C.length;b++){var w=C[b];w==="."||w===""&&b!==0&&b!==C.length-1||(w===".."?x.pop():x.push(w))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&s.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var C,x,b="";for(x=0;x<(y||"").length;x++)b+="\\x"+((C=y.charCodeAt(x))<16?"0":"")+C.toString(16).toUpperCase();return b},i.delay=function(y,C,x){setImmediate(function(){y.apply(x||null,C||[])})},i.inherits=function(y,C){function x(){}x.prototype=C.prototype,y.prototype=new x},i.extend=function(){var y,C,x={};for(y=0;y<arguments.length;y++)for(C in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],C)&&x[C]===void 0&&(x[C]=arguments[y][C]);return x},i.prepareContent=function(y,C,x,b,w){return d.Promise.resolve(C).then(function(T){return o.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new d.Promise(function(P,A){var F=new FileReader;F.onload=function(E){P(E.target.result)},F.onerror=function(E){A(E.target.error)},F.readAsArrayBuffer(T)}):T}).then(function(T){var P=i.getTypeOf(T);return P?(P==="arraybuffer"?T=i.transformTo("uint8array",T):P==="string"&&(w?T=l.decode(T):x&&b!==!0&&(T=function(A){return f(A,o.uint8array?new Uint8Array(A.length):new Array(A.length))}(T))),T):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var o=t("./reader/readerFor"),l=t("./utils"),s=t("./signature"),d=t("./zipEntry"),h=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(m)+")")}},isSignature:function(m,v){var g=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===v;return this.reader.setIndex(g),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=h.uint8array?"uint8array":"array",g=l.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,g,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),v=this.reader.readInt(4),g=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var S=v-g;if(0<S)this.isSignature(v,s.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var o=t("./reader/readerFor"),l=t("./utils"),s=t("./compressedObject"),d=t("./crc32"),h=t("./utf8"),f=t("./compressions"),m=t("./support");function v(g,S){this.options=g,this.loadOptions=S}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var S,y;if(g.skip(22),this.fileNameLength=g.readInt(2),y=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(C){for(var x in f)if(Object.prototype.hasOwnProperty.call(f,x)&&f[x].magic===C)return f[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,S,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var S=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(S),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var S,y,C,x=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<x;)S=g.readInt(2),y=g.readInt(2),C=g.readData(y),this.extraFields[S]={id:S,length:y,value:C};g.setIndex(x)},handleUTF8:function(){var g=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var y=l.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var x=l.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var S=o(g.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:h.utf8decode(S.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var S=o(g.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:h.utf8decode(S.readData(g.length-5))}return null}},r.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function o(S,y,C){this.name=S,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=y,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var l=t("./stream/StreamHelper"),s=t("./stream/DataWorker"),d=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");o.prototype={internalStream:function(S){var y=null,C="string";try{if(!S)throw new Error("No output type specified.");var x=(C=S.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),y=this._decompressWorker();var b=!this._dataBinary;b&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!b&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(w){(y=new f("error")).error(w)}return new l(y,C,"")},async:function(S,y){return this.internalStream(S).accumulate(y)},nodeStream:function(S,y){return this.internalStream(S||"nodebuffer").toNodejsStream(y)},_compressWorker:function(S,y){if(this._data instanceof h&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(C,S,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new s(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<m.length;g++)o.prototype[m[g]]=v;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(o){var l,s,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var h=0,f=new d(S),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),l=function(){m.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){S(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(S,0)};else{var v=new o.MessageChannel;v.port1.onmessage=S,l=function(){v.port2.postMessage(0)}}var g=[];function S(){var y,C;s=!0;for(var x=g.length;x;){for(C=g,g=[],y=-1;++y<x;)C[y]();x=g.length}s=!1}r.exports=function(y){g.push(y)!==1||s||l()}}).call(this,typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var o=t("immediate");function l(){}var s={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,x!==l&&y(this,x)}function v(x,b,w){this.promise=x,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function g(x,b,w){o(function(){var T;try{T=b(w)}catch(P){return s.reject(x,P)}T===x?s.reject(x,new TypeError("Cannot resolve promise with itself")):s.resolve(x,T)})}function S(x){var b=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof b=="function")return function(){b.apply(x,arguments)}}function y(x,b){var w=!1;function T(F){w||(w=!0,s.reject(x,F))}function P(F){w||(w=!0,s.resolve(x,F))}var A=C(function(){b(P,T)});A.status==="error"&&T(A.value)}function C(x,b){var w={};try{w.value=x(b),w.status="success"}catch(T){w.status="error",w.value=T}return w}(r.exports=m).prototype.finally=function(x){if(typeof x!="function")return this;var b=this.constructor;return this.then(function(w){return b.resolve(x()).then(function(){return w})},function(w){return b.resolve(x()).then(function(){throw w})})},m.prototype.catch=function(x){return this.then(null,x)},m.prototype.then=function(x,b){if(typeof x!="function"&&this.state===h||typeof b!="function"&&this.state===d)return this;var w=new this.constructor(l);return this.state!==f?g(w,this.state===h?x:b,this.outcome):this.queue.push(new v(w,x,b)),w},v.prototype.callFulfilled=function(x){s.resolve(this.promise,x)},v.prototype.otherCallFulfilled=function(x){g(this.promise,this.onFulfilled,x)},v.prototype.callRejected=function(x){s.reject(this.promise,x)},v.prototype.otherCallRejected=function(x){g(this.promise,this.onRejected,x)},s.resolve=function(x,b){var w=C(S,b);if(w.status==="error")return s.reject(x,w.value);var T=w.value;if(T)y(x,T);else{x.state=h,x.outcome=b;for(var P=-1,A=x.queue.length;++P<A;)x.queue[P].callFulfilled(b)}return x},s.reject=function(x,b){x.state=d,x.outcome=b;for(var w=-1,T=x.queue.length;++w<T;)x.queue[w].callRejected(b);return x},m.resolve=function(x){return x instanceof this?x:s.resolve(new this(l),x)},m.reject=function(x){var b=new this(l);return s.reject(b,x)},m.all=function(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,T=!1;if(!w)return this.resolve([]);for(var P=new Array(w),A=0,F=-1,E=new this(l);++F<w;)k(x[F],F);return E;function k(L,U){b.resolve(L).then(function(N){P[U]=N,++A!==w||T||(T=!0,s.resolve(E,P))},function(N){T||(T=!0,s.reject(E,N))})}},m.race=function(x){var b=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=x.length,T=!1;if(!w)return this.resolve([]);for(var P=-1,A=new this(l);++P<w;)F=x[P],b.resolve(F).then(function(E){T||(T=!0,s.resolve(A,E))},function(E){T||(T=!0,s.reject(A,E))});var F;return A}},{immediate:36}],38:[function(t,r,i){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var o=t("./zlib/deflate"),l=t("./utils/common"),s=t("./utils/strings"),d=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,m=0,v=-1,g=0,S=8;function y(x){if(!(this instanceof y))return new y(x);this.options=l.assign({level:v,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},x||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=o.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(w!==m)throw new Error(d[w]);if(b.header&&o.deflateSetHeader(this.strm,b.header),b.dictionary){var T;if(T=typeof b.dictionary=="string"?s.string2buf(b.dictionary):f.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(w=o.deflateSetDictionary(this.strm,T))!==m)throw new Error(d[w]);this._dict_set=!0}}function C(x,b){var w=new y(b);if(w.push(x,!0),w.err)throw w.msg||d[w.err];return w.result}y.prototype.push=function(x,b){var w,T,P=this.strm,A=this.options.chunkSize;if(this.ended)return!1;T=b===~~b?b:b===!0?4:0,typeof x=="string"?P.input=s.string2buf(x):f.call(x)==="[object ArrayBuffer]"?P.input=new Uint8Array(x):P.input=x,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new l.Buf8(A),P.next_out=0,P.avail_out=A),(w=o.deflate(P,T))!==1&&w!==m)return this.onEnd(w),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(s.buf2binstring(l.shrinkBuf(P.output,P.next_out))):this.onData(l.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&w!==1);return T===4?(w=o.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===m):T!==2||(this.onEnd(m),!(P.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=C,i.deflateRaw=function(x,b){return(b=b||{}).raw=!0,C(x,b)},i.gzip=function(x,b){return(b=b||{}).gzip=!0,C(x,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var o=t("./zlib/inflate"),l=t("./utils/common"),s=t("./utils/strings"),d=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),v=Object.prototype.toString;function g(y){if(!(this instanceof g))return new g(y);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},y||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||y&&y.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=o.inflateInit2(this.strm,C.windowBits);if(x!==d.Z_OK)throw new Error(h[x]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function S(y,C){var x=new g(C);if(x.push(y,!0),x.err)throw x.msg||h[x.err];return x.result}g.prototype.push=function(y,C){var x,b,w,T,P,A,F=this.strm,E=this.options.chunkSize,k=this.options.dictionary,L=!1;if(this.ended)return!1;b=C===~~C?C:C===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?F.input=s.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?F.input=new Uint8Array(y):F.input=y,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new l.Buf8(E),F.next_out=0,F.avail_out=E),(x=o.inflate(F,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&k&&(A=typeof k=="string"?s.string2buf(k):v.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,x=o.inflateSetDictionary(this.strm,A)),x===d.Z_BUF_ERROR&&L===!0&&(x=d.Z_OK,L=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&x!==d.Z_STREAM_END&&(F.avail_in!==0||b!==d.Z_FINISH&&b!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=s.utf8border(F.output,F.next_out),T=F.next_out-w,P=s.buf2string(F.output,w),F.next_out=T,F.avail_out=E-T,T&&l.arraySet(F.output,F.output,w,T,0),this.onData(P)):this.onData(l.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(L=!0)}while((0<F.avail_in||F.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(b=d.Z_FINISH),b===d.Z_FINISH?(x=o.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):b!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(F.avail_out=0))},g.prototype.onData=function(y){this.chunks.push(y)},g.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=g,i.inflate=S,i.inflateRaw=function(y,C){return(C=C||{}).raw=!0,S(y,C)},i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,m,v){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),v);else for(var g=0;g<m;g++)d[v+g]=h[f+g]},flattenChunks:function(d){var h,f,m,v,g,S;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(S=new Uint8Array(m),h=v=0,f=d.length;h<f;h++)g=d[h],S.set(g,v),v+=g.length;return S}},s={arraySet:function(d,h,f,m,v){for(var g=0;g<m;g++)d[v+g]=h[f+g]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,s))},i.setTyped(o)},{}],42:[function(t,r,i){var o=t("./common"),l=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}for(var d=new o.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,v){if(v<65537&&(m.subarray&&s||!m.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(m,v));for(var g="",S=0;S<v;S++)g+=String.fromCharCode(m[S]);return g}d[254]=d[254]=1,i.string2buf=function(m){var v,g,S,y,C,x=m.length,b=0;for(y=0;y<x;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(S=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(S-56320),y++),b+=g<128?1:g<2048?2:g<65536?3:4;for(v=new o.Buf8(b),y=C=0;C<b;y++)(64512&(g=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(S=m.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(S-56320),y++),g<128?v[C++]=g:(g<2048?v[C++]=192|g>>>6:(g<65536?v[C++]=224|g>>>12:(v[C++]=240|g>>>18,v[C++]=128|g>>>12&63),v[C++]=128|g>>>6&63),v[C++]=128|63&g);return v},i.buf2binstring=function(m){return f(m,m.length)},i.binstring2buf=function(m){for(var v=new o.Buf8(m.length),g=0,S=v.length;g<S;g++)v[g]=m.charCodeAt(g);return v},i.buf2string=function(m,v){var g,S,y,C,x=v||m.length,b=new Array(2*x);for(g=S=0;g<x;)if((y=m[g++])<128)b[S++]=y;else if(4<(C=d[y]))b[S++]=65533,g+=C-1;else{for(y&=C===2?31:C===3?15:7;1<C&&g<x;)y=y<<6|63&m[g++],C--;1<C?b[S++]=65533:y<65536?b[S++]=y:(y-=65536,b[S++]=55296|y>>10&1023,b[S++]=56320|1023&y)}return f(b,S)},i.utf8border=function(m,v){var g;for((v=v||m.length)>m.length&&(v=m.length),g=v-1;0<=g&&(192&m[g])==128;)g--;return g<0||g===0?v:g+d[m[g]]>v?g:v}},{"./common":41}],43:[function(t,r,i){r.exports=function(o,l,s,d){for(var h=65535&o|0,f=o>>>16&65535|0,m=0;s!==0;){for(s-=m=2e3<s?2e3:s;f=f+(h=h+l[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var o=function(){for(var l,s=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;s[d]=l}return s}();r.exports=function(l,s,d,h){var f=o,m=h+d;l^=-1;for(var v=h;v<m;v++)l=l>>>8^f[255&(l^s[v])];return-1^l}},{}],46:[function(t,r,i){var o,l=t("../utils/common"),s=t("./trees"),d=t("./adler32"),h=t("./crc32"),f=t("./messages"),m=0,v=4,g=0,S=-2,y=-1,C=4,x=2,b=8,w=9,T=286,P=30,A=19,F=2*T+1,E=15,k=3,L=258,U=L+k+1,N=42,R=113,I=1,_=2,q=3,W=4;function j(B,ge){return B.msg=f[ge],ge}function H(B){return(B<<1)-(4<B?9:0)}function X(B){for(var ge=B.length;0<=--ge;)B[ge]=0}function V(B){var ge=B.state,Se=ge.pending;Se>B.avail_out&&(Se=B.avail_out),Se!==0&&(l.arraySet(B.output,ge.pending_buf,ge.pending_out,Se,B.next_out),B.next_out+=Se,ge.pending_out+=Se,B.total_out+=Se,B.avail_out-=Se,ge.pending-=Se,ge.pending===0&&(ge.pending_out=0))}function $(B,ge){s._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,ge),B.block_start=B.strstart,V(B.strm)}function ne(B,ge){B.pending_buf[B.pending++]=ge}function ie(B,ge){B.pending_buf[B.pending++]=ge>>>8&255,B.pending_buf[B.pending++]=255&ge}function te(B,ge){var Se,Z,K=B.max_chain_length,ce=B.strstart,Ce=B.prev_length,xe=B.nice_match,se=B.strstart>B.w_size-U?B.strstart-(B.w_size-U):0,Re=B.window,Ee=B.w_mask,he=B.prev,we=B.strstart+L,Me=Re[ce+Ce-1],Oe=Re[ce+Ce];B.prev_length>=B.good_match&&(K>>=2),xe>B.lookahead&&(xe=B.lookahead);do if(Re[(Se=ge)+Ce]===Oe&&Re[Se+Ce-1]===Me&&Re[Se]===Re[ce]&&Re[++Se]===Re[ce+1]){ce+=2,Se++;do;while(Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&Re[++ce]===Re[++Se]&&ce<we);if(Z=L-(we-ce),ce=we-L,Ce<Z){if(B.match_start=ge,xe<=(Ce=Z))break;Me=Re[ce+Ce-1],Oe=Re[ce+Ce]}}while((ge=he[ge&Ee])>se&&--K!=0);return Ce<=B.lookahead?Ce:B.lookahead}function pe(B){var ge,Se,Z,K,ce,Ce,xe,se,Re,Ee,he=B.w_size;do{if(K=B.window_size-B.lookahead-B.strstart,B.strstart>=he+(he-U)){for(l.arraySet(B.window,B.window,he,he,0),B.match_start-=he,B.strstart-=he,B.block_start-=he,ge=Se=B.hash_size;Z=B.head[--ge],B.head[ge]=he<=Z?Z-he:0,--Se;);for(ge=Se=he;Z=B.prev[--ge],B.prev[ge]=he<=Z?Z-he:0,--Se;);K+=he}if(B.strm.avail_in===0)break;if(Ce=B.strm,xe=B.window,se=B.strstart+B.lookahead,Re=K,Ee=void 0,Ee=Ce.avail_in,Re<Ee&&(Ee=Re),Se=Ee===0?0:(Ce.avail_in-=Ee,l.arraySet(xe,Ce.input,Ce.next_in,Ee,se),Ce.state.wrap===1?Ce.adler=d(Ce.adler,xe,Ee,se):Ce.state.wrap===2&&(Ce.adler=h(Ce.adler,xe,Ee,se)),Ce.next_in+=Ee,Ce.total_in+=Ee,Ee),B.lookahead+=Se,B.lookahead+B.insert>=k)for(ce=B.strstart-B.insert,B.ins_h=B.window[ce],B.ins_h=(B.ins_h<<B.hash_shift^B.window[ce+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[ce+k-1])&B.hash_mask,B.prev[ce&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=ce,ce++,B.insert--,!(B.lookahead+B.insert<k)););}while(B.lookahead<U&&B.strm.avail_in!==0)}function J(B,ge){for(var Se,Z;;){if(B.lookahead<U){if(pe(B),B.lookahead<U&&ge===m)return I;if(B.lookahead===0)break}if(Se=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Se=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),Se!==0&&B.strstart-Se<=B.w_size-U&&(B.match_length=te(B,Se)),B.match_length>=k)if(Z=s._tr_tally(B,B.strstart-B.match_start,B.match_length-k),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=k){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Se=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else Z=s._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(Z&&($(B,!1),B.strm.avail_out===0))return I}return B.insert=B.strstart<k-1?B.strstart:k-1,ge===v?($(B,!0),B.strm.avail_out===0?q:W):B.last_lit&&($(B,!1),B.strm.avail_out===0)?I:_}function oe(B,ge){for(var Se,Z,K;;){if(B.lookahead<U){if(pe(B),B.lookahead<U&&ge===m)return I;if(B.lookahead===0)break}if(Se=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Se=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=k-1,Se!==0&&B.prev_length<B.max_lazy_match&&B.strstart-Se<=B.w_size-U&&(B.match_length=te(B,Se),B.match_length<=5&&(B.strategy===1||B.match_length===k&&4096<B.strstart-B.match_start)&&(B.match_length=k-1)),B.prev_length>=k&&B.match_length<=B.prev_length){for(K=B.strstart+B.lookahead-k,Z=s._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-k),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=K&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,Se=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=k-1,B.strstart++,Z&&($(B,!1),B.strm.avail_out===0))return I}else if(B.match_available){if((Z=s._tr_tally(B,0,B.window[B.strstart-1]))&&$(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return I}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(Z=s._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<k-1?B.strstart:k-1,ge===v?($(B,!0),B.strm.avail_out===0?q:W):B.last_lit&&($(B,!1),B.strm.avail_out===0)?I:_}function de(B,ge,Se,Z,K){this.good_length=B,this.max_lazy=ge,this.nice_length=Se,this.max_chain=Z,this.func=K}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*F),this.dyn_dtree=new l.Buf16(2*(2*P+1)),this.bl_tree=new l.Buf16(2*(2*A+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(E+1),this.heap=new l.Buf16(2*T+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*T+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function be(B){var ge;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=x,(ge=B.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?N:R,B.adler=ge.wrap===2?0:1,ge.last_flush=m,s._tr_init(ge),g):j(B,S)}function Te(B){var ge=be(B);return ge===g&&function(Se){Se.window_size=2*Se.w_size,X(Se.head),Se.max_lazy_match=o[Se.level].max_lazy,Se.good_match=o[Se.level].good_length,Se.nice_match=o[Se.level].nice_length,Se.max_chain_length=o[Se.level].max_chain,Se.strstart=0,Se.block_start=0,Se.lookahead=0,Se.insert=0,Se.match_length=Se.prev_length=k-1,Se.match_available=0,Se.ins_h=0}(B.state),ge}function Ue(B,ge,Se,Z,K,ce){if(!B)return S;var Ce=1;if(ge===y&&(ge=6),Z<0?(Ce=0,Z=-Z):15<Z&&(Ce=2,Z-=16),K<1||w<K||Se!==b||Z<8||15<Z||ge<0||9<ge||ce<0||C<ce)return j(B,S);Z===8&&(Z=9);var xe=new me;return(B.state=xe).strm=B,xe.wrap=Ce,xe.gzhead=null,xe.w_bits=Z,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=K+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+k-1)/k),xe.window=new l.Buf8(2*xe.w_size),xe.head=new l.Buf16(xe.hash_size),xe.prev=new l.Buf16(xe.w_size),xe.lit_bufsize=1<<K+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new l.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=ge,xe.strategy=ce,xe.method=Se,Te(B)}o=[new de(0,0,0,0,function(B,ge){var Se=65535;for(Se>B.pending_buf_size-5&&(Se=B.pending_buf_size-5);;){if(B.lookahead<=1){if(pe(B),B.lookahead===0&&ge===m)return I;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var Z=B.block_start+Se;if((B.strstart===0||B.strstart>=Z)&&(B.lookahead=B.strstart-Z,B.strstart=Z,$(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-U&&($(B,!1),B.strm.avail_out===0))return I}return B.insert=0,ge===v?($(B,!0),B.strm.avail_out===0?q:W):(B.strstart>B.block_start&&($(B,!1),B.strm.avail_out),I)}),new de(4,4,8,4,J),new de(4,5,16,8,J),new de(4,6,32,32,J),new de(4,4,16,16,oe),new de(8,16,32,32,oe),new de(8,16,128,128,oe),new de(8,32,128,256,oe),new de(32,128,258,1024,oe),new de(32,258,258,4096,oe)],i.deflateInit=function(B,ge){return Ue(B,ge,b,15,8,0)},i.deflateInit2=Ue,i.deflateReset=Te,i.deflateResetKeep=be,i.deflateSetHeader=function(B,ge){return B&&B.state?B.state.wrap!==2?S:(B.state.gzhead=ge,g):S},i.deflate=function(B,ge){var Se,Z,K,ce;if(!B||!B.state||5<ge||ge<0)return B?j(B,S):S;if(Z=B.state,!B.output||!B.input&&B.avail_in!==0||Z.status===666&&ge!==v)return j(B,B.avail_out===0?-5:S);if(Z.strm=B,Se=Z.last_flush,Z.last_flush=ge,Z.status===N)if(Z.wrap===2)B.adler=0,ne(Z,31),ne(Z,139),ne(Z,8),Z.gzhead?(ne(Z,(Z.gzhead.text?1:0)+(Z.gzhead.hcrc?2:0)+(Z.gzhead.extra?4:0)+(Z.gzhead.name?8:0)+(Z.gzhead.comment?16:0)),ne(Z,255&Z.gzhead.time),ne(Z,Z.gzhead.time>>8&255),ne(Z,Z.gzhead.time>>16&255),ne(Z,Z.gzhead.time>>24&255),ne(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ne(Z,255&Z.gzhead.os),Z.gzhead.extra&&Z.gzhead.extra.length&&(ne(Z,255&Z.gzhead.extra.length),ne(Z,Z.gzhead.extra.length>>8&255)),Z.gzhead.hcrc&&(B.adler=h(B.adler,Z.pending_buf,Z.pending,0)),Z.gzindex=0,Z.status=69):(ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,0),ne(Z,Z.level===9?2:2<=Z.strategy||Z.level<2?4:0),ne(Z,3),Z.status=R);else{var Ce=b+(Z.w_bits-8<<4)<<8;Ce|=(2<=Z.strategy||Z.level<2?0:Z.level<6?1:Z.level===6?2:3)<<6,Z.strstart!==0&&(Ce|=32),Ce+=31-Ce%31,Z.status=R,ie(Z,Ce),Z.strstart!==0&&(ie(Z,B.adler>>>16),ie(Z,65535&B.adler)),B.adler=1}if(Z.status===69)if(Z.gzhead.extra){for(K=Z.pending;Z.gzindex<(65535&Z.gzhead.extra.length)&&(Z.pending!==Z.pending_buf_size||(Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),V(B),K=Z.pending,Z.pending!==Z.pending_buf_size));)ne(Z,255&Z.gzhead.extra[Z.gzindex]),Z.gzindex++;Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),Z.gzindex===Z.gzhead.extra.length&&(Z.gzindex=0,Z.status=73)}else Z.status=73;if(Z.status===73)if(Z.gzhead.name){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),V(B),K=Z.pending,Z.pending===Z.pending_buf_size)){ce=1;break}ce=Z.gzindex<Z.gzhead.name.length?255&Z.gzhead.name.charCodeAt(Z.gzindex++):0,ne(Z,ce)}while(ce!==0);Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),ce===0&&(Z.gzindex=0,Z.status=91)}else Z.status=91;if(Z.status===91)if(Z.gzhead.comment){K=Z.pending;do{if(Z.pending===Z.pending_buf_size&&(Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),V(B),K=Z.pending,Z.pending===Z.pending_buf_size)){ce=1;break}ce=Z.gzindex<Z.gzhead.comment.length?255&Z.gzhead.comment.charCodeAt(Z.gzindex++):0,ne(Z,ce)}while(ce!==0);Z.gzhead.hcrc&&Z.pending>K&&(B.adler=h(B.adler,Z.pending_buf,Z.pending-K,K)),ce===0&&(Z.status=103)}else Z.status=103;if(Z.status===103&&(Z.gzhead.hcrc?(Z.pending+2>Z.pending_buf_size&&V(B),Z.pending+2<=Z.pending_buf_size&&(ne(Z,255&B.adler),ne(Z,B.adler>>8&255),B.adler=0,Z.status=R)):Z.status=R),Z.pending!==0){if(V(B),B.avail_out===0)return Z.last_flush=-1,g}else if(B.avail_in===0&&H(ge)<=H(Se)&&ge!==v)return j(B,-5);if(Z.status===666&&B.avail_in!==0)return j(B,-5);if(B.avail_in!==0||Z.lookahead!==0||ge!==m&&Z.status!==666){var xe=Z.strategy===2?function(se,Re){for(var Ee;;){if(se.lookahead===0&&(pe(se),se.lookahead===0)){if(Re===m)return I;break}if(se.match_length=0,Ee=s._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++,Ee&&($(se,!1),se.strm.avail_out===0))return I}return se.insert=0,Re===v?($(se,!0),se.strm.avail_out===0?q:W):se.last_lit&&($(se,!1),se.strm.avail_out===0)?I:_}(Z,ge):Z.strategy===3?function(se,Re){for(var Ee,he,we,Me,Oe=se.window;;){if(se.lookahead<=L){if(pe(se),se.lookahead<=L&&Re===m)return I;if(se.lookahead===0)break}if(se.match_length=0,se.lookahead>=k&&0<se.strstart&&(he=Oe[we=se.strstart-1])===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]){Me=se.strstart+L;do;while(he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&he===Oe[++we]&&we<Me);se.match_length=L-(Me-we),se.match_length>se.lookahead&&(se.match_length=se.lookahead)}if(se.match_length>=k?(Ee=s._tr_tally(se,1,se.match_length-k),se.lookahead-=se.match_length,se.strstart+=se.match_length,se.match_length=0):(Ee=s._tr_tally(se,0,se.window[se.strstart]),se.lookahead--,se.strstart++),Ee&&($(se,!1),se.strm.avail_out===0))return I}return se.insert=0,Re===v?($(se,!0),se.strm.avail_out===0?q:W):se.last_lit&&($(se,!1),se.strm.avail_out===0)?I:_}(Z,ge):o[Z.level].func(Z,ge);if(xe!==q&&xe!==W||(Z.status=666),xe===I||xe===q)return B.avail_out===0&&(Z.last_flush=-1),g;if(xe===_&&(ge===1?s._tr_align(Z):ge!==5&&(s._tr_stored_block(Z,0,0,!1),ge===3&&(X(Z.head),Z.lookahead===0&&(Z.strstart=0,Z.block_start=0,Z.insert=0))),V(B),B.avail_out===0))return Z.last_flush=-1,g}return ge!==v?g:Z.wrap<=0?1:(Z.wrap===2?(ne(Z,255&B.adler),ne(Z,B.adler>>8&255),ne(Z,B.adler>>16&255),ne(Z,B.adler>>24&255),ne(Z,255&B.total_in),ne(Z,B.total_in>>8&255),ne(Z,B.total_in>>16&255),ne(Z,B.total_in>>24&255)):(ie(Z,B.adler>>>16),ie(Z,65535&B.adler)),V(B),0<Z.wrap&&(Z.wrap=-Z.wrap),Z.pending!==0?g:1)},i.deflateEnd=function(B){var ge;return B&&B.state?(ge=B.state.status)!==N&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==R&&ge!==666?j(B,S):(B.state=null,ge===R?j(B,-3):g):S},i.deflateSetDictionary=function(B,ge){var Se,Z,K,ce,Ce,xe,se,Re,Ee=ge.length;if(!B||!B.state||(ce=(Se=B.state).wrap)===2||ce===1&&Se.status!==N||Se.lookahead)return S;for(ce===1&&(B.adler=d(B.adler,ge,Ee,0)),Se.wrap=0,Ee>=Se.w_size&&(ce===0&&(X(Se.head),Se.strstart=0,Se.block_start=0,Se.insert=0),Re=new l.Buf8(Se.w_size),l.arraySet(Re,ge,Ee-Se.w_size,Se.w_size,0),ge=Re,Ee=Se.w_size),Ce=B.avail_in,xe=B.next_in,se=B.input,B.avail_in=Ee,B.next_in=0,B.input=ge,pe(Se);Se.lookahead>=k;){for(Z=Se.strstart,K=Se.lookahead-(k-1);Se.ins_h=(Se.ins_h<<Se.hash_shift^Se.window[Z+k-1])&Se.hash_mask,Se.prev[Z&Se.w_mask]=Se.head[Se.ins_h],Se.head[Se.ins_h]=Z,Z++,--K;);Se.strstart=Z,Se.lookahead=k-1,pe(Se)}return Se.strstart+=Se.lookahead,Se.block_start=Se.strstart,Se.insert=Se.lookahead,Se.lookahead=0,Se.match_length=Se.prev_length=k-1,Se.match_available=0,B.next_in=xe,B.input=se,B.avail_in=Ce,Se.wrap=ce,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(o,l){var s,d,h,f,m,v,g,S,y,C,x,b,w,T,P,A,F,E,k,L,U,N,R,I,_;s=o.state,d=o.next_in,I=o.input,h=d+(o.avail_in-5),f=o.next_out,_=o.output,m=f-(l-o.avail_out),v=f+(o.avail_out-257),g=s.dmax,S=s.wsize,y=s.whave,C=s.wnext,x=s.window,b=s.hold,w=s.bits,T=s.lencode,P=s.distcode,A=(1<<s.lenbits)-1,F=(1<<s.distbits)-1;e:do{w<15&&(b+=I[d++]<<w,w+=8,b+=I[d++]<<w,w+=8),E=T[b&A];t:for(;;){if(b>>>=k=E>>>24,w-=k,(k=E>>>16&255)===0)_[f++]=65535&E;else{if(!(16&k)){if((64&k)==0){E=T[(65535&E)+(b&(1<<k)-1)];continue t}if(32&k){s.mode=12;break e}o.msg="invalid literal/length code",s.mode=30;break e}L=65535&E,(k&=15)&&(w<k&&(b+=I[d++]<<w,w+=8),L+=b&(1<<k)-1,b>>>=k,w-=k),w<15&&(b+=I[d++]<<w,w+=8,b+=I[d++]<<w,w+=8),E=P[b&F];n:for(;;){if(b>>>=k=E>>>24,w-=k,!(16&(k=E>>>16&255))){if((64&k)==0){E=P[(65535&E)+(b&(1<<k)-1)];continue n}o.msg="invalid distance code",s.mode=30;break e}if(U=65535&E,w<(k&=15)&&(b+=I[d++]<<w,(w+=8)<k&&(b+=I[d++]<<w,w+=8)),g<(U+=b&(1<<k)-1)){o.msg="invalid distance too far back",s.mode=30;break e}if(b>>>=k,w-=k,(k=f-m)<U){if(y<(k=U-k)&&s.sane){o.msg="invalid distance too far back",s.mode=30;break e}if(R=x,(N=0)===C){if(N+=S-k,k<L){for(L-=k;_[f++]=x[N++],--k;);N=f-U,R=_}}else if(C<k){if(N+=S+C-k,(k-=C)<L){for(L-=k;_[f++]=x[N++],--k;);if(N=0,C<L){for(L-=k=C;_[f++]=x[N++],--k;);N=f-U,R=_}}}else if(N+=C-k,k<L){for(L-=k;_[f++]=x[N++],--k;);N=f-U,R=_}for(;2<L;)_[f++]=R[N++],_[f++]=R[N++],_[f++]=R[N++],L-=3;L&&(_[f++]=R[N++],1<L&&(_[f++]=R[N++]))}else{for(N=f-U;_[f++]=_[N++],_[f++]=_[N++],_[f++]=_[N++],2<(L-=3););L&&(_[f++]=_[N++],1<L&&(_[f++]=_[N++]))}break}}break}}while(d<h&&f<v);d-=L=w>>3,b&=(1<<(w-=L<<3))-1,o.next_in=d,o.next_out=f,o.avail_in=d<h?h-d+5:5-(d-h),o.avail_out=f<v?v-f+257:257-(f-v),s.hold=b,s.bits=w}},{}],49:[function(t,r,i){var o=t("../utils/common"),l=t("./adler32"),s=t("./crc32"),d=t("./inffast"),h=t("./inftrees"),f=1,m=2,v=0,g=-2,S=1,y=852,C=592;function x(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(N){var R;return N&&N.state?(R=N.state,N.total_in=N.total_out=R.total=0,N.msg="",R.wrap&&(N.adler=1&R.wrap),R.mode=S,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new o.Buf32(y),R.distcode=R.distdyn=new o.Buf32(C),R.sane=1,R.back=-1,v):g}function T(N){var R;return N&&N.state?((R=N.state).wsize=0,R.whave=0,R.wnext=0,w(N)):g}function P(N,R){var I,_;return N&&N.state?(_=N.state,R<0?(I=0,R=-R):(I=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?g:(_.window!==null&&_.wbits!==R&&(_.window=null),_.wrap=I,_.wbits=R,T(N))):g}function A(N,R){var I,_;return N?(_=new b,(N.state=_).window=null,(I=P(N,R))!==v&&(N.state=null),I):g}var F,E,k=!0;function L(N){if(k){var R;for(F=new o.Buf32(512),E=new o.Buf32(32),R=0;R<144;)N.lens[R++]=8;for(;R<256;)N.lens[R++]=9;for(;R<280;)N.lens[R++]=7;for(;R<288;)N.lens[R++]=8;for(h(f,N.lens,0,288,F,0,N.work,{bits:9}),R=0;R<32;)N.lens[R++]=5;h(m,N.lens,0,32,E,0,N.work,{bits:5}),k=!1}N.lencode=F,N.lenbits=9,N.distcode=E,N.distbits=5}function U(N,R,I,_){var q,W=N.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new o.Buf8(W.wsize)),_>=W.wsize?(o.arraySet(W.window,R,I-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(_<(q=W.wsize-W.wnext)&&(q=_),o.arraySet(W.window,R,I-_,q,W.wnext),(_-=q)?(o.arraySet(W.window,R,I-_,_,0),W.wnext=_,W.whave=W.wsize):(W.wnext+=q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=q))),0}i.inflateReset=T,i.inflateReset2=P,i.inflateResetKeep=w,i.inflateInit=function(N){return A(N,15)},i.inflateInit2=A,i.inflate=function(N,R){var I,_,q,W,j,H,X,V,$,ne,ie,te,pe,J,oe,de,me,be,Te,Ue,B,ge,Se,Z,K=0,ce=new o.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return g;(I=N.state).mode===12&&(I.mode=13),j=N.next_out,q=N.output,X=N.avail_out,W=N.next_in,_=N.input,H=N.avail_in,V=I.hold,$=I.bits,ne=H,ie=X,ge=v;e:for(;;)switch(I.mode){case S:if(I.wrap===0){I.mode=13;break}for(;$<16;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(2&I.wrap&&V===35615){ce[I.check=0]=255&V,ce[1]=V>>>8&255,I.check=s(I.check,ce,2,0),$=V=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&V)<<8)+(V>>8))%31){N.msg="incorrect header check",I.mode=30;break}if((15&V)!=8){N.msg="unknown compression method",I.mode=30;break}if($-=4,B=8+(15&(V>>>=4)),I.wbits===0)I.wbits=B;else if(B>I.wbits){N.msg="invalid window size",I.mode=30;break}I.dmax=1<<B,N.adler=I.check=1,I.mode=512&V?10:12,$=V=0;break;case 2:for(;$<16;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(I.flags=V,(255&I.flags)!=8){N.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){N.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=V>>8&1),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=s(I.check,ce,2,0)),$=V=0,I.mode=3;case 3:for(;$<32;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.head&&(I.head.time=V),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,ce[2]=V>>>16&255,ce[3]=V>>>24&255,I.check=s(I.check,ce,4,0)),$=V=0,I.mode=4;case 4:for(;$<16;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.head&&(I.head.xflags=255&V,I.head.os=V>>8),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=s(I.check,ce,2,0)),$=V=0,I.mode=5;case 5:if(1024&I.flags){for(;$<16;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.length=V,I.head&&(I.head.extra_len=V),512&I.flags&&(ce[0]=255&V,ce[1]=V>>>8&255,I.check=s(I.check,ce,2,0)),$=V=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(H<(te=I.length)&&(te=H),te&&(I.head&&(B=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),o.arraySet(I.head.extra,_,W,te,B)),512&I.flags&&(I.check=s(I.check,_,te,W)),H-=te,W+=te,I.length-=te),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(H===0)break e;for(te=0;B=_[W+te++],I.head&&B&&I.length<65536&&(I.head.name+=String.fromCharCode(B)),B&&te<H;);if(512&I.flags&&(I.check=s(I.check,_,te,W)),H-=te,W+=te,B)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(H===0)break e;for(te=0;B=_[W+te++],I.head&&B&&I.length<65536&&(I.head.comment+=String.fromCharCode(B)),B&&te<H;);if(512&I.flags&&(I.check=s(I.check,_,te,W)),H-=te,W+=te,B)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;$<16;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(V!==(65535&I.check)){N.msg="header crc mismatch",I.mode=30;break}$=V=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),N.adler=I.check=0,I.mode=12;break;case 10:for(;$<32;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}N.adler=I.check=x(V),$=V=0,I.mode=11;case 11:if(I.havedict===0)return N.next_out=j,N.avail_out=X,N.next_in=W,N.avail_in=H,I.hold=V,I.bits=$,2;N.adler=I.check=1,I.mode=12;case 12:if(R===5||R===6)break e;case 13:if(I.last){V>>>=7&$,$-=7&$,I.mode=27;break}for(;$<3;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}switch(I.last=1&V,$-=1,3&(V>>>=1)){case 0:I.mode=14;break;case 1:if(L(I),I.mode=20,R!==6)break;V>>>=2,$-=2;break e;case 2:I.mode=17;break;case 3:N.msg="invalid block type",I.mode=30}V>>>=2,$-=2;break;case 14:for(V>>>=7&$,$-=7&$;$<32;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if((65535&V)!=(V>>>16^65535)){N.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&V,$=V=0,I.mode=15,R===6)break e;case 15:I.mode=16;case 16:if(te=I.length){if(H<te&&(te=H),X<te&&(te=X),te===0)break e;o.arraySet(q,_,W,te,j),H-=te,W+=te,X-=te,j+=te,I.length-=te;break}I.mode=12;break;case 17:for(;$<14;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(I.nlen=257+(31&V),V>>>=5,$-=5,I.ndist=1+(31&V),V>>>=5,$-=5,I.ncode=4+(15&V),V>>>=4,$-=4,286<I.nlen||30<I.ndist){N.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;$<3;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.lens[Ce[I.have++]]=7&V,V>>>=3,$-=3}for(;I.have<19;)I.lens[Ce[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Se={bits:I.lenbits},ge=h(0,I.lens,0,19,I.lencode,0,I.work,Se),I.lenbits=Se.bits,ge){N.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;de=(K=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(me<16)V>>>=oe,$-=oe,I.lens[I.have++]=me;else{if(me===16){for(Z=oe+2;$<Z;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(V>>>=oe,$-=oe,I.have===0){N.msg="invalid bit length repeat",I.mode=30;break}B=I.lens[I.have-1],te=3+(3&V),V>>>=2,$-=2}else if(me===17){for(Z=oe+3;$<Z;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}$-=oe,B=0,te=3+(7&(V>>>=oe)),V>>>=3,$-=3}else{for(Z=oe+7;$<Z;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}$-=oe,B=0,te=11+(127&(V>>>=oe)),V>>>=7,$-=7}if(I.have+te>I.nlen+I.ndist){N.msg="invalid bit length repeat",I.mode=30;break}for(;te--;)I.lens[I.have++]=B}}if(I.mode===30)break;if(I.lens[256]===0){N.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,Se={bits:I.lenbits},ge=h(f,I.lens,0,I.nlen,I.lencode,0,I.work,Se),I.lenbits=Se.bits,ge){N.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,Se={bits:I.distbits},ge=h(m,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Se),I.distbits=Se.bits,ge){N.msg="invalid distances set",I.mode=30;break}if(I.mode=20,R===6)break e;case 20:I.mode=21;case 21:if(6<=H&&258<=X){N.next_out=j,N.avail_out=X,N.next_in=W,N.avail_in=H,I.hold=V,I.bits=$,d(N,ie),j=N.next_out,q=N.output,X=N.avail_out,W=N.next_in,_=N.input,H=N.avail_in,V=I.hold,$=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;de=(K=I.lencode[V&(1<<I.lenbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(de&&(240&de)==0){for(be=oe,Te=de,Ue=me;de=(K=I.lencode[Ue+((V&(1<<be+Te)-1)>>be)])>>>16&255,me=65535&K,!(be+(oe=K>>>24)<=$);){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}V>>>=be,$-=be,I.back+=be}if(V>>>=oe,$-=oe,I.back+=oe,I.length=me,de===0){I.mode=26;break}if(32&de){I.back=-1,I.mode=12;break}if(64&de){N.msg="invalid literal/length code",I.mode=30;break}I.extra=15&de,I.mode=22;case 22:if(I.extra){for(Z=I.extra;$<Z;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.length+=V&(1<<I.extra)-1,V>>>=I.extra,$-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;de=(K=I.distcode[V&(1<<I.distbits)-1])>>>16&255,me=65535&K,!((oe=K>>>24)<=$);){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if((240&de)==0){for(be=oe,Te=de,Ue=me;de=(K=I.distcode[Ue+((V&(1<<be+Te)-1)>>be)])>>>16&255,me=65535&K,!(be+(oe=K>>>24)<=$);){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}V>>>=be,$-=be,I.back+=be}if(V>>>=oe,$-=oe,I.back+=oe,64&de){N.msg="invalid distance code",I.mode=30;break}I.offset=me,I.extra=15&de,I.mode=24;case 24:if(I.extra){for(Z=I.extra;$<Z;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}I.offset+=V&(1<<I.extra)-1,V>>>=I.extra,$-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){N.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(X===0)break e;if(te=ie-X,I.offset>te){if((te=I.offset-te)>I.whave&&I.sane){N.msg="invalid distance too far back",I.mode=30;break}pe=te>I.wnext?(te-=I.wnext,I.wsize-te):I.wnext-te,te>I.length&&(te=I.length),J=I.window}else J=q,pe=j-I.offset,te=I.length;for(X<te&&(te=X),X-=te,I.length-=te;q[j++]=J[pe++],--te;);I.length===0&&(I.mode=21);break;case 26:if(X===0)break e;q[j++]=I.length,X--,I.mode=21;break;case 27:if(I.wrap){for(;$<32;){if(H===0)break e;H--,V|=_[W++]<<$,$+=8}if(ie-=X,N.total_out+=ie,I.total+=ie,ie&&(N.adler=I.check=I.flags?s(I.check,q,ie,j-ie):l(I.check,q,ie,j-ie)),ie=X,(I.flags?V:x(V))!==I.check){N.msg="incorrect data check",I.mode=30;break}$=V=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;$<32;){if(H===0)break e;H--,V+=_[W++]<<$,$+=8}if(V!==(4294967295&I.total)){N.msg="incorrect length check",I.mode=30;break}$=V=0}I.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return g}return N.next_out=j,N.avail_out=X,N.next_in=W,N.avail_in=H,I.hold=V,I.bits=$,(I.wsize||ie!==N.avail_out&&I.mode<30&&(I.mode<27||R!==4))&&U(N,N.output,N.next_out,ie-N.avail_out)?(I.mode=31,-4):(ne-=N.avail_in,ie-=N.avail_out,N.total_in+=ne,N.total_out+=ie,I.total+=ie,I.wrap&&ie&&(N.adler=I.check=I.flags?s(I.check,q,ie,N.next_out-ie):l(I.check,q,ie,N.next_out-ie)),N.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(ne==0&&ie===0||R===4)&&ge===v&&(ge=-5),ge)},i.inflateEnd=function(N){if(!N||!N.state)return g;var R=N.state;return R.window&&(R.window=null),N.state=null,v},i.inflateGetHeader=function(N,R){var I;return N&&N.state?(2&(I=N.state).wrap)==0?g:((I.head=R).done=!1,v):g},i.inflateSetDictionary=function(N,R){var I,_=R.length;return N&&N.state?(I=N.state).wrap!==0&&I.mode!==11?g:I.mode===11&&l(1,R,_,0)!==I.check?-3:U(N,R,_,_)?(I.mode=31,-4):(I.havedict=1,v):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var o=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,m,v,g,S,y,C,x){var b,w,T,P,A,F,E,k,L,U=x.bits,N=0,R=0,I=0,_=0,q=0,W=0,j=0,H=0,X=0,V=0,$=null,ne=0,ie=new o.Buf16(16),te=new o.Buf16(16),pe=null,J=0;for(N=0;N<=15;N++)ie[N]=0;for(R=0;R<g;R++)ie[m[v+R]]++;for(q=U,_=15;1<=_&&ie[_]===0;_--);if(_<q&&(q=_),_===0)return S[y++]=20971520,S[y++]=20971520,x.bits=1,0;for(I=1;I<_&&ie[I]===0;I++);for(q<I&&(q=I),N=H=1;N<=15;N++)if(H<<=1,(H-=ie[N])<0)return-1;if(0<H&&(f===0||_!==1))return-1;for(te[1]=0,N=1;N<15;N++)te[N+1]=te[N]+ie[N];for(R=0;R<g;R++)m[v+R]!==0&&(C[te[m[v+R]]++]=R);if(F=f===0?($=pe=C,19):f===1?($=l,ne-=257,pe=s,J-=257,256):($=d,pe=h,-1),N=I,A=y,j=R=V=0,T=-1,P=(X=1<<(W=q))-1,f===1&&852<X||f===2&&592<X)return 1;for(;;){for(E=N-j,L=C[R]<F?(k=0,C[R]):C[R]>F?(k=pe[J+C[R]],$[ne+C[R]]):(k=96,0),b=1<<N-j,I=w=1<<W;S[A+(V>>j)+(w-=b)]=E<<24|k<<16|L|0,w!==0;);for(b=1<<N-1;V&b;)b>>=1;if(b!==0?(V&=b-1,V+=b):V=0,R++,--ie[N]==0){if(N===_)break;N=m[v+C[R]]}if(q<N&&(V&P)!==T){for(j===0&&(j=q),A+=I,H=1<<(W=N-j);W+j<_&&!((H-=ie[W+j])<=0);)W++,H<<=1;if(X+=1<<W,f===1&&852<X||f===2&&592<X)return 1;S[T=V&P]=q<<24|W<<16|A-y|0}}return V!==0&&(S[A+V]=N-j<<24|64<<16|0),x.bits=q,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var o=t("../utils/common"),l=0,s=1;function d(K){for(var ce=K.length;0<=--ce;)K[ce]=0}var h=0,f=29,m=256,v=m+1+f,g=30,S=19,y=2*v+1,C=15,x=16,b=7,w=256,T=16,P=17,A=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(v+2));d(U);var N=new Array(2*g);d(N);var R=new Array(512);d(R);var I=new Array(256);d(I);var _=new Array(f);d(_);var q,W,j,H=new Array(g);function X(K,ce,Ce,xe,se){this.static_tree=K,this.extra_bits=ce,this.extra_base=Ce,this.elems=xe,this.max_length=se,this.has_stree=K&&K.length}function V(K,ce){this.dyn_tree=K,this.max_code=0,this.stat_desc=ce}function $(K){return K<256?R[K]:R[256+(K>>>7)]}function ne(K,ce){K.pending_buf[K.pending++]=255&ce,K.pending_buf[K.pending++]=ce>>>8&255}function ie(K,ce,Ce){K.bi_valid>x-Ce?(K.bi_buf|=ce<<K.bi_valid&65535,ne(K,K.bi_buf),K.bi_buf=ce>>x-K.bi_valid,K.bi_valid+=Ce-x):(K.bi_buf|=ce<<K.bi_valid&65535,K.bi_valid+=Ce)}function te(K,ce,Ce){ie(K,Ce[2*ce],Ce[2*ce+1])}function pe(K,ce){for(var Ce=0;Ce|=1&K,K>>>=1,Ce<<=1,0<--ce;);return Ce>>>1}function J(K,ce,Ce){var xe,se,Re=new Array(C+1),Ee=0;for(xe=1;xe<=C;xe++)Re[xe]=Ee=Ee+Ce[xe-1]<<1;for(se=0;se<=ce;se++){var he=K[2*se+1];he!==0&&(K[2*se]=pe(Re[he]++,he))}}function oe(K){var ce;for(ce=0;ce<v;ce++)K.dyn_ltree[2*ce]=0;for(ce=0;ce<g;ce++)K.dyn_dtree[2*ce]=0;for(ce=0;ce<S;ce++)K.bl_tree[2*ce]=0;K.dyn_ltree[2*w]=1,K.opt_len=K.static_len=0,K.last_lit=K.matches=0}function de(K){8<K.bi_valid?ne(K,K.bi_buf):0<K.bi_valid&&(K.pending_buf[K.pending++]=K.bi_buf),K.bi_buf=0,K.bi_valid=0}function me(K,ce,Ce,xe){var se=2*ce,Re=2*Ce;return K[se]<K[Re]||K[se]===K[Re]&&xe[ce]<=xe[Ce]}function be(K,ce,Ce){for(var xe=K.heap[Ce],se=Ce<<1;se<=K.heap_len&&(se<K.heap_len&&me(ce,K.heap[se+1],K.heap[se],K.depth)&&se++,!me(ce,xe,K.heap[se],K.depth));)K.heap[Ce]=K.heap[se],Ce=se,se<<=1;K.heap[Ce]=xe}function Te(K,ce,Ce){var xe,se,Re,Ee,he=0;if(K.last_lit!==0)for(;xe=K.pending_buf[K.d_buf+2*he]<<8|K.pending_buf[K.d_buf+2*he+1],se=K.pending_buf[K.l_buf+he],he++,xe===0?te(K,se,ce):(te(K,(Re=I[se])+m+1,ce),(Ee=F[Re])!==0&&ie(K,se-=_[Re],Ee),te(K,Re=$(--xe),Ce),(Ee=E[Re])!==0&&ie(K,xe-=H[Re],Ee)),he<K.last_lit;);te(K,w,ce)}function Ue(K,ce){var Ce,xe,se,Re=ce.dyn_tree,Ee=ce.stat_desc.static_tree,he=ce.stat_desc.has_stree,we=ce.stat_desc.elems,Me=-1;for(K.heap_len=0,K.heap_max=y,Ce=0;Ce<we;Ce++)Re[2*Ce]!==0?(K.heap[++K.heap_len]=Me=Ce,K.depth[Ce]=0):Re[2*Ce+1]=0;for(;K.heap_len<2;)Re[2*(se=K.heap[++K.heap_len]=Me<2?++Me:0)]=1,K.depth[se]=0,K.opt_len--,he&&(K.static_len-=Ee[2*se+1]);for(ce.max_code=Me,Ce=K.heap_len>>1;1<=Ce;Ce--)be(K,Re,Ce);for(se=we;Ce=K.heap[1],K.heap[1]=K.heap[K.heap_len--],be(K,Re,1),xe=K.heap[1],K.heap[--K.heap_max]=Ce,K.heap[--K.heap_max]=xe,Re[2*se]=Re[2*Ce]+Re[2*xe],K.depth[se]=(K.depth[Ce]>=K.depth[xe]?K.depth[Ce]:K.depth[xe])+1,Re[2*Ce+1]=Re[2*xe+1]=se,K.heap[1]=se++,be(K,Re,1),2<=K.heap_len;);K.heap[--K.heap_max]=K.heap[1],function(Oe,ze){var Be,Ge,tt,We,Tt,$e,lt=ze.dyn_tree,qt=ze.max_code,Vr=ze.stat_desc.static_tree,qi=ze.stat_desc.has_stree,Na=ze.stat_desc.extra_bits,Io=ze.stat_desc.extra_base,It=ze.stat_desc.max_length,Kt=0;for(We=0;We<=C;We++)Oe.bl_count[We]=0;for(lt[2*Oe.heap[Oe.heap_max]+1]=0,Be=Oe.heap_max+1;Be<y;Be++)It<(We=lt[2*lt[2*(Ge=Oe.heap[Be])+1]+1]+1)&&(We=It,Kt++),lt[2*Ge+1]=We,qt<Ge||(Oe.bl_count[We]++,Tt=0,Io<=Ge&&(Tt=Na[Ge-Io]),$e=lt[2*Ge],Oe.opt_len+=$e*(We+Tt),qi&&(Oe.static_len+=$e*(Vr[2*Ge+1]+Tt)));if(Kt!==0){do{for(We=It-1;Oe.bl_count[We]===0;)We--;Oe.bl_count[We]--,Oe.bl_count[We+1]+=2,Oe.bl_count[It]--,Kt-=2}while(0<Kt);for(We=It;We!==0;We--)for(Ge=Oe.bl_count[We];Ge!==0;)qt<(tt=Oe.heap[--Be])||(lt[2*tt+1]!==We&&(Oe.opt_len+=(We-lt[2*tt+1])*lt[2*tt],lt[2*tt+1]=We),Ge--)}}(K,ce),J(Re,Me,K.bl_count)}function B(K,ce,Ce){var xe,se,Re=-1,Ee=ce[1],he=0,we=7,Me=4;for(Ee===0&&(we=138,Me=3),ce[2*(Ce+1)+1]=65535,xe=0;xe<=Ce;xe++)se=Ee,Ee=ce[2*(xe+1)+1],++he<we&&se===Ee||(he<Me?K.bl_tree[2*se]+=he:se!==0?(se!==Re&&K.bl_tree[2*se]++,K.bl_tree[2*T]++):he<=10?K.bl_tree[2*P]++:K.bl_tree[2*A]++,Re=se,Me=(he=0)===Ee?(we=138,3):se===Ee?(we=6,3):(we=7,4))}function ge(K,ce,Ce){var xe,se,Re=-1,Ee=ce[1],he=0,we=7,Me=4;for(Ee===0&&(we=138,Me=3),xe=0;xe<=Ce;xe++)if(se=Ee,Ee=ce[2*(xe+1)+1],!(++he<we&&se===Ee)){if(he<Me)for(;te(K,se,K.bl_tree),--he!=0;);else se!==0?(se!==Re&&(te(K,se,K.bl_tree),he--),te(K,T,K.bl_tree),ie(K,he-3,2)):he<=10?(te(K,P,K.bl_tree),ie(K,he-3,3)):(te(K,A,K.bl_tree),ie(K,he-11,7));Re=se,Me=(he=0)===Ee?(we=138,3):se===Ee?(we=6,3):(we=7,4)}}d(H);var Se=!1;function Z(K,ce,Ce,xe){ie(K,(h<<1)+(xe?1:0),3),function(se,Re,Ee,he){de(se),ne(se,Ee),ne(se,~Ee),o.arraySet(se.pending_buf,se.window,Re,Ee,se.pending),se.pending+=Ee}(K,ce,Ce)}i._tr_init=function(K){Se||(function(){var ce,Ce,xe,se,Re,Ee=new Array(C+1);for(se=xe=0;se<f-1;se++)for(_[se]=xe,ce=0;ce<1<<F[se];ce++)I[xe++]=se;for(I[xe-1]=se,se=Re=0;se<16;se++)for(H[se]=Re,ce=0;ce<1<<E[se];ce++)R[Re++]=se;for(Re>>=7;se<g;se++)for(H[se]=Re<<7,ce=0;ce<1<<E[se]-7;ce++)R[256+Re++]=se;for(Ce=0;Ce<=C;Ce++)Ee[Ce]=0;for(ce=0;ce<=143;)U[2*ce+1]=8,ce++,Ee[8]++;for(;ce<=255;)U[2*ce+1]=9,ce++,Ee[9]++;for(;ce<=279;)U[2*ce+1]=7,ce++,Ee[7]++;for(;ce<=287;)U[2*ce+1]=8,ce++,Ee[8]++;for(J(U,v+1,Ee),ce=0;ce<g;ce++)N[2*ce+1]=5,N[2*ce]=pe(ce,5);q=new X(U,F,m+1,v,C),W=new X(N,E,0,g,C),j=new X(new Array(0),k,0,S,b)}(),Se=!0),K.l_desc=new V(K.dyn_ltree,q),K.d_desc=new V(K.dyn_dtree,W),K.bl_desc=new V(K.bl_tree,j),K.bi_buf=0,K.bi_valid=0,oe(K)},i._tr_stored_block=Z,i._tr_flush_block=function(K,ce,Ce,xe){var se,Re,Ee=0;0<K.level?(K.strm.data_type===2&&(K.strm.data_type=function(he){var we,Me=4093624447;for(we=0;we<=31;we++,Me>>>=1)if(1&Me&&he.dyn_ltree[2*we]!==0)return l;if(he.dyn_ltree[18]!==0||he.dyn_ltree[20]!==0||he.dyn_ltree[26]!==0)return s;for(we=32;we<m;we++)if(he.dyn_ltree[2*we]!==0)return s;return l}(K)),Ue(K,K.l_desc),Ue(K,K.d_desc),Ee=function(he){var we;for(B(he,he.dyn_ltree,he.l_desc.max_code),B(he,he.dyn_dtree,he.d_desc.max_code),Ue(he,he.bl_desc),we=S-1;3<=we&&he.bl_tree[2*L[we]+1]===0;we--);return he.opt_len+=3*(we+1)+5+5+4,we}(K),se=K.opt_len+3+7>>>3,(Re=K.static_len+3+7>>>3)<=se&&(se=Re)):se=Re=Ce+5,Ce+4<=se&&ce!==-1?Z(K,ce,Ce,xe):K.strategy===4||Re===se?(ie(K,2+(xe?1:0),3),Te(K,U,N)):(ie(K,4+(xe?1:0),3),function(he,we,Me,Oe){var ze;for(ie(he,we-257,5),ie(he,Me-1,5),ie(he,Oe-4,4),ze=0;ze<Oe;ze++)ie(he,he.bl_tree[2*L[ze]+1],3);ge(he,he.dyn_ltree,we-1),ge(he,he.dyn_dtree,Me-1)}(K,K.l_desc.max_code+1,K.d_desc.max_code+1,Ee+1),Te(K,K.dyn_ltree,K.dyn_dtree)),oe(K),xe&&de(K)},i._tr_tally=function(K,ce,Ce){return K.pending_buf[K.d_buf+2*K.last_lit]=ce>>>8&255,K.pending_buf[K.d_buf+2*K.last_lit+1]=255&ce,K.pending_buf[K.l_buf+K.last_lit]=255&Ce,K.last_lit++,ce===0?K.dyn_ltree[2*Ce]++:(K.matches++,ce--,K.dyn_ltree[2*(I[Ce]+m+1)]++,K.dyn_dtree[2*$(ce)]++),K.last_lit===K.lit_bufsize-1},i._tr_align=function(K){ie(K,2,3),te(K,w,U),function(ce){ce.bi_valid===16?(ne(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(K)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(o){(function(l,s){if(!l.setImmediate){var d,h,f,m,v=1,g={},S=!1,y=l.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(l);C=C&&C.setTimeout?C:l,d={}.toString.call(l.process)==="[object process]"?function(T){process.nextTick(function(){b(T)})}:function(){if(l.postMessage&&!l.importScripts){var T=!0,P=l.onmessage;return l.onmessage=function(){T=!1},l.postMessage("","*"),l.onmessage=P,T}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",w,!1):l.attachEvent("onmessage",w),function(T){l.postMessage(m+T,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(T){b(T.data)},function(T){f.port2.postMessage(T)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(T){var P=y.createElement("script");P.onreadystatechange=function(){b(T),P.onreadystatechange=null,h.removeChild(P),P=null},h.appendChild(P)}):function(T){setTimeout(b,0,T)},C.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var P=new Array(arguments.length-1),A=0;A<P.length;A++)P[A]=arguments[A+1];var F={callback:T,args:P};return g[v]=F,d(v),v++},C.clearImmediate=x}function x(T){delete g[T]}function b(T){if(S)setTimeout(b,0,T);else{var P=g[T];if(P){S=!0;try{(function(A){var F=A.callback,E=A.args;switch(E.length){case 0:F();break;case 1:F(E[0]);break;case 2:F(E[0],E[1]);break;case 3:F(E[0],E[1],E[2]);break;default:F.apply(s,E)}})(P)}finally{x(T),S=!1}}}}function w(T){T.source===l&&typeof T.data=="string"&&T.data.indexOf(m)===0&&b(+T.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Y5)),Y5.exports}var dV=cV();const hV=Rg(dV);var Sr={m:{},d:function(n,e){for(var t in e)Sr.o(e,t)&&!Sr.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Sr.p=n})(),Sr.b=document.baseURI||self.location.href;var ns,up,BC;const ep=class ep{constructor(e){G(this,up);G(this,ns);if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create index with non number values.");z(this,ns,e)}get(e){return u(this,ns)[e]}length(){return u(this,ns).length}toString(){return"("+u(this,ns).toString()+")"}getValues(){return u(this,ns).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,r=this.length();t<r;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)this.get(r)!==e.get(r)&&t.push(r);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)t.push(this.get(r)+e.get(r));return new ep(t)}next(e){return Q(this,up,BC).call(this,e,1)}previous(e){return Q(this,up,BC).call(this,e,-1)}getWithNew2D(e,t){const r=[e,t];for(let i=2,o=this.length();i<o;++i)r.push(this.get(i));return new ep(r)}};ns=new WeakMap,up=new WeakSet,BC=function(e,t){const r=u(this,ns).slice();return e<r.length?r[e]+=t:console.warn("Cannot add to given dimension: ",e,r.length),new ep(r)};let Ot=ep;var Kd,Zd,nc,Jd;class fV{constructor(e,t){G(this,Kd);G(this,Zd);G(this,nc);G(this,Jd);if(z(this,Kd,e),z(this,Zd,e.isID()),z(this,nc,Math.pow(2,t)),!u(this,Zd)){z(this,Jd,new Float32Array(u(this,nc)));for(let r=0;r<u(this,nc);++r)u(this,Jd)[r]=u(this,Kd).apply(r)}}getRSI(){return u(this,Kd)}getLength(){return u(this,nc)}getValue(e){return u(this,Zd)?e:u(this,Jd)[e]}}Kd=new WeakMap,Zd=new WeakMap,nc=new WeakMap,Jd=new WeakMap;var rs,ml,e0,Sl,t0;class pV{constructor(e,t,r){G(this,rs);G(this,ml);G(this,e0);G(this,Sl,0);G(this,t0,!0);if(z(this,rs,e),t){const i=u(this,rs).getLength();z(this,Sl,i/2)}else z(this,Sl,0);z(this,t0,r)}getVoiLut(){return u(this,ml)}getModalityLut(){return u(this,rs)}setVoiLut(e){if(z(this,ml,e),u(this,ml).setSignedOffset(u(this,rs).getRSI().getSlope()*u(this,Sl)),u(this,t0)){const t=u(this,rs).getLength();z(this,e0,new Uint8ClampedArray(t));for(let r=0;r<t;++r)u(this,e0)[r]=u(this,ml).apply(u(this,rs).getValue(r))}}getValue(e){return u(this,t0)?u(this,e0)[e+u(this,Sl)]:Math.floor(u(this,ml).apply(e+u(this,Sl)))}}rs=new WeakMap,ml=new WeakMap,e0=new WeakMap,Sl=new WeakMap,t0=new WeakMap;function Xa(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function X5(n){return n}function K5(n){return 255-n}class lw{constructor(e,t,r){ae(this,"red");ae(this,"green");ae(this,"blue");this.red=e,this.green=t,this.blue=r}}const Fx={plain:{red:Xa(X5),green:Xa(X5),blue:Xa(X5)},invPlain:{red:Xa(K5),green:Xa(K5),blue:Xa(K5)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:Xa(function(n){const e=3*n;return e>255?255:e}),green:Xa(function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t}),blue:Xa(function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},Pe={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},$u={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};var cp,dp,rc,n0,hp,fp;class Mx{constructor(e,t,r){G(this,cp);G(this,dp);G(this,rc,0);G(this,n0,255);G(this,hp);G(this,fp);r===void 0&&(r=!1);let i=e,o=t;r||(i-=.5,o-=1),z(this,cp,i-o/2),z(this,dp,i+o/2),z(this,hp,(u(this,n0)-u(this,rc))/o),z(this,fp,(-i/o+.5)*(u(this,n0)-u(this,rc))+u(this,rc))}getY(e){let t;return t=e<=u(this,cp)?u(this,rc):e>u(this,dp)?u(this,n0):e*u(this,hp)+u(this,fp),t}}cp=new WeakMap,dp=new WeakMap,rc=new WeakMap,n0=new WeakMap,hp=new WeakMap,fp=new WeakMap;var pp,x2,gp,mp;class gV{constructor(e,t){G(this,pp,0);G(this,x2,255);G(this,gp);G(this,mp);z(this,gp,e),z(this,mp,t)}getY(e){return(u(this,x2)-u(this,pp))/(1+Math.exp(-4*(e-u(this,gp))/u(this,mp)))+u(this,pp)}}pp=new WeakMap,x2=new WeakMap,gp=new WeakMap,mp=new WeakMap;var ic,Sp,oc,r0,yp,qC;class mV{constructor(e,t){G(this,yp);G(this,ic);G(this,Sp,0);G(this,oc);G(this,r0,$u.linear);if(z(this,ic,e),t!==void 0){const r=[];for(const i in $u)r.push($u[i]);r.includes(t)?z(this,r0,t):Pe.debug("Unknown VOI LUT function: "+t)}Q(this,yp,qC).call(this)}getWindowLevel(){return u(this,ic)}setSignedOffset(e){z(this,Sp,e),Q(this,yp,qC).call(this)}apply(e){return u(this,oc).getY(e)}}ic=new WeakMap,Sp=new WeakMap,oc=new WeakMap,r0=new WeakMap,yp=new WeakSet,qC=function(){const e=u(this,ic).center,t=u(this,ic).width,r=e+u(this,Sp);u(this,r0)===$u.linear_exact?z(this,oc,new Mx(r,t,!0)):u(this,r0)===$u.sigmoid?z(this,oc,new gV(r,t)):z(this,oc,new Mx(r,t))};function Nx(n,e,t){if(n===void 0)return;let r=n.center;r=Math.min(r,e.max),r=Math.max(r,e.min);let i=1;t===void 0||t!==$u.linear_exact&&t!==$u.sigmoid||(i=0);let o=n.width;return o=Math.max(o,i),o=Math.min(o,e.max-e.min),new fi(r,o)}class fi{constructor(e,t){ae(this,"center");ae(this,"width");this.center=e,this.width=t}equals(e){return e!=null&&this.center===e.center&&this.width===e.width}}class dr{constructor(e,t,r){ae(this,"r");ae(this,"g");ae(this,"b");this.r=e,this.g=t,this.b=r}}function SV(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function yV(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const SI={x:95.0489,y:100,z:108.884};function vV(n){return function(e){function t(o){let l=null;return l=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,l}const r=SI,i=t(e.y/r.y);return{l:116*i-16,a:500*(t(e.x/r.x)-i),b:200*(i-t(e.z/r.z))}}(function(e){function t(l){let s=null;return s=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4),s}const r=t(e.r/255),i=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*r+.3576*i+.1805*o),y:100*(.2126*r+.7152*i+.0722*o),z:100*(.0193*r+.1192*i+.9505*o)}}(n))}function CV(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const wV={CT:{mediastinum:new fi(40,400),lung:new fi(-500,1500),bone:new fi(500,2e3),brain:new fi(40,80),head:new fi(90,350)}};class bV{create(e,t){const r=new xV(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&r.setColourMap("invPlain");let i={};t.getMeta().windowPresets!==void 0&&(i=t.getMeta().windowPresets),i.minmax={name:"minmax"};const o=t.getMeta().Modality;let l;l=wV[o];for(const s in l){const d=l[s];i[s]={wl:[new fi(d.center,d.width)],name:s}}return r.setWindowPresets(i),r.init(),r}}var Xi,Ki,Zi;const bw=class bw{constructor(e,t,r){G(this,Xi);G(this,Ki);G(this,Zi);z(this,Xi,e),z(this,Ki,t),z(this,Zi,r)}getX(){return u(this,Xi)}getY(){return u(this,Ki)}getZ(){return u(this,Zi)}equals(e){return e!==null&&u(this,Xi)===e.getX()&&u(this,Ki)===e.getY()&&u(this,Zi)===e.getZ()}toString(){return"("+u(this,Xi)+", "+u(this,Ki)+", "+u(this,Zi)+")"}norm(){return Math.sqrt(u(this,Xi)*u(this,Xi)+u(this,Ki)*u(this,Ki)+u(this,Zi)*u(this,Zi))}crossProduct(e){return new bw(u(this,Ki)*e.getZ()-e.getY()*u(this,Zi),u(this,Zi)*e.getX()-e.getZ()*u(this,Xi),u(this,Xi)*e.getY()-e.getX()*u(this,Ki))}dotProduct(e){return u(this,Xi)*e.getX()+u(this,Ki)*e.getY()+u(this,Zi)*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}};Xi=new WeakMap,Ki=new WeakMap,Zi=new WeakMap;let un=bw;var is,os;class Le{constructor(e,t){G(this,is);G(this,os);z(this,is,e),z(this,os,t)}getX(){return u(this,is)}getY(){return u(this,os)}getValues(){return[u(this,is),u(this,os)]}getCentroid(){return this}equals(e){return e!=null&&u(this,is)===e.getX()&&u(this,os)===e.getY()}toString(){return"("+u(this,is)+", "+u(this,os)+")"}getDistance(e){const t=u(this,is)-e.getX(),r=u(this,os)-e.getY();return Math.sqrt(t*t+r*r)}}is=new WeakMap,os=new WeakMap;var Uo,Bo,qo,i0,IS;class Gt{constructor(e,t,r){G(this,i0);G(this,Uo);G(this,Bo);G(this,qo);z(this,Uo,e),z(this,Bo,t),z(this,qo,r)}getX(){return u(this,Uo)}getY(){return u(this,Bo)}getZ(){return u(this,qo)}getValues(){return[u(this,Uo),u(this,Bo),u(this,qo)]}equals(e){return e!==null&&u(this,Uo)===e.getX()&&u(this,Bo)===e.getY()&&u(this,qo)===e.getZ()}isSimilar(e,t){return e!==null&&X1(u(this,Uo),e.getX(),t)&&X1(u(this,Bo),e.getY(),t)&&X1(u(this,qo),e.getZ(),t)}toString(){return"("+u(this,Uo)+", "+u(this,Bo)+", "+u(this,qo)+")"}getDistance(e){return Math.sqrt(Q(this,i0,IS).call(this,e))}getClosest(e){let t=0,r=Q(this,i0,IS).call(this,e[t]);for(let i=0;i<e.length;++i){const o=Q(this,i0,IS).call(this,e[i]);o<r&&(t=i,r=o)}return t}minus(e){return new un(u(this,Uo)-e.getX(),u(this,Bo)-e.getY(),u(this,qo)-e.getZ())}}Uo=new WeakMap,Bo=new WeakMap,qo=new WeakMap,i0=new WeakSet,IS=function(e){const t=u(this,Uo)-e.getX(),r=u(this,Bo)-e.getY(),i=u(this,qo)-e.getZ();return t*t+r*r+i*i};var yl;const T2=class T2{constructor(e){G(this,yl);if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create point with non number values.");z(this,yl,e)}get(e){return u(this,yl)[e]}length(){return u(this,yl).length}toString(){return"("+u(this,yl).toString()+")"}getValues(){return u(this,yl).slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,r=this.length();t<r;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let r=0,i=this.length();r<i;++r)this.get(r)!==e.get(r)&&t.push(r);return t}get3D(){return new Gt(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],r=this.getValues(),i=e.getValues();for(let o=0;o<r.length;++o)t.push(r[o]+i[o]);return new T2(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new T2(t)}};yl=new WeakMap;let yu=T2;const Ey=1e-4;function X1(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}var vp,o0;const jd=class jd{constructor(e){G(this,vp);G(this,o0);z(this,vp,e)}get(e,t){return u(this,vp)[3*e+t]}getInverse(){return u(this,o0)===void 0&&z(this,o0,function(e){const t=e.get(0,0),r=e.get(0,1),i=e.get(0,2),o=e.get(1,0),l=e.get(1,1),s=e.get(1,2),d=e.get(2,0),h=e.get(2,1),f=e.get(2,2),m=l*f-s*h,v=s*d-o*f,g=o*h-l*d;let S=t*m+r*v+i*g;if(S!==0)return S=1/S,new jd([S*m,S*(i*h-r*f),S*(r*s-i*l),S*v,S*(t*f-i*d),S*(i*o-t*s),S*g,S*(r*d-t*h),S*(t*l-r*o)]);Pe.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),u(this,o0)}equals(e){for(let t=0;t<3;++t)for(let r=0;r<3;++r)if(this.get(t,r)!==e.get(t,r))return!1;return!0}isSimilar(e,t){for(let r=0;r<3;++r)for(let i=0;i<3;++i)if(!X1(this.get(r,i),e.get(r,i),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let r=0;r<3;++r)r!==0&&(e+=", "),e+=this.get(t,r)}return e+="]",e}multiply(e){const t=[];for(let r=0;r<3;++r)for(let i=0;i<3;++i){let o=0;for(let l=0;l<3;++l)o+=this.get(r,l)*e.get(l,i);t.push(o)}return new jd(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let r=0;r<3;++r)e.push(Math.abs(this.get(t,r)));return new jd(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=[];for(let r=0;r<3;++r){let i=0;for(let o=0;o<3;++o)i+=this.get(r,o)*e[o];t.push(i)}return t}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new un(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Gt(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new Ot(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],r=Math.max.apply(null,t),i=t.indexOf(r);return{value:this.get(e,i),index:i}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],r=Math.max.apply(null,t),i=t.indexOf(r);return{value:this.get(i,e),index:i}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const r=this.getRowAbsMax(t),i=r.value>0?1:-1;for(let o=0;o<3;++o)o===r.index?e.push(1*i):e.push(0)}return new jd(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}};vp=new WeakMap,o0=new WeakMap;let zh=jd;function ky(){return new zh([1,0,0,0,1,0,0,0,1])}function S2(n){return n.equals(ky())}function Uu(n,e,t,r,i,o,l,s){let d=e;const h=o-i*r;let f=0,m=0;return{next:function(){if(f<t){const v={value:n(d),done:!1,index:d};return d+=r,++f,++m,m===i&&(m=0,d+=h),v}return{done:!0,index:d}}}}function Z5(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function yI(n,e,t,r){const i=n.getGeometry().getSize();let o=2;r&&r!==void 0&&(o=r.getColAbsMax(2).index);const l=e.getValues(),s=new Ot(l.map(function(b,w){return w===o||w>2?b:0}));let d=i.indexToOffset(s);t===void 0&&(t=!1);let h=null;h=t?function(b){return n.getRescaledValueAtOffset(b)}:function(b){return n.getValueAtOffset(b)};const f=i.get(0),m=i.get(1),v=i.get(2);let g=i.getDimSize(2);const S=n.getNumberOfComponents(),y=n.getPlanarConfiguration()===1,C=function(b,w,T,P,A,F,E,k){return S===1?Uu(b,w,T,P,A,F):S===3?function(L,U,N,R,I,_,q,W,j){const H=[];return j?(H.push(Uu(L,U,N,R,I,_)),H.push(Uu(L,U+N*R,N,R,I,_)),H.push(Uu(L,U+2*N*R,N,R,I,_))):(R*=3,_*=3,H.push(Uu(L,U,N,R,I,_)),H.push(Uu(L,U+1,N,R,I,_)),H.push(Uu(L,U+2,N,R,I,_))),{next:function(){const X=H[0].next(),V=H[1].next(),$=H[2].next();return X.done?{done:!0,index:$.index}:{value:[X.value,V.value,$.value],done:!1,index:[X.index,V.index,$.index]}}}}(b,3*w,T,P,A,F,E,k,y):void 0};let x=null;if(r&&r!==void 0){const b=r.getColAbsMax(0),w=r.getColAbsMax(2),T=!1,P=!1;let A=null;if(w.index===2)A=f*m,x=b.index===0?C(h,d,A,1,f,f,T,P):C(h,d,A,f,m,1,T,P);else if(w.index===0)A=v*m,x=b.index===1?C(h,d,A,f,m,g,T,P):C(h,d,A,g,v,f,T,P);else{if(w.index!==1)throw new Error("Unknown direction: "+w.index);A=v*f,x=b.index===0?C(h,d,A,1,f,g,T,P):C(h,d,A,g,v,1,T,P)}}else if(n.getNumberOfComponents()===1)x=function(b,w,T,P){P===void 0&&(P=1);let A=w;return{next:function(){if(A<T){const F={value:b(A),done:!1,index:A};return A+=P,F}return{done:!0,index:T}}}}(h,d,d+g);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());d*=3,g*=3,x=function(b,w,T,P,A){P===void 0&&(P=1),A===void 0&&(A=!1);let F=w,E=1;A?E=(T-w)/3:P*=3;let k=F+E,L=F+2*E;return{next:function(){if(F<T){const U={value:[b(F),b(k),b(L)],done:!1,index:[F,k,L]};return F+=P,k+=P,L+=P,U}return{done:!0,index:[T]}}}}(h,d,d+g,1,y)}return x}function DV(n,e){let t=0,r=0;return{next:function(){if(t<e){r+1<n.length&&t>=n[r+1].index&&++r;const i={value:n[r].value,done:!1,index:t};return++t,i}return{done:!0,index:e}}}}var Ji;class Bi{constructor(){G(this,Ji,{});ae(this,"fireEvent",e=>{if(u(this,Ji)[e.type]===void 0)return;const t=u(this,Ji)[e.type].slice();for(let r=0;r<t.length;++r)t[r](e)})}add(e,t){u(this,Ji)[e]===void 0&&(u(this,Ji)[e]=[]),u(this,Ji)[e].push(t)}remove(e,t){if(u(this,Ji)[e]===void 0)return;let r=0;for(let i=0;i<u(this,Ji)[e].length;++i)u(this,Ji)[e][i]===t&&(++r,u(this,Ji)[e].splice(i,1));r===0&&Pe.debug("No callback found on remove listener for type "+e)}}Ji=new WeakMap;var a0,s0;class uw{constructor(e,t){G(this,a0);G(this,s0);z(this,a0,e),z(this,s0,t)}getSlope(){return u(this,a0)}getIntercept(){return u(this,s0)}apply(e){return e*u(this,a0)+u(this,s0)}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}a0=new WeakMap,s0=new WeakMap;const Wh=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];var Ut,ac,sc,or,eo,vl,l0,lc,u0,c0,Cp,ad,VC,vI,as;class xV{constructor(e){G(this,ad);G(this,Ut);G(this,ac);G(this,sc);G(this,or,{minmax:{name:"minmax"}});G(this,eo,null);G(this,vl);G(this,l0,"plain");G(this,lc,null);G(this,u0);G(this,c0,new Bi);G(this,Cp,function(e,t){return 255});G(this,as,e=>{u(this,c0).fireEvent(e)});z(this,Ut,e),u(this,Ut).addEventListener("appendframe",()=>{const t=this.getCurrentIndex();if(t.length()===3){const r=t.getValues();r.push(0),this.setCurrentIndex(new Ot(r))}})}getImage(){return u(this,Ut)}setImage(e){z(this,Ut,e)}getOrientation(){return u(this,u0)}setOrientation(e){z(this,u0,e)}init(){this.setInitialIndex()}setInitialIndex(){const e=u(this,Ut).getGeometry().getSize(),t=new Array(e.length());t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),this.setCurrentIndex(new Ot(t),!0)}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}getAlphaFunction(){return u(this,Cp)}setAlphaFunction(e){z(this,Cp,e),u(this,as).call(this,{type:"alphafuncchange"})}getWindowPresets(){return u(this,or)}getWindowPresetsNames(){return Object.keys(u(this,or))}setWindowPresets(e){z(this,or,e)}addWindowPresets(e){const t=Object.keys(e);let r=null;for(let i=0;i<t.length;++i)if(r=t[i],u(this,or)[r]!==void 0){if(u(this,or)[r].perslice!==void 0&&u(this,or)[r].perslice===!0)throw new Error("Cannot add perslice preset");u(this,or)[r]=e[r]}else u(this,or)[r]=e[r],u(this,as).call(this,{type:"wlpresetadd",name:r})}getCurrentWindowPresetName(){return u(this,eo)}getColourMap(){return u(this,l0)}setColourMap(e){if(!Fx[e])throw new Error("Unknown colour map: '"+e+"'");z(this,l0,e),u(this,as).call(this,{type:"colourmapchange",value:[e]})}getCurrentPosition(){return u(this,lc)}getCurrentIndex(){const e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null}getCurrentImageUid(){return u(this,Ut).getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return u(this,Ut).getOriginForImageUid(e)}includesImageUid(e){return u(this,Ut).includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=u(this,lc));const t=u(this,Ut).getGeometry(),r=t.worldToIndex(e),i=[this.getScrollDimIndex()];return r.length()===4&&i.push(3),t.isIndexInBounds(r,i)}getOrigin(e){const t=u(this,Ut).getGeometry();let r=0;return e!==void 0&&(r=t.worldToIndex(e).get(2)),t.getOrigins()[r]}setCurrentIndex(e,t){const r=u(this,Ut).getGeometry().indexToWorld(e);return this.setCurrentPosition(r,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const r=u(this,Ut).getGeometry(),i=r.worldToIndex(e),o=[this.getScrollDimIndex()];if(i.length()===4&&o.push(3),!r.isIndexInBounds(i,o))return z(this,lc,e),t||u(this,as).call(this,{type:"positionchange",value:[i.getValues(),e.getValues()],valid:!1}),!1;let l=null,s=null;if(this.getCurrentPosition()&&(s=this.getCurrentIndex()),s)if(s.canCompare(i))l=s.compare(i);else{l=[];const d=Math.min(s.length(),i.length());for(let f=0;f<d;++f)s.get(f)!==i.get(f)&&l.push(f);const h=Math.max(s.length(),i.length());for(let f=d;f<h;++f)l.push(f)}else{l=[];for(let d=0;d<i.length();++d)l.push(d)}if(z(this,lc,e),!t){const d={type:"positionchange",value:[i.getValues(),e.getValues()],diffDims:l,data:{imageUid:u(this,Ut).getImageUid(i)}};if(u(this,Ut).canQuantify()){const h=u(this,Ut).getRescaledValueAtIndex(i);d.value.push(h)}u(this,as).call(this,d)}return!0}setWindowLevel(e,t,r){if(t===void 0&&(t="manual"),t!=="manual"&&u(this,or)[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");r===void 0&&(r=!1);const i=Nx(e,u(this,Ut).getRescaledDataRange(),u(this,Ut).getMeta().VOILUTFunction),o=!i.equals(u(this,vl)),l=u(this,eo)!==t;(o||l)&&(z(this,vl,i),z(this,eo,t),t==="manual"&&(u(this,or)[t]!==void 0?u(this,or)[t].wl[0]=i:this.addWindowPresets({manual:{wl:[i],name:"manual"}})),u(this,as).call(this,{type:"wlchange",value:[i.center,i.width,t],wc:i.center,ww:i.width,skipGenerate:r}))}getWindowLevel(){return Q(this,ad,VC).call(this).getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const r=this.getWindowPresets()[e];if(r===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&r.wl===void 0&&(r.wl=[this.getWindowLevelMinMax()]);let i=r.wl[0];if(r.perslice!==void 0&&r.perslice===!0){const o=u(this,Ut).getSecondaryOffset(this.getCurrentIndex());i=r.wl[o]}i!==void 0&&this.setWindowLevel(i,e,t)}setWindowLevelPresetById(e,t){const r=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(r[e],t)}addEventListener(e,t){u(this,c0).add(e,t)}removeEventListener(e,t){u(this,c0).remove(e,t)}getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,r=e.min+t/2;return Nx(new fi(r,t),e,u(this,Ut).getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){t===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());const r=this.getImage(),i=!r.isConstantRSI(),o=yI(r,t,i,this.getOrientation()),l=r.getPhotometricInterpretation();switch(l){case"MONOCHROME1":case"MONOCHROME2":(function(s,d,h,f,m){let v=0,g=0,S=d.next();for(;!S.done;)g=f.getValue(S.value),s.data[v]=m.red[g],s.data[v+1]=m.green[g],s.data[v+2]=m.blue[g],s.data[v+3]=h(S.value,S.index),v+=4,S=d.next()})(e,o,this.getAlphaFunction(),Q(this,ad,VC).call(this),Q(this,ad,vI).call(this));break;case"PALETTE COLOR":(function(s,d,h,f,m){const v=function(C){return C>>8};m&&Pe.info("Scaling 16bits data to 8bits.");let g=0,S=0,y=d.next();for(;!y.done;)S=y.value,m?(s.data[g]=v(f.red[S]),s.data[g+1]=v(f.green[S]),s.data[g+2]=v(f.blue[S])):(s.data[g]=f.red[S],s.data[g+1]=f.green[S],s.data[g+2]=f.blue[S]),s.data[g+3]=h(S,y.index),g+=4,y=d.next()})(e,o,this.getAlphaFunction(),r.getPaletteColourMap(),r.getMeta().BitsStored===16);break;case"RGB":(function(s,d,h){let f=0,m=d.next();for(;!m.done;)s.data[f]=m.value[0],s.data[f+1]=m.value[1],s.data[f+2]=m.value[2],s.data[f+3]=h(m.value,m.index),f+=4,m=d.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(s,d,h){let f=0,m=null,v=d.next();for(;!v.done;)g=v.value[0],S=v.value[1],y=v.value[2],m={r:g+1.402*(y-128),g:g-.34414*(S-128)-.71414*(y-128),b:g+1.772*(S-128)},s.data[f]=m.r,s.data[f+1]=m.g,s.data[f+2]=m.b,s.data[f+3]=h(v.value,v.index),f+=4,v=d.next();var g,S,y})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+l)}}getScrollDimIndex(){let e=null;const t=this.getOrientation();return e=t!==void 0?t.getThirdColMajorDirection():2,e}isAquisitionOrientation(){return S2(u(this,u0))}}Ut=new WeakMap,ac=new WeakMap,sc=new WeakMap,or=new WeakMap,eo=new WeakMap,vl=new WeakMap,l0=new WeakMap,lc=new WeakMap,u0=new WeakMap,c0=new WeakMap,Cp=new WeakMap,ad=new WeakSet,VC=function(){if(u(this,eo)&&u(this,or)[u(this,eo)]!==void 0&&u(this,or)[u(this,eo)].perslice!==void 0&&u(this,or)[u(this,eo)].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const r=this.getCurrentIndex(),i=u(this,Ut).getSecondaryOffset(r),o=u(this,or)[u(this,eo)].wl[i];o!==void 0&&this.setWindowLevel(o,u(this,eo),!0)}if(u(this,vl)===void 0&&this.setWindowLevelPresetById(0,!0),u(this,sc)===void 0||u(this,Ut).isConstantRSI()!==u(this,sc)){let r,i;z(this,sc,u(this,Ut).isConstantRSI()),u(this,sc)?(r=u(this,Ut).getRescaleSlopeAndIntercept(),i=!0):(r=new uw(1,0),i=!1);const o=new fV(r,u(this,Ut).getMeta().BitsStored);z(this,ac,new pV(o,u(this,Ut).getMeta().PixelRepresentation===1,i))}const e=u(this,ac).getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!u(this,vl).equals(t)){const r=new mV(u(this,vl),u(this,Ut).getMeta().VOILUTFunction);u(this,ac).setVoiLut(r)}return u(this,ac)},vI=function(){return Fx[u(this,l0)]},as=new WeakMap;function CI(){return new zh([1,0,0,0,0,1,0,-1,0])}const Vs={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function Ux(n){let e;return n===Vs.Axial?e=ky():n===Vs.Coronal?e=CI():n===Vs.Sagittal&&(e=new zh([0,0,-1,1,0,0,0,-1,0])),e}function wI(n){const e=new un(n.get(0,0),n.get(1,0),n.get(2,0)),t=new un(n.get(0,1),n.get(1,1),n.get(2,1)),r=new un(n.get(0,2),n.get(1,2),n.get(2,2));return J5(e)+J5(t)+J5(r)}function J5(n){let e=new un(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const r=n.getX()<0?"R":"L",i=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",l=1e-4;for(let s=0;s<3;s++)if(e.getX()>l&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=r,e=new un(0,e.getY(),e.getZ());else if(e.getY()>l&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=i,e=new un(e.getX(),0,e.getZ());else{if(!(e.getZ()>l&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new un(e.getX(),e.getY(),0)}return t}function TV(n){let e;const t=cw(n);return t!==void 0&&(e=function(r){let i;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(r)?i=Vs.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(r)?i=Vs.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(r)&&(i=Vs.Sagittal),i}(wI(t.asOneAndZeros()))),e}function cw(n){let e;if(n!==void 0&&n.length===6){const t=new un(n[0],n[1],n[2]),r=new un(n[3],n[4],n[5]),i=t.crossProduct(r);e=new zh([t.getX(),r.getX(),i.getX(),t.getY(),r.getY(),i.getY(),t.getZ(),r.getZ(),i.getZ()])}return e}function Bx(n,e){let t=ky();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const PV={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm²",ml:"ml",degree:"°",pixel:"pixels"}[t[1]]),e}};function Bu(n,e,t){if(n==null||e==null)return!1;const r=0;return n.substring(r,r+e.length)===e}function qx(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function Vx(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let r=t.exec(n);for(;r;)e.push(r[1]),r=t.exec(n);return e}function hl(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function IV(n){const e=new Uint8Array(n.length);for(let t=0,r=n.length;t<r;t++)e[t]=n.charCodeAt(t);return e}function Oa(n,e){const t=Math.pow(10,e),r=.01/t;return Math.round(n*t+r)/t}var Cl;class Gs{constructor(e){G(this,Cl);if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create size with non number or zero values.");z(this,Cl,e)}get(e){return u(this,Cl)[e]}length(){return u(this,Cl).length}toString(){return"("+u(this,Cl).toString()+")"}getValues(){return u(this,Cl).slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let r=3;r<this.length();++r)t=t||this.moreThanOne(r);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let r=1;for(let i=t;i<e;++i)r*=this.get(i);return r}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let r=0;r<t;++r)if(this.get(r)!==e.get(r))return!1;return!0}isInBounds(e,t){if(!e)return!1;const r=this.length();if(r!==e.length())return!1;if(t===void 0){t=[];for(let l=0;l<r;++l)t.push(l)}else for(let l=0;l<r;++l)if(t[l]>r-1)throw new Error("Wrong input dir value: "+t[l]);for(let l=0;l<t.length;++l)if(i=e.get(t[l]),o=this.get(t[l]),!(i>=0&&i<o))return!1;var i,o;return!0}indexToOffset(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let r=0;for(let i=t;i<this.length();++i){const o=this.get(i),l=e.get(i);if(l>=o||l<0)return-1;r+=l*this.getDimSize(i,t)}return r}offsetToIndex(e){const t=new Array(this.length());let r=e,i=0;for(let o=this.length()-1;o>0;--o)i=this.getDimSize(o),t[o]=Math.floor(r/i),r-=t[o]*i;return t[0]=r,new Ot(t)}get2D(){return{x:this.get(0),y:this.get(1)}}}Cl=new WeakMap;var wl;class hu{constructor(e){G(this,wl);if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create spacing with non number or zero values.");z(this,wl,e)}get(e){return u(this,wl)[e]}length(){return u(this,wl).length}toString(){return"("+u(this,wl).toString()+")"}getValues(){return u(this,wl).slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let r=0;r<t;++r)if(this.get(r)!==e.get(r))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}wl=new WeakMap;function LV(n,e){if(e===void 0){e=[];for(let r=0;r<n.length;++r)e.push(r)}for(let r=0;r<e.length;++r)if(e[r]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let r=0;r<e.length;++r)r!==0&&(t+="_"),t+="#"+e[r]+"-"+n[e[r]];return t}function bI(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&DI(n.slice().sort(),e.slice().sort())}function DI(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every(function(t,r){return t===e[r]})}function Gx(n){return String.fromCharCode.apply(String,n)}function aS(n,e,t,r){(t===void 0||t<0||t>=n.length)&&(t=0),(r===void 0||r<=t||r>n.length)&&(r=n.length);for(let i=t;i<r;++i)if(e(n[i],i,n))return i}function Qx(n){return function(e,t,r){for(let i=0;i<n.length;++i)if(r[t+i]!==n[i])return!1;return!0}}const LS={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},RV={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},AV={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function OV(n){return AV[n]!==void 0}const EV={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function kV(n){return EV[n]!==void 0}const zx={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},Wx={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},y2="1.2.840.10008.1.2",GC="1.2.840.10008.1.2.1",v2="1.2.840.10008.1.2.2";var bi,to,d0,RS;class ap{constructor(e,t){G(this,d0);G(this,bi);G(this,to);if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);z(this,bi,e),z(this,to,t)}getGroup(){return u(this,bi)}getElement(){return u(this,to)}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&u(this,bi)===e.getGroup()&&u(this,to)===e.getElement()}getKey(){return u(this,bi)+u(this,to)}getGroupName(){return RV[u(this,bi)]}isWithVR(){return!(u(this,bi)==="FFFE"&&(u(this,to)==="E000"||u(this,to)==="E00D"||u(this,to)==="E0DD"))}isPrivate(){return parseInt(u(this,bi),16)%2==1}getVrFromDictionary(){let e;const t=Q(this,d0,RS).call(this);return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=Q(this,d0,RS).call(this);return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=Q(this,d0,RS).call(this);return t!==void 0&&(e=t[2]),e}}bi=new WeakMap,to=new WeakMap,d0=new WeakSet,RS=function(){let e;return LS[u(this,bi)]!==void 0&&LS[u(this,bi)][u(this,to)]!==void 0&&(e=LS[u(this,bi)][u(this,to)]),e};function xI(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new ap(n.substring(0,4),n.substring(4,8))}function _V(n){return n.getKey()==="FFFEE00D"}function Hx(n){return n.getKey()==="FFFEE0DD"}function jx(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function TI(n){const e=["7FE00010","7FE00009","7FE00008"];let t=!1;for(const r of e)if(n[r]!==void 0){t=!0;break}return t}function FV(n){if(n==null)return null;let e=null,t=null;const r=LS,i=Object.keys(r);let o,l=null,s=!1;for(let d=0,h=i.length;d<h;++d){e=i[d],l=Object.keys(r[e]);for(let f=0,m=l.length;f<m;++f)if(t=l[f],r[e][t][2]===n){s=!0;break}if(s)break}return s&&(o=new ap(e,t)),o}function PI(n){return function(e,t){const r=xI(t);let i=r.getNameFromDictionary();i===void 0&&(i="x"+r.getKey());const o=n[t];for(const s in o)o[s]===void 0&&delete o[s];let l;if(o.vr==="SQ"){l={value:[]};for(let s=0;s<o.value.length;++s){const d=o.value[s];l.value.push(Object.keys(d).reduce(PI(d),{}))}}else l=o.value.length===1?o.value[0]:o.value;return e[i]=l,e}}function MV(n){const e=structuredClone(n);return Object.keys(e).reduce(PI(e),{})}class ed{constructor(e){ae(this,"vr");ae(this,"value");ae(this,"tag");ae(this,"vl");ae(this,"undefinedLength");ae(this,"startOffset");ae(this,"endOffset");ae(this,"items");this.vr=e}}function II(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function nn(n,e){let t;return II(n[e])&&(t=n[e].value[0]),t}function ca(n,e){let t;return II(n[e])&&(t=n[e].value),t}function Ka(n,e,t){let r="";if(n===void 0)r+=" "+e+" is undefined,";else if(n.value===void 0)r+=" "+e+" has undefined value,";else if(n.value.length===0)r+=" "+e+" is empty,";else if(t!==void 0)for(let i=0;i<t.length;++i)n.value.includes(t[i])||(r+=" "+e+" does not contain "+t[i]+" (value: "+n.value+"),");return r}function fl(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),r=n.BYTES_PER_ELEMENT;let i;for(let o=0;o<e;o+=r)for(let l=o+r-1,s=o;l>s;l--,s++)i=t[s],t[s]=t[l],t[l]=i}var Or,Di,P2,no,ro;class eC{constructor(e,t){G(this,Or);G(this,Di,!0);G(this,P2,function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}());G(this,no);G(this,ro);z(this,Or,e),t!==void 0&&z(this,Di,t),z(this,no,u(this,Di)!==u(this,P2)),z(this,ro,new DataView(e))}readUint16(e){return u(this,ro).getUint16(e,u(this,Di))}readInt16(e){return u(this,ro).getInt16(e,u(this,Di))}readUint32(e){return u(this,ro).getUint32(e,u(this,Di))}readBigUint64(e){return u(this,ro).getBigUint64(e,u(this,Di))}readInt32(e){return u(this,ro).getInt32(e,u(this,Di))}readBigInt64(e){return u(this,ro).getBigInt64(e,u(this,Di))}readFloat32(e){return u(this,ro).getFloat32(e,u(this,Di))}readFloat64(e){return u(this,ro).getFloat64(e,u(this,Di))}readBinaryArray(e,t,r){const i=new Uint8Array(u(this,Or),e,t);let o;o=r!==void 0?r:8*i.length;const l=new Uint8Array(o);let s=0,d=0;for(let h=0;h<o;++h)s=h%8,d=Math.floor(h/8),l[h]=255*!!(i[d]&1<<s);return l}readUint8Array(e,t){return new Uint8Array(u(this,Or),e,t)}readInt8Array(e,t){return new Int8Array(u(this,Or),e,t)}readUint16Array(e,t){const r=Uint16Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Uint16Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Uint16Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readUint16(l),l+=r}return o}readInt16Array(e,t){const r=Int16Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Int16Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Int16Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readInt16(l),l+=r}return o}readUint32Array(e,t){const r=Uint32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Uint32Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Uint32Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readUint32(l),l+=r}return o}readUint64Array(e,t){const r=BigUint64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new BigUint64Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new BigUint64Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readBigUint64(l),l+=r}return o}readInt32Array(e,t){const r=Int32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Int32Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Int32Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readInt32(l),l+=r}return o}readInt64Array(e,t){const r=BigInt64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new BigInt64Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new BigInt64Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readBigInt64(l),l+=r}return o}readFloat32Array(e,t){const r=Float32Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Float32Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Float32Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readFloat32(l),l+=r}return o}readFloat64Array(e,t){const r=Float64Array.BYTES_PER_ELEMENT,i=t/r;let o=null;if(e%r==0)o=new Float64Array(u(this,Or),e,i),u(this,no)&&fl(o);else{o=new Float64Array(i);let l=e;for(let s=0;s<i;++s)o[s]=this.readFloat64(l),l+=r}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}Or=new WeakMap,Di=new WeakMap,P2=new WeakMap,no=new WeakMap,ro=new WeakMap;function NV(){return"0.35.1"}function $x(n){const e=n.split("-");let t=[];for(const r of e)t=t.concat(r.split("."));return t}function Yx(n,e){let t=0;const r=$x(n),i=$x(e);for(let o=0;o<3&&(t=parseInt(r[o],10)-parseInt(i[o],10),t===0);++o);if(t===0){const l=r[4],s=i[4];t=l===void 0&&s===void 0?0:l===void 0&&s!==void 0?1:l!==void 0&&s===void 0?-1:parseInt(l,10)-parseInt(s,10)}return t}const UV=String.fromCharCode("u200B");class BV{decode(e){let t="";for(let r=0,i=e.length;r<i;++r)t+=String.fromCharCode(e[r]);return t}}function Xx(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let r=0;r<n.length;r++){const i=e[n.substring(r,r+1)];i&&(t+=i)}return t}function qV(n){return n===y2}function VV(n){return n===v2}function dw(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function hw(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function fw(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function LI(n){return n==="1.2.840.10008.1.2.5"}function GV(n,e,t){let r=null;try{n===1||n===8?r=e===0?new Uint8Array(t):new Int8Array(t):n===16?r=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(r=e===0?new Uint32Array(t):new Int32Array(t))}catch(i){if(i instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));Pe.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return r}const Kx="00280100",Zx="00280103";var Un,uc,wp,bp,ht,AS,AI,OI,QC,EI,ua,Yi,kI;class RI{constructor(){G(this,ht);G(this,Un,{});G(this,uc);G(this,wp,new BV);G(this,bp,u(this,wp))}getDefaultCharacterSet(){return u(this,uc)}setDefaultCharacterSet(e){z(this,uc,e)}setDecoderCharacterSet(e){z(this,bp,new TextDecoder(e))}getDicomElements(){return u(this,Un)}safeGet(e){return nn(u(this,Un),e)}parse(e,t){let r=0,i="",o=null;const l=new eC(e);let s=new eC(e);r=128;const d=Q(this,ht,AS).call(this,l.readUint8Array(r,4));if(r+=4*Uint8Array.BYTES_PER_ELEMENT,d==="DICM"){o=Q(this,ht,ua).call(this,l,r,!1),o.value=Q(this,ht,Yi).call(this,o,l),r=o.endOffset,u(this,Un)[o.tag.getKey()]=o;const v=r+o.value[0];for(;r<v;)o=Q(this,ht,ua).call(this,l,r,!1),r=o.endOffset,u(this,Un)[o.tag.getKey()]=o;if(o=u(this,Un)["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=Q(this,ht,Yi).call(this,o,l),i=o.value[0]}else{Pe.warn("No DICM prefix, trying to guess tansfer syntax."),o=Q(this,ht,ua).call(this,s,0,!1);const v=function(g){const S="0008",y=g.tag.getGroup();if(y!=="0800"&&y!==S)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const C=g.vr,x=C.charCodeAt(0),b=C.charCodeAt(1),w=!(x>=65&&x<=90&&b>=65&&b<=90);let T=null;if(y===S)T=w?y2:GC;else{if(w)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");T=v2}const P=new ed("UI");return P.tag=new ap("0002","0010"),P.value=[T],P.vl=P.value[0].length,P.startOffset=g.startOffset,P.endOffset=P.startOffset+P.vl,P}(o);u(this,Un)[v.tag.getKey()]=v,i=v.value[0],r=0}if(!function(v){return v===y2||v===GC||v===v2||dw(v)||hw(v)||fw(v)||LI(v)}(i))throw new Error("Unsupported DICOM transfer syntax: '"+i+"' ("+function(v){let g="Unknown";return Wx[v]!==void 0&&(g=Wx[v]),g}(i)+")");let h=!1;qV(i)&&(h=!0),VV(i)&&(s=new eC(e,!1));let f,m=!1;for(;r<e.byteLength;){if(o=Q(this,ht,ua).call(this,s,r,h,t),t!==void 0&&o.tag.equals(t)){m=!0;break}r=o.endOffset;const v=o.tag.getKey();u(this,Un)[v]===void 0?u(this,Un)[v]=o:Pe.warn("Not saving duplicate tag: "+v)}if(isNaN(r))throw new Error("Problem while parsing, bad offset");if(m||e.byteLength===r||Pe.warn("Did not reach the end of the buffer: "+r+" != "+e.byteLength),TI(u(this,Un))){let v=0;o=u(this,Un)[Zx],o!==void 0?(o.value=Q(this,ht,Yi).call(this,o,s),v=o.value[0]):Pe.warn("Reading DICOM pixel data with default pixelRepresentation.");let g=16;o=u(this,Un)[Kx],o!==void 0?(o.value=Q(this,ht,Yi).call(this,o,s),g=o.value[0]):Pe.warn("Reading DICOM pixel data with default bitsAllocated.");let S,y,C=1;o=u(this,Un)["00280008"],o!==void 0&&(o.value=Q(this,ht,Yi).call(this,o,s),C=parseInt(o.value[0],10)),f={pixelRepresentation:v,bitsAllocated:g,numberOfFrames:C},o=u(this,Un)["00280010"],o!==void 0&&(o.value=Q(this,ht,Yi).call(this,o,s),S=parseInt(o.value[0],10)),o=u(this,Un)["00280011"],o!==void 0&&(o.value=Q(this,ht,Yi).call(this,o,s),y=parseInt(o.value[0],10)),S!==void 0&&y!==void 0&&(f.imageBufferSize=S*y*C)}if(u(this,uc)!==void 0&&this.setDecoderCharacterSet(u(this,uc)),o=u(this,Un)["00080005"],o!==void 0){let v;o.value=Q(this,ht,Yi).call(this,o,s),o.value.length===1?v=o.value[0]:(v=o.value[1],Pe.warn("Unsupported character set with code extensions: '"+v+"'.")),this.setDecoderCharacterSet(function(g){let S="utf-8";return g==="ISO_IR 100"?S="iso-8859-1":g==="ISO_IR 101"?S="iso-8859-2":g==="ISO_IR 109"?S="iso-8859-3":g==="ISO_IR 110"?S="iso-8859-4":g==="ISO_IR 144"?S="iso-8859-5":g==="ISO_IR 127"?S="iso-8859-6":g==="ISO_IR 126"?S="iso-8859-7":g==="ISO_IR 138"?S="iso-8859-8":g==="ISO_IR 148"?S="iso-8859-9":g==="ISO_IR 13"?S="shift-jis":g==="ISO_IR 166"?S="iso-8859-11":g==="ISO 2022 IR 87"?S="iso-2022-jp":g==="ISO 2022 IR 149"||g==="ISO 2022 IR 58"||(g==="ISO_IR 192"?S="utf-8":g==="GB18030"?S="gb18030":g==="GB2312"?S="gb2312":g==="GBK"&&(S="chinese")),S}(v))}if(Q(this,ht,kI).call(this,u(this,Un),s,f),o=u(this,Un)["7FE00010"],o!==void 0&&o.undefinedLength){const v=f.numberOfFrames,g=o.value;if(g.length>1&&g.length>v){const S=g.length/v,y=[];let C=0;for(let x=0;x<v;++x){C=x*S;let b=0;for(let P=0;P<S;++P)b+=g[C+P].length;const w=new g[0].constructor(b);let T=0;for(let P=0;P<S;++P)w.set(g[C+P],T),T+=g[C+P].length;y[x]=w}o.value=y}}}}Un=new WeakMap,uc=new WeakMap,wp=new WeakMap,bp=new WeakMap,ht=new WeakSet,AS=function(e){return u(this,wp).decode(e)},AI=function(e){return u(this,bp).decode(e)},OI=function(e,t){const r=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const i=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new ap(r,i),endOffset:t}},QC=function(e,t,r){const i={};let o=Q(this,ht,ua).call(this,e,t,r);if(t=o.endOffset,Hx(o.tag))return{data:i,endOffset:o.endOffset,isSeqDelim:!0};if(i[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let l=!1;for(;!l;)o=Q(this,ht,ua).call(this,e,t,r),t=o.endOffset,l=_V(o.tag),l||(i[o.tag.getKey()]=o)}else{const l=t;for(t-=o.vl;t<l;)o=Q(this,ht,ua).call(this,e,t,r),t=o.endOffset,i[o.tag.getKey()]=o}return{data:i,endOffset:t,isSeqDelim:!1}},EI=function(e,t,r){const i=[];let o=Q(this,ht,ua).call(this,e,t,r);const l=o.vl;t=o.endOffset;let s=!1;for(;!s;)o=Q(this,ht,ua).call(this,e,t,r),t=o.endOffset,s=Hx(o.tag),s||(o.vr="OB",i.push(o));return{data:i,endOffset:t,offsetTableVl:l}},ua=function(e,t,r,i){const o=Q(this,ht,OI).call(this,e,t),l=o.tag;if(i!==void 0&&l.equals(i)){const y=new ed("");return y.tag=l,y}t=o.endOffset;let s=null,d=!1;l.isWithVR()?r?(s=l.getVrFromDictionary(),s===void 0&&(s="UN"),d=!0):(s=Q(this,ht,AS).call(this,e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,d=OV(s),d&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(s="NONE",d=!0),function(y){return Object.keys(zx).concat(["NONE","ox","xx","xs"]).includes(y)}(s)||(Pe.warn("Unknown VR: "+s+" (for tag "+l.getKey()+"), treating as 'UN'"),s="UN");let h=0;d?(h=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(h=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let f=!1;h===4294967295&&(f=!0,h=0),l.isPrivate()&&s==="UN"&&h===0&&(s="SQ");let m,v=t,g=v+h;if(jx(l)&&f){const y=Q(this,ht,EI).call(this,e,t,r);t=y.endOffset,v+=y.offsetTableVl,m=y.data,g=t,h=t-v}else if(s==="SQ"){let y;if(m=[],f){let C=!1;for(;!C;)y=Q(this,ht,QC).call(this,e,t,r),C=y.isSeqDelim,t=y.endOffset,C||m.push(y.data);g=t,h=t-v}else if(h!==0){const C=t+h;for(;t<C;)y=Q(this,ht,QC).call(this,e,t,r),m.push(y.data),t=y.endOffset;g=t,h=t-v}}const S=new ed(s);return S.tag=l,S.vl=h,S.startOffset=v,S.endOffset=g,f&&(S.undefinedLength=f),m&&(S.items=m),S},Yi=function(e,t,r){const i=e.tag,o=e.vl,l=e.vr,s=e.startOffset;let d,h;r!==void 0&&(d=r.bitsAllocated,h=r.pixelRepresentation);let f=null;const m=zx[l];if(jx(i))if(e.undefinedLength){f=[];for(let v=0;v<e.items.length;++v)f.push(Q(this,ht,Yi).call(this,e.items[v],t,r));delete e.items}else if(d>8&&l==="OB"&&(Pe.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),f=[],d===1)f.push(t.readBinaryArray(s,o,r.imageBufferSize));else if(d===8)h===0?f.push(t.readUint8Array(s,o)):f.push(t.readInt8Array(s,o));else if(d===16)h===0?f.push(t.readUint16Array(s,o)):f.push(t.readInt16Array(s,o));else if(d===32)f.push(t.readFloat32Array(s,o));else{if(d!==64)throw new Error("Unsupported bits allocated: "+d);f.push(t.readFloat64Array(s,o))}else if(m!==void 0)if(m==="Uint8")f=t.readUint8Array(s,o);else if(m==="Uint16")f=t.readUint16Array(s,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint32")f=t.readUint32Array(s,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint64")f=t.readUint64Array(s,o);else if(m==="Int16")f=Array.from(t.readInt16Array(s,o));else if(m==="Int32")f=Array.from(t.readInt32Array(s,o));else if(m==="Int64")f=t.readInt64Array(s,o);else if(m==="Float32")f=Array.from(t.readFloat32Array(s,o));else if(m==="Float64")f=Array.from(t.readFloat64Array(s,o));else{if(m!=="string")throw new Error("Unknown VR type: "+m);{const v=t.readUint8Array(s,o);f=kV(l)?Q(this,ht,AI).call(this,v):Q(this,ht,AS).call(this,v),f=function(g){let S=g;const y=g.length-1;return g[y]===UV&&(S=g.substring(0,y)),S=S.trim(),S}(f).split("\\")}}else if(l==="xx")f=Array.from(t.readUint16Array(s,o));else if(l==="ox")f=d===8?h===0?Array.from(t.readUint8Array(s,o)):Array.from(t.readInt8Array(s,o)):h===0?Array.from(t.readUint16Array(s,o)):Array.from(t.readInt16Array(s,o));else if(l==="xs")f=h===0?Array.from(t.readUint16Array(s,o)):Array.from(t.readInt16Array(s,o));else if(l==="AT"){const v=t.readUint16Array(s,o);f=[];for(let g=0,S=v.length;g<S;g+=2){const y=v[g].toString(16),C=v[g+1].toString(16);let x="(";x+="0000".substring(0,4-y.length)+y.toUpperCase(),x+=",",x+="0000".substring(0,4-C.length)+C.toUpperCase(),x+=")",f.push(x)}}else if(l==="SQ"){f=[];for(let v=0;v<e.items.length;++v){const g=e.items[v],S={},y=Object.keys(g);let C=d,x=h;for(let b=0;b<y.length;++b){let w=g[Kx];w!==void 0&&w.value!==void 0&&(C=w.value[0]),w=g[Zx],w!==void 0&&w.value!==void 0&&(x=w.value[0]);const T={bitsAllocated:C,pixelRepresentation:x},P=g[y[b]];P.value=Q(this,ht,Yi).call(this,P,t,T),delete P.tag,delete P.vl,delete P.startOffset,delete P.endOffset,S[y[b]]=P}f.push(S)}delete e.items}else l==="NONE"||Pe.warn("Unknown VR: "+l+" (for tag "+e.tag.getKey()+")"),f=[];return f},kI=function(e,t,r){const i=Object.keys(e);for(let o=0;o<i.length;++o){const l=e[i[o]];l.value===void 0&&(l.value=Q(this,ht,Yi).call(this,l,t,r)),delete l.tag,delete l.vl,delete l.startOffset,delete l.endOffset}};class QV{constructor(e,t,r,i){ae(this,"min");ae(this,"max");ae(this,"mean");ae(this,"stdDev");ae(this,"median");ae(this,"p25");ae(this,"p75");this.min=e,this.max=t,this.mean=r,this.stdDev=i}}function pw(n,e){return function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))}(e)?function(t){const r=zC(t);return t.sort(function(i,o){return i-o}),r.median=tC(t,.5),r.p25=tC(t,.25),r.p75=tC(t,.75),r}(n):zC(n)}function zC(n){let e=n[0],t=e,r=0,i=0,o=0;const l=n.length;for(let f=0;f<l;++f)o=n[f],o<e?e=o:o>t&&(t=o),r+=o,i+=o*o;const s=r/l;let d=i/l-s*s;d<0&&(d=0);const h=Math.sqrt(d);return new QV(e,t,s,h)}function tC(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,r=Math.floor(t),i=n[r];return i+(n[r+1]-i)*(t-r)}var xi,Ti,Er,Pi,h0,ss,f0,I2,_I;class fu{constructor(e,t,r,i,o){G(this,I2);G(this,xi);G(this,Ti);G(this,Er);G(this,Pi,{});G(this,h0);G(this,ss,ky());G(this,f0,!1);z(this,xi,e),z(this,Ti,t),z(this,Er,r),o!==void 0&&(z(this,h0,o),u(this,Pi)[o]=e),i!==void 0&&z(this,ss,i)}getInitialTime(){return u(this,h0)}getCurrentTotalNumberOfSlices(){const e=Object.keys(u(this,Pi));if(e.length===0)return u(this,xi).length;let t=0;for(let r=0;r<e.length;++r)t+=u(this,Pi)[e[r]].length;return t}hasSlicesAtTime(e){return u(this,Pi)[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(u(this,Pi));if(t.length===0)return;let r=0;for(let i=0;i<t.length;++i){const o=t[i];if(parseInt(o,10)===e)break;r+=u(this,Pi)[o].length}return r}getOrigin(){return u(this,xi)[0]}getOrigins(){return u(this,xi)}includesOrigin(e,t){for(let r=0;r<u(this,xi).length;++r)if(u(this,xi)[r].isSimilar(e,t))return!0;return!1}getSize(e){let t=u(this,Ti);if(e&&e!==void 0){let r=K1([u(this,Ti).get(0),u(this,Ti).get(1),u(this,Ti).get(2)],e);r=r.map(Math.abs),t=new Gs(r.concat(u(this,Ti).getValues().slice(3)))}return t}getSpacing(e){u(this,f0)&&(Q(this,I2,_I).call(this),z(this,f0,!1));let t=u(this,Er);if(e&&e!==void 0){let r=K1([u(this,Er).get(0),u(this,Er).get(1),u(this,Er).get(2)],e);r=r.map(Math.abs),t=new hu(r)}return t}getRealSpacing(){return this.getSpacing(u(this,ss).getInverse().asOneAndZeros())}getOrientation(){return u(this,ss)}getSliceIndex(e,t){let r=u(this,xi);t!==void 0&&(r=u(this,Pi)[t]);const i=e.getClosest(r),o=r[i],l=e.minus(o);return new un(u(this,ss).get(0,2),u(this,ss).get(1,2),u(this,ss).get(2,2)).isCodirectional(l)?i+1:i}appendOrigin(e,t,r){const i=function(o){return o.equals(e)};if(r!==void 0){if(u(this,Pi)[r].find(i)!==void 0)throw new Error("Cannot append same time origin twice");u(this,Pi)[r].splice(t,0,e)}if(r===void 0||r===u(this,h0)){if(u(this,xi).find(i)!==void 0)throw new Error("Cannot append same origin twice");z(this,f0,!0),u(this,xi).splice(t,0,e);const o=u(this,Ti).getValues();o[2]+=1,z(this,Ti,new Gs(o))}}appendFrame(e,t){u(this,Pi)[t]=[e];const r=u(this,Ti).getValues(),i=u(this,Er).getValues();r.length===4?r[3]+=1:(r.push(2),i.push(1)),z(this,Ti,new Gs(r)),z(this,Er,new hu(i))}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!==null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const r=new Ot(t),i=new Ot(this.getSize().getValues());return[this.indexToWorld(r),this.indexToWorld(i)]}indexToWorld(e){const t=this.getSpacing(),r=new Gt(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),i=this.getOrientation().multiplyPoint3D(r),o=e.getValues(),l=this.getOrigin();return o[0]=l.getX()+i.getX(),o[1]=l.getY()+i.getY(),o[2]=l.getZ()+i.getZ(),new yu(o)}pointToWorld(e){const t=this.getSpacing(),r=new Gt(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),i=this.getOrientation().multiplyPoint3D(r),o=this.getOrigin();return new Gt(o.getX()+i.getX(),o.getY()+i.getY(),o.getZ()+i.getZ())}worldToIndex(e){const t=this.getOrigin(),r=new Gt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),i=this.getOrientation().getInverse().multiplyPoint3D(r),o=e.getValues(),l=this.getSpacing();return o[0]=Math.floor(Oa(i.getX()/l.get(0),5)),o[1]=Math.floor(Oa(i.getY()/l.get(1),5)),o[2]=Math.floor(Oa(i.getZ()/l.get(2),5)),new Ot(o)}worldToPoint(e){const t=this.getOrigin(),r=new Gt(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),i=this.getOrientation().getInverse().multiplyPoint3D(r),o=e.getValues(),l=this.getSpacing();return o[0]=i.getX()/l.get(0),o[1]=i.getY()/l.get(1),o[2]=i.getZ()/l.get(2),new Gt(o[0],o[1],o[2])}}xi=new WeakMap,Ti=new WeakMap,Er=new WeakMap,Pi=new WeakMap,h0=new WeakMap,ss=new WeakMap,f0=new WeakMap,I2=new WeakSet,_I=function(){const e=function(t){if(t.length<=1)return;const r=[];for(let l=0;l<t.length-1;++l){const s=t[l],d=t[l+1],h=s.getDistance(d);if(h===0)throw new Error("Zero slice spacing "+s.toString()+" "+d.toString());r.push(h)}const i=zC(r),o=Oa(i.mean,4);return i.stdDev>Ey&&Pe.warn("Varying slice spacing, value: "+o+" (mean: "+i.mean+", min: "+i.min+", max: "+i.max+", stdDev: "+i.stdDev+")"),o}(u(this,xi));if(e!==void 0){u(this,Er).get(2)!==1&&u(this,Er).get(2)!==e&&Pe.debug("Using geometric spacing "+e+" instead of tag spacing "+u(this,Er).get(2));const t=u(this,Er).getValues();t[2]=e,z(this,Er,new hu(t))}};function K1(n,e){return e.getInverse().multiplyArray3D(n)}function Jx(n,e){return e.multiplyArray3D(n)}const Yo={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002"};function WC(n){let e;const t=nn(n,Yo.Rows),r=nn(n,Yo.Columns);return t!==void 0&&r!==void 0&&(e=[r,t]),e}function FI(n){const e=ca(n,Yo.PixelSpacing);if(e===void 0||e.length!==2)return;const t=[parseFloat(e[1]),parseFloat(e[0])],r=nn(n,Yo.SpacingBetweenSlices);return r!==void 0&&t.push(parseFloat(r)),new hu(t)}function eT(n){const e=nn(n,Yo.PhotometricInterpretation),t=nn(n,Yo.TransferSyntax);if(e!==void 0&&t!==void 0){let r=e.toUpperCase();(fw(t)||dw(t)||hw(t))&&!gw(r)&&(r="RGB");let i=nn(n,Yo.SamplesPerPixel);return i===void 0&&(i=1),r==="RGB"&&i===1&&(r="PALETTE COLOR"),r}}function gw(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function Z1(n){return("0"+n).slice(-2)}function nC(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,r=6;return e.length===10&&(t=5,r=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===r+2?parseInt(e.substring(r,r+2),10):0}}function sS(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),r=e.length>=4?parseInt(e.substring(2,4),10):0,i=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:r,seconds:i,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function HC(n){return{year:n.getFullYear().toString(),monthIndex:Z1((n.getMonth()+1).toString()),day:Z1(n.getDate().toString())}}function jC(n){return{hours:Z1(n.getHours().toString()),minutes:Z1(n.getMinutes().toString()),seconds:Z1(n.getSeconds().toString())}}function $C(n){return n.year+n.monthIndex+n.day}function YC(n){return n.hours+n.minutes+n.seconds}const tT="00080016",nT="00080060",rT="00280002",iT="00280100",oT={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};var bl,p0;class zV{constructor(){G(this,bl);G(this,p0)}getWarning(){return u(this,bl)}checkElements(e){if(z(this,bl,void 0),WC(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!TI(e))throw new Error("No pixel data in DICOM file");const t=nn(e,nT);if(t!==void 0&&t==="PT"){const i=eT(e);if((r=nn(e,tT))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(r)||!gw(i))return u(this,bl);const o=function(l){let s="";const d={};let h;s+=Ka(l["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),s+=Ka(l["00541102"],"Decay Correction (00541102)",["START"]),s+=Ka(l["00541001"],"Units (00541001)",["BQML"]);const f=l["00101030"],m=Ka(f," PatientWeight (00101030)");if(m.length===0){const g=parseFloat(f.value[0]);isNaN(g)?s+=" PatientWeight is not a number":h=g}else s+=m;const v=function(g){let S,y="";const C=nC(g["00080021"]);let x,b,w;const T=g["00540016"];if(y+=Ka(T,"RadiopharmaceuticalInformationSequence (00540016)"),T!==void 0){T.value.length!==1&&Pe.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const L="RadionuclideTotalDose (00181074)",U=T.value[0]["00181074"];if(S=Ka(U,L),S.length===0){const W=parseFloat(U.value[0]);isNaN(W)?y+=" TotalDose is not a number":x=W}else y+=S;const N="RadionuclideHalfLife (00181075)",R=T.value[0]["00181075"];if(S=Ka(R,N),S.length===0){const W=parseFloat(R.value[0]);isNaN(W)?y+=" HalfLife is not a number":b=W}else y+=S;const I=T.value[0]["00181078"];let _,q;if(I===void 0)_=C,q=sS(T.value[0]["00181072"]);else{const W=function(j){if(j===void 0||j.value.length!==1)return;const H=j.value[0].split("&")[0],X=new ed("DA");X.value=[H.substring(0,8)];const V=nC(X),$=new ed("TM");return $.value=[H.substring(8)],{date:V,time:H.length>=9?sS($):void 0}}(I);_=W.date,q=W.time}q===void 0&&(q={hours:0,minutes:0,seconds:0,milliseconds:0}),w=new Date(_.year,_.monthIndex,_.day,q.hours,q.minutes,q.seconds,q.milliseconds)}const P=sS(g["00080031"]);let A=new Date(C.year,C.monthIndex,C.day,P.hours,P.minutes,P.seconds,P.milliseconds);const F=g["00080022"],E=g["00080032"];if(F!==void 0&&E!==void 0){const L=nC(F),U=sS(E),N=new Date(L.year,L.monthIndex,L.day,U.hours,U.minutes,U.seconds,U.milliseconds);if(A>N){const R="Series date/time is after Aquisition date/time (diff="+(A.getTime()-N.getTime()).toString()+"ms) ";Pe.debug(R);let I=0;const _="FrameReferenceTime (00541300)",q=g["00541300"];y+=Ka(q,_),q!==void 0&&(I=q.value[0]);let W=0;const j="ActualFrameDuration (00181242)",H=g["00181242"];if(y+=Ka(H,j),H!==void 0&&(W=H.value[0]),I>0&&W>0){W/=1e3,I/=1e3;const X=Math.log(2)/b,V=X*W,$=1/X*Math.log(V/(1-Math.exp(-V)))-I;A=new Date(L.year,L.monthIndex,L.day,U.hours,U.minutes,U.seconds+$,U.milliseconds)}}}let k;if(A!==void 0&&w!==void 0&&x!==void 0&&b!==void 0){const L=(A.getTime()-w.getTime())/1e3;k=x*Math.pow(2,-L/b)}return{value:k,warning:y}}(l);return s+=v.warning,s.length!==0?d.warning="Cannot calculate PET SUV:"+s:d.value=1e3*h/v.value,d}(e);z(this,p0,o.value),z(this,bl,o.warning)}var r;return u(this,bl)}create(e,t,r){const i=function(H){return nn(e,H)},o=function(H){return ca(e,H)},l=WC(e),s=[l[0],l[1],1],d=i("00280008");if(d!==void 0){const H=parseInt(d,10);H>1&&s.push(H)}const h=new Gs(s);let f=[1,1,1];const m=function(H){let X;const V=["PixelSpacing","ImagerPixelSpacing","NominalScannedPixelSpacing","PixelAspectRatio"];for(const $ of V){const ne=ca(H,Yo[$]);if(ne!==void 0&&ne.length===2){X=[parseFloat(ne[1]),parseFloat(ne[0])];break}}return X}(e);m!==void 0&&(f=[m[0],m[1],1]);const v=new hu(f),g=o("00200032");let S=new Array(0,0,0);g!==void 0&&(S=[parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])]);const y=function(H){const X=ca(H,Yo.ImageOrientationPatient);let V;return X!==void 0&&(V=cw(X.map($=>parseFloat($)))),V}(e),C=new Gt(S[0],S[1],S[2]),x=void 0,b=new fu([C],h,v,y,x),w=i("00080018");let T=i(rT);T===void 0&&(T=1);const P=h.getTotalSize()*T;if(P!==t.length){if(Pe.warn("Badly sized pixel buffer: "+t.length+" != "+P),!(P<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,h.getTotalSize())}const A=new od(b,t,[w]),F=eT(e);F!==void 0&&A.setPhotometricInterpretation(F);const E=i("00280006");E!==void 0&&A.setPlanarConfiguration(E);let k=1;const L=i("00281053");if(L!==void 0){const H=parseFloat(L);isNaN(H)||(k=H)}let U=0;const N=i("00281052");if(N!==void 0){const H=parseFloat(N);isNaN(H)||(U=H)}let R=!1,I=1;u(this,p0)!==void 0&&(R=!0,I=u(this,p0),Pe.info("Applying PET SUV calibration: "+I),k*=I,U*=I);const _=new uw(k,U);if(A.setRescaleSlopeAndIntercept(_),A.getPhotometricInterpretation()==="PALETTE COLOR"){const H=function(X){let V;const $=ca(X,"00281101");if($!==void 0&&$.length===3){let ne,ie,te;const pe=X["00281201"],J=X["00281202"],oe=X["00281203"];if($[2]===16){let de=!1,me=$[0];me===0&&(me=65536);const be=pe.vl;if(be!==2*me&&(de=!0,Pe.info("16bits lut but size is not double. desc: "+me+" vl: "+be)),parseInt(nn(X,iT),10)===8&&(de=!0,Pe.info("Scaling 16bits color lut since bits allocated is 8.")),de){const Te=function(Ue){return Ue>>8};ne=pe.value.map(Te),ie=J.value.map(Te),te=oe.value.map(Te)}}else if($[2]===8){Pe.info("Scaling 16bits color lut since the lut descriptor is 8.");let de=pe.value.slice(0);ne=Array.from(new Uint8Array(de.buffer)),de=J.value.slice(0),ie=Array.from(new Uint8Array(de.buffer)),de=oe.value.slice(0),te=Array.from(new Uint8Array(de.buffer))}V=new lw(ne,ie,te)}return V}(e);H!==void 0&&A.setPaletteColourMap(H)}const q={numberOfFiles:r};q.TransferSyntaxUID=i("00020010"),q.MediaStorageSOPClassUID=i("00020002"),q.SOPClassUID=i(tT),q.Modality=i(nT),q.ImageType=i("00080008"),q.SamplesPerPixel=i(rT),q.PhotometricInterpretation=i("00280004"),q.PixelRepresentation=i("00280103"),q.BitsAllocated=i(iT),q.BitsStored=i("00280101"),q.HighBit=i("00280102"),q.ImageOrientationPatient=o("00200037");const W=Object.keys(oT);for(const H of W)q[H]=i(oT[H]);if(R)q.pixelUnit="SUV";else{const H=function(X){return function(V){let $;const ne=["RescaleType","Units"];for(const ie of ne)if(nn(V,Yo[ie])!==void 0)break;if($===void 0){const ie=nn(V,Yo.Modality);ie!==void 0&&ie==="CT"&&($="HU")}return $}(X)}(e);H!==void 0&&(q.pixelUnit=H)}q.lengthUnit=m===void 0?"unit.pixel":"unit.mm";const j=function(H,X){let V;const $=ca(H,"00281050"),ne=ca(H,"00281051");if($!==void 0&&ne!==void 0){V={};const ie=ca(H,"00281055");let te;for(let pe=0;pe<$.length;++pe){const J=parseFloat($[pe]);let oe=parseFloat(ne[pe]);J&&oe&&oe!==0&&(te="",ie!==void 0&&(te=ie[pe]),te===""&&(te="Default"+pe),oe*=X,oe<1&&(oe=1),V[te]={wl:[new fi(J*X,oe)],name:te}),oe===0&&Pe.warn("Zero window width found in DICOM.")}}return V}(e,I);return j!==void 0&&(q.windowPresets=j),q.VOILUTFunction=i("00281056"),A.setMeta(q),A}}bl=new WeakMap,p0=new WeakMap;let aT=0;function WV(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);aT+=1;const t="."+aT;let r="1.2.826.0.1.3680043.9.7278.1.";const i=29+t.length+e.length,o=Math.min(n.length,64-i);if(o>1){let l="";for(let s=0;s<o;++s)l+=n.charCodeAt(s);r+=l.substring(0,o)}return r+=e+t,r}function sp(n){const e=Object.keys(n),t={};for(const r of e){const i=FV(r);if(i===void 0)continue;const o=i.getVrFromDictionary();let l,s=!1;const d=n[r];if(o==="SQ"){const f=[];if(d.undefinedLength!==void 0&&(s=d.undefinedLength),Array.isArray(d.value))for(const m of d.value)f.push(sp(m));else Pe.debug("Non array simpleTag SQ value");l=f}else l=Array.isArray(d)?d:[d];const h=new ed(o);h.tag=i,h.value=l,s&&(h.undefinedLength=s),t[i.getKey()]=h}return t}const sT="00080100",lT="00080102",uT="00080119",cT="00080120";class lp{constructor(e){ae(this,"meaning");ae(this,"value");ae(this,"longValue");ae(this,"urnValue");ae(this,"schemeDesignator");this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function OS(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function Hd(n){const e=new lp(n["00080104"].value[0]);if(n[sT]!==void 0)e.value=n[sT].value[0];else if(n[uT]!==void 0)e.longValue=n[uT].value[0];else{if(n[cT]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[cT].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[lT]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[lT].value[0]}return e}function vu(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const dT={value:"111017",meaning:"CAD Processing and Findings Summary"},hT={value:"111030",meaning:"Image Region"},fT={value:"111059",meaning:"Single Image Finding"},HV={value:"111099",meaning:"Selected region"},jV={value:"111242",meaning:"All algorithms succeeded; with findings"},pT={value:"112000",meaning:"Chest CAD Report"},gT={value:"112020",meaning:"Response Evaluation"},$V={value:"112021",meaning:"Response Evaluation Method"},YV={value:"112022",meaning:"RECIST"},lS={value:"112039",meaning:"Tracking Identifier"},mT={value:"112051",meaning:"Measurement of Response"},rC={value:"112040",meaning:"Tracking Unique Identifier"},ST={value:"112048",meaning:"Current Response"},XV={value:"113076",meaning:"Segmentation"},KV={value:"121055",meaning:"Path"},yT={value:"121106",meaning:"Comment"},ZV={value:"121322",meaning:"Source image for image processing operation"},JV={value:"121324",meaning:"Source Image"},uS={value:"122438",meaning:"Reference Points"},cS={value:"125007",meaning:"Measurement Group"},vT={value:"125309",meaning:"Short Label"},iC={value:"126000",meaning:"Imaging Measurement Report"},CT={value:"126010",meaning:"Imaging Measurements"},wT={value:"128773",meaning:"Reference Geometry"},eG={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},tG={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function at(n){const e=new lp(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function C2(n,e){let t,r;return e==="SCT"?t=eG[n]:e==="UCUM"&&(t=tG[n]),t!==void 0&&(r=new lp(t),r.schemeDesignator=e,r.value=n),r}function bT(){return C2("718499004","SCT")}const XC={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},KC={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function MI(n){const e=KC[n];let t;return e!==void 0?t=C2(e,"UCUM"):e===void 0&&(t=C2("1","UCUM")),t}const DT="00620005",xT="00620009",TT="0062000C",PT="0062000D",IT="00620003",LT="0062000F",RT="00620020";class nG{constructor(e,t,r){ae(this,"number");ae(this,"label");ae(this,"algorithmType");ae(this,"algorithmName");ae(this,"displayValue");ae(this,"displayRGBValue");ae(this,"propertyTypeCode");ae(this,"propertyCategoryCode");ae(this,"trackingUid");ae(this,"trackingId");this.number=e,this.label=t,this.algorithmType=r}}function rG(n){const e=new nG(n["00620004"].value[0],n[DT]?n[DT].value[0]:"n/a",n["00620008"].value[0]);if(n[xT]!==void 0&&(e.algorithmName=n[xT].value[0]),n[TT]!==void 0)e.displayValue=n[TT].value[0];else if(n[PT]!==void 0){const r=n[PT].value,i=function(o){return function(l){function s(m){let v=null;return v=m<=.0031308?12.92*m:1.055*Math.pow(m,.416666667)-.055,Math.min(1,Math.max(0,v))}const d=l.x/100,h=l.y/100,f=l.z/100;return{r:Math.round(255*s(3.2406*d-1.5372*h-.4986*f)),g:Math.round(255*s(-.9689*d+1.8758*h+.0415*f)),b:Math.round(255*s(.0557*d-.204*h+1.057*f))}}(function(l){function s(f){let m=null;return m=f>.206896552?Math.pow(f,3):.128418549*f-.017712903,m}const d=SI,h=(l.l+16)/116;return{x:d.x*s(h+l.a/500),y:d.y*s(h),z:d.z*s(h-l.b/200)}}(o))}({l:.001525902*(t={l:r[0],a:r[1],b:r[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=i}else Pe.warn("No recommended colour for segment, using default"),e.displayRGBValue=function(r){const i=[new dr(0,0,0),new dr(255,0,0),new dr(0,255,0),new dr(0,0,255),new dr(255,255,0),new dr(0,255,255),new dr(255,0,255),new dr(255,239,213),new dr(0,0,205),new dr(205,133,63),new dr(210,180,140),new dr(102,205,170),new dr(0,0,128),new dr(0,139,139),new dr(46,139,87),new dr(255,228,225)];let o;return o=r<i.length?i[r]:new dr(255*Math.random(),255*Math.random(),255*Math.random()),o}(e.number);var t;if(n[IT]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=Hd(n[IT].value[0]),n[LT]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=Hd(n[LT].value[0]),n[RT]!==void 0&&(e.trackingId=n[RT].value[0],e.trackingUid=n["00620021"].value[0]),e}function iG(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const r=yV(vV(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(r.l),Math.round(r.a),Math.round(r.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[vu(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[vu(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const AT="00089124",OT="00082112",ET="00081150",kT="00081155",_T="00209116",FT="00289110";class oG{constructor(e,t,r,i){ae(this,"dimIndex");ae(this,"imagePosPat");ae(this,"derivationImages");ae(this,"refSegmentNumber");ae(this,"imageOrientationPatient");ae(this,"spacing");this.dimIndex=e,this.imagePosPat=t,this.derivationImages=r,this.refSegmentNumber=i}}function aG(n){const e=[];if(n[AT]!==void 0){const s=n[AT].value;for(let d=0;d<s.length;++d){const h=[];if(s[d][OT]!==void 0){const f=s[d][OT].value;for(let m=0;m<f.length;++m){const v={};f[m][ET]!==void 0&&(v.referencedSOPClassUID=f[m][ET].value[0]),f[m][kT]!==void 0&&(v.referencedSOPInstanceUID=f[m][kT].value[0]),h.push(v)}}e.push({sourceImages:h})}}const t=n["00209111"].value[0]["00209157"].value,r=n["0062000A"].value,i=parseInt(r[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let s=0;s<o.length;++s)o[s]=parseFloat(o[s]);const l=new oG(t,o,e,i);if(n[_T]!==void 0){const s=n[_T];if(s.value.length!==0){const d=s.value[0]["00200037"].value;d!==void 0&&(l.imageOrientationPatient=d)}}if(n[FT]!==void 0){const s=n[FT];if(s.value.length!==0){const d=FI(s.value[0]);d!==void 0&&(l.spacing=d)}else Pe.warn("No shared functional group pixel measure sequence items.")}return l}function sG(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=vu(at(ZV)),r=vu(at(XV)),i=[];for(const o of n.derivationImages){const l=[];for(const s of o.sourceImages)l.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:s.referencedSOPClassUID,ReferencedSOPInstanceUID:s.referencedSOPInstanceUID});i.push({DerivationCodeSequence:{value:[r]},SourceImageSequence:{value:l}})}e.DerivationImageSequence={value:i}}return e}const MT="00209116",NT="00289110",UT={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function lG(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let r,i=!1;if(r=t.value.length===1?t.value[0]:t.value,Array.isArray(r))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(bI(e.enum[o],r)){i=!0;break}}else i=e.enum.includes(r);if(!i)throw new Error("Unsupported "+e.name+" value: "+r)}function uG(n,e,t){const r=n.getGeometry().getSize().getDimSize(2),i={};for(let o=0;o<r;++o){const l=t+o,s=n.getValueAtOffset(l);for(const d of e){const h=d.number-1;s===d.number&&(i[h]===void 0&&(i[h]=new Uint8Array(r)),i[h][o]=1)}}return i}const NI=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[y2,GC,v2]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function UI(){const n={};for(const e of NI)n[e.name]=e.enum[0];return n}var L2,$h,BI,qI;class ZC{constructor(){G(this,$h);G(this,L2)}getWarning(){return u(this,L2)}checkElements(e){}create(e,t,r){const i=function(te){return nn(e,te)},o=function(te){return ca(e,te)};for(const te of NI)lG(e,te);const l=WC(e),s=new Gs([l[0],l[1],1]),d=s.getTotalSize();let h=i("00280008");if(h=h!==void 0?parseInt(h,10):1,h!==t.length/d)throw new Error("Buffer and numberOfFrames meta are not equal "+h+" "+t.length/d);const f=function(te){const pe=te["00209221"];if(pe===void 0||pe.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const J=pe.value[0]["00209164"].value[0],oe=[],de=te["00209222"];if(de!==void 0){const me=de.value;if(me.length!==2)throw new Error("Unsupported dimension index sequence length");let be;for(let Te=0;Te<me.length;++Te){const Ue=me[Te]["00209164"].value[0];if(Ue!==J)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");be=me[Te]["00209165"].value[0];const B={DimensionOrganizationUID:Ue,DimensionIndexPointer:be};me[Te]["00209421"]!==void 0&&(B.DimensionDescriptionLabel=me[Te]["00209421"].value[0]),oe.push(B)}if(be!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:J}]},indices:{value:oe}}}(e),m=o("00620002");if(m===void 0)throw new Error("Missing or empty segmentation sequence");const v=[],g=[0],S=[0],y=[0];for(let te=0;te<m.length;++te){const pe=rG(m[te]);pe.displayRGBValue!==void 0&&(g[pe.number]=pe.displayRGBValue.r,S[pe.number]=pe.displayRGBValue.g,y[pe.number]=pe.displayRGBValue.b),v.push(pe)}let C,x,b,w=!1;g.length>1&&(w=!0,C=new lw(g,S,y));const T=o("52009229");if(T!==void 0){const te=T[0];if(te[MT]!==void 0){const pe=te[MT];pe.value.length!==0?b=pe.value[0]["00200037"].value:Pe.warn("No shared functional group plane orientation sequence items.")}if(te[NT]!==void 0){const pe=te[NT];pe.value.length!==0?x=FI(pe.value[0]):Pe.warn("No shared functional group pixel measure sequence items.")}}const P=function(te,pe){return te.some(function(J){return oe=pe,de=J,JSON.stringify(oe)===JSON.stringify(de);var oe,de})},A=function(te,pe){return te.findIndex(function(J){return pe.equals(J)})},F=o("52009230");if(F===void 0)throw new Error("Missing or empty per frame functional sequence");if(h!==F.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const E=[];for(let te=0;te<F.length;++te)E.push(aG(F[te]));const k=[];for(let te=0;te<E.length;++te){if(P(k,E[te].imagePosPat)||k.push(E[te].imagePosPat),E[te].imageOrientationPatient!==void 0){if(b===void 0)b=E[te].imageOrientationPatient;else if(!bI(b,E[te].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(E[te].spacing!==void 0){if(x===void 0)x=E[te].spacing;else if(!x.equals(E[te].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(x===void 0)throw new Error("No spacing found for DICOM SEG");if(x.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(b===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const L=cw(b.map(te=>parseFloat(te)));if(L===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");k.sort(function(te){const pe=te.getInverse();return function(J,oe){const de=pe.multiplyArray3D(J),me=pe.multiplyArray3D(oe);return de[2]-me[2]}}(L));const U=function(te){return new Gt(te[0],te[1],te[2])},N=[];for(const te of k)N.push(U(te));let R;R=r!==void 0?Q(this,$h,BI).call(this,N,s,x,L,r.getGeometry().getOrigins()):Q(this,$h,qI).call(this,N,s,x,L);const I=R.getSize().get(2),_=function(te){return function(pe){return pe.number===te}},q=new t.constructor(d*I);q.fill(0);const W=R.getOrigins();let j,H,X;for(let te=0;te<E.length;++te){if(j=A(W,U(E[te].imagePosPat)),j===-1)throw new Error("Cannot find frame origin in mask origins");H=d*te,X=d*j;const pe=v.find(_(E[te].refSegmentNumber));for(let J=0;J<d;++J)t[H+J]!==0&&(q[X+J]=w?pe.number:pe.displayValue)}const V=[];for(let te=0;te<I;++te)V.push(te.toString());const $=new od(R,q,V);w&&($.setPhotometricInterpretation("PALETTE COLOR"),$.setPaletteColourMap(C));const ne=UI(),ie=Object.keys(UT);for(const te of ie)ne[te]=i(UT[te]);return ne.DimensionOrganizationSequence=f.organizations,ne.DimensionIndexSequence=f.indices,ne.custom={segments:v,frameInfos:E,SOPInstanceUID:i("00080018")},ne.lengthUnit=r.getMeta().lengthUnit,ne.numberOfFiles=I,$.setMeta(ne),$}toDicom(e,t,r,i){const o=e.getMeta();t===void 0&&(t=o.segments);const l=e.getGeometry(),s=l.getSize();o.Rows=s.get(1),o.Columns=s.get(0);const d=new Date;o.ContentDate=$C(HC(d)),o.ContentTime=YC(jC(d)),r!==void 0&&(o.StudyInstanceUID=r.getMeta().StudyInstanceUID);const h=[];for(const P of t)h.push(iG(P));var f,m;o.SegmentSequence={value:h},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(m=l.getOrientation(),{ImageOrientationPatient:[m.get(0,0),m.get(1,0),m.get(2,0),m.get(0,1),m.get(1,1),m.get(2,1)]})]},PixelMeasuresSequence:{value:[(f=l.getSpacing(),{SpacingBetweenSlices:f.get(2),PixelSpacing:[f.get(1),f.get(0)]})]}}]};const v=function(P,A){const F=P.getGeometry().getSize(),E=F.getDimSize(2),k={};for(let L=0;L<F.get(2);++L){const U=uG(P,A,L*E),N=Object.keys(U);for(const R of N)k[R]===void 0&&(k[R]={}),k[R][L]=U[R]}return k}(e,t),g=[],S=[],y=[];for(const P of t){const A=P.number,F=A-1;if(v[F]===void 0)continue;const E=Object.keys(v[F]);for(let k=E.length-1;k>=0;--k){const L=Number.parseInt(E[k],10);S.push(v[F][L]);const U=e.getGeometry().getOrigins()[L],N=[U.getX(),U.getY(),U.getZ()],R={dimIndex:[A,E.length-k],imagePosPat:N,refSegmentNumber:A};if(r!==void 0){const I=r.getGeometry().worldToIndex(new yu([U.getX(),U.getY(),U.getZ()]));R.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:r.getImageUid(I),referencedSOPClassUID:r.getMeta().SOPClassUID}]}],y.push({ReferencedSOPInstanceUID:r.getImageUid(I),ReferencedSOPClassUID:r.getMeta().SOPClassUID})}g.push(R)}}o.NumberOfFrames=S.length.toString();const C=[];for(const P of g)C.push(sG(P));if(o.PerFrameFunctionalGroupsSequence={value:C},r!==void 0){const P=[];P.push({ReferencedInstanceSequence:{value:y},SeriesInstanceUID:r.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:P}}i!==void 0&&function(P,A){const F=Object.keys(A);for(const E of F)P[E]!==void 0&&Pe.debug("Overwritting tag: "+E),P[E]=A[E]}(o,i);const x=sp(o),b=s.getDimSize(2),w=S.length*b/8,T=new ed("OB");return T.tag=new ap("7FE0","0010"),T.vl=w,T.value=S,x["7FE00010"]=T,x}}L2=new WeakMap,$h=new WeakSet,BI=function(e,t,r,i,o){const l=function(f,m){return f.findIndex(function(v){return m.isSimilar(v,1e-4)})},s=[];s.push(e[0]);let d=l(o,e[0]);if(d===-1)throw new Error("No index for first frame origin");for(let f=1;f<e.length;++f){const m=e[f],v=l(o,m);if(v===-1)throw new Error("No index for frame origin "+f);if(v!==d+1)for(let g=d+1;g<v;++g)s.push(o[g]);s.push(m),d=v}const h=new fu([e[0]],t,r,i);for(let f=1;f<s.length;++f)h.appendOrigin(s[f],f);return h},qI=function(e,t,r,i){Pe.warn("Guessing image geometry for DICOM SEG");const o=new fu([e[0]],t,r,i),l=function(f){let m=f>Ey;return m&&(m=f>.001,m?(m=f>.01,m||Pe.warn("Using larger+ real world epsilon in SEG pos pat adding")):Pe.warn("Using larger real world epsilon in SEG pos pat adding")),m},s=[];s.push(e[0]);let d=0;for(let f=1;f<e.length;++f){++d;let m=new Ot([0,0,d]),v=o.indexToWorld(m).get3D();const g=e[f];let S=g.getDistance(v);const y=S;for(;l(S);)if(Pe.debug("Adding intermediate pos pats for DICOM seg at "+v.toString()),s.push(v),++d,m=new Ot([0,0,d]),v=o.indexToWorld(m).get3D(),S=g.getDistance(v),S>y)throw new Error("Test distance is increasing when adding intermediate pos pats");s.push(g)}const h=new fu([e[0]],t,r,i);for(let f=1;f<s.length;++f)h.appendOrigin(s[f],f);return h};var Dp,JC;class VI{constructor(e){G(this,Dp);ae(this,"poolSize");ae(this,"taskQueue");ae(this,"freeThreads");ae(this,"runningThreads");ae(this,"handleWorkerError",e=>{Q(this,Dp,JC).call(this),this.onerror({error:e}),this.onworkend({type:"work-end"})});this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new cG(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){Q(this,Dp,JC).call(this),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}Dp=new WeakSet,JC=function(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]};class cG{constructor(e){ae(this,"parentPool");ae(this,"id");ae(this,"runningTask");ae(this,"worker");ae(this,"onmessage",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)});ae(this,"onerror",e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.handleWorkerError(e),this.stop()});this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}}class Mg{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class dG extends Mg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Sr.u(391),Sr.b),{name:"labeling.worker",type:"module"})}}var g0;class hG{constructor(){G(this,g0,new VI(1));u(this,g0).onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){u(this,g0).onworkitem=this.ondone;const r=new dG(function(i,o){const l=o.length(),s=Array(l).fill(0);for(let h=0;h<l;h++)s[h]=o.getDimSize(h);const d=Array(l).fill(0);for(let h=0;h<l;h++)d[h]=o.get(h);return{imageBuffer:i,unitVectors:s,sizes:d,totalSize:o.getTotalSize()}}(e,t),{});u(this,g0).addWorkerTask(r)}ondone(e){}}g0=new WeakMap;var An,Bt,Ii,Dl,ha,m0,S0,y0,xl,xp,Bn,Xn,Tl,Pl,v0,C0,Il,Fa,e4,GI,t4,Vo;const Dw=class Dw{constructor(e,t,r){G(this,Fa);G(this,An);G(this,Bt);G(this,Ii);G(this,Dl,new uw(1,0));G(this,ha,null);G(this,m0,!0);G(this,S0,!0);G(this,y0,"MONOCHROME2");G(this,xl);G(this,xp,0);G(this,Bn);G(this,Xn,{});G(this,Tl,null);G(this,Pl,null);G(this,v0,null);G(this,C0,new Bi);G(this,Il);G(this,Vo,e=>{u(this,C0).fireEvent(e)});z(this,An,e),z(this,Bt,t),z(this,Ii,r),z(this,Il,null),z(this,Bn,u(this,Bt).length/u(this,An).getSize().getTotalSize())}getImageUid(e){let t=u(this,Ii)[0];return u(this,Ii).length!==1&&e!==void 0&&(t=u(this,Ii)[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const r=u(this,Ii).indexOf(e);return r!==-1&&(t=this.getGeometry().getOrigins()[r]),t}includesImageUid(e){return u(this,Ii).includes(e)}containsImageUids(e){return function(t,r){if(t===null||r===null||t===void 0||r===void 0||t.length===0||r.length===0||r.length>t.length)return!1;for(const i of r)if(!t.includes(i))return!1;return!0}(u(this,Ii),e)}getGeometry(){return u(this,An)}getBuffer(){return u(this,Bt)}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return gw(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let r=1;return u(this,Xn).numberOfFiles!==void 0&&(r=u(this,Xn).numberOfFiles),t.canScroll(e)||r!==1}getSecondaryOffset(e){return u(this,An).getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=u(this,Dl);if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const r=this.getSecondaryOffset(e);u(this,ha)[r]!==void 0?t=u(this,ha)[r]:Pe.warn("undefined non constant rsi at "+r)}return t}setRescaleSlopeAndIntercept(e,t){if(z(this,m0,u(this,m0)&&e.isID()),u(this,S0)){if(!u(this,Dl).equals(e))if(t===void 0)z(this,Dl,e);else{z(this,S0,!1),z(this,ha,[]);for(let r=0,i=Q(this,Fa,e4).call(this);r<i;++r)u(this,ha).push(u(this,Dl));z(this,Dl,null),u(this,ha).splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");u(this,ha).splice(t,0,e)}}isIdentityRSI(){return u(this,m0)}isConstantRSI(){return u(this,S0)}getPhotometricInterpretation(){return u(this,y0)}setPhotometricInterpretation(e){z(this,y0,e)}setPaletteColourMap(e){z(this,xl,e),u(this,Vo).call(this,{type:"imagecontentchange"})}getPaletteColourMap(){return u(this,xl)}updatePaletteColourMap(e,t){u(this,xl).red[e]=t.r,u(this,xl).green[e]=t.g,u(this,xl).blue[e]=t.b,u(this,Vo).call(this,{type:"imagecontentchange"})}getPlanarConfiguration(){return u(this,xp)}setPlanarConfiguration(e){z(this,xp,e)}getNumberOfComponents(){return u(this,Bn)}getMeta(){return u(this,Xn)}setMeta(e){z(this,Xn,e)}getValueAtOffset(e){return u(this,Bt)[e]}getOffsets(e){let t;if(typeof e=="number"){if(u(this,Bn)!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(u(this,Bn)!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const r=[];let i;for(let o=0;o<u(this,Bt).length;o+=u(this,Bn)){i=!0;for(let l=0;l<u(this,Bn);++l)if(u(this,Bt)[o+l]!==t[l]){i=!1;break}i&&r.push(o)}return r}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let h=0;h<e.length;++h)u(this,Bn)===1?t.push([e[h]]):u(this,Bn)===3&&t.push([e[h].r,e[h].g,e[h].b]);let r;u(this,Bn)===1?r=function(h,f){return h[0]===f[0]}:u(this,Bn)===3&&(r=function(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]});const i=function(h){return function(f){return r(f,h)}},o=new Array(e.length);o.fill(!1);const l=t.slice();let s,d;for(let h=0,f=u(this,Bt).length;h<f;h+=u(this,Bn)){d=[];for(let m=0;m<l.length;++m){s=!0;for(let v=0;v<u(this,Bn);++v)if(u(this,Bt)[h+v]!==l[m][v]){s=!1;break}s&&(o[t.findIndex(i(l[m]))]=!0,d.push(m))}for(let m=0;m<d.length;++m)l.splice(d[m],1);if(l.length===0)break}return o}clone(){const e=u(this,Bt).slice(0),t=new Dw(this.getGeometry(),e,u(this,Ii));if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let r=0;r<Q(this,Fa,e4).call(this);++r)t.setRescaleSlopeAndIntercept(Q(this,Fa,GI).call(this,r),r);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setMeta(this.getMeta()),t}appendSlice(e){if(e===null)throw new Error("Cannot append null slice");const t=e.getGeometry().getSize();let r=u(this,An).getSize();if(t.get(2)!==1)throw new Error("Cannot append more than one slice");if(r.get(0)!==t.get(0))throw new Error("Cannot append a slice with different number of columns");if(r.get(1)!==t.get(1))throw new Error("Cannot append a slice with different number of rows");if(!u(this,An).getOrientation().isSimilar(e.getGeometry().getOrientation(),Ey))throw new Error("Cannot append a slice with different orientation");if(u(this,y0)!==e.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const b in u(this,Xn))if(b!=="windowPresets"&&b!=="numberOfFiles"&&b!=="custom"&&b!=="ImageOrientationPatient"&&u(this,Xn)[b]!==e.getMeta()[b])throw new Error("Cannot append a slice with different "+b+": "+u(this,Xn)[b]+" != "+e.getMeta()[b]);const i=e.getDataRange(),o=this.getDataRange();z(this,Tl,{min:Math.min(i.min,o.min),max:Math.max(i.max,o.max)});const l=e.getRescaledDataRange(),s=this.getRescaledDataRange();z(this,Pl,{min:Math.min(l.min,s.min),max:Math.max(l.max,s.max)});const d=e.getGeometry().getInitialTime();let h=!1;d===void 0||u(this,An).hasSlicesAtTime(d)||(this.appendFrame(d,e.getGeometry().getOrigin()),r=u(this,An).getSize(),h=!0);const f=function(b,w){const T=w.getInitialTime(),P=[];return P.push(0),P.push(0),P.push(b.getSliceIndex(w.getOrigin(),T)),T!==void 0&&P.push(T),new Ot(P)}(u(this,An),e.getGeometry()),m=u(this,Bn)*r.getDimSize(2);if(u(this,Xn).numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const v=m*u(this,Xn).numberOfFiles;u(this,Bt).length!==v&&Q(this,Fa,t4).call(this,v);const g=f.get(2);let S=g;d!==void 0&&(S+=u(this,An).getCurrentNumberOfSlicesBeforeTime(d));const y=S*m,C=u(this,An).getCurrentTotalNumberOfSlices()*m;y<C&&u(this,Bt).set(u(this,Bt).subarray(y,C),y+m),u(this,Bt).set(e.getBuffer(),y),h||u(this,An).appendOrigin(e.getGeometry().getOrigin(),g,d),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),S);const x=u(this,Ii).length;if(u(this,Ii).splice(S,0,e.getImageUid()),u(this,Xn).windowPresets!==void 0){const b=u(this,Xn).windowPresets,w=e.getMeta().windowPresets,T=Object.keys(w);let P=null;for(let A=0;A<T.length;++A){P=T[A];const F=w[P],E=b[P];if(E!==void 0){if((E.perslice===void 0||E.perslice===!1)&&!E.wl[0].equals(F.wl[0])){E.perslice=!0;for(let k=0;k<x-1;++k)E.wl.push(E.wl[0])}E.perslice!==void 0&&E.perslice===!0&&b[P].wl.splice(S,0,F.wl[0])}else b[P]=w[P]}}u(this,Vo).call(this,{type:"imagegeometrychange"})}appendFrameBuffer(e,t){const r=u(this,An).getSize(),i=u(this,Bn)*r.getDimSize(2);if(u(this,Xn).numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=i*u(this,Xn).numberOfFiles;u(this,Bt).length!==o&&Q(this,Fa,t4).call(this,o),t>=u(this,Xn).numberOfFiles?Pe.warn("Ignoring frame at index "+t+" (size: "+u(this,Xn).numberOfFiles+")"):(u(this,Bt).set(e,i*t),this.appendFrame(t,new Gt(0,0,0)))}appendFrame(e,t){u(this,An).appendFrame(t,e),u(this,Vo).call(this,{type:"appendframe"})}getDataRange(){return u(this,Tl)||z(this,Tl,this.calculateDataRange()),u(this,Tl)}getRescaledDataRange(){return u(this,Pl)||z(this,Pl,this.calculateRescaledDataRange()),u(this,Pl)}getHistogram(){if(!u(this,v0)){const e=this.calculateHistogram();z(this,Tl,e.dataRange),z(this,Pl,e.rescaledDataRange),z(this,v0,e.histogram)}return u(this,v0)}addEventListener(e,t){u(this,C0).add(e,t)}removeEventListener(e,t){u(this,C0).remove(e,t)}setAtOffsets(e,t){let r,i;if(typeof t=="number"){if(u(this,Bn)!==1)throw new Error("Number of components is not 1 for setting single value.");r=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(u(this,Bn)!==3)throw new Error("Number of components is not 3 for setting RGB value.");r=[t.r,t.g,t.b]}for(let o=0,l=e.length;o<l;++o){i=e[o];for(let s=0;s<u(this,Bn);++s)u(this,Bt)[i+s]=r[s]}u(this,Vo).call(this,{type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(e,t){const r=[];for(let i=0;i<e.length;++i){const o=e[i];let l=o[0],s=u(this,Bt)[l];const d=[];d.push({index:0,value:s});for(let h=0;h<o.length;++h){l=o[h];const f=u(this,Bt)[l];s!==f&&(d.push({index:h,value:f}),s=f),u(this,Bt)[l]=t}r.push(d)}return u(this,Vo).call(this,{type:"imagecontentchange"}),r}setAtOffsetsWithIterator(e,t){const r=Array.isArray(t);for(let i=0;i<e.length;++i){const o=e[i];let l;l=DV(r?t[i]:[{index:0,value:t}],o.length);let s=l.next();for(;!s.done;){const d=o[s.index];u(this,Bt)[d]=s.value,s=l.next()}}u(this,Vo).call(this,{type:"imagecontentchange"})}getValue(e,t,r,i){const o=new Ot([e,t,r,i||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(o))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,r,i){i===void 0&&(i=0);let o=this.getValue(e,t,r,i);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const l=new Ot([e,t,r,i]);o=this.getRescaleSlopeAndIntercept(l).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const r=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(r).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,r=0;const i=this.getGeometry().getSize();let o=i.getTotalSize();i.length()>=3&&(o=i.getDimSize(3));for(let l=0;l<o;++l)r=this.getValueAtOffset(l),r>t&&(t=r),r<e&&(e=r);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),r=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<r?t:r,max:t>r?t:r}}{let e=this.getRescaledValueAtOffset(0),t=e,r=0;const i=this.getGeometry().getSize();let o=i.getTotalSize();i.length()===3&&(o=i.getDimSize(3));for(let l=0;l<o;++l)r=this.getRescaledValueAtOffset(l),r>t&&(t=r),r<e&&(e=r);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let r=this.getValueAtOffset(0),i=r,o=0,l=this.getRescaledValueAtOffset(0),s=l,d=0;for(let v=0,g=e.getTotalSize();v<g;++v)o=this.getValueAtOffset(v),o>i&&(i=o),o<r&&(r=o),d=this.getRescaledValueAtOffset(v),d>s&&(s=d),d<l&&(l=d),t[d]=(t[d]||0)+1;const h={min:r,max:i},f={min:l,max:s},m=[];for(let v=l;v<=s;++v)m.push([v,t[v]||0]);return{dataRange:h,rescaledDataRange:f,histogram:m}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),r=t.getBuffer(),i=this.getGeometry().getSize(),o=i.getDimSize(2)*this.getNumberOfComponents();for(let l=0;l<i.get(2);++l)this.convoluteBuffer(e,r,l*o);return t}convoluteBuffer(e,t,r){const i=this.getGeometry().getSize(),o=i.get(0),l=i.get(1),s=this.getNumberOfComponents();let d=1,h=1;s===3&&(this.getPlanarConfiguration()===0?d=3:h=i.getDimSize(2));const f=[];f[0]=(-o-1)*d,f[1]=-o*d,f[2]=(1-o)*d,f[3]=-d,f[4]=0,f[5]=1*d,f[6]=(o-1)*d,f[7]=o*d,f[8]=(o+1)*d;const m=[];m[0]=f[4],m[1]=f[4],m[2]=f[5],m[3]=f[4],m[4]=f[4],m[5]=f[5],m[6]=f[7],m[7]=f[7],m[8]=f[8];const v=[];v[0]=f[1],v[1]=f[1],v[2]=f[2],v[3]=f[4],v[4]=f[4],v[5]=f[5],v[6]=f[7],v[7]=f[7],v[8]=f[8];const g=[];g[0]=f[1],g[1]=f[1],g[2]=f[2],g[3]=f[4],g[4]=f[4],g[5]=f[5],g[6]=f[4],g[7]=f[4],g[8]=f[5];const S=[];S[0]=f[3],S[1]=f[4],S[2]=f[5],S[3]=f[3],S[4]=f[4],S[5]=f[5],S[6]=f[6],S[7]=f[7],S[8]=f[8];const y=[];y[0]=f[0],y[1]=f[1],y[2]=f[2],y[3]=f[3],y[4]=f[4],y[5]=f[5],y[6]=f[3],y[7]=f[4],y[8]=f[5];const C=[];C[0]=f[3],C[1]=f[4],C[2]=f[4],C[3]=f[3],C[4]=f[4],C[5]=f[4],C[6]=f[6],C[7]=f[7],C[8]=f[7];const x=[];x[0]=f[0],x[1]=f[1],x[2]=f[1],x[3]=f[3],x[4]=f[4],x[5]=f[4],x[6]=f[6],x[7]=f[7],x[8]=f[7];const b=[];b[0]=f[0],b[1]=f[1],b[2]=f[1],b[3]=f[3],b[4]=f[4],b[5]=f[4],b[6]=f[3],b[7]=f[4],b[8]=f[4];let w=r,T=0,P=[];for(let A=0;A<s;++A){w+=A*h;for(let F=0;F<l;++F)for(let E=0;E<o;++E){P=f,E===0&&F===0?P=m:E===0&&F===l-1?P=g:E===o-1&&F===0?P=C:E===o-1&&F===l-1?P=b:E===0&&F!==l-1&&F!==0?P=v:E===o-1&&F!==l-1&&F!==0?P=x:E!==0&&E!==o-1&&F===0?P=S:E!==0&&E!==o-1&&F===l-1&&(P=y),T=0;for(let k=0;k<9;++k)T+=this.getValueAtOffset(w+P[k])*e[k];t[w]=T,w+=d}}}transform(e){const t=this.clone(),r=t.getBuffer();for(let i=0,o=r.length;i<o;++i)r[i]=e(t.getValueAtOffset(i));return t}compose(e,t){const r=this.clone(),i=r.getBuffer();for(let o=0,l=i.length;o<l;++o)i[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return r}recalculateLabels(){if(u(this,Il)===null){z(this,Il,new hG);const e=u(this,An).getSpacing(),t=this.getMeta().lengthUnit;let r=1,i="unit.pixel";t==="unit.mm"&&(r=e.get(0)*e.get(1)*e.get(2)*.001,i="unit.ml"),u(this,Il).ondone=o=>{const l=o.data.labels;for(const d of l)d.centroid=u(this,An).indexToWorld(new Ot(d.centroidIndex)),d.volume=d.count*r,d.unit=i;const s=l.sort((d,h)=>h.volume-d.volume).sort((d,h)=>d.id-h.id);u(this,Vo).call(this,{type:"labelschanged",labels:s})}}u(this,Il).run(u(this,Bt),u(this,An).getSize())}};An=new WeakMap,Bt=new WeakMap,Ii=new WeakMap,Dl=new WeakMap,ha=new WeakMap,m0=new WeakMap,S0=new WeakMap,y0=new WeakMap,xl=new WeakMap,xp=new WeakMap,Bn=new WeakMap,Xn=new WeakMap,Tl=new WeakMap,Pl=new WeakMap,v0=new WeakMap,C0=new WeakMap,Il=new WeakMap,Fa=new WeakSet,e4=function(){return u(this,An).getSize().getTotalSize(2)},GI=function(e){return u(this,ha)[e]},t4=function(e){let t=u(this,Bt);if(z(this,Bt,GV(8*u(this,Bt).BYTES_PER_ELEMENT,u(this,Xn).PixelRepresentation,e)),u(this,Bt)===null)throw new Error("Cannot reallocate data for image.");u(this,Bt).set(t),t=null},Vo=new WeakMap;let od=Dw;var ls,fa,cc,xr,Li;class QI{constructor(e,t){G(this,ls);G(this,fa);G(this,cc);G(this,xr);G(this,Li);z(this,ls,e),z(this,fa,e.getRealSpacing()),z(this,cc,e.getOrientation()),z(this,xr,t),z(this,Li,function(r,i){let o=r.asOneAndZeros().multiply(i);return r.asOneAndZeros().getAbs().isSimilar(CI().getAbs())&&(o=o.getAbs()),o}(u(this,cc),t))}getViewOrientation(){return u(this,xr)}getTargetOrientation(){return u(this,Li)}getOffset3DFromPlaneOffset(e){const t=new un(e.x,e.y,0),r=this.getTargetDeOrientedVector3D(t);return new un(r.getX()*u(this,fa).get(0),r.getY()*u(this,fa).get(1),r.getZ()*u(this,fa).get(2))}getPlaneOffsetFromOffset3D(e){const t=new un(e.x/u(this,fa).get(0),e.y/u(this,fa).get(1),e.z/u(this,fa).get(2)),r=this.getTargetOrientedVector3D(t);return{x:r.getX(),y:r.getY()}}getTargetOrientedVector3D(e){let t=e;return u(this,Li)!==void 0&&(t=u(this,Li).getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return u(this,Li)!==void 0&&(t=u(this,Li).multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return u(this,Li)!==void 0&&(t=u(this,Li).multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(u(this,xr)!==void 0){const r=Jx([e.getX(),e.getY(),e.getZ()],u(this,xr));t=new un(r[0],r[1],r[2])}return t}getImageOrientedPoint3D(e){let t=e;if(u(this,xr)!==void 0){const r=Jx([e.getX(),e.getY(),e.getZ()],u(this,xr));t=new Gt(r[0],r[1],r[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(u(this,xr)!==void 0){const r=K1([e.getX(),e.getY(),e.getZ()],u(this,xr));t=new un(r[0],r[1],r[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(u(this,xr)!==void 0){const r=K1([e.getX(),e.getY(),e.getZ()],u(this,xr));t=new Gt(r[0],r[1],r[2])}return t}getPositionFromPlanePoint(e,t){const r=new Gt(e.getX(),e.getY(),t),i=this.getImageOrientedPoint3D(r);return u(this,ls).pointToWorld(i)}getPlanePointFromPosition(e){const t=u(this,ls).worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=u(this,Li)).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),r=this.indexToWorld(t),i=this.getPlanePointFromPosition(r),o=this.getPositionFromPlanePoint(new Le(0,0),i.getZ()),l=u(this,ls).getOrigins(),s=l[o.getClosest(l)],d=o.getValues(),h=s.getValues(),f=this.getNativeScrollDimIndex();d[f]=h[f];const m=this.getCosines();return[new Gt(d[0],d[1],d[2]),new Gt(m[0],m[1],m[2]),new Gt(m[3],m[4],m[5])]}worldToIndex(e){return u(this,ls).worldToIndex(e)}indexToWorld(e){return u(this,ls).indexToWorld(e)}isAquisitionOrientation(){return S2(u(this,xr))}getTargetOrientedPositiveXYZ(e){const t=K1([e.x,e.y,e.z],u(this,Li));return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=u(this,xr)!==void 0?u(this,xr).getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=u(this,cc)!==void 0?u(this,cc).getThirdColMajorDirection():2,e}}ls=new WeakMap,fa=new WeakMap,cc=new WeakMap,xr=new WeakMap,Li=new WeakMap;var w0;class fG{constructor(e){G(this,w0);z(this,w0,e)}getCurrentPosition(){return u(this,w0).getCurrentPosition()}setCurrentPosition(e,t){let r=!1;return e!==void 0&&(r=u(this,w0).setCurrentPosition(e,t)),r}}w0=new WeakMap;var b0,Zr,io;class BT{constructor(e){G(this,b0);G(this,Zr);G(this,io);z(this,b0,new fG(e)),z(this,Zr,e.getImage().getGeometry()),z(this,io,e.getScrollDimIndex())}getGeometry(){return u(this,Zr)}getScrollDimIndex(){return u(this,io)}getMaximumDimValue(e){return u(this,Zr).getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(u(this,io))}getCurrentPosition(){return u(this,b0).getCurrentPosition()}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(u(this,io))}getCurrentPositionAtDimValue(e,t){const r=this.getCurrentIndex().getValues();return r[e]=t,u(this,Zr).indexToWorld(new Ot(r))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(u(this,io),e)}getCurrentIndex(){return u(this,Zr).worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let r=!1;return e!==void 0&&(r=u(this,b0).setCurrentPosition(e,t)),r}setCurrentPositionSafe(e,t){let r=!1;return this.isPositionInBounds(e)&&(r=this.setCurrentPosition(e,t)),r}merge(e){if(u(this,io)!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");z(this,Zr,function(t,r){const i=t.getOrientation();if(!i.isSimilar(r.getOrientation()))throw new Error("Cannot merge geometries with different orientation");const o=i.getInverse(),l=function(b,w){return b.map((T,P)=>Math.min(T,w[P]))},s=new hu(l(t.getSpacing().getValues(),r.getSpacing().getValues())),d=function(b){return o.multiplyPoint3D(b.get3D())},h=t.getRange().map(d),f=r.getRange().map(d),m=l(h[0].getValues(),f[0].getValues()),v=(g=h[1].getValues(),S=f[1].getValues(),g.map((b,w)=>Math.max(b,S[w])));var g,S;const y=[];for(let b=0;b<m.length;++b)y.push(Math.round(Math.abs(v[b]-m[b])/s.get(b)));const C=new Gs(y),x=[];for(let b=0;b<C.get(2);++b){const w=m.slice();w[2]=m[2]+b*s.get(2);const T=new Gt(w[0],w[1],w[2]);x.push(i.multiplyPoint3D(T))}return new fu(x,C,s,i)}(u(this,Zr),e.getGeometry()))}isPositionInBounds(e){const t=u(this,Zr).worldToIndex(e),r=[u(this,io)];return t.length()===4&&r.push(3),u(this,Zr).isIndexInBounds(t,r)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return u(this,Zr).indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return u(this,Zr).indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(u(this,io))}decrementPositionAlongScroll(){return this.decrementPosition(u(this,io))}}b0=new WeakMap,Zr=new WeakMap,io=new WeakMap;var Ke,Go,us,cs,Tp,Pp,n4;class pG{constructor(e){G(this,Pp);G(this,Ke);G(this,Go);G(this,us);G(this,cs);G(this,Tp,!1);if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");z(this,Ke,e),z(this,Go,new QI(e.getImage().getGeometry(),e.getOrientation())),z(this,us,new BT(e)),e.getImage().getMeta().Modality==="SEG"&&z(this,Tp,!0)}getPlaneHelper(){return u(this,Go)}isMask(){return u(this,Tp)}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new Le(0,0)))}getModality(){return u(this,Ke).getImage().getMeta().Modality}getSopClassUid(){return u(this,Ke).getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return u(this,Ke).getWindowPresetsNames()}addWindowLevelPresets(e){return u(this,Ke).addWindowPresets(e)}setWindowLevelPreset(e){u(this,Ke).setWindowLevelPreset(e)}setWindowLevelPresetById(e){u(this,Ke).setWindowLevelPresetById(e)}isPlaying(){return u(this,cs)!==void 0}getPositionHelper(){return u(this,us)}getPositionHelperClone(){return new BT(u(this,Ke))}getCurrentPosition(){return u(this,us).getCurrentPosition()}getCurrentIndex(){return u(this,us).getCurrentIndex()}getCurrentImageUid(){return u(this,Ke).getCurrentImageUid()}getOriginForImageUid(e){return u(this,Ke).getOriginForImageUid(e)}includesImageUid(e){return u(this,Ke).includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(u(this,Ke).getOrientation()!==void 0){const t=u(this,Go).getImageDeOrientedVector3D(new un(e.get(0),e.get(1),e.get(2)));e=new Ot([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return u(this,Ke).getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(u(this,Ke).getScrollDimIndex())}getOrigin(e){return u(this,Ke).getOrigin(e)}isAquisitionOrientation(){return u(this,Ke).isAquisitionOrientation()}getPlanePoints(e){return u(this,Go).getPlanePoints(e)}getCurrentScrollPosition(){const e=u(this,Ke).getScrollDimIndex();return u(this,Ke).getCurrentPosition().get(e)}generateImageData(e,t){u(this,Ke).generateImageData(e,t)}setImage(e){u(this,Ke).setImage(e)}get2DSpacing(){return u(this,Ke).getImage().getGeometry().getSpacing(u(this,Ke).getOrientation()).get2D()}getRescaledImageValue(e){const t=u(this,Ke).getImage();if(!t.canQuantify())return;const r=t.getGeometry(),i=r.worldToIndex(e);let o;return r.isIndexInBounds(i)&&(o=t.getRescaledValueAtIndex(i)),o}getPixelUnit(){return u(this,Ke).getImage().getMeta().pixelUnit}getLengthUnit(){return u(this,Ke).getImage().getMeta().lengthUnit}getImageRegionValues(e,t,r){let i=u(this,Ke).getImage();const o=u(this,Ke).getOrientation();let l=r,s=!0;S2(o)||(i=Q(this,Pp,n4).call(this,i,l,s,o),l=new Ot([0,0,0]),s=!1);const d=function(f,m,v,g,S){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());v===void 0&&(v=!1);let y=null;y=v?function(T){return f.getRescaledValueAtOffset(T)}:function(T){return f.getValueAtOffset(T)};const C=f.getGeometry().getSize();g===void 0&&(g=new Le(0,0)),S===void 0&&(S=new Le(C.get(0)-1,C.get(1)));const x=C.indexToOffset(m.getWithNew2D(g.getX(),g.getY())),b=C.indexToOffset(m.getWithNew2D(S.getX(),S.getY()-1)),w=Math.max(1,S.getX()-g.getX());return function(T,P,A,F,E,k){let L=P,U=0;return{next:function(){if(L<A){const N={value:T(L),done:!1,index:L};return U+=1,L+=1,U===E&&(U=0,L+=k),N}return{done:!0,index:A}}}}(y,x,b+1,0,w,C.get(0)-w)}(i,l,s,e,t);let h=[];return d&&(h=Z5(d)),h}getImageVariableRegionValues(e,t){let r=u(this,Ke).getImage();const i=u(this,Ke).getOrientation();let o=t,l=!0;S2(i)||(r=Q(this,Pp,n4).call(this,r,o,l,i),o=new Ot([0,0,0]),l=!1);const s=function(h,f,m,v){if(h.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+h.getNumberOfComponents());m===void 0&&(m=!1);let g=null;g=m?function(T){return h.getRescaledValueAtOffset(T)}:function(T){return h.getValueAtOffset(T)};const S=h.getGeometry().getSize(),y=[];let C,x=null,b=null,w=null;for(let T=0;T<v.length;++T){C=v[T];const P=C[1][0]-C[0][0];P!==0&&(w=T,x||(x=C[0]),y.push([C[0][0],P,S.get(0)-C[1][0]]))}if(w!==null&&(b=v[w][1]),y.length!==0)return function(T,P,A,F,E){let k=P,L=0,U=0;return{next:function(){if(k<A){const N={value:T(k),done:!1,index:k};return U+=1,k+=1,U===E[L][1]&&(U=0,k+=E[L][2],L+=1,L<E.length&&(k+=E[L][0])),N}return{done:!0,index:A}}}}(g,S.indexToOffset(f.getWithNew2D(x[0],x[1])),S.indexToOffset(f.getWithNew2D(b[0],b[1]))+1,0,y)}(r,o,l,e);let d=[];return s&&(d=Z5(s)),d}canQuantifyImage(){return u(this,Ke).getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return u(this,Ke).getImage().isMonochrome()}canScroll(){return u(this,Ke).getImage().canScroll(u(this,Ke).getOrientation())}getImageSize(){return u(this,Ke).getImage().getGeometry().getSize(u(this,Ke).getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=u(this,Ke).getImage().getGeometry(),t=e.getSize(u(this,Ke).getOrientation()).get2D(),r=e.getSpacing(u(this,Ke).getOrientation()).get2D();return{x:t.x*r.x,y:t.y*r.y}}getImageRescaledDataRange(){return u(this,Ke).getImage().getRescaledDataRange()}equalImageMeta(e){const t=u(this,Ke).getImage().getMeta(),r=Object.keys(e);for(let i=0;i<r.length;++i){const o=r[i];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return u(this,Ke).isPositionInBounds(e)}setCurrentPosition(e,t){return u(this,Ke).setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const r=new Gt(e.getX(),e.getY(),t),i=u(this,Go).getImageOrientedPoint3D(r),o=u(this,Ke).getImage().getGeometry().pointToWorld(i);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=u(this,Ke).getImage().getGeometry().worldToPoint(e),r=u(this,Go).getImageDeOrientedPoint3D(t);return new Le(r.getX(),r.getY())}getIndexFromPosition(e){return u(this,Ke).getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return u(this,Ke).setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),r=new Gt(e.getX(),e.getY(),t),i=u(this,Go).getTargetDeOrientedPoint3D(r),o=u(this,Ke).getImage().getGeometry().getRealSpacing();return new Gt(i.getX()*o.get(0),i.getY()*o.get(1),i.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return u(this,Go).getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(u(this,cs)===void 0){const e=u(this,Ke).getImage(),t=e.getMeta().RecommendedDisplayFrameRate,r=u(this,Ke).getPlaybackMilliseconds(t),i=e.getGeometry().getSize().canScroll3D();z(this,cs,window.setInterval(()=>{let o=!1;if(o=i?u(this,us).incrementPositionAlongScroll():u(this,us).incrementPosition(3),!o){const l=this.getCurrentIndex().getValues(),s=u(this,Ke).getOrientation();i?l[s.getThirdColMajorDirection()]=0:l[3]=0;const d=new Ot(l),h=u(this,Ke).getImage().getGeometry();this.setCurrentPosition(h.indexToWorld(d))}},r))}else this.stop()}stop(){u(this,cs)!==void 0&&(clearInterval(u(this,cs)),z(this,cs,void 0))}getWindowLevel(){return u(this,Ke).getWindowLevel()}getCurrentWindowPresetName(){return u(this,Ke).getCurrentWindowPresetName()}setWindowLevel(e){u(this,Ke).setWindowLevel(e)}getColourMap(){return u(this,Ke).getColourMap()}setColourMap(e){u(this,Ke).setColourMap(e)}setViewAlphaFunction(e){u(this,Ke).setAlphaFunction(e)}bindImageAndLayer(e){const t=u(this,Ke).getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange)}unbindImageAndLayer(e){const t=u(this,Ke).getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange)}}Ke=new WeakMap,Go=new WeakMap,us=new WeakMap,cs=new WeakMap,Tp=new WeakMap,Pp=new WeakSet,n4=function(e,t,r,i){const o=Z5(yI(e,t,r,i)),l=e.getGeometry().getSize(i).getValues();l[2]=1;const s=new Gs(l),d=e.getGeometry().getSpacing(i).getValues();d[2]=1;const h=new hu(d),f=new Gt(0,0,0),m=new fu([f],s,h);return new od(m,o)};const Hh=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function qT(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let i=n[0].target.offsetParent;for(;i;)isNaN(i.offsetLeft)||(e+=i.offsetLeft),isNaN(i.offsetTop)||(t+=i.offsetTop),i=i.offsetParent}else Pe.debug("No touch target offset parent.");const r=[];for(let i=0;i<n.length;++i)r.push(new Le(n[i].pageX-e,n[i].pageY-t));return r}function Yr(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=qT(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=qT(n.changedTouches)),e}function Nn(n){return new Le(n.offsetX,n.offsetY)}function VT(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const r=document.createElement("canvas");r.width=1,r.height=1;const i=t.getContext("2d"),o=r.getContext("2d");return i&&(i.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}var Jr,sn,Kn,Ll,kr,ds,dc,Ri,D0,hs,wn,ei,oo,Mt,ti,Rl,Zn,x0,ni,Ai,fs,T0,Ip,P0,I0,gu,ES,ps,zI,R2,A2,O2,E2;class br{constructor(e){G(this,gu);G(this,Jr);G(this,sn,null);G(this,Kn,null);G(this,Ll,null);G(this,kr,null);G(this,ds,!0);G(this,dc,null);G(this,Ri);G(this,D0);G(this,hs,1);G(this,wn,{x:1,y:1});G(this,ei,{x:1,y:1});G(this,oo,{x:1,y:1,z:1});G(this,Mt,{x:0,y:0});G(this,ti,{x:0,y:0});G(this,Rl,{x:0,y:0});G(this,Zn,{x:0,y:0});G(this,x0,{x:0,y:0});G(this,ni,{x:0,y:0});G(this,Ai,null);G(this,fs);G(this,T0,new Bi);G(this,Ip,!1);G(this,P0);G(this,I0);ae(this,"onimageset",e=>{u(this,fs)===e.dataid&&(u(this,sn).setImage(e.value[0]),Q(this,gu,ES).call(this,u(this,sn).getImageSize().get2D()),z(this,Ai,!0))});ae(this,"onimagecontentchange",e=>{u(this,fs)===e.dataid&&(z(this,ds,u(this,sn).isPositionInBounds()),z(this,Ai,!0),this.draw())});ae(this,"onimagegeometrychange",e=>{if(u(this,fs)===e.dataid){const t=u(this,sn).getImageSize().get2D();if(u(this,Ri).x!==t.x||u(this,Ri).y!==t.y){if(u(this,P0)!==void 0&&u(this,I0)!==void 0){const r=u(this,sn).getOrigin(),i=u(this,I0).minus(r),o=u(this,sn).getOrigin(u(this,sn).getCurrentPosition()),l=u(this,P0).minus(o);this.setBaseOffset(i,l)}Q(this,gu,ES).call(this,t),z(this,Ai,!0),this.draw()}}});G(this,ps,e=>{e.srclayerid=this.getId(),e.dataid=u(this,fs),u(this,T0).fireEvent(e)});G(this,R2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,Ai,!0),this.draw())});G(this,A2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,Ai,!0),this.draw())});G(this,O2,e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const r=[0,1,2],i=r.indexOf(u(this,sn).getScrollDimIndex());r.splice(i,1),e.diffDims.filter(function(o){return r.indexOf(o)===-1}).length===0&&u(this,ds)||(z(this,ds,!0),z(this,Ai,!0),this.draw())}else u(this,ds)&&(z(this,ds,!1),this.clear())}});G(this,E2,e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(z(this,Ai,!0),this.draw())});z(this,Jr,e),u(this,Jr).className+=" viewLayer"}getDataId(){return u(this,fs)}getScale(){return u(this,wn)}getAbsoluteZoomOffset(){return{x:u(this,Zn).x*u(this,ei).x,y:u(this,Zn).y*u(this,ei).y}}setImageSmoothing(e){z(this,Ip,e)}setView(e,t){z(this,fs,t),e.addEventListener("wlchange",u(this,R2)),e.addEventListener("colourmapchange",u(this,A2)),e.addEventListener("positionchange",u(this,O2)),e.addEventListener("alphafuncchange",u(this,E2));for(let r=0;r<Wh.length;++r)e.addEventListener(Wh[r],u(this,ps));z(this,sn,new pG(e)),this.bindImage()}getViewController(){return u(this,sn)}getImageData(){return u(this,dc)}bindImage(){u(this,sn)&&u(this,sn).bindImageAndLayer(this)}unbindImage(){u(this,sn)&&u(this,sn).unbindImageAndLayer(this)}getId(){return u(this,Jr).id}removeFromDOM(){u(this,Jr).remove()}getBaseSize(){return u(this,Ri)}getImageWorldSize(){return u(this,sn).getImageWorldSize()}getOpacity(){return u(this,hs)}setOpacity(e){if(e===u(this,hs))return;z(this,hs,Math.min(Math.max(e,0),1));const t={type:"opacitychange",value:[u(this,hs)]};u(this,ps).call(this,t)}addFlipOffsetX(){u(this,ni).x+=u(this,Kn).width/u(this,wn).x,u(this,Mt).x+=u(this,ni).x}addFlipOffsetY(){u(this,ni).y+=u(this,Kn).height/u(this,wn).y,u(this,Mt).y+=u(this,ni).y}flipScaleX(){u(this,oo).x*=-1}flipScaleY(){u(this,oo).y*=-1}flipScaleZ(){u(this,oo).z*=-1}setScale(e,t){const r=u(this,sn).getPlaneHelper(),i=r.getTargetOrientedPositiveXYZ({x:e.x*u(this,oo).x,y:e.y*u(this,oo).y,z:e.z*u(this,oo).z}),o={x:u(this,ei).x*i.x,y:u(this,ei).y*i.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:u(this,Mt).x-u(this,Zn).x,y:u(this,Mt).y-u(this,Zn).y};z(this,Zn,{x:0,y:0}),z(this,Mt,l)}else if(t!==void 0){let l=r.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+u(this,ti).x,y:l.y+u(this,ti).y};const s=mR(u(this,Mt),u(this,wn),o,l),d={x:u(this,Zn).x+s.x-u(this,Mt).x,y:u(this,Zn).y+s.y-u(this,Mt).y};z(this,Zn,d),z(this,Mt,s)}z(this,wn,o)}initScale(e,t){const r=u(this,sn).getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*u(this,oo).x,y:e.y*u(this,oo).y,z:e.z*u(this,oo).z}),i={x:u(this,ei).x*r.x,y:u(this,ei).y*r.y};z(this,wn,i),z(this,Zn,{x:t.x/u(this,ei).x,y:t.y/u(this,ei).y}),z(this,Mt,{x:u(this,Mt).x+u(this,Zn).x,y:u(this,Mt).y+u(this,Zn).y})}setBaseOffset(e,t,r,i){const o=u(this,sn).getPlaneHelper(),l=o.getNativeScrollDimIndex(),s=o.getPlaneOffsetFromOffset3D({x:l===0?e.getX():t.getX(),y:l===1?e.getY():t.getY(),z:l===2?e.getZ():t.getZ()}),d=u(this,ti).x!==s.x||u(this,ti).y!==s.y;return r!==void 0&&i!==void 0&&(z(this,P0,r),z(this,I0,i)),d&&(z(this,Mt,{x:u(this,Mt).x-u(this,ti).x+s.x,y:u(this,Mt).y-u(this,ti).y+s.y}),z(this,ti,s)),d}setOffset(e){const t=u(this,sn).getPlaneHelper().getPlaneOffsetFromOffset3D(e);z(this,Mt,{x:u(this,Mt).x-u(this,x0).x+t.x,y:u(this,Mt).y-u(this,x0).y+t.y}),z(this,x0,t)}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new Ot([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new Le(e.getX()/u(this,wn).x,e.getY()/u(this,wn).y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new Le(t.getX()+u(this,Mt).x,t.getY()+u(this,Mt).y)}planePosToDisplay(e){let t=(e.getX()-u(this,Mt).x+u(this,ti).x)*u(this,wn).x,r=(e.getY()-u(this,Mt).y+u(this,ti).y)*u(this,wn).y;return(t<0||t>=u(this,Kn).width)&&(t=void 0),(r<0||r>=u(this,Kn).height)&&(r=void 0),new Le(t,r)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new Le(t.getX()-u(this,ti).x,t.getY()-u(this,ti).y)}display(e){u(this,Jr).style.display=e?"":"none"}isVisible(){return u(this,Jr).style.display===""}draw(){if(!u(this,ds))return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};u(this,ps).call(this,e),u(this,Ai)&&Q(this,gu,zI).call(this),u(this,kr).globalAlpha=u(this,hs),this.clear(),u(this,kr).setTransform(u(this,wn).x,0,0,u(this,wn).y,-1*u(this,Mt).x*u(this,wn).x,-1*u(this,Mt).y*u(this,wn).y),u(this,kr).imageSmoothingEnabled=u(this,Ip),u(this,kr).drawImage(u(this,Ll),0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},u(this,ps).call(this,e)}initialise(e,t,r){z(this,D0,t),z(this,hs,Math.min(Math.max(r,0),1)),z(this,Kn,document.createElement("canvas")),u(this,Jr).appendChild(u(this,Kn)),u(this,Kn).getContext?(z(this,kr,u(this,Kn).getContext("2d")),u(this,kr)?(z(this,Ll,document.createElement("canvas")),Q(this,gu,ES).call(this,e),z(this,Ai,!0)):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}fitToContainer(e,t,r){let i=!1;const o={x:t*u(this,D0).x,y:t*u(this,D0).y},l=o.x/u(this,ei).x,s=o.y/u(this,ei).y,d=e.x/(u(this,Kn).width*l),h=e.y/(u(this,Kn).height*s);if(u(this,Kn).width!==e.x||u(this,Kn).height!==e.y){if(!VT(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);u(this,Kn).width=e.x,u(this,Kn).height=e.y,i=!0}const f={x:u(this,wn).x*l,y:u(this,wn).y*s};u(this,wn).x===f.x&&u(this,wn).y===f.y||(z(this,ei,o),z(this,wn,f),i=!0);const m={x:r.x/o.x,y:r.y/o.y},v={x:e.x/o.x,y:e.y/o.y},g={x:u(this,ni).x!==0?v.x:0,y:u(this,ni).y!==0?v.y:0};if(u(this,Rl).x!==m.x||u(this,Rl).y!==m.y||u(this,ni).x!==g.x||u(this,ni).y!==g.y){const S={x:u(this,Zn).x*d,y:u(this,Zn).y*h};z(this,Mt,{x:u(this,Mt).x+m.x-u(this,Rl).x+g.x-u(this,ni).x+S.x-u(this,Zn).x,y:u(this,Mt).y+m.y-u(this,Rl).y+g.y-u(this,ni).y+S.y-u(this,Zn).y}),z(this,ni,g),z(this,Rl,m),z(this,Zn,S),i=!0}i&&this.draw()}bindInteraction(){u(this,Jr).style.pointerEvents="auto";const e=Hh;for(let t=0;t<e.length;++t){const r=e[t],i=r!=="wheel";u(this,Jr).addEventListener(r,u(this,ps),{passive:i})}}unbindInteraction(){u(this,Jr).style.pointerEvents="none";const e=Hh;for(let t=0;t<e.length;++t)u(this,Jr).removeEventListener(e[t],u(this,ps))}addEventListener(e,t){u(this,T0).add(e,t)}removeEventListener(e,t){u(this,T0).remove(e,t)}setCurrentPosition(e,t){return u(this,sn).setCurrentPosition(e)}clear(){u(this,kr).save(),u(this,kr).setTransform(1,0,0,1,0,0),u(this,kr).clearRect(0,0,u(this,Kn).width,u(this,Kn).height),u(this,kr).restore()}}Jr=new WeakMap,sn=new WeakMap,Kn=new WeakMap,Ll=new WeakMap,kr=new WeakMap,ds=new WeakMap,dc=new WeakMap,Ri=new WeakMap,D0=new WeakMap,hs=new WeakMap,wn=new WeakMap,ei=new WeakMap,oo=new WeakMap,Mt=new WeakMap,ti=new WeakMap,Rl=new WeakMap,Zn=new WeakMap,x0=new WeakMap,ni=new WeakMap,Ai=new WeakMap,fs=new WeakMap,T0=new WeakMap,Ip=new WeakMap,P0=new WeakMap,I0=new WeakMap,gu=new WeakSet,ES=function(e){if(!VT(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);z(this,Ri,e),u(this,Ll).width=u(this,Ri).x,u(this,Ll).height=u(this,Ri).y,u(this,kr).clearRect(0,0,u(this,Ri).x,u(this,Ri).y),z(this,dc,u(this,kr).createImageData(u(this,Ri).x,u(this,Ri).y))},ps=new WeakMap,zI=function(){u(this,sn).generateImageData(u(this,dc)),u(this,Ll).getContext("2d").putImageData(u(this,dc),0,0),z(this,Ai,!1)},R2=new WeakMap,A2=new WeakMap,O2=new WeakMap,E2=new WeakMap;var Oi,hc,L0,R0,Lp,fc;class J1{constructor(e){G(this,Oi);G(this,hc,{});G(this,L0,new Bi);G(this,R0);G(this,Lp);G(this,fc,e=>{u(this,L0).fireEvent(e)});z(this,Oi,e!==void 0?e:[]),z(this,R0,!0)}getList(){return u(this,Oi)}getLength(){return u(this,Oi).length}isEditable(){return u(this,R0)}setEditable(e){z(this,R0,e),u(this,fc).call(this,{type:"annotationgroupeditablechange",data:e})}getColour(){return u(this,Lp)}setColour(e){z(this,Lp,e)}add(e){u(this,Oi).push(e),u(this,fc).call(this,{type:"annotationadd",data:e})}update(e,t,r){const i=u(this,Oi).findIndex(o=>o.trackingUid===e.trackingUid);i!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),u(this,Oi)[i]=e,u(this,fc).call(this,{type:"annotationupdate",data:e,keys:t,propagate:r})):Pe.warn("Cannot find annotation to update")}remove(e){const t=u(this,Oi).findIndex(r=>r.trackingUid===e);if(t!==-1){const r=u(this,Oi).splice(t,1)[0];u(this,fc).call(this,{type:"annotationremove",data:r})}else Pe.warn("Cannot find annotation to remove")}setViewController(e){for(const t of u(this,Oi))t.setViewController(e),t.updateQuantification()}find(e){return u(this,Oi).find(t=>t.trackingUid===e)}getMeta(){return u(this,hc)}hasMeta(e){return u(this,hc)[e]!==void 0}getMetaValue(e){return u(this,hc)[e]}setMetaValue(e,t){u(this,hc)[e]=t}addEventListener(e,t){u(this,L0).add(e,t)}removeEventListener(e,t){u(this,L0).remove(e,t)}}Oi=new WeakMap,hc=new WeakMap,L0=new WeakMap,R0=new WeakMap,Lp=new WeakMap,fc=new WeakMap;var GT,oC,_e=(GT={default:function(){return aV}},oC={},Sr.d(oC,GT),oC),pc,A0;class kS{constructor(e,t){G(this,pc);G(this,A0);z(this,pc,e),z(this,A0,t)}getName(){return"AddAnnotation-"+u(this,pc).trackingUid}execute(){u(this,A0).addAnnotation(u(this,pc))}undo(){u(this,A0).removeAnnotation(u(this,pc).trackingUid)}}pc=new WeakMap,A0=new WeakMap;var gc,O0;class mw{constructor(e,t){G(this,gc);G(this,O0);z(this,gc,e),z(this,O0,t)}getName(){return"RemoveAnnotation-"+u(this,gc).trackingUid}execute(){u(this,O0).removeAnnotation(u(this,gc).trackingUid)}undo(){u(this,O0).addAnnotation(u(this,gc))}}gc=new WeakMap,O0=new WeakMap;var gs,E0,k0,_0;class td{constructor(e,t,r,i){G(this,gs);G(this,E0);G(this,k0);G(this,_0);z(this,gs,e),z(this,E0,i),z(this,k0,t),z(this,_0,r)}getName(){return"UpdateAnnotation-"+u(this,gs).trackingUid}execute(){const e=Object.keys(u(this,_0));for(const t of e)u(this,gs)[t]=u(this,_0)[t];u(this,E0).updateAnnotation(u(this,gs),e)}undo(){const e=Object.keys(u(this,k0));for(const t of e)u(this,gs)[t]=u(this,k0)[t];u(this,E0).updateAnnotation(u(this,gs),e)}}gs=new WeakMap,E0=new WeakMap,k0=new WeakMap,_0=new WeakMap;var ri;class gG{constructor(e){G(this,ri);z(this,ri,e!==void 0?e:new J1)}getAnnotation(e){return u(this,ri).find(e)}getAnnotationGroup(){return u(this,ri)}isAnnotationGroupEditable(){return u(this,ri).isEditable()}setAnnotationGroupEditable(e){u(this,ri).setEditable(e)}addAnnotation(e){u(this,ri).add(e)}updateAnnotation(e,t,r){u(this,ri).update(e,t,r)}removeAnnotation(e){u(this,ri).remove(e)}removeAnnotationWithCommand(e,t){const r=this.getAnnotation(e);if(r===void 0)return void Pe.warn("Cannot create remove command for undefined annotation: "+e);const i=new mw(r,this);t(i),i.execute()}updateAnnotationWithCommand(e,t,r,i){const o=this.getAnnotation(e);if(o===void 0)return void Pe.warn("Cannot create update command for undefined annotation: "+e);const l=new td(o,t,r,this);i(l),l.execute()}removeAllAnnotationsWithCommand(e){for(const t of u(this,ri).getList())this.removeAnnotationWithCommand(t.trackingUid,e)}hasAnnotationMeta(e){return u(this,ri).hasMeta(e)}setAnnotationMeta(e,t){u(this,ri).setMetaValue(e,t)}}ri=new WeakMap;const qu={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function r4(n){return n.name()==="label"}function pu(n){return n.name()==="shape"}function WI(n){return n.name()==="position-group"}function dS(n){const e=n.getChildren(pu)[0];if(e instanceof _e.default.Line)return e}function bt(n,e){const t=n.getChildren(function(r){return r.id()==="anchor"+e})[0];if(t instanceof _e.default.Ellipse)return t}function aC(n){return function(e){return e.id()===n}}function Vu(n,e,t,r){const i=r.applyZoomScale(6),o={x:Math.abs(i.x),y:Math.abs(i.y)};return new _e.default.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:r.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function QT(n){return parseInt(n.substring(6),10)}var k2,_2,F2,Rp,F0,ms,M2,N2,U2,B2;class w2{constructor(){G(this,k2,10);G(this,_2,"Verdana");G(this,F2,"#fff");G(this,Rp,"#ffff80");G(this,F0,{x:1,y:1});G(this,ms,{x:1,y:1});G(this,M2,2);G(this,N2,{x:.25,y:.25});G(this,U2,.2);G(this,B2,3)}getFontFamily(){return u(this,_2)}getFontSize(){return u(this,k2)}getStrokeWidth(){return u(this,M2)}getTextColour(){return u(this,F2)}getLineColour(){return u(this,Rp)}setLineColour(e){z(this,Rp,e)}setBaseScale(e){z(this,F0,e)}setZoomScale(e){z(this,ms,e)}getBaseScale(){return u(this,F0)}getZoomScale(){return u(this,ms)}scale(e){return e/u(this,F0).x}applyZoomScale(e){return{x:e/u(this,ms).x,y:e/u(this,ms).y}}applyZoomRatio(e){return e*u(this,ms).x/u(this,ms).y}getShadowOffset(){return u(this,N2)}getTagOpacity(){return u(this,U2)}getTextPadding(){return u(this,B2)}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return function(e){return .001172549*(t=SV(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t}(this.getLineColour())?"#fff":"#000"}}k2=new WeakMap,_2=new WeakMap,F2=new WeakMap,Rp=new WeakMap,F0=new WeakMap,ms=new WeakMap,M2=new WeakMap,N2=new WeakMap,U2=new WeakMap,B2=new WeakMap;var Ap,Op;class jt{constructor(e,t){G(this,Ap);G(this,Op);z(this,Ap,e),z(this,Op,t)}getBegin(){return u(this,Ap)}getEnd(){return u(this,Op)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const r=this.getDeltaX()*e.x,i=this.getDeltaY()*e.y;t=Math.sqrt(r*r+i*i)}return t}getMidpoint(){return new Le((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(e){const t={},r=e.get2DSpacing(),i=this.getWorldLength(r);return i!==null&&(t.length={value:i,unit:e.getLengthUnit()}),t}}Ap=new WeakMap,Op=new WeakMap;function i4(n,e){const t=n.getDeltaX(),r=n.getDeltaY(),i=e.getDeltaX(),o=e.getDeltaY(),l=t*i+r*o,s=t*o-r*i;return 360-(180-180*Math.atan2(s,l)/Math.PI)}function sC(n,e){const t=n.getDeltaX(),r=n.getDeltaY();return t*e.getDeltaX()+r*e.getDeltaY()==0}function Mo(n,e,t,r){r===void 0&&(r={x:1,y:1});const i=-r.x*r.x/(r.y*r.y*n.getSlope());return HI(i,e.getY()-i*e.getX(),e,t,r)}function zT(n,e,t,r){const i=HI(n.getSlope(),n.getIntercept(),n.getBegin(),e,r);let o;return o=function(l,s){const d=Math.min(s.getBegin().getX(),s.getEnd().getX()),h=Math.max(s.getBegin().getX(),s.getEnd().getX()),f=Math.min(s.getBegin().getY(),s.getEnd().getY()),m=Math.max(s.getBegin().getY(),s.getEnd().getY());return l.getX()>=d&&l.getX()<=h&&l.getY()>=f&&l.getY()<=m}(i.getBegin(),n)?i.getBegin():i.getEnd(),Mo(n,o,t,r)}function HI(n,e,t,r,i){i===void 0&&(i={x:1,y:1});let o=0,l=0,s=0,d=0;if(X1(n,0,Ey))o=t.getX()-r/(2*i.x),l=t.getY(),s=t.getX()+r/(2*i.x),d=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),l=t.getY()-r/(2*i.y),s=t.getX(),d=t.getY()+r/(2*i.y);else{const h=i.x*i.x,f=i.y*i.y,m=r/(2*Math.sqrt(h+f*n*n));o=t.getX()-m,l=n*o+e,s=t.getX()+m,d=n*s+e}return new jt(new Le(o,l),new Le(s,d))}var Ep,kp;class Zu{constructor(e,t){G(this,Ep);G(this,kp);z(this,Ep,new Le(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY()))),z(this,kp,new Le(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY())))}getBegin(){return u(this,Ep)}getEnd(){return u(this,kp)}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new Le(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new Le(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new Le(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,r){const i={},o=e.get2DSpacing(),l=e.getLengthUnit();i.width={value:this.getWidth()*o.x,unit:l},i.height={value:this.getHeight()*o.y,unit:l};const s=this.getWorldSurface(o);if(s!==null&&(i.surface=l==="unit.mm"?{value:s/100,unit:"unit.cm2"}:{value:s,unit:l}),e.canQuantifyImage()){const d=this.getRound(),h=e.getImageRegionValues(d.min,d.max,t),f=e.getPixelUnit(),m=pw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}return i}}Ep=new WeakMap,kp=new WeakMap;var _r;class Xo{constructor(e){G(this,_r,[]);e!==void 0&&z(this,_r,e)}getPoint(e){return u(this,_r)[e]}getPoints(){return u(this,_r)}getLength(){return u(this,_r).length}addPoint(e){u(this,_r).push(e)}addPoints(e){z(this,_r,u(this,_r).concat(e))}getCentroid(){let e,t=0,r=0,i=0;for(let o=0;o<u(this,_r).length;++o){const l=u(this,_r)[o];let s;s=o===u(this,_r).length-1?u(this,_r)[0]:u(this,_r)[o+1];const d=l.getX()*s.getY()-s.getX()*l.getY();t+=d,r+=(l.getX()+s.getX())*d,i+=(l.getY()+s.getY())*d}if(t!==0){const o=1/(3*t);e=new Le(o*r,o*i)}return e}}_r=new WeakMap;var ao;class Ju{constructor(e){G(this,ao);if(e.length>3)throw new Error("Too many points for a protractor");z(this,ao,e.slice(0,3))}getPoint(e){return u(this,ao)[e]}getLength(){return u(this,ao).length}getCentroid(){return u(this,ao)[1]}quantify(e,t){const r={};if(u(this,ao).length===3){let i=i4(new jt(u(this,ao)[0],u(this,ao)[1]),new jt(u(this,ao)[1],u(this,ao)[2]));i>180&&(i=360-i),r.angle={value:i,unit:"unit.degree"}}return r}}ao=new WeakMap;var M0,_p,Fp;class ec{constructor(e,t,r){G(this,M0);G(this,_p);G(this,Fp);z(this,M0,e),z(this,_p,t),z(this,Fp,r)}getCenter(){return u(this,M0)}getCentroid(){return u(this,M0)}getA(){return u(this,_p)}getB(){return u(this,Fp)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),r=this.getA(),i=this.getB(),o=r/i,l=Math.pow(i,2),s=t+i,d=[];for(let h=t-i;h<s;++h){const f=l-Math.pow(h-t,2);if(Math.abs(f)<1e-7)continue;const m=o*Math.sqrt(f);m<.5||d.push([[Math.round(e-m),Math.round(h)],[Math.round(e+m),Math.round(h)]])}return d}quantify(e,t,r){const i={},o=e.get2DSpacing(),l=e.getLengthUnit();i.a={value:this.getA()*o.x,unit:l},i.b={value:this.getB()*o.y,unit:l};const s=this.getWorldSurface(o);if(s!==null&&(i.surface=l==="unit.mm"?{value:s/100,unit:"unit.cm2"}:{value:s,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=pw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}}return i}}M0=new WeakMap,_p=new WeakMap,Fp=new WeakMap;function mG(n,e,t){const r=n.getValues(),i=r.slice(),o=[],l=e[0],s=e[1],d=l/s,h=Math.pow(s,2),f=t[0],m=t[1];for(let v=0;v<s;++v){const g=Math.round(d*Math.sqrt(h-Math.pow(v,2))),S=r[m]+v,y=r[m]-v;for(let C=0;C<g;++C){const x=r[f]+C,b=r[f]-C;i[f]=x,i[m]=S,o.push(new Ot(i.slice())),y!==S&&(i[m]=y,o.push(new Ot(i.slice()))),b!==x&&(i[f]=b,i[m]=S,o.push(new Ot(i.slice())),y!==S&&(i[m]=y,o.push(new Ot(i.slice()))))}}return o}var N0,Mp;class tc{constructor(e,t){G(this,N0);G(this,Mp);z(this,N0,e),z(this,Mp,t)}getCenter(){return u(this,N0)}getCentroid(){return u(this,N0)}getRadius(){return u(this,Mp)}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return function(t,r,i){let o=null;return r!==null&&i!==null&&(o=t*r*i),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),r=this.getRadius(),i=Math.pow(r,2),o=t+r,l=[];for(let s=t-r;s<o;++s){const d=i-Math.pow(s-t,2);if(Math.abs(d)<1e-7)continue;const h=Math.sqrt(d);h<.5||l.push([[Math.round(e-h),Math.round(s)],[Math.round(e+h),Math.round(s)]])}return l}quantify(e,t,r){const i={},o=e.get2DSpacing(),l=e.getLengthUnit();i.radius={value:this.getRadius()*o.x,unit:l};const s=this.getWorldSurface(o);if(s!==null&&(i.surface=l==="unit.mm"?{value:s/100,unit:"unit.cm2"}:{value:s,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=pw(h,r);i.min={value:m.min,unit:f},i.max={value:m.max,unit:f},i.mean={value:m.mean,unit:f},i.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(i.median={value:m.median,unit:f}),m.p25!==void 0&&(i.p25={value:m.p25,unit:f}),m.p75!==void 0&&(i.p75={value:m.p75,unit:f})}}return i}}N0=new WeakMap,Mp=new WeakMap;var mc;class SG{constructor(){G(this,mc,0)}getSum(){return u(this,mc)}add(e){z(this,mc,u(this,mc)+function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60}(e))}clear(){z(this,mc,0)}isTick(){return Math.abs(u(this,mc))>=1}}mc=new WeakMap;var Np,Sc;class U1{constructor(e){G(this,Np);G(this,Sc,new SG);z(this,Np,e)}wheel(e){u(this,Sc).add(e);const t=u(this,Sc).getSum()>=0;if(!u(this,Sc).isTick())return;u(this,Sc).clear(),e.preventDefault();const r=Pt(e),i=u(this,Np).getLayerGroupByDivId(r.groupDivId),o=i.getPositionHelper();i.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():i.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}Np=new WeakMap,Sc=new WeakMap;var yc,Up,pa,qn,Al,ii,U0,kn,_S,FS,o4,a4,s4,jI;class yG{constructor(e,t){G(this,kn);G(this,yc);G(this,Up);G(this,pa,null);G(this,qn,null);G(this,Al);G(this,ii);G(this,U0,!1);z(this,yc,e),z(this,Up,t)}setShape(e,t,r){if(z(this,qn,e),z(this,Al,t),z(this,ii,r),u(this,qn)){if(Q(this,kn,o4).call(this),z(this,pa,r.getFactory()),u(this,pa)===void 0)throw new Error("Could not find a factory to update shape.");Q(this,kn,a4).call(this)}}getShape(){return u(this,qn)}getAnnotation(){return u(this,ii)}isActive(){return u(this,U0)}enable(){z(this,U0,!0),u(this,qn)&&(Q(this,kn,FS).call(this,!0),u(this,qn).getLayer()&&u(this,qn).getLayer().draw())}disable(){z(this,U0,!1),u(this,qn)&&(Q(this,kn,FS).call(this,!1),u(this,qn).getLayer()&&u(this,qn).getLayer().draw())}reset(){z(this,qn,void 0),z(this,Al,void 0),z(this,ii,void 0)}resetAnchors(){Q(this,kn,o4).call(this),Q(this,kn,a4).call(this),Q(this,kn,FS).call(this,!0)}setAnchorsActive(e){let t=null;t=e?r=>{Q(this,kn,s4).call(this,r)}:r=>{Q(this,kn,jI).call(this,r)},Q(this,kn,_S).call(this,t)}}yc=new WeakMap,Up=new WeakMap,pa=new WeakMap,qn=new WeakMap,Al=new WeakMap,ii=new WeakMap,U0=new WeakMap,kn=new WeakSet,_S=function(e){u(this,qn)&&u(this,qn).getParent()&&u(this,qn).getParent().find(".anchor").forEach(e)},FS=function(e){Q(this,kn,_S).call(this,function(t){t.visible(e)})},o4=function(){Q(this,kn,_S).call(this,function(e){e.remove()})},a4=function(){if(!u(this,qn)||!u(this,qn).getLayer())return;const e=u(this,qn).getParent(),t=u(this,pa).getAnchors(u(this,qn),u(this,yc).getStyle());for(let r=0;r<t.length;++r)Q(this,kn,s4).call(this,t[r]),e.add(t[r])},s4=function(e){let t;e.on("dragstart.edit",r=>{r.cancelBubble=!0,t={mathShape:u(this,ii).mathShape,referencePoints:u(this,ii).referencePoints}}),e.on("dragmove.edit",r=>{const i=r.target;i instanceof _e.default.Shape&&(function(o,l){const s=l.getParent();(function(d,h,f){d.x()<h.getX()?d.x(h.getX()):d.x()>f.getX()&&d.x(f.getX()),d.y()<h.getY()?d.y(h.getY()):d.y()>f.getY()&&d.y(f.getY())})(l,new Le(-s.x(),-s.y()),new Le(o.x-s.x(),o.y-s.y()))}(u(this,Al).getBaseSize(),i),u(this,pa).constrainAnchorMove!==void 0&&u(this,pa).constrainAnchorMove(i),u(this,pa).updateAnnotationOnAnchorMove(u(this,ii),i),u(this,pa).updateShapeGroupOnAnchorMove(u(this,ii),i,u(this,yc).getStyle()),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"),r.cancelBubble=!0)}),e.on("dragend.edit",r=>{const i={mathShape:u(this,ii).mathShape,referencePoints:u(this,ii).referencePoints},o=new td(u(this,ii),t,i,u(this,Al).getDrawController());u(this,yc).addToUndoStack(o),u(this,Up).call(this,{type:"annotationupdate",data:u(this,ii),dataid:u(this,Al).getDataId(),keys:Object.keys(i)}),t={mathShape:i.mathShape,referencePoints:i.referencePoints},r.cancelBubble=!0}),e.on("mousedown touchstart",r=>{r.target.moveToTop()}),e.on("mouseover.edit",r=>{const i=r.target;i instanceof _e.default.Shape&&(i.stroke("#ddd"),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"))}),e.on("mouseout.edit",r=>{const i=r.target;i instanceof _e.default.Shape&&(i.stroke("#999"),i.getLayer()?i.getLayer().draw():Pe.warn("No layer to draw the anchor!"))})},jI=function(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")};var On;class vG{constructor(){G(this,On);this.createTrashIcon()}createTrashIcon(){z(this,On,new _e.default.Group);const e=new _e.default.Line({points:[-10,-10,10,10],stroke:"red"}),t=new _e.default.Line({points:[10,-10,-10,10],stroke:"red"});u(this,On).width(20),u(this,On).height(20),u(this,On).add(e),u(this,On).add(t)}activate(e){const t=e.getKonvaStage(),r=t.scale(),i=e.getKonvaLayer(),o={x:1/r.x,y:1/r.y};u(this,On).x(t.offset().x+t.width()/(2*r.x)),u(this,On).y(t.offset().y+t.height()/(15*r.y)),u(this,On).scale(o),i.add(u(this,On)),i.draw()}changeChildrenColourOnTrashHover(e,t,r){if(this.isOverTrash(e))return this.changeGroupChildrenColour(u(this,On),"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(u(this,On),"red"),this.changeGroupChildrenColour(t,r)}changeGroupChildrenColour(e,t){e.getChildren().forEach(function(r){r instanceof _e.default.Shape&&r.stroke!==void 0&&r.stroke(t)})}remove(){u(this,On).remove()}isOverTrash(e){const t=u(this,On).width()*Math.abs(u(this,On).scaleX())/2,r=u(this,On).height()*Math.abs(u(this,On).scaleY())/2;return Math.abs(e.x-u(this,On).x())<t&&Math.abs(e.y-u(this,On).y())<r}}On=new WeakMap;var Ss,Jn,ys,Bp,vc,Ol,B0,qr,l4,$I,YI,XI,KI,ZI;class CG{constructor(e,t){G(this,qr);G(this,Ss);G(this,Jn);G(this,ys);G(this,Bp,"pointer");G(this,vc);G(this,Ol);G(this,B0);z(this,Ss,e),z(this,B0,t),z(this,Jn,new yG(e,t)),z(this,ys,new vG)}setEditorShape(e,t){const r=t.getDrawController();e&&e instanceof _e.default.Shape&&e!==u(this,Jn).getShape()&&r.isAnnotationGroupEditable()&&(u(this,Jn).disable(),u(this,Jn).setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),u(this,Jn).enable())}getEditorShapeGroup(){let e;if(!u(this,Jn).isActive()||(e=u(this,Jn).getShape().getParent(),e instanceof _e.default.Group))return e}getEditorAnnotation(){let e;return u(this,Jn).isActive()&&(e=u(this,Jn).getAnnotation()),e}disableAndResetEditor(){u(this,Jn).disable(),u(this,Jn).reset()}storeMouseOverCursor(e){z(this,Bp,e)}onMouseOutShapeGroup(){u(this,vc)!==void 0&&(document.body.style.cursor=u(this,vc),z(this,vc,void 0)),u(this,Ol)!==void 0&&u(this,Ol).opacity(1)}addShapeGroupListeners(e,t,r){Q(this,qr,YI).call(this,e),Q(this,qr,KI).call(this,e,t,r),Q(this,qr,ZI).call(this,e,t,r),e.on("dblclick",()=>{const i=t.textExpr;(function(l,s){const d=prompt("Label",l.textExpr);d!==null&&(l.textExpr=d,s(l))})(t,l=>{const s=l.textExpr,d=new td(l,{textExpr:i},{textExpr:s},r.getDrawController());u(this,Ss).addToUndoStack(d),d.execute()})})}removeShapeListeners(e){Q(this,qr,XI).call(this,e),e.off("dblclick");const t=e.getChildren(pu)[0];t instanceof _e.default.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const r=e.getChildren(r4)[0];r instanceof _e.default.Label&&(r.draggable(!1),r.off("dragstart.draw"),r.off("dragend.draw"))}}Ss=new WeakMap,Jn=new WeakMap,ys=new WeakMap,Bp=new WeakMap,vc=new WeakMap,Ol=new WeakMap,B0=new WeakMap,qr=new WeakSet,l4=function(e,t){const r=t.getKonvaStage();return{x:r.offset().x+e.x/r.scale().x,y:r.offset().y+e.y/r.scale().y}},$I=function(){z(this,vc,document.body.style.cursor),document.body.style.cursor=u(this,Bp),u(this,Ol).opacity(.75)},YI=function(e){e.on("mouseover",()=>{z(this,Ol,e),Q(this,qr,$I).call(this)}),e.on("mouseout",()=>{this.onMouseOutShapeGroup(),z(this,Ol,void 0)})},XI=function(e){e.off("mouseover"),e.off("mouseout")},KI=function(e,t,r){const i=r.getKonvaLayer(),o=e.getChildren(pu)[0];if(!(o instanceof _e.default.Shape))return;let l,s,d,h;o.draggable(!0),o.on("dragstart.draw",f=>{h=o.stroke(),l={x:o.x(),y:o.y()},s={x:f.target.x(),y:f.target.y()},d={mathShape:t.mathShape,referencePoints:t.referencePoints},u(this,ys).activate(r),u(this,Jn).setAnchorsActive(!1),i.draw()}),o.on("dragmove.draw",f=>{const m=function(w,T){return{min:new Le(0,0),max:new Le(w.x-Math.abs(T.width()),w.y-Math.abs(T.height()))}}(r.getBaseSize(),o);if(m&&!function(w,T,P){const A=w.getClientRect({relativeTo:w.getParent()});return A.x>T.getX()&&A.x<P.getX()&&A.y>T.getY()&&A.y<P.getY()}(o,m.min,m.max))return o.x(s.x),void o.y(s.y);const v={x:f.target.x()-s.x,y:f.target.y()-s.y},g=e.getChildren(),S=t.labelPosition===void 0;for(const w of g)w===f.target||w.name()==="label"&&!S||w.name()==="connector"||w.move(v);s={x:f.target.x(),y:f.target.y()};const y=t.getFactory();if(y===void 0)throw new Error("Cannot follow drag move without factory");y.updateAnnotationOnTranslation(t,v),y.updateLabelContent(t,e,u(this,Ss).getStyle()),y.updateConnector(e);const C=Nn(f.evt),x={x:C.getX(),y:C.getY()},b=Q(this,qr,l4).call(this,x,r);u(this,ys).changeChildrenColourOnTrashHover(b,e,h),i.draw()}),o.on("dragend.draw",f=>{if(u(this,ys).remove(),f===void 0||f.evt===void 0)return;const m=o.x(),v=o.y(),g=Nn(f.evt),S={x:g.getX(),y:g.getY()},y=Q(this,qr,l4).call(this,S,r);if(u(this,ys).isOverTrash(y)){e.x(l.x),e.y(l.y),u(this,Jn).disable(),u(this,Jn).reset(),u(this,ys).changeGroupChildrenColour(e,h),t.mathShape=d.mathShape,t.referencePoints=d.referencePoints;const C=new mw(t,r.getDrawController());u(this,Ss).addToUndoStack(C),C.execute(),this.onMouseOutShapeGroup()}else{const C={x:m-l.x,y:v-l.y};if(C.x!==0||C.y!==0){const x={mathShape:t.mathShape,referencePoints:t.referencePoints},b=new td(t,d,x,r.getDrawController());u(this,Ss).addToUndoStack(b),u(this,B0).call(this,{type:"annotationupdate",data:t,dataid:r.getDataId(),keys:Object.keys(x)}),d={mathShape:x.mathShape,referencePoints:x.referencePoints}}u(this,Jn).setAnchorsActive(!0),u(this,Jn).resetAnchors()}i.draw(),l={x:o.x(),y:o.y()}})},ZI=function(e,t,r){const i=e.getChildren(r4)[0];if(!(i instanceof _e.default.Label))return;let o,l;i.draggable(!0),i.on("dragstart.draw",()=>{o={x:i.x(),y:i.y()},l=t.labelPosition}),i.on("dragmove.draw",()=>{const s=t.getFactory();if(s===void 0)throw new Error("Cannot udpate connector without factory");s.updateConnector(e)}),i.on("dragend.draw",()=>{const s=i.x()-o.x,d=i.y()-o.y;if(s!==0||d!==0){const h=new Le(i.x(),i.y());t.labelPosition=h;const f=new td(t,{labelPosition:l},{labelPosition:h},r.getDrawController());u(this,Ss).addToUndoStack(f),u(this,B0).call(this,{type:"annotationupdate",data:t,dataid:r.getDataId(),keys:["labelPosition"]}),l=h}o={x:i.x(),y:i.y()}})};class Sw{constructor(e){ae(this,"meta");ae(this,"image");ae(this,"annotationGroup");ae(this,"buffer");this.meta=e}}var En,qp,q0,El,Fr,wi;class wG{constructor(){G(this,Fr);G(this,En,{});G(this,qp,-1);G(this,q0,new Bi);G(this,El,e=>{u(this,q0).fireEvent(e)})}getNextDataId(){return++Ci(this,qp)._,u(this,qp).toString()}getDataIds(){return Object.keys(u(this,En))}reset(){z(this,En,{})}get(e){return u(this,En)[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const r=Object.keys(u(this,En));for(const i of r)u(this,En)[i].image!==void 0&&u(this,En)[i].image.containsImageUids(e)&&t.push(i);return t}getDataIdFromSeriesUid(e){let t;const r=Object.keys(u(this,En));for(const i of r){const o=u(this,En)[i].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=i;break}}return t}setImage(e,t){u(this,En)[e].image=t,u(this,El).call(this,{type:"dataimageset",value:[t],dataid:e}),t.addEventListener("imagecontentchange",Q(this,Fr,wi).call(this,e)),t.addEventListener("imagegeometrychange",Q(this,Fr,wi).call(this,e))}add(e,t){if(u(this,En)[e]!==void 0)throw new Error("Data id already used in storage: "+e);let r;if(u(this,En)[e]=t,t.meta["00080060"]!==void 0&&(r=t.meta["00080060"].value[0]),r==="SEG"&&t.image===void 0){let i;const o=t.meta["00081115"];if(o!==void 0&&(i=o.value[0]["0020000E"].value[0]),i===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const l=this.getDataIdFromSeriesUid(i);if(l===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");const s=new ZC;t.image=s.create(t.meta,t.buffer,u(this,En)[l].image)}u(this,El).call(this,{type:"dataadd",dataid:e}),t.image!==void 0&&(t.image.addEventListener("imagecontentchange",Q(this,Fr,wi).call(this,e)),t.image.addEventListener("imagegeometrychange",Q(this,Fr,wi).call(this,e))),t.annotationGroup!==void 0&&(t.annotationGroup.addEventListener("annotationadd",Q(this,Fr,wi).call(this,e)),t.annotationGroup.addEventListener("annotationupdate",Q(this,Fr,wi).call(this,e)),t.annotationGroup.addEventListener("annotationremove",Q(this,Fr,wi).call(this,e)))}remove(e){if(u(this,En)[e]!==void 0){const t=u(this,En)[e].image;t!==void 0&&(t.removeEventListener("imagecontentchange",Q(this,Fr,wi).call(this,e)),t.removeEventListener("imagegeometrychange",Q(this,Fr,wi).call(this,e)));const r=u(this,En)[e].annotationGroup;r!==void 0&&(r.removeEventListener("annotationadd",Q(this,Fr,wi).call(this,e)),r.removeEventListener("annotationupdate",Q(this,Fr,wi).call(this,e)),r.removeEventListener("annotationremove",Q(this,Fr,wi).call(this,e))),delete u(this,En)[e],u(this,El).call(this,{type:"dataremove",dataid:e})}}update(e,t){if(u(this,En)[e]===void 0)throw new Error("Cannot find data to update: "+e);const r=u(this,En)[e];r.image!==void 0&&t.image!==void 0&&r.image.appendSlice(t.image);let i="";i=t.meta["00020010"]!==void 0?"00200013":"imageUid",r.meta=function(o,l,s,d){const h={};if(!s)throw new Error("Cannot merge object with an undefined id key: "+s);if(!Object.prototype.hasOwnProperty.call(o,s))throw new Error("Id key not found in first object while merging: "+s+", obj: "+o);if(!Object.prototype.hasOwnProperty.call(l,s))throw new Error("Id key not found in second object while merging: "+s+", obj: "+l);let f=!1;if(Object.prototype.hasOwnProperty.call(o[s],"merged")&&o[s].merged&&(f=!0),!Object.prototype.hasOwnProperty.call(o[s],d))throw new Error("Id value not found in first object while merging: "+s+", valueKey: "+d+", ojb: "+o);if(!Object.prototype.hasOwnProperty.call(l[s],d))throw new Error("Id value not found in second object while merging: "+s+", valueKey: "+d+", ojb: "+l);let m=o[s][d];const v=l[s][d][0];if(h[s]=o[s],f){for(let C=0;C<m.length;++C)if(m[C]===v)throw new Error("The first object already contains id2: "+v+", id1: "+m);h[s][d].push(v)}else{if(m=m[0],m===v)throw new Error("Cannot merge object with same ids: "+m+", id2: "+v);h[s][d].push(v),h[s].merged=!0}const g=Object.keys(o),S=Object.keys(l).filter(function(C){return g.indexOf(C)<0}),y=g.concat(S);for(let C=0;C<y.length;++C){const x=y[C];if(x!==s){let b,w,T,P,A;if(Object.prototype.hasOwnProperty.call(o,x)&&(b=o[x],Object.prototype.hasOwnProperty.call(b,d)&&(w=b[d])),Object.prototype.hasOwnProperty.call(l,x)&&(T=l[x],Object.prototype.hasOwnProperty.call(T,d)&&(P=T[d])),b!==void 0?A=b:T!==void 0&&(A=T),!DI(w,P))if(f){if(Array.isArray(w)){A[d]={};for(let F=0;F<m.length;++F)A[d][m[F]]=w}else A[d]=w;A[d]===void 0&&(A[d]={}),A[d][v]=P}else{const F={};F[m]=w,F[v]=P,A[d]=F}h[x]=A}}return h}(r.meta,t.meta,i,"value"),u(this,El).call(this,{type:"dataupdate",dataid:e})}addEventListener(e,t){u(this,q0).add(e,t)}removeEventListener(e,t){u(this,q0).remove(e,t)}}En=new WeakMap,qp=new WeakMap,q0=new WeakMap,El=new WeakMap,Fr=new WeakSet,wi=function(e){return t=>{t.dataid=e,u(this,El).call(this,t)}};const bG="No source image to create mask",WT="No source image to get offsets, ID: {0}",DG="No brush origins",xG="No mask defined when adding mask slices",TG="No created mask image",PG="No mask image for temporary draw command, ID: {0}",IG="No mask image to get offsets from",LG="No mask image for draw command, ID: {0}",HT="No mask ID to apply mask index",RG="No mask view layers",AG="No selected segment number",OG="Too many mask view layers: {0}",EG="More mask layers than expected",kG="Cannot display mask with no mask ID",_G="Cannot draw with no mask data ID",FG="Cannot draw with no offsets",MG="Cannot draw with no colour list",NG="Cannot get mask layers with no mask ID",UG="Cannot get mask view controller: no mask ID",BG="Cannot get mask view controller: no mask layers",qG="Cannot find source data for an existing mask, ID: {0}",VG="Unsupported scroll index: {0}";function pl(n,...e){return n.replace(/{(\d+)}/g,(t,r)=>e[r]||"")}const MS="del",lC="add";function jT(n,e,t,r){return mG(n.worldToIndex(e),t,r)}class $T{constructor(){ae(this,"mask");ae(this,"dataId");ae(this,"offsetsLists");ae(this,"mode");ae(this,"segmentNumber");ae(this,"srclayerid");ae(this,"originalValuesLists");ae(this,"isSilent")}}var kl,V0,_l,Vp,Fl,G0,ga,Gp,Ml,Q0;class YT{constructor(e){G(this,kl);G(this,V0);G(this,_l);G(this,Vp);G(this,Fl);G(this,G0);G(this,ga);G(this,Gp);G(this,Ml);G(this,Q0);z(this,kl,e.mask),z(this,V0,e.dataId),z(this,_l,e.offsetsLists),z(this,Vp,e.mode),z(this,Fl,e.segmentNumber),z(this,G0,e.srclayerid),e.originalValuesLists!==void 0&&z(this,ga,e.originalValuesLists),z(this,Gp,e.isSilent??!1),z(this,Ml,u(this,Vp)===MS?"brushremove":"brushdraw"),z(this,Q0,u(this,Ml)==="brushdraw"?"brushremove":"brushdraw")}getOriginalValuesLists(){return u(this,ga)}getExecuteEvent(){const e=u(this,Ml)==="brushdraw"?u(this,Fl):void 0;return new CustomEvent(u(this,Ml),{detail:{segmentnumber:e,dataid:u(this,V0),srclayerid:u(this,G0)}})}getName(){return"Draw-brush"}execute(){if(u(this,Fl)===void 0)return;let e=u(this,Fl);u(this,Ml)==="brushremove"&&(e=0),u(this,ga)===void 0?z(this,ga,u(this,kl).setAtOffsetsAndGetOriginals(u(this,_l),e)):u(this,kl).setAtOffsetsWithIterator(u(this,_l),e),u(this,Gp)||this.onExecute(this.getExecuteEvent())}undo(){u(this,ga)===void 0?z(this,ga,u(this,kl).setAtOffsetsAndGetOriginals(u(this,_l),0)):u(this,kl).setAtOffsetsWithIterator(u(this,_l),u(this,ga));const e=u(this,Q0)==="brushdraw"?u(this,Fl):void 0,t=new CustomEvent(u(this,Q0),{detail:{segmentnumber:e,dataid:u(this,V0),srclayerid:u(this,G0)}});this.onUndo(t)}onExecute(e){}onUndo(e){}}kl=new WeakMap,V0=new WeakMap,_l=new WeakMap,Vp=new WeakMap,Fl=new WeakMap,G0=new WeakMap,ga=new WeakMap,Gp=new WeakMap,Ml=new WeakMap,Q0=new WeakMap;var Vn,Qp,Nl,Mr,ln,oi,Ul,Ei,Cc,zp,z0,Bl,ql,Vl,Wp,dt,u4,JI,c4,eL,tL,nL,rL,iL,oL,aL,d4,sL,lL,h4,f4,uL,cL;class GG extends EventTarget{constructor(t){super();G(this,dt);G(this,Vn);G(this,Qp);G(this,Nl,!1);G(this,Mr);G(this,ln);G(this,oi,10);G(this,Ul,{min:1,max:20});G(this,Ei,MS);G(this,Cc);G(this,zp,0);G(this,z0);G(this,Bl);G(this,ql);G(this,Vl);G(this,Wp,[]);ae(this,"mousedown",t=>{if(Q(this,dt,sL).call(this,t))return;if(u(this,Cc)===void 0)return void Pe.warn(AG);z(this,Nl,!0),z(this,Bl,new Le(t.offsetX,t.offsetY)),z(this,ql,[]),z(this,Vl,[]),Q(this,dt,lL).call(this,t);const r=Q(this,dt,d4).call(this,t);r.length>0?Q(this,dt,c4).call(this,r):(z(this,Nl,!1),Q(this,dt,h4).call(this,t))});ae(this,"mousemove",t=>{if(!u(this,Nl)||u(this,Bl)===void 0)return;const r=new Le(t.offsetX,t.offsetY),i=Math.abs(r.getX()-u(this,Bl).getX()),o=Math.abs(r.getY()-u(this,Bl).getY());if(i>u(this,oi)/2||o>u(this,oi)/2){const l=Q(this,dt,d4).call(this,t);l.length>0&&Q(this,dt,c4).call(this,l),z(this,Bl,r)}});ae(this,"mouseup",t=>{if(u(this,Nl)){if(z(this,Nl,!1),Q(this,dt,h4).call(this,t),u(this,ln)===void 0)throw new Error(_G);if(u(this,ql)===void 0)throw new Error(FG);if(u(this,Vl)===void 0)throw new Error(MG);u(this,ql).reverse(),u(this,Vl).reverse();const r=Q(this,dt,f4).call(this).getId(),i=u(this,Vn).getData(u(this,ln));if(!i)throw new Error(pl(LG,u(this,ln)));const o=new $T;o.mask=i.image,o.dataId=u(this,ln),o.offsetsLists=u(this,ql),o.mode=u(this,Ei),o.segmentNumber=u(this,Cc),o.srclayerid=r,o.originalValuesLists=u(this,Vl);const l=new YT(o);l.onExecute=s=>{this.dispatchEvent(s)},l.onUndo=s=>{this.dispatchEvent(s),u(this,Mr).recalculateLabels()},u(this,Vn).addToUndoStack(l),this.dispatchEvent(l.getExecuteEvent()),u(this,Mr).recalculateLabels()}});ae(this,"mouseout",t=>{this.mouseup(t)});ae(this,"touchstart",t=>{this.mousedown(t)});ae(this,"touchmove",t=>{this.mousemove(t)});ae(this,"touchend",t=>{this.mouseup(t)});ae(this,"wheel",t=>{u(this,Qp).wheel(t)});ae(this,"keydown",t=>{t.context="Brush",u(this,Vn).onKeydown(t);const r=t.ctrlKey||t.altKey;!r&&t.key==="+"&&u(this,oi)+1<u(this,Ul).max?(z(this,oi,u(this,oi)+1),Pe.debug("Brush size: "+u(this,oi))):!r&&t.key==="-"&&u(this,oi)-1>=u(this,Ul).min?(z(this,oi,u(this,oi)-1),Pe.debug("Brush size: "+u(this,oi))):r||Number.isNaN(Number.parseInt(t.key,10))?r||t.key!=="a"?r||t.key!=="d"||(z(this,Ei,MS),Pe.debug("Brush mode: "+u(this,Ei))):(z(this,Ei,lC),Pe.debug("Brush mode: "+u(this,Ei))):z(this,Ei,lC)});z(this,Vn,t),z(this,Qp,new U1(t))}activate(t){const r=function(i){let o=[];if(!i)return[];for(const l in i)if(i[l]){const s=i[l];if(Array.isArray(s)){const d=s.map(function(h){return h.divId});o=[...o,...d]}}return[...new Set(o)]}(u(this,Vn).getDataViewConfigs());t?Q(this,dt,uL).call(this,r):Q(this,dt,cL).call(this,r)}setFeatures(t){t.brushSizeRange!==void 0&&z(this,Ul,t.brushSizeRange),t.brushSize!==void 0&&t.brushSize>=u(this,Ul).min&&t.brushSize<u(this,Ul).max&&z(this,oi,t.brushSize),t.brushMode!==void 0&&z(this,Ei,t.brushMode),t.createMask?z(this,ln,void 0):t.maskDataId!==void 0&&z(this,ln,t.maskDataId),t.selectedSegmentNumber!==void 0&&z(this,Cc,t.selectedSegmentNumber),t.blacklist!==void 0&&z(this,Wp,t.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}Vn=new WeakMap,Qp=new WeakMap,Nl=new WeakMap,Mr=new WeakMap,ln=new WeakMap,oi=new WeakMap,Ul=new WeakMap,Ei=new WeakMap,Cc=new WeakMap,zp=new WeakMap,z0=new WeakMap,Bl=new WeakMap,ql=new WeakMap,Vl=new WeakMap,Wp=new WeakMap,dt=new WeakSet,u4=function(t,r,i){const o=t.getSize().getValues();o[2]=1;const l=new Gs(o),s=new fu([r],l,t.getSpacing(),t.getOrientation()),d=new Uint8Array(l.getDimSize(2));d.fill(0),++Ci(this,zp)._;const h=[u(this,zp).toString()],f=new od(s,d,h);return f.setMeta(i),f.setPhotometricInterpretation("PALETTE COLOR"),f.setPaletteColourMap(new lw([0],[0],[0])),f},JI=function(t,r,i,o,l,s){const d=function(C,x){const b=x.sort(function(W,j){let H=0;const X=W.get(2),V=j.get(2);return X!==void 0&&V!==void 0&&(H=X-V),H}),w=b[0].get(2);if(w===void 0)return[];const T=new Ot([0,0,w]),P=C.indexToWorld(T),A=b.at(-1).get(2);if(A===void 0)return[];const F=new Ot([0,0,A]),E=C.indexToWorld(F),k=C.getOrigins(),L=.1*C.getSpacing().get(2),U=P.get3D().getClosest(k),N=k[U],R=P.get3D().getDistance(N);R>L&&Pe.warn("Large distance between origin and origin for first index: "+R);const I=E.get3D().getClosest(k),_=k[I],q=E.get3D().getDistance(_);return q>L&&Pe.warn("Large distance between origin and origin for last index: "+q),[U,I]}(t,jT(t,i,l,o));if(d===void 0||d.length===0)throw new Error(DG);const h=t.getOrigins(),f=r.getOrigins(),m=f[0].getClosest(h),v=f.at(-1).getClosest(h),g=[];if(d[0]<m)for(let C=m-1;C>=d[0];--C)g.push(C);if(d[1]>v)for(let C=v+1;C<=d[1];++C)g.push(C);const S=[];for(const C of g)S.push(h[C]);if(u(this,Mr)===void 0)throw new Error(xG);const y=u(this,Mr).getMeta();for(const C of S)y.numberOfFiles+=1,u(this,Mr).appendSlice(Q(this,dt,u4).call(this,r,C,s))},c4=function(t){const r=Q(this,dt,f4).call(this).getId();if(u(this,ln)===void 0)throw new Error(HT);const i=u(this,Vn).getData(u(this,ln));if(!i)throw new Error(pl(PG,u(this,ln)));const o=new $T;o.mask=i.image,o.dataId=u(this,ln),o.offsetsLists=[t],o.mode=u(this,Ei),o.segmentNumber=u(this,Cc),o.srclayerid=r;const l=new YT(o);l.execute(),u(this,ql).push(t);const s=l.getOriginalValuesLists();s!==void 0&&u(this,Vl).push(s[0])},eL=function(t,r){if(!r)throw new Error(pl(bG));const i=r.getGeometry(),o=i.worldToIndex(t).get(2);if(o===void 0)throw new Error("Z position is undefined");const l=new Ot([0,0,o]),s=UI(),d=function(){const S="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:S,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:S,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:S}]}}}();s.DimensionOrganizationSequence=d.organizations,s.DimensionIndexSequence=d.indices,s.PixelRepresentation=0,s.numberOfFiles=1;const h=r.getMeta();s.PatientID=h.PatientID,s.StudyInstanceUID=h.StudyInstanceUID,s.SeriesInstanceUID=h.SeriesInstanceUID;const f=[{referencedSOPClassUID:h.SOPClassUID,referencedSOPInstanceUID:r.getImageUid(l)}],m=[];m.push({ReferencedInstanceSequence:{value:f},SeriesInstanceUID:h.SeriesInstanceUID}),s.ReferencedSeriesSequence={value:m},s.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:h.ImageOrientationPatient,derivationImages:[{sourceImages:f}]}]},s.lengthUnit=r.getMeta().lengthUnit,z(this,Mr,Q(this,dt,u4).call(this,i,i.getOrigins()[o],s));const v=sp(s),g=new Sw(v);return g.image=u(this,Mr),u(this,Vn).addData(g)},tL=function(t){const r=u(this,Vn).getDataViewConfigs();let i;for(const o in r){const l=r[o].find(function(s){return s.divId===t});if(l!==void 0){i=l.orientation;break}}return i},nL=function(t){if(u(this,ln)===void 0)throw new Error(kG);const r=new B7(t);r.orientation=Q(this,dt,tL).call(this,t),u(this,Vn).addDataViewConfig(u(this,ln),r),u(this,Vn).render(u(this,ln))},rL=function(t){let r;const i=t.custom.frameInfos;if(i.length===0)return r;const o=i[0].derivationImages;if(o===void 0||o.length===0)return r;const l=o[0].sourceImages;return l===void 0?r:l.length!==0?l[0].referencedSOPInstanceUID:void 0},iL=function(t){const r=t.getMeta(),i=Q(this,dt,rL).call(this,r);let o=[];i!=="undefined"&&(o=u(this,Vn).getDataIdsFromSopUids([i]));let l="0";return o.length>0?l=o[0]:Pe.warn(pl(qG,i)),l},oL=function(t){if(u(this,ln)===void 0)throw new Error(NG);const r=t.getViewLayersByDataId(u(this,ln));if(r.length===0)throw new Error(RG);return r.length!==1&&Pe.warn(pl(OG,r.length)),r[0]},aL=function(t){if(t===void 0)throw new Error(HT);const r=u(this,Vn).getData(t);if(r===void 0)throw new Error(IG);return r.image},d4=function(t){const r=Pt(t),i=new Le(t.offsetX,t.offsetY),o=u(this,Vn).getLayerGroupByDivId(r.groupDivId);if(o===void 0)throw new Error("No layergroup to get mask offsets");let l;if(z(this,z0,o),l=u(this,ln)===void 0?o.getBaseViewLayer():o.getViewLayersByDataId(u(this,ln))[0],l===void 0)return[];const s=l.getViewController(),d=s.getCurrentPosition();let h,f,m,v;if(s.equalImageMeta({Modality:"SEG"})){z(this,Mr,Q(this,dt,aL).call(this,u(this,ln)));const P=Q(this,dt,iL).call(this,u(this,Mr)),A=u(this,Vn).getData(P);if(!A)throw new Error(pl(WT,P));v=A.image;const F=o.getViewLayersByDataId(P)[0],E=F.getViewController(),k=F.displayToPlanePos(i);m=E.getPositionFromPlanePoint(k),h=l,f=s}else{const P=l.getDataId(),A=u(this,Vn).getData(P);if(!A)throw new Error(pl(WT,P));v=A.image;const F=l.displayToPlanePos(i);if(m=s.getPositionFromPlanePoint(F),z(this,ln,Q(this,dt,eL).call(this,d,v)),u(this,Mr)===void 0)throw new Error(TG);const E=o.getDivId(),k=E!==void 0;k&&Q(this,dt,nL).call(this,E),h=Q(this,dt,oL).call(this,o),f=h.getViewController(),k&&f.setCurrentPosition(d)}const g=v.getGeometry(),S=u(this,Mr).getMeta(),y=u(this,Mr).getGeometry(),C=s.get2DSpacing(),x=[Math.round(u(this,oi)/C.x),Math.round(u(this,oi)/C.y)];let b;const w=s.getScrollDimIndex();switch(w){case 0:b=[1,2];break;case 1:b=[0,2];break;case 2:b=[0,1];break;default:throw new Error(pl(VG,w))}Q(this,dt,JI).call(this,g,y,m,b,x,S);const T=h.displayToPlanePos(i);return function(P,A){const F=P.getSize(),E=[];for(const k of A){const L=F.indexToOffset(k);L>=0&&E.push(L)}return E.sort(function(k,L){return k-L})}(y,jT(y,f.getPositionFromPlanePoint(T),x,b))},sL=function(t){const r=Pt(t),i=u(this,Vn).getLayerGroupByDivId(r.groupDivId);if(i===void 0)throw new Error("No layergroup to check black list");if(i.getActiveDrawLayer()===void 0){const o=i.getActiveViewLayer().getDataId(),l=u(this,Vn).getData(o).image.getMeta().SeriesInstanceUID;if(u(this,Wp).includes(l))return!0}return!1},lL=function(t){if(t.button===2){z(this,Ei,MS);const r=new CustomEvent("erasingactivated");this.dispatchEvent(r)}},h4=function(t){if(t.button===2){z(this,Ei,lC);const r=new CustomEvent("erasingdeactivated");this.dispatchEvent(r)}},f4=function(){if(u(this,ln)===void 0)throw new Error(UG);if(u(this,z0)===void 0)throw new Error("No current layer group");const t=u(this,z0).getViewLayersByDataId(u(this,ln));if(t.length===0)throw new Error(BG);return t.length!==1&&Pe.warn(EG),t[0]},uL=function(t){for(const r of t){const i=document.querySelector("#"+r);if(!i)return;i.addEventListener("contextmenu",o=>{o.preventDefault(),o.stopPropagation()})}},cL=function(t){for(const r of t){const i=document.querySelector("#"+r);if(!i)return;i.addEventListener("contextmenu",o=>{})}};var hS=function(n){var e={};return Sr.d(e,n),e}({default:function(){return uV}});class A1{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const r=[];for(let i=0;i<e.controlPointIndexArray.length;++i)r[i]=e.controlPointIndexArray[i]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(r)}}class QG{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(r){return r},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let r=this.buckets[t];for(;r!==null&&(r.next===null||e.x!==r.next.x||e.y!==r.next.y);)r=r.next;return r!==null&&(r.next=r.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=null;return t}}const zG=2/(3*Math.PI);function uC(n,e,t,r,i){const o=n[r][t],l=e[r][t];let s=Math.sqrt(o*o+l*l);s=Math.max(s,1e-100),i.x=o/s,i.y=l/s}var q2;class WG{constructor(){G(this,q2,e=>Math.round(this.searchGran*this.cost[e.y][e.x]));this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(r,i,o){const l={data:[]};for(let s=0;s<o;s++){l.data[s]=[];for(let d=0;d<i;d++){const h=4*(s*i+d);l.data[s][d]=(r[h]+r[h+1]+r[h+2])/765}}return l.dx=function(s,d){return s+1===this.data[d].length&&s--,this.data[d][s+1]-this.data[d][s]},l.dy=function(s,d){return d+1===this.data.length&&d--,this.data[d][s]-this.data[d+1][s]},l.gradMagnitude=function(s,d){const h=this.dx(s,d),f=this.dy(s,d);return Math.sqrt(h*h+f*f)},l.laplace=function(s,d){let h=-16*this.data[d][s];return h+=this.data[d-2][s],h+=this.data[d-1][s-1]+2*this.data[d-1][s]+this.data[d-1][s+1],h+=this.data[d][s-2]+2*this.data[d][s-1]+2*this.data[d][s+1]+this.data[d][s+2],h+=this.data[d+1][s-1]+2*this.data[d+1][s]+this.data[d+1][s+1],h+=this.data[d+2][s],h},l}(e,this.width,this.height),this.laplace=function(r){const i=[];i[0]=[],i[1]=[];for(let o=1;o<r.data.length;o++)i[0][o]=1,i[1][o]=1;for(let o=2;o<r.data.length-2;o++){i[o]=[],i[o][0]=1,i[o][1]=1;for(let l=2;l<r.data[o].length-2;l++)i[o][l]=r.laplace(l,o)>.33?0:1;i[o][r.data[o].length-2]=1,i[o][r.data[o].length-1]=1}i[r.data.length-2]=[],i[r.data.length-1]=[];for(let o=1;o<r.data.length;o++)i[r.data.length-2][o]=1,i[r.data.length-1][o]=1;return i}(this.greyscale),this.gradient=function(r){const i=[];let o=0,l=0,s=0;for(s=0;s<r.data.length-1;s++){for(i[s]=[],l=0;l<r.data[s].length-1;l++)i[s][l]=r.gradMagnitude(l,s),o=Math.max(i[s][l],o);i[s][r.data[s].length-1]=i[s][r.data.length-2]}i[r.data.length-1]=[];for(let d=0;d<i[0].length;d++)i[r.data.length-1][d]=i[r.data.length-2][d];for(s=0;s<i.length;s++)for(l=0;l<i[s].length;l++)i[s][l]=1-i[s][l]/o;return i}(this.greyscale),this.gradX=function(r){const i=[];for(let o=0;o<r.data.length;o++){i[o]=[];for(let l=0;l<r.data[o].length-1;l++)i[o][l]=r.dx(l,o);i[o][r.data[o].length-1]=i[o][r.data[o].length-2]}return i}(this.greyscale),this.gradY=function(r){const i=[];for(let o=0;o<r.data.length-1;o++){i[o]=[];for(let l=0;l<r.data[o].length;l++)i[o][l]=r.dy(l,o)}i[r.data.length-1]=[];for(let o=0;o<r.data[0].length;o++)i[r.data.length-1][o]=i[r.data.length-2][o];return i}(this.greyscale);const t=function(r,i,o,l){const s={inside:[],outside:[]},d={x:-1,y:-1};for(let h=0;h<i.length;h++){s.inside[h]=[],s.outside[h]=[];for(let f=0;f<i[h].length;f++){uC(i,o,f,h,d);let m=Math.round(f+r*d.y),v=Math.round(h-r*d.x),g=Math.round(f-r*d.y),S=Math.round(h+r*d.x);m=Math.max(Math.min(m,i[h].length-1),0),g=Math.max(Math.min(g,i[h].length-1),0),v=Math.max(Math.min(v,i.length-1),0),S=Math.max(Math.min(S,i.length-1),0),s.inside[h][f]=l.data[v][m],s.outside[h][f]=l.data[S][g]}}return s}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let r=0;r<this.trainingLength&&e;r++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,r,i){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let l=1;for(o=0;o<this.trainingPoints.length;o++){const s=this.trainingPoints[o],d=this.getTrainingIdx(t,r[s.y][s.x]);e[d]+=1,l=Math.max(l,e[d])}for(o=0;o<t;o++)e[o]=1-e[o]/l;(function(s,d){d[0]=.4*s[0]+.5*s[1]+.1*s[1],d[1]=.25*s[0]+.4*s[1]+.25*s[2]+.1*s[3];for(let f=2;f<s.length-2;f++)d[f]=.05*s[f-2]+.25*s[f-1]+.4*s[f]+.25*s[f+1]+.05*s[f+2];const h=s.length;d[h-2]=.25*s[h-1]+.4*s[h-2]+.25*s[h-3]+.1*s[h-4],d[h-1]=.4*s[h-1]+.5*s[h-2]+.1*s[h-3]})(e,i)}addInStaticGrad(e,t){for(let r=0;r<this.gradGran;r++)this.gradTraining[r]=Math.min(this.gradTraining[r],1-r*(t-e)/(t*this.gradGran))}gradDirection(e,t,r,i){return function(o,l,s,d,h,f){const m={x:-1,y:-1},v={x:-1,y:-1};uC(o,l,s,d,m),uC(o,l,h,f,v);let g=m.y*(h-s)-m.x*(f-d),S=v.y*(h-s)-v.x*(f-d);return g<0&&(g=-g,S=-S),s!==h&&d!==f&&(g*=Math.SQRT1_2,S*=Math.SQRT1_2),zG*(Math.acos(g)+Math.acos(S))}(this.gradX,this.gradY,e,t,r,i)}dist(e,t,r,i){let o=this.gradient[i][r];e!==r&&t!==i||(o*=Math.SQRT1_2);const l=this.laplace[i][r],s=this.gradDirection(e,t,r,i);return this.trained?.3*this.getTrainedGrad(o)+.3*l+.1*(s+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*l+.11*s}adj(e){const t=[],r=Math.max(e.x-1,0),i=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),l=Math.min(e.y+1,this.greyscale.data.length-1);let s=0;for(let d=i;d<=l;d++)for(let h=r;h<=o;h++)h===e.x&&d===e.y||(t[s++]={x:h,y:d});return t}setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,r=0;for(this.visited=[],r=0;r<this.height;r++)for(this.visited[r]=[],t=0;t<this.width;t++)this.visited[r][t]=!1;for(this.parents=[],r=0;r<this.height;r++)this.parents[r]=[];for(this.cost=[],r=0;r<this.height;r++)for(this.cost[r]=[],t=0;t<this.width;t++)this.cost[r][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new QG(this.searchGranBits,u(this,q2)),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const r=this.pq.pop();t.push(r),t.push(this.parents[r.y][r.x]),this.visited[r.y][r.x]=!0;const i=this.adj(r);for(let o=0;o<i.length;o++){const l=i[o],s=this.cost[r.y][r.x]+this.dist(r.x,r.y,l.x,l.y);s<this.cost[l.y][l.x]&&(this.cost[l.y][l.x]!==Number.MAX_VALUE&&this.pq.remove(l),this.cost[l.y][l.x]=s,this.parents[l.y][l.x]=r,this.pq.push(l))}e++}return t}}q2=new WeakMap;var Hp;class Gu{constructor(e){G(this,Hp);z(this,Hp,e)}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=u(this,Hp).call(this,e)),t}create(e,t){const r=new _e.default.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),i=e.getText();r.setText(i);const o=t.applyZoomScale(1),l={x:2*o.x,y:2*o.y},s=this.getPosition(e),d=new _e.default.Label({x:s.getX(),y:s.getY(),scale:l,visible:i.length!==0,name:"label"});return d.add(r),d.add(new _e.default.Tag({fill:e.colour,opacity:t.getTagOpacity()})),d}updatePosition(e,t){const r=t.getChildren(function(o){return o.name()==="label"})[0];if(!(r instanceof _e.default.Label))return;const i=this.getPosition(e);r.position({x:i.getX(),y:i.getY()})}getLabelAnchorsPosition(e){const t=e.x(),r=e.y(),i=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new Le(t+i/2,r),new Le(t,r+o/2),new Le(t+i/2,r+o),new Le(t+i,r+o/2)]}getClosestPoints(e,t){let r=e[0].getDistance(t[0]),i=e[0],o=t[0];for(const l of e)for(const s of t){const d=l.getDistance(s);d<r&&(r=d,i=l,o=s)}return[i,o]}getConnector(e,t,r){const i=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,i);return new _e.default.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:r.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const r=e.getChildren(function(s){return s.name()==="label"})[0];if(!(r instanceof _e.default.Label))return;const i=this.getLabelAnchorsPosition(r),o=this.getClosestPoints(t,i),l=e.getChildren(function(s){return s.name()==="connector"})[0];l instanceof _e.default.Line&&l.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const r=t.getChildren(function(o){return o.name()==="label"})[0];if(!(r instanceof _e.default.Label))return;const i=e.getText();r.getText().setText(i),r.visible()&&r.visible(i.length!==0)}}Hp=new WeakMap;var jp,$p,Yp;class HG{constructor(){G(this,jp,0);G(this,$p,0);G(this,Yp,null)}getMin(){return u(this,jp)}setMin(e){z(this,jp,e)}getMax(){return u(this,$p)}setMax(e){z(this,$p,e)}getName(){return"Threshold"}setOriginalImage(e){z(this,Yp,e)}getOriginalImage(){return u(this,Yp)}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform(r=>r<this.getMin()||r>this.getMax()?t:r)}}jp=new WeakMap,$p=new WeakMap,Yp=new WeakMap;var Xp;class jG{constructor(){G(this,Xp,null)}getName(){return"Sharpen"}setOriginalImage(e){z(this,Xp,e)}getOriginalImage(){return u(this,Xp)}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}Xp=new WeakMap;var Kp;class $G{constructor(){G(this,Kp,null)}getName(){return"Sobel"}setOriginalImage(e){z(this,Kp,e)}getOriginalImage(){return u(this,Kp)}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),r=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(r,function(i,o){return Math.sqrt(i*i+o*o)})}}Kp=new WeakMap;var wc,ma,Gl;class cC{constructor(e,t,r){G(this,wc);G(this,ma);G(this,Gl);z(this,wc,e),z(this,ma,t),z(this,Gl,r)}getName(){return"Filter-"+u(this,wc).getName()}execute(){u(this,Gl).setImage(u(this,ma),u(this,wc).update()),u(this,Gl).render(u(this,ma));const e={type:"filterrun",id:this.getName(),dataId:u(this,ma)};this.onExecute(e)}undo(){u(this,Gl).setImage(u(this,ma),u(this,wc).getOriginalImage()),u(this,Gl).render(u(this,ma));const e={type:"filterundo",id:this.getName(),dataid:u(this,ma)};this.onUndo(e)}onExecute(e){}onUndo(e){}}wc=new WeakMap,ma=new WeakMap,Gl=new WeakMap;const YG={},NS={};var vs,bc,Dc,Zp,Jp,Pr,US,p4,g4,BS,RP,Sa,xc,Tc,eg,ya,tg,Pc,Wn,dL,m4,S4,qS,hL,VS,AP,Cs,ws,bs,Ds,W0,H0,zn,B1,y4,V2,v4,G2,C4,GS,OP,j0,Ic,$0,ng,xo,w4,b4,QS,EP,bn,rg,va,so,Y0,lo,hr,ig,Gn,ai,og,X0,K0,Z0,J0,uo,eh,ki,th,nh,ut,fL,pL,gL,D4,zS,mL,SL,WS,yL,vL,CL,x4,T4,P4,I4,Lc,kP,rh,Nr,Ql,ih,Rc,_P,co,Q2,z2,W2,zl,Ac,xs,Ca,Oc,ho,Qo,Ec,oh,ag,Wl,Tn,L4,sg,wL,q1,R4,A4,HS,FP,zo,kc,ah,fo,Hl,Ts,wa,Ps,lg,Lr,O4,bL,Is,E4,k4,_4,MP;const XG={WindowLevel:(RP=class{constructor(n){G(this,Pr);G(this,vs);G(this,bc,!1);G(this,Dc);G(this,Zp);G(this,Jp,!0);ae(this,"mousedown",n=>{const e=Nn(n),t=Pt(n);Q(this,Pr,p4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,Pr,g4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Pr,BS).call(this)});ae(this,"mouseout",n=>{Q(this,Pr,BS).call(this)});ae(this,"touchstart",n=>{const e=Yr(n),t=Pt(n);Q(this,Pr,p4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Yr(n),t=Pt(n);Q(this,Pr,g4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,Pr,BS).call(this)});ae(this,"dblclick",n=>{const e=Pt(n),t=Nn(n),r=u(this,vs).getLayerGroupByDivId(e.groupDivId),i=Q(this,Pr,US).call(this,r);if(i===void 0)return;const o=i.displayToPlaneIndex(t),l=i.getViewController();if(!l.isMonochrome())return;const s=u(this,vs).getData(i.getDataId()).image,d=new fi(s.getRescaledValueAtIndex(l.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),l.getWindowLevel().width);l.setWindowLevel(d)});ae(this,"wheel",n=>{u(this,Zp).wheel(n)});ae(this,"keydown",n=>{n.context="WindowLevel",u(this,vs).onKeydown(n)});z(this,vs,n),z(this,Zp,new U1(n))}activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&z(this,Jp,n.strictViewLayer)}},vs=new WeakMap,bc=new WeakMap,Dc=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,Pr=new WeakSet,US=function(n){let e;if(u(this,Jp))e=n.getActiveViewLayer();else{const t=function(r){return r.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e},p4=function(n,e){const t=u(this,vs).getLayerGroupByDivId(e),r=Q(this,Pr,US).call(this,t);r!==void 0&&r.getViewController().isMonochrome()&&(z(this,bc,!0),z(this,Dc,n))},g4=function(n,e){if(!u(this,bc))return;const t=u(this,vs).getLayerGroupByDivId(e),r=Q(this,Pr,US).call(this,t);if(r===void 0)return;const i=r.getViewController(),o=n.getX()-u(this,Dc).getX(),l=u(this,Dc).getY()-n.getY(),s=i.getImageRescaledDataRange(),d=.001*(s.max-s.min),h=i.getWindowLevel().center,f=i.getWindowLevel().width,m=new fi(h+l*d,f+o*d);i.setWindowLevel(m),z(this,Dc,n)},BS=function(){u(this,bc)&&z(this,bc,!1)},RP),Scroll:(AP=class{constructor(n){G(this,Wn);G(this,Sa);G(this,xc,!1);G(this,Tc);G(this,eg);G(this,ya);G(this,tg,!1);G(this,Pc);ae(this,"mousedown",n=>{const e=Nn(n),t=Pt(n);Q(this,Wn,m4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,Wn,S4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Wn,qS).call(this)});ae(this,"mouseout",n=>{Q(this,Wn,qS).call(this),Q(this,Wn,VS).call(this)});ae(this,"touchstart",n=>{z(this,ya,setTimeout(()=>{this.dblclick(n)},500));const e=Yr(n),t=Pt(n);Q(this,Wn,m4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{u(this,ya)!==null&&(clearTimeout(u(this,ya)),z(this,ya,null));const e=Yr(n),t=Pt(n);Q(this,Wn,S4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{u(this,ya)!==null&&(clearTimeout(u(this,ya)),z(this,ya,null)),Q(this,Wn,qS).call(this)});ae(this,"wheel",n=>{u(this,eg).wheel(n)});ae(this,"keydown",n=>{n.context="Scroll",u(this,Sa).onKeydown(n)});ae(this,"dblclick",n=>{const e=Pt(n),t=u(this,Sa).getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()});z(this,Sa,n),z(this,eg,new U1(n))}activate(n){n||Q(this,Wn,VS).call(this)}setFeatures(n){n.displayTooltip!==void 0&&z(this,tg,n.displayTooltip)}init(){}},Sa=new WeakMap,xc=new WeakMap,Tc=new WeakMap,eg=new WeakMap,ya=new WeakMap,tg=new WeakMap,Pc=new WeakMap,Wn=new WeakSet,dL=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e},m4=function(n,e){Q(this,Wn,VS).call(this);const t=u(this,Sa).getLayerGroupByDivId(e),r=Q(this,Wn,dL).call(this,t);if(r===void 0)return void Pe.warn("No view layer to start scroll");const i=r.getViewController();i.isPlaying()&&i.stop();const o=r.displayToPlanePos(n),l=i.getPositionFromPlanePoint(o);i.setCurrentPosition(l),z(this,xc,!0),z(this,Tc,n)},S4=function(n,e){if(!u(this,xc))return void(u(this,tg)&&Q(this,Wn,hL).call(this,n,e));const t=u(this,Sa).getLayerGroupByDivId(e),r=t.getPositionHelper(),i=n.getY()-u(this,Tc).getY(),o=Math.abs(i)>15,l=n.getX()-u(this,Tc).getX(),s=Math.abs(l)>15;o&&t.canScroll()?i>0?r.decrementPositionAlongScroll():r.incrementPositionAlongScroll():s&&t.moreThanOne(3)&&(l>0?r.incrementPosition(3):r.decrementPosition(3)),(s||o)&&z(this,Tc,n)},qS=function(){u(this,xc)&&z(this,xc,!1)},hL=function(n,e){const t=u(this,Sa).getLayerGroupByDivId(e);z(this,Pc,e),t.showTooltip(n)},VS=function(){u(this,Pc)!==void 0&&(u(this,Sa).getLayerGroupByDivId(u(this,Pc)).removeTooltipDiv(),z(this,Pc,void 0))},AP),ZoomAndPan:(OP=class{constructor(n){G(this,zn);G(this,Cs);G(this,ws,!1);G(this,bs);G(this,Ds);G(this,W0);G(this,H0);G(this,V2,n=>{z(this,ws,!0),z(this,bs,n[0]),z(this,Ds,!1),z(this,W0,new jt(n[0],n[1])),z(this,H0,u(this,W0).getMidpoint())});G(this,G2,(n,e)=>{if(!u(this,ws))return;z(this,Ds,!0);const t=new jt(n[0],n[1]).getLength()/u(this,W0).getLength(),r=u(this,Cs).getLayerGroupByDivId(e),i=r.getPositionHelper();if(t===1){const o=n[0].getY()-u(this,bs).getY();if(Math.abs(o)<15)return;r.canScroll()&&(o>0?i.incrementPositionAlongScroll():i.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&u(this,H0)!==void 0){const l=Q(this,zn,B1).call(this,r);if(l===void 0)return void Pe.warn("No view layer to do touch zoom/pan");const s=l.getViewController(),d=l.displayToMainPlanePos(u(this,H0)),h=s.getPlanePositionFromPlanePoint(d);r.addScale(o,h),r.draw()}}});ae(this,"mousedown",n=>{const e=Nn(n);Q(this,zn,y4).call(this,e)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,zn,v4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,Ds)){const e=Nn(n),t=Pt(n);Q(this,zn,C4).call(this,e,t.groupDivId)}Q(this,zn,GS).call(this)});ae(this,"mouseout",n=>{Q(this,zn,GS).call(this)});ae(this,"touchstart",n=>{const e=Yr(n);e.length===1?Q(this,zn,y4).call(this,e[0]):e.length===2&&u(this,V2).call(this,e)});ae(this,"touchmove",n=>{const e=Yr(n),t=Pt(n);e.length===1?Q(this,zn,v4).call(this,e[0],t.groupDivId):e.length===2&&u(this,G2).call(this,e,t.groupDivId)});ae(this,"touchend",n=>{if(!u(this,Ds)){const e=Nn(n),t=Pt(n);Q(this,zn,C4).call(this,e,t.groupDivId)}Q(this,zn,GS).call(this)});ae(this,"wheel",n=>{n.preventDefault();const e=-n.deltaY/500,t=Pt(n),r=Nn(n),i=u(this,Cs).getLayerGroupByDivId(t.groupDivId),o=Q(this,zn,B1).call(this,i);if(o===void 0)return void Pe.warn("No view layer to do wheel zoom/pan");const l=o.getViewController(),s=o.displayToMainPlanePos(r),d=l.getPlanePositionFromPlanePoint(s);i.addScale(e,d),i.draw()});ae(this,"keydown",n=>{n.context="ZoomAndPan",u(this,Cs).onKeydown(n)});z(this,Cs,n)}activate(n){}init(){}setFeatures(n){}},Cs=new WeakMap,ws=new WeakMap,bs=new WeakMap,Ds=new WeakMap,W0=new WeakMap,H0=new WeakMap,zn=new WeakSet,B1=function(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e},y4=function(n){z(this,ws,!0),z(this,bs,n),z(this,Ds,!1)},V2=new WeakMap,v4=function(n,e){if(!u(this,ws))return;z(this,Ds,!0);const t=n.getX()-u(this,bs).getX(),r=n.getY()-u(this,bs).getY(),i=u(this,Cs).getLayerGroupByDivId(e),o=Q(this,zn,B1).call(this,i);if(o===void 0)return void Pe.warn("No view layer to update zoom/pan");const l=o.getViewController(),s=o.displayToPlaneScale(new Le(t,r)),d=l.getOffset3DFromPlaneOffset({x:s.getX(),y:s.getY()});i.addTranslation({x:d.getX(),y:d.getY(),z:d.getZ()}),i.draw(),z(this,bs,n)},G2=new WeakMap,C4=function(n,e){const t=u(this,Cs).getLayerGroupByDivId(e),r=Q(this,zn,B1).call(this,t);if(r===void 0)return void Pe.warn("No view layer to set current position");const i=r.getViewController(),o=r.displayToPlanePos(n),l=i.getPositionFromPlanePoint(o);i.setCurrentPosition(l)},GS=function(){u(this,ws)&&z(this,ws,!1)},OP),Opacity:(EP=class{constructor(n){G(this,xo);G(this,j0);G(this,Ic,!1);G(this,$0);G(this,ng);ae(this,"mousedown",n=>{const e=Nn(n);Q(this,xo,w4).call(this,e)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,xo,b4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,xo,QS).call(this)});ae(this,"mouseout",n=>{Q(this,xo,QS).call(this)});ae(this,"touchstart",n=>{const e=Yr(n);Q(this,xo,w4).call(this,e[0])});ae(this,"touchmove",n=>{const e=Yr(n),t=Pt(n);Q(this,xo,b4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,xo,QS).call(this)});ae(this,"wheel",n=>{u(this,ng).wheel(n)});ae(this,"keydown",n=>{n.context="Opacity",u(this,j0).onKeydown(n)});z(this,j0,n),z(this,ng,new U1(n))}activate(n){}init(){}setFeatures(n){}},j0=new WeakMap,Ic=new WeakMap,$0=new WeakMap,ng=new WeakMap,xo=new WeakSet,w4=function(n){z(this,Ic,!0),z(this,$0,n)},b4=function(n,e){if(!u(this,Ic))return;const t=n.getX()-u(this,$0).getX();if(Math.abs(t)>15){const r=u(this,j0).getLayerGroupByDivId(e).getActiveLayer(),i=r.getOpacity();r.setOpacity(i+t/200),r.draw(),z(this,$0,n)}},QS=function(){u(this,Ic)&&z(this,Ic,!1)},EP),Draw:(kP=class{constructor(n){G(this,ut);G(this,bn);G(this,rg);G(this,va);G(this,so,!1);G(this,Y0,null);G(this,lo,null);G(this,hr,null);G(this,ig);G(this,Gn,[]);G(this,ai,null);G(this,og,!0);G(this,X0);G(this,K0);G(this,Z0);G(this,J0);G(this,uo);G(this,eh,!1);G(this,ki,{});G(this,th,!1);G(this,nh,[]);ae(this,"mousedown",n=>{if(u(this,so))return;const e=Nn(n),t=Pt(n);Q(this,ut,D4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{if(!u(this,so))return;const e=Nn(n),t=Pt(n);Q(this,ut,vL).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{if(!u(this,so))return;const e=Pt(n);Q(this,ut,CL).call(this,e.groupDivId)});ae(this,"dblclick",n=>{if(u(this,lo)&&u(this,lo).getNPoints()!==void 0||!u(this,so))return;if(u(this,Gn).length===0)return void Pe.warn("Draw dblclick but no points...");const e=Pt(n),t=u(this,bn).getLayerGroupByDivId(e.groupDivId);Q(this,ut,T4).call(this,u(this,Gn),t),Q(this,ut,WS).call(this)});ae(this,"touchstart",n=>{if(u(this,so))return;const e=Yr(n),t=Pt(n);Q(this,ut,D4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{if(!u(this,so))return;const e=Pt(n),t=Yr(n),r=u(this,bn).getLayerGroupByDivId(e.groupDivId),i=Q(this,ut,zS).call(this,r);if(i===void 0)return void Pe.warn("No view layer to handle touch move");const o=i.displayToPlanePos(t[0]);(Math.abs(o.getX()-u(this,ai).getX())>0||Math.abs(o.getY()-u(this,ai).getY())>0)&&(u(this,Gn).length!==1&&u(this,Gn).pop(),z(this,ai,o),u(this,Gn).push(u(this,ai)),u(this,Gn).length<u(this,lo).getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{u(this,Gn).push(u(this,ai))},u(this,lo).getTimeout())),Q(this,ut,x4).call(this,u(this,Gn),r))});ae(this,"touchend",n=>{this.dblclick(n)});ae(this,"wheel",n=>{u(this,og)&&u(this,rg).wheel(n)});ae(this,"keydown",n=>{u(this,so)||(n.context="Draw",u(this,bn).onKeydown(n));const e=u(this,uo).getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=u(this,bn).getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle key down");const r=t.getDrawController(),i=new mw(e,r);u(this,bn).addToUndoStack(i),i.execute(),u(this,uo).onMouseOutShapeGroup()}if(n.key==="Escape"&&u(this,hr)!==null){const t=u(this,hr).getLayer();u(this,hr).destroy(),z(this,hr,null),Q(this,ut,WS).call(this),t.draw()}});G(this,Lc,n=>{if(u(this,ki)[n.type]!==void 0)for(let e=0;e<u(this,ki)[n.type].length;++e)u(this,ki)[n.type][e](n)});z(this,bn,n),z(this,rg,new U1(n)),z(this,uo,new CG(n,u(this,Lc))),z(this,va,n.getStyle())}activate(n){n||u(this,uo).onMouseOutShapeGroup();const e=u(this,bn).getDrawLayers();for(const t of e)t!==void 0&&Q(this,ut,I4).call(this,t,n);u(this,bn).addEventListener("drawlayeradd",t=>{const r=u(this,bn).getDrawLayers(function(i){return i.getId()===t.layerid});r.length===1&&Q(this,ut,I4).call(this,r[0],n)})}setOptions(n){z(this,Y0,n)}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&z(this,eh,n.autoShapeColour),n.shapeColour!==void 0&&(u(this,va).setLineColour(n.shapeColour),z(this,eh,!1)),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");z(this,ig,n.shapeName)}n.mouseOverCursor!==void 0&&u(this,uo).storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&z(this,og,n.withScroll),n.refMetaValidator!==void 0&&z(this,X0,n.refMetaValidator),n.drawMetaValidator!==void 0&&z(this,K0,n.drawMetaValidator),n.annotationGroupMeta!==void 0&&z(this,Z0,n.annotationGroupMeta),n.annotationMeta!==void 0&&z(this,J0,n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){u(this,ki)[n]===void 0&&(u(this,ki)[n]=[]),u(this,ki)[n].push(e)}removeEventListener(n,e){if(u(this,ki)[n]!==void 0)for(let t=0;t<u(this,ki)[n].length;++t)u(this,ki)[n][t]===e&&u(this,ki)[n].splice(t,1)}hasShape(n){return u(this,Y0)[n]!==void 0}},bn=new WeakMap,rg=new WeakMap,va=new WeakMap,so=new WeakMap,Y0=new WeakMap,lo=new WeakMap,hr=new WeakMap,ig=new WeakMap,Gn=new WeakMap,ai=new WeakMap,og=new WeakMap,X0=new WeakMap,K0=new WeakMap,Z0=new WeakMap,J0=new WeakMap,uo=new WeakMap,eh=new WeakMap,ki=new WeakMap,th=new WeakMap,nh=new WeakMap,ut=new WeakSet,fL=function(n){let e=!0;if(u(this,X0)!==void 0){const t=n.getActiveViewLayer().getDataId(),r=u(this,bn).getData(t).image.getMeta();e=u(this,X0).call(this,r)}return e},pL=function(n){let e=!0;if(u(this,K0)!==void 0){const t=n.getDataId(),r=u(this,bn).getData(t).annotationGroup.getMeta();e=u(this,K0).call(this,r)}return e},gL=function(n){const e=n.getActiveViewLayer().getDataId(),t=u(this,bn).createAnnotationData(e);if(u(this,Z0)!==void 0)for(const i of u(this,Z0))t.annotationGroup.setMetaValue(i.concept,i.value);u(this,bn).addAndRenderAnnotationData(t,n.getDivId(),e);const r=n.getActiveDrawLayer();return r.setShapeHandler(u(this,uo)),n.setActiveLayerByDataId(r.getDataId()),r},D4=function(n,e){const t=u(this,bn).getLayerGroupByDivId(e);let r=t.getActiveDrawLayer();if(r===void 0){if(!Q(this,ut,fL).call(this,t))return void u(this,Lc).call(this,{type:"warn",message:"Cannot create draw layer, reference meta is invalid"});r=Q(this,ut,gL).call(this,t)}else if(!Q(this,ut,pL).call(this,r))return void u(this,Lc).call(this,{type:"warn",message:"Cannot create draw, data meta is invalid"});const i=r.getDrawController().getAnnotationGroup(),o=r.getKonvaStage();if(u(this,va).setZoomScale(o.scale()),i.isEditable()){const l=o.getIntersection({x:n.getX(),y:n.getY()});l?Q(this,ut,yL).call(this,r,l):Q(this,ut,mL).call(this,t,n)}},zS=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Pe.warn("No draw layer to do draw")},mL=function(n,e){u(this,uo).disableAndResetEditor(),Q(this,ut,SL).call(this);const t=Q(this,ut,zS).call(this,n);t!==void 0?(z(this,ai,t.displayToPlanePos(e)),u(this,Gn).push(u(this,ai))):Pe.warn("No view layer to start shape")},SL=function(){z(this,so,!0),z(this,lo,new(u(this,Y0))[u(this,ig)]),z(this,Gn,[])},WS=function(){z(this,so,!1),z(this,Gn,[])},yL=function(n,e){let t=e.getParent();e instanceof _e.default.Tag&&(t=t.getParent());const r=t.find(".shape")[0];r instanceof _e.default.Shape&&(u(this,Lc).call(this,{type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),u(this,uo).setEditorShape(r,n))},vL=function(n,e){const t=u(this,bn).getLayerGroupByDivId(e),r=Q(this,ut,zS).call(this,t);if(r===void 0)return void Pe.warn("No view layer to update shape");const i=r.displayToPlanePos(n);(Math.abs(i.getX()-u(this,ai).getX())>0||Math.abs(i.getY()-u(this,ai).getY())>0)&&(u(this,th)&&u(this,Gn).pop(),z(this,ai,i),z(this,th,!0),u(this,Gn).push(u(this,ai)),Q(this,ut,x4).call(this,u(this,Gn),t))},CL=function(n){if(u(this,Gn).length!==0){if(u(this,Gn).length===u(this,lo).getNPoints()){const e=u(this,bn).getLayerGroupByDivId(n);Q(this,ut,T4).call(this,u(this,Gn),e),Q(this,ut,WS).call(this)}z(this,th,!1)}else Pe.warn("Draw mouseup but no points...")},x4=function(n,e){u(this,hr)&&(u(this,hr).destroy(),z(this,hr,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle new points");const r=t.getDrawController(),i=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Pe.warn("No view layer to handle new points");const l=o.getViewController();if(u(this,eh)){const h=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],f=t.getId(),m=f.substring(f.length-1),v=h[parseInt(m,10)-1];v!==void 0&&u(this,va).setLineColour(v)}const s=new qs,d=r.getAnnotationGroup().getColour();s.colour=d!==void 0?d:u(this,va).getLineColour(),s.init(l),u(this,lo).setAnnotationMathShape(s,n),z(this,hr,u(this,lo).createShapeGroup(s,u(this,va))),t.setLabelVisibility(u(this,hr)),u(this,hr).getChildren(pu)[0].listening(!1),i.listening(!1),i.add(u(this,hr)),i.draw()},T4=function(n,e){u(this,hr)&&(u(this,hr).destroy(),z(this,hr,null));const t=e.getActiveDrawLayer();if(t===void 0)return void Pe.warn("No draw layer to handle final points");const r=t.getKonvaLayer(),i=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void Pe.warn("No view layer to handle final points");const l=o.getViewController(),s=new qs,d=i.getAnnotationGroup().getColour();if(s.colour=d!==void 0?d:u(this,va).getLineColour(),s.init(l),u(this,J0)!==void 0)for(const f of u(this,J0))s.addMetaItem(f.concept,f.value);u(this,lo).setAnnotationMathShape(s,n);const h=new kS(s,i);u(this,bn).addToUndoStack(h),h.execute(),r.listening(!0)},P4=function(n){const e=n.getId();return u(this,nh)[e]===void 0&&(u(this,nh)[e]=()=>{n.activateCurrentPositionShapes(!0)}),u(this,nh)[e]},I4=function(n,e){n.setShapeHandler(u(this,uo)),n.activateCurrentPositionShapes(e),e?u(this,bn).addEventListener("positionchange",Q(this,ut,P4).call(this,n)):u(this,bn).removeEventListener("positionchange",Q(this,ut,P4).call(this,n))},Lc=new WeakMap,kP),Brush:GG,Filter:(_P=class{constructor(n){G(this,rh);G(this,Nr,null);G(this,Ql,0);G(this,ih,new Bi);ae(this,"keydown",n=>{n.context="Filter",u(this,rh).onKeydown(n)});G(this,Rc,n=>{u(this,ih).fireEvent(n)});z(this,rh,n)}activate(n){for(const e in u(this,Nr))n?(u(this,Nr)[e].addEventListener("filterrun",u(this,Rc)),u(this,Nr)[e].addEventListener("filterundo",u(this,Rc))):(u(this,Nr)[e].removeEventListener("filterrun",u(this,Rc)),u(this,Nr)[e].removeEventListener("filterundo",u(this,Rc)))}setOptions(n){z(this,Nr,{});for(const e in n)u(this,Nr)[e]=new n[e](u(this,rh))}getOptionsType(){return"instance"}init(){for(const n in u(this,Nr))u(this,Nr)[n].init()}getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){u(this,ih).add(n,e)}removeEventListener(n,e){u(this,ih).remove(n,e)}getSelectedFilter(){return u(this,Ql)}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");u(this,Ql)&&u(this,Ql).activate(!1),z(this,Ql,u(this,Nr)[n.filterName]),u(this,Ql).activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return u(this,Nr)}hasFilter(n){return u(this,Nr)[n]}},rh=new WeakMap,Nr=new WeakMap,Ql=new WeakMap,ih=new WeakMap,Rc=new WeakMap,_P),Floodfill:(FP=class{constructor(n){G(this,Tn);G(this,co);G(this,Q2,5);G(this,z2,0);G(this,W2,2e3);G(this,zl,null);G(this,Ac,null);G(this,xs,10);G(this,Ca,null);G(this,Oc,!1);G(this,ho);G(this,Qo);G(this,Ec,null);G(this,oh,[]);G(this,ag,!1);G(this,Wl,new w2);G(this,sg,(n,e)=>{const t=u(this,co).getLayerGroupByDivId(e),r=Q(this,Tn,L4).call(this,t);if(r===void 0)return void Pe.warn("No view layer to get index");const i=r.displayToPlaneIndex(n);return{x:i.get(0),y:i.get(1)}});ae(this,"mousedown",n=>{const e=Nn(n),t=Pt(n);Q(this,Tn,R4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,Tn,A4).call(this,e,t.groupDivId)});ae(this,"mouseup",n=>{Q(this,Tn,HS).call(this)});ae(this,"mouseout",n=>{Q(this,Tn,HS).call(this)});ae(this,"touchstart",n=>{const e=Yr(n),t=Pt(n);Q(this,Tn,R4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Yr(n),t=Pt(n);Q(this,Tn,A4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{Q(this,Tn,HS).call(this)});ae(this,"keydown",n=>{n.context="Floodfill",u(this,co).onKeydown(n)});z(this,co,n)}setExtend(n){z(this,ag,n)}getExtend(){return u(this,ag)}extend(n,e,t){if(!u(this,Qo))throw"'initialpoint' not found. User must click before use extend!";const r=t.getPositionHelper(),i=Q(this,Tn,L4).call(this,t);if(i===void 0)return void Pe.warn("No view layer to extend floodfill");const o=i.getViewController(),l=o.getCurrentIndex(),s=o.getImageSize(),d=u(this,Ca)||u(this,xs);for(let h=l.get(2),f=e||s.get(2);h<f&&Q(this,Tn,q1).call(this,u(this,Qo),d,t);h++)r.incrementPositionAlongScroll();o.setCurrentIndex(l);for(let h=l.get(2),f=n||0;h>f&&Q(this,Tn,q1).call(this,u(this,Qo),d,t);h--)r.decrementPositionAlongScroll();o.setCurrentIndex(l)}onThresholdChange(n){}activate(n){n&&(u(this,Wl).setBaseScale(u(this,co).getBaseScale()),this.setFeatures({shapeColour:u(this,Wl).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,Wl).setLineColour(n.shapeColour)}},co=new WeakMap,Q2=new WeakMap,z2=new WeakMap,W2=new WeakMap,zl=new WeakMap,Ac=new WeakMap,xs=new WeakMap,Ca=new WeakMap,Oc=new WeakMap,ho=new WeakMap,Qo=new WeakMap,Ec=new WeakMap,oh=new WeakMap,ag=new WeakMap,Wl=new WeakMap,Tn=new WeakSet,L4=function(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());Pe.warn("No draw layer to do floodfill")},sg=new WeakMap,wL=function(n,e,t){z(this,oh,[]);const r={data:u(this,zl).data,width:u(this,zl).width,height:u(this,zl).height,bytes:4};z(this,Ac,hS.default.floodFill(r,n.x,n.y,e)),z(this,Ac,hS.default.gaussBlurOnlyBorder(u(this,Ac),u(this,Q2)));let i=hS.default.traceContours(u(this,Ac));if(i=hS.default.simplifyContours(i,u(this,z2),u(this,W2)),i.length>0&&i[0].points[0].x){if(t)return i[0].points;for(let o=0,l=i[0].points.length;o<l;o++)u(this,oh).push(new Le(i[0].points[o].x,i[0].points[o].y));return u(this,oh)}return[]},q1=function(n,e,t){if(z(this,Ec,Q(this,Tn,wL).call(this,n,e,!1)),u(this,Ec).length!==0){const r=t.getActiveDrawLayer();if(r===void 0)return Pe.warn("No draw layer to paint border"),!1;const i=r.getDrawController(),o=new Xo(u(this,Ec));let l;if(u(this,ho)===void 0){z(this,ho,new qs),u(this,ho).colour=u(this,Wl).getLineColour();const s=t.getViewLayerById(r.getReferenceLayerId());if(s===void 0)return Pe.warn("No view layer to paint border"),!1;const d=s.getViewController();u(this,ho).init(d),u(this,ho).mathShape=o,l=new kS(u(this,ho),i)}else{const s=u(this,ho).mathShape;l=new td(u(this,ho),{mathShape:s},{mathShape:o},i)}u(this,co).addToUndoStack(l),l.execute()}return u(this,Ec).length!==0},R4=function(n,e){z(this,ho,void 0);const t=u(this,co).getLayerGroupByDivId(e);let r,i=t.getActiveDrawLayer();if(i===void 0){r=t.getActiveViewLayer();const o=r.getDataId(),l=u(this,co).createAnnotationData(o);u(this,co).addAndRenderAnnotationData(l,e,o),i=t.getActiveDrawLayer(),t.setActiveLayerByDataId(i.getDataId())}else if(r=t.getViewLayerById(i.getReferenceLayerId()),r===void 0)return void Pe.warn("No view layer to start floodfill");z(this,zl,r.getImageData()),u(this,zl)?(u(this,Wl).setZoomScale(i.getKonvaLayer().getAbsoluteScale()),z(this,Oc,!0),z(this,Qo,u(this,sg).call(this,n,e)),Q(this,Tn,q1).call(this,u(this,Qo),u(this,xs),t),this.onThresholdChange(u(this,xs))):Pe.error("No image found")},A4=function(n,e){if(!u(this,Oc))return;const t=u(this,sg).call(this,n,e);z(this,Ca,Math.round(Math.sqrt(Math.pow(u(this,Qo).x-t.x,2)+Math.pow(u(this,Qo).y-t.y,2))/2)),z(this,Ca,u(this,Ca)<u(this,xs)?u(this,xs):u(this,Ca)-u(this,xs)),Q(this,Tn,q1).call(this,u(this,Qo),u(this,Ca),u(this,co).getLayerGroupByDivId(e)),this.onThresholdChange(u(this,Ca))},HS=function(){u(this,Oc)&&z(this,Oc,!1)},FP),Livewire:(MP=class{constructor(n){G(this,Lr);G(this,zo);G(this,kc,!1);G(this,ah);G(this,fo);G(this,Hl,new w2);G(this,Ts,new A1);G(this,wa,new A1);G(this,Ps,[]);G(this,lg,5);G(this,Is,new WG);ae(this,"mousedown",n=>{const e=Nn(n),t=Pt(n);Q(this,Lr,E4).call(this,e,t.groupDivId)});ae(this,"mousemove",n=>{const e=Nn(n),t=Pt(n);Q(this,Lr,k4).call(this,e,t.groupDivId)});ae(this,"mouseout",n=>{});ae(this,"dblclick",n=>{Q(this,Lr,_4).call(this)});ae(this,"touchstart",n=>{const e=Yr(n),t=Pt(n);Q(this,Lr,E4).call(this,e[0],t.groupDivId)});ae(this,"touchmove",n=>{const e=Yr(n),t=Pt(n);Q(this,Lr,k4).call(this,e[0],t.groupDivId)});ae(this,"touchend",n=>{});ae(this,"keydown",n=>{n.context="Livewire",u(this,zo).onKeydown(n)});z(this,zo,n)}mouseup(n){}activate(n){n&&(u(this,Hl).setBaseScale(u(this,zo).getBaseScale()),this.setFeatures({shapeColour:u(this,Hl).getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&u(this,Hl).setLineColour(n.shapeColour)}},zo=new WeakMap,kc=new WeakMap,ah=new WeakMap,fo=new WeakMap,Hl=new WeakMap,Ts=new WeakMap,wa=new WeakMap,Ps=new WeakMap,lg=new WeakMap,Lr=new WeakSet,O4=function(n){const e=n.get(1);for(let t=0;t<e;++t)u(this,Ps)[t]=[]},bL=function(){z(this,Ts,new A1),z(this,wa,new A1)},Is=new WeakMap,E4=function(n,e){const t=u(this,zo).getLayerGroupByDivId(e);let r,i=t.getActiveDrawLayer();r=i===void 0?t.getActiveViewLayer():t.getViewLayerById(i.getReferenceLayerId());const o=r.getViewController().getImageSize();u(this,Is).setDimensions(o.get(0),o.get(1)),u(this,Is).setData(r.getImageData().data);const l=r.displayToPlaneIndex(n);if(u(this,kc)){const s=Math.abs(l.get(0)-u(this,ah).getX()),d=Math.abs(l.get(1)-u(this,ah).getY());if(s<u(this,lg)&&d<u(this,lg))Q(this,Lr,_4).call(this);else{z(this,Ts,u(this,wa)),Q(this,Lr,O4).call(this,o);const h={x:l.get(0),y:l.get(1)};u(this,Is).doTraining(h),u(this,Ts).addControlPoint(u(this,wa).getPoint(0))}}else{if(z(this,fo,void 0),z(this,kc,!0),z(this,ah,new Le(l.get(0),l.get(1))),Q(this,Lr,bL).call(this),Q(this,Lr,O4).call(this,o),i===void 0){const h=r.getDataId(),f=u(this,zo).createAnnotationData(h);u(this,zo).addAndRenderAnnotationData(f,e,h),i=t.getActiveDrawLayer(),t.setActiveLayerByDataId(i.getDataId())}u(this,Hl).setZoomScale(i.getKonvaLayer().getAbsoluteScale());const s={x:l.get(0),y:l.get(1)};u(this,Is).doTraining(s);const d=new Le(l.get(0),l.get(1));u(this,Ts).addPoint(d),u(this,Ts).addControlPoint(d)}},k4=function(n,e){if(!u(this,kc))return;const t=u(this,zo).getLayerGroupByDivId(e),r=t.getActiveDrawLayer();if(r===void 0)return void Pe.warn("No draw layer to update livewire");const i=t.getViewLayerById(r.getReferenceLayerId());if(i===void 0)return void Pe.warn("No view layer to update livewire");const o=i.displayToPlaneIndex(n);let l={x:o.get(0),y:o.get(1)};u(this,Is).setPoint(l);let s=[],d=!1;for(;!u(this,Ps)[l.y][l.x]&&!d;)if(s=u(this,Is).doWork(),s.length===0)d=!0;else for(let v=0;v<s.length-1;v+=2){const g=s[v],S=s[v+1];u(this,Ps)[g.y][g.x]=S}for(z(this,wa,new A1),d=!1;l&&!d;)u(this,wa).addPoint(new Le(l.x,l.y)),u(this,Ps)[l.y]&&u(this,Ps)[l.y][l.x]?l=u(this,Ps)[l.y][l.x]:d=!0;u(this,wa).appenPath(u(this,Ts));const h=r.getDrawController(),f=new Xo(u(this,wa).pointArray);let m;if(u(this,fo)===void 0){z(this,fo,new qs),u(this,fo).colour=u(this,Hl).getLineColour();const v=i.getViewController();u(this,fo).init(v),u(this,fo).mathShape=f,m=new kS(u(this,fo),h)}else{const v=u(this,fo).mathShape;m=new td(u(this,fo),{mathShape:v},{mathShape:f},h)}u(this,zo).addToUndoStack(m),m.execute()},_4=function(){z(this,kc,!1)},MP)};var sh,jl,rn,M4,DL,xL,TL,PL,jS,IL,LL,RL,KG,ZG,NP,lh,Ls,dn,N4,AL,OL,EL,U4,B4,kL,_L,FL,JG,UP,uh,Rs,hn,q4,ML,NL,UL,V4,G4,BL,qL,VL,eQ,BP,ch,As,Yt,Q4,GL,QL,zL,z4,$S,WL,HL,jL,tQ,nQ,qP,dh,$l,mn,W4,$L,YL,XL,KL,H4,ZL,JL,eR,rQ,VP,hh,Os,cn,tR,j4,nR,rR,$4,YS,iR,oR,iQ,oQ,GP,fh,Es,Xt,Y4,aR,sR,lR,X4,XS,uR,cR,dR,aQ,sQ,QP,_c,Fc,ph,gh,ug,zP,Mc,mh,cg,WP,Nc,Sh,dg,HP;const F4={draw:{ArrowFactory:(NP=class{constructor(){G(this,rn);G(this,sh,"arrow");G(this,jl,new Gu(Q(this,rn,LL)))}static supports(n){return n instanceof Le}getName(){return u(this,sh)}getGroupName(){return u(this,sh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,rn,xL).call(this,e),n.referencePoints=[e[1]],n.setTextExpr(Q(this,rn,TL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,rn,PL).call(this,n,e);t.add(r);const i=Q(this,rn,IL).call(this,n,e);for(const s of i)t.add(s);const o=u(this,jl).create(n,e);t.add(o);const l=Q(this,rn,M4).call(this,r);return t.add(u(this,jl).getConnector(l,o,e)),t}getAnchors(n,e){const t=Q(this,rn,DL).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,rn,RL).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,jl).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const r=Q(this,rn,jS).call(this,t),i=bt(t,0),o=bt(t,1),l=new Le(i.x()-r.x(),i.y()-r.y()),s=new Le(o.x()-r.x(),o.y()-r.y());n.mathShape=l,n.referencePoints=[s],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=n.referencePoints[0],i=new jt(t,r),o=i.getBegin(),l=new Le(o.getX()+e.x,o.getY()+e.y),s=i.getEnd(),d=new Le(s.getX()+e.x,s.getY()+e.y);n.mathShape=l,n.referencePoints=[d],n.updateQuantification()}updateLabelContent(n,e,t){u(this,jl).updateContent(n,e)}updateConnector(n){const e=Q(this,rn,jS).call(this,n),t=Q(this,rn,M4).call(this,e);u(this,jl).updateConnector(n,t)}},sh=new WeakMap,jl=new WeakMap,rn=new WeakSet,M4=function(n){const e=n.points(),t=n.x(),r=n.y(),i=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+r;return[new Le(i,o)]},DL=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Le(e[0]+t,e[1]+r),new Le(e[2]+t,e[3]+r)]},xL=function(n){return n[0]},TL=function(){return qu[u(this,sh)]},PL=function(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const r=n.referencePoints[0],i=new jt(t,r),o=new _e.default.Line({points:[t.getX(),t.getY(),r.getX(),r.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),l=Mo(i,t,20,e.getZoomScale()),s=Mo(i,r,20,e.getZoomScale());return o.hitFunc(function(d){d.beginPath(),d.moveTo(l.getBegin().getX(),l.getBegin().getY()),d.lineTo(l.getEnd().getX(),l.getEnd().getY()),d.lineTo(s.getEnd().getX(),s.getEnd().getY()),d.lineTo(s.getBegin().getX(),s.getBegin().getY()),d.closePath(),d.fillStrokeShape(o)}),o},jS=function(n){return dS(n)},IL=function(n,e){const t=n.mathShape,r=n.referencePoints[0],i=new jt(t,r),o=zT(i,40,20,e.getZoomScale());return[new _e.default.Line({points:[i.getBegin().getX(),i.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]},LL=function(n){return n.mathShape},RL=function(n,e,t){const r=n.mathShape,i=n.referencePoints[0],o=new jt(r,i),l=e.getParent();if(!(l instanceof _e.default.Group))return;const s=Q(this,rn,jS).call(this,l);s.position({x:0,y:0}),s.points([r.getX(),r.getY(),i.getX(),i.getY()]);const d=l.getChildren(function(S){return S.name()==="shape-triangle"})[0];if(!(d instanceof _e.default.Line))return;const h=bt(l,0),f=bt(l,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:Pe.error("Unhandled anchor id: "+e.id())}const m=zT(o,40,20,t.getZoomScale());d.position({x:0,y:0}),d.points([o.getBegin().getX(),o.getBegin().getY(),m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]);const v=Mo(o,r,20,t.getZoomScale()),g=Mo(o,i,20,t.getZoomScale());s.hitFunc(function(S){S.beginPath(),S.moveTo(v.getBegin().getX(),v.getBegin().getY()),S.lineTo(v.getEnd().getX(),v.getEnd().getY()),S.lineTo(g.getEnd().getX(),g.getEnd().getY()),S.lineTo(g.getBegin().getX(),g.getBegin().getY()),S.closePath(),S.fillStrokeShape(s)})},KG=function(n,e){},ZG=function(n,e){},NP),CircleFactory:(UP=class{constructor(){G(this,dn);G(this,lh,"circle");G(this,Ls,new Gu(Q(this,dn,kL)))}static supports(n){return n instanceof tc}getName(){return u(this,lh)}getGroupName(){return u(this,lh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,dn,OL).call(this,e),n.setTextExpr(Q(this,dn,EL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,dn,U4).call(this,n,e);t.add(Q(this,dn,U4).call(this,n,e));const i=u(this,Ls).create(n,e);t.add(u(this,Ls).create(n,e));const o=Q(this,dn,N4).call(this,r);return t.add(u(this,Ls).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,dn,AL).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof _e.default.Group))return;const t=bt(e,0),r=bt(e,1),i=bt(e,2),o=bt(e,3);switch(n.id()){case"anchor0":t.y(r.y());break;case"anchor1":r.y(t.y());break;case"anchor2":i.x(o.x());break;case"anchor3":o.x(i.x());break;default:Pe.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,dn,_L).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Ls).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,r=new Le(t.getCenter().getX(),t.getCenter().getY()),i=new Le(e.x(),e.y()),o=r.getDistance(i);n.mathShape=new tc(r,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getCenter(),i=new Le(r.getX()+e.x,r.getY()+e.y);n.mathShape=new tc(i,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Ls).updateContent(n,e)}updateConnector(n){const e=Q(this,dn,B4).call(this,n),t=Q(this,dn,N4).call(this,e);u(this,Ls).updateConnector(n,t)}},lh=new WeakMap,Ls=new WeakMap,dn=new WeakSet,N4=function(n){const e=n.x(),t=n.y(),r=n.radius()*Math.sqrt(2)/2;return[new Le(e-r,t-r),new Le(e+r,t-r),new Le(e-r,t+r),new Le(e+r,t+r)]},AL=function(n){const e=n.x(),t=n.y(),r=n.radius();return[new Le(e-r,t),new Le(e+r,t),new Le(e,t+r),new Le(e,t-r)]},OL=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),r=Math.round(Math.sqrt(e*e+t*t));return new tc(n[0],r)},EL=function(){return qu[u(this,lh)]},U4=function(n,e){const t=n.mathShape;return new _e.default.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},B4=function(n){const e=n.getChildren(pu)[0];if(e instanceof _e.default.Circle)return e},kL=function(n){const e=n.mathShape,t=e.getCenter(),r=e.getRadius();return new Le(t.getX()-r,t.getY()+r)},_L=function(n,e,t){const r=n.mathShape,i=r.getCenter(),o=r.getRadius(),l=e.getParent();if(!(l instanceof _e.default.Group))return;Q(this,dn,B4).call(this,l).radius(o);const s=bt(l,0),d=bt(l,1),h=bt(l,2),f=bt(l,3),m=d.x()<s.x()?-1:1,v=f.y()<h.y()?1:-1;switch(e.id()){case"anchor0":s.x(e.x()),d.x(i.getX()+m*o),h.y(i.getY()+o),f.y(i.getY()-o);break;case"anchor1":d.x(e.x()),s.x(i.getX()-m*o),h.y(i.getY()+o),f.y(i.getY()-o);break;case"anchor2":h.y(e.y()),s.x(i.getX()-o),d.x(i.getX()+o),f.y(i.getY()-v*o);break;case"anchor3":f.y(e.y()),s.x(i.getX()-o),d.x(i.getX()+o),h.y(i.getY()+v*o);break;default:Pe.error("Unhandled anchor id: "+e.id())}},FL=function(n,e){const t=n.mathShape;let r=0,i=0;e!==void 0&&(r=e.x(),i=e.y());const o=new _e.default.Group;o.name("shadow");const l=t.getRound();for(let s=0;s<l.length;++s){const d=l[s],h=d[0][0],f=d[0][1],m=d[1][0],v=new _e.default.Rect({x:h-r,y:f-i,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o},JG=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,dn,FL).call(this,n,e);e.add(r),r.moveToBottom()}},UP),EllipseFactory:(BP=class{constructor(){G(this,hn);G(this,uh,"ellipse");G(this,Rs,new Gu(Q(this,hn,BL)))}static supports(n){return n instanceof ec}getName(){return u(this,uh)}getGroupName(){return u(this,uh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,hn,NL).call(this,e),n.setTextExpr(Q(this,hn,UL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,hn,V4).call(this,n,e);t.add(Q(this,hn,V4).call(this,n,e));const i=u(this,Rs).create(n,e);t.add(u(this,Rs).create(n,e));const o=Q(this,hn,q4).call(this,r);return t.add(u(this,Rs).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,hn,ML).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof _e.default.Group))return;const t=bt(e,0),r=bt(e,1),i=bt(e,2),o=bt(e,3);switch(n.id()){case"anchor0":t.y(r.y());break;case"anchor1":r.y(t.y());break;case"anchor2":i.x(o.x());break;case"anchor3":o.x(i.x());break;default:Pe.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,hn,qL).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Rs).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,r=t.getCenter();let i=t.getA(),o=t.getB();switch(e.id()){case"anchor0":i=r.getX()-e.x();break;case"anchor1":i=e.x()-r.getX();break;case"anchor2":o=e.y()-r.getY();break;case"anchor3":o=r.getY()-e.y();break;default:Pe.error("Unhandled anchor id: "+e.id())}n.mathShape=new ec(r,Math.abs(i),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getCenter(),i=new Le(r.getX()+e.x,r.getY()+e.y);n.mathShape=new ec(i,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Rs).updateContent(n,e)}updateConnector(n){const e=Q(this,hn,G4).call(this,n),t=Q(this,hn,q4).call(this,e);u(this,Rs).updateConnector(n,t)}},uh=new WeakMap,Rs=new WeakMap,hn=new WeakSet,q4=function(n){const e=n.x(),t=n.y(),r=n.radiusX()*Math.sqrt(2)/2,i=n.radiusY()*Math.sqrt(2)/2;return[new Le(e-r,t-i),new Le(e+r,t-i),new Le(e-r,t+i),new Le(e+r,t+i)]},ML=function(n){const e=n.x(),t=n.y(),r=n.radius();return[new Le(e-r.x,t),new Le(e+r.x,t),new Le(e,t+r.y),new Le(e,t-r.y)]},NL=function(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new ec(n[0],e,t)},UL=function(){return qu[u(this,uh)]},V4=function(n,e){const t=n.mathShape,r=t.getCenter(),i={x:t.getA(),y:t.getB()};return new _e.default.Ellipse({x:r.getX(),y:r.getY(),radius:i,radiusX:i.x,radiusY:i.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},G4=function(n){const e=n.getChildren(pu)[0];if(e instanceof _e.default.Ellipse)return e},BL=function(n){const e=n.mathShape,t=e.getCenter();return new Le(t.getX()-e.getA(),t.getY()+e.getB())},qL=function(n,e,t){const r=n.mathShape,i=r.getCenter(),o=r.getA(),l=r.getB(),s=e.getParent();if(!(s instanceof _e.default.Group))return;Q(this,hn,G4).call(this,s).radius({x:o,y:l});const d=bt(s,0),h=bt(s,1),f=bt(s,2),m=bt(s,3),v=h.x()<d.x()?-1:1,g=m.y()<f.y()?1:-1;switch(e.id()){case"anchor0":d.x(e.x()),h.x(i.getX()+v*o),f.y(i.getY()+l),m.y(i.getY()-l);break;case"anchor1":h.x(e.x()),d.x(i.getX()-v*o),f.y(i.getY()+l),m.y(i.getY()-l);break;case"anchor2":f.y(e.y()),d.x(i.getX()-o),h.x(i.getX()+o),m.y(i.getY()-g*l);break;case"anchor3":m.y(e.y()),d.x(i.getX()-o),h.x(i.getX()+o),f.y(i.getY()+g*l);break;default:Pe.error("Unhandled anchor id: "+e.id())}},VL=function(n,e){const t=n.mathShape;let r=0,i=0;e!==void 0&&(r=e.x(),i=e.y());const o=new _e.default.Group;o.name("shadow");const l=t.getRound();for(let s=0;s<l.length;++s){const d=l[s],h=d[0][0],f=d[0][1],m=d[1][0],v=new _e.default.Rect({x:h-r,y:f-i,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o},eQ=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,hn,VL).call(this,n,e);e.add(r),r.moveToBottom()}},BP),ProtractorFactory:(qP=class{constructor(){G(this,Yt);G(this,ch,"protractor");G(this,As,new Gu(Q(this,Yt,HL)))}static supports(n){return n instanceof Ju}getName(){return u(this,ch)}getGroupName(){return u(this,ch)+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=Q(this,Yt,QL).call(this,e),n.setTextExpr(Q(this,Yt,zL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,r=new _e.default.Group;r.name(this.getGroupName()),r.visible(!0),r.id(n.trackingUid);const i=Q(this,Yt,z4).call(this,n,e);if(r.add(Q(this,Yt,z4).call(this,n,e)),t.getLength()===this.getNPoints()){const o=Q(this,Yt,WL).call(this,n,e);for(const d of o)r.add(d);const l=u(this,As).create(n,e);r.add(u(this,As).create(n,e));const s=Q(this,Yt,Q4).call(this,i);r.add(u(this,As).getConnector(s,l,e))}return r}getAnchors(n,e){const t=Q(this,Yt,GL).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,Yt,jL).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,As).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const r=Q(this,Yt,$S).call(this,t),i=bt(t,0),o=bt(t,1),l=bt(t,2),s=new Le(i.x()-r.x(),i.y()-r.y()),d=new Le(o.x()-r.x(),o.y()-r.y()),h=new Le(l.x()-r.x(),l.y()-r.y());n.mathShape=new Ju([s,d,h]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=[];for(let i=0;i<3;++i)r.push(new Le(t.getPoint(i).getX()+e.x,t.getPoint(i).getY()+e.y));n.mathShape=new Ju(r),n.updateQuantification()}updateLabelContent(n,e,t){u(this,As).updateContent(n,e)}updateConnector(n){const e=Q(this,Yt,$S).call(this,n),t=Q(this,Yt,Q4).call(this,e);u(this,As).updateConnector(n,t)}},ch=new WeakMap,As=new WeakMap,Yt=new WeakSet,Q4=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Le(e[2]+t,e[3]+r)]},GL=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Le(e[0]+t,e[1]+r),new Le(e[2]+t,e[3]+r),new Le(e[4]+t,e[5]+r)]},QL=function(n){return new Ju(n)},zL=function(){return qu[u(this,ch)]},z4=function(n,e){const t=n.mathShape,r=[];for(let o=0;o<t.getLength();++o)r.push(t.getPoint(o).getX()),r.push(t.getPoint(o).getY());const i=new _e.default.Line({points:r,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&i.hitFunc(function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(i)}),i},$S=function(n){return dS(n)},WL=function(n,e){const t=n.mathShape,r=new jt(t.getPoint(0),t.getPoint(1)),i=new jt(t.getPoint(1),t.getPoint(2));let o=i4(r,i),l=r.getInclination();o>180&&(o=360-o,l+=o);const s=33*Math.min(r.getLength(),i.getLength())/100;return[new _e.default.Arc({innerRadius:s,outerRadius:s,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-l,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]},HL=function(n){const e=n.mathShape,t=new jt(e.getPoint(0),e.getPoint(1)),r=new jt(e.getPoint(1),e.getPoint(2)),i=(t.getMidpoint().getX()+r.getMidpoint().getX())/2,o=(t.getMidpoint().getY()+r.getMidpoint().getY())/2;return new Le(i,o)},jL=function(n,e,t){const r=n.mathShape,i=new jt(r.getPoint(0),r.getPoint(1)),o=new jt(r.getPoint(1),r.getPoint(2)),l=e.getParent();if(!(l instanceof _e.default.Group))return;const s=Q(this,Yt,$S).call(this,l);s.position({x:0,y:0}),s.points([r.getPoint(0).getX(),r.getPoint(0).getY(),r.getPoint(1).getX(),r.getPoint(1).getY(),r.getPoint(2).getX(),r.getPoint(2).getY()]);const d=l.getChildren(function(C){return C.name()==="shape-arc"})[0];if(!(d instanceof _e.default.Arc))return;const h=bt(l,0),f=bt(l,1),m=bt(l,2);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;case"anchor2":m.x(e.x()),m.y(e.y())}let v=i4(i,o),g=i.getInclination();v>180&&(v=360-v,g+=v);const S=33*Math.min(i.getLength(),o.getLength())/100;d.innerRadius(S),d.outerRadius(S),d.angle(v),d.rotation(-g);const y={x:f.x(),y:f.y()};d.position(y),s.hitFunc(function(C){C.beginPath(),C.moveTo(r.getPoint(0).getX(),r.getPoint(0).getY()),C.lineTo(r.getPoint(1).getX(),r.getPoint(1).getY()),C.lineTo(r.getPoint(2).getX(),r.getPoint(2).getY()),C.closePath(),C.fillStrokeShape(s)})},tQ=function(n,e){},nQ=function(n,e){},qP),RectangleFactory:(VP=class{constructor(){G(this,mn);G(this,dh,"rectangle");G(this,$l,new Gu(Q(this,mn,ZL)))}static supports(n){return n instanceof Zu}getName(){return u(this,dh)}getGroupName(){return u(this,dh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,mn,YL).call(this,e),n.setTextExpr(Q(this,mn,XL).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,mn,KL).call(this,n,e);t.add(r);const i=u(this,$l).create(n,e);t.add(i);const o=Q(this,mn,W4).call(this,r);return t.add(u(this,$l).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,mn,$L).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,mn,JL).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,$l).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const r=bt(t,0),i=bt(t,2),o=new Le(r.x(),r.y()),l=new Le(i.x(),i.y());n.mathShape=new Zu(o,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getBegin(),i=new Le(r.getX()+e.x,r.getY()+e.y),o=t.getEnd(),l=new Le(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Zu(i,l),n.updateQuantification()}updateLabelContent(n,e,t){u(this,$l).updateContent(n,e)}updateConnector(n){const e=Q(this,mn,H4).call(this,n),t=Q(this,mn,W4).call(this,e);u(this,$l).updateConnector(n,t)}},dh=new WeakMap,$l=new WeakMap,mn=new WeakSet,W4=function(n){const e=n.x(),t=n.y(),r=n.width(),i=n.height();return[new Le(e+r/2,t),new Le(e,t+i/2),new Le(e+r/2,t+i),new Le(e+r,t+i/2)]},$L=function(n){const e=n.x(),t=n.y(),r=n.width(),i=n.height();return[new Le(e,t),new Le(e+r,t),new Le(e+r,t+i),new Le(e,t+i)]},YL=function(n){return new Zu(n[0],n[1])},XL=function(){return qu[u(this,dh)]},KL=function(n,e){const t=n.mathShape;return new _e.default.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})},H4=function(n){const e=n.getChildren(pu)[0];if(e instanceof _e.default.Rect)return e},ZL=function(n){const e=n.mathShape;return new Le(e.getBegin().getX(),e.getEnd().getY())},JL=function(n,e,t){const r=n.mathShape,i=r.getBegin(),o=e.getParent();if(!(o instanceof _e.default.Group))return;const l=Q(this,mn,H4).call(this,o);l.position({x:i.getX(),y:i.getY()}),l.size({width:r.getWidth(),height:r.getHeight()});const s=bt(o,0),d=bt(o,1),h=bt(o,2),f=bt(o,3);switch(e.id()){case"anchor0":s.x(e.x()),s.y(e.y()),d.y(e.y()),f.x(e.x());break;case"anchor1":d.x(e.x()),d.y(e.y()),s.y(e.y()),h.x(e.x());break;case"anchor2":h.x(e.x()),h.y(e.y()),f.y(e.y()),d.x(e.x());break;case"anchor3":f.x(e.x()),f.y(e.y()),h.y(e.y()),s.x(e.x());break;default:Pe.error("Unhandled anchor id: "+e.id())}},eR=function(n,e){const t=n.mathShape.getRound(),r=t.max.getX()-t.min.getX(),i=t.max.getY()-t.min.getY();return new _e.default.Rect({x:t.min.getX(),y:t.min.getY(),width:r,height:i,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})},rQ=function(n,e){const t=e.getChildren(function(r){return r.name()==="shadow"})[0];if(t!==void 0){t.destroy();const r=Q(this,mn,eR).call(this,n);e.add(r),r.moveToBottom()}},VP),RoiFactory:(GP=class{constructor(){G(this,cn);G(this,hh,"roi");G(this,Os,new Gu(Q(this,cn,iR)))}static supports(n){return n instanceof Xo}getName(){return u(this,hh)}getGroupName(){return u(this,hh)+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=Q(this,cn,nR).call(this,e),n.setTextExpr(Q(this,cn,rR).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,cn,$4).call(this,n,e);t.add(Q(this,cn,$4).call(this,n,e));const i=u(this,Os).create(n,e);t.add(u(this,Os).create(n,e));const o=Q(this,cn,j4).call(this,r);return t.add(u(this,Os).getConnector(o,i,e)),t}getAnchors(n,e){const t=Q(this,cn,tR).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,cn,oR).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Os).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const r=Q(this,cn,YS).call(this,t),i=n.mathShape.getPoints().slice(),o=new Le(e.x()-r.x(),e.y()-r.y());i[QT(e.id())]=o,n.mathShape=new Xo(i),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=[];for(let i=0;i<t.getLength();++i)r.push(new Le(t.getPoint(i).getX()+e.x,t.getPoint(i).getY()+e.y));n.mathShape=new Xo(r),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Os).updateContent(n,e)}updateConnector(n){const e=Q(this,cn,YS).call(this,n),t=Q(this,cn,j4).call(this,e);u(this,Os).updateConnector(n,t)}},hh=new WeakMap,Os=new WeakMap,cn=new WeakSet,tR=function(n){const e=n.points(),t=n.x(),r=n.y(),i=[];for(let o=0;o<e.length;o+=2)i.push(new Le(e[o]+t,e[o+1]+r));return i},j4=function(n){const e=n.points(),t=n.x(),r=n.y(),i=[];for(let o=0;o<e.length;o+=2){const l=(o+2)%e.length,s=(e[o]+e[l])/2+t,d=(e[o+1]+e[l+1])/2+r;i.push(new Le(s,d))}return i},nR=function(n){return new Xo(n)},rR=function(){return qu[u(this,hh)]},$4=function(n,e){const t=n.mathShape,r=[];for(let i=0;i<t.getLength();++i)r.push(t.getPoint(i).getX()),r.push(t.getPoint(i).getY());return new _e.default.Line({points:r,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})},YS=function(n){return dS(n)},iR=function(n){const e=n.mathShape;return new Le(e.getPoint(0).getX(),e.getPoint(0).getY())},oR=function(n,e,t){const r=e.getParent();if(!(r instanceof _e.default.Group))return;const i=Q(this,cn,YS).call(this,r),o=i.points(),l=2*QT(e.id());o[l]=e.x()-i.x(),o[l+1]=e.y()-i.y(),i.points(o);const s=r.getChildren(function(d){return d.id()===e.id()})[0];s.x(e.x()),s.y(e.y())},iQ=function(n,e){},oQ=function(n,e){},GP),RulerFactory:(QP=class{constructor(){G(this,Xt);G(this,fh,"ruler");G(this,Es,new Gu(Q(this,Xt,cR)))}static supports(n){return n instanceof jt}getName(){return u(this,fh)}getGroupName(){return u(this,fh)+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=Q(this,Xt,sR).call(this,e),n.setTextExpr(Q(this,Xt,lR).call(this)),n.updateQuantification()}createShapeGroup(n,e){const t=new _e.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const r=Q(this,Xt,X4).call(this,n,e);t.add(Q(this,Xt,X4).call(this,n,e));const i=Q(this,Xt,uR).call(this,n,e);for(const s of i)t.add(s);const o=u(this,Es).create(n,e);t.add(u(this,Es).create(n,e));const l=Q(this,Xt,Y4).call(this,r);return t.add(u(this,Es).getConnector(l,o,e)),t}getAnchors(n,e){const t=Q(this,Xt,aR).call(this,n),r=[];for(let i=0;i<t.length;++i)r.push(Vu(t[i].getX(),t[i].getY(),"anchor"+i,e));return r}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const r=e.getParent();r instanceof _e.default.Group&&(Q(this,Xt,dR).call(this,n,e,t),this.updateLabelContent(n,r,t),n.labelPosition===void 0&&u(this,Es).updatePosition(n,r),this.updateConnector(r))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof _e.default.Group))return;const r=Q(this,Xt,XS).call(this,t),i=bt(t,0),o=bt(t,1),l=new Le(i.x()-r.x(),i.y()-r.y()),s=new Le(o.x()-r.x(),o.y()-r.y());n.mathShape=new jt(l,s),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,r=t.getBegin(),i=new Le(r.getX()+e.x,r.getY()+e.y),o=t.getEnd(),l=new Le(o.getX()+e.x,o.getY()+e.y);n.mathShape=new jt(i,l),n.updateQuantification()}updateLabelContent(n,e,t){u(this,Es).updateContent(n,e)}updateConnector(n){const e=Q(this,Xt,XS).call(this,n),t=Q(this,Xt,Y4).call(this,e);u(this,Es).updateConnector(n,t)}},fh=new WeakMap,Es=new WeakMap,Xt=new WeakSet,Y4=function(n){const e=n.points(),t=n.x(),r=n.y(),i=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+r;return[new Le(i,o)]},aR=function(n){const e=n.points(),t=n.x(),r=n.y();return[new Le(e[0]+t,e[1]+r),new Le(e[2]+t,e[3]+r)]},sR=function(n){return new jt(n[0],n[1])},lR=function(){return qu[u(this,fh)]},X4=function(n,e){const t=n.mathShape,r=new _e.default.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),i=Mo(t,t.getBegin(),20,e.getZoomScale()),o=Mo(t,t.getEnd(),20,e.getZoomScale());return r.hitFunc(function(l){l.beginPath(),l.moveTo(i.getBegin().getX(),i.getBegin().getY()),l.lineTo(i.getEnd().getX(),i.getEnd().getY()),l.lineTo(o.getEnd().getX(),o.getEnd().getY()),l.lineTo(o.getBegin().getX(),o.getBegin().getY()),l.closePath(),l.fillStrokeShape(r)}),r},XS=function(n){return dS(n)},uR=function(n,e){const t=n.mathShape,r=Mo(t,t.getBegin(),20,e.getZoomScale()),i=new _e.default.Line({points:[r.getBegin().getX(),r.getBegin().getY(),r.getEnd().getX(),r.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=Mo(t,t.getEnd(),20,e.getZoomScale());return[i,new _e.default.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]},cR=function(n){const e=n.mathShape,t=e.getBegin(),r=e.getEnd();let i=t;return t.getY()<r.getY()&&(i=r),i},dR=function(n,e,t){const r=n.mathShape,i=e.getParent();if(!(i instanceof _e.default.Group))return;const o=Q(this,Xt,XS).call(this,i);o.position({x:0,y:0}),o.points([r.getBegin().getX(),r.getBegin().getY(),r.getEnd().getX(),r.getEnd().getY()]);const l=i.getChildren(function(v){return v.name()==="shape-tick0"})[0];if(!(l instanceof _e.default.Line))return;const s=i.getChildren(function(v){return v.name()==="shape-tick1"})[0];if(!(s instanceof _e.default.Line))return;const d=bt(i,0),h=bt(i,1);switch(e.id()){case"anchor0":d.x(e.x()),d.y(e.y());break;case"anchor1":h.x(e.x()),h.y(e.y());break;default:Pe.error("Unhandled anchor id: "+e.id())}const f=Mo(r,r.getBegin(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([f.getBegin().getX(),f.getBegin().getY(),f.getEnd().getX(),f.getEnd().getY()]);const m=Mo(r,r.getEnd(),20,t.getZoomScale());s.position({x:0,y:0}),s.points([m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]),o.hitFunc(function(v){v.beginPath(),v.moveTo(f.getBegin().getX(),f.getBegin().getY()),v.lineTo(f.getEnd().getX(),f.getEnd().getY()),v.lineTo(m.getEnd().getX(),m.getEnd().getY()),v.lineTo(m.getBegin().getX(),m.getBegin().getY()),v.closePath(),v.fillStrokeShape(o)})},aQ=function(n,e){},sQ=function(n,e){},QP)},filter:{Threshold:(zP=class{constructor(n){G(this,_c);G(this,Fc,new HG);G(this,ph,!0);G(this,gh,new Bi);G(this,ug,n=>{u(this,gh).fireEvent(n)});z(this,_c,n)}activate(n){n&&z(this,ph,!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(u(this,Fc).setMin(n.min),u(this,Fc).setMax(n.max),u(this,ph)){const t=u(this,_c).getData(n.dataId).image;u(this,Fc).setOriginalImage(t),z(this,ph,!1)}const e=new cC(u(this,Fc),n.dataId,u(this,_c));e.onExecute=u(this,ug),e.onUndo=u(this,ug),e.execute(),u(this,_c).addToUndoStack(e)}addEventListener(n,e){u(this,gh).add(n,e)}removeEventListener(n,e){u(this,gh).remove(n,e)}},_c=new WeakMap,Fc=new WeakMap,ph=new WeakMap,gh=new WeakMap,ug=new WeakMap,zP),Sobel:(WP=class{constructor(n){G(this,Mc);G(this,mh,new Bi);G(this,cg,n=>{u(this,mh).fireEvent(n)});z(this,Mc,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new $G,t=u(this,Mc).getData(n.dataId).image;e.setOriginalImage(t);const r=new cC(e,n.dataId,u(this,Mc));r.onExecute=u(this,cg),r.onUndo=u(this,cg),r.execute(),u(this,Mc).addToUndoStack(r)}addEventListener(n,e){u(this,mh).add(n,e)}removeEventListener(n,e){u(this,mh).remove(n,e)}},Mc=new WeakMap,mh=new WeakMap,cg=new WeakMap,WP),Sharpen:(HP=class{constructor(n){G(this,Nc);G(this,Sh,new Bi);G(this,dg,n=>{u(this,Sh).fireEvent(n)});z(this,Nc,n)}activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new jG,t=u(this,Nc).getData(n.dataId).image;e.setOriginalImage(t);const r=new cC(e,n.dataId,u(this,Nc));r.onExecute=u(this,dg),r.onUndo=u(this,dg),r.execute(),u(this,Nc).addToUndoStack(r)}addEventListener(n,e){u(this,Sh).add(n,e)}removeEventListener(n,e){u(this,Sh).remove(n,e)}},Nc=new WeakMap,Sh=new WeakMap,dg=new WeakMap,HP)}};var Ur,ks,hg,K4;class qs{constructor(){G(this,hg);ae(this,"trackingId");ae(this,"trackingUid");ae(this,"referencedSopInstanceUID");ae(this,"referencedSopClassUID");ae(this,"referencedFrameNumber");ae(this,"mathShape");ae(this,"referencePoints");ae(this,"colour","#ffff80");ae(this,"quantification");ae(this,"textExpr","");ae(this,"labelPosition");ae(this,"planeOrigin");ae(this,"planePoints");G(this,Ur);G(this,ks,{});this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=WV("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(u(this,ks))}getMetaItem(e){return u(this,ks)[e]}addMetaItem(e,t){const r=e.value;u(this,ks)[r]!==void 0&&Pe.warn("Overwriting annotation meta with id="+r),u(this,ks)[e.value]={concept:e,value:t}}removeMetaItem(e){u(this,ks)[e]!==void 0&&delete u(this,ks)[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=TV(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void Pe.debug("Cannot initialise annotation twice");z(this,Ur,e);const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return u(this,Ur)!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const r=e.getCosines(),i=new Gt(r[0],r[1],r[2]),o=new Gt(r[3],r[4],r[5]);i.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(z(this,Ur,e),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):Pe.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}getCentroid(){let e;if(u(this,Ur)!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=Q(this,hg,K4).call(this),r=u(this,Ur).getScrollDimIndex(),i=t.getValues()[r],o=this.mathShape.getCentroid();if(e=u(this,Ur).getPositionFromPlanePoint(o,i),this.referencedFrameNumber!==void 0){const l=e.getValues();l[3]=this.referencedFrameNumber,e=new yu(l)}}return e}setTextExpr(e){if(u(this,Ur)!==void 0){const t=u(this,Ur).getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else Pe.warn("Cannot set text expr without a view controller")}getText(){return function(e,t){let r="";if(e==null||(r=e,t==null))return r;const i=Vx(e);for(let o=0;o<i.length;++o){const l=t[i[o]];if(l!=null&&l.value!==null&&l.value!==void 0){let s=l.value.toPrecision(4);l.unit!==null&&l.unit!==void 0&&l.unit.length!==0&&(l.unit!=="unit.degree"&&(s+=" "),s+=PV.t(l.unit));const d="{"+i[o]+"}";r=r.replace(d,s)}}return r}(this.textExpr,this.quantification)}updateQuantification(){u(this,Ur)!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(u(this,Ur),Q(this,hg,K4).call(this),Vx(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(NS.draw!==void 0)for(const t in NS.draw){const r=NS.draw[t];if(r.supports(this.mathShape)){e=new r;break}}if(e===void 0)for(const t in F4.draw){const r=F4.draw[t];if(r.supports(this.mathShape)){e=new r;break}}return e===void 0&&Pe.warn("No shape factory found for math shape"),e}}Ur=new WeakMap,ks=new WeakMap,hg=new WeakSet,K4=function(){let e;if(u(this,Ur)!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const r=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&r.push(this.referencedFrameNumber);const i=new yu(r);e=u(this,Ur).getIndexFromPosition(i)}return e};var si,it,Uc,yh,po,go,ba,Yl,fr,vh,li,fg,ui,Ch,pg,Bc,Wo,gg,wh,Et,Z4,J4,hR,KS,e3,fR,t3,pR,gR,n3,bh,r3;class fS{constructor(e){G(this,Et);G(this,si);G(this,it,null);G(this,Uc);G(this,yh);G(this,po,{x:1,y:1});G(this,go,{x:1,y:1,z:1});G(this,ba,{x:0,y:0});G(this,Yl,{x:0,y:0});G(this,fr,{x:0,y:0});G(this,vh,{x:0,y:0});G(this,li,{x:0,y:0});G(this,fg);G(this,ui);G(this,Ch);G(this,pg);G(this,Bc);G(this,Wo);G(this,gg,!0);G(this,wh,new Bi);G(this,bh,e=>{e.srclayerid=this.getId(),e.dataid=u(this,Ch),u(this,wh).fireEvent(e)});z(this,si,e),u(this,si).className+=" drawLayer"}setShapeHandler(e){z(this,Wo,e)}getDataId(){return u(this,Ch)}getReferenceLayerId(){return u(this,pg)}getKonvaStage(){return u(this,it)}getKonvaLayer(){return u(this,it).getLayers()[0]}getDrawController(){return u(this,fg)}setPlaneHelper(e){z(this,ui,e)}getId(){return u(this,si).id}removeFromDOM(){u(this,si).remove()}getBaseSize(){return u(this,Uc)}getOpacity(){return u(this,it).opacity()}setOpacity(e){u(this,it).opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=u(this,it).scale(),t=u(this,it).size();u(this,li).x+=t.width/e.x;const r=u(this,it).offset();r.x+=u(this,li).x,u(this,it).offset(r)}addFlipOffsetY(){const e=u(this,it).scale(),t=u(this,it).size();u(this,li).y+=t.height/e.y;const r=u(this,it).offset();r.y+=u(this,li).y,u(this,it).offset(r)}flipScaleX(){u(this,go).x*=-1}flipScaleY(){u(this,go).y*=-1}flipScaleZ(){u(this,go).z*=-1}setScale(e,t){const r=u(this,ui).getTargetOrientedPositiveXYZ({x:e.x*u(this,go).x,y:e.y*u(this,go).y,z:e.z*u(this,go).z}),i={x:u(this,po).x*r.x,y:u(this,po).y*r.y},o=u(this,it).offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:o.x-u(this,fr).x,y:o.y-u(this,fr).y};z(this,fr,{x:0,y:0}),u(this,it).offset(l)}else if(t!==void 0){let l=u(this,ui).getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+u(this,ba).x,y:l.y+u(this,ba).y};const s=mR(o,u(this,it).scale(),i,l),d={x:u(this,fr).x+s.x-o.x,y:u(this,fr).y+s.y-o.y};z(this,fr,d),u(this,it).offset(s)}u(this,it).scale(i),Q(this,Et,r3).call(this,i)}initScale(e,t){const r=u(this,ui).getTargetOrientedPositiveXYZ({x:e.x*u(this,go).x,y:e.y*u(this,go).y,z:e.z*u(this,go).z}),i={x:u(this,po).x*r.x,y:u(this,po).y*r.y};u(this,it).scale(i),z(this,fr,{x:t.x/u(this,po).x,y:t.y/u(this,po).y});const o=u(this,it).offset();u(this,it).offset({x:o.x+u(this,fr).x,y:o.y+u(this,fr).y})}setOffset(e){const t=u(this,ui).getPlaneOffsetFromOffset3D(e),r=u(this,it).offset();u(this,it).offset({x:r.x-u(this,vh).x+t.x,y:r.y-u(this,vh).y+t.y}),z(this,vh,t)}setBaseOffset(e,t){const r=u(this,ui).getNativeScrollDimIndex(),i=u(this,ui).getPlaneOffsetFromOffset3D({x:r===0?e.getX():t.getX(),y:r===1?e.getY():t.getY(),z:r===2?e.getZ():t.getZ()}),o=u(this,ba).x!==i.x||u(this,ba).y!==i.y;if(o){const l=u(this,it).offset();u(this,it).offset({x:l.x-u(this,ba).x+i.x,y:l.y-u(this,ba).y+i.y}),z(this,ba,i)}return o}display(e){u(this,si).style.display=e?"":"none"}isVisible(){return u(this,si).style.display===""}draw(){u(this,it).draw()}initialise(e,t,r){z(this,Uc,e),z(this,yh,t),z(this,pg,r),z(this,it,new _e.default.Stage({container:u(this,si),width:u(this,Uc).x,height:u(this,Uc).y,listening:!1})),u(this,it).getContent().setAttribute("style","");const i=new _e.default.Layer({listening:!1,visible:!0});u(this,it).add(i)}setAnnotationGroup(e,t,r){if(z(this,Ch,t),e.addEventListener("annotationadd",i=>{Q(this,Et,KS).call(this,i.data,!0),this.getKonvaLayer().draw()}),e.addEventListener("annotationupdate",i=>{Q(this,Et,fR).call(this,i.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationremove",i=>{Q(this,Et,e3).call(this,i.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationgroupeditablechange",i=>{this.activateCurrentPositionShapes(i.data)}),z(this,fg,new gG(e)),e.getLength()!==0)for(const i of e.getList())Q(this,Et,KS).call(this,i,!1),r(new kS(i,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(u(this,it).listening(!1),u(this,Wo)!==void 0){u(this,Wo).disableAndResetEditor();const i=t.getChildren();for(const o of i)o instanceof _e.default.Group&&o.getChildren().forEach(l=>{l instanceof _e.default.Group&&u(this,Wo).removeShapeListeners(l)})}const r=this.getDrawController();if(e&&r.getAnnotationGroup().isEditable()){u(this,it).listening(!0);const i=Q(this,Et,gR).call(this).getChildren();i.length!==0&&t.listening(!0),u(this,Wo)!==void 0&&i.forEach(o=>{if(o instanceof _e.default.Group){const l=r.getAnnotation(o.id());u(this,Wo).addShapeGroupListeners(o,l,this)}})}t.draw()}fitToContainer(e,t,r){const i={x:t*u(this,yh).x,y:t*u(this,yh).y},o=i.x/u(this,po).x,l=i.y/u(this,po).y,s=e.x/(u(this,it).width()*o),d=e.y/(u(this,it).height()*l);u(this,it).width()===e.x&&u(this,it).height()===e.y||(u(this,it).width(e.x),u(this,it).height(e.y));const h={x:u(this,it).scale().x*o,y:u(this,it).scale().y*l};u(this,it).scale().x===h.x&&u(this,it).scale().y===h.y||(z(this,po,i),u(this,it).scale(h),Q(this,Et,r3).call(this,h));const f={x:r.x/i.x,y:r.y/i.y},m={x:e.x/i.x,y:e.y/i.y},v={x:u(this,li).x!==0?m.x:0,y:u(this,li).y!==0?m.y:0};if(u(this,Yl).x!==f.x||u(this,Yl).y!==f.y||u(this,li).x!==v.x||u(this,li).y!==v.y){const g={x:u(this,fr).x*s,y:u(this,fr).y*d};u(this,it).offset({x:u(this,it).offset().x+f.x-u(this,Yl).x+v.x-u(this,li).x+g.x-u(this,fr).x,y:u(this,it).offset().y+f.y-u(this,Yl).y+v.y-u(this,li).y+g.y-u(this,fr).y}),z(this,li,v),z(this,Yl,f),z(this,fr,g)}}isAnnotationVisible(e){const t=Q(this,Et,n3).call(this,e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const r=Q(this,Et,n3).call(this,e);return r!==void 0&&(t===void 0&&(t=!r.isVisible()),r.visible(t),this.draw(),!0)}setLabelsVisibility(e){z(this,gg,e);const t=this.getKonvaLayer().getChildren();for(const r of t)if(r instanceof _e.default.Group){const i=r.getChildren();for(const o of i)o instanceof _e.default.Group&&Q(this,Et,t3).call(this,o,e)}}setLabelVisibility(e){Q(this,Et,t3).call(this,e,u(this,gg))}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const r of e)r instanceof _e.default.Group&&(t+=r.getChildren().length);return t}bindInteraction(){u(this,it).listening(!0),u(this,si).style.pointerEvents="auto";const e=Hh;for(let t=0;t<e.length;++t)u(this,si).addEventListener(e[t],u(this,bh))}unbindInteraction(){u(this,it).listening(!1),u(this,si).style.pointerEvents="none";const e=Hh;for(let t=0;t<e.length;++t)u(this,si).removeEventListener(e[t],u(this,bh))}setCurrentPosition(e,t){t===void 0&&(t=u(this,ui).worldToIndex(e));const r=u(this,ui).getPlanePoints(e);let i,o;i=u(this,ui).isAquisitionOrientation()?[r[0]]:r,e.length()>3&&(o=e.get(3));const l=Q(this,Et,J4).call(this,i,o);return Q(this,Et,pR).call(this,l),u(this,bh).call(this,{type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}addEventListener(e,t){u(this,wh).add(e,t)}removeEventListener(e,t){u(this,wh).remove(e,t)}}si=new WeakMap,it=new WeakMap,Uc=new WeakMap,yh=new WeakMap,po=new WeakMap,go=new WeakMap,ba=new WeakMap,Yl=new WeakMap,fr=new WeakMap,vh=new WeakMap,li=new WeakMap,fg=new WeakMap,ui=new WeakMap,Ch=new WeakMap,pg=new WeakMap,Bc=new WeakMap,Wo=new WeakMap,gg=new WeakMap,wh=new WeakMap,Et=new WeakSet,Z4=function(e){let t,r;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(r=Q(this,Et,J4).call(this,t,e.referencedFrameNumber)),r},J4=function(e,t){let r="";for(const i of e)r.length!==0&&(r+="-"),r+=LV([Oa(i.getX(),2),Oa(i.getY(),2),Oa(i.getZ(),2)]);return t!==void 0&&(r+="-"+t),r},hR=function(e){let t;const r=Q(this,Et,Z4).call(this,e),i=this.getKonvaLayer().getChildren(aC(r));if(i.length!==0){const o=i[0];if(!(o instanceof _e.default.Group))return;const l=o.getChildren(aC(e.trackingUid));l.length!==0&&l[0]instanceof _e.default.Group&&(t=l[0])}return t},KS=function(e,t){if(!e.canView()||!e.isCompatibleView(u(this,ui)))return;const r=Q(this,Et,Z4).call(this,e);let i=this.getKonvaLayer().getChildren(aC(r))[0];if(i===void 0&&(i=new _e.default.Group({id:r,name:"position-group",visible:t}),this.getKonvaLayer().add(i)),!(i instanceof _e.default.Group))return;const o=new w2,l=this.getKonvaStage();o.setZoomScale(l.scale());const s=e.getFactory();if(s===void 0)throw new Error("Cannot add an annotation draw without factory");const d=s.createShapeGroup(e,o);i.add(d),t&&u(this,Wo)!==void 0&&u(this,Wo).addShapeGroupListeners(d,e,this),this.setLabelVisibility(d)},e3=function(e){const t=Q(this,Et,hR).call(this,e);return t instanceof _e.default.Group?(t.remove(),!0):(Pe.debug("No shape group to remove"),!1)},fR=function(e){Q(this,Et,e3).call(this,e)&&Q(this,Et,KS).call(this,e,!0)},t3=function(e,t){const r=e.getChildren(r4)[0];if(r instanceof _e.default.Label&&(t===void 0&&(t=!r.isVisible()),r.getText()!==void 0&&r.getText().text().length!==0)){r.visible(t);const i=e.getChildren(o=>o.className==="Line"&&o.name()==="connector")[0];i&&i.visible(t)}},pR=function(e){z(this,Bc,e);const t=this.getKonvaLayer().getChildren(WI);let r;for(let i=0,o=t.length;i<o;++i)r=!1,e!==void 0&&t[i].id()===e&&(r=!0),t[i].visible(r);this.getKonvaLayer().draw()},gR=function(){if(u(this,Bc)===void 0)return;const e=this.getKonvaLayer().getChildren(r=>r.id()===u(this,Bc));let t;return e.length===1?e[0]instanceof _e.default.Group&&(t=e[0]):e.length===0?(t=new _e.default.Group,t.name("position-group"),t.id(u(this,Bc)),t.visible(!0),this.getKonvaLayer().add(t)):Pe.warn("Unexpected number of draw position groups"),t},n3=function(e){return this.getKonvaLayer().findOne("#"+e)},bh=new WeakMap,r3=function(e){const t=2/e.x,r=2/e.y,i=u(this,it).find("Label");for(let o=0;o<i.length;++o)i[o].scale({x:t,y:r})};function lQ(n){const e=[0,0,0],t=n.split("#");for(const r of t){const i=r.split("-");e[i[0]]=i[1]}return e}function ZS(n){const e=n.split("-layer-");return e.length!==2&&Pe.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function Pt(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=ZS(t.id)),e}function mR(n,e,t,r){const i=(r.x-n.x)*e.x,o=(r.y-n.y)*e.y;return{x:r.x-i/t.x,y:r.y-o/t.y}}var gn,st,mo,Ho,So,jo,Dh,qc,Vc,Gc,mg,Sg,Da,Qc,Pn,SR,yR,vR,CR,i3,V1,JS,pr;class uQ{constructor(e){G(this,Pn);G(this,gn);G(this,st,[]);G(this,mo,{x:1,y:1,z:1});G(this,Ho,{x:1,y:1,z:1});G(this,So,{x:0,y:0,z:0});G(this,jo);G(this,Dh,new Bi);G(this,qc,!1);G(this,Vc,[]);G(this,Gc);G(this,mg);G(this,Sg,!1);G(this,Da);G(this,Qc,e=>{Q(this,Pn,V1).call(this)});ae(this,"updateLayersToPositionChange",e=>{for(const s of u(this,st))s!==void 0&&(s.removeEventListener("positionchange",this.updateLayersToPositionChange),s.removeEventListener("positionchange",u(this,pr)));const t=new Ot(e.value[0]),r=new yu(e.value[1]);z(this,mg,r),u(this,qc)&&Q(this,Pn,V1).call(this,r);const i={};let o,l;for(const s of u(this,st)){if(s===void 0)continue;let d=!1;if(s instanceof br){const f=s.getViewController(),m=f.getOrigin(),v=f.getOrigin(r);let g,S;if(l===void 0)o=m,l=v,g=new un(0,0,0),S=new un(0,0,0);else if(f.isPositionInBounds(r)&&v!==void 0){const y=o.minus(m);g=new un(y.getX(),y.getY(),y.getZ());const C=l.minus(v);S=new un(C.getX(),C.getY(),C.getZ())}g!==void 0&&S!==void 0&&(d=s.setBaseOffset(g,S,l,o),i[s.getId()]={scroll:g,plane:S})}if(s instanceof fS){const f=i[s.getReferenceLayerId()];f!==void 0&&(d=s.setBaseOffset(f.scroll,f.plane))}let h=!1;s.getId()!==e.srclayerid&&(h=s.setCurrentPosition(r,t)),!h&&d&&s.draw()}for(const s of u(this,st))s!==void 0&&(s.addEventListener("positionchange",this.updateLayersToPositionChange),s.addEventListener("positionchange",u(this,pr)))});G(this,pr,e=>{u(this,Dh).fireEvent(e)});z(this,gn,e)}getPositionHelper(){if(u(this,Da)===void 0){for(const e of u(this,st))if(e instanceof br){const t=e.getViewController().getPositionHelperClone();u(this,Da)===void 0?z(this,Da,t):u(this,Da).merge(t)}}return u(this,Da)}getShowCrosshair(){return u(this,qc)}setShowCrosshair(e){z(this,qc,e),e?(this.addEventListener("offsetchange",u(this,Qc)),this.addEventListener("zoomchange",u(this,Qc)),Q(this,Pn,V1).call(this)):(this.removeEventListener("offsetchange",u(this,Qc)),this.removeEventListener("zoomchange",u(this,Qc)),Q(this,Pn,JS).call(this))}setImageSmoothing(e){z(this,Sg,e);for(const t of u(this,st))t instanceof br&&t.setImageSmoothing(e)}getDivId(){let e;return u(this,gn)!==null&&(e=u(this,gn).id),e}getScale(){return u(this,mo)}getBaseScale(){return u(this,Ho)}getAddedScale(){return{x:u(this,mo).x/u(this,Ho).x,y:u(this,mo).y/u(this,Ho).y,z:u(this,mo).z/u(this,Ho).z}}getOffset(){return u(this,So)}getNumberOfLayers(){let e=0;return u(this,st).forEach(t=>{t!==void 0&&e++}),e}includes(e){if(e===void 0)return!1;for(const t of u(this,st))if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const r of u(this,st))r instanceof br&&e(r)&&t.push(r);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;u(this,jo)!==void 0&&(t=u(this,jo));const r=[];for(let o=t;o>=0;o--)r.push(o);for(let o=u(this,st).length-1;o>t;o--)r.push(o);const i=[];for(const o of r){const l=u(this,st)[o];l instanceof br&&e(l)&&i.push(l)}return i}someViewLayer(e){let t=!1;for(const r of u(this,st))if(r instanceof br&&e(r)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const r of u(this,st))r instanceof fS&&e(r)&&t.push(r);return t}getNumberOfViewLayers(){let e=0;return u(this,st).forEach(t=>{t!==void 0&&t instanceof br&&e++}),e}getActiveLayer(){let e;return u(this,jo)!==void 0&&(e=u(this,st)[u(this,jo)]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof br&&(e=t),e}getBaseViewLayer(){let e;for(const t of u(this,st))if(t instanceof br){e=t;break}if(e!==void 0)return e;Pe.warn("No layer found")}getViewLayerById(e){const t=this.getViewLayers(function(i){return i.getId()===e});let r;return t.length===1&&(r=t[0]),r}getViewLayersByDataId(e){return this.getViewLayers(function(t){return t.getDataId()===e})}searchViewLayers(e){const t=structuredClone(e);let r;t.SOPInstanceUID!==void 0&&(r=t.SOPInstanceUID,delete t.SOPInstanceUID);const i=r!==void 0,o=Object.keys(t).length!==0,l=[];for(const s of u(this,st))if(s instanceof br){let d=!1;o&&(d=s.getViewController().equalImageMeta(t));let h=!1;i&&(h=s.getViewController().includesImageUid(r));let f=!1;o&&i?f=d&&h:o?f=d:i&&(f=h),f&&l.push(s)}return l}getViewDataIndices(){const e=[];for(const t of u(this,st))t instanceof br&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof fS&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers(function(i){return i.getId()===e});let r;return t.length===1&&(r=t[0]),r}getDrawLayersByDataId(e){return this.getDrawLayers(function(t){return t.getDataId()===e})}setActiveLayer(e){z(this,jo,e),u(this,pr).call(this,{type:"activelayerchange",value:[u(this,st)[e]]})}setActiveLayerById(e){let t;for(let r=0;r<u(this,st).length;++r)if(u(this,st)[r]!==void 0&&u(this,st)[r].getId()===e){t=r;break}t!==void 0?this.setActiveLayer(t):Pe.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let r=0;r<u(this,st).length;++r)if(u(this,st)[r]!==void 0&&u(this,st)[r].getDataId()===e){t=r;break}t!==void 0?this.setActiveLayer(t):Pe.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=u(this,st).length,t=Q(this,Pn,i3).call(this);u(this,gn).append(t);const r=new br(t);return r.setImageSmoothing(u(this,Sg)),u(this,st).push(r),this.setActiveLayer(e),Q(this,Pn,SR).call(this,r),z(this,Da,void 0),r}addDrawLayer(){z(this,jo,u(this,st).length);const e=Q(this,Pn,i3).call(this);u(this,gn).append(e);const t=new fS(e);return u(this,st).push(t),Q(this,Pn,vR).call(this,t),t}empty(){for(const e of u(this,st))e!==void 0&&this.removeLayer(e);z(this,st,[]),Q(this,Pn,JS).call(this)}removeLayersByDataId(e){for(const t of u(this,st))t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=u(this,st).findIndex(r=>r===e);if(t===-1)throw new Error("Cannot find layer to remove");u(this,jo)===t&&z(this,jo,void 0),e instanceof br?Q(this,Pn,yR).call(this,e):Q(this,Pn,CR).call(this,e),u(this,st)[t]=void 0,z(this,Da,void 0),e.removeFromDOM(),u(this,pr).call(this,{type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),r=t.getViewController(),i=t.displayToPlanePos(e),o=r.getPositionFromPlanePoint(i),l=r.getRescaledImageValue(o);if(l!==void 0){const s=document.createElement("span");s.id="scroll-tooltip",s.style.left=e.getX()+10+"px",s.style.top=e.getY()+10+"px";let d=Oa(l,3).toString();r.getPixelUnit()!==void 0&&(d+=" "+r.getPixelUnit()),s.appendChild(document.createTextNode(d)),z(this,Gc,s),u(this,gn).appendChild(s)}}removeTooltipDiv(){u(this,Gc)!==void 0&&(u(this,Gc).remove(),z(this,Gc,void 0))}isPositionInBounds(e){return this.someViewLayer(function(t){return t.getViewController().isPositionInBounds(e)})}canScroll(){return this.someViewLayer(function(e){return e.getViewController().canScroll()})}moreThanOne(e){return this.someViewLayer(function(t){return t.getViewController().moreThanOne(e)})}getDivToWorldSizeRatio(){if(u(this,gn).offsetWidth===0&&u(this,gn).offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+u(this,gn).id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(u(this,gn).offsetHeight===0){const t=u(this,gn).offsetWidth/e.x,r=e.y*t;u(this,gn).style.height=r+"px"}return Math.min(u(this,gn).offsetWidth/e.x,u(this,gn).offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const r={x:u(this,gn).offsetWidth,y:u(this,gn).offsetHeight},i={x:-.5*(r.x-Math.floor(t.x*e)),y:-.5*(r.y-Math.floor(t.y*e))};for(const o of u(this,st))o!==void 0&&o.fitToContainer(r,e,i);u(this,qc)&&Q(this,Pn,V1).call(this)}getMaxWorldSize(){let e={x:0,y:0};for(const t of u(this,st))if(t instanceof br){const r=t.getImageWorldSize();r.x>e.x&&(e.x=r.x),r.y>e.y&&(e.y=r.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){u(this,Ho).z*=-1,this.setScale(u(this,Ho))}addScale(e,t){const r={x:u(this,mo).x*(1+e),y:u(this,mo).y*(1+e),z:u(this,mo).z*(1+e)};this.setScale(r,t)}setScale(e,t){z(this,mo,e);for(const i of u(this,st))i!==void 0&&i.setScale(u(this,mo),t);const r=[e.x,e.y,e.z];t!==void 0&&(r.push(t.getX()),r.push(t.getY()),r.push(t.getZ())),u(this,pr).call(this,{type:"zoomchange",value:r})}addTranslation(e){this.setOffset({x:u(this,So).x-e.x,y:u(this,So).y-e.y,z:u(this,So).z-e.z})}setOffset(e){z(this,So,e);for(const t of u(this,st))t!==void 0&&t.setOffset(u(this,So));u(this,pr).call(this,{type:"offsetchange",value:[u(this,So).x,u(this,So).y,u(this,So).z]})}reset(){this.setScale(u(this,Ho)),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(u(this,Ho)),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of u(this,st))if(t!==void 0&&t instanceof br){const r=t.getViewController();e&&(r.resetPosition(),e=!1),r.resetWindowLevel()}}draw(){for(const e of u(this,st))e!==void 0&&e.draw()}display(e){for(const t of u(this,st))t!==void 0&&t.display(e)}addEventListener(e,t){u(this,Dh).add(e,t)}removeEventListener(e,t){u(this,Dh).remove(e,t)}}gn=new WeakMap,st=new WeakMap,mo=new WeakMap,Ho=new WeakMap,So=new WeakMap,jo=new WeakMap,Dh=new WeakMap,qc=new WeakMap,Vc=new WeakMap,Gc=new WeakMap,mg=new WeakMap,Sg=new WeakMap,Da=new WeakMap,Qc=new WeakMap,Pn=new WeakSet,SR=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of Wh)e.addEventListener(t,u(this,pr));e.addEventListener("renderstart",u(this,pr)),e.addEventListener("renderend",u(this,pr))},yR=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of Wh)e.removeEventListener(t,u(this,pr));e.removeEventListener("renderstart",u(this,pr)),e.removeEventListener("renderend",u(this,pr)),e.unbindImage()},vR=function(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",u(this,pr))},CR=function(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",u(this,pr))},i3=function(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+u(this,st).length,e.className="layer",e.style.pointerEvents="none",e},V1=function(e){let t;e===void 0&&(e=u(this,mg)),Q(this,Pn,JS).call(this);for(const o of u(this,st))if(o instanceof br){t=o;break}if(t===void 0)return void Pe.warn("No layer to show crosshair");const r=t.getViewController().getPlanePositionFromPosition(e),i=t.planePosToDisplay(r);if(i.getY()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-horizontal",o.className="horizontal",o.style.width=u(this,gn).offsetWidth+"px",o.style.left="0px",o.style.top=i.getY()+"px",u(this,Vc).push(o),u(this,gn).appendChild(o)}if(i.getX()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-vertical",o.className="vertical",o.style.width=u(this,gn).offsetHeight+"px",o.style.left=i.getX()+"px",o.style.top="0px",u(this,Vc).push(o),u(this,gn).appendChild(o)}},JS=function(){for(const e of u(this,Vc))e.remove();z(this,Vc,[])},pr=new WeakMap;const XT={WindowLevelBinder:class{constructor(){ae(this,"getEventType",function(){return"wlchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const r=t[0].getViewController();if(e.value.length===2){const i=new fi(e.value[0],e.value[1]);r.setWindowLevel(i)}e.value.length===3&&r.setWindowLevelPreset(e.value[2])}}})}},PositionBinder:class{constructor(){ae(this,"getEventType",function(){return"positionchange"});ae(this,"getCallback",function(n){return function(e){const t=e.value[1],r=n.getBaseViewLayer().getViewController(),i=r.getCurrentPosition(),o=i.length(),l=t.length;l!==o&&(l===o-1?t.push(i.get(o-1)):l===o+1&&t.pop()),r.setCurrentPosition(new yu(t))}})}},ZoomBinder:class{constructor(){ae(this,"getEventType",function(){return"zoomchange"});ae(this,"getCallback",function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let r;e.value.length===6&&(r=new Gt(e.value[3],e.value[4],e.value[5])),n.setScale(t,r),n.draw()}})}},OffsetBinder:class{constructor(){ae(this,"getEventType",function(){return"offsetchange"});ae(this,"getCallback",function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}})}},OpacityBinder:class{constructor(){ae(this,"getEventType",function(){return"opacitychange"});ae(this,"getCallback",function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),r=n.getBaseViewLayer();t.length!==0&&r!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}})}},ColourMapBinder:class{constructor(){ae(this,"getEventType",function(){return"colourmapchange"});ae(this,"getCallback",function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}})}}};var yt,_s,yg,$o,yo,ea,o3,a3,s3;class cQ{constructor(){G(this,ea);G(this,yt,[]);G(this,_s);G(this,yg,!1);G(this,$o,[]);G(this,yo,null)}getLayerGroup(e){return u(this,yt)[e]}getNumberOfLayerGroups(){return u(this,yt).length}getActiveLayerGroup(){return this.getLayerGroup(u(this,_s))}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?z(this,_s,e):Pe.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const r of u(this,yt))t=t.concat(r.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const r of u(this,yt))t=t.concat(r.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const r of u(this,yt))t=t.concat(r.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const r of u(this,yt))t=t.concat(r.getDrawLayers(e));return t}addLayerGroup(e){z(this,_s,u(this,yt).length);const t=new uQ(e);t.setImageSmoothing(u(this,yg));const r=u(this,yo)&&u(this,yo).length!==0;return r&&this.unbindLayerGroups(),u(this,yt).push(t),r&&this.bindLayerGroups(),t}getLayerGroupByDivId(e){return u(this,yt).find(function(t){return t.getDivId()===e})}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");u(this,$o).length!==0&&this.unbindLayerGroups(),z(this,$o,e.slice()),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of u(this,yt))e.empty();z(this,yt,[]),z(this,_s,void 0)}removeLayersByDataId(e){for(const t of u(this,yt))t.removeLayersByDataId(e)}removeLayerGroup(e){const t=u(this,yt).findIndex(r=>r===e);if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),u(this,yt).splice(t,1),u(this,_s)===t&&z(this,_s,void 0),this.bindLayerGroups()}reset(){for(const e of u(this,yt))e.reset()}resetZoomPan(){for(const e of u(this,yt))e.resetZoomPan()}resetViews(){for(const e of u(this,yt))e.resetViews()}draw(){for(const e of u(this,yt))e.draw()}fitToContainer(){let e;const t=[];for(let r=0;r<u(this,yt).length;++r){const i=u(this,yt)[r].getDivToWorldSizeRatio();i!==void 0&&(t.push(r),(e===void 0||i<e)&&(e=i))}if(e!==void 0)for(let r=0;r<u(this,yt).length;++r)t.includes(r)&&u(this,yt)[r].fitToContainer(e)}bindLayerGroups(){if(u(this,yt).length!==0&&u(this,yt).length!==1&&u(this,$o).length!==0){z(this,yo,new Array(u(this,yt).length));for(let e=0;e<u(this,yt).length;++e)for(let t=0;t<u(this,$o).length;++t)Q(this,ea,a3).call(this,e,u(this,$o)[t])}}unbindLayerGroups(){if(u(this,yt).length!==0&&u(this,yt).length!==1&&u(this,$o).length!==0&&u(this,yo)){for(let e=0;e<u(this,yt).length;++e)for(let t=0;t<u(this,$o).length;++t)Q(this,ea,s3).call(this,e,u(this,$o)[t]);z(this,yo,null)}}setImageSmoothing(e){z(this,yg,e);for(const t of u(this,yt))t.setImageSmoothing(e)}}yt=new WeakMap,_s=new WeakMap,yg=new WeakMap,$o=new WeakMap,yo=new WeakMap,ea=new WeakSet,o3=function(e,t){u(this,yo)[t]===void 0&&(u(this,yo)[t]=[]);let r=u(this,yo)[t].find(function(i){return i.binder===e});return r===void 0&&(r={binder:e,callback:i=>{Q(this,ea,s3).call(this,t,e),e.getCallback(u(this,yt)[t])(i),Q(this,ea,a3).call(this,t,e)}},u(this,yo)[t].push(r)),r.callback},a3=function(e,t){for(let r=0;r<u(this,yt).length;++r)r!==e&&u(this,yt)[e].addEventListener(t.getEventType(),Q(this,ea,o3).call(this,t,r))},s3=function(e,t){for(let r=0;r<u(this,yt).length;++r)r!==e&&u(this,yt)[e].removeEventListener(t.getEventType(),Q(this,ea,o3).call(this,t,r))};var vg,To,wR,bR,DR,xR,TR;class dQ{constructor(e){G(this,To);G(this,vg);z(this,vg,e)}fromJSON(e){const t=JSON.parse(e);let r=null;if(t.version==="0.1")r=Q(this,To,wR).call(this,t);else if(t.version==="0.2")r=Q(this,To,bR).call(this,t);else if(t.version==="0.3")r=Q(this,To,DR).call(this,t);else if(t.version==="0.4")r=Q(this,To,xR).call(this,t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");r=Q(this,To,TR).call(this,t)}return r}apply(e,t){const r=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),i=new fi(t["window-center"],t["window-width"]);r.setWindowLevel(i);const o=e.getActiveLayerGroup().getBaseScale();let l=null,s=null;if(t.scaleCenter!==void 0){l={x:t.scale*o.x,y:t.scale*o.y,z:1};const d=t.scaleCenter.x-t.scaleCenter.x*t.scale,h=t.scaleCenter.y-t.scaleCenter.y*t.scale,f=d+t.translation.x*l.x,m=h+t.translation.y*l.y;s={x:-f/l.x,y:-m/l.y,z:0}}else l={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},s={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(l),e.getActiveLayerGroup().setOffset(s),e.setDrawings(t.drawings,t.drawingsDetails,u(this,vg))}}vg=new WeakMap,To=new WeakSet,wR=function(e){const t=function(r){const i=[],o={};let l,s;for(let d=0,h=r.length;d<h;++d){i[d]=[];for(let f=0,m=r[d].length;f<m;++f){l=r[d][f];const v=[];for(let g=0,S=l.length;g<S;++g){s=_e.default.Node.create(l[g]),s.visible(!0);let y={x:0,y:0};const C=s.getChildren(function(E){return E.name()==="shape"})[0];if(C.stroke(CV(C.stroke())),s.name()==="line-group"){s.name("ruler-group");const E=new _e.default.Line({points:[C.points()[0],C.points()[1],C.points()[0],C.points()[1]],name:"shape-tick0"});s.add(E);const k=new _e.default.Line({points:[C.points()[2],C.points()[3],C.points()[2],C.points()[3]],name:"shape-tick1"});s.add(k)}const x=s.getChildren(function(E){return E.name()==="arc"});x.length===1&&x[0].name("shape-arc");const b=s.getChildren(function(E){return E.name()==="text"});let w=new _e.default.Text({name:"text",text:""});b.length===1?(y.x=b[0].x(),y.y=b[0].y(),b[0].remove(),w=b[0]):C.points().length!==0&&(y={x:C.points()[0],y:C.points()[1]});const T=new _e.default.Label({x:y.x,y:y.y,name:"label"});T.add(w),T.add(new _e.default.Tag),s.add(T),v.push(JSON.stringify(s.toObject()));let P=w.text();const A=P.length;let F=null;s.name()==="ruler-group"?(F={length:{value:parseFloat(P.substring(0,A-2)),unit:P.substring(-2)}},P="{length}"):s.name()==="ellipse-group"||s.name()==="rectangle-group"?(F={surface:{value:parseFloat(P.substring(0,A-3)),unit:P.substring(-3)}},P="{surface}"):s.name()!=="protractor-group"&&s.name()!=="rectangle-group"||(F={angle:{value:parseFloat(P.substring(0,A-1)),unit:P.substring(-1)}},P="{angle}"),o[s.id()]={textExpr:P,longText:"",quant:F}}i[d].push(v)}}return{drawings:i,drawingsDetails:o}}(e.drawings);return e.drawings=KT(t.drawings).toObject(),e.drawingsDetails=dC(t.drawingsDetails),(e=pS(e)).drawings=gS(e.drawings),e},bR=function(e){return e.drawings=KT(e.drawings).toObject(),e.drawingsDetails=dC(function(t){const r={},i=typeof t=="string"?JSON.parse(t):t;for(let o=0,l=i.length;o<l;++o)for(let s=0,d=i[o].length;s<d;++s)for(let h=0,f=i[o][s].length;h<f;++h){const m=i[o][s][h];r[m.id]={textExpr:m.textExpr,longText:m.longText,quant:m.quant}}return r}(e.drawingsDetails)),(e=pS(e)).drawings=gS(e.drawings),e},DR=function(e){return e.drawingsDetails=dC(e.drawingsDetails),(e=pS(e)).drawings=gS(e.drawings),e},xR=function(e){return(e=pS(e)).drawings=gS(e.drawings),e},TR=function(e){return e};function KT(n){let e,t,r;const i=new _e.default.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let s=0,d=o.length;s<d;++s)for(let h=0,f=o[s].length;h<f;++h)if(t=o[s][h],t.length!==0){r=new _e.default.Group({id:(l=new Ot([1,1,s,h]),"slice-"+l.get(2)+"_frame-"+(l.length()===4?l.get(3):0)),name:"position-group",visible:!1});for(let m=0,v=t.length;m<v;++m)e=_e.default.Node.create(t[m]),e.draggable(!0),e.getChildren().forEach(function(g){g.draggable(!1)}),r.add(e);i.add(r)}var l;return i}function dC(n){const e={},t=Object.keys(n);for(let r=0,i=t.length;r<i;++r){const o=n[t[r]];e[t[r]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function pS(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function gS(n){const e=n.children;for(let t=0,r=e.length;t<r;++t){const i=e[t],o=i.attrs.id.split("_"),l=parseInt(o[0].substring(6),10),s=parseInt(o[1].substring(6),10);let d="#2-";d+=l===0&&s!==0?s:l,i.attrs.id=d}return n}function O1(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function ZT(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let r=n.indexOf("#");r===-1&&(r=n.length);const i=n.substring(t+1,r);e.query=function(o){const l={};if(o){const s=o.split("&");for(let d=0;d<s.length;++d){const h=s[d].split("=");l[h[0]]?(l[h[0]]instanceof Array||(l[h[0]]=[l[h[0]]]),l[h[0]].push(h[1])):l[h[0]]=h[1]}}return l}(i)}return e}var _i,ci;class JT extends EventTarget{constructor(){super(...arguments);G(this,_i,[]);G(this,ci,0)}getStackSize(){return u(this,_i).length}getCurrentStackIndex(){return u(this,ci)}getCurrentCommand(){return u(this,_i)[u(this,ci)-1]}add(t){z(this,_i,u(this,_i).slice(0,u(this,ci))),u(this,_i).push(t),++Ci(this,ci)._,this.dispatchEvent(new Event("undoadd"))}remove(t){let r=!1;const i=u(this,_i).findIndex(function(o){return o.getName()===t});return i!==-1&&(r=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:t}})),u(this,_i).splice(i,1),--Ci(this,ci)._),r}undo(){u(this,ci)>0&&(this.dispatchEvent(new Event("undo")),--Ci(this,ci)._,u(this,_i)[u(this,ci)].undo())}redo(){u(this,ci)<u(this,_i).length&&(u(this,_i)[u(this,ci)].execute(),++Ci(this,ci)._,this.dispatchEvent(new Event("redo")))}}_i=new WeakMap,ci=new WeakMap;var Xl,xa,Kl,xh,Tr,l3,PR,IR,LR,G1;class hQ{constructor(e){G(this,Tr);G(this,Xl);G(this,xa,null);G(this,Kl,[]);G(this,xh,{});z(this,Xl,e)}init(){for(const e in u(this,Xl))u(this,Xl)[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",Q(this,Tr,G1).call(this,"window","keydown"),!0):window.removeEventListener("keydown",Q(this,Tr,G1).call(this,"window","keydown"),!0)}getToolList(){return u(this,Xl)}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return u(this,xa)}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");u(this,xa)&&u(this,xa).activate(!1),z(this,xa,u(this,Xl)[e]),u(this,xa).activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const r=e.getDivId();e.addEventListener("activelayerchange",Q(this,Tr,PR).call(this,r)),Q(this,Tr,l3).call(this,r,t)}}Xl=new WeakMap,xa=new WeakMap,Kl=new WeakMap,xh=new WeakMap,Tr=new WeakSet,l3=function(e,t){u(this,xh)[e]!==void 0&&Q(this,Tr,LR).call(this,u(this,xh)[e]),u(this,xh)[e]=t,Q(this,Tr,IR).call(this,t)},PR=function(e){return t=>{const r=t.value[0];r!==void 0&&Q(this,Tr,l3).call(this,e,r)}},IR=function(e){e.bindInteraction();const t=Hh;for(let r=0;r<t.length;++r)e.addEventListener(t[r],Q(this,Tr,G1).call(this,e.getId(),t[r]))},LR=function(e){e.unbindInteraction();const t=Hh;for(let r=0;r<t.length;++r)e.removeEventListener(t[r],Q(this,Tr,G1).call(this,e.getId(),t[r]))},G1=function(e,t){if(u(this,Kl)[e]===void 0&&(u(this,Kl)[e]=[]),u(this,Kl)[e][t]===void 0){const r=i=>{if(u(this,xa)){const o=u(this,xa)[i.type];o&&o(i)}};u(this,Kl)[e][t]=r}return u(this,Kl)[e][t]};var Zl,zc,Cg,sd,u3,RR;class yw{constructor(e){G(this,sd);G(this,Zl,[]);G(this,zc,2);G(this,Cg);ae(this,"onprogress",e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;u(this,Zl)[e.index][e.subindex]=t;let r=null;r=e.item!==void 0?e.item:{loaded:Q(this,sd,u3).call(this,e.index),total:100,source:e.source},u(this,Cg).call(this,{lengthComputable:!0,loaded:Q(this,sd,RR).call(this),total:100,item:r})});z(this,Cg,e)}setNumberOfDimensions(e){z(this,zc,e)}setNToLoad(e){for(let t=0;t<e;++t){u(this,Zl)[t]=[];for(let r=0;r<u(this,zc);++r)u(this,Zl)[t][r]=0}}getMonoProgressHandler(e,t){return r=>{r.index=e,r.subindex=t,this.onprogress(r)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}Zl=new WeakMap,zc=new WeakMap,Cg=new WeakMap,sd=new WeakSet,u3=function(e){let t=0;for(let r=0;r<u(this,zc);++r)t+=u(this,Zl)[e][r];return t/u(this,zc)},RR=function(){let e=0;const t=u(this,Zl).length;for(let r=0;r<t;++r)e+=Q(this,sd,u3).call(this,r);return Math.round(e/t)};var Jl,Fi,eu,Th,Ph,Wc,wg,$t,AR,OR,ER,kR,_R,H2,tu,ju,FR,c3,MR;class eP{constructor(){G(this,$t);G(this,Jl,null);G(this,Fi,[]);G(this,eu,null);G(this,Th,0);G(this,Ph,0);G(this,Wc);G(this,wg);G(this,H2,e=>{Ci(this,Th)._++,u(this,Th)===u(this,Jl).length&&this.onload({source:u(this,Jl)})});G(this,tu,e=>{Ci(this,Ph)._++,u(this,Ph)===u(this,Jl).length&&this.onloadend({source:u(this,Jl)})})}getDefaultCharacterSet(){return u(this,wg)}setDefaultCharacterSet(e){z(this,wg,e)}load(e,t){this.onloadstart({source:e}),e.length===1&&(qx(e[0],"DICOMDIR")||qx(e[0],".dcmdir"))?Q(this,$t,MR).call(this,e[0],t):Q(this,$t,c3).call(this,e,t)}abort(){z(this,Wc,!0);for(let e=0;e<u(this,Fi).length;++e)u(this,Fi)[e].readyState!==4&&u(this,Fi)[e].abort();u(this,eu)&&u(this,eu).isLoading()&&u(this,eu).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}Jl=new WeakMap,Fi=new WeakMap,eu=new WeakMap,Th=new WeakMap,Ph=new WeakMap,Wc=new WeakMap,wg=new WeakMap,$t=new WeakSet,AR=function(e){z(this,Jl,e),z(this,Th,0),z(this,Ph,0),z(this,Wc,!1),Q(this,$t,ER).call(this),Q(this,$t,_R).call(this)},OR=function(e){u(this,Fi).push(e)},ER=function(){z(this,Fi,[])},kR=function(e){z(this,eu,e)},_R=function(){z(this,eu,null)},H2=new WeakMap,tu=new WeakMap,ju=function(e,t){return r=>{r.source=t,e(r)}},FR=function(e,t,r){return i=>{const o=i.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+i.target.responseURL+" "+i.target.status+" ("+i.target.statusText+")",target:i.target}),u(this,tu).call(this)):e.load(i.target.response,t,r)}},c3=function(e,t){if(e===void 0||e.length===0)return;Q(this,$t,AR).call(this,e);const r=new yw(this.onprogress);r.setNToLoad(e.length);const i=[];for(let m=0;m<jh.length;++m)i.push(new jh[m]);let o=e[0],l=null,s=!1;for(let m=0;m<i.length;++m)if(l=i[m],l.canLoadUrl(o,t)){s=!0,l.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),l.onprogress=r.getUndefinedMonoProgressHandler(1),l.onloaditem=this.onloaditem,l.onload=u(this,H2),l.onloadend=u(this,tu),l.onerror=this.onerror,l.onabort=this.onabort,Q(this,$t,kR).call(this,l);break}if(!s)throw new Error("No loader found for url: "+o);let d=0;const h=()=>{d<u(this,Fi).length-1&&!u(this,Wc)&&(++d,u(this,Fi)[d].send(null))};for(let m=0;m<e.length;++m){if(o=e[m],!l.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const v=new XMLHttpRequest;if(v.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const C=t.requestHeaders;for(let x=0;x<C.length;++x)C[x].name!==void 0&&C[x].value!==void 0&&v.setRequestHeader(C[x].name,C[x].value)}t.withCredentials!==void 0&&(v.withCredentials=t.withCredentials)}v.onprogress=Q(this,$t,ju).call(this,r.getMonoProgressHandler(m,0),o),v.onload=Q(this,$t,FR).call(this,l,o,m),v.onloadend=h;const g=Q(this,$t,ju).call(this,this.onerror,o);v.onerror=C=>{u(this,tu).call(this),g(C)};const S=Q(this,$t,ju).call(this,this.ontimeout,o);v.ontimeout=C=>{u(this,tu).call(this),S(C)};const y=Q(this,$t,ju).call(this,this.onabort,o);v.onabort=C=>{u(this,tu).call(this),y(C)},l.loadUrlAs()===1&&(v.responseType="arraybuffer"),Q(this,$t,OR).call(this,v)}let f=u(this,Fi).length;t!==void 0&&t.batchSize!==void 0&&f!==0&&(f=Math.min(t.batchSize,u(this,Fi).length));for(let m=0;m<f;++m)u(this,Wc)||(d=m,u(this,Fi)[d].send(null))},MR=function(e,t){const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=i=>{const o=i.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+i.target.responseURL+" "+i.target.status+" ("+i.target.statusText+")",target:i.target}),this.onloadend({});else{const l=function(h){const f=new RI;return f.parse(h),function(m){const v=m["00041220"];if(v===void 0||v.value===void 0)return void Pe.warn("No Directory Record Sequence found in DICOMDIR.");const g=v.value;if(g.length===0)return void Pe.warn("The Directory Record Sequence of the DICOMDIR is empty.");const S=[];let y=null,C=null;for(let x=0;x<g.length;++x){const b=g[x]["00041430"];if(b===void 0||b.value===void 0)continue;const w=b.value[0];if(w==="STUDY")C=[],S.push(C);else if(w==="SERIES")y=[],C.push(y);else if(w==="IMAGE"){const T=g[x]["00041500"];if(T===void 0||T.value===void 0)continue;const P=T.value;y.push(P.join("/"))}}return S}(f.getDicomElements())}(i.target.response)[0][0],s=e.split("/").slice(0,-1).join("/"),d=[];for(let h=0;h<l.length;++h)d.push(s+"/"+l[h]);Q(this,$t,c3).call(this,d,t)}},r.onerror=i=>{Q(this,$t,ju).call(this,this.onerror,e)(i),this.onloadend({})},r.onabort=i=>{Q(this,$t,ju).call(this,this.onabort,e)(i),this.onloadend({})},r.send(null)};class fQ extends Mg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Sr.u(968),Sr.b),{name:"jpegbaseline.worker",type:"module"})}}class pQ extends Mg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Sr.u(112),Sr.b),{name:"jpegloss.worker",type:"module"})}}class gQ extends Mg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Sr.u(557),Sr.b),{name:"jpeg2000.worker",type:"module"})}}class mQ extends Mg{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Sr.u(326),Sr.b),{name:"rle.worker",type:"module"})}}var nu,vo,bg;class SQ{constructor(e){G(this,nu);G(this,vo);G(this,bg,!1);z(this,nu,e),z(this,vo,new VI(10))}decode(e,t,r){u(this,bg)||(z(this,bg,!0),u(this,vo).onworkstart=this.ondecodestart,u(this,vo).onworkitem=this.ondecodeditem,u(this,vo).onwork=this.ondecoded,u(this,vo).onworkend=this.ondecodeend,u(this,vo).onerror=this.onerror,u(this,vo).onabort=this.onabort);const i={buffer:e,meta:t};let o;u(this,nu)==="jpeg-baseline"?o=new fQ(i,r):u(this,nu)==="jpeg-lossless"?o=new pQ(i,r):u(this,nu)==="jpeg2000"?o=new gQ(i,r):u(this,nu)==="rle"&&(o=new mQ(i,r)),o!==void 0&&u(this,vo).addWorkerTask(o)}abort(){u(this,vo).abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}nu=new WeakMap,vo=new WeakMap,bg=new WeakMap;const tP="0040A30A",nP="0040A161",rP="0040A162",iP="0040A163",oP="004008EA";class vw{constructor(){ae(this,"numericValue");ae(this,"floatingPointValue");ae(this,"rationalNumeratorValue");ae(this,"rationalDenominatorValue");ae(this,"measurementUnitsCode")}toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function yQ(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[vu(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const aP="0040A300",sP="0040A301";class Cw{constructor(){ae(this,"measuredValue");ae(this,"numericValueQualifierCode")}toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function vQ(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[yQ(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[vu(n.numericValueQualifierCode)]}),e}const lP="00081150",uP="00081155";class NR{constructor(){ae(this,"referencedSOPClassUID");ae(this,"referencedSOPInstanceUID")}toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function cP(n){const e=new NR;return n[lP]!==void 0&&(e.referencedSOPClassUID=n[lP].value[0]),n[uP]!==void 0&&(e.referencedSOPInstanceUID=n[uP].value[0]),e}function UR(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const dP="00081160",hP="00081199",fP="0062000B";class BR{constructor(){ae(this,"referencedSOPSequence");ae(this,"referencedFrameNumber");ae(this,"referencedSegmentNumber")}toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function CQ(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[UR(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}const pP="00480301",gP="00700022",mP="00700023",SP="0070031A",ww="POINT",mS="MULTIPOINT",Q1="POLYLINE",qR="CIRCLE",VR="ELLIPSE";class b2{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"pixelOriginInterpretation");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function wQ(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function yP(n){const e=new b2;if(n instanceof Le)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=ww;else if(n instanceof jt)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=Q1;else if(n instanceof Ju){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=Q1}else if(n instanceof Xo){e.graphicData=[];for(let r=0;r<n.getLength();++r)e.graphicData.push(n.getPoint(r).getX().toString()),e.graphicData.push(n.getPoint(r).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=Q1}else if(n instanceof tc){const t=n.getCenter(),r=new Le(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),r.getX().toString(),r.getY().toString()],e.graphicType=qR}else if(n instanceof ec){const t=n.getCenter(),r=n.getA(),i=n.getB();e.graphicData=[(t.getX()-r).toString(),t.getY().toString(),(t.getX()+r).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-i).toString(),t.getX().toString(),(t.getY()+i).toString()],e.graphicType=VR}else if(n instanceof Zu){const t=n.getBegin(),r=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),r.getY().toString(),r.getX().toString(),r.getY().toString(),r.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=Q1}return e}function SS(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let l=0;l<e;l+=2)t.push(new Le(parseFloat(n.graphicData[l]),parseFloat(n.graphicData[l+1])));let r=!1;const i=t.length;if(i>2){const l=t[0],s=t[i-1];r=l.equals(s)}let o;if(n.graphicType===ww)t.length>1&&Pe.warn("Expecting 1 point for point, got "+i),o=t[0];else if(n.graphicType===qR){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+i);t.length>2&&Pe.warn("Expecting 2 points for circles, got "+i);const l=t[0],s=t[1].getDistance(l);o=new tc(l,s)}else if(n.graphicType===VR){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+i);t.length>4&&Pe.warn("Expecting 4 points for ellipses, got "+i);const l=t[0].getDistance(t[1])/2,s=t[2].getDistance(t[3])/2,d=new Le(t[0].getX()+l,t[0].getY());o=new ec(d,l,s)}else if(n.graphicType===Q1)if(r)if(t.length===5){const l=new jt(t[0],t[1]),s=new jt(t[1],t[2]),d=new jt(t[2],t[3]),h=new jt(t[3],t[4]);o=sC(l,s)&&sC(s,d)&&sC(d,h)?new Zu(t[0],t[2]):new Xo(t.slice(0,-1))}else o=new Xo(t.slice(0,-1));else t.length===2?o=new jt(t[0],t[1]):t.length===3&&(o=new Ju([t[0],t[1],t[2]]));return o}const vP="00700022",CP="00700023",wP="30060024",bP="0070031A";class GR{constructor(){ae(this,"graphicData");ae(this,"graphicType");ae(this,"referencedFrameofReferenceUID");ae(this,"fiducialUID")}toString(){return this.graphicType+" {"+this.graphicData+"}"}}function bQ(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const da={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},yn="CONTAINS",Za="HAS PROPERTIES",Qu="HAS OBS CONTEXT",zu="INFERRED FROM",E1="SELECTED FROM",yS="HAS CONCEPT MOD",$i="TEXT",gl="NUM",No="CODE",vS="UIDREF",QR="COMPOSITE",Yu="IMAGE",Kr="SCOORD",D2="SCOORD3D",Fo="CONTAINER",k1="SEPARATE",zR={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function hC(n){let e;const t=nn(n,da.ContentTemplateSequence);if(t!==void 0){const r=nn(t,da.MappingResource),i=nn(t,da.TemplateIdentifier);r!==void 0&&i!==void 0&&(e=r+"-"+i)}return e}class Wt{constructor(e){ae(this,"valueType");ae(this,"conceptNameCode");ae(this,"relationshipType");ae(this,"contentSequence",[]);ae(this,"value");this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const r of this.contentSequence)t+=`
`+e+"- "+r.toString(e+"  ");return t}hasHeader(e,t,r){return this.valueType===e&&OS(this.conceptNameCode,t)&&this.relationshipType===r}}function z1(n){let e=nn(n,da.ValueType);e===void 0&&(e="");const t=new Wt(e);t.relationshipType=nn(n,da.RelationshipType);const r=nn(n,da.ConceptNameCodeSequence);if(r!==void 0&&(t.conceptNameCode=Hd(r)),e===No)t.value=Hd(nn(n,da.ConceptCodeSequence));else if(e===gl)t.value=function(o){const l=new Cw;return o[aP]!==void 0&&(l.measuredValue=function(s){const d=new vw;return s[tP]!==void 0&&(d.numericValue=parseFloat(s[tP].value[0])),s[nP]!==void 0&&(d.floatingPointValue=parseFloat(s[nP].value[0])),s[rP]!==void 0&&(d.rationalNumeratorValue=parseInt(s[rP].value[0],10)),s[iP]!==void 0&&(d.rationalDenominatorValue=parseInt(s[iP].value[0],10)),s[oP]!==void 0&&(d.measurementUnitsCode=Hd(s[oP].value[0])),d}(o[aP].value[0])),o[sP]!==void 0&&(l.numericValueQualifierCode=Hd(o[sP].value[0])),l}(n);else if(e===Yu)t.value=function(o){const l=new BR;return o[dP]!==void 0&&(l.referencedFrameNumber=o[dP].value[0]),o[hP]!==void 0&&(l.referencedSOPSequence=cP(o[hP].value[0])),o[fP]!==void 0&&(l.referencedSegmentNumber=o[fP].value[0]),l}(n);else if(e===QR)t.value=cP(nn(n,da.ReferencedSOPSequence));else if(e===Kr)t.value=function(o){const l=new b2;return o[gP]!==void 0&&(l.graphicData=o[gP].value),o[mP]!==void 0&&(l.graphicType=o[mP].value[0]),o[pP]!==void 0&&(l.pixelOriginInterpretation=o[pP].value[0]),o[SP]!==void 0&&(l.fiducialUID=o[SP].value[0]),l}(n);else if(e===D2)t.value=function(o){const l=new GR;return o[vP]!==void 0&&(l.graphicData=o[vP].value),o[CP]!==void 0&&(l.graphicType=o[CP].value[0]),o[wP]!==void 0&&(l.referencedFrameofReferenceUID=o[wP].value[0]),o[bP]!==void 0&&(l.fiducialUID=o[bP].value[0]),l}(n);else{const o=zR[e];o!==void 0?t.value=nn(n,da[o]):console.warn("Unsupported input ValueType: "+e)}const i=ca(n,da.ContentSequence);if(i!==void 0)for(const o of i)t.contentSequence.push(z1(o));return t}function d3(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[vu(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[vu(n.value)]};else if(n.valueType===gl)e={...e,...vQ(n.value)};else if(n.valueType===Yu)e={...e,...CQ(n.value)};else if(n.valueType===QR)e={...e,...UR(n.value)};else if(n.valueType===Kr)e={...e,...wQ(n.value)};else if(n.valueType===D2)e={...e,...bQ(n.value)};else{const t=zR[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(d3(t))}return e}function DP(n,e,t,r){const i=function(h){const f=XC[h];let m;return f!==void 0&&(m=C2(f.key,f.scheme)),m}(n);if(i===void 0)return;let o=yn;r!==void 0&&(o=r);const l=new Wt(gl);l.relationshipType=o,l.conceptNameCode=i;const s=new vw;s.numericValue=e,s.measurementUnitsCode=MI(t);const d=new Cw;return d.measuredValue=s,l.value=d,l}function xP(n,e){const t=Object.keys(e);for(const r of t)n[r]!==void 0&&Pe.debug("Overwritting tag: "+r),n[r]=e[r]}class DQ{constructor(){ae(this,"current");ae(this,"measure")}}class xQ{constructor(){ae(this,"annotationGroups");ae(this,"responseEvaluations");ae(this,"comment")}}var Hc,Ae,h3,f3,e2,W1,WR,t2,p3,n2,r2,g3,i2,HR,jR,$R,YR,XR,KR,o2,ZR,JR,a2,e7,t7,n7,r7,i7,o7,a7,s7,l7,u7,m3,Qd,c7,d7,h7,f7,p7,g7,m7;class fC{constructor(){G(this,Ae);G(this,Hc)}getWarning(){return u(this,Hc)}checkElements(e){return z(this,Hc,void 0),Q(this,Ae,h3).call(this,e)||Q(this,Ae,f3).call(this,e)||Q(this,Ae,e2).call(this,e)||z(this,Hc,"Not a dwv supported annotation"),u(this,Hc)}create(e){const t=z1(e);let r,i;if(Q(this,Ae,f3).call(this,e)?(i="TID 1500 SR",r=Q(this,Ae,s7).call(this,t)):Q(this,Ae,h3).call(this,e)&&(Pe.warn("DWV v0.34 annotation"),i="DWV v0.34 SR",r=Q(this,Ae,u7).call(this,t)),Q(this,Ae,e2).call(this,e)){i="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(r=o.annotationGroups[0])}if(r===void 0)throw new Error("Cannot create annotation group from "+i);return Q(this,Ae,m3).call(this,r,e),r}createCADReport(e){const t=z1(e),r=Q(this,Ae,l7).call(this,t);if(r===void 0)return void Pe.warn("No CAD processing and Findings Summary in TID 4100 SR");let i=[];if(Q(this,Ae,e2).call(this,e)&&(i=Q(this,Ae,o7).call(this,r)),i===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const d of i)Q(this,Ae,m3).call(this,d,e);const o=[];let l;for(const d of r.contentSequence)if(Q(this,Ae,jR).call(this,d)){const h=Q(this,Ae,m7).call(this,d);h!==void 0&&o.push(h)}else Q(this,Ae,$R).call(this,d)&&(l=d.value);const s=new xQ;return s.annotationGroups=i,s.responseEvaluations=o,s.comment=l,s}toDicom(e,t){let r=e.getMeta();r.TransferSyntaxUID="1.2.840.10008.1.2.1",r.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.CompletionFlag="PARTIAL",r.VerificationFlag="UNVERIFIED";const i=new Date;r.ContentDate=$C(HC(i)),r.ContentTime=YC(jC(i));const o=r.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const s=l.value;for(const h of e.getList()){const f={ReferencedSOPInstanceUID:h.referencedSopInstanceUID,ReferencedSOPClassUID:h.referencedSopClassUID},m=function(v){return v.ReferencedSOPInstanceUID===f.ReferencedSOPInstanceUID&&v.ReferencedSOPClassUID===f.ReferencedSOPClassUID};s.find(m)===void 0&&s.push(f)}r.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const d=Q(this,Ae,h7).call(this,e);if(d===void 0)throw new Error("No annotation group SR content");return r={...r,...d3(d)},t!==void 0&&xP(r,t),sp(r)}toDicomCADReport(e,t){let r=e.annotationGroups[0].getMeta();r.TransferSyntaxUID="1.2.840.10008.1.2.1",r.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",r.CompletionFlag="PARTIAL",r.VerificationFlag="UNVERIFIED";const i=new Date;r.ContentDate=$C(HC(i)),r.ContentTime=YC(jC(i));const o=r.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const s=l.value;for(const f of e.annotationGroups)for(const m of f.getList()){const v={ReferencedSOPInstanceUID:m.referencedSopInstanceUID,ReferencedSOPClassUID:m.referencedSopClassUID},g=function(S){return S.ReferencedSOPInstanceUID===v.ReferencedSOPInstanceUID&&S.ReferencedSOPClassUID===v.ReferencedSOPClassUID};s.find(g)===void 0&&s.push(v)}r.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const d=new Wt(No);d.relationshipType=yn,d.conceptNameCode=at(dT),d.value=at(jV),d.contentSequence=[];for(const f of e.responseEvaluations){const m=Q(this,Ae,g7).call(this,f);d.contentSequence.push(m)}for(const f of e.annotationGroups)Q(this,Ae,p7).call(this,f,d.contentSequence);if(e.comment!==void 0){const f=new Wt($i);f.relationshipType=yn,f.conceptNameCode=at(yT),f.value=e.comment,d.contentSequence.push(f)}const h=new Wt(Fo);if(h.conceptNameCode=at(pT),h.value=k1,h.contentSequence.push(d),h===void 0)throw new Error("No annotation group SR content");return r={...r,...d3(h)},t!==void 0&&xP(r,t),sp(r)}}Hc=new WeakMap,Ae=new WeakSet,h3=function(e){const t=function(s){let d;return s.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(d=s.substring(29).replace(".99","-beta")),d}(nn(e,"00020012")),r=t!==void 0&&function(s){const d=Yx(s,"0.34.0"),h=Yx(s,"0.35.0-beta.21");return d>=0&&h<=0}(t),i=hC(e);let o;const l=z1(e);return l.conceptNameCode!==void 0&&(o=l.conceptNameCode.value),r&&i===void 0&&o===cS.value},f3=function(e){const t=hC(e)==="DCMR-1500";let r;const i=z1(e);i.conceptNameCode!==void 0&&(r=i.conceptNameCode.value);let o=!1;if(t&&r===iC.value){const l=i.contentSequence.find(Q(this,Ae,g3));if(l!==void 0){const s=l.contentSequence.find(Q(this,Ae,i2));if(s!==void 0){const d=s.contentSequence.find(Q(this,Ae,o2)),h=s.contentSequence.find(Q(this,Ae,a2));d===void 0&&h===void 0||(o=!0)}}}return o},e2=function(e){return hC(e)==="DCMR-4100"},W1=function(e,t){t.valueType===Yu&&t.relationshipType===E1&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))},WR=function(e,t){t.hasHeader(vS,at(lS),Za)&&(e.trackingId=t.value,e.trackingUid=t.value)},t2=function(e,t){t.hasHeader($i,at(lS),Qu)&&(e.trackingId=t.value),t.hasHeader(vS,at(rC),Qu)&&(e.trackingUid=t.value)},p3=function(e,t,r){r===void 0&&(r=!1);let i=yS;if(r&&(i=Za),t.hasHeader($i,at(vT),i)){e.textExpr=t.value;const o=t.contentSequence.find(function(l){return l.hasHeader(Kr,at(uS),Za)});o!==void 0&&(e.labelPosition=new Le(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader($i,bT(),i)&&(e.colour=t.value),t.hasHeader(Kr,at(uS),i)&&t.value.graphicType===mS){const o=[];for(let l=0;l<t.value.graphicData.length;l+=2)o.push(new Le(t.value.graphicData[l],t.value.graphicData[l+1]));e.referencePoints=o}if(t.hasHeader(D2,at(wT),yn)&&t.value.graphicType===mS){const o=t.value.graphicData,l=[],s=Math.floor(o.length/3);for(let d=0;d<s;++d){const h=3*d;l.push(new Gt(o[h],o[h+1],o[h+2]))}e.planePoints=l}Q(this,Ae,n2).call(this,e,t),Q(this,Ae,r2).call(this,e,t)},n2=function(e,t,r){let i;if(r===void 0&&(i=yn),t.valueType===gl&&t.relationshipType===i){const o=function(l){let s;for(const d in XC){const h=XC[d];if(h.scheme===l.schemeDesignator&&h.key===l.value){s=d;break}}return s}(t.conceptNameCode);if(o!==void 0){const l=t.value.measuredValue,s=function(d){let h;for(const f in KC){const m=KC[f];if(d.schemeDesignator==="UCUM"&&m===d.value){h=f;break}}return h}(l.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:l.numericValue,unit:s}}}},r2=function(e,t){t.valueType!==No&&t.valueType!==$i||t.relationshipType!==yn||e.addMetaItem(t.conceptNameCode,t.value)},g3=function(e){return e.hasHeader(Fo,at(CT),yn)},i2=function(e){return e.hasHeader(Fo,at(cS),yn)},HR=function(e){return e.hasHeader(No,at(fT),zu)},jR=function(e){return e.hasHeader(Fo,at(gT),Za)},$R=function(e){return e.hasHeader($i,at(yT),yn)},YR=function(e){return e.hasHeader(No,at(ST),yn)},XR=function(e){return e.hasHeader(gl,at(mT),yn)},KR=function(e){return e.hasHeader(No,at(dT),yn)},o2=function(e){return e.hasHeader(Kr,at(hT),yn)},ZR=function(e){return e.contentSequence.find(Q(this,Ae,o2))!==void 0},JR=function(e){let t;const r=e.contentSequence.find(Q(this,Ae,o2));if(r!==void 0){t=new qs,t.mathShape=SS(r.value);const i=r.contentSequence.find(function(o){return o.valueType===Yu&&o.relationshipType===E1});i!==void 0&&Q(this,Ae,W1).call(this,t,i);for(const o of e.contentSequence)Q(this,Ae,t2).call(this,t,o),Q(this,Ae,p3).call(this,t,o)}return t},a2=function(e){let t;return e.valueType===gl&&e.relationshipType===yn&&(t=e.contentSequence.find(function(r){return r.valueType===Kr&&r.relationshipType===zu})),t!==void 0},e7=function(e){let t;return e.valueType===gl&&e.relationshipType===Za&&(t=e.contentSequence.find(function(r){return r.valueType===Kr&&r.relationshipType===zu})),t!==void 0},t7=function(e){return e.contentSequence.find(Q(this,Ae,a2))!==void 0},n7=function(e){let t;const r=e.contentSequence.find(Q(this,Ae,a2));if(r!==void 0){t=new qs;const i=r.contentSequence.find(function(l){return l.valueType===Kr&&l.relationshipType===zu});t.mathShape=SS(i.value),t.mathShape instanceof Le&&i.value.graphicData.length>=4&&(t.referencePoints=[new Le(i.value.graphicData[2],i.value.graphicData[3])]);const o=i.contentSequence.find(function(l){return l.valueType===Yu&&l.relationshipType===E1});o!==void 0&&Q(this,Ae,W1).call(this,t,o)}if(t!==void 0)for(const i of e.contentSequence)Q(this,Ae,t2).call(this,t,i),Q(this,Ae,n2).call(this,t,r),Q(this,Ae,r2).call(this,t,i);return t},r7=function(e){let t;const r=e.contentSequence.find(Q(this,Ae,e7));if(r!==void 0){t=new qs;const i=r.contentSequence.find(function(l){return l.valueType===Kr&&l.relationshipType===zu});t.mathShape=SS(i.value),t.mathShape instanceof Le&&i.value.graphicData.length>=4&&(t.referencePoints=[new Le(i.value.graphicData[2],i.value.graphicData[3])]);const o=i.contentSequence.find(function(l){return l.valueType===Yu&&l.relationshipType===E1});o!==void 0&&Q(this,Ae,W1).call(this,t,o)}if(t!==void 0)for(const i of e.contentSequence)Q(this,Ae,t2).call(this,t,i),Q(this,Ae,n2).call(this,t,r,Za),Q(this,Ae,r2).call(this,t,i);return t},i7=function(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let r=!1,i=!1;Q(this,Ae,i2).call(this,t)&&(r=Q(this,Ae,ZR).call(this,t),i=Q(this,Ae,t7).call(this,t));const o=[];let l,s=!1;for(const d of e.contentSequence)if(Q(this,Ae,i2).call(this,d)){let h;s=!0,r?h=Q(this,Ae,JR).call(this,d):i&&(h=Q(this,Ae,n7).call(this,d)),h!==void 0&&o.push(h)}return s?o.length!==0?l=new J1(o):Pe.warn("No valid measurement groups in TID 1500 SR"):Pe.warn("No measurement groups in TID 1500 SR"),l},o7=function(e){const t=[];let r=!1;for(const o of e.contentSequence)if(Q(this,Ae,HR).call(this,o)){r=!0;const l=Q(this,Ae,r7).call(this,o);l!==void 0&&t.push(l)}const i=[];return r?t.length!==0?i.push(new J1(t)):Pe.warn("No valid measurement groups in TID 4100 SR"):Pe.warn("No image findings in TID 4100 SR"),i},a7=function(e){const t=new qs;t.mathShape=SS(e.value);for(const r of e.contentSequence)Q(this,Ae,W1).call(this,t,r),Q(this,Ae,WR).call(this,t,r),Q(this,Ae,p3).call(this,t,r,!0);return t},s7=function(e){let t;e.valueType===Fo&&OS(e.conceptNameCode,at(iC))||Pe.warn("Not the expected TID 1500 SR content header");const r=e.contentSequence.find(Q(this,Ae,g3));return r!==void 0?t=Q(this,Ae,i7).call(this,r):Pe.warn("No imaging measurements in TID 1500 SR"),t},l7=function(e){return e.valueType===Fo&&OS(e.conceptNameCode,at(pT))||Pe.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(Q(this,Ae,KR))},u7=function(e){e.valueType===Fo&&OS(e.conceptNameCode,at(cS))||console.warn("Not the expected dwv034 content header");const t=[];for(const r of e.contentSequence)r.valueType===Kr&&t.push(Q(this,Ae,a7).call(this,r));return new J1(t)},m3=function(e,t){const r=function(l){return nn(t,l)};e.setMetaValue("StudyInstanceUID",r("0020000D")),e.setMetaValue("StudyID",r("00200010")),e.setMetaValue("SeriesInstanceUID",r("0020000E")),e.setMetaValue("SeriesNumber",r("00200011")),e.setMetaValue("Modality",r("00080060")),e.setMetaValue("PatientName",r("00100010")),e.setMetaValue("PatientID",r("00100020")),e.setMetaValue("PatientBirthDate",r("00100030")),e.setMetaValue("PatientSex",r("00100040"));const i="0040A375",o=t[i];if(o!==void 0){const l=MV({[i]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",l.CurrentRequestedProcedureEvidenceSequence)}},Qd=function(e){const t=new Wt(Yu);t.relationshipType=E1,t.conceptNameCode=at(JV);const r=new NR;r.referencedSOPClassUID=e.referencedSopClassUID,r.referencedSOPInstanceUID=e.referencedSopInstanceUID;const i=new BR;return i.referencedSOPSequence=r,e.referencedFrameNumber!==void 0&&(i.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=i,t},c7=function(e){const t=[],r=new Wt($i);r.relationshipType=Qu,r.conceptNameCode=at(lS),r.value=e.trackingId,t.push(r);const i=new Wt(vS);if(i.relationshipType=Qu,i.conceptNameCode=at(rC),i.value=e.trackingUid,t.push(i),e.textExpr!==void 0&&e.textExpr.length!==0){const s=new Wt($i);if(s.relationshipType=yS,s.conceptNameCode=at(vT),s.value=e.textExpr,e.labelPosition!==void 0){const d=new Wt(Kr);d.relationshipType=Za,d.conceptNameCode=at(uS);const h=new b2;h.graphicType=ww;const f=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];h.graphicData=f,d.value=h;const m=Q(this,Ae,Qd).call(this,e);d.contentSequence=[m],s.contentSequence=[d]}t.push(s)}const o=new Wt($i);if(o.relationshipType=yS,o.conceptNameCode=bT(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const s=new Wt(Kr);s.relationshipType=yS,s.conceptNameCode=at(uS);const d=new b2;d.graphicType=mS;const h=[];for(const m of e.referencePoints)h.push(m.getX().toString()),h.push(m.getY().toString());d.graphicData=h,s.value=d;const f=Q(this,Ae,Qd).call(this,e);s.contentSequence=[f],t.push(s)}if(e.planePoints!==void 0){const s=new Wt(D2);s.relationshipType=yn,s.conceptNameCode=at(wT);const d=new GR;d.graphicType=mS;const h=[];for(const m of e.planePoints)h.push(m.getX().toString()),h.push(m.getY().toString()),h.push(m.getZ().toString());d.graphicData=h,s.value=d;const f=Q(this,Ae,Qd).call(this,e);s.contentSequence=[f],t.push(s)}if(e.quantification!==void 0)for(const s in e.quantification){const d=DP(s,Oa(e.quantification[s].value,12),e.quantification[s].unit);d!==void 0&&t.push(d)}const l=e.getMetaConceptIds();for(const s of l){const d=e.getMetaItem(s);let h=$i;d.value instanceof lp&&(h=No);const f=new Wt(h);f.relationshipType=yn,f.conceptNameCode=d.concept,f.value=d.value,t.push(f)}return t},d7=function(e){const t=new Wt(Fo);t.relationshipType=yn,t.conceptNameCode=at(cS),t.value=k1;const r=new Wt(Kr);r.relationshipType=yn,r.conceptNameCode=at(hT),r.value=yP(e.mathShape);const i=Q(this,Ae,Qd).call(this,e);return r.contentSequence=[i],t.contentSequence=[r].concat(Q(this,Ae,c7).call(this,e)),t},h7=function(e){let t;if(e.getList().length!==0){const r=new Wt(Fo);r.conceptNameCode=at(CT),r.relationshipType=yn,r.value=k1;const i=[];for(const o of e.getList())i.push(Q(this,Ae,d7).call(this,o));r.contentSequence=i,t=new Wt(Fo),t.conceptNameCode=at(iC),t.value=k1,t.contentSequence=[r]}return t},f7=function(e){const t=new Wt(No);t.relationshipType=zu,t.conceptNameCode=at(fT),t.value=at(HV),t.contentSequence=[];const r=new Wt($i);r.relationshipType=Qu,r.conceptNameCode=at(lS),r.value=e.trackingId,t.contentSequence.push(r);const i=new Wt(vS);if(i.relationshipType=Qu,i.conceptNameCode=at(rC),i.value=e.trackingUid,t.contentSequence.push(i),e.quantification!==void 0)for(const l in e.quantification){const s=DP(l,Oa(e.quantification[l].value,12),e.quantification[l].unit,Za);if(s!==void 0){const d=new Wt(Kr);d.relationshipType=zu,d.conceptNameCode=at(KV),d.value=yP(e.mathShape);const h=Q(this,Ae,Qd).call(this,e);d.contentSequence=[h],s.contentSequence=[d],t.contentSequence.push(s)}}const o=e.getMetaConceptIds();for(const l of o){const s=e.getMetaItem(l);let d=$i;s.value instanceof lp&&(d=No);const h=new Wt(d);h.relationshipType=yn,h.conceptNameCode=s.concept,h.value=s.value,t.contentSequence.push(h)}return t},p7=function(e,t){if(e.getList().length!==0)for(const r of e.getList())t.push(Q(this,Ae,f7).call(this,r))},g7=function(e){const t=new Wt(Fo);t.relationshipType=Za,t.conceptNameCode=at(gT),t.value=k1,t.contentSequence=[];const r=new Wt(No);if(r.relationshipType=Qu,r.conceptNameCode=at($V),r.value=at(YV),t.contentSequence.push(r),e!==void 0){if(e.current!==void 0){const i=new Wt(No);i.relationshipType=yn,i.conceptNameCode=at(ST),i.value=e.current,t.contentSequence.push(i)}if(e.measure!==void 0){const i=new Wt(gl);i.relationshipType=yn,i.conceptNameCode=at(mT);const o=new vw;o.numericValue=e.measure,o.measurementUnitsCode=MI("unit.mm");const l=new Cw;l.measuredValue=o,i.value=l,t.contentSequence.push(i)}}return t},m7=function(e){let t,r,i;for(const o of e.contentSequence)Q(this,Ae,YR).call(this,o)?t=o.value:Q(this,Ae,XR).call(this,o)&&(r=o.value.measuredValue.numericValue);return t!==void 0&&(i=new DQ,i.current=t,r!==void 0&&(i.measure=r)),i};var jc,Co,$c,Fs,Ms,Dg,Hn,S7,S3,y3,y7,v7,C7,w7,b7;class TQ{constructor(){G(this,Hn);G(this,jc);G(this,Co,null);G(this,$c,[]);G(this,Fs,[]);G(this,Ms,[]);G(this,Dg,[])}setOptions(e){z(this,jc,e)}convert(e,t,r){this.onloadstart({source:t,index:r});const i=new RI;let o;u(this,jc).defaultCharacterSet!==void 0&&i.setDefaultCharacterSet(u(this,jc).defaultCharacterSet);try{i.parse(e),o=Q(this,Hn,S7).call(this,i.getDicomElements()),o.checkElements(i.getDicomElements())}catch(l){return this.onerror({error:l,source:t}),void this.onloadend({source:t})}u(this,$c)[r]=i,u(this,Dg)[r]=o,o instanceof fC?Q(this,Hn,w7).call(this,r,t):Q(this,Hn,b7).call(this,r,t)}abort(){u(this,Co)&&u(this,Co).abort()}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}jc=new WeakMap,Co=new WeakMap,$c=new WeakMap,Fs=new WeakMap,Ms=new WeakMap,Dg=new WeakMap,Hn=new WeakSet,S7=function(e){let t;const r=e["00080060"];if(r!==void 0){const i=r.value[0];i==="SEG"?t=new ZC:i==="SR"&&(t=new fC)}return t===void 0&&(t=new zV),t},S3=function(e,t){const r=u(this,$c)[e].getDicomElements(),i=u(this,Dg)[e];if(i===void 0)return!1;try{const o=new Sw(r);i instanceof fC?i.checkElements(r)===void 0&&(o.annotationGroup=i.create(r)):i instanceof ZC?o.buffer=u(this,Ms)[e]:o.image=i.create(r,u(this,Ms)[e],u(this,jc).numberOfFiles),this.onloaditem({data:o,source:t,warn:i.getWarning()})}catch(o){return this.onerror({error:o,source:t}),this.onloadend({source:t}),!1}return!0},y3=function(e,t){Q(this,Hn,S3).call(this,e,t)&&this.onload({source:t}),this.onloadend({source:t})},y7=function(e,t){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),Q(this,Hn,y3).call(this,e,t)},v7=function(e,t,r){const i=u(this,$c)[e],o={bitsAllocated:i.getDicomElements()["00280100"].value[0],isSigned:i.getDicomElements()["00280103"].value[0]===1},l=i.getDicomElements()["00280011"],s=i.getDicomElements()["00280010"];l!==void 0&&s!==void 0&&(o.sliceSize=l.value[0]*s.value[0]);const d=i.getDicomElements()["00280002"];d!==void 0&&(o.samplesPerPixel=d.value[0]);const h=i.getDicomElements()["00280006"];h!==void 0&&(o.planarConfiguration=h.value[0]);const f=t.length;u(this,Co)===null&&(z(this,Co,new SQ(r)),u(this,Co).ondecodeditem=m=>{Q(this,Hn,C7).call(this,m),m.itemNumber+1===m.numberOfItems&&(this.onload(m),this.onloadend(m))},u(this,Co).onerror=this.onerror,u(this,Co).onabort=this.onabort);for(let m=0;m<f;++m)u(this,Co).decode(t[m],o,{itemNumber:m,numberOfItems:f,index:e})},C7=function(e){this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:origin});const t=e.index,r=e.data[0];if(e.numberOfItems!==1){if(u(this,Fs)[t]===void 0){u(this,Fs)[t]=r.length;const i=e.numberOfItems*u(this,Fs)[t];try{u(this,Ms)[t]=new r.constructor(i)}catch(o){if(o instanceof RangeError){const l=Math.floor(Math.log(i)/Math.log(2));Pe.error("Cannot allocate "+r.constructor.name+" of size: "+i+" (>2^"+l+") for decompressed data.")}return u(this,Co).abort(),this.onerror({error:o,source:origin}),void this.onloadend({source:origin})}}r.length!==u(this,Fs)[t]&&Pe.warn("Unsupported varying decompressed data size: "+r.length+" != "+u(this,Fs)[t]),u(this,Ms)[t].set(r,u(this,Fs)[t]*e.itemNumber)}else u(this,Ms)[t]=r;e.itemNumber===0&&Q(this,Hn,S3).call(this,t,origin)},w7=function(e,t){Q(this,Hn,y3).call(this,e,t)},b7=function(e,t){const r=u(this,$c)[e].getDicomElements();let i=r["7FE00010"];i===void 0&&(i=r["7FE00008"]),i===void 0&&(i=r["7FE00009"]);const o=i.value;u(this,Ms)[e]=o[0];const l=function(s){let d;return fw(s)?d="jpeg2000":dw(s)?d="jpeg-baseline":hw(s)?d="jpeg-lossless":LI(s)&&(d="rle"),d}(r["00020010"].value[0]);l!==void 0?Q(this,Hn,v7).call(this,e,o,l):Q(this,Hn,y7).call(this,e,t)};var ru,iu,Ih,Lh,xg,Cu,D7,x7,T7,j2,$2;class v3{constructor(){G(this,Cu);G(this,ru,null);G(this,iu,null);G(this,Ih,0);G(this,Lh,0);G(this,xg);G(this,j2,e=>{Ci(this,Ih)._++,u(this,Ih)===u(this,ru).length&&this.onload({source:u(this,ru)})});G(this,$2,e=>{Ci(this,Lh)._++,u(this,Lh)===u(this,ru).length&&this.onloadend({source:u(this,ru)})})}getDefaultCharacterSet(){return u(this,xg)}setDefaultCharacterSet(e){z(this,xg,e)}load(e){if(e===void 0||e.length===0)return;Q(this,Cu,D7).call(this,e),this.onloadstart({source:e});const t=new yw(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const r=[];for(let s=0;s<jh.length;++s)r.push(new jh[s]);let i=e[0],o=null,l=!1;for(let s=0;s<r.length;++s)if(o=r[s],o.canLoadMemory(i)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=u(this,j2),o.onloadend=u(this,$2),o.onerror=this.onerror,o.onabort=this.onabort,Q(this,Cu,x7).call(this,o);break}if(!l)throw new Error("No loader found for data: "+i.filename);for(let s=0;s<e.length;++s){if(i=e[s],!o.canLoadMemory(i))throw new Error("Input data of different type: "+i.filename);o.load(i.data,i.filename,s)}}abort(){u(this,iu)&&u(this,iu).isLoading()&&u(this,iu).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}ru=new WeakMap,iu=new WeakMap,Ih=new WeakMap,Lh=new WeakMap,xg=new WeakMap,Cu=new WeakSet,D7=function(e){z(this,ru,e),z(this,Ih,0),z(this,Lh,0),Q(this,Cu,T7).call(this)},x7=function(e){z(this,iu,e)},T7=function(){z(this,iu,null)},j2=new WeakMap,$2=new WeakMap;function CS(n){return parseInt(n,36).toString()}function TP(n){const e=n.data.length,t=new Uint8Array(e/4*3);let r=0;for(let i=0;i<e;i+=4)t[r]=n.data[i],t[r+1]=n.data[i+1],t[r+2]=n.data[i+2],r+=3;return t}function PP(n,e,t,r,i,o){const l=new Gs([n,e,1]),s=new hu([1,1,1]),d=new Gt(0,0,t),h=new fu([d],l,s),f=new od(h,r,[o]);f.setPhotometricInterpretation("RGB");const m={BitsStored:8};return i!==void 0&&(m.numberOfFiles=i),f.setMeta(m),f}var PQ=function(n){var e={};return Sr.d(e,n),e}({default:function(){return hV}}),Tg,ou,Mi,jP,Yc,$P,Xc,YP,Rh,Y2,P7,XP,X2,I7,KP,Kc,Ah,Ta,Pa,Pg,C3,ZP;const jh=[(jP=class{constructor(){G(this,Tg,{});G(this,ou,!1);G(this,Mi,new TQ)}setOptions(n){z(this,Tg,n)}isLoading(){return u(this,ou)}load(n,e,t){u(this,ou)||(u(this,Mi).setOptions(u(this,Tg)),u(this,Mi).onloadstart=this.onloadstart,u(this,Mi).onprogress=this.onprogress,u(this,Mi).onloaditem=this.onloaditem,u(this,Mi).onload=this.onload,u(this,Mi).onloadend=r=>{z(this,ou,!1),this.onloadend(r)},u(this,Mi).onerror=r=>{r.source=e,this.onerror(r)},u(this,Mi).onabort=this.onabort),z(this,ou,!0),u(this,Mi).convert(n,e,t)}abort(){z(this,ou,!1),u(this,Mi).abort()}canLoadFile(n){const e=hl(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const s=function(h){return h.name==="Accept"},d=e.requestHeaders.find(s);if(d!==void 0){const h="application/dicom";return Bu(d.value,h)&&d.value[h.length]!=="+"}}}const t=O1(n),r=hl(t.pathname),i=r===null,o=r==="dcm",l=t.searchParams.get("contentType");return l!=null?l==="application/dicom":i||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ts.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Tg=new WeakMap,ou=new WeakMap,Mi=new WeakMap,jP),($P=class{constructor(){G(this,Yc,!1)}setOptions(n){}isLoading(){return u(this,Yc)}load(n,e,t){z(this,Yc,!0),this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const r={data:n,source:e};this.onloaditem(r),this.onload(r)}catch(r){this.onerror({error:r,source:e})}finally{z(this,Yc,!1),this.onloadend({source:e})}}abort(){z(this,Yc,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return hl(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return Bu(r.value,"application/json")||Bu(r.value,"application/dicom+json")}}return hl(O1(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ts.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Yc=new WeakMap,$P),(YP=class{constructor(){G(this,Xc,!1)}setOptions(n){}isLoading(){return u(this,Xc)}load(n,e,t){this.onloadstart({source:e}),z(this,Xc,!0);const r=new v3;r.onprogress=i=>{i.loaded=50+i.loaded/2,i.index=t,this.onprogress(i)},r.onloaditem=this.onloaditem,r.onload=this.onload,r.onloadend=i=>{z(this,Xc,!1),this.onloadend(i)},r.onerror=this.onerror,r.onabort=this.onabort,r.load(function(i){const o=new Uint8Array(i),l=[];if(o.length===0)return l;const s=Qx(new Uint8Array([13,10,13,10]));let d=aS(o,s,0);if(d===void 0)throw new Error("Can't find the end of the first multipart header");const h=Gx(o.slice(0,d)).split(`\r
`);let f;for(let S=0;S<h.length;++S)if(h[S][0]==="-"&&h[S][1]==="-"){f=h[S];break}if(f===void 0)throw new Error("Can't find the boundary between multi-parts");const m=Qx(IV(f)),v=f.length;let g=aS(o,m,0);for(;d!==void 0;){const S={},y=Gx(o.slice(g+v,d)).split(`\r
`);for(let b=0;b<y.length;++b){const w=y[b],T=w.indexOf(":");if(T!==-1){const P=w.substring(0,T).trim(),A=w.substring(T+1).trim();S[P]=A}}if(g=aS(o,m,d),g===void 0)break;const C=d+4,x=g-2;S.data=C<x?o.slice(C,x).buffer:new Uint8Array,l.push(S),d=aS(o,s,g+v)}return l}(n))}abort(){z(this,Xc,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return Bu(r.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return ts.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Xc=new WeakMap,YP),(XP=class{constructor(){G(this,Y2);G(this,Rh,!1)}setOptions(n){}isLoading(){return!0}load(n,e,t){z(this,Rh,!1);const r=new Image;if(r.onload=()=>{try{if(!u(this,Rh)){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i=function(o,l,s){const d=o.width,h=o.height,f=document.createElement("canvas");f.width=d,f.height=h;const m=f.getContext("2d");m.drawImage(o,0,0);const v=m.getImageData(0,0,d,h),g={};let S;typeof l=="string"?(g.origin={value:l},S=CS(l)):(g.fileName={value:l.name},S=CS(l.name),g.fileType={value:l.type},g.fileLastModifiedDate={value:l.lastModified}),g.imageWidth={value:d},g.imageHeight={value:h};const y=s||0;g.imageUid={value:y},g.seriesUid={value:S};const C=PP(d,h,y,TP(v),1,y.toString()),x=C.getMeta();return x.SeriesInstanceUID=S,C.setMeta(x),{data:{image:C,meta:g},source:l}}(r,e,t);this.onloaditem(i),this.onload(i)}}catch(i){this.onerror({error:i,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")r.src=n;else if(typeof e=="string"){const i=e.split(".").pop().toLowerCase();r.src=Q(this,Y2,P7).call(this,n,i)}}abort(){z(this,Rh,!0),this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const l=function(d){return d.name==="Accept"},s=e.requestHeaders.find(l);if(s!==void 0)return Bu(s.value,"image/")}}const t=O1(n),r=hl(t.pathname),i=r==="jpeg"||r==="jpg"||r==="png"||r==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":i}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return ts.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Rh=new WeakMap,Y2=new WeakSet,P7=function(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const r=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(r)},XP),(KP=class{constructor(){G(this,X2)}setOptions(n){}isLoading(){return!0}load(n,e,t){const r=document.createElement("video");if(typeof e=="string"){const i=e.split(".").pop().toLowerCase();r.src=Q(this,X2,I7).call(this,n,i)}else r.src=n;r.onloadedmetadata=i=>{try{(function(o,l,s,d,h,f,m){const v=o.videoWidth,g=o.videoHeight,S=Math.ceil(30*o.duration),y={};let C;typeof f=="string"?(y.origin={value:f},C=CS(f)):(y.fileName={value:f.name},C=CS(f.name),y.fileType={value:f.type},y.fileLastModifiedDate={value:f.lastModified}),y.imageWidth={value:v},y.imageHeight={value:g},y.numberOfFrames={value:S},y.imageUid={value:0},y.seriesUid={value:C};const x=document.createElement("canvas");x.width=v,x.height=g;const b=x.getContext("2d");o.addEventListener("seeked",function A(F){(function(){d({lengthComputable:!0,loaded:w,total:S,index:m,source:f}),b.drawImage(o,0,0);const E=TP(b.getImageData(0,0,v,g));if(w===0){T=PP(v,g,1,E,S,m.toString());const k=T.getMeta();k.SeriesInstanceUID=C,T.setMeta(k),l({data:{image:T,meta:y},source:f})}else T.appendFrameBuffer(E,w);++w})(),P+=1/30,P<=F.target.duration?this.currentTime=P:(s({source:f}),h({source:f}),o.removeEventListener("seeked",A))},!1);let w=0,T=null,P=0;o.currentTime=P})(i.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const r=function(o){return o.name==="Accept"},i=e.requestHeaders.find(r);if(i!==void 0)return Bu(i.value,"video/")}}const t=hl(O1(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return ts.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},X2=new WeakSet,I7=function(n,e){const t=new Uint8Array(n);let r="";for(let i=0;i<t.byteLength;++i)r+=String.fromCharCode(t[i]);return"data:video/"+e+";base64,"+window.btoa(r)},KP),(ZP=class{constructor(){G(this,Pg);G(this,Kc,!1);G(this,Ah,"");G(this,Ta,[]);G(this,Pa,null)}setOptions(n){}isLoading(){return u(this,Kc)}load(n,e,t){this.onloadstart({source:e}),z(this,Kc,!0),PQ.default.loadAsync(n).then(r=>{z(this,Ta,[]),z(this,Pa,r.file(/.*\.dcm/));const i=u(this,Ta).length;z(this,Ah,u(this,Pa)[i].name),u(this,Pa)[i].async("arrayBuffer").then(o=>{Q(this,Pg,C3).call(this,o,e,t)})})}abort(){z(this,Kc,!1),this.onabort({}),this.onloadend({})}canLoadFile(n){return hl(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(i){return i.name==="Accept"},r=e.requestHeaders.find(t);if(r!==void 0)return Bu(r.value,"application/zip")}}return hl(O1(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return ts.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},Kc=new WeakMap,Ah=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,Pg=new WeakSet,C3=function(n,e,t){u(this,Ta).push({filename:u(this,Ah),data:n});const r=100*u(this,Ta).length/u(this,Pa).length;if(this.onprogress({lengthComputable:!0,loaded:r/2,total:100,index:t,item:{loaded:r,total:100,source:e}}),u(this,Ta).length<u(this,Pa).length){const i=u(this,Ta).length;z(this,Ah,u(this,Pa)[i].name),u(this,Pa)[i].async("arrayBuffer").then(o=>{Q(this,Pg,C3).call(this,o,e,t)})}else{const i=new v3;i.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=o=>{z(this,Kc,!1),this.onloadend(o)},i.onerror=this.onerror,i.onabort=this.onabort,i.load(u(this,Ta))}},ZP)],ts={Text:0,ArrayBuffer:1,DataURL:2};var au,su,lu,Oh,Eh,Ig,sr,L7,R7,A7,O7,E7,K2,kh,s2,k7;class IP{constructor(){G(this,sr);G(this,au,null);G(this,su,[]);G(this,lu,null);G(this,Oh,0);G(this,Eh,0);G(this,Ig);G(this,K2,e=>{Ci(this,Oh)._++,u(this,Oh)===u(this,au).length&&this.onload({source:u(this,au)})});G(this,kh,e=>{Ci(this,Eh)._++,u(this,Eh)===u(this,au).length&&this.onloadend({source:u(this,au)})})}getDefaultCharacterSet(){return u(this,Ig)}setDefaultCharacterSet(e){z(this,Ig,e)}load(e){if(e===void 0||e.length===0)return;Q(this,sr,L7).call(this,e),this.onloadstart({source:e});const t=new yw(this.onprogress);t.setNToLoad(e.length);const r=[];for(let s=0;s<jh.length;++s)r.push(new jh[s]);let i=e[0],o=null,l=!1;for(let s=0;s<r.length;++s)if(o=r[s],o.canLoadFile(i)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=u(this,K2),o.onloadend=u(this,kh),o.onerror=this.onerror,o.onabort=this.onabort,Q(this,sr,O7).call(this,o);break}if(!l)throw new Error("No loader found for file: "+i.name);for(let s=0;s<e.length;++s){if(i=e[s],!o.canLoadFile(i))throw new Error("Input file of different type: "+i);const d=new FileReader;Q(this,sr,R7).call(this,d),d.onprogress=Q(this,sr,s2).call(this,t.getMonoProgressHandler(s,0),i),d.onload=Q(this,sr,k7).call(this,o,i,s);const h=Q(this,sr,s2).call(this,this.onerror,i);d.onerror=m=>{u(this,kh).call(this),h(m)};const f=Q(this,sr,s2).call(this,this.onabort,i);d.onabort=m=>{u(this,kh).call(this),f(m)},o.loadFileAs()===ts.Text?d.readAsText(i):o.loadFileAs()===ts.DataURL?d.readAsDataURL(i):o.loadFileAs()===ts.ArrayBuffer&&d.readAsArrayBuffer(i)}}abort(){for(let e=0;e<u(this,su).length;++e)u(this,su)[e].readyState===1&&u(this,su)[e].abort();u(this,lu)&&u(this,lu).isLoading()&&u(this,lu).abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}au=new WeakMap,su=new WeakMap,lu=new WeakMap,Oh=new WeakMap,Eh=new WeakMap,Ig=new WeakMap,sr=new WeakSet,L7=function(e){z(this,au,e),z(this,Oh,0),z(this,Eh,0),Q(this,sr,A7).call(this),Q(this,sr,E7).call(this)},R7=function(e){u(this,su).push(e)},A7=function(){z(this,su,[])},O7=function(e){z(this,lu,e)},E7=function(){z(this,lu,null)},K2=new WeakMap,kh=new WeakMap,s2=function(e,t){return r=>{r.source=t,e(r)}},k7=function(e,t,r){return i=>{e.load(i.target.result,t,r)}};var _h,di,tn,_7,F7,M7,N7,zd,es;class IQ{constructor(e){G(this,tn);G(this,_h);G(this,di,{});z(this,_h,e)}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?Q(this,tn,M7).call(this,e[0],t):Q(this,tn,_7).call(this,e,t)}loadURLs(e,t,r){e[0].split(".").pop().toLowerCase()==="json"?Q(this,tn,N7).call(this,e[0],t,r):Q(this,tn,F7).call(this,e,t,r)}loadImageObject(e,t){const r=new v3;Q(this,tn,zd).call(this,e,r,"image",t)}getLoadingDataIds(){return Object.keys(u(this,di))}abort(e){u(this,di)[e]!==void 0&&(u(this,di)[e].loader.abort(),delete u(this,di)[e])}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}_h=new WeakMap,di=new WeakMap,tn=new WeakSet,_7=function(e,t){const r=new IP;r.setDefaultCharacterSet(u(this,_h)),Q(this,tn,zd).call(this,e,r,"image",t)},F7=function(e,t,r){const i=new eP;i.setDefaultCharacterSet(u(this,_h)),Q(this,tn,zd).call(this,e,i,"image",t,r)},M7=function(e,t){const r=new IP;Q(this,tn,zd).call(this,[e],r,"state",t)},N7=function(e,t,r){const i=new eP;Q(this,tn,zd).call(this,[e],i,"state",t,r)},zd=function(e,t,r,i,o){const l={loadtype:r,dataid:i};t.onloadstart=s=>{u(this,di)[i]={loader:t,isFirstItem:!0},Q(this,tn,es).call(this,this.onloadstart,l)(s)},t.onprogress=Q(this,tn,es).call(this,this.onprogress,l),t.onloaditem=s=>{const d={loadtype:r,dataid:i};u(this,di)[i]!==void 0&&(d.isfirstitem=u(this,di)[i].isFirstItem),Q(this,tn,es).call(this,this.onloaditem,d)(s),u(this,di)[i]!==void 0&&u(this,di)[i].isFirstItem&&(u(this,di)[i].isFirstItem=!1)},t.onload=Q(this,tn,es).call(this,this.onload,l),t.onloadend=s=>{delete u(this,di)[i],Q(this,tn,es).call(this,this.onloadend,l)(s)},t.onerror=Q(this,tn,es).call(this,this.onerror,l),t.onabort=Q(this,tn,es).call(this,this.onabort,l),t.ontimeout!==void 0&&(t.ontimeout=Q(this,tn,es).call(this,this.ontimeout,l));try{t.load(e,o)}catch(s){return this.onerror({error:s,dataid:i}),void this.onloadend({dataid:i})}},es=function(e,t){return function(r){const i=Object.keys(t);for(let o=0;o<i.length;++o){const l=i[o];r[l]=t[l]}e(r)}};function LQ(n){return function(e){return Number(e).toPrecision(n)}}function LP(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function pC(n,e){let t=n;for(let r=0;r<e.length;++r)t=t.replace("{v"+r+"}",e[r]);return t}var uu,Fh,cu,Ns,Mh,Zc,Us,Nh,Lg,Uh,Z2,U7;class RQ{constructor(e,t,r){G(this,Z2);G(this,uu);G(this,Fh);G(this,cu);G(this,Ns,[]);G(this,Mh);G(this,Zc,[]);G(this,Us);G(this,Nh,new Bi);G(this,Lg,e=>{e.dataid===u(this,Fh)&&e.data!==void 0&&e.data.imageUid!==void 0&&u(this,Us)!==e.data.imageUid&&(z(this,Us,e.data.imageUid),u(this,Uh).call(this,e))});G(this,Uh,e=>{if(e.dataid!==u(this,Fh))return;const t=u(this,Zc)[u(this,Us)];if(t!==void 0){for(let r=0;r<t.length;++r){let i;if(t[r].tags!==void 0)e.type==="positionchange"&&(i=t[r].value);else if(t[r].event!==void 0&&t[r].event===e.type){const o=t[r].format;let l=e.value;if(t[r].precision!==void 0){let s=null;s=t[r].precision==="round"?Math.round:LQ(t[r].precision),l=l.map(s)}i=pC(o,l)}i!==void 0&&(t[r].value=i)}Q(this,Z2,U7).call(this,{type:"valuechange",data:t})}else console.warn("No slice overlay data for: "+u(this,Us))});z(this,uu,e),z(this,Fh,t),z(this,cu,r);const i=Object.keys(u(this,cu));for(let o=0;o<i.length;++o){const l=u(this,cu)[i[o]];for(let s=0;s<l.length;++s){const d=l[s].event;d!==void 0&&(u(this,Ns).includes(d)||u(this,Ns).push(d))}}this.addAppListeners()}reset(){z(this,Zc,[]),z(this,Us,void 0)}addItemMeta(e){let t;if(e["00020010"]!==void 0)t=e["00080018"]!==void 0?e["00080018"].value[0]:e.length,u(this,Zc)[t]=function(r,i){const o=[];let l;const s=r["00080060"];if(s===void 0)return o;l=s.value[0];const d=i[l]||i["*"];if(!d)return o;for(let f=0;f<d.length;++f){const m=JSON.parse(JSON.stringify(d[f])),v=m.tags;if(v!==void 0&&v.length!==0){const g=[];for(let S=0;S<v.length;++S)r[v[S]]!==void 0?g.push(r[v[S]].value):g.push("");m.format!==void 0&&m.format!==null||(m.format=LP(g.length)),m.value=pC(m.format,g).trim()}o.push(m)}const h=r["00200020"];if(h!==void 0&&h.value.length===2){const f=h.value[0],m=h.value[1];o.push({pos:"cr",value:f,format:"{v0}"}),o.push({pos:"cl",value:Xx(f),format:"{v0}"}),o.push({pos:"bc",value:m,format:"{v0}"}),o.push({pos:"tc",value:Xx(m),format:"{v0}"})}return o}(e,u(this,cu));else{const r=Object.keys(e);for(let i=0;i<r.length;++i){const o=e[r[i]];if(r[i]==="imageUid"){t=o.value;break}}u(this,Zc)[t]=function(i,o){const l=[],s=o.DOM;if(!s)return l;const d=Object.keys(i);for(let h=0;h<s.length;++h){const f=JSON.parse(JSON.stringify(s[h])),m=f.tags;if(m!==void 0&&m.length!==0){const v=[];for(let g=0;g<m.length;++g)for(let S=0;S<d.length;++S)m[g]===d[S]&&v.push(i[d[S]].value);f.format!==void 0&&f.format!==null||(f.format=LP(v.length)),f.value=pC(f.format,v).trim()}l.push(f)}return l}(e,u(this,cu))}z(this,Us,t)}isListening(){return u(this,Mh)}addAppListeners(){u(this,uu).addEventListener("positionchange",u(this,Lg));for(let e=0;e<u(this,Ns).length;++e)u(this,uu).addEventListener(u(this,Ns)[e],u(this,Uh));z(this,Mh,!0)}removeAppListeners(){u(this,uu).removeEventListener("positionchange",u(this,Lg));for(let e=0;e<u(this,Ns).length;++e)u(this,uu).removeEventListener(u(this,Ns)[e],u(this,Uh));z(this,Mh,!1)}addEventListener(e,t){u(this,Nh).add(e,t)}removeEventListener(e,t){u(this,Nh).remove(e,t)}}uu=new WeakMap,Fh=new WeakMap,cu=new WeakMap,Ns=new WeakMap,Mh=new WeakMap,Zc=new WeakMap,Us=new WeakMap,Nh=new WeakMap,Lg=new WeakMap,Uh=new WeakMap,Z2=new WeakSet,U7=function(e){u(this,Nh).fireEvent(e)};class B7{constructor(e){ae(this,"divId");ae(this,"orientation");ae(this,"colourMap");ae(this,"opacity");ae(this,"wlPresetName");ae(this,"windowCenter");ae(this,"windowWidth");this.divId=e}}var Rt,Dt,hi,gr,et,Dn,J2,Ia,Bh,jn,w3,b3,Ct,ey,ty,ny,ry,iy,oy,ay,sy,q7,V7,G7,D3,x3;class AQ{constructor(){G(this,jn);G(this,Rt,null);G(this,Dt,null);G(this,hi,null);G(this,gr,null);G(this,et,null);G(this,Dn,null);G(this,J2,new w2);G(this,Ia,{});G(this,Bh,new Bi);ae(this,"addToUndoStack",e=>{u(this,Dn)!==null&&u(this,Dn).add(e)});ae(this,"removeFromUndoStack",e=>{let t=!1;return u(this,Dn)!==null&&(t=u(this,Dn).remove(e)),t});ae(this,"loadFiles",e=>{if(e.length===0)return Pe.warn("Ignoring empty input file list."),"-1";const t=u(this,Dt).getNextDataId();return u(this,gr).loadFiles(e,t),t});ae(this,"loadURLs",(e,t)=>{if(e.length===0)return Pe.warn("Ignoring empty input url list."),"-1";const r=u(this,Dt).getNextDataId();return u(this,gr).loadURLs(e,r,t),r});ae(this,"loadFromUri",(e,t)=>{const r=function(o){const l=ZT(o);return Object.keys(l).length===0?null:l.query}(e),i=()=>{this.removeEventListener("loadend",i),this.loadURLs([r.state])};r&&r.input!==void 0&&(r.state!==void 0&&this.addEventListener("loadend",i),function(o,l,s){o.type&&o.type==="manifest"?function(d,h){let f="";d.input[0]==="/"&&(f=window.location.protocol+"//"+window.location.host),f+=d.input;const m=new XMLHttpRequest;m.open("GET",decodeURIComponent(f),!0),m.responseType="document",m.onload=function(v){h(function(g,S){const y=[],C=g.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",x=g.getElementsByTagName("Patient");x.length>1&&Pe.warn("More than one patient, loading first one.");const b=x[0].getElementsByTagName("Study");b.length>1&&Pe.warn("More than one study, loading first one.");const w=b[0].getAttribute("StudyInstanceUID"),T=b[0].getElementsByTagName("Series");T.length>1&&Pe.warn("More than one series, loading first one.");const P=T[0].getAttribute("SeriesInstanceUID"),A=T[0].getElementsByTagName("Instance");let F=A.length;S<F&&(F=S);for(let E=0;E<F;++E){const k=C+"&studyUID="+w+"&seriesUID="+P+"&objectUID="+A[E].getAttribute("SOPInstanceUID");y.push(k)}return y}(v.target.responseXML,d.nslices))},m.onerror=function(v){Pe.warn("RequestError while receiving manifest: "+v.target.status)},m.send(null)}(o,l):l(function(d,h){const f=[];let m="key";h&&(m=h);const v=decodeURIComponent(d),g=ZT(v);if(Object.keys(g).length===0)f.push(v);else{const S=Object.keys(g.query);let y=null;for(let C=0;C<S.length;++C)if(g.query[S[C]]instanceof Array){y=S[C];break}if(y){const C=g.query[y];let x=g.base;x!==""&&y!=="file"&&(x+="?");let b,w=!1;for(let T=0;T<S.length;++T)S[T]!==y&&(w&&(x+="&"),x+=S[T]+"="+g.query[S[T]],w=!0);for(let T=0;T<C.length;++T)b=x,w&&(b+="&"),m==="key"&&(b+=y+"="),b+=C[T],f.push(b)}else f.push(v)}return f}(o.input,o.dwvReplaceMode),s)}(r,this.loadURLs,t))});ae(this,"loadImageObject",e=>{const t=u(this,Dt).getNextDataId();return u(this,gr).loadImageObject(e,t),t});ae(this,"onResize",()=>{this.fitToContainer()});ae(this,"onKeydown",e=>{u(this,Ct).call(this,e)});ae(this,"defaultOnKeydown",e=>{if(e.ctrlKey){if(e.shiftKey){const t=u(this,et).getActiveLayerGroup(),r=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&r.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&r.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&r.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&r.decrementPositionAlongScroll()}else if(e.key==="y")u(this,Dn).redo();else if(e.key==="z")u(this,Dn).undo();else if(e.key===" ")for(let t=0;t<u(this,et).getNumberOfLayerGroups();++t)u(this,et).getLayerGroup(t).setShowCrosshair(!u(this,et).getLayerGroup(t).getShowCrosshair())}});G(this,Ct,e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&u(this,Bh).fireEvent(e)});G(this,ey,e=>{u(this,Rt).overlayConfig!==void 0&&(u(this,Ia)[e.dataid]=new RQ(this,e.dataid,u(this,Rt).overlayConfig)),e.type="loadstart",u(this,Ct).call(this,e)});G(this,ty,e=>{e.type="loadprogress",u(this,Ct).call(this,e)});G(this,ny,e=>{let t;e.data===void 0&&Pe.error("Missing loaditem event data."),e.loadtype===void 0&&Pe.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state"),u(this,Ct).call(this,{type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn});const r=e.isfirstitem;e.loadtype==="image"?r?u(this,Dt).add(e.dataid,e.data):u(this,Dt).update(e.dataid,e.data):e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid),u(this,Ia)!==void 0&&u(this,Ia)[e.dataid]!==void 0&&u(this,Ia)[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&r&&u(this,Rt).viewOnFirstLoadItem&&this.render(e.dataid)});G(this,ry,e=>{e.type="load",u(this,Ct).call(this,e)});G(this,iy,e=>{e.type="loadend",u(this,Ct).call(this,e)});G(this,oy,e=>{e.type===void 0&&(e.type="error"),u(this,Ct).call(this,e)});G(this,ay,e=>{e.type===void 0&&(e.type="timeout"),u(this,Ct).call(this,e)});G(this,sy,e=>{e.type===void 0&&(e.type="abort"),u(this,Ct).call(this,e)})}getData(e){return u(this,Dt).get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){u(this,Dt).setImage(e,t)}addData(e){const t=u(this,Dt).getNextDataId();return u(this,Dt).add(t,e),t}getMetaData(e){let t;return u(this,Dt).get(e)!==void 0&&(t=u(this,Dt).get(e).meta),t}getDataIds(){return u(this,Dt).getDataIds()}getDataIdsFromSopUids(e){return u(this,Dt).getDataIdsFromSopUids(e)}canScroll(){return u(this,et).getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return u(this,et).getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return u(this,et).getActiveLayerGroup().getAddedScale()}getBaseScale(){return u(this,et).getActiveLayerGroup().getBaseScale()}getOffset(){return u(this,et).getActiveLayerGroup().getOffset()}getToolboxController(){return u(this,hi)}getActiveLayerGroup(){return u(this,et).getActiveLayerGroup()}setActiveLayerGroup(e){u(this,et).setActiveLayerGroup(e)}getViewLayersByDataId(e){return u(this,et).getViewLayersByDataId(e)}getViewLayers(e){return u(this,et).getViewLayers(e)}getDrawLayersByDataId(e){return u(this,et).getDrawLayersByDataId(e)}getDrawLayers(e){return u(this,et).getDrawLayers(e)}getLayerGroupByDivId(e){return u(this,et).getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return u(this,et).getNumberOfLayerGroups()}getStyle(){return u(this,J2)}init(e){if(z(this,Rt,e),u(this,Rt).viewOnFirstLoadItem===void 0&&(u(this,Rt).viewOnFirstLoadItem=!0),u(this,Rt).dataViewConfigs===void 0&&(u(this,Rt).dataViewConfigs={}),u(this,Rt).rootDocument===void 0&&(u(this,Rt).rootDocument=document),z(this,Dn,new JT),u(this,Dn).addEventListener("undoadd",u(this,Ct)),u(this,Dn).addEventListener("undo",u(this,Ct)),u(this,Dn).addEventListener("redo",u(this,Ct)),u(this,Rt).tools!==void 0){const t={},r=Object.keys(u(this,Rt).tools);for(let i=0;i<r.length;++i){const o=r[i];let l=XG[o];if(l===void 0&&(l=YG[o]),l!==void 0){if(t[o]=new l(this),t[o].addEventListener!==void 0){const d=t[o].getEventNames();for(let h=0;h<d.length;++h)t[o].addEventListener(d[h],u(this,Ct))}const s=u(this,Rt).tools[o];if(s.options!==void 0&&s.options.length!==0){let d,h="raw";if(t[o].getOptionsType!==void 0&&(h=t[o].getOptionsType()),h==="instance"||h==="factory"){d={};for(let f=0;f<s.options.length;++f){const m=s.options[f];let v=m;h==="factory"&&(v+="Factory");const g=o.charAt(0).toLowerCase()+o.slice(1);let S,y=NS[g];y!==void 0&&(S=y[v]),S===void 0&&(y=F4[g],y!==void 0&&(S=y[v])),S!==void 0?d[m]=S:Pe.warn("Could not find option class for: "+m)}}else d=s.options;t[o].setOptions(d)}}else Pe.warn("Could not initialise unknown tool: "+o)}z(this,hi,new hQ(t))}z(this,gr,new IQ(u(this,Rt).defaultCharacterSet)),u(this,gr).onloadstart=u(this,ey),u(this,gr).onprogress=u(this,ty),u(this,gr).onloaditem=u(this,ny),u(this,gr).onload=u(this,ry),u(this,gr).onloadend=u(this,iy),u(this,gr).onerror=u(this,oy),u(this,gr).ontimeout=u(this,ay),u(this,gr).onabort=u(this,sy),z(this,Dt,new wG),u(this,Dt).addEventListener("dataadd",u(this,Ct)),u(this,Dt).addEventListener("dataremove",u(this,Ct)),u(this,Dt).addEventListener("dataimageset",u(this,Ct)),u(this,Dt).addEventListener("dataupdate",u(this,Ct)),u(this,Dt).addEventListener("imagecontentchange",u(this,Ct)),u(this,Dt).addEventListener("imagegeometrychange",u(this,Ct)),u(this,Dt).addEventListener("annotationadd",u(this,Ct)),u(this,Dt).addEventListener("annotationupdate",u(this,Ct)),u(this,Dt).addEventListener("annotationremove",u(this,Ct)),u(this,Dt).addEventListener("annotationgroupeditablechange",u(this,Ct)),z(this,et,new cQ),u(this,Rt).binders!==void 0&&u(this,et).setBinders(u(this,Rt).binders)}reset(){u(this,et).empty(),z(this,Ia,{}),u(this,Dn)&&(z(this,Dn,new JT),u(this,Dn).addEventListener("undoadd",u(this,Ct)),u(this,Dn).addEventListener("undo",u(this,Ct)),u(this,Dn).addEventListener("redo",u(this,Ct)))}resetLayout(){u(this,et).reset(),u(this,et).draw()}resetZoomPan(){u(this,et).resetZoomPan(),u(this,et).draw()}resetViews(){u(this,et).resetViews()}addEventListener(e,t){u(this,Bh).add(e,t)}removeEventListener(e,t){u(this,Bh).remove(e,t)}abortAllLoads(){const e=u(this,gr).getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){u(this,gr).abort(e),u(this,Dt).remove(e),u(this,et).removeLayersByDataId(e)}fitToContainer(){u(this,et).fitToContainer()}initWLDisplay(){u(this,et).getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){u(this,et).setImageSmoothing(e),u(this,et).draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),u(this,Rt).dataViewConfigs===null||u(this,Rt).dataViewConfigs===void 0)throw new Error("No available data view configuration");let r=[];return u(this,Rt).dataViewConfigs[e]!==void 0?r=u(this,Rt).dataViewConfigs[e]:t||u(this,Rt).dataViewConfigs["*"]===void 0||(r=u(this,Rt).dataViewConfigs["*"]),r}getViewConfig(e,t,r){return this.getViewConfigs(e,r).find(function(i){return i.divId===t})}getDataViewConfigs(){return u(this,Rt).dataViewConfigs}setDataViewConfigs(e){u(this,et).empty(),u(this,Rt).dataViewConfigs=e,Q(this,jn,w3).call(this,e)}addDataViewConfig(e,t){const r=u(this,Rt).dataViewConfigs;if(r[e]===void 0&&(r[e]=[]),r[e].findIndex(function(i){return i.divId===t.divId})!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);u(this,Rt).dataViewConfigs[e].push(t),u(this,et).getLayerGroupByDivId(t.divId)===void 0&&Q(this,jn,b3).call(this,t),u(this,Dt).get(e)!==void 0&&this.render(e,[t])}removeDataViewConfig(e,t){const r=u(this,Rt).dataViewConfigs;if(r[e]===void 0)return;const i=r[e].findIndex(function(l){return l.divId===t});if(i===-1)return;r[e].splice(i,1),r[e].length===0&&delete r[e];const o=u(this,et).getLayerGroupByDivId(t);if(o!==void 0){const l=o.getViewLayersByDataId(e);l.length===1&&o.removeLayer(l[0]);const s=o.getDrawLayersByDataId(e);s.length===1&&o.removeLayer(s[0]),o.getNumberOfLayers()===0&&u(this,et).removeLayerGroup(o)}}updateDataViewConfig(e,t,r){const i=u(this,Rt).dataViewConfigs;if(i[e]===void 0)throw new Error("No config for dataId: "+e);const o=i[e].findIndex(function(d){return d.divId===t});if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const l=i[e][o];for(const d in r)l[d]=r[d];const s=u(this,et).getLayerGroupByDivId(l.divId);if(s!==void 0){const d=s.getViewLayersByDataId(e);d.length===1&&s.removeLayer(d[0]);const h=s.getDrawLayersByDataId(e);h.length===1&&s.removeLayer(h[0])}u(this,Dt).get(e)!==void 0&&this.render(e,[l])}setLayerGroupsBinders(e){const t=[];for(let r=0;r<e.length;++r)XT[e[r]]!==void 0&&t.push(new XT[e[r]]);u(this,et).setBinders(t)}render(e,t){if(e==null)throw new Error("Cannot render without data id");const r=this.getData(e).image!==void 0,i=this.getData(e).annotationGroup!==void 0;if(u(this,et).getNumberOfLayerGroups()===0&&Q(this,jn,w3).call(this,u(this,Rt).dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let o=0;o<t.length;++o){const l=t[o],s=u(this,et).getLayerGroupByDivId(l.divId);if(!s)throw new Error("No layer group for "+l.divId);u(this,Dt).get(e)!==void 0&&(r&&s.getViewLayersByDataId(e).length===0?Q(this,jn,V7).call(this,e,l):i&&s.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,l)),s.draw()}else Pe.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,r){const i=u(this,et).getActiveLayerGroup(),o=i.getBaseViewLayer().getViewController().getCurrentScrollPosition(),l=new Gt(t,r,o);i.addScale(e,l),i.draw()}translate(e,t){const r=u(this,et).getActiveLayerGroup();r.addTranslation({x:e,y:t,z:0}),r.draw()}setOpacity(e){const t=u(this,et).getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,r){const i=u(this,et).getActiveLayerGroup().getBaseViewLayer(),o=i.getDataId(),l=this.getData(o),s=i.getViewController(),d=function(f,m,v){const g=[],S=_e.default.Node.create(f).getChildren(WI);for(let y=0,C=S.length;y<C;++y){const x=S[y],b=x.getChildren();for(let w=0,T=b.length;w<T;++w){const P=new qs,A=new Ot(lQ(x.id()));P.referencedSopInstanceUID=v.getImageUid(A);const F=b[0];P.trackingId=F.id(),P.trackingUid=F.id();const E=F.getChildren(pu)[0];if(P.colour=E.stroke(),F.name()==="line-group"){const k=E.points();P.mathShape=new Le(k[0],k[1]),P.referencePoints=[new Le(k[2],k[3])]}else if(F.name()==="ruler-group"){const k=E.points();P.mathShape=new jt(new Le(k[0],k[1]),new Le(k[2],k[3]))}else if(F.name()==="rectangle-group")P.mathShape=new Zu(new Le(E.x(),E.y()),new Le(E.x()+E.width(),E.y()+E.height()));else if(F.name()==="roi-group"){const k=E.points(),L=[];for(let U=0;U<k.length;U+=2)L.push(new Le(k[U],k[U+1]));P.mathShape=new Xo(L)}else if(F.name()==="freeHand-group"){Pe.warn("Converting freehand into ROI shape");const k=E.points(),L=[];for(let U=0;U<k.length;U+=2)L.push(new Le(k[U],k[U+1]));P.mathShape=new Xo(L)}else if(F.name()==="protractor-group"){const k=E.points();P.mathShape=new Ju([new Le(k[0],k[1]),new Le(k[2],k[3]),new Le(k[4],k[5])])}else if(F.name()==="ellipse-group"){const k=E.absolutePosition();P.mathShape=new ec(new Le(k.x,k.y),E.radiusX(),E.radiusY())}else if(F.name()==="circle-group"){const k=E.absolutePosition();P.mathShape=new tc(new Le(k.x,k.y),E.radius())}if(m){const k=m[F.id()];P.textExpr=k.meta.textExpr,P.quantification=k.meta.quantification}g.push(P)}}return g}(e,t,l.image),h=this.createAnnotationData(o);for(const f of d)f.setViewController(s),h.annotationGroup.add(f);u(this,Dt).add(r,h),this.render(r)}applyJsonState(e,t){const r=new dQ(t);r.apply(this,r.fromJSON(e))}resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){u(this,et).getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){u(this,et).getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<u(this,et).getNumberOfLayerGroups();++t){const r=u(this,et).getLayerGroup(t),i=r.getActiveLayer();i!==void 0&&u(this,hi).bindLayerGroup(r,i)}u(this,hi).setSelectedTool(e)}setToolFeatures(e){u(this,hi).setToolFeatures(e)}undo(){u(this,Dn).undo()}redo(){u(this,Dn).redo()}getStackSize(){return u(this,Dn).getStackSize()}getCurrentStackIndex(){return u(this,Dn).getCurrentStackIndex()}getOverlayData(e){let t;return u(this,Ia)!==void 0&&(t=u(this,Ia)[e]),t}toggleOverlayListeners(e){const t=this.getOverlayData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),r=new Sw({});r.annotationGroup=new J1,r.annotationGroup.setMetaValue("Modality","SR");const i=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of i)r.annotationGroup.setMetaValue(o,t[o]);return r.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),r}addAndRenderAnnotationData(e,t,r){const i=this.addData(e),o=this.getViewConfigs(r).find(s=>s.divId===t);if(o===void 0)throw new Error("No reference data view config for draw");const l=new B7(t);l.orientation=o.orientation,this.addDataViewConfig(i,l),this.render(i)}addDrawLayer(e,t){const r=u(this,et).getLayerGroupByDivId(t.divId);if(!r)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const i=u(this,Dt).get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=i.annotationGroup,l=Q(this,jn,G7).call(this,o,r);if(l===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const s=l.getDataId();u(this,et).unbindLayerGroups();const d=l.getViewController();i.annotationGroup.setViewController(d);const h=u(this,Dt).get(s);if(!h)throw new Error("Cannot initialise layer without reference data, id: "+s);const f=h.image.getGeometry(),m=Bx(f.getOrientation(),Ux(t.orientation)),v=f.getSize(m).get2D(),g=f.getSpacing(m).get2D(),S=r.addDrawLayer();S.initialise(v,g,l.getId());const y=new QI(f,m);S.setPlaneHelper(y);const C=[d.getCurrentIndex().getValues(),d.getCurrentPosition().getValues()];r.updateLayersToPositionChange({value:C,srclayerid:S.getId()}),u(this,et).fitToContainer(),S.setOffset(r.getOffset());const x=Q(this,jn,D3).call(this,f.getOrientation(),t.orientation);Q(this,jn,x3).call(this,x,S),S.initScale(r.getScale(),l.getAbsoluteZoomOffset()),S.setAnnotationGroup(i.annotationGroup,e,this.addToUndoStack),S.setCurrentPosition(d.getCurrentPosition(),d.getCurrentIndex()),u(this,et).bindLayerGroups(),u(this,hi)&&u(this,hi).bindLayerGroup(r,S),u(this,Ct).call(this,{type:"drawlayeradd",layerid:S.getId(),layergroupid:r.getDivId(),dataid:e})}}Rt=new WeakMap,Dt=new WeakMap,hi=new WeakMap,gr=new WeakMap,et=new WeakMap,Dn=new WeakMap,J2=new WeakMap,Ia=new WeakMap,Bh=new WeakMap,jn=new WeakSet,w3=function(e){const t=Object.keys(e),r=[];for(let i=0;i<t.length;++i){const o=e[t[i]];for(let l=0;l<o.length;++l){const s=o[l];r.includes(s.divId)||(Q(this,jn,b3).call(this,s),r.push(s.divId))}}},b3=function(e){const t=u(this,Rt).rootDocument.getElementById(e.divId),r=u(this,et).addLayerGroup(t);Q(this,jn,q7).call(this,r)},Ct=new WeakMap,ey=new WeakMap,ty=new WeakMap,ny=new WeakMap,ry=new WeakMap,iy=new WeakMap,oy=new WeakMap,ay=new WeakMap,sy=new WeakMap,q7=function(e){e.addEventListener("zoomchange",u(this,Ct)),e.addEventListener("offsetchange",u(this,Ct)),e.addEventListener("layerremove",u(this,Ct)),e.addEventListener("renderstart",u(this,Ct)),e.addEventListener("renderend",u(this,Ct));for(let t=0;t<Wh.length;++t)e.addEventListener(Wh[t],u(this,Ct));e.addEventListener("wlchange",t=>{const r=ZS(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.windowCenter=void 0,i.windowWidth=void 0,i.wlPresetName=void 0,t.value.length===3&&(i.windowCenter=t.value[0],i.windowWidth=t.value[1],i.wlPresetName=t.value[2]))}),e.addEventListener("opacitychange",t=>{const r=ZS(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.opacity=t.value[0])}),e.addEventListener("colourmapchange",t=>{const r=ZS(t.srclayerid).groupDivId,i=this.getViewConfig(t.dataid,r,!0);i!==void 0&&(i.colourMap=t.value[0])})},V7=function(e,t){const r=u(this,Dt).get(e);if(!r)throw new Error("Cannot initialise layer with missing data, id: "+e);const i=u(this,et).getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=r.image.getGeometry();u(this,et).unbindLayerGroups();const l=new bV().create(r.meta,r.image),s=Bx(o.getOrientation(),Ux(t.orientation));l.setOrientation(s),r.image.getMeta().Modality==="SEG"&&l.setAlphaFunction(function(C){return C===0?0:255});const d=i.getNumberOfViewLayers()===0;let h=1;t.opacity!==void 0?h=t.opacity:d||(h=.5);const f=i.addViewLayer();f.setView(l,e);const m=o.getSize(s).get2D(),v=o.getSpacing(s).get2D();f.initialise(m,v,h);const g=f.getViewController();if(t.wlPresetName!==void 0)g.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const C=new fi(t.windowCenter,t.windowWidth);g.setWindowLevel(C)}t.colourMap!==void 0?g.setColourMap(t.colourMap):d||(r.image.getMeta().Modality==="PT"?g.setColourMap("hot"):g.setColourMap("rainbow")),u(this,Dt).addEventListener("dataimageset",f.onimageset);const S=[g.getCurrentIndex().getValues(),g.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:S,srclayerid:f.getId()}),u(this,et).fitToContainer(),f.setOffset(i.getOffset());const y=Q(this,jn,D3).call(this,o.getOrientation(),t.orientation);if(Q(this,jn,x3).call(this,y,f),d)f.setScale(i.getScale());else{const C=i.getBaseViewLayer();f.initScale(i.getScale(),C.getAbsoluteZoomOffset())}u(this,et).bindLayerGroups(),u(this,hi)&&u(this,hi).bindLayerGroup(i,f),u(this,Ct).call(this,{type:"viewlayeradd",layerid:f.getId(),layergroupid:i.getDivId(),dataid:e}),d&&u(this,hi)&&u(this,hi).init()},G7=function(e,t){let r;const i=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(i!==void 0){const l=i.value[0],s=l==null?void 0:l.ReferencedSeriesSequence,d=s==null?void 0:s.value[0],h=d==null?void 0:d.SeriesInstanceUID,f={SeriesInstanceUID:h},m=t.searchViewLayers(f);m.length!==0&&(r=m[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const l=o.value[0],s=l==null?void 0:l.SeriesInstanceUID,d={SeriesInstanceUID:s},h=t.searchViewLayers(d);h.length!==0&&(r=h[0])}if(r===void 0)for(const l of e.getList()){const s={SOPInstanceUID:l.referencedSopInstanceUID,SOPClassUID:l.referencedSopClassUID},d=t.searchViewLayers(s);if(d.length!==0){r=d[0];break}}return r},D3=function(e,t){const r=wI(e.asOneAndZeros());if(r===void 0)throw new Error("Unsupported undefined orientation code");const i=t===void 0,o=!i&&t===Vs.Axial,l=!i&&t===Vs.Coronal,s=!i&&t===Vs.Sagittal,d={x:!1,y:!1},h={x:!1,y:!1,z:!1};return r==="LPS"?(l||s)&&(h.z=!0,d.y=!0):r==="LAI"?i||o?d.y=!0:l?h.z=!0:s&&(h.z=!0,d.x=!0):r==="RPI"?i||o?d.x=!0:l?(h.z=!0,d.x=!0):s&&(h.z=!0):r==="RAS"?(d.x=!0,d.y=!0,(l||s)&&(h.z=!0)):r==="LSA"?(d.y=!0,i||l?h.z=!0:o?h.y=!0:s&&(d.x=!0,h.y=!0,h.z=!0)):r==="RSP"?i||l?(d.x=!0,d.y=!0,h.x=!0,h.z=!0):o?(d.x=!0,h.x=!0):s&&(d.y=!0,h.z=!0):r==="RIA"?(d.x=!0,i||l?h.x=!0:o?(d.y=!0,h.x=!0,h.y=!0):s&&(h.y=!0)):r==="PSL"?(h.z=!0,(i||s||l)&&(d.y=!0)):r==="PIR"?(h.z=!0,(o||l)&&(d.x=!0)):r==="ASR"?(d.x=!0,d.y=!0,(i||s||l)&&(h.z=!0)):r==="AIL"?i||s?(d.x=!0,h.z=!0):o?d.y=!0:l&&(h.z=!0):r!=="LIP"&&Pe.warn("Unsupported orientation code: "+r+", display could be incorrect"),{scale:h,offset:d}},x3=function(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()};const Q7=zs(le.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),_1="TagsTable",Bs={flex:`${_1}-flex`,spacer:`${_1}-spacer`,searchField:`${_1}-searchField`,slider:`${_1}-slider`,container:`${_1}-container`},OQ=Ve("div")(({theme:n})=>({[`& .${Bs.flex}`]:{flex:1},[`& .${Bs.spacer}`]:{flex:"1 1 100%"},[`& .${Bs.searchField}`]:{width:"45%"},[`& .${Bs.slider}`]:{margin:20},[`&.${Bs.container}`]:{padding:10,overflow:"hidden"}}));class EQ extends pi.Component{constructor(t){super(t);ae(this,"onSliderChange",t=>{const r=parseInt(t.target.value,10),i=this.state.instanceNumbers[r],o=this.getMetaArray(i);this.setState({instanceNumber:i,displayData:o}),this.filterList(this.state.searchfor,i)});ae(this,"onSearch",t=>{var r=t.target.value;this.filterList(r,this.state.instanceNumber)});const r=this.props.data;this.state={fullMetaData:r,searchfor:"",instanceNumber:0};const i=r["00200013"];if(typeof i<"u"){let o=i.value;typeof o=="string"&&(o=[o]),this.state.instanceNumbers=o.map(Number),this.state.instanceNumbers.sort((l,s)=>l-s),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(t,r){var i=t.toLowerCase(),o=this.getMetaArray(r),l=o.filter(function(s){for(var d in s)if(s.hasOwnProperty(d)){var h=s[d];if(typeof h<"u"&&(typeof h!="string"&&(h=h.toString()),h.toLowerCase().indexOf(i)!==-1))return!0}return!1});this.setState({searchfor:t,displayData:l})}getMetaArray(t){let r;return this.isDicomMeta(this.state.fullMetaData)?r=this.getDicomTagReducer(this.state.fullMetaData,t,""):r=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(r,[])}isDicomMeta(t){return typeof t["00020010"]<"u"}getTagReducer(t){return function(r,i){return r.push({name:i,value:t[i].value}),r}}getDicomTagReducer(t,r,i){return(o,l)=>{const s=xI(l);let d=s.getNameFromDictionary();typeof d>"u"&&(d="x"+s.getKey());const h=d,f=t[l];let m=f.value;if(typeof m.slice>"u"&&typeof m[r]<"u"&&(m=m[r]),h==="InstanceNumber"&&(m=r),f.vr==="SQ"){o.push({name:(i?i+" ":"")+h,value:""});for(let v=0;v<m.length;++v){const g=m[v],y=Object.keys(g).reduce(this.getDicomTagReducer(g,r,i+"["+v+"]"),[]);o=o.concat(y)}}else f.vr[0]==="O"&&m.length>10&&(m=m.slice(0,10).toString()+"... (len:"+m.length+")"),o.push({name:(i?i+" ":"")+h,value:m.toString()});return o}}render(){this.props;const{displayData:t,searchfor:r,sliderMin:i,sliderMax:o}=this.state;return le.jsxs(OQ,{className:Bs.container,children:[le.jsxs(sI,{direction:"row",spacing:2,children:[le.jsx(cq,{id:"search",type:"search",value:r,className:Bs.searchField,onChange:this.onSearch,margin:"normal",size:"small",InputProps:{startAdornment:le.jsx(rU,{position:"start",children:le.jsx(Q7,{})})}}),le.jsxs(XM,{width:300,display:"flex",alignItems:"center",children:[le.jsx(AB,{title:"Instance number",className:Bs.slider,marks:!0,min:i,max:o,onChange:this.onSliderChange}),le.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),le.jsx(Fg,{sx:{width:"100%",overflow:"hidden"},children:le.jsx(jB,{sx:{maxHeight:400},children:le.jsxs(_B,{stickyHeader:!0,className:Bs.table,children:[le.jsx(ZB,{children:le.jsxs(R8,{children:[le.jsx(rS,{children:"Tag"}),le.jsx(rS,{children:"Value"})]})}),le.jsx(BB,{children:t.map((l,s)=>le.jsxs(R8,{children:[le.jsx(rS,{children:l.name}),le.jsx(rS,{children:l.value})]},s))})]})})})]})}}const kQ=zs(le.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_Q=zs(le.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),FQ=zs(le.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),MQ=zs(le.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"}),"Contrast"),NQ=zs(le.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"}),"LibraryBooks"),UQ=zs(le.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"}),"Straighten"),BQ=zs([le.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),le.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")],"Cameraswitch"),gC="DwvComponent",Xd={appBar:`${gC}-appBar`,title:`${gC}-title`,iconSmall:`${gC}-iconSmall`},qQ=Ve("div")(({theme:n})=>({[`& .${Xd.appBar}`]:{position:"relative"},[`& .${Xd.title}`]:{flex:"0 0 auto"},[`& .${Xd.iconSmall}`]:{fontSize:20}})),VQ=pi.forwardRef((n,e)=>le.jsx(ON,{direction:"up",...n,ref:e}));class GQ extends pi.Component{constructor(t){super(t);ae(this,"getToolIcon",t=>{let r;return t==="Scroll"?r=le.jsx(FQ,{}):t==="ZoomAndPan"?r=le.jsx(Q7,{}):t==="WindowLevel"?r=le.jsx(MQ,{}):t==="Draw"&&(r=le.jsx(UQ,{})),r});ae(this,"onChangeTool",t=>{if(this.state.dwvApp)if(this.setState({selectedTool:t}),this.state.dwvApp.setTool(t),t==="Draw")this.onChangeShape(this.state.tools.Draw.options[0]);else{const r=this.state.dwvApp.getActiveLayerGroup();r==null||r.setActiveLayer(0)}});ae(this,"canRunTool",t=>{let r;return t==="Scroll"?r=this.state.canScroll:t==="WindowLevel"?r=this.state.canWindowLevel:r=!0,r});ae(this,"toggleOrientation",()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const t={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(t);const r=this.state.dwvApp.getDataIds();for(const i of r)this.state.dwvApp.render(i)});ae(this,"onChangeShape",t=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:t})});ae(this,"onReset",()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()});ae(this,"handleTagsDialogOpen",()=>{this.setState({showDicomTags:!0})});ae(this,"handleTagsDialogClose",()=>{this.setState({showDicomTags:!1})});ae(this,"setupDropbox",t=>{this.showDropbox(t,!0)});ae(this,"defaultHandleDragEvent",t=>{t.stopPropagation(),t.preventDefault()});ae(this,"onBoxDragOver",t=>{this.defaultHandleDragEvent(t);const r=document.getElementById(this.state.dropboxDivId);r&&r.className.indexOf(this.state.hoverClassName)===-1&&(r.className+=" "+this.state.hoverClassName)});ae(this,"onBoxDragLeave",t=>{this.defaultHandleDragEvent(t);const r=document.getElementById(this.state.dropboxDivId);r&&r.className.indexOf(this.state.hoverClassName)!==-1&&(r.className=r.className.replace(" "+this.state.hoverClassName,""))});ae(this,"onDrop",t=>{this.defaultHandleDragEvent(t),this.state.dwvApp.loadFiles(t.dataTransfer.files)});ae(this,"onInputFile",t=>{t.target&&t.target.files&&this.state.dwvApp.loadFiles(t.target.files)});ae(this,"showDropbox",(t,r)=>{const i=document.getElementById(this.state.dropboxDivId);if(!i)return;const o=document.getElementById("layerGroup0");if(r){if(i.className=this.state.dropboxClassName+" "+this.state.borderClassName,i.innerHTML===""){const l=document.createElement("p");l.appendChild(document.createTextNode("Drag and drop data here or "));const s=document.createElement("input");s.onchange=this.onInputFile,s.type="file",s.multiple=!0,s.id="input-file",s.style.display="none";const d=document.createElement("label");d.htmlFor="input-file";const h=document.createElement("a");h.appendChild(document.createTextNode("click here")),h.id="input-file-link",d.appendChild(h),l.appendChild(s),l.appendChild(d),i.appendChild(l)}i.setAttribute("style","display:initial"),o&&(o.removeEventListener("dragover",this.defaultHandleDragEvent),o.removeEventListener("dragleave",this.defaultHandleDragEvent),o.removeEventListener("drop",this.onDrop)),i.addEventListener("dragover",this.onBoxDragOver),i.addEventListener("dragleave",this.onBoxDragLeave),i.addEventListener("drop",this.onDrop)}else i.className=this.state.dropboxClassName,i.innerHTML="",i.setAttribute("style","display:none"),i.removeEventListener("dragover",this.onBoxDragOver),i.removeEventListener("dragleave",this.onBoxDragLeave),i.removeEventListener("drop",this.onDrop),o&&(o.addEventListener("dragover",this.defaultHandleDragEvent),o.addEventListener("dragleave",this.defaultHandleDragEvent),o.addEventListener("drop",this.onDrop))});this.state={versions:{dwv:NV(),react:pi.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){this.props;const{versions:t,tools:r,loadProgress:i,dataLoaded:o,metaData:l}=this.state,s=(h,f)=>{f&&this.onChangeTool(f)},d=Object.keys(r).map(h=>le.jsx(iS,{value:h,title:h,disabled:!o||!this.canRunTool(h),children:this.getToolIcon(h)},h));return le.jsxs(qQ,{className:Xd.root,id:"dwv",children:[le.jsx(SU,{variant:"determinate",value:i}),le.jsxs(sI,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[le.jsx(yq,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:s,children:d}),le.jsx(iS,{size:"small",value:"reset",title:"Reset",disabled:!o,onChange:this.onReset,children:le.jsx(_Q,{})}),le.jsx(iS,{size:"small",value:"toggleOrientation",title:"Toggle Orientation",disabled:!o,onClick:this.toggleOrientation,children:le.jsx(BQ,{})}),le.jsx(iS,{size:"small",value:"tags",title:"Tags",disabled:!o,onClick:this.handleTagsDialogOpen,children:le.jsx(NQ,{})}),le.jsxs(LN,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,slots:{transition:VQ},children:[le.jsx(OM,{className:Xd.appBar,position:"sticky",children:le.jsxs(nq,{children:[le.jsx(bM,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:le.jsx(kQ,{})}),le.jsx(p2,{variant:"h6",color:"inherit",className:Xd.flex,children:"DICOM Tags"})]})}),le.jsx(EQ,{data:l})]})]}),le.jsx("div",{id:"layerGroup0",className:"layerGroup",children:le.jsx("div",{id:"dropBox"})}),le.jsx("div",{children:le.jsx("p",{className:"legend",children:le.jsxs(p2,{variant:"caption",children:["Powered by ",le.jsx(h8,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",t.dwv," and ",le.jsx(h8,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",t.react]})})})]})}componentDidMount(){const t=new AQ;t.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});let r=null,i=null,o=null,l=null;t.addEventListener("loadstart",()=>{r=0,i=0,o=0,l=!0,this.showDropbox(t,!1)}),t.addEventListener("loadprogress",s=>{this.setState({loadProgress:s.loaded})}),t.addEventListener("renderend",s=>{if(l){l=!1;const h=this.state.dwvApp.getViewLayersByDataId(s.dataid)[0].getViewController();h.canScroll()&&this.setState({canScroll:!0}),h.isMonochrome()&&this.setState({canWindowLevel:!0});let f="ZoomAndPan";this.state.canScroll&&(f="Scroll"),this.onChangeTool(f)}}),t.addEventListener("load",s=>{this.setState({metaData:t.getMetaData(s.dataid)}),this.setState({dataLoaded:!0})}),t.addEventListener("loadend",()=>{i&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),r||this.showDropbox(t,!0)),o&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(t,!0))}),t.addEventListener("loaditem",()=>{++r}),t.addEventListener("loaderror",s=>{console.error(s.error),++i}),t.addEventListener("loadabort",()=>{++o}),t.addEventListener("keydown",s=>{t.defaultOnKeydown(s)}),window.addEventListener("resize",t.onResize),this.setState({dwvApp:t}),this.setupDropbox(t),t.loadFromUri(window.location.href)}}function QQ(){const n=YN("(prefers-color-scheme: dark)"),e=by({typography:{useNextVariants:!0},palette:{primary:{main:XO[500]},secondary:{main:YO[500]},mode:n?"dark":"light"}});return le.jsxs(OF,{theme:e,children:[le.jsx(tN,{}),le.jsx("div",{className:"App",children:le.jsx(GQ,{})})]})}$O.createRoot(document.getElementById("app")).render(le.jsx(ee.StrictMode,{children:le.jsx(QQ,{})}));
