function ZD(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const o=Object.getOwnPropertyDescriptor(i,a);o&&Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gf={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function JD(){if(Sy)return sl;Sy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var l=null;if(o!==void 0&&(l=""+o),a.key!==void 0&&(l=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:o}}return sl.Fragment=e,sl.jsx=t,sl.jsxs=t,sl}var yy;function e8(){return yy||(yy=1,Gf.exports=JD()),Gf.exports}var re=e8(),zf={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function t8(){if(vy)return $e;vy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function p(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function w(N,V,X){this.props=N,this.context=V,this.refs=b,this.updater=X||S}w.prototype.isReactComponent={},w.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},w.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function D(){}D.prototype=w.prototype;function C(N,V,X){this.props=N,this.context=V,this.refs=b,this.updater=X||S}var x=C.prototype=new D;x.constructor=C,y(x,w.prototype),x.isPureReactComponent=!0;var R=Array.isArray;function I(){}var k={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function M(N,V,X){var ee=X.ref;return{$$typeof:n,type:N,key:V,ref:ee!==void 0?ee:null,props:X}}function U(N,V){return M(N.type,V,N.props)}function B(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function L(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(X){return V[X]})}var P=/\/+/g;function A(N,V){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):V.toString(36)}function E(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function F(N,V,X,ee,J){var ce=typeof N;(ce==="undefined"||ce==="boolean")&&(N=null);var W=!1;if(N===null)W=!0;else switch(ce){case"bigint":case"string":case"number":W=!0;break;case"object":switch(N.$$typeof){case n:case e:W=!0;break;case f:return W=N._init,F(W(N._payload),V,X,ee,J)}}if(W)return J=J(N),W=ee===""?"."+A(N,0):ee,R(J)?(X="",W!=null&&(X=W.replace(P,"$&/")+"/"),F(J,V,X,"",function(de){return de})):J!=null&&(B(J)&&(J=U(J,X+(J.key==null||N&&N.key===J.key?"":(""+J.key).replace(P,"$&/")+"/")+W)),V.push(J)),1;W=0;var ne=ee===""?".":ee+":";if(R(N))for(var se=0;se<N.length;se++)ee=N[se],ce=ne+A(ee,se),W+=F(ee,V,X,ce,J);else if(se=p(N),typeof se=="function")for(N=se.call(N),se=0;!(ee=N.next()).done;)ee=ee.value,ce=ne+A(ee,se++),W+=F(ee,V,X,ce,J);else if(ce==="object"){if(typeof N.then=="function")return F(E(N),V,X,ee,J);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return W}function G(N,V,X){if(N==null)return N;var ee=[],J=0;return F(N,ee,"","",function(ce){return V.call(X,ce,J++)}),ee}function H(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(X){(N._status===0||N._status===-1)&&(N._status=1,N._result=X)},function(X){(N._status===0||N._status===-1)&&(N._status=2,N._result=X)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var Q=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Z={map:G,forEach:function(N,V,X){G(N,function(){V.apply(this,arguments)},X)},count:function(N){var V=0;return G(N,function(){V++}),V},toArray:function(N){return G(N,function(V){return V})||[]},only:function(N){if(!B(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return $e.Activity=m,$e.Children=Z,$e.Component=w,$e.Fragment=t,$e.Profiler=a,$e.PureComponent=C,$e.StrictMode=i,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$e.__COMPILER_RUNTIME={__proto__:null,c:function(N){return k.H.useMemoCache(N)}},$e.cache=function(N){return function(){return N.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(N,V,X){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ee=y({},N.props),J=N.key;if(V!=null)for(ce in V.key!==void 0&&(J=""+V.key),V)!_.call(V,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&V.ref===void 0||(ee[ce]=V[ce]);var ce=arguments.length-2;if(ce===1)ee.children=X;else if(1<ce){for(var W=Array(ce),ne=0;ne<ce;ne++)W[ne]=arguments[ne+2];ee.children=W}return M(N.type,J,ee)},$e.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:o,_context:N},N},$e.createElement=function(N,V,X){var ee,J={},ce=null;if(V!=null)for(ee in V.key!==void 0&&(ce=""+V.key),V)_.call(V,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(J[ee]=V[ee]);var W=arguments.length-2;if(W===1)J.children=X;else if(1<W){for(var ne=Array(W),se=0;se<W;se++)ne[se]=arguments[se+2];J.children=ne}if(N&&N.defaultProps)for(ee in W=N.defaultProps,W)J[ee]===void 0&&(J[ee]=W[ee]);return M(N,ce,J)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(N){return{$$typeof:c,render:N}},$e.isValidElement=B,$e.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:H}},$e.memo=function(N,V){return{$$typeof:h,type:N,compare:V===void 0?null:V}},$e.startTransition=function(N){var V=k.T,X={};k.T=X;try{var ee=N(),J=k.S;J!==null&&J(X,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(I,Q)}catch(ce){Q(ce)}finally{V!==null&&X.types!==null&&(V.types=X.types),k.T=V}},$e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$e.use=function(N){return k.H.use(N)},$e.useActionState=function(N,V,X){return k.H.useActionState(N,V,X)},$e.useCallback=function(N,V){return k.H.useCallback(N,V)},$e.useContext=function(N){return k.H.useContext(N)},$e.useDebugValue=function(){},$e.useDeferredValue=function(N,V){return k.H.useDeferredValue(N,V)},$e.useEffect=function(N,V){return k.H.useEffect(N,V)},$e.useEffectEvent=function(N){return k.H.useEffectEvent(N)},$e.useId=function(){return k.H.useId()},$e.useImperativeHandle=function(N,V,X){return k.H.useImperativeHandle(N,V,X)},$e.useInsertionEffect=function(N,V){return k.H.useInsertionEffect(N,V)},$e.useLayoutEffect=function(N,V){return k.H.useLayoutEffect(N,V)},$e.useMemo=function(N,V){return k.H.useMemo(N,V)},$e.useOptimistic=function(N,V){return k.H.useOptimistic(N,V)},$e.useReducer=function(N,V,X){return k.H.useReducer(N,V,X)},$e.useRef=function(N){return k.H.useRef(N)},$e.useState=function(N){return k.H.useState(N)},$e.useSyncExternalStore=function(N,V,X){return k.H.useSyncExternalStore(N,V,X)},$e.useTransition=function(){return k.H.useTransition()},$e.version="19.2.0",$e}var by;function xg(){return by||(by=1,zf.exports=t8()),zf.exports}var K=xg();const Bn=Pc(K),N0=ZD({__proto__:null,default:Bn},[K]);var Vf={exports:{}},ll={},Qf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function n8(){return Cy||(Cy=1,function(n){function e(F,G){var H=F.length;F.push(G);e:for(;0<H;){var Q=H-1>>>1,Z=F[Q];if(0<a(Z,G))F[Q]=G,F[H]=Z,H=Q;else break e}}function t(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var G=F[0],H=F.pop();if(H!==G){F[0]=H;e:for(var Q=0,Z=F.length,N=Z>>>1;Q<N;){var V=2*(Q+1)-1,X=F[V],ee=V+1,J=F[ee];if(0>a(X,H))ee<Z&&0>a(J,X)?(F[Q]=J,F[ee]=H,Q=ee):(F[Q]=X,F[V]=H,Q=V);else if(ee<Z&&0>a(J,H))F[Q]=J,F[ee]=H,Q=ee;else break e}}return G}function a(F,G){var H=F.sortIndex-G.sortIndex;return H!==0?H:F.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,m=null,v=3,p=!1,S=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function x(F){for(var G=t(h);G!==null;){if(G.callback===null)i(h);else if(G.startTime<=F)i(h),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(h)}}function R(F){if(y=!1,x(F),!S)if(t(d)!==null)S=!0,I||(I=!0,L());else{var G=t(h);G!==null&&E(R,G.startTime-F)}}var I=!1,k=-1,_=5,M=-1;function U(){return b?!0:!(n.unstable_now()-M<_)}function B(){if(b=!1,I){var F=n.unstable_now();M=F;var G=!0;try{e:{S=!1,y&&(y=!1,D(k),k=-1),p=!0;var H=v;try{t:{for(x(F),m=t(d);m!==null&&!(m.expirationTime>F&&U());){var Q=m.callback;if(typeof Q=="function"){m.callback=null,v=m.priorityLevel;var Z=Q(m.expirationTime<=F);if(F=n.unstable_now(),typeof Z=="function"){m.callback=Z,x(F),G=!0;break t}m===t(d)&&i(d),x(F)}else i(d);m=t(d)}if(m!==null)G=!0;else{var N=t(h);N!==null&&E(R,N.startTime-F),G=!1}}break e}finally{m=null,v=H,p=!1}G=void 0}}finally{G?L():I=!1}}}var L;if(typeof C=="function")L=function(){C(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,A=P.port2;P.port1.onmessage=B,L=function(){A.postMessage(null)}}else L=function(){w(B,0)};function E(F,G){k=w(function(){F(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(F){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var H=v;v=G;try{return F()}finally{v=H}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=v;v=F;try{return G()}finally{v=H}},n.unstable_scheduleCallback=function(F,G,H){var Q=n.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?Q+H:Q):H=Q,F){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,F={id:f++,callback:G,priorityLevel:F,startTime:H,expirationTime:Z,sortIndex:-1},H>Q?(F.sortIndex=H,e(h,F),t(d)===null&&F===t(h)&&(y?(D(k),k=-1):y=!0,E(R,H-Q))):(F.sortIndex=Z,e(d,F),S||p||(S=!0,I||(I=!0,L()))),F},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(F){var G=v;return function(){var H=v;v=G;try{return F.apply(this,arguments)}finally{v=H}}}}(Hf)),Hf}var Dy;function i8(){return Dy||(Dy=1,Qf.exports=n8()),Qf.exports}var jf={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function r8(){if(Ty)return Dn;Ty=1;var n=xg();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:d,containerInfo:h,implementation:f}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Dn.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,f)},Dn.flushSync=function(d){var h=l.T,f=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=h,i.p=f,i.d.f()}},Dn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Dn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Dn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,p=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:p}):f==="script"&&i.d.X(d,{crossOrigin:m,integrity:v,fetchPriority:p,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Dn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);i.d.L(d,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dn.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Dn.requestFormReset=function(d){i.d.r(d)},Dn.unstable_batchedUpdates=function(d,h){return d(h)},Dn.useFormState=function(d,h,f){return l.H.useFormState(d,h,f)},Dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Dn.version="19.2.0",Dn}var wy;function QC(){if(wy)return jf.exports;wy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jf.exports=r8(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function a8(){if(xy)return ll;xy=1;var n=i8(),e=xg(),t=QC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,u=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(u=s.return),r=s.return;while(r)}return s.tag===3?u:null}function l(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function c(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var u=r,g=s;;){var T=u.return;if(T===null)break;var O=T.alternate;if(O===null){if(g=T.return,g!==null){u=g;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===u)return d(T),r;if(O===g)return d(T),s;O=O.sibling}throw Error(i(188))}if(u.return!==g.return)u=T,g=O;else{for(var z=!1,j=T.child;j;){if(j===u){z=!0,u=T,g=O;break}if(j===g){z=!0,g=T,u=O;break}j=j.sibling}if(!z){for(j=O.child;j;){if(j===u){z=!0,u=O,g=T;break}if(j===g){z=!0,g=O,u=T;break}j=j.sibling}if(!z)throw Error(i(189))}}if(u.alternate!==g)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?r:s}function f(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=f(r),s!==null)return s;r=r.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function A(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case y:return"Fragment";case w:return"Profiler";case b:return"StrictMode";case R:return"Suspense";case I:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case C:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return s=r.displayName||null,s!==null?s:A(r.type)||"Memo";case _:s=r._payload,r=r._init;try{return A(r(s))}catch{}}return null}var E=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},Q=[],Z=-1;function N(r){return{current:r}}function V(r){0>Z||(r.current=Q[Z],Q[Z]=null,Z--)}function X(r,s){Z++,Q[Z]=r.current,r.current=s}var ee=N(null),J=N(null),ce=N(null),W=N(null);function ne(r,s){switch(X(ce,s),X(J,r),X(ee,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?B2(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=B2(s),r=G2(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}V(ee),X(ee,r)}function se(){V(ee),V(J),V(ce)}function de(r){r.memoizedState!==null&&X(W,r);var s=ee.current,u=G2(s,r.type);s!==u&&(X(J,r),X(ee,u))}function ve(r){J.current===r&&(V(ee),V(J)),W.current===r&&(V(W),il._currentValue=H)}var Te,Me;function q(r){if(Te===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Te=s&&s[1]||"",Me=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+r+Me}var le=!1;function he(r,s){if(!r||le)return"";le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var Le=function(){throw Error()};if(Object.defineProperty(Le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Le,[])}catch(be){var Se=be}Reflect.construct(r,[],Le)}else{try{Le.call()}catch(be){Se=be}r.call(Le.prototype)}}else{try{throw Error()}catch(be){Se=be}(Le=r())&&typeof Le.catch=="function"&&Le.catch(function(){})}}catch(be){if(be&&Se&&typeof be.stack=="string")return[be.stack,Se.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=g.DetermineComponentFrameRoot(),z=O[0],j=O[1];if(z&&j){var ie=z.split(`
`),me=j.split(`
`);for(T=g=0;g<ie.length&&!ie[g].includes("DetermineComponentFrameRoot");)g++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(g===ie.length||T===me.length)for(g=ie.length-1,T=me.length-1;1<=g&&0<=T&&ie[g]!==me[T];)T--;for(;1<=g&&0<=T;g--,T--)if(ie[g]!==me[T]){if(g!==1||T!==1)do if(g--,T--,0>T||ie[g]!==me[T]){var we=`
`+ie[g].replace(" at new "," at ");return r.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",r.displayName)),we}while(1<=g&&0<=T);break}}}finally{le=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?q(u):""}function $(r,s){switch(r.tag){case 26:case 27:case 5:return q(r.type);case 16:return q("Lazy");case 13:return r.child!==s&&s!==null?q("Suspense Fallback"):q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return he(r.type,!1);case 11:return he(r.type.render,!1);case 1:return he(r.type,!0);case 31:return q("Activity");default:return""}}function Y(r){try{var s="",u=null;do s+=$(r,u),u=r,r=r.return;while(r);return s}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ae=Object.prototype.hasOwnProperty,ye=n.unstable_scheduleCallback,Ce=n.unstable_cancelCallback,te=n.unstable_shouldYield,Re=n.unstable_requestPaint,Pe=n.unstable_now,fe=n.unstable_getCurrentPriorityLevel,pe=n.unstable_ImmediatePriority,Ie=n.unstable_UserBlockingPriority,_e=n.unstable_NormalPriority,ke=n.unstable_LowPriority,qe=n.unstable_IdlePriority,ze=n.log,et=n.unstable_setDisableYieldValue,Ge=null,We=null;function Ne(r){if(typeof ze=="function"&&et(r),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Ge,r)}catch{}}var je=Math.clz32?Math.clz32:Pi,Ft=Math.log,Zn=Math.LN2;function Pi(r){return r>>>=0,r===0?32:31-(Ft(r)/Zn|0)|0}var Li=256,Xi=262144,yt=4194304;function Dt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Lr(r,s,u){var g=r.pendingLanes;if(g===0)return 0;var T=0,O=r.suspendedLanes,z=r.pingedLanes;r=r.warmLanes;var j=g&134217727;return j!==0?(g=j&~O,g!==0?T=Dt(g):(z&=j,z!==0?T=Dt(z):u||(u=j&~r,u!==0&&(T=Dt(u))))):(j=g&~O,j!==0?T=Dt(j):z!==0?T=Dt(z):u||(u=g&~r,u!==0&&(T=Dt(u)))),T===0?0:s!==0&&s!==T&&(s&O)===0&&(O=T&-T,u=s&-s,O>=u||O===32&&(u&4194048)!==0)?s:T}function Ii(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function gi(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(){var r=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),r}function Od(r){for(var s=[],u=0;31>u;u++)s.push(r);return s}function Ss(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function B3(r,s,u,g,T,O){var z=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var j=r.entanglements,ie=r.expirationTimes,me=r.hiddenUpdates;for(u=z&~u;0<u;){var we=31-je(u),Le=1<<we;j[we]=0,ie[we]=-1;var Se=me[we];if(Se!==null)for(me[we]=null,we=0;we<Se.length;we++){var be=Se[we];be!==null&&(be.lane&=-536870913)}u&=~Le}g!==0&&Dp(r,g,0),O!==0&&T===0&&r.tag!==0&&(r.suspendedLanes|=O&~(z&~s))}function Dp(r,s,u){r.pendingLanes|=s,r.suspendedLanes&=~s;var g=31-je(s);r.entangledLanes|=s,r.entanglements[g]=r.entanglements[g]|1073741824|u&261930}function Tp(r,s){var u=r.entangledLanes|=s;for(r=r.entanglements;u;){var g=31-je(u),T=1<<g;T&s|r[g]&s&&(r[g]|=s),u&=~T}}function wp(r,s){var u=s&-s;return u=(u&42)!==0?1:Pd(u),(u&(r.suspendedLanes|s))!==0?0:u}function Pd(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ld(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function xp(){var r=G.p;return r!==0?r:(r=window.event,r===void 0?32:uy(r.type))}function Ap(r,s){var u=G.p;try{return G.p=r,s()}finally{G.p=u}}var Ir=Math.random().toString(36).slice(2),gn="__reactFiber$"+Ir,On="__reactProps$"+Ir,ro="__reactContainer$"+Ir,Id="__reactEvents$"+Ir,G3="__reactListeners$"+Ir,z3="__reactHandles$"+Ir,Rp="__reactResources$"+Ir,ys="__reactMarker$"+Ir;function Ed(r){delete r[gn],delete r[On],delete r[Id],delete r[G3],delete r[z3]}function ao(r){var s=r[gn];if(s)return s;for(var u=r.parentNode;u;){if(s=u[ro]||u[gn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(r=X2(r);r!==null;){if(u=r[gn])return u;r=X2(r)}return s}r=u,u=r.parentNode}return null}function oo(r){if(r=r[gn]||r[ro]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function vs(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function so(r){var s=r[Rp];return s||(s=r[Rp]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function un(r){r[ys]=!0}var Op=new Set,Pp={};function pa(r,s){lo(r,s),lo(r+"Capture",s)}function lo(r,s){for(Pp[r]=s,r=0;r<s.length;r++)Op.add(s[r])}var V3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lp={},Ip={};function Q3(r){return ae.call(Ip,r)?!0:ae.call(Lp,r)?!1:V3.test(r)?Ip[r]=!0:(Lp[r]=!0,!1)}function Nc(r,s,u){if(Q3(s))if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+u)}}function qc(r,s,u){if(u===null)r.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+u)}}function Wi(r,s,u,g){if(g===null)r.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(s,u,""+g)}}function Jn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ep(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function H3(r,s,u){var g=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,O=g.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return T.call(this)},set:function(z){u=""+z,O.call(this,z)}}),Object.defineProperty(r,s,{enumerable:g.enumerable}),{getValue:function(){return u},setValue:function(z){u=""+z},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function _d(r){if(!r._valueTracker){var s=Ep(r)?"checked":"value";r._valueTracker=H3(r,s,""+r[s])}}function _p(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return r&&(g=Ep(r)?r.checked?"true":"false":r.value),r=g,r!==u?(s.setValue(r),!0):!1}function Bc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var j3=/[\n"\\]/g;function ei(r){return r.replace(j3,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Md(r,s,u,g,T,O,z,j){r.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?r.type=z:r.removeAttribute("type"),s!=null?z==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Jn(s)):r.value!==""+Jn(s)&&(r.value=""+Jn(s)):z!=="submit"&&z!=="reset"||r.removeAttribute("value"),s!=null?Fd(r,z,Jn(s)):u!=null?Fd(r,z,Jn(u)):g!=null&&r.removeAttribute("value"),T==null&&O!=null&&(r.defaultChecked=!!O),T!=null&&(r.checked=T&&typeof T!="function"&&typeof T!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?r.name=""+Jn(j):r.removeAttribute("name")}function Mp(r,s,u,g,T,O,z,j){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.type=O),s!=null||u!=null){if(!(O!=="submit"&&O!=="reset"||s!=null)){_d(r);return}u=u!=null?""+Jn(u):"",s=s!=null?""+Jn(s):u,j||s===r.value||(r.value=s),r.defaultValue=s}g=g??T,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=j?r.checked:!!g,r.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(r.name=z),_d(r)}function Fd(r,s,u){s==="number"&&Bc(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function co(r,s,u,g){if(r=r.options,s){s={};for(var T=0;T<u.length;T++)s["$"+u[T]]=!0;for(u=0;u<r.length;u++)T=s.hasOwnProperty("$"+r[u].value),r[u].selected!==T&&(r[u].selected=T),T&&g&&(r[u].defaultSelected=!0)}else{for(u=""+Jn(u),s=null,T=0;T<r.length;T++){if(r[T].value===u){r[T].selected=!0,g&&(r[T].defaultSelected=!0);return}s!==null||r[T].disabled||(s=r[T])}s!==null&&(s.selected=!0)}}function Fp(r,s,u){if(s!=null&&(s=""+Jn(s),s!==r.value&&(r.value=s),u==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=u!=null?""+Jn(u):""}function Up(r,s,u,g){if(s==null){if(g!=null){if(u!=null)throw Error(i(92));if(E(g)){if(1<g.length)throw Error(i(93));g=g[0]}u=g}u==null&&(u=""),s=u}u=Jn(s),r.defaultValue=u,g=r.textContent,g===u&&g!==""&&g!==null&&(r.value=g),_d(r)}function uo(r,s){if(s){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=s;return}}r.textContent=s}var Y3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kp(r,s,u){var g=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":g?r.setProperty(s,u):typeof u!="number"||u===0||Y3.has(s)?s==="float"?r.cssFloat=u:r[s]=(""+u).trim():r[s]=u+"px"}function Np(r,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var T in s)g=s[T],s.hasOwnProperty(T)&&u[T]!==g&&kp(r,T,g)}else for(var O in s)s.hasOwnProperty(O)&&kp(r,O,s[O])}function Ud(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gc(r){return W3.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function $i(){}var kd=null;function Nd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ho=null,fo=null;function qp(r){var s=oo(r);if(s&&(r=s.stateNode)){var u=r[On]||null;e:switch(r=s.stateNode,s.type){case"input":if(Md(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ei(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==r&&g.form===r.form){var T=g[On]||null;if(!T)throw Error(i(90));Md(g,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(s=0;s<u.length;s++)g=u[s],g.form===r.form&&_p(g)}break e;case"textarea":Fp(r,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&co(r,!!u.multiple,s,!1)}}}var qd=!1;function Bp(r,s,u){if(qd)return r(s,u);qd=!0;try{var g=r(s);return g}finally{if(qd=!1,(ho!==null||fo!==null)&&(Ou(),ho&&(s=ho,r=fo,fo=ho=null,qp(s),r)))for(s=0;s<r.length;s++)qp(r[s])}}function bs(r,s){var u=r.stateNode;if(u===null)return null;var g=u[On]||null;if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=!1;if(Ki)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Bd=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Bd=!1}var Er=null,Gd=null,zc=null;function Gp(){if(zc)return zc;var r,s=Gd,u=s.length,g,T="value"in Er?Er.value:Er.textContent,O=T.length;for(r=0;r<u&&s[r]===T[r];r++);var z=u-r;for(g=1;g<=z&&s[u-g]===T[O-g];g++);return zc=T.slice(r,1<g?1-g:void 0)}function Vc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Qc(){return!0}function zp(){return!1}function Pn(r){function s(u,g,T,O,z){this._reactName=u,this._targetInst=T,this.type=g,this.nativeEvent=O,this.target=z,this.currentTarget=null;for(var j in r)r.hasOwnProperty(j)&&(u=r[j],this[j]=u?u(O):O[j]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Qc:zp,this.isPropagationStopped=zp,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),s}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hc=Pn(ma),Ds=m({},ma,{view:0,detail:0}),$3=Pn(Ds),zd,Vd,Ts,jc=m({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ts&&(Ts&&r.type==="mousemove"?(zd=r.screenX-Ts.screenX,Vd=r.screenY-Ts.screenY):Vd=zd=0,Ts=r),zd)},movementY:function(r){return"movementY"in r?r.movementY:Vd}}),Vp=Pn(jc),K3=m({},jc,{dataTransfer:0}),Z3=Pn(K3),J3=m({},Ds,{relatedTarget:0}),Qd=Pn(J3),e6=m({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),t6=Pn(e6),n6=m({},ma,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),i6=Pn(n6),r6=m({},ma,{data:0}),Qp=Pn(r6),a6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l6(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=s6[r])?!!s[r]:!1}function Hd(){return l6}var c6=m({},Ds,{key:function(r){if(r.key){var s=a6[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Vc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?o6[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(r){return r.type==="keypress"?Vc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Vc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),u6=Pn(c6),d6=m({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Pn(d6),h6=m({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),f6=Pn(h6),g6=m({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),p6=Pn(g6),m6=m({},jc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),S6=Pn(m6),y6=m({},ma,{newState:0,oldState:0}),v6=Pn(y6),b6=[9,13,27,32],jd=Ki&&"CompositionEvent"in window,ws=null;Ki&&"documentMode"in document&&(ws=document.documentMode);var C6=Ki&&"TextEvent"in window&&!ws,jp=Ki&&(!jd||ws&&8<ws&&11>=ws),Yp=" ",Xp=!1;function Wp(r,s){switch(r){case"keyup":return b6.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $p(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var go=!1;function D6(r,s){switch(r){case"compositionend":return $p(s);case"keypress":return s.which!==32?null:(Xp=!0,Yp);case"textInput":return r=s.data,r===Yp&&Xp?null:r;default:return null}}function T6(r,s){if(go)return r==="compositionend"||!jd&&Wp(r,s)?(r=Gp(),zc=Gd=Er=null,go=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jp&&s.locale!=="ko"?null:s.data;default:return null}}var w6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!w6[r.type]:s==="textarea"}function Zp(r,s,u,g){ho?fo?fo.push(g):fo=[g]:ho=g,s=Fu(s,"onChange"),0<s.length&&(u=new Hc("onChange","change",null,u,g),r.push({event:u,listeners:s}))}var xs=null,As=null;function x6(r){M2(r,0)}function Yc(r){var s=vs(r);if(_p(s))return r}function Jp(r,s){if(r==="change")return s}var em=!1;if(Ki){var Yd;if(Ki){var Xd="oninput"in document;if(!Xd){var tm=document.createElement("div");tm.setAttribute("oninput","return;"),Xd=typeof tm.oninput=="function"}Yd=Xd}else Yd=!1;em=Yd&&(!document.documentMode||9<document.documentMode)}function nm(){xs&&(xs.detachEvent("onpropertychange",im),As=xs=null)}function im(r){if(r.propertyName==="value"&&Yc(As)){var s=[];Zp(s,As,r,Nd(r)),Bp(x6,s)}}function A6(r,s,u){r==="focusin"?(nm(),xs=s,As=u,xs.attachEvent("onpropertychange",im)):r==="focusout"&&nm()}function R6(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yc(As)}function O6(r,s){if(r==="click")return Yc(s)}function P6(r,s){if(r==="input"||r==="change")return Yc(s)}function L6(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:L6;function Rs(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var u=Object.keys(r),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var T=u[g];if(!ae.call(s,T)||!zn(r[T],s[T]))return!1}return!0}function rm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function am(r,s){var u=rm(r);r=0;for(var g;u;){if(u.nodeType===3){if(g=r+u.textContent.length,r<=s&&g>=s)return{node:u,offset:s-r};r=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rm(u)}}function om(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?om(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function sm(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bc(r.document);s instanceof r.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)r=s.contentWindow;else break;s=Bc(r.document)}return s}function Wd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var I6=Ki&&"documentMode"in document&&11>=document.documentMode,po=null,$d=null,Os=null,Kd=!1;function lm(r,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Kd||po==null||po!==Bc(g)||(g=po,"selectionStart"in g&&Wd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Os&&Rs(Os,g)||(Os=g,g=Fu($d,"onSelect"),0<g.length&&(s=new Hc("onSelect","select",null,s,u),r.push({event:s,listeners:g}),s.target=po)))}function Sa(r,s){var u={};return u[r.toLowerCase()]=s.toLowerCase(),u["Webkit"+r]="webkit"+s,u["Moz"+r]="moz"+s,u}var mo={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionrun:Sa("Transition","TransitionRun"),transitionstart:Sa("Transition","TransitionStart"),transitioncancel:Sa("Transition","TransitionCancel"),transitionend:Sa("Transition","TransitionEnd")},Zd={},cm={};Ki&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ya(r){if(Zd[r])return Zd[r];if(!mo[r])return r;var s=mo[r],u;for(u in s)if(s.hasOwnProperty(u)&&u in cm)return Zd[r]=s[u];return r}var um=ya("animationend"),dm=ya("animationiteration"),hm=ya("animationstart"),E6=ya("transitionrun"),_6=ya("transitionstart"),M6=ya("transitioncancel"),fm=ya("transitionend"),gm=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function pi(r,s){gm.set(r,s),pa(s,[r])}var Xc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ti=[],So=0,eh=0;function Wc(){for(var r=So,s=eh=So=0;s<r;){var u=ti[s];ti[s++]=null;var g=ti[s];ti[s++]=null;var T=ti[s];ti[s++]=null;var O=ti[s];if(ti[s++]=null,g!==null&&T!==null){var z=g.pending;z===null?T.next=T:(T.next=z.next,z.next=T),g.pending=T}O!==0&&pm(u,T,O)}}function $c(r,s,u,g){ti[So++]=r,ti[So++]=s,ti[So++]=u,ti[So++]=g,eh|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function th(r,s,u,g){return $c(r,s,u,g),Kc(r)}function va(r,s){return $c(r,null,null,s),Kc(r)}function pm(r,s,u){r.lanes|=u;var g=r.alternate;g!==null&&(g.lanes|=u);for(var T=!1,O=r.return;O!==null;)O.childLanes|=u,g=O.alternate,g!==null&&(g.childLanes|=u),O.tag===22&&(r=O.stateNode,r===null||r._visibility&1||(T=!0)),r=O,O=O.return;return r.tag===3?(O=r.stateNode,T&&s!==null&&(T=31-je(u),r=O.hiddenUpdates,g=r[T],g===null?r[T]=[s]:g.push(s),s.lane=u|536870912),O):null}function Kc(r){if(50<$s)throw $s=0,df=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var yo={};function F6(r,s,u,g){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(r,s,u,g){return new F6(r,s,u,g)}function nh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zi(r,s){var u=r.alternate;return u===null?(u=Vn(r.tag,s,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=s,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,s=r.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function mm(r,s){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,s=u.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Zc(r,s,u,g,T,O){var z=0;if(g=r,typeof r=="function")nh(r)&&(z=1);else if(typeof r=="string")z=BD(r,u,ee.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Vn(31,u,s,T),r.elementType=M,r.lanes=O,r;case y:return ba(u.children,T,O,s);case b:z=8,T|=24;break;case w:return r=Vn(12,u,s,T|2),r.elementType=w,r.lanes=O,r;case R:return r=Vn(13,u,s,T),r.elementType=R,r.lanes=O,r;case I:return r=Vn(19,u,s,T),r.elementType=I,r.lanes=O,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:z=10;break e;case D:z=9;break e;case x:z=11;break e;case k:z=14;break e;case _:z=16,g=null;break e}z=29,u=Error(i(130,r===null?"null":typeof r,"")),g=null}return s=Vn(z,u,s,T),s.elementType=r,s.type=g,s.lanes=O,s}function ba(r,s,u,g){return r=Vn(7,r,g,s),r.lanes=u,r}function ih(r,s,u){return r=Vn(6,r,null,s),r.lanes=u,r}function Sm(r){var s=Vn(18,null,null,0);return s.stateNode=r,s}function rh(r,s,u){return s=Vn(4,r.children!==null?r.children:[],r.key,s),s.lanes=u,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ym=new WeakMap;function ni(r,s){if(typeof r=="object"&&r!==null){var u=ym.get(r);return u!==void 0?u:(s={value:r,source:s,stack:Y(s)},ym.set(r,s),s)}return{value:r,source:s,stack:Y(s)}}var vo=[],bo=0,Jc=null,Ps=0,ii=[],ri=0,_r=null,Ei=1,_i="";function Ji(r,s){vo[bo++]=Ps,vo[bo++]=Jc,Jc=r,Ps=s}function vm(r,s,u){ii[ri++]=Ei,ii[ri++]=_i,ii[ri++]=_r,_r=r;var g=Ei;r=_i;var T=32-je(g)-1;g&=~(1<<T),u+=1;var O=32-je(s)+T;if(30<O){var z=T-T%5;O=(g&(1<<z)-1).toString(32),g>>=z,T-=z,Ei=1<<32-je(s)+T|u<<T|g,_i=O+r}else Ei=1<<O|u<<T|g,_i=r}function ah(r){r.return!==null&&(Ji(r,1),vm(r,1,0))}function oh(r){for(;r===Jc;)Jc=vo[--bo],vo[bo]=null,Ps=vo[--bo],vo[bo]=null;for(;r===_r;)_r=ii[--ri],ii[ri]=null,_i=ii[--ri],ii[ri]=null,Ei=ii[--ri],ii[ri]=null}function bm(r,s){ii[ri++]=Ei,ii[ri++]=_i,ii[ri++]=_r,Ei=s.id,_i=s.overflow,_r=r}var pn=null,kt=null,ft=!1,Mr=null,ai=!1,sh=Error(i(519));function Fr(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(ni(s,r)),sh}function Cm(r){var s=r.stateNode,u=r.type,g=r.memoizedProps;switch(s[gn]=r,s[On]=g,u){case"dialog":st("cancel",s),st("close",s);break;case"iframe":case"object":case"embed":st("load",s);break;case"video":case"audio":for(u=0;u<Zs.length;u++)st(Zs[u],s);break;case"source":st("error",s);break;case"img":case"image":case"link":st("error",s),st("load",s);break;case"details":st("toggle",s);break;case"input":st("invalid",s),Mp(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":st("invalid",s);break;case"textarea":st("invalid",s),Up(s,g.value,g.defaultValue,g.children)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||g.suppressHydrationWarning===!0||N2(s.textContent,u)?(g.popover!=null&&(st("beforetoggle",s),st("toggle",s)),g.onScroll!=null&&st("scroll",s),g.onScrollEnd!=null&&st("scrollend",s),g.onClick!=null&&(s.onclick=$i),s=!0):s=!1,s||Fr(r,!0)}function Dm(r){for(pn=r.return;pn;)switch(pn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:pn=pn.return}}function Co(r){if(r!==pn)return!1;if(!ft)return Dm(r),ft=!0,!1;var s=r.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Af(r.type,r.memoizedProps)),u=!u),u&&kt&&Fr(r),Dm(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=Y2(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));kt=Y2(r)}else s===27?(s=kt,Wr(r.type)?(r=If,If=null,kt=r):kt=s):kt=pn?si(r.stateNode.nextSibling):null;return!0}function Ca(){kt=pn=null,ft=!1}function lh(){var r=Mr;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),Mr=null),r}function Ls(r){Mr===null?Mr=[r]:Mr.push(r)}var ch=N(null),Da=null,er=null;function Ur(r,s,u){X(ch,s._currentValue),s._currentValue=u}function tr(r){r._currentValue=ch.current,V(ch)}function uh(r,s,u){for(;r!==null;){var g=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),r===u)break;r=r.return}}function dh(r,s,u,g){var T=r.child;for(T!==null&&(T.return=r);T!==null;){var O=T.dependencies;if(O!==null){var z=T.child;O=O.firstContext;e:for(;O!==null;){var j=O;O=T;for(var ie=0;ie<s.length;ie++)if(j.context===s[ie]){O.lanes|=u,j=O.alternate,j!==null&&(j.lanes|=u),uh(O.return,u,r),g||(z=null);break e}O=j.next}}else if(T.tag===18){if(z=T.return,z===null)throw Error(i(341));z.lanes|=u,O=z.alternate,O!==null&&(O.lanes|=u),uh(z,u,r),z=null}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===r){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}}function Do(r,s,u,g){r=null;for(var T=s,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var z=T.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var j=T.type;zn(T.pendingProps.value,z.value)||(r!==null?r.push(j):r=[j])}}else if(T===W.current){if(z=T.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(r!==null?r.push(il):r=[il])}T=T.return}r!==null&&dh(s,r,u,g),s.flags|=262144}function eu(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ta(r){Da=r,er=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function mn(r){return Tm(Da,r)}function tu(r,s){return Da===null&&Ta(r),Tm(r,s)}function Tm(r,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},er===null){if(r===null)throw Error(i(308));er=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else er=er.next=s;return u}var U6=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(u,g){r.push(g)}};this.abort=function(){s.aborted=!0,r.forEach(function(u){return u()})}},k6=n.unstable_scheduleCallback,N6=n.unstable_NormalPriority,tn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hh(){return{controller:new U6,data:new Map,refCount:0}}function Is(r){r.refCount--,r.refCount===0&&k6(N6,function(){r.controller.abort()})}var Es=null,fh=0,To=0,wo=null;function q6(r,s){if(Es===null){var u=Es=[];fh=0,To=Sf(),wo={status:"pending",value:void 0,then:function(g){u.push(g)}}}return fh++,s.then(wm,wm),s}function wm(){if(--fh===0&&Es!==null){wo!==null&&(wo.status="fulfilled");var r=Es;Es=null,To=0,wo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function B6(r,s){var u=[],g={status:"pending",value:null,reason:null,then:function(T){u.push(T)}};return r.then(function(){g.status="fulfilled",g.value=s;for(var T=0;T<u.length;T++)(0,u[T])(s)},function(T){for(g.status="rejected",g.reason=T,T=0;T<u.length;T++)(0,u[T])(void 0)}),g}var xm=F.S;F.S=function(r,s){l2=Pe(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&q6(r,s),xm!==null&&xm(r,s)};var wa=N(null);function gh(){var r=wa.current;return r!==null?r:_t.pooledCache}function nu(r,s){s===null?X(wa,wa.current):X(wa,s.pool)}function Am(){var r=gh();return r===null?null:{parent:tn._currentValue,pool:r}}var xo=Error(i(460)),ph=Error(i(474)),iu=Error(i(542)),ru={then:function(){}};function Rm(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Om(r,s,u){switch(u=r[u],u===void 0?r.push(s):u!==s&&(s.then($i,$i),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lm(r),r;default:if(typeof s.status=="string")s.then($i,$i);else{if(r=_t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(g){if(s.status==="pending"){var T=s;T.status="fulfilled",T.value=g}},function(g){if(s.status==="pending"){var T=s;T.status="rejected",T.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Lm(r),r}throw Aa=s,xo}}function xa(r){try{var s=r._init;return s(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Aa=u,xo):u}}var Aa=null;function Pm(){if(Aa===null)throw Error(i(459));var r=Aa;return Aa=null,r}function Lm(r){if(r===xo||r===iu)throw Error(i(483))}var Ao=null,_s=0;function au(r){var s=_s;return _s+=1,Ao===null&&(Ao=[]),Om(Ao,r,s)}function Ms(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ou(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Im(r){function s(ue,oe){if(r){var ge=ue.deletions;ge===null?(ue.deletions=[oe],ue.flags|=16):ge.push(oe)}}function u(ue,oe){if(!r)return null;for(;oe!==null;)s(ue,oe),oe=oe.sibling;return null}function g(ue){for(var oe=new Map;ue!==null;)ue.key!==null?oe.set(ue.key,ue):oe.set(ue.index,ue),ue=ue.sibling;return oe}function T(ue,oe){return ue=Zi(ue,oe),ue.index=0,ue.sibling=null,ue}function O(ue,oe,ge){return ue.index=ge,r?(ge=ue.alternate,ge!==null?(ge=ge.index,ge<oe?(ue.flags|=67108866,oe):ge):(ue.flags|=67108866,oe)):(ue.flags|=1048576,oe)}function z(ue){return r&&ue.alternate===null&&(ue.flags|=67108866),ue}function j(ue,oe,ge,Oe){return oe===null||oe.tag!==6?(oe=ih(ge,ue.mode,Oe),oe.return=ue,oe):(oe=T(oe,ge),oe.return=ue,oe)}function ie(ue,oe,ge,Oe){var He=ge.type;return He===y?we(ue,oe,ge.props.children,Oe,ge.key):oe!==null&&(oe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===_&&xa(He)===oe.type)?(oe=T(oe,ge.props),Ms(oe,ge),oe.return=ue,oe):(oe=Zc(ge.type,ge.key,ge.props,null,ue.mode,Oe),Ms(oe,ge),oe.return=ue,oe)}function me(ue,oe,ge,Oe){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ge.containerInfo||oe.stateNode.implementation!==ge.implementation?(oe=rh(ge,ue.mode,Oe),oe.return=ue,oe):(oe=T(oe,ge.children||[]),oe.return=ue,oe)}function we(ue,oe,ge,Oe,He){return oe===null||oe.tag!==7?(oe=ba(ge,ue.mode,Oe,He),oe.return=ue,oe):(oe=T(oe,ge),oe.return=ue,oe)}function Le(ue,oe,ge){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=ih(""+oe,ue.mode,ge),oe.return=ue,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case p:return ge=Zc(oe.type,oe.key,oe.props,null,ue.mode,ge),Ms(ge,oe),ge.return=ue,ge;case S:return oe=rh(oe,ue.mode,ge),oe.return=ue,oe;case _:return oe=xa(oe),Le(ue,oe,ge)}if(E(oe)||L(oe))return oe=ba(oe,ue.mode,ge,null),oe.return=ue,oe;if(typeof oe.then=="function")return Le(ue,au(oe),ge);if(oe.$$typeof===C)return Le(ue,tu(ue,oe),ge);ou(ue,oe)}return null}function Se(ue,oe,ge,Oe){var He=oe!==null?oe.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return He!==null?null:j(ue,oe,""+ge,Oe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case p:return ge.key===He?ie(ue,oe,ge,Oe):null;case S:return ge.key===He?me(ue,oe,ge,Oe):null;case _:return ge=xa(ge),Se(ue,oe,ge,Oe)}if(E(ge)||L(ge))return He!==null?null:we(ue,oe,ge,Oe,null);if(typeof ge.then=="function")return Se(ue,oe,au(ge),Oe);if(ge.$$typeof===C)return Se(ue,oe,tu(ue,ge),Oe);ou(ue,ge)}return null}function be(ue,oe,ge,Oe,He){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ue=ue.get(ge)||null,j(oe,ue,""+Oe,He);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return ue=ue.get(Oe.key===null?ge:Oe.key)||null,ie(oe,ue,Oe,He);case S:return ue=ue.get(Oe.key===null?ge:Oe.key)||null,me(oe,ue,Oe,He);case _:return Oe=xa(Oe),be(ue,oe,ge,Oe,He)}if(E(Oe)||L(Oe))return ue=ue.get(ge)||null,we(oe,ue,Oe,He,null);if(typeof Oe.then=="function")return be(ue,oe,ge,au(Oe),He);if(Oe.$$typeof===C)return be(ue,oe,ge,tu(oe,Oe),He);ou(oe,Oe)}return null}function Be(ue,oe,ge,Oe){for(var He=null,mt=null,Ve=oe,Je=oe=0,ut=null;Ve!==null&&Je<ge.length;Je++){Ve.index>Je?(ut=Ve,Ve=null):ut=Ve.sibling;var St=Se(ue,Ve,ge[Je],Oe);if(St===null){Ve===null&&(Ve=ut);break}r&&Ve&&St.alternate===null&&s(ue,Ve),oe=O(St,oe,Je),mt===null?He=St:mt.sibling=St,mt=St,Ve=ut}if(Je===ge.length)return u(ue,Ve),ft&&Ji(ue,Je),He;if(Ve===null){for(;Je<ge.length;Je++)Ve=Le(ue,ge[Je],Oe),Ve!==null&&(oe=O(Ve,oe,Je),mt===null?He=Ve:mt.sibling=Ve,mt=Ve);return ft&&Ji(ue,Je),He}for(Ve=g(Ve);Je<ge.length;Je++)ut=be(Ve,ue,Je,ge[Je],Oe),ut!==null&&(r&&ut.alternate!==null&&Ve.delete(ut.key===null?Je:ut.key),oe=O(ut,oe,Je),mt===null?He=ut:mt.sibling=ut,mt=ut);return r&&Ve.forEach(function(ea){return s(ue,ea)}),ft&&Ji(ue,Je),He}function Ye(ue,oe,ge,Oe){if(ge==null)throw Error(i(151));for(var He=null,mt=null,Ve=oe,Je=oe=0,ut=null,St=ge.next();Ve!==null&&!St.done;Je++,St=ge.next()){Ve.index>Je?(ut=Ve,Ve=null):ut=Ve.sibling;var ea=Se(ue,Ve,St.value,Oe);if(ea===null){Ve===null&&(Ve=ut);break}r&&Ve&&ea.alternate===null&&s(ue,Ve),oe=O(ea,oe,Je),mt===null?He=ea:mt.sibling=ea,mt=ea,Ve=ut}if(St.done)return u(ue,Ve),ft&&Ji(ue,Je),He;if(Ve===null){for(;!St.done;Je++,St=ge.next())St=Le(ue,St.value,Oe),St!==null&&(oe=O(St,oe,Je),mt===null?He=St:mt.sibling=St,mt=St);return ft&&Ji(ue,Je),He}for(Ve=g(Ve);!St.done;Je++,St=ge.next())St=be(Ve,ue,Je,St.value,Oe),St!==null&&(r&&St.alternate!==null&&Ve.delete(St.key===null?Je:St.key),oe=O(St,oe,Je),mt===null?He=St:mt.sibling=St,mt=St);return r&&Ve.forEach(function(KD){return s(ue,KD)}),ft&&Ji(ue,Je),He}function Lt(ue,oe,ge,Oe){if(typeof ge=="object"&&ge!==null&&ge.type===y&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case p:e:{for(var He=ge.key;oe!==null;){if(oe.key===He){if(He=ge.type,He===y){if(oe.tag===7){u(ue,oe.sibling),Oe=T(oe,ge.props.children),Oe.return=ue,ue=Oe;break e}}else if(oe.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===_&&xa(He)===oe.type){u(ue,oe.sibling),Oe=T(oe,ge.props),Ms(Oe,ge),Oe.return=ue,ue=Oe;break e}u(ue,oe);break}else s(ue,oe);oe=oe.sibling}ge.type===y?(Oe=ba(ge.props.children,ue.mode,Oe,ge.key),Oe.return=ue,ue=Oe):(Oe=Zc(ge.type,ge.key,ge.props,null,ue.mode,Oe),Ms(Oe,ge),Oe.return=ue,ue=Oe)}return z(ue);case S:e:{for(He=ge.key;oe!==null;){if(oe.key===He)if(oe.tag===4&&oe.stateNode.containerInfo===ge.containerInfo&&oe.stateNode.implementation===ge.implementation){u(ue,oe.sibling),Oe=T(oe,ge.children||[]),Oe.return=ue,ue=Oe;break e}else{u(ue,oe);break}else s(ue,oe);oe=oe.sibling}Oe=rh(ge,ue.mode,Oe),Oe.return=ue,ue=Oe}return z(ue);case _:return ge=xa(ge),Lt(ue,oe,ge,Oe)}if(E(ge))return Be(ue,oe,ge,Oe);if(L(ge)){if(He=L(ge),typeof He!="function")throw Error(i(150));return ge=He.call(ge),Ye(ue,oe,ge,Oe)}if(typeof ge.then=="function")return Lt(ue,oe,au(ge),Oe);if(ge.$$typeof===C)return Lt(ue,oe,tu(ue,ge),Oe);ou(ue,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,oe!==null&&oe.tag===6?(u(ue,oe.sibling),Oe=T(oe,ge),Oe.return=ue,ue=Oe):(u(ue,oe),Oe=ih(ge,ue.mode,Oe),Oe.return=ue,ue=Oe),z(ue)):u(ue,oe)}return function(ue,oe,ge,Oe){try{_s=0;var He=Lt(ue,oe,ge,Oe);return Ao=null,He}catch(Ve){if(Ve===xo||Ve===iu)throw Ve;var mt=Vn(29,Ve,null,ue.mode);return mt.lanes=Oe,mt.return=ue,mt}finally{}}}var Ra=Im(!0),Em=Im(!1),kr=!1;function mh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Nr(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function qr(r,s,u){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(vt&2)!==0){var T=g.pending;return T===null?s.next=s:(s.next=T.next,T.next=s),g.pending=s,s=Kc(r),pm(r,null,u),s}return $c(r,g,s,u),Kc(r)}function Fs(r,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var g=s.lanes;g&=r.pendingLanes,u|=g,s.lanes=u,Tp(r,u)}}function yh(r,s){var u=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var T=null,O=null;if(u=u.firstBaseUpdate,u!==null){do{var z={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};O===null?T=O=z:O=O.next=z,u=u.next}while(u!==null);O===null?T=O=s:O=O.next=s}else T=O=s;u={baseState:g.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:g.shared,callbacks:g.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=s:r.next=s,u.lastBaseUpdate=s}var vh=!1;function Us(){if(vh){var r=wo;if(r!==null)throw r}}function ks(r,s,u,g){vh=!1;var T=r.updateQueue;kr=!1;var O=T.firstBaseUpdate,z=T.lastBaseUpdate,j=T.shared.pending;if(j!==null){T.shared.pending=null;var ie=j,me=ie.next;ie.next=null,z===null?O=me:z.next=me,z=ie;var we=r.alternate;we!==null&&(we=we.updateQueue,j=we.lastBaseUpdate,j!==z&&(j===null?we.firstBaseUpdate=me:j.next=me,we.lastBaseUpdate=ie))}if(O!==null){var Le=T.baseState;z=0,we=me=ie=null,j=O;do{var Se=j.lane&-536870913,be=Se!==j.lane;if(be?(ct&Se)===Se:(g&Se)===Se){Se!==0&&Se===To&&(vh=!0),we!==null&&(we=we.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Be=r,Ye=j;Se=s;var Lt=u;switch(Ye.tag){case 1:if(Be=Ye.payload,typeof Be=="function"){Le=Be.call(Lt,Le,Se);break e}Le=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Ye.payload,Se=typeof Be=="function"?Be.call(Lt,Le,Se):Be,Se==null)break e;Le=m({},Le,Se);break e;case 2:kr=!0}}Se=j.callback,Se!==null&&(r.flags|=64,be&&(r.flags|=8192),be=T.callbacks,be===null?T.callbacks=[Se]:be.push(Se))}else be={lane:Se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},we===null?(me=we=be,ie=Le):we=we.next=be,z|=Se;if(j=j.next,j===null){if(j=T.shared.pending,j===null)break;be=j,j=be.next,be.next=null,T.lastBaseUpdate=be,T.shared.pending=null}}while(!0);we===null&&(ie=Le),T.baseState=ie,T.firstBaseUpdate=me,T.lastBaseUpdate=we,O===null&&(T.shared.lanes=0),Qr|=z,r.lanes=z,r.memoizedState=Le}}function _m(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Mm(r,s){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)_m(u[r],s)}var Ro=N(null),su=N(0);function Fm(r,s){r=ur,X(su,r),X(Ro,s),ur=r|s.baseLanes}function bh(){X(su,ur),X(Ro,Ro.current)}function Ch(){ur=su.current,V(Ro),V(su)}var Qn=N(null),oi=null;function Br(r){var s=r.alternate;X($t,$t.current&1),X(Qn,r),oi===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(oi=r)}function Dh(r){X($t,$t.current),X(Qn,r),oi===null&&(oi=r)}function Um(r){r.tag===22?(X($t,$t.current),X(Qn,r),oi===null&&(oi=r)):Gr()}function Gr(){X($t,$t.current),X(Qn,Qn.current)}function Hn(r){V(Qn),oi===r&&(oi=null),V($t)}var $t=N(0);function lu(r){for(var s=r;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Pf(u)||Lf(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nr=0,Ke=null,Ot=null,nn=null,cu=!1,Oo=!1,Oa=!1,uu=0,Ns=0,Po=null,G6=0;function Qt(){throw Error(i(321))}function Th(r,s){if(s===null)return!1;for(var u=0;u<s.length&&u<r.length;u++)if(!zn(r[u],s[u]))return!1;return!0}function wh(r,s,u,g,T,O){return nr=O,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?vS:qh,Oa=!1,O=u(g,T),Oa=!1,Oo&&(O=Nm(s,u,g,T)),km(r),O}function km(r){F.H=Gs;var s=Ot!==null&&Ot.next!==null;if(nr=0,nn=Ot=Ke=null,cu=!1,Ns=0,Po=null,s)throw Error(i(300));r===null||rn||(r=r.dependencies,r!==null&&eu(r)&&(rn=!0))}function Nm(r,s,u,g){Ke=r;var T=0;do{if(Oo&&(Po=null),Ns=0,Oo=!1,25<=T)throw Error(i(301));if(T+=1,nn=Ot=null,r.updateQueue!=null){var O=r.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}F.H=bS,O=s(u,g)}while(Oo);return O}function z6(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?qs(s):s,r=r.useState()[0],(Ot!==null?Ot.memoizedState:null)!==r&&(Ke.flags|=1024),s}function xh(){var r=uu!==0;return uu=0,r}function Ah(r,s,u){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~u}function Rh(r){if(cu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cu=!1}nr=0,nn=Ot=Ke=null,Oo=!1,Ns=uu=0,Po=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Ke.memoizedState=nn=r:nn=nn.next=r,nn}function Kt(){if(Ot===null){var r=Ke.alternate;r=r!==null?r.memoizedState:null}else r=Ot.next;var s=nn===null?Ke.memoizedState:nn.next;if(s!==null)nn=s,Ot=r;else{if(r===null)throw Ke.alternate===null?Error(i(467)):Error(i(310));Ot=r,r={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},nn===null?Ke.memoizedState=nn=r:nn=nn.next=r}return nn}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(r){var s=Ns;return Ns+=1,Po===null&&(Po=[]),r=Om(Po,r,s),s=Ke,(nn===null?s.memoizedState:nn.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?vS:qh),r}function hu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return qs(r);if(r.$$typeof===C)return mn(r)}throw Error(i(438,String(r)))}function Oh(r){var s=null,u=Ke.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var g=Ke.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(T){return T.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=du(),Ke.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(r),g=0;g<r;g++)u[g]=U;return s.index++,u}function ir(r,s){return typeof s=="function"?s(r):s}function fu(r){var s=Kt();return Ph(s,Ot,r)}function Ph(r,s,u){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=u;var T=r.baseQueue,O=g.pending;if(O!==null){if(T!==null){var z=T.next;T.next=O.next,O.next=z}s.baseQueue=T=O,g.pending=null}if(O=r.baseState,T===null)r.memoizedState=O;else{s=T.next;var j=z=null,ie=null,me=s,we=!1;do{var Le=me.lane&-536870913;if(Le!==me.lane?(ct&Le)===Le:(nr&Le)===Le){var Se=me.revertLane;if(Se===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Le===To&&(we=!0);else if((nr&Se)===Se){me=me.next,Se===To&&(we=!0);continue}else Le={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(j=ie=Le,z=O):ie=ie.next=Le,Ke.lanes|=Se,Qr|=Se;Le=me.action,Oa&&u(O,Le),O=me.hasEagerState?me.eagerState:u(O,Le)}else Se={lane:Le,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ie===null?(j=ie=Se,z=O):ie=ie.next=Se,Ke.lanes|=Le,Qr|=Le;me=me.next}while(me!==null&&me!==s);if(ie===null?z=O:ie.next=j,!zn(O,r.memoizedState)&&(rn=!0,we&&(u=wo,u!==null)))throw u;r.memoizedState=O,r.baseState=z,r.baseQueue=ie,g.lastRenderedState=O}return T===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function Lh(r){var s=Kt(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=r;var g=u.dispatch,T=u.pending,O=s.memoizedState;if(T!==null){u.pending=null;var z=T=T.next;do O=r(O,z.action),z=z.next;while(z!==T);zn(O,s.memoizedState)||(rn=!0),s.memoizedState=O,s.baseQueue===null&&(s.baseState=O),u.lastRenderedState=O}return[O,g]}function qm(r,s,u){var g=Ke,T=Kt(),O=ft;if(O){if(u===void 0)throw Error(i(407));u=u()}else u=s();var z=!zn((Ot||T).memoizedState,u);if(z&&(T.memoizedState=u,rn=!0),T=T.queue,_h(zm.bind(null,g,T,r),[r]),T.getSnapshot!==s||z||nn!==null&&nn.memoizedState.tag&1){if(g.flags|=2048,Lo(9,{destroy:void 0},Gm.bind(null,g,T,u,s),null),_t===null)throw Error(i(349));O||(nr&127)!==0||Bm(g,s,u)}return u}function Bm(r,s,u){r.flags|=16384,r={getSnapshot:s,value:u},s=Ke.updateQueue,s===null?(s=du(),Ke.updateQueue=s,s.stores=[r]):(u=s.stores,u===null?s.stores=[r]:u.push(r))}function Gm(r,s,u,g){s.value=u,s.getSnapshot=g,Vm(s)&&Qm(r)}function zm(r,s,u){return u(function(){Vm(s)&&Qm(r)})}function Vm(r){var s=r.getSnapshot;r=r.value;try{var u=s();return!zn(r,u)}catch{return!0}}function Qm(r){var s=va(r,2);s!==null&&Mn(s,r,2)}function Ih(r){var s=An();if(typeof r=="function"){var u=r;if(r=u(),Oa){Ne(!0);try{u()}finally{Ne(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:r},s}function Hm(r,s,u,g){return r.baseState=u,Ph(r,Ot,typeof g=="function"?g:ir)}function V6(r,s,u,g,T){if(mu(r))throw Error(i(485));if(r=s.action,r!==null){var O={payload:T,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){O.listeners.push(z)}};F.T!==null?u(!0):O.isTransition=!1,g(O),u=s.pending,u===null?(O.next=s.pending=O,jm(s,O)):(O.next=u.next,s.pending=u.next=O)}}function jm(r,s){var u=s.action,g=s.payload,T=r.state;if(s.isTransition){var O=F.T,z={};F.T=z;try{var j=u(T,g),ie=F.S;ie!==null&&ie(z,j),Ym(r,s,j)}catch(me){Eh(r,s,me)}finally{O!==null&&z.types!==null&&(O.types=z.types),F.T=O}}else try{O=u(T,g),Ym(r,s,O)}catch(me){Eh(r,s,me)}}function Ym(r,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){Xm(r,s,g)},function(g){return Eh(r,s,g)}):Xm(r,s,u)}function Xm(r,s,u){s.status="fulfilled",s.value=u,Wm(s),r.state=u,s=r.pending,s!==null&&(u=s.next,u===s?r.pending=null:(u=u.next,s.next=u,jm(r,u)))}function Eh(r,s,u){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=u,Wm(s),s=s.next;while(s!==g)}r.action=null}function Wm(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function $m(r,s){return s}function Km(r,s){if(ft){var u=_t.formState;if(u!==null){e:{var g=Ke;if(ft){if(kt){t:{for(var T=kt,O=ai;T.nodeType!==8;){if(!O){T=null;break t}if(T=si(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){kt=si(T.nextSibling),g=T.data==="F!";break e}}Fr(g)}g=!1}g&&(s=u[0])}}return u=An(),u.memoizedState=u.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$m,lastRenderedState:s},u.queue=g,u=mS.bind(null,Ke,g),g.dispatch=u,g=Ih(!1),O=Nh.bind(null,Ke,!1,g.queue),g=An(),T={state:s,dispatch:null,action:r,pending:null},g.queue=T,u=V6.bind(null,Ke,T,O,u),T.dispatch=u,g.memoizedState=r,[s,u,!1]}function Zm(r){var s=Kt();return Jm(s,Ot,r)}function Jm(r,s,u){if(s=Ph(r,s,$m)[0],r=fu(ir)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=qs(s)}catch(z){throw z===xo?iu:z}else g=s;s=Kt();var T=s.queue,O=T.dispatch;return u!==s.memoizedState&&(Ke.flags|=2048,Lo(9,{destroy:void 0},Q6.bind(null,T,u),null)),[g,O,r]}function Q6(r,s){r.action=s}function eS(r){var s=Kt(),u=Ot;if(u!==null)return Jm(s,u,r);Kt(),s=s.memoizedState,u=Kt();var g=u.queue.dispatch;return u.memoizedState=r,[s,g,!1]}function Lo(r,s,u,g){return r={tag:r,create:u,deps:g,inst:s,next:null},s=Ke.updateQueue,s===null&&(s=du(),Ke.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=r.next=r:(g=u.next,u.next=r,r.next=g,s.lastEffect=r),r}function tS(){return Kt().memoizedState}function gu(r,s,u,g){var T=An();Ke.flags|=r,T.memoizedState=Lo(1|s,{destroy:void 0},u,g===void 0?null:g)}function pu(r,s,u,g){var T=Kt();g=g===void 0?null:g;var O=T.memoizedState.inst;Ot!==null&&g!==null&&Th(g,Ot.memoizedState.deps)?T.memoizedState=Lo(s,O,u,g):(Ke.flags|=r,T.memoizedState=Lo(1|s,O,u,g))}function nS(r,s){gu(8390656,8,r,s)}function _h(r,s){pu(2048,8,r,s)}function H6(r){Ke.flags|=4;var s=Ke.updateQueue;if(s===null)s=du(),Ke.updateQueue=s,s.events=[r];else{var u=s.events;u===null?s.events=[r]:u.push(r)}}function iS(r){var s=Kt().memoizedState;return H6({ref:s,nextImpl:r}),function(){if((vt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function rS(r,s){return pu(4,2,r,s)}function aS(r,s){return pu(4,4,r,s)}function oS(r,s){if(typeof s=="function"){r=r();var u=s(r);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function sS(r,s,u){u=u!=null?u.concat([r]):null,pu(4,4,oS.bind(null,s,r),u)}function Mh(){}function lS(r,s){var u=Kt();s=s===void 0?null:s;var g=u.memoizedState;return s!==null&&Th(s,g[1])?g[0]:(u.memoizedState=[r,s],r)}function cS(r,s){var u=Kt();s=s===void 0?null:s;var g=u.memoizedState;if(s!==null&&Th(s,g[1]))return g[0];if(g=r(),Oa){Ne(!0);try{r()}finally{Ne(!1)}}return u.memoizedState=[g,s],g}function Fh(r,s,u){return u===void 0||(nr&1073741824)!==0&&(ct&261930)===0?r.memoizedState=s:(r.memoizedState=u,r=u2(),Ke.lanes|=r,Qr|=r,u)}function uS(r,s,u,g){return zn(u,s)?u:Ro.current!==null?(r=Fh(r,u,g),zn(r,s)||(rn=!0),r):(nr&42)===0||(nr&1073741824)!==0&&(ct&261930)===0?(rn=!0,r.memoizedState=u):(r=u2(),Ke.lanes|=r,Qr|=r,s)}function dS(r,s,u,g,T){var O=G.p;G.p=O!==0&&8>O?O:8;var z=F.T,j={};F.T=j,Nh(r,!1,s,u);try{var ie=T(),me=F.S;if(me!==null&&me(j,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var we=B6(ie,g);Bs(r,s,we,Xn(r))}else Bs(r,s,g,Xn(r))}catch(Le){Bs(r,s,{then:function(){},status:"rejected",reason:Le},Xn())}finally{G.p=O,z!==null&&j.types!==null&&(z.types=j.types),F.T=z}}function j6(){}function Uh(r,s,u,g){if(r.tag!==5)throw Error(i(476));var T=hS(r).queue;dS(r,T,s,H,u===null?j6:function(){return fS(r),u(g)})}function hS(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:H},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:u},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function fS(r){var s=hS(r);s.next===null&&(s=r.alternate.memoizedState),Bs(r,s.next.queue,{},Xn())}function kh(){return mn(il)}function gS(){return Kt().memoizedState}function pS(){return Kt().memoizedState}function Y6(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var u=Xn();r=Nr(u);var g=qr(s,r,u);g!==null&&(Mn(g,s,u),Fs(g,s,u)),s={cache:hh()},r.payload=s;return}s=s.return}}function X6(r,s,u){var g=Xn();u={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},mu(r)?SS(s,u):(u=th(r,s,u,g),u!==null&&(Mn(u,r,g),yS(u,s,g)))}function mS(r,s,u){var g=Xn();Bs(r,s,u,g)}function Bs(r,s,u,g){var T={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(mu(r))SS(s,T);else{var O=r.alternate;if(r.lanes===0&&(O===null||O.lanes===0)&&(O=s.lastRenderedReducer,O!==null))try{var z=s.lastRenderedState,j=O(z,u);if(T.hasEagerState=!0,T.eagerState=j,zn(j,z))return $c(r,s,T,0),_t===null&&Wc(),!1}catch{}finally{}if(u=th(r,s,T,g),u!==null)return Mn(u,r,g),yS(u,s,g),!0}return!1}function Nh(r,s,u,g){if(g={lane:2,revertLane:Sf(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},mu(r)){if(s)throw Error(i(479))}else s=th(r,u,g,2),s!==null&&Mn(s,r,2)}function mu(r){var s=r.alternate;return r===Ke||s!==null&&s===Ke}function SS(r,s){Oo=cu=!0;var u=r.pending;u===null?s.next=s:(s.next=u.next,u.next=s),r.pending=s}function yS(r,s,u){if((u&4194048)!==0){var g=s.lanes;g&=r.pendingLanes,u|=g,s.lanes=u,Tp(r,u)}}var Gs={readContext:mn,use:hu,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Gs.useEffectEvent=Qt;var vS={readContext:mn,use:hu,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:mn,useEffect:nS,useImperativeHandle:function(r,s,u){u=u!=null?u.concat([r]):null,gu(4194308,4,oS.bind(null,s,r),u)},useLayoutEffect:function(r,s){return gu(4194308,4,r,s)},useInsertionEffect:function(r,s){gu(4,2,r,s)},useMemo:function(r,s){var u=An();s=s===void 0?null:s;var g=r();if(Oa){Ne(!0);try{r()}finally{Ne(!1)}}return u.memoizedState=[g,s],g},useReducer:function(r,s,u){var g=An();if(u!==void 0){var T=u(s);if(Oa){Ne(!0);try{u(s)}finally{Ne(!1)}}}else T=s;return g.memoizedState=g.baseState=T,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:T},g.queue=r,r=r.dispatch=X6.bind(null,Ke,r),[g.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=Ih(r);var s=r.queue,u=mS.bind(null,Ke,s);return s.dispatch=u,[r.memoizedState,u]},useDebugValue:Mh,useDeferredValue:function(r,s){var u=An();return Fh(u,r,s)},useTransition:function(){var r=Ih(!1);return r=dS.bind(null,Ke,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,u){var g=Ke,T=An();if(ft){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),_t===null)throw Error(i(349));(ct&127)!==0||Bm(g,s,u)}T.memoizedState=u;var O={value:u,getSnapshot:s};return T.queue=O,nS(zm.bind(null,g,O,r),[r]),g.flags|=2048,Lo(9,{destroy:void 0},Gm.bind(null,g,O,u,s),null),u},useId:function(){var r=An(),s=_t.identifierPrefix;if(ft){var u=_i,g=Ei;u=(g&~(1<<32-je(g)-1)).toString(32)+u,s="_"+s+"R_"+u,u=uu++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=G6++,s="_"+s+"r_"+u.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:kh,useFormState:Km,useActionState:Km,useOptimistic:function(r){var s=An();s.memoizedState=s.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Nh.bind(null,Ke,!0,u),u.dispatch=s,[r,s]},useMemoCache:Oh,useCacheRefresh:function(){return An().memoizedState=Y6.bind(null,Ke)},useEffectEvent:function(r){var s=An(),u={impl:r};return s.memoizedState=u,function(){if((vt&2)!==0)throw Error(i(440));return u.impl.apply(void 0,arguments)}}},qh={readContext:mn,use:hu,useCallback:lS,useContext:mn,useEffect:_h,useImperativeHandle:sS,useInsertionEffect:rS,useLayoutEffect:aS,useMemo:cS,useReducer:fu,useRef:tS,useState:function(){return fu(ir)},useDebugValue:Mh,useDeferredValue:function(r,s){var u=Kt();return uS(u,Ot.memoizedState,r,s)},useTransition:function(){var r=fu(ir)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:qs(r),s]},useSyncExternalStore:qm,useId:gS,useHostTransitionStatus:kh,useFormState:Zm,useActionState:Zm,useOptimistic:function(r,s){var u=Kt();return Hm(u,Ot,r,s)},useMemoCache:Oh,useCacheRefresh:pS};qh.useEffectEvent=iS;var bS={readContext:mn,use:hu,useCallback:lS,useContext:mn,useEffect:_h,useImperativeHandle:sS,useInsertionEffect:rS,useLayoutEffect:aS,useMemo:cS,useReducer:Lh,useRef:tS,useState:function(){return Lh(ir)},useDebugValue:Mh,useDeferredValue:function(r,s){var u=Kt();return Ot===null?Fh(u,r,s):uS(u,Ot.memoizedState,r,s)},useTransition:function(){var r=Lh(ir)[0],s=Kt().memoizedState;return[typeof r=="boolean"?r:qs(r),s]},useSyncExternalStore:qm,useId:gS,useHostTransitionStatus:kh,useFormState:eS,useActionState:eS,useOptimistic:function(r,s){var u=Kt();return Ot!==null?Hm(u,Ot,r,s):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Oh,useCacheRefresh:pS};bS.useEffectEvent=iS;function Bh(r,s,u,g){s=r.memoizedState,u=u(g,s),u=u==null?s:m({},s,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Gh={enqueueSetState:function(r,s,u){r=r._reactInternals;var g=Xn(),T=Nr(g);T.payload=s,u!=null&&(T.callback=u),s=qr(r,T,g),s!==null&&(Mn(s,r,g),Fs(s,r,g))},enqueueReplaceState:function(r,s,u){r=r._reactInternals;var g=Xn(),T=Nr(g);T.tag=1,T.payload=s,u!=null&&(T.callback=u),s=qr(r,T,g),s!==null&&(Mn(s,r,g),Fs(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var u=Xn(),g=Nr(u);g.tag=2,s!=null&&(g.callback=s),s=qr(r,g,u),s!==null&&(Mn(s,r,u),Fs(s,r,u))}};function CS(r,s,u,g,T,O,z){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,O,z):s.prototype&&s.prototype.isPureReactComponent?!Rs(u,g)||!Rs(T,O):!0}function DS(r,s,u,g){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==r&&Gh.enqueueReplaceState(s,s.state,null)}function Pa(r,s){var u=s;if("ref"in s){u={};for(var g in s)g!=="ref"&&(u[g]=s[g])}if(r=r.defaultProps){u===s&&(u=m({},u));for(var T in r)u[T]===void 0&&(u[T]=r[T])}return u}function TS(r){Xc(r)}function wS(r){console.error(r)}function xS(r){Xc(r)}function Su(r,s){try{var u=r.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function AS(r,s,u){try{var g=r.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function zh(r,s,u){return u=Nr(u),u.tag=3,u.payload={element:null},u.callback=function(){Su(r,s)},u}function RS(r){return r=Nr(r),r.tag=3,r}function OS(r,s,u,g){var T=u.type.getDerivedStateFromError;if(typeof T=="function"){var O=g.value;r.payload=function(){return T(O)},r.callback=function(){AS(s,u,g)}}var z=u.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(r.callback=function(){AS(s,u,g),typeof T!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var j=g.stack;this.componentDidCatch(g.value,{componentStack:j!==null?j:""})})}function W6(r,s,u,g,T){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=u.alternate,s!==null&&Do(s,u,T,!0),u=Qn.current,u!==null){switch(u.tag){case 31:case 13:return oi===null?Pu():u.alternate===null&&Ht===0&&(Ht=3),u.flags&=-257,u.flags|=65536,u.lanes=T,g===ru?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([g]):s.add(g),gf(r,g,T)),!1;case 22:return u.flags|=65536,g===ru?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([g]):u.add(g)),gf(r,g,T)),!1}throw Error(i(435,u.tag))}return gf(r,g,T),Pu(),!1}if(ft)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=T,g!==sh&&(r=Error(i(422),{cause:g}),Ls(ni(r,u)))):(g!==sh&&(s=Error(i(423),{cause:g}),Ls(ni(s,u))),r=r.current.alternate,r.flags|=65536,T&=-T,r.lanes|=T,g=ni(g,u),T=zh(r.stateNode,g,T),yh(r,T),Ht!==4&&(Ht=2)),!1;var O=Error(i(520),{cause:g});if(O=ni(O,u),Ws===null?Ws=[O]:Ws.push(O),Ht!==4&&(Ht=2),s===null)return!0;g=ni(g,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,r=T&-T,u.lanes|=r,r=zh(u.stateNode,g,r),yh(u,r),!1;case 1:if(s=u.type,O=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Hr===null||!Hr.has(O))))return u.flags|=65536,T&=-T,u.lanes|=T,T=RS(T),OS(T,r,u,g),yh(u,T),!1}u=u.return}while(u!==null);return!1}var Vh=Error(i(461)),rn=!1;function Sn(r,s,u,g){s.child=r===null?Em(s,null,u,g):Ra(s,r.child,u,g)}function PS(r,s,u,g,T){u=u.render;var O=s.ref;if("ref"in g){var z={};for(var j in g)j!=="ref"&&(z[j]=g[j])}else z=g;return Ta(s),g=wh(r,s,u,z,O,T),j=xh(),r!==null&&!rn?(Ah(r,s,T),rr(r,s,T)):(ft&&j&&ah(s),s.flags|=1,Sn(r,s,g,T),s.child)}function LS(r,s,u,g,T){if(r===null){var O=u.type;return typeof O=="function"&&!nh(O)&&O.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=O,IS(r,s,O,g,T)):(r=Zc(u.type,null,g,s,s.mode,T),r.ref=s.ref,r.return=s,s.child=r)}if(O=r.child,!Kh(r,T)){var z=O.memoizedProps;if(u=u.compare,u=u!==null?u:Rs,u(z,g)&&r.ref===s.ref)return rr(r,s,T)}return s.flags|=1,r=Zi(O,g),r.ref=s.ref,r.return=s,s.child=r}function IS(r,s,u,g,T){if(r!==null){var O=r.memoizedProps;if(Rs(O,g)&&r.ref===s.ref)if(rn=!1,s.pendingProps=g=O,Kh(r,T))(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,rr(r,s,T)}return Qh(r,s,u,g,T)}function ES(r,s,u,g){var T=g.children,O=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((s.flags&128)!==0){if(O=O!==null?O.baseLanes|u:u,r!==null){for(g=s.child=r.child,T=0;g!==null;)T=T|g.lanes|g.childLanes,g=g.sibling;g=T&~O}else g=0,s.child=null;return _S(r,s,O,u,g)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&nu(s,O!==null?O.cachePool:null),O!==null?Fm(s,O):bh(),Um(s);else return g=s.lanes=536870912,_S(r,s,O!==null?O.baseLanes|u:u,u,g)}else O!==null?(nu(s,O.cachePool),Fm(s,O),Gr(),s.memoizedState=null):(r!==null&&nu(s,null),bh(),Gr());return Sn(r,s,T,u),s.child}function zs(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function _S(r,s,u,g,T){var O=gh();return O=O===null?null:{parent:tn._currentValue,pool:O},s.memoizedState={baseLanes:u,cachePool:O},r!==null&&nu(s,null),bh(),Um(s),r!==null&&Do(r,s,g,!0),s.childLanes=T,null}function yu(r,s){return s=bu({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function MS(r,s,u){return Ra(s,r.child,null,u),r=yu(s,s.pendingProps),r.flags|=2,Hn(s),s.memoizedState=null,r}function $6(r,s,u){var g=s.pendingProps,T=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(ft){if(g.mode==="hidden")return r=yu(s,g),s.lanes=536870912,zs(null,r);if(Dh(s),(r=kt)?(r=j2(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_r!==null?{id:Ei,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=Sm(r),u.return=s,s.child=u,pn=s,kt=null)):r=null,r===null)throw Fr(s);return s.lanes=536870912,null}return yu(s,g)}var O=r.memoizedState;if(O!==null){var z=O.dehydrated;if(Dh(s),T)if(s.flags&256)s.flags&=-257,s=MS(r,s,u);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(rn||Do(r,s,u,!1),T=(u&r.childLanes)!==0,rn||T){if(g=_t,g!==null&&(z=wp(g,u),z!==0&&z!==O.retryLane))throw O.retryLane=z,va(r,z),Mn(g,r,z),Vh;Pu(),s=MS(r,s,u)}else r=O.treeContext,kt=si(z.nextSibling),pn=s,ft=!0,Mr=null,ai=!1,r!==null&&bm(s,r),s=yu(s,g),s.flags|=4096;return s}return r=Zi(r.child,{mode:g.mode,children:g.children}),r.ref=s.ref,s.child=r,r.return=s,r}function vu(r,s){var u=s.ref;if(u===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(r===null||r.ref!==u)&&(s.flags|=4194816)}}function Qh(r,s,u,g,T){return Ta(s),u=wh(r,s,u,g,void 0,T),g=xh(),r!==null&&!rn?(Ah(r,s,T),rr(r,s,T)):(ft&&g&&ah(s),s.flags|=1,Sn(r,s,u,T),s.child)}function FS(r,s,u,g,T,O){return Ta(s),s.updateQueue=null,u=Nm(s,g,u,T),km(r),g=xh(),r!==null&&!rn?(Ah(r,s,O),rr(r,s,O)):(ft&&g&&ah(s),s.flags|=1,Sn(r,s,u,O),s.child)}function US(r,s,u,g,T){if(Ta(s),s.stateNode===null){var O=yo,z=u.contextType;typeof z=="object"&&z!==null&&(O=mn(z)),O=new u(g,O),s.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Gh,s.stateNode=O,O._reactInternals=s,O=s.stateNode,O.props=g,O.state=s.memoizedState,O.refs={},mh(s),z=u.contextType,O.context=typeof z=="object"&&z!==null?mn(z):yo,O.state=s.memoizedState,z=u.getDerivedStateFromProps,typeof z=="function"&&(Bh(s,u,z,g),O.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(z=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),z!==O.state&&Gh.enqueueReplaceState(O,O.state,null),ks(s,g,O,T),Us(),O.state=s.memoizedState),typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(r===null){O=s.stateNode;var j=s.memoizedProps,ie=Pa(u,j);O.props=ie;var me=O.context,we=u.contextType;z=yo,typeof we=="object"&&we!==null&&(z=mn(we));var Le=u.getDerivedStateFromProps;we=typeof Le=="function"||typeof O.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,we||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(j||me!==z)&&DS(s,O,g,z),kr=!1;var Se=s.memoizedState;O.state=Se,ks(s,g,O,T),Us(),me=s.memoizedState,j||Se!==me||kr?(typeof Le=="function"&&(Bh(s,u,Le,g),me=s.memoizedState),(ie=kr||CS(s,u,ie,g,Se,me,z))?(we||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(s.flags|=4194308)):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=me),O.props=g,O.state=me,O.context=z,g=ie):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{O=s.stateNode,Sh(r,s),z=s.memoizedProps,we=Pa(u,z),O.props=we,Le=s.pendingProps,Se=O.context,me=u.contextType,ie=yo,typeof me=="object"&&me!==null&&(ie=mn(me)),j=u.getDerivedStateFromProps,(me=typeof j=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(z!==Le||Se!==ie)&&DS(s,O,g,ie),kr=!1,Se=s.memoizedState,O.state=Se,ks(s,g,O,T),Us();var be=s.memoizedState;z!==Le||Se!==be||kr||r!==null&&r.dependencies!==null&&eu(r.dependencies)?(typeof j=="function"&&(Bh(s,u,j,g),be=s.memoizedState),(we=kr||CS(s,u,we,g,Se,be,ie)||r!==null&&r.dependencies!==null&&eu(r.dependencies))?(me||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,be,ie),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,be,ie)),typeof O.componentDidUpdate=="function"&&(s.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof O.componentDidUpdate!="function"||z===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=be),O.props=g,O.state=be,O.context=ie,g=we):(typeof O.componentDidUpdate!="function"||z===r.memoizedProps&&Se===r.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===r.memoizedProps&&Se===r.memoizedState||(s.flags|=1024),g=!1)}return O=g,vu(r,s),g=(s.flags&128)!==0,O||g?(O=s.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:O.render(),s.flags|=1,r!==null&&g?(s.child=Ra(s,r.child,null,T),s.child=Ra(s,null,u,T)):Sn(r,s,u,T),s.memoizedState=O.state,r=s.child):r=rr(r,s,T),r}function kS(r,s,u,g){return Ca(),s.flags|=256,Sn(r,s,u,g),s.child}var Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jh(r){return{baseLanes:r,cachePool:Am()}}function Yh(r,s,u){return r=r!==null?r.childLanes&~u:0,s&&(r|=Yn),r}function NS(r,s,u){var g=s.pendingProps,T=!1,O=(s.flags&128)!==0,z;if((z=O)||(z=r!==null&&r.memoizedState===null?!1:($t.current&2)!==0),z&&(T=!0,s.flags&=-129),z=(s.flags&32)!==0,s.flags&=-33,r===null){if(ft){if(T?Br(s):Gr(),(r=kt)?(r=j2(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:_r!==null?{id:Ei,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},u=Sm(r),u.return=s,s.child=u,pn=s,kt=null)):r=null,r===null)throw Fr(s);return Lf(r)?s.lanes=32:s.lanes=536870912,null}var j=g.children;return g=g.fallback,T?(Gr(),T=s.mode,j=bu({mode:"hidden",children:j},T),g=ba(g,T,u,null),j.return=s,g.return=s,j.sibling=g,s.child=j,g=s.child,g.memoizedState=jh(u),g.childLanes=Yh(r,z,u),s.memoizedState=Hh,zs(null,g)):(Br(s),Xh(s,j))}var ie=r.memoizedState;if(ie!==null&&(j=ie.dehydrated,j!==null)){if(O)s.flags&256?(Br(s),s.flags&=-257,s=Wh(r,s,u)):s.memoizedState!==null?(Gr(),s.child=r.child,s.flags|=128,s=null):(Gr(),j=g.fallback,T=s.mode,g=bu({mode:"visible",children:g.children},T),j=ba(j,T,u,null),j.flags|=2,g.return=s,j.return=s,g.sibling=j,s.child=g,Ra(s,r.child,null,u),g=s.child,g.memoizedState=jh(u),g.childLanes=Yh(r,z,u),s.memoizedState=Hh,s=zs(null,g));else if(Br(s),Lf(j)){if(z=j.nextSibling&&j.nextSibling.dataset,z)var me=z.dgst;z=me,g=Error(i(419)),g.stack="",g.digest=z,Ls({value:g,source:null,stack:null}),s=Wh(r,s,u)}else if(rn||Do(r,s,u,!1),z=(u&r.childLanes)!==0,rn||z){if(z=_t,z!==null&&(g=wp(z,u),g!==0&&g!==ie.retryLane))throw ie.retryLane=g,va(r,g),Mn(z,r,g),Vh;Pf(j)||Pu(),s=Wh(r,s,u)}else Pf(j)?(s.flags|=192,s.child=r.child,s=null):(r=ie.treeContext,kt=si(j.nextSibling),pn=s,ft=!0,Mr=null,ai=!1,r!==null&&bm(s,r),s=Xh(s,g.children),s.flags|=4096);return s}return T?(Gr(),j=g.fallback,T=s.mode,ie=r.child,me=ie.sibling,g=Zi(ie,{mode:"hidden",children:g.children}),g.subtreeFlags=ie.subtreeFlags&65011712,me!==null?j=Zi(me,j):(j=ba(j,T,u,null),j.flags|=2),j.return=s,g.return=s,g.sibling=j,s.child=g,zs(null,g),g=s.child,j=r.child.memoizedState,j===null?j=jh(u):(T=j.cachePool,T!==null?(ie=tn._currentValue,T=T.parent!==ie?{parent:ie,pool:ie}:T):T=Am(),j={baseLanes:j.baseLanes|u,cachePool:T}),g.memoizedState=j,g.childLanes=Yh(r,z,u),s.memoizedState=Hh,zs(r.child,g)):(Br(s),u=r.child,r=u.sibling,u=Zi(u,{mode:"visible",children:g.children}),u.return=s,u.sibling=null,r!==null&&(z=s.deletions,z===null?(s.deletions=[r],s.flags|=16):z.push(r)),s.child=u,s.memoizedState=null,u)}function Xh(r,s){return s=bu({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function bu(r,s){return r=Vn(22,r,null,s),r.lanes=0,r}function Wh(r,s,u){return Ra(s,r.child,null,u),r=Xh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function qS(r,s,u){r.lanes|=s;var g=r.alternate;g!==null&&(g.lanes|=s),uh(r.return,s,u)}function $h(r,s,u,g,T,O){var z=r.memoizedState;z===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:T,treeForkCount:O}:(z.isBackwards=s,z.rendering=null,z.renderingStartTime=0,z.last=g,z.tail=u,z.tailMode=T,z.treeForkCount=O)}function BS(r,s,u){var g=s.pendingProps,T=g.revealOrder,O=g.tail;g=g.children;var z=$t.current,j=(z&2)!==0;if(j?(z=z&1|2,s.flags|=128):z&=1,X($t,z),Sn(r,s,g,u),g=ft?Ps:0,!j&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&qS(r,u,s);else if(r.tag===19)qS(r,u,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(T){case"forwards":for(u=s.child,T=null;u!==null;)r=u.alternate,r!==null&&lu(r)===null&&(T=u),u=u.sibling;u=T,u===null?(T=s.child,s.child=null):(T=u.sibling,u.sibling=null),$h(s,!1,T,u,O,g);break;case"backwards":case"unstable_legacy-backwards":for(u=null,T=s.child,s.child=null;T!==null;){if(r=T.alternate,r!==null&&lu(r)===null){s.child=T;break}r=T.sibling,T.sibling=u,u=T,T=r}$h(s,!0,u,null,O,g);break;case"together":$h(s,!1,null,null,void 0,g);break;default:s.memoizedState=null}return s.child}function rr(r,s,u){if(r!==null&&(s.dependencies=r.dependencies),Qr|=s.lanes,(u&s.childLanes)===0)if(r!==null){if(Do(r,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,u=Zi(r,r.pendingProps),s.child=u,u.return=s;r.sibling!==null;)r=r.sibling,u=u.sibling=Zi(r,r.pendingProps),u.return=s;u.sibling=null}return s.child}function Kh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&eu(r)))}function K6(r,s,u){switch(s.tag){case 3:ne(s,s.stateNode.containerInfo),Ur(s,tn,r.memoizedState.cache),Ca();break;case 27:case 5:de(s);break;case 4:ne(s,s.stateNode.containerInfo);break;case 10:Ur(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dh(s),null;break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(Br(s),s.flags|=128,null):(u&s.child.childLanes)!==0?NS(r,s,u):(Br(s),r=rr(r,s,u),r!==null?r.sibling:null);Br(s);break;case 19:var T=(r.flags&128)!==0;if(g=(u&s.childLanes)!==0,g||(Do(r,s,u,!1),g=(u&s.childLanes)!==0),T){if(g)return BS(r,s,u);s.flags|=128}if(T=s.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),X($t,$t.current),g)break;return null;case 22:return s.lanes=0,ES(r,s,u,s.pendingProps);case 24:Ur(s,tn,r.memoizedState.cache)}return rr(r,s,u)}function GS(r,s,u){if(r!==null)if(r.memoizedProps!==s.pendingProps)rn=!0;else{if(!Kh(r,u)&&(s.flags&128)===0)return rn=!1,K6(r,s,u);rn=(r.flags&131072)!==0}else rn=!1,ft&&(s.flags&1048576)!==0&&vm(s,Ps,s.index);switch(s.lanes=0,s.tag){case 16:e:{var g=s.pendingProps;if(r=xa(s.elementType),s.type=r,typeof r=="function")nh(r)?(g=Pa(r,g),s.tag=1,s=US(null,s,r,g,u)):(s.tag=0,s=Qh(null,s,r,g,u));else{if(r!=null){var T=r.$$typeof;if(T===x){s.tag=11,s=PS(null,s,r,g,u);break e}else if(T===k){s.tag=14,s=LS(null,s,r,g,u);break e}}throw s=A(r)||r,Error(i(306,s,""))}}return s;case 0:return Qh(r,s,s.type,s.pendingProps,u);case 1:return g=s.type,T=Pa(g,s.pendingProps),US(r,s,g,T,u);case 3:e:{if(ne(s,s.stateNode.containerInfo),r===null)throw Error(i(387));g=s.pendingProps;var O=s.memoizedState;T=O.element,Sh(r,s),ks(s,g,null,u);var z=s.memoizedState;if(g=z.cache,Ur(s,tn,g),g!==O.cache&&dh(s,[tn],u,!0),Us(),g=z.element,O.isDehydrated)if(O={element:g,isDehydrated:!1,cache:z.cache},s.updateQueue.baseState=O,s.memoizedState=O,s.flags&256){s=kS(r,s,g,u);break e}else if(g!==T){T=ni(Error(i(424)),s),Ls(T),s=kS(r,s,g,u);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(kt=si(r.firstChild),pn=s,ft=!0,Mr=null,ai=!0,u=Em(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ca(),g===T){s=rr(r,s,u);break e}Sn(r,s,g,u)}s=s.child}return s;case 26:return vu(r,s),r===null?(u=Z2(s.type,null,s.pendingProps,null))?s.memoizedState=u:ft||(u=s.type,r=s.pendingProps,g=Uu(ce.current).createElement(u),g[gn]=s,g[On]=r,yn(g,u,r),un(g),s.stateNode=g):s.memoizedState=Z2(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return de(s),r===null&&ft&&(g=s.stateNode=W2(s.type,s.pendingProps,ce.current),pn=s,ai=!0,T=kt,Wr(s.type)?(If=T,kt=si(g.firstChild)):kt=T),Sn(r,s,s.pendingProps.children,u),vu(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&ft&&((T=g=kt)&&(g=RD(g,s.type,s.pendingProps,ai),g!==null?(s.stateNode=g,pn=s,kt=si(g.firstChild),ai=!1,T=!0):T=!1),T||Fr(s)),de(s),T=s.type,O=s.pendingProps,z=r!==null?r.memoizedProps:null,g=O.children,Af(T,O)?g=null:z!==null&&Af(T,z)&&(s.flags|=32),s.memoizedState!==null&&(T=wh(r,s,z6,null,null,u),il._currentValue=T),vu(r,s),Sn(r,s,g,u),s.child;case 6:return r===null&&ft&&((r=u=kt)&&(u=OD(u,s.pendingProps,ai),u!==null?(s.stateNode=u,pn=s,kt=null,r=!0):r=!1),r||Fr(s)),null;case 13:return NS(r,s,u);case 4:return ne(s,s.stateNode.containerInfo),g=s.pendingProps,r===null?s.child=Ra(s,null,g,u):Sn(r,s,g,u),s.child;case 11:return PS(r,s,s.type,s.pendingProps,u);case 7:return Sn(r,s,s.pendingProps,u),s.child;case 8:return Sn(r,s,s.pendingProps.children,u),s.child;case 12:return Sn(r,s,s.pendingProps.children,u),s.child;case 10:return g=s.pendingProps,Ur(s,s.type,g.value),Sn(r,s,g.children,u),s.child;case 9:return T=s.type._context,g=s.pendingProps.children,Ta(s),T=mn(T),g=g(T),s.flags|=1,Sn(r,s,g,u),s.child;case 14:return LS(r,s,s.type,s.pendingProps,u);case 15:return IS(r,s,s.type,s.pendingProps,u);case 19:return BS(r,s,u);case 31:return $6(r,s,u);case 22:return ES(r,s,u,s.pendingProps);case 24:return Ta(s),g=mn(tn),r===null?(T=gh(),T===null&&(T=_t,O=hh(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=u),T=O),s.memoizedState={parent:g,cache:T},mh(s),Ur(s,tn,T)):((r.lanes&u)!==0&&(Sh(r,s),ks(s,null,null,u),Us()),T=r.memoizedState,O=s.memoizedState,T.parent!==g?(T={parent:g,cache:g},s.memoizedState=T,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=T),Ur(s,tn,g)):(g=O.cache,Ur(s,tn,g),g!==T.cache&&dh(s,[tn],u,!0))),Sn(r,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ar(r){r.flags|=4}function Zh(r,s,u,g,T){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(T&335544128)===T)if(r.stateNode.complete)r.flags|=8192;else if(g2())r.flags|=8192;else throw Aa=ru,ph}else r.flags&=-16777217}function zS(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!iy(s))if(g2())r.flags|=8192;else throw Aa=ru,ph}function Cu(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Cp():536870912,r.lanes|=s,Mo|=s)}function Vs(r,s){if(!ft)switch(r.tailMode){case"hidden":s=r.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,u=0,g=0;if(s)for(var T=r.child;T!==null;)u|=T.lanes|T.childLanes,g|=T.subtreeFlags&65011712,g|=T.flags&65011712,T.return=r,T=T.sibling;else for(T=r.child;T!==null;)u|=T.lanes|T.childLanes,g|=T.subtreeFlags,g|=T.flags,T.return=r,T=T.sibling;return r.subtreeFlags|=g,r.childLanes=u,s}function Z6(r,s,u){var g=s.pendingProps;switch(oh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(s),null;case 1:return Nt(s),null;case 3:return u=s.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),tr(tn),se(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Co(s)?ar(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lh())),Nt(s),null;case 26:var T=s.type,O=s.memoizedState;return r===null?(ar(s),O!==null?(Nt(s),zS(s,O)):(Nt(s),Zh(s,T,null,g,u))):O?O!==r.memoizedState?(ar(s),Nt(s),zS(s,O)):(Nt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==g&&ar(s),Nt(s),Zh(s,T,r,g,u)),null;case 27:if(ve(s),u=ce.current,T=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==g&&ar(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}r=ee.current,Co(s)?Cm(s):(r=W2(T,g,u),s.stateNode=r,ar(s))}return Nt(s),null;case 5:if(ve(s),T=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==g&&ar(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Nt(s),null}if(O=ee.current,Co(s))Cm(s);else{var z=Uu(ce.current);switch(O){case 1:O=z.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:O=z.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":O=z.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":O=z.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":O=z.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof g.is=="string"?z.createElement("select",{is:g.is}):z.createElement("select"),g.multiple?O.multiple=!0:g.size&&(O.size=g.size);break;default:O=typeof g.is=="string"?z.createElement(T,{is:g.is}):z.createElement(T)}}O[gn]=s,O[On]=g;e:for(z=s.child;z!==null;){if(z.tag===5||z.tag===6)O.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===s)break e;for(;z.sibling===null;){if(z.return===null||z.return===s)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}s.stateNode=O;e:switch(yn(O,T,g),T){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ar(s)}}return Nt(s),Zh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,u),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==g&&ar(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(i(166));if(r=ce.current,Co(s)){if(r=s.stateNode,u=s.memoizedProps,g=null,T=pn,T!==null)switch(T.tag){case 27:case 5:g=T.memoizedProps}r[gn]=s,r=!!(r.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||N2(r.nodeValue,u)),r||Fr(s,!0)}else r=Uu(r).createTextNode(g),r[gn]=s,s.stateNode=r}return Nt(s),null;case 31:if(u=s.memoizedState,r===null||r.memoizedState!==null){if(g=Co(s),u!==null){if(r===null){if(!g)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[gn]=s}else Ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),r=!1}else u=lh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return s.flags&256?(Hn(s),s):(Hn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Nt(s),null;case 13:if(g=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(T=Co(s),g!==null&&g.dehydrated!==null){if(r===null){if(!T)throw Error(i(318));if(T=s.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[gn]=s}else Ca(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Nt(s),T=!1}else T=lh(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=T),T=!0;if(!T)return s.flags&256?(Hn(s),s):(Hn(s),null)}return Hn(s),(s.flags&128)!==0?(s.lanes=u,s):(u=g!==null,r=r!==null&&r.memoizedState!==null,u&&(g=s.child,T=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(T=g.alternate.memoizedState.cachePool.pool),O=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==T&&(g.flags|=2048)),u!==r&&u&&(s.child.flags|=8192),Cu(s,s.updateQueue),Nt(s),null);case 4:return se(),r===null&&Cf(s.stateNode.containerInfo),Nt(s),null;case 10:return tr(s.type),Nt(s),null;case 19:if(V($t),g=s.memoizedState,g===null)return Nt(s),null;if(T=(s.flags&128)!==0,O=g.rendering,O===null)if(T)Vs(g,!1);else{if(Ht!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(O=lu(r),O!==null){for(s.flags|=128,Vs(g,!1),r=O.updateQueue,s.updateQueue=r,Cu(s,r),s.subtreeFlags=0,r=u,u=s.child;u!==null;)mm(u,r),u=u.sibling;return X($t,$t.current&1|2),ft&&Ji(s,g.treeForkCount),s.child}r=r.sibling}g.tail!==null&&Pe()>Au&&(s.flags|=128,T=!0,Vs(g,!1),s.lanes=4194304)}else{if(!T)if(r=lu(O),r!==null){if(s.flags|=128,T=!0,r=r.updateQueue,s.updateQueue=r,Cu(s,r),Vs(g,!0),g.tail===null&&g.tailMode==="hidden"&&!O.alternate&&!ft)return Nt(s),null}else 2*Pe()-g.renderingStartTime>Au&&u!==536870912&&(s.flags|=128,T=!0,Vs(g,!1),s.lanes=4194304);g.isBackwards?(O.sibling=s.child,s.child=O):(r=g.last,r!==null?r.sibling=O:s.child=O,g.last=O)}return g.tail!==null?(r=g.tail,g.rendering=r,g.tail=r.sibling,g.renderingStartTime=Pe(),r.sibling=null,u=$t.current,X($t,T?u&1|2:u&1),ft&&Ji(s,g.treeForkCount),r):(Nt(s),null);case 22:case 23:return Hn(s),Ch(),g=s.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(u&536870912)!==0&&(s.flags&128)===0&&(Nt(s),s.subtreeFlags&6&&(s.flags|=8192)):Nt(s),u=s.updateQueue,u!==null&&Cu(s,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==u&&(s.flags|=2048),r!==null&&V(wa),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),tr(tn),Nt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function J6(r,s){switch(oh(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return tr(tn),se(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ve(s),null;case 31:if(s.memoizedState!==null){if(Hn(s),s.alternate===null)throw Error(i(340));Ca()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Hn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ca()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return V($t),null;case 4:return se(),null;case 10:return tr(s.type),null;case 22:case 23:return Hn(s),Ch(),r!==null&&V(wa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return tr(tn),null;case 25:return null;default:return null}}function VS(r,s){switch(oh(s),s.tag){case 3:tr(tn),se();break;case 26:case 27:case 5:ve(s);break;case 4:se();break;case 31:s.memoizedState!==null&&Hn(s);break;case 13:Hn(s);break;case 19:V($t);break;case 10:tr(s.type);break;case 22:case 23:Hn(s),Ch(),r!==null&&V(wa);break;case 24:tr(tn)}}function Qs(r,s){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var T=g.next;u=T;do{if((u.tag&r)===r){g=void 0;var O=u.create,z=u.inst;g=O(),z.destroy=g}u=u.next}while(u!==T)}}catch(j){xt(s,s.return,j)}}function zr(r,s,u){try{var g=s.updateQueue,T=g!==null?g.lastEffect:null;if(T!==null){var O=T.next;g=O;do{if((g.tag&r)===r){var z=g.inst,j=z.destroy;if(j!==void 0){z.destroy=void 0,T=s;var ie=u,me=j;try{me()}catch(we){xt(T,ie,we)}}}g=g.next}while(g!==O)}}catch(we){xt(s,s.return,we)}}function QS(r){var s=r.updateQueue;if(s!==null){var u=r.stateNode;try{Mm(s,u)}catch(g){xt(r,r.return,g)}}}function HS(r,s,u){u.props=Pa(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(g){xt(r,s,g)}}function Hs(r,s){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof u=="function"?r.refCleanup=u(g):u.current=g}}catch(T){xt(r,s,T)}}function Mi(r,s){var u=r.ref,g=r.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(T){xt(r,s,T)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(T){xt(r,s,T)}else u.current=null}function jS(r){var s=r.type,u=r.memoizedProps,g=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(T){xt(r,r.return,T)}}function Jh(r,s,u){try{var g=r.stateNode;CD(g,r.type,u,s),g[On]=s}catch(T){xt(r,r.return,T)}}function YS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wr(r.type)||r.tag===4}function ef(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||YS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tf(r,s,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(r),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=$i));else if(g!==4&&(g===27&&Wr(r.type)&&(u=r.stateNode,s=null),r=r.child,r!==null))for(tf(r,s,u),r=r.sibling;r!==null;)tf(r,s,u),r=r.sibling}function Du(r,s,u){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?u.insertBefore(r,s):u.appendChild(r);else if(g!==4&&(g===27&&Wr(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Du(r,s,u),r=r.sibling;r!==null;)Du(r,s,u),r=r.sibling}function XS(r){var s=r.stateNode,u=r.memoizedProps;try{for(var g=r.type,T=s.attributes;T.length;)s.removeAttributeNode(T[0]);yn(s,g,u),s[gn]=r,s[On]=u}catch(O){xt(r,r.return,O)}}var or=!1,an=!1,nf=!1,WS=typeof WeakSet=="function"?WeakSet:Set,dn=null;function eD(r,s){if(r=r.containerInfo,wf=Vu,r=sm(r),Wd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var T=g.anchorOffset,O=g.focusNode;g=g.focusOffset;try{u.nodeType,O.nodeType}catch{u=null;break e}var z=0,j=-1,ie=-1,me=0,we=0,Le=r,Se=null;t:for(;;){for(var be;Le!==u||T!==0&&Le.nodeType!==3||(j=z+T),Le!==O||g!==0&&Le.nodeType!==3||(ie=z+g),Le.nodeType===3&&(z+=Le.nodeValue.length),(be=Le.firstChild)!==null;)Se=Le,Le=be;for(;;){if(Le===r)break t;if(Se===u&&++me===T&&(j=z),Se===O&&++we===g&&(ie=z),(be=Le.nextSibling)!==null)break;Le=Se,Se=Le.parentNode}Le=be}u=j===-1||ie===-1?null:{start:j,end:ie}}else u=null}u=u||{start:0,end:0}}else u=null;for(xf={focusedElem:r,selectionRange:u},Vu=!1,dn=s;dn!==null;)if(s=dn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,dn=r;else for(;dn!==null;){switch(s=dn,O=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)T=r[u],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&O!==null){r=void 0,u=s,T=O.memoizedProps,O=O.memoizedState,g=u.stateNode;try{var Be=Pa(u.type,T);r=g.getSnapshotBeforeUpdate(Be,O),g.__reactInternalSnapshotBeforeUpdate=r}catch(Ye){xt(u,u.return,Ye)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,u=r.nodeType,u===9)Of(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Of(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,dn=r;break}dn=s.return}}function $S(r,s,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:lr(r,u),g&4&&Qs(5,u);break;case 1:if(lr(r,u),g&4)if(r=u.stateNode,s===null)try{r.componentDidMount()}catch(z){xt(u,u.return,z)}else{var T=Pa(u.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(T,s,r.__reactInternalSnapshotBeforeUpdate)}catch(z){xt(u,u.return,z)}}g&64&&QS(u),g&512&&Hs(u,u.return);break;case 3:if(lr(r,u),g&64&&(r=u.updateQueue,r!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Mm(r,s)}catch(z){xt(u,u.return,z)}}break;case 27:s===null&&g&4&&XS(u);case 26:case 5:lr(r,u),s===null&&g&4&&jS(u),g&512&&Hs(u,u.return);break;case 12:lr(r,u);break;case 31:lr(r,u),g&4&&JS(r,u);break;case 13:lr(r,u),g&4&&e2(r,u),g&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=cD.bind(null,u),PD(r,u))));break;case 22:if(g=u.memoizedState!==null||or,!g){s=s!==null&&s.memoizedState!==null||an,T=or;var O=an;or=g,(an=s)&&!O?cr(r,u,(u.subtreeFlags&8772)!==0):lr(r,u),or=T,an=O}break;case 30:break;default:lr(r,u)}}function KS(r){var s=r.alternate;s!==null&&(r.alternate=null,KS(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ed(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Gt=null,Ln=!1;function sr(r,s,u){for(u=u.child;u!==null;)ZS(r,s,u),u=u.sibling}function ZS(r,s,u){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Ge,u)}catch{}switch(u.tag){case 26:an||Mi(u,s),sr(r,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:an||Mi(u,s);var g=Gt,T=Ln;Wr(u.type)&&(Gt=u.stateNode,Ln=!1),sr(r,s,u),el(u.stateNode),Gt=g,Ln=T;break;case 5:an||Mi(u,s);case 6:if(g=Gt,T=Ln,Gt=null,sr(r,s,u),Gt=g,Ln=T,Gt!==null)if(Ln)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(u.stateNode)}catch(O){xt(u,s,O)}else try{Gt.removeChild(u.stateNode)}catch(O){xt(u,s,O)}break;case 18:Gt!==null&&(Ln?(r=Gt,Q2(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),zo(r)):Q2(Gt,u.stateNode));break;case 4:g=Gt,T=Ln,Gt=u.stateNode.containerInfo,Ln=!0,sr(r,s,u),Gt=g,Ln=T;break;case 0:case 11:case 14:case 15:zr(2,u,s),an||zr(4,u,s),sr(r,s,u);break;case 1:an||(Mi(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"&&HS(u,s,g)),sr(r,s,u);break;case 21:sr(r,s,u);break;case 22:an=(g=an)||u.memoizedState!==null,sr(r,s,u),an=g;break;default:sr(r,s,u)}}function JS(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{zo(r)}catch(u){xt(s,s.return,u)}}}function e2(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{zo(r)}catch(u){xt(s,s.return,u)}}function tD(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new WS),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new WS),s;default:throw Error(i(435,r.tag))}}function Tu(r,s){var u=tD(r);s.forEach(function(g){if(!u.has(g)){u.add(g);var T=uD.bind(null,r,g);g.then(T,T)}})}function In(r,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var T=u[g],O=r,z=s,j=z;e:for(;j!==null;){switch(j.tag){case 27:if(Wr(j.type)){Gt=j.stateNode,Ln=!1;break e}break;case 5:Gt=j.stateNode,Ln=!1;break e;case 3:case 4:Gt=j.stateNode.containerInfo,Ln=!0;break e}j=j.return}if(Gt===null)throw Error(i(160));ZS(O,z,T),Gt=null,Ln=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)t2(s,r),s=s.sibling}var mi=null;function t2(r,s){var u=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:In(s,r),En(r),g&4&&(zr(3,r,r.return),Qs(3,r),zr(5,r,r.return));break;case 1:In(s,r),En(r),g&512&&(an||u===null||Mi(u,u.return)),g&64&&or&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var T=mi;if(In(s,r),En(r),g&512&&(an||u===null||Mi(u,u.return)),g&4){var O=u!==null?u.memoizedState:null;if(g=r.memoizedState,u===null)if(g===null)if(r.stateNode===null){e:{g=r.type,u=r.memoizedProps,T=T.ownerDocument||T;t:switch(g){case"title":O=T.getElementsByTagName("title")[0],(!O||O[ys]||O[gn]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(g),T.head.insertBefore(O,T.querySelector("head > title"))),yn(O,g,u),O[gn]=r,un(O),g=O;break e;case"link":var z=ty("link","href",T).get(g+(u.href||""));if(z){for(var j=0;j<z.length;j++)if(O=z[j],O.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&O.getAttribute("rel")===(u.rel==null?null:u.rel)&&O.getAttribute("title")===(u.title==null?null:u.title)&&O.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){z.splice(j,1);break t}}O=T.createElement(g),yn(O,g,u),T.head.appendChild(O);break;case"meta":if(z=ty("meta","content",T).get(g+(u.content||""))){for(j=0;j<z.length;j++)if(O=z[j],O.getAttribute("content")===(u.content==null?null:""+u.content)&&O.getAttribute("name")===(u.name==null?null:u.name)&&O.getAttribute("property")===(u.property==null?null:u.property)&&O.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&O.getAttribute("charset")===(u.charSet==null?null:u.charSet)){z.splice(j,1);break t}}O=T.createElement(g),yn(O,g,u),T.head.appendChild(O);break;default:throw Error(i(468,g))}O[gn]=r,un(O),g=O}r.stateNode=g}else ny(T,r.type,r.stateNode);else r.stateNode=ey(T,g,r.memoizedProps);else O!==g?(O===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):O.count--,g===null?ny(T,r.type,r.stateNode):ey(T,g,r.memoizedProps)):g===null&&r.stateNode!==null&&Jh(r,r.memoizedProps,u.memoizedProps)}break;case 27:In(s,r),En(r),g&512&&(an||u===null||Mi(u,u.return)),u!==null&&g&4&&Jh(r,r.memoizedProps,u.memoizedProps);break;case 5:if(In(s,r),En(r),g&512&&(an||u===null||Mi(u,u.return)),r.flags&32){T=r.stateNode;try{uo(T,"")}catch(Be){xt(r,r.return,Be)}}g&4&&r.stateNode!=null&&(T=r.memoizedProps,Jh(r,T,u!==null?u.memoizedProps:T)),g&1024&&(nf=!0);break;case 6:if(In(s,r),En(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,u=r.stateNode;try{u.nodeValue=g}catch(Be){xt(r,r.return,Be)}}break;case 3:if(qu=null,T=mi,mi=ku(s.containerInfo),In(s,r),mi=T,En(r),g&4&&u!==null&&u.memoizedState.isDehydrated)try{zo(s.containerInfo)}catch(Be){xt(r,r.return,Be)}nf&&(nf=!1,n2(r));break;case 4:g=mi,mi=ku(r.stateNode.containerInfo),In(s,r),En(r),mi=g;break;case 12:In(s,r),En(r);break;case 31:In(s,r),En(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Tu(r,g)));break;case 13:In(s,r),En(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(xu=Pe()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Tu(r,g)));break;case 22:T=r.memoizedState!==null;var ie=u!==null&&u.memoizedState!==null,me=or,we=an;if(or=me||T,an=we||ie,In(s,r),an=we,or=me,En(r),g&8192)e:for(s=r.stateNode,s._visibility=T?s._visibility&-2:s._visibility|1,T&&(u===null||ie||or||an||La(r)),u=null,s=r;;){if(s.tag===5||s.tag===26){if(u===null){ie=u=s;try{if(O=ie.stateNode,T)z=O.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{j=ie.stateNode;var Le=ie.memoizedProps.style,Se=Le!=null&&Le.hasOwnProperty("display")?Le.display:null;j.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Be){xt(ie,ie.return,Be)}}}else if(s.tag===6){if(u===null){ie=s;try{ie.stateNode.nodeValue=T?"":ie.memoizedProps}catch(Be){xt(ie,ie.return,Be)}}}else if(s.tag===18){if(u===null){ie=s;try{var be=ie.stateNode;T?H2(be,!0):H2(ie.stateNode,!1)}catch(Be){xt(ie,ie.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=r.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Tu(r,u))));break;case 19:In(s,r),En(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,Tu(r,g)));break;case 30:break;case 21:break;default:In(s,r),En(r)}}function En(r){var s=r.flags;if(s&2){try{for(var u,g=r.return;g!==null;){if(YS(g)){u=g;break}g=g.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var T=u.stateNode,O=ef(r);Du(r,O,T);break;case 5:var z=u.stateNode;u.flags&32&&(uo(z,""),u.flags&=-33);var j=ef(r);Du(r,j,z);break;case 3:case 4:var ie=u.stateNode.containerInfo,me=ef(r);tf(r,me,ie);break;default:throw Error(i(161))}}catch(we){xt(r,r.return,we)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function n2(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;n2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function lr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)$S(r,s.alternate,s),s=s.sibling}function La(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:zr(4,s,s.return),La(s);break;case 1:Mi(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&HS(s,s.return,u),La(s);break;case 27:el(s.stateNode);case 26:case 5:Mi(s,s.return),La(s);break;case 22:s.memoizedState===null&&La(s);break;case 30:La(s);break;default:La(s)}r=r.sibling}}function cr(r,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,T=r,O=s,z=O.flags;switch(O.tag){case 0:case 11:case 15:cr(T,O,u),Qs(4,O);break;case 1:if(cr(T,O,u),g=O,T=g.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){xt(g,g.return,me)}if(g=O,T=g.updateQueue,T!==null){var j=g.stateNode;try{var ie=T.shared.hiddenCallbacks;if(ie!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ie.length;T++)_m(ie[T],j)}catch(me){xt(g,g.return,me)}}u&&z&64&&QS(O),Hs(O,O.return);break;case 27:XS(O);case 26:case 5:cr(T,O,u),u&&g===null&&z&4&&jS(O),Hs(O,O.return);break;case 12:cr(T,O,u);break;case 31:cr(T,O,u),u&&z&4&&JS(T,O);break;case 13:cr(T,O,u),u&&z&4&&e2(T,O);break;case 22:O.memoizedState===null&&cr(T,O,u),Hs(O,O.return);break;case 30:break;default:cr(T,O,u)}s=s.sibling}}function rf(r,s){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Is(u))}function af(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Is(r))}function Si(r,s,u,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i2(r,s,u,g),s=s.sibling}function i2(r,s,u,g){var T=s.flags;switch(s.tag){case 0:case 11:case 15:Si(r,s,u,g),T&2048&&Qs(9,s);break;case 1:Si(r,s,u,g);break;case 3:Si(r,s,u,g),T&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Is(r)));break;case 12:if(T&2048){Si(r,s,u,g),r=s.stateNode;try{var O=s.memoizedProps,z=O.id,j=O.onPostCommit;typeof j=="function"&&j(z,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(ie){xt(s,s.return,ie)}}else Si(r,s,u,g);break;case 31:Si(r,s,u,g);break;case 13:Si(r,s,u,g);break;case 23:break;case 22:O=s.stateNode,z=s.alternate,s.memoizedState!==null?O._visibility&2?Si(r,s,u,g):js(r,s):O._visibility&2?Si(r,s,u,g):(O._visibility|=2,Io(r,s,u,g,(s.subtreeFlags&10256)!==0||!1)),T&2048&&rf(z,s);break;case 24:Si(r,s,u,g),T&2048&&af(s.alternate,s);break;default:Si(r,s,u,g)}}function Io(r,s,u,g,T){for(T=T&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var O=r,z=s,j=u,ie=g,me=z.flags;switch(z.tag){case 0:case 11:case 15:Io(O,z,j,ie,T),Qs(8,z);break;case 23:break;case 22:var we=z.stateNode;z.memoizedState!==null?we._visibility&2?Io(O,z,j,ie,T):js(O,z):(we._visibility|=2,Io(O,z,j,ie,T)),T&&me&2048&&rf(z.alternate,z);break;case 24:Io(O,z,j,ie,T),T&&me&2048&&af(z.alternate,z);break;default:Io(O,z,j,ie,T)}s=s.sibling}}function js(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=r,g=s,T=g.flags;switch(g.tag){case 22:js(u,g),T&2048&&rf(g.alternate,g);break;case 24:js(u,g),T&2048&&af(g.alternate,g);break;default:js(u,g)}s=s.sibling}}var Ys=8192;function Eo(r,s,u){if(r.subtreeFlags&Ys)for(r=r.child;r!==null;)r2(r,s,u),r=r.sibling}function r2(r,s,u){switch(r.tag){case 26:Eo(r,s,u),r.flags&Ys&&r.memoizedState!==null&&GD(u,mi,r.memoizedState,r.memoizedProps);break;case 5:Eo(r,s,u);break;case 3:case 4:var g=mi;mi=ku(r.stateNode.containerInfo),Eo(r,s,u),mi=g;break;case 22:r.memoizedState===null&&(g=r.alternate,g!==null&&g.memoizedState!==null?(g=Ys,Ys=16777216,Eo(r,s,u),Ys=g):Eo(r,s,u));break;default:Eo(r,s,u)}}function a2(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Xs(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];dn=g,s2(g,r)}a2(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o2(r),r=r.sibling}function o2(r){switch(r.tag){case 0:case 11:case 15:Xs(r),r.flags&2048&&zr(9,r,r.return);break;case 3:Xs(r);break;case 12:Xs(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,wu(r)):Xs(r);break;default:Xs(r)}}function wu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var g=s[u];dn=g,s2(g,r)}a2(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:zr(8,s,s.return),wu(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,wu(s));break;default:wu(s)}r=r.sibling}}function s2(r,s){for(;dn!==null;){var u=dn;switch(u.tag){case 0:case 11:case 15:zr(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Is(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,dn=g;else e:for(u=r;dn!==null;){g=dn;var T=g.sibling,O=g.return;if(KS(g),g===u){dn=null;break e}if(T!==null){T.return=O,dn=T;break e}dn=O}}}var nD={getCacheForType:function(r){var s=mn(tn),u=s.data.get(r);return u===void 0&&(u=r(),s.data.set(r,u)),u},cacheSignal:function(){return mn(tn).controller.signal}},iD=typeof WeakMap=="function"?WeakMap:Map,vt=0,_t=null,ot=null,ct=0,wt=0,jn=null,Vr=!1,_o=!1,of=!1,ur=0,Ht=0,Qr=0,Ia=0,sf=0,Yn=0,Mo=0,Ws=null,_n=null,lf=!1,xu=0,l2=0,Au=1/0,Ru=null,Hr=null,ln=0,jr=null,Fo=null,dr=0,cf=0,uf=null,c2=null,$s=0,df=null;function Xn(){return(vt&2)!==0&&ct!==0?ct&-ct:F.T!==null?Sf():xp()}function u2(){if(Yn===0)if((ct&536870912)===0||ft){var r=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),Yn=r}else Yn=536870912;return r=Qn.current,r!==null&&(r.flags|=32),Yn}function Mn(r,s,u){(r===_t&&(wt===2||wt===9)||r.cancelPendingCommit!==null)&&(Uo(r,0),Yr(r,ct,Yn,!1)),Ss(r,u),((vt&2)===0||r!==_t)&&(r===_t&&((vt&2)===0&&(Ia|=u),Ht===4&&Yr(r,ct,Yn,!1)),Fi(r))}function d2(r,s,u){if((vt&6)!==0)throw Error(i(327));var g=!u&&(s&127)===0&&(s&r.expiredLanes)===0||Ii(r,s),T=g?oD(r,s):ff(r,s,!0),O=g;do{if(T===0){_o&&!g&&Yr(r,s,0,!1);break}else{if(u=r.current.alternate,O&&!rD(u)){T=ff(r,s,!1),O=!1;continue}if(T===2){if(O=s,r.errorRecoveryDisabledLanes&O)var z=0;else z=r.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){s=z;e:{var j=r;T=Ws;var ie=j.current.memoizedState.isDehydrated;if(ie&&(Uo(j,z).flags|=256),z=ff(j,z,!1),z!==2){if(of&&!ie){j.errorRecoveryDisabledLanes|=O,Ia|=O,T=4;break e}O=_n,_n=T,O!==null&&(_n===null?_n=O:_n.push.apply(_n,O))}T=z}if(O=!1,T!==2)continue}}if(T===1){Uo(r,0),Yr(r,s,0,!0);break}e:{switch(g=r,O=T,O){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Yr(g,s,Yn,!Vr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(T=xu+300-Pe(),10<T)){if(Yr(g,s,Yn,!Vr),Lr(g,0,!0)!==0)break e;dr=s,g.timeoutHandle=z2(h2.bind(null,g,u,_n,Ru,lf,s,Yn,Ia,Mo,Vr,O,"Throttled",-0,0),T);break e}h2(g,u,_n,Ru,lf,s,Yn,Ia,Mo,Vr,O,null,-0,0)}}break}while(!0);Fi(r)}function h2(r,s,u,g,T,O,z,j,ie,me,we,Le,Se,be){if(r.timeoutHandle=-1,Le=s.subtreeFlags,Le&8192||(Le&16785408)===16785408){Le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$i},r2(s,O,Le);var Be=(O&62914560)===O?xu-Pe():(O&4194048)===O?l2-Pe():0;if(Be=zD(Le,Be),Be!==null){dr=O,r.cancelPendingCommit=Be(b2.bind(null,r,s,O,u,g,T,z,j,ie,we,Le,null,Se,be)),Yr(r,O,z,!me);return}}b2(r,s,O,u,g,T,z,j,ie)}function rD(r){for(var s=r;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var T=u[g],O=T.getSnapshot;T=T.value;try{if(!zn(O(),T))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yr(r,s,u,g){s&=~sf,s&=~Ia,r.suspendedLanes|=s,r.pingedLanes&=~s,g&&(r.warmLanes|=s),g=r.expirationTimes;for(var T=s;0<T;){var O=31-je(T),z=1<<O;g[O]=-1,T&=~z}u!==0&&Dp(r,u,s)}function Ou(){return(vt&6)===0?(Ks(0),!1):!0}function hf(){if(ot!==null){if(wt===0)var r=ot.return;else r=ot,er=Da=null,Rh(r),Ao=null,_s=0,r=ot;for(;r!==null;)VS(r.alternate,r),r=r.return;ot=null}}function Uo(r,s){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,wD(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),dr=0,hf(),_t=r,ot=u=Zi(r.current,null),ct=s,wt=0,jn=null,Vr=!1,_o=Ii(r,s),of=!1,Mo=Yn=sf=Ia=Qr=Ht=0,_n=Ws=null,lf=!1,(s&8)!==0&&(s|=s&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=s;0<g;){var T=31-je(g),O=1<<T;s|=r[T],g&=~O}return ur=s,Wc(),u}function f2(r,s){Ke=null,F.H=Gs,s===xo||s===iu?(s=Pm(),wt=3):s===ph?(s=Pm(),wt=4):wt=s===Vh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jn=s,ot===null&&(Ht=1,Su(r,ni(s,r.current)))}function g2(){var r=Qn.current;return r===null?!0:(ct&4194048)===ct?oi===null:(ct&62914560)===ct||(ct&536870912)!==0?r===oi:!1}function p2(){var r=F.H;return F.H=Gs,r===null?Gs:r}function m2(){var r=F.A;return F.A=nD,r}function Pu(){Ht=4,Vr||(ct&4194048)!==ct&&Qn.current!==null||(_o=!0),(Qr&134217727)===0&&(Ia&134217727)===0||_t===null||Yr(_t,ct,Yn,!1)}function ff(r,s,u){var g=vt;vt|=2;var T=p2(),O=m2();(_t!==r||ct!==s)&&(Ru=null,Uo(r,s)),s=!1;var z=Ht;e:do try{if(wt!==0&&ot!==null){var j=ot,ie=jn;switch(wt){case 8:hf(),z=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var me=wt;if(wt=0,jn=null,ko(r,j,ie,me),u&&_o){z=0;break e}break;default:me=wt,wt=0,jn=null,ko(r,j,ie,me)}}aD(),z=Ht;break}catch(we){f2(r,we)}while(!0);return s&&r.shellSuspendCounter++,er=Da=null,vt=g,F.H=T,F.A=O,ot===null&&(_t=null,ct=0,Wc()),z}function aD(){for(;ot!==null;)S2(ot)}function oD(r,s){var u=vt;vt|=2;var g=p2(),T=m2();_t!==r||ct!==s?(Ru=null,Au=Pe()+500,Uo(r,s)):_o=Ii(r,s);e:do try{if(wt!==0&&ot!==null){s=ot;var O=jn;t:switch(wt){case 1:wt=0,jn=null,ko(r,s,O,1);break;case 2:case 9:if(Rm(O)){wt=0,jn=null,y2(s);break}s=function(){wt!==2&&wt!==9||_t!==r||(wt=7),Fi(r)},O.then(s,s);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Rm(O)?(wt=0,jn=null,y2(s)):(wt=0,jn=null,ko(r,s,O,7));break;case 5:var z=null;switch(ot.tag){case 26:z=ot.memoizedState;case 5:case 27:var j=ot;if(z?iy(z):j.stateNode.complete){wt=0,jn=null;var ie=j.sibling;if(ie!==null)ot=ie;else{var me=j.return;me!==null?(ot=me,Lu(me)):ot=null}break t}}wt=0,jn=null,ko(r,s,O,5);break;case 6:wt=0,jn=null,ko(r,s,O,6);break;case 8:hf(),Ht=6;break e;default:throw Error(i(462))}}sD();break}catch(we){f2(r,we)}while(!0);return er=Da=null,F.H=g,F.A=T,vt=u,ot!==null?0:(_t=null,ct=0,Wc(),Ht)}function sD(){for(;ot!==null&&!te();)S2(ot)}function S2(r){var s=GS(r.alternate,r,ur);r.memoizedProps=r.pendingProps,s===null?Lu(r):ot=s}function y2(r){var s=r,u=s.alternate;switch(s.tag){case 15:case 0:s=FS(u,s,s.pendingProps,s.type,void 0,ct);break;case 11:s=FS(u,s,s.pendingProps,s.type.render,s.ref,ct);break;case 5:Rh(s);default:VS(u,s),s=ot=mm(s,ur),s=GS(u,s,ur)}r.memoizedProps=r.pendingProps,s===null?Lu(r):ot=s}function ko(r,s,u,g){er=Da=null,Rh(s),Ao=null,_s=0;var T=s.return;try{if(W6(r,T,s,u,ct)){Ht=1,Su(r,ni(u,r.current)),ot=null;return}}catch(O){if(T!==null)throw ot=T,O;Ht=1,Su(r,ni(u,r.current)),ot=null;return}s.flags&32768?(ft||g===1?r=!0:_o||(ct&536870912)!==0?r=!1:(Vr=r=!0,(g===2||g===9||g===3||g===6)&&(g=Qn.current,g!==null&&g.tag===13&&(g.flags|=16384))),v2(s,r)):Lu(s)}function Lu(r){var s=r;do{if((s.flags&32768)!==0){v2(s,Vr);return}r=s.return;var u=Z6(s.alternate,s,ur);if(u!==null){ot=u;return}if(s=s.sibling,s!==null){ot=s;return}ot=s=r}while(s!==null);Ht===0&&(Ht=5)}function v2(r,s){do{var u=J6(r.alternate,r);if(u!==null){u.flags&=32767,ot=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(r=r.sibling,r!==null)){ot=r;return}ot=r=u}while(r!==null);Ht=6,ot=null}function b2(r,s,u,g,T,O,z,j,ie){r.cancelPendingCommit=null;do Iu();while(ln!==0);if((vt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(O=s.lanes|s.childLanes,O|=eh,B3(r,u,O,z,j,ie),r===_t&&(ot=_t=null,ct=0),Fo=s,jr=r,dr=u,cf=O,uf=T,c2=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,dD(_e,function(){return x2(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,T=G.p,G.p=2,z=vt,vt|=4;try{eD(r,s,u)}finally{vt=z,G.p=T,F.T=g}}ln=1,C2(),D2(),T2()}}function C2(){if(ln===1){ln=0;var r=jr,s=Fo,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var g=G.p;G.p=2;var T=vt;vt|=4;try{t2(s,r);var O=xf,z=sm(r.containerInfo),j=O.focusedElem,ie=O.selectionRange;if(z!==j&&j&&j.ownerDocument&&om(j.ownerDocument.documentElement,j)){if(ie!==null&&Wd(j)){var me=ie.start,we=ie.end;if(we===void 0&&(we=me),"selectionStart"in j)j.selectionStart=me,j.selectionEnd=Math.min(we,j.value.length);else{var Le=j.ownerDocument||document,Se=Le&&Le.defaultView||window;if(Se.getSelection){var be=Se.getSelection(),Be=j.textContent.length,Ye=Math.min(ie.start,Be),Lt=ie.end===void 0?Ye:Math.min(ie.end,Be);!be.extend&&Ye>Lt&&(z=Lt,Lt=Ye,Ye=z);var ue=am(j,Ye),oe=am(j,Lt);if(ue&&oe&&(be.rangeCount!==1||be.anchorNode!==ue.node||be.anchorOffset!==ue.offset||be.focusNode!==oe.node||be.focusOffset!==oe.offset)){var ge=Le.createRange();ge.setStart(ue.node,ue.offset),be.removeAllRanges(),Ye>Lt?(be.addRange(ge),be.extend(oe.node,oe.offset)):(ge.setEnd(oe.node,oe.offset),be.addRange(ge))}}}}for(Le=[],be=j;be=be.parentNode;)be.nodeType===1&&Le.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<Le.length;j++){var Oe=Le[j];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}Vu=!!wf,xf=wf=null}finally{vt=T,G.p=g,F.T=u}}r.current=s,ln=2}}function D2(){if(ln===2){ln=0;var r=jr,s=Fo,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var g=G.p;G.p=2;var T=vt;vt|=4;try{$S(r,s.alternate,s)}finally{vt=T,G.p=g,F.T=u}}ln=3}}function T2(){if(ln===4||ln===3){ln=0,Re();var r=jr,s=Fo,u=dr,g=c2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,Fo=jr=null,w2(r,r.pendingLanes));var T=r.pendingLanes;if(T===0&&(Hr=null),Ld(u),s=s.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Ge,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=F.T,T=G.p,G.p=2,F.T=null;try{for(var O=r.onRecoverableError,z=0;z<g.length;z++){var j=g[z];O(j.value,{componentStack:j.stack})}}finally{F.T=s,G.p=T}}(dr&3)!==0&&Iu(),Fi(r),T=r.pendingLanes,(u&261930)!==0&&(T&42)!==0?r===df?$s++:($s=0,df=r):$s=0,Ks(0)}}function w2(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Is(s)))}function Iu(){return C2(),D2(),T2(),x2()}function x2(){if(ln!==5)return!1;var r=jr,s=cf;cf=0;var u=Ld(dr),g=F.T,T=G.p;try{G.p=32>u?32:u,F.T=null,u=uf,uf=null;var O=jr,z=dr;if(ln=0,Fo=jr=null,dr=0,(vt&6)!==0)throw Error(i(331));var j=vt;if(vt|=4,o2(O.current),i2(O,O.current,z,u),vt=j,Ks(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Ge,O)}catch{}return!0}finally{G.p=T,F.T=g,w2(r,s)}}function A2(r,s,u){s=ni(u,s),s=zh(r.stateNode,s,2),r=qr(r,s,2),r!==null&&(Ss(r,2),Fi(r))}function xt(r,s,u){if(r.tag===3)A2(r,r,u);else for(;s!==null;){if(s.tag===3){A2(s,r,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g))){r=ni(u,r),u=RS(2),g=qr(s,u,2),g!==null&&(OS(u,g,s,r),Ss(g,2),Fi(g));break}}s=s.return}}function gf(r,s,u){var g=r.pingCache;if(g===null){g=r.pingCache=new iD;var T=new Set;g.set(s,T)}else T=g.get(s),T===void 0&&(T=new Set,g.set(s,T));T.has(u)||(of=!0,T.add(u),r=lD.bind(null,r,s,u),s.then(r,r))}function lD(r,s,u){var g=r.pingCache;g!==null&&g.delete(s),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,_t===r&&(ct&u)===u&&(Ht===4||Ht===3&&(ct&62914560)===ct&&300>Pe()-xu?(vt&2)===0&&Uo(r,0):sf|=u,Mo===ct&&(Mo=0)),Fi(r)}function R2(r,s){s===0&&(s=Cp()),r=va(r,s),r!==null&&(Ss(r,s),Fi(r))}function cD(r){var s=r.memoizedState,u=0;s!==null&&(u=s.retryLane),R2(r,u)}function uD(r,s){var u=0;switch(r.tag){case 31:case 13:var g=r.stateNode,T=r.memoizedState;T!==null&&(u=T.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(s),R2(r,u)}function dD(r,s){return ye(r,s)}var Eu=null,No=null,pf=!1,_u=!1,mf=!1,Xr=0;function Fi(r){r!==No&&r.next===null&&(No===null?Eu=No=r:No=No.next=r),_u=!0,pf||(pf=!0,fD())}function Ks(r,s){if(!mf&&_u){mf=!0;do for(var u=!1,g=Eu;g!==null;){if(r!==0){var T=g.pendingLanes;if(T===0)var O=0;else{var z=g.suspendedLanes,j=g.pingedLanes;O=(1<<31-je(42|r)+1)-1,O&=T&~(z&~j),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(u=!0,I2(g,O))}else O=ct,O=Lr(g,g===_t?O:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(O&3)===0||Ii(g,O)||(u=!0,I2(g,O));g=g.next}while(u);mf=!1}}function hD(){O2()}function O2(){_u=pf=!1;var r=0;Xr!==0&&TD()&&(r=Xr);for(var s=Pe(),u=null,g=Eu;g!==null;){var T=g.next,O=P2(g,s);O===0?(g.next=null,u===null?Eu=T:u.next=T,T===null&&(No=u)):(u=g,(r!==0||(O&3)!==0)&&(_u=!0)),g=T}ln!==0&&ln!==5||Ks(r),Xr!==0&&(Xr=0)}function P2(r,s){for(var u=r.suspendedLanes,g=r.pingedLanes,T=r.expirationTimes,O=r.pendingLanes&-62914561;0<O;){var z=31-je(O),j=1<<z,ie=T[z];ie===-1?((j&u)===0||(j&g)!==0)&&(T[z]=gi(j,s)):ie<=s&&(r.expiredLanes|=j),O&=~j}if(s=_t,u=ct,u=Lr(r,r===s?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,u===0||r===s&&(wt===2||wt===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&Ce(g),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ii(r,u)){if(s=u&-u,s===r.callbackPriority)return s;switch(g!==null&&Ce(g),Ld(u)){case 2:case 8:u=Ie;break;case 32:u=_e;break;case 268435456:u=qe;break;default:u=_e}return g=L2.bind(null,r),u=ye(u,g),r.callbackPriority=s,r.callbackNode=u,s}return g!==null&&g!==null&&Ce(g),r.callbackPriority=2,r.callbackNode=null,2}function L2(r,s){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Iu()&&r.callbackNode!==u)return null;var g=ct;return g=Lr(r,r===_t?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(d2(r,g,s),P2(r,Pe()),r.callbackNode!=null&&r.callbackNode===u?L2.bind(null,r):null)}function I2(r,s){if(Iu())return null;d2(r,s,!0)}function fD(){xD(function(){(vt&6)!==0?ye(pe,hD):O2()})}function Sf(){if(Xr===0){var r=To;r===0&&(r=Li,Li<<=1,(Li&261888)===0&&(Li=256)),Xr=r}return Xr}function E2(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Gc(""+r)}function _2(r,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,r.id&&u.setAttribute("form",r.id),s.parentNode.insertBefore(u,s),r=new FormData(r),u.parentNode.removeChild(u),r}function gD(r,s,u,g,T){if(s==="submit"&&u&&u.stateNode===T){var O=E2((T[On]||null).action),z=g.submitter;z&&(s=(s=z[On]||null)?E2(s.formAction):z.getAttribute("formAction"),s!==null&&(O=s,z=null));var j=new Hc("action","action",null,g,T);r.push({event:j,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Xr!==0){var ie=z?_2(T,z):new FormData(T);Uh(u,{pending:!0,data:ie,method:T.method,action:O},null,ie)}}else typeof O=="function"&&(j.preventDefault(),ie=z?_2(T,z):new FormData(T),Uh(u,{pending:!0,data:ie,method:T.method,action:O},O,ie))},currentTarget:T}]})}}for(var yf=0;yf<Jd.length;yf++){var vf=Jd[yf],pD=vf.toLowerCase(),mD=vf[0].toUpperCase()+vf.slice(1);pi(pD,"on"+mD)}pi(um,"onAnimationEnd"),pi(dm,"onAnimationIteration"),pi(hm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(E6,"onTransitionRun"),pi(_6,"onTransitionStart"),pi(M6,"onTransitionCancel"),pi(fm,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zs));function M2(r,s){s=(s&4)!==0;for(var u=0;u<r.length;u++){var g=r[u],T=g.event;g=g.listeners;e:{var O=void 0;if(s)for(var z=g.length-1;0<=z;z--){var j=g[z],ie=j.instance,me=j.currentTarget;if(j=j.listener,ie!==O&&T.isPropagationStopped())break e;O=j,T.currentTarget=me;try{O(T)}catch(we){Xc(we)}T.currentTarget=null,O=ie}else for(z=0;z<g.length;z++){if(j=g[z],ie=j.instance,me=j.currentTarget,j=j.listener,ie!==O&&T.isPropagationStopped())break e;O=j,T.currentTarget=me;try{O(T)}catch(we){Xc(we)}T.currentTarget=null,O=ie}}}}function st(r,s){var u=s[Id];u===void 0&&(u=s[Id]=new Set);var g=r+"__bubble";u.has(g)||(F2(s,r,2,!1),u.add(g))}function bf(r,s,u){var g=0;s&&(g|=4),F2(u,r,g,s)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Cf(r){if(!r[Mu]){r[Mu]=!0,Op.forEach(function(u){u!=="selectionchange"&&(SD.has(u)||bf(u,!1,r),bf(u,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Mu]||(s[Mu]=!0,bf("selectionchange",!1,s))}}function F2(r,s,u,g){switch(uy(s)){case 2:var T=HD;break;case 8:T=jD;break;default:T=Uf}u=T.bind(null,s,u,r),T=void 0,!Bd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(T=!0),g?T!==void 0?r.addEventListener(s,u,{capture:!0,passive:T}):r.addEventListener(s,u,!0):T!==void 0?r.addEventListener(s,u,{passive:T}):r.addEventListener(s,u,!1)}function Df(r,s,u,g,T){var O=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var j=g.stateNode.containerInfo;if(j===T)break;if(z===4)for(z=g.return;z!==null;){var ie=z.tag;if((ie===3||ie===4)&&z.stateNode.containerInfo===T)return;z=z.return}for(;j!==null;){if(z=ao(j),z===null)return;if(ie=z.tag,ie===5||ie===6||ie===26||ie===27){g=O=z;continue e}j=j.parentNode}}g=g.return}Bp(function(){var me=O,we=Nd(u),Le=[];e:{var Se=gm.get(r);if(Se!==void 0){var be=Hc,Be=r;switch(r){case"keypress":if(Vc(u)===0)break e;case"keydown":case"keyup":be=u6;break;case"focusin":Be="focus",be=Qd;break;case"focusout":Be="blur",be=Qd;break;case"beforeblur":case"afterblur":be=Qd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Z3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=f6;break;case um:case dm:case hm:be=t6;break;case fm:be=p6;break;case"scroll":case"scrollend":be=$3;break;case"wheel":be=S6;break;case"copy":case"cut":case"paste":be=i6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Hp;break;case"toggle":case"beforetoggle":be=v6}var Ye=(s&4)!==0,Lt=!Ye&&(r==="scroll"||r==="scrollend"),ue=Ye?Se!==null?Se+"Capture":null:Se;Ye=[];for(var oe=me,ge;oe!==null;){var Oe=oe;if(ge=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||ge===null||ue===null||(Oe=bs(oe,ue),Oe!=null&&Ye.push(Js(oe,Oe,ge))),Lt)break;oe=oe.return}0<Ye.length&&(Se=new be(Se,Be,null,u,we),Le.push({event:Se,listeners:Ye}))}}if((s&7)===0){e:{if(Se=r==="mouseover"||r==="pointerover",be=r==="mouseout"||r==="pointerout",Se&&u!==kd&&(Be=u.relatedTarget||u.fromElement)&&(ao(Be)||Be[ro]))break e;if((be||Se)&&(Se=we.window===we?we:(Se=we.ownerDocument)?Se.defaultView||Se.parentWindow:window,be?(Be=u.relatedTarget||u.toElement,be=me,Be=Be?ao(Be):null,Be!==null&&(Lt=o(Be),Ye=Be.tag,Be!==Lt||Ye!==5&&Ye!==27&&Ye!==6)&&(Be=null)):(be=null,Be=me),be!==Be)){if(Ye=Vp,Oe="onMouseLeave",ue="onMouseEnter",oe="mouse",(r==="pointerout"||r==="pointerover")&&(Ye=Hp,Oe="onPointerLeave",ue="onPointerEnter",oe="pointer"),Lt=be==null?Se:vs(be),ge=Be==null?Se:vs(Be),Se=new Ye(Oe,oe+"leave",be,u,we),Se.target=Lt,Se.relatedTarget=ge,Oe=null,ao(we)===me&&(Ye=new Ye(ue,oe+"enter",Be,u,we),Ye.target=ge,Ye.relatedTarget=Lt,Oe=Ye),Lt=Oe,be&&Be)t:{for(Ye=yD,ue=be,oe=Be,ge=0,Oe=ue;Oe;Oe=Ye(Oe))ge++;Oe=0;for(var He=oe;He;He=Ye(He))Oe++;for(;0<ge-Oe;)ue=Ye(ue),ge--;for(;0<Oe-ge;)oe=Ye(oe),Oe--;for(;ge--;){if(ue===oe||oe!==null&&ue===oe.alternate){Ye=ue;break t}ue=Ye(ue),oe=Ye(oe)}Ye=null}else Ye=null;be!==null&&U2(Le,Se,be,Ye,!1),Be!==null&&Lt!==null&&U2(Le,Lt,Be,Ye,!0)}}e:{if(Se=me?vs(me):window,be=Se.nodeName&&Se.nodeName.toLowerCase(),be==="select"||be==="input"&&Se.type==="file")var mt=Jp;else if(Kp(Se))if(em)mt=P6;else{mt=R6;var Ve=A6}else be=Se.nodeName,!be||be.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?me&&Ud(me.elementType)&&(mt=Jp):mt=O6;if(mt&&(mt=mt(r,me))){Zp(Le,mt,u,we);break e}Ve&&Ve(r,Se,me),r==="focusout"&&me&&Se.type==="number"&&me.memoizedProps.value!=null&&Fd(Se,"number",Se.value)}switch(Ve=me?vs(me):window,r){case"focusin":(Kp(Ve)||Ve.contentEditable==="true")&&(po=Ve,$d=me,Os=null);break;case"focusout":Os=$d=po=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,lm(Le,u,we);break;case"selectionchange":if(I6)break;case"keydown":case"keyup":lm(Le,u,we)}var Je;if(jd)e:{switch(r){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else go?Wp(r,u)&&(ut="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(ut="onCompositionStart");ut&&(jp&&u.locale!=="ko"&&(go||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&go&&(Je=Gp()):(Er=we,Gd="value"in Er?Er.value:Er.textContent,go=!0)),Ve=Fu(me,ut),0<Ve.length&&(ut=new Qp(ut,r,null,u,we),Le.push({event:ut,listeners:Ve}),Je?ut.data=Je:(Je=$p(u),Je!==null&&(ut.data=Je)))),(Je=C6?D6(r,u):T6(r,u))&&(ut=Fu(me,"onBeforeInput"),0<ut.length&&(Ve=new Qp("onBeforeInput","beforeinput",null,u,we),Le.push({event:Ve,listeners:ut}),Ve.data=Je)),gD(Le,r,me,u,we)}M2(Le,s)})}function Js(r,s,u){return{instance:r,listener:s,currentTarget:u}}function Fu(r,s){for(var u=s+"Capture",g=[];r!==null;){var T=r,O=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=bs(r,u),T!=null&&g.unshift(Js(r,T,O)),T=bs(r,s),T!=null&&g.push(Js(r,T,O))),r.tag===3)return g;r=r.return}return[]}function yD(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function U2(r,s,u,g,T){for(var O=s._reactName,z=[];u!==null&&u!==g;){var j=u,ie=j.alternate,me=j.stateNode;if(j=j.tag,ie!==null&&ie===g)break;j!==5&&j!==26&&j!==27||me===null||(ie=me,T?(me=bs(u,O),me!=null&&z.unshift(Js(u,me,ie))):T||(me=bs(u,O),me!=null&&z.push(Js(u,me,ie)))),u=u.return}z.length!==0&&r.push({event:s,listeners:z})}var vD=/\r\n?/g,bD=/\u0000|\uFFFD/g;function k2(r){return(typeof r=="string"?r:""+r).replace(vD,`
`).replace(bD,"")}function N2(r,s){return s=k2(s),k2(r)===s}function Pt(r,s,u,g,T,O){switch(u){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||uo(r,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&uo(r,""+g);break;case"className":qc(r,"class",g);break;case"tabIndex":qc(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":qc(r,u,g);break;case"style":Np(r,g,O);break;case"data":if(s!=="object"){qc(r,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||u!=="href")){r.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(u);break}g=Gc(""+g),r.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(u==="formAction"?(s!=="input"&&Pt(r,s,"name",T.name,T,null),Pt(r,s,"formEncType",T.formEncType,T,null),Pt(r,s,"formMethod",T.formMethod,T,null),Pt(r,s,"formTarget",T.formTarget,T,null)):(Pt(r,s,"encType",T.encType,T,null),Pt(r,s,"method",T.method,T,null),Pt(r,s,"target",T.target,T,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(u);break}g=Gc(""+g),r.setAttribute(u,g);break;case"onClick":g!=null&&(r.onclick=$i);break;case"onScroll":g!=null&&st("scroll",r);break;case"onScrollEnd":g!=null&&st("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(u=g.__html,u!=null){if(T.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}u=Gc(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,""+g):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":g===!0?r.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(u,g):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(u,g):r.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(u):r.setAttribute(u,g);break;case"popover":st("beforetoggle",r),st("toggle",r),Nc(r,"popover",g);break;case"xlinkActuate":Wi(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Wi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Wi(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Wi(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Wi(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Wi(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Wi(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Nc(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=X3.get(u)||u,Nc(r,u,g))}}function Tf(r,s,u,g,T,O){switch(u){case"style":Np(r,g,O);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(u=g.__html,u!=null){if(T.children!=null)throw Error(i(60));r.innerHTML=u}}break;case"children":typeof g=="string"?uo(r,g):(typeof g=="number"||typeof g=="bigint")&&uo(r,""+g);break;case"onScroll":g!=null&&st("scroll",r);break;case"onScrollEnd":g!=null&&st("scrollend",r);break;case"onClick":g!=null&&(r.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pp.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(T=u.endsWith("Capture"),s=u.slice(2,T?u.length-7:void 0),O=r[On]||null,O=O!=null?O[u]:null,typeof O=="function"&&r.removeEventListener(s,O,T),typeof g=="function")){typeof O!="function"&&O!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(s,g,T);break e}u in r?r[u]=g:g===!0?r.setAttribute(u,""):Nc(r,u,g)}}}function yn(r,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",r),st("load",r);var g=!1,T=!1,O;for(O in u)if(u.hasOwnProperty(O)){var z=u[O];if(z!=null)switch(O){case"src":g=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Pt(r,s,O,z,u,null)}}T&&Pt(r,s,"srcSet",u.srcSet,u,null),g&&Pt(r,s,"src",u.src,u,null);return;case"input":st("invalid",r);var j=O=z=T=null,ie=null,me=null;for(g in u)if(u.hasOwnProperty(g)){var we=u[g];if(we!=null)switch(g){case"name":T=we;break;case"type":z=we;break;case"checked":ie=we;break;case"defaultChecked":me=we;break;case"value":O=we;break;case"defaultValue":j=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,s));break;default:Pt(r,s,g,we,u,null)}}Mp(r,O,j,ie,me,z,T,!1);return;case"select":st("invalid",r),g=z=O=null;for(T in u)if(u.hasOwnProperty(T)&&(j=u[T],j!=null))switch(T){case"value":O=j;break;case"defaultValue":z=j;break;case"multiple":g=j;default:Pt(r,s,T,j,u,null)}s=O,u=z,r.multiple=!!g,s!=null?co(r,!!g,s,!1):u!=null&&co(r,!!g,u,!0);return;case"textarea":st("invalid",r),O=T=g=null;for(z in u)if(u.hasOwnProperty(z)&&(j=u[z],j!=null))switch(z){case"value":g=j;break;case"defaultValue":T=j;break;case"children":O=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(i(91));break;default:Pt(r,s,z,j,u,null)}Up(r,g,T,O);return;case"option":for(ie in u)if(u.hasOwnProperty(ie)&&(g=u[ie],g!=null))switch(ie){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Pt(r,s,ie,g,u,null)}return;case"dialog":st("beforetoggle",r),st("toggle",r),st("cancel",r),st("close",r);break;case"iframe":case"object":st("load",r);break;case"video":case"audio":for(g=0;g<Zs.length;g++)st(Zs[g],r);break;case"image":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"embed":case"source":case"link":st("error",r),st("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in u)if(u.hasOwnProperty(me)&&(g=u[me],g!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Pt(r,s,me,g,u,null)}return;default:if(Ud(s)){for(we in u)u.hasOwnProperty(we)&&(g=u[we],g!==void 0&&Tf(r,s,we,g,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(g=u[j],g!=null&&Pt(r,s,j,g,u,null))}function CD(r,s,u,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,z=null,j=null,ie=null,me=null,we=null;for(be in u){var Le=u[be];if(u.hasOwnProperty(be)&&Le!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":ie=Le;default:g.hasOwnProperty(be)||Pt(r,s,be,null,g,Le)}}for(var Se in g){var be=g[Se];if(Le=u[Se],g.hasOwnProperty(Se)&&(be!=null||Le!=null))switch(Se){case"type":O=be;break;case"name":T=be;break;case"checked":me=be;break;case"defaultChecked":we=be;break;case"value":z=be;break;case"defaultValue":j=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(137,s));break;default:be!==Le&&Pt(r,s,Se,be,g,Le)}}Md(r,z,j,ie,me,we,O,T);return;case"select":be=z=j=Se=null;for(O in u)if(ie=u[O],u.hasOwnProperty(O)&&ie!=null)switch(O){case"value":break;case"multiple":be=ie;default:g.hasOwnProperty(O)||Pt(r,s,O,null,g,ie)}for(T in g)if(O=g[T],ie=u[T],g.hasOwnProperty(T)&&(O!=null||ie!=null))switch(T){case"value":Se=O;break;case"defaultValue":j=O;break;case"multiple":z=O;default:O!==ie&&Pt(r,s,T,O,g,ie)}s=j,u=z,g=be,Se!=null?co(r,!!u,Se,!1):!!g!=!!u&&(s!=null?co(r,!!u,s,!0):co(r,!!u,u?[]:"",!1));return;case"textarea":be=Se=null;for(j in u)if(T=u[j],u.hasOwnProperty(j)&&T!=null&&!g.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pt(r,s,j,null,g,T)}for(z in g)if(T=g[z],O=u[z],g.hasOwnProperty(z)&&(T!=null||O!=null))switch(z){case"value":Se=T;break;case"defaultValue":be=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==O&&Pt(r,s,z,T,g,O)}Fp(r,Se,be);return;case"option":for(var Be in u)if(Se=u[Be],u.hasOwnProperty(Be)&&Se!=null&&!g.hasOwnProperty(Be))switch(Be){case"selected":r.selected=!1;break;default:Pt(r,s,Be,null,g,Se)}for(ie in g)if(Se=g[ie],be=u[ie],g.hasOwnProperty(ie)&&Se!==be&&(Se!=null||be!=null))switch(ie){case"selected":r.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Pt(r,s,ie,Se,g,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in u)Se=u[Ye],u.hasOwnProperty(Ye)&&Se!=null&&!g.hasOwnProperty(Ye)&&Pt(r,s,Ye,null,g,Se);for(me in g)if(Se=g[me],be=u[me],g.hasOwnProperty(me)&&Se!==be&&(Se!=null||be!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,s));break;default:Pt(r,s,me,Se,g,be)}return;default:if(Ud(s)){for(var Lt in u)Se=u[Lt],u.hasOwnProperty(Lt)&&Se!==void 0&&!g.hasOwnProperty(Lt)&&Tf(r,s,Lt,void 0,g,Se);for(we in g)Se=g[we],be=u[we],!g.hasOwnProperty(we)||Se===be||Se===void 0&&be===void 0||Tf(r,s,we,Se,g,be);return}}for(var ue in u)Se=u[ue],u.hasOwnProperty(ue)&&Se!=null&&!g.hasOwnProperty(ue)&&Pt(r,s,ue,null,g,Se);for(Le in g)Se=g[Le],be=u[Le],!g.hasOwnProperty(Le)||Se===be||Se==null&&be==null||Pt(r,s,Le,Se,g,be)}function q2(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DD(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,u=performance.getEntriesByType("resource"),g=0;g<u.length;g++){var T=u[g],O=T.transferSize,z=T.initiatorType,j=T.duration;if(O&&j&&q2(z)){for(z=0,j=T.responseEnd,g+=1;g<u.length;g++){var ie=u[g],me=ie.startTime;if(me>j)break;var we=ie.transferSize,Le=ie.initiatorType;we&&q2(Le)&&(ie=ie.responseEnd,z+=we*(ie<j?1:(j-me)/(ie-me)))}if(--g,s+=8*(O+z)/(T.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var wf=null,xf=null;function Uu(r){return r.nodeType===9?r:r.ownerDocument}function B2(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G2(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Af(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rf=null;function TD(){var r=window.event;return r&&r.type==="popstate"?r===Rf?!1:(Rf=r,!0):(Rf=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,wD=typeof clearTimeout=="function"?clearTimeout:void 0,V2=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof V2<"u"?function(r){return V2.resolve(null).then(r).catch(AD)}:z2;function AD(r){setTimeout(function(){throw r})}function Wr(r){return r==="head"}function Q2(r,s){var u=s,g=0;do{var T=u.nextSibling;if(r.removeChild(u),T&&T.nodeType===8)if(u=T.data,u==="/$"||u==="/&"){if(g===0){r.removeChild(T),zo(s);return}g--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")g++;else if(u==="html")el(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,el(u);for(var O=u.firstChild;O;){var z=O.nextSibling,j=O.nodeName;O[ys]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=z}}else u==="body"&&el(r.ownerDocument.body);u=T}while(u);zo(s)}function H2(r,s){var u=r;r=0;do{var g=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=g}while(u)}function Of(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Of(u),Ed(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function RD(r,s,u,g){for(;r.nodeType===1;){var T=u;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[ys])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(O=r.getAttribute("rel"),O==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(O!==T.rel||r.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||r.getAttribute("title")!==(T.title==null?null:T.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(O=r.getAttribute("src"),(O!==(T.src==null?null:T.src)||r.getAttribute("type")!==(T.type==null?null:T.type)||r.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&r.getAttribute("name")===O)return r}else return r;if(r=si(r.nextSibling),r===null)break}return null}function OD(r,s,u){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=si(r.nextSibling),r===null))return null;return r}function j2(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=si(r.nextSibling),r===null))return null;return r}function Pf(r){return r.data==="$?"||r.data==="$~"}function Lf(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function PD(r,s){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||u.readyState!=="loading")s();else{var g=function(){s(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function si(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var If=null;function Y2(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(s===0)return si(r.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}r=r.nextSibling}return null}function X2(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return r;s--}else u!=="/$"&&u!=="/&"||s++}r=r.previousSibling}return null}function W2(r,s,u){switch(s=Uu(u),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function el(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ed(r)}var li=new Map,$2=new Set;function ku(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hr=G.d;G.d={f:LD,r:ID,D:ED,C:_D,L:MD,m:FD,X:kD,S:UD,M:ND};function LD(){var r=hr.f(),s=Ou();return r||s}function ID(r){var s=oo(r);s!==null&&s.tag===5&&s.type==="form"?fS(s):hr.r(r)}var qo=typeof document>"u"?null:document;function K2(r,s,u){var g=qo;if(g&&typeof s=="string"&&s){var T=ei(s);T='link[rel="'+r+'"][href="'+T+'"]',typeof u=="string"&&(T+='[crossorigin="'+u+'"]'),$2.has(T)||($2.add(T),r={rel:r,crossOrigin:u,href:s},g.querySelector(T)===null&&(s=g.createElement("link"),yn(s,"link",r),un(s),g.head.appendChild(s)))}}function ED(r){hr.D(r),K2("dns-prefetch",r,null)}function _D(r,s){hr.C(r,s),K2("preconnect",r,s)}function MD(r,s,u){hr.L(r,s,u);var g=qo;if(g&&r&&s){var T='link[rel="preload"][as="'+ei(s)+'"]';s==="image"&&u&&u.imageSrcSet?(T+='[imagesrcset="'+ei(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(T+='[imagesizes="'+ei(u.imageSizes)+'"]')):T+='[href="'+ei(r)+'"]';var O=T;switch(s){case"style":O=Bo(r);break;case"script":O=Go(r)}li.has(O)||(r=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:r,as:s},u),li.set(O,r),g.querySelector(T)!==null||s==="style"&&g.querySelector(tl(O))||s==="script"&&g.querySelector(nl(O))||(s=g.createElement("link"),yn(s,"link",r),un(s),g.head.appendChild(s)))}}function FD(r,s){hr.m(r,s);var u=qo;if(u&&r){var g=s&&typeof s.as=="string"?s.as:"script",T='link[rel="modulepreload"][as="'+ei(g)+'"][href="'+ei(r)+'"]',O=T;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=Go(r)}if(!li.has(O)&&(r=m({rel:"modulepreload",href:r},s),li.set(O,r),u.querySelector(T)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(nl(O)))return}g=u.createElement("link"),yn(g,"link",r),un(g),u.head.appendChild(g)}}}function UD(r,s,u){hr.S(r,s,u);var g=qo;if(g&&r){var T=so(g).hoistableStyles,O=Bo(r);s=s||"default";var z=T.get(O);if(!z){var j={loading:0,preload:null};if(z=g.querySelector(tl(O)))j.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":s},u),(u=li.get(O))&&Ef(r,u);var ie=z=g.createElement("link");un(ie),yn(ie,"link",r),ie._p=new Promise(function(me,we){ie.onload=me,ie.onerror=we}),ie.addEventListener("load",function(){j.loading|=1}),ie.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Nu(z,s,g)}z={type:"stylesheet",instance:z,count:1,state:j},T.set(O,z)}}}function kD(r,s){hr.X(r,s);var u=qo;if(u&&r){var g=so(u).hoistableScripts,T=Go(r),O=g.get(T);O||(O=u.querySelector(nl(T)),O||(r=m({src:r,async:!0},s),(s=li.get(T))&&_f(r,s),O=u.createElement("script"),un(O),yn(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},g.set(T,O))}}function ND(r,s){hr.M(r,s);var u=qo;if(u&&r){var g=so(u).hoistableScripts,T=Go(r),O=g.get(T);O||(O=u.querySelector(nl(T)),O||(r=m({src:r,async:!0,type:"module"},s),(s=li.get(T))&&_f(r,s),O=u.createElement("script"),un(O),yn(O,"link",r),u.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},g.set(T,O))}}function Z2(r,s,u,g){var T=(T=ce.current)?ku(T):null;if(!T)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Bo(u.href),u=so(T).hoistableStyles,g=u.get(s),g||(g={type:"style",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Bo(u.href);var O=so(T).hoistableStyles,z=O.get(r);if(z||(T=T.ownerDocument||T,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(r,z),(O=T.querySelector(tl(r)))&&!O._p&&(z.instance=O,z.state.loading=5),li.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},li.set(r,u),O||qD(T,r,u,z.state))),s&&g===null)throw Error(i(528,""));return z}if(s&&g!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Go(u),u=so(T).hoistableScripts,g=u.get(s),g||(g={type:"script",instance:null,count:0,state:null},u.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Bo(r){return'href="'+ei(r)+'"'}function tl(r){return'link[rel="stylesheet"]['+r+"]"}function J2(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function qD(r,s,u,g){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=r.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),yn(s,"link",u),un(s),r.head.appendChild(s))}function Go(r){return'[src="'+ei(r)+'"]'}function nl(r){return"script[async]"+r}function ey(r,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var g=r.querySelector('style[data-href~="'+ei(u.href)+'"]');if(g)return s.instance=g,un(g),g;var T=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),un(g),yn(g,"style",T),Nu(g,u.precedence,r),s.instance=g;case"stylesheet":T=Bo(u.href);var O=r.querySelector(tl(T));if(O)return s.state.loading|=4,s.instance=O,un(O),O;g=J2(u),(T=li.get(T))&&Ef(g,T),O=(r.ownerDocument||r).createElement("link"),un(O);var z=O;return z._p=new Promise(function(j,ie){z.onload=j,z.onerror=ie}),yn(O,"link",g),s.state.loading|=4,Nu(O,u.precedence,r),s.instance=O;case"script":return O=Go(u.src),(T=r.querySelector(nl(O)))?(s.instance=T,un(T),T):(g=u,(T=li.get(O))&&(g=m({},u),_f(g,T)),r=r.ownerDocument||r,T=r.createElement("script"),un(T),yn(T,"link",g),r.head.appendChild(T),s.instance=T);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Nu(g,u.precedence,r));return s.instance}function Nu(r,s,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=g.length?g[g.length-1]:null,O=T,z=0;z<g.length;z++){var j=g[z];if(j.dataset.precedence===s)O=j;else if(O!==T)break}O?O.parentNode.insertBefore(r,O.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(r,s.firstChild))}function Ef(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _f(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var qu=null;function ty(r,s,u){if(qu===null){var g=new Map,T=qu=new Map;T.set(u,g)}else T=qu,g=T.get(u),g||(g=new Map,T.set(u,g));if(g.has(r))return g;for(g.set(r,null),u=u.getElementsByTagName(r),T=0;T<u.length;T++){var O=u[T];if(!(O[ys]||O[gn]||r==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var z=O.getAttribute(s)||"";z=r+z;var j=g.get(z);j?j.push(O):g.set(z,[O])}}return g}function ny(r,s,u){r=r.ownerDocument||r,r.head.insertBefore(u,s==="title"?r.querySelector("head > title"):null)}function BD(r,s,u){if(u===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function iy(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function GD(r,s,u,g){if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var T=Bo(g.href),O=s.querySelector(tl(T));if(O){s=O._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Bu.bind(r),s.then(r,r)),u.state.loading|=4,u.instance=O,un(O);return}O=s.ownerDocument||s,g=J2(g),(T=li.get(T))&&Ef(g,T),O=O.createElement("link"),un(O);var z=O;z._p=new Promise(function(j,ie){z.onload=j,z.onerror=ie}),yn(O,"link",g),u.instance=O}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=Bu.bind(r),s.addEventListener("load",u),s.addEventListener("error",u))}}var Mf=0;function zD(r,s){return r.stylesheets&&r.count===0&&zu(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var g=setTimeout(function(){if(r.stylesheets&&zu(r,r.stylesheets),r.unsuspend){var O=r.unsuspend;r.unsuspend=null,O()}},6e4+s);0<r.imgBytes&&Mf===0&&(Mf=62500*DD());var T=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&zu(r,r.stylesheets),r.unsuspend)){var O=r.unsuspend;r.unsuspend=null,O()}},(r.imgBytes>Mf?50:800)+s);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(g),clearTimeout(T)}}:null}function Bu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Gu=null;function zu(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Gu=new Map,s.forEach(VD,r),Gu=null,Bu.call(r))}function VD(r,s){if(!(s.state.loading&4)){var u=Gu.get(r);if(u)var g=u.get(null);else{u=new Map,Gu.set(r,u);for(var T=r.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var z=T[O];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(u.set(z.dataset.precedence,z),g=z)}g&&u.set(null,g)}T=s.instance,z=T.getAttribute("data-precedence"),O=u.get(z)||g,O===g&&u.set(null,T),u.set(z,T),this.count++,g=Bu.bind(this),T.addEventListener("load",g),T.addEventListener("error",g),O?O.parentNode.insertBefore(T,O.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(T,r.firstChild)),s.state.loading|=4}}var il={$$typeof:C,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function QD(r,s,u,g,T,O,z,j,ie){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.hiddenUpdates=Od(null),this.identifierPrefix=g,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function ry(r,s,u,g,T,O,z,j,ie,me,we,Le){return r=new QD(r,s,u,z,ie,me,we,Le,j),s=1,O===!0&&(s|=24),O=Vn(3,null,null,s),r.current=O,O.stateNode=r,s=hh(),s.refCount++,r.pooledCache=s,s.refCount++,O.memoizedState={element:g,isDehydrated:u,cache:s},mh(O),r}function ay(r){return r?(r=yo,r):yo}function oy(r,s,u,g,T,O){T=ay(T),g.context===null?g.context=T:g.pendingContext=T,g=Nr(s),g.payload={element:u},O=O===void 0?null:O,O!==null&&(g.callback=O),u=qr(r,g,s),u!==null&&(Mn(u,r,s),Fs(u,r,s))}function sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<s?u:s}}function Ff(r,s){sy(r,s),(r=r.alternate)&&sy(r,s)}function ly(r){if(r.tag===13||r.tag===31){var s=va(r,67108864);s!==null&&Mn(s,r,67108864),Ff(r,67108864)}}function cy(r){if(r.tag===13||r.tag===31){var s=Xn();s=Pd(s);var u=va(r,s);u!==null&&Mn(u,r,s),Ff(r,s)}}var Vu=!0;function HD(r,s,u,g){var T=F.T;F.T=null;var O=G.p;try{G.p=2,Uf(r,s,u,g)}finally{G.p=O,F.T=T}}function jD(r,s,u,g){var T=F.T;F.T=null;var O=G.p;try{G.p=8,Uf(r,s,u,g)}finally{G.p=O,F.T=T}}function Uf(r,s,u,g){if(Vu){var T=kf(g);if(T===null)Df(r,s,g,Qu,u),dy(r,g);else if(XD(T,r,s,u,g))g.stopPropagation();else if(dy(r,g),s&4&&-1<YD.indexOf(r)){for(;T!==null;){var O=oo(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var z=Dt(O.pendingLanes);if(z!==0){var j=O;for(j.pendingLanes|=2,j.entangledLanes|=2;z;){var ie=1<<31-je(z);j.entanglements[1]|=ie,z&=~ie}Fi(O),(vt&6)===0&&(Au=Pe()+500,Ks(0))}}break;case 31:case 13:j=va(O,2),j!==null&&Mn(j,O,2),Ou(),Ff(O,2)}if(O=kf(g),O===null&&Df(r,s,g,Qu,u),O===T)break;T=O}T!==null&&g.stopPropagation()}else Df(r,s,g,null,u)}}function kf(r){return r=Nd(r),Nf(r)}var Qu=null;function Nf(r){if(Qu=null,r=ao(r),r!==null){var s=o(r);if(s===null)r=null;else{var u=s.tag;if(u===13){if(r=l(s),r!==null)return r;r=null}else if(u===31){if(r=c(s),r!==null)return r;r=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Qu=r,null}function uy(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fe()){case pe:return 2;case Ie:return 8;case _e:case ke:return 32;case qe:return 268435456;default:return 32}default:return 32}}var qf=!1,$r=null,Kr=null,Zr=null,rl=new Map,al=new Map,Jr=[],YD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dy(r,s){switch(r){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":rl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(s.pointerId)}}function ol(r,s,u,g,T,O){return r===null||r.nativeEvent!==O?(r={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:O,targetContainers:[T]},s!==null&&(s=oo(s),s!==null&&ly(s)),r):(r.eventSystemFlags|=g,s=r.targetContainers,T!==null&&s.indexOf(T)===-1&&s.push(T),r)}function XD(r,s,u,g,T){switch(s){case"focusin":return $r=ol($r,r,s,u,g,T),!0;case"dragenter":return Kr=ol(Kr,r,s,u,g,T),!0;case"mouseover":return Zr=ol(Zr,r,s,u,g,T),!0;case"pointerover":var O=T.pointerId;return rl.set(O,ol(rl.get(O)||null,r,s,u,g,T)),!0;case"gotpointercapture":return O=T.pointerId,al.set(O,ol(al.get(O)||null,r,s,u,g,T)),!0}return!1}function hy(r){var s=ao(r.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){r.blockedOn=s,Ap(r.priority,function(){cy(u)});return}}else if(s===31){if(s=c(u),s!==null){r.blockedOn=s,Ap(r.priority,function(){cy(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hu(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var u=kf(r.nativeEvent);if(u===null){u=r.nativeEvent;var g=new u.constructor(u.type,u);kd=g,u.target.dispatchEvent(g),kd=null}else return s=oo(u),s!==null&&ly(s),r.blockedOn=u,!1;s.shift()}return!0}function fy(r,s,u){Hu(r)&&u.delete(s)}function WD(){qf=!1,$r!==null&&Hu($r)&&($r=null),Kr!==null&&Hu(Kr)&&(Kr=null),Zr!==null&&Hu(Zr)&&(Zr=null),rl.forEach(fy),al.forEach(fy)}function ju(r,s){r.blockedOn===s&&(r.blockedOn=null,qf||(qf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,WD)))}var Yu=null;function gy(r){Yu!==r&&(Yu=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yu===r&&(Yu=null);for(var s=0;s<r.length;s+=3){var u=r[s],g=r[s+1],T=r[s+2];if(typeof g!="function"){if(Nf(g||u)===null)continue;break}var O=oo(u);O!==null&&(r.splice(s,3),s-=3,Uh(O,{pending:!0,data:T,method:u.method,action:g},g,T))}}))}function zo(r){function s(ie){return ju(ie,r)}$r!==null&&ju($r,r),Kr!==null&&ju(Kr,r),Zr!==null&&ju(Zr,r),rl.forEach(s),al.forEach(s);for(var u=0;u<Jr.length;u++){var g=Jr[u];g.blockedOn===r&&(g.blockedOn=null)}for(;0<Jr.length&&(u=Jr[0],u.blockedOn===null);)hy(u),u.blockedOn===null&&Jr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var T=u[g],O=u[g+1],z=T[On]||null;if(typeof O=="function")z||gy(u);else if(z){var j=null;if(O&&O.hasAttribute("formAction")){if(T=O,z=O[On]||null)j=z.formAction;else if(Nf(T)!==null)continue}else j=z.action;typeof j=="function"?u[g+1]=j:(u.splice(g,3),g-=3),gy(u)}}}function py(){function r(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(z){return T=z})},focusReset:"manual",scroll:"manual"})}function s(){T!==null&&(T(),T=null),g||setTimeout(u,20)}function u(){if(!g&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,T=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){g=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),T!==null&&(T(),T=null)}}}function Bf(r){this._internalRoot=r}Xu.prototype.render=Bf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,g=Xn();oy(u,g,r,s,null,null)},Xu.prototype.unmount=Bf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;oy(r.current,2,null,r,null,null),Ou(),s[ro]=null}};function Xu(r){this._internalRoot=r}Xu.prototype.unstable_scheduleHydration=function(r){if(r){var s=xp();r={blockedOn:null,target:r,priority:s};for(var u=0;u<Jr.length&&s!==0&&s<Jr[u].priority;u++);Jr.splice(u,0,r),u===0&&hy(r)}};var my=e.version;if(my!=="19.2.0")throw Error(i(527,my,"19.2.0"));G.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var $D={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Ge=Wu.inject($D),We=Wu}catch{}}return ll.createRoot=function(r,s){if(!a(r))throw Error(i(299));var u=!1,g="",T=TS,O=wS,z=xS;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(T=s.onUncaughtError),s.onCaughtError!==void 0&&(O=s.onCaughtError),s.onRecoverableError!==void 0&&(z=s.onRecoverableError)),s=ry(r,1,!1,null,null,u,g,null,T,O,z,py),r[ro]=s.current,Cf(r),new Bf(s)},ll.hydrateRoot=function(r,s,u){if(!a(r))throw Error(i(299));var g=!1,T="",O=TS,z=wS,j=xS,ie=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(T=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(z=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.formState!==void 0&&(ie=u.formState)),s=ry(r,1,!0,s,u??null,g,T,ie,O,z,j,py),s.context=ay(null),u=s.current,g=Xn(),g=Pd(g),T=Nr(g),T.callback=null,qr(u,T,g),u=g,s.current.lanes=u,Ss(s,u),Fi(s),r[ro]=s.current,Cf(r),new Xu(s)},ll.version="19.2.0",ll}var Ay;function o8(){if(Ay)return Vf.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=a8(),Vf.exports}var s8=o8();const bc={black:"#000",white:"#fff"},Vo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},l8={500:"#e91e63"},Qo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},c8={500:"#3f51b5"},Ho={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},jo={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Yo={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},cl={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},u8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rr(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}const wi="$$material";function q0(){return q0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},q0.apply(null,arguments)}function d8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function h8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var f8=function(){function n(t){var i=this;this._insertTag=function(a){var o;i.tags.length===0?i.insertionPoint?o=i.insertionPoint.nextSibling:i.prepend?o=i.container.firstChild:o=i.before:o=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,o),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(h8(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var o=d8(a);try{o.insertRule(i,o.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var a;return(a=i.parentNode)==null?void 0:a.removeChild(i)}),this.tags=[],this.ctr=0},n}(),wn="-ms-",B0="-moz-",bt="-webkit-",HC="comm",Ag="rule",Rg="decl",g8="@import",jC="@keyframes",p8="@layer",m8=Math.abs,ed=String.fromCharCode,S8=Object.assign;function y8(n,e){return bn(n,0)^45?(((e<<2^bn(n,0))<<2^bn(n,1))<<2^bn(n,2))<<2^bn(n,3):0}function YC(n){return n.trim()}function v8(n,e){return(n=e.exec(n))?n[0]:n}function Ct(n,e,t){return n.replace(e,t)}function q1(n,e){return n.indexOf(e)}function bn(n,e){return n.charCodeAt(e)|0}function Cc(n,e,t){return n.slice(e,t)}function Bi(n){return n.length}function Og(n){return n.length}function $u(n,e){return e.push(n),n}function b8(n,e){return n.map(e).join("")}var td=1,as=1,XC=0,Gn=0,sn=0,hs="";function nd(n,e,t,i,a,o,l){return{value:n,root:e,parent:t,type:i,props:a,children:o,line:td,column:as,length:l,return:""}}function ul(n,e){return S8(nd("",null,null,"",null,null,0),n,{length:-n.length},e)}function C8(){return sn}function D8(){return sn=Gn>0?bn(hs,--Gn):0,as--,sn===10&&(as=1,td--),sn}function $n(){return sn=Gn<XC?bn(hs,Gn++):0,as++,sn===10&&(as=1,td++),sn}function Hi(){return bn(hs,Gn)}function A0(){return Gn}function Lc(n,e){return Cc(hs,n,e)}function Dc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WC(n){return td=as=1,XC=Bi(hs=n),Gn=0,[]}function $C(n){return hs="",n}function R0(n){return YC(Lc(Gn-1,B1(n===91?n+2:n===40?n+1:n)))}function T8(n){for(;(sn=Hi())&&sn<33;)$n();return Dc(n)>2||Dc(sn)>3?"":" "}function w8(n,e){for(;--e&&$n()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Lc(n,A0()+(e<6&&Hi()==32&&$n()==32))}function B1(n){for(;$n();)switch(sn){case n:return Gn;case 34:case 39:n!==34&&n!==39&&B1(sn);break;case 40:n===41&&B1(n);break;case 92:$n();break}return Gn}function x8(n,e){for(;$n()&&n+sn!==57;)if(n+sn===84&&Hi()===47)break;return"/*"+Lc(e,Gn-1)+"*"+ed(n===47?n:$n())}function A8(n){for(;!Dc(Hi());)$n();return Lc(n,Gn)}function R8(n){return $C(O0("",null,null,null,[""],n=WC(n),0,[0],n))}function O0(n,e,t,i,a,o,l,c,d){for(var h=0,f=0,m=l,v=0,p=0,S=0,y=1,b=1,w=1,D=0,C="",x=a,R=o,I=i,k=C;b;)switch(S=D,D=$n()){case 40:if(S!=108&&bn(k,m-1)==58){q1(k+=Ct(R0(D),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=R0(D);break;case 9:case 10:case 13:case 32:k+=T8(S);break;case 92:k+=w8(A0()-1,7);continue;case 47:switch(Hi()){case 42:case 47:$u(O8(x8($n(),A0()),e,t),d);break;default:k+="/"}break;case 123*y:c[h++]=Bi(k)*w;case 125*y:case 59:case 0:switch(D){case 0:case 125:b=0;case 59+f:w==-1&&(k=Ct(k,/\f/g,"")),p>0&&Bi(k)-m&&$u(p>32?Oy(k+";",i,t,m-1):Oy(Ct(k," ","")+";",i,t,m-2),d);break;case 59:k+=";";default:if($u(I=Ry(k,e,t,h,f,a,c,C,x=[],R=[],m),o),D===123)if(f===0)O0(k,e,I,I,x,o,m,c,R);else switch(v===99&&bn(k,3)===110?100:v){case 100:case 108:case 109:case 115:O0(n,I,I,i&&$u(Ry(n,I,I,0,0,a,c,C,a,x=[],m),R),a,R,m,c,i?x:R);break;default:O0(k,I,I,I,[""],R,0,c,R)}}h=f=p=0,y=w=1,C=k="",m=l;break;case 58:m=1+Bi(k),p=S;default:if(y<1){if(D==123)--y;else if(D==125&&y++==0&&D8()==125)continue}switch(k+=ed(D),D*y){case 38:w=f>0?1:(k+="\f",-1);break;case 44:c[h++]=(Bi(k)-1)*w,w=1;break;case 64:Hi()===45&&(k+=R0($n())),v=Hi(),f=m=Bi(C=k+=A8(A0())),D++;break;case 45:S===45&&Bi(k)==2&&(y=0)}}return o}function Ry(n,e,t,i,a,o,l,c,d,h,f){for(var m=a-1,v=a===0?o:[""],p=Og(v),S=0,y=0,b=0;S<i;++S)for(var w=0,D=Cc(n,m+1,m=m8(y=l[S])),C=n;w<p;++w)(C=YC(y>0?v[w]+" "+D:Ct(D,/&\f/g,v[w])))&&(d[b++]=C);return nd(n,e,t,a===0?Ag:c,d,h,f)}function O8(n,e,t){return nd(n,e,t,HC,ed(C8()),Cc(n,2,-2),0)}function Oy(n,e,t,i){return nd(n,e,t,Rg,Cc(n,0,i),Cc(n,i+1,-1),i)}function ns(n,e){for(var t="",i=Og(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function P8(n,e,t,i){switch(n.type){case p8:if(n.children.length)break;case g8:case Rg:return n.return=n.return||n.value;case HC:return"";case jC:return n.return=n.value+"{"+ns(n.children,i)+"}";case Ag:n.value=n.props.join(",")}return Bi(t=ns(n.children,i))?n.return=n.value+"{"+t+"}":""}function L8(n){var e=Og(n);return function(t,i,a,o){for(var l="",c=0;c<e;c++)l+=n[c](t,i,a,o)||"";return l}}function I8(n){return function(e){e.root||(e=e.return)&&n(e)}}function KC(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var E8=function(e,t,i){for(var a=0,o=0;a=o,o=Hi(),a===38&&o===12&&(t[i]=1),!Dc(o);)$n();return Lc(e,Gn)},_8=function(e,t){var i=-1,a=44;do switch(Dc(a)){case 0:a===38&&Hi()===12&&(t[i]=1),e[i]+=E8(Gn-1,t,i);break;case 2:e[i]+=R0(a);break;case 4:if(a===44){e[++i]=Hi()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=ed(a)}while(a=$n());return e},M8=function(e,t){return $C(_8(WC(e),t))},Py=new WeakMap,F8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Py.get(i))&&!a){Py.set(e,!0);for(var o=[],l=M8(t,o),c=i.props,d=0,h=0;d<l.length;d++)for(var f=0;f<c.length;f++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,c[f]):c[f]+" "+l[d]}}},U8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZC(n,e){switch(y8(n,e)){case 5103:return bt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return bt+n+B0+n+wn+n+n;case 6828:case 4268:return bt+n+wn+n+n;case 6165:return bt+n+wn+"flex-"+n+n;case 5187:return bt+n+Ct(n,/(\w+).+(:[^]+)/,bt+"box-$1$2"+wn+"flex-$1$2")+n;case 5443:return bt+n+wn+"flex-item-"+Ct(n,/flex-|-self/,"")+n;case 4675:return bt+n+wn+"flex-line-pack"+Ct(n,/align-content|flex-|-self/,"")+n;case 5548:return bt+n+wn+Ct(n,"shrink","negative")+n;case 5292:return bt+n+wn+Ct(n,"basis","preferred-size")+n;case 6060:return bt+"box-"+Ct(n,"-grow","")+bt+n+wn+Ct(n,"grow","positive")+n;case 4554:return bt+Ct(n,/([^-])(transform)/g,"$1"+bt+"$2")+n;case 6187:return Ct(Ct(Ct(n,/(zoom-|grab)/,bt+"$1"),/(image-set)/,bt+"$1"),n,"")+n;case 5495:case 3959:return Ct(n,/(image-set\([^]*)/,bt+"$1$`$1");case 4968:return Ct(Ct(n,/(.+:)(flex-)?(.*)/,bt+"box-pack:$3"+wn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bt+n+n;case 4095:case 3583:case 4068:case 2532:return Ct(n,/(.+)-inline(.+)/,bt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bi(n)-1-e>6)switch(bn(n,e+1)){case 109:if(bn(n,e+4)!==45)break;case 102:return Ct(n,/(.+:)(.+)-([^]+)/,"$1"+bt+"$2-$3$1"+B0+(bn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~q1(n,"stretch")?ZC(Ct(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(bn(n,e+1)!==115)break;case 6444:switch(bn(n,Bi(n)-3-(~q1(n,"!important")&&10))){case 107:return Ct(n,":",":"+bt)+n;case 101:return Ct(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+bt+(bn(n,14)===45?"inline-":"")+"box$3$1"+bt+"$2$3$1"+wn+"$2box$3")+n}break;case 5936:switch(bn(n,e+11)){case 114:return bt+n+wn+Ct(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return bt+n+wn+Ct(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return bt+n+wn+Ct(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return bt+n+wn+n+n}return n}var k8=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case Rg:e.return=ZC(e.value,e.length);break;case jC:return ns([ul(e,{value:Ct(e.value,"@","@"+bt)})],a);case Ag:if(e.length)return b8(e.props,function(o){switch(v8(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ns([ul(e,{props:[Ct(o,/:(read-\w+)/,":"+B0+"$1")]})],a);case"::placeholder":return ns([ul(e,{props:[Ct(o,/:(plac\w+)/,":"+bt+"input-$1")]}),ul(e,{props:[Ct(o,/:(plac\w+)/,":"+B0+"$1")]}),ul(e,{props:[Ct(o,/:(plac\w+)/,wn+"input-$1")]})],a)}return""})}},N8=[k8],q8=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var a=e.stylisPlugins||N8,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)o[b[w]]=!0;c.push(y)});var d,h=[F8,U8];{var f,m=[P8,I8(function(y){f.insert(y)})],v=L8(h.concat(a,m)),p=function(b){return ns(R8(b),v)};d=function(b,w,D,C){f=D,p(b?b+"{"+w.styles+"}":w.styles),C&&(S.inserted[w.name]=!0)}}var S={key:t,sheet:new f8({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return S.sheet.hydrate(c),S},Yf={exports:{}},Tt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function B8(){if(Ly)return Tt;Ly=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,D=n?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var I=R.$$typeof;switch(I){case e:switch(R=R.type,R){case d:case h:case i:case o:case a:case m:return R;default:switch(R=R&&R.$$typeof,R){case c:case f:case S:case p:case l:return R;default:return I}}case t:return I}}}function x(R){return C(R)===h}return Tt.AsyncMode=d,Tt.ConcurrentMode=h,Tt.ContextConsumer=c,Tt.ContextProvider=l,Tt.Element=e,Tt.ForwardRef=f,Tt.Fragment=i,Tt.Lazy=S,Tt.Memo=p,Tt.Portal=t,Tt.Profiler=o,Tt.StrictMode=a,Tt.Suspense=m,Tt.isAsyncMode=function(R){return x(R)||C(R)===d},Tt.isConcurrentMode=x,Tt.isContextConsumer=function(R){return C(R)===c},Tt.isContextProvider=function(R){return C(R)===l},Tt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},Tt.isForwardRef=function(R){return C(R)===f},Tt.isFragment=function(R){return C(R)===i},Tt.isLazy=function(R){return C(R)===S},Tt.isMemo=function(R){return C(R)===p},Tt.isPortal=function(R){return C(R)===t},Tt.isProfiler=function(R){return C(R)===o},Tt.isStrictMode=function(R){return C(R)===a},Tt.isSuspense=function(R){return C(R)===m},Tt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===i||R===h||R===o||R===a||R===m||R===v||typeof R=="object"&&R!==null&&(R.$$typeof===S||R.$$typeof===p||R.$$typeof===l||R.$$typeof===c||R.$$typeof===f||R.$$typeof===b||R.$$typeof===w||R.$$typeof===D||R.$$typeof===y)},Tt.typeOf=C,Tt}var Iy;function G8(){return Iy||(Iy=1,Yf.exports=B8()),Yf.exports}var Xf,Ey;function z8(){if(Ey)return Xf;Ey=1;var n=G8(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=i,o[n.Memo]=a;function l(S){return n.isMemo(S)?a:o[S.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,v=Object.prototype;function p(S,y,b){if(typeof y!="string"){if(v){var w=m(y);w&&w!==v&&p(S,w,b)}var D=d(y);h&&(D=D.concat(h(y)));for(var C=l(S),x=l(y),R=0;R<D.length;++R){var I=D[R];if(!t[I]&&!(b&&b[I])&&!(x&&x[I])&&!(C&&C[I])){var k=f(y,I);try{c(S,I,k)}catch{}}}}return S}return Xf=p,Xf}z8();var V8=!0;function JC(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):a&&(i+=a+" ")}),i}var Pg=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||V8===!1)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},Lg=function(e,t,i){Pg(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+a:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Q8(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var H8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},j8=/[A-Z]|^ms/g,Y8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,e4=function(e){return e.charCodeAt(1)===45},_y=function(e){return e!=null&&typeof e!="boolean"},Wf=KC(function(n){return e4(n)?n:n.replace(j8,"-$&").toLowerCase()}),My=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Y8,function(i,a,o){return Gi={name:a,styles:o,next:Gi},a})}return H8[e]!==1&&!e4(e)&&typeof t=="number"&&t!==0?t+"px":t};function Tc(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return Gi={name:a.name,styles:a.styles,next:Gi},a.name;var o=t;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)Gi={name:l.name,styles:l.styles,next:Gi},l=l.next;var c=o.styles+";";return c}return X8(n,e,t)}case"function":{if(n!==void 0){var d=Gi,h=t(n);return Gi=d,Tc(n,e,h)}break}}var f=t;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function X8(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=Tc(n,e,t[a])+";";else for(var o in t){var l=t[o];if(typeof l!="object"){var c=l;e!=null&&e[c]!==void 0?i+=o+"{"+e[c]+"}":_y(c)&&(i+=Wf(o)+":"+My(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)_y(l[d])&&(i+=Wf(o)+":"+My(o,l[d])+";");else{var h=Tc(n,e,l);switch(o){case"animation":case"animationName":{i+=Wf(o)+":"+h+";";break}default:i+=o+"{"+h+"}"}}}return i}var Fy=/label:\s*([^\s;{]+)\s*(;|$)/g,Gi;function Ic(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,a="";Gi=void 0;var o=n[0];if(o==null||o.raw===void 0)i=!1,a+=Tc(t,e,o);else{var l=o;a+=l[0]}for(var c=1;c<n.length;c++)if(a+=Tc(t,e,n[c]),i){var d=o;a+=d[c]}Fy.lastIndex=0;for(var h="",f;(f=Fy.exec(a))!==null;)h+="-"+f[1];var m=Q8(a)+h;return{name:m,styles:a,next:Gi}}var W8=function(e){return e()},t4=N0.useInsertionEffect?N0.useInsertionEffect:!1,n4=t4||W8,Uy=t4||K.useLayoutEffect,i4=K.createContext(typeof HTMLElement<"u"?q8({key:"css"}):null);i4.Provider;var Ig=function(e){return K.forwardRef(function(t,i){var a=K.useContext(i4);return e(t,a,i)})},Ec=K.createContext({}),Eg={}.hasOwnProperty,G1="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",$8=function(e,t){var i={};for(var a in t)Eg.call(t,a)&&(i[a]=t[a]);return i[G1]=e,i},K8=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Pg(t,i,a),n4(function(){return Lg(t,i,a)}),null},Z8=Ig(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var a=n[G1],o=[i],l="";typeof n.className=="string"?l=JC(e.registered,o,n.className):n.className!=null&&(l=n.className+" ");var c=Ic(o,void 0,K.useContext(Ec));l+=e.key+"-"+c.name;var d={};for(var h in n)Eg.call(n,h)&&h!=="css"&&h!==G1&&(d[h]=n[h]);return d.className=l,t&&(d.ref=t),K.createElement(K.Fragment,null,K.createElement(K8,{cache:e,serialized:c,isStringTag:typeof a=="string"}),K.createElement(a,d))}),J8=Z8,ky=function(e,t){var i=arguments;if(t==null||!Eg.call(t,"css"))return K.createElement.apply(void 0,i);var a=i.length,o=new Array(a);o[0]=J8,o[1]=$8(e,t);for(var l=2;l<a;l++)o[l]=i[l];return K.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(ky||(ky={}));var eT=Ig(function(n,e){var t=n.styles,i=Ic([t],void 0,K.useContext(Ec)),a=K.useRef();return Uy(function(){var o=e.key+"-global",l=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+o+" "+i.name+'"]');return e.sheet.tags.length&&(l.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",o),l.hydrate([d])),a.current=[l,c],function(){l.flush()}},[e]),Uy(function(){var o=a.current,l=o[0],c=o[1];if(c){o[1]=!1;return}if(i.next!==void 0&&Lg(e,i.next,!0),l.tags.length){var d=l.tags[l.tags.length-1].nextElementSibling;l.before=d,l.flush()}e.insert("",i,l,!1)},[e,i.name]),null});function fs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Ic(e)}function ga(){var n=fs.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var tT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nT=KC(function(n){return tT.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),iT=nT,rT=function(e){return e!=="theme"},Ny=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?iT:rT},qy=function(e,t,i){var a;if(t){var o=t.shouldForwardProp;a=e.__emotion_forwardProp&&o?function(l){return e.__emotion_forwardProp(l)&&o(l)}:o}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},aT=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;return Pg(t,i,a),n4(function(){return Lg(t,i,a)}),null},oT=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,o,l;t!==void 0&&(o=t.label,l=t.target);var c=qy(e,t,i),d=c||Ny(a),h=!d("as");return function(){var f=arguments,m=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&m.push("label:"+o+";"),f[0]==null||f[0].raw===void 0)m.push.apply(m,f);else{var v=f[0];m.push(v[0]);for(var p=f.length,S=1;S<p;S++)m.push(f[S],v[S])}var y=Ig(function(b,w,D){var C=h&&b.as||a,x="",R=[],I=b;if(b.theme==null){I={};for(var k in b)I[k]=b[k];I.theme=K.useContext(Ec)}typeof b.className=="string"?x=JC(w.registered,R,b.className):b.className!=null&&(x=b.className+" ");var _=Ic(m.concat(R),w.registered,I);x+=w.key+"-"+_.name,l!==void 0&&(x+=" "+l);var M=h&&c===void 0?Ny(C):d,U={};for(var B in b)h&&B==="as"||M(B)&&(U[B]=b[B]);return U.className=x,D&&(U.ref=D),K.createElement(K.Fragment,null,K.createElement(aT,{cache:w,serialized:_,isStringTag:typeof C=="string"}),K.createElement(C,U))});return y.displayName=o!==void 0?o:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=a,y.__emotion_styles=m,y.__emotion_forwardProp=c,Object.defineProperty(y,"toString",{value:function(){return"."+l}}),y.withComponent=function(b,w){var D=n(b,q0({},t,w,{shouldForwardProp:qy(y,w,!0)}));return D.apply(void 0,m)},y}},sT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],z1=oT.bind(null);sT.forEach(function(n){z1[n]=z1(n)});function lT(n){return n==null||Object.keys(n).length===0}function r4(n){const{styles:e,defaultTheme:t={}}=n,i=typeof e=="function"?a=>e(lT(a)?t:a):e;return re.jsx(eT,{styles:i})}function a4(n,e){return z1(n,e)}function cT(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const By=[];function oa(n){return By[0]=n,Ic(By)}var $f={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function uT(){if(Gy)return It;Gy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function S(y){if(typeof y=="object"&&y!==null){var b=y.$$typeof;switch(b){case n:switch(y=y.type,y){case t:case a:case i:case d:case h:case v:return y;default:switch(y=y&&y.$$typeof,y){case l:case c:case m:case f:return y;case o:return y;default:return b}}case e:return b}}}return It.ContextConsumer=o,It.ContextProvider=l,It.Element=n,It.ForwardRef=c,It.Fragment=t,It.Lazy=m,It.Memo=f,It.Portal=e,It.Profiler=a,It.StrictMode=i,It.Suspense=d,It.SuspenseList=h,It.isContextConsumer=function(y){return S(y)===o},It.isContextProvider=function(y){return S(y)===l},It.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===n},It.isForwardRef=function(y){return S(y)===c},It.isFragment=function(y){return S(y)===t},It.isLazy=function(y){return S(y)===m},It.isMemo=function(y){return S(y)===f},It.isPortal=function(y){return S(y)===e},It.isProfiler=function(y){return S(y)===a},It.isStrictMode=function(y){return S(y)===i},It.isSuspense=function(y){return S(y)===d},It.isSuspenseList=function(y){return S(y)===h},It.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===a||y===i||y===d||y===h||typeof y=="object"&&y!==null&&(y.$$typeof===m||y.$$typeof===f||y.$$typeof===l||y.$$typeof===o||y.$$typeof===c||y.$$typeof===p||y.getModuleId!==void 0)},It.typeOf=S,It}var zy;function dT(){return zy||(zy=1,$f.exports=uT()),$f.exports}var o4=dT();function Vi(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function s4(n){if(K.isValidElement(n)||o4.isValidElementType(n)||!Vi(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=s4(n[t])}),e}function hn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Vi(n)&&Vi(e)&&Object.keys(e).forEach(a=>{K.isValidElement(e[a])||o4.isValidElementType(e[a])?i[a]=e[a]:Vi(e[a])&&Object.prototype.hasOwnProperty.call(n,a)&&Vi(n[a])?i[a]=hn(n[a],e[a],t):t.clone?i[a]=Vi(e[a])?s4(e[a]):e[a]:i[a]=e[a]}),i}const hT=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function fT(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...a}=n,o=hT(e),l=Object.keys(o);function c(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-i/100}${t})`}function h(v,p){const S=l.indexOf(p);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(S!==-1&&typeof e[l[S]]=="number"?e[l[S]]:p)-i/100}${t})`}function f(v){return l.indexOf(v)+1<l.length?h(v,l[l.indexOf(v)+1]):c(v)}function m(v){const p=l.indexOf(v);return p===0?c(l[1]):p===l.length-1?d(l[p]):h(v,l[l.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:l,values:o,up:c,down:d,between:h,only:f,not:m,unit:t,...a}}function Vy(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,a)=>{const o=/min-width:\s*([0-9.]+)/;return+(i.match(o)?.[1]||0)-+(a.match(o)?.[1]||0)});return t.length?t.reduce((i,a)=>{const o=e[a];return delete i[a],i[a]=o,i},{...e}):e}function gT(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function pT(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,a]=t,o=Number.isNaN(+i)?i||0:+i;return n.containerQueries(a).up(o)}function mT(n){const e=(o,l)=>o.replace("@media",l?`@container ${l}`:"@container");function t(o,l){o.up=(...c)=>e(n.breakpoints.up(...c),l),o.down=(...c)=>e(n.breakpoints.down(...c),l),o.between=(...c)=>e(n.breakpoints.between(...c),l),o.only=(...c)=>e(n.breakpoints.only(...c),l),o.not=(...c)=>{const d=e(n.breakpoints.not(...c),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const i={},a=o=>(t(i,o),i);return t(a),{...n,containerQueries:a}}const ST={borderRadius:4};function hc(n,e){return e?hn(n,e,{clone:!1}):n}const id={xs:0,sm:600,md:900,lg:1200,xl:1536},Qy={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${id[n]}px)`},yT={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:id[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function xi(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const o=i.breakpoints||Qy;return e.reduce((l,c,d)=>(l[o.up(o.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const o=i.breakpoints||Qy;return Object.keys(e).reduce((l,c)=>{if(gT(o.keys,c)){const d=pT(i.containerQueries?i:yT,c);d&&(l[d]=t(e[c],c))}else if(Object.keys(o.values||id).includes(c)){const d=o.up(c);l[d]=t(e[c],c)}else{const d=c;l[d]=e[d]}return l},{})}return t(e)}function l4(n={}){return n.keys?.reduce((t,i)=>{const a=n.up(i);return t[a]={},t},{})||{}}function V1(n,e){return n.reduce((t,i)=>{const a=t[i];return(!a||Object.keys(a).length===0)&&delete t[i],t},e)}function vT(n,...e){const t=l4(n),i=[t,...e].reduce((a,o)=>hn(a,o),{});return V1(Object.keys(t),i)}function bT(n,e){if(typeof n!="object")return{};const t={},i=Object.keys(e);return Array.isArray(n)?i.forEach((a,o)=>{o<n.length&&(t[a]=!0)}):i.forEach(a=>{n[a]!=null&&(t[a]=!0)}),t}function Kf({values:n,breakpoints:e,base:t}){const i=t||bT(n,e),a=Object.keys(i);if(a.length===0)return n;let o;return a.reduce((l,c,d)=>(Array.isArray(n)?(l[c]=n[d]!=null?n[d]:n[o],o=d):typeof n=="object"?(l[c]=n[c]!=null?n[c]:n[o],o=c):l[c]=n,l),{})}function Ue(n){if(typeof n!="string")throw new Error(Rr(7));return n.charAt(0).toUpperCase()+n.slice(1)}function zi(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((a,o)=>a&&a[o]?a[o]:null,n);if(i!=null)return i}return e.split(".").reduce((i,a)=>i&&i[a]!=null?i[a]:null,n)}function G0(n,e,t,i=t){let a;return typeof n=="function"?a=n(t):Array.isArray(n)?a=n[t]||i:a=zi(n,t)||i,e&&(a=e(a,i,n)),a}function Jt(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:a}=n,o=l=>{if(l[e]==null)return null;const c=l[e],d=l.theme,h=zi(d,i)||{};return xi(l,c,m=>{let v=G0(h,a,m);return m===v&&typeof m=="string"&&(v=G0(h,a,`${e}${m==="default"?"":Ue(m)}`,m)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function CT(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const DT={m:"margin",p:"padding"},TT={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Hy={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wT=CT(n=>{if(n.length>2)if(Hy[n])n=Hy[n];else return[n];const[e,t]=n.split(""),i=DT[e],a=TT[t]||"";return Array.isArray(a)?a.map(o=>i+o):[i+a]}),_g=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Mg=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._g,...Mg];function _c(n,e,t,i){const a=zi(n,e,!0)??t;return typeof a=="number"||typeof a=="string"?o=>typeof o=="string"?o:typeof a=="string"?a.startsWith("var(")&&o===0?0:a.startsWith("var(")&&o===1?a:`calc(${o} * ${a})`:a*o:Array.isArray(a)?o=>{if(typeof o=="string")return o;const l=Math.abs(o),c=a[l];return o>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof a=="function"?a:()=>{}}function rd(n){return _c(n,"spacing",8)}function to(n,e){return typeof e=="string"||e==null?e:n(e)}function xT(n,e){return t=>n.reduce((i,a)=>(i[a]=to(e,t),i),{})}function AT(n,e,t,i){if(!e.includes(t))return null;const a=wT(t),o=xT(a,i),l=n[t];return xi(n,l,o)}function c4(n,e){const t=rd(n.theme);return Object.keys(n).map(i=>AT(n,e,i,t)).reduce(hc,{})}function Yt(n){return c4(n,_g)}Yt.propTypes={};Yt.filterProps=_g;function Xt(n){return c4(n,Mg)}Xt.propTypes={};Xt.filterProps=Mg;function u4(n=8,e=rd({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(o=>{const l=e(o);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function ad(...n){const e=n.reduce((i,a)=>(a.filterProps.forEach(o=>{i[o]=a}),i),{}),t=i=>Object.keys(i).reduce((a,o)=>e[o]?hc(a,e[o](i)):a,{});return t.propTypes={},t.filterProps=n.reduce((i,a)=>i.concat(a.filterProps),[]),t}function di(n){return typeof n!="number"?n:`${n}px solid`}function fi(n,e){return Jt({prop:n,themeKey:"borders",transform:e})}const RT=fi("border",di),OT=fi("borderTop",di),PT=fi("borderRight",di),LT=fi("borderBottom",di),IT=fi("borderLeft",di),ET=fi("borderColor"),_T=fi("borderTopColor"),MT=fi("borderRightColor"),FT=fi("borderBottomColor"),UT=fi("borderLeftColor"),kT=fi("outline",di),NT=fi("outlineColor"),od=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=_c(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:to(e,i)});return xi(n,n.borderRadius,t)}return null};od.propTypes={};od.filterProps=["borderRadius"];ad(RT,OT,PT,LT,IT,ET,_T,MT,FT,UT,od,kT,NT);const sd=n=>{if(n.gap!==void 0&&n.gap!==null){const e=_c(n.theme,"spacing",8),t=i=>({gap:to(e,i)});return xi(n,n.gap,t)}return null};sd.propTypes={};sd.filterProps=["gap"];const ld=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=_c(n.theme,"spacing",8),t=i=>({columnGap:to(e,i)});return xi(n,n.columnGap,t)}return null};ld.propTypes={};ld.filterProps=["columnGap"];const cd=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=_c(n.theme,"spacing",8),t=i=>({rowGap:to(e,i)});return xi(n,n.rowGap,t)}return null};cd.propTypes={};cd.filterProps=["rowGap"];const qT=Jt({prop:"gridColumn"}),BT=Jt({prop:"gridRow"}),GT=Jt({prop:"gridAutoFlow"}),zT=Jt({prop:"gridAutoColumns"}),VT=Jt({prop:"gridAutoRows"}),QT=Jt({prop:"gridTemplateColumns"}),HT=Jt({prop:"gridTemplateRows"}),jT=Jt({prop:"gridTemplateAreas"}),YT=Jt({prop:"gridArea"});ad(sd,ld,cd,qT,BT,GT,zT,VT,QT,HT,jT,YT);function is(n,e){return e==="grey"?e:n}const XT=Jt({prop:"color",themeKey:"palette",transform:is}),WT=Jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:is}),$T=Jt({prop:"backgroundColor",themeKey:"palette",transform:is});ad(XT,WT,$T);function Wn(n){return n<=1&&n!==0?`${n*100}%`:n}const KT=Jt({prop:"width",transform:Wn}),Fg=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const i=n.theme?.breakpoints?.values?.[t]||id[t];return i?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Wn(t)}};return xi(n,n.maxWidth,e)}return null};Fg.filterProps=["maxWidth"];const ZT=Jt({prop:"minWidth",transform:Wn}),JT=Jt({prop:"height",transform:Wn}),ew=Jt({prop:"maxHeight",transform:Wn}),tw=Jt({prop:"minHeight",transform:Wn});Jt({prop:"size",cssProperty:"width",transform:Wn});Jt({prop:"size",cssProperty:"height",transform:Wn});const nw=Jt({prop:"boxSizing"});ad(KT,Fg,ZT,JT,ew,tw,nw);const Mc={border:{themeKey:"borders",transform:di},borderTop:{themeKey:"borders",transform:di},borderRight:{themeKey:"borders",transform:di},borderBottom:{themeKey:"borders",transform:di},borderLeft:{themeKey:"borders",transform:di},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:di},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:od},color:{themeKey:"palette",transform:is},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:is},backgroundColor:{themeKey:"palette",transform:is},p:{style:Xt},pt:{style:Xt},pr:{style:Xt},pb:{style:Xt},pl:{style:Xt},px:{style:Xt},py:{style:Xt},padding:{style:Xt},paddingTop:{style:Xt},paddingRight:{style:Xt},paddingBottom:{style:Xt},paddingLeft:{style:Xt},paddingX:{style:Xt},paddingY:{style:Xt},paddingInline:{style:Xt},paddingInlineStart:{style:Xt},paddingInlineEnd:{style:Xt},paddingBlock:{style:Xt},paddingBlockStart:{style:Xt},paddingBlockEnd:{style:Xt},m:{style:Yt},mt:{style:Yt},mr:{style:Yt},mb:{style:Yt},ml:{style:Yt},mx:{style:Yt},my:{style:Yt},margin:{style:Yt},marginTop:{style:Yt},marginRight:{style:Yt},marginBottom:{style:Yt},marginLeft:{style:Yt},marginX:{style:Yt},marginY:{style:Yt},marginInline:{style:Yt},marginInlineStart:{style:Yt},marginInlineEnd:{style:Yt},marginBlock:{style:Yt},marginBlockStart:{style:Yt},marginBlockEnd:{style:Yt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:sd},rowGap:{style:cd},columnGap:{style:ld},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Wn},maxWidth:{style:Fg},minWidth:{transform:Wn},height:{transform:Wn},maxHeight:{transform:Wn},minHeight:{transform:Wn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function iw(...n){const e=n.reduce((i,a)=>i.concat(Object.keys(a)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function rw(n,e){return typeof n=="function"?n(e):n}function aw(){function n(t,i,a,o){const l={[t]:i,theme:a},c=o[t];if(!c)return{[t]:i};const{cssProperty:d=t,themeKey:h,transform:f,style:m}=c;if(i==null)return null;if(h==="typography"&&i==="inherit")return{[t]:i};const v=zi(a,h)||{};return m?m(l):xi(l,i,S=>{let y=G0(v,f,S);return S===y&&typeof S=="string"&&(y=G0(v,f,`${t}${S==="default"?"":Ue(S)}`,S)),d===!1?y:{[d]:y}})}function e(t){const{sx:i,theme:a={},nested:o}=t||{};if(!i)return null;const l=a.unstable_sxConfig??Mc;function c(d){let h=d;if(typeof d=="function")h=d(a);else if(typeof d!="object")return d;if(!h)return null;const f=l4(a.breakpoints),m=Object.keys(f);let v=f;return Object.keys(h).forEach(p=>{const S=rw(h[p],a);if(S!=null)if(typeof S=="object")if(l[p])v=hc(v,n(p,S,a,l));else{const y=xi({theme:a},S,b=>({[p]:b}));iw(y,S)?v[p]=e({sx:S,theme:a,nested:!0}):v=hc(v,y)}else v=hc(v,n(p,S,a,l))}),!o&&a.modularCssLayers?{"@layer sx":Vy(a,V1(m,v))}:Vy(a,V1(m,v))}return Array.isArray(i)?i.map(c):c(i)}return e}const da=aw();da.filterProps=["sx"];function ow(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function ud(n={},...e){const{breakpoints:t={},palette:i={},spacing:a,shape:o={},...l}=n,c=fT(t),d=u4(a);let h=hn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:d,shape:{...ST,...o}},l);return h=mT(h),h.applyStyles=ow,h=e.reduce((f,m)=>hn(f,m),h),h.unstable_sxConfig={...Mc,...l?.unstable_sxConfig},h.unstable_sx=function(m){return da({sx:m,theme:this})},h}function sw(n){return Object.keys(n).length===0}function dd(n=null){const e=K.useContext(Ec);return!e||sw(e)?n:e}const lw=ud();function hd(n=lw){return dd(n)}function Zf(n){const e=oa(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function d4({styles:n,themeId:e,defaultTheme:t={}}){const i=hd(t),a=e&&i[e]||i;let o=typeof n=="function"?n(a):n;return a.modularCssLayers&&(Array.isArray(o)?o=o.map(l=>Zf(typeof l=="function"?l(a):l)):o=Zf(o)),re.jsx(r4,{styles:o})}const cw=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??Mc;return Object.keys(n).forEach(i=>{t[i]?e.systemProps[i]=n[i]:e.otherProps[i]=n[i]}),e};function Ug(n){const{sx:e,...t}=n,{systemProps:i,otherProps:a}=cw(t);let o;return Array.isArray(e)?o=[i,...e]:typeof e=="function"?o=(...l)=>{const c=e(...l);return Vi(c)?{...i,...c}:i}:o={...i,...e},{...a,sx:o}}const jy=n=>n,uw=()=>{let n=jy;return{configure(e){n=e},generate(e){return n(e)},reset(){n=jy}}},h4=uw();function f4(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=f4(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Qe(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=f4(n))&&(i&&(i+=" "),i+=e);return i}function dw(n={}){const{themeId:e,defaultTheme:t,defaultClassName:i="MuiBox-root",generateClassName:a}=n,o=a4("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(da);return K.forwardRef(function(d,h){const f=hd(t),{className:m,component:v="div",...p}=Ug(d);return re.jsx(o,{as:v,ref:h,className:Qe(m,a?a(i):i),theme:e&&f[e]||f,...p})})}const hw={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tt(n,e,t="Mui"){const i=hw[e];return i?`${t}-${i}`:`${h4.generate(n)}-${e}`}function nt(n,e,t="Mui"){const i={};return e.forEach(a=>{i[a]=tt(n,a,t)}),i}function g4(n){const{variants:e,...t}=n,i={variants:e,style:oa(t),isProcessed:!0};return i.style===t||e&&e.forEach(a=>{typeof a.style!="function"&&(a.style=oa(a.style))}),i}const fw=ud();function Jf(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function ja(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function gw(n){return n?(e,t)=>t[n]:null}function pw(n,e,t){n.theme=Sw(n.theme)?t:n.theme[e]||n.theme}function P0(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(a=>P0(n,a,t));if(Array.isArray(i?.variants)){let a;if(i.isProcessed)a=t?ja(i.style,t):i.style;else{const{variants:o,...l}=i;a=t?ja(oa(l),t):l}return p4(n,i.variants,[a],t)}return i?.isProcessed?t?ja(oa(i.style),t):i.style:t?ja(oa(i),t):i}function p4(n,e,t=[],i=void 0){let a;e:for(let o=0;o<e.length;o+=1){const l=e[o];if(typeof l.props=="function"){if(a??={...n,...n.ownerState,ownerState:n.ownerState},!l.props(a))continue}else for(const c in l.props)if(n[c]!==l.props[c]&&n.ownerState?.[c]!==l.props[c])continue e;typeof l.style=="function"?(a??={...n,...n.ownerState,ownerState:n.ownerState},t.push(i?ja(oa(l.style(a)),i):l.style(a))):t.push(i?ja(oa(l.style),i):l.style)}return t}function m4(n={}){const{themeId:e,defaultTheme:t=fw,rootShouldForwardProp:i=Jf,slotShouldForwardProp:a=Jf}=n;function o(c){pw(c,e,t)}return(c,d={})=>{cT(c,I=>I.filter(k=>k!==da));const{name:h,slot:f,skipVariantsResolver:m,skipSx:v,overridesResolver:p=gw(vw(f)),...S}=d,y=h&&h.startsWith("Mui")||f?"components":"custom",b=m!==void 0?m:f&&f!=="Root"&&f!=="root"||!1,w=v||!1;let D=Jf;f==="Root"||f==="root"?D=i:f?D=a:yw(c)&&(D=void 0);const C=a4(c,{shouldForwardProp:D,label:mw(),...S}),x=I=>{if(I.__emotion_real===I)return I;if(typeof I=="function")return function(_){return P0(_,I,_.theme.modularCssLayers?y:void 0)};if(Vi(I)){const k=g4(I);return function(M){return k.variants?P0(M,k,M.theme.modularCssLayers?y:void 0):M.theme.modularCssLayers?ja(k.style,y):k.style}}return I},R=(...I)=>{const k=[],_=I.map(x),M=[];if(k.push(o),h&&p&&M.push(function(P){const E=P.theme.components?.[h]?.styleOverrides;if(!E)return null;const F={};for(const G in E)F[G]=P0(P,E[G],P.theme.modularCssLayers?"theme":void 0);return p(P,F)}),h&&!b&&M.push(function(P){const E=P.theme?.components?.[h]?.variants;return E?p4(P,E,[],P.theme.modularCssLayers?"theme":void 0):null}),w||M.push(da),Array.isArray(_[0])){const L=_.shift(),P=new Array(k.length).fill(""),A=new Array(M.length).fill("");let E;E=[...P,...L,...A],E.raw=[...P,...L.raw,...A],k.unshift(E)}const U=[...k,..._,...M],B=C(...U);return c.muiName&&(B.muiName=c.muiName),B};return C.withConfig&&(R.withConfig=C.withConfig),R}}function mw(n,e){return void 0}function Sw(n){for(const e in n)return!1;return!0}function yw(n){return typeof n=="string"&&n.charCodeAt(0)>96}function vw(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const bw=m4();function wc(n,e,t=!1){const i={...e};for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const o=a;if(o==="components"||o==="slots")i[o]={...n[o],...i[o]};else if(o==="componentsProps"||o==="slotProps"){const l=n[o],c=e[o];if(!c)i[o]=l||{};else if(!l)i[o]=c;else{i[o]={...c};for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const h=d;i[o][h]=wc(l[h],c[h],t)}}}else o==="className"&&t&&e.className?i.className=Qe(n?.className,e?.className):o==="style"&&t&&e.style?i.style={...n?.style,...e?.style}:i[o]===void 0&&(i[o]=n[o])}return i}function S4(n){const{theme:e,name:t,props:i}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:wc(e.components[t].defaultProps,i)}function Cw({props:n,name:e,defaultTheme:t,themeId:i}){let a=hd(t);return i&&(a=a[i]||a),S4({theme:a,name:e,props:n})}const Ai=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Dw(n,e,t,i,a){const[o,l]=K.useState(()=>a&&t?t(n).matches:i?i(n).matches:e);return Ai(()=>{if(!t)return;const c=t(n),d=()=>{l(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[n,t]),o}const Tw={...N0},y4=Tw.useSyncExternalStore;function ww(n,e,t,i,a){const o=K.useCallback(()=>e,[e]),l=K.useMemo(()=>{if(a&&t)return()=>t(n).matches;if(i!==null){const{matches:f}=i(n);return()=>f}return o},[o,n,i,a,t]),[c,d]=K.useMemo(()=>{if(t===null)return[o,()=>()=>{}];const f=t(n);return[()=>f.matches,m=>(f.addEventListener("change",m),()=>{f.removeEventListener("change",m)})]},[o,t,n]);return y4(d,c,l)}function v4(n={}){const{themeId:e}=n;return function(i,a={}){let o=dd();o&&e&&(o=o[e]||o);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=l?window.matchMedia:null,ssrMatchMedia:h=null,noSsr:f=!1}=S4({name:"MuiUseMediaQuery",props:a,theme:o});let m=typeof i=="function"?i(o):i;return m=m.replace(/^@media( ?)/m,""),m.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(y4!==void 0?ww:Dw)(m,c,d,h,f)}}v4();function Ko(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function kg(n,e=0,t=1){return Ko(n,e,t)}function xw(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,a)=>a<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function ha(n){if(n.type)return n;if(n.charAt(0)==="#")return ha(xw(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rr(9,n));let i=n.substring(e+1,n.length-1),a;if(t==="color"){if(i=i.split(" "),a=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Rr(10,a))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:t,values:i,colorSpace:a}}const Aw=n=>{const e=ha(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},oc=(n,e)=>{try{return Aw(n)}catch{return n}};function fd(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((a,o)=>o<3?parseInt(a,10):a):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function b4(n){n=ha(n);const{values:e}=n,t=e[0],i=e[1]/100,a=e[2]/100,o=i*Math.min(a,1-a),l=(h,f=(h+t/30)%12)=>a-o*Math.max(Math.min(f-3,9-f,1),-1);let c="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),fd({type:c,values:d})}function Q1(n){n=ha(n);let e=n.type==="hsl"||n.type==="hsla"?ha(b4(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Rw(n,e){const t=Q1(n),i=Q1(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function xc(n,e){return n=ha(n),e=kg(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,fd(n)}function Ea(n,e,t){try{return xc(n,e)}catch{return n}}function gd(n,e){if(n=ha(n),e=kg(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return fd(n)}function At(n,e,t){try{return gd(n,e)}catch{return n}}function pd(n,e){if(n=ha(n),e=kg(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return fd(n)}function Rt(n,e,t){try{return pd(n,e)}catch{return n}}function Ow(n,e=.15){return Q1(n)>.5?gd(n,e):pd(n,e)}function Ku(n,e,t){try{return Ow(n,e)}catch{return n}}const C4=K.createContext(null);function Ng(){return K.useContext(C4)}const Pw=typeof Symbol=="function"&&Symbol.for,Lw=Pw?Symbol.for("mui.nested"):"__THEME_NESTED__";function Iw(n,e){return typeof e=="function"?e(n):{...n,...e}}function Ew(n){const{children:e,theme:t}=n,i=Ng(),a=K.useMemo(()=>{const o=i===null?{...t}:Iw(i,t);return o!=null&&(o[Lw]=i!==null),o},[t,i]);return re.jsx(C4.Provider,{value:a,children:e})}const D4=K.createContext();function _w({value:n,...e}){return re.jsx(D4.Provider,{value:n??!0,...e})}const qg=()=>K.useContext(D4)??!1,T4=K.createContext(void 0);function Mw({value:n,children:e}){return re.jsx(T4.Provider,{value:n,children:e})}function Fw(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const a=e.components[t];return a.defaultProps?wc(a.defaultProps,i,e.components.mergeClassNameAndStyle):!a.styleOverrides&&!a.variants?wc(a,i,e.components.mergeClassNameAndStyle):i}function Uw({props:n,name:e}){const t=K.useContext(T4);return Fw({props:n,name:e,theme:{components:t}})}let Yy=0;function kw(n){const[e,t]=K.useState(n),i=n||e;return K.useEffect(()=>{e==null&&(Yy+=1,t(`mui-${Yy}`))},[e]),i}const Nw={...N0},Xy=Nw.useId;function Fc(n){if(Xy!==void 0){const e=Xy();return n??e}return kw(n)}function qw(n){const e=dd(),t=Fc()||"",{modularCssLayers:i}=n;let a="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!i||e!==null?a="":typeof i=="string"?a=i.replace(/mui(?!\.)/g,a):a=`@layer ${a};`,Ai(()=>{const o=document.querySelector("head");if(!o)return;const l=o.firstChild;if(a){if(l&&l.hasAttribute?.("data-mui-layer-order")&&l.getAttribute("data-mui-layer-order")===t)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",t),c.textContent=a,o.prepend(c)}else o.querySelector(`style[data-mui-layer-order="${t}"]`)?.remove()},[a,t]),a?re.jsx(d4,{styles:a}):null}const Wy={};function $y(n,e,t,i=!1){return K.useMemo(()=>{const a=n&&e[n]||e;if(typeof t=="function"){const o=t(a),l=n?{...e,[n]:o}:o;return i?()=>l:l}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,i])}function w4(n){const{children:e,theme:t,themeId:i}=n,a=dd(Wy),o=Ng()||Wy,l=$y(i,a,t),c=$y(i,o,t,!0),d=(i?l[i]:l).direction==="rtl",h=qw(l);return re.jsx(Ew,{theme:c,children:re.jsx(Ec.Provider,{value:l,children:re.jsx(_w,{value:d,children:re.jsxs(Mw,{value:i?l[i].components:l.components,children:[h,e]})})})})}const Ky={theme:void 0};function Bw(n){let e,t;return function(a){let o=e;return(o===void 0||a.theme!==t)&&(Ky.theme=a.theme,o=g4(n(Ky)),e=o,t=a.theme),o}}const Bg="mode",Gg="color-scheme",Gw="data-color-scheme";function zw(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:i="dark",modeStorageKey:a=Bg,colorSchemeStorageKey:o=Gg,attribute:l=Gw,colorSchemeNode:c="document.documentElement",nonce:d}=n||{};let h="",f=l;if(l==="class"&&(f=".%s"),l==="data"&&(f="[data-%s]"),f.startsWith(".")){const v=f.substring(1);h+=`${c}.classList.remove('${v}'.replace('%s', light), '${v}'.replace('%s', dark));
      ${c}.classList.add('${v}'.replace('%s', colorScheme));`}const m=f.match(/\[([^[\]]+)\]/);if(m){const[v,p]=m[1].split("=");p||(h+=`${c}.removeAttribute('${v}'.replace('%s', light));
      ${c}.removeAttribute('${v}'.replace('%s', dark));`),h+=`
      ${c}.setAttribute('${v}'.replace('%s', colorScheme), ${p?`${p}.replace('%s', colorScheme)`:'""'});`}else h+=`${c}.setAttribute('${f}', colorScheme);`;return re.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${a}') || '${e}';
  const dark = localStorage.getItem('${o}-dark') || '${i}';
  const light = localStorage.getItem('${o}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${h}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function Vw(){}const Qw=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let i;try{i=e.localStorage.getItem(n)}catch{}return i||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return Vw;const i=a=>{const o=a.newValue;a.key===n&&t(o)};return e.addEventListener("storage",i),()=>{e.removeEventListener("storage",i)}}});function e1(){}function Zy(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function x4(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function Hw(n){return x4(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function jw(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:i,supportedColorSchemes:a=[],modeStorageKey:o=Bg,colorSchemeStorageKey:l=Gg,storageWindow:c=typeof window>"u"?void 0:window,storageManager:d=Qw,noSsr:h=!1}=n,f=a.join(","),m=a.length>1,v=K.useMemo(()=>d?.({key:o,storageWindow:c}),[d,o,c]),p=K.useMemo(()=>d?.({key:`${l}-light`,storageWindow:c}),[d,l,c]),S=K.useMemo(()=>d?.({key:`${l}-dark`,storageWindow:c}),[d,l,c]),[y,b]=K.useState(()=>{const _=v?.get(e)||e,M=p?.get(t)||t,U=S?.get(i)||i;return{mode:_,systemMode:Zy(_),lightColorScheme:M,darkColorScheme:U}}),[w,D]=K.useState(h||!m);K.useEffect(()=>{D(!0)},[]);const C=Hw(y),x=K.useCallback(_=>{b(M=>{if(_===M.mode)return M;const U=_??e;return v?.set(U),{...M,mode:U,systemMode:Zy(U)}})},[v,e]),R=K.useCallback(_=>{_?typeof _=="string"?_&&!f.includes(_)?console.error(`\`${_}\` does not exist in \`theme.colorSchemes\`.`):b(M=>{const U={...M};return x4(M,B=>{B==="light"&&(p?.set(_),U.lightColorScheme=_),B==="dark"&&(S?.set(_),U.darkColorScheme=_)}),U}):b(M=>{const U={...M},B=_.light===null?t:_.light,L=_.dark===null?i:_.dark;return B&&(f.includes(B)?(U.lightColorScheme=B,p?.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),L&&(f.includes(L)?(U.darkColorScheme=L,S?.set(L)):console.error(`\`${L}\` does not exist in \`theme.colorSchemes\`.`)),U}):b(M=>(p?.set(t),S?.set(i),{...M,lightColorScheme:t,darkColorScheme:i}))},[f,p,S,t,i]),I=K.useCallback(_=>{y.mode==="system"&&b(M=>{const U=_?.matches?"dark":"light";return M.systemMode===U?M:{...M,systemMode:U}})},[y.mode]),k=K.useRef(I);return k.current=I,K.useEffect(()=>{if(typeof window.matchMedia!="function"||!m)return;const _=(...U)=>k.current(...U),M=window.matchMedia("(prefers-color-scheme: dark)");return M.addListener(_),_(M),()=>{M.removeListener(_)}},[m]),K.useEffect(()=>{if(m){const _=v?.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&x(B||e)})||e1,M=p?.subscribe(B=>{(!B||f.match(B))&&R({light:B})})||e1,U=S?.subscribe(B=>{(!B||f.match(B))&&R({dark:B})})||e1;return()=>{_(),M(),U()}}},[R,x,f,e,c,m,v,p,S]),{...y,mode:w?y.mode:void 0,systemMode:w?y.systemMode:void 0,colorScheme:w?C:void 0,setMode:x,setColorScheme:R}}const Yw="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Xw(n){const{themeId:e,theme:t={},modeStorageKey:i=Bg,colorSchemeStorageKey:a=Gg,disableTransitionOnChange:o=!1,defaultColorScheme:l,resolveTheme:c}=n,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},h=K.createContext(void 0),f=()=>K.useContext(h)||d,m={},v={};function p(w){const{children:D,theme:C,modeStorageKey:x=i,colorSchemeStorageKey:R=a,disableTransitionOnChange:I=o,storageManager:k,storageWindow:_=typeof window>"u"?void 0:window,documentNode:M=typeof document>"u"?void 0:document,colorSchemeNode:U=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:L=!1,defaultMode:P="system",forceThemeRerender:A=!1,noSsr:E}=w,F=K.useRef(!1),G=Ng(),H=K.useContext(h),Q=!!H&&!B,Z=K.useMemo(()=>C||(typeof t=="function"?t():t),[C]),N=Z[e],V=N||Z,{colorSchemes:X=m,components:ee=v,cssVarPrefix:J}=V,ce=Object.keys(X).filter(pe=>!!X[pe]).join(","),W=K.useMemo(()=>ce.split(","),[ce]),ne=typeof l=="string"?l:l.light,se=typeof l=="string"?l:l.dark,de=X[ne]&&X[se]?P:X[V.defaultColorScheme]?.palette?.mode||V.palette?.mode,{mode:ve,setMode:Te,systemMode:Me,lightColorScheme:q,darkColorScheme:le,colorScheme:he,setColorScheme:$}=jw({supportedColorSchemes:W,defaultLightColorScheme:ne,defaultDarkColorScheme:se,modeStorageKey:x,colorSchemeStorageKey:R,defaultMode:de,storageManager:k,storageWindow:_,noSsr:E});let Y=ve,ae=he;Q&&(Y=H.mode,ae=H.colorScheme);let ye=ae||V.defaultColorScheme;V.vars&&!A&&(ye=V.defaultColorScheme);const Ce=K.useMemo(()=>{const pe=V.generateThemeVars?.()||V.vars,Ie={...V,components:ee,colorSchemes:X,cssVarPrefix:J,vars:pe};if(typeof Ie.generateSpacing=="function"&&(Ie.spacing=Ie.generateSpacing()),ye){const _e=X[ye];_e&&typeof _e=="object"&&Object.keys(_e).forEach(ke=>{_e[ke]&&typeof _e[ke]=="object"?Ie[ke]={...Ie[ke],..._e[ke]}:Ie[ke]=_e[ke]})}return c?c(Ie):Ie},[V,ye,ee,X,J]),te=V.colorSchemeSelector;Ai(()=>{if(ae&&U&&te&&te!=="media"){const pe=te;let Ie=te;if(pe==="class"&&(Ie=".%s"),pe==="data"&&(Ie="[data-%s]"),pe?.startsWith("data-")&&!pe.includes("%s")&&(Ie=`[${pe}="%s"]`),Ie.startsWith("."))U.classList.remove(...W.map(_e=>Ie.substring(1).replace("%s",_e))),U.classList.add(Ie.substring(1).replace("%s",ae));else{const _e=Ie.replace("%s",ae).match(/\[([^\]]+)\]/);if(_e){const[ke,qe]=_e[1].split("=");qe||W.forEach(ze=>{U.removeAttribute(ke.replace(ae,ze))}),U.setAttribute(ke,qe?qe.replace(/"|'/g,""):"")}else U.setAttribute(Ie,ae)}}},[ae,te,U,W]),K.useEffect(()=>{let pe;if(I&&F.current&&M){const Ie=M.createElement("style");Ie.appendChild(M.createTextNode(Yw)),M.head.appendChild(Ie),window.getComputedStyle(M.body),pe=setTimeout(()=>{M.head.removeChild(Ie)},1)}return()=>{clearTimeout(pe)}},[ae,I,M]),K.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const Re=K.useMemo(()=>({allColorSchemes:W,colorScheme:ae,darkColorScheme:le,lightColorScheme:q,mode:Y,setColorScheme:$,setMode:Te,systemMode:Me}),[W,ae,le,q,Y,$,Te,Me,Ce.colorSchemeSelector]);let Pe=!0;(L||V.cssVariables===!1||Q&&G?.cssVarPrefix===J)&&(Pe=!1);const fe=re.jsxs(K.Fragment,{children:[re.jsx(w4,{themeId:N?e:void 0,theme:Ce,children:D}),Pe&&re.jsx(r4,{styles:Ce.generateStyleSheets?.()||[]})]});return Q?fe:re.jsx(h.Provider,{value:Re,children:fe})}const S=typeof l=="string"?l:l.light,y=typeof l=="string"?l:l.dark;return{CssVarsProvider:p,useColorScheme:f,getInitColorSchemeScript:w=>zw({colorSchemeStorageKey:a,defaultLightColorScheme:S,defaultDarkColorScheme:y,modeStorageKey:i,...w})}}function Ww(n=""){function e(...i){if(!i.length)return"";const a=i[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${a}${e(...i.slice(1))})`:`, ${a}`}return(i,...a)=>`var(--${n?`${n}-`:""}${i}${e(...a)})`}const Jy=(n,e,t,i=[])=>{let a=n;e.forEach((o,l)=>{l===e.length-1?Array.isArray(a)?a[Number(o)]=t:a&&typeof a=="object"&&(a[o]=t):a&&typeof a=="object"&&(a[o]||(a[o]=i.includes(o)?[]:{}),a=a[o])})},$w=(n,e,t)=>{function i(a,o=[],l=[]){Object.entries(a).forEach(([c,d])=>{(!t||t&&!t([...o,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?i(d,[...o,c],Array.isArray(d)?[...l,c]:l):e([...o,c],d,l))})}i(n)},Kw=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function t1(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},a={},o={},l={};return $w(n,(c,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!i||!i(c,d))){const f=`--${t?`${t}-`:""}${c.join("-")}`,m=Kw(c,d);Object.assign(a,{[f]:m}),Jy(o,c,`var(${f})`,h),Jy(l,c,`var(${f}, ${m})`,h)}},c=>c[0]==="vars"),{css:a,vars:o,varsWithDefaults:l}}function Zw(n,e={}){const{getSelector:t=w,disableCssColorScheme:i,colorSchemeSelector:a,enableContrastVars:o}=e,{colorSchemes:l={},components:c,defaultColorScheme:d="light",...h}=n,{vars:f,css:m,varsWithDefaults:v}=t1(h,e);let p=v;const S={},{[d]:y,...b}=l;if(Object.entries(b||{}).forEach(([x,R])=>{const{vars:I,css:k,varsWithDefaults:_}=t1(R,e);p=hn(p,_),S[x]={css:k,vars:I}}),y){const{css:x,vars:R,varsWithDefaults:I}=t1(y,e);p=hn(p,I),S[d]={css:x,vars:R}}function w(x,R){let I=a;if(a==="class"&&(I=".%s"),a==="data"&&(I="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(I=`[${a}="%s"]`),x){if(I==="media")return n.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${l[x]?.palette?.mode||x})`]:{":root":R}};if(I)return n.defaultColorScheme===x?`:root, ${I.replace("%s",String(x))}`:I.replace("%s",String(x))}return":root"}return{vars:p,generateThemeVars:()=>{let x={...f};return Object.entries(S).forEach(([,{vars:R}])=>{x=hn(x,R)}),x},generateStyleSheets:()=>{const x=[],R=n.defaultColorScheme||"light";function I(M,U){Object.keys(U).length&&x.push(typeof M=="string"?{[M]:{...U}}:M)}I(t(void 0,{...m}),m);const{[R]:k,..._}=S;if(k){const{css:M}=k,U=l[R]?.palette?.mode,B=!i&&U?{colorScheme:U,...M}:{...M};I(t(R,{...B}),B)}return Object.entries(_).forEach(([M,{css:U}])=>{const B=l[M]?.palette?.mode,L=!i&&B?{colorScheme:B,...U}:{...U};I(t(M,{...L}),L)}),o&&x.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),x}}}function Jw(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function it(n,e,t=void 0){const i={};for(const a in n){const o=n[a];let l="",c=!0;for(let d=0;d<o.length;d+=1){const h=o[d];h&&(l+=(c===!0?"":" ")+e(h),c=!1,t&&t[h]&&(l+=" "+t[h]))}i[a]=l}return i}function n1(n,e){return K.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const e9=ud(),t9=bw("div",{name:"MuiStack",slot:"Root"});function n9(n){return Cw({props:n,name:"MuiStack",defaultTheme:e9})}function i9(n,e){const t=K.Children.toArray(n).filter(Boolean);return t.reduce((i,a,o)=>(i.push(a),o<t.length-1&&i.push(K.cloneElement(e,{key:`separator-${o}`})),i),[])}const r9=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],a9=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...xi({theme:e},Kf({values:n.direction,breakpoints:e.breakpoints.values}),i=>({flexDirection:i}))};if(n.spacing){const i=rd(e),a=Object.keys(e.breakpoints.values).reduce((d,h)=>((typeof n.spacing=="object"&&n.spacing[h]!=null||typeof n.direction=="object"&&n.direction[h]!=null)&&(d[h]=!0),d),{}),o=Kf({values:n.direction,base:a}),l=Kf({values:n.spacing,base:a});typeof o=="object"&&Object.keys(o).forEach((d,h,f)=>{if(!o[d]){const v=h>0?o[f[h-1]]:"column";o[d]=v}}),t=hn(t,xi({theme:e},l,(d,h)=>n.useFlexGap?{gap:to(i,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${r9(h?o[h]:n.direction)}`]:to(i,d)}}))}return t=vT(e.breakpoints,t),t};function o9(n={}){const{createStyledComponent:e=t9,useThemeProps:t=n9,componentName:i="MuiStack"}=n,a=()=>it({root:["root"]},d=>tt(i,d),{}),o=e(a9);return K.forwardRef(function(d,h){const f=t(d),m=Ug(f),{component:v="div",direction:p="column",spacing:S=0,divider:y,children:b,className:w,useFlexGap:D=!1,...C}=m,x={direction:p,spacing:S,useFlexGap:D},R=a();return re.jsx(o,{as:v,ownerState:x,ref:h,className:Qe(R.root,w),...C,children:y?i9(b,y):b})})}function A4(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bc.white,default:bc.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const R4=A4();function O4(){return{text:{primary:bc.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bc.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const H1=O4();function ev(n,e,t,i){const a=i.light||i,o=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=pd(n.main,a):e==="dark"&&(n.dark=gd(n.main,o)))}function tv(n,e,t,i,a){const o=a.light||a,l=a.dark||a*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(l*100).toFixed(0)}%)`))}function s9(n="light"){return n==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[700],light:Ho[400],dark:Ho[800]}}function l9(n="light"){return n==="dark"?{main:Qo[200],light:Qo[50],dark:Qo[400]}:{main:Qo[500],light:Qo[300],dark:Qo[700]}}function c9(n="light"){return n==="dark"?{main:Vo[500],light:Vo[300],dark:Vo[700]}:{main:Vo[700],light:Vo[400],dark:Vo[800]}}function u9(n="light"){return n==="dark"?{main:jo[400],light:jo[300],dark:jo[700]}:{main:jo[700],light:jo[500],dark:jo[900]}}function d9(n="light"){return n==="dark"?{main:Yo[400],light:Yo[300],dark:Yo[700]}:{main:Yo[800],light:Yo[500],dark:Yo[900]}}function h9(n="light"){return n==="dark"?{main:cl[400],light:cl[300],dark:cl[700]}:{main:"#ed6c02",light:cl[500],dark:cl[900]}}function f9(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function zg(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:a,...o}=n,l=n.primary||s9(e),c=n.secondary||l9(e),d=n.error||c9(e),h=n.info||u9(e),f=n.success||d9(e),m=n.warning||h9(e);function v(b){return a?f9(b):Rw(b,H1.text.primary)>=t?H1.text.primary:R4.text.primary}const p=({color:b,name:w,mainShade:D=500,lightShade:C=300,darkShade:x=700})=>{if(b={...b},!b.main&&b[D]&&(b.main=b[D]),!b.hasOwnProperty("main"))throw new Error(Rr(11,w?` (${w})`:"",D));if(typeof b.main!="string")throw new Error(Rr(12,w?` (${w})`:"",JSON.stringify(b.main)));return a?(tv(a,b,"light",C,i),tv(a,b,"dark",x,i)):(ev(b,"light",C,i),ev(b,"dark",x,i)),b.contrastText||(b.contrastText=v(b.main)),b};let S;return e==="light"?S=A4():e==="dark"&&(S=O4()),hn({common:{...bc},mode:e,primary:p({color:l,name:"primary"}),secondary:p({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:d,name:"error"}),warning:p({color:m,name:"warning"}),info:p({color:h,name:"info"}),success:p({color:f,name:"success"}),grey:u8,contrastThreshold:t,getContrastText:v,augmentColor:p,tonalOffset:i,...S},o)}function g9(n){const e={};return Object.entries(n).forEach(i=>{const[a,o]=i;typeof o=="object"&&(e[a]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function p9(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function m9(n){return Math.round(n*1e5)/1e5}const nv={textTransform:"uppercase"},iv='"Roboto", "Helvetica", "Arial", sans-serif';function P4(n,e){const{fontFamily:t=iv,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:o=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:f,...m}=typeof e=="function"?e(n):e,v=i/14,p=f||(b=>`${b/d*v}rem`),S=(b,w,D,C,x)=>({fontFamily:t,fontWeight:b,fontSize:p(w),lineHeight:D,...t===iv?{letterSpacing:`${m9(C/w)}em`}:{},...x,...h}),y={h1:S(a,96,1.167,-1.5),h2:S(a,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(l,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(l,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(l,14,1.75,.4,nv),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,nv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return hn({htmlFontSize:d,pxToRem:p,fontFamily:t,fontSize:i,fontWeightLight:a,fontWeightRegular:o,fontWeightMedium:l,fontWeightBold:c,...y},m,{clone:!1})}const S9=.2,y9=.14,v9=.12;function zt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${S9})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${y9})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${v9})`].join(",")}const b9=["none",zt(0,2,1,-1,0,1,1,0,0,1,3,0),zt(0,3,1,-2,0,2,2,0,0,1,5,0),zt(0,3,3,-2,0,3,4,0,0,1,8,0),zt(0,2,4,-1,0,4,5,0,0,1,10,0),zt(0,3,5,-1,0,5,8,0,0,1,14,0),zt(0,3,5,-1,0,6,10,0,0,1,18,0),zt(0,4,5,-2,0,7,10,1,0,2,16,1),zt(0,5,5,-3,0,8,10,1,0,3,14,2),zt(0,5,6,-3,0,9,12,1,0,3,16,2),zt(0,6,6,-3,0,10,14,1,0,4,18,3),zt(0,6,7,-4,0,11,15,1,0,4,20,3),zt(0,7,8,-4,0,12,17,2,0,5,22,4),zt(0,7,8,-4,0,13,19,2,0,5,24,4),zt(0,7,9,-4,0,14,21,2,0,5,26,4),zt(0,8,9,-5,0,15,22,2,0,6,28,5),zt(0,8,10,-5,0,16,24,2,0,6,30,5),zt(0,8,11,-5,0,17,26,2,0,6,32,5),zt(0,9,11,-5,0,18,28,2,0,7,34,6),zt(0,9,12,-6,0,19,29,2,0,7,36,6),zt(0,10,13,-6,0,20,31,3,0,8,38,7),zt(0,10,13,-6,0,21,33,3,0,8,40,7),zt(0,10,14,-6,0,22,35,3,0,8,42,7),zt(0,11,14,-7,0,23,36,3,0,9,44,8),zt(0,11,15,-7,0,24,38,3,0,9,46,8)],C9={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},D9={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rv(n){return`${Math.round(n)}ms`}function T9(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function w9(n){const e={...C9,...n.easing},t={...D9,...n.duration};return{getAutoHeightDuration:T9,create:(a=["all"],o={})=>{const{duration:l=t.standard,easing:c=e.easeInOut,delay:d=0,...h}=o;return(Array.isArray(a)?a:[a]).map(f=>`${f} ${typeof l=="string"?l:rv(l)} ${c} ${typeof d=="string"?d:rv(d)}`).join(",")},...n,easing:e,duration:t}}const x9={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function A9(n){return Vi(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function L4(n={}){const e={...n};function t(i){const a=Object.entries(i);for(let o=0;o<a.length;o++){const[l,c]=a[o];!A9(c)||l.startsWith("unstable_")?delete i[l]:Vi(c)&&(i[l]={...c},t(i[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function av(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const R9=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function O9(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:xc(e,R9(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${av(t)})`:pd(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${av(t)})`:gd(e,t)}})}function j1(n={},...e){const{breakpoints:t,mixins:i={},spacing:a,palette:o={},transitions:l={},typography:c={},shape:d,colorSpace:h,...f}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Rr(20));const m=zg({...o,colorSpace:h}),v=ud(n);let p=hn(v,{mixins:p9(v.breakpoints,i),palette:m,shadows:b9.slice(),typography:P4(m,c),transitions:w9(l),zIndex:{...x9}});return p=hn(p,f),p=e.reduce((S,y)=>hn(S,y),p),p.unstable_sxConfig={...Mc,...f?.unstable_sxConfig},p.unstable_sx=function(y){return da({sx:y,theme:this})},p.toRuntimeSource=L4,O9(p),p}function Y1(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const P9=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=Y1(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function I4(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function E4(n){return n==="dark"?P9:[]}function L9(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:a,...o}=n,l=zg({...e,colorSpace:a});return{palette:l,opacity:{...I4(l.mode),...t},overlays:i||E4(l.mode),...o}}function I9(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const E9=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],_9=n=>(e,t)=>{const i=n.rootSelector||":root",a=n.colorSchemeSelector;let o=a;if(a==="class"&&(o=".%s"),a==="data"&&(o="[data-%s]"),a?.startsWith("data-")&&!a.includes("%s")&&(o=`[${a}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return E9(n.cssVarPrefix).forEach(c=>{l[c]=t[c],delete t[c]}),o==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:l}}:o?{[o.replace("%s",e)]:l,[`${i}, ${o.replace("%s",e)}`]:t}:{[i]:{...t,...l}}}if(o&&o!=="media")return`${i}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(o)return o.replace("%s",String(e))}return i};function M9(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function xe(n,e,t){!n[e]&&t&&(n[e]=t)}function sc(n){return typeof n!="string"||!n.startsWith("hsl")?n:b4(n)}function fr(n,e){`${e}Channel`in n||(n[`${e}Channel`]=oc(sc(n[e])))}function F9(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ui=n=>{try{return n()}catch{}},U9=(n="mui")=>Ww(n);function i1(n,e,t,i,a){if(!t)return;t=t===!0?{}:t;const o=a==="dark"?"dark":"light";if(!i){e[a]=L9({...t,palette:{mode:o,...t?.palette},colorSpace:n});return}const{palette:l,...c}=j1({...i,palette:{mode:o,...t?.palette},colorSpace:n});return e[a]={...t,palette:l,opacity:{...I4(o),...t?.opacity},overlays:t?.overlays||E4(o)},c}function k9(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:a=!1,cssVarPrefix:o="mui",nativeColor:l=!1,shouldSkipGeneratingVar:c=I9,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:h=":root",...f}=n,m=Object.keys(t)[0],v=i||(t.light&&m!=="light"?"light":m),p=U9(o),{[v]:S,light:y,dark:b,...w}=t,D={...w};let C=S;if((v==="dark"&&!("dark"in t)||v==="light"&&!("light"in t))&&(C=!0),!C)throw new Error(Rr(21,v));let x;l&&(x="oklch");const R=i1(x,D,C,f,v);y&&!D.light&&i1(x,D,y,void 0,"light"),b&&!D.dark&&i1(x,D,b,void 0,"dark");let I={defaultColorScheme:v,...R,cssVarPrefix:o,colorSchemeSelector:d,rootSelector:h,getCssVar:p,colorSchemes:D,font:{...g9(R.typography),...R.font},spacing:F9(f.spacing)};Object.keys(I.colorSchemes).forEach(B=>{const L=I.colorSchemes[B].palette,P=E=>{const F=E.split("-"),G=F[1],H=F[2];return p(E,L[G][H])};L.mode==="light"&&(xe(L.common,"background","#fff"),xe(L.common,"onBackground","#000")),L.mode==="dark"&&(xe(L.common,"background","#000"),xe(L.common,"onBackground","#fff"));function A(E,F,G){if(x){let H;return E===Ea&&(H=`transparent ${((1-G)*100).toFixed(0)}%`),E===At&&(H=`#000 ${(G*100).toFixed(0)}%`),E===Rt&&(H=`#fff ${(G*100).toFixed(0)}%`),`color-mix(in ${x}, ${F}, ${H})`}return E(F,G)}if(M9(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){xe(L.Alert,"errorColor",A(At,L.error.light,.6)),xe(L.Alert,"infoColor",A(At,L.info.light,.6)),xe(L.Alert,"successColor",A(At,L.success.light,.6)),xe(L.Alert,"warningColor",A(At,L.warning.light,.6)),xe(L.Alert,"errorFilledBg",P("palette-error-main")),xe(L.Alert,"infoFilledBg",P("palette-info-main")),xe(L.Alert,"successFilledBg",P("palette-success-main")),xe(L.Alert,"warningFilledBg",P("palette-warning-main")),xe(L.Alert,"errorFilledColor",Ui(()=>L.getContrastText(L.error.main))),xe(L.Alert,"infoFilledColor",Ui(()=>L.getContrastText(L.info.main))),xe(L.Alert,"successFilledColor",Ui(()=>L.getContrastText(L.success.main))),xe(L.Alert,"warningFilledColor",Ui(()=>L.getContrastText(L.warning.main))),xe(L.Alert,"errorStandardBg",A(Rt,L.error.light,.9)),xe(L.Alert,"infoStandardBg",A(Rt,L.info.light,.9)),xe(L.Alert,"successStandardBg",A(Rt,L.success.light,.9)),xe(L.Alert,"warningStandardBg",A(Rt,L.warning.light,.9)),xe(L.Alert,"errorIconColor",P("palette-error-main")),xe(L.Alert,"infoIconColor",P("palette-info-main")),xe(L.Alert,"successIconColor",P("palette-success-main")),xe(L.Alert,"warningIconColor",P("palette-warning-main")),xe(L.AppBar,"defaultBg",P("palette-grey-100")),xe(L.Avatar,"defaultBg",P("palette-grey-400")),xe(L.Button,"inheritContainedBg",P("palette-grey-300")),xe(L.Button,"inheritContainedHoverBg",P("palette-grey-A100")),xe(L.Chip,"defaultBorder",P("palette-grey-400")),xe(L.Chip,"defaultAvatarColor",P("palette-grey-700")),xe(L.Chip,"defaultIconColor",P("palette-grey-700")),xe(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),xe(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),xe(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),xe(L.LinearProgress,"primaryBg",A(Rt,L.primary.main,.62)),xe(L.LinearProgress,"secondaryBg",A(Rt,L.secondary.main,.62)),xe(L.LinearProgress,"errorBg",A(Rt,L.error.main,.62)),xe(L.LinearProgress,"infoBg",A(Rt,L.info.main,.62)),xe(L.LinearProgress,"successBg",A(Rt,L.success.main,.62)),xe(L.LinearProgress,"warningBg",A(Rt,L.warning.main,.62)),xe(L.Skeleton,"bg",x?A(Ea,L.text.primary,.11):`rgba(${P("palette-text-primaryChannel")} / 0.11)`),xe(L.Slider,"primaryTrack",A(Rt,L.primary.main,.62)),xe(L.Slider,"secondaryTrack",A(Rt,L.secondary.main,.62)),xe(L.Slider,"errorTrack",A(Rt,L.error.main,.62)),xe(L.Slider,"infoTrack",A(Rt,L.info.main,.62)),xe(L.Slider,"successTrack",A(Rt,L.success.main,.62)),xe(L.Slider,"warningTrack",A(Rt,L.warning.main,.62));const E=x?A(At,L.background.default,.6825):Ku(L.background.default,.8);xe(L.SnackbarContent,"bg",E),xe(L.SnackbarContent,"color",Ui(()=>x?H1.text.primary:L.getContrastText(E))),xe(L.SpeedDialAction,"fabHoverBg",Ku(L.background.paper,.15)),xe(L.StepConnector,"border",P("palette-grey-400")),xe(L.StepContent,"border",P("palette-grey-400")),xe(L.Switch,"defaultColor",P("palette-common-white")),xe(L.Switch,"defaultDisabledColor",P("palette-grey-100")),xe(L.Switch,"primaryDisabledColor",A(Rt,L.primary.main,.62)),xe(L.Switch,"secondaryDisabledColor",A(Rt,L.secondary.main,.62)),xe(L.Switch,"errorDisabledColor",A(Rt,L.error.main,.62)),xe(L.Switch,"infoDisabledColor",A(Rt,L.info.main,.62)),xe(L.Switch,"successDisabledColor",A(Rt,L.success.main,.62)),xe(L.Switch,"warningDisabledColor",A(Rt,L.warning.main,.62)),xe(L.TableCell,"border",A(Rt,A(Ea,L.divider,1),.88)),xe(L.Tooltip,"bg",A(Ea,L.grey[700],.92))}if(L.mode==="dark"){xe(L.Alert,"errorColor",A(Rt,L.error.light,.6)),xe(L.Alert,"infoColor",A(Rt,L.info.light,.6)),xe(L.Alert,"successColor",A(Rt,L.success.light,.6)),xe(L.Alert,"warningColor",A(Rt,L.warning.light,.6)),xe(L.Alert,"errorFilledBg",P("palette-error-dark")),xe(L.Alert,"infoFilledBg",P("palette-info-dark")),xe(L.Alert,"successFilledBg",P("palette-success-dark")),xe(L.Alert,"warningFilledBg",P("palette-warning-dark")),xe(L.Alert,"errorFilledColor",Ui(()=>L.getContrastText(L.error.dark))),xe(L.Alert,"infoFilledColor",Ui(()=>L.getContrastText(L.info.dark))),xe(L.Alert,"successFilledColor",Ui(()=>L.getContrastText(L.success.dark))),xe(L.Alert,"warningFilledColor",Ui(()=>L.getContrastText(L.warning.dark))),xe(L.Alert,"errorStandardBg",A(At,L.error.light,.9)),xe(L.Alert,"infoStandardBg",A(At,L.info.light,.9)),xe(L.Alert,"successStandardBg",A(At,L.success.light,.9)),xe(L.Alert,"warningStandardBg",A(At,L.warning.light,.9)),xe(L.Alert,"errorIconColor",P("palette-error-main")),xe(L.Alert,"infoIconColor",P("palette-info-main")),xe(L.Alert,"successIconColor",P("palette-success-main")),xe(L.Alert,"warningIconColor",P("palette-warning-main")),xe(L.AppBar,"defaultBg",P("palette-grey-900")),xe(L.AppBar,"darkBg",P("palette-background-paper")),xe(L.AppBar,"darkColor",P("palette-text-primary")),xe(L.Avatar,"defaultBg",P("palette-grey-600")),xe(L.Button,"inheritContainedBg",P("palette-grey-800")),xe(L.Button,"inheritContainedHoverBg",P("palette-grey-700")),xe(L.Chip,"defaultBorder",P("palette-grey-700")),xe(L.Chip,"defaultAvatarColor",P("palette-grey-300")),xe(L.Chip,"defaultIconColor",P("palette-grey-300")),xe(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),xe(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),xe(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),xe(L.LinearProgress,"primaryBg",A(At,L.primary.main,.5)),xe(L.LinearProgress,"secondaryBg",A(At,L.secondary.main,.5)),xe(L.LinearProgress,"errorBg",A(At,L.error.main,.5)),xe(L.LinearProgress,"infoBg",A(At,L.info.main,.5)),xe(L.LinearProgress,"successBg",A(At,L.success.main,.5)),xe(L.LinearProgress,"warningBg",A(At,L.warning.main,.5)),xe(L.Skeleton,"bg",x?A(Ea,L.text.primary,.13):`rgba(${P("palette-text-primaryChannel")} / 0.13)`),xe(L.Slider,"primaryTrack",A(At,L.primary.main,.5)),xe(L.Slider,"secondaryTrack",A(At,L.secondary.main,.5)),xe(L.Slider,"errorTrack",A(At,L.error.main,.5)),xe(L.Slider,"infoTrack",A(At,L.info.main,.5)),xe(L.Slider,"successTrack",A(At,L.success.main,.5)),xe(L.Slider,"warningTrack",A(At,L.warning.main,.5));const E=x?A(Rt,L.background.default,.985):Ku(L.background.default,.98);xe(L.SnackbarContent,"bg",E),xe(L.SnackbarContent,"color",Ui(()=>x?R4.text.primary:L.getContrastText(E))),xe(L.SpeedDialAction,"fabHoverBg",Ku(L.background.paper,.15)),xe(L.StepConnector,"border",P("palette-grey-600")),xe(L.StepContent,"border",P("palette-grey-600")),xe(L.Switch,"defaultColor",P("palette-grey-300")),xe(L.Switch,"defaultDisabledColor",P("palette-grey-600")),xe(L.Switch,"primaryDisabledColor",A(At,L.primary.main,.55)),xe(L.Switch,"secondaryDisabledColor",A(At,L.secondary.main,.55)),xe(L.Switch,"errorDisabledColor",A(At,L.error.main,.55)),xe(L.Switch,"infoDisabledColor",A(At,L.info.main,.55)),xe(L.Switch,"successDisabledColor",A(At,L.success.main,.55)),xe(L.Switch,"warningDisabledColor",A(At,L.warning.main,.55)),xe(L.TableCell,"border",A(At,A(Ea,L.divider,1),.68)),xe(L.Tooltip,"bg",A(Ea,L.grey[700],.92))}fr(L.background,"default"),fr(L.background,"paper"),fr(L.common,"background"),fr(L.common,"onBackground"),fr(L,"divider"),Object.keys(L).forEach(E=>{const F=L[E];E!=="tonalOffset"&&F&&typeof F=="object"&&(F.main&&xe(L[E],"mainChannel",oc(sc(F.main))),F.light&&xe(L[E],"lightChannel",oc(sc(F.light))),F.dark&&xe(L[E],"darkChannel",oc(sc(F.dark))),F.contrastText&&xe(L[E],"contrastTextChannel",oc(sc(F.contrastText))),E==="text"&&(fr(L[E],"primary"),fr(L[E],"secondary")),E==="action"&&(F.active&&fr(L[E],"active"),F.selected&&fr(L[E],"selected")))})}),I=e.reduce((B,L)=>hn(B,L),I);const k={prefix:o,disableCssColorScheme:a,shouldSkipGeneratingVar:c,getSelector:_9(I),enableContrastVars:l},{vars:_,generateThemeVars:M,generateStyleSheets:U}=Zw(I,k);return I.vars=_,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([B,L])=>{I[B]=L}),I.generateThemeVars=M,I.generateStyleSheets=U,I.generateSpacing=function(){return u4(f.spacing,rd(this))},I.getColorSchemeSelector=Jw(d),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=c,I.unstable_sxConfig={...Mc,...f?.unstable_sxConfig},I.unstable_sx=function(L){return da({sx:L,theme:this})},I.toRuntimeSource=L4,I}function ov(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:zg({...t===!0?{}:t.palette,mode:e})})}function md(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...l}=n,c=o||"light",d=a?.[c],h={...a,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return j1(n,...e);let f=t;"palette"in n||h[c]&&(h[c]!==!0?f=h[c].palette:c==="dark"&&(f={mode:"dark"}));const m=j1({...n,palette:f},...e);return m.defaultColorScheme=c,m.colorSchemes=h,m.palette.mode==="light"&&(m.colorSchemes.light={...h.light!==!0&&h.light,palette:m.palette},ov(m,"dark",h.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:m.palette},ov(m,"light",h.light)),m}return!t&&!("light"in h)&&c==="light"&&(h.light=!0),k9({...l,colorSchemes:h,defaultColorScheme:c,...typeof i!="boolean"&&i},...e)}const Vg=md();function gs(){const n=hd(Vg);return n[wi]||n}function Sd(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Yi=n=>Sd(n)&&n!=="classes",Fe=m4({themeId:wi,defaultTheme:Vg,rootShouldForwardProp:Yi});function N9({theme:n,...e}){const t=wi in n?n[wi]:void 0;return re.jsx(w4,{...e,themeId:t?wi:void 0,theme:t||n})}const Zu={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:q9}=Xw({themeId:wi,theme:()=>md({cssVariables:!0}),colorSchemeStorageKey:Zu.colorSchemeStorageKey,modeStorageKey:Zu.modeStorageKey,defaultColorScheme:{light:Zu.defaultLightColorScheme,dark:Zu.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:P4(n.palette,n.typography)};return e.unstable_sx=function(i){return da({sx:i,theme:this})},e}}),B9=q9;function G9({theme:n,...e}){const t=K.useMemo(()=>{if(typeof n=="function")return n;const i=wi in n?n[wi]:n;return"colorSchemes"in i?null:"vars"in i?n:{...n,vars:null}},[n]);return t?re.jsx(N9,{theme:t,...e}):re.jsx(B9,{theme:n,...e})}function sv(...n){return n.reduce((e,t)=>t==null?e:function(...a){e.apply(this,a),t.apply(this,a)},()=>{})}function z9(n){return re.jsx(d4,{...n,defaultTheme:Vg,themeId:wi})}function Qg(n){return function(t){return re.jsx(z9,{styles:typeof n=="function"?i=>n({theme:i,...t}):n})}}function V9(){return Ug}const Ze=Bw;function rt(n){return Uw(n)}function Q9(n){return tt("MuiSvgIcon",n)}nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const H9=n=>{const{color:e,fontSize:t,classes:i}=n,a={root:["root",e!=="inherit"&&`color${Ue(e)}`,`fontSize${Ue(t)}`]};return it(a,Q9,i)},j9=Fe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Ue(t.color)}`],e[`fontSize${Ue(t.fontSize)}`]]}})(Ze(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),X1=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiSvgIcon"}),{children:a,className:o,color:l="inherit",component:c="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:f=!1,titleAccess:m,viewBox:v="0 0 24 24",...p}=i,S=K.isValidElement(a)&&a.type==="svg",y={...i,color:l,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:f,viewBox:v,hasSvgAsChild:S},b={};f||(b.viewBox=v);const w=H9(y);return re.jsxs(j9,{as:c,className:Qe(w.root,o),focusable:"false",color:h,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:t,...b,...p,...S&&a.props,ownerState:y,children:[S?a.props.children:a,m?re.jsx("title",{children:m}):null]})});X1.muiName="SvgIcon";function Pr(n,e){function t(i,a){return re.jsx(X1,{"data-testid":void 0,ref:a,...i,children:n})}return t.muiName=X1.muiName,K.memo(K.forwardRef(t))}function Hg(n,e=166){let t;function i(...a){const o=()=>{n.apply(this,a)};clearTimeout(t),t=setTimeout(o,e)}return i.clear=()=>{clearTimeout(t)},i}function Rn(n){return n&&n.ownerDocument||document}function Ri(n){return Rn(n).defaultView||window}function lv(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function W1(n){const{controlled:e,default:t,name:i,state:a="value"}=n,{current:o}=K.useRef(e!==void 0),[l,c]=K.useState(t),d=o?e:l,h=K.useCallback(f=>{o||c(f)},[]);return[d,h]}function ji(n){const e=K.useRef(n);return Ai(()=>{e.current=n}),K.useRef((...t)=>(0,e.current)(...t)).current}function xn(...n){const e=K.useRef(void 0),t=K.useCallback(i=>{const a=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const l=o,c=l(i);return typeof c=="function"?c:()=>{l(null)}}return o.current=i,()=>{o.current=null}});return()=>{a.forEach(o=>o?.())}},n);return K.useMemo(()=>n.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=t(i))},n)}function Y9(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function X9(n,e){if(!n)return e;function t(l,c){const d={};return Object.keys(c).forEach(h=>{Y9(h,c[h])&&typeof l[h]=="function"&&(d[h]=(...f)=>{l[h](...f),c[h](...f)})}),d}if(typeof n=="function"||typeof e=="function")return l=>{const c=typeof e=="function"?e(l):e,d=typeof n=="function"?n({...l,...c}):n,h=Qe(l?.className,c?.className,d?.className),f=t(d,c);return{...c,...d,...f,...!!h&&{className:h},...c?.style&&d?.style&&{style:{...c.style,...d.style}},...c?.sx&&d?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const i=e,a=t(n,i),o=Qe(i?.className,n?.className);return{...e,...n,...a,...!!o&&{className:o},...i?.style&&n?.style&&{style:{...i.style,...n.style}},...i?.sx&&n?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function _4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function $1(n,e){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},$1(n,e)}function M4(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,$1(n,e)}var F4=QC();const Ju=Pc(F4),cv={disabled:!1},z0=Bn.createContext(null);var W9=function(e){return e.scrollTop},lc="unmounted",za="exited",Va="entering",Zo="entered",K1="exiting",Oi=function(n){M4(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var l=a,c=l&&!l.isMounting?i.enter:i.appear,d;return o.appearStatus=null,i.in?c?(d=za,o.appearStatus=Va):d=Zo:i.unmountOnExit||i.mountOnEnter?d=lc:d=za,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(a,o){var l=a.in;return l&&o.status===lc?{status:za}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var o=null;if(a!==this.props){var l=this.state.status;this.props.in?l!==Va&&l!==Zo&&(o=Va):(l===Va||l===Zo)&&(o=K1)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,o,l,c;return o=l=c=a,a!=null&&typeof a!="number"&&(o=a.exit,l=a.enter,c=a.appear!==void 0?a.appear:l),{exit:o,enter:l,appear:c}},t.updateStatus=function(a,o){if(a===void 0&&(a=!1),o!==null)if(this.cancelNextCallback(),o===Va){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Ju.findDOMNode(this);l&&W9(l)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===za&&this.setState({status:lc})},t.performEnter=function(a){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:a,d=this.props.nodeRef?[c]:[Ju.findDOMNode(this),c],h=d[0],f=d[1],m=this.getTimeouts(),v=c?m.appear:m.enter;if(!a&&!l||cv.disabled){this.safeSetState({status:Zo},function(){o.props.onEntered(h)});return}this.props.onEnter(h,f),this.safeSetState({status:Va},function(){o.props.onEntering(h,f),o.onTransitionEnd(v,function(){o.safeSetState({status:Zo},function(){o.props.onEntered(h,f)})})})},t.performExit=function(){var a=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Ju.findDOMNode(this);if(!o||cv.disabled){this.safeSetState({status:za},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:K1},function(){a.props.onExiting(c),a.onTransitionEnd(l.exit,function(){a.safeSetState({status:za},function(){a.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,o){o=this.setNextCallback(o),this.setState(a,o)},t.setNextCallback=function(a){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,a(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},t.onTransitionEnd=function(a,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Ju.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],h=d[0],f=d[1];this.props.addEndListener(h,f)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===lc)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=_4(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bn.createElement(z0.Provider,{value:null},typeof l=="function"?l(a,c):Bn.cloneElement(Bn.Children.only(l),c))},e}(Bn.Component);Oi.contextType=z0;Oi.propTypes={};function Xo(){}Oi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xo,onEntering:Xo,onEntered:Xo,onExit:Xo,onExiting:Xo,onExited:Xo};Oi.UNMOUNTED=lc;Oi.EXITED=za;Oi.ENTERING=Va;Oi.ENTERED=Zo;Oi.EXITING=K1;function $9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jg(n,e){var t=function(o){return e&&K.isValidElement(o)?e(o):o},i=Object.create(null);return n&&K.Children.map(n,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function K9(n,e){n=n||{},e=e||{};function t(f){return f in e?e[f]:n[f]}var i=Object.create(null),a=[];for(var o in n)o in e?a.length&&(i[o]=a,a=[]):a.push(o);var l,c={};for(var d in e){if(i[d])for(l=0;l<i[d].length;l++){var h=i[d][l];c[i[d][l]]=t(h)}c[d]=t(d)}for(l=0;l<a.length;l++)c[a[l]]=t(a[l]);return c}function Ya(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Z9(n,e){return jg(n.children,function(t){return K.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Ya(t,"appear",n),enter:Ya(t,"enter",n),exit:Ya(t,"exit",n)})})}function J9(n,e,t){var i=jg(n.children),a=K9(e,i);return Object.keys(a).forEach(function(o){var l=a[o];if(K.isValidElement(l)){var c=o in e,d=o in i,h=e[o],f=K.isValidElement(h)&&!h.props.in;d&&(!c||f)?a[o]=K.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:Ya(l,"exit",n),enter:Ya(l,"enter",n)}):!d&&c&&!f?a[o]=K.cloneElement(l,{in:!1}):d&&c&&K.isValidElement(h)&&(a[o]=K.cloneElement(l,{onExited:t.bind(null,l),in:h.props.in,exit:Ya(l,"exit",n),enter:Ya(l,"enter",n)}))}}),a}var ex=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},tx={component:"div",childFactory:function(e){return e}},Yg=function(n){M4(e,n);function e(i,a){var o;o=n.call(this,i,a)||this;var l=o.handleExited.bind($9(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,o){var l=o.children,c=o.handleExited,d=o.firstRender;return{children:d?Z9(a,c):J9(a,l,c),firstRender:!1}},t.handleExited=function(a,o){var l=jg(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(o),this.mounted&&this.setState(function(c){var d=q0({},c.children);return delete d[a.key],{children:d}}))},t.render=function(){var a=this.props,o=a.component,l=a.childFactory,c=_4(a,["component","childFactory"]),d=this.state.contextValue,h=ex(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?Bn.createElement(z0.Provider,{value:d},h):Bn.createElement(z0.Provider,{value:d},Bn.createElement(o,c,h))},e}(Bn.Component);Yg.propTypes={};Yg.defaultProps=tx;const uv={};function U4(n,e){const t=K.useRef(uv);return t.current===uv&&(t.current=n(e)),t}const nx=[];function ix(n){K.useEffect(n,nx)}class Xg{static create(){return new Xg}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function k4(){const n=U4(Xg.create).current;return ix(n.disposeEffect),n}const Wg=n=>n.scrollTop;function os(n,e){const{timeout:t,easing:i,style:a={}}=n;return{duration:a.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:a.transitionTimingFunction??(typeof i=="object"?i[e.mode]:i),delay:a.transitionDelay}}function rx(n){return tt("MuiPaper",n)}nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ax=n=>{const{square:e,elevation:t,variant:i,classes:a}=n,o={root:["root",i,!e&&"rounded",i==="elevation"&&`elevation${t}`]};return it(o,rx,a)},ox=Fe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(Ze(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Uc=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiPaper"}),a=gs(),{className:o,component:l="div",elevation:c=1,square:d=!1,variant:h="elevation",...f}=i,m={...i,component:l,elevation:c,square:d,variant:h},v=ax(m);return re.jsx(ox,{as:l,ownerState:m,className:Qe(v.root,o),ref:t,...f,style:{...h==="elevation"&&{"--Paper-shadow":(a.vars||a).shadows[c],...a.vars&&{"--Paper-overlay":a.vars.overlays?.[c]},...!a.vars&&a.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${xc("#fff",Y1(c))}, ${xc("#fff",Y1(c))})`}},...f.style}})});function sa(n){return typeof n=="string"}function N4(n,e,t){return n===void 0||sa(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function q4(n,e,t){return typeof n=="function"?n(e,t):n}function fc(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function dv(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function B4(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:a,className:o}=n;if(!e){const p=Qe(t?.className,o,a?.className,i?.className),S={...t?.style,...a?.style,...i?.style},y={...t,...a,...i};return p.length>0&&(y.className=p),Object.keys(S).length>0&&(y.style=S),{props:y,internalRef:void 0}}const l=fc({...a,...i}),c=dv(i),d=dv(a),h=e(l),f=Qe(h?.className,t?.className,o,a?.className,i?.className),m={...h?.style,...t?.style,...a?.style,...i?.style},v={...h,...t,...d,...c};return f.length>0&&(v.className=f),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:h.ref}}function Zt(n,e){const{className:t,elementType:i,ownerState:a,externalForwardedProps:o,internalForwardedProps:l,shouldForwardComponentProp:c=!1,...d}=e,{component:h,slots:f={[n]:void 0},slotProps:m={[n]:void 0},...v}=o,p=f[n]||i,S=q4(m[n],a),{props:{component:y,...b},internalRef:w}=B4({className:t,...d,externalForwardedProps:n==="root"?v:void 0,externalSlotProps:S}),D=xn(w,S?.ref,e.ref),C=n==="root"?y||h:y,x=N4(p,{...n==="root"&&!h&&!f[n]&&l,...n!=="root"&&!f[n]&&l,...b,...C&&!c&&{as:C},...C&&c&&{component:C},ref:D},a);return[p,x]}function ss(n){try{return n.matches(":focus-visible")}catch{}return!1}class V0{static create(){return new V0}static use(){const e=U4(V0.create).current,[t,i]=K.useState(!1);return e.shouldMount=t,e.setShouldMount=i,K.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=lx(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function sx(){return V0.use()}function lx(){let n,e;const t=new Promise((i,a)=>{n=i,e=a});return t.resolve=n,t.reject=e,t}function cx(n){const{className:e,classes:t,pulsate:i=!1,rippleX:a,rippleY:o,rippleSize:l,in:c,onExited:d,timeout:h}=n,[f,m]=K.useState(!1),v=Qe(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),p={width:l,height:l,top:-(l/2)+o,left:-(l/2)+a},S=Qe(t.child,f&&t.childLeaving,i&&t.childPulsate);return!c&&!f&&m(!0),K.useEffect(()=>{if(!c&&d!=null){const y=setTimeout(d,h);return()=>{clearTimeout(y)}}},[d,c,h]),re.jsx("span",{className:v,style:p,children:re.jsx("span",{className:S})})}const ui=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Z1=550,ux=80,dx=ga`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,hx=ga`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,fx=ga`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,gx=Fe("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),px=Fe(cx,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${ui.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${dx};
    animation-duration: ${Z1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${ui.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${ui.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${ui.childLeaving} {
    opacity: 0;
    animation-name: ${hx};
    animation-duration: ${Z1}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${ui.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${fx};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,mx=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTouchRipple"}),{center:a=!1,classes:o={},className:l,...c}=i,[d,h]=K.useState([]),f=K.useRef(0),m=K.useRef(null);K.useEffect(()=>{m.current&&(m.current(),m.current=null)},[d]);const v=K.useRef(!1),p=k4(),S=K.useRef(null),y=K.useRef(null),b=K.useCallback(x=>{const{pulsate:R,rippleX:I,rippleY:k,rippleSize:_,cb:M}=x;h(U=>[...U,re.jsx(px,{classes:{ripple:Qe(o.ripple,ui.ripple),rippleVisible:Qe(o.rippleVisible,ui.rippleVisible),ripplePulsate:Qe(o.ripplePulsate,ui.ripplePulsate),child:Qe(o.child,ui.child),childLeaving:Qe(o.childLeaving,ui.childLeaving),childPulsate:Qe(o.childPulsate,ui.childPulsate)},timeout:Z1,pulsate:R,rippleX:I,rippleY:k,rippleSize:_},f.current)]),f.current+=1,m.current=M},[o]),w=K.useCallback((x={},R={},I=()=>{})=>{const{pulsate:k=!1,center:_=a||R.pulsate,fakeElement:M=!1}=R;if(x?.type==="mousedown"&&v.current){v.current=!1;return}x?.type==="touchstart"&&(v.current=!0);const U=M?null:y.current,B=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,P,A;if(_||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)L=Math.round(B.width/2),P=Math.round(B.height/2);else{const{clientX:E,clientY:F}=x.touches&&x.touches.length>0?x.touches[0]:x;L=Math.round(E-B.left),P=Math.round(F-B.top)}if(_)A=Math.sqrt((2*B.width**2+B.height**2)/3),A%2===0&&(A+=1);else{const E=Math.max(Math.abs((U?U.clientWidth:0)-L),L)*2+2,F=Math.max(Math.abs((U?U.clientHeight:0)-P),P)*2+2;A=Math.sqrt(E**2+F**2)}x?.touches?S.current===null&&(S.current=()=>{b({pulsate:k,rippleX:L,rippleY:P,rippleSize:A,cb:I})},p.start(ux,()=>{S.current&&(S.current(),S.current=null)})):b({pulsate:k,rippleX:L,rippleY:P,rippleSize:A,cb:I})},[a,b,p]),D=K.useCallback(()=>{w({},{pulsate:!0})},[w]),C=K.useCallback((x,R)=>{if(p.clear(),x?.type==="touchend"&&S.current){S.current(),S.current=null,p.start(0,()=>{C(x,R)});return}S.current=null,h(I=>I.length>0?I.slice(1):I),m.current=R},[p]);return K.useImperativeHandle(t,()=>({pulsate:D,start:w,stop:C}),[D,w,C]),re.jsx(gx,{className:Qe(ui.root,o.root,l),ref:y,...c,children:re.jsx(Yg,{component:null,exit:!0,children:d})})});function Sx(n){return tt("MuiButtonBase",n)}const yx=nt("MuiButtonBase",["root","disabled","focusVisible"]),vx=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:a}=n,l=it({root:["root",e&&"disabled",t&&"focusVisible"]},Sx,a);return t&&i&&(l.root+=` ${i}`),l},bx=Fe("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yx.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),G4=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiButtonBase"}),{action:a,centerRipple:o=!1,children:l,className:c,component:d="button",disabled:h=!1,disableRipple:f=!1,disableTouchRipple:m=!1,focusRipple:v=!1,focusVisibleClassName:p,LinkComponent:S="a",onBlur:y,onClick:b,onContextMenu:w,onDragLeave:D,onFocus:C,onFocusVisible:x,onKeyDown:R,onKeyUp:I,onMouseDown:k,onMouseLeave:_,onMouseUp:M,onTouchEnd:U,onTouchMove:B,onTouchStart:L,tabIndex:P=0,TouchRippleProps:A,touchRippleRef:E,type:F,...G}=i,H=K.useRef(null),Q=sx(),Z=xn(Q.ref,E),[N,V]=K.useState(!1);h&&N&&V(!1),K.useImperativeHandle(a,()=>({focusVisible:()=>{V(!0),H.current.focus()}}),[]);const X=Q.shouldMount&&!f&&!h;K.useEffect(()=>{N&&v&&!f&&Q.pulsate()},[f,v,N,Q]);const ee=gr(Q,"start",k,m),J=gr(Q,"stop",w,m),ce=gr(Q,"stop",D,m),W=gr(Q,"stop",M,m),ne=gr(Q,"stop",te=>{N&&te.preventDefault(),_&&_(te)},m),se=gr(Q,"start",L,m),de=gr(Q,"stop",U,m),ve=gr(Q,"stop",B,m),Te=gr(Q,"stop",te=>{ss(te.target)||V(!1),y&&y(te)},!1),Me=ji(te=>{H.current||(H.current=te.currentTarget),ss(te.target)&&(V(!0),x&&x(te)),C&&C(te)}),q=()=>{const te=H.current;return d&&d!=="button"&&!(te.tagName==="A"&&te.href)},le=ji(te=>{v&&!te.repeat&&N&&te.key===" "&&Q.stop(te,()=>{Q.start(te)}),te.target===te.currentTarget&&q()&&te.key===" "&&te.preventDefault(),R&&R(te),te.target===te.currentTarget&&q()&&te.key==="Enter"&&!h&&(te.preventDefault(),b&&b(te))}),he=ji(te=>{v&&te.key===" "&&N&&!te.defaultPrevented&&Q.stop(te,()=>{Q.pulsate(te)}),I&&I(te),b&&te.target===te.currentTarget&&q()&&te.key===" "&&!te.defaultPrevented&&b(te)});let $=d;$==="button"&&(G.href||G.to)&&($=S);const Y={};$==="button"?(Y.type=F===void 0?"button":F,Y.disabled=h):(!G.href&&!G.to&&(Y.role="button"),h&&(Y["aria-disabled"]=h));const ae=xn(t,H),ye={...i,centerRipple:o,component:d,disabled:h,disableRipple:f,disableTouchRipple:m,focusRipple:v,tabIndex:P,focusVisible:N},Ce=vx(ye);return re.jsxs(bx,{as:$,className:Qe(Ce.root,c),ownerState:ye,onBlur:Te,onClick:b,onContextMenu:J,onFocus:Me,onKeyDown:le,onKeyUp:he,onMouseDown:ee,onMouseLeave:ne,onMouseUp:W,onDragLeave:ce,onTouchEnd:de,onTouchMove:ve,onTouchStart:se,ref:ae,tabIndex:h?-1:P,type:F,...Y,...G,children:[l,X?re.jsx(mx,{ref:Z,center:o,...A}):null]})});function gr(n,e,t,i=!1){return ji(a=>(t&&t(a),i||n[e](a),!0))}function Cx(n){return typeof n.main=="string"}function Dx(n,e=[]){if(!Cx(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function cn(n=[]){return([,e])=>e&&Dx(e,n)}function Tx(n){return tt("MuiCircularProgress",n)}nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","track","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const yi=44,J1=ga`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,eg=ga`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,wx=typeof J1!="string"?fs`
        animation: ${J1} 1.4s linear infinite;
      `:null,xx=typeof eg!="string"?fs`
        animation: ${eg} 1.4s ease-in-out infinite;
      `:null,Ax=n=>{const{classes:e,variant:t,color:i,disableShrink:a}=n,o={root:["root",t,`color${Ue(i)}`],svg:["svg"],track:["track"],circle:["circle",`circle${Ue(t)}`,a&&"circleDisableShrink"]};return it(o,Tx,e)},Rx=Fe("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${Ue(t.color)}`]]}})(Ze(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:wx||{animation:`${J1} 1.4s linear infinite`}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),Ox=Fe("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Px=Fe("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${Ue(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(Ze(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:xx||{animation:`${eg} 1.4s ease-in-out infinite`}}]}))),Lx=Fe("circle",{name:"MuiCircularProgress",slot:"Track"})(Ze(({theme:n})=>({stroke:"currentColor",opacity:(n.vars||n).palette.action.activatedOpacity}))),Ix=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiCircularProgress"}),{className:a,color:o="primary",disableShrink:l=!1,enableTrackSlot:c=!1,size:d=40,style:h,thickness:f=3.6,value:m=0,variant:v="indeterminate",...p}=i,S={...i,color:o,disableShrink:l,size:d,thickness:f,value:m,variant:v,enableTrackSlot:c},y=Ax(S),b={},w={},D={};if(v==="determinate"){const C=2*Math.PI*((yi-f)/2);b.strokeDasharray=C.toFixed(3),D["aria-valuenow"]=Math.round(m),b.strokeDashoffset=`${((100-m)/100*C).toFixed(3)}px`,w.transform="rotate(-90deg)"}return re.jsx(Rx,{className:Qe(y.root,a),style:{width:d,height:d,...w,...h},ownerState:S,ref:t,role:"progressbar",...D,...p,children:re.jsxs(Ox,{className:y.svg,ownerState:S,viewBox:`${yi/2} ${yi/2} ${yi} ${yi}`,children:[c?re.jsx(Lx,{className:y.track,ownerState:S,cx:yi,cy:yi,r:(yi-f)/2,fill:"none",strokeWidth:f,"aria-hidden":"true"}):null,re.jsx(Px,{className:y.circle,style:b,ownerState:S,cx:yi,cy:yi,r:(yi-f)/2,fill:"none",strokeWidth:f})]})})});function Ex(n){return tt("MuiIconButton",n)}const hv=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),_x=n=>{const{classes:e,disabled:t,color:i,edge:a,size:o,loading:l}=n,c={root:["root",l&&"loading",t&&"disabled",i!=="default"&&`color${Ue(i)}`,a&&`edge${Ue(a)}`,`size${Ue(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return it(c,Ex,e)},Mx=Fe(G4,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${Ue(t.color)}`],t.edge&&e[`edge${Ue(t.edge)}`],e[`size${Ue(t.size)}`]]}})(Ze(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette.action.active,(n.vars||n).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),Ze(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${hv.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${hv.loading}`]:{color:"transparent"}}))),Fx=Fe("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ux=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiIconButton"}),{edge:a=!1,children:o,className:l,color:c="default",disabled:d=!1,disableFocusRipple:h=!1,size:f="medium",id:m,loading:v=null,loadingIndicator:p,...S}=i,y=Fc(m),b=p??re.jsx(Ix,{"aria-labelledby":y,color:"inherit",size:16}),w={...i,edge:a,color:c,disabled:d,disableFocusRipple:h,loading:v,loadingIndicator:b,size:f},D=_x(w);return re.jsxs(Mx,{id:v?y:m,className:Qe(D.root,l),centerRipple:!0,focusRipple:!h,disabled:d||v,ref:t,...S,ownerState:w,children:[typeof v=="boolean"&&re.jsx("span",{className:D.loadingWrapper,style:{display:"contents"},children:re.jsx(Fx,{className:D.loadingIndicator,ownerState:w,children:v&&b})}),o]})});function kx(n){return tt("MuiTypography",n)}nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Nx={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},qx=V9(),Bx=n=>{const{align:e,gutterBottom:t,noWrap:i,paragraph:a,variant:o,classes:l}=n,c={root:["root",o,n.align!=="inherit"&&`align${Ue(e)}`,t&&"gutterBottom",i&&"noWrap",a&&"paragraph"]};return it(c,kx,l)},Gx=Fe("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${Ue(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(Ze(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${Ue(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),fv={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Q0=K.forwardRef(function(e,t){const{color:i,...a}=rt({props:e,name:"MuiTypography"}),o=!Nx[i],l=qx({...a,...o&&{color:i}}),{align:c="inherit",className:d,component:h,gutterBottom:f=!1,noWrap:m=!1,paragraph:v=!1,variant:p="body1",variantMapping:S=fv,...y}=l,b={...l,align:c,color:i,className:d,component:h,gutterBottom:f,noWrap:m,paragraph:v,variant:p,variantMapping:S},w=h||(v?"p":S[p]||fv[p])||"span",D=Bx(b);return re.jsx(Gx,{as:w,ref:t,className:Qe(D.root,d),...y,ownerState:b,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...y.style}})});function zx(n){return tt("MuiAppBar",n)}nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Vx=n=>{const{color:e,position:t,classes:i}=n,a={root:["root",`color${Ue(e)}`,`position${Ue(t)}`]};return it(a,zx,i)},gv=(n,e)=>n?`${n?.replace(")","")}, ${e})`:e,Qx=Fe(Uc,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ue(t.position)}`],e[`color${Ue(t.color)}`]]}})(Ze(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(cn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?gv(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?gv(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),Hx=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiAppBar"}),{className:a,color:o="primary",enableColorOnDark:l=!1,position:c="fixed",...d}=i,h={...i,color:o,position:c,enableColorOnDark:l},f=Vx(h);return re.jsx(Qx,{square:!0,component:"header",ownerState:h,elevation:4,className:Qe(f.root,a,c==="fixed"&&"mui-fixed"),ref:t,...d})});function br(n){const{elementType:e,externalSlotProps:t,ownerState:i,skipResolvingSlotProps:a=!1,...o}=n,l=a?{}:q4(t,i),{props:c,internalRef:d}=B4({...o,externalSlotProps:l}),h=xn(d,l?.ref,n.additionalProps?.ref);return N4(e,{...c,ref:h},i)}function ps(n){return parseInt(K.version,10)>=19?n?.props?.ref||null:n?.ref||null}function jx(n){return typeof n=="function"?n():n}const Yx=K.forwardRef(function(e,t){const{children:i,container:a,disablePortal:o=!1}=e,[l,c]=K.useState(null),d=xn(K.isValidElement(i)?ps(i):null,t);if(Ai(()=>{o||c(jx(a)||document.body)},[a,o]),Ai(()=>{if(l&&!o)return lv(t,l),()=>{lv(t,null)}},[t,l,o]),o){if(K.isValidElement(i)){const h={ref:d};return K.cloneElement(i,h)}return i}return l&&F4.createPortal(i,l)});function e0(n){return parseInt(n,10)||0}const Xx={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Wx(n){for(const e in n)return!1;return!0}function pv(n){return Wx(n)||n.outerHeightStyle===0&&!n.overflowing}const $x=K.forwardRef(function(e,t){const{onChange:i,maxRows:a,minRows:o=1,style:l,value:c,...d}=e,{current:h}=K.useRef(c!=null),f=K.useRef(null),m=xn(t,f),v=K.useRef(null),p=K.useRef(null),S=K.useCallback(()=>{const C=f.current,x=p.current;if(!C||!x)return;const I=Ri(C).getComputedStyle(C);if(I.width==="0px")return{outerHeightStyle:0,overflowing:!1};x.style.width=I.width,x.value=C.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const k=I.boxSizing,_=e0(I.paddingBottom)+e0(I.paddingTop),M=e0(I.borderBottomWidth)+e0(I.borderTopWidth),U=x.scrollHeight;x.value="x";const B=x.scrollHeight;let L=U;o&&(L=Math.max(Number(o)*B,L)),a&&(L=Math.min(Number(a)*B,L)),L=Math.max(L,B);const P=L+(k==="border-box"?_+M:0),A=Math.abs(L-U)<=1;return{outerHeightStyle:P,overflowing:A}},[a,o,e.placeholder]),y=ji(()=>{const C=f.current,x=S();if(!C||!x||pv(x))return!1;const R=x.outerHeightStyle;return v.current!=null&&v.current!==R}),b=K.useCallback(()=>{const C=f.current,x=S();if(!C||!x||pv(x))return;const R=x.outerHeightStyle;v.current!==R&&(v.current=R,C.style.height=`${R}px`),C.style.overflow=x.overflowing?"hidden":""},[S]),w=K.useRef(-1);Ai(()=>{const C=Hg(b),x=f?.current;if(!x)return;const R=Ri(x);R.addEventListener("resize",C);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(()=>{y()&&(I.unobserve(x),cancelAnimationFrame(w.current),b(),w.current=requestAnimationFrame(()=>{I.observe(x)}))}),I.observe(x)),()=>{C.clear(),cancelAnimationFrame(w.current),R.removeEventListener("resize",C),I&&I.disconnect()}},[S,b,y]),Ai(()=>{b()});const D=C=>{h||b();const x=C.target,R=x.value.length,I=x.value.endsWith(`
`),k=x.selectionStart===R;I&&k&&x.setSelectionRange(R,R),i&&i(C)};return re.jsxs(K.Fragment,{children:[re.jsx("textarea",{value:c,onChange:D,ref:m,rows:o,style:l,...d}),re.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Xx.shadow,...l,paddingTop:0,paddingBottom:0}})]})});function ms({props:n,states:e,muiFormControl:t}){return e.reduce((i,a)=>(i[a]=n[a],t&&typeof n[a]>"u"&&(i[a]=t[a]),i),{})}const yd=K.createContext(void 0);function no(){return K.useContext(yd)}function mv(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function H0(n,e=!1){return n&&(mv(n.value)&&n.value!==""||e&&mv(n.defaultValue)&&n.defaultValue!=="")}function Kx(n){return n.startAdornment}function Zx(n){return tt("MuiInputBase",n)}const ls=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Sv;const vd=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${Ue(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},bd=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Jx=n=>{const{classes:e,color:t,disabled:i,error:a,endAdornment:o,focused:l,formControl:c,fullWidth:d,hiddenLabel:h,multiline:f,readOnly:m,size:v,startAdornment:p,type:S}=n,y={root:["root",`color${Ue(t)}`,i&&"disabled",a&&"error",d&&"fullWidth",l&&"focused",c&&"formControl",v&&v!=="medium"&&`size${Ue(v)}`,f&&"multiline",p&&"adornedStart",o&&"adornedEnd",h&&"hiddenLabel",m&&"readOnly"],input:["input",i&&"disabled",S==="search"&&"inputTypeSearch",f&&"inputMultiline",v==="small"&&"inputSizeSmall",h&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",m&&"readOnly"]};return it(y,Zx,e)},Cd=Fe("div",{name:"MuiInputBase",slot:"Root",overridesResolver:vd})(Ze(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ls.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),Dd=Fe("input",{name:"MuiInputBase",slot:"Input",overridesResolver:bd})(Ze(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},i={opacity:"0 !important"},a=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ls.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${ls.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:o})=>!o.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:o})=>o.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),yv=Qg({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),$g=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:o,autoFocus:l,className:c,color:d,components:h={},componentsProps:f={},defaultValue:m,disabled:v,disableInjectingGlobalStyles:p,endAdornment:S,error:y,fullWidth:b=!1,id:w,inputComponent:D="input",inputProps:C={},inputRef:x,margin:R,maxRows:I,minRows:k,multiline:_=!1,name:M,onBlur:U,onChange:B,onClick:L,onFocus:P,onKeyDown:A,onKeyUp:E,placeholder:F,readOnly:G,renderSuffix:H,rows:Q,size:Z,slotProps:N={},slots:V={},startAdornment:X,type:ee="text",value:J,...ce}=i,W=C.value!=null?C.value:J,{current:ne}=K.useRef(W!=null),se=K.useRef(),de=K.useCallback(ze=>{},[]),ve=xn(se,x,C.ref,de),[Te,Me]=K.useState(!1),q=no(),le=ms({props:i,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});le.focused=q?q.focused:Te,K.useEffect(()=>{!q&&v&&Te&&(Me(!1),U&&U())},[q,v,Te,U]);const he=q&&q.onFilled,$=q&&q.onEmpty,Y=K.useCallback(ze=>{H0(ze)?he&&he():$&&$()},[he,$]);Ai(()=>{ne&&Y({value:W})},[W,Y,ne]);const ae=ze=>{P&&P(ze),C.onFocus&&C.onFocus(ze),q&&q.onFocus?q.onFocus(ze):Me(!0)},ye=ze=>{U&&U(ze),C.onBlur&&C.onBlur(ze),q&&q.onBlur?q.onBlur(ze):Me(!1)},Ce=(ze,...et)=>{if(!ne){const Ge=ze.target||se.current;if(Ge==null)throw new Error(Rr(1));Y({value:Ge.value})}C.onChange&&C.onChange(ze,...et),B&&B(ze,...et)};K.useEffect(()=>{Y(se.current)},[]);const te=ze=>{se.current&&ze.currentTarget===ze.target&&se.current.focus(),L&&L(ze)};let Re=D,Pe=C;_&&Re==="input"&&(Q?Pe={type:void 0,minRows:Q,maxRows:Q,...Pe}:Pe={type:void 0,maxRows:I,minRows:k,...Pe},Re=$x);const fe=ze=>{Y(ze.animationName==="mui-auto-fill-cancel"?se.current:{value:"x"})};K.useEffect(()=>{q&&q.setAdornedStart(!!X)},[q,X]);const pe={...i,color:le.color||"primary",disabled:le.disabled,endAdornment:S,error:le.error,focused:le.focused,formControl:q,fullWidth:b,hiddenLabel:le.hiddenLabel,multiline:_,size:le.size,startAdornment:X,type:ee},Ie=Jx(pe),_e=V.root||h.Root||Cd,ke=N.root||f.root||{},qe=V.input||h.Input||Dd;return Pe={...Pe,...N.input??f.input},re.jsxs(K.Fragment,{children:[!p&&typeof yv=="function"&&(Sv||(Sv=re.jsx(yv,{}))),re.jsxs(_e,{...ke,ref:t,onClick:te,...ce,...!sa(_e)&&{ownerState:{...pe,...ke.ownerState}},className:Qe(Ie.root,ke.className,c,G&&"MuiInputBase-readOnly"),children:[X,re.jsx(yd.Provider,{value:null,children:re.jsx(qe,{"aria-invalid":le.error,"aria-describedby":a,autoComplete:o,autoFocus:l,defaultValue:m,disabled:le.disabled,id:w,onAnimationStart:fe,name:M,placeholder:F,readOnly:G,required:le.required,rows:Q,value:W,onKeyDown:A,onKeyUp:E,type:ee,...Pe,...!sa(qe)&&{as:Re,ownerState:{...pe,...Pe.ownerState}},ref:ve,className:Qe(Ie.input,Pe.className,G&&"MuiInputBase-readOnly"),onBlur:ye,onChange:Ce,onFocus:ae})}),S,H?H({...le,startAdornment:X}):null]})]})});function eA(n){return tt("MuiInput",n)}const dl={...ls,...nt("MuiInput",["root","underline","input"])};function tA(n){return tt("MuiOutlinedInput",n)}const ki={...ls,...nt("MuiOutlinedInput",["root","notchedOutline","input"])};function nA(n){return tt("MuiFilledInput",n)}const _a={...ls,...nt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},iA=Pr(re.jsx("path",{d:"M7 10l5 5 5-5z"})),rA={entering:{opacity:1},entered:{opacity:1}},tg=K.forwardRef(function(e,t){const i=gs(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:d,in:h,onEnter:f,onEntered:m,onEntering:v,onExit:p,onExited:S,onExiting:y,style:b,timeout:w=a,TransitionComponent:D=Oi,...C}=e,x=K.useRef(null),R=xn(x,ps(c),t),I=A=>E=>{if(A){const F=x.current;E===void 0?A(F):A(F,E)}},k=I(v),_=I((A,E)=>{Wg(A);const F=os({style:b,timeout:w,easing:d},{mode:"enter"});A.style.webkitTransition=i.transitions.create("opacity",F),A.style.transition=i.transitions.create("opacity",F),f&&f(A,E)}),M=I(m),U=I(y),B=I(A=>{const E=os({style:b,timeout:w,easing:d},{mode:"exit"});A.style.webkitTransition=i.transitions.create("opacity",E),A.style.transition=i.transitions.create("opacity",E),p&&p(A)}),L=I(S),P=A=>{o&&o(x.current,A)};return re.jsx(D,{appear:l,in:h,nodeRef:x,onEnter:_,onEntered:M,onEntering:k,onExit:B,onExited:L,onExiting:U,addEndListener:P,timeout:w,...C,children:(A,{ownerState:E,...F})=>K.cloneElement(c,{style:{opacity:0,visibility:A==="exited"&&!h?"hidden":void 0,...rA[A],...b,...c.props.style},ref:R,...F})})});function aA(n){return tt("MuiBackdrop",n)}nt("MuiBackdrop",["root","invisible"]);const oA=n=>{const{classes:e,invisible:t}=n;return it({root:["root",t&&"invisible"]},aA,e)},sA=Fe("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),z4=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiBackdrop"}),{children:a,className:o,component:l="div",invisible:c=!1,open:d,components:h={},componentsProps:f={},slotProps:m={},slots:v={},TransitionComponent:p,transitionDuration:S,...y}=i,b={...i,component:l,invisible:c},w=oA(b),D={transition:p,root:h.Root,...v},C={...f,...m},x={component:l,slots:D,slotProps:C},[R,I]=Zt("root",{elementType:sA,externalForwardedProps:x,className:Qe(w.root,o),ownerState:b}),[k,_]=Zt("transition",{elementType:tg,externalForwardedProps:x,ownerState:b});return re.jsx(k,{in:d,timeout:S,...y,..._,children:re.jsx(R,{"aria-hidden":!0,...I,classes:w,ref:t,children:a})})}),lA=nt("MuiBox",["root"]),cA=md(),uA=dw({themeId:wi,defaultTheme:cA,defaultClassName:lA.root,generateClassName:h4.generate});function dA(n){return K.Children.toArray(n).filter(e=>K.isValidElement(e))}const ng=typeof Qg({})=="function",hA=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),fA=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),V4=(n,e=!1)=>{const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([o,l])=>{const c=n.getColorSchemeSelector(o);c.startsWith("@")?t[c]={":root":{colorScheme:l.palette?.mode}}:t[c.replace(/\s*&/,"")]={colorScheme:l.palette?.mode}});let i={html:hA(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...fA(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const a=n.components?.MuiCssBaseline?.styleOverrides;return a&&(i=[i,a]),i},L0="mui-ecs",gA=n=>{const e=V4(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${L0})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([i,a])=>{const o=n.getColorSchemeSelector(i);o.startsWith("@")?t[o]={[`:root:not(:has(.${L0}))`]:{colorScheme:a.palette?.mode}}:t[o.replace(/\s*&/,"")]={[`&:not(:has(.${L0}))`]:{colorScheme:a.palette?.mode}}}),e},pA=Qg(ng?({theme:n,enableColorScheme:e})=>V4(n,e):({theme:n})=>gA(n));function mA(n){const e=rt({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:i=!1}=e;return re.jsxs(K.Fragment,{children:[ng&&re.jsx(pA,{enableColorScheme:i}),!ng&&!i&&re.jsx("span",{className:L0,style:{display:"none"}}),t]})}function Q4(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function SA(n){const e=Rn(n);return e.body===n?Ri(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function gc(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function vv(n){return parseInt(Ri(n).getComputedStyle(n).paddingRight,10)||0}function yA(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),i=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||i}function bv(n,e,t,i,a){const o=[e,t,...i];[].forEach.call(n.children,l=>{const c=!o.includes(l),d=!yA(l);c&&d&&gc(l,a)})}function r1(n,e){let t=-1;return n.some((i,a)=>e(i)?(t=a,!0):!1),t}function vA(n,e){const t=[],i=n.container;if(!e.disableScrollLock){if(SA(i)){const l=Q4(Ri(i));t.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${vv(i)+l}px`;const c=Rn(i).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${vv(d)+l}px`})}let o;if(i.parentNode instanceof DocumentFragment)o=Rn(i).body;else{const l=i.parentElement,c=Ri(i);o=l?.nodeName==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:i}t.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{t.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function bA(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class CA{constructor(){this.modals=[],this.containers=[]}add(e,t){let i=this.modals.indexOf(e);if(i!==-1)return i;i=this.modals.length,this.modals.push(e),e.modalRef&&gc(e.modalRef,!1);const a=bA(t);bv(t,e.mount,e.modalRef,a,!0);const o=r1(this.containers,l=>l.container===t);return o!==-1?(this.containers[o].modals.push(e),i):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:a}),i)}mount(e,t){const i=r1(this.containers,o=>o.modals.includes(e)),a=this.containers[i];a.restore||(a.restore=vA(a,t))}remove(e,t=!0){const i=this.modals.indexOf(e);if(i===-1)return i;const a=r1(this.containers,l=>l.modals.includes(e)),o=this.containers[a];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(i,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&gc(e.modalRef,t),bv(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(a,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&gc(l.modalRef,!1)}return i}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const DA=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function TA(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function wA(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=i=>n.ownerDocument.querySelector(`input[type="radio"]${i}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function xA(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||wA(n))}function AA(n){const e=[],t=[];return Array.from(n.querySelectorAll(DA)).forEach((i,a)=>{const o=TA(i);o===-1||!xA(i)||(o===0?e.push(i):t.push({documentOrder:a,tabIndex:o,node:i}))}),t.sort((i,a)=>i.tabIndex===a.tabIndex?i.documentOrder-a.documentOrder:i.tabIndex-a.tabIndex).map(i=>i.node).concat(e)}function RA(){return!0}function OA(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:i=!1,disableRestoreFocus:a=!1,getTabbable:o=AA,isEnabled:l=RA,open:c}=n,d=K.useRef(!1),h=K.useRef(null),f=K.useRef(null),m=K.useRef(null),v=K.useRef(null),p=K.useRef(!1),S=K.useRef(null),y=xn(ps(e),S),b=K.useRef(null);K.useEffect(()=>{!c||!S.current||(p.current=!t)},[t,c]),K.useEffect(()=>{if(!c||!S.current)return;const C=Rn(S.current);return S.current.contains(C.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),p.current&&S.current.focus()),()=>{a||(m.current&&m.current.focus&&(d.current=!0,m.current.focus()),m.current=null)}},[c]),K.useEffect(()=>{if(!c||!S.current)return;const C=Rn(S.current),x=k=>{b.current=k,!(i||!l()||k.key!=="Tab")&&C.activeElement===S.current&&k.shiftKey&&(d.current=!0,f.current&&f.current.focus())},R=()=>{const k=S.current;if(k===null)return;if(!C.hasFocus()||!l()||d.current){d.current=!1;return}if(k.contains(C.activeElement)||i&&C.activeElement!==h.current&&C.activeElement!==f.current)return;if(C.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!p.current)return;let _=[];if((C.activeElement===h.current||C.activeElement===f.current)&&(_=o(S.current)),_.length>0){const M=!!(b.current?.shiftKey&&b.current?.key==="Tab"),U=_[0],B=_[_.length-1];typeof U!="string"&&typeof B!="string"&&(M?B.focus():U.focus())}else k.focus()};C.addEventListener("focusin",R),C.addEventListener("keydown",x,!0);const I=setInterval(()=>{C.activeElement&&C.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(I),C.removeEventListener("focusin",R),C.removeEventListener("keydown",x,!0)}},[t,i,a,l,c,o]);const w=C=>{m.current===null&&(m.current=C.relatedTarget),p.current=!0,v.current=C.target;const x=e.props.onFocus;x&&x(C)},D=C=>{m.current===null&&(m.current=C.relatedTarget),p.current=!0};return re.jsxs(K.Fragment,{children:[re.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:h,"data-testid":"sentinelStart"}),K.cloneElement(e,{ref:y,onFocus:w}),re.jsx("div",{tabIndex:c?0:-1,onFocus:D,ref:f,"data-testid":"sentinelEnd"})]})}function PA(n){return typeof n=="function"?n():n}function LA(n){return n?n.props.hasOwnProperty("in"):!1}const Cv=()=>{},t0=new CA;function IA(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:i=!1,closeAfterTransition:a=!1,onTransitionEnter:o,onTransitionExited:l,children:c,onClose:d,open:h,rootRef:f}=n,m=K.useRef({}),v=K.useRef(null),p=K.useRef(null),S=xn(p,f),[y,b]=K.useState(!h),w=LA(c);let D=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(D=!1);const C=()=>Rn(v.current),x=()=>(m.current.modalRef=p.current,m.current.mount=v.current,m.current),R=()=>{t0.mount(x(),{disableScrollLock:i}),p.current&&(p.current.scrollTop=0)},I=ji(()=>{const E=PA(e)||C().body;t0.add(x(),E),p.current&&R()}),k=()=>t0.isTopModal(x()),_=ji(E=>{v.current=E,E&&(h&&k()?R():p.current&&gc(p.current,D))}),M=K.useCallback(()=>{t0.remove(x(),D)},[D]);K.useEffect(()=>()=>{M()},[M]),K.useEffect(()=>{h?I():(!w||!a)&&M()},[h,M,w,a,I]);const U=E=>F=>{E.onKeyDown?.(F),!(F.key!=="Escape"||F.which===229||!k())&&(t||(F.stopPropagation(),d&&d(F,"escapeKeyDown")))},B=E=>F=>{E.onClick?.(F),F.target===F.currentTarget&&d&&d(F,"backdropClick")};return{getRootProps:(E={})=>{const F=fc(n);delete F.onTransitionEnter,delete F.onTransitionExited;const G={...F,...E};return{role:"presentation",...G,onKeyDown:U(G),ref:S}},getBackdropProps:(E={})=>{const F=E;return{"aria-hidden":!0,...F,onClick:B(F),open:h}},getTransitionProps:()=>{const E=()=>{b(!1),o&&o()},F=()=>{b(!0),l&&l(),a&&M()};return{onEnter:sv(E,c?.props.onEnter??Cv),onExited:sv(F,c?.props.onExited??Cv)}},rootRef:S,portalRef:_,isTopModal:k,exited:y,hasTransition:w}}function EA(n){return tt("MuiModal",n)}nt("MuiModal",["root","hidden","backdrop"]);const _A=n=>{const{open:e,exited:t,classes:i}=n;return it({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},EA,i)},MA=Fe("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(Ze(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),FA=Fe(z4,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),H4=K.forwardRef(function(e,t){const i=rt({name:"MuiModal",props:e}),{BackdropComponent:a=FA,BackdropProps:o,classes:l,className:c,closeAfterTransition:d=!1,children:h,container:f,component:m,components:v={},componentsProps:p={},disableAutoFocus:S=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:b=!1,disablePortal:w=!1,disableRestoreFocus:D=!1,disableScrollLock:C=!1,hideBackdrop:x=!1,keepMounted:R=!1,onClose:I,onTransitionEnter:k,onTransitionExited:_,open:M,slotProps:U={},slots:B={},theme:L,...P}=i,A={...i,closeAfterTransition:d,disableAutoFocus:S,disableEnforceFocus:y,disableEscapeKeyDown:b,disablePortal:w,disableRestoreFocus:D,disableScrollLock:C,hideBackdrop:x,keepMounted:R},{getRootProps:E,getBackdropProps:F,getTransitionProps:G,portalRef:H,isTopModal:Q,exited:Z,hasTransition:N}=IA({...A,rootRef:t}),V={...A,exited:Z},X=_A(V),ee={};if(h.props.tabIndex===void 0&&(ee.tabIndex="-1"),N){const{onEnter:de,onExited:ve}=G();ee.onEnter=de,ee.onExited=ve}const J={slots:{root:v.Root,backdrop:v.Backdrop,...B},slotProps:{...p,...U}},[ce,W]=Zt("root",{ref:t,elementType:MA,externalForwardedProps:{...J,...P,component:m},getSlotProps:E,ownerState:V,className:Qe(c,X?.root,!V.open&&V.exited&&X?.hidden)}),[ne,se]=Zt("backdrop",{ref:o?.ref,elementType:a,externalForwardedProps:J,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:de=>F({...de,onClick:ve=>{de?.onClick&&de.onClick(ve)}}),className:Qe(o?.className,X?.backdrop),ownerState:V});return!R&&!M&&(!N||Z)?null:re.jsx(Yx,{ref:H,container:f,disablePortal:w,children:re.jsxs(ce,{...W,children:[!x&&a?re.jsx(ne,{...se}):null,re.jsx(OA,{disableEnforceFocus:y,disableAutoFocus:S,disableRestoreFocus:D,isEnabled:Q,open:M,children:K.cloneElement(h,ee)})]})})});function UA(n){return tt("MuiDialog",n)}const a1=nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),kA=K.createContext({}),NA=Fe(z4,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),qA=n=>{const{classes:e,scroll:t,maxWidth:i,fullWidth:a,fullScreen:o}=n,l={root:["root"],container:["container",`scroll${Ue(t)}`],paper:["paper",`paperScroll${Ue(t)}`,`paperWidth${Ue(String(i))}`,a&&"paperFullWidth",o&&"paperFullScreen"]};return it(l,UA,e)},BA=Fe(H4,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),GA=Fe("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${Ue(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),zA=Fe(Uc,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${Ue(t.scroll)}`],e[`paperWidth${Ue(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(Ze(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${a1.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${a1.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${a1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),VA=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiDialog"}),a=gs(),o={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{"aria-describedby":l,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:h,BackdropProps:f,children:m,className:v,disableEscapeKeyDown:p=!1,fullScreen:S=!1,fullWidth:y=!1,maxWidth:b="sm",onClick:w,onClose:D,open:C,PaperComponent:x=Uc,PaperProps:R={},scroll:I="paper",slots:k={},slotProps:_={},TransitionComponent:M=tg,transitionDuration:U=o,TransitionProps:B,...L}=i,P={...i,disableEscapeKeyDown:p,fullScreen:S,fullWidth:y,maxWidth:b,scroll:I},A=qA(P),E=K.useRef(),F=Me=>{E.current=Me.target===Me.currentTarget},G=Me=>{w&&w(Me),E.current&&(E.current=null,D&&D(Me,"backdropClick"))},H=Fc(c),Q=K.useMemo(()=>({titleId:H}),[H]),Z={transition:M,...k},N={transition:B,paper:R,backdrop:f,..._},V={slots:Z,slotProps:N},[X,ee]=Zt("root",{elementType:BA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:P,className:Qe(A.root,v),ref:t}),[J,ce]=Zt("backdrop",{elementType:NA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:P}),[W,ne]=Zt("paper",{elementType:zA,shouldForwardComponentProp:!0,externalForwardedProps:V,ownerState:P,className:Qe(A.paper,R.className)}),[se,de]=Zt("container",{elementType:GA,externalForwardedProps:V,ownerState:P,className:A.container}),[ve,Te]=Zt("transition",{elementType:tg,externalForwardedProps:V,ownerState:P,additionalProps:{appear:!0,in:C,timeout:U,role:"presentation"}});return re.jsx(X,{closeAfterTransition:!0,slots:{backdrop:J},slotProps:{backdrop:{transitionDuration:U,as:h,...ce}},disableEscapeKeyDown:p,onClose:D,open:C,onClick:G,...ee,...L,children:re.jsx(ve,{...Te,children:re.jsx(se,{onMouseDown:F,...de,children:re.jsx(W,{as:x,elevation:24,role:"dialog","aria-describedby":l,"aria-labelledby":H,"aria-modal":d,...ne,children:re.jsx(kA.Provider,{value:Q,children:m})})})})})});function QA(n,e,t){const i=e.getBoundingClientRect(),a=t&&t.getBoundingClientRect(),o=Ri(e);let l;if(e.fakeTransform)l=e.fakeTransform;else{const h=o.getComputedStyle(e);l=h.getPropertyValue("-webkit-transform")||h.getPropertyValue("transform")}let c=0,d=0;if(l&&l!=="none"&&typeof l=="string"){const h=l.split("(")[1].split(")")[0].split(",");c=parseInt(h[4],10),d=parseInt(h[5],10)}return n==="left"?a?`translateX(${a.right+c-i.left}px)`:`translateX(${o.innerWidth+c-i.left}px)`:n==="right"?a?`translateX(-${i.right-a.left-c}px)`:`translateX(-${i.left+i.width-c}px)`:n==="up"?a?`translateY(${a.bottom+d-i.top}px)`:`translateY(${o.innerHeight+d-i.top}px)`:a?`translateY(-${i.top-a.top+i.height-d}px)`:`translateY(-${i.top+i.height-d}px)`}function HA(n){return typeof n=="function"?n():n}function n0(n,e,t){const i=HA(t),a=QA(n,e,i);a&&(e.style.webkitTransform=a,e.style.transform=a)}const jA=K.forwardRef(function(e,t){const i=gs(),a={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:l,appear:c=!0,children:d,container:h,direction:f="down",easing:m=a,in:v,onEnter:p,onEntered:S,onEntering:y,onExit:b,onExited:w,onExiting:D,style:C,timeout:x=o,TransitionComponent:R=Oi,...I}=e,k=K.useRef(null),_=xn(ps(d),k,t),M=H=>Q=>{H&&(Q===void 0?H(k.current):H(k.current,Q))},U=M((H,Q)=>{n0(f,H,h),Wg(H),p&&p(H,Q)}),B=M((H,Q)=>{const Z=os({timeout:x,style:C,easing:m},{mode:"enter"});H.style.webkitTransition=i.transitions.create("-webkit-transform",{...Z}),H.style.transition=i.transitions.create("transform",{...Z}),H.style.webkitTransform="none",H.style.transform="none",y&&y(H,Q)}),L=M(S),P=M(D),A=M(H=>{const Q=os({timeout:x,style:C,easing:m},{mode:"exit"});H.style.webkitTransition=i.transitions.create("-webkit-transform",Q),H.style.transition=i.transitions.create("transform",Q),n0(f,H,h),b&&b(H)}),E=M(H=>{H.style.webkitTransition="",H.style.transition="",w&&w(H)}),F=H=>{l&&l(k.current,H)},G=K.useCallback(()=>{k.current&&n0(f,k.current,h)},[f,h]);return K.useEffect(()=>{if(v||f==="down"||f==="right")return;const H=Hg(()=>{k.current&&n0(f,k.current,h)}),Q=Ri(k.current);return Q.addEventListener("resize",H),()=>{H.clear(),Q.removeEventListener("resize",H)}},[f,v,h]),K.useEffect(()=>{v||G()},[v,G]),re.jsx(R,{nodeRef:k,onEnter:U,onEntered:L,onEntering:B,onExit:A,onExited:E,onExiting:P,addEndListener:F,appear:c,in:v,timeout:x,...I,children:(H,{ownerState:Q,...Z})=>K.cloneElement(d,{ref:_,style:{visibility:H==="exited"&&!v?"hidden":void 0,...C,...d.props.style},...Z})})}),YA=n=>{const{classes:e,disableUnderline:t,startAdornment:i,endAdornment:a,size:o,hiddenLabel:l,multiline:c}=n,d={root:["root",!t&&"underline",i&&"adornedStart",a&&"adornedEnd",o==="small"&&`size${Ue(o)}`,l&&"hiddenLabel",c&&"multiline"],input:["input"]},h=it(d,nA,e);return{...e,...h}},XA=Fe(Cd,{shouldForwardProp:n=>Yi(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...vd(n,e),!t.disableUnderline&&e.underline]}})(Ze(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i}},[`&.${_a.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:i},[`&.${_a.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:o},variants:[{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${_a.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${_a.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline):t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${_a.disabled}, .${_a.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${_a.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(cn()).map(([l])=>({props:{disableUnderline:!1,color:l},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[l]?.main}`}}})),{props:({ownerState:l})=>l.startAdornment,style:{paddingLeft:12}},{props:({ownerState:l})=>l.endAdornment,style:{paddingRight:12}},{props:({ownerState:l})=>l.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:l,size:c})=>l.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:l})=>l.multiline&&l.hiddenLabel&&l.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),WA=Fe(Dd,{name:"MuiFilledInput",slot:"Input",overridesResolver:bd})(Ze(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Kg=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiFilledInput"}),{disableUnderline:a=!1,components:o={},componentsProps:l,fullWidth:c=!1,hiddenLabel:d,inputComponent:h="input",multiline:f=!1,slotProps:m,slots:v={},type:p="text",...S}=i,y={...i,disableUnderline:a,fullWidth:c,inputComponent:h,multiline:f,type:p},b=YA(i),w={root:{ownerState:y},input:{ownerState:y}},D=m??l?hn(w,m??l):w,C=v.root??o.Root??XA,x=v.input??o.Input??WA;return re.jsx($g,{slots:{root:C,input:x},slotProps:D,fullWidth:c,inputComponent:h,multiline:f,ref:t,type:p,...S,classes:b})});Kg.muiName="Input";function $A(n){return tt("MuiFormControl",n)}nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KA=n=>{const{classes:e,margin:t,fullWidth:i}=n,a={root:["root",t!=="none"&&`margin${Ue(t)}`,i&&"fullWidth"]};return it(a,$A,e)},ZA=Fe("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${Ue(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),JA=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiFormControl"}),{children:a,className:o,color:l="primary",component:c="div",disabled:d=!1,error:h=!1,focused:f,fullWidth:m=!1,hiddenLabel:v=!1,margin:p="none",required:S=!1,size:y="medium",variant:b="outlined",...w}=i,D={...i,color:l,component:c,disabled:d,error:h,fullWidth:m,hiddenLabel:v,margin:p,required:S,size:y,variant:b},C=KA(D),[x,R]=K.useState(()=>{let E=!1;return a&&K.Children.forEach(a,F=>{if(!n1(F,["Input","Select"]))return;const G=n1(F,["Select"])?F.props.input:F;G&&Kx(G.props)&&(E=!0)}),E}),[I,k]=K.useState(()=>{let E=!1;return a&&K.Children.forEach(a,F=>{n1(F,["Input","Select"])&&(H0(F.props,!0)||H0(F.props.inputProps,!0))&&(E=!0)}),E}),[_,M]=K.useState(!1);d&&_&&M(!1);const U=f!==void 0&&!d?f:_;let B;K.useRef(!1);const L=K.useCallback(()=>{k(!0)},[]),P=K.useCallback(()=>{k(!1)},[]),A=K.useMemo(()=>({adornedStart:x,setAdornedStart:R,color:l,disabled:d,error:h,filled:I,focused:U,fullWidth:m,hiddenLabel:v,size:y,onBlur:()=>{M(!1)},onFocus:()=>{M(!0)},onEmpty:P,onFilled:L,registerEffect:B,required:S,variant:b}),[x,l,d,h,I,U,m,v,B,P,L,S,y,b]);return re.jsx(yd.Provider,{value:A,children:re.jsx(ZA,{as:c,ownerState:D,className:Qe(C.root,o),ref:t,...w,children:a})})});function e7(n){return tt("MuiFormHelperText",n)}const Dv=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Tv;const t7=n=>{const{classes:e,contained:t,size:i,disabled:a,error:o,filled:l,focused:c,required:d}=n,h={root:["root",a&&"disabled",o&&"error",i&&`size${Ue(i)}`,t&&"contained",c&&"focused",l&&"filled",d&&"required"]};return it(h,e7,e)},n7=Fe("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${Ue(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(Ze(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Dv.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${Dv.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),i7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiFormHelperText"}),{children:a,className:o,component:l="p",disabled:c,error:d,filled:h,focused:f,margin:m,required:v,variant:p,...S}=i,y=no(),b=ms({props:i,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),w={...i,component:l,contained:b.variant==="filled"||b.variant==="outlined",variant:b.variant,size:b.size,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required};delete w.ownerState;const D=t7(w);return re.jsx(n7,{as:l,className:Qe(D.root,o),ref:t,...S,ownerState:w,children:a===" "?Tv||(Tv=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):a})});function r7(n){return tt("MuiFormLabel",n)}const pc=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),a7=n=>{const{classes:e,color:t,focused:i,disabled:a,error:o,filled:l,required:c}=n,d={root:["root",`color${Ue(t)}`,a&&"disabled",o&&"error",l&&"filled",i&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return it(d,r7,e)},o7=Fe("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(Ze(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{[`&.${pc.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${pc.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${pc.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),s7=Fe("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ze(({theme:n})=>({[`&.${pc.error}`]:{color:(n.vars||n).palette.error.main}}))),l7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiFormLabel"}),{children:a,className:o,color:l,component:c="label",disabled:d,error:h,filled:f,focused:m,required:v,...p}=i,S=no(),y=ms({props:i,muiFormControl:S,states:["color","required","focused","disabled","error","filled"]}),b={...i,color:y.color||"primary",component:c,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},w=a7(b);return re.jsxs(o7,{as:c,ownerState:b,className:Qe(w.root,o),ref:t,...p,children:[a,y.required&&re.jsxs(s7,{ownerState:b,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]})});function ig(n){return`scale(${n}, ${n**2})`}const c7={entering:{opacity:1,transform:ig(1)},entered:{opacity:1,transform:"none"}},o1=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rg=K.forwardRef(function(e,t){const{addEndListener:i,appear:a=!0,children:o,easing:l,in:c,onEnter:d,onEntered:h,onEntering:f,onExit:m,onExited:v,onExiting:p,style:S,timeout:y="auto",TransitionComponent:b=Oi,...w}=e,D=k4(),C=K.useRef(),x=gs(),R=K.useRef(null),I=xn(R,ps(o),t),k=E=>F=>{if(E){const G=R.current;F===void 0?E(G):E(G,F)}},_=k(f),M=k((E,F)=>{Wg(E);const{duration:G,delay:H,easing:Q}=os({style:S,timeout:y,easing:l},{mode:"enter"});let Z;y==="auto"?(Z=x.transitions.getAutoHeightDuration(E.clientHeight),C.current=Z):Z=G,E.style.transition=[x.transitions.create("opacity",{duration:Z,delay:H}),x.transitions.create("transform",{duration:o1?Z:Z*.666,delay:H,easing:Q})].join(","),d&&d(E,F)}),U=k(h),B=k(p),L=k(E=>{const{duration:F,delay:G,easing:H}=os({style:S,timeout:y,easing:l},{mode:"exit"});let Q;y==="auto"?(Q=x.transitions.getAutoHeightDuration(E.clientHeight),C.current=Q):Q=F,E.style.transition=[x.transitions.create("opacity",{duration:Q,delay:G}),x.transitions.create("transform",{duration:o1?Q:Q*.666,delay:o1?G:G||Q*.333,easing:H})].join(","),E.style.opacity=0,E.style.transform=ig(.75),m&&m(E)}),P=k(v),A=E=>{y==="auto"&&D.start(C.current||0,E),i&&i(R.current,E)};return re.jsx(b,{appear:a,in:c,nodeRef:R,onEnter:M,onEntered:U,onEntering:_,onExit:L,onExited:P,onExiting:B,addEndListener:A,timeout:y==="auto"?null:y,...w,children:(E,{ownerState:F,...G})=>K.cloneElement(o,{style:{opacity:0,transform:ig(.75),visibility:E==="exited"&&!c?"hidden":void 0,...c7[E],...S,...o.props.style},ref:I,...G})})});rg&&(rg.muiSupportAuto=!0);const u7=n=>{const{classes:e,disableUnderline:t}=n,a=it({root:["root",!t&&"underline"],input:["input"]},eA,e);return{...e,...a}},d7=Fe(Cd,{shouldForwardProp:n=>Yi(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...vd(n,e),!t.disableUnderline&&e.underline]}})(Ze(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=n.alpha(n.vars.palette.common.onBackground,n.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:i})=>i.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:i})=>!i.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${dl.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${dl.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${dl.disabled}, .${dl.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${dl.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(cn()).map(([i])=>({props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[i].main}`}}}))]}})),h7=Fe(Dd,{name:"MuiInput",slot:"Input",overridesResolver:bd})({}),Zg=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiInput"}),{disableUnderline:a=!1,components:o={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:m={},type:v="text",...p}=i,S=u7(i),b={root:{ownerState:{disableUnderline:a}}},w=f??l?hn(f??l,b):b,D=m.root??o.Root??d7,C=m.input??o.Input??h7;return re.jsx($g,{slots:{root:D,input:C},slotProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:t,type:v,...p,classes:S})});Zg.muiName="Input";function f7(n){return tt("MuiInputAdornment",n)}const wv=nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var xv;const g7=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${Ue(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},p7=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:i,position:a,size:o,variant:l}=n,c={root:["root",t&&"disablePointerEvents",a&&`position${Ue(a)}`,l,i&&"hiddenLabel",o&&`size${Ue(o)}`]};return it(c,f7,e)},m7=Fe("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:g7})(Ze(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${wv.positionStart}&:not(.${wv.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),S7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiInputAdornment"}),{children:a,className:o,component:l="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:h,variant:f,...m}=i,v=no()||{};let p=f;f&&v.variant,v&&!p&&(p=v.variant);const S={...i,hiddenLabel:v.hiddenLabel,size:v.size,disablePointerEvents:c,position:h,variant:p},y=p7(S);return re.jsx(yd.Provider,{value:null,children:re.jsx(m7,{as:l,ownerState:S,className:Qe(y.root,o),ref:t,...m,children:typeof a=="string"&&!d?re.jsx(Q0,{color:"textSecondary",children:a}):re.jsxs(K.Fragment,{children:[h==="start"?xv||(xv=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):null,a]})})})});function y7(n){return tt("MuiInputLabel",n)}nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const v7=n=>{const{classes:e,formControl:t,size:i,shrink:a,disableAnimation:o,variant:l,required:c}=n,d={root:["root",t&&"formControl",!o&&"animated",a&&"shrink",i&&i!=="medium"&&`size${Ue(i)}`,l],asterisk:[c&&"asterisk"]},h=it(d,y7,e);return{...e,...h}},b7=Fe(l7,{shouldForwardProp:n=>Yi(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${pc.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(Ze(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:i})=>e==="filled"&&t.shrink&&i==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),C7=K.forwardRef(function(e,t){const i=rt({name:"MuiInputLabel",props:e}),{disableAnimation:a=!1,margin:o,shrink:l,variant:c,className:d,...h}=i,f=no();let m=l;typeof m>"u"&&f&&(m=f.filled||f.focused||f.adornedStart);const v=ms({props:i,muiFormControl:f,states:["size","variant","required","focused"]}),p={...i,disableAnimation:a,formControl:f,shrink:m,size:v.size,variant:v.variant,required:v.required,focused:v.focused},S=v7(p);return re.jsx(b7,{"data-shrink":m,ref:t,className:Qe(S.root,d),...h,ownerState:p,classes:S})});function D7(n){return tt("MuiLinearProgress",n)}nt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const ag=4,og=ga`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,T7=typeof og!="string"?fs`
        animation: ${og} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,sg=ga`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,w7=typeof sg!="string"?fs`
        animation: ${sg} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,lg=ga`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,x7=typeof lg!="string"?fs`
        animation: ${lg} 3s infinite linear;
      `:null,A7=n=>{const{classes:e,variant:t,color:i}=n,a={root:["root",`color${Ue(i)}`,t],dashed:["dashed",`dashedColor${Ue(i)}`],bar1:["bar","bar1",`barColor${Ue(i)}`,(t==="indeterminate"||t==="query")&&"bar1Indeterminate",t==="determinate"&&"bar1Determinate",t==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",t!=="buffer"&&`barColor${Ue(i)}`,t==="buffer"&&`color${Ue(i)}`,(t==="indeterminate"||t==="query")&&"bar2Indeterminate",t==="buffer"&&"bar2Buffer"]};return it(a,D7,e)},Jg=(n,e)=>n.vars?n.vars.palette.LinearProgress[`${e}Bg`]:n.palette.mode==="light"?n.lighten(n.palette[e].main,.62):n.darken(n.palette[e].main,.5),R7=Fe("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ue(t.color)}`],e[t.variant]]}})(Ze(({theme:n})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{backgroundColor:Jg(n,e)}})),{props:({ownerState:e})=>e.color==="inherit"&&e.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),O7=Fe("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.dashed,e[`dashedColor${Ue(t.color)}`]]}})(Ze(({theme:n})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(n.palette).filter(cn()).map(([e])=>{const t=Jg(n,e);return{props:{color:e},style:{backgroundImage:`radial-gradient(${t} 0%, ${t} 16%, transparent 42%)`}}})]})),x7||{animation:`${lg} 3s infinite linear`}),P7=Fe("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar1,e[`barColor${Ue(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar1Indeterminate,t.variant==="determinate"&&e.bar1Determinate,t.variant==="buffer"&&e.bar1Buffer]}})(Ze(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main}})),{props:{variant:"determinate"},style:{transition:`transform .${ag}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${ag}s linear`}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:T7||{animation:`${og} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),L7=Fe("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.bar,e.bar2,e[`barColor${Ue(t.color)}`],(t.variant==="indeterminate"||t.variant==="query")&&e.bar2Indeterminate,t.variant==="buffer"&&e.bar2Buffer]}})(Ze(({theme:n})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{"--LinearProgressBar2-barColor":(n.vars||n).palette[e].main}})),{props:({ownerState:e})=>e.variant!=="buffer"&&e.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:e})=>e.variant!=="buffer"&&e.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e,variant:"buffer"},style:{backgroundColor:Jg(n,e),transition:`transform .${ag}s linear`}})),{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:{width:"auto"}},{props:({ownerState:e})=>e.variant==="indeterminate"||e.variant==="query",style:w7||{animation:`${sg} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),I7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiLinearProgress"}),{className:a,color:o="primary",value:l,valueBuffer:c,variant:d="indeterminate",...h}=i,f={...i,color:o,variant:d},m=A7(f),v=qg(),p={},S={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&l!==void 0){p["aria-valuenow"]=Math.round(l),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let y=l-100;v&&(y=-y),S.bar1.transform=`translateX(${y}%)`}if(d==="buffer"&&c!==void 0){let y=(c||0)-100;v&&(y=-y),S.bar2.transform=`translateX(${y}%)`}return re.jsxs(R7,{className:Qe(m.root,a),ownerState:f,role:"progressbar",...p,ref:t,...h,children:[d==="buffer"?re.jsx(O7,{className:m.dashed,ownerState:f}):null,re.jsx(P7,{className:m.bar1,ownerState:f,style:S.bar1}),d==="determinate"?null:re.jsx(L7,{className:m.bar2,ownerState:f,style:S.bar2})]})});function E7(n){return tt("MuiLink",n)}const _7=nt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),M7=({theme:n,ownerState:e})=>{const t=e.color;if("colorSpace"in n&&n.colorSpace){const o=zi(n,`palette.${t}.main`)||zi(n,`palette.${t}`)||e.color;return n.alpha(o,.4)}const i=zi(n,`palette.${t}.main`,!1)||zi(n,`palette.${t}`,!1)||e.color,a=zi(n,`palette.${t}.mainChannel`)||zi(n,`palette.${t}Channel`);return"vars"in n&&a?`rgba(${a} / 0.4)`:xc(i,.4)},Av={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},F7=n=>{const{classes:e,component:t,focusVisible:i,underline:a}=n,o={root:["root",`underline${Ue(a)}`,t==="button"&&"button",i&&"focusVisible"]};return it(o,E7,e)},U7=Fe(Q0,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${Ue(t.underline)}`],t.component==="button"&&e.button]}})(Ze(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color==="inherit",style:n.colorSpace?{textDecorationColor:n.alpha("currentColor",.4)}:null},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_7.focusVisible}`]:{outline:"auto"}}}]}))),Rv=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiLink"}),a=gs(),{className:o,color:l="primary",component:c="a",onBlur:d,onFocus:h,TypographyClasses:f,underline:m="always",variant:v="inherit",sx:p,...S}=i,[y,b]=K.useState(!1),w=R=>{ss(R.target)||b(!1),d&&d(R)},D=R=>{ss(R.target)&&b(!0),h&&h(R)},C={...i,color:l,component:c,focusVisible:y,underline:m,variant:v},x=F7(C);return re.jsx(U7,{color:l,className:Qe(x.root,o),classes:f,component:c,onBlur:w,onFocus:D,ref:t,ownerState:C,variant:v,...S,sx:[...Av[l]===void 0?[{color:l}]:[],...Array.isArray(p)?p:[p]],style:{...S.style,...m==="always"&&l!=="inherit"&&!Av[l]&&{"--Link-underlineColor":M7({theme:a,ownerState:C})}}})}),k7=K.createContext({});function N7(n){return tt("MuiList",n)}nt("MuiList",["root","padding","dense","subheader"]);const q7=n=>{const{classes:e,disablePadding:t,dense:i,subheader:a}=n;return it({root:["root",!t&&"padding",i&&"dense",a&&"subheader"]},N7,e)},B7=Fe("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),G7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiList"}),{children:a,className:o,component:l="ul",dense:c=!1,disablePadding:d=!1,subheader:h,...f}=i,m=K.useMemo(()=>({dense:c}),[c]),v={...i,component:l,dense:c,disablePadding:d},p=q7(v);return re.jsx(k7.Provider,{value:m,children:re.jsxs(B7,{as:l,className:Qe(p.root,o),ref:t,ownerState:v,...f,children:[h,a]})})});function s1(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function Ov(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function j4(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function hl(n,e,t,i,a,o){let l=!1,c=a(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(l)return!1;l=!0}const d=i?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!j4(c,o)||d)c=a(n,c,t);else return c.focus(),!0}return!1}const z7=K.forwardRef(function(e,t){const{actions:i,autoFocus:a=!1,autoFocusItem:o=!1,children:l,className:c,disabledItemsFocusable:d=!1,disableListWrap:h=!1,onKeyDown:f,variant:m="selectedMenu",...v}=e,p=K.useRef(null),S=K.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Ai(()=>{a&&p.current.focus()},[a]),K.useImperativeHandle(i,()=>({adjustStyleForScrollbar:(C,{direction:x})=>{const R=!p.current.style.width;if(C.clientHeight<p.current.clientHeight&&R){const I=`${Q4(Ri(C))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=I,p.current.style.width=`calc(100% + ${I})`}return p.current}}),[]);const y=C=>{const x=p.current,R=C.key;if(C.ctrlKey||C.metaKey||C.altKey){f&&f(C);return}const k=Rn(x).activeElement;if(R==="ArrowDown")C.preventDefault(),hl(x,k,h,d,s1);else if(R==="ArrowUp")C.preventDefault(),hl(x,k,h,d,Ov);else if(R==="Home")C.preventDefault(),hl(x,null,h,d,s1);else if(R==="End")C.preventDefault(),hl(x,null,h,d,Ov);else if(R.length===1){const _=S.current,M=R.toLowerCase(),U=performance.now();_.keys.length>0&&(U-_.lastTime>500?(_.keys=[],_.repeating=!0,_.previousKeyMatched=!0):_.repeating&&M!==_.keys[0]&&(_.repeating=!1)),_.lastTime=U,_.keys.push(M);const B=k&&!_.repeating&&j4(k,_);_.previousKeyMatched&&(B||hl(x,k,!1,d,s1,_))?C.preventDefault():_.previousKeyMatched=!1}f&&f(C)},b=xn(p,t);let w=-1;K.Children.forEach(l,(C,x)=>{if(!K.isValidElement(C)){w===x&&(w+=1,w>=l.length&&(w=-1));return}C.props.disabled||(m==="selectedMenu"&&C.props.selected||w===-1)&&(w=x),w===x&&(C.props.disabled||C.props.muiSkipListHighlight||C.type.muiSkipListHighlight)&&(w+=1,w>=l.length&&(w=-1))});const D=K.Children.map(l,(C,x)=>{if(x===w){const R={};return o&&(R.autoFocus=!0),C.props.tabIndex===void 0&&m==="selectedMenu"&&(R.tabIndex=0),K.cloneElement(C,R)}return C});return re.jsx(G7,{role:"menu",ref:b,className:c,onKeyDown:y,tabIndex:a?0:-1,...v,children:D})});function V7(n){return tt("MuiPopover",n)}nt("MuiPopover",["root","paper"]);function Pv(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function Lv(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function Iv(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function i0(n){return typeof n=="function"?n():n}const Q7=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"]},V7,e)},H7=Fe(H4,{name:"MuiPopover",slot:"Root"})({}),Y4=Fe(Uc,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),j7=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:o,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:m,elevation:v=8,marginThreshold:p=16,open:S,PaperProps:y={},slots:b={},slotProps:w={},transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:C,transitionDuration:x="auto",TransitionProps:R={},disableScrollLock:I=!1,...k}=i,_=K.useRef(),M={...i,anchorOrigin:l,anchorReference:d,elevation:v,marginThreshold:p,transformOrigin:D,TransitionComponent:C,transitionDuration:x,TransitionProps:R},U=Q7(M),B=K.useCallback(()=>{if(d==="anchorPosition")return c;const de=i0(o),Te=(de&&de.nodeType===1?de:Rn(_.current).body).getBoundingClientRect();return{top:Te.top+Pv(Te,l.vertical),left:Te.left+Lv(Te,l.horizontal)}},[o,l.horizontal,l.vertical,c,d]),L=K.useCallback(de=>({vertical:Pv(de,D.vertical),horizontal:Lv(de,D.horizontal)}),[D.horizontal,D.vertical]),P=K.useCallback(de=>{const ve={width:de.offsetWidth,height:de.offsetHeight},Te=L(ve);if(d==="none")return{top:null,left:null,transformOrigin:Iv(Te)};const Me=B();let q=Me.top-Te.vertical,le=Me.left-Te.horizontal;const he=q+ve.height,$=le+ve.width,Y=Ri(i0(o)),ae=Y.innerHeight-p,ye=Y.innerWidth-p;if(p!==null&&q<p){const Ce=q-p;q-=Ce,Te.vertical+=Ce}else if(p!==null&&he>ae){const Ce=he-ae;q-=Ce,Te.vertical+=Ce}if(p!==null&&le<p){const Ce=le-p;le-=Ce,Te.horizontal+=Ce}else if($>ye){const Ce=$-ye;le-=Ce,Te.horizontal+=Ce}return{top:`${Math.round(q)}px`,left:`${Math.round(le)}px`,transformOrigin:Iv(Te)}},[o,d,B,L,p]),[A,E]=K.useState(S),F=K.useCallback(()=>{const de=_.current;if(!de)return;const ve=P(de);ve.top!==null&&de.style.setProperty("top",ve.top),ve.left!==null&&(de.style.left=ve.left),de.style.transformOrigin=ve.transformOrigin,E(!0)},[P]);K.useEffect(()=>(I&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)),[o,I,F]);const G=()=>{F()},H=()=>{E(!1)};K.useEffect(()=>{S&&F()}),K.useImperativeHandle(a,()=>S?{updatePosition:()=>{F()}}:null,[S,F]),K.useEffect(()=>{if(!S)return;const de=Hg(()=>{F()}),ve=Ri(i0(o));return ve.addEventListener("resize",de),()=>{de.clear(),ve.removeEventListener("resize",de)}},[o,S,F]);let Q=x;const Z={slots:{transition:C,...b},slotProps:{transition:R,paper:y,...w}},[N,V]=Zt("transition",{elementType:rg,externalForwardedProps:Z,ownerState:M,getSlotProps:de=>({...de,onEntering:(ve,Te)=>{de.onEntering?.(ve,Te),G()},onExited:ve=>{de.onExited?.(ve),H()}}),additionalProps:{appear:!0,in:S}});x==="auto"&&!N.muiSupportAuto&&(Q=void 0);const X=m||(o?Rn(i0(o)).body:void 0),[ee,{slots:J,slotProps:ce,...W}]=Zt("root",{ref:t,elementType:H7,externalForwardedProps:{...Z,...k},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:X9(typeof w.backdrop=="function"?w.backdrop(M):w.backdrop,{invisible:!0})},container:X,open:S},ownerState:M,className:Qe(U.root,f)}),[ne,se]=Zt("paper",{ref:_,className:U.paper,elementType:Y4,externalForwardedProps:Z,shouldForwardComponentProp:!0,additionalProps:{elevation:v,style:A?void 0:{opacity:0}},ownerState:M});return re.jsx(ee,{...W,...!sa(ee)&&{slots:J,slotProps:ce,disableScrollLock:I},children:re.jsx(N,{...V,timeout:Q,children:re.jsx(ne,{...se,children:h})})})});function Y7(n){return tt("MuiMenu",n)}nt("MuiMenu",["root","paper","list"]);const X7={vertical:"top",horizontal:"right"},W7={vertical:"top",horizontal:"left"},$7=n=>{const{classes:e}=n;return it({root:["root"],paper:["paper"],list:["list"]},Y7,e)},K7=Fe(j7,{shouldForwardProp:n=>Yi(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),Z7=Fe(Y4,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),J7=Fe(z7,{name:"MuiMenu",slot:"List"})({outline:0}),eR=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:h,open:f,PaperProps:m={},PopoverClasses:v,transitionDuration:p="auto",TransitionProps:{onEntering:S,...y}={},variant:b="selectedMenu",slots:w={},slotProps:D={},...C}=i,x=qg(),R={...i,autoFocus:a,disableAutoFocusItem:c,MenuListProps:d,onEntering:S,PaperProps:m,transitionDuration:p,TransitionProps:y,variant:b},I=$7(R),k=a&&!c&&f,_=K.useRef(null),M=(Q,Z)=>{_.current&&_.current.adjustStyleForScrollbar(Q,{direction:x?"rtl":"ltr"}),S&&S(Q,Z)},U=Q=>{Q.key==="Tab"&&(Q.preventDefault(),h&&h(Q,"tabKeyDown"))};let B=-1;K.Children.map(o,(Q,Z)=>{K.isValidElement(Q)&&(Q.props.disabled||(b==="selectedMenu"&&Q.props.selected||B===-1)&&(B=Z))});const L={slots:w,slotProps:{list:d,transition:y,paper:m,...D}},P=br({elementType:w.root,externalSlotProps:D.root,ownerState:R,className:[I.root,l]}),[A,E]=Zt("paper",{className:I.paper,elementType:Z7,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:R}),[F,G]=Zt("list",{className:Qe(I.list,d.className),elementType:J7,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:Q=>({...Q,onKeyDown:Z=>{U(Z),Q.onKeyDown?.(Z)}}),ownerState:R}),H=typeof L.slotProps.transition=="function"?L.slotProps.transition(R):L.slotProps.transition;return re.jsx(K7,{onClose:h,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?X7:W7,slots:{root:w.root,paper:A,backdrop:w.backdrop,...w.transition&&{transition:w.transition}},slotProps:{root:P,paper:E,backdrop:typeof D.backdrop=="function"?D.backdrop(R):D.backdrop,transition:{...H,onEntering:(...Q)=>{M(...Q),H?.onEntering?.(...Q)}}},open:f,ref:t,transitionDuration:p,ownerState:R,...C,classes:v,children:re.jsx(F,{actions:_,autoFocus:a&&(B===-1||c),autoFocusItem:k,variant:b,...G,children:o})})});function tR(n){return tt("MuiNativeSelect",n)}const ep=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nR=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:l}=n,c={select:["select",t,i&&"disabled",a&&"multiple",l&&"error"],icon:["icon",`icon${Ue(t)}`,o&&"iconOpen",i&&"disabled"]};return it(c,tR,e)},X4=Fe("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${ep.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),iR=Fe(X4,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Yi,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${ep.multiple}`]:e.multiple}]}})({}),W4=Fe("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${ep.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),rR=Fe(W4,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ue(t.variant)}`],t.open&&e.iconOpen]}})({}),aR=K.forwardRef(function(e,t){const{className:i,disabled:a,error:o,IconComponent:l,inputRef:c,variant:d="standard",...h}=e,f={...e,disabled:a,variant:d,error:o},m=nR(f);return re.jsxs(K.Fragment,{children:[re.jsx(iR,{ownerState:f,className:Qe(m.select,i),disabled:a,ref:c||t,...h}),e.multiple?null:re.jsx(rR,{as:l,ownerState:f,className:m.icon})]})});var Ev;const oR=Fe("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Yi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),sR=Fe("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Yi})(Ze(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function lR(n){const{children:e,classes:t,className:i,label:a,notched:o,...l}=n,c=a!=null&&a!=="",d={...n,notched:o,withLabel:c};return re.jsx(oR,{"aria-hidden":!0,className:i,ownerState:d,...l,children:re.jsx(sR,{ownerState:d,children:c?re.jsx("span",{children:a}):Ev||(Ev=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const cR=n=>{const{classes:e}=n,i=it({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},tA,e);return{...e,...i}},uR=Fe(Cd,{shouldForwardProp:n=>Yi(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:vd})(Ze(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${ki.notchedOutline}`]:{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}},[`&.${ki.focused} .${ki.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(cn()).map(([t])=>({props:{color:t},style:{[`&.${ki.focused} .${ki.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${ki.error} .${ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${ki.disabled} .${ki.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:i})=>t.multiline&&i==="small",style:{padding:"8.5px 14px"}}]}})),dR=Fe(lR,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ze(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?n.alpha(n.vars.palette.common.onBackground,.23):e}})),hR=Fe(Dd,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:bd})(Ze(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),tp=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:o=!1,inputComponent:l="input",label:c,multiline:d=!1,notched:h,slots:f={},slotProps:m={},type:v="text",...p}=i,S=cR(i),y=no(),b=ms({props:i,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w={...i,color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:y,fullWidth:o,hiddenLabel:b.hiddenLabel,multiline:d,size:b.size,type:v},D=f.root??a.Root??uR,C=f.input??a.Input??hR,[x,R]=Zt("notchedOutline",{elementType:dR,className:S.notchedOutline,shouldForwardComponentProp:!0,ownerState:w,externalForwardedProps:{slots:f,slotProps:m},additionalProps:{label:c!=null&&c!==""&&b.required?re.jsxs(K.Fragment,{children:[c," ","*"]}):c}});return re.jsx($g,{slots:{root:D,input:C},slotProps:m,renderSuffix:I=>re.jsx(x,{...R,notched:typeof h<"u"?h:!!(I.startAdornment||I.filled||I.focused)}),fullWidth:o,inputComponent:l,multiline:d,ref:t,type:v,...p,classes:{...S,notchedOutline:null}})});tp.muiName="Input";const fR={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function $4(n){return tt("MuiSelect",n)}const fl=nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _v;const gR=Fe(X4,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${fl.select}`]:e.select},{[`&.${fl.select}`]:e[t.variant]},{[`&.${fl.error}`]:e.error},{[`&.${fl.multiple}`]:e.multiple}]}})({[`&.${fl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),pR=Fe(W4,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${Ue(t.variant)}`],t.open&&e.iconOpen]}})({}),mR=Fe("input",{shouldForwardProp:n=>Sd(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Mv(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function SR(n){return n==null||typeof n=="string"&&!n.trim()}const yR=n=>{const{classes:e,variant:t,disabled:i,multiple:a,open:o,error:l}=n,c={select:["select",t,i&&"disabled",a&&"multiple",l&&"error"],icon:["icon",`icon${Ue(t)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return it(c,$4,e)},vR=K.forwardRef(function(e,t){const{"aria-describedby":i,"aria-label":a,autoFocus:o,autoWidth:l,children:c,className:d,defaultOpen:h,defaultValue:f,disabled:m,displayEmpty:v,error:p=!1,IconComponent:S,inputRef:y,labelId:b,MenuProps:w={},multiple:D,name:C,onBlur:x,onChange:R,onClose:I,onFocus:k,onOpen:_,open:M,readOnly:U,renderValue:B,required:L,SelectDisplayProps:P={},tabIndex:A,type:E,value:F,variant:G="standard",...H}=e,[Q,Z]=W1({controlled:F,default:f,name:"Select"}),[N,V]=W1({controlled:M,default:h,name:"Select"}),X=K.useRef(null),ee=K.useRef(null),[J,ce]=K.useState(null),{current:W}=K.useRef(M!=null),[ne,se]=K.useState(),de=xn(t,y),ve=K.useCallback(Ne=>{ee.current=Ne,Ne&&ce(Ne)},[]),Te=J?.parentNode;K.useImperativeHandle(de,()=>({focus:()=>{ee.current.focus()},node:X.current,value:Q}),[Q]),K.useEffect(()=>{h&&N&&J&&!W&&(se(l?null:Te.clientWidth),ee.current.focus())},[J,l]),K.useEffect(()=>{o&&ee.current.focus()},[o]),K.useEffect(()=>{if(!b)return;const Ne=Rn(ee.current).getElementById(b);if(Ne){const je=()=>{getSelection().isCollapsed&&ee.current.focus()};return Ne.addEventListener("click",je),()=>{Ne.removeEventListener("click",je)}}},[b]);const Me=(Ne,je)=>{Ne?_&&_(je):I&&I(je),W||(se(l?null:Te.clientWidth),V(Ne))},q=Ne=>{Ne.button===0&&(Ne.preventDefault(),ee.current.focus(),Me(!0,Ne))},le=Ne=>{Me(!1,Ne)},he=K.Children.toArray(c),$=Ne=>{const je=he.find(Ft=>Ft.props.value===Ne.target.value);je!==void 0&&(Z(je.props.value),R&&R(Ne,je))},Y=Ne=>je=>{let Ft;if(je.currentTarget.hasAttribute("tabindex")){if(D){Ft=Array.isArray(Q)?Q.slice():[];const Zn=Q.indexOf(Ne.props.value);Zn===-1?Ft.push(Ne.props.value):Ft.splice(Zn,1)}else Ft=Ne.props.value;if(Ne.props.onClick&&Ne.props.onClick(je),Q!==Ft&&(Z(Ft),R)){const Zn=je.nativeEvent||je,Pi=new Zn.constructor(Zn.type,Zn);Object.defineProperty(Pi,"target",{writable:!0,value:{value:Ft,name:C}}),R(Pi,Ne)}D||Me(!1,je)}},ae=Ne=>{U||[" ","ArrowUp","ArrowDown","Enter"].includes(Ne.key)&&(Ne.preventDefault(),Me(!0,Ne))},ye=J!==null&&N,Ce=Ne=>{!ye&&x&&(Object.defineProperty(Ne,"target",{writable:!0,value:{value:Q,name:C}}),x(Ne))};delete H["aria-invalid"];let te,Re;const Pe=[];let fe=!1;(H0({value:Q})||v)&&(B?te=B(Q):fe=!0);const pe=he.map(Ne=>{if(!K.isValidElement(Ne))return null;let je;if(D){if(!Array.isArray(Q))throw new Error(Rr(2));je=Q.some(Ft=>Mv(Ft,Ne.props.value)),je&&fe&&Pe.push(Ne.props.children)}else je=Mv(Q,Ne.props.value),je&&fe&&(Re=Ne.props.children);return K.cloneElement(Ne,{"aria-selected":je?"true":"false",onClick:Y(Ne),onKeyUp:Ft=>{Ft.key===" "&&Ft.preventDefault(),Ne.props.onKeyUp&&Ne.props.onKeyUp(Ft)},role:"option",selected:je,value:void 0,"data-value":Ne.props.value})});fe&&(D?Pe.length===0?te=null:te=Pe.reduce((Ne,je,Ft)=>(Ne.push(je),Ft<Pe.length-1&&Ne.push(", "),Ne),[]):te=Re);let Ie=ne;!l&&W&&J&&(Ie=Te.clientWidth);let _e;typeof A<"u"?_e=A:_e=m?null:0;const ke=P.id||(C?`mui-component-select-${C}`:void 0),qe={...e,variant:G,value:Q,open:ye,error:p},ze=yR(qe),et={...w.PaperProps,...typeof w.slotProps?.paper=="function"?w.slotProps.paper(qe):w.slotProps?.paper},Ge={...w.MenuListProps,...typeof w.slotProps?.list=="function"?w.slotProps.list(qe):w.slotProps?.list},We=Fc();return re.jsxs(K.Fragment,{children:[re.jsx(gR,{as:"div",ref:ve,tabIndex:_e,role:"combobox","aria-controls":ye?We:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":ye?"true":"false","aria-haspopup":"listbox","aria-label":a,"aria-labelledby":[b,ke].filter(Boolean).join(" ")||void 0,"aria-describedby":i,"aria-required":L?"true":void 0,"aria-invalid":p?"true":void 0,onKeyDown:ae,onMouseDown:m||U?null:q,onBlur:Ce,onFocus:k,...P,ownerState:qe,className:Qe(P.className,ze.select,d),id:ke,children:SR(te)?_v||(_v=re.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):te}),re.jsx(mR,{"aria-invalid":p,value:Array.isArray(Q)?Q.join(","):Q,name:C,ref:X,"aria-hidden":!0,onChange:$,tabIndex:-1,disabled:m,className:ze.nativeInput,autoFocus:o,required:L,...H,ownerState:qe}),re.jsx(pR,{as:S,className:ze.icon,ownerState:qe}),re.jsx(eR,{id:`menu-${C||""}`,anchorEl:Te,open:ye,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...w,slotProps:{...w.slotProps,list:{"aria-labelledby":b,role:"listbox","aria-multiselectable":D?"true":void 0,disableListWrap:!0,id:We,...Ge},paper:{...et,style:{minWidth:Ie,...et!=null?et.style:null}}},children:pe})]})}),bR=n=>{const{classes:e}=n,i=it({root:["root"]},$4,e);return{...e,...i}},np={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Yi(n)&&n!=="variant"},CR=Fe(Zg,np)(""),DR=Fe(tp,np)(""),TR=Fe(Kg,np)(""),K4=K.forwardRef(function(e,t){const i=rt({name:"MuiSelect",props:e}),{autoWidth:a=!1,children:o,classes:l={},className:c,defaultOpen:d=!1,displayEmpty:h=!1,IconComponent:f=iA,id:m,input:v,inputProps:p,label:S,labelId:y,MenuProps:b,multiple:w=!1,native:D=!1,onClose:C,onOpen:x,open:R,renderValue:I,SelectDisplayProps:k,variant:_="outlined",...M}=i,U=D?aR:vR,B=no(),L=ms({props:i,muiFormControl:B,states:["variant","error"]}),P=L.variant||_,A={...i,variant:P,classes:l},E=bR(A),{root:F,...G}=E,H=v||{standard:re.jsx(CR,{ownerState:A}),outlined:re.jsx(DR,{label:S,ownerState:A}),filled:re.jsx(TR,{ownerState:A})}[P],Q=xn(t,ps(H));return re.jsx(K.Fragment,{children:K.cloneElement(H,{inputComponent:U,inputProps:{children:o,error:L.error,IconComponent:f,variant:P,type:void 0,multiple:w,...D?{id:m}:{autoWidth:a,defaultOpen:d,displayEmpty:h,labelId:y,MenuProps:b,onClose:C,onOpen:x,open:R,renderValue:I,SelectDisplayProps:{id:m,...k}},...p,classes:p?hn(G,p.classes):G,...v?v.props.inputProps:{}},...(w&&D||h)&&P==="outlined"?{notched:!0}:{},ref:Q,className:Qe(H.props.className,c,E.root),...!v&&{variant:P},...M})})});K4.muiName="Select";function wR(n,e,t=(i,a)=>i===a){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}const xR=2;function Wo(n,e,t,i,a){return t===1?Math.min(n+e,a):Math.max(n-e,i)}function Z4(n,e){return n-e}function Fv(n,e){const{index:t}=n.reduce((i,a,o)=>{const l=Math.abs(e-a);return i===null||l<i.distance||l===i.distance?{distance:l,index:o}:i},null)??{};return t}function r0(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let i=0;i<t.changedTouches.length;i+=1){const a=t.changedTouches[i];if(a.identifier===e.current)return{x:a.clientX,y:a.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function j0(n,e,t){return(n-e)*100/(t-e)}function AR(n,e,t){return(t-e)*n+e}function RR(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),i=t[0].split(".")[1];return(i?i.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function OR(n,e,t){const i=Math.round((n-t)/e)*e+t;return Number(i.toFixed(RR(e)))}function Uv({values:n,newValue:e,index:t}){const i=n.slice();return i[t]=e,i.sort(Z4)}function a0({sliderRef:n,activeIndex:e,setActive:t}){const i=Rn(n.current);(!n.current?.contains(i.activeElement)||Number(i?.activeElement?.getAttribute("data-index"))!==e)&&n.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),t&&t(e)}function o0(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?wR(n,e):!1}const PR={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},LR=n=>n;let s0;function kv(){return s0===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?s0=CSS.supports("touch-action","none"):s0=!0),s0}function IR(n){const{"aria-labelledby":e,defaultValue:t,disabled:i=!1,disableSwap:a=!1,isRtl:o=!1,marks:l=!1,max:c=100,min:d=0,name:h,onChange:f,onChangeCommitted:m,orientation:v="horizontal",rootRef:p,scale:S=LR,step:y=1,shiftStep:b=10,tabIndex:w,value:D}=n,C=K.useRef(void 0),[x,R]=K.useState(-1),[I,k]=K.useState(-1),[_,M]=K.useState(!1),U=K.useRef(0),B=K.useRef(null),[L,P]=W1({controlled:D,default:t??d,name:"Slider"}),A=f&&((fe,pe,Ie)=>{const _e=fe.nativeEvent||fe,ke=new _e.constructor(_e.type,_e);Object.defineProperty(ke,"target",{writable:!0,value:{value:pe,name:h}}),B.current=pe,f(ke,pe,Ie)}),E=Array.isArray(L);let F=E?L.slice().sort(Z4):[L];F=F.map(fe=>fe==null?d:Ko(fe,d,c));const G=l===!0&&y!==null?[...Array(Math.floor((c-d)/y)+1)].map((fe,pe)=>({value:d+y*pe})):l||[],H=G.map(fe=>fe.value),[Q,Z]=K.useState(-1),N=K.useRef(null),V=xn(p,N),X=fe=>pe=>{const Ie=Number(pe.currentTarget.getAttribute("data-index"));ss(pe.target)&&Z(Ie),k(Ie),fe?.onFocus?.(pe)},ee=fe=>pe=>{ss(pe.target)||Z(-1),k(-1),fe?.onBlur?.(pe)},J=(fe,pe)=>{const Ie=Number(fe.currentTarget.getAttribute("data-index")),_e=F[Ie],ke=H.indexOf(_e);let qe=pe;if(G&&y==null){const ze=H[H.length-1];qe>=ze?qe=ze:qe<=H[0]?qe=H[0]:qe=qe<_e?H[ke-1]:H[ke+1]}if(qe=Ko(qe,d,c),E){a&&(qe=Ko(qe,F[Ie-1]||-1/0,F[Ie+1]||1/0));const ze=qe;qe=Uv({values:F,newValue:qe,index:Ie});let et=Ie;a||(et=qe.indexOf(ze)),a0({sliderRef:N,activeIndex:et})}P(qe),Z(Ie),A&&!o0(qe,L)&&A(fe,qe,Ie),m&&m(fe,B.current??qe)},ce=fe=>pe=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(pe.key)){pe.preventDefault();const Ie=Number(pe.currentTarget.getAttribute("data-index")),_e=F[Ie];let ke=null;if(y!=null){const qe=pe.shiftKey?b:y;switch(pe.key){case"ArrowUp":ke=Wo(_e,qe,1,d,c);break;case"ArrowRight":ke=Wo(_e,qe,o?-1:1,d,c);break;case"ArrowDown":ke=Wo(_e,qe,-1,d,c);break;case"ArrowLeft":ke=Wo(_e,qe,o?1:-1,d,c);break;case"PageUp":ke=Wo(_e,b,1,d,c);break;case"PageDown":ke=Wo(_e,b,-1,d,c);break;case"Home":ke=d;break;case"End":ke=c;break}}else if(G){const qe=H[H.length-1],ze=H.indexOf(_e),et=[o?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],Ge=[o?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];et.includes(pe.key)?ze===0?ke=H[0]:ke=H[ze-1]:Ge.includes(pe.key)&&(ze===H.length-1?ke=qe:ke=H[ze+1])}ke!=null&&J(pe,ke)}fe?.onKeyDown?.(pe)};Ai(()=>{i&&N.current.contains(document.activeElement)&&document.activeElement?.blur()},[i]),i&&x!==-1&&R(-1),i&&Q!==-1&&Z(-1);const W=fe=>pe=>{fe.onChange?.(pe),J(pe,pe.target.valueAsNumber)},ne=K.useRef(void 0);let se=v;o&&v==="horizontal"&&(se+="-reverse");const de=({finger:fe,move:pe=!1})=>{const{current:Ie}=N,{width:_e,height:ke,bottom:qe,left:ze}=Ie.getBoundingClientRect();let et;se.startsWith("vertical")?et=(qe-fe.y)/ke:et=(fe.x-ze)/_e,se.includes("-reverse")&&(et=1-et);let Ge;if(Ge=AR(et,d,c),y)Ge=OR(Ge,y,d);else{const Ne=Fv(H,Ge);Ge=H[Ne]}Ge=Ko(Ge,d,c);let We=0;if(E){pe?We=ne.current:We=Fv(F,Ge),a&&(Ge=Ko(Ge,F[We-1]||-1/0,F[We+1]||1/0));const Ne=Ge;Ge=Uv({values:F,newValue:Ge,index:We}),a&&pe||(We=Ge.indexOf(Ne),ne.current=We)}return{newValue:Ge,activeIndex:We}},ve=ji(fe=>{const pe=r0(fe,C);if(!pe)return;if(U.current+=1,fe.type==="mousemove"&&fe.buttons===0){Te(fe);return}const{newValue:Ie,activeIndex:_e}=de({finger:pe,move:!0});a0({sliderRef:N,activeIndex:_e,setActive:R}),P(Ie),!_&&U.current>xR&&M(!0),A&&!o0(Ie,L)&&A(fe,Ie,_e)}),Te=ji(fe=>{const pe=r0(fe,C);if(M(!1),!pe)return;const{newValue:Ie}=de({finger:pe,move:!0});R(-1),fe.type==="touchend"&&k(-1),m&&m(fe,B.current??Ie),C.current=void 0,q()}),Me=ji(fe=>{if(i)return;kv()||fe.preventDefault();const pe=fe.changedTouches[0];pe!=null&&(C.current=pe.identifier);const Ie=r0(fe,C);if(Ie!==!1){const{newValue:ke,activeIndex:qe}=de({finger:Ie});a0({sliderRef:N,activeIndex:qe,setActive:R}),P(ke),A&&!o0(ke,L)&&A(fe,ke,qe)}U.current=0;const _e=Rn(N.current);_e.addEventListener("touchmove",ve,{passive:!0}),_e.addEventListener("touchend",Te,{passive:!0})}),q=K.useCallback(()=>{const fe=Rn(N.current);fe.removeEventListener("mousemove",ve),fe.removeEventListener("mouseup",Te),fe.removeEventListener("touchmove",ve),fe.removeEventListener("touchend",Te)},[Te,ve]);K.useEffect(()=>{const{current:fe}=N;return fe.addEventListener("touchstart",Me,{passive:kv()}),()=>{fe.removeEventListener("touchstart",Me),q()}},[q,Me]),K.useEffect(()=>{i&&q()},[i,q]);const le=fe=>pe=>{if(fe.onMouseDown?.(pe),i||pe.defaultPrevented||pe.button!==0)return;pe.preventDefault();const Ie=r0(pe,C);if(Ie!==!1){const{newValue:ke,activeIndex:qe}=de({finger:Ie});a0({sliderRef:N,activeIndex:qe,setActive:R}),P(ke),A&&!o0(ke,L)&&A(pe,ke,qe)}U.current=0;const _e=Rn(N.current);_e.addEventListener("mousemove",ve,{passive:!0}),_e.addEventListener("mouseup",Te)},he=j0(E?F[0]:d,d,c),$=j0(F[F.length-1],d,c)-he,Y=(fe={})=>{const pe=fc(fe),Ie={onMouseDown:le(pe||{})},_e={...pe,...Ie};return{...fe,ref:V,..._e}},ae=fe=>pe=>{fe.onMouseOver?.(pe);const Ie=Number(pe.currentTarget.getAttribute("data-index"));k(Ie)},ye=fe=>pe=>{fe.onMouseLeave?.(pe),k(-1)},Ce=(fe={})=>{const pe=fc(fe),Ie={onMouseOver:ae(pe||{}),onMouseLeave:ye(pe||{})};return{...fe,...pe,...Ie}},te=fe=>({pointerEvents:x!==-1&&x!==fe?"none":void 0});let Re;return v==="vertical"&&(Re=o?"vertical-rl":"vertical-lr"),{active:x,axis:se,axisProps:PR,dragging:_,focusedThumbIndex:Q,getHiddenInputProps:(fe={})=>{const pe=fc(fe),Ie={onChange:W(pe||{}),onFocus:X(pe||{}),onBlur:ee(pe||{}),onKeyDown:ce(pe||{})},_e={...pe,...Ie};return{tabIndex:w,"aria-labelledby":e,"aria-orientation":v,"aria-valuemax":S(c),"aria-valuemin":S(d),name:h,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:i,...fe,..._e,style:{...fR,direction:o?"rtl":"ltr",width:"100%",height:"100%",writingMode:Re}}},getRootProps:Y,getThumbProps:Ce,marks:G,open:I,range:E,rootRef:V,trackLeap:$,trackOffset:he,values:F,getThumbStyle:te}}const ER=n=>!n||!sa(n);function _R(n){return tt("MuiSlider",n)}const hi=nt("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),MR=n=>{const{open:e}=n;return{offset:Qe(e&&hi.valueLabelOpen),circle:hi.valueLabelCircle,label:hi.valueLabelLabel}};function FR(n){const{children:e,className:t,value:i}=n,a=MR(n);return e?K.cloneElement(e,{className:e.props.className},re.jsxs(K.Fragment,{children:[e.props.children,re.jsx("span",{className:Qe(a.offset,t),"aria-hidden":!0,children:re.jsx("span",{className:a.circle,children:re.jsx("span",{className:a.label,children:i})})})]})):null}function Nv(n){return n}const UR=Fe("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${Ue(t.color)}`],t.size!=="medium"&&e[`size${Ue(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(Ze(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${hi.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${hi.dragging}`]:{[`& .${hi.thumb}, & .${hi.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),kR=Fe("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),NR=Fe("span",{name:"MuiSlider",slot:"Track"})(Ze(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:n.lighten(n.palette[e].main,.62),borderColor:n.lighten(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:n.darken(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:n.darken(n.palette[e].main,.5)})}}}))]}))),qR=Fe("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${Ue(t.color)}`],t.size!=="medium"&&e[`thumbSize${Ue(t.size)}`]]}})(Ze(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${hi.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${hi.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${n.alpha((n.vars||n).palette[e].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${hi.active}`]:{boxShadow:`0px 0px 0px 14px ${n.alpha((n.vars||n).palette[e].main,.16)}`}}}))]}))),BR=Fe(FR,{name:"MuiSlider",slot:"ValueLabel"})(Ze(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${hi.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${hi.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),GR=Fe("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Sd(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(Ze(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),zR=Fe("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Sd(n)&&n!=="markLabelActive"})(Ze(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),VR=n=>{const{disabled:e,dragging:t,marked:i,orientation:a,track:o,classes:l,color:c,size:d}=n,h={root:["root",e&&"disabled",t&&"dragging",i&&"marked",a==="vertical"&&"vertical",o==="inverted"&&"trackInverted",o===!1&&"trackFalse",c&&`color${Ue(c)}`,d&&`size${Ue(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${Ue(d)}`,c&&`thumbColor${Ue(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return it(h,_R,l)},QR=({children:n})=>n,HR=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiSlider"}),a=qg(),{"aria-label":o,"aria-valuetext":l,"aria-labelledby":c,component:d="span",components:h={},componentsProps:f={},color:m="primary",classes:v,className:p,disableSwap:S=!1,disabled:y=!1,getAriaLabel:b,getAriaValueText:w,marks:D=!1,max:C=100,min:x=0,name:R,onChange:I,onChangeCommitted:k,orientation:_="horizontal",shiftStep:M=10,size:U="medium",step:B=1,scale:L=Nv,slotProps:P,slots:A,tabIndex:E,track:F="normal",value:G,valueLabelDisplay:H="off",valueLabelFormat:Q=Nv,...Z}=i,N={...i,isRtl:a,max:C,min:x,classes:v,disabled:y,disableSwap:S,orientation:_,marks:D,color:m,size:U,step:B,shiftStep:M,scale:L,track:F,valueLabelDisplay:H,valueLabelFormat:Q},{axisProps:V,getRootProps:X,getHiddenInputProps:ee,getThumbProps:J,open:ce,active:W,axis:ne,focusedThumbIndex:se,range:de,dragging:ve,marks:Te,values:Me,trackOffset:q,trackLeap:le,getThumbStyle:he}=IR({...N,rootRef:t});N.marked=Te.length>0&&Te.some(yt=>yt.label),N.dragging=ve,N.focusedThumbIndex=se;const $=VR(N),Y=A?.root??h.Root??UR,ae=A?.rail??h.Rail??kR,ye=A?.track??h.Track??NR,Ce=A?.thumb??h.Thumb??qR,te=A?.valueLabel??h.ValueLabel??BR,Re=A?.mark??h.Mark??GR,Pe=A?.markLabel??h.MarkLabel??zR,fe=A?.input??h.Input??"input",pe=P?.root??f.root,Ie=P?.rail??f.rail,_e=P?.track??f.track,ke=P?.thumb??f.thumb,qe=P?.valueLabel??f.valueLabel,ze=P?.mark??f.mark,et=P?.markLabel??f.markLabel,Ge=P?.input??f.input,We=br({elementType:Y,getSlotProps:X,externalSlotProps:pe,externalForwardedProps:Z,additionalProps:{...ER(Y)&&{as:d}},ownerState:{...N,...pe?.ownerState},className:[$.root,p]}),Ne=br({elementType:ae,externalSlotProps:Ie,ownerState:N,className:$.rail}),je=br({elementType:ye,externalSlotProps:_e,additionalProps:{style:{...V[ne].offset(q),...V[ne].leap(le)}},ownerState:{...N,..._e?.ownerState},className:$.track}),Ft=br({elementType:Ce,getSlotProps:J,externalSlotProps:ke,ownerState:{...N,...ke?.ownerState},className:$.thumb}),Zn=br({elementType:te,externalSlotProps:qe,ownerState:{...N,...qe?.ownerState},className:$.valueLabel}),Pi=br({elementType:Re,externalSlotProps:ze,ownerState:N,className:$.mark}),Li=br({elementType:Pe,externalSlotProps:et,ownerState:N,className:$.markLabel}),Xi=br({elementType:fe,getSlotProps:ee,externalSlotProps:Ge,ownerState:N});return re.jsxs(Y,{...We,children:[re.jsx(ae,{...Ne}),re.jsx(ye,{...je}),Te.filter(yt=>yt.value>=x&&yt.value<=C).map((yt,Dt)=>{const Lr=j0(yt.value,x,C),Ii=V[ne].offset(Lr);let gi;return F===!1?gi=Me.includes(yt.value):gi=F==="normal"&&(de?yt.value>=Me[0]&&yt.value<=Me[Me.length-1]:yt.value<=Me[0])||F==="inverted"&&(de?yt.value<=Me[0]||yt.value>=Me[Me.length-1]:yt.value>=Me[0]),re.jsxs(K.Fragment,{children:[re.jsx(Re,{"data-index":Dt,...Pi,...!sa(Re)&&{markActive:gi},style:{...Ii,...Pi.style},className:Qe(Pi.className,gi&&$.markActive)}),yt.label!=null?re.jsx(Pe,{"aria-hidden":!0,"data-index":Dt,...Li,...!sa(Pe)&&{markLabelActive:gi},style:{...Ii,...Li.style},className:Qe($.markLabel,Li.className,gi&&$.markLabelActive),children:yt.label}):null]},Dt)}),Me.map((yt,Dt)=>{const Lr=j0(yt,x,C),Ii=V[ne].offset(Lr),gi=H==="off"?QR:te;return re.jsx(gi,{...!sa(gi)&&{valueLabelFormat:Q,valueLabelDisplay:H,value:typeof Q=="function"?Q(L(yt),Dt):Q,index:Dt,open:ce===Dt||W===Dt||H==="on",disabled:y},...Zn,children:re.jsx(Ce,{"data-index":Dt,...Ft,className:Qe($.thumb,Ft.className,W===Dt&&$.active,se===Dt&&$.focusVisible),style:{...Ii,...he(Dt),...Ft.style},children:re.jsx(fe,{"data-index":Dt,"aria-label":b?b(Dt):o,"aria-valuenow":L(yt),"aria-labelledby":c,"aria-valuetext":w?w(L(yt),Dt):l,value:Me[Dt],...Xi})})},Dt)})]})}),J4=o9({createStyledComponent:Fe("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>rt({props:n,name:"MuiStack"})}),e3=K.createContext();function jR(n){return tt("MuiTable",n)}nt("MuiTable",["root","stickyHeader"]);const YR=n=>{const{classes:e,stickyHeader:t}=n;return it({root:["root",t&&"stickyHeader"]},jR,e)},XR=Fe("table",{name:"MuiTable",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.stickyHeader&&e.stickyHeader]}})(Ze(({theme:n})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...n.typography.body2,padding:n.spacing(2),color:(n.vars||n).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),qv="table",WR=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTable"}),{className:a,component:o=qv,padding:l="normal",size:c="medium",stickyHeader:d=!1,...h}=i,f={...i,component:o,padding:l,size:c,stickyHeader:d},m=YR(f),v=K.useMemo(()=>({padding:l,size:c,stickyHeader:d}),[l,c,d]);return re.jsx(e3.Provider,{value:v,children:re.jsx(XR,{as:o,role:o===qv?null:"table",ref:t,className:Qe(m.root,a),ownerState:f,...h})})}),Td=K.createContext();function $R(n){return tt("MuiTableBody",n)}nt("MuiTableBody",["root"]);const KR=n=>{const{classes:e}=n;return it({root:["root"]},$R,e)},ZR=Fe("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),JR={variant:"body"},Bv="tbody",eO=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTableBody"}),{className:a,component:o=Bv,...l}=i,c={...i,component:o},d=KR(c);return re.jsx(Td.Provider,{value:JR,children:re.jsx(ZR,{className:Qe(d.root,a),as:o,ref:t,role:o===Bv?null:"rowgroup",ownerState:c,...l})})});function tO(n){return tt("MuiTableCell",n)}const nO=nt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),iO=n=>{const{classes:e,variant:t,align:i,padding:a,size:o,stickyHeader:l}=n,c={root:["root",t,l&&"stickyHeader",i!=="inherit"&&`align${Ue(i)}`,a!=="normal"&&`padding${Ue(a)}`,`size${Ue(o)}`]};return it(c,tO,e)},rO=Fe("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${Ue(t.size)}`],t.padding!=="normal"&&e[`padding${Ue(t.padding)}`],t.align!=="inherit"&&e[`align${Ue(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(Ze(({theme:n})=>({...n.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:n.vars?`1px solid ${n.vars.palette.TableCell.border}`:`1px solid
    ${n.palette.mode==="light"?n.lighten(n.alpha(n.palette.divider,1),.88):n.darken(n.alpha(n.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(n.vars||n).palette.text.primary,lineHeight:n.typography.pxToRem(24),fontWeight:n.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(n.vars||n).palette.text.primary}},{props:{variant:"footer"},style:{color:(n.vars||n).palette.text.secondary,lineHeight:n.typography.pxToRem(21),fontSize:n.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${nO.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(n.vars||n).palette.background.default}}]}))),l0=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTableCell"}),{align:a="inherit",className:o,component:l,padding:c,scope:d,size:h,sortDirection:f,variant:m,...v}=i,p=K.useContext(e3),S=K.useContext(Td),y=S&&S.variant==="head";let b;l?b=l:b=y?"th":"td";let w=d;b==="td"?w=void 0:!w&&y&&(w="col");const D=m||S&&S.variant,C={...i,align:a,component:b,padding:c||(p&&p.padding?p.padding:"normal"),size:h||(p&&p.size?p.size:"medium"),sortDirection:f,stickyHeader:D==="head"&&p&&p.stickyHeader,variant:D},x=iO(C);let R=null;return f&&(R=f==="asc"?"ascending":"descending"),re.jsx(rO,{as:b,ref:t,className:Qe(x.root,o),"aria-sort":R,scope:w,ownerState:C,...v})});function aO(n){return tt("MuiTableContainer",n)}nt("MuiTableContainer",["root"]);const oO=n=>{const{classes:e}=n;return it({root:["root"]},aO,e)},sO=Fe("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),lO=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTableContainer"}),{className:a,component:o="div",...l}=i,c={...i,component:o},d=oO(c);return re.jsx(sO,{ref:t,as:o,className:Qe(d.root,a),ownerState:c,...l})});function cO(n){return tt("MuiTableHead",n)}nt("MuiTableHead",["root"]);const uO=n=>{const{classes:e}=n;return it({root:["root"]},cO,e)},dO=Fe("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),hO={variant:"head"},Gv="thead",fO=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTableHead"}),{className:a,component:o=Gv,...l}=i,c={...i,component:o},d=uO(c);return re.jsx(Td.Provider,{value:hO,children:re.jsx(dO,{as:o,className:Qe(d.root,a),ref:t,role:o===Gv?null:"rowgroup",ownerState:c,...l})})});function gO(n){return tt("MuiToolbar",n)}nt("MuiToolbar",["root","gutters","regular","dense"]);const pO=n=>{const{classes:e,disableGutters:t,variant:i}=n;return it({root:["root",!t&&"gutters",i]},gO,e)},mO=Fe("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(Ze(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),SO=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiToolbar"}),{className:a,component:o="div",disableGutters:l=!1,variant:c="regular",...d}=i,h={...i,component:o,disableGutters:l,variant:c},f=pO(h);return re.jsx(mO,{as:o,className:Qe(f.root,a),ref:t,ownerState:h,...d})});function yO(n){return tt("MuiTableRow",n)}const zv=nt("MuiTableRow",["root","selected","hover","head","footer"]),vO=n=>{const{classes:e,selected:t,hover:i,head:a,footer:o}=n;return it({root:["root",t&&"selected",i&&"hover",a&&"head",o&&"footer"]},yO,e)},bO=Fe("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(Ze(({theme:n})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${zv.hover}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${zv.selected}`]:{backgroundColor:n.alpha((n.vars||n).palette.primary.main,(n.vars||n).palette.action.selectedOpacity),"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.primary.main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`)}}}))),Vv="tr",Qv=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTableRow"}),{className:a,component:o=Vv,hover:l=!1,selected:c=!1,...d}=i,h=K.useContext(Td),f={...i,component:o,hover:l,selected:c,head:h&&h.variant==="head",footer:h&&h.variant==="footer"},m=vO(f);return re.jsx(bO,{as:o,ref:t,className:Qe(m.root,a),role:o===Vv?null:"row",ownerState:f,...d})});function CO(n){return tt("MuiTextField",n)}nt("MuiTextField",["root"]);const DO={standard:Zg,filled:Kg,outlined:tp},TO=n=>{const{classes:e}=n;return it({root:["root"]},CO,e)},wO=Fe(JA,{name:"MuiTextField",slot:"Root"})({}),xO=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiTextField"}),{autoComplete:a,autoFocus:o=!1,children:l,className:c,color:d="primary",defaultValue:h,disabled:f=!1,error:m=!1,FormHelperTextProps:v,fullWidth:p=!1,helperText:S,id:y,InputLabelProps:b,inputProps:w,InputProps:D,inputRef:C,label:x,maxRows:R,minRows:I,multiline:k=!1,name:_,onBlur:M,onChange:U,onFocus:B,placeholder:L,required:P=!1,rows:A,select:E=!1,SelectProps:F,slots:G={},slotProps:H={},type:Q,value:Z,variant:N="outlined",...V}=i,X={...i,autoFocus:o,color:d,disabled:f,error:m,fullWidth:p,multiline:k,required:P,select:E,variant:N},ee=TO(X),J=Fc(y),ce=S&&J?`${J}-helper-text`:void 0,W=x&&J?`${J}-label`:void 0,ne=DO[N],se={slots:G,slotProps:{input:D,inputLabel:b,htmlInput:w,formHelperText:v,select:F,...H}},de={},ve=se.slotProps.inputLabel;N==="outlined"&&(ve&&typeof ve.shrink<"u"&&(de.notched=ve.shrink),de.label=x),E&&((!F||!F.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const[Te,Me]=Zt("root",{elementType:wO,shouldForwardComponentProp:!0,externalForwardedProps:{...se,...V},ownerState:X,className:Qe(ee.root,c),ref:t,additionalProps:{disabled:f,error:m,fullWidth:p,required:P,color:d,variant:N}}),[q,le]=Zt("input",{elementType:ne,externalForwardedProps:se,additionalProps:de,ownerState:X}),[he,$]=Zt("inputLabel",{elementType:C7,externalForwardedProps:se,ownerState:X}),[Y,ae]=Zt("htmlInput",{elementType:"input",externalForwardedProps:se,ownerState:X}),[ye,Ce]=Zt("formHelperText",{elementType:i7,externalForwardedProps:se,ownerState:X}),[te,Re]=Zt("select",{elementType:K4,externalForwardedProps:se,ownerState:X}),Pe=re.jsx(q,{"aria-describedby":ce,autoComplete:a,autoFocus:o,defaultValue:h,fullWidth:p,multiline:k,name:_,rows:A,maxRows:R,minRows:I,type:Q,value:Z,id:J,inputRef:C,onBlur:M,onChange:U,onFocus:B,placeholder:L,inputProps:ae,slots:{input:G.htmlInput?Y:void 0},...le});return re.jsxs(Te,{...Me,children:[x!=null&&x!==""&&re.jsx(he,{htmlFor:J,id:W,...$,children:x}),E?re.jsx(te,{"aria-describedby":ce,id:J,labelId:W,value:Z,input:Pe,...Re,children:l}):Pe,S&&re.jsx(ye,{id:ce,...Ce,children:S})]})});function AO(n){return tt("MuiToggleButton",n)}const Xa=nt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),t3=K.createContext({}),n3=K.createContext(void 0);function RO(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.includes(n):n===e}const OO=n=>{const{classes:e,fullWidth:t,selected:i,disabled:a,size:o,color:l}=n,c={root:["root",i&&"selected",a&&"disabled",t&&"fullWidth",`size${Ue(o)}`,l]};return it(c,AO,e)},PO=Fe(G4,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${Ue(t.size)}`]]}})(Ze(({theme:n})=>({...n.typography.button,borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active,[`&.${Xa.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Xa.selected}`]:{color:(n.vars||n).palette.text.primary,backgroundColor:n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.selectedOpacity),"&:hover":{backgroundColor:n.alpha((n.vars||n).palette.text.primary,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette.text.primary,(n.vars||n).palette.action.selectedOpacity)}}}}},...Object.entries(n.palette).filter(cn()).map(([e])=>({props:{color:e},style:{[`&.${Xa.selected}`]:{color:(n.vars||n).palette[e].main,backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.selectedOpacity),"&:hover":{backgroundColor:n.alpha((n.vars||n).palette[e].main,`${(n.vars||n).palette.action.selectedOpacity} + ${(n.vars||n).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:n.alpha((n.vars||n).palette[e].main,(n.vars||n).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:n.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:n.typography.pxToRem(15)}}]}))),c0=K.forwardRef(function(e,t){const{value:i,...a}=K.useContext(t3),o=K.useContext(n3),l=wc({...a,selected:RO(e.value,i)},e),c=rt({props:l,name:"MuiToggleButton"}),{children:d,className:h,color:f="standard",disabled:m=!1,disableFocusRipple:v=!1,fullWidth:p=!1,onChange:S,onClick:y,selected:b,size:w="medium",value:D,...C}=c,x={...c,color:f,disabled:m,disableFocusRipple:v,fullWidth:p,size:w},R=OO(x),I=_=>{y&&(y(_,D),_.defaultPrevented)||S&&S(_,D)},k=o||"";return re.jsx(PO,{className:Qe(a.className,R.root,h,k),disabled:m,focusRipple:!v,ref:t,onClick:I,onChange:S,value:D,ownerState:x,"aria-pressed":b,...C,children:d})});function LO(n){return tt("MuiToggleButtonGroup",n)}const qt=nt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),IO=n=>{const{classes:e,orientation:t,fullWidth:i,disabled:a}=n,o={root:["root",t,i&&"fullWidth"],grouped:["grouped",`grouped${Ue(t)}`,a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return it(o,LO,e)},EO=Fe("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${qt.grouped}`]:e.grouped},{[`& .${qt.grouped}`]:e[`grouped${Ue(t.orientation)}`]},{[`& .${qt.firstButton}`]:e.firstButton},{[`& .${qt.lastButton}`]:e.lastButton},{[`& .${qt.middleButton}`]:e.middleButton},e.root,t.orientation==="vertical"&&e.vertical,t.fullWidth&&e.fullWidth]}})(Ze(({theme:n})=>({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${qt.grouped}`]:{[`&.${qt.selected} + .${qt.grouped}.${qt.selected}`]:{borderTop:0,marginTop:0}},[`& .${qt.firstButton},& .${qt.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${qt.lastButton},& .${qt.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${qt.lastButton}.${Xa.disabled},& .${qt.middleButton}.${Xa.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${qt.grouped}`]:{[`&.${qt.selected} + .${qt.grouped}.${qt.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${qt.firstButton},& .${qt.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${qt.lastButton},& .${qt.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${qt.lastButton}.${Xa.disabled},& .${qt.middleButton}.${Xa.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),_O=K.forwardRef(function(e,t){const i=rt({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:o,color:l="standard",disabled:c=!1,exclusive:d=!1,fullWidth:h=!1,onChange:f,orientation:m="horizontal",size:v="medium",value:p,...S}=i,y={...i,disabled:c,fullWidth:h,orientation:m,size:v},b=IO(y),w=K.useCallback((k,_)=>{if(!f)return;const M=p&&p.indexOf(_);let U;p&&M>=0?(U=p.slice(),U.splice(M,1)):U=p?p.concat(_):[_],f(k,U)},[f,p]),D=K.useCallback((k,_)=>{f&&f(k,p===_?null:_)},[f,p]),C=K.useMemo(()=>({className:b.grouped,onChange:d?D:w,value:p,size:v,fullWidth:h,color:l,disabled:c}),[b.grouped,d,D,w,p,v,h,l,c]),x=dA(a),R=x.length,I=k=>{const _=k===0,M=k===R-1;return _&&M?"":_?b.firstButton:M?b.lastButton:b.middleButton};return re.jsx(EO,{role:"group",className:Qe(b.root,o),ref:t,ownerState:y,...S,children:re.jsx(t3.Provider,{value:C,children:x.map((k,_)=>re.jsx(n3.Provider,{value:I(_),children:k},_))})})}),MO=v4({themeId:wi});var I0={exports:{}},gl={},l1={},c1={},Hv;function at(){return Hv||(Hv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n._registerNode=n.Konva=n.glob=void 0;const e=Math.PI/180;function t(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}n.glob=typeof es<"u"?es:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},n.Konva={_global:n.glob,version:"9.3.20",isBrowser:t(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return n.Konva.angleDeg?a*e:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return n.Konva.DD.isDragging},isTransforming(){var a;return(a=n.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!n.Konva.DD.node},releaseCanvasOnDestroy:!0,document:n.glob.document,_injectGlobal(a){n.glob.Konva=a}};const i=a=>{n.Konva[a.prototype.getClassName()]=a};n._registerNode=i,n.Konva._injectGlobal(n.Konva)}(c1)),c1}var u1={},jv;function Wt(){return jv||(jv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Util=n.Transform=void 0;const e=at();class t{constructor(x=[1,0,0,1,0,0]){this.dirty=!1,this.m=x&&x.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new t(this.m)}copyInto(x){x.m[0]=this.m[0],x.m[1]=this.m[1],x.m[2]=this.m[2],x.m[3]=this.m[3],x.m[4]=this.m[4],x.m[5]=this.m[5]}point(x){const R=this.m;return{x:R[0]*x.x+R[2]*x.y+R[4],y:R[1]*x.x+R[3]*x.y+R[5]}}translate(x,R){return this.m[4]+=this.m[0]*x+this.m[2]*R,this.m[5]+=this.m[1]*x+this.m[3]*R,this}scale(x,R){return this.m[0]*=x,this.m[1]*=x,this.m[2]*=R,this.m[3]*=R,this}rotate(x){const R=Math.cos(x),I=Math.sin(x),k=this.m[0]*R+this.m[2]*I,_=this.m[1]*R+this.m[3]*I,M=this.m[0]*-I+this.m[2]*R,U=this.m[1]*-I+this.m[3]*R;return this.m[0]=k,this.m[1]=_,this.m[2]=M,this.m[3]=U,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(x,R){const I=this.m[0]+this.m[2]*R,k=this.m[1]+this.m[3]*R,_=this.m[2]+this.m[0]*x,M=this.m[3]+this.m[1]*x;return this.m[0]=I,this.m[1]=k,this.m[2]=_,this.m[3]=M,this}multiply(x){const R=this.m[0]*x.m[0]+this.m[2]*x.m[1],I=this.m[1]*x.m[0]+this.m[3]*x.m[1],k=this.m[0]*x.m[2]+this.m[2]*x.m[3],_=this.m[1]*x.m[2]+this.m[3]*x.m[3],M=this.m[0]*x.m[4]+this.m[2]*x.m[5]+this.m[4],U=this.m[1]*x.m[4]+this.m[3]*x.m[5]+this.m[5];return this.m[0]=R,this.m[1]=I,this.m[2]=k,this.m[3]=_,this.m[4]=M,this.m[5]=U,this}invert(){const x=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),R=this.m[3]*x,I=-this.m[1]*x,k=-this.m[2]*x,_=this.m[0]*x,M=x*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),U=x*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=R,this.m[1]=I,this.m[2]=k,this.m[3]=_,this.m[4]=M,this.m[5]=U,this}getMatrix(){return this.m}decompose(){const x=this.m[0],R=this.m[1],I=this.m[2],k=this.m[3],_=this.m[4],M=this.m[5],U=x*k-R*I,B={x:_,y:M,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(x!=0||R!=0){const L=Math.sqrt(x*x+R*R);B.rotation=R>0?Math.acos(x/L):-Math.acos(x/L),B.scaleX=L,B.scaleY=U/L,B.skewX=(x*I+R*k)/U,B.skewY=0}else if(I!=0||k!=0){const L=Math.sqrt(I*I+k*k);B.rotation=Math.PI/2-(k>0?Math.acos(-I/L):-Math.acos(I/L)),B.scaleX=U/L,B.scaleY=L,B.skewX=0,B.skewY=(x*I+R*k)/U}return B.rotation=n.Util._getRotation(B.rotation),B}}n.Transform=t;const i="[object Array]",a="[object Number]",o="[object String]",l="[object Boolean]",c=Math.PI/180,d=180/Math.PI,h="#",f="",m="0",v="Konva warning: ",p="Konva error: ",S="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},b=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let w=[];const D=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(C){setTimeout(C,60)};n.Util={_isElement(C){return!!(C&&C.nodeType==1)},_isFunction(C){return!!(C&&C.constructor&&C.call&&C.apply)},_isPlainObject(C){return!!C&&C.constructor===Object},_isArray(C){return Object.prototype.toString.call(C)===i},_isNumber(C){return Object.prototype.toString.call(C)===a&&!isNaN(C)&&isFinite(C)},_isString(C){return Object.prototype.toString.call(C)===o},_isBoolean(C){return Object.prototype.toString.call(C)===l},isObject(C){return C instanceof Object},isValidSelector(C){if(typeof C!="string")return!1;const x=C[0];return x==="#"||x==="."||x===x.toUpperCase()},_sign(C){return C===0||C>0?1:-1},requestAnimFrame(C){w.push(C),w.length===1&&D(function(){const x=w;w=[],x.forEach(function(R){R()})})},createCanvasElement(){const C=document.createElement("canvas");try{C.style=C.style||{}}catch{}return C},createImageElement(){return document.createElement("img")},_isInDocument(C){for(;C=C.parentNode;)if(C==document)return!0;return!1},_urlToImage(C,x){const R=n.Util.createImageElement();R.onload=function(){x(R)},R.src=C},_rgbToHex(C,x,R){return((1<<24)+(C<<16)+(x<<8)+R).toString(16).slice(1)},_hexToRgb(C){C=C.replace(h,f);const x=parseInt(C,16);return{r:x>>16&255,g:x>>8&255,b:x&255}},getRandomColor(){let C=(Math.random()*16777215<<0).toString(16);for(;C.length<6;)C=m+C;return h+C},getRGB(C){let x;return C in y?(x=y[C],{r:x[0],g:x[1],b:x[2]}):C[0]===h?this._hexToRgb(C.substring(1)):C.substr(0,4)===S?(x=b.exec(C.replace(/ /g,"")),{r:parseInt(x[1],10),g:parseInt(x[2],10),b:parseInt(x[3],10)}):{r:0,g:0,b:0}},colorToRGBA(C){return C=C||"black",n.Util._namedColorToRBA(C)||n.Util._hex3ColorToRGBA(C)||n.Util._hex4ColorToRGBA(C)||n.Util._hex6ColorToRGBA(C)||n.Util._hex8ColorToRGBA(C)||n.Util._rgbColorToRGBA(C)||n.Util._rgbaColorToRGBA(C)||n.Util._hslColorToRGBA(C)},_namedColorToRBA(C){const x=y[C.toLowerCase()];return x?{r:x[0],g:x[1],b:x[2],a:1}:null},_rgbColorToRGBA(C){if(C.indexOf("rgb(")===0){C=C.match(/rgb\(([^)]+)\)/)[1];const x=C.split(/ *, */).map(Number);return{r:x[0],g:x[1],b:x[2],a:1}}},_rgbaColorToRGBA(C){if(C.indexOf("rgba(")===0){C=C.match(/rgba\(([^)]+)\)/)[1];const x=C.split(/ *, */).map((R,I)=>R.slice(-1)==="%"?I===3?parseInt(R)/100:parseInt(R)/100*255:Number(R));return{r:x[0],g:x[1],b:x[2],a:x[3]}}},_hex8ColorToRGBA(C){if(C[0]==="#"&&C.length===9)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:parseInt(C.slice(7,9),16)/255}},_hex6ColorToRGBA(C){if(C[0]==="#"&&C.length===7)return{r:parseInt(C.slice(1,3),16),g:parseInt(C.slice(3,5),16),b:parseInt(C.slice(5,7),16),a:1}},_hex4ColorToRGBA(C){if(C[0]==="#"&&C.length===5)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:parseInt(C[4]+C[4],16)/255}},_hex3ColorToRGBA(C){if(C[0]==="#"&&C.length===4)return{r:parseInt(C[1]+C[1],16),g:parseInt(C[2]+C[2],16),b:parseInt(C[3]+C[3],16),a:1}},_hslColorToRGBA(C){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(C)){const[x,...R]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(C),I=Number(R[0])/360,k=Number(R[1])/100,_=Number(R[2])/100;let M,U,B;if(k===0)return B=_*255,{r:Math.round(B),g:Math.round(B),b:Math.round(B),a:1};_<.5?M=_*(1+k):M=_+k-_*k;const L=2*_-M,P=[0,0,0];for(let A=0;A<3;A++)U=I+1/3*-(A-1),U<0&&U++,U>1&&U--,6*U<1?B=L+(M-L)*6*U:2*U<1?B=M:3*U<2?B=L+(M-L)*(2/3-U)*6:B=L,P[A]=B*255;return{r:Math.round(P[0]),g:Math.round(P[1]),b:Math.round(P[2]),a:1}}},haveIntersection(C,x){return!(x.x>C.x+C.width||x.x+x.width<C.x||x.y>C.y+C.height||x.y+x.height<C.y)},cloneObject(C){const x={};for(const R in C)this._isPlainObject(C[R])?x[R]=this.cloneObject(C[R]):this._isArray(C[R])?x[R]=this.cloneArray(C[R]):x[R]=C[R];return x},cloneArray(C){return C.slice(0)},degToRad(C){return C*c},radToDeg(C){return C*d},_degToRad(C){return n.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),n.Util.degToRad(C)},_radToDeg(C){return n.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),n.Util.radToDeg(C)},_getRotation(C){return e.Konva.angleDeg?n.Util.radToDeg(C):C},_capitalize(C){return C.charAt(0).toUpperCase()+C.slice(1)},throw(C){throw new Error(p+C)},error(C){console.error(p+C)},warn(C){e.Konva.showWarnings&&console.warn(v+C)},each(C,x){for(const R in C)x(R,C[R])},_inRange(C,x,R){return x<=C&&C<R},_getProjectionToSegment(C,x,R,I,k,_){let M,U,B;const L=(C-R)*(C-R)+(x-I)*(x-I);if(L==0)M=C,U=x,B=(k-R)*(k-R)+(_-I)*(_-I);else{const P=((k-C)*(R-C)+(_-x)*(I-x))/L;P<0?(M=C,U=x,B=(C-k)*(C-k)+(x-_)*(x-_)):P>1?(M=R,U=I,B=(R-k)*(R-k)+(I-_)*(I-_)):(M=C+P*(R-C),U=x+P*(I-x),B=(M-k)*(M-k)+(U-_)*(U-_))}return[M,U,B]},_getProjectionToLine(C,x,R){const I=n.Util.cloneObject(C);let k=Number.MAX_VALUE;return x.forEach(function(_,M){if(!R&&M===x.length-1)return;const U=x[(M+1)%x.length],B=n.Util._getProjectionToSegment(_.x,_.y,U.x,U.y,C.x,C.y),L=B[0],P=B[1],A=B[2];A<k&&(I.x=L,I.y=P,k=A)}),I},_prepareArrayForTween(C,x,R){const I=[],k=[];if(C.length>x.length){const M=x;x=C,C=M}for(let M=0;M<C.length;M+=2)I.push({x:C[M],y:C[M+1]});for(let M=0;M<x.length;M+=2)k.push({x:x[M],y:x[M+1]});const _=[];return k.forEach(function(M){const U=n.Util._getProjectionToLine(M,I,R);_.push(U.x),_.push(U.y)}),_},_prepareToStringify(C){let x;C.visitedByCircularReferenceRemoval=!0;for(const R in C)if(C.hasOwnProperty(R)&&C[R]&&typeof C[R]=="object"){if(x=Object.getOwnPropertyDescriptor(C,R),C[R].visitedByCircularReferenceRemoval||n.Util._isElement(C[R]))if(x.configurable)delete C[R];else return null;else if(n.Util._prepareToStringify(C[R])===null)if(x.configurable)delete C[R];else return null}return delete C.visitedByCircularReferenceRemoval,C},_assign(C,x){for(const R in x)C[R]=x[R];return C},_getFirstPointerId(C){return C.touches?C.changedTouches[0].identifier:C.pointerId||999},releaseCanvas(...C){e.Konva.releaseCanvasOnDestroy&&C.forEach(x=>{x.width=0,x.height=0})},drawRoundedRectPath(C,x,R,I){let k=0,_=0,M=0,U=0;typeof I=="number"?k=_=M=U=Math.min(I,x/2,R/2):(k=Math.min(I[0]||0,x/2,R/2),_=Math.min(I[1]||0,x/2,R/2),U=Math.min(I[2]||0,x/2,R/2),M=Math.min(I[3]||0,x/2,R/2)),C.moveTo(k,0),C.lineTo(x-_,0),C.arc(x-_,_,_,Math.PI*3/2,0,!1),C.lineTo(x,R-U),C.arc(x-U,R-U,U,0,Math.PI/2,!1),C.lineTo(M,R),C.arc(M,R-M,M,Math.PI/2,Math.PI,!1),C.lineTo(0,k),C.arc(k,k,k,Math.PI,Math.PI*3/2,!1)}}}(u1)),u1}var pl={},d1={},Fn={},Yv;function ht(){if(Yv)return Fn;Yv=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.RGBComponent=i,Fn.alphaComponent=a,Fn.getNumberValidator=o,Fn.getNumberOrArrayOfNumbersValidator=l,Fn.getNumberOrAutoValidator=c,Fn.getStringValidator=d,Fn.getStringOrGradientValidator=h,Fn.getFunctionValidator=f,Fn.getNumberArrayValidator=m,Fn.getBooleanValidator=v,Fn.getComponentValidator=p;const n=at(),e=Wt();function t(S){return e.Util._isString(S)?'"'+S+'"':Object.prototype.toString.call(S)==="[object Number]"||e.Util._isBoolean(S)?S:Object.prototype.toString.call(S)}function i(S){return S>255?255:S<0?0:Math.round(S)}function a(S){return S>1?1:S<1e-4?1e-4:S}function o(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isNumber(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),S}}function l(S){if(n.Konva.isUnminified)return function(y,b){let w=e.Util._isNumber(y),D=e.Util._isArray(y)&&y.length==S;return!w&&!D&&e.Util.warn(t(y)+' is a not valid value for "'+b+'" attribute. The value should be a number or Array<number>('+S+")"),y}}function c(){if(n.Konva.isUnminified)return function(S,y){var b=e.Util._isNumber(S),w=S==="auto";return b||w||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),S}}function d(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isString(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),S}}function h(){if(n.Konva.isUnminified)return function(S,y){const b=e.Util._isString(S),w=Object.prototype.toString.call(S)==="[object CanvasGradient]"||S&&S.addColorStop;return b||w||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),S}}function f(){if(n.Konva.isUnminified)return function(S,y){return e.Util._isFunction(S)||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),S}}function m(){if(n.Konva.isUnminified)return function(S,y){const b=Int8Array?Object.getPrototypeOf(Int8Array):null;return b&&S instanceof b||(e.Util._isArray(S)?S.forEach(function(w){e.Util._isNumber(w)||e.Util.warn('"'+y+'" attribute has non numeric element '+w+". Make sure that all elements are numbers.")}):e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),S}}function v(){if(n.Konva.isUnminified)return function(S,y){var b=S===!0||S===!1;return b||e.Util.warn(t(S)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),S}}function p(S){if(n.Konva.isUnminified)return function(y,b){return y==null||e.Util.isObject(y)||e.Util.warn(t(y)+' is a not valid value for "'+b+'" attribute. The value should be an object with properties '+S),y}}return Fn}var Xv;function lt(){return Xv||(Xv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Factory=void 0;const e=Wt(),t=ht(),i="get",a="set";n.Factory={addGetterSetter(o,l,c,d,h){n.Factory.addGetter(o,l,c),n.Factory.addSetter(o,l,d,h),n.Factory.addOverloadedGetterSetter(o,l)},addGetter(o,l,c){var d=i+e.Util._capitalize(l);o.prototype[d]=o.prototype[d]||function(){const h=this.attrs[l];return h===void 0?c:h}},addSetter(o,l,c,d){var h=a+e.Util._capitalize(l);o.prototype[h]||n.Factory.overWriteSetter(o,l,c,d)},overWriteSetter(o,l,c,d){var h=a+e.Util._capitalize(l);o.prototype[h]=function(f){return c&&f!==void 0&&f!==null&&(f=c.call(this,f,l)),this._setAttr(l,f),d&&d.call(this),this}},addComponentsGetterSetter(o,l,c,d,h){const f=c.length,m=e.Util._capitalize,v=i+m(l),p=a+m(l);o.prototype[v]=function(){const y={};for(let b=0;b<f;b++){const w=c[b];y[w]=this.getAttr(l+m(w))}return y};const S=(0,t.getComponentValidator)(c);o.prototype[p]=function(y){const b=this.attrs[l];d&&(y=d.call(this,y,l)),S&&S.call(this,y,l);for(const w in y)y.hasOwnProperty(w)&&this._setAttr(l+m(w),y[w]);return y||c.forEach(w=>{this._setAttr(l+m(w),void 0)}),this._fireChangeEvent(l,b,y),h&&h.call(this),this},n.Factory.addOverloadedGetterSetter(o,l)},addOverloadedGetterSetter(o,l){var c=e.Util._capitalize(l),d=a+c,h=i+c;o.prototype[l]=function(){return arguments.length?(this[d](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(o,l,c,d){e.Util.error("Adding deprecated "+l);const h=i+e.Util._capitalize(l),f=l+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[h]=function(){e.Util.error(f);const m=this.attrs[l];return m===void 0?c:m},n.Factory.addSetter(o,l,d,function(){e.Util.error(f)}),n.Factory.addOverloadedGetterSetter(o,l)},backCompat(o,l){e.Util.each(l,function(c,d){const h=o.prototype[d],f=i+e.Util._capitalize(c),m=a+e.Util._capitalize(c);function v(){h.apply(this,arguments),e.Util.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}o.prototype[c]=v,o.prototype[f]=v,o.prototype[m]=v})},afterSetFilter(){this._filterUpToDate=!1}}}(d1)),d1}var pr={},mr={},Wv;function i3(){if(Wv)return mr;Wv=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.HitContext=mr.SceneContext=mr.Context=void 0;const n=Wt(),e=at();function t(w){const D=[],C=w.length,x=n.Util;for(let R=0;R<C;R++){let I=w[R];x._isNumber(I)?I=Math.round(I*1e3)/1e3:x._isString(I)||(I=I+""),D.push(I)}return D}const i=",",a="(",o=")",l="([",c="])",d=";",h="()",f="=",m=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],v=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],p=100;let S=class{constructor(D){this.canvas=D,e.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(D){D.fillEnabled()&&this._fill(D)}_fill(D){}strokeShape(D){D.hasStroke()&&this._stroke(D)}_stroke(D){}fillStrokeShape(D){D.attrs.fillAfterStrokeEnabled?(this.strokeShape(D),this.fillShape(D)):(this.fillShape(D),this.strokeShape(D))}getTrace(D,C){let x=this.traceArr,R=x.length,I="",k,_,M,U;for(k=0;k<R;k++)_=x[k],M=_.method,M?(U=_.args,I+=M,D?I+=h:n.Util._isArray(U[0])?I+=l+U.join(i)+c:(C&&(U=U.map(B=>typeof B=="number"?Math.floor(B):B)),I+=a+U.join(i)+o)):(I+=_.property,D||(I+=f+_.val)),I+=d;return I}clearTrace(){this.traceArr=[]}_trace(D){let C=this.traceArr,x;C.push(D),x=C.length,x>=p&&C.shift()}reset(){const D=this.getCanvas().getPixelRatio();this.setTransform(1*D,0,0,1*D,0,0)}getCanvas(){return this.canvas}clear(D){const C=this.getCanvas();D?this.clearRect(D.x||0,D.y||0,D.width||0,D.height||0):this.clearRect(0,0,C.getWidth()/C.pixelRatio,C.getHeight()/C.pixelRatio)}_applyLineCap(D){const C=D.attrs.lineCap;C&&this.setAttr("lineCap",C)}_applyOpacity(D){const C=D.getAbsoluteOpacity();C!==1&&this.setAttr("globalAlpha",C)}_applyLineJoin(D){const C=D.attrs.lineJoin;C&&this.setAttr("lineJoin",C)}setAttr(D,C){this._context[D]=C}arc(D,C,x,R,I,k){this._context.arc(D,C,x,R,I,k)}arcTo(D,C,x,R,I){this._context.arcTo(D,C,x,R,I)}beginPath(){this._context.beginPath()}bezierCurveTo(D,C,x,R,I,k){this._context.bezierCurveTo(D,C,x,R,I,k)}clearRect(D,C,x,R){this._context.clearRect(D,C,x,R)}clip(...D){this._context.clip.apply(this._context,D)}closePath(){this._context.closePath()}createImageData(D,C){const x=arguments;if(x.length===2)return this._context.createImageData(D,C);if(x.length===1)return this._context.createImageData(D)}createLinearGradient(D,C,x,R){return this._context.createLinearGradient(D,C,x,R)}createPattern(D,C){return this._context.createPattern(D,C)}createRadialGradient(D,C,x,R,I,k){return this._context.createRadialGradient(D,C,x,R,I,k)}drawImage(D,C,x,R,I,k,_,M,U){const B=arguments,L=this._context;B.length===3?L.drawImage(D,C,x):B.length===5?L.drawImage(D,C,x,R,I):B.length===9&&L.drawImage(D,C,x,R,I,k,_,M,U)}ellipse(D,C,x,R,I,k,_,M){this._context.ellipse(D,C,x,R,I,k,_,M)}isPointInPath(D,C,x,R){return x?this._context.isPointInPath(x,D,C,R):this._context.isPointInPath(D,C,R)}fill(...D){this._context.fill.apply(this._context,D)}fillRect(D,C,x,R){this._context.fillRect(D,C,x,R)}strokeRect(D,C,x,R){this._context.strokeRect(D,C,x,R)}fillText(D,C,x,R){R?this._context.fillText(D,C,x,R):this._context.fillText(D,C,x)}measureText(D){return this._context.measureText(D)}getImageData(D,C,x,R){return this._context.getImageData(D,C,x,R)}lineTo(D,C){this._context.lineTo(D,C)}moveTo(D,C){this._context.moveTo(D,C)}rect(D,C,x,R){this._context.rect(D,C,x,R)}roundRect(D,C,x,R,I){this._context.roundRect(D,C,x,R,I)}putImageData(D,C,x){this._context.putImageData(D,C,x)}quadraticCurveTo(D,C,x,R){this._context.quadraticCurveTo(D,C,x,R)}restore(){this._context.restore()}rotate(D){this._context.rotate(D)}save(){this._context.save()}scale(D,C){this._context.scale(D,C)}setLineDash(D){this._context.setLineDash?this._context.setLineDash(D):"mozDash"in this._context?this._context.mozDash=D:"webkitLineDash"in this._context&&(this._context.webkitLineDash=D)}getLineDash(){return this._context.getLineDash()}setTransform(D,C,x,R,I,k){this._context.setTransform(D,C,x,R,I,k)}stroke(D){D?this._context.stroke(D):this._context.stroke()}strokeText(D,C,x,R){this._context.strokeText(D,C,x,R)}transform(D,C,x,R,I,k){this._context.transform(D,C,x,R,I,k)}translate(D,C){this._context.translate(D,C)}_enableTrace(){let D=this,C=m.length,x=this.setAttr,R,I;const k=function(_){let M=D[_],U;D[_]=function(){return I=t(Array.prototype.slice.call(arguments,0)),U=M.apply(D,arguments),D._trace({method:_,args:I}),U}};for(R=0;R<C;R++)k(m[R]);D.setAttr=function(){x.apply(D,arguments);const _=arguments[0];let M=arguments[1];(_==="shadowOffsetX"||_==="shadowOffsetY"||_==="shadowBlur")&&(M=M/this.canvas.getPixelRatio()),D._trace({property:_,val:M})}}_applyGlobalCompositeOperation(D){const C=D.attrs.globalCompositeOperation;!C||C==="source-over"||this.setAttr("globalCompositeOperation",C)}};mr.Context=S,v.forEach(function(w){Object.defineProperty(S.prototype,w,{get(){return this._context[w]},set(D){this._context[w]=D}})});class y extends S{constructor(D,{willReadFrequently:C=!1}={}){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:C})}_fillColor(D){const C=D.fill();this.setAttr("fillStyle",C),D._fillFunc(this)}_fillPattern(D){this.setAttr("fillStyle",D._getFillPattern()),D._fillFunc(this)}_fillLinearGradient(D){const C=D._getLinearGradient();C&&(this.setAttr("fillStyle",C),D._fillFunc(this))}_fillRadialGradient(D){const C=D._getRadialGradient();C&&(this.setAttr("fillStyle",C),D._fillFunc(this))}_fill(D){const C=D.fill(),x=D.getFillPriority();if(C&&x==="color"){this._fillColor(D);return}const R=D.getFillPatternImage();if(R&&x==="pattern"){this._fillPattern(D);return}const I=D.getFillLinearGradientColorStops();if(I&&x==="linear-gradient"){this._fillLinearGradient(D);return}const k=D.getFillRadialGradientColorStops();if(k&&x==="radial-gradient"){this._fillRadialGradient(D);return}C?this._fillColor(D):R?this._fillPattern(D):I?this._fillLinearGradient(D):k&&this._fillRadialGradient(D)}_strokeLinearGradient(D){const C=D.getStrokeLinearGradientStartPoint(),x=D.getStrokeLinearGradientEndPoint(),R=D.getStrokeLinearGradientColorStops(),I=this.createLinearGradient(C.x,C.y,x.x,x.y);if(R){for(let k=0;k<R.length;k+=2)I.addColorStop(R[k],R[k+1]);this.setAttr("strokeStyle",I)}}_stroke(D){const C=D.dash(),x=D.getStrokeScaleEnabled();if(D.hasStroke()){if(!x){this.save();const I=this.getCanvas().getPixelRatio();this.setTransform(I,0,0,I,0,0)}this._applyLineCap(D),C&&D.dashEnabled()&&(this.setLineDash(C),this.setAttr("lineDashOffset",D.dashOffset())),this.setAttr("lineWidth",D.strokeWidth()),D.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),D.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(D):this.setAttr("strokeStyle",D.stroke()),D._strokeFunc(this),x||this.restore()}}_applyShadow(D){var C,x,R;const I=(C=D.getShadowRGBA())!==null&&C!==void 0?C:"black",k=(x=D.getShadowBlur())!==null&&x!==void 0?x:5,_=(R=D.getShadowOffset())!==null&&R!==void 0?R:{x:0,y:0},M=D.getAbsoluteScale(),U=this.canvas.getPixelRatio(),B=M.x*U,L=M.y*U;this.setAttr("shadowColor",I),this.setAttr("shadowBlur",k*Math.min(Math.abs(B),Math.abs(L))),this.setAttr("shadowOffsetX",_.x*B),this.setAttr("shadowOffsetY",_.y*L)}}mr.SceneContext=y;class b extends S{constructor(D){super(D),this._context=D._canvas.getContext("2d",{willReadFrequently:!0})}_fill(D){this.save(),this.setAttr("fillStyle",D.colorKey),D._fillFuncHit(this),this.restore()}strokeShape(D){D.hasHitStroke()&&this._stroke(D)}_stroke(D){if(D.hasHitStroke()){const C=D.getStrokeScaleEnabled();if(!C){this.save();const I=this.getCanvas().getPixelRatio();this.setTransform(I,0,0,I,0,0)}this._applyLineCap(D);const x=D.hitStrokeWidth(),R=x==="auto"?D.strokeWidth():x;this.setAttr("lineWidth",R),this.setAttr("strokeStyle",D.colorKey),D._strokeFuncHit(this),C||this.restore()}}}return mr.HitContext=b,mr}var $v;function wd(){if($v)return pr;$v=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.HitCanvas=pr.SceneCanvas=pr.Canvas=void 0;const n=Wt(),e=i3(),t=at();let i;function a(){if(i)return i;const d=n.Util.createCanvasElement(),h=d.getContext("2d");return i=function(){const f=t.Konva._global.devicePixelRatio||1,m=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return f/m}(),n.Util.releaseCanvas(d),i}let o=class{constructor(h){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(h||{}).pixelRatio||t.Konva.pixelRatio||a();this.pixelRatio=m,this._canvas=n.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(h){const f=this.pixelRatio;this.pixelRatio=h,this.setSize(this.getWidth()/f,this.getHeight()/f)}setWidth(h){this.width=this._canvas.width=h*this.pixelRatio,this._canvas.style.width=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}setHeight(h){this.height=this._canvas.height=h*this.pixelRatio,this._canvas.style.height=h+"px";const f=this.pixelRatio;this.getContext()._context.scale(f,f)}getWidth(){return this.width}getHeight(){return this.height}setSize(h,f){this.setWidth(h||0),this.setHeight(f||0)}toDataURL(h,f){try{return this._canvas.toDataURL(h,f)}catch{try{return this._canvas.toDataURL()}catch(v){return n.Util.error("Unable to get data URL. "+v.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};pr.Canvas=o;class l extends o{constructor(h={width:0,height:0,willReadFrequently:!1}){super(h),this.context=new e.SceneContext(this,{willReadFrequently:h.willReadFrequently}),this.setSize(h.width,h.height)}}pr.SceneCanvas=l;class c extends o{constructor(h={width:0,height:0}){super(h),this.hitCanvas=!0,this.context=new e.HitContext(this),this.setSize(h.width,h.height)}}return pr.HitCanvas=c,pr}var h1={},Kv;function ip(){return Kv||(Kv=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.DD=void 0;const e=at(),t=Wt();n.DD={get isDragging(){let i=!1;return n.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){let i;return n.DD._dragElements.forEach(a=>{i=a.node}),i},_dragElements:new Map,_drag(i){const a=[];n.DD._dragElements.forEach((o,l)=>{const{node:c}=o,d=c.getStage();d.setPointersPositions(i),o.pointerId===void 0&&(o.pointerId=t.Util._getFirstPointerId(i));const h=d._changedPointerPositions.find(f=>f.id===o.pointerId);if(h){if(o.dragStatus!=="dragging"){const f=c.dragDistance();if(Math.max(Math.abs(h.x-o.startPointerPos.x),Math.abs(h.y-o.startPointerPos.y))<f||(c.startDrag({evt:i}),!c.isDragging()))return}c._setDragPosition(i,o),a.push(c)}}),a.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:i},!0)})},_endDragBefore(i){const a=[];n.DD._dragElements.forEach(o=>{const{node:l}=o,c=l.getStage();if(i&&c.setPointersPositions(i),!c._changedPointerPositions.find(f=>f.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(n.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const h=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;h&&a.indexOf(h)===-1&&a.push(h)}),a.forEach(o=>{o.draw()})},_endDragAfter(i){n.DD._dragElements.forEach((a,o)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:i},!0),a.dragStatus!=="dragging"&&n.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("touchcancel",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1),window.addEventListener("touchcancel",n.DD._endDragAfter,!1))}(h1)),h1}var Zv;function en(){if(Zv)return pl;Zv=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.Node=void 0;const n=Wt(),e=lt(),t=wd(),i=at(),a=ip(),o=ht(),l="absoluteOpacity",c="allEventListeners",d="absoluteTransform",h="absoluteScale",f="canvas",m="Change",v="children",p="konva",S="listening",y="mouseenter",b="mouseleave",w="set",D="Shape",C=" ",x="stage",R="transform",I="Stage",k="visible",_=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(C);let M=1,U=class cg{constructor(P){this._id=M++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(P),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(P){(P===R||P===d)&&this._cache.get(P)?this._cache.get(P).dirty=!0:P?this._cache.delete(P):this._cache.clear()}_getCache(P,A){let E=this._cache.get(P);return(E===void 0||(P===R||P===d)&&E.dirty===!0)&&(E=A.call(this),this._cache.set(P,E)),E}_calculate(P,A,E){if(!this._attachedDepsListeners.get(P)){const F=A.map(G=>G+"Change.konva").join(C);this.on(F,()=>{this._clearCache(P)}),this._attachedDepsListeners.set(P,!0)}return this._getCache(P,E)}_getCanvasCache(){return this._cache.get(f)}_clearSelfAndDescendantCache(P){this._clearCache(P),P===d&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(f)){const{scene:P,filter:A,hit:E}=this._cache.get(f);n.Util.releaseCanvas(P,A,E),this._cache.delete(f)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(P){const A=P||{};let E={};(A.x===void 0||A.y===void 0||A.width===void 0||A.height===void 0)&&(E=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let F=Math.ceil(A.width||E.width),G=Math.ceil(A.height||E.height),H=A.pixelRatio,Q=A.x===void 0?Math.floor(E.x):A.x,Z=A.y===void 0?Math.floor(E.y):A.y,N=A.offset||0,V=A.drawBorder||!1,X=A.hitCanvasPixelRatio||1;if(!F||!G){n.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ee=Math.abs(Math.round(E.x)-Q)>.5?1:0,J=Math.abs(Math.round(E.y)-Z)>.5?1:0;F+=N*2+ee,G+=N*2+J,Q-=N,Z-=N;const ce=new t.SceneCanvas({pixelRatio:H,width:F,height:G}),W=new t.SceneCanvas({pixelRatio:H,width:0,height:0,willReadFrequently:!0}),ne=new t.HitCanvas({pixelRatio:X,width:F,height:G}),se=ce.getContext(),de=ne.getContext();return ne.isCache=!0,ce.isCache=!0,this._cache.delete(f),this._filterUpToDate=!1,A.imageSmoothingEnabled===!1&&(ce.getContext()._context.imageSmoothingEnabled=!1,W.getContext()._context.imageSmoothingEnabled=!1),se.save(),de.save(),se.translate(-Q,-Z),de.translate(-Q,-Z),this._isUnderCache=!0,this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this.drawScene(ce,this),this.drawHit(ne,this),this._isUnderCache=!1,se.restore(),de.restore(),V&&(se.save(),se.beginPath(),se.rect(0,0,F,G),se.closePath(),se.setAttr("strokeStyle","red"),se.setAttr("lineWidth",5),se.stroke(),se.restore()),this._cache.set(f,{scene:ce,filter:W,hit:ne,x:Q,y:Z}),this._requestDraw(),this}isCached(){return this._cache.has(f)}getClientRect(P){throw new Error('abstract "getClientRect" method call')}_transformedRect(P,A){const E=[{x:P.x,y:P.y},{x:P.x+P.width,y:P.y},{x:P.x+P.width,y:P.y+P.height},{x:P.x,y:P.y+P.height}];let F=1/0,G=1/0,H=-1/0,Q=-1/0;const Z=this.getAbsoluteTransform(A);return E.forEach(function(N){const V=Z.point(N);F===void 0&&(F=H=V.x,G=Q=V.y),F=Math.min(F,V.x),G=Math.min(G,V.y),H=Math.max(H,V.x),Q=Math.max(Q,V.y)}),{x:F,y:G,width:H-F,height:Q-G}}_drawCachedSceneCanvas(P){P.save(),P._applyOpacity(this),P._applyGlobalCompositeOperation(this);const A=this._getCanvasCache();P.translate(A.x,A.y);const E=this._getCachedSceneCanvas(),F=E.pixelRatio;P.drawImage(E._canvas,0,0,E.width/F,E.height/F),P.restore()}_drawCachedHitCanvas(P){const A=this._getCanvasCache(),E=A.hit;P.save(),P.translate(A.x,A.y),P.drawImage(E._canvas,0,0,E.width/E.pixelRatio,E.height/E.pixelRatio),P.restore()}_getCachedSceneCanvas(){let P=this.filters(),A=this._getCanvasCache(),E=A.scene,F=A.filter,G=F.getContext(),H,Q,Z,N;if(P){if(!this._filterUpToDate){const V=E.pixelRatio;F.setSize(E.width/E.pixelRatio,E.height/E.pixelRatio);try{for(H=P.length,G.clear(),G.drawImage(E._canvas,0,0,E.getWidth()/V,E.getHeight()/V),Q=G.getImageData(0,0,F.getWidth(),F.getHeight()),Z=0;Z<H;Z++){if(N=P[Z],typeof N!="function"){n.Util.error("Filter should be type of function, but got "+typeof N+" instead. Please check correct filters");continue}N.call(this,Q),G.putImageData(Q,0,0)}}catch(X){n.Util.error("Unable to apply filter. "+X.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return F}return E}on(P,A){if(this._cache&&this._cache.delete(c),arguments.length===3)return this._delegate.apply(this,arguments);let E=P.split(C),F=E.length,G,H,Q,Z,N;for(G=0;G<F;G++)H=E[G],Q=H.split("."),Z=Q[0],N=Q[1]||"",this.eventListeners[Z]||(this.eventListeners[Z]=[]),this.eventListeners[Z].push({name:N,handler:A});return this}off(P,A){let E=(P||"").split(C),F=E.length,G,H,Q,Z,N,V;if(this._cache&&this._cache.delete(c),!P)for(H in this.eventListeners)this._off(H);for(G=0;G<F;G++)if(Q=E[G],Z=Q.split("."),N=Z[0],V=Z[1],N)this.eventListeners[N]&&this._off(N,V,A);else for(H in this.eventListeners)this._off(H,V,A);return this}dispatchEvent(P){const A={target:this,type:P.type,evt:P};return this.fire(P.type,A),this}addEventListener(P,A){return this.on(P,function(E){A.call(this,E.evt)}),this}removeEventListener(P){return this.off(P),this}_delegate(P,A,E){const F=this;this.on(P,function(G){const H=G.target.findAncestors(A,!0,F);for(let Q=0;Q<H.length;Q++)G=n.Util.cloneObject(G),G.currentTarget=H[Q],E.call(H[Q],G)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(k),this._clearSelfAndDescendantCache(S)}_remove(){this._clearCaches();const P=this.getParent();P&&P.children&&(P.children.splice(this.index,1),P._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(P){const A="get"+n.Util._capitalize(P);return n.Util._isFunction(this[A])?this[A]():this.attrs[P]}getAncestors(){let P=this.getParent(),A=[];for(;P;)A.push(P),P=P.getParent();return A}getAttrs(){return this.attrs||{}}setAttrs(P){return this._batchTransformChanges(()=>{let A,E;if(!P)return this;for(A in P)A!==v&&(E=w+n.Util._capitalize(A),n.Util._isFunction(this[E])?this[E](P[A]):this._setAttr(A,P[A]))}),this}isListening(){return this._getCache(S,this._isListening)}_isListening(P){if(!this.listening())return!1;const E=this.getParent();return E&&E!==P&&this!==P?E._isListening(P):!0}isVisible(){return this._getCache(k,this._isVisible)}_isVisible(P){if(!this.visible())return!1;const E=this.getParent();return E&&E!==P&&this!==P?E._isVisible(P):!0}shouldDrawHit(P,A=!1){if(P)return this._isVisible(P)&&this._isListening(P);const E=this.getLayer();let F=!1;a.DD._dragElements.forEach(H=>{H.dragStatus==="dragging"&&(H.node.nodeType==="Stage"||H.node.getLayer()===E)&&(F=!0)});const G=!A&&!i.Konva.hitOnDragEnabled&&(F||i.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!G}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let P=this.getDepth(),A=this,E=0,F,G,H,Q;function Z(V){for(F=[],G=V.length,H=0;H<G;H++)Q=V[H],E++,Q.nodeType!==D&&(F=F.concat(Q.getChildren().slice())),Q._id===A._id&&(H=G);F.length>0&&F[0].getDepth()<=P&&Z(F)}const N=this.getStage();return A.nodeType!==I&&N&&Z(N.getChildren()),E}getDepth(){let P=0,A=this.parent;for(;A;)P++,A=A.parent;return P}_batchTransformChanges(P){this._batchingTransformChange=!0,P(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(R),this._clearSelfAndDescendantCache(d)),this._needClearTransformCache=!1}setPosition(P){return this._batchTransformChanges(()=>{this.x(P.x),this.y(P.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const P=this.getStage();if(!P)return null;const A=P.getPointerPosition();if(!A)return null;const E=this.getAbsoluteTransform().copy();return E.invert(),E.point(A)}getAbsolutePosition(P){let A=!1,E=this.parent;for(;E;){if(E.isCached()){A=!0;break}E=E.parent}A&&!P&&(P=!0);const F=this.getAbsoluteTransform(P).getMatrix(),G=new n.Transform,H=this.offset();return G.m=F.slice(),G.translate(H.x,H.y),G.getTranslation()}setAbsolutePosition(P){const{x:A,y:E,...F}=this._clearTransform();this.attrs.x=A,this.attrs.y=E,this._clearCache(R);const G=this._getAbsoluteTransform().copy();return G.invert(),G.translate(P.x,P.y),P={x:this.attrs.x+G.getTranslation().x,y:this.attrs.y+G.getTranslation().y},this._setTransform(F),this.setPosition({x:P.x,y:P.y}),this._clearCache(R),this._clearSelfAndDescendantCache(d),this}_setTransform(P){let A;for(A in P)this.attrs[A]=P[A]}_clearTransform(){const P={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,P}move(P){let A=P.x,E=P.y,F=this.x(),G=this.y();return A!==void 0&&(F+=A),E!==void 0&&(G+=E),this.setPosition({x:F,y:G}),this}_eachAncestorReverse(P,A){let E=[],F=this.getParent(),G,H;if(!(A&&A._id===this._id)){for(E.unshift(this);F&&(!A||F._id!==A._id);)E.unshift(F),F=F.parent;for(G=E.length,H=0;H<G;H++)P(E[H])}}rotate(P){return this.rotation(this.rotation()+P),this}moveToTop(){if(!this.parent)return n.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const P=this.index,A=this.parent.getChildren().length;return P<A-1?(this.parent.children.splice(P,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return n.Util.warn("Node has no parent. moveUp function is ignored."),!1;const P=this.index,A=this.parent.getChildren().length;return P<A-1?(this.parent.children.splice(P,1),this.parent.children.splice(P+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return n.Util.warn("Node has no parent. moveDown function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.splice(P-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return n.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const P=this.index;return P>0?(this.parent.children.splice(P,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(P){if(!this.parent)return n.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(P<0||P>=this.parent.children.length)&&n.Util.warn("Unexpected value "+P+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const A=this.index;return this.parent.children.splice(A,1),this.parent.children.splice(P,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(l,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let P=this.opacity();const A=this.getParent();return A&&!A._isUnderCache&&(P*=A.getAbsoluteOpacity()),P}moveTo(P){return this.getParent()!==P&&(this._remove(),P.add(this)),this}toObject(){let P=this.getAttrs(),A,E,F,G,H;const Q={attrs:{},className:this.getClassName()};for(A in P)E=P[A],H=n.Util.isObject(E)&&!n.Util._isPlainObject(E)&&!n.Util._isArray(E),!H&&(F=typeof this[A]=="function"&&this[A],delete P[A],G=F?F.call(this):null,P[A]=E,G!==E&&(Q.attrs[A]=E));return n.Util._prepareToStringify(Q)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(P,A,E){const F=[];A&&this._isMatch(P)&&F.push(this);let G=this.parent;for(;G;){if(G===E)return F;G._isMatch(P)&&F.push(G),G=G.parent}return F}isAncestorOf(P){return!1}findAncestor(P,A,E){return this.findAncestors(P,A,E)[0]}_isMatch(P){if(!P)return!1;if(typeof P=="function")return P(this);let A=P.replace(/ /g,"").split(","),E=A.length,F,G;for(F=0;F<E;F++)if(G=A[F],n.Util.isValidSelector(G)||(n.Util.warn('Selector "'+G+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),n.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),n.Util.warn("Konva is awesome, right?")),G.charAt(0)==="#"){if(this.id()===G.slice(1))return!0}else if(G.charAt(0)==="."){if(this.hasName(G.slice(1)))return!0}else if(this.className===G||this.nodeType===G)return!0;return!1}getLayer(){const P=this.getParent();return P?P.getLayer():null}getStage(){return this._getCache(x,this._getStage)}_getStage(){const P=this.getParent();return P?P.getStage():null}fire(P,A={},E){return A.target=A.target||this,E?this._fireAndBubble(P,A):this._fire(P,A),this}getAbsoluteTransform(P){return P?this._getAbsoluteTransform(P):this._getCache(d,this._getAbsoluteTransform)}_getAbsoluteTransform(P){let A;if(P)return A=new n.Transform,this._eachAncestorReverse(function(E){const F=E.transformsEnabled();F==="all"?A.multiply(E.getTransform()):F==="position"&&A.translate(E.x()-E.offsetX(),E.y()-E.offsetY())},P),A;{A=this._cache.get(d)||new n.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(A):A.reset();const E=this.transformsEnabled();if(E==="all")A.multiply(this.getTransform());else if(E==="position"){const F=this.attrs.x||0,G=this.attrs.y||0,H=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;A.translate(F-H,G-Q)}return A.dirty=!1,A}}getAbsoluteScale(P){let A=this;for(;A;)A._isUnderCache&&(P=A),A=A.getParent();const F=this.getAbsoluteTransform(P).decompose();return{x:F.scaleX,y:F.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(R,this._getTransform)}_getTransform(){var P,A;const E=this._cache.get(R)||new n.Transform;E.reset();const F=this.x(),G=this.y(),H=i.Konva.getAngle(this.rotation()),Q=(P=this.attrs.scaleX)!==null&&P!==void 0?P:1,Z=(A=this.attrs.scaleY)!==null&&A!==void 0?A:1,N=this.attrs.skewX||0,V=this.attrs.skewY||0,X=this.attrs.offsetX||0,ee=this.attrs.offsetY||0;return(F!==0||G!==0)&&E.translate(F,G),H!==0&&E.rotate(H),(N!==0||V!==0)&&E.skew(N,V),(Q!==1||Z!==1)&&E.scale(Q,Z),(X!==0||ee!==0)&&E.translate(-1*X,-1*ee),E.dirty=!1,E}clone(P){let A=n.Util.cloneObject(this.attrs),E,F,G,H,Q;for(E in P)A[E]=P[E];const Z=new this.constructor(A);for(E in this.eventListeners)for(F=this.eventListeners[E],G=F.length,H=0;H<G;H++)Q=F[H],Q.name.indexOf(p)<0&&(Z.eventListeners[E]||(Z.eventListeners[E]=[]),Z.eventListeners[E].push(Q));return Z}_toKonvaCanvas(P){P=P||{};const A=this.getClientRect(),E=this.getStage(),F=P.x!==void 0?P.x:Math.floor(A.x),G=P.y!==void 0?P.y:Math.floor(A.y),H=P.pixelRatio||1,Q=new t.SceneCanvas({width:P.width||Math.ceil(A.width)||(E?E.width():0),height:P.height||Math.ceil(A.height)||(E?E.height():0),pixelRatio:H}),Z=Q.getContext(),N=new t.SceneCanvas({width:Q.width/Q.pixelRatio+Math.abs(F),height:Q.height/Q.pixelRatio+Math.abs(G),pixelRatio:Q.pixelRatio});return P.imageSmoothingEnabled===!1&&(Z._context.imageSmoothingEnabled=!1),Z.save(),(F||G)&&Z.translate(-1*F,-1*G),this.drawScene(Q,void 0,N),Z.restore(),Q}toCanvas(P){return this._toKonvaCanvas(P)._canvas}toDataURL(P){P=P||{};const A=P.mimeType||null,E=P.quality||null,F=this._toKonvaCanvas(P).toDataURL(A,E);return P.callback&&P.callback(F),F}toImage(P){return new Promise((A,E)=>{try{const F=P?.callback;F&&delete P.callback,n.Util._urlToImage(this.toDataURL(P),function(G){A(G),F?.(G)})}catch(F){E(F)}})}toBlob(P){return new Promise((A,E)=>{try{const F=P?.callback;F&&delete P.callback,this.toCanvas(P).toBlob(G=>{A(G),F?.(G)},P?.mimeType,P?.quality)}catch(F){E(F)}})}setSize(P){return this.width(P.width),this.height(P.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():i.Konva.dragDistance}_off(P,A,E){let F=this.eventListeners[P],G,H,Q;for(G=0;G<F.length;G++)if(H=F[G].name,Q=F[G].handler,(H!=="konva"||A==="konva")&&(!A||H===A)&&(!E||E===Q)){if(F.splice(G,1),F.length===0){delete this.eventListeners[P];break}G--}}_fireChangeEvent(P,A,E){this._fire(P+m,{oldVal:A,newVal:E})}addName(P){if(!this.hasName(P)){const A=this.name(),E=A?A+" "+P:P;this.name(E)}return this}hasName(P){if(!P)return!1;const A=this.name();return A?(A||"").split(/\s/g).indexOf(P)!==-1:!1}removeName(P){const A=(this.name()||"").split(/\s/g),E=A.indexOf(P);return E!==-1&&(A.splice(E,1),this.name(A.join(" "))),this}setAttr(P,A){const E=this[w+n.Util._capitalize(P)];return n.Util._isFunction(E)?E.call(this,A):this._setAttr(P,A),this}_requestDraw(){if(i.Konva.autoDrawEnabled){const P=this.getLayer()||this.getStage();P?.batchDraw()}}_setAttr(P,A){const E=this.attrs[P];E===A&&!n.Util.isObject(A)||(A==null?delete this.attrs[P]:this.attrs[P]=A,this._shouldFireChangeEvents&&this._fireChangeEvent(P,E,A),this._requestDraw())}_setComponentAttr(P,A,E){let F;E!==void 0&&(F=this.attrs[P],F||(this.attrs[P]=this.getAttr(P)),this.attrs[P][A]=E,this._fireChangeEvent(P,F,E))}_fireAndBubble(P,A,E){if(A&&this.nodeType===D&&(A.target=this),!((P===y||P===b)&&(E&&(this===E||this.isAncestorOf&&this.isAncestorOf(E))||this.nodeType==="Stage"&&!E))){this._fire(P,A);const G=(P===y||P===b)&&E&&E.isAncestorOf&&E.isAncestorOf(this)&&!E.isAncestorOf(this.parent);(A&&!A.cancelBubble||!A)&&this.parent&&this.parent.isListening()&&!G&&(E&&E.parent?this._fireAndBubble.call(this.parent,P,A,E):this._fireAndBubble.call(this.parent,P,A))}}_getProtoListeners(P){var A,E,F;const G=(A=this._cache.get(c))!==null&&A!==void 0?A:{};let H=G?.[P];if(H===void 0){H=[];let Q=Object.getPrototypeOf(this);for(;Q;){const Z=(F=(E=Q.eventListeners)===null||E===void 0?void 0:E[P])!==null&&F!==void 0?F:[];H.push(...Z),Q=Object.getPrototypeOf(Q)}G[P]=H,this._cache.set(c,G)}return H}_fire(P,A){A=A||{},A.currentTarget=this,A.type=P;const E=this._getProtoListeners(P);if(E)for(var F=0;F<E.length;F++)E[F].handler.call(this,A);const G=this.eventListeners[P];if(G)for(var F=0;F<G.length;F++)G[F].handler.call(this,A)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(P){const A=P?P.pointerId:void 0,E=this.getStage(),F=this.getAbsolutePosition();if(!E)return;const G=E._getPointerById(A)||E._changedPointerPositions[0]||F;a.DD._dragElements.set(this._id,{node:this,startPointerPos:G,offset:{x:G.x-F.x,y:G.y-F.y},dragStatus:"ready",pointerId:A})}startDrag(P,A=!0){a.DD._dragElements.has(this._id)||this._createDragElement(P);const E=a.DD._dragElements.get(this._id);E.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:P&&P.evt},A)}_setDragPosition(P,A){const E=this.getStage()._getPointerById(A.pointerId);if(!E)return;let F={x:E.x-A.offset.x,y:E.y-A.offset.y};const G=this.dragBoundFunc();if(G!==void 0){const H=G.call(this,F,P);H?F=H:n.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==F.x||this._lastPos.y!==F.y)&&(this.setAbsolutePosition(F),this._requestDraw()),this._lastPos=F}stopDrag(P){const A=a.DD._dragElements.get(this._id);A&&(A.dragStatus="stopped"),a.DD._endDragBefore(P),a.DD._endDragAfter(P)}setDraggable(P){this._setAttr("draggable",P),this._dragChange()}isDragging(){const P=a.DD._dragElements.get(this._id);return P?P.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(P){if(!(!(P.evt.button!==void 0)||i.Konva.dragButtons.indexOf(P.evt.button)>=0)||this.isDragging())return;let F=!1;a.DD._dragElements.forEach(G=>{this.isAncestorOf(G.node)&&(F=!0)}),F||this._createDragElement(P)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const A=a.DD._dragElements.get(this._id),E=A&&A.dragStatus==="dragging",F=A&&A.dragStatus==="ready";E?this.stopDrag():F&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(P={x:0,y:0}){const A=this.getStage();if(!A)return!1;const E={x:-P.x,y:-P.y,width:A.width()+2*P.x,height:A.height()+2*P.y};return n.Util.haveIntersection(E,this.getClientRect())}static create(P,A){return n.Util._isString(P)&&(P=JSON.parse(P)),this._createNode(P,A)}static _createNode(P,A){let E=cg.prototype.getClassName.call(P),F=P.children,G,H,Q;A&&(P.attrs.container=A),i.Konva[E]||(n.Util.warn('Can not find a node with class name "'+E+'". Fallback to "Shape".'),E="Shape");const Z=i.Konva[E];if(G=new Z(P.attrs),F)for(H=F.length,Q=0;Q<H;Q++)G.add(cg._createNode(F[Q]));return G}};pl.Node=U,U.prototype.nodeType="Node",U.prototype._attrsAffectingSize=[],U.prototype.eventListeners={},U.prototype.on.call(U.prototype,_,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(R),this._clearSelfAndDescendantCache(d)}),U.prototype.on.call(U.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(k)}),U.prototype.on.call(U.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(S)}),U.prototype.on.call(U.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(l)});const B=e.Factory.addGetterSetter;return B(U,"zIndex"),B(U,"absolutePosition"),B(U,"position"),B(U,"x",0,(0,o.getNumberValidator)()),B(U,"y",0,(0,o.getNumberValidator)()),B(U,"globalCompositeOperation","source-over",(0,o.getStringValidator)()),B(U,"opacity",1,(0,o.getNumberValidator)()),B(U,"name","",(0,o.getStringValidator)()),B(U,"id","",(0,o.getStringValidator)()),B(U,"rotation",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(U,"scale",["x","y"]),B(U,"scaleX",1,(0,o.getNumberValidator)()),B(U,"scaleY",1,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(U,"skew",["x","y"]),B(U,"skewX",0,(0,o.getNumberValidator)()),B(U,"skewY",0,(0,o.getNumberValidator)()),e.Factory.addComponentsGetterSetter(U,"offset",["x","y"]),B(U,"offsetX",0,(0,o.getNumberValidator)()),B(U,"offsetY",0,(0,o.getNumberValidator)()),B(U,"dragDistance",void 0,(0,o.getNumberValidator)()),B(U,"width",0,(0,o.getNumberValidator)()),B(U,"height",0,(0,o.getNumberValidator)()),B(U,"listening",!0,(0,o.getBooleanValidator)()),B(U,"preventDefault",!0,(0,o.getBooleanValidator)()),B(U,"filters",void 0,function(L){return this._filterUpToDate=!1,L}),B(U,"visible",!0,(0,o.getBooleanValidator)()),B(U,"transformsEnabled","all",(0,o.getStringValidator)()),B(U,"size"),B(U,"dragBoundFunc"),B(U,"draggable",!1,(0,o.getBooleanValidator)()),e.Factory.backCompat(U,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),pl}var ml={},Jv;function xd(){if(Jv)return ml;Jv=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.Container=void 0;const n=lt(),e=en(),t=ht();let i=class extends e.Node{constructor(){super(...arguments),this.children=[]}getChildren(o){if(!o)return this.children||[];const l=this.children||[],c=[];return l.forEach(function(d){o(d)&&c.push(d)}),c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(o=>{o.parent=null,o.index=0,o.destroy()}),this.children=[],this._requestDraw(),this}add(...o){if(o.length===0)return this;if(o.length>1){for(let c=0;c<o.length;c++)this.add(o[c]);return this}const l=o[0];return l.getParent()?(l.moveTo(this),this):(this._validateAdd(l),l.index=this.getChildren().length,l.parent=this,l._clearCaches(),this.getChildren().push(l),this._fire("add",{child:l}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(o){return this._generalFind(o,!1)}findOne(o){const l=this._generalFind(o,!0);return l.length>0?l[0]:void 0}_generalFind(o,l){const c=[];return this._descendants(d=>{const h=d._isMatch(o);return h&&c.push(d),!!(h&&l)}),c}_descendants(o){let l=!1;const c=this.getChildren();for(const d of c){if(l=o(d),l)return!0;if(d.hasChildren()&&(l=d._descendants(o),l))return!0}return!1}toObject(){const o=e.Node.prototype.toObject.call(this);return o.children=[],this.getChildren().forEach(l=>{o.children.push(l.toObject())}),o}isAncestorOf(o){let l=o.getParent();for(;l;){if(l._id===this._id)return!0;l=l.getParent()}return!1}clone(o){const l=e.Node.prototype.clone.call(this,o);return this.getChildren().forEach(function(c){l.add(c.clone())}),l}getAllIntersections(o){const l=[];return this.find("Shape").forEach(c=>{c.isVisible()&&c.intersects(o)&&l.push(c)}),l}_clearSelfAndDescendantCache(o){var l;super._clearSelfAndDescendantCache(o),!this.isCached()&&((l=this.children)===null||l===void 0||l.forEach(function(c){c._clearSelfAndDescendantCache(o)}))}_setChildrenIndices(){var o;(o=this.children)===null||o===void 0||o.forEach(function(l,c){l.index=c}),this._requestDraw()}drawScene(o,l,c){const d=this.getLayer(),h=o||d&&d.getCanvas(),f=h&&h.getContext(),m=this._getCanvasCache(),v=m&&m.scene,p=h&&h.isCache;if(!this.isVisible()&&!p)return this;if(v){f.save();const S=this.getAbsoluteTransform(l).getMatrix();f.transform(S[0],S[1],S[2],S[3],S[4],S[5]),this._drawCachedSceneCanvas(f),f.restore()}else this._drawChildren("drawScene",h,l,c);return this}drawHit(o,l){if(!this.shouldDrawHit(l))return this;const c=this.getLayer(),d=o||c&&c.hitCanvas,h=d&&d.getContext(),f=this._getCanvasCache();if(f&&f.hit){h.save();const v=this.getAbsoluteTransform(l).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._drawCachedHitCanvas(h),h.restore()}else this._drawChildren("drawHit",d,l);return this}_drawChildren(o,l,c,d){var h;const f=l&&l.getContext(),m=this.clipWidth(),v=this.clipHeight(),p=this.clipFunc(),S=typeof m=="number"&&typeof v=="number"||p,y=c===this;if(S){f.save();const w=this.getAbsoluteTransform(c);let D=w.getMatrix();f.transform(D[0],D[1],D[2],D[3],D[4],D[5]),f.beginPath();let C;if(p)C=p.call(this,f,this);else{const x=this.clipX(),R=this.clipY();f.rect(x||0,R||0,m,v)}f.clip.apply(f,C),D=w.copy().invert().getMatrix(),f.transform(D[0],D[1],D[2],D[3],D[4],D[5])}const b=!y&&this.globalCompositeOperation()!=="source-over"&&o==="drawScene";b&&(f.save(),f._applyGlobalCompositeOperation(this)),(h=this.children)===null||h===void 0||h.forEach(function(w){w[o](l,c,d)}),b&&f.restore(),S&&f.restore()}getClientRect(o={}){var l;const c=o.skipTransform,d=o.relativeTo;let h,f,m,v,p={x:1/0,y:1/0,width:0,height:0};const S=this;(l=this.children)===null||l===void 0||l.forEach(function(w){if(!w.visible())return;const D=w.getClientRect({relativeTo:S,skipShadow:o.skipShadow,skipStroke:o.skipStroke});D.width===0&&D.height===0||(h===void 0?(h=D.x,f=D.y,m=D.x+D.width,v=D.y+D.height):(h=Math.min(h,D.x),f=Math.min(f,D.y),m=Math.max(m,D.x+D.width),v=Math.max(v,D.y+D.height)))});const y=this.find("Shape");let b=!1;for(let w=0;w<y.length;w++)if(y[w]._isVisible(this)){b=!0;break}return b&&h!==void 0?p={x:h,y:f,width:m-h,height:v-f}:p={x:0,y:0,width:0,height:0},c?p:this._transformedRect(p,d)}};return ml.Container=i,n.Factory.addComponentsGetterSetter(i,"clip",["x","y","width","height"]),n.Factory.addGetterSetter(i,"clipX",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipY",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipWidth",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipHeight",void 0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(i,"clipFunc"),ml}var f1={},ta={},e5;function r3(){if(e5)return ta;e5=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.getCapturedShape=i,ta.createEvent=a,ta.hasPointerCapture=o,ta.setPointerCapture=l,ta.releaseCapture=c;const n=at(),e=new Map,t=n.Konva._global.PointerEvent!==void 0;function i(d){return e.get(d)}function a(d){return{evt:d,pointerId:d.pointerId}}function o(d,h){return e.get(d)===h}function l(d,h){c(d),h.getStage()&&(e.set(d,h),t&&h._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function c(d,h){const f=e.get(d);if(!f)return;const m=f.getStage();m&&m.content,e.delete(d),t&&f._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return ta}var t5;function FO(){return t5||(t5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Stage=n.stages=void 0;const e=Wt(),t=lt(),i=xd(),a=at(),o=wd(),l=ip(),c=at(),d=r3(),h="Stage",f="string",m="px",v="mouseout",p="mouseleave",S="mouseover",y="mouseenter",b="mousemove",w="mousedown",D="mouseup",C="pointermove",x="pointerdown",R="pointerup",I="pointercancel",k="lostpointercapture",_="pointerout",M="pointerleave",U="pointerover",B="pointerenter",L="contextmenu",P="touchstart",A="touchend",E="touchmove",F="touchcancel",G="wheel",H=5,Q=[[y,"_pointerenter"],[w,"_pointerdown"],[b,"_pointermove"],[D,"_pointerup"],[p,"_pointerleave"],[P,"_pointerdown"],[E,"_pointermove"],[A,"_pointerup"],[F,"_pointercancel"],[S,"_pointerover"],[G,"_wheel"],[L,"_contextmenu"],[x,"_pointerdown"],[C,"_pointermove"],[R,"_pointerup"],[I,"_pointercancel"],[k,"_lostpointercapture"]],Z={mouse:{[_]:v,[M]:p,[U]:S,[B]:y,[C]:b,[x]:w,[R]:D,[I]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[_]:"touchout",[M]:"touchleave",[U]:"touchover",[B]:"touchenter",[C]:E,[x]:P,[R]:A,[I]:F,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[_]:_,[M]:M,[U]:U,[B]:B,[C]:C,[x]:x,[R]:R,[I]:I,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},N=ce=>ce.indexOf("pointer")>=0?"pointer":ce.indexOf("touch")>=0?"touch":"mouse",V=ce=>{const W=N(ce);if(W==="pointer")return a.Konva.pointerEventsEnabled&&Z.pointer;if(W==="touch")return Z.touch;if(W==="mouse")return Z.mouse};function X(ce={}){return(ce.clipFunc||ce.clipWidth||ce.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ce}const ee="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";n.stages=[];class J extends i.Container{constructor(W){super(X(W)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),n.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{X(this.attrs)}),this._checkVisibility()}_validateAdd(W){const ne=W.getType()==="Layer",se=W.getType()==="FastLayer";ne||se||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const W=this.visible()?"":"none";this.content.style.display=W}setContainer(W){if(typeof W===f){if(W.charAt(0)==="."){const se=W.slice(1);W=document.getElementsByClassName(se)[0]}else{var ne;W.charAt(0)!=="#"?ne=W:ne=W.slice(1),W=document.getElementById(ne)}if(!W)throw"Can not find container in document with id "+ne}return this._setAttr("container",W),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),W.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const W=this.children,ne=W.length;for(let se=0;se<ne;se++)W[se].clear();return this}clone(W){return W||(W={}),W.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,W)}destroy(){super.destroy();const W=this.content;W&&e.Util._isInDocument(W)&&this.container().removeChild(W);const ne=n.stages.indexOf(this);return ne>-1&&n.stages.splice(ne,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const W=this._pointerPositions[0]||this._changedPointerPositions[0];return W?{x:W.x,y:W.y}:(e.Util.warn(ee),null)}_getPointerById(W){return this._pointerPositions.find(ne=>ne.id===W)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(W){W=W||{},W.x=W.x||0,W.y=W.y||0,W.width=W.width||this.width(),W.height=W.height||this.height();const ne=new o.SceneCanvas({width:W.width,height:W.height,pixelRatio:W.pixelRatio||1}),se=ne.getContext()._context,de=this.children;return(W.x||W.y)&&se.translate(-1*W.x,-1*W.y),de.forEach(function(ve){if(!ve.isVisible())return;const Te=ve._toKonvaCanvas(W);se.drawImage(Te._canvas,W.x,W.y,Te.getWidth()/Te.getPixelRatio(),Te.getHeight()/Te.getPixelRatio())}),ne}getIntersection(W){if(!W)return null;const ne=this.children,se=ne.length,de=se-1;for(let ve=de;ve>=0;ve--){const Te=ne[ve].getIntersection(W);if(Te)return Te}return null}_resizeDOM(){const W=this.width(),ne=this.height();this.content&&(this.content.style.width=W+m,this.content.style.height=ne+m),this.bufferCanvas.setSize(W,ne),this.bufferHitCanvas.setSize(W,ne),this.children.forEach(se=>{se.setSize({width:W,height:ne}),se.draw()})}add(W,...ne){if(arguments.length>1){for(let de=0;de<arguments.length;de++)this.add(arguments[de]);return this}super.add(W);const se=this.children.length;return se>H&&e.Util.warn("The stage has "+se+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),W.setSize({width:this.width(),height:this.height()}),W.draw(),a.Konva.isBrowser&&this.content.appendChild(W.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(W){return d.hasPointerCapture(W,this)}setPointerCapture(W){d.setPointerCapture(W,this)}releaseCapture(W){d.releaseCapture(W,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&Q.forEach(([W,ne])=>{this.content.addEventListener(W,se=>{this[ne](se)},{passive:!1})})}_pointerenter(W){this.setPointersPositions(W);const ne=V(W.type);ne&&this._fire(ne.pointerenter,{evt:W,target:this,currentTarget:this})}_pointerover(W){this.setPointersPositions(W);const ne=V(W.type);ne&&this._fire(ne.pointerover,{evt:W,target:this,currentTarget:this})}_getTargetShape(W){let ne=this[W+"targetShape"];return ne&&!ne.getStage()&&(ne=null),ne}_pointerleave(W){const ne=V(W.type),se=N(W.type);if(!ne)return;this.setPointersPositions(W);const de=this._getTargetShape(se),ve=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;de&&ve?(de._fireAndBubble(ne.pointerout,{evt:W}),de._fireAndBubble(ne.pointerleave,{evt:W}),this._fire(ne.pointerleave,{evt:W,target:this,currentTarget:this}),this[se+"targetShape"]=null):ve&&(this._fire(ne.pointerleave,{evt:W,target:this,currentTarget:this}),this._fire(ne.pointerout,{evt:W,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(W){const ne=V(W.type),se=N(W.type);if(!ne)return;this.setPointersPositions(W);let de=!1;this._changedPointerPositions.forEach(ve=>{const Te=this.getIntersection(ve);if(l.DD.justDragged=!1,a.Konva["_"+se+"ListenClick"]=!0,!Te||!Te.isListening()){this[se+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&Te.setPointerCapture(ve.id),this[se+"ClickStartShape"]=Te,Te._fireAndBubble(ne.pointerdown,{evt:W,pointerId:ve.id}),de=!0;const Me=W.type.indexOf("touch")>=0;Te.preventDefault()&&W.cancelable&&Me&&W.preventDefault()}),de||this._fire(ne.pointerdown,{evt:W,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(W){const ne=V(W.type),se=N(W.type);if(!ne||(a.Konva.isDragging()&&l.DD.node.preventDefault()&&W.cancelable&&W.preventDefault(),this.setPointersPositions(W),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const ve={};let Te=!1;const Me=this._getTargetShape(se);this._changedPointerPositions.forEach(q=>{const le=d.getCapturedShape(q.id)||this.getIntersection(q),he=q.id,$={evt:W,pointerId:he},Y=Me!==le;if(Y&&Me&&(Me._fireAndBubble(ne.pointerout,{...$},le),Me._fireAndBubble(ne.pointerleave,{...$},le)),le){if(ve[le._id])return;ve[le._id]=!0}le&&le.isListening()?(Te=!0,Y&&(le._fireAndBubble(ne.pointerover,{...$},Me),le._fireAndBubble(ne.pointerenter,{...$},Me),this[se+"targetShape"]=le),le._fireAndBubble(ne.pointermove,{...$})):Me&&(this._fire(ne.pointerover,{evt:W,target:this,currentTarget:this,pointerId:he}),this[se+"targetShape"]=null)}),Te||this._fire(ne.pointermove,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(W){const ne=V(W.type),se=N(W.type);if(!ne)return;this.setPointersPositions(W);const de=this[se+"ClickStartShape"],ve=this[se+"ClickEndShape"],Te={};let Me=!1;this._changedPointerPositions.forEach(q=>{const le=d.getCapturedShape(q.id)||this.getIntersection(q);if(le){if(le.releaseCapture(q.id),Te[le._id])return;Te[le._id]=!0}const he=q.id,$={evt:W,pointerId:he};let Y=!1;a.Konva["_"+se+"InDblClickWindow"]?(Y=!0,clearTimeout(this[se+"DblTimeout"])):l.DD.justDragged||(a.Konva["_"+se+"InDblClickWindow"]=!0,clearTimeout(this[se+"DblTimeout"])),this[se+"DblTimeout"]=setTimeout(function(){a.Konva["_"+se+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),le&&le.isListening()?(Me=!0,this[se+"ClickEndShape"]=le,le._fireAndBubble(ne.pointerup,{...$}),a.Konva["_"+se+"ListenClick"]&&de&&de===le&&(le._fireAndBubble(ne.pointerclick,{...$}),Y&&ve&&ve===le&&le._fireAndBubble(ne.pointerdblclick,{...$}))):(this[se+"ClickEndShape"]=null,a.Konva["_"+se+"ListenClick"]&&this._fire(ne.pointerclick,{evt:W,target:this,currentTarget:this,pointerId:he}),Y&&this._fire(ne.pointerdblclick,{evt:W,target:this,currentTarget:this,pointerId:he}))}),Me||this._fire(ne.pointerup,{evt:W,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+se+"ListenClick"]=!1,W.cancelable&&se!=="touch"&&se!=="pointer"&&W.preventDefault()}_contextmenu(W){this.setPointersPositions(W);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(L,{evt:W}):this._fire(L,{evt:W,target:this,currentTarget:this})}_wheel(W){this.setPointersPositions(W);const ne=this.getIntersection(this.getPointerPosition());ne&&ne.isListening()?ne._fireAndBubble(G,{evt:W}):this._fire(G,{evt:W,target:this,currentTarget:this})}_pointercancel(W){this.setPointersPositions(W);const ne=d.getCapturedShape(W.pointerId)||this.getIntersection(this.getPointerPosition());ne&&ne._fireAndBubble(R,d.createEvent(W)),d.releaseCapture(W.pointerId)}_lostpointercapture(W){d.releaseCapture(W.pointerId)}setPointersPositions(W){const ne=this._getContentPosition();let se=null,de=null;W=W||window.event,W.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(W.touches,ve=>{this._pointerPositions.push({id:ve.identifier,x:(ve.clientX-ne.left)/ne.scaleX,y:(ve.clientY-ne.top)/ne.scaleY})}),Array.prototype.forEach.call(W.changedTouches||W.touches,ve=>{this._changedPointerPositions.push({id:ve.identifier,x:(ve.clientX-ne.left)/ne.scaleX,y:(ve.clientY-ne.top)/ne.scaleY})})):(se=(W.clientX-ne.left)/ne.scaleX,de=(W.clientY-ne.top)/ne.scaleY,this.pointerPos={x:se,y:de},this._pointerPositions=[{x:se,y:de,id:e.Util._getFirstPointerId(W)}],this._changedPointerPositions=[{x:se,y:de,id:e.Util._getFirstPointerId(W)}])}_setPointerPosition(W){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(W)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const W=this.content.getBoundingClientRect();return{top:W.top,left:W.left,scaleX:W.width/this.content.clientWidth||1,scaleY:W.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const W=this.container();if(!W)throw"Stage has no container. A container is required.";W.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),W.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(W){W.batchDraw()}),this}}n.Stage=J,J.prototype.nodeType=h,(0,c._registerNode)(J),t.Factory.addGetterSetter(J,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{n.stages.forEach(ce=>{ce.batchDraw()})})}(f1)),f1}var Sl={},g1={},n5;function fn(){return n5||(n5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Shape=n.shapes=void 0;const e=at(),t=Wt(),i=lt(),a=en(),o=ht(),l=at(),c=r3(),d="hasShadow",h="shadowRGBA",f="patternImage",m="linearGradient",v="radialGradient";let p;function S(){return p||(p=t.Util.createCanvasElement().getContext("2d"),p)}n.shapes={};function y(M){const U=this.attrs.fillRule;U?M.fill(U):M.fill()}function b(M){M.stroke()}function w(M){const U=this.attrs.fillRule;U?M.fill(U):M.fill()}function D(M){M.stroke()}function C(){this._clearCache(d)}function x(){this._clearCache(h)}function R(){this._clearCache(f)}function I(){this._clearCache(m)}function k(){this._clearCache(v)}class _ extends a.Node{constructor(U){super(U);let B;for(;B=t.Util.getRandomColor(),!(B&&!(B in n.shapes)););this.colorKey=B,n.shapes[B]=this}getContext(){return t.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return t.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(f,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const B=S().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(B&&B.setTransform){const L=new t.Transform;L.translate(this.fillPatternX(),this.fillPatternY()),L.rotate(e.Konva.getAngle(this.fillPatternRotation())),L.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),L.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const P=L.getMatrix(),A=typeof DOMMatrix>"u"?{a:P[0],b:P[1],c:P[2],d:P[3],e:P[4],f:P[5]}:new DOMMatrix(P);B.setTransform(A)}return B}}_getLinearGradient(){return this._getCache(m,this.__getLinearGradient)}__getLinearGradient(){const U=this.fillLinearGradientColorStops();if(U){const B=S(),L=this.fillLinearGradientStartPoint(),P=this.fillLinearGradientEndPoint(),A=B.createLinearGradient(L.x,L.y,P.x,P.y);for(let E=0;E<U.length;E+=2)A.addColorStop(U[E],U[E+1]);return A}}_getRadialGradient(){return this._getCache(v,this.__getRadialGradient)}__getRadialGradient(){const U=this.fillRadialGradientColorStops();if(U){const B=S(),L=this.fillRadialGradientStartPoint(),P=this.fillRadialGradientEndPoint(),A=B.createRadialGradient(L.x,L.y,this.fillRadialGradientStartRadius(),P.x,P.y,this.fillRadialGradientEndRadius());for(let E=0;E<U.length;E+=2)A.addColorStop(U[E],U[E+1]);return A}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const U=t.Util.colorToRGBA(this.shadowColor());if(U)return"rgba("+U.r+","+U.g+","+U.b+","+U.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const U=this.hitStrokeWidth();return U==="auto"?this.hasStroke():this.strokeEnabled()&&!!U}intersects(U){const B=this.getStage();if(!B)return!1;const L=B.bufferHitCanvas;return L.getContext().clear(),this.drawHit(L,void 0,!0),L.context.getImageData(Math.round(U.x),Math.round(U.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(U){var B;if(!((B=this.attrs.perfectDrawEnabled)!==null&&B!==void 0?B:!0))return!1;const P=U||this.hasFill(),A=this.hasStroke(),E=this.getAbsoluteOpacity()!==1;if(P&&A&&E)return!0;const F=this.hasShadow(),G=this.shadowForStrokeEnabled();return!!(P&&A&&F&&G)}setStrokeHitEnabled(U){t.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),U?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const U=this.size();return{x:this._centroid?-U.width/2:0,y:this._centroid?-U.height/2:0,width:U.width,height:U.height}}getClientRect(U={}){let B=!1,L=this.getParent();for(;L;){if(L.isCached()){B=!0;break}L=L.getParent()}const P=U.skipTransform,A=U.relativeTo||B&&this.getStage()||void 0,E=this.getSelfRect(),G=!U.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,H=E.width+G,Q=E.height+G,Z=!U.skipShadow&&this.hasShadow(),N=Z?this.shadowOffsetX():0,V=Z?this.shadowOffsetY():0,X=H+Math.abs(N),ee=Q+Math.abs(V),J=Z&&this.shadowBlur()||0,ce=X+J*2,W=ee+J*2,ne={width:ce,height:W,x:-(G/2+J)+Math.min(N,0)+E.x,y:-(G/2+J)+Math.min(V,0)+E.y};return P?ne:this._transformedRect(ne,A)}drawScene(U,B,L){const P=this.getLayer();let A=U||P.getCanvas(),E=A.getContext(),F=this._getCanvasCache(),G=this.getSceneFunc(),H=this.hasShadow(),Q,Z;const N=A.isCache,V=B===this;if(!this.isVisible()&&!V)return this;if(F){E.save();const ee=this.getAbsoluteTransform(B).getMatrix();return E.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedSceneCanvas(E),E.restore(),this}if(!G)return this;if(E.save(),this._useBufferCanvas()&&!N){Q=this.getStage();const ee=L||Q.bufferCanvas;Z=ee.getContext(),Z.clear(),Z.save(),Z._applyLineJoin(this);var X=this.getAbsoluteTransform(B).getMatrix();Z.transform(X[0],X[1],X[2],X[3],X[4],X[5]),G.call(this,Z,this),Z.restore();const J=ee.pixelRatio;H&&E._applyShadow(this),E._applyOpacity(this),E._applyGlobalCompositeOperation(this),E.drawImage(ee._canvas,0,0,ee.width/J,ee.height/J)}else{if(E._applyLineJoin(this),!V){var X=this.getAbsoluteTransform(B).getMatrix();E.transform(X[0],X[1],X[2],X[3],X[4],X[5]),E._applyOpacity(this),E._applyGlobalCompositeOperation(this)}H&&E._applyShadow(this),G.call(this,E,this)}return E.restore(),this}drawHit(U,B,L=!1){if(!this.shouldDrawHit(B,L))return this;const P=this.getLayer(),A=U||P.hitCanvas,E=A&&A.getContext(),F=this.hitFunc()||this.sceneFunc(),G=this._getCanvasCache(),H=G&&G.hit;if(this.colorKey||t.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),H){E.save();const Z=this.getAbsoluteTransform(B).getMatrix();return E.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),this._drawCachedHitCanvas(E),E.restore(),this}if(!F)return this;if(E.save(),E._applyLineJoin(this),!(this===B)){const Z=this.getAbsoluteTransform(B).getMatrix();E.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])}return F.call(this,E,this),E.restore(),this}drawHitFromCache(U=0){const B=this._getCanvasCache(),L=this._getCachedSceneCanvas(),P=B.hit,A=P.getContext(),E=P.getWidth(),F=P.getHeight();A.clear(),A.drawImage(L._canvas,0,0,E,F);try{const G=A.getImageData(0,0,E,F),H=G.data,Q=H.length,Z=t.Util._hexToRgb(this.colorKey);for(let N=0;N<Q;N+=4)H[N+3]>U?(H[N]=Z.r,H[N+1]=Z.g,H[N+2]=Z.b,H[N+3]=255):H[N+3]=0;A.putImageData(G,0,0)}catch(G){t.Util.error("Unable to draw hit graph from cached scene canvas. "+G.message)}return this}hasPointerCapture(U){return c.hasPointerCapture(U,this)}setPointerCapture(U){c.setPointerCapture(U,this)}releaseCapture(U){c.releaseCapture(U,this)}}n.Shape=_,_.prototype._fillFunc=y,_.prototype._strokeFunc=b,_.prototype._fillFuncHit=w,_.prototype._strokeFuncHit=D,_.prototype._centroid=!1,_.prototype.nodeType="Shape",(0,l._registerNode)(_),_.prototype.eventListeners={},_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",C),_.prototype.on.call(_.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",x),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",R),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",I),_.prototype.on.call(_.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",k),i.Factory.addGetterSetter(_,"stroke",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(_,"strokeWidth",2,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(_,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(_,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),i.Factory.addGetterSetter(_,"lineJoin"),i.Factory.addGetterSetter(_,"lineCap"),i.Factory.addGetterSetter(_,"sceneFunc"),i.Factory.addGetterSetter(_,"hitFunc"),i.Factory.addGetterSetter(_,"dash"),i.Factory.addGetterSetter(_,"dashOffset",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowColor",void 0,(0,o.getStringValidator)()),i.Factory.addGetterSetter(_,"shadowBlur",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowOpacity",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(_,"shadowOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"shadowOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternImage"),i.Factory.addGetterSetter(_,"fill",void 0,(0,o.getStringOrGradientValidator)()),i.Factory.addGetterSetter(_,"fillPatternX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternY",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(_,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(_,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(_,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(_,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(_,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(_,"fillEnabled",!0),i.Factory.addGetterSetter(_,"strokeEnabled",!0),i.Factory.addGetterSetter(_,"shadowEnabled",!0),i.Factory.addGetterSetter(_,"dashEnabled",!0),i.Factory.addGetterSetter(_,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(_,"fillPriority","color"),i.Factory.addComponentsGetterSetter(_,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(_,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(_,"fillPatternScaleX",1,(0,o.getNumberValidator)()),i.Factory.addGetterSetter(_,"fillPatternScaleY",1,(0,o.getNumberValidator)()),i.Factory.addComponentsGetterSetter(_,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(_,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(_,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(_,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(_,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(_,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(_,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(_,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(_,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(_,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(_,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(_,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(_,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(_,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(_,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(_,"fillPatternRotation",0),i.Factory.addGetterSetter(_,"fillRule",void 0,(0,o.getStringValidator)()),i.Factory.backCompat(_,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(g1)),g1}var i5;function a3(){if(i5)return Sl;i5=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.Layer=void 0;const n=Wt(),e=xd(),t=en(),i=lt(),a=wd(),o=ht(),l=fn(),c=at(),d="#",h="beforeDraw",f="draw",m=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],v=m.length;let p=class extends e.Container{constructor(y){super(y),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const b=this.getStage();return b&&b.content&&(b.content.removeChild(this.getNativeCanvasElement()),y<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[y+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){t.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!t.Node.prototype.moveUp.call(this))return!1;const b=this.getStage();return!b||!b.content?!1:(b.content.removeChild(this.getNativeCanvasElement()),this.index<b.children.length-1?b.content.insertBefore(this.getNativeCanvasElement(),b.children[this.index+1].getCanvas()._canvas):b.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(t.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(t.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const b=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),b[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return t.Node.prototype.remove.call(this),y&&y.parentNode&&n.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:b}){return this.canvas.setSize(y,b),this.hitCanvas.setSize(y,b),this._setSmoothEnabled(),this}_validateAdd(y){const b=y.getType();b!=="Group"&&b!=="Shape"&&n.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),t.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){n.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){n.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,n.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let b=1,w=!1;for(;;){for(let D=0;D<v;D++){const C=m[D],x=this._getIntersection({x:y.x+C.x*b,y:y.y+C.y*b}),R=x.shape;if(R)return R;if(w=!!x.antialiased,!x.antialiased)break}if(w)b+=1;else return null}}_getIntersection(y){const b=this.hitCanvas.pixelRatio,w=this.hitCanvas.context.getImageData(Math.round(y.x*b),Math.round(y.y*b),1,1).data,D=w[3];if(D===255){const C=n.Util._rgbToHex(w[0],w[1],w[2]),x=l.shapes[d+C];return x?{shape:x}:{antialiased:!0}}else if(D>0)return{antialiased:!0};return{}}drawScene(y,b){const w=this.getLayer(),D=y||w&&w.getCanvas();return this._fire(h,{node:this}),this.clearBeforeDraw()&&D.getContext().clear(),e.Container.prototype.drawScene.call(this,D,b),this._fire(f,{node:this}),this}drawHit(y,b){const w=this.getLayer(),D=y||w&&w.hitCanvas;return w&&w.clearBeforeDraw()&&w.getHitCanvas().getContext().clear(),e.Container.prototype.drawHit.call(this,D,b),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return n.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return n.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Sl.Layer=p,p.prototype.nodeType="Layer",(0,c._registerNode)(p),i.Factory.addGetterSetter(p,"imageSmoothingEnabled",!0),i.Factory.addGetterSetter(p,"clearBeforeDraw",!0),i.Factory.addGetterSetter(p,"hitGraphEnabled",!0,(0,o.getBooleanValidator)()),Sl}var yl={},r5;function UO(){if(r5)return yl;r5=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.FastLayer=void 0;const n=Wt(),e=a3(),t=at();let i=class extends e.Layer{constructor(o){super(o),this.listening(!1),n.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return yl.FastLayer=i,i.prototype.nodeType="FastLayer",(0,t._registerNode)(i),yl}var vl={},a5;function rp(){if(a5)return vl;a5=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.Group=void 0;const n=Wt(),e=xd(),t=at();let i=class extends e.Container{_validateAdd(o){const l=o.getType();l!=="Group"&&l!=="Shape"&&n.Util.throw("You may only add groups and shapes to groups.")}};return vl.Group=i,i.prototype.nodeType="Group",(0,t._registerNode)(i),vl}var bl={},o5;function ap(){if(o5)return bl;o5=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.Animation=void 0;const n=at(),e=Wt(),t=function(){return n.glob.performance&&n.glob.performance.now?function(){return n.glob.performance.now()}:function(){return new Date().getTime()}}();let i=class Jo{constructor(o,l){this.id=Jo.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:t(),frameRate:0},this.func=o,this.setLayers(l)}setLayers(o){let l=[];return o&&(l=Array.isArray(o)?o:[o]),this.layers=l,this}getLayers(){return this.layers}addLayer(o){const l=this.layers,c=l.length;for(let d=0;d<c;d++)if(l[d]._id===o._id)return!1;return this.layers.push(o),!0}isRunning(){const l=Jo.animations,c=l.length;for(let d=0;d<c;d++)if(l[d].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=t(),Jo._addAnimation(this),this}stop(){return Jo._removeAnimation(this),this}_updateFrameObject(o){this.frame.timeDiff=o-this.frame.lastTime,this.frame.lastTime=o,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(o){this.animations.push(o),this._handleAnimation()}static _removeAnimation(o){const l=o.id,c=this.animations,d=c.length;for(let h=0;h<d;h++)if(c[h].id===l){this.animations.splice(h,1);break}}static _runFrames(){const o={},l=this.animations;for(let c=0;c<l.length;c++){const d=l[c],h=d.layers,f=d.func;d._updateFrameObject(t());const m=h.length;let v;if(f?v=f.call(d,d.frame)!==!1:v=!0,!!v)for(let p=0;p<m;p++){const S=h[p];S._id!==void 0&&(o[S._id]=S)}}for(const c in o)o.hasOwnProperty(c)&&o[c].batchDraw()}static _animationLoop(){const o=Jo;o.animations.length?(o._runFrames(),e.Util.requestAnimFrame(o._animationLoop)):o.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,e.Util.requestAnimFrame(this._animationLoop))}};return bl.Animation=i,i.animations=[],i.animIdCounter=0,i.animRunning=!1,bl}var p1={},s5;function kO(){return s5||(s5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Easings=n.Tween=void 0;const e=Wt(),t=ap(),i=en(),a=at(),o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,c=2,d=3,h=["fill","stroke","shadowColor"];let f=0;class m{constructor(S,y,b,w,D,C,x){this.prop=S,this.propFunc=y,this.begin=w,this._pos=w,this.duration=C,this._change=0,this.prevPos=0,this.yoyo=x,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=b,this._change=D-this.begin,this.pause()}fire(S){const y=this[S];y&&y()}setTime(S){S>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():S<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=S,this.update())}getTime(){return this._time}setPosition(S){this.prevPos=this._pos,this.propFunc(S),this._pos=S}getPosition(S){return S===void 0&&(S=this._time),this.func(S,this.begin,this._change,this.duration)}play(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(S){this.pause(),this._time=S,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const S=this.getTimer()-this._startTime;this.state===c?this.setTime(S):this.state===d&&this.setTime(this.duration-S)}pause(){this.state=l,this.fire("onPause")}getTimer(){return new Date().getTime()}}class v{constructor(S){const y=this,b=S.node,w=b._id,D=S.easing||n.Easings.Linear,C=!!S.yoyo;let x,R;typeof S.duration>"u"?x=.3:S.duration===0?x=.001:x=S.duration,this.node=b,this._id=f++;const I=b.getLayer()||(b instanceof a.Konva.Stage?b.getLayers():null);I||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new t.Animation(function(){y.tween.onEnterFrame()},I),this.tween=new m(R,function(k){y._tweenFunc(k)},D,0,1,x*1e3,C),this._addListeners(),v.attrs[w]||(v.attrs[w]={}),v.attrs[w][this._id]||(v.attrs[w][this._id]={}),v.tweens[w]||(v.tweens[w]={});for(R in S)o[R]===void 0&&this._addAttr(R,S[R]);this.reset(),this.onFinish=S.onFinish,this.onReset=S.onReset,this.onUpdate=S.onUpdate}_addAttr(S,y){const b=this.node,w=b._id;let D,C,x,R,I;const k=v.tweens[w][S];k&&delete v.attrs[w][k][S];let _=b.getAttr(S);if(e.Util._isArray(y))if(D=[],C=Math.max(y.length,_.length),S==="points"&&y.length!==_.length&&(y.length>_.length?(R=_,_=e.Util._prepareArrayForTween(_,y,b.closed())):(x=y,y=e.Util._prepareArrayForTween(y,_,b.closed()))),S.indexOf("fill")===0)for(let M=0;M<C;M++)if(M%2===0)D.push(y[M]-_[M]);else{const U=e.Util.colorToRGBA(_[M]);I=e.Util.colorToRGBA(y[M]),_[M]=U,D.push({r:I.r-U.r,g:I.g-U.g,b:I.b-U.b,a:I.a-U.a})}else for(let M=0;M<C;M++)D.push(y[M]-_[M]);else h.indexOf(S)!==-1?(_=e.Util.colorToRGBA(_),I=e.Util.colorToRGBA(y),D={r:I.r-_.r,g:I.g-_.g,b:I.b-_.b,a:I.a-_.a}):D=y-_;v.attrs[w][this._id][S]={start:_,diff:D,end:y,trueEnd:x,trueStart:R},v.tweens[w][S]=this._id}_tweenFunc(S){const y=this.node,b=v.attrs[y._id][this._id];let w,D,C,x,R,I,k,_;for(w in b){if(D=b[w],C=D.start,x=D.diff,_=D.end,e.Util._isArray(C))if(R=[],k=Math.max(C.length,_.length),w.indexOf("fill")===0)for(I=0;I<k;I++)I%2===0?R.push((C[I]||0)+x[I]*S):R.push("rgba("+Math.round(C[I].r+x[I].r*S)+","+Math.round(C[I].g+x[I].g*S)+","+Math.round(C[I].b+x[I].b*S)+","+(C[I].a+x[I].a*S)+")");else for(I=0;I<k;I++)R.push((C[I]||0)+x[I]*S);else h.indexOf(w)!==-1?R="rgba("+Math.round(C.r+x.r*S)+","+Math.round(C.g+x.g*S)+","+Math.round(C.b+x.b*S)+","+(C.a+x.a*S)+")":R=C+x*S;y.setAttr(w,R)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueEnd&&S.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const S=this.node,y=v.attrs[S._id][this._id];y.points&&y.points.trueStart&&S.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(S){return this.tween.seek(S*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const S=this.node._id,y=this._id,b=v.tweens[S];this.pause();for(const w in b)delete v.tweens[S][w];delete v.attrs[S][y]}}n.Tween=v,v.attrs={},v.tweens={},i.Node.prototype.to=function(p){const S=p.onFinish;p.node=this,p.onFinish=function(){this.destroy(),S&&S()},new v(p).play()},n.Easings={BackEaseIn(p,S,y,b){return y*(p/=b)*p*((1.70158+1)*p-1.70158)+S},BackEaseOut(p,S,y,b){return y*((p=p/b-1)*p*((1.70158+1)*p+1.70158)+1)+S},BackEaseInOut(p,S,y,b){let w=1.70158;return(p/=b/2)<1?y/2*(p*p*(((w*=1.525)+1)*p-w))+S:y/2*((p-=2)*p*(((w*=1.525)+1)*p+w)+2)+S},ElasticEaseIn(p,S,y,b,w,D){let C=0;return p===0?S:(p/=b)===1?S+y:(D||(D=b*.3),!w||w<Math.abs(y)?(w=y,C=D/4):C=D/(2*Math.PI)*Math.asin(y/w),-(w*Math.pow(2,10*(p-=1))*Math.sin((p*b-C)*(2*Math.PI)/D))+S)},ElasticEaseOut(p,S,y,b,w,D){let C=0;return p===0?S:(p/=b)===1?S+y:(D||(D=b*.3),!w||w<Math.abs(y)?(w=y,C=D/4):C=D/(2*Math.PI)*Math.asin(y/w),w*Math.pow(2,-10*p)*Math.sin((p*b-C)*(2*Math.PI)/D)+y+S)},ElasticEaseInOut(p,S,y,b,w,D){let C=0;return p===0?S:(p/=b/2)===2?S+y:(D||(D=b*(.3*1.5)),!w||w<Math.abs(y)?(w=y,C=D/4):C=D/(2*Math.PI)*Math.asin(y/w),p<1?-.5*(w*Math.pow(2,10*(p-=1))*Math.sin((p*b-C)*(2*Math.PI)/D))+S:w*Math.pow(2,-10*(p-=1))*Math.sin((p*b-C)*(2*Math.PI)/D)*.5+y+S)},BounceEaseOut(p,S,y,b){return(p/=b)<1/2.75?y*(7.5625*p*p)+S:p<2/2.75?y*(7.5625*(p-=1.5/2.75)*p+.75)+S:p<2.5/2.75?y*(7.5625*(p-=2.25/2.75)*p+.9375)+S:y*(7.5625*(p-=2.625/2.75)*p+.984375)+S},BounceEaseIn(p,S,y,b){return y-n.Easings.BounceEaseOut(b-p,0,y,b)+S},BounceEaseInOut(p,S,y,b){return p<b/2?n.Easings.BounceEaseIn(p*2,0,y,b)*.5+S:n.Easings.BounceEaseOut(p*2-b,0,y,b)*.5+y*.5+S},EaseIn(p,S,y,b){return y*(p/=b)*p+S},EaseOut(p,S,y,b){return-y*(p/=b)*(p-2)+S},EaseInOut(p,S,y,b){return(p/=b/2)<1?y/2*p*p+S:-y/2*(--p*(p-2)-1)+S},StrongEaseIn(p,S,y,b){return y*(p/=b)*p*p*p*p+S},StrongEaseOut(p,S,y,b){return y*((p=p/b-1)*p*p*p*p+1)+S},StrongEaseInOut(p,S,y,b){return(p/=b/2)<1?y/2*p*p*p*p*p+S:y/2*((p-=2)*p*p*p*p+2)+S},Linear(p,S,y,b){return y*p/b+S}}}(p1)),p1}var l5;function NO(){return l5||(l5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.Konva=void 0;const e=at(),t=Wt(),i=en(),a=xd(),o=FO(),l=a3(),c=UO(),d=rp(),h=ip(),f=fn(),m=ap(),v=kO(),p=i3(),S=wd();n.Konva=t.Util._assign(e.Konva,{Util:t.Util,Transform:t.Transform,Node:i.Node,Container:a.Container,Stage:o.Stage,stages:o.stages,Layer:l.Layer,FastLayer:c.FastLayer,Group:d.Group,DD:h.DD,Shape:f.Shape,shapes:f.shapes,Animation:m.Animation,Tween:v.Tween,Easings:v.Easings,Context:p.Context,Canvas:S.Canvas}),n.default=n.Konva}(l1)),l1}var Cl={},c5;function qO(){if(c5)return Cl;c5=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.Arc=void 0;const n=lt(),e=fn(),t=at(),i=ht(),a=at();let o=class extends e.Shape{_sceneFunc(c){const d=t.Konva.getAngle(this.angle()),h=this.clockwise();c.beginPath(),c.arc(0,0,this.outerRadius(),0,d,h),c.arc(0,0,this.innerRadius(),d,0,!h),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}getSelfRect(){const c=this.innerRadius(),d=this.outerRadius(),h=this.clockwise(),f=t.Konva.getAngle(h?360-this.angle():this.angle()),m=Math.cos(Math.min(f,Math.PI)),v=1,p=Math.sin(Math.min(Math.max(Math.PI,f),3*Math.PI/2)),S=Math.sin(Math.min(f,Math.PI/2)),y=m*(m>0?c:d),b=v*d,w=p*(p>0?c:d),D=S*(S>0?d:c);return{x:y,y:h?-1*D:w,width:b-y,height:D-w}}};return Cl.Arc=o,o.prototype._centroid=!0,o.prototype.className="Arc",o.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1,(0,i.getBooleanValidator)()),Cl}var Dl={},Tl={},u5;function o3(){if(u5)return Tl;u5=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.Line=void 0;const n=lt(),e=at(),t=fn(),i=ht();function a(c,d,h,f,m,v,p){const S=Math.sqrt(Math.pow(h-c,2)+Math.pow(f-d,2)),y=Math.sqrt(Math.pow(m-h,2)+Math.pow(v-f,2)),b=p*S/(S+y),w=p*y/(S+y),D=h-b*(m-c),C=f-b*(v-d),x=h+w*(m-c),R=f+w*(v-d);return[D,C,x,R]}function o(c,d){const h=c.length,f=[];for(let m=2;m<h-2;m+=2){const v=a(c[m-2],c[m-1],c[m],c[m+1],c[m+2],c[m+3],d);isNaN(v[0])||(f.push(v[0]),f.push(v[1]),f.push(c[m]),f.push(c[m+1]),f.push(v[2]),f.push(v[3]))}return f}let l=class extends t.Shape{constructor(d){super(d),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(d){let h=this.points(),f=h.length,m=this.tension(),v=this.closed(),p=this.bezier(),S,y,b;if(f){if(d.beginPath(),d.moveTo(h[0],h[1]),m!==0&&f>4){for(S=this.getTensionPoints(),y=S.length,b=v?0:4,v||d.quadraticCurveTo(S[0],S[1],S[2],S[3]);b<y-2;)d.bezierCurveTo(S[b++],S[b++],S[b++],S[b++],S[b++],S[b++]);v||d.quadraticCurveTo(S[y-2],S[y-1],h[f-2],h[f-1])}else if(p)for(b=2;b<f;)d.bezierCurveTo(h[b++],h[b++],h[b++],h[b++],h[b++],h[b++]);else for(b=2;b<f;b+=2)d.lineTo(h[b],h[b+1]);v?(d.closePath(),d.fillStrokeShape(this)):d.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():o(this.points(),this.tension())}_getTensionPointsClosed(){const d=this.points(),h=d.length,f=this.tension(),m=a(d[h-2],d[h-1],d[0],d[1],d[2],d[3],f),v=a(d[h-4],d[h-3],d[h-2],d[h-1],d[0],d[1],f),p=o(d,f);return[m[2],m[3]].concat(p).concat([v[0],v[1],d[h-2],d[h-1],v[2],v[3],m[0],m[1],d[0],d[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let d=this.points();if(d.length<4)return{x:d[0]||0,y:d[1]||0,width:0,height:0};this.tension()!==0?d=[d[0],d[1],...this._getTensionPoints(),d[d.length-2],d[d.length-1]]:d=this.points();let h=d[0],f=d[0],m=d[1],v=d[1],p,S;for(let y=0;y<d.length/2;y++)p=d[y*2],S=d[y*2+1],h=Math.min(h,p),f=Math.max(f,p),m=Math.min(m,S),v=Math.max(v,S);return{x:h,y:m,width:f-h,height:v-m}}};return Tl.Line=l,l.prototype.className="Line",l.prototype._attrsAffectingSize=["points","bezier","tension"],(0,e._registerNode)(l),n.Factory.addGetterSetter(l,"closed",!1),n.Factory.addGetterSetter(l,"bezier",!1),n.Factory.addGetterSetter(l,"tension",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(l,"points",[],(0,i.getNumberArrayValidator)()),Tl}var wl={},m1={},d5;function BO(){return d5||(d5=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.t2length=n.getQuadraticArcLength=n.getCubicArcLength=n.binomialCoefficients=n.cValues=n.tValues=void 0,n.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],n.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],n.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(l,c,d)=>{let h,f;const v=d/2;h=0;for(let p=0;p<20;p++)f=v*n.tValues[20][p]+v,h+=n.cValues[20][p]*i(l,c,f);return v*h};n.getCubicArcLength=e;const t=(l,c,d)=>{d===void 0&&(d=1);const h=l[0]-2*l[1]+l[2],f=c[0]-2*c[1]+c[2],m=2*l[1]-2*l[0],v=2*c[1]-2*c[0],p=4*(h*h+f*f),S=4*(h*m+f*v),y=m*m+v*v;if(p===0)return d*Math.sqrt(Math.pow(l[2]-l[0],2)+Math.pow(c[2]-c[0],2));const b=S/(2*p),w=y/p,D=d+b,C=w-b*b,x=D*D+C>0?Math.sqrt(D*D+C):0,R=b*b+C>0?Math.sqrt(b*b+C):0,I=b+Math.sqrt(b*b+C)!==0?C*Math.log(Math.abs((D+x)/(b+R))):0;return Math.sqrt(p)/2*(D*x-b*R+I)};n.getQuadraticArcLength=t;function i(l,c,d){const h=a(1,d,l),f=a(1,d,c),m=h*h+f*f;return Math.sqrt(m)}const a=(l,c,d)=>{const h=d.length-1;let f,m;if(h===0)return 0;if(l===0){m=0;for(let v=0;v<=h;v++)m+=n.binomialCoefficients[h][v]*Math.pow(1-c,h-v)*Math.pow(c,v)*d[v];return m}else{f=new Array(h);for(let v=0;v<h;v++)f[v]=h*(d[v+1]-d[v]);return a(l-1,c,f)}},o=(l,c,d)=>{let h=1,f=l/c,m=(l-d(f))/c,v=0;for(;h>.001;){const p=d(f+m),S=Math.abs(l-p)/c;if(S<h)h=S,f+=m;else{const y=d(f-m),b=Math.abs(l-y)/c;b<h?(h=b,f-=m):m/=2}if(v++,v>500)break}return f};n.t2length=o}(m1)),m1}var h5;function op(){if(h5)return wl;h5=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.Path=void 0;const n=lt(),e=fn(),t=at(),i=BO();let a=class kn extends e.Shape{constructor(l){super(l),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=kn.parsePathData(this.data()),this.pathLength=kn.getPathLength(this.dataArray)}_sceneFunc(l){const c=this.dataArray;l.beginPath();let d=!1;for(let x=0;x<c.length;x++){const R=c[x].command,I=c[x].points;switch(R){case"L":l.lineTo(I[0],I[1]);break;case"M":l.moveTo(I[0],I[1]);break;case"C":l.bezierCurveTo(I[0],I[1],I[2],I[3],I[4],I[5]);break;case"Q":l.quadraticCurveTo(I[0],I[1],I[2],I[3]);break;case"A":var h=I[0],f=I[1],m=I[2],v=I[3],p=I[4],S=I[5],y=I[6],b=I[7],w=m>v?m:v,D=m>v?1:m/v,C=m>v?v/m:1;l.translate(h,f),l.rotate(y),l.scale(D,C),l.arc(0,0,w,p,p+S,1-b),l.scale(1/D,1/C),l.rotate(-y),l.translate(-h,-f);break;case"z":d=!0,l.closePath();break}}!d&&!this.hasFill()?l.strokeShape(this):l.fillStrokeShape(this)}getSelfRect(){let l=[];this.dataArray.forEach(function(p){if(p.command==="A"){const S=p.points[4],y=p.points[5],b=p.points[4]+y;let w=Math.PI/180;if(Math.abs(S-b)<w&&(w=Math.abs(S-b)),y<0)for(let D=S-w;D>b;D-=w){const C=kn.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],D,0);l.push(C.x,C.y)}else for(let D=S+w;D<b;D+=w){const C=kn.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],D,0);l.push(C.x,C.y)}}else if(p.command==="C")for(let S=0;S<=1;S+=.01){const y=kn.getPointOnCubicBezier(S,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);l.push(y.x,y.y)}else l=l.concat(p.points)});let c=l[0],d=l[0],h=l[1],f=l[1],m,v;for(let p=0;p<l.length/2;p++)m=l[p*2],v=l[p*2+1],isNaN(m)||(c=Math.min(c,m),d=Math.max(d,m)),isNaN(v)||(h=Math.min(h,v),f=Math.max(f,v));return{x:c,y:h,width:d-c,height:f-h}}getLength(){return this.pathLength}getPointAtLength(l){return kn.getPointAtLengthOfDataArray(l,this.dataArray)}static getLineLength(l,c,d,h){return Math.sqrt((d-l)*(d-l)+(h-c)*(h-c))}static getPathLength(l){let c=0;for(let d=0;d<l.length;++d)c+=l[d].pathLength;return c}static getPointAtLengthOfDataArray(l,c){let d,h=0,f=c.length;if(!f)return null;for(;h<f&&l>c[h].pathLength;)l-=c[h].pathLength,++h;if(h===f)return d=c[h-1].points.slice(-2),{x:d[0],y:d[1]};if(l<.01)return d=c[h].points.slice(0,2),{x:d[0],y:d[1]};const m=c[h],v=m.points;switch(m.command){case"L":return kn.getPointOnLine(l,m.start.x,m.start.y,v[0],v[1]);case"C":return kn.getPointOnCubicBezier((0,i.t2length)(l,kn.getPathLength(c),x=>(0,i.getCubicArcLength)([m.start.x,v[0],v[2],v[4]],[m.start.y,v[1],v[3],v[5]],x)),m.start.x,m.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return kn.getPointOnQuadraticBezier((0,i.t2length)(l,kn.getPathLength(c),x=>(0,i.getQuadraticArcLength)([m.start.x,v[0],v[2]],[m.start.y,v[1],v[3]],x)),m.start.x,m.start.y,v[0],v[1],v[2],v[3]);case"A":var p=v[0],S=v[1],y=v[2],b=v[3],w=v[4],D=v[5],C=v[6];return w+=D*l/m.pathLength,kn.getPointOnEllipticalArc(p,S,y,b,w,C)}return null}static getPointOnLine(l,c,d,h,f,m,v){m=m??c,v=v??d;const p=this.getLineLength(c,d,h,f);if(p<1e-10)return{x:c,y:d};if(h===c)return{x:m,y:v+(f>d?l:-l)};const S=(f-d)/(h-c),y=Math.sqrt(l*l/(1+S*S))*(h<c?-1:1),b=S*y;if(Math.abs(v-d-S*(m-c))<1e-10)return{x:m+y,y:v+b};const w=((m-c)*(h-c)+(v-d)*(f-d))/(p*p),D=c+w*(h-c),C=d+w*(f-d),x=this.getLineLength(m,v,D,C),R=Math.sqrt(l*l-x*x),I=Math.sqrt(R*R/(1+S*S))*(h<c?-1:1),k=S*I;return{x:D+I,y:C+k}}static getPointOnCubicBezier(l,c,d,h,f,m,v,p,S){function y(R){return R*R*R}function b(R){return 3*R*R*(1-R)}function w(R){return 3*R*(1-R)*(1-R)}function D(R){return(1-R)*(1-R)*(1-R)}const C=p*y(l)+m*b(l)+h*w(l)+c*D(l),x=S*y(l)+v*b(l)+f*w(l)+d*D(l);return{x:C,y:x}}static getPointOnQuadraticBezier(l,c,d,h,f,m,v){function p(D){return D*D}function S(D){return 2*D*(1-D)}function y(D){return(1-D)*(1-D)}const b=m*p(l)+h*S(l)+c*y(l),w=v*p(l)+f*S(l)+d*y(l);return{x:b,y:w}}static getPointOnEllipticalArc(l,c,d,h,f,m){const v=Math.cos(m),p=Math.sin(m),S={x:d*Math.cos(f),y:h*Math.sin(f)};return{x:l+(S.x*v-S.y*p),y:c+(S.x*p+S.y*v)}}static parsePathData(l){if(!l)return[];let c=l;const d=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];c=c.replace(new RegExp(" ","g"),",");for(var h=0;h<d.length;h++)c=c.replace(new RegExp(d[h],"g"),"|"+d[h]);const f=c.split("|"),m=[],v=[];let p=0,S=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let b;for(h=1;h<f.length;h++){let P=f[h],A=P.charAt(0);for(P=P.slice(1),v.length=0;b=y.exec(P);)v.push(b[0]);const E=[];for(let F=0,G=v.length;F<G;F++){if(v[F]==="00"){E.push(0,0);continue}const H=parseFloat(v[F]);isNaN(H)?E.push(0):E.push(H)}for(;E.length>0&&!isNaN(E[0]);){let F="",G=[];const H=p,Q=S;var w,D,C,x,R,I,k,_,M,U;switch(A){case"l":p+=E.shift(),S+=E.shift(),F="L",G.push(p,S);break;case"L":p=E.shift(),S=E.shift(),G.push(p,S);break;case"m":var B=E.shift(),L=E.shift();if(p+=B,S+=L,F="M",m.length>2&&m[m.length-1].command==="z"){for(let Z=m.length-2;Z>=0;Z--)if(m[Z].command==="M"){p=m[Z].points[0]+B,S=m[Z].points[1]+L;break}}G.push(p,S),A="l";break;case"M":p=E.shift(),S=E.shift(),F="M",G.push(p,S),A="L";break;case"h":p+=E.shift(),F="L",G.push(p,S);break;case"H":p=E.shift(),F="L",G.push(p,S);break;case"v":S+=E.shift(),F="L",G.push(p,S);break;case"V":S=E.shift(),F="L",G.push(p,S);break;case"C":G.push(E.shift(),E.shift(),E.shift(),E.shift()),p=E.shift(),S=E.shift(),G.push(p,S);break;case"c":G.push(p+E.shift(),S+E.shift(),p+E.shift(),S+E.shift()),p+=E.shift(),S+=E.shift(),F="C",G.push(p,S);break;case"S":D=p,C=S,w=m[m.length-1],w.command==="C"&&(D=p+(p-w.points[2]),C=S+(S-w.points[3])),G.push(D,C,E.shift(),E.shift()),p=E.shift(),S=E.shift(),F="C",G.push(p,S);break;case"s":D=p,C=S,w=m[m.length-1],w.command==="C"&&(D=p+(p-w.points[2]),C=S+(S-w.points[3])),G.push(D,C,p+E.shift(),S+E.shift()),p+=E.shift(),S+=E.shift(),F="C",G.push(p,S);break;case"Q":G.push(E.shift(),E.shift()),p=E.shift(),S=E.shift(),G.push(p,S);break;case"q":G.push(p+E.shift(),S+E.shift()),p+=E.shift(),S+=E.shift(),F="Q",G.push(p,S);break;case"T":D=p,C=S,w=m[m.length-1],w.command==="Q"&&(D=p+(p-w.points[0]),C=S+(S-w.points[1])),p=E.shift(),S=E.shift(),F="Q",G.push(D,C,p,S);break;case"t":D=p,C=S,w=m[m.length-1],w.command==="Q"&&(D=p+(p-w.points[0]),C=S+(S-w.points[1])),p+=E.shift(),S+=E.shift(),F="Q",G.push(D,C,p,S);break;case"A":x=E.shift(),R=E.shift(),I=E.shift(),k=E.shift(),_=E.shift(),M=p,U=S,p=E.shift(),S=E.shift(),F="A",G=this.convertEndpointToCenterParameterization(M,U,p,S,k,_,x,R,I);break;case"a":x=E.shift(),R=E.shift(),I=E.shift(),k=E.shift(),_=E.shift(),M=p,U=S,p+=E.shift(),S+=E.shift(),F="A",G=this.convertEndpointToCenterParameterization(M,U,p,S,k,_,x,R,I);break}m.push({command:F||A,points:G,start:{x:H,y:Q},pathLength:this.calcLength(H,Q,F||A,G)})}(A==="z"||A==="Z")&&m.push({command:"z",points:[],start:void 0,pathLength:0})}return m}static calcLength(l,c,d,h){let f,m,v,p;const S=kn;switch(d){case"L":return S.getLineLength(l,c,h[0],h[1]);case"C":return(0,i.getCubicArcLength)([l,h[0],h[2],h[4]],[c,h[1],h[3],h[5]],1);case"Q":return(0,i.getQuadraticArcLength)([l,h[0],h[2]],[c,h[1],h[3]],1);case"A":f=0;var y=h[4],b=h[5],w=h[4]+b,D=Math.PI/180;if(Math.abs(y-w)<D&&(D=Math.abs(y-w)),m=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],y,0),b<0)for(p=y-D;p>w;p-=D)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],p,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;else for(p=y+D;p<w;p+=D)v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],p,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),m=v;return v=S.getPointOnEllipticalArc(h[0],h[1],h[2],h[3],w,0),f+=S.getLineLength(m.x,m.y,v.x,v.y),f}return 0}static convertEndpointToCenterParameterization(l,c,d,h,f,m,v,p,S){const y=S*(Math.PI/180),b=Math.cos(y)*(l-d)/2+Math.sin(y)*(c-h)/2,w=-1*Math.sin(y)*(l-d)/2+Math.cos(y)*(c-h)/2,D=b*b/(v*v)+w*w/(p*p);D>1&&(v*=Math.sqrt(D),p*=Math.sqrt(D));let C=Math.sqrt((v*v*(p*p)-v*v*(w*w)-p*p*(b*b))/(v*v*(w*w)+p*p*(b*b)));f===m&&(C*=-1),isNaN(C)&&(C=0);const x=C*v*w/p,R=C*-p*b/v,I=(l+d)/2+Math.cos(y)*x-Math.sin(y)*R,k=(c+h)/2+Math.sin(y)*x+Math.cos(y)*R,_=function(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])},M=function(E,F){return(E[0]*F[0]+E[1]*F[1])/(_(E)*_(F))},U=function(E,F){return(E[0]*F[1]<E[1]*F[0]?-1:1)*Math.acos(M(E,F))},B=U([1,0],[(b-x)/v,(w-R)/p]),L=[(b-x)/v,(w-R)/p],P=[(-1*b-x)/v,(-1*w-R)/p];let A=U(L,P);return M(L,P)<=-1&&(A=Math.PI),M(L,P)>=1&&(A=0),m===0&&A>0&&(A=A-2*Math.PI),m===1&&A<0&&(A=A+2*Math.PI),[I,k,v,p,B,A,y,m]}};return wl.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,t._registerNode)(a),n.Factory.addGetterSetter(a,"data"),wl}var f5;function GO(){if(f5)return Dl;f5=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.Arrow=void 0;const n=lt(),e=o3(),t=ht(),i=at(),a=op();let o=class extends e.Line{_sceneFunc(c){super._sceneFunc(c);const d=Math.PI*2,h=this.points();let f=h;const m=this.tension()!==0&&h.length>4;m&&(f=this.getTensionPoints());const v=this.pointerLength(),p=h.length;let S,y;if(m){const D=[f[f.length-4],f[f.length-3],f[f.length-2],f[f.length-1],h[p-2],h[p-1]],C=a.Path.calcLength(f[f.length-4],f[f.length-3],"C",D),x=a.Path.getPointOnQuadraticBezier(Math.min(1,1-v/C),D[0],D[1],D[2],D[3],D[4],D[5]);S=h[p-2]-x.x,y=h[p-1]-x.y}else S=h[p-2]-h[p-4],y=h[p-1]-h[p-3];const b=(Math.atan2(y,S)+d)%d,w=this.pointerWidth();this.pointerAtEnding()&&(c.save(),c.beginPath(),c.translate(h[p-2],h[p-1]),c.rotate(b),c.moveTo(0,0),c.lineTo(-v,w/2),c.lineTo(-v,-w/2),c.closePath(),c.restore(),this.__fillStroke(c)),this.pointerAtBeginning()&&(c.save(),c.beginPath(),c.translate(h[0],h[1]),m?(S=(f[0]+f[2])/2-h[0],y=(f[1]+f[3])/2-h[1]):(S=h[2]-h[0],y=h[3]-h[1]),c.rotate((Math.atan2(-y,-S)+d)%d),c.moveTo(0,0),c.lineTo(-v,w/2),c.lineTo(-v,-w/2),c.closePath(),c.restore(),this.__fillStroke(c))}__fillStroke(c){const d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,c.setLineDash([])),c.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)}getSelfRect(){const c=super.getSelfRect(),d=this.pointerWidth()/2;return{x:c.x,y:c.y-d,width:c.width,height:c.height+d*2}}};return Dl.Arrow=o,o.prototype.className="Arrow",(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"pointerLength",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerWidth",10,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"pointerAtBeginning",!1),n.Factory.addGetterSetter(o,"pointerAtEnding",!0),Dl}var xl={},g5;function zO(){if(g5)return xl;g5=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.Circle=void 0;const n=lt(),e=fn(),t=ht(),i=at();let a=class extends e.Shape{_sceneFunc(l){l.beginPath(),l.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius()!==l/2&&this.radius(l/2)}setHeight(l){this.radius()!==l/2&&this.radius(l/2)}};return xl.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),xl}var Al={},p5;function VO(){if(p5)return Al;p5=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.Ellipse=void 0;const n=lt(),e=fn(),t=ht(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this.radiusX(),d=this.radiusY();l.beginPath(),l.save(),c!==d&&l.scale(1,d/c),l.arc(0,0,c,0,Math.PI*2,!1),l.restore(),l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(l){this.radiusX(l/2)}setHeight(l){this.radiusY(l/2)}};return Al.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,i._registerNode)(a),n.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),n.Factory.addGetterSetter(a,"radiusX",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"radiusY",0,(0,t.getNumberValidator)()),Al}var Rl={},m5;function QO(){if(m5)return Rl;m5=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.Image=void 0;const n=Wt(),e=lt(),t=fn(),i=at(),a=ht();class o extends t.Shape{constructor(c){super(c),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",d=>{this._removeImageLoad(d.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const c=this.image();c&&c.complete||c&&c.readyState===4||c&&c.addEventListener&&c.addEventListener("load",this._loadListener)}_removeImageLoad(c){c&&c.removeEventListener&&c.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const c=!!this.cornerRadius(),d=this.hasShadow();return c&&d?!0:super._useBufferCanvas(!0)}_sceneFunc(c){const d=this.getWidth(),h=this.getHeight(),f=this.cornerRadius(),m=this.attrs.image;let v;if(m){const p=this.attrs.cropWidth,S=this.attrs.cropHeight;p&&S?v=[m,this.cropX(),this.cropY(),p,S,0,0,d,h]:v=[m,0,0,d,h]}(this.hasFill()||this.hasStroke()||f)&&(c.beginPath(),f?n.Util.drawRoundedRectPath(c,d,h,f):c.rect(0,0,d,h),c.closePath(),c.fillStrokeShape(this)),m&&(f&&c.clip(),c.drawImage.apply(c,v))}_hitFunc(c){const d=this.width(),h=this.height(),f=this.cornerRadius();c.beginPath(),f?n.Util.drawRoundedRectPath(c,d,h,f):c.rect(0,0,d,h),c.closePath(),c.fillStrokeShape(this)}getWidth(){var c,d;return(c=this.attrs.width)!==null&&c!==void 0?c:(d=this.image())===null||d===void 0?void 0:d.width}getHeight(){var c,d;return(c=this.attrs.height)!==null&&c!==void 0?c:(d=this.image())===null||d===void 0?void 0:d.height}static fromURL(c,d,h=null){const f=n.Util.createImageElement();f.onload=function(){const m=new o({image:f});d(m)},f.onerror=h,f.crossOrigin="Anonymous",f.src=c}}return Rl.Image=o,o.prototype.className="Image",(0,i._registerNode)(o),e.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),e.Factory.addGetterSetter(o,"image"),e.Factory.addComponentsGetterSetter(o,"crop",["x","y","width","height"]),e.Factory.addGetterSetter(o,"cropX",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropY",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropWidth",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(o,"cropHeight",0,(0,a.getNumberValidator)()),Rl}var Ma={},S5;function HO(){if(S5)return Ma;S5=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.Tag=Ma.Label=void 0;const n=lt(),e=fn(),t=rp(),i=ht(),a=at(),o=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],l="Change.konva",c="none",d="up",h="right",f="down",m="left",v=o.length;let p=class extends t.Group{constructor(b){super(b),this.on("add.konva",function(w){this._addListeners(w.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(b){let w=this,D;const C=function(){w._sync()};for(D=0;D<v;D++)b.on(o[D]+l,C)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let b=this.getText(),w=this.getTag(),D,C,x,R,I,k,_;if(b&&w){switch(D=b.width(),C=b.height(),x=w.pointerDirection(),R=w.pointerWidth(),_=w.pointerHeight(),I=0,k=0,x){case d:I=D/2,k=-1*_;break;case h:I=D+R,k=C/2;break;case f:I=D/2,k=C+_;break;case m:I=-1*R,k=C/2;break}w.setAttrs({x:-1*I,y:-1*k,width:D,height:C}),b.setAttrs({x:-1*I,y:-1*k})}}};Ma.Label=p,p.prototype.className="Label",(0,a._registerNode)(p);class S extends e.Shape{_sceneFunc(b){const w=this.width(),D=this.height(),C=this.pointerDirection(),x=this.pointerWidth(),R=this.pointerHeight(),I=this.cornerRadius();let k=0,_=0,M=0,U=0;typeof I=="number"?k=_=M=U=Math.min(I,w/2,D/2):(k=Math.min(I[0]||0,w/2,D/2),_=Math.min(I[1]||0,w/2,D/2),U=Math.min(I[2]||0,w/2,D/2),M=Math.min(I[3]||0,w/2,D/2)),b.beginPath(),b.moveTo(k,0),C===d&&(b.lineTo((w-x)/2,0),b.lineTo(w/2,-1*R),b.lineTo((w+x)/2,0)),b.lineTo(w-_,0),b.arc(w-_,_,_,Math.PI*3/2,0,!1),C===h&&(b.lineTo(w,(D-R)/2),b.lineTo(w+x,D/2),b.lineTo(w,(D+R)/2)),b.lineTo(w,D-U),b.arc(w-U,D-U,U,0,Math.PI/2,!1),C===f&&(b.lineTo((w+x)/2,D),b.lineTo(w/2,D+R),b.lineTo((w-x)/2,D)),b.lineTo(M,D),b.arc(M,D-M,M,Math.PI/2,Math.PI,!1),C===m&&(b.lineTo(0,(D+R)/2),b.lineTo(-1*x,D/2),b.lineTo(0,(D-R)/2)),b.lineTo(0,k),b.arc(k,k,k,Math.PI,Math.PI*3/2,!1),b.closePath(),b.fillStrokeShape(this)}getSelfRect(){let b=0,w=0,D=this.pointerWidth(),C=this.pointerHeight(),x=this.pointerDirection(),R=this.width(),I=this.height();return x===d?(w-=C,I+=C):x===f?I+=C:x===m?(b-=D*1.5,R+=D):x===h&&(R+=D*1.5),{x:b,y:w,width:R,height:I}}}return Ma.Tag=S,S.prototype.className="Tag",(0,a._registerNode)(S),n.Factory.addGetterSetter(S,"pointerDirection",c),n.Factory.addGetterSetter(S,"pointerWidth",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"pointerHeight",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"cornerRadius",0,(0,i.getNumberOrArrayOfNumbersValidator)(4)),Ma}var Ol={},y5;function s3(){if(y5)return Ol;y5=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.Rect=void 0;const n=lt(),e=fn(),t=at(),i=Wt(),a=ht();let o=class extends e.Shape{_sceneFunc(c){const d=this.cornerRadius(),h=this.width(),f=this.height();c.beginPath(),d?i.Util.drawRoundedRectPath(c,h,f,d):c.rect(0,0,h,f),c.closePath(),c.fillStrokeShape(this)}};return Ol.Rect=o,o.prototype.className="Rect",(0,t._registerNode)(o),n.Factory.addGetterSetter(o,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),Ol}var Pl={},v5;function jO(){if(v5)return Pl;v5=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.RegularPolygon=void 0;const n=lt(),e=fn(),t=ht(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this._getPoints();l.beginPath(),l.moveTo(c[0].x,c[0].y);for(let d=1;d<c.length;d++)l.lineTo(c[d].x,c[d].y);l.closePath(),l.fillStrokeShape(this)}_getPoints(){const l=this.attrs.sides,c=this.attrs.radius||0,d=[];for(let h=0;h<l;h++)d.push({x:c*Math.sin(h*2*Math.PI/l),y:-1*c*Math.cos(h*2*Math.PI/l)});return d}getSelfRect(){const l=this._getPoints();let c=l[0].x,d=l[0].y,h=l[0].x,f=l[0].y;return l.forEach(m=>{c=Math.min(c,m.x),d=Math.max(d,m.x),h=Math.min(h,m.y),f=Math.max(f,m.y)}),{x:c,y:h,width:d-c,height:f-h}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(l){this.radius(l/2)}setHeight(l){this.radius(l/2)}};return Pl.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"radius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"sides",0,(0,t.getNumberValidator)()),Pl}var Ll={},b5;function YO(){if(b5)return Ll;b5=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.Ring=void 0;const n=lt(),e=fn(),t=ht(),i=at(),a=Math.PI*2;let o=class extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.innerRadius(),0,a,!1),c.moveTo(this.outerRadius(),0),c.arc(0,0,this.outerRadius(),a,0,!0),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(c){this.outerRadius(c/2)}setHeight(c){this.outerRadius(c/2)}};return Ll.Ring=o,o.prototype.className="Ring",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(o),n.Factory.addGetterSetter(o,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(o,"outerRadius",0,(0,t.getNumberValidator)()),Ll}var Il={},C5;function XO(){if(C5)return Il;C5=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.Sprite=void 0;const n=lt(),e=fn(),t=ap(),i=ht(),a=at();let o=class extends e.Shape{constructor(c){super(c),this._updated=!0,this.anim=new t.Animation(()=>{const d=this._updated;return this._updated=!1,d}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(c){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),p=m[f+0],S=m[f+1],y=m[f+2],b=m[f+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(c.beginPath(),c.rect(0,0,y,b),c.closePath(),c.fillStrokeShape(this)),w)if(v){const D=v[d],C=h*2;c.drawImage(w,p,S,y,b,D[C+0],D[C+1],y,b)}else c.drawImage(w,p,S,y,b,0,0,y,b)}_hitFunc(c){const d=this.animation(),h=this.frameIndex(),f=h*4,m=this.animations()[d],v=this.frameOffsets(),p=m[f+2],S=m[f+3];if(c.beginPath(),v){const y=v[d],b=h*2;c.rect(y[b+0],y[b+1],p,S)}else c.rect(0,0,p,S);c.closePath(),c.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const c=this;this.interval=setInterval(function(){c._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const c=this.getLayer();this.anim.setLayers(c),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const c=this.frameIndex(),d=this.animation(),h=this.animations(),f=h[d],m=f.length/4;c<m-1?this.frameIndex(c+1):this.frameIndex(0)}};return Il.Sprite=o,o.prototype.className="Sprite",(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"animation"),n.Factory.addGetterSetter(o,"animations"),n.Factory.addGetterSetter(o,"frameOffsets"),n.Factory.addGetterSetter(o,"image"),n.Factory.addGetterSetter(o,"frameIndex",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"frameRate",17,(0,i.getNumberValidator)()),n.Factory.backCompat(o,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Il}var El={},D5;function WO(){if(D5)return El;D5=1,Object.defineProperty(El,"__esModule",{value:!0}),El.Star=void 0;const n=lt(),e=fn(),t=ht(),i=at();let a=class extends e.Shape{_sceneFunc(l){const c=this.innerRadius(),d=this.outerRadius(),h=this.numPoints();l.beginPath(),l.moveTo(0,0-d);for(let f=1;f<h*2;f++){const m=f%2===0?d:c,v=m*Math.sin(f*Math.PI/h),p=-1*m*Math.cos(f*Math.PI/h);l.lineTo(v,p)}l.closePath(),l.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(l){this.outerRadius(l/2)}setHeight(l){this.outerRadius(l/2)}};return El.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,i._registerNode)(a),n.Factory.addGetterSetter(a,"numPoints",5,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"innerRadius",0,(0,t.getNumberValidator)()),n.Factory.addGetterSetter(a,"outerRadius",0,(0,t.getNumberValidator)()),El}var $o={},T5;function l3(){if(T5)return $o;T5=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.Text=void 0,$o.stringToArray=l;const n=Wt(),e=lt(),t=fn(),i=at(),a=ht(),o=at();function l(V){return[...V].reduce((X,ee,J,ce)=>{if(new RegExp("\\p{Emoji}","u").test(ee)){const W=ce[J+1];W&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(W)?(X.push(ee+W),ce[J+1]=""):X.push(ee)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(ee+(ce[J+1]||""))?X.push(ee+ce[J+1]):J>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(ee)?X[X.length-1]+=ee:ee&&X.push(ee);return X},[])}const c="auto",d="center",h="inherit",f="justify",m="Change.konva",v="2d",p="-",S="left",y="text",b="Text",w="top",D="bottom",C="middle",x="normal",R="px ",I=" ",k="right",_="rtl",M="word",U="char",B="none",L="…",P=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],A=P.length;function E(V){return V.split(",").map(X=>{X=X.trim();const ee=X.indexOf(" ")>=0,J=X.indexOf('"')>=0||X.indexOf("'")>=0;return ee&&!J&&(X=`"${X}"`),X}).join(", ")}let F;function G(){return F||(F=n.Util.createCanvasElement().getContext(v),F)}function H(V){V.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Q(V){V.setAttr("miterLimit",2),V.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Z(V){return V=V||{},!V.fillLinearGradientColorStops&&!V.fillRadialGradientColorStops&&!V.fillPatternImage&&(V.fill=V.fill||"black"),V}let N=class extends t.Shape{constructor(X){super(Z(X)),this._partialTextX=0,this._partialTextY=0;for(let ee=0;ee<A;ee++)this.on(P[ee]+m,this._setTextData);this._setTextData()}_sceneFunc(X){const ee=this.textArr,J=ee.length;if(!this.text())return;let ce=this.padding(),W=this.fontSize(),ne=this.lineHeight()*W,se=this.verticalAlign(),de=this.direction(),ve=0,Te=this.align(),Me=this.getWidth(),q=this.letterSpacing(),le=this.fill(),he=this.textDecoration(),$=he.indexOf("underline")!==-1,Y=he.indexOf("line-through")!==-1,ae;de=de===h?X.direction:de;let ye=ne/2,Ce=C;if(i.Konva._fixTextRendering){const qe=this.measureSize("M");Ce="alphabetic",ye=(qe.fontBoundingBoxAscent-qe.fontBoundingBoxDescent)/2+ne/2}var te=0,Re=0;for(de===_&&X.setAttr("direction",de),X.setAttr("font",this._getContextFont()),X.setAttr("textBaseline",Ce),X.setAttr("textAlign",S),se===C?ve=(this.getHeight()-J*ne-ce*2)/2:se===D&&(ve=this.getHeight()-J*ne-ce*2),X.translate(ce,ve+ce),ae=0;ae<J;ae++){var te=0,Re=0,Pe=ee[ae],fe=Pe.text,pe=Pe.width,Ie=Pe.lastInParagraph,_e,ke;if(X.save(),Te===k?te+=Me-pe-ce*2:Te===d&&(te+=(Me-pe-ce*2)/2),$){X.save(),X.beginPath();const et=i.Konva._fixTextRendering?Math.round(W/4):Math.round(W/2),Ge=te,We=ye+Re+et;X.moveTo(Ge,We),_e=fe.split(" ").length-1,ke=Te===f&&!Ie?Me-ce*2:pe,X.lineTo(Ge+Math.round(ke),We),X.lineWidth=W/15;const Ne=this._getLinearGradient();X.strokeStyle=Ne||le,X.stroke(),X.restore()}if(Y){X.save(),X.beginPath();const et=i.Konva._fixTextRendering?-Math.round(W/4):0;X.moveTo(te,ye+Re+et),_e=fe.split(" ").length-1,ke=Te===f&&!Ie?Me-ce*2:pe,X.lineTo(te+Math.round(ke),ye+Re+et),X.lineWidth=W/15;const Ge=this._getLinearGradient();X.strokeStyle=Ge||le,X.stroke(),X.restore()}if(de!==_&&(q!==0||Te===f)){_e=fe.split(" ").length-1;const et=l(fe);for(let Ge=0;Ge<et.length;Ge++){const We=et[Ge];We===" "&&!Ie&&Te===f&&(te+=(Me-ce*2-pe)/_e),this._partialTextX=te,this._partialTextY=ye+Re,this._partialText=We,X.fillStrokeShape(this),te+=this.measureSize(We).width+q}}else q!==0&&X.setAttr("letterSpacing",`${q}px`),this._partialTextX=te,this._partialTextY=ye+Re,this._partialText=fe,X.fillStrokeShape(this);X.restore(),J>1&&(ye+=ne)}}_hitFunc(X){const ee=this.getWidth(),J=this.getHeight();X.beginPath(),X.rect(0,0,ee,J),X.closePath(),X.fillStrokeShape(this)}setText(X){const ee=n.Util._isString(X)?X:X==null?"":X+"";return this._setAttr(y,ee),this}getWidth(){return this.attrs.width===c||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===c||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(X){var ee,J,ce,W,ne,se,de,ve,Te,Me,q;let le=G(),he=this.fontSize(),$;le.save(),le.font=this._getContextFont(),$=le.measureText(X),le.restore();const Y=he/100;return{actualBoundingBoxAscent:(ee=$.actualBoundingBoxAscent)!==null&&ee!==void 0?ee:71.58203125*Y,actualBoundingBoxDescent:(J=$.actualBoundingBoxDescent)!==null&&J!==void 0?J:0,actualBoundingBoxLeft:(ce=$.actualBoundingBoxLeft)!==null&&ce!==void 0?ce:-7.421875*Y,actualBoundingBoxRight:(W=$.actualBoundingBoxRight)!==null&&W!==void 0?W:75.732421875*Y,alphabeticBaseline:(ne=$.alphabeticBaseline)!==null&&ne!==void 0?ne:0,emHeightAscent:(se=$.emHeightAscent)!==null&&se!==void 0?se:100*Y,emHeightDescent:(de=$.emHeightDescent)!==null&&de!==void 0?de:-20*Y,fontBoundingBoxAscent:(ve=$.fontBoundingBoxAscent)!==null&&ve!==void 0?ve:91*Y,fontBoundingBoxDescent:(Te=$.fontBoundingBoxDescent)!==null&&Te!==void 0?Te:21*Y,hangingBaseline:(Me=$.hangingBaseline)!==null&&Me!==void 0?Me:72.80000305175781*Y,ideographicBaseline:(q=$.ideographicBaseline)!==null&&q!==void 0?q:-21*Y,width:$.width,height:he}}_getContextFont(){return this.fontStyle()+I+this.fontVariant()+I+(this.fontSize()+R)+E(this.fontFamily())}_addTextLine(X){this.align()===f&&(X=X.trim());const J=this._getTextWidth(X);return this.textArr.push({text:X,width:J,lastInParagraph:!1})}_getTextWidth(X){const ee=this.letterSpacing(),J=X.length;return G().measureText(X).width+ee*J}_setTextData(){let X=this.text().split(`
`),ee=+this.fontSize(),J=0,ce=this.lineHeight()*ee,W=this.attrs.width,ne=this.attrs.height,se=W!==c&&W!==void 0,de=ne!==c&&ne!==void 0,ve=this.padding(),Te=W-ve*2,Me=ne-ve*2,q=0,le=this.wrap(),he=le!==B,$=le!==U&&he,Y=this.ellipsis();this.textArr=[],G().font=this._getContextFont();const ae=Y?this._getTextWidth(L):0;for(let ye=0,Ce=X.length;ye<Ce;++ye){let te=X[ye],Re=this._getTextWidth(te);if(se&&Re>Te)for(;te.length>0;){let Pe=0,fe=l(te).length,pe="",Ie=0;for(;Pe<fe;){const _e=Pe+fe>>>1,ke=l(te),qe=ke.slice(0,_e+1).join(""),ze=this._getTextWidth(qe);(Y&&de&&q+ce>Me?ze+ae:ze)<=Te?(Pe=_e+1,pe=qe,Ie=ze):fe=_e}if(pe){if($){const qe=l(te),ze=l(pe),et=qe[ze.length],Ge=et===I||et===p;let We;if(Ge&&Ie<=Te)We=ze.length;else{const Ne=ze.lastIndexOf(I),je=ze.lastIndexOf(p);We=Math.max(Ne,je)+1}We>0&&(Pe=We,pe=qe.slice(0,Pe).join(""),Ie=this._getTextWidth(pe))}if(pe=pe.trimRight(),this._addTextLine(pe),J=Math.max(J,Ie),q+=ce,this._shouldHandleEllipsis(q)){this._tryToAddEllipsisToLastLine();break}if(te=l(te).slice(Pe).join("").trimLeft(),te.length>0&&(Re=this._getTextWidth(te),Re<=Te)){this._addTextLine(te),q+=ce,J=Math.max(J,Re);break}}else break}else this._addTextLine(te),q+=ce,J=Math.max(J,Re),this._shouldHandleEllipsis(q)&&ye<Ce-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),de&&q+ce>Me)break}this.textHeight=ee,this.textWidth=J}_shouldHandleEllipsis(X){const ee=+this.fontSize(),J=this.lineHeight()*ee,ce=this.attrs.height,W=ce!==c&&ce!==void 0,ne=this.padding(),se=ce-ne*2;return!(this.wrap()!==B)||W&&X+J>se}_tryToAddEllipsisToLastLine(){const X=this.attrs.width,ee=X!==c&&X!==void 0,J=this.padding(),ce=X-J*2,W=this.ellipsis(),ne=this.textArr[this.textArr.length-1];!ne||!W||(ee&&(this._getTextWidth(ne.text+L)<ce||(ne.text=ne.text.slice(0,ne.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(ne.text+L))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const X=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,ee=this.hasShadow();return X&&ee?!0:super._useBufferCanvas()}};return $o.Text=N,N.prototype._fillFunc=H,N.prototype._strokeFunc=Q,N.prototype.className=b,N.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,o._registerNode)(N),e.Factory.overWriteSetter(N,"width",(0,a.getNumberOrAutoValidator)()),e.Factory.overWriteSetter(N,"height",(0,a.getNumberOrAutoValidator)()),e.Factory.addGetterSetter(N,"direction",h),e.Factory.addGetterSetter(N,"fontFamily","Arial"),e.Factory.addGetterSetter(N,"fontSize",12,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(N,"fontStyle",x),e.Factory.addGetterSetter(N,"fontVariant",x),e.Factory.addGetterSetter(N,"padding",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(N,"align",S),e.Factory.addGetterSetter(N,"verticalAlign",w),e.Factory.addGetterSetter(N,"lineHeight",1,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(N,"wrap",M),e.Factory.addGetterSetter(N,"ellipsis",!1,(0,a.getBooleanValidator)()),e.Factory.addGetterSetter(N,"letterSpacing",0,(0,a.getNumberValidator)()),e.Factory.addGetterSetter(N,"text","",(0,a.getStringValidator)()),e.Factory.addGetterSetter(N,"textDecoration",""),$o}var _l={},w5;function $O(){if(w5)return _l;w5=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.TextPath=void 0;const n=Wt(),e=lt(),t=fn(),i=op(),a=l3(),o=ht(),l=at(),c="",d="normal";function h(v){v.fillText(this.partialText,0,0)}function f(v){v.strokeText(this.partialText,0,0)}let m=class extends t.Shape{constructor(p){super(p),this.dummyCanvas=n.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return i.Path.getPathLength(this.dataArray)}_getPointAtLength(p){if(!this.attrs.data)return null;const S=this.pathLength;return p-1>S?null:i.Path.getPointAtLengthOfDataArray(p,this.dataArray)}_readDataAttribute(){this.dataArray=i.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(p){p.setAttr("font",this._getContextFont()),p.setAttr("textBaseline",this.textBaseline()),p.setAttr("textAlign","left"),p.save();const S=this.textDecoration(),y=this.fill(),b=this.fontSize(),w=this.glyphInfo;S==="underline"&&p.beginPath();for(let D=0;D<w.length;D++){p.save();const C=w[D].p0;p.translate(C.x,C.y),p.rotate(w[D].rotation),this.partialText=w[D].text,p.fillStrokeShape(this),S==="underline"&&(D===0&&p.moveTo(0,b/2+1),p.lineTo(b,b/2+1)),p.restore()}S==="underline"&&(p.strokeStyle=y,p.lineWidth=b/20,p.stroke()),p.restore()}_hitFunc(p){p.beginPath();const S=this.glyphInfo;if(S.length>=1){const y=S[0].p0;p.moveTo(y.x,y.y)}for(let y=0;y<S.length;y++){const b=S[y].p1;p.lineTo(b.x,b.y)}p.setAttr("lineWidth",this.fontSize()),p.setAttr("strokeStyle",this.colorKey),p.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return n.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(p){return a.Text.prototype.setText.call(this,p)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(p){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const b=y.measureText(p);return y.restore(),{width:b.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:p,height:S}=this._getTextSize(this.attrs.text);if(this.textWidth=p,this.textHeight=S,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),b=this.align(),w=this.kerningFunc(),D=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let C=0;b==="center"&&(C=Math.max(0,this.pathLength/2-D/2)),b==="right"&&(C=Math.max(0,this.pathLength-D));const x=(0,a.stringToArray)(this.text());let R=C;for(let I=0;I<x.length;I++){const k=this._getPointAtLength(R);if(!k)return;let _=this._getTextSize(x[I]).width+y;if(x[I]===" "&&b==="justify"){const A=this.text().split(" ").length-1;_+=(this.pathLength-D)/A}const M=this._getPointAtLength(R+_);if(!M)return;const U=i.Path.getLineLength(k.x,k.y,M.x,M.y);let B=0;if(w)try{B=w(x[I-1],x[I])*this.fontSize()}catch{B=0}k.x+=B,M.x+=B,this.textWidth+=B;const L=i.Path.getPointOnLine(B+U/2,k.x,k.y,M.x,M.y),P=Math.atan2(M.y-k.y,M.x-k.x);this.glyphInfo.push({transposeX:L.x,transposeY:L.y,text:x[I],rotation:P,p0:k,p1:M}),R+=_}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const p=[];this.glyphInfo.forEach(function(R){p.push(R.p0.x),p.push(R.p0.y),p.push(R.p1.x),p.push(R.p1.y)});let S=p[0]||0,y=p[0]||0,b=p[1]||0,w=p[1]||0,D,C;for(let R=0;R<p.length/2;R++)D=p[R*2],C=p[R*2+1],S=Math.min(S,D),y=Math.max(y,D),b=Math.min(b,C),w=Math.max(w,C);const x=this.fontSize();return{x:S-x/2,y:b-x/2,width:y-S+x,height:w-b+x}}destroy(){return n.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return _l.TextPath=m,m.prototype._fillFunc=h,m.prototype._strokeFunc=f,m.prototype._fillFuncHit=h,m.prototype._strokeFuncHit=f,m.prototype.className="TextPath",m.prototype._attrsAffectingSize=["text","fontSize","data"],(0,l._registerNode)(m),e.Factory.addGetterSetter(m,"data"),e.Factory.addGetterSetter(m,"fontFamily","Arial"),e.Factory.addGetterSetter(m,"fontSize",12,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"fontStyle",d),e.Factory.addGetterSetter(m,"align","left"),e.Factory.addGetterSetter(m,"letterSpacing",0,(0,o.getNumberValidator)()),e.Factory.addGetterSetter(m,"textBaseline","middle"),e.Factory.addGetterSetter(m,"fontVariant",d),e.Factory.addGetterSetter(m,"text",c),e.Factory.addGetterSetter(m,"textDecoration",""),e.Factory.addGetterSetter(m,"kerningFunc",void 0),_l}var Ml={},x5;function KO(){if(x5)return Ml;x5=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.Transformer=void 0;const n=Wt(),e=lt(),t=en(),i=fn(),a=s3(),o=rp(),l=at(),c=ht(),d=at(),h="tr-konva",f=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(_=>_+`.${h}`).join(" "),m="nodesRect",v=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],p={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},S="ontouchstart"in l.Konva._global;function y(_,M,U){if(_==="rotater")return U;M+=n.Util.degToRad(p[_]||0);const B=(n.Util.radToDeg(M)%360+360)%360;return n.Util._inRange(B,315+22.5,360)||n.Util._inRange(B,0,22.5)?"ns-resize":n.Util._inRange(B,45-22.5,45+22.5)?"nesw-resize":n.Util._inRange(B,90-22.5,90+22.5)?"ew-resize":n.Util._inRange(B,135-22.5,135+22.5)?"nwse-resize":n.Util._inRange(B,180-22.5,180+22.5)?"ns-resize":n.Util._inRange(B,225-22.5,225+22.5)?"nesw-resize":n.Util._inRange(B,270-22.5,270+22.5)?"ew-resize":n.Util._inRange(B,315-22.5,315+22.5)?"nwse-resize":(n.Util.error("Transformer has unknown angle for cursor detection: "+B),"pointer")}const b=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(_){return{x:_.x+_.width/2*Math.cos(_.rotation)+_.height/2*Math.sin(-_.rotation),y:_.y+_.height/2*Math.cos(_.rotation)+_.width/2*Math.sin(_.rotation)}}function D(_,M,U){const B=U.x+(_.x-U.x)*Math.cos(M)-(_.y-U.y)*Math.sin(M),L=U.y+(_.x-U.x)*Math.sin(M)+(_.y-U.y)*Math.cos(M);return{..._,rotation:_.rotation+M,x:B,y:L}}function C(_,M){const U=w(_);return D(_,M,U)}function x(_,M,U){let B=M;for(let L=0;L<_.length;L++){const P=l.Konva.getAngle(_[L]),A=Math.abs(P-M)%(Math.PI*2);Math.min(A,Math.PI*2-A)<U&&(B=P)}return B}let R=0,I=class extends o.Group{constructor(M){super(M),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(f,this.update),this.getNode()&&this.update()}attachTo(M){return this.setNode(M),this}setNode(M){return n.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([M])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return h+this._id}setNodes(M=[]){this._nodes&&this._nodes.length&&this.detach();const U=M.filter(L=>L.isAncestorOf(this)?(n.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=M=U,M.length===1&&this.useSingleNodeRotation()?this.rotation(M[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(L=>{const P=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(L._attrsAffectingSize.length){const A=L._attrsAffectingSize.map(E=>E+"Change."+this._getEventNamespace()).join(" ");L.on(A,P)}L.on(v.map(A=>A+`.${this._getEventNamespace()}`).join(" "),P),L.on(`absoluteTransformChange.${this._getEventNamespace()}`,P),this._proxyDrag(L)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(M){let U;M.on(`dragstart.${this._getEventNamespace()}`,B=>{U=M.getAbsolutePosition(),!this.isDragging()&&M!==this.findOne(".back")&&this.startDrag(B,!1)}),M.on(`dragmove.${this._getEventNamespace()}`,B=>{if(!U)return;const L=M.getAbsolutePosition(),P=L.x-U.x,A=L.y-U.y;this.nodes().forEach(E=>{if(E===M||E.isDragging())return;const F=E.getAbsolutePosition();E.setAbsolutePosition({x:F.x+P,y:F.y+A}),E.startDrag(B)}),U=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(M=>{M.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(m),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(m,this.__getNodeRect)}__getNodeShape(M,U=this.rotation(),B){const L=M.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),P=M.getAbsoluteScale(B),A=M.getAbsolutePosition(B),E=L.x*P.x-M.offsetX()*P.x,F=L.y*P.y-M.offsetY()*P.y,G=(l.Konva.getAngle(M.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),H={x:A.x+E*Math.cos(G)+F*Math.sin(-G),y:A.y+F*Math.cos(G)+E*Math.sin(G),width:L.width*P.x,height:L.height*P.y,rotation:G};return D(H,-l.Konva.getAngle(U),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const U=[];this.nodes().map(G=>{const H=G.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Q=[{x:H.x,y:H.y},{x:H.x+H.width,y:H.y},{x:H.x+H.width,y:H.y+H.height},{x:H.x,y:H.y+H.height}],Z=G.getAbsoluteTransform();Q.forEach(function(N){const V=Z.point(N);U.push(V)})});const B=new n.Transform;B.rotate(-l.Konva.getAngle(this.rotation()));let L=1/0,P=1/0,A=-1/0,E=-1/0;U.forEach(function(G){const H=B.point(G);L===void 0&&(L=A=H.x,P=E=H.y),L=Math.min(L,H.x),P=Math.min(P,H.y),A=Math.max(A,H.x),E=Math.max(E,H.y)}),B.invert();const F=B.point({x:L,y:P});return{x:F.x,y:F.y,width:A-L,height:E-P,rotation:l.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),b.forEach(M=>{this._createAnchor(M)}),this._createAnchor("rotater")}_createAnchor(M){const U=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:M+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:S?10:"auto"}),B=this;U.on("mousedown touchstart",function(L){B._handleMouseDown(L)}),U.on("dragstart",L=>{U.stopDrag(),L.cancelBubble=!0}),U.on("dragend",L=>{L.cancelBubble=!0}),U.on("mouseenter",()=>{const L=l.Konva.getAngle(this.rotation()),P=this.rotateAnchorCursor(),A=y(M,L,P);U.getStage().content&&(U.getStage().content.style.cursor=A),this._cursorChange=!0}),U.on("mouseout",()=>{U.getStage().content&&(U.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(U)}_createBack(){const M=new i.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(U,B){const L=B.getParent(),P=L.padding();U.beginPath(),U.rect(-P,-P,B.width()+P*2,B.height()+P*2),U.moveTo(B.width()/2,-P),L.rotateEnabled()&&L.rotateLineVisible()&&U.lineTo(B.width()/2,-L.rotateAnchorOffset()*n.Util._sign(B.height())-P),U.fillStrokeShape(B)},hitFunc:(U,B)=>{if(!this.shouldOverdrawWholeArea())return;const L=this.padding();U.beginPath(),U.rect(-L,-L,B.width()+L*2,B.height()+L*2),U.fillStrokeShape(B)}});this.add(M),this._proxyDrag(M),M.on("dragstart",U=>{U.cancelBubble=!0}),M.on("dragmove",U=>{U.cancelBubble=!0}),M.on("dragend",U=>{U.cancelBubble=!0}),this.on("dragmove",U=>{this.update()})}_handleMouseDown(M){if(this._transforming)return;this._movingAnchorName=M.target.name().split(" ")[0];const U=this._getNodeRect(),B=U.width,L=U.height,P=Math.sqrt(Math.pow(B,2)+Math.pow(L,2));this.sin=Math.abs(L/P),this.cos=Math.abs(B/P),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const A=M.target.getAbsolutePosition(),E=M.target.getStage().getPointerPosition();this._anchorDragOffset={x:E.x-A.x,y:E.y-A.y},R++,this._fire("transformstart",{evt:M.evt,target:this.getNode()}),this._nodes.forEach(F=>{F._fire("transformstart",{evt:M.evt,target:F})})}_handleMouseMove(M){let U,B,L;const P=this.findOne("."+this._movingAnchorName),A=P.getStage();A.setPointersPositions(M);const E=A.getPointerPosition();let F={x:E.x-this._anchorDragOffset.x,y:E.y-this._anchorDragOffset.y};const G=P.getAbsolutePosition();this.anchorDragBoundFunc()&&(F=this.anchorDragBoundFunc()(G,F,M)),P.setAbsolutePosition(F);const H=P.getAbsolutePosition();if(G.x===H.x&&G.y===H.y)return;if(this._movingAnchorName==="rotater"){const se=this._getNodeRect();U=P.x()-se.width/2,B=-P.y()+se.height/2;let de=Math.atan2(-B,U)+Math.PI/2;se.height<0&&(de-=Math.PI);const Te=l.Konva.getAngle(this.rotation())+de,Me=l.Konva.getAngle(this.rotationSnapTolerance()),le=x(this.rotationSnaps(),Te,Me)-se.rotation,he=C(se,le);this._fitNodesInto(he,M);return}const Q=this.shiftBehavior();let Z;Q==="inverted"?Z=this.keepRatio()&&!M.shiftKey:Q==="none"?Z=this.keepRatio():Z=this.keepRatio()||M.shiftKey;var J=this.centeredScaling()||M.altKey;if(this._movingAnchorName==="top-left"){if(Z){var N=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};L=Math.sqrt(Math.pow(N.x-P.x(),2)+Math.pow(N.y-P.y(),2));var V=this.findOne(".top-left").x()>N.x?-1:1,X=this.findOne(".top-left").y()>N.y?-1:1;U=L*this.cos*V,B=L*this.sin*X,this.findOne(".top-left").x(N.x-U),this.findOne(".top-left").y(N.y-B)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(P.y());else if(this._movingAnchorName==="top-right"){if(Z){var N=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};L=Math.sqrt(Math.pow(P.x()-N.x,2)+Math.pow(N.y-P.y(),2));var V=this.findOne(".top-right").x()<N.x?-1:1,X=this.findOne(".top-right").y()>N.y?-1:1;U=L*this.cos*V,B=L*this.sin*X,this.findOne(".top-right").x(N.x+U),this.findOne(".top-right").y(N.y-B)}var ee=P.position();this.findOne(".top-left").y(ee.y),this.findOne(".bottom-right").x(ee.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(P.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(P.x());else if(this._movingAnchorName==="bottom-left"){if(Z){var N=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};L=Math.sqrt(Math.pow(N.x-P.x(),2)+Math.pow(P.y()-N.y,2));var V=N.x<P.x()?-1:1,X=P.y()<N.y?-1:1;U=L*this.cos*V,B=L*this.sin*X,P.x(N.x-U),P.y(N.y+B)}ee=P.position(),this.findOne(".top-left").x(ee.x),this.findOne(".bottom-right").y(ee.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(P.y());else if(this._movingAnchorName==="bottom-right"){if(Z){var N=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};L=Math.sqrt(Math.pow(P.x()-N.x,2)+Math.pow(P.y()-N.y,2));var V=this.findOne(".bottom-right").x()<N.x?-1:1,X=this.findOne(".bottom-right").y()<N.y?-1:1;U=L*this.cos*V,B=L*this.sin*X,this.findOne(".bottom-right").x(N.x+U),this.findOne(".bottom-right").y(N.y+B)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var J=this.centeredScaling()||M.altKey;if(J){const se=this.findOne(".top-left"),de=this.findOne(".bottom-right"),ve=se.x(),Te=se.y(),Me=this.getWidth()-de.x(),q=this.getHeight()-de.y();de.move({x:-ve,y:-Te}),se.move({x:Me,y:q})}const ce=this.findOne(".top-left").getAbsolutePosition();U=ce.x,B=ce.y;const W=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),ne=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:U,y:B,width:W,height:ne,rotation:l.Konva.getAngle(this.rotation())},M)}_handleMouseUp(M){this._removeEvents(M)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(M){var U;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const B=this.getNode();R--,this._fire("transformend",{evt:M,target:B}),(U=this.getLayer())===null||U===void 0||U.batchDraw(),B&&this._nodes.forEach(L=>{var P;L._fire("transformend",{evt:M,target:L}),(P=L.getLayer())===null||P===void 0||P.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(M,U){const B=this._getNodeRect(),L=1;if(n.Util._inRange(M.width,-this.padding()*2-L,L)){this.update();return}if(n.Util._inRange(M.height,-this.padding()*2-L,L)){this.update();return}const P=new n.Transform;if(P.rotate(l.Konva.getAngle(this.rotation())),this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("left")>=0){const Z=P.point({x:-this.padding()*2,y:0});M.x+=Z.x,M.y+=Z.y,M.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y}else if(this._movingAnchorName&&M.width<0&&this._movingAnchorName.indexOf("right")>=0){const Z=P.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,M.width+=this.padding()*2}if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("top")>=0){const Z=P.point({x:0,y:-this.padding()*2});M.x+=Z.x,M.y+=Z.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,M.height+=this.padding()*2}else if(this._movingAnchorName&&M.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Z=P.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Z.x,this._anchorDragOffset.y-=Z.y,M.height+=this.padding()*2}if(this.boundBoxFunc()){const Z=this.boundBoxFunc()(B,M);Z?M=Z:n.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const A=1e7,E=new n.Transform;E.translate(B.x,B.y),E.rotate(B.rotation),E.scale(B.width/A,B.height/A);const F=new n.Transform,G=M.width/A,H=M.height/A;this.flipEnabled()===!1?(F.translate(M.x,M.y),F.rotate(M.rotation),F.translate(M.width<0?M.width:0,M.height<0?M.height:0),F.scale(Math.abs(G),Math.abs(H))):(F.translate(M.x,M.y),F.rotate(M.rotation),F.scale(G,H));const Q=F.multiply(E.invert());this._nodes.forEach(Z=>{var N;const V=Z.getParent().getAbsoluteTransform(),X=Z.getTransform().copy();X.translate(Z.offsetX(),Z.offsetY());const ee=new n.Transform;ee.multiply(V.copy().invert()).multiply(Q).multiply(V).multiply(X);const J=ee.decompose();Z.setAttrs(J),(N=Z.getLayer())===null||N===void 0||N.batchDraw()}),this.rotation(n.Util._getRotation(M.rotation)),this._nodes.forEach(Z=>{this._fire("transform",{evt:U,target:Z}),Z._fire("transform",{evt:U,target:Z})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(M,U){this.findOne(M).setAttrs(U)}update(){var M;const U=this._getNodeRect();this.rotation(n.Util._getRotation(U.rotation));const B=U.width,L=U.height,P=this.enabledAnchors(),A=this.resizeEnabled(),E=this.padding(),F=this.anchorSize(),G=this.find("._anchor");G.forEach(Q=>{Q.setAttrs({width:F,height:F,offsetX:F/2,offsetY:F/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:F/2+E,offsetY:F/2+E,visible:A&&P.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:B/2,y:0,offsetY:F/2+E,visible:A&&P.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:B,y:0,offsetX:F/2-E,offsetY:F/2+E,visible:A&&P.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:L/2,offsetX:F/2+E,visible:A&&P.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:B,y:L/2,offsetX:F/2-E,visible:A&&P.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:L,offsetX:F/2+E,offsetY:F/2-E,visible:A&&P.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:B/2,y:L,offsetY:F/2-E,visible:A&&P.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:B,y:L,offsetX:F/2-E,offsetY:F/2-E,visible:A&&P.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:B/2,y:-this.rotateAnchorOffset()*n.Util._sign(L)-E,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:B,height:L,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const H=this.anchorStyleFunc();H&&G.forEach(Q=>{H(Q)}),(M=this.getLayer())===null||M===void 0||M.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const M=this.findOne("."+this._movingAnchorName);M&&M.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),o.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return t.Node.prototype.toObject.call(this)}clone(M){return t.Node.prototype.clone.call(this,M)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ml.Transformer=I,I.isTransforming=()=>R>0;function k(_){return _ instanceof Array||n.Util.warn("enabledAnchors value should be an array"),_ instanceof Array&&_.forEach(function(M){b.indexOf(M)===-1&&n.Util.warn("Unknown anchor name: "+M+". Available names are: "+b.join(", "))}),_||[]}return I.prototype.className="Transformer",(0,d._registerNode)(I),e.Factory.addGetterSetter(I,"enabledAnchors",b,k),e.Factory.addGetterSetter(I,"flipEnabled",!0,(0,c.getBooleanValidator)()),e.Factory.addGetterSetter(I,"resizeEnabled",!0),e.Factory.addGetterSetter(I,"anchorSize",10,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"rotateEnabled",!0),e.Factory.addGetterSetter(I,"rotateLineVisible",!0),e.Factory.addGetterSetter(I,"rotationSnaps",[]),e.Factory.addGetterSetter(I,"rotateAnchorOffset",50,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"rotateAnchorCursor","crosshair"),e.Factory.addGetterSetter(I,"rotationSnapTolerance",5,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderEnabled",!0),e.Factory.addGetterSetter(I,"anchorStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(I,"anchorStrokeWidth",1,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"anchorFill","white"),e.Factory.addGetterSetter(I,"anchorCornerRadius",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderStroke","rgb(0, 161, 255)"),e.Factory.addGetterSetter(I,"borderStrokeWidth",1,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"borderDash"),e.Factory.addGetterSetter(I,"keepRatio",!0),e.Factory.addGetterSetter(I,"shiftBehavior","default"),e.Factory.addGetterSetter(I,"centeredScaling",!1),e.Factory.addGetterSetter(I,"ignoreStroke",!1),e.Factory.addGetterSetter(I,"padding",0,(0,c.getNumberValidator)()),e.Factory.addGetterSetter(I,"nodes"),e.Factory.addGetterSetter(I,"node"),e.Factory.addGetterSetter(I,"boundBoxFunc"),e.Factory.addGetterSetter(I,"anchorDragBoundFunc"),e.Factory.addGetterSetter(I,"anchorStyleFunc"),e.Factory.addGetterSetter(I,"shouldOverdrawWholeArea",!1),e.Factory.addGetterSetter(I,"useSingleNodeRotation",!0),e.Factory.backCompat(I,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Ml}var Fl={},A5;function ZO(){if(A5)return Fl;A5=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.Wedge=void 0;const n=lt(),e=fn(),t=at(),i=ht(),a=at();let o=class extends e.Shape{_sceneFunc(c){c.beginPath(),c.arc(0,0,this.radius(),0,t.Konva.getAngle(this.angle()),this.clockwise()),c.lineTo(0,0),c.closePath(),c.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(c){this.radius(c/2)}setHeight(c){this.radius(c/2)}};return Fl.Wedge=o,o.prototype.className="Wedge",o.prototype._centroid=!0,o.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(o),n.Factory.addGetterSetter(o,"radius",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"angle",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(o,"clockwise",!1),n.Factory.backCompat(o,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Fl}var Ul={},R5;function JO(){if(R5)return Ul;R5=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.Blur=void 0;const n=lt(),e=en(),t=ht();function i(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function l(d,h){const f=d.data,m=d.width,v=d.height;let p,S,y,b,w,D,C,x,R,I,k,_,M,U,B,L,P,A,E,F,G,H,Q,Z;const N=h+h+1,V=m-1,X=v-1,ee=h+1,J=ee*(ee+1)/2,ce=new i,W=a[h],ne=o[h];let se=null,de=ce,ve=null,Te=null;for(y=1;y<N;y++)de=de.next=new i,y===ee&&(se=de);for(de.next=ce,C=D=0,S=0;S<v;S++){for(L=P=A=E=x=R=I=k=0,_=ee*(F=f[D]),M=ee*(G=f[D+1]),U=ee*(H=f[D+2]),B=ee*(Q=f[D+3]),x+=J*F,R+=J*G,I+=J*H,k+=J*Q,de=ce,y=0;y<ee;y++)de.r=F,de.g=G,de.b=H,de.a=Q,de=de.next;for(y=1;y<ee;y++)b=D+((V<y?V:y)<<2),x+=(de.r=F=f[b])*(Z=ee-y),R+=(de.g=G=f[b+1])*Z,I+=(de.b=H=f[b+2])*Z,k+=(de.a=Q=f[b+3])*Z,L+=F,P+=G,A+=H,E+=Q,de=de.next;for(ve=ce,Te=se,p=0;p<m;p++)f[D+3]=Q=k*W>>ne,Q!==0?(Q=255/Q,f[D]=(x*W>>ne)*Q,f[D+1]=(R*W>>ne)*Q,f[D+2]=(I*W>>ne)*Q):f[D]=f[D+1]=f[D+2]=0,x-=_,R-=M,I-=U,k-=B,_-=ve.r,M-=ve.g,U-=ve.b,B-=ve.a,b=C+((b=p+h+1)<V?b:V)<<2,L+=ve.r=f[b],P+=ve.g=f[b+1],A+=ve.b=f[b+2],E+=ve.a=f[b+3],x+=L,R+=P,I+=A,k+=E,ve=ve.next,_+=F=Te.r,M+=G=Te.g,U+=H=Te.b,B+=Q=Te.a,L-=F,P-=G,A-=H,E-=Q,Te=Te.next,D+=4;C+=m}for(p=0;p<m;p++){for(P=A=E=L=R=I=k=x=0,D=p<<2,_=ee*(F=f[D]),M=ee*(G=f[D+1]),U=ee*(H=f[D+2]),B=ee*(Q=f[D+3]),x+=J*F,R+=J*G,I+=J*H,k+=J*Q,de=ce,y=0;y<ee;y++)de.r=F,de.g=G,de.b=H,de.a=Q,de=de.next;for(w=m,y=1;y<=h;y++)D=w+p<<2,x+=(de.r=F=f[D])*(Z=ee-y),R+=(de.g=G=f[D+1])*Z,I+=(de.b=H=f[D+2])*Z,k+=(de.a=Q=f[D+3])*Z,L+=F,P+=G,A+=H,E+=Q,de=de.next,y<X&&(w+=m);for(D=p,ve=ce,Te=se,S=0;S<v;S++)b=D<<2,f[b+3]=Q=k*W>>ne,Q>0?(Q=255/Q,f[b]=(x*W>>ne)*Q,f[b+1]=(R*W>>ne)*Q,f[b+2]=(I*W>>ne)*Q):f[b]=f[b+1]=f[b+2]=0,x-=_,R-=M,I-=U,k-=B,_-=ve.r,M-=ve.g,U-=ve.b,B-=ve.a,b=p+((b=S+ee)<X?b:X)*m<<2,x+=L+=ve.r=f[b],R+=P+=ve.g=f[b+1],I+=A+=ve.b=f[b+2],k+=E+=ve.a=f[b+3],ve=ve.next,_+=F=Te.r,M+=G=Te.g,U+=H=Te.b,B+=Q=Te.a,L-=F,P-=G,A-=H,E-=Q,Te=Te.next,D+=m}}const c=function(h){const f=Math.round(this.blurRadius());f>0&&l(h,f)};return Ul.Blur=c,n.Factory.addGetterSetter(e.Node,"blurRadius",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Ul}var kl={},O5;function eP(){if(O5)return kl;O5=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.Brighten=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=this.brightness()*255,l=a.data,c=l.length;for(let d=0;d<c;d+=4)l[d]+=o,l[d+1]+=o,l[d+2]+=o};return kl.Brighten=i,n.Factory.addGetterSetter(e.Node,"brightness",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),kl}var Nl={},P5;function tP(){if(P5)return Nl;P5=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.Contrast=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=Math.pow((this.contrast()+100)/100,2),l=a.data,c=l.length;let d=150,h=150,f=150;for(let m=0;m<c;m+=4)d=l[m],h=l[m+1],f=l[m+2],d/=255,d-=.5,d*=o,d+=.5,d*=255,h/=255,h-=.5,h*=o,h+=.5,h*=255,f/=255,f-=.5,f*=o,f+=.5,f*=255,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,f=f<0?0:f>255?255:f,l[m]=d,l[m+1]=h,l[m+2]=f};return Nl.Contrast=i,n.Factory.addGetterSetter(e.Node,"contrast",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Nl}var ql={},L5;function nP(){if(L5)return ql;L5=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.Emboss=void 0;const n=lt(),e=en(),t=Wt(),i=ht(),a=function(o){const l=this.embossStrength()*10,c=this.embossWhiteLevel()*255,d=this.embossDirection(),h=this.embossBlend(),f=o.data,m=o.width,v=o.height,p=m*4;let S=0,y=0,b=v;switch(d){case"top-left":S=-1,y=-1;break;case"top":S=-1,y=0;break;case"top-right":S=-1,y=1;break;case"right":S=0,y=1;break;case"bottom-right":S=1,y=1;break;case"bottom":S=1,y=0;break;case"bottom-left":S=1,y=-1;break;case"left":S=0,y=-1;break;default:t.Util.error("Unknown emboss direction: "+d)}do{const w=(b-1)*p;let D=S;b+D<1&&(D=0),b+D>v&&(D=0);const C=(b-1+D)*m*4;let x=m;do{const R=w+(x-1)*4;let I=y;x+I<1&&(I=0),x+I>m&&(I=0);const k=C+(x-1+I)*4,_=f[R]-f[k],M=f[R+1]-f[k+1],U=f[R+2]-f[k+2];let B=_;const L=B>0?B:-B,P=M>0?M:-M,A=U>0?U:-U;if(P>L&&(B=M),A>L&&(B=U),B*=l,h){const E=f[R]+B,F=f[R+1]+B,G=f[R+2]+B;f[R]=E>255?255:E<0?0:E,f[R+1]=F>255?255:F<0?0:F,f[R+2]=G>255?255:G<0?0:G}else{let E=c-B;E<0?E=0:E>255&&(E=255),f[R]=f[R+1]=f[R+2]=E}}while(--x)}while(--b)};return ql.Emboss=a,n.Factory.addGetterSetter(e.Node,"embossStrength",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossWhiteLevel",.5,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossDirection","top-left",void 0,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"embossBlend",!1,void 0,n.Factory.afterSetFilter),ql}var Bl={},I5;function iP(){if(I5)return Bl;I5=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.Enhance=void 0;const n=lt(),e=en(),t=ht();function i(o,l,c,d,h){const f=c-l,m=h-d;if(f===0)return d+m/2;if(m===0)return d;let v=(o-l)/f;return v=m*v+d,v}const a=function(o){const l=o.data,c=l.length;let d=l[0],h=d,f,m=l[1],v=m,p,S=l[2],y=S,b;const w=this.enhance();if(w===0)return;for(let B=0;B<c;B+=4)f=l[B+0],f<d?d=f:f>h&&(h=f),p=l[B+1],p<m?m=p:p>v&&(v=p),b=l[B+2],b<S?S=b:b>y&&(y=b);h===d&&(h=255,d=0),v===m&&(v=255,m=0),y===S&&(y=255,S=0);let D,C,x,R,I,k,_,M,U;w>0?(C=h+w*(255-h),x=d-w*(d-0),I=v+w*(255-v),k=m-w*(m-0),M=y+w*(255-y),U=S-w*(S-0)):(D=(h+d)*.5,C=h+w*(h-D),x=d+w*(d-D),R=(v+m)*.5,I=v+w*(v-R),k=m+w*(m-R),_=(y+S)*.5,M=y+w*(y-_),U=S+w*(S-_));for(let B=0;B<c;B+=4)l[B+0]=i(l[B+0],d,h,x,C),l[B+1]=i(l[B+1],m,v,k,I),l[B+2]=i(l[B+2],S,y,U,M)};return Bl.Enhance=a,n.Factory.addGetterSetter(e.Node,"enhance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Bl}var Gl={},E5;function rP(){if(E5)return Gl;E5=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.Grayscale=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=.34*t[a]+.5*t[a+1]+.16*t[a+2];t[a]=o,t[a+1]=o,t[a+2]=o}};return Gl.Grayscale=n,Gl}var zl={},_5;function aP(){if(_5)return zl;_5=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.HSL=void 0;const n=lt(),e=en(),t=ht();n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"luminance",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter);const i=function(a){const o=a.data,l=o.length,c=1,d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=this.luminance()*127,m=c*d*Math.cos(h*Math.PI/180),v=c*d*Math.sin(h*Math.PI/180),p=.299*c+.701*m+.167*v,S=.587*c-.587*m+.33*v,y=.114*c-.114*m-.497*v,b=.299*c-.299*m-.328*v,w=.587*c+.413*m+.035*v,D=.114*c-.114*m+.293*v,C=.299*c-.3*m+1.25*v,x=.587*c-.586*m-1.05*v,R=.114*c+.886*m-.2*v;let I,k,_,M;for(let U=0;U<l;U+=4)I=o[U+0],k=o[U+1],_=o[U+2],M=o[U+3],o[U+0]=p*I+S*k+y*_+f,o[U+1]=b*I+w*k+D*_+f,o[U+2]=C*I+x*k+R*_+f,o[U+3]=M};return zl.HSL=i,zl}var Vl={},M5;function oP(){if(M5)return Vl;M5=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.HSV=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=a.data,l=o.length,c=Math.pow(2,this.value()),d=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,f=c*d*Math.cos(h*Math.PI/180),m=c*d*Math.sin(h*Math.PI/180),v=.299*c+.701*f+.167*m,p=.587*c-.587*f+.33*m,S=.114*c-.114*f-.497*m,y=.299*c-.299*f-.328*m,b=.587*c+.413*f+.035*m,w=.114*c-.114*f+.293*m,D=.299*c-.3*f+1.25*m,C=.587*c-.586*f-1.05*m,x=.114*c+.886*f-.2*m;let R,I,k,_;for(let M=0;M<l;M+=4)R=o[M+0],I=o[M+1],k=o[M+2],_=o[M+3],o[M+0]=v*R+p*I+S*k,o[M+1]=y*R+b*I+w*k,o[M+2]=D*R+C*I+x*k,o[M+3]=_};return Vl.HSV=i,n.Factory.addGetterSetter(e.Node,"hue",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"saturation",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"value",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Vl}var Ql={},F5;function sP(){if(F5)return Ql;F5=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.Invert=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]};return Ql.Invert=n,Ql}var Hl={},U5;function lP(){if(U5)return Hl;U5=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.Kaleidoscope=void 0;const n=lt(),e=en(),t=Wt(),i=ht(),a=function(c,d,h){const f=c.data,m=d.data,v=c.width,p=c.height,S=h.polarCenterX||v/2,y=h.polarCenterY||p/2;let b=Math.sqrt(S*S+y*y),w=v-S,D=p-y;const C=Math.sqrt(w*w+D*D);b=C>b?C:b;const x=p,R=v,I=360/R*Math.PI/180;for(let k=0;k<R;k+=1){const _=Math.sin(k*I),M=Math.cos(k*I);for(let U=0;U<x;U+=1){w=Math.floor(S+b*U/x*M),D=Math.floor(y+b*U/x*_);let B=(D*v+w)*4;const L=f[B+0],P=f[B+1],A=f[B+2],E=f[B+3];B=(k+U*v)*4,m[B+0]=L,m[B+1]=P,m[B+2]=A,m[B+3]=E}}},o=function(c,d,h){const f=c.data,m=d.data,v=c.width,p=c.height,S=h.polarCenterX||v/2,y=h.polarCenterY||p/2;let b=Math.sqrt(S*S+y*y),w=v-S,D=p-y;const C=Math.sqrt(w*w+D*D);b=C>b?C:b;const x=p,R=v,I=0;let k,_;for(w=0;w<v;w+=1)for(D=0;D<p;D+=1){const M=w-S,U=D-y,B=Math.sqrt(M*M+U*U)*x/b;let L=(Math.atan2(U,M)*180/Math.PI+360+I)%360;L=L*R/360,k=Math.floor(L),_=Math.floor(B);let P=(_*v+k)*4;const A=f[P+0],E=f[P+1],F=f[P+2],G=f[P+3];P=(D*v+w)*4,m[P+0]=A,m[P+1]=E,m[P+2]=F,m[P+3]=G}},l=function(c){const d=c.width,h=c.height;let f,m,v,p,S,y,b,w,D,C,x=Math.round(this.kaleidoscopePower());const R=Math.round(this.kaleidoscopeAngle()),I=Math.floor(d*(R%360)/360);if(x<1)return;const k=t.Util.createCanvasElement();k.width=d,k.height=h;const _=k.getContext("2d").getImageData(0,0,d,h);t.Util.releaseCanvas(k),a(c,_,{polarCenterX:d/2,polarCenterY:h/2});let M=d/Math.pow(2,x);for(;M<=8;)M=M*2,x-=1;M=Math.ceil(M);let U=M,B=0,L=U,P=1;for(I+M>d&&(B=U,L=0,P=-1),m=0;m<h;m+=1)for(f=B;f!==L;f+=P)v=Math.round(f+I)%d,D=(d*m+v)*4,S=_.data[D+0],y=_.data[D+1],b=_.data[D+2],w=_.data[D+3],C=(d*m+f)*4,_.data[C+0]=S,_.data[C+1]=y,_.data[C+2]=b,_.data[C+3]=w;for(m=0;m<h;m+=1)for(U=Math.floor(M),p=0;p<x;p+=1){for(f=0;f<U+1;f+=1)D=(d*m+f)*4,S=_.data[D+0],y=_.data[D+1],b=_.data[D+2],w=_.data[D+3],C=(d*m+U*2-f-1)*4,_.data[C+0]=S,_.data[C+1]=y,_.data[C+2]=b,_.data[C+3]=w;U*=2}o(_,c,{})};return Hl.Kaleidoscope=l,n.Factory.addGetterSetter(e.Node,"kaleidoscopePower",2,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"kaleidoscopeAngle",0,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),Hl}var jl={},k5;function cP(){if(k5)return jl;k5=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.Mask=void 0;const n=lt(),e=en(),t=ht();function i(v,p,S){let y=(S*v.width+p)*4;const b=[];return b.push(v.data[y++],v.data[y++],v.data[y++],v.data[y++]),b}function a(v,p){return Math.sqrt(Math.pow(v[0]-p[0],2)+Math.pow(v[1]-p[1],2)+Math.pow(v[2]-p[2],2))}function o(v){const p=[0,0,0];for(let S=0;S<v.length;S++)p[0]+=v[S][0],p[1]+=v[S][1],p[2]+=v[S][2];return p[0]/=v.length,p[1]/=v.length,p[2]/=v.length,p}function l(v,p){const S=i(v,0,0),y=i(v,v.width-1,0),b=i(v,0,v.height-1),w=i(v,v.width-1,v.height-1),D=p||10;if(a(S,y)<D&&a(y,w)<D&&a(w,b)<D&&a(b,S)<D){const C=o([y,S,w,b]),x=[];for(let R=0;R<v.width*v.height;R++){const I=a(C,[v.data[R*4],v.data[R*4+1],v.data[R*4+2]]);x[R]=I<D?0:255}return x}}function c(v,p){for(let S=0;S<v.width*v.height;S++)v.data[4*S+3]=p[S]}function d(v,p,S){const y=[1,1,1,1,0,1,1,1,1],b=Math.round(Math.sqrt(y.length)),w=Math.floor(b/2),D=[];for(let C=0;C<S;C++)for(let x=0;x<p;x++){const R=C*p+x;let I=0;for(let k=0;k<b;k++)for(let _=0;_<b;_++){const M=C+k-w,U=x+_-w;if(M>=0&&M<S&&U>=0&&U<p){const B=M*p+U,L=y[k*b+_];I+=v[B]*L}}D[R]=I===255*8?255:0}return D}function h(v,p,S){const y=[1,1,1,1,1,1,1,1,1],b=Math.round(Math.sqrt(y.length)),w=Math.floor(b/2),D=[];for(let C=0;C<S;C++)for(let x=0;x<p;x++){const R=C*p+x;let I=0;for(let k=0;k<b;k++)for(let _=0;_<b;_++){const M=C+k-w,U=x+_-w;if(M>=0&&M<S&&U>=0&&U<p){const B=M*p+U,L=y[k*b+_];I+=v[B]*L}}D[R]=I>=255*4?255:0}return D}function f(v,p,S){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],b=Math.round(Math.sqrt(y.length)),w=Math.floor(b/2),D=[];for(let C=0;C<S;C++)for(let x=0;x<p;x++){const R=C*p+x;let I=0;for(let k=0;k<b;k++)for(let _=0;_<b;_++){const M=C+k-w,U=x+_-w;if(M>=0&&M<S&&U>=0&&U<p){const B=M*p+U,L=y[k*b+_];I+=v[B]*L}}D[R]=I}return D}const m=function(v){const p=this.threshold();let S=l(v,p);return S&&(S=d(S,v.width,v.height),S=h(S,v.width,v.height),S=f(S,v.width,v.height),c(v,S)),v};return jl.Mask=m,n.Factory.addGetterSetter(e.Node,"threshold",0,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),jl}var Yl={},N5;function uP(){if(N5)return Yl;N5=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.Noise=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=this.noise()*255,l=a.data,c=l.length,d=o/2;for(let h=0;h<c;h+=4)l[h+0]+=d-2*d*Math.random(),l[h+1]+=d-2*d*Math.random(),l[h+2]+=d-2*d*Math.random()};return Yl.Noise=i,n.Factory.addGetterSetter(e.Node,"noise",.2,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Yl}var Xl={},q5;function dP(){if(q5)return Xl;q5=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.Pixelate=void 0;const n=lt(),e=Wt(),t=en(),i=ht(),a=function(o){let l=Math.ceil(this.pixelSize()),c=o.width,d=o.height,h,f,m,v,p,S,y,b=Math.ceil(c/l),w=Math.ceil(d/l),D,C,x,R,I,k,_,M=o.data;if(l<=0){e.Util.error("pixelSize value can not be <= 0");return}for(I=0;I<b;I+=1)for(k=0;k<w;k+=1){for(v=0,p=0,S=0,y=0,D=I*l,C=D+l,x=k*l,R=x+l,_=0,h=D;h<C;h+=1)if(!(h>=c))for(f=x;f<R;f+=1)f>=d||(m=(c*f+h)*4,v+=M[m+0],p+=M[m+1],S+=M[m+2],y+=M[m+3],_+=1);for(v=v/_,p=p/_,S=S/_,y=y/_,h=D;h<C;h+=1)if(!(h>=c))for(f=x;f<R;f+=1)f>=d||(m=(c*f+h)*4,M[m+0]=v,M[m+1]=p,M[m+2]=S,M[m+3]=y)}};return Xl.Pixelate=a,n.Factory.addGetterSetter(t.Node,"pixelSize",8,(0,i.getNumberValidator)(),n.Factory.afterSetFilter),Xl}var Wl={},B5;function hP(){if(B5)return Wl;B5=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.Posterize=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=Math.round(this.levels()*254)+1,l=a.data,c=l.length,d=255/o;for(let h=0;h<c;h+=1)l[h]=Math.floor(l[h]/d)*d};return Wl.Posterize=i,n.Factory.addGetterSetter(e.Node,"levels",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),Wl}var $l={},G5;function fP(){if(G5)return $l;G5=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.RGB=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=a.data,l=o.length,c=this.red(),d=this.green(),h=this.blue();for(let f=0;f<l;f+=4){const m=(.34*o[f]+.5*o[f+1]+.16*o[f+2])/255;o[f]=m*c,o[f+1]=m*d,o[f+2]=m*h,o[f+3]=o[f+3]}};return $l.RGB=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),$l}var Kl={},z5;function gP(){if(z5)return Kl;z5=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.RGBA=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=a.data,l=o.length,c=this.red(),d=this.green(),h=this.blue(),f=this.alpha();for(let m=0;m<l;m+=4){const v=1-f;o[m]=c*f+o[m]*v,o[m+1]=d*f+o[m+1]*v,o[m+2]=h*f+o[m+2]*v}};return Kl.RGBA=i,n.Factory.addGetterSetter(e.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),n.Factory.addGetterSetter(e.Node,"blue",0,t.RGBComponent,n.Factory.afterSetFilter),n.Factory.addGetterSetter(e.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),Kl}var Zl={},V5;function pP(){if(V5)return Zl;V5=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.Sepia=void 0;const n=function(e){const t=e.data,i=t.length;for(let a=0;a<i;a+=4){const o=t[a+0],l=t[a+1],c=t[a+2];t[a+0]=Math.min(255,o*.393+l*.769+c*.189),t[a+1]=Math.min(255,o*.349+l*.686+c*.168),t[a+2]=Math.min(255,o*.272+l*.534+c*.131)}};return Zl.Sepia=n,Zl}var Jl={},Q5;function mP(){if(Q5)return Jl;Q5=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.Solarize=void 0;const n=function(e){const t=e.data,i=e.width,a=e.height,o=i*4;let l=a;do{const c=(l-1)*o;let d=i;do{const h=c+(d-1)*4;let f=t[h],m=t[h+1],v=t[h+2];f>127&&(f=255-f),m>127&&(m=255-m),v>127&&(v=255-v),t[h]=f,t[h+1]=m,t[h+2]=v}while(--d)}while(--l)};return Jl.Solarize=n,Jl}var ec={},H5;function SP(){if(H5)return ec;H5=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Threshold=void 0;const n=lt(),e=en(),t=ht(),i=function(a){const o=this.threshold()*255,l=a.data,c=l.length;for(let d=0;d<c;d+=1)l[d]=l[d]<o?0:255};return ec.Threshold=i,n.Factory.addGetterSetter(e.Node,"threshold",.5,(0,t.getNumberValidator)(),n.Factory.afterSetFilter),ec}var j5;function yP(){if(j5)return gl;j5=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.Konva=void 0;const n=NO(),e=qO(),t=GO(),i=zO(),a=VO(),o=QO(),l=HO(),c=o3(),d=op(),h=s3(),f=jO(),m=YO(),v=XO(),p=WO(),S=l3(),y=$O(),b=KO(),w=ZO(),D=JO(),C=eP(),x=tP(),R=nP(),I=iP(),k=rP(),_=aP(),M=oP(),U=sP(),B=lP(),L=cP(),P=uP(),A=dP(),E=hP(),F=fP(),G=gP(),H=pP(),Q=mP(),Z=SP();return gl.Konva=n.Konva.Util._assign(n.Konva,{Arc:e.Arc,Arrow:t.Arrow,Circle:i.Circle,Ellipse:a.Ellipse,Image:o.Image,Label:l.Label,Tag:l.Tag,Line:c.Line,Path:d.Path,Rect:h.Rect,RegularPolygon:f.RegularPolygon,Ring:m.Ring,Sprite:v.Sprite,Star:p.Star,Text:S.Text,TextPath:y.TextPath,Transformer:b.Transformer,Wedge:w.Wedge,Filters:{Blur:D.Blur,Brighten:C.Brighten,Contrast:x.Contrast,Emboss:R.Emboss,Enhance:I.Enhance,Grayscale:k.Grayscale,HSL:_.HSL,HSV:M.HSV,Invert:U.Invert,Kaleidoscope:B.Kaleidoscope,Mask:L.Mask,Noise:P.Noise,Pixelate:A.Pixelate,Posterize:E.Posterize,RGB:F.RGB,RGBA:G.RGBA,Sepia:H.Sepia,Solarize:Q.Solarize,Threshold:Z.Threshold}}),gl}var vP=I0.exports,Y5;function bP(){if(Y5)return I0.exports;Y5=1,Object.defineProperty(vP,"__esModule",{value:!0});const n=yP();return I0.exports=n.Konva,I0.exports}var CP=bP();const DP=Pc(CP);var S1={exports:{}};/*
 Magic wand tool (fuzzy selection) by color

 @package magic-wand-tool
 @author Ryasnoy Paul <ryasnoypaul@gmail.com>
 @version 1.1.7
 @license MIT
 @copyright (c) 2014-2020, Ryasnoy Paul <ryasnoypaul@gmail.com>

*/var X5;function TP(){return X5||(X5=1,function(n){var e=function(){var t={};t.floodFill=function(c,d,h,f,m,v){return v?a(c,d,h,f,m):i(c,d,h,f,m)};function i(c,d,h,f,m){var v,p,S,y,b,w,D,C,x,R,I=c.data,k=c.width,_=c.height,M=c.bytes,U=-1,B=k+1,L=-1,P=_+1,A=h*k+d,E=new Uint8Array(k*_),F=new Uint8Array(m||k*_);if(F[A]===1)return null;A=A*M;var G=[I[A],I[A+1],I[A+2],I[A+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),R=!1,p=y.left+1;p<y.right;p++)if(D=y.y*k,A=(D+p)*M,F[D+p]!==1&&(v=I[A]-G[0],!(v>f||v<-f)&&(v=I[A+1]-G[1],!(v>f||v<-f)&&(v=I[A+2]-G[2],!(v>f||v<-f))))){for(R=!0,E[D+p]=1,F[D+p]=1,w=p-1;w>-1&&(C=D+w,A=C*M,!(F[C]===1||(v=I[A]-G[0],v>f||v<-f)||(v=I[A+1]-G[1],v>f||v<-f)||(v=I[A+2]-G[2],v>f||v<-f)));)E[C]=1,F[C]=1,w--;for(b=p+1;b<k&&(x=D+b,A=x*M,!(F[x]===1||(v=I[A]-G[0],v>f||v<-f)||(v=I[A+1]-G[1],v>f||v<-f)||(v=I[A+2]-G[2],v>f||v<-f)));)E[x]=1,F[x]=1,b++;w<B&&(B=w+1),b>U&&(U=b-1),S=y.y-y.dir,S>=0&&S<_&&(w<y.left&&H.push({y:S,left:w,right:y.left,dir:-y.dir}),y.right<b&&H.push({y:S,left:y.right,right:b,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<_&&w<b&&H.push({y:S,left:w,right:b,dir:y.dir})}R&&(y.y<P&&(P=y.y),y.y>L&&(L=y.y))}while(H.length>0);return{data:E,width:c.width,height:c.height,bounds:{minX:B,minY:P,maxX:U,maxY:L}}}function a(c,d,h,f,m){var v,p,S,y,b,w,D,C,x,R,I=c.data,k=c.width,_=c.height,M=c.bytes,U=-1,B=k+1,L=-1,P=_+1,A=h*k+d,E=new Uint8Array(k*_),F=new Uint8Array(m||k*_);if(F[A]===1)return null;A=A*M;var G=[I[A],I[A+1],I[A+2],I[A+3]],H=[{y:h,left:d-1,right:d+1,dir:1}];do{for(y=H.shift(),R=!1,p=y.left+1;p<y.right;p++)if(D=y.y*k,A=(D+p)*M,F[D+p]!==1&&(R=!0,E[D+p]=1,F[D+p]=1,v=I[A]-G[0],!(v>f||v<-f)&&(v=I[A+1]-G[1],!(v>f||v<-f)&&(v=I[A+2]-G[2],!(v>f||v<-f))))){for(w=p-1;w>-1&&(C=D+w,A=C*M,!(F[C]===1||(E[C]=1,F[C]=1,w--,v=I[A]-G[0],v>f||v<-f)||(v=I[A+1]-G[1],v>f||v<-f)||(v=I[A+2]-G[2],v>f||v<-f))););for(b=p+1;b<k&&(x=D+b,A=x*M,!(F[x]===1||(E[x]=1,F[x]=1,b++,v=I[A]-G[0],v>f||v<-f)||(v=I[A+1]-G[1],v>f||v<-f)||(v=I[A+2]-G[2],v>f||v<-f))););w<B&&(B=w+1),b>U&&(U=b-1),S=y.y-y.dir,S>=0&&S<_&&(w<y.left&&H.push({y:S,left:w,right:y.left,dir:-y.dir}),y.right<b&&H.push({y:S,left:y.right,right:b,dir:-y.dir})),S=y.y+y.dir,S>=0&&S<_&&w<b&&H.push({y:S,left:w,right:b,dir:y.dir})}R&&(y.y<P&&(P=y.y),y.y>L&&(L=y.y))}while(H.length>0);return{data:E,width:c.width,height:c.height,bounds:{minX:B,minY:P,maxX:U,maxY:L}}}t.gaussBlur=function(c,d){var h,f,m,v,p,S,y,b,w=d*2+1,D=d*d,C=new Float32Array(w),x=0,R=c.width,I=c.height,k=c.data,_=c.bounds.minX,M=c.bounds.maxX,U=c.bounds.minY,B=c.bounds.maxY;for(h=0;h<d;h++){var L=(d-h)*(d-h),P=Math.exp(-L/(2*D))/(2*Math.PI*D);C[d+h]=C[d-h]=P,x+=2*P}for(h=0;h<w;h++)C[h]/=x;var A=new Uint8Array(R*I),E=d+R,F=d+I;for(p=U;p<B+1;p++)for(v=_;v<M+1;v++){for(S=0,f=p*R+v,y=d-v>0?d-v:0,b=E-v<w?E-v:w,m=f-d,h=y;h<b;h++)S+=k[m+h]*C[h];for(y=d-p>0?d-p:0,b=F-p<w?F-p:w,m=f-d*R,h=y;h<b;h++)S+=k[m+h*R]*C[h];A[f]=S>.5?1:0}return{data:A,width:R,height:I,bounds:{minX:_,minY:U,maxX:M,maxY:B}}};function o(c,d,h){var f,m,v,p,S,y,b,w=c.width,D=c.height,C=c.data,x=new Uint8Array(C),R=c.bounds.minX,I=c.bounds.maxX,k=c.bounds.minY,_=c.bounds.maxY,M=w*D,U=new Uint8Array(M),B=[],L=Math.max(R,1),P=Math.min(I,w-2),A=Math.max(k,1),E=Math.min(_,D-2);if(h&&h.length>0)for(S=0;S<M;S++)h[S]===1&&(x[S]=1);for(p=A;p<E+1;p++)for(f=L;f<P+1;f++)S=p*w+f,C[S]!==0&&(y=S+w,b=S-w,(x[S+1]===0||x[S-1]===0||x[y]===0||x[y+1]===0||x[y-1]===0||x[b]===0||x[b+1]===0||x[b-1]===0)&&B.push(S));if(R==0)for(p=k;p<_+1;p++)C[p*w]===1&&B.push(p*w);if(I==w-1)for(p=k;p<_+1;p++)C[p*w+I]===1&&B.push(p*w+I);if(k==0)for(f=R;f<I+1;f++)C[f]===1&&B.push(f);if(_==D-1)for(f=R;f<I+1;f++)C[_*w+f]===1&&B.push(_*w+f);var F=[],G,H,Q=d+w,Z=d+D,N=d*2+1;for(M=B.length,v=0;v<M;v++){for(S=B[v],U[S]=1,F.push(S),f=S%w,p=(S-f)/w,G=d-f>0?d-f:0,H=Q-f<N?Q-f:N,y=S-d,m=G;m<H;m++)b=y+m,U[b]===0&&(U[b]=1,F.push(b));for(G=d-p>0?d-p:0,H=Z-p<N?Z-p:N,y=S-d*w,m=G;m<H;m++)b=y+m*w,U[b]===0&&(U[b]=1,F.push(b))}return F}t.gaussBlurOnlyBorder=function(c,d,h){var f=o(c,d,h),m,v,p,S,y,b,w,D,C,x,R,I=d*2+1,k=2*d*d,_=new Float32Array(I),M=0,U=c.width,B=c.height,L=c.data,P=c.bounds.minX,A=c.bounds.maxX,E=c.bounds.minY,F=c.bounds.maxY,G=f.length;for(p=0;p<d;p++)v=(d-p)*(d-p),m=Math.exp(-v/k)/Math.PI,_[d+p]=_[d-p]=m,M+=2*m;for(p=0;p<I;p++)_[p]/=M;var H=new Uint8Array(L),Q=d+U,Z=d+B;for(p=0;p<G;p++){for(y=f[p],C=0,w=y%U,D=(y-w)/U,x=d-w>0?d-w:0,R=Q-w<I?Q-w:I,b=y-d,S=x;S<R;S++)C+=L[b+S]*_[S];if(C>.5){H[y]=1,w<P&&(P=w),w>A&&(A=w),D<E&&(E=D),D>F&&(F=D);continue}for(x=d-D>0?d-D:0,R=Z-D<I?Z-D:I,b=y-d*U,S=x;S<R;S++)C+=L[b+S*U]*_[S];C>.5?(H[y]=1,w<P&&(P=w),w>A&&(A=w),D<E&&(E=D),D>F&&(F=D)):H[y]=0}return{data:H,width:U,height:B,bounds:{minX:P,minY:E,maxX:A,maxY:F}}},t.createBorderMask=function(c){var d,h,f,m,v,p=c.width,S=c.height,y=c.data,b=c.bounds.minX,w=c.bounds.maxX,D=c.bounds.minY,C=c.bounds.maxY,x=w-b+1,R=C-D+1,I=new Uint8Array(x*R),k=Math.max(b,1),_=Math.min(w,p-2),M=Math.max(D,1),U=Math.min(C,S-2);for(h=M;h<U+1;h++)for(d=k;d<_+1;d++)f=h*p+d,y[f]!==0&&(m=f+p,v=f-p,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&(I[(h-D)*x+(d-b)]=1));if(b==0)for(h=D;h<C+1;h++)y[h*p]===1&&(I[(h-D)*x]=1);if(w==p-1)for(h=D;h<C+1;h++)y[h*p+w]===1&&(I[(h-D)*x+(w-b)]=1);if(D==0)for(d=b;d<w+1;d++)y[d]===1&&(I[d-b]=1);if(C==S-1)for(d=b;d<w+1;d++)y[C*p+d]===1&&(I[(C-D)*x+(d-b)]=1);return{data:I,width:x,height:R,offset:{x:b,y:D}}},t.getBorderIndices=function(c){var d,h,f,m,v,p=c.width,S=c.height,y=c.data,b=[],w=p-1,D=S-1;for(h=1;h<D;h++)for(d=1;d<w;d++)f=h*p+d,y[f]!==0&&(m=f+p,v=f-p,(y[f+1]===0||y[f-1]===0||y[m]===0||y[m+1]===0||y[m-1]===0||y[v]===0||y[v+1]===0||y[v-1]===0)&&b.push(f));for(h=0;h<S;h++)y[h*p]===1&&b.push(h*p);for(d=0;d<p;d++)y[d]===1&&b.push(d);for(f=p-1,h=0;h<S;h++)y[h*p+f]===1&&b.push(h*p+f);for(f=(S-1)*p,d=0;d<p;d++)y[f+d]===1&&b.push(f+d);return b};function l(c){var d,h,f=c.width,m=c.data,v=c.bounds.minX,p=c.bounds.maxX,S=c.bounds.minY,y=c.bounds.maxY,b=p-v+3,w=y-S+3,D=new Uint8Array(b*w);for(h=S;h<y+1;h++)for(d=v;d<p+1;d++)m[h*f+d]===1&&(D[(h-S+1)*b+(d-v+1)]=1);return{data:D,width:b,height:w,offset:{x:v-1,y:S-1}}}return t.traceContours=function(c){var d=l(c),h=[],f=0,m=d.width,v=m*2,p=d.height,S=d.data,y=d.offset.x,b=d.offset.y,w=new Uint8Array(S),D,C,x,R,I,k,_,M,U,B,L,P,A,E,F,G=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];for(R=1;R<p-1;R++)for(x=1;x<m-1;x++)if(I=R*m+x,S[I]===1){for(D=-m;D<v;D+=v)if(S[I+D]===0&&w[I+D]===0){for(M=D===m,f++,_=[],U=M?2:6,P=A=B={x,y:R},L=null;;){for(w[P.y*m+P.x]=f,C=0;C<8;C++){if(U=(U+1)%8,F=G[U],E={x:P.x+F[0],y:P.y+F[1]},k=E.y*m+E.x,S[k]===1){w[k]=f;break}w[k]=-1,E=null}if(E===null)break;if(P=E,L){if(A.x===B.x&&A.y===B.y&&P.x===L.x&&P.y===L.y)break}else L=E;_.push({x:A.x+y,y:A.y+b}),A=P,U=(U+4)%8}E!=null&&(_.push({x:B.x+y,y:B.y+b}),h.push({inner:M,label:f,points:_}))}}return h},t.simplifyContours=function(c,d,h){var f=c.length,m=[],v,p,S,y,b,w,D,C,x,R,I,k,_,M,U,B,L,P,A,E,F;for(p=0;p<f;p++){if(y=c[p],b=y.points,w=y.points.length,w<h){for(D=[],S=0;S<w;S++)D.push({x:b[S].x,y:b[S].y});m.push({inner:y.inner,label:y.label,points:D,initialCount:w});continue}C=[0,w-1],x=[{first:0,last:w-1}];do if(R=x.shift(),!(R.last<=R.first+1)){for(I=-1,k=R.first,v=R.first+1;v<R.last;v++)A=b[v],E=b[R.first],F=b[R.last],L=A.x-E.x,P=A.y-E.y,M=Math.sqrt(L*L+P*P),L=A.x-F.x,P=A.y-F.y,U=Math.sqrt(L*L+P*P),L=E.x-F.x,P=E.y-F.y,B=Math.sqrt(L*L+P*P),M>=Math.sqrt(U*U+B*B)?_=U:U>=Math.sqrt(M*M+B*B)?_=M:_=Math.abs((P*A.x-L*A.y+E.x*F.y-F.x*E.y)/B),_>I&&(k=v,I=_);I>d&&(C.push(k),x.push({first:R.first,last:k}),x.push({first:k,last:R.last}))}while(x.length>0);for(D=[],w=C.length,C.sort(function(G,H){return G-H}),S=0;S<w;S++)D.push({x:b[C[S]].x,y:b[C[S]].y});m.push({inner:y.inner,label:y.label,points:D,initialCount:y.points.length})}return m},t}();n!==null&&(n.exports=e),typeof window<"u"&&window!==null&&(window.MagicWand=e)}(S1)),S1.exports}var wP=TP();const xP=Pc(wP);function u0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var y1={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var W5;function AP(){return W5||(W5=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(i,a,o){function l(h,f){if(!a[h]){if(!i[h]){var m=typeof u0=="function"&&u0;if(!f&&m)return m(h,!0);if(c)return c(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var p=a[h]={exports:{}};i[h][0].call(p.exports,function(S){var y=i[h][1][S];return l(y||S)},p,p.exports,t,i,a,o)}return a[h].exports}for(var c=typeof u0=="function"&&u0,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(t,i,a){var o=t("./utils"),l=t("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,f,m,v,p,S,y,b=[],w=0,D=d.length,C=D,x=o.getTypeOf(d)!=="string";w<d.length;)C=D-w,m=x?(h=d[w++],f=w<D?d[w++]:0,w<D?d[w++]:0):(h=d.charCodeAt(w++),f=w<D?d.charCodeAt(w++):0,w<D?d.charCodeAt(w++):0),v=h>>2,p=(3&h)<<4|f>>4,S=1<C?(15&f)<<2|m>>6:64,y=2<C?63&m:64,b.push(c.charAt(v)+c.charAt(p)+c.charAt(S)+c.charAt(y));return b.join("")},a.decode=function(d){var h,f,m,v,p,S,y=0,b=0,w="data:";if(d.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var D,C=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&C--,d.charAt(d.length-2)===c.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=l.uint8array?new Uint8Array(0|C):new Array(0|C);y<d.length;)h=c.indexOf(d.charAt(y++))<<2|(v=c.indexOf(d.charAt(y++)))>>4,f=(15&v)<<4|(p=c.indexOf(d.charAt(y++)))>>2,m=(3&p)<<6|(S=c.indexOf(d.charAt(y++))),D[b++]=h,p!==64&&(D[b++]=f),S!==64&&(D[b++]=m);return D}},{"./support":30,"./utils":32}],2:[function(t,i,a){var o=t("./external"),l=t("./stream/DataWorker"),c=t("./stream/Crc32Probe"),d=t("./stream/DataLengthProbe");function h(f,m,v,p,S){this.compressedSize=f,this.uncompressedSize=m,this.crc32=v,this.compression=p,this.compressedContent=S}h.prototype={getContentWorker:function(){var f=new l(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return f.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,m,v){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(m.compressWorker(v)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,a){var o=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,a){var o=t("./utils"),l=function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d}();i.exports=function(c,d){return c!==void 0&&c.length?o.getTypeOf(c)!=="string"?function(h,f,m,v){var p=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^p[255&(h^f[y])];return-1^h}(0|d,c,c.length,0):function(h,f,m,v){var p=l,S=v+m;h^=-1;for(var y=v;y<S;y++)h=h>>>8^p[255&(h^f.charCodeAt(y))];return-1^h}(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(t,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,i,a){var o=null;o=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:o}},{lie:37}],7:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),c=t("./utils"),d=t("./stream/GenericWorker"),h=o?"uint8array":"array";function f(m,v){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=v,this.meta={}}a.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,m.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(v){m.push({data:v,meta:m.meta})}},a.compressWorker=function(m){return new f("Deflate",m)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,a){function o(p,S){var y,b="";for(y=0;y<S;y++)b+=String.fromCharCode(255&p),p>>>=8;return b}function l(p,S,y,b,w,D){var C,x,R=p.file,I=p.compression,k=D!==h.utf8encode,_=c.transformTo("string",D(R.name)),M=c.transformTo("string",h.utf8encode(R.name)),U=R.comment,B=c.transformTo("string",D(U)),L=c.transformTo("string",h.utf8encode(U)),P=M.length!==R.name.length,A=L.length!==U.length,E="",F="",G="",H=R.dir,Q=R.date,Z={crc32:0,compressedSize:0,uncompressedSize:0};S&&!y||(Z.crc32=p.crc32,Z.compressedSize=p.compressedSize,Z.uncompressedSize=p.uncompressedSize);var N=0;S&&(N|=8),k||!P&&!A||(N|=2048);var V=0,X=0;H&&(V|=16),w==="UNIX"?(X=798,V|=function(J,ce){var W=J;return J||(W=ce?16893:33204),(65535&W)<<16}(R.unixPermissions,H)):(X=20,V|=function(J){return 63&(J||0)}(R.dosPermissions)),C=Q.getUTCHours(),C<<=6,C|=Q.getUTCMinutes(),C<<=5,C|=Q.getUTCSeconds()/2,x=Q.getUTCFullYear()-1980,x<<=4,x|=Q.getUTCMonth()+1,x<<=5,x|=Q.getUTCDate(),P&&(F=o(1,1)+o(f(_),4)+M,E+="up"+o(F.length,2)+F),A&&(G=o(1,1)+o(f(B),4)+L,E+="uc"+o(G.length,2)+G);var ee="";return ee+=`
\0`,ee+=o(N,2),ee+=I.magic,ee+=o(C,2),ee+=o(x,2),ee+=o(Z.crc32,4),ee+=o(Z.compressedSize,4),ee+=o(Z.uncompressedSize,4),ee+=o(_.length,2),ee+=o(E.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ee+_+E,dirRecord:m.CENTRAL_FILE_HEADER+o(X,2)+ee+o(B.length,2)+"\0\0\0\0"+o(V,4)+o(b,4)+_+E+B}}var c=t("../utils"),d=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),m=t("../signature");function v(p,S,y,b){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=S,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(v,d),v.prototype.push=function(p){var S=p.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,d.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(S+100*(y-b-1))/y:100}}))},v.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var S=this.streamFiles&&!p.file.dir;if(S){var y=l(p,S,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(p){this.accumulate=!1;var S=this.streamFiles&&!p.file.dir,y=l(p,S,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),S)this.push({data:function(b){return m.DATA_DESCRIPTOR+o(b.crc32,4)+o(b.compressedSize,4)+o(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var p=this.bytesWritten,S=0;S<this.dirRecords.length;S++)this.push({data:this.dirRecords[S],meta:{percent:100}});var y=this.bytesWritten-p,b=function(w,D,C,x,R){var I=c.transformTo("string",R(x));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(w,2)+o(w,2)+o(D,4)+o(C,4)+o(I.length,2)+I}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(p){this._sources.push(p);var S=this;return p.on("data",function(y){S.processChunk(y)}),p.on("end",function(){S.closedSource(S.previous.streamInfo),S._sources.length?S.prepareNextSource():S.end()}),p.on("error",function(y){S.error(y)}),this},v.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(p){var S=this._sources;if(!d.prototype.error.call(this,p))return!1;for(var y=0;y<S.length;y++)try{S[y].error(p)}catch{}return!0},v.prototype.lock=function(){d.prototype.lock.call(this);for(var p=this._sources,S=0;S<p.length;S++)p[S].lock()},i.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,a){var o=t("../compressions"),l=t("./ZipFileWorker");a.generateWorker=function(c,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),m=0;try{c.forEach(function(v,p){m++;var S=function(D,C){var x=D||C,R=o[x];if(!R)throw new Error(x+" is not a valid compression method !");return R}(p.options.compression,d.compression),y=p.options.compressionOptions||d.compressionOptions||{},b=p.dir,w=p.date;p._compressWorker(S,y).withStreamInfo("file",{name:v,dir:b,date:w,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(v){f.error(v)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,a){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new o;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(o.prototype=t("./object")).loadAsync=t("./load"),o.support=t("./support"),o.defaults=t("./defaults"),o.version="3.10.1",o.loadAsync=function(l,c){return new o().loadAsync(l,c)},o.external=t("./external"),i.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,a){var o=t("./utils"),l=t("./external"),c=t("./utf8"),d=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function m(v){return new l.Promise(function(p,S){var y=v.decompressed.getContentWorker().pipe(new h);y.on("error",function(b){S(b)}).on("end",function(){y.streamInfo.crc32!==v.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}i.exports=function(v,p){var S=this;return p=o.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(v)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",v,!0,p.optimizedBinaryString,p.base64).then(function(y){var b=new d(p);return b.load(y),b}).then(function(y){var b=[l.Promise.resolve(y)],w=y.files;if(p.checkCRC32)for(var D=0;D<w.length;D++)b.push(m(w[D]));return l.Promise.all(b)}).then(function(y){for(var b=y.shift(),w=b.files,D=0;D<w.length;D++){var C=w[D],x=C.fileNameStr,R=o.resolve(C.fileNameStr);S.file(R,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:p.createFolders}),C.dir||(S.file(R).unsafeOriginalName=x)}return b.zipComment.length&&(S.comment=b.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,a){var o=t("../utils"),l=t("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}o.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,a){var o=t("readable-stream").Readable;function l(c,d,h){o.call(this,d),this._helper=c;var f=this;c.on("data",function(m,v){f.push(m)||f._helper.pause(),h&&h(v)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}t("../utils").inherits(l,o),l.prototype._read=function(){this._helper.resume()},i.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,l);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,l)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var l=new Buffer(o);return l.fill(0),l},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(t,i,a){function o(R,I,k){var _,M=c.getTypeOf(I),U=c.extend(k||{},f);U.date=U.date||new Date,U.compression!==null&&(U.compression=U.compression.toUpperCase()),typeof U.unixPermissions=="string"&&(U.unixPermissions=parseInt(U.unixPermissions,8)),U.unixPermissions&&16384&U.unixPermissions&&(U.dir=!0),U.dosPermissions&&16&U.dosPermissions&&(U.dir=!0),U.dir&&(R=w(R)),U.createFolders&&(_=b(R))&&D.call(this,_,!0);var B=M==="string"&&U.binary===!1&&U.base64===!1;k&&k.binary!==void 0||(U.binary=!B),(I instanceof m&&I.uncompressedSize===0||U.dir||!I||I.length===0)&&(U.base64=!1,U.binary=!0,I="",U.compression="STORE",M="string");var L=null;L=I instanceof m||I instanceof d?I:S.isNode&&S.isStream(I)?new y(R,I):c.prepareContent(R,I,U.binary,U.optimizedBinaryString,U.base64);var P=new v(R,L,U);this.files[R]=P}var l=t("./utf8"),c=t("./utils"),d=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),m=t("./compressedObject"),v=t("./zipObject"),p=t("./generate"),S=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),b=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var I=R.lastIndexOf("/");return 0<I?R.substring(0,I):""},w=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},D=function(R,I){return I=I!==void 0?I:f.createFolders,R=w(R),this.files[R]||o.call(this,R,null,{dir:!0,createFolders:I}),this.files[R]};function C(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var I,k,_;for(I in this.files)_=this.files[I],(k=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&R(k,_)},filter:function(R){var I=[];return this.forEach(function(k,_){R(k,_)&&I.push(_)}),I},file:function(R,I,k){if(arguments.length!==1)return R=this.root+R,o.call(this,R,I,k),this;if(C(R)){var _=R;return this.filter(function(U,B){return!B.dir&&_.test(U)})}var M=this.files[this.root+R];return M&&!M.dir?M:null},folder:function(R){if(!R)return this;if(C(R))return this.filter(function(M,U){return U.dir&&R.test(M)});var I=this.root+R,k=D.call(this,I),_=this.clone();return _.root=k.name,_},remove:function(R){R=this.root+R;var I=this.files[R];if(I||(R.slice(-1)!=="/"&&(R+="/"),I=this.files[R]),I&&!I.dir)delete this.files[R];else for(var k=this.filter(function(M,U){return U.name.slice(0,R.length)===R}),_=0;_<k.length;_++)delete this.files[k[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var I,k={};try{if((k=c.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");c.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var _=k.comment||this.comment||"";I=p.generateWorker(this,k,_)}catch(M){(I=new d("error")).error(M)}return new h(I,k.type||"string",k.mimeType)},generateAsync:function(R,I){return this.generateInternalStream(R).accumulate(I)},generateNodeStream:function(R,I){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(I)}};i.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,a){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,a){var o=t("./DataReader");function l(c){o.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===d&&this.data[v+1]===h&&this.data[v+2]===f&&this.data[v+3]===m)return v-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),m=c.charCodeAt(3),v=this.readData(4);return d===v[0]&&h===v[1]&&f===v[2]&&m===v[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,i,a){var o=t("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return o.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},i.exports=l},{"../utils":32}],19:[function(t,i,a){var o=t("./Uint8ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,a){var o=t("./DataReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,i,a){var o=t("./ArrayReader");function l(c){o.call(this,c)}t("../utils").inherits(l,o),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},i.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,a){var o=t("../utils"),l=t("../support"),c=t("./ArrayReader"),d=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");i.exports=function(m){var v=o.getTypeOf(m);return o.checkSupport(v),v!=="string"||l.uint8array?v==="nodebuffer"?new h(m):l.uint8array?new f(o.transformTo("uint8array",m)):new c(o.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,a){var o=t("./GenericWorker"),l=t("../utils");function c(d){o.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,o),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},i.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,a){var o=t("./GenericWorker"),l=t("../crc32");function c(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(c,o),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},i.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,a){var o=t("../utils"),l=t("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}o.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},i.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,a){var o=t("../utils"),l=t("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=o.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}o.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,a){function o(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},i.exports=o},{}],29:[function(t,i,a){var o=t("../utils"),l=t("./ConvertWorker"),c=t("./GenericWorker"),d=t("../base64"),h=t("../support"),f=t("../external"),m=null;if(h.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(S,y){return new f.Promise(function(b,w){var D=[],C=S._internalType,x=S._outputType,R=S._mimeType;S.on("data",function(I,k){D.push(I),y&&y(k)}).on("error",function(I){D=[],w(I)}).on("end",function(){try{var I=function(k,_,M){switch(k){case"blob":return o.newBlob(o.transformTo("arraybuffer",_),M);case"base64":return d.encode(_);default:return o.transformTo(k,_)}}(x,function(k,_){var M,U=0,B=null,L=0;for(M=0;M<_.length;M++)L+=_[M].length;switch(k){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(B=new Uint8Array(L),M=0;M<_.length;M++)B.set(_[M],U),U+=_[M].length;return B;case"nodebuffer":return Buffer.concat(_);default:throw new Error("concat : unsupported type '"+k+"'")}}(C,D),R);b(I)}catch(k){w(k)}D=[]}).resume()})}function p(S,y,b){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=b,o.checkSupport(w),this._worker=S.pipe(new l(w)),S.lock()}catch(D){this._worker=new c("error"),this._worker.error(D)}}p.prototype={accumulate:function(S){return v(this,S)},on:function(S,y){var b=this;return S==="data"?this._worker.on(S,function(w){y.call(b,w.data,w.meta)}):this._worker.on(S,function(){o.delay(y,arguments,b)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(S){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},S)}},i.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var o=new ArrayBuffer(0);try{a.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(o),a.blob=l.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,a){for(var o=t("./utils"),l=t("./support"),c=t("./nodejsUtils"),d=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function v(){d.call(this,"utf-8 encode")}a.utf8encode=function(p){return l.nodebuffer?c.newBufferFrom(p,"utf-8"):function(S){var y,b,w,D,C,x=S.length,R=0;for(D=0;D<x;D++)(64512&(b=S.charCodeAt(D)))==55296&&D+1<x&&(64512&(w=S.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),D++),R+=b<128?1:b<2048?2:b<65536?3:4;for(y=l.uint8array?new Uint8Array(R):new Array(R),D=C=0;C<R;D++)(64512&(b=S.charCodeAt(D)))==55296&&D+1<x&&(64512&(w=S.charCodeAt(D+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),D++),b<128?y[C++]=b:(b<2048?y[C++]=192|b>>>6:(b<65536?y[C++]=224|b>>>12:(y[C++]=240|b>>>18,y[C++]=128|b>>>12&63),y[C++]=128|b>>>6&63),y[C++]=128|63&b);return y}(p)},a.utf8decode=function(p){return l.nodebuffer?o.transformTo("nodebuffer",p).toString("utf-8"):function(S){var y,b,w,D,C=S.length,x=new Array(2*C);for(y=b=0;y<C;)if((w=S[y++])<128)x[b++]=w;else if(4<(D=h[w]))x[b++]=65533,y+=D-1;else{for(w&=D===2?31:D===3?15:7;1<D&&y<C;)w=w<<6|63&S[y++],D--;1<D?x[b++]=65533:w<65536?x[b++]=w:(w-=65536,x[b++]=55296|w>>10&1023,x[b++]=56320|1023&w)}return x.length!==b&&(x.subarray?x=x.subarray(0,b):x.length=b),o.applyFromCharCode(x)}(p=o.transformTo(l.uint8array?"uint8array":"array",p))},o.inherits(m,d),m.prototype.processChunk=function(p){var S=o.transformTo(l.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var y=S;(S=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),S.set(y,this.leftOver.length)}else S=this.leftOver.concat(S);this.leftOver=null}var b=function(D,C){var x;for((C=C||D.length)>D.length&&(C=D.length),x=C-1;0<=x&&(192&D[x])==128;)x--;return x<0||x===0?C:x+h[D[x]]>C?x:C}(S),w=S;b!==S.length&&(l.uint8array?(w=S.subarray(0,b),this.leftOver=S.subarray(b,S.length)):(w=S.slice(0,b),this.leftOver=S.slice(b,S.length))),this.push({data:a.utf8decode(w),meta:p.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m,o.inherits(v,d),v.prototype.processChunk=function(p){this.push({data:a.utf8encode(p.data),meta:p.meta})},a.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,a){var o=t("./support"),l=t("./base64"),c=t("./nodejsUtils"),d=t("./external");function h(y){return y}function f(y,b){for(var w=0;w<y.length;++w)b[w]=255&y.charCodeAt(w);return b}t("setimmediate"),a.newBlob=function(y,b){a.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(y,b,w){var D=[],C=0,x=y.length;if(x<=w)return String.fromCharCode.apply(null,y);for(;C<x;)b==="array"||b==="nodebuffer"?D.push(String.fromCharCode.apply(null,y.slice(C,Math.min(C+w,x)))):D.push(String.fromCharCode.apply(null,y.subarray(C,Math.min(C+w,x)))),C+=w;return D.join("")},stringifyByChar:function(y){for(var b="",w=0;w<y.length;w++)b+=String.fromCharCode(y[w]);return b},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}}()}};function v(y){var b=65536,w=a.getTypeOf(y),D=!0;if(w==="uint8array"?D=m.applyCanBeUsed.uint8array:w==="nodebuffer"&&(D=m.applyCanBeUsed.nodebuffer),D)for(;1<b;)try{return m.stringifyByChunk(y,w,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(y)}function p(y,b){for(var w=0;w<y.length;w++)b[w]=y[w];return b}a.applyFromCharCode=v;var S={};S.string={string:h,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return S.string.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:function(y){return f(y,c.allocBuffer(y.length))}},S.array={string:v,array:h,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(y)}},S.arraybuffer={string:function(y){return v(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:h,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return c.newBufferFrom(new Uint8Array(y))}},S.uint8array={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:h,nodebuffer:function(y){return c.newBufferFrom(y)}},S.nodebuffer={string:v,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return S.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:h},a.transformTo=function(y,b){if(b=b||"",!y)return b;a.checkSupport(y);var w=a.getTypeOf(b);return S[w][y](b)},a.resolve=function(y){for(var b=y.split("/"),w=[],D=0;D<b.length;D++){var C=b[D];C==="."||C===""&&D!==0&&D!==b.length-1||(C===".."?w.pop():w.push(C))}return w.join("/")},a.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":o.nodebuffer&&c.isBuffer(y)?"nodebuffer":o.uint8array&&y instanceof Uint8Array?"uint8array":o.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(y){if(!o[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(y){var b,w,D="";for(w=0;w<(y||"").length;w++)D+="\\x"+((b=y.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return D},a.delay=function(y,b,w){setImmediate(function(){y.apply(w||null,b||[])})},a.inherits=function(y,b){function w(){}w.prototype=b.prototype,y.prototype=new w},a.extend=function(){var y,b,w={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&w[b]===void 0&&(w[b]=arguments[y][b]);return w},a.prepareContent=function(y,b,w,D,C){return d.Promise.resolve(b).then(function(x){return o.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new d.Promise(function(R,I){var k=new FileReader;k.onload=function(_){R(_.target.result)},k.onerror=function(_){I(_.target.error)},k.readAsArrayBuffer(x)}):x}).then(function(x){var R=a.getTypeOf(x);return R?(R==="arraybuffer"?x=a.transformTo("uint8array",x):R==="string"&&(C?x=l.decode(x):w&&D!==!0&&(x=function(I){return f(I,o.uint8array?new Uint8Array(I.length):new Array(I.length))}(x))),x):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,a){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./signature"),d=t("./zipEntry"),h=t("./support");function f(m){this.files=[],this.loadOptions=m}f.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(v)+", expected "+l.pretty(m)+")")}},isSignature:function(m,v){var p=this.reader.index;this.reader.setIndex(m);var S=this.reader.readString(4)===v;return this.reader.setIndex(p),S},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),v=h.uint8array?"uint8array":"array",p=l.transformTo(v,m);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,v,p,S=this.zip64EndOfCentralSize-44;0<S;)m=this.reader.readInt(2),v=this.reader.readInt(4),p=this.reader.readData(v),this.zip64ExtensibleData[m]={id:m,length:v,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,v;for(m=0;m<this.files.length;m++)v=this.files[m],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var v=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var S=v-p;if(0<S)this.isSignature(v,c.CENTRAL_FILE_HEADER)||(this.reader.zero=S);else if(S<0)throw new Error("Corrupted zip: missing "+Math.abs(S)+" bytes.")},prepareReader:function(m){this.reader=o(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,a){var o=t("./reader/readerFor"),l=t("./utils"),c=t("./compressedObject"),d=t("./crc32"),h=t("./utf8"),f=t("./compressions"),m=t("./support");function v(p,S){this.options=p,this.loadOptions=S}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var S,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((S=function(b){for(var w in f)if(Object.prototype.hasOwnProperty.call(f,w)&&f[w].magic===b)return f[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,S,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var S=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(S),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=o(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var S,y,b,w=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<w;)S=p.readInt(2),y=p.readInt(2),b=p.readData(y),this.extraFields[S]={id:S,length:y,value:b};p.setIndex(w)},handleUTF8:function(){var p=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var S=this.findExtraFieldUnicodePath();if(S!==null)this.fileNameStr=S;else{var y=l.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=l.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var S=o(p.value);return S.readInt(1)!==1||d(this.fileName)!==S.readInt(4)?null:h.utf8decode(S.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var S=o(p.value);return S.readInt(1)!==1||d(this.fileComment)!==S.readInt(4)?null:h.utf8decode(S.readData(p.length-5))}return null}},i.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,a){function o(S,y,b){this.name=S,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var l=t("./stream/StreamHelper"),c=t("./stream/DataWorker"),d=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");o.prototype={internalStream:function(S){var y=null,b="string";try{if(!S)throw new Error("No output type specified.");var w=(b=S.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var D=!this._dataBinary;D&&!w&&(y=y.pipe(new d.Utf8EncodeWorker)),!D&&w&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(C){(y=new f("error")).error(C)}return new l(y,b,"")},async:function(S,y){return this.internalStream(S).accumulate(y)},nodeStream:function(S,y){return this.internalStream(S||"nodebuffer").toNodejsStream(y)},_compressWorker:function(S,y){if(this._data instanceof h&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(b,S,y)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<m.length;p++)o.prototype[m[p]]=v;i.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,a){(function(o){var l,c,d=o.MutationObserver||o.WebKitMutationObserver;if(d){var h=0,f=new d(S),m=o.document.createTextNode("");f.observe(m,{characterData:!0}),l=function(){m.data=h=++h%2}}else if(o.setImmediate||o.MessageChannel===void 0)l="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var y=o.document.createElement("script");y.onreadystatechange=function(){S(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},o.document.documentElement.appendChild(y)}:function(){setTimeout(S,0)};else{var v=new o.MessageChannel;v.port1.onmessage=S,l=function(){v.port2.postMessage(0)}}var p=[];function S(){var y,b;c=!0;for(var w=p.length;w;){for(b=p,p=[],y=-1;++y<w;)b[y]();w=p.length}c=!1}i.exports=function(y){p.push(y)!==1||c||l()}}).call(this,typeof es<"u"?es:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,a){var o=t("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function m(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,w!==l&&y(this,w)}function v(w,D,C){this.promise=w,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function p(w,D,C){o(function(){var x;try{x=D(C)}catch(R){return c.reject(w,R)}x===w?c.reject(w,new TypeError("Cannot resolve promise with itself")):c.resolve(w,x)})}function S(w){var D=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof D=="function")return function(){D.apply(w,arguments)}}function y(w,D){var C=!1;function x(k){C||(C=!0,c.reject(w,k))}function R(k){C||(C=!0,c.resolve(w,k))}var I=b(function(){D(R,x)});I.status==="error"&&x(I.value)}function b(w,D){var C={};try{C.value=w(D),C.status="success"}catch(x){C.status="error",C.value=x}return C}(i.exports=m).prototype.finally=function(w){if(typeof w!="function")return this;var D=this.constructor;return this.then(function(C){return D.resolve(w()).then(function(){return C})},function(C){return D.resolve(w()).then(function(){throw C})})},m.prototype.catch=function(w){return this.then(null,w)},m.prototype.then=function(w,D){if(typeof w!="function"&&this.state===h||typeof D!="function"&&this.state===d)return this;var C=new this.constructor(l);return this.state!==f?p(C,this.state===h?w:D,this.outcome):this.queue.push(new v(C,w,D)),C},v.prototype.callFulfilled=function(w){c.resolve(this.promise,w)},v.prototype.otherCallFulfilled=function(w){p(this.promise,this.onFulfilled,w)},v.prototype.callRejected=function(w){c.reject(this.promise,w)},v.prototype.otherCallRejected=function(w){p(this.promise,this.onRejected,w)},c.resolve=function(w,D){var C=b(S,D);if(C.status==="error")return c.reject(w,C.value);var x=C.value;if(x)y(w,x);else{w.state=h,w.outcome=D;for(var R=-1,I=w.queue.length;++R<I;)w.queue[R].callFulfilled(D)}return w},c.reject=function(w,D){w.state=d,w.outcome=D;for(var C=-1,x=w.queue.length;++C<x;)w.queue[C].callRejected(D);return w},m.resolve=function(w){return w instanceof this?w:c.resolve(new this(l),w)},m.reject=function(w){var D=new this(l);return c.reject(D,w)},m.all=function(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,x=!1;if(!C)return this.resolve([]);for(var R=new Array(C),I=0,k=-1,_=new this(l);++k<C;)M(w[k],k);return _;function M(U,B){D.resolve(U).then(function(L){R[B]=L,++I!==C||x||(x=!0,c.resolve(_,R))},function(L){x||(x=!0,c.reject(_,L))})}},m.race=function(w){var D=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=w.length,x=!1;if(!C)return this.resolve([]);for(var R=-1,I=new this(l);++R<C;)k=w[R],D.resolve(k).then(function(_){x||(x=!0,c.resolve(I,_))},function(_){x||(x=!0,c.reject(I,_))});var k;return I}},{immediate:36}],38:[function(t,i,a){var o={};(0,t("./lib/utils/common").assign)(o,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,a){var o=t("./zlib/deflate"),l=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,m=0,v=-1,p=0,S=8;function y(w){if(!(this instanceof y))return new y(w);this.options=l.assign({level:v,method:S,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},w||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var C=o.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(C!==m)throw new Error(d[C]);if(D.header&&o.deflateSetHeader(this.strm,D.header),D.dictionary){var x;if(x=typeof D.dictionary=="string"?c.string2buf(D.dictionary):f.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(C=o.deflateSetDictionary(this.strm,x))!==m)throw new Error(d[C]);this._dict_set=!0}}function b(w,D){var C=new y(D);if(C.push(w,!0),C.err)throw C.msg||d[C.err];return C.result}y.prototype.push=function(w,D){var C,x,R=this.strm,I=this.options.chunkSize;if(this.ended)return!1;x=D===~~D?D:D===!0?4:0,typeof w=="string"?R.input=c.string2buf(w):f.call(w)==="[object ArrayBuffer]"?R.input=new Uint8Array(w):R.input=w,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new l.Buf8(I),R.next_out=0,R.avail_out=I),(C=o.deflate(R,x))!==1&&C!==m)return this.onEnd(C),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(R.output,R.next_out))):this.onData(l.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&C!==1);return x===4?(C=o.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===m):x!==2||(this.onEnd(m),!(R.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Deflate=y,a.deflate=b,a.deflateRaw=function(w,D){return(D=D||{}).raw=!0,b(w,D)},a.gzip=function(w,D){return(D=D||{}).gzip=!0,b(w,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,a){var o=t("./zlib/inflate"),l=t("./utils/common"),c=t("./utils/strings"),d=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),m=t("./zlib/gzheader"),v=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=o.inflateInit2(this.strm,b.windowBits);if(w!==d.Z_OK)throw new Error(h[w]);this.header=new m,o.inflateGetHeader(this.strm,this.header)}function S(y,b){var w=new p(b);if(w.push(y,!0),w.err)throw w.msg||h[w.err];return w.result}p.prototype.push=function(y,b){var w,D,C,x,R,I,k=this.strm,_=this.options.chunkSize,M=this.options.dictionary,U=!1;if(this.ended)return!1;D=b===~~b?b:b===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?k.input=c.binstring2buf(y):v.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new l.Buf8(_),k.next_out=0,k.avail_out=_),(w=o.inflate(k,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&M&&(I=typeof M=="string"?c.string2buf(M):v.call(M)==="[object ArrayBuffer]"?new Uint8Array(M):M,w=o.inflateSetDictionary(this.strm,I)),w===d.Z_BUF_ERROR&&U===!0&&(w=d.Z_OK,U=!1),w!==d.Z_STREAM_END&&w!==d.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==d.Z_STREAM_END&&(k.avail_in!==0||D!==d.Z_FINISH&&D!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=c.utf8border(k.output,k.next_out),x=k.next_out-C,R=c.buf2string(k.output,C),k.next_out=x,k.avail_out=_-x,x&&l.arraySet(k.output,k.output,C,x,0),this.onData(R)):this.onData(l.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(U=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==d.Z_STREAM_END);return w===d.Z_STREAM_END&&(D=d.Z_FINISH),D===d.Z_FINISH?(w=o.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===d.Z_OK):D!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(k.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},a.Inflate=p,a.inflate=S,a.inflateRaw=function(y,b){return(b=b||{}).raw=!0,S(y,b)},a.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,a){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,m,v){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+m),v);else for(var p=0;p<m;p++)d[v+p]=h[f+p]},flattenChunks:function(d){var h,f,m,v,p,S;for(h=m=0,f=d.length;h<f;h++)m+=d[h].length;for(S=new Uint8Array(m),h=v=0,f=d.length;h<f;h++)p=d[h],S.set(p,v),v+=p.length;return S}},c={arraySet:function(d,h,f,m,v){for(var p=0;p<m;p++)d[v+p]=h[f+p]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(o)},{}],42:[function(t,i,a){var o=t("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new o.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(m,v){if(v<65537&&(m.subarray&&c||!m.subarray&&l))return String.fromCharCode.apply(null,o.shrinkBuf(m,v));for(var p="",S=0;S<v;S++)p+=String.fromCharCode(m[S]);return p}d[254]=d[254]=1,a.string2buf=function(m){var v,p,S,y,b,w=m.length,D=0;for(y=0;y<w;y++)(64512&(p=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(S=m.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(S-56320),y++),D+=p<128?1:p<2048?2:p<65536?3:4;for(v=new o.Buf8(D),y=b=0;b<D;y++)(64512&(p=m.charCodeAt(y)))==55296&&y+1<w&&(64512&(S=m.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(S-56320),y++),p<128?v[b++]=p:(p<2048?v[b++]=192|p>>>6:(p<65536?v[b++]=224|p>>>12:(v[b++]=240|p>>>18,v[b++]=128|p>>>12&63),v[b++]=128|p>>>6&63),v[b++]=128|63&p);return v},a.buf2binstring=function(m){return f(m,m.length)},a.binstring2buf=function(m){for(var v=new o.Buf8(m.length),p=0,S=v.length;p<S;p++)v[p]=m.charCodeAt(p);return v},a.buf2string=function(m,v){var p,S,y,b,w=v||m.length,D=new Array(2*w);for(p=S=0;p<w;)if((y=m[p++])<128)D[S++]=y;else if(4<(b=d[y]))D[S++]=65533,p+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&p<w;)y=y<<6|63&m[p++],b--;1<b?D[S++]=65533:y<65536?D[S++]=y:(y-=65536,D[S++]=55296|y>>10&1023,D[S++]=56320|1023&y)}return f(D,S)},a.utf8border=function(m,v){var p;for((v=v||m.length)>m.length&&(v=m.length),p=v-1;0<=p&&(192&m[p])==128;)p--;return p<0||p===0?v:p+d[m[p]]>v?p:v}},{"./common":41}],43:[function(t,i,a){i.exports=function(o,l,c,d){for(var h=65535&o|0,f=o>>>16&65535|0,m=0;c!==0;){for(c-=m=2e3<c?2e3:c;f=f+(h=h+l[d++]|0)|0,--m;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,a){var o=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();i.exports=function(l,c,d,h){var f=o,m=h+d;l^=-1;for(var v=h;v<m;v++)l=l>>>8^f[255&(l^c[v])];return-1^l}},{}],46:[function(t,i,a){var o,l=t("../utils/common"),c=t("./trees"),d=t("./adler32"),h=t("./crc32"),f=t("./messages"),m=0,v=4,p=0,S=-2,y=-1,b=4,w=2,D=8,C=9,x=286,R=30,I=19,k=2*x+1,_=15,M=3,U=258,B=U+M+1,L=42,P=113,A=1,E=2,F=3,G=4;function H(q,le){return q.msg=f[le],le}function Q(q){return(q<<1)-(4<q?9:0)}function Z(q){for(var le=q.length;0<=--le;)q[le]=0}function N(q){var le=q.state,he=le.pending;he>q.avail_out&&(he=q.avail_out),he!==0&&(l.arraySet(q.output,le.pending_buf,le.pending_out,he,q.next_out),q.next_out+=he,le.pending_out+=he,q.total_out+=he,q.avail_out-=he,le.pending-=he,le.pending===0&&(le.pending_out=0))}function V(q,le){c._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,le),q.block_start=q.strstart,N(q.strm)}function X(q,le){q.pending_buf[q.pending++]=le}function ee(q,le){q.pending_buf[q.pending++]=le>>>8&255,q.pending_buf[q.pending++]=255&le}function J(q,le){var he,$,Y=q.max_chain_length,ae=q.strstart,ye=q.prev_length,Ce=q.nice_match,te=q.strstart>q.w_size-B?q.strstart-(q.w_size-B):0,Re=q.window,Pe=q.w_mask,fe=q.prev,pe=q.strstart+U,Ie=Re[ae+ye-1],_e=Re[ae+ye];q.prev_length>=q.good_match&&(Y>>=2),Ce>q.lookahead&&(Ce=q.lookahead);do if(Re[(he=le)+ye]===_e&&Re[he+ye-1]===Ie&&Re[he]===Re[ae]&&Re[++he]===Re[ae+1]){ae+=2,he++;do;while(Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&Re[++ae]===Re[++he]&&ae<pe);if($=U-(pe-ae),ae=pe-U,ye<$){if(q.match_start=le,Ce<=(ye=$))break;Ie=Re[ae+ye-1],_e=Re[ae+ye]}}while((le=fe[le&Pe])>te&&--Y!=0);return ye<=q.lookahead?ye:q.lookahead}function ce(q){var le,he,$,Y,ae,ye,Ce,te,Re,Pe,fe=q.w_size;do{if(Y=q.window_size-q.lookahead-q.strstart,q.strstart>=fe+(fe-B)){for(l.arraySet(q.window,q.window,fe,fe,0),q.match_start-=fe,q.strstart-=fe,q.block_start-=fe,le=he=q.hash_size;$=q.head[--le],q.head[le]=fe<=$?$-fe:0,--he;);for(le=he=fe;$=q.prev[--le],q.prev[le]=fe<=$?$-fe:0,--he;);Y+=fe}if(q.strm.avail_in===0)break;if(ye=q.strm,Ce=q.window,te=q.strstart+q.lookahead,Re=Y,Pe=void 0,Pe=ye.avail_in,Re<Pe&&(Pe=Re),he=Pe===0?0:(ye.avail_in-=Pe,l.arraySet(Ce,ye.input,ye.next_in,Pe,te),ye.state.wrap===1?ye.adler=d(ye.adler,Ce,Pe,te):ye.state.wrap===2&&(ye.adler=h(ye.adler,Ce,Pe,te)),ye.next_in+=Pe,ye.total_in+=Pe,Pe),q.lookahead+=he,q.lookahead+q.insert>=M)for(ae=q.strstart-q.insert,q.ins_h=q.window[ae],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ae+M-1])&q.hash_mask,q.prev[ae&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ae,ae++,q.insert--,!(q.lookahead+q.insert<M)););}while(q.lookahead<B&&q.strm.avail_in!==0)}function W(q,le){for(var he,$;;){if(q.lookahead<B){if(ce(q),q.lookahead<B&&le===m)return A;if(q.lookahead===0)break}if(he=0,q.lookahead>=M&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+M-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),he!==0&&q.strstart-he<=q.w_size-B&&(q.match_length=J(q,he)),q.match_length>=M)if($=c._tr_tally(q,q.strstart-q.match_start,q.match_length-M),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=M){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+M-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else $=c._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if($&&(V(q,!1),q.strm.avail_out===0))return A}return q.insert=q.strstart<M-1?q.strstart:M-1,le===v?(V(q,!0),q.strm.avail_out===0?F:G):q.last_lit&&(V(q,!1),q.strm.avail_out===0)?A:E}function ne(q,le){for(var he,$,Y;;){if(q.lookahead<B){if(ce(q),q.lookahead<B&&le===m)return A;if(q.lookahead===0)break}if(he=0,q.lookahead>=M&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+M-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=M-1,he!==0&&q.prev_length<q.max_lazy_match&&q.strstart-he<=q.w_size-B&&(q.match_length=J(q,he),q.match_length<=5&&(q.strategy===1||q.match_length===M&&4096<q.strstart-q.match_start)&&(q.match_length=M-1)),q.prev_length>=M&&q.match_length<=q.prev_length){for(Y=q.strstart+q.lookahead-M,$=c._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-M),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=Y&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+M-1])&q.hash_mask,he=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=M-1,q.strstart++,$&&(V(q,!1),q.strm.avail_out===0))return A}else if(q.match_available){if(($=c._tr_tally(q,0,q.window[q.strstart-1]))&&V(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return A}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&($=c._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<M-1?q.strstart:M-1,le===v?(V(q,!0),q.strm.avail_out===0?F:G):q.last_lit&&(V(q,!1),q.strm.avail_out===0)?A:E}function se(q,le,he,$,Y){this.good_length=q,this.max_lazy=le,this.nice_length=he,this.max_chain=$,this.func=Y}function de(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*k),this.dyn_dtree=new l.Buf16(2*(2*R+1)),this.bl_tree=new l.Buf16(2*(2*I+1)),Z(this.dyn_ltree),Z(this.dyn_dtree),Z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(_+1),this.heap=new l.Buf16(2*x+1),Z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*x+1),Z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ve(q){var le;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=w,(le=q.state).pending=0,le.pending_out=0,le.wrap<0&&(le.wrap=-le.wrap),le.status=le.wrap?L:P,q.adler=le.wrap===2?0:1,le.last_flush=m,c._tr_init(le),p):H(q,S)}function Te(q){var le=ve(q);return le===p&&function(he){he.window_size=2*he.w_size,Z(he.head),he.max_lazy_match=o[he.level].max_lazy,he.good_match=o[he.level].good_length,he.nice_match=o[he.level].nice_length,he.max_chain_length=o[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=M-1,he.match_available=0,he.ins_h=0}(q.state),le}function Me(q,le,he,$,Y,ae){if(!q)return S;var ye=1;if(le===y&&(le=6),$<0?(ye=0,$=-$):15<$&&(ye=2,$-=16),Y<1||C<Y||he!==D||$<8||15<$||le<0||9<le||ae<0||b<ae)return H(q,S);$===8&&($=9);var Ce=new de;return(q.state=Ce).strm=q,Ce.wrap=ye,Ce.gzhead=null,Ce.w_bits=$,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=Y+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+M-1)/M),Ce.window=new l.Buf8(2*Ce.w_size),Ce.head=new l.Buf16(Ce.hash_size),Ce.prev=new l.Buf16(Ce.w_size),Ce.lit_bufsize=1<<Y+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new l.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=le,Ce.strategy=ae,Ce.method=he,Te(q)}o=[new se(0,0,0,0,function(q,le){var he=65535;for(he>q.pending_buf_size-5&&(he=q.pending_buf_size-5);;){if(q.lookahead<=1){if(ce(q),q.lookahead===0&&le===m)return A;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var $=q.block_start+he;if((q.strstart===0||q.strstart>=$)&&(q.lookahead=q.strstart-$,q.strstart=$,V(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-B&&(V(q,!1),q.strm.avail_out===0))return A}return q.insert=0,le===v?(V(q,!0),q.strm.avail_out===0?F:G):(q.strstart>q.block_start&&(V(q,!1),q.strm.avail_out),A)}),new se(4,4,8,4,W),new se(4,5,16,8,W),new se(4,6,32,32,W),new se(4,4,16,16,ne),new se(8,16,32,32,ne),new se(8,16,128,128,ne),new se(8,32,128,256,ne),new se(32,128,258,1024,ne),new se(32,258,258,4096,ne)],a.deflateInit=function(q,le){return Me(q,le,D,15,8,0)},a.deflateInit2=Me,a.deflateReset=Te,a.deflateResetKeep=ve,a.deflateSetHeader=function(q,le){return q&&q.state?q.state.wrap!==2?S:(q.state.gzhead=le,p):S},a.deflate=function(q,le){var he,$,Y,ae;if(!q||!q.state||5<le||le<0)return q?H(q,S):S;if($=q.state,!q.output||!q.input&&q.avail_in!==0||$.status===666&&le!==v)return H(q,q.avail_out===0?-5:S);if($.strm=q,he=$.last_flush,$.last_flush=le,$.status===L)if($.wrap===2)q.adler=0,X($,31),X($,139),X($,8),$.gzhead?(X($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),X($,255&$.gzhead.time),X($,$.gzhead.time>>8&255),X($,$.gzhead.time>>16&255),X($,$.gzhead.time>>24&255),X($,$.level===9?2:2<=$.strategy||$.level<2?4:0),X($,255&$.gzhead.os),$.gzhead.extra&&$.gzhead.extra.length&&(X($,255&$.gzhead.extra.length),X($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(q.adler=h(q.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=69):(X($,0),X($,0),X($,0),X($,0),X($,0),X($,$.level===9?2:2<=$.strategy||$.level<2?4:0),X($,3),$.status=P);else{var ye=D+($.w_bits-8<<4)<<8;ye|=(2<=$.strategy||$.level<2?0:$.level<6?1:$.level===6?2:3)<<6,$.strstart!==0&&(ye|=32),ye+=31-ye%31,$.status=P,ee($,ye),$.strstart!==0&&(ee($,q.adler>>>16),ee($,65535&q.adler)),q.adler=1}if($.status===69)if($.gzhead.extra){for(Y=$.pending;$.gzindex<(65535&$.gzhead.extra.length)&&($.pending!==$.pending_buf_size||($.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),N(q),Y=$.pending,$.pending!==$.pending_buf_size));)X($,255&$.gzhead.extra[$.gzindex]),$.gzindex++;$.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=73)}else $.status=73;if($.status===73)if($.gzhead.name){Y=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),N(q),Y=$.pending,$.pending===$.pending_buf_size)){ae=1;break}ae=$.gzindex<$.gzhead.name.length?255&$.gzhead.name.charCodeAt($.gzindex++):0,X($,ae)}while(ae!==0);$.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),ae===0&&($.gzindex=0,$.status=91)}else $.status=91;if($.status===91)if($.gzhead.comment){Y=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),N(q),Y=$.pending,$.pending===$.pending_buf_size)){ae=1;break}ae=$.gzindex<$.gzhead.comment.length?255&$.gzhead.comment.charCodeAt($.gzindex++):0,X($,ae)}while(ae!==0);$.gzhead.hcrc&&$.pending>Y&&(q.adler=h(q.adler,$.pending_buf,$.pending-Y,Y)),ae===0&&($.status=103)}else $.status=103;if($.status===103&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&N(q),$.pending+2<=$.pending_buf_size&&(X($,255&q.adler),X($,q.adler>>8&255),q.adler=0,$.status=P)):$.status=P),$.pending!==0){if(N(q),q.avail_out===0)return $.last_flush=-1,p}else if(q.avail_in===0&&Q(le)<=Q(he)&&le!==v)return H(q,-5);if($.status===666&&q.avail_in!==0)return H(q,-5);if(q.avail_in!==0||$.lookahead!==0||le!==m&&$.status!==666){var Ce=$.strategy===2?function(te,Re){for(var Pe;;){if(te.lookahead===0&&(ce(te),te.lookahead===0)){if(Re===m)return A;break}if(te.match_length=0,Pe=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,Pe&&(V(te,!1),te.strm.avail_out===0))return A}return te.insert=0,Re===v?(V(te,!0),te.strm.avail_out===0?F:G):te.last_lit&&(V(te,!1),te.strm.avail_out===0)?A:E}($,le):$.strategy===3?function(te,Re){for(var Pe,fe,pe,Ie,_e=te.window;;){if(te.lookahead<=U){if(ce(te),te.lookahead<=U&&Re===m)return A;if(te.lookahead===0)break}if(te.match_length=0,te.lookahead>=M&&0<te.strstart&&(fe=_e[pe=te.strstart-1])===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]){Ie=te.strstart+U;do;while(fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&fe===_e[++pe]&&pe<Ie);te.match_length=U-(Ie-pe),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=M?(Pe=c._tr_tally(te,1,te.match_length-M),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(Pe=c._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),Pe&&(V(te,!1),te.strm.avail_out===0))return A}return te.insert=0,Re===v?(V(te,!0),te.strm.avail_out===0?F:G):te.last_lit&&(V(te,!1),te.strm.avail_out===0)?A:E}($,le):o[$.level].func($,le);if(Ce!==F&&Ce!==G||($.status=666),Ce===A||Ce===F)return q.avail_out===0&&($.last_flush=-1),p;if(Ce===E&&(le===1?c._tr_align($):le!==5&&(c._tr_stored_block($,0,0,!1),le===3&&(Z($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),N(q),q.avail_out===0))return $.last_flush=-1,p}return le!==v?p:$.wrap<=0?1:($.wrap===2?(X($,255&q.adler),X($,q.adler>>8&255),X($,q.adler>>16&255),X($,q.adler>>24&255),X($,255&q.total_in),X($,q.total_in>>8&255),X($,q.total_in>>16&255),X($,q.total_in>>24&255)):(ee($,q.adler>>>16),ee($,65535&q.adler)),N(q),0<$.wrap&&($.wrap=-$.wrap),$.pending!==0?p:1)},a.deflateEnd=function(q){var le;return q&&q.state?(le=q.state.status)!==L&&le!==69&&le!==73&&le!==91&&le!==103&&le!==P&&le!==666?H(q,S):(q.state=null,le===P?H(q,-3):p):S},a.deflateSetDictionary=function(q,le){var he,$,Y,ae,ye,Ce,te,Re,Pe=le.length;if(!q||!q.state||(ae=(he=q.state).wrap)===2||ae===1&&he.status!==L||he.lookahead)return S;for(ae===1&&(q.adler=d(q.adler,le,Pe,0)),he.wrap=0,Pe>=he.w_size&&(ae===0&&(Z(he.head),he.strstart=0,he.block_start=0,he.insert=0),Re=new l.Buf8(he.w_size),l.arraySet(Re,le,Pe-he.w_size,he.w_size,0),le=Re,Pe=he.w_size),ye=q.avail_in,Ce=q.next_in,te=q.input,q.avail_in=Pe,q.next_in=0,q.input=le,ce(he);he.lookahead>=M;){for($=he.strstart,Y=he.lookahead-(M-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[$+M-1])&he.hash_mask,he.prev[$&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=$,$++,--Y;);he.strstart=$,he.lookahead=M-1,ce(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=M-1,he.match_available=0,q.next_in=Ce,q.input=te,q.avail_in=ye,he.wrap=ae,p},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,a){i.exports=function(o,l){var c,d,h,f,m,v,p,S,y,b,w,D,C,x,R,I,k,_,M,U,B,L,P,A,E;c=o.state,d=o.next_in,A=o.input,h=d+(o.avail_in-5),f=o.next_out,E=o.output,m=f-(l-o.avail_out),v=f+(o.avail_out-257),p=c.dmax,S=c.wsize,y=c.whave,b=c.wnext,w=c.window,D=c.hold,C=c.bits,x=c.lencode,R=c.distcode,I=(1<<c.lenbits)-1,k=(1<<c.distbits)-1;e:do{C<15&&(D+=A[d++]<<C,C+=8,D+=A[d++]<<C,C+=8),_=x[D&I];t:for(;;){if(D>>>=M=_>>>24,C-=M,(M=_>>>16&255)===0)E[f++]=65535&_;else{if(!(16&M)){if((64&M)==0){_=x[(65535&_)+(D&(1<<M)-1)];continue t}if(32&M){c.mode=12;break e}o.msg="invalid literal/length code",c.mode=30;break e}U=65535&_,(M&=15)&&(C<M&&(D+=A[d++]<<C,C+=8),U+=D&(1<<M)-1,D>>>=M,C-=M),C<15&&(D+=A[d++]<<C,C+=8,D+=A[d++]<<C,C+=8),_=R[D&k];n:for(;;){if(D>>>=M=_>>>24,C-=M,!(16&(M=_>>>16&255))){if((64&M)==0){_=R[(65535&_)+(D&(1<<M)-1)];continue n}o.msg="invalid distance code",c.mode=30;break e}if(B=65535&_,C<(M&=15)&&(D+=A[d++]<<C,(C+=8)<M&&(D+=A[d++]<<C,C+=8)),p<(B+=D&(1<<M)-1)){o.msg="invalid distance too far back",c.mode=30;break e}if(D>>>=M,C-=M,(M=f-m)<B){if(y<(M=B-M)&&c.sane){o.msg="invalid distance too far back",c.mode=30;break e}if(P=w,(L=0)===b){if(L+=S-M,M<U){for(U-=M;E[f++]=w[L++],--M;);L=f-B,P=E}}else if(b<M){if(L+=S+b-M,(M-=b)<U){for(U-=M;E[f++]=w[L++],--M;);if(L=0,b<U){for(U-=M=b;E[f++]=w[L++],--M;);L=f-B,P=E}}}else if(L+=b-M,M<U){for(U-=M;E[f++]=w[L++],--M;);L=f-B,P=E}for(;2<U;)E[f++]=P[L++],E[f++]=P[L++],E[f++]=P[L++],U-=3;U&&(E[f++]=P[L++],1<U&&(E[f++]=P[L++]))}else{for(L=f-B;E[f++]=E[L++],E[f++]=E[L++],E[f++]=E[L++],2<(U-=3););U&&(E[f++]=E[L++],1<U&&(E[f++]=E[L++]))}break}}break}}while(d<h&&f<v);d-=U=C>>3,D&=(1<<(C-=U<<3))-1,o.next_in=d,o.next_out=f,o.avail_in=d<h?h-d+5:5-(d-h),o.avail_out=f<v?v-f+257:257-(f-v),c.hold=D,c.bits=C}},{}],49:[function(t,i,a){var o=t("../utils/common"),l=t("./adler32"),c=t("./crc32"),d=t("./inffast"),h=t("./inftrees"),f=1,m=2,v=0,p=-2,S=1,y=852,b=592;function w(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(L){var P;return L&&L.state?(P=L.state,L.total_in=L.total_out=P.total=0,L.msg="",P.wrap&&(L.adler=1&P.wrap),P.mode=S,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new o.Buf32(y),P.distcode=P.distdyn=new o.Buf32(b),P.sane=1,P.back=-1,v):p}function x(L){var P;return L&&L.state?((P=L.state).wsize=0,P.whave=0,P.wnext=0,C(L)):p}function R(L,P){var A,E;return L&&L.state?(E=L.state,P<0?(A=0,P=-P):(A=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?p:(E.window!==null&&E.wbits!==P&&(E.window=null),E.wrap=A,E.wbits=P,x(L))):p}function I(L,P){var A,E;return L?(E=new D,(L.state=E).window=null,(A=R(L,P))!==v&&(L.state=null),A):p}var k,_,M=!0;function U(L){if(M){var P;for(k=new o.Buf32(512),_=new o.Buf32(32),P=0;P<144;)L.lens[P++]=8;for(;P<256;)L.lens[P++]=9;for(;P<280;)L.lens[P++]=7;for(;P<288;)L.lens[P++]=8;for(h(f,L.lens,0,288,k,0,L.work,{bits:9}),P=0;P<32;)L.lens[P++]=5;h(m,L.lens,0,32,_,0,L.work,{bits:5}),M=!1}L.lencode=k,L.lenbits=9,L.distcode=_,L.distbits=5}function B(L,P,A,E){var F,G=L.state;return G.window===null&&(G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new o.Buf8(G.wsize)),E>=G.wsize?(o.arraySet(G.window,P,A-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize):(E<(F=G.wsize-G.wnext)&&(F=E),o.arraySet(G.window,P,A-E,F,G.wnext),(E-=F)?(o.arraySet(G.window,P,A-E,E,0),G.wnext=E,G.whave=G.wsize):(G.wnext+=F,G.wnext===G.wsize&&(G.wnext=0),G.whave<G.wsize&&(G.whave+=F))),0}a.inflateReset=x,a.inflateReset2=R,a.inflateResetKeep=C,a.inflateInit=function(L){return I(L,15)},a.inflateInit2=I,a.inflate=function(L,P){var A,E,F,G,H,Q,Z,N,V,X,ee,J,ce,W,ne,se,de,ve,Te,Me,q,le,he,$,Y=0,ae=new o.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return p;(A=L.state).mode===12&&(A.mode=13),H=L.next_out,F=L.output,Z=L.avail_out,G=L.next_in,E=L.input,Q=L.avail_in,N=A.hold,V=A.bits,X=Q,ee=Z,le=v;e:for(;;)switch(A.mode){case S:if(A.wrap===0){A.mode=13;break}for(;V<16;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(2&A.wrap&&N===35615){ae[A.check=0]=255&N,ae[1]=N>>>8&255,A.check=c(A.check,ae,2,0),V=N=0,A.mode=2;break}if(A.flags=0,A.head&&(A.head.done=!1),!(1&A.wrap)||(((255&N)<<8)+(N>>8))%31){L.msg="incorrect header check",A.mode=30;break}if((15&N)!=8){L.msg="unknown compression method",A.mode=30;break}if(V-=4,q=8+(15&(N>>>=4)),A.wbits===0)A.wbits=q;else if(q>A.wbits){L.msg="invalid window size",A.mode=30;break}A.dmax=1<<q,L.adler=A.check=1,A.mode=512&N?10:12,V=N=0;break;case 2:for(;V<16;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(A.flags=N,(255&A.flags)!=8){L.msg="unknown compression method",A.mode=30;break}if(57344&A.flags){L.msg="unknown header flags set",A.mode=30;break}A.head&&(A.head.text=N>>8&1),512&A.flags&&(ae[0]=255&N,ae[1]=N>>>8&255,A.check=c(A.check,ae,2,0)),V=N=0,A.mode=3;case 3:for(;V<32;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.head&&(A.head.time=N),512&A.flags&&(ae[0]=255&N,ae[1]=N>>>8&255,ae[2]=N>>>16&255,ae[3]=N>>>24&255,A.check=c(A.check,ae,4,0)),V=N=0,A.mode=4;case 4:for(;V<16;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.head&&(A.head.xflags=255&N,A.head.os=N>>8),512&A.flags&&(ae[0]=255&N,ae[1]=N>>>8&255,A.check=c(A.check,ae,2,0)),V=N=0,A.mode=5;case 5:if(1024&A.flags){for(;V<16;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.length=N,A.head&&(A.head.extra_len=N),512&A.flags&&(ae[0]=255&N,ae[1]=N>>>8&255,A.check=c(A.check,ae,2,0)),V=N=0}else A.head&&(A.head.extra=null);A.mode=6;case 6:if(1024&A.flags&&(Q<(J=A.length)&&(J=Q),J&&(A.head&&(q=A.head.extra_len-A.length,A.head.extra||(A.head.extra=new Array(A.head.extra_len)),o.arraySet(A.head.extra,E,G,J,q)),512&A.flags&&(A.check=c(A.check,E,J,G)),Q-=J,G+=J,A.length-=J),A.length))break e;A.length=0,A.mode=7;case 7:if(2048&A.flags){if(Q===0)break e;for(J=0;q=E[G+J++],A.head&&q&&A.length<65536&&(A.head.name+=String.fromCharCode(q)),q&&J<Q;);if(512&A.flags&&(A.check=c(A.check,E,J,G)),Q-=J,G+=J,q)break e}else A.head&&(A.head.name=null);A.length=0,A.mode=8;case 8:if(4096&A.flags){if(Q===0)break e;for(J=0;q=E[G+J++],A.head&&q&&A.length<65536&&(A.head.comment+=String.fromCharCode(q)),q&&J<Q;);if(512&A.flags&&(A.check=c(A.check,E,J,G)),Q-=J,G+=J,q)break e}else A.head&&(A.head.comment=null);A.mode=9;case 9:if(512&A.flags){for(;V<16;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(N!==(65535&A.check)){L.msg="header crc mismatch",A.mode=30;break}V=N=0}A.head&&(A.head.hcrc=A.flags>>9&1,A.head.done=!0),L.adler=A.check=0,A.mode=12;break;case 10:for(;V<32;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}L.adler=A.check=w(N),V=N=0,A.mode=11;case 11:if(A.havedict===0)return L.next_out=H,L.avail_out=Z,L.next_in=G,L.avail_in=Q,A.hold=N,A.bits=V,2;L.adler=A.check=1,A.mode=12;case 12:if(P===5||P===6)break e;case 13:if(A.last){N>>>=7&V,V-=7&V,A.mode=27;break}for(;V<3;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}switch(A.last=1&N,V-=1,3&(N>>>=1)){case 0:A.mode=14;break;case 1:if(U(A),A.mode=20,P!==6)break;N>>>=2,V-=2;break e;case 2:A.mode=17;break;case 3:L.msg="invalid block type",A.mode=30}N>>>=2,V-=2;break;case 14:for(N>>>=7&V,V-=7&V;V<32;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if((65535&N)!=(N>>>16^65535)){L.msg="invalid stored block lengths",A.mode=30;break}if(A.length=65535&N,V=N=0,A.mode=15,P===6)break e;case 15:A.mode=16;case 16:if(J=A.length){if(Q<J&&(J=Q),Z<J&&(J=Z),J===0)break e;o.arraySet(F,E,G,J,H),Q-=J,G+=J,Z-=J,H+=J,A.length-=J;break}A.mode=12;break;case 17:for(;V<14;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(A.nlen=257+(31&N),N>>>=5,V-=5,A.ndist=1+(31&N),N>>>=5,V-=5,A.ncode=4+(15&N),N>>>=4,V-=4,286<A.nlen||30<A.ndist){L.msg="too many length or distance symbols",A.mode=30;break}A.have=0,A.mode=18;case 18:for(;A.have<A.ncode;){for(;V<3;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.lens[ye[A.have++]]=7&N,N>>>=3,V-=3}for(;A.have<19;)A.lens[ye[A.have++]]=0;if(A.lencode=A.lendyn,A.lenbits=7,he={bits:A.lenbits},le=h(0,A.lens,0,19,A.lencode,0,A.work,he),A.lenbits=he.bits,le){L.msg="invalid code lengths set",A.mode=30;break}A.have=0,A.mode=19;case 19:for(;A.have<A.nlen+A.ndist;){for(;se=(Y=A.lencode[N&(1<<A.lenbits)-1])>>>16&255,de=65535&Y,!((ne=Y>>>24)<=V);){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(de<16)N>>>=ne,V-=ne,A.lens[A.have++]=de;else{if(de===16){for($=ne+2;V<$;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(N>>>=ne,V-=ne,A.have===0){L.msg="invalid bit length repeat",A.mode=30;break}q=A.lens[A.have-1],J=3+(3&N),N>>>=2,V-=2}else if(de===17){for($=ne+3;V<$;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}V-=ne,q=0,J=3+(7&(N>>>=ne)),N>>>=3,V-=3}else{for($=ne+7;V<$;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}V-=ne,q=0,J=11+(127&(N>>>=ne)),N>>>=7,V-=7}if(A.have+J>A.nlen+A.ndist){L.msg="invalid bit length repeat",A.mode=30;break}for(;J--;)A.lens[A.have++]=q}}if(A.mode===30)break;if(A.lens[256]===0){L.msg="invalid code -- missing end-of-block",A.mode=30;break}if(A.lenbits=9,he={bits:A.lenbits},le=h(f,A.lens,0,A.nlen,A.lencode,0,A.work,he),A.lenbits=he.bits,le){L.msg="invalid literal/lengths set",A.mode=30;break}if(A.distbits=6,A.distcode=A.distdyn,he={bits:A.distbits},le=h(m,A.lens,A.nlen,A.ndist,A.distcode,0,A.work,he),A.distbits=he.bits,le){L.msg="invalid distances set",A.mode=30;break}if(A.mode=20,P===6)break e;case 20:A.mode=21;case 21:if(6<=Q&&258<=Z){L.next_out=H,L.avail_out=Z,L.next_in=G,L.avail_in=Q,A.hold=N,A.bits=V,d(L,ee),H=L.next_out,F=L.output,Z=L.avail_out,G=L.next_in,E=L.input,Q=L.avail_in,N=A.hold,V=A.bits,A.mode===12&&(A.back=-1);break}for(A.back=0;se=(Y=A.lencode[N&(1<<A.lenbits)-1])>>>16&255,de=65535&Y,!((ne=Y>>>24)<=V);){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(se&&(240&se)==0){for(ve=ne,Te=se,Me=de;se=(Y=A.lencode[Me+((N&(1<<ve+Te)-1)>>ve)])>>>16&255,de=65535&Y,!(ve+(ne=Y>>>24)<=V);){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}N>>>=ve,V-=ve,A.back+=ve}if(N>>>=ne,V-=ne,A.back+=ne,A.length=de,se===0){A.mode=26;break}if(32&se){A.back=-1,A.mode=12;break}if(64&se){L.msg="invalid literal/length code",A.mode=30;break}A.extra=15&se,A.mode=22;case 22:if(A.extra){for($=A.extra;V<$;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.length+=N&(1<<A.extra)-1,N>>>=A.extra,V-=A.extra,A.back+=A.extra}A.was=A.length,A.mode=23;case 23:for(;se=(Y=A.distcode[N&(1<<A.distbits)-1])>>>16&255,de=65535&Y,!((ne=Y>>>24)<=V);){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if((240&se)==0){for(ve=ne,Te=se,Me=de;se=(Y=A.distcode[Me+((N&(1<<ve+Te)-1)>>ve)])>>>16&255,de=65535&Y,!(ve+(ne=Y>>>24)<=V);){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}N>>>=ve,V-=ve,A.back+=ve}if(N>>>=ne,V-=ne,A.back+=ne,64&se){L.msg="invalid distance code",A.mode=30;break}A.offset=de,A.extra=15&se,A.mode=24;case 24:if(A.extra){for($=A.extra;V<$;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}A.offset+=N&(1<<A.extra)-1,N>>>=A.extra,V-=A.extra,A.back+=A.extra}if(A.offset>A.dmax){L.msg="invalid distance too far back",A.mode=30;break}A.mode=25;case 25:if(Z===0)break e;if(J=ee-Z,A.offset>J){if((J=A.offset-J)>A.whave&&A.sane){L.msg="invalid distance too far back",A.mode=30;break}ce=J>A.wnext?(J-=A.wnext,A.wsize-J):A.wnext-J,J>A.length&&(J=A.length),W=A.window}else W=F,ce=H-A.offset,J=A.length;for(Z<J&&(J=Z),Z-=J,A.length-=J;F[H++]=W[ce++],--J;);A.length===0&&(A.mode=21);break;case 26:if(Z===0)break e;F[H++]=A.length,Z--,A.mode=21;break;case 27:if(A.wrap){for(;V<32;){if(Q===0)break e;Q--,N|=E[G++]<<V,V+=8}if(ee-=Z,L.total_out+=ee,A.total+=ee,ee&&(L.adler=A.check=A.flags?c(A.check,F,ee,H-ee):l(A.check,F,ee,H-ee)),ee=Z,(A.flags?N:w(N))!==A.check){L.msg="incorrect data check",A.mode=30;break}V=N=0}A.mode=28;case 28:if(A.wrap&&A.flags){for(;V<32;){if(Q===0)break e;Q--,N+=E[G++]<<V,V+=8}if(N!==(4294967295&A.total)){L.msg="incorrect length check",A.mode=30;break}V=N=0}A.mode=29;case 29:le=1;break e;case 30:le=-3;break e;case 31:return-4;case 32:default:return p}return L.next_out=H,L.avail_out=Z,L.next_in=G,L.avail_in=Q,A.hold=N,A.bits=V,(A.wsize||ee!==L.avail_out&&A.mode<30&&(A.mode<27||P!==4))&&B(L,L.output,L.next_out,ee-L.avail_out)?(A.mode=31,-4):(X-=L.avail_in,ee-=L.avail_out,L.total_in+=X,L.total_out+=ee,A.total+=ee,A.wrap&&ee&&(L.adler=A.check=A.flags?c(A.check,F,ee,L.next_out-ee):l(A.check,F,ee,L.next_out-ee)),L.data_type=A.bits+(A.last?64:0)+(A.mode===12?128:0)+(A.mode===20||A.mode===15?256:0),(X==0&&ee===0||P===4)&&le===v&&(le=-5),le)},a.inflateEnd=function(L){if(!L||!L.state)return p;var P=L.state;return P.window&&(P.window=null),L.state=null,v},a.inflateGetHeader=function(L,P){var A;return L&&L.state?(2&(A=L.state).wrap)==0?p:((A.head=P).done=!1,v):p},a.inflateSetDictionary=function(L,P){var A,E=P.length;return L&&L.state?(A=L.state).wrap!==0&&A.mode!==11?p:A.mode===11&&l(1,P,E,0)!==A.check?-3:B(L,P,E,E)?(A.mode=31,-4):(A.havedict=1,v):p},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,a){var o=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(f,m,v,p,S,y,b,w){var D,C,x,R,I,k,_,M,U,B=w.bits,L=0,P=0,A=0,E=0,F=0,G=0,H=0,Q=0,Z=0,N=0,V=null,X=0,ee=new o.Buf16(16),J=new o.Buf16(16),ce=null,W=0;for(L=0;L<=15;L++)ee[L]=0;for(P=0;P<p;P++)ee[m[v+P]]++;for(F=B,E=15;1<=E&&ee[E]===0;E--);if(E<F&&(F=E),E===0)return S[y++]=20971520,S[y++]=20971520,w.bits=1,0;for(A=1;A<E&&ee[A]===0;A++);for(F<A&&(F=A),L=Q=1;L<=15;L++)if(Q<<=1,(Q-=ee[L])<0)return-1;if(0<Q&&(f===0||E!==1))return-1;for(J[1]=0,L=1;L<15;L++)J[L+1]=J[L]+ee[L];for(P=0;P<p;P++)m[v+P]!==0&&(b[J[m[v+P]]++]=P);if(k=f===0?(V=ce=b,19):f===1?(V=l,X-=257,ce=c,W-=257,256):(V=d,ce=h,-1),L=A,I=y,H=P=N=0,x=-1,R=(Z=1<<(G=F))-1,f===1&&852<Z||f===2&&592<Z)return 1;for(;;){for(_=L-H,U=b[P]<k?(M=0,b[P]):b[P]>k?(M=ce[W+b[P]],V[X+b[P]]):(M=96,0),D=1<<L-H,A=C=1<<G;S[I+(N>>H)+(C-=D)]=_<<24|M<<16|U|0,C!==0;);for(D=1<<L-1;N&D;)D>>=1;if(D!==0?(N&=D-1,N+=D):N=0,P++,--ee[L]==0){if(L===E)break;L=m[v+b[P]]}if(F<L&&(N&R)!==x){for(H===0&&(H=F),I+=A,Q=1<<(G=L-H);G+H<E&&!((Q-=ee[G+H])<=0);)G++,Q<<=1;if(Z+=1<<G,f===1&&852<Z||f===2&&592<Z)return 1;S[x=N&R]=F<<24|G<<16|I-y|0}}return N!==0&&(S[I+N]=L-H<<24|64<<16|0),w.bits=F,0}},{"../utils/common":41}],51:[function(t,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,a){var o=t("../utils/common"),l=0,c=1;function d(Y){for(var ae=Y.length;0<=--ae;)Y[ae]=0}var h=0,f=29,m=256,v=m+1+f,p=30,S=19,y=2*v+1,b=15,w=16,D=7,C=256,x=16,R=17,I=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],B=new Array(2*(v+2));d(B);var L=new Array(2*p);d(L);var P=new Array(512);d(P);var A=new Array(256);d(A);var E=new Array(f);d(E);var F,G,H,Q=new Array(p);function Z(Y,ae,ye,Ce,te){this.static_tree=Y,this.extra_bits=ae,this.extra_base=ye,this.elems=Ce,this.max_length=te,this.has_stree=Y&&Y.length}function N(Y,ae){this.dyn_tree=Y,this.max_code=0,this.stat_desc=ae}function V(Y){return Y<256?P[Y]:P[256+(Y>>>7)]}function X(Y,ae){Y.pending_buf[Y.pending++]=255&ae,Y.pending_buf[Y.pending++]=ae>>>8&255}function ee(Y,ae,ye){Y.bi_valid>w-ye?(Y.bi_buf|=ae<<Y.bi_valid&65535,X(Y,Y.bi_buf),Y.bi_buf=ae>>w-Y.bi_valid,Y.bi_valid+=ye-w):(Y.bi_buf|=ae<<Y.bi_valid&65535,Y.bi_valid+=ye)}function J(Y,ae,ye){ee(Y,ye[2*ae],ye[2*ae+1])}function ce(Y,ae){for(var ye=0;ye|=1&Y,Y>>>=1,ye<<=1,0<--ae;);return ye>>>1}function W(Y,ae,ye){var Ce,te,Re=new Array(b+1),Pe=0;for(Ce=1;Ce<=b;Ce++)Re[Ce]=Pe=Pe+ye[Ce-1]<<1;for(te=0;te<=ae;te++){var fe=Y[2*te+1];fe!==0&&(Y[2*te]=ce(Re[fe]++,fe))}}function ne(Y){var ae;for(ae=0;ae<v;ae++)Y.dyn_ltree[2*ae]=0;for(ae=0;ae<p;ae++)Y.dyn_dtree[2*ae]=0;for(ae=0;ae<S;ae++)Y.bl_tree[2*ae]=0;Y.dyn_ltree[2*C]=1,Y.opt_len=Y.static_len=0,Y.last_lit=Y.matches=0}function se(Y){8<Y.bi_valid?X(Y,Y.bi_buf):0<Y.bi_valid&&(Y.pending_buf[Y.pending++]=Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0}function de(Y,ae,ye,Ce){var te=2*ae,Re=2*ye;return Y[te]<Y[Re]||Y[te]===Y[Re]&&Ce[ae]<=Ce[ye]}function ve(Y,ae,ye){for(var Ce=Y.heap[ye],te=ye<<1;te<=Y.heap_len&&(te<Y.heap_len&&de(ae,Y.heap[te+1],Y.heap[te],Y.depth)&&te++,!de(ae,Ce,Y.heap[te],Y.depth));)Y.heap[ye]=Y.heap[te],ye=te,te<<=1;Y.heap[ye]=Ce}function Te(Y,ae,ye){var Ce,te,Re,Pe,fe=0;if(Y.last_lit!==0)for(;Ce=Y.pending_buf[Y.d_buf+2*fe]<<8|Y.pending_buf[Y.d_buf+2*fe+1],te=Y.pending_buf[Y.l_buf+fe],fe++,Ce===0?J(Y,te,ae):(J(Y,(Re=A[te])+m+1,ae),(Pe=k[Re])!==0&&ee(Y,te-=E[Re],Pe),J(Y,Re=V(--Ce),ye),(Pe=_[Re])!==0&&ee(Y,Ce-=Q[Re],Pe)),fe<Y.last_lit;);J(Y,C,ae)}function Me(Y,ae){var ye,Ce,te,Re=ae.dyn_tree,Pe=ae.stat_desc.static_tree,fe=ae.stat_desc.has_stree,pe=ae.stat_desc.elems,Ie=-1;for(Y.heap_len=0,Y.heap_max=y,ye=0;ye<pe;ye++)Re[2*ye]!==0?(Y.heap[++Y.heap_len]=Ie=ye,Y.depth[ye]=0):Re[2*ye+1]=0;for(;Y.heap_len<2;)Re[2*(te=Y.heap[++Y.heap_len]=Ie<2?++Ie:0)]=1,Y.depth[te]=0,Y.opt_len--,fe&&(Y.static_len-=Pe[2*te+1]);for(ae.max_code=Ie,ye=Y.heap_len>>1;1<=ye;ye--)ve(Y,Re,ye);for(te=pe;ye=Y.heap[1],Y.heap[1]=Y.heap[Y.heap_len--],ve(Y,Re,1),Ce=Y.heap[1],Y.heap[--Y.heap_max]=ye,Y.heap[--Y.heap_max]=Ce,Re[2*te]=Re[2*ye]+Re[2*Ce],Y.depth[te]=(Y.depth[ye]>=Y.depth[Ce]?Y.depth[ye]:Y.depth[Ce])+1,Re[2*ye+1]=Re[2*Ce+1]=te,Y.heap[1]=te++,ve(Y,Re,1),2<=Y.heap_len;);Y.heap[--Y.heap_max]=Y.heap[1],function(_e,ke){var qe,ze,et,Ge,We,Ne,je=ke.dyn_tree,Ft=ke.max_code,Zn=ke.stat_desc.static_tree,Pi=ke.stat_desc.has_stree,Li=ke.stat_desc.extra_bits,Xi=ke.stat_desc.extra_base,yt=ke.stat_desc.max_length,Dt=0;for(Ge=0;Ge<=b;Ge++)_e.bl_count[Ge]=0;for(je[2*_e.heap[_e.heap_max]+1]=0,qe=_e.heap_max+1;qe<y;qe++)yt<(Ge=je[2*je[2*(ze=_e.heap[qe])+1]+1]+1)&&(Ge=yt,Dt++),je[2*ze+1]=Ge,Ft<ze||(_e.bl_count[Ge]++,We=0,Xi<=ze&&(We=Li[ze-Xi]),Ne=je[2*ze],_e.opt_len+=Ne*(Ge+We),Pi&&(_e.static_len+=Ne*(Zn[2*ze+1]+We)));if(Dt!==0){do{for(Ge=yt-1;_e.bl_count[Ge]===0;)Ge--;_e.bl_count[Ge]--,_e.bl_count[Ge+1]+=2,_e.bl_count[yt]--,Dt-=2}while(0<Dt);for(Ge=yt;Ge!==0;Ge--)for(ze=_e.bl_count[Ge];ze!==0;)Ft<(et=_e.heap[--qe])||(je[2*et+1]!==Ge&&(_e.opt_len+=(Ge-je[2*et+1])*je[2*et],je[2*et+1]=Ge),ze--)}}(Y,ae),W(Re,Ie,Y.bl_count)}function q(Y,ae,ye){var Ce,te,Re=-1,Pe=ae[1],fe=0,pe=7,Ie=4;for(Pe===0&&(pe=138,Ie=3),ae[2*(ye+1)+1]=65535,Ce=0;Ce<=ye;Ce++)te=Pe,Pe=ae[2*(Ce+1)+1],++fe<pe&&te===Pe||(fe<Ie?Y.bl_tree[2*te]+=fe:te!==0?(te!==Re&&Y.bl_tree[2*te]++,Y.bl_tree[2*x]++):fe<=10?Y.bl_tree[2*R]++:Y.bl_tree[2*I]++,Re=te,Ie=(fe=0)===Pe?(pe=138,3):te===Pe?(pe=6,3):(pe=7,4))}function le(Y,ae,ye){var Ce,te,Re=-1,Pe=ae[1],fe=0,pe=7,Ie=4;for(Pe===0&&(pe=138,Ie=3),Ce=0;Ce<=ye;Ce++)if(te=Pe,Pe=ae[2*(Ce+1)+1],!(++fe<pe&&te===Pe)){if(fe<Ie)for(;J(Y,te,Y.bl_tree),--fe!=0;);else te!==0?(te!==Re&&(J(Y,te,Y.bl_tree),fe--),J(Y,x,Y.bl_tree),ee(Y,fe-3,2)):fe<=10?(J(Y,R,Y.bl_tree),ee(Y,fe-3,3)):(J(Y,I,Y.bl_tree),ee(Y,fe-11,7));Re=te,Ie=(fe=0)===Pe?(pe=138,3):te===Pe?(pe=6,3):(pe=7,4)}}d(Q);var he=!1;function $(Y,ae,ye,Ce){ee(Y,(h<<1)+(Ce?1:0),3),function(te,Re,Pe,fe){se(te),X(te,Pe),X(te,~Pe),o.arraySet(te.pending_buf,te.window,Re,Pe,te.pending),te.pending+=Pe}(Y,ae,ye)}a._tr_init=function(Y){he||(function(){var ae,ye,Ce,te,Re,Pe=new Array(b+1);for(te=Ce=0;te<f-1;te++)for(E[te]=Ce,ae=0;ae<1<<k[te];ae++)A[Ce++]=te;for(A[Ce-1]=te,te=Re=0;te<16;te++)for(Q[te]=Re,ae=0;ae<1<<_[te];ae++)P[Re++]=te;for(Re>>=7;te<p;te++)for(Q[te]=Re<<7,ae=0;ae<1<<_[te]-7;ae++)P[256+Re++]=te;for(ye=0;ye<=b;ye++)Pe[ye]=0;for(ae=0;ae<=143;)B[2*ae+1]=8,ae++,Pe[8]++;for(;ae<=255;)B[2*ae+1]=9,ae++,Pe[9]++;for(;ae<=279;)B[2*ae+1]=7,ae++,Pe[7]++;for(;ae<=287;)B[2*ae+1]=8,ae++,Pe[8]++;for(W(B,v+1,Pe),ae=0;ae<p;ae++)L[2*ae+1]=5,L[2*ae]=ce(ae,5);F=new Z(B,k,m+1,v,b),G=new Z(L,_,0,p,b),H=new Z(new Array(0),M,0,S,D)}(),he=!0),Y.l_desc=new N(Y.dyn_ltree,F),Y.d_desc=new N(Y.dyn_dtree,G),Y.bl_desc=new N(Y.bl_tree,H),Y.bi_buf=0,Y.bi_valid=0,ne(Y)},a._tr_stored_block=$,a._tr_flush_block=function(Y,ae,ye,Ce){var te,Re,Pe=0;0<Y.level?(Y.strm.data_type===2&&(Y.strm.data_type=function(fe){var pe,Ie=4093624447;for(pe=0;pe<=31;pe++,Ie>>>=1)if(1&Ie&&fe.dyn_ltree[2*pe]!==0)return l;if(fe.dyn_ltree[18]!==0||fe.dyn_ltree[20]!==0||fe.dyn_ltree[26]!==0)return c;for(pe=32;pe<m;pe++)if(fe.dyn_ltree[2*pe]!==0)return c;return l}(Y)),Me(Y,Y.l_desc),Me(Y,Y.d_desc),Pe=function(fe){var pe;for(q(fe,fe.dyn_ltree,fe.l_desc.max_code),q(fe,fe.dyn_dtree,fe.d_desc.max_code),Me(fe,fe.bl_desc),pe=S-1;3<=pe&&fe.bl_tree[2*U[pe]+1]===0;pe--);return fe.opt_len+=3*(pe+1)+5+5+4,pe}(Y),te=Y.opt_len+3+7>>>3,(Re=Y.static_len+3+7>>>3)<=te&&(te=Re)):te=Re=ye+5,ye+4<=te&&ae!==-1?$(Y,ae,ye,Ce):Y.strategy===4||Re===te?(ee(Y,2+(Ce?1:0),3),Te(Y,B,L)):(ee(Y,4+(Ce?1:0),3),function(fe,pe,Ie,_e){var ke;for(ee(fe,pe-257,5),ee(fe,Ie-1,5),ee(fe,_e-4,4),ke=0;ke<_e;ke++)ee(fe,fe.bl_tree[2*U[ke]+1],3);le(fe,fe.dyn_ltree,pe-1),le(fe,fe.dyn_dtree,Ie-1)}(Y,Y.l_desc.max_code+1,Y.d_desc.max_code+1,Pe+1),Te(Y,Y.dyn_ltree,Y.dyn_dtree)),ne(Y),Ce&&se(Y)},a._tr_tally=function(Y,ae,ye){return Y.pending_buf[Y.d_buf+2*Y.last_lit]=ae>>>8&255,Y.pending_buf[Y.d_buf+2*Y.last_lit+1]=255&ae,Y.pending_buf[Y.l_buf+Y.last_lit]=255&ye,Y.last_lit++,ae===0?Y.dyn_ltree[2*ye]++:(Y.matches++,ae--,Y.dyn_ltree[2*(A[ye]+m+1)]++,Y.dyn_dtree[2*V(ae)]++),Y.last_lit===Y.lit_bufsize-1},a._tr_align=function(Y){ee(Y,2,3),J(Y,C,B),function(ae){ae.bi_valid===16?(X(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(Y)}},{"../utils/common":41}],53:[function(t,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,a){(function(o){(function(l,c){if(!l.setImmediate){var d,h,f,m,v=1,p={},S=!1,y=l.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(l);b=b&&b.setTimeout?b:l,d={}.toString.call(l.process)==="[object process]"?function(x){process.nextTick(function(){D(x)})}:function(){if(l.postMessage&&!l.importScripts){var x=!0,R=l.onmessage;return l.onmessage=function(){x=!1},l.postMessage("","*"),l.onmessage=R,x}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),function(x){l.postMessage(m+x,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(x){D(x.data)},function(x){f.port2.postMessage(x)}):y&&"onreadystatechange"in y.createElement("script")?(h=y.documentElement,function(x){var R=y.createElement("script");R.onreadystatechange=function(){D(x),R.onreadystatechange=null,h.removeChild(R),R=null},h.appendChild(R)}):function(x){setTimeout(D,0,x)},b.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var R=new Array(arguments.length-1),I=0;I<R.length;I++)R[I]=arguments[I+1];var k={callback:x,args:R};return p[v]=k,d(v),v++},b.clearImmediate=w}function w(x){delete p[x]}function D(x){if(S)setTimeout(D,0,x);else{var R=p[x];if(R){S=!0;try{(function(I){var k=I.callback,_=I.args;switch(_.length){case 0:k();break;case 1:k(_[0]);break;case 2:k(_[0],_[1]);break;case 3:k(_[0],_[1],_[2]);break;default:k.apply(c,_)}})(R)}finally{w(x),S=!1}}}}function C(x){x.source===l&&typeof x.data=="string"&&x.data.indexOf(m)===0&&D(+x.data.slice(m.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof es<"u"?es:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(y1)),y1.exports}var RP=AP();const OP=Pc(RP);var Cn={m:{},d:function(n,e){for(var t in e)Cn.o(e,t)&&!Cn.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},u:function(n){return"assets/workers/"+{112:"jpegloss.worker",326:"rle.worker",391:"labeling.worker",557:"jpeg2000.worker",968:"jpegbaseline.worker"}[n]+".min.js"},o:function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}};(function(){var n;if(typeof import.meta.url=="string"&&(n=import.meta.url),!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Cn.p=n})(),Cn.b=document.baseURI||self.location.href;class pt{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create index with no values.");if(e.length===0)throw new Error("Cannot create index with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create index with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}add(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)t.push(this.get(i)+e.get(i));return new pt(t)}#t(e,t){const i=this.#e.slice();return e<i.length?i[e]+=t:console.warn("Cannot add to given dimension: ",e,i.length),new pt(i)}next(e){return this.#t(e,1)}previous(e){return this.#t(e,-1)}getWithNew2D(e,t){const i=[e,t];for(let a=2,o=this.length();a<o;++a)i.push(this.get(a));return new pt(i)}}class PP{#e;#t;#n;#r;constructor(e,t){if(this.#e=e,this.#t=e.isID(),this.#n=Math.pow(2,t),!this.#t){this.#r=new Float32Array(this.#n);for(let i=0;i<this.#n;++i)this.#r[i]=this.#e.apply(i)}}getRSI(){return this.#e}getLength(){return this.#n}getValue(e){return this.#t?e:this.#r[e]}}class LP{#e;#t;#n;#r=0;#i=!0;constructor(e,t,i){if(this.#e=e,t){const a=this.#e.getLength();this.#r=a/2}else this.#r=0;this.#i=i}getVoiLut(){return this.#t}getModalityLut(){return this.#e}setVoiLut(e){if(this.#t=e,this.#t.setSignedOffset(this.#e.getRSI().getSlope()*this.#r),this.#i){const t=this.#e.getLength();this.#n=new Uint8ClampedArray(t);for(let i=0;i<t;++i)this.#n[i]=this.#t.apply(this.#e.getValue(i))}}getValue(e){return this.#i?this.#n[e+this.#r]:Math.floor(this.#t.apply(e+this.#r))}}function Sr(n){const e=[];for(let t=0;t<256;++t)e.push(n(t));return e}function v1(n){return n}function b1(n){return 255-n}class sp{red;green;blue;constructor(e,t,i){this.red=e,this.green=t,this.blue=i}}const $5={plain:{red:Sr(v1),green:Sr(v1),blue:Sr(v1)},invPlain:{red:Sr(b1),green:Sr(b1),blue:Sr(b1)},rainbow:{blue:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,247,239,231,223,215,207,199,191,183,175,167,159,151,143,135,127,119,111,103,95,87,79,71,63,55,47,39,31,23,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,16,24,32,40,48,56,64,72,80,88,96,104,112,120,128,136,144,152,160,168,176,184,192,200,208,216,224,232,240,248,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,253,251,249,247,245,243,241,239,237,235,233,231,229,227,225,223,221,219,217,215,213,211,209,207,205,203,201,199,197,195,193,192,189,186,183,180,177,174,171,168,165,162,159,156,153,150,147,144,141,138,135,132,129,126,123,120,117,114,111,108,105,102,99,96,93,90,87,84,81,78,75,72,69,66,63,60,57,54,51,48,45,42,39,36,33,30,27,24,21,18,15,12,9,6,3],red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,62,60,58,56,54,52,50,48,46,44,42,40,38,36,34,32,30,28,26,24,22,20,18,16,14,12,10,8,6,4,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]},hot:{red:Sr(function(n){const e=3*n;return e>255?255:e}),green:Sr(function(n){const e=85.33333333333333;let t=0;return n>=e&&(t=3*(n-e),t>255)?255:t}),blue:Sr(function(n){const e=85.33333333333333;let t=0;return n>=2*e&&(t=3*(n-2*e),t>255)?255:t})},hot_iron:{red:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,252,255]},pet:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,128,126,124,122,120,118,116,114,112,110,108,106,104,102,100,98,96,94,92,90,88,86,84,82,80,78,76,74,72,70,68,66,64,63,61,59,57,55,53,51,49,47,45,43,41,39,37,35,33,31,29,27,25,23,21,19,17,15,13,11,9,7,5,3,1,0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,255],blue:[0,1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,85,87,89,91,93,95,97,99,101,103,105,107,109,111,113,115,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,185,187,189,191,193,195,197,199,201,203,205,207,209,211,213,215,217,219,221,223,225,227,229,231,233,235,237,239,241,243,245,247,249,251,253,255,252,248,244,240,236,232,228,224,220,216,212,208,204,200,196,192,188,184,180,176,172,168,164,160,156,152,148,144,140,136,132,128,124,120,116,112,108,104,100,96,92,88,84,80,76,72,68,64,60,56,52,48,44,40,36,32,28,24,20,16,12,8,4,0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,170,174,178,182,186,190,194,198,202,206,210,214,218,222,226,230,234,238,242,246,250,255]},hot_metal_blue:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,52,55,57,59,62,64,66,69,71,74,76,78,81,83,85,88,90,93,96,99,102,105,108,111,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,166,169,172,175,178,181,184,187,190,194,198,201,205,209,213,217,221,224,228,232,236,240,244,247,251,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,4,6,8,9,11,13,15,17,19,21,23,24,26,28,30,32,34,36,38,40,41,43,45,47,49,51,53,55,56,58,60,62,64,66,68,70,72,73,75,77,79,81,83,85,87,88,90,92,94,96,98,100,102,104,105,107,109,111,113,115,117,119,120,122,124,126,128,130,132,134,136,137,139,141,143,145,147,149,151,152,154,156,158,160,162,164,166,168,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,201,203,205,207,209,211,213,215,216,218,220,222,224,226,228,229,231,233,235,237,239,240,242,244,246,248,250,251,253,255],blue:[0,2,4,6,8,10,12,14,16,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,81,83,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,117,119,121,123,125,127,129,131,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,165,167,169,171,173,175,177,179,181,183,184,186,188,190,192,194,196,198,200,197,194,191,188,185,182,179,176,174,171,168,165,162,159,156,153,150,144,138,132,126,121,115,109,103,97,91,85,79,74,68,62,56,50,47,44,41,38,35,32,29,26,24,21,18,15,12,9,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,6,9,12,15,18,21,24,26,29,32,35,38,41,44,47,50,53,56,59,62,65,68,71,74,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,176,179,182,185,188,191,194,197,200,203,206,210,213,216,219,223,226,229,232,236,239,242,245,249,252,255]},pet_20step:{red:[0,0,0,0,0,0,0,0,0,0,0,0,0,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,208,192,192,192,192,192,192,192,192,192,192,192,192,192,176,176,176,176,176,176,176,176,176,176,176,176,176,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],green:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,112,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,96,96,96,96,96,96,96,96,96,96,96,96,96,144,144,144,144,144,144,144,144,144,144,144,144,144,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,208,208,208,208,208,208,208,208,208,208,208,208,208,176,176,176,176,176,176,176,176,176,176,176,176,176,144,144,144,144,144,144,144,144,144,144,144,144,96,96,96,96,96,96,96,96,96,96,96,96,96,48,48,48,48,48,48,48,48,48,48,48,48,48,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255],blue:[0,0,0,0,0,0,0,0,0,0,0,0,0,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,112,112,112,112,112,112,112,112,112,112,112,112,128,128,128,128,128,128,128,128,128,128,128,128,128,176,176,176,176,176,176,176,176,176,176,176,176,176,192,192,192,192,192,192,192,192,192,192,192,192,192,224,224,224,224,224,224,224,224,224,224,224,224,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,80,80,80,80,80,80,80,80,80,80,80,80,80,64,64,64,64,64,64,64,64,64,64,64,64,80,80,80,80,80,80,80,80,80,80,80,80,80,96,96,96,96,96,96,96,96,96,96,96,96,96,64,64,64,64,64,64,64,64,64,64,64,64,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255]}},De={levels:{TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},level:3,trace:function(n){this.level<=this.levels.TRACE&&console.trace(n)},debug:function(n){this.level<=this.levels.DEBUG&&console.debug(n)},info:function(n){this.level<=this.levels.INFO&&console.info(n)},warn:function(n){this.level<=this.levels.WARN&&console.warn(n)},error:function(n){this.level<=this.levels.ERROR&&console.error(n)}},Qa={linear:"LINEAR",linear_exact:"LINEAR_EXACT",sigmoid:"SIGMOID"};class K5{#e;#t;#n=0;#r=255;#i;#a;constructor(e,t,i){i===void 0&&(i=!1);let a=e,o=t;i||(a-=.5,o-=1),this.#e=a-o/2,this.#t=a+o/2,this.#i=(this.#r-this.#n)/o,this.#a=(-a/o+.5)*(this.#r-this.#n)+this.#n}getY(e){let t;return t=e<=this.#e?this.#n:e>this.#t?this.#r:e*this.#i+this.#a,t}}class IP{#e=0;#t=255;#n;#r;constructor(e,t){this.#n=e,this.#r=t}getY(e){return(this.#t-this.#e)/(1+Math.exp(-4*(e-this.#n)/this.#r))+this.#e}}class EP{#e;#t=0;#n;#r=Qa.linear;constructor(e,t){if(this.#e=e,t!==void 0){const i=[];for(const a in Qa)i.push(Qa[a]);i.includes(t)?this.#r=t:De.debug("Unknown VOI LUT function: "+t)}this.#i()}getWindowLevel(){return this.#e}#i(){const e=this.#e.center,t=this.#e.width,i=e+this.#t;this.#r===Qa.linear_exact?this.#n=new K5(i,t,!0):this.#r===Qa.sigmoid?this.#n=new IP(i,t):this.#n=new K5(i,t)}setSignedOffset(e){this.#t=e,this.#i()}apply(e){return this.#n.getY(e)}}function Z5(n,e,t){if(n===void 0)return;let i=n.center;i=Math.min(i,e.max),i=Math.max(i,e.min);let a=1;t===void 0||t!==Qa.linear_exact&&t!==Qa.sigmoid||(a=0);let o=n.width;return o=Math.max(o,a),o=Math.min(o,e.max-e.min),new qn(i,o)}class qn{center;width;constructor(e,t){this.center=e,this.width=t}equals(e){return e!=null&&this.center===e.center&&this.width===e.width}}class vn{r;g;b;constructor(e,t,i){this.r=e,this.g=t,this.b=i}}function _P(n){return{r:parseInt(n.substring(1,3),16),g:parseInt(n.substring(3,5),16),b:parseInt(n.substring(5,7),16)}}function MP(n){return{l:655.35*n.l,a:257*n.a+32896,b:257*n.b+32896}}const c3={x:95.0489,y:100,z:108.884};function FP(n){return function(e){function t(o){let l=null;return l=o>.008856452?Math.pow(o,.333333333):7.787037037*o+.137931034,l}const i=c3,a=t(e.y/i.y);return{l:116*a-16,a:500*(t(e.x/i.x)-a),b:200*(a-t(e.z/i.z))}}(function(e){function t(l){let c=null;return c=l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4),c}const i=t(e.r/255),a=t(e.g/255),o=t(e.b/255);return{x:100*(.4124*i+.3576*a+.1805*o),y:100*(.2126*i+.7152*a+.0722*o),z:100*(.0193*i+.1192*a+.9505*o)}}(n))}function UP(n){const e={Yellow:"#ffff00",Red:"#ff0000",White:"#ffffff",Green:"#008000",Blue:"#0000ff",Lime:"#00ff00",Fuchsia:"#ff00ff",Black:"#000000"};let t="#ffff00";return e[n]!==void 0&&(t=e[n]),t}const kP={CT:{mediastinum:new qn(40,400),lung:new qn(-500,1500),bone:new qn(500,2e3),brain:new qn(40,80),head:new qn(90,350)}};class NP{create(e,t){const i=new BP(t);t.getPhotometricInterpretation()==="MONOCHROME1"&&i.setColourMap("invPlain");let a={};t.getMeta().windowPresets!==void 0&&(a=t.getMeta().windowPresets),a.minmax={name:"minmax"};const o=t.getMeta().Modality;let l;l=kP[o];for(const c in l){const d=l[c];a[c]={wl:[new qn(d.center,d.width)],name:c}}return i.setWindowPresets(a),i.init(),i}}class Vt{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}norm(){return Math.sqrt(this.#e*this.#e+this.#t*this.#t+this.#n*this.#n)}crossProduct(e){return new Vt(this.#t*e.getZ()-e.getY()*this.#n,this.#n*e.getX()-e.getZ()*this.#e,this.#e*e.getY()-e.getX()*this.#t)}dotProduct(e){return this.#e*e.getX()+this.#t*e.getY()+this.#n*e.getZ()}isCodirectional(e){return this.dotProduct(e)>0}}class Ae{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getX(){return this.#e}getY(){return this.#t}getValues(){return[this.#e,this.#t]}getCentroid(){return this}equals(e){return e!=null&&this.#e===e.getX()&&this.#t===e.getY()}toString(){return"("+this.#e+", "+this.#t+")"}getDistance(e){const t=this.#e-e.getX(),i=this.#t-e.getY();return Math.sqrt(t*t+i*i)}}class Et{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getX(){return this.#e}getY(){return this.#t}getZ(){return this.#n}getValues(){return[this.#e,this.#t,this.#n]}equals(e){return e!==null&&this.#e===e.getX()&&this.#t===e.getY()&&this.#n===e.getZ()}isSimilar(e,t){return e!==null&&mc(this.#e,e.getX(),t)&&mc(this.#t,e.getY(),t)&&mc(this.#n,e.getZ(),t)}toString(){return"("+this.#e+", "+this.#t+", "+this.#n+")"}getDistance(e){return Math.sqrt(this.#r(e))}#r(e){const t=this.#e-e.getX(),i=this.#t-e.getY(),a=this.#n-e.getZ();return t*t+i*i+a*a}getClosest(e){let t=0,i=this.#r(e[t]);for(let a=0;a<e.length;++a){const o=this.#r(e[a]);o<i&&(t=a,i=o)}return t}minus(e){return new Vt(this.#e-e.getX(),this.#t-e.getY(),this.#n-e.getZ())}}class Or{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create point with no values.");if(e.length===0)throw new Error("Cannot create point with empty values.");if(!e.every(function(t){return!isNaN(t)}))throw new Error("Cannot create point with non number values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}canCompare(e){return!!e&&this.length()===e.length()}equals(e){if(!this.canCompare(e))return!1;for(let t=0,i=this.length();t<i;++t)if(this.get(t)!==e.get(t))return!1;return!0}compare(e){if(!this.canCompare(e))return null;const t=[];for(let i=0,a=this.length();i<a;++i)this.get(i)!==e.get(i)&&t.push(i);return t}get3D(){return new Et(this.get(0),this.get(1),this.get(2))}add(e){if(!this.canCompare(e))return null;const t=[],i=this.getValues(),a=e.getValues();for(let o=0;o<i.length;++o)t.push(i[o]+a[o]);return new Or(t)}mergeWith3D(e){const t=this.getValues();return t[0]=e.getX(),t[1]=e.getY(),t[2]=e.getZ(),new Or(t)}}const Ad=1e-4;function mc(n,e,t){return t===void 0&&(t=Number.EPSILON),Math.abs(n-e)<t}class Tr{#e;#t;constructor(e){this.#e=e}get(e,t){return this.#e[3*e+t]}getInverse(){return this.#t===void 0&&(this.#t=function(e){const t=e.get(0,0),i=e.get(0,1),a=e.get(0,2),o=e.get(1,0),l=e.get(1,1),c=e.get(1,2),d=e.get(2,0),h=e.get(2,1),f=e.get(2,2),m=l*f-c*h,v=c*d-o*f,p=o*h-l*d;let S=t*m+i*v+a*p;if(S!==0)return S=1/S,new Tr([S*m,S*(a*h-i*f),S*(i*c-a*l),S*v,S*(t*f-a*d),S*(a*o-t*c),S*p,S*(i*d-t*h),S*(t*l-i*o)]);De.warn("Cannot invert 3*3 matrix with zero determinant.")}(this)),this.#t}equals(e){for(let t=0;t<3;++t)for(let i=0;i<3;++i)if(this.get(t,i)!==e.get(t,i))return!1;return!0}isSimilar(e,t){for(let i=0;i<3;++i)for(let a=0;a<3;++a)if(!mc(this.get(i,a),e.get(i,a),t))return!1;return!0}toString(){let e="[";for(let t=0;t<3;++t){t!==0&&(e+=`, 
 `);for(let i=0;i<3;++i)i!==0&&(e+=", "),e+=this.get(t,i)}return e+="]",e}multiply(e){const t=[];for(let i=0;i<3;++i)for(let a=0;a<3;++a){let o=0;for(let l=0;l<3;++l)o+=this.get(i,l)*e.get(l,a);t.push(o)}return new Tr(t)}getAbs(){const e=[];for(let t=0;t<3;++t)for(let i=0;i<3;++i)e.push(Math.abs(this.get(t,i)));return new Tr(e)}multiplyArray3D(e){if(e.length!==3)throw new Error("Cannot multiply 3x3 matrix with non 3D array: "+e.length);const t=[];for(let i=0;i<3;++i){let a=0;for(let o=0;o<3;++o)a+=this.get(i,o)*e[o];t.push(a)}return t}multiplyVector3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Vt(t[0],t[1],t[2])}multiplyPoint3D(e){const t=this.multiplyArray3D([e.getX(),e.getY(),e.getZ()]);return new Et(t[0],t[1],t[2])}multiplyIndex3D(e){const t=this.multiplyArray3D(e.getValues());return new pt(t)}getRowAbsMax(e){const t=[Math.abs(this.get(e,0)),Math.abs(this.get(e,1)),Math.abs(this.get(e,2))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(e,a),index:a}}getColAbsMax(e){const t=[Math.abs(this.get(0,e)),Math.abs(this.get(1,e)),Math.abs(this.get(2,e))],i=Math.max.apply(null,t),a=t.indexOf(i);return{value:this.get(a,e),index:a}}asOneAndZeros(){const e=[];for(let t=0;t<3;++t){const i=this.getRowAbsMax(t),a=i.value>0?1:-1;for(let o=0;o<3;++o)o===i.index?e.push(1*a):e.push(0)}return new Tr(e)}getThirdColMajorDirection(){return this.getColAbsMax(2).index}}function Rd(){return new Tr([1,0,0,0,1,0,0,0,1])}function Y0(n){return n.equals(Rd())}function Fa(n,e,t,i,a,o,l,c){let d=e;const h=o-a*i;let f=0,m=0;return{next:function(){if(f<t){const v={value:n(d),done:!1,index:d};return d+=i,++f,++m,m===a&&(m=0,d+=h),v}return{done:!0,index:d}}}}function C1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}function u3(n,e,t,i){const a=n.getGeometry().getSize();let o=2;i&&i!==void 0&&(o=i.getColAbsMax(2).index);const l=e.getValues(),c=new pt(l.map(function(D,C){return C===o||C>2?D:0}));let d=a.indexToOffset(c);t===void 0&&(t=!1);let h=null;h=t?function(D){return n.getRescaledValueAtOffset(D)}:function(D){return n.getValueAtOffset(D)};const f=a.get(0),m=a.get(1),v=a.get(2);let p=a.getDimSize(2);const S=n.getNumberOfComponents(),y=n.getPlanarConfiguration()===1,b=function(D,C,x,R,I,k,_,M){return S===1?Fa(D,C,x,R,I,k):S===3?function(U,B,L,P,A,E,F,G,H){const Q=[];return H?(Q.push(Fa(U,B,L,P,A,E)),Q.push(Fa(U,B+L*P,L,P,A,E)),Q.push(Fa(U,B+2*L*P,L,P,A,E))):(P*=3,E*=3,Q.push(Fa(U,B,L,P,A,E)),Q.push(Fa(U,B+1,L,P,A,E)),Q.push(Fa(U,B+2,L,P,A,E))),{next:function(){const Z=Q[0].next(),N=Q[1].next(),V=Q[2].next();return Z.done?{done:!0,index:V.index}:{value:[Z.value,N.value,V.value],done:!1,index:[Z.index,N.index,V.index]}}}}(D,3*C,x,R,I,k,_,M,y):void 0};let w=null;if(i&&i!==void 0){const D=i.getColAbsMax(0),C=i.getColAbsMax(2),x=!1,R=!1;let I=null;if(C.index===2)I=f*m,w=D.index===0?b(h,d,I,1,f,f,x,R):b(h,d,I,f,m,1,x,R);else if(C.index===0)I=v*m,w=D.index===1?b(h,d,I,f,m,p,x,R):b(h,d,I,p,v,f,x,R);else{if(C.index!==1)throw new Error("Unknown direction: "+C.index);I=v*f,w=D.index===0?b(h,d,I,1,f,p,x,R):b(h,d,I,p,v,1,x,R)}}else if(n.getNumberOfComponents()===1)w=function(D,C,x,R){R===void 0&&(R=1);let I=C;return{next:function(){if(I<x){const k={value:D(I),done:!1,index:I};return I+=R,k}return{done:!0,index:x}}}}(h,d,d+p);else{if(n.getNumberOfComponents()!==3)throw new Error("Unsupported number of components: "+n.getNumberOfComponents());d*=3,p*=3,w=function(D,C,x,R,I){R===void 0&&(R=1),I===void 0&&(I=!1);let k=C,_=1;I?_=(x-C)/3:R*=3;let M=k+_,U=k+2*_;return{next:function(){if(k<x){const B={value:[D(k),D(M),D(U)],done:!1,index:[k,M,U]};return k+=R,M+=R,U+=R,B}return{done:!0,index:[x]}}}}(h,d,d+p,1,y)}return w}function qP(n,e){let t=0,i=0;return{next:function(){if(t<e){i+1<n.length&&t>=n[i+1].index&&++i;const a={value:n[i].value,done:!1,index:t};return++t,a}return{done:!0,index:e}}}}class Kn{#e={};add(e,t){this.#e[e]===void 0&&(this.#e[e]=[]),this.#e[e].push(t)}remove(e,t){if(this.#e[e]===void 0)return;let i=0;for(let a=0;a<this.#e[e].length;++a)this.#e[e][a]===t&&(++i,this.#e[e].splice(a,1));i===0&&De.debug("No callback found on remove listener for type "+e)}fireEvent=e=>{if(this.#e[e.type]===void 0)return;const t=this.#e[e.type].slice();for(let i=0;i<t.length;++i)t[i](e)}}class lp{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getSlope(){return this.#e}getIntercept(){return this.#t}apply(e){return e*this.#e+this.#t}equals(e){return e!=null&&this.getSlope()===e.getSlope()&&this.getIntercept()===e.getIntercept()}isID(){return this.getSlope()===1&&this.getIntercept()===0}}const cs=["wlchange","wlpresetadd","colourmapchange","positionchange","opacitychange","alphafuncchange"];class BP{#e;#t;#n;#r={minmax:{name:"minmax"}};#i=null;#a;#o="plain";#s=null;#l;#d=new Kn;constructor(e){this.#e=e,this.#e.addEventListener("appendframe",()=>{const t=this.getCurrentIndex();if(t.length()===3){const i=t.getValues();i.push(0),this.setCurrentIndex(new pt(i))}})}getImage(){return this.#e}setImage(e){this.#e=e}getOrientation(){return this.#l}setOrientation(e){this.#l=e}init(){this.setInitialIndex()}setInitialIndex(){const e=this.#e.getGeometry().getSize(),t=new Array(e.length());t.fill(0),t[0]=Math.floor(e.get(0)/2),t[1]=Math.floor(e.get(1)/2),t[2]=Math.floor(e.get(2)/2),this.setCurrentIndex(new pt(t),!0)}getPlaybackMilliseconds(e){return e||(e=10),Math.round(1e3/e)}#c=function(e,t){return 255};getAlphaFunction(){return this.#c}setAlphaFunction(e){this.#c=e,this.#f({type:"alphafuncchange"})}#u(){if(this.#i&&this.#r[this.#i]!==void 0&&this.#r[this.#i].perslice!==void 0&&this.#r[this.#i].perslice===!0){this.getCurrentIndex()||this.setInitialIndex();const i=this.getCurrentIndex(),a=this.#e.getSecondaryOffset(i),o=this.#r[this.#i].wl[a];o!==void 0&&this.setWindowLevel(o,this.#i,!0)}if(this.#a===void 0&&this.setWindowLevelPresetById(0,!0),this.#n===void 0||this.#e.isConstantRSI()!==this.#n){let i,a;this.#n=this.#e.isConstantRSI(),this.#n?(i=this.#e.getRescaleSlopeAndIntercept(),a=!0):(i=new lp(1,0),a=!1);const o=new PP(i,this.#e.getMeta().BitsStored);this.#t=new LP(o,this.#e.getMeta().PixelRepresentation===1,a)}const e=this.#t.getVoiLut();let t;if(e!==void 0&&(t=e.getWindowLevel()),e===void 0||!this.#a.equals(t)){const i=new EP(this.#a,this.#e.getMeta().VOILUTFunction);this.#t.setVoiLut(i)}return this.#t}getWindowPresets(){return this.#r}getWindowPresetsNames(){return Object.keys(this.#r)}setWindowPresets(e){this.#r=e}addWindowPresets(e){const t=Object.keys(e);let i=null;for(let a=0;a<t.length;++a)if(i=t[a],this.#r[i]!==void 0){if(this.#r[i].perslice!==void 0&&this.#r[i].perslice===!0)throw new Error("Cannot add perslice preset");this.#r[i]=e[i]}else this.#r[i]=e[i],this.#f({type:"wlpresetadd",name:i})}getCurrentWindowPresetName(){return this.#i}getColourMap(){return this.#o}#h(){return $5[this.#o]}setColourMap(e){if(!$5[e])throw new Error("Unknown colour map: '"+e+"'");this.#o=e,this.#f({type:"colourmapchange",value:[e]})}getCurrentPosition(){return this.#s}getCurrentIndex(){const e=this.getCurrentPosition();return e?this.getImage().getGeometry().worldToIndex(e):null}getCurrentImageUid(){return this.#e.getImageUid(this.getCurrentIndex())}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}isPositionInBounds(e){e===void 0&&(e=this.#s);const t=this.#e.getGeometry(),i=t.worldToIndex(e),a=[this.getScrollDimIndex()];return i.length()===4&&a.push(3),t.isIndexInBounds(i,a)}getOrigin(e){const t=this.#e.getGeometry();let i=0;return e!==void 0&&(i=t.worldToIndex(e).get(2)),t.getOrigins()[i]}setCurrentIndex(e,t){const i=this.#e.getGeometry().indexToWorld(e);return this.setCurrentPosition(i,t)}setCurrentPosition(e,t){t===void 0&&(t=!1);const i=this.#e.getGeometry(),a=i.worldToIndex(e),o=[this.getScrollDimIndex()];if(a.length()===4&&o.push(3),!i.isIndexInBounds(a,o))return this.#s=e,t||this.#f({type:"positionchange",value:[a.getValues(),e.getValues()],valid:!1}),!1;let l=null,c=null;if(this.getCurrentPosition()&&(c=this.getCurrentIndex()),c)if(c.canCompare(a))l=c.compare(a);else{l=[];const d=Math.min(c.length(),a.length());for(let f=0;f<d;++f)c.get(f)!==a.get(f)&&l.push(f);const h=Math.max(c.length(),a.length());for(let f=d;f<h;++f)l.push(f)}else{l=[];for(let d=0;d<a.length();++d)l.push(d)}if(this.#s=e,!t){const d={type:"positionchange",value:[a.getValues(),e.getValues()],diffDims:l,data:{imageUid:this.#e.getImageUid(a)}};if(this.#e.canQuantify()){const h=this.#e.getRescaledValueAtIndex(a);d.value.push(h)}this.#f(d)}return!0}setWindowLevel(e,t,i){if(t===void 0&&(t="manual"),t!=="manual"&&this.#r[t]===void 0)throw new Error("Unknown window level preset: '"+t+"'");i===void 0&&(i=!1);const a=Z5(e,this.#e.getRescaledDataRange(),this.#e.getMeta().VOILUTFunction),o=!a.equals(this.#a),l=this.#i!==t;(o||l)&&(this.#a=a,this.#i=t,t==="manual"&&(this.#r[t]!==void 0?this.#r[t].wl[0]=a:this.addWindowPresets({manual:{wl:[a],name:"manual"}})),this.#f({type:"wlchange",value:[a.center,a.width,t],wc:a.center,ww:a.width,skipGenerate:i}))}getWindowLevel(){return this.#u().getVoiLut().getWindowLevel()}setWindowLevelPreset(e,t){const i=this.getWindowPresets()[e];if(i===void 0)throw new Error("Unknown window level preset: '"+e+"'");e==="minmax"&&i.wl===void 0&&(i.wl=[this.getWindowLevelMinMax()]);let a=i.wl[0];if(i.perslice!==void 0&&i.perslice===!0){const o=this.#e.getSecondaryOffset(this.getCurrentIndex());a=i.wl[o]}a!==void 0&&this.setWindowLevel(a,e,t)}setWindowLevelPresetById(e,t){const i=Object.keys(this.getWindowPresets());this.setWindowLevelPreset(i[e],t)}addEventListener(e,t){this.#d.add(e,t)}removeEventListener(e,t){this.#d.remove(e,t)}#f=e=>{this.#d.fireEvent(e)};getWindowLevelMinMax(){const e=this.getImage().getRescaledDataRange(),t=e.max-e.min,i=e.min+t/2;return Z5(new qn(i,t),e,this.#e.getMeta().VOILUTFunction)}setWindowLevelMinMax(){const e=this.getWindowLevelMinMax();this.setWindowLevel(e,"minmax")}generateImageData(e,t){t===void 0&&(this.getCurrentIndex()||this.setInitialIndex(),t=this.getCurrentIndex());const i=this.getImage(),a=!i.isConstantRSI(),o=u3(i,t,a,this.getOrientation()),l=i.getPhotometricInterpretation();switch(l){case"MONOCHROME1":case"MONOCHROME2":(function(c,d,h,f,m){let v=0,p=0,S=d.next();for(;!S.done;)p=f.getValue(S.value),c.data[v]=m.red[p],c.data[v+1]=m.green[p],c.data[v+2]=m.blue[p],c.data[v+3]=h(S.value,S.index),v+=4,S=d.next()})(e,o,this.getAlphaFunction(),this.#u(),this.#h());break;case"PALETTE COLOR":(function(c,d,h,f,m){const v=function(b){return b>>8};m&&De.info("Scaling 16bits data to 8bits.");let p=0,S=0,y=d.next();for(;!y.done;)S=y.value,m?(c.data[p]=v(f.red[S]),c.data[p+1]=v(f.green[S]),c.data[p+2]=v(f.blue[S])):(c.data[p]=f.red[S],c.data[p+1]=f.green[S],c.data[p+2]=f.blue[S]),c.data[p+3]=h(S,y.index),p+=4,y=d.next()})(e,o,this.getAlphaFunction(),i.getPaletteColourMap(),i.getMeta().BitsStored===16);break;case"RGB":(function(c,d,h){let f=0,m=d.next();for(;!m.done;)c.data[f]=m.value[0],c.data[f+1]=m.value[1],c.data[f+2]=m.value[2],c.data[f+3]=h(m.value,m.index),f+=4,m=d.next()})(e,o,this.getAlphaFunction());break;case"YBR_FULL":(function(c,d,h){let f=0,m=null,v=d.next();for(;!v.done;)p=v.value[0],S=v.value[1],y=v.value[2],m={r:p+1.402*(y-128),g:p-.34414*(S-128)-.71414*(y-128),b:p+1.772*(S-128)},c.data[f]=m.r,c.data[f+1]=m.g,c.data[f+2]=m.b,c.data[f+3]=h(v.value,v.index),f+=4,v=d.next();var p,S,y})(e,o,this.getAlphaFunction());break;default:throw new Error("Unsupported photometric interpretation: "+l)}}getScrollDimIndex(){let e=null;const t=this.getOrientation();return e=t!==void 0?t.getThirdColMajorDirection():2,e}isAquisitionOrientation(){return Y0(this.#l)}}function d3(){return new Tr([1,0,0,0,0,1,0,-1,0])}const xr={Axial:"axial",Coronal:"coronal",Sagittal:"sagittal"};function J5(n){let e;return n===xr.Axial?e=Rd():n===xr.Coronal?e=d3():n===xr.Sagittal&&(e=new Tr([0,0,-1,1,0,0,0,-1,0])),e}function h3(n){const e=new Vt(n.get(0,0),n.get(1,0),n.get(2,0)),t=new Vt(n.get(0,1),n.get(1,1),n.get(2,1)),i=new Vt(n.get(0,2),n.get(1,2),n.get(2,2));return D1(e)+D1(t)+D1(i)}function D1(n){let e=new Vt(Math.abs(n.getX()),Math.abs(n.getY()),Math.abs(n.getZ())),t="";const i=n.getX()<0?"R":"L",a=n.getY()<0?"A":"P",o=n.getZ()<0?"I":"S",l=1e-4;for(let c=0;c<3;c++)if(e.getX()>l&&e.getX()>e.getY()&&e.getX()>e.getZ())t+=i,e=new Vt(0,e.getY(),e.getZ());else if(e.getY()>l&&e.getY()>e.getX()&&e.getY()>e.getZ())t+=a,e=new Vt(e.getX(),0,e.getZ());else{if(!(e.getZ()>l&&e.getZ()>e.getX()&&e.getZ()>e.getY()))break;t+=o,e=new Vt(e.getX(),e.getY(),0)}return t}function GP(n){let e;const t=cp(n);return t!==void 0&&(e=function(i){let a;return["LPS","LAI","RPI","RAS","ALS","ARI","PLI","PRS"].includes(i)?a=xr.Axial:["LSA","LIP","RSP","RIA","ILA","IRP","SLP","SRA"].includes(i)?a=xr.Coronal:["PSL","PIR","ASR","AIL","IAR","IPL","SAL","SPR"].includes(i)&&(a=xr.Sagittal),a}(h3(t.asOneAndZeros()))),e}function cp(n){let e;if(n!==void 0&&n.length===6){const t=new Vt(n[0],n[1],n[2]),i=new Vt(n[3],n[4],n[5]),a=t.crossProduct(i);e=new Tr([t.getX(),i.getX(),a.getX(),t.getY(),i.getY(),a.getY(),t.getZ(),i.getZ(),a.getZ()])}return e}function eb(n,e){let t=Rd();return e!==void 0&&(t=n.asOneAndZeros().getInverse().multiply(e)),t.getAbs()}const zP={t(n){let e=n;const t=n.split(".");return t.length===2&&t[0]==="unit"&&(e={mm:"mm",cm2:"cm²",ml:"ml",degree:"°",pixel:"pixels"}[t[1]]),e}};function Ua(n,e,t){if(n==null||e==null)return!1;const i=0;return n.substring(i,i+e.length)===e}function tb(n,e){return n!=null&&e!=null&&n.substring(n.length-e.length)===e}function nb(n){const e=[];if(n==null)return e;const t=/{(\w+)}/g;let i=t.exec(n);for(;i;)e.push(i[1]),i=t.exec(n);return e}function na(n){let e=null;if(n!=null&&n[0]!=="."){const t=n.toLowerCase().split(".");t.length!==1&&(e=t.pop(),/[a-z]/.test(e)&&!e.includes("/")||(e=null))}return e}function VP(n){const e=new Uint8Array(n.length);for(let t=0,i=n.length;t<i;t++)e[t]=n.charCodeAt(t);return e}function Qi(n,e){const t=Math.pow(10,e),i=.01/t;return Math.round(n*t+i)/t}class Ar{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create size with no values.");if(e.length===0)throw new Error("Cannot create size with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create size with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}moreThanOne(e){return this.length()>=e+1&&this.get(e)!==1}canScroll3D(e){let t=2;return e!==void 0&&(t=e.getThirdColMajorDirection()),this.moreThanOne(t)}canScroll(e){let t=this.canScroll3D(e);for(let i=3;i<this.length();++i)t=t||this.moreThanOne(i);return t}getDimSize(e,t){if(e>this.length())return null;if(t===void 0)t=0;else if(t<0||t>e)throw new Error("Invalid start value for getDimSize");let i=1;for(let a=t;a<e;++a)i*=this.get(a);return i}getTotalSize(e){return this.getDimSize(this.length(),e)}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}isInBounds(e,t){if(!e)return!1;const i=this.length();if(i!==e.length())return!1;if(t===void 0){t=[];for(let l=0;l<i;++l)t.push(l)}else for(let l=0;l<i;++l)if(t[l]>i-1)throw new Error("Wrong input dir value: "+t[l]);for(let l=0;l<t.length;++l)if(a=e.get(t[l]),o=this.get(t[l]),!(a>=0&&a<o))return!1;var a,o;return!0}indexToOffset(e,t){if(e.length()<this.length())throw new Error("Incompatible index and size length");if(t===void 0)t=0;else if(t<0||t>this.length()-1)throw new Error("Invalid start value for indexToOffset");let i=0;for(let a=t;a<this.length();++a){const o=this.get(a),l=e.get(a);if(l>=o||l<0)return-1;i+=l*this.getDimSize(a,t)}return i}offsetToIndex(e){const t=new Array(this.length());let i=e,a=0;for(let o=this.length()-1;o>0;--o)a=this.getDimSize(o),t[o]=Math.floor(i/a),i-=t[o]*a;return t[0]=i,new pt(t)}get2D(){return{x:this.get(0),y:this.get(1)}}}class la{#e;constructor(e){if(!e||e===void 0)throw new Error("Cannot create spacing with no values.");if(e.length===0)throw new Error("Cannot create spacing with empty values.");if(!e.every(function(t){return!isNaN(t)&&t!==0}))throw new Error("Cannot create spacing with non number or zero values.");this.#e=e}get(e){return this.#e[e]}length(){return this.#e.length}toString(){return"("+this.#e.toString()+")"}getValues(){return this.#e.slice()}equals(e){if(!e)return!1;const t=this.length();if(t!==e.length())return!1;for(let i=0;i<t;++i)if(this.get(i)!==e.get(i))return!1;return!0}get2D(){return{x:this.get(0),y:this.get(1)}}}function QP(n,e){if(e===void 0){e=[];for(let i=0;i<n.length;++i)e.push(i)}for(let i=0;i<e.length;++i)if(e[i]>=n.length)throw new Error("Non valid dimension for toStringId");let t="";for(let i=0;i<e.length;++i)i!==0&&(t+="_"),t+="#"+e[i]+"-"+n[e[i]];return t}function f3(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&g3(n.slice().sort(),e.slice().sort())}function g3(n,e){return n!==null&&e!==null&&n!==void 0&&e!==void 0&&n.length===e.length&&n.every(function(t,i){return t===e[i]})}function ib(n){return String.fromCharCode.apply(String,n)}function d0(n,e,t,i){(t===void 0||t<0||t>=n.length)&&(t=0),(i===void 0||i<=t||i>n.length)&&(i=n.length);for(let a=t;a<i;++a)if(e(n[a],a,n))return a}function rb(n){return function(e,t,i){for(let a=0;a<n.length;++a)if(i[t+a]!==n[a])return!1;return!0}}const E0={"0000":{"0000":["UL","1","CommandGroupLength"],"0001":["UL","1","CommandLengthToEnd"],"0002":["UI","1","AffectedSOPClassUID"],"0003":["UI","1","RequestedSOPClassUID"],"0010":["SH","1","CommandRecognitionCode"],"0100":["US","1","CommandField"],"0110":["US","1","MessageID"],"0120":["US","1","MessageIDBeingRespondedTo"],"0200":["AE","1","Initiator"],"0300":["AE","1","Receiver"],"0400":["AE","1","FindLocation"],"0600":["AE","1","MoveDestination"],"0700":["US","1","Priority"],"0800":["US","1","CommandDataSetType"],"0850":["US","1","NumberOfMatches"],"0860":["US","1","ResponseSequenceNumber"],"0900":["US","1","Status"],"0901":["AT","1-n","OffendingElement"],"0902":["LO","1","ErrorComment"],"0903":["US","1","ErrorID"],1e3:["UI","1","AffectedSOPInstanceUID"],1001:["UI","1","RequestedSOPInstanceUID"],1002:["US","1","EventTypeID"],1005:["AT","1-n","AttributeIdentifierList"],1008:["US","1","ActionTypeID"],1020:["US","1","NumberOfRemainingSuboperations"],1021:["US","1","NumberOfCompletedSuboperations"],1022:["US","1","NumberOfFailedSuboperations"],1023:["US","1","NumberOfWarningSuboperations"],1030:["AE","1","MoveOriginatorApplicationEntityTitle"],1031:["US","1","MoveOriginatorMessageID"],4e3:["LT","1","DialogReceiver"],4010:["LT","1","TerminalType"],5010:["SH","1","MessageSetID"],5020:["SH","1","EndMessageID"],5110:["LT","1","DisplayFormat"],5120:["LT","1","PagePositionID"],5130:["CS","1","TextFormatID"],5140:["CS","1","NormalReverse"],5150:["CS","1","AddGrayScale"],5160:["CS","1","Borders"],5170:["IS","1","Copies"],5180:["CS","1","CommandMagnificationType"],5190:["CS","1","Erase"],"51A0":["CS","1","Print"],"51B0":["US","1-n","Overlays"]},"0002":{"0000":["UL","1","FileMetaInformationGroupLength"],"0001":["OB","1","FileMetaInformationVersion"],"0002":["UI","1","MediaStorageSOPClassUID"],"0003":["UI","1","MediaStorageSOPInstanceUID"],"0010":["UI","1","TransferSyntaxUID"],"0012":["UI","1","ImplementationClassUID"],"0013":["SH","1","ImplementationVersionName"],"0016":["AE","1","SourceApplicationEntityTitle"],"0017":["AE","1","SendingApplicationEntityTitle"],"0018":["AE","1","ReceivingApplicationEntityTitle"],"0026":["UR","1","SourcePresentationAddress"],"0027":["UR","1","SendingPresentationAddress"],"0028":["UR","1","ReceivingPresentationAddress"],"0031":["OB","1","RTVMetaInformationVersion"],"0032":["UI","1","RTVCommunicationSOPClassUID"],"0033":["UI","1","RTVCommunicationSOPInstanceUID"],"0035":["OB","1","RTVSourceIdentifier"],"0036":["OB","1","RTVFlowIdentifier"],"0037":["UL","1","RTVFlowRTPSamplingRate"],"0038":["FD","1","RTVFlowActualFrameDuration"],"0100":["UI","1","PrivateInformationCreatorUID"],"0102":["OB","1","PrivateInformation"]},"0004":{"0000":["UL","1","GenericGroupLength"],1130:["CS","1","FileSetID"],1141:["CS","1-8","FileSetDescriptorFileID"],1142:["CS","1","SpecificCharacterSetOfFileSetDescriptorFile"],1200:["UL","1","OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"],1202:["UL","1","OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"],1212:["US","1","FileSetConsistencyFlag"],1220:["SQ","1","DirectoryRecordSequence"],1400:["UL","1","OffsetOfTheNextDirectoryRecord"],1410:["US","1","RecordInUseFlag"],1420:["UL","1","OffsetOfReferencedLowerLevelDirectoryEntity"],1430:["CS","1","DirectoryRecordType"],1432:["UI","1","PrivateRecordUID"],1500:["CS","1-8","ReferencedFileID"],1504:["UL","1","MRDRDirectoryRecordOffset"],1510:["UI","1","ReferencedSOPClassUIDInFile"],1511:["UI","1","ReferencedSOPInstanceUIDInFile"],1512:["UI","1","ReferencedTransferSyntaxUIDInFile"],"151A":["UI","1-n","ReferencedRelatedGeneralSOPClassUIDInFile"],1600:["UL","1","NumberOfReferences"]},"0008":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","LengthToEnd"],"0005":["CS","1-n","SpecificCharacterSet"],"0006":["SQ","1","LanguageCodeSequence"],"0008":["CS","2-n","ImageType"],"0010":["SH","1","RecognitionCode"],"0012":["DA","1","InstanceCreationDate"],"0013":["TM","1","InstanceCreationTime"],"0014":["UI","1","InstanceCreatorUID"],"0015":["DT","1","InstanceCoercionDateTime"],"0016":["UI","1","SOPClassUID"],"0018":["UI","1","SOPInstanceUID"],"001A":["UI","1-n","RelatedGeneralSOPClassUID"],"001B":["UI","1","OriginalSpecializedSOPClassUID"],"0020":["DA","1","StudyDate"],"0021":["DA","1","SeriesDate"],"0022":["DA","1","AcquisitionDate"],"0023":["DA","1","ContentDate"],"0024":["DA","1","OverlayDate"],"0025":["DA","1","CurveDate"],"002A":["DT","1","AcquisitionDateTime"],"0030":["TM","1","StudyTime"],"0031":["TM","1","SeriesTime"],"0032":["TM","1","AcquisitionTime"],"0033":["TM","1","ContentTime"],"0034":["TM","1","OverlayTime"],"0035":["TM","1","CurveTime"],"0040":["US","1","DataSetType"],"0041":["LO","1","DataSetSubtype"],"0042":["CS","1","NuclearMedicineSeriesType"],"0050":["SH","1","AccessionNumber"],"0051":["SQ","1","IssuerOfAccessionNumberSequence"],"0052":["CS","1","QueryRetrieveLevel"],"0053":["CS","1","QueryRetrieveView"],"0054":["AE","1-n","RetrieveAETitle"],"0055":["AE","1","StationAETitle"],"0056":["CS","1","InstanceAvailability"],"0058":["UI","1-n","FailedSOPInstanceUIDList"],"0060":["CS","1","Modality"],"0061":["CS","1-n","ModalitiesInStudy"],"0062":["UI","1-n","SOPClassesInStudy"],"0063":["SQ","1","AnatomicRegionsInStudyCodeSequence"],"0064":["CS","1","ConversionType"],"0068":["CS","1","PresentationIntentType"],"0070":["LO","1","Manufacturer"],"0080":["LO","1","InstitutionName"],"0081":["ST","1","InstitutionAddress"],"0082":["SQ","1","InstitutionCodeSequence"],"0090":["PN","1","ReferringPhysicianName"],"0092":["ST","1","ReferringPhysicianAddress"],"0094":["SH","1-n","ReferringPhysicianTelephoneNumbers"],"0096":["SQ","1","ReferringPhysicianIdentificationSequence"],"009C":["PN","1-n","ConsultingPhysicianName"],"009D":["SQ","1","ConsultingPhysicianIdentificationSequence"],"0100":["SH","1","CodeValue"],"0101":["LO","1","ExtendedCodeValue"],"0102":["SH","1","CodingSchemeDesignator"],"0103":["SH","1","CodingSchemeVersion"],"0104":["LO","1","CodeMeaning"],"0105":["CS","1","MappingResource"],"0106":["DT","1","ContextGroupVersion"],"0107":["DT","1","ContextGroupLocalVersion"],"0108":["LT","1","ExtendedCodeMeaning"],"0109":["SQ","1","CodingSchemeResourcesSequence"],"010A":["CS","1","CodingSchemeURLType"],"010B":["CS","1","ContextGroupExtensionFlag"],"010C":["UI","1","CodingSchemeUID"],"010D":["UI","1","ContextGroupExtensionCreatorUID"],"010E":["UR","1","CodingSchemeURL"],"010F":["CS","1","ContextIdentifier"],"0110":["SQ","1","CodingSchemeIdentificationSequence"],"0112":["LO","1","CodingSchemeRegistry"],"0114":["ST","1","CodingSchemeExternalID"],"0115":["ST","1","CodingSchemeName"],"0116":["ST","1","CodingSchemeResponsibleOrganization"],"0117":["UI","1","ContextUID"],"0118":["UI","1","MappingResourceUID"],"0119":["UC","1","LongCodeValue"],"0120":["UR","1","URNCodeValue"],"0121":["SQ","1","EquivalentCodeSequence"],"0122":["LO","1","MappingResourceName"],"0123":["SQ","1","ContextGroupIdentificationSequence"],"0124":["SQ","1","MappingResourceIdentificationSequence"],"0201":["SH","1","TimezoneOffsetFromUTC"],"0202":["","",""],"0220":["SQ","1","ResponsibleGroupCodeSequence"],"0221":["CS","1","EquipmentModality"],"0222":["LO","1","ManufacturerRelatedModelGroup"],"0300":["SQ","1","PrivateDataElementCharacteristicsSequence"],"0301":["US","1","PrivateGroupReference"],"0302":["LO","1","PrivateCreatorReference"],"0303":["CS","1","BlockIdentifyingInformationStatus"],"0304":["US","1-n","NonidentifyingPrivateElements"],"0305":["SQ","1","DeidentificationActionSequence"],"0306":["US","1-n","IdentifyingPrivateElements"],"0307":["CS","1","DeidentificationAction"],"0308":["US","1","PrivateDataElement"],"0309":["UL","1-3","PrivateDataElementValueMultiplicity"],"030A":["CS","1","PrivateDataElementValueRepresentation"],"030B":["UL","1-2","PrivateDataElementNumberOfItems"],"030C":["UC","1","PrivateDataElementName"],"030D":["UC","1","PrivateDataElementKeyword"],"030E":["UT","1","PrivateDataElementDescription"],"030F":["UT","1","PrivateDataElementEncoding"],"0310":["SQ","1","PrivateDataElementDefinitionSequence"],1e3:["AE","1","NetworkID"],1010:["SH","1","StationName"],1030:["LO","1","StudyDescription"],1032:["SQ","1","ProcedureCodeSequence"],"103E":["LO","1","SeriesDescription"],"103F":["SQ","1","SeriesDescriptionCodeSequence"],1040:["LO","1","InstitutionalDepartmentName"],1041:["SQ","1","InstitutionalDepartmentTypeCodeSequence"],1048:["PN","1-n","PhysiciansOfRecord"],1049:["SQ","1","PhysiciansOfRecordIdentificationSequence"],1050:["PN","1-n","PerformingPhysicianName"],1052:["SQ","1","PerformingPhysicianIdentificationSequence"],1060:["PN","1-n","NameOfPhysiciansReadingStudy"],1062:["SQ","1","PhysiciansReadingStudyIdentificationSequence"],1070:["PN","1-n","OperatorsName"],1072:["SQ","1","OperatorIdentificationSequence"],1080:["LO","1-n","AdmittingDiagnosesDescription"],1084:["SQ","1","AdmittingDiagnosesCodeSequence"],1090:["LO","1","ManufacturerModelName"],1100:["SQ","1","ReferencedResultsSequence"],1110:["SQ","1","ReferencedStudySequence"],1111:["SQ","1","ReferencedPerformedProcedureStepSequence"],1115:["SQ","1","ReferencedSeriesSequence"],1120:["SQ","1","ReferencedPatientSequence"],1125:["SQ","1","ReferencedVisitSequence"],1130:["SQ","1","ReferencedOverlaySequence"],1134:["SQ","1","ReferencedStereometricInstanceSequence"],"113A":["SQ","1","ReferencedWaveformSequence"],1140:["SQ","1","ReferencedImageSequence"],1145:["SQ","1","ReferencedCurveSequence"],"114A":["SQ","1","ReferencedInstanceSequence"],"114B":["SQ","1","ReferencedRealWorldValueMappingInstanceSequence"],1150:["UI","1","ReferencedSOPClassUID"],1155:["UI","1","ReferencedSOPInstanceUID"],1156:["SQ","1","DefinitionSourceSequence"],"115A":["UI","1-n","SOPClassesSupported"],1160:["IS","1-n","ReferencedFrameNumber"],1161:["UL","1-n","SimpleFrameList"],1162:["UL","3-3n","CalculatedFrameList"],1163:["FD","2","TimeRange"],1164:["SQ","1","FrameExtractionSequence"],1167:["UI","1","MultiFrameSourceSOPInstanceUID"],1190:["UR","1","RetrieveURL"],1195:["UI","1","TransactionUID"],1196:["US","1","WarningReason"],1197:["US","1","FailureReason"],1198:["SQ","1","FailedSOPSequence"],1199:["SQ","1","ReferencedSOPSequence"],"119A":["SQ","1","OtherFailuresSequence"],1200:["SQ","1","StudiesContainingOtherReferencedInstancesSequence"],1250:["SQ","1","RelatedSeriesSequence"],2110:["CS","1","LossyImageCompressionRetired"],2111:["ST","1","DerivationDescription"],2112:["SQ","1","SourceImageSequence"],2120:["SH","1","StageName"],2122:["IS","1","StageNumber"],2124:["IS","1","NumberOfStages"],2127:["SH","1","ViewName"],2128:["IS","1","ViewNumber"],2129:["IS","1","NumberOfEventTimers"],"212A":["IS","1","NumberOfViewsInStage"],2130:["DS","1-n","EventElapsedTimes"],2132:["LO","1-n","EventTimerNames"],2133:["SQ","1","EventTimerSequence"],2134:["FD","1","EventTimeOffset"],2135:["SQ","1","EventCodeSequence"],2142:["IS","1","StartTrim"],2143:["IS","1","StopTrim"],2144:["IS","1","RecommendedDisplayFrameRate"],2200:["CS","1","TransducerPosition"],2204:["CS","1","TransducerOrientation"],2208:["CS","1","AnatomicStructure"],2218:["SQ","1","AnatomicRegionSequence"],2220:["SQ","1","AnatomicRegionModifierSequence"],2228:["SQ","1","PrimaryAnatomicStructureSequence"],2229:["SQ","1","AnatomicStructureSpaceOrRegionSequence"],2230:["SQ","1","PrimaryAnatomicStructureModifierSequence"],2240:["SQ","1","TransducerPositionSequence"],2242:["SQ","1","TransducerPositionModifierSequence"],2244:["SQ","1","TransducerOrientationSequence"],2246:["SQ","1","TransducerOrientationModifierSequence"],2251:["SQ","1","AnatomicStructureSpaceOrRegionCodeSequenceTrial"],2253:["SQ","1","AnatomicPortalOfEntranceCodeSequenceTrial"],2255:["SQ","1","AnatomicApproachDirectionCodeSequenceTrial"],2256:["ST","1","AnatomicPerspectiveDescriptionTrial"],2257:["SQ","1","AnatomicPerspectiveCodeSequenceTrial"],2258:["ST","1","AnatomicLocationOfExaminingInstrumentDescriptionTrial"],2259:["SQ","1","AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"],"225A":["SQ","1","AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"],"225C":["SQ","1","OnAxisBackgroundAnatomicStructureCodeSequenceTrial"],3001:["SQ","1","AlternateRepresentationSequence"],3002:["UI","1-n","AvailableTransferSyntaxUID"],3010:["UI","1-n","IrradiationEventUID"],3011:["SQ","1","SourceIrradiationEventSequence"],3012:["UI","1","RadiopharmaceuticalAdministrationEventUID"],4e3:["LT","1","IdentifyingComments"],9007:["CS","4","FrameType"],9092:["SQ","1","ReferencedImageEvidenceSequence"],9121:["SQ","1","ReferencedRawDataSequence"],9123:["UI","1","CreatorVersionUID"],9124:["SQ","1","DerivationImageSequence"],9154:["SQ","1","SourceImageEvidenceSequence"],9205:["CS","1","PixelPresentation"],9206:["CS","1","VolumetricProperties"],9207:["CS","1","VolumeBasedCalculationTechnique"],9208:["CS","1","ComplexImageComponent"],9209:["CS","1","AcquisitionContrast"],9215:["SQ","1","DerivationCodeSequence"],9237:["SQ","1","ReferencedPresentationStateSequence"],9410:["SQ","1","ReferencedOtherPlaneSequence"],9458:["SQ","1","FrameDisplaySequence"],9459:["FL","1","RecommendedDisplayFrameRateInFloat"],9460:["CS","1","SkipFrameRangeFlag"]},"0010":{"0000":["UL","1","GenericGroupLength"],"0010":["PN","1","PatientName"],"0020":["LO","1","PatientID"],"0021":["LO","1","IssuerOfPatientID"],"0022":["CS","1","TypeOfPatientID"],"0024":["SQ","1","IssuerOfPatientIDQualifiersSequence"],"0026":["SQ","1","SourcePatientGroupIdentificationSequence"],"0027":["SQ","1","GroupOfPatientsIdentificationSequence"],"0028":["US","3","SubjectRelativePositionInImage"],"0030":["DA","1","PatientBirthDate"],"0032":["TM","1","PatientBirthTime"],"0033":["LO","1","PatientBirthDateInAlternativeCalendar"],"0034":["LO","1","PatientDeathDateInAlternativeCalendar"],"0035":["CS","1","PatientAlternativeCalendar"],"0040":["CS","1","PatientSex"],"0050":["SQ","1","PatientInsurancePlanCodeSequence"],"0101":["SQ","1","PatientPrimaryLanguageCodeSequence"],"0102":["SQ","1","PatientPrimaryLanguageModifierCodeSequence"],"0200":["CS","1","QualityControlSubject"],"0201":["SQ","1","QualityControlSubjectTypeCodeSequence"],"0212":["UC","1","StrainDescription"],"0213":["LO","1","StrainNomenclature"],"0214":["LO","1","StrainStockNumber"],"0215":["SQ","1","StrainSourceRegistryCodeSequence"],"0216":["SQ","1","StrainStockSequence"],"0217":["LO","1","StrainSource"],"0218":["UT","1","StrainAdditionalInformation"],"0219":["SQ","1","StrainCodeSequence"],"0221":["SQ","1","GeneticModificationsSequence"],"0222":["UC","1","GeneticModificationsDescription"],"0223":["LO","1","GeneticModificationsNomenclature"],"0229":["SQ","1","GeneticModificationsCodeSequence"],1e3:["LO","1-n","OtherPatientIDs"],1001:["PN","1-n","OtherPatientNames"],1002:["SQ","1","OtherPatientIDsSequence"],1005:["PN","1","PatientBirthName"],1010:["AS","1","PatientAge"],1020:["DS","1","PatientSize"],1021:["SQ","1","PatientSizeCodeSequence"],1022:["DS","1","PatientBodyMassIndex"],1023:["DS","1","MeasuredAPDimension"],1024:["DS","1","MeasuredLateralDimension"],1030:["DS","1","PatientWeight"],1040:["LO","1","PatientAddress"],1050:["LO","1-n","InsurancePlanIdentification"],1060:["PN","1","PatientMotherBirthName"],1080:["LO","1","MilitaryRank"],1081:["LO","1","BranchOfService"],1090:["LO","1","MedicalRecordLocator"],1100:["SQ","1","ReferencedPatientPhotoSequence"],2e3:["LO","1-n","MedicalAlerts"],2110:["LO","1-n","Allergies"],2150:["LO","1","CountryOfResidence"],2152:["LO","1","RegionOfResidence"],2154:["SH","1-n","PatientTelephoneNumbers"],2155:["LT","1","PatientTelecomInformation"],2160:["SH","1","EthnicGroup"],2180:["SH","1","Occupation"],"21A0":["CS","1","SmokingStatus"],"21B0":["LT","1","AdditionalPatientHistory"],"21C0":["US","1","PregnancyStatus"],"21D0":["DA","1","LastMenstrualDate"],"21F0":["LO","1","PatientReligiousPreference"],2201:["LO","1","PatientSpeciesDescription"],2202:["SQ","1","PatientSpeciesCodeSequence"],2203:["CS","1","PatientSexNeutered"],2210:["CS","1","AnatomicalOrientationType"],2292:["LO","1","PatientBreedDescription"],2293:["SQ","1","PatientBreedCodeSequence"],2294:["SQ","1","BreedRegistrationSequence"],2295:["LO","1","BreedRegistrationNumber"],2296:["SQ","1","BreedRegistryCodeSequence"],2297:["PN","1","ResponsiblePerson"],2298:["CS","1","ResponsiblePersonRole"],2299:["LO","1","ResponsibleOrganization"],4e3:["LT","1","PatientComments"],9431:["FL","1","ExaminedBodyThickness"]},"0012":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ClinicalTrialSponsorName"],"0020":["LO","1","ClinicalTrialProtocolID"],"0021":["LO","1","ClinicalTrialProtocolName"],"0030":["LO","1","ClinicalTrialSiteID"],"0031":["LO","1","ClinicalTrialSiteName"],"0040":["LO","1","ClinicalTrialSubjectID"],"0042":["LO","1","ClinicalTrialSubjectReadingID"],"0050":["LO","1","ClinicalTrialTimePointID"],"0051":["ST","1","ClinicalTrialTimePointDescription"],"0052":["FD","1","LongitudinalTemporalOffsetFromEvent"],"0053":["CS","1","LongitudinalTemporalEventType"],"0060":["LO","1","ClinicalTrialCoordinatingCenterName"],"0062":["CS","1","PatientIdentityRemoved"],"0063":["LO","1-n","DeidentificationMethod"],"0064":["SQ","1","DeidentificationMethodCodeSequence"],"0071":["LO","1","ClinicalTrialSeriesID"],"0072":["LO","1","ClinicalTrialSeriesDescription"],"0081":["LO","1","ClinicalTrialProtocolEthicsCommitteeName"],"0082":["LO","1","ClinicalTrialProtocolEthicsCommitteeApprovalNumber"],"0083":["SQ","1","ConsentForClinicalTrialUseSequence"],"0084":["CS","1","DistributionType"],"0085":["CS","1","ConsentForDistributionFlag"],"0086":["DA","1","EthicsCommitteeApprovalEffectivenessStartDate"],"0087":["DA","1","EthicsCommitteeApprovalEffectivenessEndDate"]},"0014":{"0000":["UL","1","GenericGroupLength"],"0023":["ST","1","CADFileFormat"],"0024":["ST","1","ComponentReferenceSystem"],"0025":["ST","1","ComponentManufacturingProcedure"],"0028":["ST","1","ComponentManufacturer"],"0030":["DS","1-n","MaterialThickness"],"0032":["DS","1-n","MaterialPipeDiameter"],"0034":["DS","1-n","MaterialIsolationDiameter"],"0042":["ST","1","MaterialGrade"],"0044":["ST","1","MaterialPropertiesDescription"],"0045":["ST","1","MaterialPropertiesFileFormatRetired"],"0046":["LT","1","MaterialNotes"],"0050":["CS","1","ComponentShape"],"0052":["CS","1","CurvatureType"],"0054":["DS","1","OuterDiameter"],"0056":["DS","1","InnerDiameter"],"0100":["LO","1-n","ComponentWelderIDs"],"0101":["CS","1","SecondaryApprovalStatus"],"0102":["DA","1","SecondaryReviewDate"],"0103":["TM","1","SecondaryReviewTime"],"0104":["PN","1","SecondaryReviewerName"],"0105":["ST","1","RepairID"],"0106":["SQ","1","MultipleComponentApprovalSequence"],"0107":["CS","1-n","OtherApprovalStatus"],"0108":["CS","1-n","OtherSecondaryApprovalStatus"],1010:["ST","1","ActualEnvironmentalConditions"],1020:["DA","1","ExpiryDate"],1040:["ST","1","EnvironmentalConditions"],2002:["SQ","1","EvaluatorSequence"],2004:["IS","1","EvaluatorNumber"],2006:["PN","1","EvaluatorName"],2008:["IS","1","EvaluationAttempt"],2012:["SQ","1","IndicationSequence"],2014:["IS","1","IndicationNumber"],2016:["SH","1","IndicationLabel"],2018:["ST","1","IndicationDescription"],"201A":["CS","1-n","IndicationType"],"201C":["CS","1","IndicationDisposition"],"201E":["SQ","1","IndicationROISequence"],2030:["SQ","1","IndicationPhysicalPropertySequence"],2032:["SH","1","PropertyLabel"],2202:["IS","1","CoordinateSystemNumberOfAxes"],2204:["SQ","1","CoordinateSystemAxesSequence"],2206:["ST","1","CoordinateSystemAxisDescription"],2208:["CS","1","CoordinateSystemDataSetMapping"],"220A":["IS","1","CoordinateSystemAxisNumber"],"220C":["CS","1","CoordinateSystemAxisType"],"220E":["CS","1","CoordinateSystemAxisUnits"],2210:["OB","1","CoordinateSystemAxisValues"],2220:["SQ","1","CoordinateSystemTransformSequence"],2222:["ST","1","TransformDescription"],2224:["IS","1","TransformNumberOfAxes"],2226:["IS","1-n","TransformOrderOfAxes"],2228:["CS","1","TransformedAxisUnits"],"222A":["DS","1-n","CoordinateSystemTransformRotationAndScaleMatrix"],"222C":["DS","1-n","CoordinateSystemTransformTranslationMatrix"],3011:["DS","1","InternalDetectorFrameTime"],3012:["DS","1","NumberOfFramesIntegrated"],3020:["SQ","1","DetectorTemperatureSequence"],3022:["ST","1","SensorName"],3024:["DS","1","HorizontalOffsetOfSensor"],3026:["DS","1","VerticalOffsetOfSensor"],3028:["DS","1","SensorTemperature"],3040:["SQ","1","DarkCurrentSequence"],3050:["ox","1","DarkCurrentCounts"],3060:["SQ","1","GainCorrectionReferenceSequence"],3070:["ox","1","AirCounts"],3071:["DS","1","KVUsedInGainCalibration"],3072:["DS","1","MAUsedInGainCalibration"],3073:["DS","1","NumberOfFramesUsedForIntegration"],3074:["LO","1","FilterMaterialUsedInGainCalibration"],3075:["DS","1","FilterThicknessUsedInGainCalibration"],3076:["DA","1","DateOfGainCalibration"],3077:["TM","1","TimeOfGainCalibration"],3080:["OB","1","BadPixelImage"],3099:["LT","1","CalibrationNotes"],3100:["LT","1","LinearityCorrectionTechnique"],3101:["LT","1","BeamHardeningCorrectionTechnique"],4002:["SQ","1","PulserEquipmentSequence"],4004:["CS","1","PulserType"],4006:["LT","1","PulserNotes"],4008:["SQ","1","ReceiverEquipmentSequence"],"400A":["CS","1","AmplifierType"],"400C":["LT","1","ReceiverNotes"],"400E":["SQ","1","PreAmplifierEquipmentSequence"],"400F":["LT","1","PreAmplifierNotes"],4010:["SQ","1","TransmitTransducerSequence"],4011:["SQ","1","ReceiveTransducerSequence"],4012:["US","1","NumberOfElements"],4013:["CS","1","ElementShape"],4014:["DS","1","ElementDimensionA"],4015:["DS","1","ElementDimensionB"],4016:["DS","1","ElementPitchA"],4017:["DS","1","MeasuredBeamDimensionA"],4018:["DS","1","MeasuredBeamDimensionB"],4019:["DS","1","LocationOfMeasuredBeamDiameter"],"401A":["DS","1","NominalFrequency"],"401B":["DS","1","MeasuredCenterFrequency"],"401C":["DS","1","MeasuredBandwidth"],"401D":["DS","1","ElementPitchB"],4020:["SQ","1","PulserSettingsSequence"],4022:["DS","1","PulseWidth"],4024:["DS","1","ExcitationFrequency"],4026:["CS","1","ModulationType"],4028:["DS","1","Damping"],4030:["SQ","1","ReceiverSettingsSequence"],4031:["DS","1","AcquiredSoundpathLength"],4032:["CS","1","AcquisitionCompressionType"],4033:["IS","1","AcquisitionSampleSize"],4034:["DS","1","RectifierSmoothing"],4035:["SQ","1","DACSequence"],4036:["CS","1","DACType"],4038:["DS","1-n","DACGainPoints"],"403A":["DS","1-n","DACTimePoints"],"403C":["DS","1-n","DACAmplitude"],4040:["SQ","1","PreAmplifierSettingsSequence"],4050:["SQ","1","TransmitTransducerSettingsSequence"],4051:["SQ","1","ReceiveTransducerSettingsSequence"],4052:["DS","1","IncidentAngle"],4054:["ST","1","CouplingTechnique"],4056:["ST","1","CouplingMedium"],4057:["DS","1","CouplingVelocity"],4058:["DS","1","ProbeCenterLocationX"],4059:["DS","1","ProbeCenterLocationZ"],"405A":["DS","1","SoundPathLength"],"405C":["ST","1","DelayLawIdentifier"],4060:["SQ","1","GateSettingsSequence"],4062:["DS","1","GateThreshold"],4064:["DS","1","VelocityOfSound"],4070:["SQ","1","CalibrationSettingsSequence"],4072:["ST","1","CalibrationProcedure"],4074:["SH","1","ProcedureVersion"],4076:["DA","1","ProcedureCreationDate"],4078:["DA","1","ProcedureExpirationDate"],"407A":["DA","1","ProcedureLastModifiedDate"],"407C":["TM","1-n","CalibrationTime"],"407E":["DA","1-n","CalibrationDate"],4080:["SQ","1","ProbeDriveEquipmentSequence"],4081:["CS","1","DriveType"],4082:["LT","1","ProbeDriveNotes"],4083:["SQ","1","DriveProbeSequence"],4084:["DS","1","ProbeInductance"],4085:["DS","1","ProbeResistance"],4086:["SQ","1","ReceiveProbeSequence"],4087:["SQ","1","ProbeDriveSettingsSequence"],4088:["DS","1","BridgeResistors"],4089:["DS","1","ProbeOrientationAngle"],"408B":["DS","1","UserSelectedGainY"],"408C":["DS","1","UserSelectedPhase"],"408D":["DS","1","UserSelectedOffsetX"],"408E":["DS","1","UserSelectedOffsetY"],4091:["SQ","1","ChannelSettingsSequence"],4092:["DS","1","ChannelThreshold"],"409A":["SQ","1","ScannerSettingsSequence"],"409B":["ST","1","ScanProcedure"],"409C":["DS","1","TranslationRateX"],"409D":["DS","1","TranslationRateY"],"409F":["DS","1","ChannelOverlap"],"40A0":["LO","1-n","ImageQualityIndicatorType"],"40A1":["LO","1-n","ImageQualityIndicatorMaterial"],"40A2":["LO","1-n","ImageQualityIndicatorSize"],5002:["IS","1","LINACEnergy"],5004:["IS","1","LINACOutput"],5100:["US","1","ActiveAperture"],5101:["DS","1","TotalAperture"],5102:["DS","1","ApertureElevation"],5103:["DS","1","MainLobeAngle"],5104:["DS","1","MainRoofAngle"],5105:["CS","1","ConnectorType"],5106:["SH","1","WedgeModelNumber"],5107:["DS","1","WedgeAngleFloat"],5108:["DS","1","WedgeRoofAngle"],5109:["CS","1","WedgeElement1Position"],"510A":["DS","1","WedgeMaterialVelocity"],"510B":["SH","1","WedgeMaterial"],"510C":["DS","1","WedgeOffsetZ"],"510D":["DS","1","WedgeOriginOffsetX"],"510E":["DS","1","WedgeTimeDelay"],"510F":["SH","1","WedgeName"],5110:["SH","1","WedgeManufacturerName"],5111:["LO","1","WedgeDescription"],5112:["DS","1","NominalBeamAngle"],5113:["DS","1","WedgeOffsetX"],5114:["DS","1","WedgeOffsetY"],5115:["DS","1","WedgeTotalLength"],5116:["DS","1","WedgeInContactLength"],5117:["DS","1","WedgeFrontGap"],5118:["DS","1","WedgeTotalHeight"],5119:["DS","1","WedgeFrontHeight"],"511A":["DS","1","WedgeRearHeight"],"511B":["DS","1","WedgeTotalWidth"],"511C":["DS","1","WedgeInContactWidth"],"511D":["DS","1","WedgeChamferHeight"],"511E":["CS","1","WedgeCurve"],"511F":["DS","1","RadiusAlongWedge"]},"0016":{"0000":["UL","1","GenericGroupLength"],"0001":["DS","1","WhitePoint"],"0002":["DS","3","PrimaryChromaticities"],"0003":["UT","1","BatteryLevel"],"0004":["DS","1","ExposureTimeInSeconds"],"0005":["DS","1","FNumber"],"0006":["IS","1","OECFRows"],"0007":["IS","1","OECFColumns"],"0008":["UC","1-n","OECFColumnNames"],"0009":["DS","1-n","OECFValues"],"000A":["IS","1","SpatialFrequencyResponseRows"],"000B":["IS","1","SpatialFrequencyResponseColumns"],"000C":["UC","1-n","SpatialFrequencyResponseColumnNames"],"000D":["DS","1-n","SpatialFrequencyResponseValues"],"000E":["IS","1","ColorFilterArrayPatternRows"],"000F":["IS","1","ColorFilterArrayPatternColumns"],"0010":["DS","1-n","ColorFilterArrayPatternValues"],"0011":["US","1","FlashFiringStatus"],"0012":["US","1","FlashReturnStatus"],"0013":["US","1","FlashMode"],"0014":["US","1","FlashFunctionPresent"],"0015":["US","1","FlashRedEyeMode"],"0016":["US","1","ExposureProgram"],"0017":["UT","1","SpectralSensitivity"],"0018":["IS","1","PhotographicSensitivity"],"0019":["IS","1","SelfTimerMode"],"001A":["US","1","SensitivityType"],"001B":["IS","1","StandardOutputSensitivity"],"001C":["IS","1","RecommendedExposureIndex"],"001D":["IS","1","ISOSpeed"],"001E":["IS","1","ISOSpeedLatitudeyyy"],"001F":["IS","1","ISOSpeedLatitudezzz"],"0020":["UT","1","EXIFVersion"],"0021":["DS","1","ShutterSpeedValue"],"0022":["DS","1","ApertureValue"],"0023":["DS","1","BrightnessValue"],"0024":["DS","1","ExposureBiasValue"],"0025":["DS","1","MaxApertureValue"],"0026":["DS","1","SubjectDistance"],"0027":["US","1","MeteringMode"],"0028":["US","1","LightSource"],"0029":["DS","1","FocalLength"],"002A":["IS","2-4","SubjectArea"],"002B":["OB","1","MakerNote"],"0030":["DS","1","Temperature"],"0031":["DS","1","Humidity"],"0032":["DS","1","Pressure"],"0033":["DS","1","WaterDepth"],"0034":["DS","1","Acceleration"],"0035":["DS","1","CameraElevationAngle"],"0036":["DS","1-2","FlashEnergy"],"0037":["IS","2","SubjectLocation"],"0038":["DS","1","PhotographicExposureIndex"],"0039":["US","1","SensingMethod"],"003A":["US","1","FileSource"],"003B":["US","1","SceneType"],"0041":["US","1","CustomRendered"],"0042":["US","1","ExposureMode"],"0043":["US","1","WhiteBalance"],"0044":["DS","1","DigitalZoomRatio"],"0045":["IS","1","FocalLengthIn35mmFilm"],"0046":["US","1","SceneCaptureType"],"0047":["US","1","GainControl"],"0048":["US","1","Contrast"],"0049":["US","1","Saturation"],"004A":["US","1","Sharpness"],"004B":["OB","1","DeviceSettingDescription"],"004C":["US","1","SubjectDistanceRange"],"004D":["UT","1","CameraOwnerName"],"004E":["DS","4","LensSpecification"],"004F":["UT","1","LensMake"],"0050":["UT","1","LensModel"],"0051":["UT","1","LensSerialNumber"],"0061":["CS","1","InteroperabilityIndex"],"0062":["OB","1","InteroperabilityVersion"],"0070":["OB","1","GPSVersionID"],"0071":["CS","1","GPSLatitudeRef"],"0072":["DS","3","GPSLatitude"],"0073":["CS","1","GPSLongitudeRef"],"0074":["DS","3","GPSLongitude"],"0075":["US","1","GPSAltitudeRef"],"0076":["DS","1","GPSAltitude"],"0077":["DT","1","GPSTimeStamp"],"0078":["UT","1","GPSSatellites"],"0079":["CS","1","GPSStatus"],"007A":["CS","1","GPSMeasureMode"],"007B":["DS","1","GPSDOP"],"007C":["CS","1","GPSSpeedRef"],"007D":["DS","1","GPSSpeed"],"007E":["CS","1","GPSTrackRef"],"007F":["DS","1","GPSTrack"],"0080":["CS","1","GPSImgDirectionRef"],"0081":["DS","1","GPSImgDirection"],"0082":["UT","1","GPSMapDatum"],"0083":["CS","1","GPSDestLatitudeRef"],"0084":["DS","3","GPSDestLatitude"],"0085":["CS","1","GPSDestLongitudeRef"],"0086":["DS","3","GPSDestLongitude"],"0087":["CS","1","GPSDestBearingRef"],"0088":["DS","1","GPSDestBearing"],"0089":["CS","1","GPSDestDistanceRef"],"008A":["DS","1","GPSDestDistance"],"008B":["OB","1","GPSProcessingMethod"],"008C":["OB","1","GPSAreaInformation"],"008D":["DT","1","GPSDateStamp"],"008E":["IS","1","GPSDifferential"],1001:["CS","1","LightSourcePolarization"],1002:["DS","1","EmitterColorTemperature"],1003:["CS","1","ContactMethod"],1004:["CS","1-n","ImmersionMedia"],1005:["DS","1","OpticalMagnificationFactor"]},"0018":{"0000":["UL","1","GenericGroupLength"],"0010":["LO","1","ContrastBolusAgent"],"0012":["SQ","1","ContrastBolusAgentSequence"],"0013":["FL","1","ContrastBolusT1Relaxivity"],"0014":["SQ","1","ContrastBolusAdministrationRouteSequence"],"0015":["CS","1","BodyPartExamined"],"0020":["CS","1-n","ScanningSequence"],"0021":["CS","1-n","SequenceVariant"],"0022":["CS","1-n","ScanOptions"],"0023":["CS","1","MRAcquisitionType"],"0024":["SH","1","SequenceName"],"0025":["CS","1","AngioFlag"],"0026":["SQ","1","InterventionDrugInformationSequence"],"0027":["TM","1","InterventionDrugStopTime"],"0028":["DS","1","InterventionDrugDose"],"0029":["SQ","1","InterventionDrugCodeSequence"],"002A":["SQ","1","AdditionalDrugSequence"],"0030":["LO","1-n","Radionuclide"],"0031":["LO","1","Radiopharmaceutical"],"0032":["DS","1","EnergyWindowCenterline"],"0033":["DS","1-n","EnergyWindowTotalWidth"],"0034":["LO","1","InterventionDrugName"],"0035":["TM","1","InterventionDrugStartTime"],"0036":["SQ","1","InterventionSequence"],"0037":["CS","1","TherapyType"],"0038":["CS","1","InterventionStatus"],"0039":["CS","1","TherapyDescription"],"003A":["ST","1","InterventionDescription"],"0040":["IS","1","CineRate"],"0042":["CS","1","InitialCineRunState"],"0050":["DS","1","SliceThickness"],"0060":["DS","1","KVP"],"0061":["DS","1",""],"0070":["IS","1","CountsAccumulated"],"0071":["CS","1","AcquisitionTerminationCondition"],"0072":["DS","1","EffectiveDuration"],"0073":["CS","1","AcquisitionStartCondition"],"0074":["IS","1","AcquisitionStartConditionData"],"0075":["IS","1","AcquisitionTerminationConditionData"],"0080":["DS","1","RepetitionTime"],"0081":["DS","1","EchoTime"],"0082":["DS","1","InversionTime"],"0083":["DS","1","NumberOfAverages"],"0084":["DS","1","ImagingFrequency"],"0085":["SH","1","ImagedNucleus"],"0086":["IS","1-n","EchoNumbers"],"0087":["DS","1","MagneticFieldStrength"],"0088":["DS","1","SpacingBetweenSlices"],"0089":["IS","1","NumberOfPhaseEncodingSteps"],"0090":["DS","1","DataCollectionDiameter"],"0091":["IS","1","EchoTrainLength"],"0093":["DS","1","PercentSampling"],"0094":["DS","1","PercentPhaseFieldOfView"],"0095":["DS","1","PixelBandwidth"],1e3:["LO","1","DeviceSerialNumber"],1002:["UI","1","DeviceUID"],1003:["LO","1","DeviceID"],1004:["LO","1","PlateID"],1005:["LO","1","GeneratorID"],1006:["LO","1","GridID"],1007:["LO","1","CassetteID"],1008:["LO","1","GantryID"],1009:["UT","1","UniqueDeviceIdentifier"],"100A":["SQ","1","UDISequence"],"100B":["UI","1-n","ManufacturerDeviceClassUID"],1010:["LO","1","SecondaryCaptureDeviceID"],1011:["LO","1","HardcopyCreationDeviceID"],1012:["DA","1","DateOfSecondaryCapture"],1014:["TM","1","TimeOfSecondaryCapture"],1016:["LO","1","SecondaryCaptureDeviceManufacturer"],1017:["LO","1","HardcopyDeviceManufacturer"],1018:["LO","1","SecondaryCaptureDeviceManufacturerModelName"],1019:["LO","1-n","SecondaryCaptureDeviceSoftwareVersions"],"101A":["LO","1-n","HardcopyDeviceSoftwareVersion"],"101B":["LO","1","HardcopyDeviceManufacturerModelName"],1020:["LO","1-n","SoftwareVersions"],1022:["SH","1","VideoImageFormatAcquired"],1023:["LO","1","DigitalImageFormatAcquired"],1030:["LO","1","ProtocolName"],1040:["LO","1","ContrastBolusRoute"],1041:["DS","1","ContrastBolusVolume"],1042:["TM","1","ContrastBolusStartTime"],1043:["TM","1","ContrastBolusStopTime"],1044:["DS","1","ContrastBolusTotalDose"],1045:["IS","1","SyringeCounts"],1046:["DS","1-n","ContrastFlowRate"],1047:["DS","1-n","ContrastFlowDuration"],1048:["CS","1","ContrastBolusIngredient"],1049:["DS","1","ContrastBolusIngredientConcentration"],1050:["DS","1","SpatialResolution"],1060:["DS","1","TriggerTime"],1061:["LO","1","TriggerSourceOrType"],1062:["IS","1","NominalInterval"],1063:["DS","1","FrameTime"],1064:["LO","1","CardiacFramingType"],1065:["DS","1-n","FrameTimeVector"],1066:["DS","1","FrameDelay"],1067:["DS","1","ImageTriggerDelay"],1068:["DS","1","MultiplexGroupTimeOffset"],1069:["DS","1","TriggerTimeOffset"],"106A":["CS","1","SynchronizationTrigger"],"106C":["US","2","SynchronizationChannel"],"106E":["UL","1","TriggerSamplePosition"],1070:["LO","1","RadiopharmaceuticalRoute"],1071:["DS","1","RadiopharmaceuticalVolume"],1072:["TM","1","RadiopharmaceuticalStartTime"],1073:["TM","1","RadiopharmaceuticalStopTime"],1074:["DS","1","RadionuclideTotalDose"],1075:["DS","1","RadionuclideHalfLife"],1076:["DS","1","RadionuclidePositronFraction"],1077:["DS","1","RadiopharmaceuticalSpecificActivity"],1078:["DT","1","RadiopharmaceuticalStartDateTime"],1079:["DT","1","RadiopharmaceuticalStopDateTime"],1080:["CS","1","BeatRejectionFlag"],1081:["IS","1","LowRRValue"],1082:["IS","1","HighRRValue"],1083:["IS","1","IntervalsAcquired"],1084:["IS","1","IntervalsRejected"],1085:["LO","1","PVCRejection"],1086:["IS","1","SkipBeats"],1088:["IS","1","HeartRate"],1090:["IS","1","CardiacNumberOfImages"],1094:["IS","1","TriggerWindow"],1100:["DS","1","ReconstructionDiameter"],1110:["DS","1","DistanceSourceToDetector"],1111:["DS","1","DistanceSourceToPatient"],1114:["DS","1","EstimatedRadiographicMagnificationFactor"],1120:["DS","1","GantryDetectorTilt"],1121:["DS","1","GantryDetectorSlew"],1130:["DS","1","TableHeight"],1131:["DS","1","TableTraverse"],1134:["CS","1","TableMotion"],1135:["DS","1-n","TableVerticalIncrement"],1136:["DS","1-n","TableLateralIncrement"],1137:["DS","1-n","TableLongitudinalIncrement"],1138:["DS","1","TableAngle"],"113A":["CS","1","TableType"],1140:["CS","1","RotationDirection"],1141:["DS","1","AngularPosition"],1142:["DS","1-n","RadialPosition"],1143:["DS","1","ScanArc"],1144:["DS","1","AngularStep"],1145:["DS","1","CenterOfRotationOffset"],1146:["DS","1-n","RotationOffset"],1147:["CS","1","FieldOfViewShape"],1149:["IS","1-2","FieldOfViewDimensions"],1150:["IS","1","ExposureTime"],1151:["IS","1","XRayTubeCurrent"],1152:["IS","1","Exposure"],1153:["IS","1","ExposureInuAs"],1154:["DS","1","AveragePulseWidth"],1155:["CS","1","RadiationSetting"],1156:["CS","1","RectificationType"],"115A":["CS","1","RadiationMode"],"115E":["DS","1","ImageAndFluoroscopyAreaDoseProduct"],1160:["SH","1","FilterType"],1161:["LO","1-n","TypeOfFilters"],1162:["DS","1","IntensifierSize"],1164:["DS","2","ImagerPixelSpacing"],1166:["CS","1-n","Grid"],1170:["IS","1","GeneratorPower"],1180:["SH","1","CollimatorGridName"],1181:["CS","1","CollimatorType"],1182:["IS","1-2","FocalDistance"],1183:["DS","1-2","XFocusCenter"],1184:["DS","1-2","YFocusCenter"],1190:["DS","1-n","FocalSpots"],1191:["CS","1","AnodeTargetMaterial"],"11A0":["DS","1","BodyPartThickness"],"11A2":["DS","1","CompressionForce"],"11A3":["DS","1","CompressionPressure"],"11A4":["LO","1","PaddleDescription"],"11A5":["DS","1","CompressionContactArea"],"11B0":["LO","1","AcquisitionMode"],"11B1":["LO","1","DoseModeName"],"11B2":["CS","1","AcquiredSubtractionMaskFlag"],"11B3":["CS","1","FluoroscopyPersistenceFlag"],"11B4":["CS","1","FluoroscopyLastImageHoldPersistenceFlag"],"11B5":["IS","1","UpperLimitNumberOfPersistentFluoroscopyFrames"],"11B6":["CS","1","ContrastBolusAutoInjectionTriggerFlag"],"11B7":["FD","1","ContrastBolusInjectionDelay"],"11B8":["SQ","1","XAAcquisitionPhaseDetailsSequence"],"11B9":["FD","1","XAAcquisitionFrameRate"],"11BA":["SQ","1","XAPlaneDetailsSequence"],"11BB":["LO","1","AcquisitionFieldOfViewLabel"],"11BC":["SQ","1","XRayFilterDetailsSequence"],"11BD":["FD","1","XAAcquisitionDuration"],"11BE":["CS","1","ReconstructionPipelineType"],"11BF":["SQ","1","ImageFilterDetailsSequence"],"11C0":["CS","1","AppliedMaskSubtractionFlag"],"11C1":["SQ","1","RequestedSeriesDescriptionCodeSequence"],1200:["DA","1-n","DateOfLastCalibration"],1201:["TM","1-n","TimeOfLastCalibration"],1202:["DT","1","DateTimeOfLastCalibration"],1203:["DT","1","CalibrationDateTime"],1210:["SH","1-n","ConvolutionKernel"],1240:["IS","1-n","UpperLowerPixelValues"],1242:["IS","1","ActualFrameDuration"],1243:["IS","1","CountRate"],1244:["US","1","PreferredPlaybackSequencing"],1250:["SH","1","ReceiveCoilName"],1251:["SH","1","TransmitCoilName"],1260:["SH","1","PlateType"],1261:["LO","1","PhosphorType"],1271:["FD","1","WaterEquivalentDiameter"],1272:["SQ","1","WaterEquivalentDiameterCalculationMethodCodeSequence"],1300:["DS","1","ScanVelocity"],1301:["CS","1-n","WholeBodyTechnique"],1302:["IS","1","ScanLength"],1310:["US","4","AcquisitionMatrix"],1312:["CS","1","InPlanePhaseEncodingDirection"],1314:["DS","1","FlipAngle"],1315:["CS","1","VariableFlipAngleFlag"],1316:["DS","1","SAR"],1318:["DS","1","dBdt"],1320:["FL","1","B1rms"],1400:["LO","1","AcquisitionDeviceProcessingDescription"],1401:["LO","1","AcquisitionDeviceProcessingCode"],1402:["CS","1","CassetteOrientation"],1403:["CS","1","CassetteSize"],1404:["US","1","ExposuresOnPlate"],1405:["IS","1","RelativeXRayExposure"],1411:["DS","1","ExposureIndex"],1412:["DS","1","TargetExposureIndex"],1413:["DS","1","DeviationIndex"],1450:["DS","1","ColumnAngulation"],1460:["DS","1","TomoLayerHeight"],1470:["DS","1","TomoAngle"],1480:["DS","1","TomoTime"],1490:["CS","1","TomoType"],1491:["CS","1","TomoClass"],1495:["IS","1","NumberOfTomosynthesisSourceImages"],1500:["CS","1","PositionerMotion"],1508:["CS","1","PositionerType"],1510:["DS","1","PositionerPrimaryAngle"],1511:["DS","1","PositionerSecondaryAngle"],1520:["DS","1-n","PositionerPrimaryAngleIncrement"],1521:["DS","1-n","PositionerSecondaryAngleIncrement"],1530:["DS","1","DetectorPrimaryAngle"],1531:["DS","1","DetectorSecondaryAngle"],1600:["CS","1-3","ShutterShape"],1602:["IS","1","ShutterLeftVerticalEdge"],1604:["IS","1","ShutterRightVerticalEdge"],1606:["IS","1","ShutterUpperHorizontalEdge"],1608:["IS","1","ShutterLowerHorizontalEdge"],1610:["IS","2","CenterOfCircularShutter"],1612:["IS","1","RadiusOfCircularShutter"],1620:["IS","2-2n","VerticesOfThePolygonalShutter"],1622:["US","1","ShutterPresentationValue"],1623:["US","1","ShutterOverlayGroup"],1624:["US","3","ShutterPresentationColorCIELabValue"],1630:["CS","1","OutlineShapeType"],1631:["FD","1","OutlineLeftVerticalEdge"],1632:["FD","1","OutlineRightVerticalEdge"],1633:["FD","1","OutlineUpperHorizontalEdge"],1634:["FD","1","OutlineLowerHorizontalEdge"],1635:["FD","2","CenterOfCircularOutline"],1636:["FD","1","DiameterOfCircularOutline"],1637:["UL","1","NumberOfPolygonalVertices"],1638:["OF","1","VerticesOfThePolygonalOutline"],1700:["CS","1-3","CollimatorShape"],1702:["IS","1","CollimatorLeftVerticalEdge"],1704:["IS","1","CollimatorRightVerticalEdge"],1706:["IS","1","CollimatorUpperHorizontalEdge"],1708:["IS","1","CollimatorLowerHorizontalEdge"],1710:["IS","2","CenterOfCircularCollimator"],1712:["IS","1","RadiusOfCircularCollimator"],1720:["IS","2-2n","VerticesOfThePolygonalCollimator"],1800:["CS","1","AcquisitionTimeSynchronized"],1801:["SH","1","TimeSource"],1802:["CS","1","TimeDistributionProtocol"],1803:["LO","1","NTPSourceAddress"],2001:["IS","1-n","PageNumberVector"],2002:["SH","1-n","FrameLabelVector"],2003:["DS","1-n","FramePrimaryAngleVector"],2004:["DS","1-n","FrameSecondaryAngleVector"],2005:["DS","1-n","SliceLocationVector"],2006:["SH","1-n","DisplayWindowLabelVector"],2010:["DS","2","NominalScannedPixelSpacing"],2020:["CS","1","DigitizingDeviceTransportDirection"],2030:["DS","1","RotationOfScannedFilm"],2041:["SQ","1","BiopsyTargetSequence"],2042:["UI","1","TargetUID"],2043:["FL","2","LocalizingCursorPosition"],2044:["FL","3","CalculatedTargetPosition"],2045:["SH","1","TargetLabel"],2046:["FL","1","DisplayedZValue"],3100:["CS","1","IVUSAcquisition"],3101:["DS","1","IVUSPullbackRate"],3102:["DS","1","IVUSGatedRate"],3103:["IS","1","IVUSPullbackStartFrameNumber"],3104:["IS","1","IVUSPullbackStopFrameNumber"],3105:["IS","1-n","LesionNumber"],4e3:["LT","1","AcquisitionComments"],5e3:["SH","1-n","OutputPower"],5010:["LO","1-n","TransducerData"],5011:["SQ","1","TransducerIdentificationSequence"],5012:["DS","1","FocusDepth"],5020:["LO","1","ProcessingFunction"],5021:["LO","1","PostprocessingFunction"],5022:["DS","1","MechanicalIndex"],5024:["DS","1","BoneThermalIndex"],5026:["DS","1","CranialThermalIndex"],5027:["DS","1","SoftTissueThermalIndex"],5028:["DS","1","SoftTissueFocusThermalIndex"],5029:["DS","1","SoftTissueSurfaceThermalIndex"],5030:["DS","1","DynamicRange"],5040:["DS","1","TotalGain"],5050:["IS","1","DepthOfScanField"],5100:["CS","1","PatientPosition"],5101:["CS","1","ViewPosition"],5104:["SQ","1","ProjectionEponymousNameCodeSequence"],5210:["DS","6","ImageTransformationMatrix"],5212:["DS","3","ImageTranslationVector"],6e3:["DS","1","Sensitivity"],6011:["SQ","1","SequenceOfUltrasoundRegions"],6012:["US","1","RegionSpatialFormat"],6014:["US","1","RegionDataType"],6016:["UL","1","RegionFlags"],6018:["UL","1","RegionLocationMinX0"],"601A":["UL","1","RegionLocationMinY0"],"601C":["UL","1","RegionLocationMaxX1"],"601E":["UL","1","RegionLocationMaxY1"],6020:["SL","1","ReferencePixelX0"],6022:["SL","1","ReferencePixelY0"],6024:["US","1","PhysicalUnitsXDirection"],6026:["US","1","PhysicalUnitsYDirection"],6028:["FD","1","ReferencePixelPhysicalValueX"],"602A":["FD","1","ReferencePixelPhysicalValueY"],"602C":["FD","1","PhysicalDeltaX"],"602E":["FD","1","PhysicalDeltaY"],6030:["UL","1","TransducerFrequency"],6031:["CS","1","TransducerType"],6032:["UL","1","PulseRepetitionFrequency"],6034:["FD","1","DopplerCorrectionAngle"],6036:["FD","1","SteeringAngle"],6038:["UL","1","DopplerSampleVolumeXPositionRetired"],6039:["SL","1","DopplerSampleVolumeXPosition"],"603A":["UL","1","DopplerSampleVolumeYPositionRetired"],"603B":["SL","1","DopplerSampleVolumeYPosition"],"603C":["UL","1","TMLinePositionX0Retired"],"603D":["SL","1","TMLinePositionX0"],"603E":["UL","1","TMLinePositionY0Retired"],"603F":["SL","1","TMLinePositionY0"],6040:["UL","1","TMLinePositionX1Retired"],6041:["SL","1","TMLinePositionX1"],6042:["UL","1","TMLinePositionY1Retired"],6043:["SL","1","TMLinePositionY1"],6044:["US","1","PixelComponentOrganization"],6046:["UL","1","PixelComponentMask"],6048:["UL","1","PixelComponentRangeStart"],"604A":["UL","1","PixelComponentRangeStop"],"604C":["US","1","PixelComponentPhysicalUnits"],"604E":["US","1","PixelComponentDataType"],6050:["UL","1","NumberOfTableBreakPoints"],6052:["UL","1-n","TableOfXBreakPoints"],6054:["FD","1-n","TableOfYBreakPoints"],6056:["UL","1","NumberOfTableEntries"],6058:["UL","1-n","TableOfPixelValues"],"605A":["FL","1-n","TableOfParameterValues"],6060:["FL","1-n","RWaveTimeVector"],6070:["US","1","ActiveImageAreaOverlayGroup"],7e3:["CS","1","DetectorConditionsNominalFlag"],7001:["DS","1","DetectorTemperature"],7004:["CS","1","DetectorType"],7005:["CS","1","DetectorConfiguration"],7006:["LT","1","DetectorDescription"],7008:["LT","1","DetectorMode"],"700A":["SH","1","DetectorID"],"700C":["DA","1","DateOfLastDetectorCalibration"],"700E":["TM","1","TimeOfLastDetectorCalibration"],7010:["IS","1","ExposuresOnDetectorSinceLastCalibration"],7011:["IS","1","ExposuresOnDetectorSinceManufactured"],7012:["DS","1","DetectorTimeSinceLastExposure"],7014:["DS","1","DetectorActiveTime"],7016:["DS","1","DetectorActivationOffsetFromExposure"],"701A":["DS","2","DetectorBinning"],7020:["DS","2","DetectorElementPhysicalSize"],7022:["DS","2","DetectorElementSpacing"],7024:["CS","1","DetectorActiveShape"],7026:["DS","1-2","DetectorActiveDimensions"],7028:["DS","2","DetectorActiveOrigin"],"702A":["LO","1","DetectorManufacturerName"],"702B":["LO","1","DetectorManufacturerModelName"],7030:["DS","2","FieldOfViewOrigin"],7032:["DS","1","FieldOfViewRotation"],7034:["CS","1","FieldOfViewHorizontalFlip"],7036:["FL","2","PixelDataAreaOriginRelativeToFOV"],7038:["FL","1","PixelDataAreaRotationAngleRelativeToFOV"],7040:["LT","1","GridAbsorbingMaterial"],7041:["LT","1","GridSpacingMaterial"],7042:["DS","1","GridThickness"],7044:["DS","1","GridPitch"],7046:["IS","2","GridAspectRatio"],7048:["DS","1","GridPeriod"],"704C":["DS","1","GridFocalDistance"],7050:["CS","1-n","FilterMaterial"],7052:["DS","1-n","FilterThicknessMinimum"],7054:["DS","1-n","FilterThicknessMaximum"],7056:["FL","1-n","FilterBeamPathLengthMinimum"],7058:["FL","1-n","FilterBeamPathLengthMaximum"],7060:["CS","1","ExposureControlMode"],7062:["LT","1","ExposureControlModeDescription"],7064:["CS","1","ExposureStatus"],7065:["DS","1","PhototimerSetting"],8150:["DS","1","ExposureTimeInuS"],8151:["DS","1","XRayTubeCurrentInuA"],9004:["CS","1","ContentQualification"],9005:["SH","1","PulseSequenceName"],9006:["SQ","1","MRImagingModifierSequence"],9008:["CS","1","EchoPulseSequence"],9009:["CS","1","InversionRecovery"],9010:["CS","1","FlowCompensation"],9011:["CS","1","MultipleSpinEcho"],9012:["CS","1","MultiPlanarExcitation"],9014:["CS","1","PhaseContrast"],9015:["CS","1","TimeOfFlightContrast"],9016:["CS","1","Spoiling"],9017:["CS","1","SteadyStatePulseSequence"],9018:["CS","1","EchoPlanarPulseSequence"],9019:["FD","1","TagAngleFirstAxis"],9020:["CS","1","MagnetizationTransfer"],9021:["CS","1","T2Preparation"],9022:["CS","1","BloodSignalNulling"],9024:["CS","1","SaturationRecovery"],9025:["CS","1","SpectrallySelectedSuppression"],9026:["CS","1","SpectrallySelectedExcitation"],9027:["CS","1","SpatialPresaturation"],9028:["CS","1","Tagging"],9029:["CS","1","OversamplingPhase"],9030:["FD","1","TagSpacingFirstDimension"],9032:["CS","1","GeometryOfKSpaceTraversal"],9033:["CS","1","SegmentedKSpaceTraversal"],9034:["CS","1","RectilinearPhaseEncodeReordering"],9035:["FD","1","TagThickness"],9036:["CS","1","PartialFourierDirection"],9037:["CS","1","CardiacSynchronizationTechnique"],9041:["LO","1","ReceiveCoilManufacturerName"],9042:["SQ","1","MRReceiveCoilSequence"],9043:["CS","1","ReceiveCoilType"],9044:["CS","1","QuadratureReceiveCoil"],9045:["SQ","1","MultiCoilDefinitionSequence"],9046:["LO","1","MultiCoilConfiguration"],9047:["SH","1","MultiCoilElementName"],9048:["CS","1","MultiCoilElementUsed"],9049:["SQ","1","MRTransmitCoilSequence"],9050:["LO","1","TransmitCoilManufacturerName"],9051:["CS","1","TransmitCoilType"],9052:["FD","1-2","SpectralWidth"],9053:["FD","1-2","ChemicalShiftReference"],9054:["CS","1","VolumeLocalizationTechnique"],9058:["US","1","MRAcquisitionFrequencyEncodingSteps"],9059:["CS","1","Decoupling"],9060:["CS","1-2","DecoupledNucleus"],9061:["FD","1-2","DecouplingFrequency"],9062:["CS","1","DecouplingMethod"],9063:["FD","1-2","DecouplingChemicalShiftReference"],9064:["CS","1","KSpaceFiltering"],9065:["CS","1-2","TimeDomainFiltering"],9066:["US","1-2","NumberOfZeroFills"],9067:["CS","1","BaselineCorrection"],9069:["FD","1","ParallelReductionFactorInPlane"],9070:["FD","1","CardiacRRIntervalSpecified"],9073:["FD","1","AcquisitionDuration"],9074:["DT","1","FrameAcquisitionDateTime"],9075:["CS","1","DiffusionDirectionality"],9076:["SQ","1","DiffusionGradientDirectionSequence"],9077:["CS","1","ParallelAcquisition"],9078:["CS","1","ParallelAcquisitionTechnique"],9079:["FD","1-n","InversionTimes"],9080:["ST","1","MetaboliteMapDescription"],9081:["CS","1","PartialFourier"],9082:["FD","1","EffectiveEchoTime"],9083:["SQ","1","MetaboliteMapCodeSequence"],9084:["SQ","1","ChemicalShiftSequence"],9085:["CS","1","CardiacSignalSource"],9087:["FD","1","DiffusionBValue"],9089:["FD","3","DiffusionGradientOrientation"],9090:["FD","3","VelocityEncodingDirection"],9091:["FD","1","VelocityEncodingMinimumValue"],9092:["SQ","1","VelocityEncodingAcquisitionSequence"],9093:["US","1","NumberOfKSpaceTrajectories"],9094:["CS","1","CoverageOfKSpace"],9095:["UL","1","SpectroscopyAcquisitionPhaseRows"],9096:["FD","1","ParallelReductionFactorInPlaneRetired"],9098:["FD","1-2","TransmitterFrequency"],9100:["CS","1-2","ResonantNucleus"],9101:["CS","1","FrequencyCorrection"],9103:["SQ","1","MRSpectroscopyFOVGeometrySequence"],9104:["FD","1","SlabThickness"],9105:["FD","3","SlabOrientation"],9106:["FD","3","MidSlabPosition"],9107:["SQ","1","MRSpatialSaturationSequence"],9112:["SQ","1","MRTimingAndRelatedParametersSequence"],9114:["SQ","1","MREchoSequence"],9115:["SQ","1","MRModifierSequence"],9117:["SQ","1","MRDiffusionSequence"],9118:["SQ","1","CardiacSynchronizationSequence"],9119:["SQ","1","MRAveragesSequence"],9125:["SQ","1","MRFOVGeometrySequence"],9126:["SQ","1","VolumeLocalizationSequence"],9127:["UL","1","SpectroscopyAcquisitionDataColumns"],9147:["CS","1","DiffusionAnisotropyType"],9151:["DT","1","FrameReferenceDateTime"],9152:["SQ","1","MRMetaboliteMapSequence"],9155:["FD","1","ParallelReductionFactorOutOfPlane"],9159:["UL","1","SpectroscopyAcquisitionOutOfPlanePhaseSteps"],9166:["CS","1","BulkMotionStatus"],9168:["FD","1","ParallelReductionFactorSecondInPlane"],9169:["CS","1","CardiacBeatRejectionTechnique"],9170:["CS","1","RespiratoryMotionCompensationTechnique"],9171:["CS","1","RespiratorySignalSource"],9172:["CS","1","BulkMotionCompensationTechnique"],9173:["CS","1","BulkMotionSignalSource"],9174:["CS","1","ApplicableSafetyStandardAgency"],9175:["LO","1","ApplicableSafetyStandardDescription"],9176:["SQ","1","OperatingModeSequence"],9177:["CS","1","OperatingModeType"],9178:["CS","1","OperatingMode"],9179:["CS","1","SpecificAbsorptionRateDefinition"],9180:["CS","1","GradientOutputType"],9181:["FD","1","SpecificAbsorptionRateValue"],9182:["FD","1","GradientOutput"],9183:["CS","1","FlowCompensationDirection"],9184:["FD","1","TaggingDelay"],9185:["ST","1","RespiratoryMotionCompensationTechniqueDescription"],9186:["SH","1","RespiratorySignalSourceID"],9195:["FD","1","ChemicalShiftMinimumIntegrationLimitInHz"],9196:["FD","1","ChemicalShiftMaximumIntegrationLimitInHz"],9197:["SQ","1","MRVelocityEncodingSequence"],9198:["CS","1","FirstOrderPhaseCorrection"],9199:["CS","1","WaterReferencedPhaseCorrection"],9200:["CS","1","MRSpectroscopyAcquisitionType"],9214:["CS","1","RespiratoryCyclePosition"],9217:["FD","1","VelocityEncodingMaximumValue"],9218:["FD","1","TagSpacingSecondDimension"],9219:["SS","1","TagAngleSecondAxis"],9220:["FD","1","FrameAcquisitionDuration"],9226:["SQ","1","MRImageFrameTypeSequence"],9227:["SQ","1","MRSpectroscopyFrameTypeSequence"],9231:["US","1","MRAcquisitionPhaseEncodingStepsInPlane"],9232:["US","1","MRAcquisitionPhaseEncodingStepsOutOfPlane"],9234:["UL","1","SpectroscopyAcquisitionPhaseColumns"],9236:["CS","1","CardiacCyclePosition"],9239:["SQ","1","SpecificAbsorptionRateSequence"],9240:["US","1","RFEchoTrainLength"],9241:["US","1","GradientEchoTrainLength"],9250:["CS","1","ArterialSpinLabelingContrast"],9251:["SQ","1","MRArterialSpinLabelingSequence"],9252:["LO","1","ASLTechniqueDescription"],9253:["US","1","ASLSlabNumber"],9254:["FD","1","ASLSlabThickness"],9255:["FD","3","ASLSlabOrientation"],9256:["FD","3","ASLMidSlabPosition"],9257:["CS","1","ASLContext"],9258:["UL","1","ASLPulseTrainDuration"],9259:["CS","1","ASLCrusherFlag"],"925A":["FD","1","ASLCrusherFlowLimit"],"925B":["LO","1","ASLCrusherDescription"],"925C":["CS","1","ASLBolusCutoffFlag"],"925D":["SQ","1","ASLBolusCutoffTimingSequence"],"925E":["LO","1","ASLBolusCutoffTechnique"],"925F":["UL","1","ASLBolusCutoffDelayTime"],9260:["SQ","1","ASLSlabSequence"],9295:["FD","1","ChemicalShiftMinimumIntegrationLimitInppm"],9296:["FD","1","ChemicalShiftMaximumIntegrationLimitInppm"],9297:["CS","1","WaterReferenceAcquisition"],9298:["IS","1","EchoPeakPosition"],9301:["SQ","1","CTAcquisitionTypeSequence"],9302:["CS","1","AcquisitionType"],9303:["FD","1","TubeAngle"],9304:["SQ","1","CTAcquisitionDetailsSequence"],9305:["FD","1","RevolutionTime"],9306:["FD","1","SingleCollimationWidth"],9307:["FD","1","TotalCollimationWidth"],9308:["SQ","1","CTTableDynamicsSequence"],9309:["FD","1","TableSpeed"],9310:["FD","1","TableFeedPerRotation"],9311:["FD","1","SpiralPitchFactor"],9312:["SQ","1","CTGeometrySequence"],9313:["FD","3","DataCollectionCenterPatient"],9314:["SQ","1","CTReconstructionSequence"],9315:["CS","1","ReconstructionAlgorithm"],9316:["CS","1","ConvolutionKernelGroup"],9317:["FD","2","ReconstructionFieldOfView"],9318:["FD","3","ReconstructionTargetCenterPatient"],9319:["FD","1","ReconstructionAngle"],9320:["SH","1","ImageFilter"],9321:["SQ","1","CTExposureSequence"],9322:["FD","2","ReconstructionPixelSpacing"],9323:["CS","1-n","ExposureModulationType"],9324:["FD","1","EstimatedDoseSaving"],9325:["SQ","1","CTXRayDetailsSequence"],9326:["SQ","1","CTPositionSequence"],9327:["FD","1","TablePosition"],9328:["FD","1","ExposureTimeInms"],9329:["SQ","1","CTImageFrameTypeSequence"],9330:["FD","1","XRayTubeCurrentInmA"],9332:["FD","1","ExposureInmAs"],9333:["CS","1","ConstantVolumeFlag"],9334:["CS","1","FluoroscopyFlag"],9335:["FD","1","DistanceSourceToDataCollectionCenter"],9337:["US","1","ContrastBolusAgentNumber"],9338:["SQ","1","ContrastBolusIngredientCodeSequence"],9340:["SQ","1","ContrastAdministrationProfileSequence"],9341:["SQ","1","ContrastBolusUsageSequence"],9342:["CS","1","ContrastBolusAgentAdministered"],9343:["CS","1","ContrastBolusAgentDetected"],9344:["CS","1","ContrastBolusAgentPhase"],9345:["FD","1","CTDIvol"],9346:["SQ","1","CTDIPhantomTypeCodeSequence"],9351:["FL","1","CalciumScoringMassFactorPatient"],9352:["FL","3","CalciumScoringMassFactorDevice"],9353:["FL","1","EnergyWeightingFactor"],9360:["SQ","1","CTAdditionalXRaySourceSequence"],9361:["CS","1","MultienergyCTAcquisition"],9362:["SQ","1","MultienergyCTAcquisitionSequence"],9363:["SQ","1","MultienergyCTProcessingSequence"],9364:["SQ","1","MultienergyCTCharacteristicsSequence"],9365:["SQ","1","MultienergyCTXRaySourceSequence"],9366:["US","1","XRaySourceIndex"],9367:["UC","1","XRaySourceID"],9368:["CS","1","MultienergySourceTechnique"],9369:["DT","1","SourceStartDateTime"],"936A":["DT","1","SourceEndDateTime"],"936B":["US","1","SwitchingPhaseNumber"],"936C":["DS","1","SwitchingPhaseNominalDuration"],"936D":["DS","1","SwitchingPhaseTransitionDuration"],"936E":["DS","1","EffectiveBinEnergy"],"936F":["SQ","1","MultienergyCTXRayDetectorSequence"],9370:["US","1","XRayDetectorIndex"],9371:["UC","1","XRayDetectorID"],9372:["CS","1","MultienergyDetectorType"],9373:["ST","1","XRayDetectorLabel"],9374:["DS","1","NominalMaxEnergy"],9375:["DS","1","NominalMinEnergy"],9376:["US","1-n","ReferencedXRayDetectorIndex"],9377:["US","1-n","ReferencedXRaySourceIndex"],9378:["US","1-n","ReferencedPathIndex"],9379:["SQ","1","MultienergyCTPathSequence"],"937A":["US","1","MultienergyCTPathIndex"],"937B":["UT","1","MultienergyAcquisitionDescription"],"937C":["FD","1","MonoenergeticEnergyEquivalent"],"937D":["SQ","1","MaterialCodeSequence"],"937E":["CS","1","DecompositionMethod"],"937F":["UT","1","DecompositionDescription"],9380:["SQ","1","DecompositionAlgorithmIdentificationSequence"],9381:["SQ","1","DecompositionMaterialSequence"],9382:["SQ","1","MaterialAttenuationSequence"],9383:["DS","1","PhotonEnergy"],9384:["DS","1","XRayMassAttenuationCoefficient"],9401:["SQ","1","ProjectionPixelCalibrationSequence"],9402:["FL","1","DistanceSourceToIsocenter"],9403:["FL","1","DistanceObjectToTableTop"],9404:["FL","2","ObjectPixelSpacingInCenterOfBeam"],9405:["SQ","1","PositionerPositionSequence"],9406:["SQ","1","TablePositionSequence"],9407:["SQ","1","CollimatorShapeSequence"],9410:["CS","1","PlanesInAcquisition"],9412:["SQ","1","XAXRFFrameCharacteristicsSequence"],9417:["SQ","1","FrameAcquisitionSequence"],9420:["CS","1","XRayReceptorType"],9423:["LO","1","AcquisitionProtocolName"],9424:["LT","1","AcquisitionProtocolDescription"],9425:["CS","1","ContrastBolusIngredientOpaque"],9426:["FL","1","DistanceReceptorPlaneToDetectorHousing"],9427:["CS","1","IntensifierActiveShape"],9428:["FL","1-2","IntensifierActiveDimensions"],9429:["FL","2","PhysicalDetectorSize"],9430:["FL","2","PositionOfIsocenterProjection"],9432:["SQ","1","FieldOfViewSequence"],9433:["LO","1","FieldOfViewDescription"],9434:["SQ","1","ExposureControlSensingRegionsSequence"],9435:["CS","1","ExposureControlSensingRegionShape"],9436:["SS","1","ExposureControlSensingRegionLeftVerticalEdge"],9437:["SS","1","ExposureControlSensingRegionRightVerticalEdge"],9438:["SS","1","ExposureControlSensingRegionUpperHorizontalEdge"],9439:["SS","1","ExposureControlSensingRegionLowerHorizontalEdge"],9440:["SS","2","CenterOfCircularExposureControlSensingRegion"],9441:["US","1","RadiusOfCircularExposureControlSensingRegion"],9442:["SS","2-n","VerticesOfThePolygonalExposureControlSensingRegion"],9445:["","",""],9447:["FL","1","ColumnAngulationPatient"],9449:["FL","1","BeamAngle"],9451:["SQ","1","FrameDetectorParametersSequence"],9452:["FL","1","CalculatedAnatomyThickness"],9455:["SQ","1","CalibrationSequence"],9456:["SQ","1","ObjectThicknessSequence"],9457:["CS","1","PlaneIdentification"],9461:["FL","1-2","FieldOfViewDimensionsInFloat"],9462:["SQ","1","IsocenterReferenceSystemSequence"],9463:["FL","1","PositionerIsocenterPrimaryAngle"],9464:["FL","1","PositionerIsocenterSecondaryAngle"],9465:["FL","1","PositionerIsocenterDetectorRotationAngle"],9466:["FL","1","TableXPositionToIsocenter"],9467:["FL","1","TableYPositionToIsocenter"],9468:["FL","1","TableZPositionToIsocenter"],9469:["FL","1","TableHorizontalRotationAngle"],9470:["FL","1","TableHeadTiltAngle"],9471:["FL","1","TableCradleTiltAngle"],9472:["SQ","1","FrameDisplayShutterSequence"],9473:["FL","1","AcquiredImageAreaDoseProduct"],9474:["CS","1","CArmPositionerTabletopRelationship"],9476:["SQ","1","XRayGeometrySequence"],9477:["SQ","1","IrradiationEventIdentificationSequence"],9504:["SQ","1","XRay3DFrameTypeSequence"],9506:["SQ","1","ContributingSourcesSequence"],9507:["SQ","1","XRay3DAcquisitionSequence"],9508:["FL","1","PrimaryPositionerScanArc"],9509:["FL","1","SecondaryPositionerScanArc"],9510:["FL","1","PrimaryPositionerScanStartAngle"],9511:["FL","1","SecondaryPositionerScanStartAngle"],9514:["FL","1","PrimaryPositionerIncrement"],9515:["FL","1","SecondaryPositionerIncrement"],9516:["DT","1","StartAcquisitionDateTime"],9517:["DT","1","EndAcquisitionDateTime"],9518:["SS","1","PrimaryPositionerIncrementSign"],9519:["SS","1","SecondaryPositionerIncrementSign"],9524:["LO","1","ApplicationName"],9525:["LO","1","ApplicationVersion"],9526:["LO","1","ApplicationManufacturer"],9527:["CS","1","AlgorithmType"],9528:["LO","1","AlgorithmDescription"],9530:["SQ","1","XRay3DReconstructionSequence"],9531:["LO","1","ReconstructionDescription"],9538:["SQ","1","PerProjectionAcquisitionSequence"],9541:["SQ","1","DetectorPositionSequence"],9542:["SQ","1","XRayAcquisitionDoseSequence"],9543:["FD","1","XRaySourceIsocenterPrimaryAngle"],9544:["FD","1","XRaySourceIsocenterSecondaryAngle"],9545:["FD","1","BreastSupportIsocenterPrimaryAngle"],9546:["FD","1","BreastSupportIsocenterSecondaryAngle"],9547:["FD","1","BreastSupportXPositionToIsocenter"],9548:["FD","1","BreastSupportYPositionToIsocenter"],9549:["FD","1","BreastSupportZPositionToIsocenter"],9550:["FD","1","DetectorIsocenterPrimaryAngle"],9551:["FD","1","DetectorIsocenterSecondaryAngle"],9552:["FD","1","DetectorXPositionToIsocenter"],9553:["FD","1","DetectorYPositionToIsocenter"],9554:["FD","1","DetectorZPositionToIsocenter"],9555:["SQ","1","XRayGridSequence"],9556:["SQ","1","XRayFilterSequence"],9557:["FD","3","DetectorActiveAreaTLHCPosition"],9558:["FD","6","DetectorActiveAreaOrientation"],9559:["CS","1","PositionerPrimaryAngleDirection"],9601:["SQ","1","DiffusionBMatrixSequence"],9602:["FD","1","DiffusionBValueXX"],9603:["FD","1","DiffusionBValueXY"],9604:["FD","1","DiffusionBValueXZ"],9605:["FD","1","DiffusionBValueYY"],9606:["FD","1","DiffusionBValueYZ"],9607:["FD","1","DiffusionBValueZZ"],9621:["SQ","1","FunctionalMRSequence"],9622:["CS","1","FunctionalSettlingPhaseFramesPresent"],9623:["DT","1","FunctionalSyncPulse"],9624:["CS","1","SettlingPhaseFrame"],9701:["DT","1","DecayCorrectionDateTime"],9715:["FD","1","StartDensityThreshold"],9716:["FD","1","StartRelativeDensityDifferenceThreshold"],9717:["FD","1","StartCardiacTriggerCountThreshold"],9718:["FD","1","StartRespiratoryTriggerCountThreshold"],9719:["FD","1","TerminationCountsThreshold"],9720:["FD","1","TerminationDensityThreshold"],9721:["FD","1","TerminationRelativeDensityThreshold"],9722:["FD","1","TerminationTimeThreshold"],9723:["FD","1","TerminationCardiacTriggerCountThreshold"],9724:["FD","1","TerminationRespiratoryTriggerCountThreshold"],9725:["CS","1","DetectorGeometry"],9726:["FD","1","TransverseDetectorSeparation"],9727:["FD","1","AxialDetectorDimension"],9729:["US","1","RadiopharmaceuticalAgentNumber"],9732:["SQ","1","PETFrameAcquisitionSequence"],9733:["SQ","1","PETDetectorMotionDetailsSequence"],9734:["SQ","1","PETTableDynamicsSequence"],9735:["SQ","1","PETPositionSequence"],9736:["SQ","1","PETFrameCorrectionFactorsSequence"],9737:["SQ","1","RadiopharmaceuticalUsageSequence"],9738:["CS","1","AttenuationCorrectionSource"],9739:["US","1","NumberOfIterations"],9740:["US","1","NumberOfSubsets"],9749:["SQ","1","PETReconstructionSequence"],9751:["SQ","1","PETFrameTypeSequence"],9755:["CS","1","TimeOfFlightInformationUsed"],9756:["CS","1","ReconstructionType"],9758:["CS","1","DecayCorrected"],9759:["CS","1","AttenuationCorrected"],9760:["CS","1","ScatterCorrected"],9761:["CS","1","DeadTimeCorrected"],9762:["CS","1","GantryMotionCorrected"],9763:["CS","1","PatientMotionCorrected"],9764:["CS","1","CountLossNormalizationCorrected"],9765:["CS","1","RandomsCorrected"],9766:["CS","1","NonUniformRadialSamplingCorrected"],9767:["CS","1","SensitivityCalibrated"],9768:["CS","1","DetectorNormalizationCorrection"],9769:["CS","1","IterativeReconstructionMethod"],9770:["CS","1","AttenuationCorrectionTemporalRelationship"],9771:["SQ","1","PatientPhysiologicalStateSequence"],9772:["SQ","1","PatientPhysiologicalStateCodeSequence"],9801:["FD","1-n","DepthsOfFocus"],9803:["SQ","1","ExcludedIntervalsSequence"],9804:["DT","1","ExclusionStartDateTime"],9805:["FD","1","ExclusionDuration"],9806:["SQ","1","USImageDescriptionSequence"],9807:["SQ","1","ImageDataTypeSequence"],9808:["CS","1","DataType"],9809:["SQ","1","TransducerScanPatternCodeSequence"],"980B":["CS","1","AliasedDataType"],"980C":["CS","1","PositionMeasuringDeviceUsed"],"980D":["SQ","1","TransducerGeometryCodeSequence"],"980E":["SQ","1","TransducerBeamSteeringCodeSequence"],"980F":["SQ","1","TransducerApplicationCodeSequence"],9810:["xs","1","ZeroVelocityPixelValue"],9900:["LO","1","ReferenceLocationLabel"],9901:["UT","1","ReferenceLocationDescription"],9902:["SQ","1","ReferenceBasisCodeSequence"],9903:["SQ","1","ReferenceGeometryCodeSequence"],9904:["DS","1","OffsetDistance"],9905:["CS","1","OffsetDirection"],9906:["SQ","1","PotentialScheduledProtocolCodeSequence"],9907:["SQ","1","PotentialRequestedProcedureCodeSequence"],9908:["UC","1-n","PotentialReasonsForProcedure"],9909:["SQ","1","PotentialReasonsForProcedureCodeSequence"],"990A":["UC","1-n","PotentialDiagnosticTasks"],"990B":["SQ","1","ContraindicationsCodeSequence"],"990C":["SQ","1","ReferencedDefinedProtocolSequence"],"990D":["SQ","1","ReferencedPerformedProtocolSequence"],"990E":["SQ","1","PredecessorProtocolSequence"],"990F":["UT","1","ProtocolPlanningInformation"],9910:["UT","1","ProtocolDesignRationale"],9911:["SQ","1","PatientSpecificationSequence"],9912:["SQ","1","ModelSpecificationSequence"],9913:["SQ","1","ParametersSpecificationSequence"],9914:["SQ","1","InstructionSequence"],9915:["US","1","InstructionIndex"],9916:["LO","1","InstructionText"],9917:["UT","1","InstructionDescription"],9918:["CS","1","InstructionPerformedFlag"],9919:["DT","1","InstructionPerformedDateTime"],"991A":["UT","1","InstructionPerformanceComment"],"991B":["SQ","1","PatientPositioningInstructionSequence"],"991C":["SQ","1","PositioningMethodCodeSequence"],"991D":["SQ","1","PositioningLandmarkSequence"],"991E":["UI","1","TargetFrameOfReferenceUID"],"991F":["SQ","1","AcquisitionProtocolElementSpecificationSequence"],9920:["SQ","1","AcquisitionProtocolElementSequence"],9921:["US","1","ProtocolElementNumber"],9922:["LO","1","ProtocolElementName"],9923:["UT","1","ProtocolElementCharacteristicsSummary"],9924:["UT","1","ProtocolElementPurpose"],9930:["CS","1","AcquisitionMotion"],9931:["SQ","1","AcquisitionStartLocationSequence"],9932:["SQ","1","AcquisitionEndLocationSequence"],9933:["SQ","1","ReconstructionProtocolElementSpecificationSequence"],9934:["SQ","1","ReconstructionProtocolElementSequence"],9935:["SQ","1","StorageProtocolElementSpecificationSequence"],9936:["SQ","1","StorageProtocolElementSequence"],9937:["LO","1","RequestedSeriesDescription"],9938:["US","1-n","SourceAcquisitionProtocolElementNumber"],9939:["US","1-n","SourceAcquisitionBeamNumber"],"993A":["US","1-n","SourceReconstructionProtocolElementNumber"],"993B":["SQ","1","ReconstructionStartLocationSequence"],"993C":["SQ","1","ReconstructionEndLocationSequence"],"993D":["SQ","1","ReconstructionAlgorithmSequence"],"993E":["SQ","1","ReconstructionTargetCenterLocationSequence"],9941:["UT","1","ImageFilterDescription"],9942:["FD","1","CTDIvolNotificationTrigger"],9943:["FD","1","DLPNotificationTrigger"],9944:["CS","1","AutoKVPSelectionType"],9945:["FD","1","AutoKVPUpperBound"],9946:["FD","1","AutoKVPLowerBound"],9947:["CS","1","ProtocolDefinedPatientPosition"],A001:["SQ","1","ContributingEquipmentSequence"],A002:["DT","1","ContributionDateTime"],A003:["ST","1","ContributionDescription"]},"0020":{"0000":["UL","1","GenericGroupLength"],"000D":["UI","1","StudyInstanceUID"],"000E":["UI","1","SeriesInstanceUID"],"0010":["SH","1","StudyID"],"0011":["IS","1","SeriesNumber"],"0012":["IS","1","AcquisitionNumber"],"0013":["IS","1","InstanceNumber"],"0014":["IS","1","IsotopeNumber"],"0015":["IS","1","PhaseNumber"],"0016":["IS","1","IntervalNumber"],"0017":["IS","1","TimeSlotNumber"],"0018":["IS","1","AngleNumber"],"0019":["IS","1","ItemNumber"],"0020":["CS","2","PatientOrientation"],"0022":["IS","1","OverlayNumber"],"0024":["IS","1","CurveNumber"],"0026":["IS","1","LUTNumber"],"0030":["DS","3","ImagePosition"],"0032":["DS","3","ImagePositionPatient"],"0035":["DS","6","ImageOrientation"],"0037":["DS","6","ImageOrientationPatient"],"0050":["DS","1","Location"],"0052":["UI","1","FrameOfReferenceUID"],"0060":["CS","1","Laterality"],"0062":["CS","1","ImageLaterality"],"0070":["LO","1","ImageGeometryType"],"0080":["CS","1-n","MaskingImage"],"00AA":["IS","1","ReportNumber"],"0100":["IS","1","TemporalPositionIdentifier"],"0105":["IS","1","NumberOfTemporalPositions"],"0110":["DS","1","TemporalResolution"],"0200":["UI","1","SynchronizationFrameOfReferenceUID"],"0242":["UI","1","SOPInstanceUIDOfConcatenationSource"],1e3:["IS","1","SeriesInStudy"],1001:["IS","1","AcquisitionsInSeries"],1002:["IS","1","ImagesInAcquisition"],1003:["IS","1","ImagesInSeries"],1004:["IS","1","AcquisitionsInStudy"],1005:["IS","1","ImagesInStudy"],1020:["LO","1-n","Reference"],"103F":["LO","1","TargetPositionReferenceIndicator"],1040:["LO","1","PositionReferenceIndicator"],1041:["DS","1","SliceLocation"],1070:["IS","1-n","OtherStudyNumbers"],1200:["IS","1","NumberOfPatientRelatedStudies"],1202:["IS","1","NumberOfPatientRelatedSeries"],1204:["IS","1","NumberOfPatientRelatedInstances"],1206:["IS","1","NumberOfStudyRelatedSeries"],1208:["IS","1","NumberOfStudyRelatedInstances"],1209:["IS","1","NumberOfSeriesRelatedInstances"],3100:["CS","1-n","SourceImageIDs"],3401:["CS","1","ModifyingDeviceID"],3402:["CS","1","ModifiedImageID"],3403:["DA","1","ModifiedImageDate"],3404:["LO","1","ModifyingDeviceManufacturer"],3405:["TM","1","ModifiedImageTime"],3406:["LO","1","ModifiedImageDescription"],4e3:["LT","1","ImageComments"],5e3:["AT","1-n","OriginalImageIdentification"],5002:["LO","1-n","OriginalImageIdentificationNomenclature"],9056:["SH","1","StackID"],9057:["UL","1","InStackPositionNumber"],9071:["SQ","1","FrameAnatomySequence"],9072:["CS","1","FrameLaterality"],9111:["SQ","1","FrameContentSequence"],9113:["SQ","1","PlanePositionSequence"],9116:["SQ","1","PlaneOrientationSequence"],9128:["UL","1","TemporalPositionIndex"],9153:["FD","1","NominalCardiacTriggerDelayTime"],9154:["FL","1","NominalCardiacTriggerTimePriorToRPeak"],9155:["FL","1","ActualCardiacTriggerTimePriorToRPeak"],9156:["US","1","FrameAcquisitionNumber"],9157:["UL","1-n","DimensionIndexValues"],9158:["LT","1","FrameComments"],9161:["UI","1","ConcatenationUID"],9162:["US","1","InConcatenationNumber"],9163:["US","1","InConcatenationTotalNumber"],9164:["UI","1","DimensionOrganizationUID"],9165:["AT","1","DimensionIndexPointer"],9167:["AT","1","FunctionalGroupPointer"],9170:["SQ","1","UnassignedSharedConvertedAttributesSequence"],9171:["SQ","1","UnassignedPerFrameConvertedAttributesSequence"],9172:["SQ","1","ConversionSourceAttributesSequence"],9213:["LO","1","DimensionIndexPrivateCreator"],9221:["SQ","1","DimensionOrganizationSequence"],9222:["SQ","1","DimensionIndexSequence"],9228:["UL","1","ConcatenationFrameOffsetNumber"],9238:["LO","1","FunctionalGroupPrivateCreator"],9241:["FL","1","NominalPercentageOfCardiacPhase"],9245:["FL","1","NominalPercentageOfRespiratoryPhase"],9246:["FL","1","StartingRespiratoryAmplitude"],9247:["CS","1","StartingRespiratoryPhase"],9248:["FL","1","EndingRespiratoryAmplitude"],9249:["CS","1","EndingRespiratoryPhase"],9250:["CS","1","RespiratoryTriggerType"],9251:["FD","1","RRIntervalTimeNominal"],9252:["FD","1","ActualCardiacTriggerDelayTime"],9253:["SQ","1","RespiratorySynchronizationSequence"],9254:["FD","1","RespiratoryIntervalTime"],9255:["FD","1","NominalRespiratoryTriggerDelayTime"],9256:["FD","1","RespiratoryTriggerDelayThreshold"],9257:["FD","1","ActualRespiratoryTriggerDelayTime"],9301:["FD","3","ImagePositionVolume"],9302:["FD","6","ImageOrientationVolume"],9307:["CS","1","UltrasoundAcquisitionGeometry"],9308:["FD","3","ApexPosition"],9309:["FD","16","VolumeToTransducerMappingMatrix"],"930A":["FD","16","VolumeToTableMappingMatrix"],"930B":["CS","1","VolumeToTransducerRelationship"],"930C":["CS","1","PatientFrameOfReferenceSource"],"930D":["FD","1","TemporalPositionTimeOffset"],"930E":["SQ","1","PlanePositionVolumeSequence"],"930F":["SQ","1","PlaneOrientationVolumeSequence"],9310:["SQ","1","TemporalPositionSequence"],9311:["CS","1","DimensionOrganizationType"],9312:["UI","1","VolumeFrameOfReferenceUID"],9313:["UI","1","TableFrameOfReferenceUID"],9421:["LO","1","DimensionDescriptionLabel"],9450:["SQ","1","PatientOrientationInFrameSequence"],9453:["LO","1","FrameLabel"],9518:["US","1-n","AcquisitionIndex"],9529:["SQ","1","ContributingSOPInstancesReferenceSequence"],9536:["US","1","ReconstructionIndex"]},"0022":{"0000":["UL","1","GenericGroupLength"],"0001":["US","1","LightPathFilterPassThroughWavelength"],"0002":["US","2","LightPathFilterPassBand"],"0003":["US","1","ImagePathFilterPassThroughWavelength"],"0004":["US","2","ImagePathFilterPassBand"],"0005":["CS","1","PatientEyeMovementCommanded"],"0006":["SQ","1","PatientEyeMovementCommandCodeSequence"],"0007":["FL","1","SphericalLensPower"],"0008":["FL","1","CylinderLensPower"],"0009":["FL","1","CylinderAxis"],"000A":["FL","1","EmmetropicMagnification"],"000B":["FL","1","IntraOcularPressure"],"000C":["FL","1","HorizontalFieldOfView"],"000D":["CS","1","PupilDilated"],"000E":["FL","1","DegreeOfDilation"],"0010":["FL","1","StereoBaselineAngle"],"0011":["FL","1","StereoBaselineDisplacement"],"0012":["FL","1","StereoHorizontalPixelOffset"],"0013":["FL","1","StereoVerticalPixelOffset"],"0014":["FL","1","StereoRotation"],"0015":["SQ","1","AcquisitionDeviceTypeCodeSequence"],"0016":["SQ","1","IlluminationTypeCodeSequence"],"0017":["SQ","1","LightPathFilterTypeStackCodeSequence"],"0018":["SQ","1","ImagePathFilterTypeStackCodeSequence"],"0019":["SQ","1","LensesCodeSequence"],"001A":["SQ","1","ChannelDescriptionCodeSequence"],"001B":["SQ","1","RefractiveStateSequence"],"001C":["SQ","1","MydriaticAgentCodeSequence"],"001D":["SQ","1","RelativeImagePositionCodeSequence"],"001E":["FL","1","CameraAngleOfView"],"0020":["SQ","1","StereoPairsSequence"],"0021":["SQ","1","LeftImageSequence"],"0022":["SQ","1","RightImageSequence"],"0028":["CS","1","StereoPairsPresent"],"0030":["FL","1","AxialLengthOfTheEye"],"0031":["SQ","1","OphthalmicFrameLocationSequence"],"0032":["FL","2-2n","ReferenceCoordinates"],"0035":["FL","1","DepthSpatialResolution"],"0036":["FL","1","MaximumDepthDistortion"],"0037":["FL","1","AlongScanSpatialResolution"],"0038":["FL","1","MaximumAlongScanDistortion"],"0039":["CS","1","OphthalmicImageOrientation"],"0041":["FL","1","DepthOfTransverseImage"],"0042":["SQ","1","MydriaticAgentConcentrationUnitsSequence"],"0048":["FL","1","AcrossScanSpatialResolution"],"0049":["FL","1","MaximumAcrossScanDistortion"],"004E":["DS","1","MydriaticAgentConcentration"],"0055":["FL","1","IlluminationWaveLength"],"0056":["FL","1","IlluminationPower"],"0057":["FL","1","IlluminationBandwidth"],"0058":["SQ","1","MydriaticAgentSequence"],1007:["SQ","1","OphthalmicAxialMeasurementsRightEyeSequence"],1008:["SQ","1","OphthalmicAxialMeasurementsLeftEyeSequence"],1009:["CS","1","OphthalmicAxialMeasurementsDeviceType"],1010:["CS","1","OphthalmicAxialLengthMeasurementsType"],1012:["SQ","1","OphthalmicAxialLengthSequence"],1019:["FL","1","OphthalmicAxialLength"],1024:["SQ","1","LensStatusCodeSequence"],1025:["SQ","1","VitreousStatusCodeSequence"],1028:["SQ","1","IOLFormulaCodeSequence"],1029:["LO","1","IOLFormulaDetail"],1033:["FL","1","KeratometerIndex"],1035:["SQ","1","SourceOfOphthalmicAxialLengthCodeSequence"],1036:["SQ","1","SourceOfCornealSizeDataCodeSequence"],1037:["FL","1","TargetRefraction"],1039:["CS","1","RefractiveProcedureOccurred"],1040:["SQ","1","RefractiveSurgeryTypeCodeSequence"],1044:["SQ","1","OphthalmicUltrasoundMethodCodeSequence"],1045:["SQ","1","SurgicallyInducedAstigmatismSequence"],1046:["CS","1","TypeOfOpticalCorrection"],1047:["SQ","1","ToricIOLPowerSequence"],1048:["SQ","1","PredictedToricErrorSequence"],1049:["CS","1","PreSelectedForImplantation"],"104A":["SQ","1","ToricIOLPowerForExactEmmetropiaSequence"],"104B":["SQ","1","ToricIOLPowerForExactTargetRefractionSequence"],1050:["SQ","1","OphthalmicAxialLengthMeasurementsSequence"],1053:["FL","1","IOLPower"],1054:["FL","1","PredictedRefractiveError"],1059:["FL","1","OphthalmicAxialLengthVelocity"],1065:["LO","1","LensStatusDescription"],1066:["LO","1","VitreousStatusDescription"],1090:["SQ","1","IOLPowerSequence"],1092:["SQ","1","LensConstantSequence"],1093:["LO","1","IOLManufacturer"],1094:["LO","1","LensConstantDescription"],1095:["LO","1","ImplantName"],1096:["SQ","1","KeratometryMeasurementTypeCodeSequence"],1097:["LO","1","ImplantPartNumber"],1100:["SQ","1","ReferencedOphthalmicAxialMeasurementsSequence"],1101:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"],1103:["SQ","1","RefractiveErrorBeforeRefractiveSurgeryCodeSequence"],1121:["FL","1","IOLPowerForExactEmmetropia"],1122:["FL","1","IOLPowerForExactTargetRefraction"],1125:["SQ","1","AnteriorChamberDepthDefinitionCodeSequence"],1127:["SQ","1","LensThicknessSequence"],1128:["SQ","1","AnteriorChamberDepthSequence"],"112A":["SQ","1","CalculationCommentSequence"],"112B":["CS","1","CalculationCommentType"],"112C":["LT","1","CalculationComment"],1130:["FL","1","LensThickness"],1131:["FL","1","AnteriorChamberDepth"],1132:["SQ","1","SourceOfLensThicknessDataCodeSequence"],1133:["SQ","1","SourceOfAnteriorChamberDepthDataCodeSequence"],1134:["SQ","1","SourceOfRefractiveMeasurementsSequence"],1135:["SQ","1","SourceOfRefractiveMeasurementsCodeSequence"],1140:["CS","1","OphthalmicAxialLengthMeasurementModified"],1150:["SQ","1","OphthalmicAxialLengthDataSourceCodeSequence"],1153:["SQ","1","OphthalmicAxialLengthAcquisitionMethodCodeSequence"],1155:["FL","1","SignalToNoiseRatio"],1159:["LO","1","OphthalmicAxialLengthDataSourceDescription"],1210:["SQ","1","OphthalmicAxialLengthMeasurementsTotalLengthSequence"],1211:["SQ","1","OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"],1212:["SQ","1","OphthalmicAxialLengthMeasurementsLengthSummationSequence"],1220:["SQ","1","UltrasoundOphthalmicAxialLengthMeasurementsSequence"],1225:["SQ","1","OpticalOphthalmicAxialLengthMeasurementsSequence"],1230:["SQ","1","UltrasoundSelectedOphthalmicAxialLengthSequence"],1250:["SQ","1","OphthalmicAxialLengthSelectionMethodCodeSequence"],1255:["SQ","1","OpticalSelectedOphthalmicAxialLengthSequence"],1257:["SQ","1","SelectedSegmentalOphthalmicAxialLengthSequence"],1260:["SQ","1","SelectedTotalOphthalmicAxialLengthSequence"],1262:["SQ","1","OphthalmicAxialLengthQualityMetricSequence"],1265:["SQ","1","OphthalmicAxialLengthQualityMetricTypeCodeSequence"],1273:["LO","1","OphthalmicAxialLengthQualityMetricTypeDescription"],1300:["SQ","1","IntraocularLensCalculationsRightEyeSequence"],1310:["SQ","1","IntraocularLensCalculationsLeftEyeSequence"],1330:["SQ","1","ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"],1415:["CS","1","OphthalmicMappingDeviceType"],1420:["SQ","1","AcquisitionMethodCodeSequence"],1423:["SQ","1","AcquisitionMethodAlgorithmSequence"],1436:["SQ","1","OphthalmicThicknessMapTypeCodeSequence"],1443:["SQ","1","OphthalmicThicknessMappingNormalsSequence"],1445:["SQ","1","RetinalThicknessDefinitionCodeSequence"],1450:["SQ","1","PixelValueMappingToCodedConceptSequence"],1452:["xs","1","MappedPixelValue"],1454:["LO","1","PixelValueMappingExplanation"],1458:["SQ","1","OphthalmicThicknessMapQualityThresholdSequence"],1460:["FL","1","OphthalmicThicknessMapThresholdQualityRating"],1463:["FL","2","AnatomicStructureReferencePoint"],1465:["SQ","1","RegistrationToLocalizerSequence"],1466:["CS","1","RegisteredLocalizerUnits"],1467:["FL","2","RegisteredLocalizerTopLeftHandCorner"],1468:["FL","2","RegisteredLocalizerBottomRightHandCorner"],1470:["SQ","1","OphthalmicThicknessMapQualityRatingSequence"],1472:["SQ","1","RelevantOPTAttributesSequence"],1512:["SQ","1","TransformationMethodCodeSequence"],1513:["SQ","1","TransformationAlgorithmSequence"],1515:["CS","1","OphthalmicAxialLengthMethod"],1517:["FL","1","OphthalmicFOV"],1518:["SQ","1","TwoDimensionalToThreeDimensionalMapSequence"],1525:["SQ","1","WideFieldOphthalmicPhotographyQualityRatingSequence"],1526:["SQ","1","WideFieldOphthalmicPhotographyQualityThresholdSequence"],1527:["FL","1","WideFieldOphthalmicPhotographyThresholdQualityRating"],1528:["FL","1","XCoordinatesCenterPixelViewAngle"],1529:["FL","1","YCoordinatesCenterPixelViewAngle"],1530:["UL","1","NumberOfMapPoints"],1531:["OF","1","TwoDimensionalToThreeDimensionalMapData"],1612:["SQ","1","DerivationAlgorithmSequence"],1615:["SQ","1","OphthalmicImageTypeCodeSequence"],1616:["LO","1","OphthalmicImageTypeDescription"],1618:["SQ","1","ScanPatternTypeCodeSequence"],1620:["SQ","1","ReferencedSurfaceMeshIdentificationSequence"],1622:["CS","1","OphthalmicVolumetricPropertiesFlag"],1624:["FL","1","OphthalmicAnatomicReferencePointXCoordinate"],1626:["FL","1","OphthalmicAnatomicReferencePointYCoordinate"],1628:["SQ","1","OphthalmicEnFaceImageQualityRatingSequence"],1630:["DS","1","QualityThreshold"],1640:["SQ","1","OCTBscanAnalysisAcquisitionParametersSequence"],1642:["UL","1","NumberOfBscansPerFrame"],1643:["FL","1","BscanSlabThickness"],1644:["FL","1","DistanceBetweenBscanSlabs"],1645:["FL","1","BscanCycleTime"],1646:["FL","1-n","BscanCycleTimeVector"],1649:["FL","1","AscanRate"],1650:["FL","1","BscanRate"],1658:["UL","1","SurfaceMeshZPixelOffset"]},"0024":{"0000":["UL","1","GenericGroupLength"],"0010":["FL","1","VisualFieldHorizontalExtent"],"0011":["FL","1","VisualFieldVerticalExtent"],"0012":["CS","1","VisualFieldShape"],"0016":["SQ","1","ScreeningTestModeCodeSequence"],"0018":["FL","1","MaximumStimulusLuminance"],"0020":["FL","1","BackgroundLuminance"],"0021":["SQ","1","StimulusColorCodeSequence"],"0024":["SQ","1","BackgroundIlluminationColorCodeSequence"],"0025":["FL","1","StimulusArea"],"0028":["FL","1","StimulusPresentationTime"],"0032":["SQ","1","FixationSequence"],"0033":["SQ","1","FixationMonitoringCodeSequence"],"0034":["SQ","1","VisualFieldCatchTrialSequence"],"0035":["US","1","FixationCheckedQuantity"],"0036":["US","1","PatientNotProperlyFixatedQuantity"],"0037":["CS","1","PresentedVisualStimuliDataFlag"],"0038":["US","1","NumberOfVisualStimuli"],"0039":["CS","1","ExcessiveFixationLossesDataFlag"],"0040":["CS","1","ExcessiveFixationLosses"],"0042":["US","1","StimuliRetestingQuantity"],"0044":["LT","1","CommentsOnPatientPerformanceOfVisualField"],"0045":["CS","1","FalseNegativesEstimateFlag"],"0046":["FL","1","FalseNegativesEstimate"],"0048":["US","1","NegativeCatchTrialsQuantity"],"0050":["US","1","FalseNegativesQuantity"],"0051":["CS","1","ExcessiveFalseNegativesDataFlag"],"0052":["CS","1","ExcessiveFalseNegatives"],"0053":["CS","1","FalsePositivesEstimateFlag"],"0054":["FL","1","FalsePositivesEstimate"],"0055":["CS","1","CatchTrialsDataFlag"],"0056":["US","1","PositiveCatchTrialsQuantity"],"0057":["CS","1","TestPointNormalsDataFlag"],"0058":["SQ","1","TestPointNormalsSequence"],"0059":["CS","1","GlobalDeviationProbabilityNormalsFlag"],"0060":["US","1","FalsePositivesQuantity"],"0061":["CS","1","ExcessiveFalsePositivesDataFlag"],"0062":["CS","1","ExcessiveFalsePositives"],"0063":["CS","1","VisualFieldTestNormalsFlag"],"0064":["SQ","1","ResultsNormalsSequence"],"0065":["SQ","1","AgeCorrectedSensitivityDeviationAlgorithmSequence"],"0066":["FL","1","GlobalDeviationFromNormal"],"0067":["SQ","1","GeneralizedDefectSensitivityDeviationAlgorithmSequence"],"0068":["FL","1","LocalizedDeviationFromNormal"],"0069":["LO","1","PatientReliabilityIndicator"],"0070":["FL","1","VisualFieldMeanSensitivity"],"0071":["FL","1","GlobalDeviationProbability"],"0072":["CS","1","LocalDeviationProbabilityNormalsFlag"],"0073":["FL","1","LocalizedDeviationProbability"],"0074":["CS","1","ShortTermFluctuationCalculated"],"0075":["FL","1","ShortTermFluctuation"],"0076":["CS","1","ShortTermFluctuationProbabilityCalculated"],"0077":["FL","1","ShortTermFluctuationProbability"],"0078":["CS","1","CorrectedLocalizedDeviationFromNormalCalculated"],"0079":["FL","1","CorrectedLocalizedDeviationFromNormal"],"0080":["CS","1","CorrectedLocalizedDeviationFromNormalProbabilityCalculated"],"0081":["FL","1","CorrectedLocalizedDeviationFromNormalProbability"],"0083":["SQ","1","GlobalDeviationProbabilitySequence"],"0085":["SQ","1","LocalizedDeviationProbabilitySequence"],"0086":["CS","1","FovealSensitivityMeasured"],"0087":["FL","1","FovealSensitivity"],"0088":["FL","1","VisualFieldTestDuration"],"0089":["SQ","1","VisualFieldTestPointSequence"],"0090":["FL","1","VisualFieldTestPointXCoordinate"],"0091":["FL","1","VisualFieldTestPointYCoordinate"],"0092":["FL","1","AgeCorrectedSensitivityDeviationValue"],"0093":["CS","1","StimulusResults"],"0094":["FL","1","SensitivityValue"],"0095":["CS","1","RetestStimulusSeen"],"0096":["FL","1","RetestSensitivityValue"],"0097":["SQ","1","VisualFieldTestPointNormalsSequence"],"0098":["FL","1","QuantifiedDefect"],"0100":["FL","1","AgeCorrectedSensitivityDeviationProbabilityValue"],"0102":["CS","1","GeneralizedDefectCorrectedSensitivityDeviationFlag"],"0103":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationValue"],"0104":["FL","1","GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"],"0105":["FL","1","MinimumSensitivityValue"],"0106":["CS","1","BlindSpotLocalized"],"0107":["FL","1","BlindSpotXCoordinate"],"0108":["FL","1","BlindSpotYCoordinate"],"0110":["SQ","1","VisualAcuityMeasurementSequence"],"0112":["SQ","1","RefractiveParametersUsedOnPatientSequence"],"0113":["CS","1","MeasurementLaterality"],"0114":["SQ","1","OphthalmicPatientClinicalInformationLeftEyeSequence"],"0115":["SQ","1","OphthalmicPatientClinicalInformationRightEyeSequence"],"0117":["CS","1","FovealPointNormativeDataFlag"],"0118":["FL","1","FovealPointProbabilityValue"],"0120":["CS","1","ScreeningBaselineMeasured"],"0122":["SQ","1","ScreeningBaselineMeasuredSequence"],"0124":["CS","1","ScreeningBaselineType"],"0126":["FL","1","ScreeningBaselineValue"],"0202":["LO","1","AlgorithmSource"],"0306":["LO","1","DataSetName"],"0307":["LO","1","DataSetVersion"],"0308":["LO","1","DataSetSource"],"0309":["LO","1","DataSetDescription"],"0317":["SQ","1","VisualFieldTestReliabilityGlobalIndexSequence"],"0320":["SQ","1","VisualFieldGlobalResultsIndexSequence"],"0325":["SQ","1","DataObservationSequence"],"0338":["CS","1","IndexNormalsFlag"],"0341":["FL","1","IndexProbability"],"0344":["SQ","1","IndexProbabilitySequence"]},"0028":{"0000":["UL","1","GenericGroupLength"],"0002":["US","1","SamplesPerPixel"],"0003":["US","1","SamplesPerPixelUsed"],"0004":["CS","1","PhotometricInterpretation"],"0005":["US","1","ImageDimensions"],"0006":["US","1","PlanarConfiguration"],"0008":["IS","1","NumberOfFrames"],"0009":["AT","1-n","FrameIncrementPointer"],"000A":["AT","1-n","FrameDimensionPointer"],"0010":["US","1","Rows"],"0011":["US","1","Columns"],"0012":["US","1","Planes"],"0014":["US","1","UltrasoundColorDataPresent"],"0020":["","",""],"0030":["DS","2","PixelSpacing"],"0031":["DS","2","ZoomFactor"],"0032":["DS","2","ZoomCenter"],"0034":["IS","2","PixelAspectRatio"],"0040":["CS","1","ImageFormat"],"0050":["LO","1-n","ManipulatedImage"],"0051":["CS","1-n","CorrectedImage"],"005F":["LO","1","CompressionRecognitionCode"],"0060":["CS","1","CompressionCode"],"0061":["SH","1","CompressionOriginator"],"0062":["LO","1","CompressionLabel"],"0063":["SH","1","CompressionDescription"],"0065":["CS","1-n","CompressionSequence"],"0066":["AT","1-n","CompressionStepPointers"],"0068":["US","1","RepeatInterval"],"0069":["US","1","BitsGrouped"],"0070":["US","1-n","PerimeterTable"],"0071":["xs","1","PerimeterValue"],"0080":["US","1","PredictorRows"],"0081":["US","1","PredictorColumns"],"0082":["US","1-n","PredictorConstants"],"0090":["CS","1","BlockedPixels"],"0091":["US","1","BlockRows"],"0092":["US","1","BlockColumns"],"0093":["US","1","RowOverlap"],"0094":["US","1","ColumnOverlap"],"0100":["US","1","BitsAllocated"],"0101":["US","1","BitsStored"],"0102":["US","1","HighBit"],"0103":["US","1","PixelRepresentation"],"0104":["xs","1","SmallestValidPixelValue"],"0105":["xs","1","LargestValidPixelValue"],"0106":["xs","1","SmallestImagePixelValue"],"0107":["xs","1","LargestImagePixelValue"],"0108":["xs","1","SmallestPixelValueInSeries"],"0109":["xs","1","LargestPixelValueInSeries"],"0110":["xs","1","SmallestImagePixelValueInPlane"],"0111":["xs","1","LargestImagePixelValueInPlane"],"0120":["xs","1","PixelPaddingValue"],"0121":["xs","1","PixelPaddingRangeLimit"],"0122":["FL","1","FloatPixelPaddingValue"],"0123":["FD","1","DoubleFloatPixelPaddingValue"],"0124":["FL","1","FloatPixelPaddingRangeLimit"],"0125":["FD","1","DoubleFloatPixelPaddingRangeLimit"],"0200":["US","1","ImageLocation"],"0300":["CS","1","QualityControlImage"],"0301":["CS","1","BurnedInAnnotation"],"0302":["CS","1","RecognizableVisualFeatures"],"0303":["CS","1","LongitudinalTemporalInformationModified"],"0304":["UI","1","ReferencedColorPaletteInstanceUID"],"0400":["LO","1","TransformLabel"],"0401":["LO","1","TransformVersionNumber"],"0402":["US","1","NumberOfTransformSteps"],"0403":["LO","1-n","SequenceOfCompressedData"],"0404":["AT","1-n","DetailsOfCoefficients"],"04x0":["US","1","RowsForNthOrderCoefficients"],"04x1":["US","1","ColumnsForNthOrderCoefficients"],"04x2":["LO","1-n","CoefficientCoding"],"04x3":["AT","1-n","CoefficientCodingPointers"],"0700":["LO","1","DCTLabel"],"0701":["CS","1-n","DataBlockDescription"],"0702":["AT","1-n","DataBlock"],"0710":["US","1","NormalizationFactorFormat"],"0720":["US","1","ZonalMapNumberFormat"],"0721":["AT","1-n","ZonalMapLocation"],"0722":["US","1","ZonalMapFormat"],"0730":["US","1","AdaptiveMapFormat"],"0740":["US","1","CodeNumberFormat"],"08x0":["CS","1-n","CodeLabel"],"08x2":["US","1","NumberOfTables"],"08x3":["AT","1-n","CodeTableLocation"],"08x4":["US","1","BitsForCodeWord"],"08x8":["AT","1-n","ImageDataLocation"],"0A02":["CS","1","PixelSpacingCalibrationType"],"0A04":["LO","1","PixelSpacingCalibrationDescription"],1040:["CS","1","PixelIntensityRelationship"],1041:["SS","1","PixelIntensityRelationshipSign"],1050:["DS","1-n","WindowCenter"],1051:["DS","1-n","WindowWidth"],1052:["DS","1","RescaleIntercept"],1053:["DS","1","RescaleSlope"],1054:["LO","1","RescaleType"],1055:["LO","1-n","WindowCenterWidthExplanation"],1056:["CS","1","VOILUTFunction"],1080:["CS","1","GrayScale"],1090:["CS","1","RecommendedViewingMode"],1100:["xs","3","GrayLookupTableDescriptor"],1101:["xs","3","RedPaletteColorLookupTableDescriptor"],1102:["xs","3","GreenPaletteColorLookupTableDescriptor"],1103:["xs","3","BluePaletteColorLookupTableDescriptor"],1104:["US","3","AlphaPaletteColorLookupTableDescriptor"],1111:["xs","4","LargeRedPaletteColorLookupTableDescriptor"],1112:["xs","4","LargeGreenPaletteColorLookupTableDescriptor"],1113:["xs","4","LargeBluePaletteColorLookupTableDescriptor"],1199:["UI","1","PaletteColorLookupTableUID"],1200:["xs","1-n or 1","GrayLookupTableData"],1201:["OW","1","RedPaletteColorLookupTableData"],1202:["OW","1","GreenPaletteColorLookupTableData"],1203:["OW","1","BluePaletteColorLookupTableData"],1204:["OW","1","AlphaPaletteColorLookupTableData"],1211:["OW","1","LargeRedPaletteColorLookupTableData"],1212:["OW","1","LargeGreenPaletteColorLookupTableData"],1213:["OW","1","LargeBluePaletteColorLookupTableData"],1214:["UI","1","LargePaletteColorLookupTableUID"],1221:["OW","1","SegmentedRedPaletteColorLookupTableData"],1222:["OW","1","SegmentedGreenPaletteColorLookupTableData"],1223:["OW","1","SegmentedBluePaletteColorLookupTableData"],1224:["OW","1","SegmentedAlphaPaletteColorLookupTableData"],1230:["SQ","1","StoredValueColorRangeSequence"],1231:["FD","1","MinimumStoredValueMapped"],1232:["FD","1","MaximumStoredValueMapped"],1300:["CS","1","BreastImplantPresent"],1350:["CS","1","PartialView"],1351:["ST","1","PartialViewDescription"],1352:["SQ","1","PartialViewCodeSequence"],"135A":["CS","1","SpatialLocationsPreserved"],1401:["SQ","1","DataFrameAssignmentSequence"],1402:["CS","1","DataPathAssignment"],1403:["US","1","BitsMappedToColorLookupTable"],1404:["SQ","1","BlendingLUT1Sequence"],1405:["CS","1","BlendingLUT1TransferFunction"],1406:["FD","1","BlendingWeightConstant"],1407:["US","3","BlendingLookupTableDescriptor"],1408:["OW","1","BlendingLookupTableData"],"140B":["SQ","1","EnhancedPaletteColorLookupTableSequence"],"140C":["SQ","1","BlendingLUT2Sequence"],"140D":["CS","1","BlendingLUT2TransferFunction"],"140E":["CS","1","DataPathID"],"140F":["CS","1","RGBLUTTransferFunction"],1410:["CS","1","AlphaLUTTransferFunction"],2e3:["OB","1","ICCProfile"],2002:["CS","1","ColorSpace"],2110:["CS","1","LossyImageCompression"],2112:["DS","1-n","LossyImageCompressionRatio"],2114:["CS","1-n","LossyImageCompressionMethod"],3e3:["SQ","1","ModalityLUTSequence"],3002:["xs","3","LUTDescriptor"],3003:["LO","1","LUTExplanation"],3004:["LO","1","ModalityLUTType"],3006:["xx","1-n or 1","LUTData"],3010:["SQ","1","VOILUTSequence"],3110:["SQ","1","SoftcopyVOILUTSequence"],4e3:["LT","1","ImagePresentationComments"],5e3:["SQ","1","BiPlaneAcquisitionSequence"],6010:["US","1","RepresentativeFrameNumber"],6020:["US","1-n","FrameNumbersOfInterest"],6022:["LO","1-n","FrameOfInterestDescription"],6023:["CS","1-n","FrameOfInterestType"],6030:["US","1-n","MaskPointers"],6040:["US","1-n","RWavePointer"],6100:["SQ","1","MaskSubtractionSequence"],6101:["CS","1","MaskOperation"],6102:["US","2-2n","ApplicableFrameRange"],6110:["US","1-n","MaskFrameNumbers"],6112:["US","1","ContrastFrameAveraging"],6114:["FL","2","MaskSubPixelShift"],6120:["SS","1","TIDOffset"],6190:["ST","1","MaskOperationExplanation"],7e3:["SQ","1","EquipmentAdministratorSequence"],7001:["US","1","NumberOfDisplaySubsystems"],7002:["US","1","CurrentConfigurationID"],7003:["US","1","DisplaySubsystemID"],7004:["SH","1","DisplaySubsystemName"],7005:["LO","1","DisplaySubsystemDescription"],7006:["CS","1","SystemStatus"],7007:["LO","1","SystemStatusComment"],7008:["SQ","1","TargetLuminanceCharacteristicsSequence"],7009:["US","1","LuminanceCharacteristicsID"],"700A":["SQ","1","DisplaySubsystemConfigurationSequence"],"700B":["US","1","ConfigurationID"],"700C":["SH","1","ConfigurationName"],"700D":["LO","1","ConfigurationDescription"],"700E":["US","1","ReferencedTargetLuminanceCharacteristicsID"],"700F":["SQ","1","QAResultsSequence"],7010:["SQ","1","DisplaySubsystemQAResultsSequence"],7011:["SQ","1","ConfigurationQAResultsSequence"],7012:["SQ","1","MeasurementEquipmentSequence"],7013:["CS","1-n","MeasurementFunctions"],7014:["CS","1","MeasurementEquipmentType"],7015:["SQ","1","VisualEvaluationResultSequence"],7016:["SQ","1","DisplayCalibrationResultSequence"],7017:["US","1","DDLValue"],7018:["FL","2","CIExyWhitePoint"],7019:["CS","1","DisplayFunctionType"],"701A":["FL","1","GammaValue"],"701B":["US","1","NumberOfLuminancePoints"],"701C":["SQ","1","LuminanceResponseSequence"],"701D":["FL","1","TargetMinimumLuminance"],"701E":["FL","1","TargetMaximumLuminance"],"701F":["FL","1","LuminanceValue"],7020:["LO","1","LuminanceResponseDescription"],7021:["CS","1","WhitePointFlag"],7022:["SQ","1","DisplayDeviceTypeCodeSequence"],7023:["SQ","1","DisplaySubsystemSequence"],7024:["SQ","1","LuminanceResultSequence"],7025:["CS","1","AmbientLightValueSource"],7026:["CS","1-n","MeasuredCharacteristics"],7027:["SQ","1","LuminanceUniformityResultSequence"],7028:["SQ","1","VisualEvaluationTestSequence"],7029:["CS","1","TestResult"],"702A":["LO","1","TestResultComment"],"702B":["CS","1","TestImageValidation"],"702C":["SQ","1","TestPatternCodeSequence"],"702D":["SQ","1","MeasurementPatternCodeSequence"],"702E":["SQ","1","VisualEvaluationMethodCodeSequence"],"7FE0":["UR","1","PixelDataProviderURL"],9001:["UL","1","DataPointRows"],9002:["UL","1","DataPointColumns"],9003:["CS","1","SignalDomainColumns"],9099:["US","1","LargestMonochromePixelValue"],9108:["CS","1","DataRepresentation"],9110:["SQ","1","PixelMeasuresSequence"],9132:["SQ","1","FrameVOILUTSequence"],9145:["SQ","1","PixelValueTransformationSequence"],9235:["CS","1","SignalDomainRows"],9411:["FL","1","DisplayFilterPercentage"],9415:["SQ","1","FramePixelShiftSequence"],9416:["US","1","SubtractionItemID"],9422:["SQ","1","PixelIntensityRelationshipLUTSequence"],9443:["SQ","1","FramePixelDataPropertiesSequence"],9444:["CS","1","GeometricalProperties"],9445:["FL","1","GeometricMaximumDistortion"],9446:["CS","1-n","ImageProcessingApplied"],9454:["CS","1","MaskSelectionMode"],9474:["CS","1","LUTFunction"],9478:["FL","1","MaskVisibilityPercentage"],9501:["SQ","1","PixelShiftSequence"],9502:["SQ","1","RegionPixelShiftSequence"],9503:["SS","2-2n","VerticesOfTheRegion"],9505:["SQ","1","MultiFramePresentationSequence"],9506:["US","2-2n","PixelShiftFrameRange"],9507:["US","2-2n","LUTFrameRange"],9520:["DS","16","ImageToEquipmentMappingMatrix"],9537:["CS","1","EquipmentCoordinateSystemIdentification"]},"0032":{"0000":["UL","1","GenericGroupLength"],"000A":["CS","1","StudyStatusID"],"000C":["CS","1","StudyPriorityID"],"0012":["LO","1","StudyIDIssuer"],"0032":["DA","1","StudyVerifiedDate"],"0033":["TM","1","StudyVerifiedTime"],"0034":["DA","1","StudyReadDate"],"0035":["TM","1","StudyReadTime"],1e3:["DA","1","ScheduledStudyStartDate"],1001:["TM","1","ScheduledStudyStartTime"],1010:["DA","1","ScheduledStudyStopDate"],1011:["TM","1","ScheduledStudyStopTime"],1020:["LO","1","ScheduledStudyLocation"],1021:["AE","1-n","ScheduledStudyLocationAETitle"],1030:["LO","1","ReasonForStudy"],1031:["SQ","1","RequestingPhysicianIdentificationSequence"],1032:["PN","1","RequestingPhysician"],1033:["LO","1","RequestingService"],1034:["SQ","1","RequestingServiceCodeSequence"],1040:["DA","1","StudyArrivalDate"],1041:["TM","1","StudyArrivalTime"],1050:["DA","1","StudyCompletionDate"],1051:["TM","1","StudyCompletionTime"],1055:["CS","1","StudyComponentStatusID"],1060:["LO","1","RequestedProcedureDescription"],1064:["SQ","1","RequestedProcedureCodeSequence"],1065:["SQ","1","RequestedLateralityCodeSequence"],1066:["UT","1","ReasonForVisit"],1067:["SQ","1","ReasonForVisitCodeSequence"],1070:["LO","1","RequestedContrastAgent"],4e3:["LT","1","StudyComments"]},"0034":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","FlowIdentifierSequence"],"0002":["OB","1","FlowIdentifier"],"0003":["UI","1","FlowTransferSyntaxUID"],"0004":["UL","1","FlowRTPSamplingRate"],"0005":["OB","1","SourceIdentifier"],"0007":["OB","1","FrameOriginTimestamp"],"0008":["CS","1","IncludesImagingSubject"],"0009":["SQ","1","FrameUsefulnessGroupSequence"],"000A":["SQ","1","RealTimeBulkDataFlowSequence"],"000B":["SQ","1","CameraPositionGroupSequence"],"000C":["CS","1","IncludesInformation"],"000D":["SQ","1","TimeOfFrameGroupSequence"]},"0038":{"0000":["UL","1","GenericGroupLength"],"0004":["SQ","1","ReferencedPatientAliasSequence"],"0008":["CS","1","VisitStatusID"],"0010":["LO","1","AdmissionID"],"0011":["LO","1","IssuerOfAdmissionID"],"0014":["SQ","1","IssuerOfAdmissionIDSequence"],"0016":["LO","1","RouteOfAdmissions"],"001A":["DA","1","ScheduledAdmissionDate"],"001B":["TM","1","ScheduledAdmissionTime"],"001C":["DA","1","ScheduledDischargeDate"],"001D":["TM","1","ScheduledDischargeTime"],"001E":["LO","1","ScheduledPatientInstitutionResidence"],"0020":["DA","1","AdmittingDate"],"0021":["TM","1","AdmittingTime"],"0030":["DA","1","DischargeDate"],"0032":["TM","1","DischargeTime"],"0040":["LO","1","DischargeDiagnosisDescription"],"0044":["SQ","1","DischargeDiagnosisCodeSequence"],"0050":["LO","1","SpecialNeeds"],"0060":["LO","1","ServiceEpisodeID"],"0061":["LO","1","IssuerOfServiceEpisodeID"],"0062":["LO","1","ServiceEpisodeDescription"],"0064":["SQ","1","IssuerOfServiceEpisodeIDSequence"],"0100":["SQ","1","PertinentDocumentsSequence"],"0101":["SQ","1","PertinentResourcesSequence"],"0102":["LO","1","ResourceDescription"],"0300":["LO","1","CurrentPatientLocation"],"0400":["LO","1","PatientInstitutionResidence"],"0500":["LO","1","PatientState"],"0502":["SQ","1","PatientClinicalTrialParticipationSequence"],4e3:["LT","1","VisitComments"]},"003A":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","WaveformOriginality"],"0005":["US","1","NumberOfWaveformChannels"],"0010":["UL","1","NumberOfWaveformSamples"],"001A":["DS","1","SamplingFrequency"],"0020":["SH","1","MultiplexGroupLabel"],"0200":["SQ","1","ChannelDefinitionSequence"],"0202":["IS","1","WaveformChannelNumber"],"0203":["SH","1","ChannelLabel"],"0205":["CS","1-n","ChannelStatus"],"0208":["SQ","1","ChannelSourceSequence"],"0209":["SQ","1","ChannelSourceModifiersSequence"],"020A":["SQ","1","SourceWaveformSequence"],"020C":["LO","1","ChannelDerivationDescription"],"0210":["DS","1","ChannelSensitivity"],"0211":["SQ","1","ChannelSensitivityUnitsSequence"],"0212":["DS","1","ChannelSensitivityCorrectionFactor"],"0213":["DS","1","ChannelBaseline"],"0214":["DS","1","ChannelTimeSkew"],"0215":["DS","1","ChannelSampleSkew"],"0218":["DS","1","ChannelOffset"],"021A":["US","1","WaveformBitsStored"],"0220":["DS","1","FilterLowFrequency"],"0221":["DS","1","FilterHighFrequency"],"0222":["DS","1","NotchFilterFrequency"],"0223":["DS","1","NotchFilterBandwidth"],"0230":["FL","1","WaveformDataDisplayScale"],"0231":["US","3","WaveformDisplayBackgroundCIELabValue"],"0240":["SQ","1","WaveformPresentationGroupSequence"],"0241":["US","1","PresentationGroupNumber"],"0242":["SQ","1","ChannelDisplaySequence"],"0244":["US","3","ChannelRecommendedDisplayCIELabValue"],"0245":["FL","1","ChannelPosition"],"0246":["CS","1","DisplayShadingFlag"],"0247":["FL","1","FractionalChannelDisplayScale"],"0248":["FL","1","AbsoluteChannelDisplayScale"],"0300":["SQ","1","MultiplexedAudioChannelsDescriptionCodeSequence"],"0301":["IS","1","ChannelIdentificationCode"],"0302":["CS","1","ChannelMode"],"0310":["UI","1","MultiplexGroupUID"],"0311":["DS","1","PowerlineFrequency"],"0312":["SQ","1","ChannelImpedanceSequence"],"0313":["DS","1","ImpedanceValue"],"0314":["DT","1","ImpedanceMeasurementDateTime"],"0315":["DS","1","ImpedanceMeasurementFrequency"],"0316":["CS","1","ImpedanceMeasurementCurrentType"]},"0040":{"0000":["UL","1","GenericGroupLength"],"0001":["AE","1-n","ScheduledStationAETitle"],"0002":["DA","1","ScheduledProcedureStepStartDate"],"0003":["TM","1","ScheduledProcedureStepStartTime"],"0004":["DA","1","ScheduledProcedureStepEndDate"],"0005":["TM","1","ScheduledProcedureStepEndTime"],"0006":["PN","1","ScheduledPerformingPhysicianName"],"0007":["LO","1","ScheduledProcedureStepDescription"],"0008":["SQ","1","ScheduledProtocolCodeSequence"],"0009":["SH","1","ScheduledProcedureStepID"],"000A":["SQ","1","StageCodeSequence"],"000B":["SQ","1","ScheduledPerformingPhysicianIdentificationSequence"],"0010":["SH","1-n","ScheduledStationName"],"0011":["SH","1","ScheduledProcedureStepLocation"],"0012":["LO","1","PreMedication"],"0020":["CS","1","ScheduledProcedureStepStatus"],"0026":["SQ","1","OrderPlacerIdentifierSequence"],"0027":["SQ","1","OrderFillerIdentifierSequence"],"0031":["UT","1","LocalNamespaceEntityID"],"0032":["UT","1","UniversalEntityID"],"0033":["CS","1","UniversalEntityIDType"],"0035":["CS","1","IdentifierTypeCode"],"0036":["SQ","1","AssigningFacilitySequence"],"0039":["SQ","1","AssigningJurisdictionCodeSequence"],"003A":["SQ","1","AssigningAgencyOrDepartmentCodeSequence"],"0100":["SQ","1","ScheduledProcedureStepSequence"],"0220":["SQ","1","ReferencedNonImageCompositeSOPInstanceSequence"],"0241":["AE","1","PerformedStationAETitle"],"0242":["SH","1","PerformedStationName"],"0243":["SH","1","PerformedLocation"],"0244":["DA","1","PerformedProcedureStepStartDate"],"0245":["TM","1","PerformedProcedureStepStartTime"],"0250":["DA","1","PerformedProcedureStepEndDate"],"0251":["TM","1","PerformedProcedureStepEndTime"],"0252":["CS","1","PerformedProcedureStepStatus"],"0253":["SH","1","PerformedProcedureStepID"],"0254":["LO","1","PerformedProcedureStepDescription"],"0255":["LO","1","PerformedProcedureTypeDescription"],"0260":["SQ","1","PerformedProtocolCodeSequence"],"0261":["CS","1","PerformedProtocolType"],"0270":["SQ","1","ScheduledStepAttributesSequence"],"0275":["SQ","1","RequestAttributesSequence"],"0280":["ST","1","CommentsOnThePerformedProcedureStep"],"0281":["SQ","1","PerformedProcedureStepDiscontinuationReasonCodeSequence"],"0293":["SQ","1","QuantitySequence"],"0294":["DS","1","Quantity"],"0295":["SQ","1","MeasuringUnitsSequence"],"0296":["SQ","1","BillingItemSequence"],"0300":["US","1","TotalTimeOfFluoroscopy"],"0301":["US","1","TotalNumberOfExposures"],"0302":["US","1","EntranceDose"],"0303":["US","1-2","ExposedArea"],"0306":["DS","1","DistanceSourceToEntrance"],"0307":["DS","1","DistanceSourceToSupport"],"030E":["SQ","1","ExposureDoseSequence"],"0310":["ST","1","CommentsOnRadiationDose"],"0312":["DS","1","XRayOutput"],"0314":["DS","1","HalfValueLayer"],"0316":["DS","1","OrganDose"],"0318":["CS","1","OrganExposed"],"0320":["SQ","1","BillingProcedureStepSequence"],"0321":["SQ","1","FilmConsumptionSequence"],"0324":["SQ","1","BillingSuppliesAndDevicesSequence"],"0330":["SQ","1","ReferencedProcedureStepSequence"],"0340":["SQ","1","PerformedSeriesSequence"],"0400":["LT","1","CommentsOnTheScheduledProcedureStep"],"0440":["SQ","1","ProtocolContextSequence"],"0441":["SQ","1","ContentItemModifierSequence"],"0500":["SQ","1","ScheduledSpecimenSequence"],"050A":["LO","1","SpecimenAccessionNumber"],"0512":["LO","1","ContainerIdentifier"],"0513":["SQ","1","IssuerOfTheContainerIdentifierSequence"],"0515":["SQ","1","AlternateContainerIdentifierSequence"],"0518":["SQ","1","ContainerTypeCodeSequence"],"051A":["LO","1","ContainerDescription"],"0520":["SQ","1","ContainerComponentSequence"],"0550":["SQ","1","SpecimenSequence"],"0551":["LO","1","SpecimenIdentifier"],"0552":["SQ","1","SpecimenDescriptionSequenceTrial"],"0553":["ST","1","SpecimenDescriptionTrial"],"0554":["UI","1","SpecimenUID"],"0555":["SQ","1","AcquisitionContextSequence"],"0556":["ST","1","AcquisitionContextDescription"],"0560":["SQ","1","SpecimenDescriptionSequence"],"0562":["SQ","1","IssuerOfTheSpecimenIdentifierSequence"],"059A":["SQ","1","SpecimenTypeCodeSequence"],"0600":["LO","1","SpecimenShortDescription"],"0602":["UT","1","SpecimenDetailedDescription"],"0610":["SQ","1","SpecimenPreparationSequence"],"0612":["SQ","1","SpecimenPreparationStepContentItemSequence"],"0620":["SQ","1","SpecimenLocalizationContentItemSequence"],"06FA":["LO","1","SlideIdentifier"],"0710":["SQ","1","WholeSlideMicroscopyImageFrameTypeSequence"],"071A":["SQ","1","ImageCenterPointCoordinatesSequence"],"072A":["DS","1","XOffsetInSlideCoordinateSystem"],"073A":["DS","1","YOffsetInSlideCoordinateSystem"],"074A":["DS","1","ZOffsetInSlideCoordinateSystem"],"08D8":["SQ","1","PixelSpacingSequence"],"08DA":["SQ","1","CoordinateSystemAxisCodeSequence"],"08EA":["SQ","1","MeasurementUnitsCodeSequence"],"09F8":["SQ","1","VitalStainCodeSequenceTrial"],1001:["SH","1","RequestedProcedureID"],1002:["LO","1","ReasonForTheRequestedProcedure"],1003:["SH","1","RequestedProcedurePriority"],1004:["LO","1","PatientTransportArrangements"],1005:["LO","1","RequestedProcedureLocation"],1006:["SH","1","PlacerOrderNumberProcedure"],1007:["SH","1","FillerOrderNumberProcedure"],1008:["LO","1","ConfidentialityCode"],1009:["SH","1","ReportingPriority"],"100A":["SQ","1","ReasonForRequestedProcedureCodeSequence"],1010:["PN","1-n","NamesOfIntendedRecipientsOfResults"],1011:["SQ","1","IntendedRecipientsOfResultsIdentificationSequence"],1012:["SQ","1","ReasonForPerformedProcedureCodeSequence"],1060:["LO","1","RequestedProcedureDescriptionTrial"],1101:["SQ","1","PersonIdentificationCodeSequence"],1102:["ST","1","PersonAddress"],1103:["LO","1-n","PersonTelephoneNumbers"],1104:["LT","1","PersonTelecomInformation"],1400:["LT","1","RequestedProcedureComments"],2001:["LO","1","ReasonForTheImagingServiceRequest"],2004:["DA","1","IssueDateOfImagingServiceRequest"],2005:["TM","1","IssueTimeOfImagingServiceRequest"],2006:["SH","1","PlacerOrderNumberImagingServiceRequestRetired"],2007:["SH","1","FillerOrderNumberImagingServiceRequestRetired"],2008:["PN","1","OrderEnteredBy"],2009:["SH","1","OrderEntererLocation"],2010:["SH","1","OrderCallbackPhoneNumber"],2011:["LT","1","OrderCallbackTelecomInformation"],2016:["LO","1","PlacerOrderNumberImagingServiceRequest"],2017:["LO","1","FillerOrderNumberImagingServiceRequest"],2400:["LT","1","ImagingServiceRequestComments"],3001:["LO","1","ConfidentialityConstraintOnPatientDataDescription"],4001:["CS","1","GeneralPurposeScheduledProcedureStepStatus"],4002:["CS","1","GeneralPurposePerformedProcedureStepStatus"],4003:["CS","1","GeneralPurposeScheduledProcedureStepPriority"],4004:["SQ","1","ScheduledProcessingApplicationsCodeSequence"],4005:["DT","1","ScheduledProcedureStepStartDateTime"],4006:["CS","1","MultipleCopiesFlag"],4007:["SQ","1","PerformedProcessingApplicationsCodeSequence"],4008:["DT","1","ScheduledProcedureStepExpirationDateTime"],4009:["SQ","1","HumanPerformerCodeSequence"],4010:["DT","1","ScheduledProcedureStepModificationDateTime"],4011:["DT","1","ExpectedCompletionDateTime"],4015:["SQ","1","ResultingGeneralPurposePerformedProcedureStepsSequence"],4016:["SQ","1","ReferencedGeneralPurposeScheduledProcedureStepSequence"],4018:["SQ","1","ScheduledWorkitemCodeSequence"],4019:["SQ","1","PerformedWorkitemCodeSequence"],4020:["CS","1","InputAvailabilityFlag"],4021:["SQ","1","InputInformationSequence"],4022:["SQ","1","RelevantInformationSequence"],4023:["UI","1","ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"],4025:["SQ","1","ScheduledStationNameCodeSequence"],4026:["SQ","1","ScheduledStationClassCodeSequence"],4027:["SQ","1","ScheduledStationGeographicLocationCodeSequence"],4028:["SQ","1","PerformedStationNameCodeSequence"],4029:["SQ","1","PerformedStationClassCodeSequence"],4030:["SQ","1","PerformedStationGeographicLocationCodeSequence"],4031:["SQ","1","RequestedSubsequentWorkitemCodeSequence"],4032:["SQ","1","NonDICOMOutputCodeSequence"],4033:["SQ","1","OutputInformationSequence"],4034:["SQ","1","ScheduledHumanPerformersSequence"],4035:["SQ","1","ActualHumanPerformersSequence"],4036:["LO","1","HumanPerformerOrganization"],4037:["PN","1","HumanPerformerName"],4040:["CS","1","RawDataHandling"],4041:["CS","1","InputReadinessState"],4050:["DT","1","PerformedProcedureStepStartDateTime"],4051:["DT","1","PerformedProcedureStepEndDateTime"],4052:["DT","1","ProcedureStepCancellationDateTime"],4070:["SQ","1","OutputDestinationSequence"],4071:["SQ","1","DICOMStorageSequence"],4072:["SQ","1","STOWRSStorageSequence"],4073:["UR","1","StorageURL"],4074:["SQ","1","XDSStorageSequence"],8302:["DS","1","EntranceDoseInmGy"],8303:["CS","1","EntranceDoseDerivation"],9092:["SQ","1","ParametricMapFrameTypeSequence"],9094:["SQ","1","ReferencedImageRealWorldValueMappingSequence"],9096:["SQ","1","RealWorldValueMappingSequence"],9098:["SQ","1","PixelValueMappingCodeSequence"],9210:["SH","1","LUTLabel"],9211:["xs","1","RealWorldValueLastValueMapped"],9212:["FD","1-n","RealWorldValueLUTData"],9213:["FD","1","DoubleFloatRealWorldValueLastValueMapped"],9214:["FD","1","DoubleFloatRealWorldValueFirstValueMapped"],9216:["xs","1","RealWorldValueFirstValueMapped"],9220:["SQ","1","QuantityDefinitionSequence"],9224:["FD","1","RealWorldValueIntercept"],9225:["FD","1","RealWorldValueSlope"],A007:["CS","1","FindingsFlagTrial"],A010:["CS","1","RelationshipType"],A020:["SQ","1","FindingsSequenceTrial"],A021:["UI","1","FindingsGroupUIDTrial"],A022:["UI","1","ReferencedFindingsGroupUIDTrial"],A023:["DA","1","FindingsGroupRecordingDateTrial"],A024:["TM","1","FindingsGroupRecordingTimeTrial"],A026:["SQ","1","FindingsSourceCategoryCodeSequenceTrial"],A027:["LO","1","VerifyingOrganization"],A028:["SQ","1","DocumentingOrganizationIdentifierCodeSequenceTrial"],A030:["DT","1","VerificationDateTime"],A032:["DT","1","ObservationDateTime"],A033:["DT","1","ObservationStartDateTime"],A040:["CS","1","ValueType"],A043:["SQ","1","ConceptNameCodeSequence"],A047:["LO","1","MeasurementPrecisionDescriptionTrial"],A050:["CS","1","ContinuityOfContent"],A057:["CS","1-n","UrgencyOrPriorityAlertsTrial"],A060:["LO","1","SequencingIndicatorTrial"],A066:["SQ","1","DocumentIdentifierCodeSequenceTrial"],A067:["PN","1","DocumentAuthorTrial"],A068:["SQ","1","DocumentAuthorIdentifierCodeSequenceTrial"],A070:["SQ","1","IdentifierCodeSequenceTrial"],A073:["SQ","1","VerifyingObserverSequence"],A074:["OB","1","ObjectBinaryIdentifierTrial"],A075:["PN","1","VerifyingObserverName"],A076:["SQ","1","DocumentingObserverIdentifierCodeSequenceTrial"],A078:["SQ","1","AuthorObserverSequence"],A07A:["SQ","1","ParticipantSequence"],A07C:["SQ","1","CustodialOrganizationSequence"],A080:["CS","1","ParticipationType"],A082:["DT","1","ParticipationDateTime"],A084:["CS","1","ObserverType"],A085:["SQ","1","ProcedureIdentifierCodeSequenceTrial"],A088:["SQ","1","VerifyingObserverIdentificationCodeSequence"],A089:["OB","1","ObjectDirectoryBinaryIdentifierTrial"],A090:["SQ","1","EquivalentCDADocumentSequence"],A0B0:["US","2-2n","ReferencedWaveformChannels"],A110:["DA","1","DateOfDocumentOrVerbalTransactionTrial"],A112:["TM","1","TimeOfDocumentCreationOrVerbalTransactionTrial"],A120:["DT","1","DateTime"],A121:["DA","1","Date"],A122:["TM","1","Time"],A123:["PN","1","PersonName"],A124:["UI","1","UID"],A125:["CS","2","ReportStatusIDTrial"],A130:["CS","1","TemporalRangeType"],A132:["UL","1-n","ReferencedSamplePositions"],A136:["US","1-n","ReferencedFrameNumbers"],A138:["DS","1-n","ReferencedTimeOffsets"],A13A:["DT","1-n","ReferencedDateTime"],A160:["UT","1","TextValue"],A161:["FD","1-n","FloatingPointValue"],A162:["SL","1-n","RationalNumeratorValue"],A163:["UL","1-n","RationalDenominatorValue"],A167:["SQ","1","ObservationCategoryCodeSequenceTrial"],A168:["SQ","1","ConceptCodeSequence"],A16A:["ST","1","BibliographicCitationTrial"],A170:["SQ","1","PurposeOfReferenceCodeSequence"],A171:["UI","1","ObservationUID"],A172:["UI","1","ReferencedObservationUIDTrial"],A173:["CS","1","ReferencedObservationClassTrial"],A174:["CS","1","ReferencedObjectObservationClassTrial"],A180:["US","1","AnnotationGroupNumber"],A192:["DA","1","ObservationDateTrial"],A193:["TM","1","ObservationTimeTrial"],A194:["CS","1","MeasurementAutomationTrial"],A195:["SQ","1","ModifierCodeSequence"],A224:["ST","1","IdentificationDescriptionTrial"],A290:["CS","1","CoordinatesSetGeometricTypeTrial"],A296:["SQ","1","AlgorithmCodeSequenceTrial"],A297:["ST","1","AlgorithmDescriptionTrial"],A29A:["SL","2-2n","PixelCoordinatesSetTrial"],A300:["SQ","1","MeasuredValueSequence"],A301:["SQ","1","NumericValueQualifierCodeSequence"],A307:["PN","1","CurrentObserverTrial"],A30A:["DS","1-n","NumericValue"],A313:["SQ","1","ReferencedAccessionSequenceTrial"],A33A:["ST","1","ReportStatusCommentTrial"],A340:["SQ","1","ProcedureContextSequenceTrial"],A352:["PN","1","VerbalSourceTrial"],A353:["ST","1","AddressTrial"],A354:["LO","1","TelephoneNumberTrial"],A358:["SQ","1","VerbalSourceIdentifierCodeSequenceTrial"],A360:["SQ","1","PredecessorDocumentsSequence"],A370:["SQ","1","ReferencedRequestSequence"],A372:["SQ","1","PerformedProcedureCodeSequence"],A375:["SQ","1","CurrentRequestedProcedureEvidenceSequence"],A380:["SQ","1","ReportDetailSequenceTrial"],A385:["SQ","1","PertinentOtherEvidenceSequence"],A390:["SQ","1","HL7StructuredDocumentReferenceSequence"],A402:["UI","1","ObservationSubjectUIDTrial"],A403:["CS","1","ObservationSubjectClassTrial"],A404:["SQ","1","ObservationSubjectTypeCodeSequenceTrial"],A491:["CS","1","CompletionFlag"],A492:["LO","1","CompletionFlagDescription"],A493:["CS","1","VerificationFlag"],A494:["CS","1","ArchiveRequested"],A496:["CS","1","PreliminaryFlag"],A504:["SQ","1","ContentTemplateSequence"],A525:["SQ","1","IdenticalDocumentsSequence"],A600:["CS","1","ObservationSubjectContextFlagTrial"],A601:["CS","1","ObserverContextFlagTrial"],A603:["CS","1","ProcedureContextFlagTrial"],A730:["SQ","1","ContentSequence"],A731:["SQ","1","RelationshipSequenceTrial"],A732:["SQ","1","RelationshipTypeCodeSequenceTrial"],A744:["SQ","1","LanguageCodeSequenceTrial"],A801:["SQ","1","TabulatedValuesSequence"],A802:["UL","1","NumberOfTableRows"],A803:["UL","1","NumberOfTableColumns"],A804:["UL","1","TableRowNumber"],A805:["UL","1","TableColumnNumber"],A806:["SQ","1","TableRowDefinitionSequence"],A807:["SQ","1","TableColumnDefinitionSequence"],A808:["SQ","1","CellValuesSequence"],A992:["ST","1","UniformResourceLocatorTrial"],B020:["SQ","1","WaveformAnnotationSequence"],DB00:["CS","1","TemplateIdentifier"],DB06:["DT","1","TemplateVersion"],DB07:["DT","1","TemplateLocalVersion"],DB0B:["CS","1","TemplateExtensionFlag"],DB0C:["UI","1","TemplateExtensionOrganizationUID"],DB0D:["UI","1","TemplateExtensionCreatorUID"],DB73:["UL","1-n","ReferencedContentItemIdentifier"],E001:["ST","1","HL7InstanceIdentifier"],E004:["DT","1","HL7DocumentEffectiveTime"],E006:["SQ","1","HL7DocumentTypeCodeSequence"],E008:["SQ","1","DocumentClassCodeSequence"],E010:["UR","1","RetrieveURI"],E011:["UI","1","RetrieveLocationUID"],E020:["CS","1","TypeOfInstances"],E021:["SQ","1","DICOMRetrievalSequence"],E022:["SQ","1","DICOMMediaRetrievalSequence"],E023:["SQ","1","WADORetrievalSequence"],E024:["SQ","1","XDSRetrievalSequence"],E025:["SQ","1","WADORSRetrievalSequence"],E030:["UI","1","RepositoryUniqueID"],E031:["UI","1","HomeCommunityID"]},"0042":{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","DocumentTitle"],"0011":["OB","1","EncapsulatedDocument"],"0012":["LO","1","MIMETypeOfEncapsulatedDocument"],"0013":["SQ","1","SourceInstanceSequence"],"0014":["LO","1-n","ListOfMIMETypes"],"0015":["UL","1","EncapsulatedDocumentLength"]},"0044":{"0000":["UL","1","GenericGroupLength"],"0001":["ST","1","ProductPackageIdentifier"],"0002":["CS","1","SubstanceAdministrationApproval"],"0003":["LT","1","ApprovalStatusFurtherDescription"],"0004":["DT","1","ApprovalStatusDateTime"],"0007":["SQ","1","ProductTypeCodeSequence"],"0008":["LO","1-n","ProductName"],"0009":["LT","1","ProductDescription"],"000A":["LO","1","ProductLotIdentifier"],"000B":["DT","1","ProductExpirationDateTime"],"0010":["DT","1","SubstanceAdministrationDateTime"],"0011":["LO","1","SubstanceAdministrationNotes"],"0012":["LO","1","SubstanceAdministrationDeviceID"],"0013":["SQ","1","ProductParameterSequence"],"0019":["SQ","1","SubstanceAdministrationParameterSequence"],"0100":["SQ","1","ApprovalSequence"],"0101":["SQ","1","AssertionCodeSequence"],"0102":["UI","1","AssertionUID"],"0103":["SQ","1","AsserterIdentificationSequence"],"0104":["DT","1","AssertionDateTime"],"0105":["DT","1","AssertionExpirationDateTime"],"0106":["UT","1","AssertionComments"],"0107":["SQ","1","RelatedAssertionSequence"],"0108":["UI","1","ReferencedAssertionUID"],"0109":["SQ","1","ApprovalSubjectSequence"],"010A":["SQ","1","OrganizationalRoleCodeSequence"]},"0046":{"0000":["UL","1","GenericGroupLength"],"0012":["LO","1","LensDescription"],"0014":["SQ","1","RightLensSequence"],"0015":["SQ","1","LeftLensSequence"],"0016":["SQ","1","UnspecifiedLateralityLensSequence"],"0018":["SQ","1","CylinderSequence"],"0028":["SQ","1","PrismSequence"],"0030":["FD","1","HorizontalPrismPower"],"0032":["CS","1","HorizontalPrismBase"],"0034":["FD","1","VerticalPrismPower"],"0036":["CS","1","VerticalPrismBase"],"0038":["CS","1","LensSegmentType"],"0040":["FD","1","OpticalTransmittance"],"0042":["FD","1","ChannelWidth"],"0044":["FD","1","PupilSize"],"0046":["FD","1","CornealSize"],"0047":["SQ","1","CornealSizeSequence"],"0050":["SQ","1","AutorefractionRightEyeSequence"],"0052":["SQ","1","AutorefractionLeftEyeSequence"],"0060":["FD","1","DistancePupillaryDistance"],"0062":["FD","1","NearPupillaryDistance"],"0063":["FD","1","IntermediatePupillaryDistance"],"0064":["FD","1","OtherPupillaryDistance"],"0070":["SQ","1","KeratometryRightEyeSequence"],"0071":["SQ","1","KeratometryLeftEyeSequence"],"0074":["SQ","1","SteepKeratometricAxisSequence"],"0075":["FD","1","RadiusOfCurvature"],"0076":["FD","1","KeratometricPower"],"0077":["FD","1","KeratometricAxis"],"0080":["SQ","1","FlatKeratometricAxisSequence"],"0092":["CS","1","BackgroundColor"],"0094":["CS","1","Optotype"],"0095":["CS","1","OptotypePresentation"],"0097":["SQ","1","SubjectiveRefractionRightEyeSequence"],"0098":["SQ","1","SubjectiveRefractionLeftEyeSequence"],"0100":["SQ","1","AddNearSequence"],"0101":["SQ","1","AddIntermediateSequence"],"0102":["SQ","1","AddOtherSequence"],"0104":["FD","1","AddPower"],"0106":["FD","1","ViewingDistance"],"0110":["SQ","1","CorneaMeasurementsSequence"],"0111":["SQ","1","SourceOfCorneaMeasurementDataCodeSequence"],"0112":["SQ","1","SteepCornealAxisSequence"],"0113":["SQ","1","FlatCornealAxisSequence"],"0114":["FD","1","CornealPower"],"0115":["FD","1","CornealAxis"],"0116":["SQ","1","CorneaMeasurementMethodCodeSequence"],"0117":["FL","1","RefractiveIndexOfCornea"],"0118":["FL","1","RefractiveIndexOfAqueousHumor"],"0121":["SQ","1","VisualAcuityTypeCodeSequence"],"0122":["SQ","1","VisualAcuityRightEyeSequence"],"0123":["SQ","1","VisualAcuityLeftEyeSequence"],"0124":["SQ","1","VisualAcuityBothEyesOpenSequence"],"0125":["CS","1","ViewingDistanceType"],"0135":["SS","2","VisualAcuityModifiers"],"0137":["FD","1","DecimalVisualAcuity"],"0139":["LO","1","OptotypeDetailedDefinition"],"0145":["SQ","1","ReferencedRefractiveMeasurementsSequence"],"0146":["FD","1","SpherePower"],"0147":["FD","1","CylinderPower"],"0201":["CS","1","CornealTopographySurface"],"0202":["FL","2","CornealVertexLocation"],"0203":["FL","1","PupilCentroidXCoordinate"],"0204":["FL","1","PupilCentroidYCoordinate"],"0205":["FL","1","EquivalentPupilRadius"],"0207":["SQ","1","CornealTopographyMapTypeCodeSequence"],"0208":["IS","2-2n","VerticesOfTheOutlineOfPupil"],"0210":["SQ","1","CornealTopographyMappingNormalsSequence"],"0211":["SQ","1","MaximumCornealCurvatureSequence"],"0212":["FL","1","MaximumCornealCurvature"],"0213":["FL","2","MaximumCornealCurvatureLocation"],"0215":["SQ","1","MinimumKeratometricSequence"],"0218":["SQ","1","SimulatedKeratometricCylinderSequence"],"0220":["FL","1","AverageCornealPower"],"0224":["FL","1","CornealISValue"],"0227":["FL","1","AnalyzedArea"],"0230":["FL","1","SurfaceRegularityIndex"],"0232":["FL","1","SurfaceAsymmetryIndex"],"0234":["FL","1","CornealEccentricityIndex"],"0236":["FL","1","KeratoconusPredictionIndex"],"0238":["FL","1","DecimalPotentialVisualAcuity"],"0242":["CS","1","CornealTopographyMapQualityEvaluation"],"0244":["SQ","1","SourceImageCornealProcessedDataSequence"],"0247":["FL","3","CornealPointLocation"],"0248":["CS","1","CornealPointEstimated"],"0249":["FL","1","AxialPower"],"0250":["FL","1","TangentialPower"],"0251":["FL","1","RefractivePower"],"0252":["FL","1","RelativeElevation"],"0253":["FL","1","CornealWavefront"]},"0048":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ImagedVolumeWidth"],"0002":["FL","1","ImagedVolumeHeight"],"0003":["FL","1","ImagedVolumeDepth"],"0006":["UL","1","TotalPixelMatrixColumns"],"0007":["UL","1","TotalPixelMatrixRows"],"0008":["SQ","1","TotalPixelMatrixOriginSequence"],"0010":["CS","1","SpecimenLabelInImage"],"0011":["CS","1","FocusMethod"],"0012":["CS","1","ExtendedDepthOfField"],"0013":["US","1","NumberOfFocalPlanes"],"0014":["FL","1","DistanceBetweenFocalPlanes"],"0015":["US","3","RecommendedAbsentPixelCIELabValue"],"0100":["SQ","1","IlluminatorTypeCodeSequence"],"0102":["DS","6","ImageOrientationSlide"],"0105":["SQ","1","OpticalPathSequence"],"0106":["SH","1","OpticalPathIdentifier"],"0107":["ST","1","OpticalPathDescription"],"0108":["SQ","1","IlluminationColorCodeSequence"],"0110":["SQ","1","SpecimenReferenceSequence"],"0111":["DS","1","CondenserLensPower"],"0112":["DS","1","ObjectiveLensPower"],"0113":["DS","1","ObjectiveLensNumericalAperture"],"0120":["SQ","1","PaletteColorLookupTableSequence"],"0200":["SQ","1","ReferencedImageNavigationSequence"],"0201":["US","2","TopLeftHandCornerOfLocalizerArea"],"0202":["US","2","BottomRightHandCornerOfLocalizerArea"],"0207":["SQ","1","OpticalPathIdentificationSequence"],"021A":["SQ","1","PlanePositionSlideSequence"],"021E":["SL","1","ColumnPositionInTotalImagePixelMatrix"],"021F":["SL","1","RowPositionInTotalImagePixelMatrix"],"0301":["CS","1","PixelOriginInterpretation"],"0302":["UL","1","NumberOfOpticalPaths"],"0303":["UL","1","TotalPixelMatrixFocalPlanes"]},"0050":{"0000":["UL","1","GenericGroupLength"],"0004":["CS","1","CalibrationImage"],"0010":["SQ","1","DeviceSequence"],"0012":["SQ","1","ContainerComponentTypeCodeSequence"],"0013":["FD","1","ContainerComponentThickness"],"0014":["DS","1","DeviceLength"],"0015":["FD","1","ContainerComponentWidth"],"0016":["DS","1","DeviceDiameter"],"0017":["CS","1","DeviceDiameterUnits"],"0018":["DS","1","DeviceVolume"],"0019":["DS","1","InterMarkerDistance"],"001A":["CS","1","ContainerComponentMaterial"],"001B":["LO","1","ContainerComponentID"],"001C":["FD","1","ContainerComponentLength"],"001D":["FD","1","ContainerComponentDiameter"],"001E":["LO","1","ContainerComponentDescription"],"0020":["LO","1","DeviceDescription"],"0021":["ST","1","LongDeviceDescription"]},"0052":{"0000":["UL","1","GenericGroupLength"],"0001":["FL","1","ContrastBolusIngredientPercentByVolume"],"0002":["FD","1","OCTFocalDistance"],"0003":["FD","1","BeamSpotSize"],"0004":["FD","1","EffectiveRefractiveIndex"],"0006":["CS","1","OCTAcquisitionDomain"],"0007":["FD","1","OCTOpticalCenterWavelength"],"0008":["FD","1","AxialResolution"],"0009":["FD","1","RangingDepth"],"0011":["FD","1","ALineRate"],"0012":["US","1","ALinesPerFrame"],"0013":["FD","1","CatheterRotationalRate"],"0014":["FD","1","ALinePixelSpacing"],"0016":["SQ","1","ModeOfPercutaneousAccessSequence"],"0025":["SQ","1","IntravascularOCTFrameTypeSequence"],"0026":["CS","1","OCTZOffsetApplied"],"0027":["SQ","1","IntravascularFrameContentSequence"],"0028":["FD","1","IntravascularLongitudinalDistance"],"0029":["SQ","1","IntravascularOCTFrameContentSequence"],"0030":["SS","1","OCTZOffsetCorrection"],"0031":["CS","1","CatheterDirectionOfRotation"],"0033":["FD","1","SeamLineLocation"],"0034":["FD","1","FirstALineLocation"],"0036":["US","1","SeamLineIndex"],"0038":["US","1","NumberOfPaddedALines"],"0039":["CS","1","InterpolationType"],"003A":["CS","1","RefractiveIndexApplied"]},"0054":{"0000":["UL","1","GenericGroupLength"],"0010":["US","1-n","EnergyWindowVector"],"0011":["US","1","NumberOfEnergyWindows"],"0012":["SQ","1","EnergyWindowInformationSequence"],"0013":["SQ","1","EnergyWindowRangeSequence"],"0014":["DS","1","EnergyWindowLowerLimit"],"0015":["DS","1","EnergyWindowUpperLimit"],"0016":["SQ","1","RadiopharmaceuticalInformationSequence"],"0017":["IS","1","ResidualSyringeCounts"],"0018":["SH","1","EnergyWindowName"],"0020":["US","1-n","DetectorVector"],"0021":["US","1","NumberOfDetectors"],"0022":["SQ","1","DetectorInformationSequence"],"0030":["US","1-n","PhaseVector"],"0031":["US","1","NumberOfPhases"],"0032":["SQ","1","PhaseInformationSequence"],"0033":["US","1","NumberOfFramesInPhase"],"0036":["IS","1","PhaseDelay"],"0038":["IS","1","PauseBetweenFrames"],"0039":["CS","1","PhaseDescription"],"0050":["US","1-n","RotationVector"],"0051":["US","1","NumberOfRotations"],"0052":["SQ","1","RotationInformationSequence"],"0053":["US","1","NumberOfFramesInRotation"],"0060":["US","1-n","RRIntervalVector"],"0061":["US","1","NumberOfRRIntervals"],"0062":["SQ","1","GatedInformationSequence"],"0063":["SQ","1","DataInformationSequence"],"0070":["US","1-n","TimeSlotVector"],"0071":["US","1","NumberOfTimeSlots"],"0072":["SQ","1","TimeSlotInformationSequence"],"0073":["DS","1","TimeSlotTime"],"0080":["US","1-n","SliceVector"],"0081":["US","1","NumberOfSlices"],"0090":["US","1-n","AngularViewVector"],"0100":["US","1-n","TimeSliceVector"],"0101":["US","1","NumberOfTimeSlices"],"0200":["DS","1","StartAngle"],"0202":["CS","1","TypeOfDetectorMotion"],"0210":["IS","1-n","TriggerVector"],"0211":["US","1","NumberOfTriggersInPhase"],"0220":["SQ","1","ViewCodeSequence"],"0222":["SQ","1","ViewModifierCodeSequence"],"0300":["SQ","1","RadionuclideCodeSequence"],"0302":["SQ","1","AdministrationRouteCodeSequence"],"0304":["SQ","1","RadiopharmaceuticalCodeSequence"],"0306":["SQ","1","CalibrationDataSequence"],"0308":["US","1","EnergyWindowNumber"],"0400":["SH","1","ImageID"],"0410":["SQ","1","PatientOrientationCodeSequence"],"0412":["SQ","1","PatientOrientationModifierCodeSequence"],"0414":["SQ","1","PatientGantryRelationshipCodeSequence"],"0500":["CS","1","SliceProgressionDirection"],"0501":["CS","1","ScanProgressionDirection"],1e3:["CS","2","SeriesType"],1001:["CS","1","Units"],1002:["CS","1","CountsSource"],1004:["CS","1","ReprojectionMethod"],1006:["CS","1","SUVType"],1100:["CS","1","RandomsCorrectionMethod"],1101:["LO","1","AttenuationCorrectionMethod"],1102:["CS","1","DecayCorrection"],1103:["LO","1","ReconstructionMethod"],1104:["LO","1","DetectorLinesOfResponseUsed"],1105:["LO","1","ScatterCorrectionMethod"],1200:["DS","1","AxialAcceptance"],1201:["IS","2","AxialMash"],1202:["IS","1","TransverseMash"],1203:["DS","2","DetectorElementSize"],1210:["DS","1","CoincidenceWindowWidth"],1220:["CS","1-n","SecondaryCountsType"],1300:["DS","1","FrameReferenceTime"],1310:["IS","1","PrimaryPromptsCountsAccumulated"],1311:["IS","1-n","SecondaryCountsAccumulated"],1320:["DS","1","SliceSensitivityFactor"],1321:["DS","1","DecayFactor"],1322:["DS","1","DoseCalibrationFactor"],1323:["DS","1","ScatterFractionFactor"],1324:["DS","1","DeadTimeFactor"],1330:["US","1","ImageIndex"],1400:["CS","1-n","CountsIncluded"],1401:["CS","1","DeadTimeCorrectionFlag"]},"0060":{"0000":["UL","1","GenericGroupLength"],3e3:["SQ","1","HistogramSequence"],3002:["US","1","HistogramNumberOfBins"],3004:["xs","1","HistogramFirstBinValue"],3006:["xs","1","HistogramLastBinValue"],3008:["US","1","HistogramBinWidth"],3010:["LO","1","HistogramExplanation"],3020:["UL","1-n","HistogramData"]},"0062":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","SegmentationType"],"0002":["SQ","1","SegmentSequence"],"0003":["SQ","1","SegmentedPropertyCategoryCodeSequence"],"0004":["US","1","SegmentNumber"],"0005":["LO","1","SegmentLabel"],"0006":["ST","1","SegmentDescription"],"0007":["SQ","1","SegmentationAlgorithmIdentificationSequence"],"0008":["CS","1","SegmentAlgorithmType"],"0009":["LO","1-n","SegmentAlgorithmName"],"000A":["SQ","1","SegmentIdentificationSequence"],"000B":["US","1-n","ReferencedSegmentNumber"],"000C":["US","1","RecommendedDisplayGrayscaleValue"],"000D":["US","3","RecommendedDisplayCIELabValue"],"000E":["US","1","MaximumFractionalValue"],"000F":["SQ","1","SegmentedPropertyTypeCodeSequence"],"0010":["CS","1","SegmentationFractionalType"],"0011":["SQ","1","SegmentedPropertyTypeModifierCodeSequence"],"0012":["SQ","1","UsedSegmentsSequence"],"0013":["CS","1","SegmentsOverlap"],"0020":["UT","1","TrackingID"],"0021":["UI","1","TrackingUID"]},"0064":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","DeformableRegistrationSequence"],"0003":["UI","1","SourceFrameOfReferenceUID"],"0005":["SQ","1","DeformableRegistrationGridSequence"],"0007":["UL","3","GridDimensions"],"0008":["FD","3","GridResolution"],"0009":["OF","1","VectorGridData"],"000F":["SQ","1","PreDeformationMatrixRegistrationSequence"],"0010":["SQ","1","PostDeformationMatrixRegistrationSequence"]},"0066":{"0000":["UL","1","GenericGroupLength"],"0001":["UL","1","NumberOfSurfaces"],"0002":["SQ","1","SurfaceSequence"],"0003":["UL","1","SurfaceNumber"],"0004":["LT","1","SurfaceComments"],"0009":["CS","1","SurfaceProcessing"],"000A":["FL","1","SurfaceProcessingRatio"],"000B":["LO","1","SurfaceProcessingDescription"],"000C":["FL","1","RecommendedPresentationOpacity"],"000D":["CS","1","RecommendedPresentationType"],"000E":["CS","1","FiniteVolume"],"0010":["CS","1","Manifold"],"0011":["SQ","1","SurfacePointsSequence"],"0012":["SQ","1","SurfacePointsNormalsSequence"],"0013":["SQ","1","SurfaceMeshPrimitivesSequence"],"0015":["UL","1","NumberOfSurfacePoints"],"0016":["OF","1","PointCoordinatesData"],"0017":["FL","3","PointPositionAccuracy"],"0018":["FL","1","MeanPointDistance"],"0019":["FL","1","MaximumPointDistance"],"001A":["FL","6","PointsBoundingBoxCoordinates"],"001B":["FL","3","AxisOfRotation"],"001C":["FL","3","CenterOfRotation"],"001E":["UL","1","NumberOfVectors"],"001F":["US","1","VectorDimensionality"],"0020":["FL","1-n","VectorAccuracy"],"0021":["OF","1","VectorCoordinateData"],"0022":["OD","1","DoublePointCoordinatesData"],"0023":["OW","1","TrianglePointIndexList"],"0024":["OW","1","EdgePointIndexList"],"0025":["OW","1","VertexPointIndexList"],"0026":["SQ","1","TriangleStripSequence"],"0027":["SQ","1","TriangleFanSequence"],"0028":["SQ","1","LineSequence"],"0029":["OW","1","PrimitivePointIndexList"],"002A":["UL","1","SurfaceCount"],"002B":["SQ","1","ReferencedSurfaceSequence"],"002C":["UL","1","ReferencedSurfaceNumber"],"002D":["SQ","1","SegmentSurfaceGenerationAlgorithmIdentificationSequence"],"002E":["SQ","1","SegmentSurfaceSourceInstanceSequence"],"002F":["SQ","1","AlgorithmFamilyCodeSequence"],"0030":["SQ","1","AlgorithmNameCodeSequence"],"0031":["LO","1","AlgorithmVersion"],"0032":["LT","1","AlgorithmParameters"],"0034":["SQ","1","FacetSequence"],"0035":["SQ","1","SurfaceProcessingAlgorithmIdentificationSequence"],"0036":["LO","1","AlgorithmName"],"0037":["FL","1","RecommendedPointRadius"],"0038":["FL","1","RecommendedLineThickness"],"0040":["OL","1","LongPrimitivePointIndexList"],"0041":["OL","1","LongTrianglePointIndexList"],"0042":["OL","1","LongEdgePointIndexList"],"0043":["OL","1","LongVertexPointIndexList"],"0101":["SQ","1","TrackSetSequence"],"0102":["SQ","1","TrackSequence"],"0103":["OW","1","RecommendedDisplayCIELabValueList"],"0104":["SQ","1","TrackingAlgorithmIdentificationSequence"],"0105":["UL","1","TrackSetNumber"],"0106":["LO","1","TrackSetLabel"],"0107":["UT","1","TrackSetDescription"],"0108":["SQ","1","TrackSetAnatomicalTypeCodeSequence"],"0121":["SQ","1","MeasurementsSequence"],"0124":["SQ","1","TrackSetStatisticsSequence"],"0125":["OF","1","FloatingPointValues"],"0129":["OL","1","TrackPointIndexList"],"0130":["SQ","1","TrackStatisticsSequence"],"0132":["SQ","1","MeasurementValuesSequence"],"0133":["SQ","1","DiffusionAcquisitionCodeSequence"],"0134":["SQ","1","DiffusionModelCodeSequence"]},"0068":{"0000":["UL","1","GenericGroupLength"],6210:["LO","1","ImplantSize"],6221:["LO","1","ImplantTemplateVersion"],6222:["SQ","1","ReplacedImplantTemplateSequence"],6223:["CS","1","ImplantType"],6224:["SQ","1","DerivationImplantTemplateSequence"],6225:["SQ","1","OriginalImplantTemplateSequence"],6226:["DT","1","EffectiveDateTime"],6230:["SQ","1","ImplantTargetAnatomySequence"],6260:["SQ","1","InformationFromManufacturerSequence"],6265:["SQ","1","NotificationFromManufacturerSequence"],6270:["DT","1","InformationIssueDateTime"],6280:["ST","1","InformationSummary"],"62A0":["SQ","1","ImplantRegulatoryDisapprovalCodeSequence"],"62A5":["FD","1","OverallTemplateSpatialTolerance"],"62C0":["SQ","1","HPGLDocumentSequence"],"62D0":["US","1","HPGLDocumentID"],"62D5":["LO","1","HPGLDocumentLabel"],"62E0":["SQ","1","ViewOrientationCodeSequence"],"62F0":["SQ","1","ViewOrientationModifierCodeSequence"],"62F2":["FD","1","HPGLDocumentScaling"],6300:["OB","1","HPGLDocument"],6310:["US","1","HPGLContourPenNumber"],6320:["SQ","1","HPGLPenSequence"],6330:["US","1","HPGLPenNumber"],6340:["LO","1","HPGLPenLabel"],6345:["ST","1","HPGLPenDescription"],6346:["FD","2","RecommendedRotationPoint"],6347:["FD","4","BoundingRectangle"],6350:["US","1-n","ImplantTemplate3DModelSurfaceNumber"],6360:["SQ","1","SurfaceModelDescriptionSequence"],6380:["LO","1","SurfaceModelLabel"],6390:["FD","1","SurfaceModelScalingFactor"],"63A0":["SQ","1","MaterialsCodeSequence"],"63A4":["SQ","1","CoatingMaterialsCodeSequence"],"63A8":["SQ","1","ImplantTypeCodeSequence"],"63AC":["SQ","1","FixationMethodCodeSequence"],"63B0":["SQ","1","MatingFeatureSetsSequence"],"63C0":["US","1","MatingFeatureSetID"],"63D0":["LO","1","MatingFeatureSetLabel"],"63E0":["SQ","1","MatingFeatureSequence"],"63F0":["US","1","MatingFeatureID"],6400:["SQ","1","MatingFeatureDegreeOfFreedomSequence"],6410:["US","1","DegreeOfFreedomID"],6420:["CS","1","DegreeOfFreedomType"],6430:["SQ","1","TwoDMatingFeatureCoordinatesSequence"],6440:["US","1","ReferencedHPGLDocumentID"],6450:["FD","2","TwoDMatingPoint"],6460:["FD","4","TwoDMatingAxes"],6470:["SQ","1","TwoDDegreeOfFreedomSequence"],6490:["FD","3","ThreeDDegreeOfFreedomAxis"],"64A0":["FD","2","RangeOfFreedom"],"64C0":["FD","3","ThreeDMatingPoint"],"64D0":["FD","9","ThreeDMatingAxes"],"64F0":["FD","3","TwoDDegreeOfFreedomAxis"],6500:["SQ","1","PlanningLandmarkPointSequence"],6510:["SQ","1","PlanningLandmarkLineSequence"],6520:["SQ","1","PlanningLandmarkPlaneSequence"],6530:["US","1","PlanningLandmarkID"],6540:["LO","1","PlanningLandmarkDescription"],6545:["SQ","1","PlanningLandmarkIdentificationCodeSequence"],6550:["SQ","1","TwoDPointCoordinatesSequence"],6560:["FD","2","TwoDPointCoordinates"],6590:["FD","3","ThreeDPointCoordinates"],"65A0":["SQ","1","TwoDLineCoordinatesSequence"],"65B0":["FD","4","TwoDLineCoordinates"],"65D0":["FD","6","ThreeDLineCoordinates"],"65E0":["SQ","1","TwoDPlaneCoordinatesSequence"],"65F0":["FD","4","TwoDPlaneIntersection"],6610:["FD","3","ThreeDPlaneOrigin"],6620:["FD","3","ThreeDPlaneNormal"],7001:["CS","1","ModelModification"],7002:["CS","1","ModelMirroring"],7003:["SQ","1","ModelUsageCodeSequence"],7004:["UI","1","ModelGroupUID"],7005:["UR","1","RelativeURIReferenceWithinEncapsulatedDocument"]},"006A":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AnnotationCoordinateType"],"0002":["SQ","1","AnnotationGroupSequence"],"0003":["UI","1","AnnotationGroupUID"],"0005":["LO","1","AnnotationGroupLabel"],"0006":["UT","1","AnnotationGroupDescription"],"0007":["CS","1","AnnotationGroupGenerationType"],"0008":["SQ","1","AnnotationGroupAlgorithmIdentificationSequence"],"0009":["SQ","1","AnnotationPropertyCategoryCodeSequence"],"000A":["SQ","1","AnnotationPropertyTypeCodeSequence"],"000B":["SQ","1","AnnotationPropertyTypeModifierCodeSequence"],"000C":["UL","1","NumberOfAnnotations"],"000D":["CS","1","AnnotationAppliesToAllOpticalPaths"],"000E":["SH","1-n","ReferencedOpticalPathIdentifier"],"000F":["CS","1","AnnotationAppliesToAllZPlanes"],"0010":["FD","1-n","CommonZCoordinateValue"],"0011":["OL","1","AnnotationIndexList"]},"0070":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","GraphicAnnotationSequence"],"0002":["CS","1","GraphicLayer"],"0003":["CS","1","BoundingBoxAnnotationUnits"],"0004":["CS","1","AnchorPointAnnotationUnits"],"0005":["CS","1","GraphicAnnotationUnits"],"0006":["ST","1","UnformattedTextValue"],"0008":["SQ","1","TextObjectSequence"],"0009":["SQ","1","GraphicObjectSequence"],"0010":["FL","2","BoundingBoxTopLeftHandCorner"],"0011":["FL","2","BoundingBoxBottomRightHandCorner"],"0012":["CS","1","BoundingBoxTextHorizontalJustification"],"0014":["FL","2","AnchorPoint"],"0015":["CS","1","AnchorPointVisibility"],"0020":["US","1","GraphicDimensions"],"0021":["US","1","NumberOfGraphicPoints"],"0022":["FL","2-n","GraphicData"],"0023":["CS","1","GraphicType"],"0024":["CS","1","GraphicFilled"],"0040":["IS","1","ImageRotationRetired"],"0041":["CS","1","ImageHorizontalFlip"],"0042":["US","1","ImageRotation"],"0050":["US","2","DisplayedAreaTopLeftHandCornerTrial"],"0051":["US","2","DisplayedAreaBottomRightHandCornerTrial"],"0052":["SL","2","DisplayedAreaTopLeftHandCorner"],"0053":["SL","2","DisplayedAreaBottomRightHandCorner"],"005A":["SQ","1","DisplayedAreaSelectionSequence"],"0060":["SQ","1","GraphicLayerSequence"],"0062":["IS","1","GraphicLayerOrder"],"0066":["US","1","GraphicLayerRecommendedDisplayGrayscaleValue"],"0067":["US","3","GraphicLayerRecommendedDisplayRGBValue"],"0068":["LO","1","GraphicLayerDescription"],"0080":["CS","1","ContentLabel"],"0081":["LO","1","ContentDescription"],"0082":["DA","1","PresentationCreationDate"],"0083":["TM","1","PresentationCreationTime"],"0084":["PN","1","ContentCreatorName"],"0086":["SQ","1","ContentCreatorIdentificationCodeSequence"],"0087":["SQ","1","AlternateContentDescriptionSequence"],"0100":["CS","1","PresentationSizeMode"],"0101":["DS","2","PresentationPixelSpacing"],"0102":["IS","2","PresentationPixelAspectRatio"],"0103":["FL","1","PresentationPixelMagnificationRatio"],"0207":["LO","1","GraphicGroupLabel"],"0208":["ST","1","GraphicGroupDescription"],"0209":["SQ","1","CompoundGraphicSequence"],"0226":["UL","1","CompoundGraphicInstanceID"],"0227":["LO","1","FontName"],"0228":["CS","1","FontNameType"],"0229":["LO","1","CSSFontName"],"0230":["FD","1","RotationAngle"],"0231":["SQ","1","TextStyleSequence"],"0232":["SQ","1","LineStyleSequence"],"0233":["SQ","1","FillStyleSequence"],"0234":["SQ","1","GraphicGroupSequence"],"0241":["US","3","TextColorCIELabValue"],"0242":["CS","1","HorizontalAlignment"],"0243":["CS","1","VerticalAlignment"],"0244":["CS","1","ShadowStyle"],"0245":["FL","1","ShadowOffsetX"],"0246":["FL","1","ShadowOffsetY"],"0247":["US","3","ShadowColorCIELabValue"],"0248":["CS","1","Underlined"],"0249":["CS","1","Bold"],"0250":["CS","1","Italic"],"0251":["US","3","PatternOnColorCIELabValue"],"0252":["US","3","PatternOffColorCIELabValue"],"0253":["FL","1","LineThickness"],"0254":["CS","1","LineDashingStyle"],"0255":["UL","1","LinePattern"],"0256":["OB","1","FillPattern"],"0257":["CS","1","FillMode"],"0258":["FL","1","ShadowOpacity"],"0261":["FL","1","GapLength"],"0262":["FL","1","DiameterOfVisibility"],"0273":["FL","2","RotationPoint"],"0274":["CS","1","TickAlignment"],"0278":["CS","1","ShowTickLabel"],"0279":["CS","1","TickLabelAlignment"],"0282":["CS","1","CompoundGraphicUnits"],"0284":["FL","1","PatternOnOpacity"],"0285":["FL","1","PatternOffOpacity"],"0287":["SQ","1","MajorTicksSequence"],"0288":["FL","1","TickPosition"],"0289":["SH","1","TickLabel"],"0294":["CS","1","CompoundGraphicType"],"0295":["UL","1","GraphicGroupID"],"0306":["CS","1","ShapeType"],"0308":["SQ","1","RegistrationSequence"],"0309":["SQ","1","MatrixRegistrationSequence"],"030A":["SQ","1","MatrixSequence"],"030B":["FD","16","FrameOfReferenceToDisplayedCoordinateSystemTransformationMatrix"],"030C":["CS","1","FrameOfReferenceTransformationMatrixType"],"030D":["SQ","1","RegistrationTypeCodeSequence"],"030F":["ST","1","FiducialDescription"],"0310":["SH","1","FiducialIdentifier"],"0311":["SQ","1","FiducialIdentifierCodeSequence"],"0312":["FD","1","ContourUncertaintyRadius"],"0314":["SQ","1","UsedFiducialsSequence"],"0318":["SQ","1","GraphicCoordinatesDataSequence"],"031A":["UI","1","FiducialUID"],"031B":["UI","1","ReferencedFiducialUID"],"031C":["SQ","1","FiducialSetSequence"],"031E":["SQ","1","FiducialSequence"],"031F":["SQ","1","FiducialsPropertyCategoryCodeSequence"],"0401":["US","3","GraphicLayerRecommendedDisplayCIELabValue"],"0402":["SQ","1","BlendingSequence"],"0403":["FL","1","RelativeOpacity"],"0404":["SQ","1","ReferencedSpatialRegistrationSequence"],"0405":["CS","1","BlendingPosition"],1101:["UI","1","PresentationDisplayCollectionUID"],1102:["UI","1","PresentationSequenceCollectionUID"],1103:["US","1","PresentationSequencePositionIndex"],1104:["SQ","1","RenderedImageReferenceSequence"],1201:["SQ","1","VolumetricPresentationStateInputSequence"],1202:["CS","1","PresentationInputType"],1203:["US","1","InputSequencePositionIndex"],1204:["CS","1","Crop"],1205:["US","1-n","CroppingSpecificationIndex"],1206:["CS","1","CompositingMethod"],1207:["US","1","VolumetricPresentationInputNumber"],1208:["CS","1","ImageVolumeGeometry"],1209:["UI","1","VolumetricPresentationInputSetUID"],"120A":["SQ","1","VolumetricPresentationInputSetSequence"],"120B":["CS","1","GlobalCrop"],"120C":["US","1-n","GlobalCroppingSpecificationIndex"],"120D":["CS","1","RenderingMethod"],1301:["SQ","1","VolumeCroppingSequence"],1302:["CS","1","VolumeCroppingMethod"],1303:["FD","6","BoundingBoxCrop"],1304:["SQ","1","ObliqueCroppingPlaneSequence"],1305:["FD","4","Plane"],1306:["FD","3","PlaneNormal"],1309:["US","1","CroppingSpecificationNumber"],1501:["CS","1","MultiPlanarReconstructionStyle"],1502:["CS","1","MPRThicknessType"],1503:["FD","1","MPRSlabThickness"],1505:["FD","3","MPRTopLeftHandCorner"],1507:["FD","3","MPRViewWidthDirection"],1508:["FD","1","MPRViewWidth"],"150C":["UL","1","NumberOfVolumetricCurvePoints"],"150D":["OD","1","VolumetricCurvePoints"],1511:["FD","3","MPRViewHeightDirection"],1512:["FD","1","MPRViewHeight"],1602:["CS","1","RenderProjection"],1603:["FD","3","ViewpointPosition"],1604:["FD","3","ViewpointLookAtPoint"],1605:["FD","3","ViewpointUpDirection"],1606:["FD","6","RenderFieldOfView"],1607:["FD","1","SamplingStepSize"],1701:["CS","1","ShadingStyle"],1702:["FD","1","AmbientReflectionIntensity"],1703:["FD","3","LightDirection"],1704:["FD","1","DiffuseReflectionIntensity"],1705:["FD","1","SpecularReflectionIntensity"],1706:["FD","1","Shininess"],1801:["SQ","1","PresentationStateClassificationComponentSequence"],1802:["CS","1","ComponentType"],1803:["SQ","1","ComponentInputSequence"],1804:["US","1","VolumetricPresentationInputIndex"],1805:["SQ","1","PresentationStateCompositorComponentSequence"],1806:["SQ","1","WeightingTransferFunctionSequence"],1807:["US","3","WeightingLookupTableDescriptor"],1808:["OB","1","WeightingLookupTableData"],1901:["SQ","1","VolumetricAnnotationSequence"],1903:["SQ","1","ReferencedStructuredContextSequence"],1904:["UI","1","ReferencedContentItem"],1905:["SQ","1","VolumetricPresentationInputAnnotationSequence"],1907:["CS","1","AnnotationClipping"],"1A01":["CS","1","PresentationAnimationStyle"],"1A03":["FD","1","RecommendedAnimationRate"],"1A04":["SQ","1","AnimationCurveSequence"],"1A05":["FD","1","AnimationStepSize"],"1A06":["FD","1","SwivelRange"],"1A07":["OD","1","VolumetricCurveUpDirections"],"1A08":["SQ","1","VolumeStreamSequence"],"1A09":["LO","1","RGBATransferFunctionDescription"],"1B01":["SQ","1","AdvancedBlendingSequence"],"1B02":["US","1","BlendingInputNumber"],"1B03":["SQ","1","BlendingDisplayInputSequence"],"1B04":["SQ","1","BlendingDisplaySequence"],"1B06":["CS","1","BlendingMode"],"1B07":["CS","1","TimeSeriesBlending"],"1B08":["CS","1","GeometryForDisplay"],"1B11":["SQ","1","ThresholdSequence"],"1B12":["SQ","1","ThresholdValueSequence"],"1B13":["CS","1","ThresholdType"],"1B14":["FD","1","ThresholdValue"]},"0072":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","HangingProtocolName"],"0004":["LO","1","HangingProtocolDescription"],"0006":["CS","1","HangingProtocolLevel"],"0008":["LO","1","HangingProtocolCreator"],"000A":["DT","1","HangingProtocolCreationDateTime"],"000C":["SQ","1","HangingProtocolDefinitionSequence"],"000E":["SQ","1","HangingProtocolUserIdentificationCodeSequence"],"0010":["LO","1","HangingProtocolUserGroupName"],"0012":["SQ","1","SourceHangingProtocolSequence"],"0014":["US","1","NumberOfPriorsReferenced"],"0020":["SQ","1","ImageSetsSequence"],"0022":["SQ","1","ImageSetSelectorSequence"],"0024":["CS","1","ImageSetSelectorUsageFlag"],"0026":["AT","1","SelectorAttribute"],"0028":["US","1","SelectorValueNumber"],"0030":["SQ","1","TimeBasedImageSetsSequence"],"0032":["US","1","ImageSetNumber"],"0034":["CS","1","ImageSetSelectorCategory"],"0038":["US","2","RelativeTime"],"003A":["CS","1","RelativeTimeUnits"],"003C":["SS","2","AbstractPriorValue"],"003E":["SQ","1","AbstractPriorCodeSequence"],"0040":["LO","1","ImageSetLabel"],"0050":["CS","1","SelectorAttributeVR"],"0052":["AT","1-n","SelectorSequencePointer"],"0054":["LO","1-n","SelectorSequencePointerPrivateCreator"],"0056":["LO","1","SelectorAttributePrivateCreator"],"005E":["AE","1-n","SelectorAEValue"],"005F":["AS","1-n","SelectorASValue"],"0060":["AT","1-n","SelectorATValue"],"0061":["DA","1-n","SelectorDAValue"],"0062":["CS","1-n","SelectorCSValue"],"0063":["DT","1-n","SelectorDTValue"],"0064":["IS","1-n","SelectorISValue"],"0065":["OB","1","SelectorOBValue"],"0066":["LO","1-n","SelectorLOValue"],"0067":["OF","1","SelectorOFValue"],"0068":["LT","1","SelectorLTValue"],"0069":["OW","1","SelectorOWValue"],"006A":["PN","1-n","SelectorPNValue"],"006B":["TM","1-n","SelectorTMValue"],"006C":["SH","1-n","SelectorSHValue"],"006D":["UN","1","SelectorUNValue"],"006E":["ST","1","SelectorSTValue"],"006F":["UC","1-n","SelectorUCValue"],"0070":["UT","1","SelectorUTValue"],"0071":["UR","1","SelectorURValue"],"0072":["DS","1-n","SelectorDSValue"],"0073":["OD","1","SelectorODValue"],"0074":["FD","1-n","SelectorFDValue"],"0075":["OL","1","SelectorOLValue"],"0076":["FL","1-n","SelectorFLValue"],"0078":["UL","1-n","SelectorULValue"],"007A":["US","1-n","SelectorUSValue"],"007C":["SL","1-n","SelectorSLValue"],"007E":["SS","1-n","SelectorSSValue"],"007F":["UI","1-n","SelectorUIValue"],"0080":["SQ","1","SelectorCodeSequenceValue"],"0081":["OV","1","SelectorOVValue"],"0082":["SV","1-n","SelectorSVValue"],"0083":["UV","1-n","SelectorUVValue"],"0100":["US","1","NumberOfScreens"],"0102":["SQ","1","NominalScreenDefinitionSequence"],"0104":["US","1","NumberOfVerticalPixels"],"0106":["US","1","NumberOfHorizontalPixels"],"0108":["FD","4","DisplayEnvironmentSpatialPosition"],"010A":["US","1","ScreenMinimumGrayscaleBitDepth"],"010C":["US","1","ScreenMinimumColorBitDepth"],"010E":["US","1","ApplicationMaximumRepaintTime"],"0200":["SQ","1","DisplaySetsSequence"],"0202":["US","1","DisplaySetNumber"],"0203":["LO","1","DisplaySetLabel"],"0204":["US","1","DisplaySetPresentationGroup"],"0206":["LO","1","DisplaySetPresentationGroupDescription"],"0208":["CS","1","PartialDataDisplayHandling"],"0210":["SQ","1","SynchronizedScrollingSequence"],"0212":["US","2-n","DisplaySetScrollingGroup"],"0214":["SQ","1","NavigationIndicatorSequence"],"0216":["US","1","NavigationDisplaySet"],"0218":["US","1-n","ReferenceDisplaySets"],"0300":["SQ","1","ImageBoxesSequence"],"0302":["US","1","ImageBoxNumber"],"0304":["CS","1","ImageBoxLayoutType"],"0306":["US","1","ImageBoxTileHorizontalDimension"],"0308":["US","1","ImageBoxTileVerticalDimension"],"0310":["CS","1","ImageBoxScrollDirection"],"0312":["CS","1","ImageBoxSmallScrollType"],"0314":["US","1","ImageBoxSmallScrollAmount"],"0316":["CS","1","ImageBoxLargeScrollType"],"0318":["US","1","ImageBoxLargeScrollAmount"],"0320":["US","1","ImageBoxOverlapPriority"],"0330":["FD","1","CineRelativeToRealTime"],"0400":["SQ","1","FilterOperationsSequence"],"0402":["CS","1","FilterByCategory"],"0404":["CS","1","FilterByAttributePresence"],"0406":["CS","1","FilterByOperator"],"0420":["US","3","StructuredDisplayBackgroundCIELabValue"],"0421":["US","3","EmptyImageBoxCIELabValue"],"0422":["SQ","1","StructuredDisplayImageBoxSequence"],"0424":["SQ","1","StructuredDisplayTextBoxSequence"],"0427":["SQ","1","ReferencedFirstFrameSequence"],"0430":["SQ","1","ImageBoxSynchronizationSequence"],"0432":["US","2-n","SynchronizedImageBoxList"],"0434":["CS","1","TypeOfSynchronization"],"0500":["CS","1","BlendingOperationType"],"0510":["CS","1","ReformattingOperationType"],"0512":["FD","1","ReformattingThickness"],"0514":["FD","1","ReformattingInterval"],"0516":["CS","1","ReformattingOperationInitialViewDirection"],"0520":["CS","1-n","ThreeDRenderingType"],"0600":["SQ","1","SortingOperationsSequence"],"0602":["CS","1","SortByCategory"],"0604":["CS","1","SortingDirection"],"0700":["CS","2","DisplaySetPatientOrientation"],"0702":["CS","1","VOIType"],"0704":["CS","1","PseudoColorType"],"0705":["SQ","1","PseudoColorPaletteInstanceReferenceSequence"],"0706":["CS","1","ShowGrayscaleInverted"],"0710":["CS","1","ShowImageTrueSizeFlag"],"0712":["CS","1","ShowGraphicAnnotationFlag"],"0714":["CS","1","ShowPatientDemographicsFlag"],"0716":["CS","1","ShowAcquisitionTechniquesFlag"],"0717":["CS","1","DisplaySetHorizontalJustification"],"0718":["CS","1","DisplaySetVerticalJustification"]},"0074":{"0000":["UL","1","GenericGroupLength"],"0120":["FD","1","ContinuationStartMeterset"],"0121":["FD","1","ContinuationEndMeterset"],1e3:["CS","1","ProcedureStepState"],1002:["SQ","1","ProcedureStepProgressInformationSequence"],1004:["DS","1","ProcedureStepProgress"],1006:["ST","1","ProcedureStepProgressDescription"],1007:["SQ","1","ProcedureStepProgressParametersSequence"],1008:["SQ","1","ProcedureStepCommunicationsURISequence"],"100A":["UR","1","ContactURI"],"100C":["LO","1","ContactDisplayName"],"100E":["SQ","1","ProcedureStepDiscontinuationReasonCodeSequence"],1020:["SQ","1","BeamTaskSequence"],1022:["CS","1","BeamTaskType"],1024:["IS","1","BeamOrderIndexTrial"],1025:["CS","1","AutosequenceFlag"],1026:["FD","1","TableTopVerticalAdjustedPosition"],1027:["FD","1","TableTopLongitudinalAdjustedPosition"],1028:["FD","1","TableTopLateralAdjustedPosition"],"102A":["FD","1","PatientSupportAdjustedAngle"],"102B":["FD","1","TableTopEccentricAdjustedAngle"],"102C":["FD","1","TableTopPitchAdjustedAngle"],"102D":["FD","1","TableTopRollAdjustedAngle"],1030:["SQ","1","DeliveryVerificationImageSequence"],1032:["CS","1","VerificationImageTiming"],1034:["CS","1","DoubleExposureFlag"],1036:["CS","1","DoubleExposureOrdering"],1038:["DS","1","DoubleExposureMetersetTrial"],"103A":["DS","4","DoubleExposureFieldDeltaTrial"],1040:["SQ","1","RelatedReferenceRTImageSequence"],1042:["SQ","1","GeneralMachineVerificationSequence"],1044:["SQ","1","ConventionalMachineVerificationSequence"],1046:["SQ","1","IonMachineVerificationSequence"],1048:["SQ","1","FailedAttributesSequence"],"104A":["SQ","1","OverriddenAttributesSequence"],"104C":["SQ","1","ConventionalControlPointVerificationSequence"],"104E":["SQ","1","IonControlPointVerificationSequence"],1050:["SQ","1","AttributeOccurrenceSequence"],1052:["AT","1","AttributeOccurrencePointer"],1054:["UL","1","AttributeItemSelector"],1056:["LO","1","AttributeOccurrencePrivateCreator"],1057:["IS","1-n","SelectorSequencePointerItems"],1200:["CS","1","ScheduledProcedureStepPriority"],1202:["LO","1","WorklistLabel"],1204:["LO","1","ProcedureStepLabel"],1210:["SQ","1","ScheduledProcessingParametersSequence"],1212:["SQ","1","PerformedProcessingParametersSequence"],1216:["SQ","1","UnifiedProcedureStepPerformedProcedureSequence"],1220:["SQ","1","RelatedProcedureStepSequence"],1222:["LO","1","ProcedureStepRelationshipType"],1224:["SQ","1","ReplacedProcedureStepSequence"],1230:["LO","1","DeletionLock"],1234:["AE","1","ReceivingAE"],1236:["AE","1","RequestingAE"],1238:["LT","1","ReasonForCancellation"],1242:["CS","1","SCPStatus"],1244:["CS","1","SubscriptionListStatus"],1246:["CS","1","UnifiedProcedureStepListStatus"],1324:["UL","1","BeamOrderIndex"],1338:["FD","1","DoubleExposureMeterset"],"133A":["FD","4","DoubleExposureFieldDelta"],1401:["SQ","1","BrachyTaskSequence"],1402:["DS","1","ContinuationStartTotalReferenceAirKerma"],1403:["DS","1","ContinuationEndTotalReferenceAirKerma"],1404:["IS","1","ContinuationPulseNumber"],1405:["SQ","1","ChannelDeliveryOrderSequence"],1406:["IS","1","ReferencedChannelNumber"],1407:["DS","1","StartCumulativeTimeWeight"],1408:["DS","1","EndCumulativeTimeWeight"],1409:["SQ","1","OmittedChannelSequence"],"140A":["CS","1","ReasonForChannelOmission"],"140B":["LO","1","ReasonForChannelOmissionDescription"],"140C":["IS","1","ChannelDeliveryOrderIndex"],"140D":["SQ","1","ChannelDeliveryContinuationSequence"],"140E":["SQ","1","OmittedApplicationSetupSequence"]},"0076":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantAssemblyTemplateName"],"0003":["LO","1","ImplantAssemblyTemplateIssuer"],"0006":["LO","1","ImplantAssemblyTemplateVersion"],"0008":["SQ","1","ReplacedImplantAssemblyTemplateSequence"],"000A":["CS","1","ImplantAssemblyTemplateType"],"000C":["SQ","1","OriginalImplantAssemblyTemplateSequence"],"000E":["SQ","1","DerivationImplantAssemblyTemplateSequence"],"0010":["SQ","1","ImplantAssemblyTemplateTargetAnatomySequence"],"0020":["SQ","1","ProcedureTypeCodeSequence"],"0030":["LO","1","SurgicalTechnique"],"0032":["SQ","1","ComponentTypesSequence"],"0034":["SQ","1","ComponentTypeCodeSequence"],"0036":["CS","1","ExclusiveComponentType"],"0038":["CS","1","MandatoryComponentType"],"0040":["SQ","1","ComponentSequence"],"0055":["US","1","ComponentID"],"0060":["SQ","1","ComponentAssemblySequence"],"0070":["US","1","Component1ReferencedID"],"0080":["US","1","Component1ReferencedMatingFeatureSetID"],"0090":["US","1","Component1ReferencedMatingFeatureID"],"00A0":["US","1","Component2ReferencedID"],"00B0":["US","1","Component2ReferencedMatingFeatureSetID"],"00C0":["US","1","Component2ReferencedMatingFeatureID"]},"0078":{"0000":["UL","1","GenericGroupLength"],"0001":["LO","1","ImplantTemplateGroupName"],"0010":["ST","1","ImplantTemplateGroupDescription"],"0020":["LO","1","ImplantTemplateGroupIssuer"],"0024":["LO","1","ImplantTemplateGroupVersion"],"0026":["SQ","1","ReplacedImplantTemplateGroupSequence"],"0028":["SQ","1","ImplantTemplateGroupTargetAnatomySequence"],"002A":["SQ","1","ImplantTemplateGroupMembersSequence"],"002E":["US","1","ImplantTemplateGroupMemberID"],"0050":["FD","3","ThreeDImplantTemplateGroupMemberMatchingPoint"],"0060":["FD","9","ThreeDImplantTemplateGroupMemberMatchingAxes"],"0070":["SQ","1","ImplantTemplateGroupMemberMatching2DCoordinatesSequence"],"0090":["FD","2","TwoDImplantTemplateGroupMemberMatchingPoint"],"00A0":["FD","4","TwoDImplantTemplateGroupMemberMatchingAxes"],"00B0":["SQ","1","ImplantTemplateGroupVariationDimensionSequence"],"00B2":["LO","1","ImplantTemplateGroupVariationDimensionName"],"00B4":["SQ","1","ImplantTemplateGroupVariationDimensionRankSequence"],"00B6":["US","1","ReferencedImplantTemplateGroupMemberID"],"00B8":["US","1","ImplantTemplateGroupVariationDimensionRank"]},"0080":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","SurfaceScanAcquisitionTypeCodeSequence"],"0002":["SQ","1","SurfaceScanModeCodeSequence"],"0003":["SQ","1","RegistrationMethodCodeSequence"],"0004":["FD","1","ShotDurationTime"],"0005":["FD","1","ShotOffsetTime"],"0006":["US","1-n","SurfacePointPresentationValueData"],"0007":["US","3-3n","SurfacePointColorCIELabValueData"],"0008":["SQ","1","UVMappingSequence"],"0009":["SH","1","TextureLabel"],"0010":["OF","1","UValueData"],"0011":["OF","1","VValueData"],"0012":["SQ","1","ReferencedTextureSequence"],"0013":["SQ","1","ReferencedSurfaceDataSequence"]},"0082":{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","AssessmentSummary"],"0003":["UT","1","AssessmentSummaryDescription"],"0004":["SQ","1","AssessedSOPInstanceSequence"],"0005":["SQ","1","ReferencedComparisonSOPInstanceSequence"],"0006":["UL","1","NumberOfAssessmentObservations"],"0007":["SQ","1","AssessmentObservationsSequence"],"0008":["CS","1","ObservationSignificance"],"000A":["UT","1","ObservationDescription"],"000C":["SQ","1","StructuredConstraintObservationSequence"],"0010":["SQ","1","AssessedAttributeValueSequence"],"0016":["LO","1","AssessmentSetID"],"0017":["SQ","1","AssessmentRequesterSequence"],"0018":["LO","1","SelectorAttributeName"],"0019":["LO","1","SelectorAttributeKeyword"],"0021":["SQ","1","AssessmentTypeCodeSequence"],"0022":["SQ","1","ObservationBasisCodeSequence"],"0023":["LO","1","AssessmentLabel"],"0032":["CS","1","ConstraintType"],"0033":["UT","1","SpecificationSelectionGuidance"],"0034":["SQ","1","ConstraintValueSequence"],"0035":["SQ","1","RecommendedDefaultValueSequence"],"0036":["CS","1","ConstraintViolationSignificance"],"0037":["UT","1","ConstraintViolationCondition"],"0038":["CS","1","ModifiableConstraintFlag"]},"0088":{"0000":["UL","1","GenericGroupLength"],"0130":["SH","1","StorageMediaFileSetID"],"0140":["UI","1","StorageMediaFileSetUID"],"0200":["SQ","1","IconImageSequence"],"0904":["LO","1","TopicTitle"],"0906":["ST","1","TopicSubject"],"0910":["LO","1","TopicAuthor"],"0912":["LO","1-32","TopicKeywords"]},"0100":{"0000":["UL","1","GenericGroupLength"],"0410":["CS","1","SOPInstanceStatus"],"0420":["DT","1","SOPAuthorizationDateTime"],"0424":["LT","1","SOPAuthorizationComment"],"0426":["LO","1","AuthorizationEquipmentCertificationNumber"]},"0400":{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","MACIDNumber"],"0010":["UI","1","MACCalculationTransferSyntaxUID"],"0015":["CS","1","MACAlgorithm"],"0020":["AT","1-n","DataElementsSigned"],"0100":["UI","1","DigitalSignatureUID"],"0105":["DT","1","DigitalSignatureDateTime"],"0110":["CS","1","CertificateType"],"0115":["OB","1","CertificateOfSigner"],"0120":["OB","1","Signature"],"0305":["CS","1","CertifiedTimestampType"],"0310":["OB","1","CertifiedTimestamp"],"0315":["FL","1",""],"0401":["SQ","1","DigitalSignaturePurposeCodeSequence"],"0402":["SQ","1","ReferencedDigitalSignatureSequence"],"0403":["SQ","1","ReferencedSOPInstanceMACSequence"],"0404":["OB","1","MAC"],"0500":["SQ","1","EncryptedAttributesSequence"],"0510":["UI","1","EncryptedContentTransferSyntaxUID"],"0520":["OB","1","EncryptedContent"],"0550":["SQ","1","ModifiedAttributesSequence"],"0551":["SQ","1","NonconformingModifiedAttributesSequence"],"0552":["OB","1","NonconformingDataElementValue"],"0561":["SQ","1","OriginalAttributesSequence"],"0562":["DT","1","AttributeModificationDateTime"],"0563":["LO","1","ModifyingSystem"],"0564":["LO","1","SourceOfPreviousValues"],"0565":["CS","1","ReasonForTheAttributeModification"],"0600":["CS","1","InstanceOriginStatus"]},1e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","3","EscapeTriplet"],"0011":["US","3","RunLengthTriplet"],"0012":["US","1","HuffmanTableSize"],"0013":["US","3","HuffmanTableTriplet"],"0014":["US","1","ShiftTableSize"],"0015":["US","3","ShiftTableTriplet"]},1010:{"0000":["UL","1","GenericGroupLength"],"0004":["US","1-n","ZonalMap"]},2e3:{"0000":["UL","1","GenericGroupLength"],"0010":["IS","1","NumberOfCopies"],"001E":["SQ","1","PrinterConfigurationSequence"],"0020":["CS","1","PrintPriority"],"0030":["CS","1","MediumType"],"0040":["CS","1","FilmDestination"],"0050":["LO","1","FilmSessionLabel"],"0060":["IS","1","MemoryAllocation"],"0061":["IS","1","MaximumMemoryAllocation"],"0062":["CS","1","ColorImagePrintingFlag"],"0063":["CS","1","CollationFlag"],"0065":["CS","1","AnnotationFlag"],"0067":["CS","1","ImageOverlayFlag"],"0069":["CS","1","PresentationLUTFlag"],"006A":["CS","1","ImageBoxPresentationLUTFlag"],"00A0":["US","1","MemoryBitDepth"],"00A1":["US","1","PrintingBitDepth"],"00A2":["SQ","1","MediaInstalledSequence"],"00A4":["SQ","1","OtherMediaAvailableSequence"],"00A8":["SQ","1","SupportedImageDisplayFormatsSequence"],"0500":["SQ","1","ReferencedFilmBoxSequence"],"0510":["SQ","1","ReferencedStoredPrintSequence"]},2010:{"0000":["UL","1","GenericGroupLength"],"0010":["ST","1","ImageDisplayFormat"],"0030":["CS","1","AnnotationDisplayFormatID"],"0040":["CS","1","FilmOrientation"],"0050":["CS","1","FilmSizeID"],"0052":["CS","1","PrinterResolutionID"],"0054":["CS","1","DefaultPrinterResolutionID"],"0060":["CS","1","MagnificationType"],"0080":["CS","1","SmoothingType"],"00A6":["CS","1","DefaultMagnificationType"],"00A7":["CS","1-n","OtherMagnificationTypesAvailable"],"00A8":["CS","1","DefaultSmoothingType"],"00A9":["CS","1-n","OtherSmoothingTypesAvailable"],"0100":["CS","1","BorderDensity"],"0110":["CS","1","EmptyImageDensity"],"0120":["US","1","MinDensity"],"0130":["US","1","MaxDensity"],"0140":["CS","1","Trim"],"0150":["ST","1","ConfigurationInformation"],"0152":["LT","1","ConfigurationInformationDescription"],"0154":["IS","1","MaximumCollatedFilms"],"015E":["US","1","Illumination"],"0160":["US","1","ReflectedAmbientLight"],"0376":["DS","2","PrinterPixelSpacing"],"0500":["SQ","1","ReferencedFilmSessionSequence"],"0510":["SQ","1","ReferencedImageBoxSequence"],"0520":["SQ","1","ReferencedBasicAnnotationBoxSequence"]},2020:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","ImageBoxPosition"],"0020":["CS","1","Polarity"],"0030":["DS","1","RequestedImageSize"],"0040":["CS","1","RequestedDecimateCropBehavior"],"0050":["CS","1","RequestedResolutionID"],"00A0":["CS","1","RequestedImageSizeFlag"],"00A2":["CS","1","DecimateCropResult"],"0110":["SQ","1","BasicGrayscaleImageSequence"],"0111":["SQ","1","BasicColorImageSequence"],"0130":["SQ","1","ReferencedImageOverlayBoxSequence"],"0140":["SQ","1","ReferencedVOILUTBoxSequence"]},2030:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","AnnotationPosition"],"0020":["LO","1","TextString"]},2040:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","ReferencedOverlayPlaneSequence"],"0011":["US","1-99","ReferencedOverlayPlaneGroups"],"0020":["SQ","1","OverlayPixelDataSequence"],"0060":["CS","1","OverlayMagnificationType"],"0070":["CS","1","OverlaySmoothingType"],"0072":["CS","1","OverlayOrImageMagnification"],"0074":["US","1","MagnifyToNumberOfColumns"],"0080":["CS","1","OverlayForegroundDensity"],"0082":["CS","1","OverlayBackgroundDensity"],"0090":["CS","1","OverlayMode"],"0100":["CS","1","ThresholdDensity"],"0500":["SQ","1","ReferencedImageBoxSequenceRetired"]},2050:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PresentationLUTSequence"],"0020":["CS","1","PresentationLUTShape"],"0500":["SQ","1","ReferencedPresentationLUTSequence"]},2100:{"0000":["UL","1","GenericGroupLength"],"0010":["SH","1","PrintJobID"],"0020":["CS","1","ExecutionStatus"],"0030":["CS","1","ExecutionStatusInfo"],"0040":["DA","1","CreationDate"],"0050":["TM","1","CreationTime"],"0070":["AE","1","Originator"],"0140":["AE","1","DestinationAE"],"0160":["SH","1","OwnerID"],"0170":["IS","1","NumberOfFilms"],"0500":["SQ","1","ReferencedPrintJobSequencePullStoredPrint"]},2110:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","PrinterStatus"],"0020":["CS","1","PrinterStatusInfo"],"0030":["LO","1","PrinterName"],"0099":["SH","1","PrintQueueID"]},2120:{"0000":["UL","1","GenericGroupLength"],"0010":["CS","1","QueueStatus"],"0050":["SQ","1","PrintJobDescriptionSequence"],"0070":["SQ","1","ReferencedPrintJobSequence"]},2130:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","PrintManagementCapabilitiesSequence"],"0015":["SQ","1","PrinterCharacteristicsSequence"],"0030":["SQ","1","FilmBoxContentSequence"],"0040":["SQ","1","ImageBoxContentSequence"],"0050":["SQ","1","AnnotationContentSequence"],"0060":["SQ","1","ImageOverlayBoxContentSequence"],"0080":["SQ","1","PresentationLUTContentSequence"],"00A0":["SQ","1","ProposedStudySequence"],"00C0":["SQ","1","OriginalImageSequence"]},2200:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LabelUsingInformationExtractedFromInstances"],"0002":["UT","1","LabelText"],"0003":["CS","1","LabelStyleSelection"],"0004":["LT","1","MediaDisposition"],"0005":["LT","1","BarcodeValue"],"0006":["CS","1","BarcodeSymbology"],"0007":["CS","1","AllowMediaSplitting"],"0008":["CS","1","IncludeNonDICOMObjects"],"0009":["CS","1","IncludeDisplayApplication"],"000A":["CS","1","PreserveCompositeInstancesAfterMediaCreation"],"000B":["US","1","TotalNumberOfPiecesOfMediaCreated"],"000C":["LO","1","RequestedMediaApplicationProfile"],"000D":["SQ","1","ReferencedStorageMediaSequence"],"000E":["AT","1-n","FailureAttributes"],"000F":["CS","1","AllowLossyCompression"],"0020":["CS","1","RequestPriority"]},3002:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTImageLabel"],"0003":["LO","1","RTImageName"],"0004":["ST","1","RTImageDescription"],"000A":["CS","1","ReportedValuesOrigin"],"000C":["CS","1","RTImagePlane"],"000D":["DS","3","XRayImageReceptorTranslation"],"000E":["DS","1","XRayImageReceptorAngle"],"0010":["DS","6","RTImageOrientation"],"0011":["DS","2","ImagePlanePixelSpacing"],"0012":["DS","2","RTImagePosition"],"0020":["SH","1","RadiationMachineName"],"0022":["DS","1","RadiationMachineSAD"],"0024":["DS","1","RadiationMachineSSD"],"0026":["DS","1","RTImageSID"],"0028":["DS","1","SourceToReferenceObjectDistance"],"0029":["IS","1","FractionNumber"],"0030":["SQ","1","ExposureSequence"],"0032":["DS","1","MetersetExposure"],"0034":["DS","4","DiaphragmPosition"],"0040":["SQ","1","FluenceMapSequence"],"0041":["CS","1","FluenceDataSource"],"0042":["DS","1","FluenceDataScale"],"0050":["SQ","1","PrimaryFluenceModeSequence"],"0051":["CS","1","FluenceMode"],"0052":["SH","1","FluenceModeID"]},3004:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","DVHType"],"0002":["CS","1","DoseUnits"],"0004":["CS","1","DoseType"],"0005":["CS","1","SpatialTransformOfDose"],"0006":["LO","1","DoseComment"],"0008":["DS","3","NormalizationPoint"],"000A":["CS","1","DoseSummationType"],"000C":["DS","2-n","GridFrameOffsetVector"],"000E":["DS","1","DoseGridScaling"],"0010":["SQ","1","RTDoseROISequence"],"0012":["DS","1","DoseValue"],"0014":["CS","1-3","TissueHeterogeneityCorrection"],"0040":["DS","3","DVHNormalizationPoint"],"0042":["DS","1","DVHNormalizationDoseValue"],"0050":["SQ","1","DVHSequence"],"0052":["DS","1","DVHDoseScaling"],"0054":["CS","1","DVHVolumeUnits"],"0056":["IS","1","DVHNumberOfBins"],"0058":["DS","2-2n","DVHData"],"0060":["SQ","1","DVHReferencedROISequence"],"0062":["CS","1","DVHROIContributionType"],"0070":["DS","1","DVHMinimumDose"],"0072":["DS","1","DVHMaximumDose"],"0074":["DS","1","DVHMeanDose"]},3006:{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","StructureSetLabel"],"0004":["LO","1","StructureSetName"],"0006":["ST","1","StructureSetDescription"],"0008":["DA","1","StructureSetDate"],"0009":["TM","1","StructureSetTime"],"0010":["SQ","1","ReferencedFrameOfReferenceSequence"],"0012":["SQ","1","RTReferencedStudySequence"],"0014":["SQ","1","RTReferencedSeriesSequence"],"0016":["SQ","1","ContourImageSequence"],"0018":["SQ","1","PredecessorStructureSetSequence"],"0020":["SQ","1","StructureSetROISequence"],"0022":["IS","1","ROINumber"],"0024":["UI","1","ReferencedFrameOfReferenceUID"],"0026":["LO","1","ROIName"],"0028":["ST","1","ROIDescription"],"002A":["IS","3","ROIDisplayColor"],"002C":["DS","1","ROIVolume"],"0030":["SQ","1","RTRelatedROISequence"],"0033":["CS","1","RTROIRelationship"],"0036":["CS","1","ROIGenerationAlgorithm"],"0037":["SQ","1","ROIDerivationAlgorithmIdentificationSequence"],"0038":["LO","1","ROIGenerationDescription"],"0039":["SQ","1","ROIContourSequence"],"0040":["SQ","1","ContourSequence"],"0042":["CS","1","ContourGeometricType"],"0044":["DS","1","ContourSlabThickness"],"0045":["DS","3","ContourOffsetVector"],"0046":["IS","1","NumberOfContourPoints"],"0048":["IS","1","ContourNumber"],"0049":["IS","1-n","AttachedContours"],"004A":["SQ","1","SourcePixelPlanesCharacteristicsSequence"],"0050":["DS","3-3n","ContourData"],"0080":["SQ","1","RTROIObservationsSequence"],"0082":["IS","1","ObservationNumber"],"0084":["IS","1","ReferencedROINumber"],"0085":["SH","1","ROIObservationLabel"],"0086":["SQ","1","RTROIIdentificationCodeSequence"],"0088":["ST","1","ROIObservationDescription"],"00A0":["SQ","1","RelatedRTROIObservationsSequence"],"00A4":["CS","1","RTROIInterpretedType"],"00A6":["PN","1","ROIInterpreter"],"00B0":["SQ","1","ROIPhysicalPropertiesSequence"],"00B2":["CS","1","ROIPhysicalProperty"],"00B4":["DS","1","ROIPhysicalPropertyValue"],"00B6":["SQ","1","ROIElementalCompositionSequence"],"00B7":["US","1","ROIElementalCompositionAtomicNumber"],"00B8":["FL","1","ROIElementalCompositionAtomicMassFraction"],"00B9":["SQ","1","AdditionalRTROIIdentificationCodeSequence"],"00C0":["SQ","1","FrameOfReferenceRelationshipSequence"],"00C2":["UI","1","RelatedFrameOfReferenceUID"],"00C4":["CS","1","FrameOfReferenceTransformationType"],"00C6":["DS","16","FrameOfReferenceTransformationMatrix"],"00C8":["LO","1","FrameOfReferenceTransformationComment"],"00C9":["SQ","1","PatientLocationCoordinatesSequence"],"00CA":["SQ","1","PatientLocationCoordinatesCodeSequence"],"00CB":["SQ","1","PatientSupportPositionSequence"]},3008:{"0000":["UL","1","GenericGroupLength"],"0010":["SQ","1","MeasuredDoseReferenceSequence"],"0012":["ST","1","MeasuredDoseDescription"],"0014":["CS","1","MeasuredDoseType"],"0016":["DS","1","MeasuredDoseValue"],"0020":["SQ","1","TreatmentSessionBeamSequence"],"0021":["SQ","1","TreatmentSessionIonBeamSequence"],"0022":["IS","1","CurrentFractionNumber"],"0024":["DA","1","TreatmentControlPointDate"],"0025":["TM","1","TreatmentControlPointTime"],"002A":["CS","1","TreatmentTerminationStatus"],"002B":["SH","1","TreatmentTerminationCode"],"002C":["CS","1","TreatmentVerificationStatus"],"0030":["SQ","1","ReferencedTreatmentRecordSequence"],"0032":["DS","1","SpecifiedPrimaryMeterset"],"0033":["DS","1","SpecifiedSecondaryMeterset"],"0036":["DS","1","DeliveredPrimaryMeterset"],"0037":["DS","1","DeliveredSecondaryMeterset"],"003A":["DS","1","SpecifiedTreatmentTime"],"003B":["DS","1","DeliveredTreatmentTime"],"0040":["SQ","1","ControlPointDeliverySequence"],"0041":["SQ","1","IonControlPointDeliverySequence"],"0042":["DS","1","SpecifiedMeterset"],"0044":["DS","1","DeliveredMeterset"],"0045":["FL","1","MetersetRateSet"],"0046":["FL","1","MetersetRateDelivered"],"0047":["FL","1-n","ScanSpotMetersetsDelivered"],"0048":["DS","1","DoseRateDelivered"],"0050":["SQ","1","TreatmentSummaryCalculatedDoseReferenceSequence"],"0052":["DS","1","CumulativeDoseToDoseReference"],"0054":["DA","1","FirstTreatmentDate"],"0056":["DA","1","MostRecentTreatmentDate"],"005A":["IS","1","NumberOfFractionsDelivered"],"0060":["SQ","1","OverrideSequence"],"0061":["AT","1","ParameterSequencePointer"],"0062":["AT","1","OverrideParameterPointer"],"0063":["IS","1","ParameterItemIndex"],"0064":["IS","1","MeasuredDoseReferenceNumber"],"0065":["AT","1","ParameterPointer"],"0066":["ST","1","OverrideReason"],"0067":["US","1","ParameterValueNumber"],"0068":["SQ","1","CorrectedParameterSequence"],"006A":["FL","1","CorrectionValue"],"0070":["SQ","1","CalculatedDoseReferenceSequence"],"0072":["IS","1","CalculatedDoseReferenceNumber"],"0074":["ST","1","CalculatedDoseReferenceDescription"],"0076":["DS","1","CalculatedDoseReferenceDoseValue"],"0078":["DS","1","StartMeterset"],"007A":["DS","1","EndMeterset"],"0080":["SQ","1","ReferencedMeasuredDoseReferenceSequence"],"0082":["IS","1","ReferencedMeasuredDoseReferenceNumber"],"0090":["SQ","1","ReferencedCalculatedDoseReferenceSequence"],"0092":["IS","1","ReferencedCalculatedDoseReferenceNumber"],"00A0":["SQ","1","BeamLimitingDeviceLeafPairsSequence"],"00B0":["SQ","1","RecordedWedgeSequence"],"00C0":["SQ","1","RecordedCompensatorSequence"],"00D0":["SQ","1","RecordedBlockSequence"],"00D1":["SQ","1","RecordedBlockSlabSequence"],"00E0":["SQ","1","TreatmentSummaryMeasuredDoseReferenceSequence"],"00F0":["SQ","1","RecordedSnoutSequence"],"00F2":["SQ","1","RecordedRangeShifterSequence"],"00F4":["SQ","1","RecordedLateralSpreadingDeviceSequence"],"00F6":["SQ","1","RecordedRangeModulatorSequence"],"0100":["SQ","1","RecordedSourceSequence"],"0105":["LO","1","SourceSerialNumber"],"0110":["SQ","1","TreatmentSessionApplicationSetupSequence"],"0116":["CS","1","ApplicationSetupCheck"],"0120":["SQ","1","RecordedBrachyAccessoryDeviceSequence"],"0122":["IS","1","ReferencedBrachyAccessoryDeviceNumber"],"0130":["SQ","1","RecordedChannelSequence"],"0132":["DS","1","SpecifiedChannelTotalTime"],"0134":["DS","1","DeliveredChannelTotalTime"],"0136":["IS","1","SpecifiedNumberOfPulses"],"0138":["IS","1","DeliveredNumberOfPulses"],"013A":["DS","1","SpecifiedPulseRepetitionInterval"],"013C":["DS","1","DeliveredPulseRepetitionInterval"],"0140":["SQ","1","RecordedSourceApplicatorSequence"],"0142":["IS","1","ReferencedSourceApplicatorNumber"],"0150":["SQ","1","RecordedChannelShieldSequence"],"0152":["IS","1","ReferencedChannelShieldNumber"],"0160":["SQ","1","BrachyControlPointDeliveredSequence"],"0162":["DA","1","SafePositionExitDate"],"0164":["TM","1","SafePositionExitTime"],"0166":["DA","1","SafePositionReturnDate"],"0168":["TM","1","SafePositionReturnTime"],"0171":["SQ","1","PulseSpecificBrachyControlPointDeliveredSequence"],"0172":["US","1","PulseNumber"],"0173":["SQ","1","BrachyPulseControlPointDeliveredSequence"],"0200":["CS","1","CurrentTreatmentStatus"],"0202":["ST","1","TreatmentStatusComment"],"0220":["SQ","1","FractionGroupSummarySequence"],"0223":["IS","1","ReferencedFractionNumber"],"0224":["CS","1","FractionGroupType"],"0230":["CS","1","BeamStopperPosition"],"0240":["SQ","1","FractionStatusSummarySequence"],"0250":["DA","1","TreatmentDate"],"0251":["TM","1","TreatmentTime"]},"300A":{"0000":["UL","1","GenericGroupLength"],"0002":["SH","1","RTPlanLabel"],"0003":["LO","1","RTPlanName"],"0004":["ST","1","RTPlanDescription"],"0006":["DA","1","RTPlanDate"],"0007":["TM","1","RTPlanTime"],"0009":["LO","1-n","TreatmentProtocols"],"000A":["CS","1","PlanIntent"],"000B":["LO","1-n","TreatmentSites"],"000C":["CS","1","RTPlanGeometry"],"000E":["ST","1","PrescriptionDescription"],"0010":["SQ","1","DoseReferenceSequence"],"0012":["IS","1","DoseReferenceNumber"],"0013":["UI","1","DoseReferenceUID"],"0014":["CS","1","DoseReferenceStructureType"],"0015":["CS","1","NominalBeamEnergyUnit"],"0016":["LO","1","DoseReferenceDescription"],"0018":["DS","3","DoseReferencePointCoordinates"],"001A":["DS","1","NominalPriorDose"],"0020":["CS","1","DoseReferenceType"],"0021":["DS","1","ConstraintWeight"],"0022":["DS","1","DeliveryWarningDose"],"0023":["DS","1","DeliveryMaximumDose"],"0025":["DS","1","TargetMinimumDose"],"0026":["DS","1","TargetPrescriptionDose"],"0027":["DS","1","TargetMaximumDose"],"0028":["DS","1","TargetUnderdoseVolumeFraction"],"002A":["DS","1","OrganAtRiskFullVolumeDose"],"002B":["DS","1","OrganAtRiskLimitDose"],"002C":["DS","1","OrganAtRiskMaximumDose"],"002D":["DS","1","OrganAtRiskOverdoseVolumeFraction"],"0040":["SQ","1","ToleranceTableSequence"],"0042":["IS","1","ToleranceTableNumber"],"0043":["SH","1","ToleranceTableLabel"],"0044":["DS","1","GantryAngleTolerance"],"0046":["DS","1","BeamLimitingDeviceAngleTolerance"],"0048":["SQ","1","BeamLimitingDeviceToleranceSequence"],"004A":["DS","1","BeamLimitingDevicePositionTolerance"],"004B":["FL","1","SnoutPositionTolerance"],"004C":["DS","1","PatientSupportAngleTolerance"],"004E":["DS","1","TableTopEccentricAngleTolerance"],"004F":["FL","1","TableTopPitchAngleTolerance"],"0050":["FL","1","TableTopRollAngleTolerance"],"0051":["DS","1","TableTopVerticalPositionTolerance"],"0052":["DS","1","TableTopLongitudinalPositionTolerance"],"0053":["DS","1","TableTopLateralPositionTolerance"],"0055":["CS","1","RTPlanRelationship"],"0070":["SQ","1","FractionGroupSequence"],"0071":["IS","1","FractionGroupNumber"],"0072":["LO","1","FractionGroupDescription"],"0078":["IS","1","NumberOfFractionsPlanned"],"0079":["IS","1","NumberOfFractionPatternDigitsPerDay"],"007A":["IS","1","RepeatFractionCycleLength"],"007B":["LT","1","FractionPattern"],"0080":["IS","1","NumberOfBeams"],"0082":["DS","3","BeamDoseSpecificationPoint"],"0083":["UI","1","ReferencedDoseReferenceUID"],"0084":["DS","1","BeamDose"],"0086":["DS","1","BeamMeterset"],"0088":["FL","1","BeamDosePointDepth"],"0089":["FL","1","BeamDosePointEquivalentDepth"],"008A":["FL","1","BeamDosePointSSD"],"008B":["CS","1","BeamDoseMeaning"],"008C":["SQ","1","BeamDoseVerificationControlPointSequence"],"008D":["FL","1","AverageBeamDosePointDepth"],"008E":["FL","1","AverageBeamDosePointEquivalentDepth"],"008F":["FL","1","AverageBeamDosePointSSD"],"0090":["CS","1","BeamDoseType"],"0091":["DS","1","AlternateBeamDose"],"0092":["CS","1","AlternateBeamDoseType"],"0093":["CS","1","DepthValueAveragingFlag"],"0094":["DS","1","BeamDosePointSourceToExternalContourDistance"],"00A0":["IS","1","NumberOfBrachyApplicationSetups"],"00A2":["DS","3","BrachyApplicationSetupDoseSpecificationPoint"],"00A4":["DS","1","BrachyApplicationSetupDose"],"00B0":["SQ","1","BeamSequence"],"00B2":["SH","1","TreatmentMachineName"],"00B3":["CS","1","PrimaryDosimeterUnit"],"00B4":["DS","1","SourceAxisDistance"],"00B6":["SQ","1","BeamLimitingDeviceSequence"],"00B8":["CS","1","RTBeamLimitingDeviceType"],"00BA":["DS","1","SourceToBeamLimitingDeviceDistance"],"00BB":["FL","1","IsocenterToBeamLimitingDeviceDistance"],"00BC":["IS","1","NumberOfLeafJawPairs"],"00BE":["DS","3-n","LeafPositionBoundaries"],"00C0":["IS","1","BeamNumber"],"00C2":["LO","1","BeamName"],"00C3":["ST","1","BeamDescription"],"00C4":["CS","1","BeamType"],"00C5":["FD","1","BeamDeliveryDurationLimit"],"00C6":["CS","1","RadiationType"],"00C7":["CS","1","HighDoseTechniqueType"],"00C8":["IS","1","ReferenceImageNumber"],"00CA":["SQ","1","PlannedVerificationImageSequence"],"00CC":["LO","1-n","ImagingDeviceSpecificAcquisitionParameters"],"00CE":["CS","1","TreatmentDeliveryType"],"00D0":["IS","1","NumberOfWedges"],"00D1":["SQ","1","WedgeSequence"],"00D2":["IS","1","WedgeNumber"],"00D3":["CS","1","WedgeType"],"00D4":["SH","1","WedgeID"],"00D5":["IS","1","WedgeAngle"],"00D6":["DS","1","WedgeFactor"],"00D7":["FL","1","TotalWedgeTrayWaterEquivalentThickness"],"00D8":["DS","1","WedgeOrientation"],"00D9":["FL","1","IsocenterToWedgeTrayDistance"],"00DA":["DS","1","SourceToWedgeTrayDistance"],"00DB":["FL","1","WedgeThinEdgePosition"],"00DC":["SH","1","BolusID"],"00DD":["ST","1","BolusDescription"],"00DE":["DS","1","EffectiveWedgeAngle"],"00E0":["IS","1","NumberOfCompensators"],"00E1":["SH","1","MaterialID"],"00E2":["DS","1","TotalCompensatorTrayFactor"],"00E3":["SQ","1","CompensatorSequence"],"00E4":["IS","1","CompensatorNumber"],"00E5":["SH","1","CompensatorID"],"00E6":["DS","1","SourceToCompensatorTrayDistance"],"00E7":["IS","1","CompensatorRows"],"00E8":["IS","1","CompensatorColumns"],"00E9":["DS","2","CompensatorPixelSpacing"],"00EA":["DS","2","CompensatorPosition"],"00EB":["DS","1-n","CompensatorTransmissionData"],"00EC":["DS","1-n","CompensatorThicknessData"],"00ED":["IS","1","NumberOfBoli"],"00EE":["CS","1","CompensatorType"],"00EF":["SH","1","CompensatorTrayID"],"00F0":["IS","1","NumberOfBlocks"],"00F2":["DS","1","TotalBlockTrayFactor"],"00F3":["FL","1","TotalBlockTrayWaterEquivalentThickness"],"00F4":["SQ","1","BlockSequence"],"00F5":["SH","1","BlockTrayID"],"00F6":["DS","1","SourceToBlockTrayDistance"],"00F7":["FL","1","IsocenterToBlockTrayDistance"],"00F8":["CS","1","BlockType"],"00F9":["LO","1","AccessoryCode"],"00FA":["CS","1","BlockDivergence"],"00FB":["CS","1","BlockMountingPosition"],"00FC":["IS","1","BlockNumber"],"00FE":["LO","1","BlockName"],"0100":["DS","1","BlockThickness"],"0102":["DS","1","BlockTransmission"],"0104":["IS","1","BlockNumberOfPoints"],"0106":["DS","2-2n","BlockData"],"0107":["SQ","1","ApplicatorSequence"],"0108":["SH","1","ApplicatorID"],"0109":["CS","1","ApplicatorType"],"010A":["LO","1","ApplicatorDescription"],"010C":["DS","1","CumulativeDoseReferenceCoefficient"],"010E":["DS","1","FinalCumulativeMetersetWeight"],"0110":["IS","1","NumberOfControlPoints"],"0111":["SQ","1","ControlPointSequence"],"0112":["IS","1","ControlPointIndex"],"0114":["DS","1","NominalBeamEnergy"],"0115":["DS","1","DoseRateSet"],"0116":["SQ","1","WedgePositionSequence"],"0118":["CS","1","WedgePosition"],"011A":["SQ","1","BeamLimitingDevicePositionSequence"],"011C":["DS","2-2n","LeafJawPositions"],"011E":["DS","1","GantryAngle"],"011F":["CS","1","GantryRotationDirection"],"0120":["DS","1","BeamLimitingDeviceAngle"],"0121":["CS","1","BeamLimitingDeviceRotationDirection"],"0122":["DS","1","PatientSupportAngle"],"0123":["CS","1","PatientSupportRotationDirection"],"0124":["DS","1","TableTopEccentricAxisDistance"],"0125":["DS","1","TableTopEccentricAngle"],"0126":["CS","1","TableTopEccentricRotationDirection"],"0128":["DS","1","TableTopVerticalPosition"],"0129":["DS","1","TableTopLongitudinalPosition"],"012A":["DS","1","TableTopLateralPosition"],"012C":["DS","3","IsocenterPosition"],"012E":["DS","3","SurfaceEntryPoint"],"0130":["DS","1","SourceToSurfaceDistance"],"0131":["FL","1","AverageBeamDosePointSourceToExternalContourDistance"],"0132":["FL","1","SourceToExternalContourDistance"],"0133":["FL","3","ExternalContourEntryPoint"],"0134":["DS","1","CumulativeMetersetWeight"],"0140":["FL","1","TableTopPitchAngle"],"0142":["CS","1","TableTopPitchRotationDirection"],"0144":["FL","1","TableTopRollAngle"],"0146":["CS","1","TableTopRollRotationDirection"],"0148":["FL","1","HeadFixationAngle"],"014A":["FL","1","GantryPitchAngle"],"014C":["CS","1","GantryPitchRotationDirection"],"014E":["FL","1","GantryPitchAngleTolerance"],"0150":["CS","1","FixationEye"],"0151":["DS","1","ChairHeadFramePosition"],"0152":["DS","1","HeadFixationAngleTolerance"],"0153":["DS","1","ChairHeadFramePositionTolerance"],"0154":["DS","1","FixationLightAzimuthalAngleTolerance"],"0155":["DS","1","FixationLightPolarAngleTolerance"],"0180":["SQ","1","PatientSetupSequence"],"0182":["IS","1","PatientSetupNumber"],"0183":["LO","1","PatientSetupLabel"],"0184":["LO","1","PatientAdditionalPosition"],"0190":["SQ","1","FixationDeviceSequence"],"0192":["CS","1","FixationDeviceType"],"0194":["SH","1","FixationDeviceLabel"],"0196":["ST","1","FixationDeviceDescription"],"0198":["SH","1","FixationDevicePosition"],"0199":["FL","1","FixationDevicePitchAngle"],"019A":["FL","1","FixationDeviceRollAngle"],"01A0":["SQ","1","ShieldingDeviceSequence"],"01A2":["CS","1","ShieldingDeviceType"],"01A4":["SH","1","ShieldingDeviceLabel"],"01A6":["ST","1","ShieldingDeviceDescription"],"01A8":["SH","1","ShieldingDevicePosition"],"01B0":["CS","1","SetupTechnique"],"01B2":["ST","1","SetupTechniqueDescription"],"01B4":["SQ","1","SetupDeviceSequence"],"01B6":["CS","1","SetupDeviceType"],"01B8":["SH","1","SetupDeviceLabel"],"01BA":["ST","1","SetupDeviceDescription"],"01BC":["DS","1","SetupDeviceParameter"],"01D0":["ST","1","SetupReferenceDescription"],"01D2":["DS","1","TableTopVerticalSetupDisplacement"],"01D4":["DS","1","TableTopLongitudinalSetupDisplacement"],"01D6":["DS","1","TableTopLateralSetupDisplacement"],"0200":["CS","1","BrachyTreatmentTechnique"],"0202":["CS","1","BrachyTreatmentType"],"0206":["SQ","1","TreatmentMachineSequence"],"0210":["SQ","1","SourceSequence"],"0212":["IS","1","SourceNumber"],"0214":["CS","1","SourceType"],"0216":["LO","1","SourceManufacturer"],"0218":["DS","1","ActiveSourceDiameter"],"021A":["DS","1","ActiveSourceLength"],"021B":["SH","1","SourceModelID"],"021C":["LO","1","SourceDescription"],"0222":["DS","1","SourceEncapsulationNominalThickness"],"0224":["DS","1","SourceEncapsulationNominalTransmission"],"0226":["LO","1","SourceIsotopeName"],"0228":["DS","1","SourceIsotopeHalfLife"],"0229":["CS","1","SourceStrengthUnits"],"022A":["DS","1","ReferenceAirKermaRate"],"022B":["DS","1","SourceStrength"],"022C":["DA","1","SourceStrengthReferenceDate"],"022E":["TM","1","SourceStrengthReferenceTime"],"0230":["SQ","1","ApplicationSetupSequence"],"0232":["CS","1","ApplicationSetupType"],"0234":["IS","1","ApplicationSetupNumber"],"0236":["LO","1","ApplicationSetupName"],"0238":["LO","1","ApplicationSetupManufacturer"],"0240":["IS","1","TemplateNumber"],"0242":["SH","1","TemplateType"],"0244":["LO","1","TemplateName"],"0250":["DS","1","TotalReferenceAirKerma"],"0260":["SQ","1","BrachyAccessoryDeviceSequence"],"0262":["IS","1","BrachyAccessoryDeviceNumber"],"0263":["SH","1","BrachyAccessoryDeviceID"],"0264":["CS","1","BrachyAccessoryDeviceType"],"0266":["LO","1","BrachyAccessoryDeviceName"],"026A":["DS","1","BrachyAccessoryDeviceNominalThickness"],"026C":["DS","1","BrachyAccessoryDeviceNominalTransmission"],"0271":["DS","1","ChannelEffectiveLength"],"0272":["DS","1","ChannelInnerLength"],"0273":["SH","1","AfterloaderChannelID"],"0274":["DS","1","SourceApplicatorTipLength"],"0280":["SQ","1","ChannelSequence"],"0282":["IS","1","ChannelNumber"],"0284":["DS","1","ChannelLength"],"0286":["DS","1","ChannelTotalTime"],"0288":["CS","1","SourceMovementType"],"028A":["IS","1","NumberOfPulses"],"028C":["DS","1","PulseRepetitionInterval"],"0290":["IS","1","SourceApplicatorNumber"],"0291":["SH","1","SourceApplicatorID"],"0292":["CS","1","SourceApplicatorType"],"0294":["LO","1","SourceApplicatorName"],"0296":["DS","1","SourceApplicatorLength"],"0298":["LO","1","SourceApplicatorManufacturer"],"029C":["DS","1","SourceApplicatorWallNominalThickness"],"029E":["DS","1","SourceApplicatorWallNominalTransmission"],"02A0":["DS","1","SourceApplicatorStepSize"],"02A1":["IS","1","ApplicatorShapeReferencedROINumber"],"02A2":["IS","1","TransferTubeNumber"],"02A4":["DS","1","TransferTubeLength"],"02B0":["SQ","1","ChannelShieldSequence"],"02B2":["IS","1","ChannelShieldNumber"],"02B3":["SH","1","ChannelShieldID"],"02B4":["LO","1","ChannelShieldName"],"02B8":["DS","1","ChannelShieldNominalThickness"],"02BA":["DS","1","ChannelShieldNominalTransmission"],"02C8":["DS","1","FinalCumulativeTimeWeight"],"02D0":["SQ","1","BrachyControlPointSequence"],"02D2":["DS","1","ControlPointRelativePosition"],"02D4":["DS","3","ControlPoint3DPosition"],"02D6":["DS","1","CumulativeTimeWeight"],"02E0":["CS","1","CompensatorDivergence"],"02E1":["CS","1","CompensatorMountingPosition"],"02E2":["DS","1-n","SourceToCompensatorDistance"],"02E3":["FL","1","TotalCompensatorTrayWaterEquivalentThickness"],"02E4":["FL","1","IsocenterToCompensatorTrayDistance"],"02E5":["FL","1","CompensatorColumnOffset"],"02E6":["FL","1-n","IsocenterToCompensatorDistances"],"02E7":["FL","1","CompensatorRelativeStoppingPowerRatio"],"02E8":["FL","1","CompensatorMillingToolDiameter"],"02EA":["SQ","1","IonRangeCompensatorSequence"],"02EB":["LT","1","CompensatorDescription"],"0302":["IS","1","RadiationMassNumber"],"0304":["IS","1","RadiationAtomicNumber"],"0306":["SS","1","RadiationChargeState"],"0308":["CS","1","ScanMode"],"0309":["CS","1","ModulatedScanModeType"],"030A":["FL","2","VirtualSourceAxisDistances"],"030C":["SQ","1","SnoutSequence"],"030D":["FL","1","SnoutPosition"],"030F":["SH","1","SnoutID"],"0312":["IS","1","NumberOfRangeShifters"],"0314":["SQ","1","RangeShifterSequence"],"0316":["IS","1","RangeShifterNumber"],"0318":["SH","1","RangeShifterID"],"0320":["CS","1","RangeShifterType"],"0322":["LO","1","RangeShifterDescription"],"0330":["IS","1","NumberOfLateralSpreadingDevices"],"0332":["SQ","1","LateralSpreadingDeviceSequence"],"0334":["IS","1","LateralSpreadingDeviceNumber"],"0336":["SH","1","LateralSpreadingDeviceID"],"0338":["CS","1","LateralSpreadingDeviceType"],"033A":["LO","1","LateralSpreadingDeviceDescription"],"033C":["FL","1","LateralSpreadingDeviceWaterEquivalentThickness"],"0340":["IS","1","NumberOfRangeModulators"],"0342":["SQ","1","RangeModulatorSequence"],"0344":["IS","1","RangeModulatorNumber"],"0346":["SH","1","RangeModulatorID"],"0348":["CS","1","RangeModulatorType"],"034A":["LO","1","RangeModulatorDescription"],"034C":["SH","1","BeamCurrentModulationID"],"0350":["CS","1","PatientSupportType"],"0352":["SH","1","PatientSupportID"],"0354":["LO","1","PatientSupportAccessoryCode"],"0355":["LO","1","TrayAccessoryCode"],"0356":["FL","1","FixationLightAzimuthalAngle"],"0358":["FL","1","FixationLightPolarAngle"],"035A":["FL","1","MetersetRate"],"0360":["SQ","1","RangeShifterSettingsSequence"],"0362":["LO","1","RangeShifterSetting"],"0364":["FL","1","IsocenterToRangeShifterDistance"],"0366":["FL","1","RangeShifterWaterEquivalentThickness"],"0370":["SQ","1","LateralSpreadingDeviceSettingsSequence"],"0372":["LO","1","LateralSpreadingDeviceSetting"],"0374":["FL","1","IsocenterToLateralSpreadingDeviceDistance"],"0380":["SQ","1","RangeModulatorSettingsSequence"],"0382":["FL","1","RangeModulatorGatingStartValue"],"0384":["FL","1","RangeModulatorGatingStopValue"],"0386":["FL","1","RangeModulatorGatingStartWaterEquivalentThickness"],"0388":["FL","1","RangeModulatorGatingStopWaterEquivalentThickness"],"038A":["FL","1","IsocenterToRangeModulatorDistance"],"038F":["FL","1-n","ScanSpotTimeOffset"],"0390":["SH","1","ScanSpotTuneID"],"0391":["IS","1-n","ScanSpotPrescribedIndices"],"0392":["IS","1","NumberOfScanSpotPositions"],"0393":["CS","1","ScanSpotReordered"],"0394":["FL","1-n","ScanSpotPositionMap"],"0395":["CS","1","ScanSpotReorderingAllowed"],"0396":["FL","1-n","ScanSpotMetersetWeights"],"0398":["FL","2","ScanningSpotSize"],"0399":["FL","2-2n","ScanSpotSizesDelivered"],"039A":["IS","1","NumberOfPaintings"],"03A0":["SQ","1","IonToleranceTableSequence"],"03A2":["SQ","1","IonBeamSequence"],"03A4":["SQ","1","IonBeamLimitingDeviceSequence"],"03A6":["SQ","1","IonBlockSequence"],"03A8":["SQ","1","IonControlPointSequence"],"03AA":["SQ","1","IonWedgeSequence"],"03AC":["SQ","1","IonWedgePositionSequence"],"0401":["SQ","1","ReferencedSetupImageSequence"],"0402":["ST","1","SetupImageComment"],"0410":["SQ","1","MotionSynchronizationSequence"],"0412":["FL","3","ControlPointOrientation"],"0420":["SQ","1","GeneralAccessorySequence"],"0421":["SH","1","GeneralAccessoryID"],"0422":["ST","1","GeneralAccessoryDescription"],"0423":["CS","1","GeneralAccessoryType"],"0424":["IS","1","GeneralAccessoryNumber"],"0425":["FL","1","SourceToGeneralAccessoryDistance"],"0426":["DS","1","IsocenterToGeneralAccessoryDistance"],"0431":["SQ","1","ApplicatorGeometrySequence"],"0432":["CS","1","ApplicatorApertureShape"],"0433":["FL","1","ApplicatorOpening"],"0434":["FL","1","ApplicatorOpeningX"],"0435":["FL","1","ApplicatorOpeningY"],"0436":["FL","1","SourceToApplicatorMountingPositionDistance"],"0440":["IS","1","NumberOfBlockSlabItems"],"0441":["SQ","1","BlockSlabSequence"],"0442":["DS","1","BlockSlabThickness"],"0443":["US","1","BlockSlabNumber"],"0450":["SQ","1","DeviceMotionControlSequence"],"0451":["CS","1","DeviceMotionExecutionMode"],"0452":["CS","1","DeviceMotionObservationMode"],"0453":["SQ","1","DeviceMotionParameterCodeSequence"],"0501":["FL","1","DistalDepthFraction"],"0502":["FL","1","DistalDepth"],"0503":["FL","2","NominalRangeModulationFractions"],"0504":["FL","2","NominalRangeModulatedRegionDepths"],"0505":["SQ","1","DepthDoseParametersSequence"],"0506":["SQ","1","DeliveredDepthDoseParametersSequence"],"0507":["FL","1","DeliveredDistalDepthFraction"],"0508":["FL","1","DeliveredDistalDepth"],"0509":["FL","2","DeliveredNominalRangeModulationFractions"],"0510":["FL","2","DeliveredNominalRangeModulatedRegionDepths"],"0511":["CS","1","DeliveredReferenceDoseDefinition"],"0512":["CS","1","ReferenceDoseDefinition"],"0600":["US","1","RTControlPointIndex"],"0601":["US","1","RadiationGenerationModeIndex"],"0602":["US","1","ReferencedDefinedDeviceIndex"],"0603":["US","1","RadiationDoseIdentificationIndex"],"0604":["US","1","NumberOfRTControlPoints"],"0605":["US","1","ReferencedRadiationGenerationModeIndex"],"0606":["US","1","TreatmentPositionIndex"],"0607":["US","1","ReferencedDeviceIndex"],"0608":["LO","1","TreatmentPositionGroupLabel"],"0609":["UI","1","TreatmentPositionGroupUID"],"060A":["SQ","1","TreatmentPositionGroupSequence"],"060B":["US","1","ReferencedTreatmentPositionIndex"],"060C":["US","1","ReferencedRadiationDoseIdentificationIndex"],"060D":["FD","1","RTAccessoryHolderWaterEquivalentThickness"],"060E":["US","1","ReferencedRTAccessoryHolderDeviceIndex"],"060F":["CS","1","RTAccessoryHolderSlotExistenceFlag"],"0610":["SQ","1","RTAccessoryHolderSlotSequence"],"0611":["LO","1","RTAccessoryHolderSlotID"],"0612":["FD","1","RTAccessoryHolderSlotDistance"],"0613":["FD","1","RTAccessorySlotDistance"],"0614":["SQ","1","RTAccessoryHolderDefinitionSequence"],"0615":["LO","1","RTAccessoryDeviceSlotID"],"0616":["SQ","1","RTRadiationSequence"],"0617":["SQ","1","RadiationDoseSequence"],"0618":["SQ","1","RadiationDoseIdentificationSequence"],"0619":["LO","1","RadiationDoseIdentificationLabel"],"061A":["CS","1","ReferenceDoseType"],"061B":["CS","1","PrimaryDoseValueIndicator"],"061C":["SQ","1","DoseValuesSequence"],"061D":["CS","1-n","DoseValuePurpose"],"061E":["FD","3","ReferenceDosePointCoordinates"],"061F":["SQ","1","RadiationDoseValuesParametersSequence"],"0620":["SQ","1","MetersetToDoseMappingSequence"],"0621":["SQ","1","ExpectedInVivoMeasurementValuesSequence"],"0622":["US","1","ExpectedInVivoMeasurementValueIndex"],"0623":["LO","1","RadiationDoseInVivoMeasurementLabel"],"0624":["FD","2","RadiationDoseCentralAxisDisplacement"],"0625":["FD","1","RadiationDoseValue"],"0626":["FD","1","RadiationDoseSourceToSkinDistance"],"0627":["FD","3","RadiationDoseMeasurementPointCoordinates"],"0628":["FD","1","RadiationDoseSourceToExternalContourDistance"],"0629":["SQ","1","RTToleranceSetSequence"],"062A":["LO","1","RTToleranceSetLabel"],"062B":["SQ","1","AttributeToleranceValuesSequence"],"062C":["FD","1","ToleranceValue"],"062D":["SQ","1","PatientSupportPositionToleranceSequence"],"062E":["FD","1","TreatmentTimeLimit"],"062F":["SQ","1","CArmPhotonElectronControlPointSequence"],"0630":["SQ","1","ReferencedRTRadiationSequence"],"0631":["SQ","1","ReferencedRTInstanceSequence"],"0632":["SQ","1","ReferencedRTPatientSetupSequence"],"0634":["FD","1","SourceToPatientSurfaceDistance"],"0635":["SQ","1","TreatmentMachineSpecialModeCodeSequence"],"0636":["US","1","IntendedNumberOfFractions"],"0637":["CS","1","RTRadiationSetIntent"],"0638":["CS","1","RTRadiationPhysicalAndGeometricContentDetailFlag"],"0639":["CS","1","RTRecordFlag"],"063A":["SQ","1","TreatmentDeviceIdentificationSequence"],"063B":["SQ","1","ReferencedRTPhysicianIntentSequence"],"063C":["FD","1","CumulativeMeterset"],"063D":["FD","1","DeliveryRate"],"063E":["SQ","1","DeliveryRateUnitSequence"],"063F":["SQ","1","TreatmentPositionSequence"],"0640":["FD","1","RadiationSourceAxisDistance"],"0641":["US","1","NumberOfRTBeamLimitingDevices"],"0642":["FD","1","RTBeamLimitingDeviceProximalDistance"],"0643":["FD","1","RTBeamLimitingDeviceDistalDistance"],"0644":["SQ","1","ParallelRTBeamDelimiterDeviceOrientationLabelCodeSequence"],"0645":["FD","1","BeamModifierOrientationAngle"],"0646":["SQ","1","FixedRTBeamDelimiterDeviceSequence"],"0647":["SQ","1","ParallelRTBeamDelimiterDeviceSequence"],"0648":["US","1","NumberOfParallelRTBeamDelimiters"],"0649":["FD","2-n","ParallelRTBeamDelimiterBoundaries"],"064A":["FD","2-n","ParallelRTBeamDelimiterPositions"],"064B":["FD","2","RTBeamLimitingDeviceOffset"],"064C":["SQ","1","RTBeamDelimiterGeometrySequence"],"064D":["SQ","1","RTBeamLimitingDeviceDefinitionSequence"],"064E":["CS","1","ParallelRTBeamDelimiterOpeningMode"],"064F":["CS","1-n","ParallelRTBeamDelimiterLeafMountingSide"],"0650":["UI","1","PatientSetupUID"],"0651":["SQ","1","WedgeDefinitionSequence"],"0652":["FD","1","RadiationBeamWedgeAngle"],"0653":["FD","1","RadiationBeamWedgeThinEdgeDistance"],"0654":["FD","1","RadiationBeamEffectiveWedgeAngle"],"0655":["US","1","NumberOfWedgePositions"],"0656":["SQ","1","RTBeamLimitingDeviceOpeningSequence"],"0657":["US","1","NumberOfRTBeamLimitingDeviceOpenings"],"0658":["SQ","1","RadiationDosimeterUnitSequence"],"0659":["SQ","1","RTDeviceDistanceReferenceLocationCodeSequence"],"065A":["SQ","1","RadiationDeviceConfigurationAndCommissioningKeySequence"],"065B":["SQ","1","PatientSupportPositionParameterSequence"],"065C":["CS","1","PatientSupportPositionSpecificationMethod"],"065D":["SQ","1","PatientSupportPositionDeviceParameterSequence"],"065E":["US","1","DeviceOrderIndex"],"065F":["US","1","PatientSupportPositionParameterOrderIndex"],"0660":["SQ","1","PatientSupportPositionDeviceToleranceSequence"],"0661":["US","1","PatientSupportPositionToleranceOrderIndex"],"0662":["SQ","1","CompensatorDefinitionSequence"],"0663":["CS","1","CompensatorMapOrientation"],"0664":["OF","1","CompensatorProximalThicknessMap"],"0665":["OF","1","CompensatorDistalThicknessMap"],"0666":["FD","1","CompensatorBasePlaneOffset"],"0667":["SQ","1","CompensatorShapeFabricationCodeSequence"],"0668":["SQ","1","CompensatorShapeSequence"],"0669":["FD","1","RadiationBeamCompensatorMillingToolDiameter"],"066A":["SQ","1","BlockDefinitionSequence"],"066B":["OF","1","BlockEdgeData"],"066C":["CS","1","BlockOrientation"],"066D":["FD","1","RadiationBeamBlockThickness"],"066E":["FD","1","RadiationBeamBlockSlabThickness"],"066F":["SQ","1","BlockEdgeDataSequence"],"0670":["US","1","NumberOfRTAccessoryHolders"],"0671":["SQ","1","GeneralAccessoryDefinitionSequence"],"0672":["US","1","NumberOfGeneralAccessories"],"0673":["SQ","1","BolusDefinitionSequence"],"0674":["US","1","NumberOfBoluses"],"0675":["UI","1","EquipmentFrameOfReferenceUID"],"0676":["ST","1","EquipmentFrameOfReferenceDescription"],"0677":["SQ","1","EquipmentReferencePointCoordinatesSequence"],"0678":["SQ","1","EquipmentReferencePointCodeSequence"],"0679":["FD","1","RTBeamLimitingDeviceAngle"],"067A":["FD","1","SourceRollAngle"],"067B":["SQ","1","RadiationGenerationModeSequence"],"067C":["SH","1","RadiationGenerationModeLabel"],"067D":["ST","1","RadiationGenerationModeDescription"],"067E":["SQ","1","RadiationGenerationModeMachineCodeSequence"],"067F":["SQ","1","RadiationTypeCodeSequence"],"0680":["DS","1","NominalEnergy"],"0681":["DS","1","MinimumNominalEnergy"],"0682":["DS","1","MaximumNominalEnergy"],"0683":["SQ","1","RadiationFluenceModifierCodeSequence"],"0684":["SQ","1","EnergyUnitCodeSequence"],"0685":["US","1","NumberOfRadiationGenerationModes"],"0686":["SQ","1","PatientSupportDevicesSequence"],"0687":["US","1","NumberOfPatientSupportDevices"],"0688":["FD","1","RTBeamModifierDefinitionDistance"],"0689":["SQ","1","BeamAreaLimitSequence"],"068A":["SQ","1","ReferencedRTPrescriptionSequence"],"0700":["UI","1","TreatmentSessionUID"],"0701":["CS","1","RTRadiationUsage"],"0702":["SQ","1","ReferencedRTRadiationSetSequence"],"0703":["SQ","1","ReferencedRTRadiationRecordSequence"],"0704":["US","1","RTRadiationSetDeliveryNumber"],"0705":["US","1","ClinicalFractionNumber"],"0706":["CS","1","RTTreatmentFractionCompletionStatus"],"0707":["CS","1","RTRadiationSetUsage"],"0708":["CS","1","TreatmentDeliveryContinuationFlag"],"0709":["CS","1","TreatmentRecordContentOrigin"],"0714":["CS","1","RTTreatmentTerminationStatus"],"0715":["SQ","1","RTTreatmentTerminationReasonCodeSequence"],"0716":["SQ","1","MachineSpecificTreatmentTerminationCodeSequence"],"0722":["SQ","1","RTRadiationSalvageRecordControlPointSequence"],"0723":["CS","1","StartingMetersetValueKnownFlag"],"0730":["ST","1","TreatmentTerminationDescription"],"0731":["SQ","1","TreatmentToleranceViolationSequence"],"0732":["CS","1","TreatmentToleranceViolationCategory"],"0733":["SQ","1","TreatmentToleranceViolationAttributeSequence"],"0734":["ST","1","TreatmentToleranceViolationDescription"],"0735":["ST","1","TreatmentToleranceViolationIdentification"],"0736":["DT","1","TreatmentToleranceViolationDateTime"],"073A":["DT","1","RecordedRTControlPointDateTime"],"073B":["US","1","ReferencedRadiationRTControlPointIndex"],"073E":["SQ","1","AlternateValueSequence"],"073F":["SQ","1","ConfirmationSequence"],"0740":["SQ","1","InterlockSequence"],"0741":["DT","1","InterlockDateTime"],"0742":["ST","1","InterlockDescription"],"0743":["SQ","1","InterlockOriginatingDeviceSequence"],"0744":["SQ","1","InterlockCodeSequence"],"0745":["SQ","1","InterlockResolutionCodeSequence"],"0746":["SQ","1","InterlockResolutionUserSequence"],"0760":["DT","1","OverrideDateTime"],"0761":["SQ","1","TreatmentToleranceViolationTypeCodeSequence"],"0762":["SQ","1","TreatmentToleranceViolationCauseCodeSequence"],"0772":["SQ","1","MeasuredMetersetToDoseMappingSequence"],"0773":["US","1","ReferencedExpectedInVivoMeasurementValueIndex"],"0774":["SQ","1","DoseMeasurementDeviceCodeSequence"],"0780":["SQ","1","AdditionalParameterRecordingInstanceSequence"],"0782":["US","1",""],"0783":["ST","1","InterlockOriginDescription"],"0784":["SQ","1","RTPatientPositionScopeSequence"],"0785":["UI","1","ReferencedTreatmentPositionGroupUID"],"0786":["US","1","RadiationOrderIndex"],"0787":["SQ","1","OmittedRadiationSequence"],"0788":["SQ","1","ReasonForOmissionCodeSequence"],"0789":["SQ","1","RTDeliveryStartPatientPositionSequence"],"078A":["SQ","1","RTTreatmentPreparationPatientPositionSequence"],"078B":["SQ","1","ReferencedRTTreatmentPreparationSequence"],"078C":["SQ","1","ReferencedPatientSetupPhotoSequence"],"078D":["SQ","1","PatientTreatmentPreparationMethodCodeSequence"],"078E":["LT","1","PatientTreatmentPreparationProcedureParameterDescription"],"078F":["SQ","1","PatientTreatmentPreparationDeviceSequence"],"0790":["SQ","1","PatientTreatmentPreparationProcedureSequence"],"0791":["SQ","1","PatientTreatmentPreparationProcedureCodeSequence"],"0792":["LT","1","PatientTreatmentPreparationMethodDescription"],"0793":["SQ","1","PatientTreatmentPreparationProcedureParameterSequence"],"0794":["LT","1","PatientSetupPhotoDescription"],"0795":["US","1","PatientTreatmentPreparationProcedureIndex"],"0796":["US","1","ReferencedPatientSetupProcedureIndex"],"0797":["SQ","1","RTRadiationTaskSequence"],"0798":["SQ","1","RTPatientPositionDisplacementSequence"],"0799":["SQ","1","RTPatientPositionSequence"],"079A":["LO","1","DisplacementReferenceLabel"],"079B":["FD","16","DisplacementMatrix"],"079C":["SQ","1","PatientSupportDisplacementSequence"],"079D":["SQ","1","DisplacementReferenceLocationCodeSequence"],"079E":["CS","1","RTRadiationSetDeliveryUsage"]},"300C":{"0000":["UL","1","GenericGroupLength"],"0002":["SQ","1","ReferencedRTPlanSequence"],"0004":["SQ","1","ReferencedBeamSequence"],"0006":["IS","1","ReferencedBeamNumber"],"0007":["IS","1","ReferencedReferenceImageNumber"],"0008":["DS","1","StartCumulativeMetersetWeight"],"0009":["DS","1","EndCumulativeMetersetWeight"],"000A":["SQ","1","ReferencedBrachyApplicationSetupSequence"],"000C":["IS","1","ReferencedBrachyApplicationSetupNumber"],"000E":["IS","1","ReferencedSourceNumber"],"0020":["SQ","1","ReferencedFractionGroupSequence"],"0022":["IS","1","ReferencedFractionGroupNumber"],"0040":["SQ","1","ReferencedVerificationImageSequence"],"0042":["SQ","1","ReferencedReferenceImageSequence"],"0050":["SQ","1","ReferencedDoseReferenceSequence"],"0051":["IS","1","ReferencedDoseReferenceNumber"],"0055":["SQ","1","BrachyReferencedDoseReferenceSequence"],"0060":["SQ","1","ReferencedStructureSetSequence"],"006A":["IS","1","ReferencedPatientSetupNumber"],"0080":["SQ","1","ReferencedDoseSequence"],"00A0":["IS","1","ReferencedToleranceTableNumber"],"00B0":["SQ","1","ReferencedBolusSequence"],"00C0":["IS","1","ReferencedWedgeNumber"],"00D0":["IS","1","ReferencedCompensatorNumber"],"00E0":["IS","1","ReferencedBlockNumber"],"00F0":["IS","1","ReferencedControlPointIndex"],"00F2":["SQ","1","ReferencedControlPointSequence"],"00F4":["IS","1","ReferencedStartControlPointIndex"],"00F6":["IS","1","ReferencedStopControlPointIndex"],"0100":["IS","1","ReferencedRangeShifterNumber"],"0102":["IS","1","ReferencedLateralSpreadingDeviceNumber"],"0104":["IS","1","ReferencedRangeModulatorNumber"],"0111":["SQ","1","OmittedBeamTaskSequence"],"0112":["CS","1","ReasonForOmission"],"0113":["LO","1","ReasonForOmissionDescription"],"0114":["SQ","1","PrescriptionOverviewSequence"],"0115":["FL","1","TotalPrescriptionDose"],"0116":["SQ","1","PlanOverviewSequence"],"0117":["US","1","PlanOverviewIndex"],"0118":["US","1","ReferencedPlanOverviewIndex"],"0119":["US","1","NumberOfFractionsIncluded"],"0120":["SQ","1","DoseCalibrationConditionsSequence"],"0121":["FD","1","AbsorbedDoseToMetersetRatio"],"0122":["FD","2","DelineatedRadiationFieldSize"],"0123":["CS","1","DoseCalibrationConditionsVerifiedFlag"],"0124":["FD","1","CalibrationReferencePointDepth"],"0125":["SQ","1","GatingBeamHoldTransitionSequence"],"0126":["CS","1","BeamHoldTransition"],"0127":["DT","1","BeamHoldTransitionDateTime"],"0128":["SQ","1","BeamHoldOriginatingDeviceSequence"]},"300E":{"0000":["UL","1","GenericGroupLength"],"0002":["CS","1","ApprovalStatus"],"0004":["DA","1","ReviewDate"],"0005":["TM","1","ReviewTime"],"0008":["PN","1","ReviewerName"]},3010:{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","RadiobiologicalDoseEffectSequence"],"0002":["CS","1","RadiobiologicalDoseEffectFlag"],"0003":["SQ","1","EffectiveDoseCalculationMethodCategoryCodeSequence"],"0004":["SQ","1","EffectiveDoseCalculationMethodCodeSequence"],"0005":["LO","1","EffectiveDoseCalculationMethodDescription"],"0006":["UI","1","ConceptualVolumeUID"],"0007":["SQ","1","OriginatingSOPInstanceReferenceSequence"],"0008":["SQ","1","ConceptualVolumeConstituentSequence"],"0009":["SQ","1","EquivalentConceptualVolumeInstanceReferenceSequence"],"000A":["SQ","1","EquivalentConceptualVolumesSequence"],"000B":["UI","1","ReferencedConceptualVolumeUID"],"000C":["UT","1","ConceptualVolumeCombinationExpression"],"000D":["US","1","ConceptualVolumeConstituentIndex"],"000E":["CS","1","ConceptualVolumeCombinationFlag"],"000F":["ST","1","ConceptualVolumeCombinationDescription"],"0010":["CS","1","ConceptualVolumeSegmentationDefinedFlag"],"0011":["SQ","1","ConceptualVolumeSegmentationReferenceSequence"],"0012":["SQ","1","ConceptualVolumeConstituentSegmentationReferenceSequence"],"0013":["UI","1","ConstituentConceptualVolumeUID"],"0014":["SQ","1","DerivationConceptualVolumeSequence"],"0015":["UI","1","SourceConceptualVolumeUID"],"0016":["SQ","1","ConceptualVolumeDerivationAlgorithmSequence"],"0017":["ST","1","ConceptualVolumeDescription"],"0018":["SQ","1","SourceConceptualVolumeSequence"],"0019":["SQ","1","AuthorIdentificationSequence"],"001A":["LO","1","ManufacturerModelVersion"],"001B":["UC","1","DeviceAlternateIdentifier"],"001C":["CS","1","DeviceAlternateIdentifierType"],"001D":["LT","1","DeviceAlternateIdentifierFormat"],"001E":["LO","1","SegmentationCreationTemplateLabel"],"001F":["UI","1","SegmentationTemplateUID"],"0020":["US","1","ReferencedSegmentReferenceIndex"],"0021":["SQ","1","SegmentReferenceSequence"],"0022":["US","1","SegmentReferenceIndex"],"0023":["SQ","1","DirectSegmentReferenceSequence"],"0024":["SQ","1","CombinationSegmentReferenceSequence"],"0025":["SQ","1","ConceptualVolumeSequence"],"0026":["SQ","1","SegmentedRTAccessoryDeviceSequence"],"0027":["SQ","1","SegmentCharacteristicsSequence"],"0028":["SQ","1","RelatedSegmentCharacteristicsSequence"],"0029":["US","1","SegmentCharacteristicsPrecedence"],"002A":["SQ","1","RTSegmentAnnotationSequence"],"002B":["SQ","1","SegmentAnnotationCategoryCodeSequence"],"002C":["SQ","1","SegmentAnnotationTypeCodeSequence"],"002D":["LO","1","DeviceLabel"],"002E":["SQ","1","DeviceTypeCodeSequence"],"002F":["SQ","1","SegmentAnnotationTypeModifierCodeSequence"],"0030":["SQ","1","PatientEquipmentRelationshipCodeSequence"],"0031":["UI","1","ReferencedFiducialsUID"],"0032":["SQ","1","PatientTreatmentOrientationSequence"],"0033":["SH","1","UserContentLabel"],"0034":["LO","1","UserContentLongLabel"],"0035":["SH","1","EntityLabel"],"0036":["LO","1","EntityName"],"0037":["ST","1","EntityDescription"],"0038":["LO","1","EntityLongLabel"],"0039":["US","1","DeviceIndex"],"003A":["US","1","RTTreatmentPhaseIndex"],"003B":["UI","1","RTTreatmentPhaseUID"],"003C":["US","1","RTPrescriptionIndex"],"003D":["US","1","RTSegmentAnnotationIndex"],"003E":["US","1","BasisRTTreatmentPhaseIndex"],"003F":["US","1","RelatedRTTreatmentPhaseIndex"],"0040":["US","1","ReferencedRTTreatmentPhaseIndex"],"0041":["US","1","ReferencedRTPrescriptionIndex"],"0042":["US","1","ReferencedParentRTPrescriptionIndex"],"0043":["ST","1","ManufacturerDeviceIdentifier"],"0044":["SQ","1","InstanceLevelReferencedPerformedProcedureStepSequence"],"0045":["CS","1","RTTreatmentPhaseIntentPresenceFlag"],"0046":["CS","1","RadiotherapyTreatmentType"],"0047":["CS","1-n","TeletherapyRadiationType"],"0048":["CS","1-n","BrachytherapySourceType"],"0049":["SQ","1","ReferencedRTTreatmentPhaseSequence"],"004A":["SQ","1","ReferencedDirectSegmentInstanceSequence"],"004B":["SQ","1","IntendedRTTreatmentPhaseSequence"],"004C":["DA","1","IntendedPhaseStartDate"],"004D":["DA","1","IntendedPhaseEndDate"],"004E":["SQ","1","RTTreatmentPhaseIntervalSequence"],"004F":["CS","1","TemporalRelationshipIntervalAnchor"],"0050":["FD","1","MinimumNumberOfIntervalDays"],"0051":["FD","1","MaximumNumberOfIntervalDays"],"0052":["UI","1-n","PertinentSOPClassesInStudy"],"0053":["UI","1-n","PertinentSOPClassesInSeries"],"0054":["LO","1","RTPrescriptionLabel"],"0055":["SQ","1","RTPhysicianIntentPredecessorSequence"],"0056":["LO","1","RTTreatmentApproachLabel"],"0057":["SQ","1","RTPhysicianIntentSequence"],"0058":["US","1","RTPhysicianIntentIndex"],"0059":["CS","1","RTTreatmentIntentType"],"005A":["UT","1","RTPhysicianIntentNarrative"],"005B":["SQ","1","RTProtocolCodeSequence"],"005C":["ST","1","ReasonForSuperseding"],"005D":["SQ","1","RTDiagnosisCodeSequence"],"005E":["US","1","ReferencedRTPhysicianIntentIndex"],"005F":["SQ","1","RTPhysicianIntentInputInstanceSequence"],"0060":["SQ","1","RTAnatomicPrescriptionSequence"],"0061":["UT","1","PriorTreatmentDoseDescription"],"0062":["SQ","1","PriorTreatmentReferenceSequence"],"0063":["CS","1","DosimetricObjectiveEvaluationScope"],"0064":["SQ","1","TherapeuticRoleCategoryCodeSequence"],"0065":["SQ","1","TherapeuticRoleTypeCodeSequence"],"0066":["US","1","ConceptualVolumeOptimizationPrecedence"],"0067":["SQ","1","ConceptualVolumeCategoryCodeSequence"],"0068":["CS","1","ConceptualVolumeBlockingConstraint"],"0069":["SQ","1","ConceptualVolumeTypeCodeSequence"],"006A":["SQ","1","ConceptualVolumeTypeModifierCodeSequence"],"006B":["SQ","1","RTPrescriptionSequence"],"006C":["SQ","1","DosimetricObjectiveSequence"],"006D":["SQ","1","DosimetricObjectiveTypeCodeSequence"],"006E":["UI","1","DosimetricObjectiveUID"],"006F":["UI","1","ReferencedDosimetricObjectiveUID"],"0070":["SQ","1","DosimetricObjectiveParameterSequence"],"0071":["SQ","1","ReferencedDosimetricObjectivesSequence"],"0073":["CS","1","AbsoluteDosimetricObjectiveFlag"],"0074":["FD","1","DosimetricObjectiveWeight"],"0075":["CS","1","DosimetricObjectivePurpose"],"0076":["SQ","1","PlanningInputInformationSequence"],"0077":["LO","1","TreatmentSite"],"0078":["SQ","1","TreatmentSiteCodeSequence"],"0079":["SQ","1","FractionPatternSequence"],"007A":["UT","1","TreatmentTechniqueNotes"],"007B":["UT","1","PrescriptionNotes"],"007C":["IS","1","NumberOfIntervalFractions"],"007D":["US","1","NumberOfFractions"],"007E":["US","1","IntendedDeliveryDuration"],"007F":["UT","1","FractionationNotes"],"0080":["SQ","1","RTTreatmentTechniqueCodeSequence"],"0081":["SQ","1","PrescriptionNotesSequence"],"0082":["SQ","1","FractionBasedRelationshipSequence"],"0083":["CS","1","FractionBasedRelationshipIntervalAnchor"],"0084":["FD","1","MinimumHoursBetweenFractions"],"0085":["TM","1-n","IntendedFractionStartTime"],"0086":["LT","1","IntendedStartDayOfWeek"],"0087":["SQ","1","WeekdayFractionPatternSequence"],"0088":["SQ","1","DeliveryTimeStructureCodeSequence"],"0089":["SQ","1","TreatmentSiteModifierCodeSequence"],"0090":["CS","1","RoboticBaseLocationIndicator"],"0091":["SQ","1","RoboticPathNodeSetCodeSequence"],"0092":["UL","1","RoboticNodeIdentifier"],"0093":["FD","3","RTTreatmentSourceCoordinates"],"0094":["FD","1","RadiationSourceCoordinateSystemYawAngle"],"0095":["FD","1","RadiationSourceCoordinateSystemRollAngle"],"0096":["FD","1","RadiationSourceCoordinateSystemPitchAngle"],"0097":["SQ","1","RoboticPathControlPointSequence"],"0098":["SQ","1","TomotherapeuticControlPointSequence"],"0099":["FD","1-n","TomotherapeuticLeafOpenDurations"],"009A":["FD","1-n","TomotherapeuticLeafInitialClosedDurations"]},4e3:{"0000":["UL","1","GenericGroupLength"],"0010":["LT","1","Arbitrary"],4e3:["LT","1","TextComments"]},4008:{"0000":["UL","1","GenericGroupLength"],"0040":["SH","1","ResultsID"],"0042":["LO","1","ResultsIDIssuer"],"0050":["SQ","1","ReferencedInterpretationSequence"],"00FF":["CS","1","ReportProductionStatusTrial"],"0100":["DA","1","InterpretationRecordedDate"],"0101":["TM","1","InterpretationRecordedTime"],"0102":["PN","1","InterpretationRecorder"],"0103":["LO","1","ReferenceToRecordedSound"],"0108":["DA","1","InterpretationTranscriptionDate"],"0109":["TM","1","InterpretationTranscriptionTime"],"010A":["PN","1","InterpretationTranscriber"],"010B":["ST","1","InterpretationText"],"010C":["PN","1","InterpretationAuthor"],"0111":["SQ","1","InterpretationApproverSequence"],"0112":["DA","1","InterpretationApprovalDate"],"0113":["TM","1","InterpretationApprovalTime"],"0114":["PN","1","PhysicianApprovingInterpretation"],"0115":["LT","1","InterpretationDiagnosisDescription"],"0117":["SQ","1","InterpretationDiagnosisCodeSequence"],"0118":["SQ","1","ResultsDistributionListSequence"],"0119":["PN","1","DistributionName"],"011A":["LO","1","DistributionAddress"],"0200":["SH","1","InterpretationID"],"0202":["LO","1","InterpretationIDIssuer"],"0210":["CS","1","InterpretationTypeID"],"0212":["CS","1","InterpretationStatusID"],"0300":["ST","1","Impressions"],4e3:["ST","1","ResultsComments"]},4010:{"0000":["UL","1","GenericGroupLength"],"0001":["CS","1","LowEnergyDetectors"],"0002":["CS","1","HighEnergyDetectors"],"0004":["SQ","1","DetectorGeometrySequence"],1001:["SQ","1","ThreatROIVoxelSequence"],1004:["FL","3","ThreatROIBase"],1005:["FL","3","ThreatROIExtents"],1006:["OB","1","ThreatROIBitmap"],1007:["SH","1","RouteSegmentID"],1008:["CS","1","GantryType"],1009:["CS","1","OOIOwnerType"],"100A":["SQ","1","RouteSegmentSequence"],1010:["US","1","PotentialThreatObjectID"],1011:["SQ","1","ThreatSequence"],1012:["CS","1","ThreatCategory"],1013:["LT","1","ThreatCategoryDescription"],1014:["CS","1","ATDAbilityAssessment"],1015:["CS","1","ATDAssessmentFlag"],1016:["FL","1","ATDAssessmentProbability"],1017:["FL","1","Mass"],1018:["FL","1","Density"],1019:["FL","1","ZEffective"],"101A":["SH","1","BoardingPassID"],"101B":["FL","3","CenterOfMass"],"101C":["FL","3","CenterOfPTO"],"101D":["FL","6-n","BoundingPolygon"],"101E":["SH","1","RouteSegmentStartLocationID"],"101F":["SH","1","RouteSegmentEndLocationID"],1020:["CS","1","RouteSegmentLocationIDType"],1021:["CS","1-n","AbortReason"],1023:["FL","1","VolumeOfPTO"],1024:["CS","1","AbortFlag"],1025:["DT","1","RouteSegmentStartTime"],1026:["DT","1","RouteSegmentEndTime"],1027:["CS","1","TDRType"],1028:["CS","1","InternationalRouteSegment"],1029:["LO","1-n","ThreatDetectionAlgorithmAndVersion"],"102A":["SH","1","AssignedLocation"],"102B":["DT","1","AlarmDecisionTime"],1031:["CS","1","AlarmDecision"],1033:["US","1","NumberOfTotalObjects"],1034:["US","1","NumberOfAlarmObjects"],1037:["SQ","1","PTORepresentationSequence"],1038:["SQ","1","ATDAssessmentSequence"],1039:["CS","1","TIPType"],"103A":["CS","1","DICOSVersion"],1041:["DT","1","OOIOwnerCreationTime"],1042:["CS","1","OOIType"],1043:["FL","3","OOISize"],1044:["CS","1","AcquisitionStatus"],1045:["SQ","1","BasisMaterialsCodeSequence"],1046:["CS","1","PhantomType"],1047:["SQ","1","OOIOwnerSequence"],1048:["CS","1","ScanType"],1051:["LO","1","ItineraryID"],1052:["SH","1","ItineraryIDType"],1053:["LO","1","ItineraryIDAssigningAuthority"],1054:["SH","1","RouteID"],1055:["SH","1","RouteIDAssigningAuthority"],1056:["CS","1","InboundArrivalType"],1058:["SH","1","CarrierID"],1059:["CS","1","CarrierIDAssigningAuthority"],1060:["FL","3","SourceOrientation"],1061:["FL","3","SourcePosition"],1062:["FL","1","BeltHeight"],1064:["SQ","1","AlgorithmRoutingCodeSequence"],1067:["CS","1","TransportClassification"],1068:["LT","1","OOITypeDescriptor"],1069:["FL","1","TotalProcessingTime"],"106C":["OB","1","DetectorCalibrationData"],"106D":["CS","1","AdditionalScreeningPerformed"],"106E":["CS","1","AdditionalInspectionSelectionCriteria"],"106F":["SQ","1","AdditionalInspectionMethodSequence"],1070:["CS","1","AITDeviceType"],1071:["SQ","1","QRMeasurementsSequence"],1072:["SQ","1","TargetMaterialSequence"],1073:["FD","1","SNRThreshold"],1075:["DS","1","ImageScaleRepresentation"],1076:["SQ","1","ReferencedPTOSequence"],1077:["SQ","1","ReferencedTDRInstanceSequence"],1078:["ST","1","PTOLocationDescription"],1079:["SQ","1","AnomalyLocatorIndicatorSequence"],"107A":["FL","3","AnomalyLocatorIndicator"],"107B":["SQ","1","PTORegionSequence"],"107C":["CS","1","InspectionSelectionCriteria"],"107D":["SQ","1","SecondaryInspectionMethodSequence"],"107E":["DS","6","PRCSToRCSOrientation"]},"4FFE":{"0000":["UL","1","GenericGroupLength"],"0001":["SQ","1","MACParametersSequence"]},5e3:{"0000":["UL","1","GenericGroupLength"],"0005":["US","1","CurveDimensions"],"0010":["US","1","NumberOfPoints"],"0020":["CS","1","TypeOfData"],"0022":["LO","1","CurveDescription"],"0030":["SH","1-n","AxisUnits"],"0040":["SH","1-n","AxisLabels"],"0103":["US","1","DataValueRepresentation"],"0104":["US","1-n","MinimumCoordinateValue"],"0105":["US","1-n","MaximumCoordinateValue"],"0106":["SH","1-n","CurveRange"],"0110":["US","1-n","CurveDataDescriptor"],"0112":["US","1-n","CoordinateStartValue"],"0114":["US","1-n","CoordinateStepValue"],1001:["CS","1","CurveActivationLayer"],2e3:["US","1","AudioType"],2002:["US","1","AudioSampleFormat"],2004:["US","1","NumberOfChannels"],2006:["UL","1","NumberOfSamples"],2008:["UL","1","SampleRate"],"200A":["UL","1","TotalTime"],"200C":["ox","1","AudioSampleData"],"200E":["LT","1","AudioComments"],2500:["LO","1","CurveLabel"],2600:["SQ","1","CurveReferencedOverlaySequence"],2610:["US","1","CurveReferencedOverlayGroup"],3e3:["ox","1","CurveData"]},5200:{"0000":["UL","1","GenericGroupLength"],9229:["SQ","1","SharedFunctionalGroupsSequence"],9230:["SQ","1","PerFrameFunctionalGroupsSequence"]},5400:{"0000":["UL","1","GenericGroupLength"],"0100":["SQ","1","WaveformSequence"],"0110":["ox","1","ChannelMinimumValue"],"0112":["ox","1","ChannelMaximumValue"],1004:["US","1","WaveformBitsAllocated"],1006:["CS","1","WaveformSampleInterpretation"],"100A":["ox","1","WaveformPaddingValue"],1010:["ox","1","WaveformData"]},5600:{"0000":["UL","1","GenericGroupLength"],"0010":["OF","1","FirstOrderPhaseCorrectionAngle"],"0020":["OF","1","SpectroscopyData"]},6e3:{"0000":["UL","1","GenericGroupLength"],"0010":["US","1","OverlayRows"],"0011":["US","1","OverlayColumns"],"0012":["US","1","OverlayPlanes"],"0015":["IS","1","NumberOfFramesInOverlay"],"0022":["LO","1","OverlayDescription"],"0040":["CS","1","OverlayType"],"0045":["LO","1","OverlaySubtype"],"0050":["SS","2","OverlayOrigin"],"0051":["US","1","ImageFrameOrigin"],"0052":["US","1","OverlayPlaneOrigin"],"0060":["CS","1","OverlayCompressionCode"],"0061":["SH","1","OverlayCompressionOriginator"],"0062":["SH","1","OverlayCompressionLabel"],"0063":["CS","1","OverlayCompressionDescription"],"0066":["AT","1-n","OverlayCompressionStepPointers"],"0068":["US","1","OverlayRepeatInterval"],"0069":["US","1","OverlayBitsGrouped"],"0100":["US","1","OverlayBitsAllocated"],"0102":["US","1","OverlayBitPosition"],"0110":["CS","1","OverlayFormat"],"0200":["US","1","OverlayLocation"],"0800":["CS","1-n","OverlayCodeLabel"],"0802":["US","1","OverlayNumberOfTables"],"0803":["AT","1-n","OverlayCodeTableLocation"],"0804":["US","1","OverlayBitsForCodeWord"],1001:["CS","1","OverlayActivationLayer"],1100:["US","1","OverlayDescriptorGray"],1101:["US","1","OverlayDescriptorRed"],1102:["US","1","OverlayDescriptorGreen"],1103:["US","1","OverlayDescriptorBlue"],1200:["US","1-n","OverlaysGray"],1201:["US","1-n","OverlaysRed"],1202:["US","1-n","OverlaysGreen"],1203:["US","1-n","OverlaysBlue"],1301:["IS","1","ROIArea"],1302:["DS","1","ROIMean"],1303:["DS","1","ROIStandardDeviation"],1500:["LO","1","OverlayLabel"],3e3:["ox","1","OverlayData"],4e3:["LT","1","OverlayComments"]},"7F00":{"0000":["UL","1","GenericGroupLength"],"0010":["ox","1","VariablePixelData"],"0011":["US","1","VariableNextDataGroup"],"0020":["OW","1","VariableCoefficientsSDVN"],"0030":["OW","1","VariableCoefficientsSDHN"],"0040":["OW","1","VariableCoefficientsSDDN"]},"7FE0":{"0000":["UL","1","GenericGroupLength"],"0001":["OV","1","ExtendedOffsetTable"],"0002":["OV","1","ExtendedOffsetTableLengths"],"0008":["OF","1","FloatPixelData"],"0009":["OD","1","DoubleFloatPixelData"],"0010":["ox","1","PixelData"],"0020":["OW","1","CoefficientsSDVN"],"0030":["OW","1","CoefficientsSDHN"],"0040":["OW","1","CoefficientsSDDN"]},FFFA:{"0000":["UL","1","GenericGroupLength"],FFFA:["SQ","1","DigitalSignaturesSequence"]},FFFC:{"0000":["UL","1","GenericGroupLength"],FFFC:["OB","1","DataSetTrailingPadding"]},FFFE:{"0000":["UL","1","GenericGroupLength"],E000:["NONE","1","Item"],E00D:["NONE","1","ItemDelimitationItem"],E0DD:["NONE","1","SequenceDelimitationItem"]}},HP={"0000":"Command","0002":"Meta Element","0004":"File Set","0008":"Identifying","0009":"SPI Identifying","0010":"Patient","0012":"Clinical Trial","0018":"Acquisition","0019":"SPI Acquisition","0020":"Image","0021":"SPI Image","0022":"Ophtalmology","0028":"Image Presentation","0032":"Study","0038":"Visit","003A":"Waveform","0040":"Procedure","0042":"Encapsulated Document","0050":"Device Informations","0054":"Nuclear Medicine","0060":"Histogram","0070":"Presentation State","0072":"Hanging Protocol","0088":"Storage","0100":"Authorization","0400":"Digital Signature",1e3:"Code Table",1010:"Zonal Map",2e3:"Film Session",2010:"Film Box",2020:"Image Box",2030:"Annotation",2040:"Overlay Box",2050:"Presentation LUT",2100:"Print Job",2110:"Printer",2120:"Queue",2130:"Print Content",2200:"Media Creation",3002:"RT Image",3004:"RT Dose",3006:"RT StructureSet",3008:"RT Treatment","300A":"RT Plan","300C":"RT Relationship","300E":"RT Approval",4e3:"Text",4008:"Results","4FFE":"MAC Parameters",5e3:"Curve",5002:"Curve",5004:"Curve",5006:"Curve",5008:"Curve","500A":"Curve","500C":"Curve","500E":"Curve",5400:"Waveform Data",6e3:"Overlays",6002:"Overlays",6004:"Overlays",6008:"Overlays","600A":"Overlays","600C":"Overlays","600E":"Overlays",FFFC:"Generic","7FE0":"Pixel Data",FFFF:"Unknown"},jP={OB:!0,OD:!0,OF:!0,OL:!0,OV:!0,OW:!0,SQ:!0,SV:!0,UC:!0,UN:!0,UR:!0,UT:!0,UV:!0,ox:!0};function YP(n){return jP[n]!==void 0}const XP={SH:!0,LO:!0,UC:!0,ST:!0,LT:!0,UT:!0,PN:!0};function WP(n){return XP[n]!==void 0}const ab={AE:"string",AS:"string",AT:void 0,CS:"string",DA:"string",DS:"string",DT:"string",FL:"Float32",FD:"Float64",IS:"string",LO:"string",LT:"string",OB:"Uint8",OD:"Uint64",OF:"Uint32",OL:"Uint32",OV:"Uint64",OW:"Uint16",PN:"string",SH:"string",SL:"Int32",SQ:void 0,SS:"Int16",ST:"string",SV:"Int64",TM:"string",UC:"string",UI:"string",UL:"Uint32",UN:"Uint8",UR:"string",US:"Uint16",UT:"string",UV:"Uint64"},ob={"1.2.840.10008.1.2":"Implicit VR Little Endian","1.2.840.10008.1.2.1":"Explicit VR Little Endian","1.2.840.10008.1.2.1.98":"Encapsulated Uncompressed Explicit VR Little Endian","1.2.840.10008.1.2.1.99":"Deflated Explicit VR Little Endian","1.2.840.10008.1.2.2":"Explicit VR Big Endian (Retired)","1.2.840.10008.1.2.4.50":"JPEG Baseline (Process 1)","1.2.840.10008.1.2.4.51":"JPEG Extended (Process 2 & 4)","1.2.840.10008.1.2.4.52":"JPEG Extended (Process 3 & 5) (Retired)","1.2.840.10008.1.2.4.53":"JPEG Spectral Selection, Non-Hierarchical (Process 6 & 8) (Retired)","1.2.840.10008.1.2.4.54":"JPEG Spectral Selection, Non-Hierarchical (Process 7 & 9) (Retired)","1.2.840.10008.1.2.4.55":"JPEG Full Progression, Non-Hierarchical (Process 10 & 12) (Retired)","1.2.840.10008.1.2.4.56":"JPEG Full Progression, Non-Hierarchical (Process 11 & 13) (Retired)","1.2.840.10008.1.2.4.57":"JPEG Lossless, Non-Hierarchical (Process 14)","1.2.840.10008.1.2.4.58":"JPEG Lossless, Non-Hierarchical (Process 15) (Retired)","1.2.840.10008.1.2.4.59":"JPEG Extended, Hierarchical (Process 16 & 18) (Retired)","1.2.840.10008.1.2.4.60":"JPEG Extended, Hierarchical (Process 17 & 19) (Retired)","1.2.840.10008.1.2.4.61":"JPEG Spectral Selection, Hierarchical (Process 20 & 22) (Retired)","1.2.840.10008.1.2.4.62":"JPEG Spectral Selection, Hierarchical (Process 21 & 23) (Retired)","1.2.840.10008.1.2.4.63":"JPEG Full Progression, Hierarchical (Process 24 & 26) (Retired)","1.2.840.10008.1.2.4.64":"JPEG Full Progression, Hierarchical (Process 25 & 27) (Retired)","1.2.840.10008.1.2.4.65":"JPEG Lossless, Hierarchical (Process 28) (Retired)","1.2.840.10008.1.2.4.66":"JPEG Lossless, Hierarchical (Process 29) (Retired)","1.2.840.10008.1.2.4.70":"JPEG Lossless, Non-Hierarchical, First-Order Prediction (Process 14 [Selection Value 1])","1.2.840.10008.1.2.4.80":"JPEG-LS Lossless Image Compression","1.2.840.10008.1.2.4.81":"JPEG-LS Lossy (Near-Lossless) Image Compression","1.2.840.10008.1.2.4.90":"JPEG 2000 Image Compression (Lossless Only)","1.2.840.10008.1.2.4.91":"JPEG 2000 Image Compression","1.2.840.10008.1.2.4.92":"JPEG 2000 Part 2 Multi-component Image Compression (Lossless Only)","1.2.840.10008.1.2.4.93":"JPEG 2000 Part 2 Multi-component Image Compression","1.2.840.10008.1.2.4.94":"JPIP Referenced","1.2.840.10008.1.2.4.95":"JPIP Referenced Deflate","1.2.840.10008.1.2.4.100":"MPEG2 Main Profile / Main Level","1.2.840.10008.1.2.4.101":"MPEG2 Main Profile / High Level","1.2.840.10008.1.2.4.102":"MPEG-4 AVC/H.264 High Profile / Level 4.1","1.2.840.10008.1.2.4.103":"MPEG-4 AVC/H.264 BD-compatible High Profile / Level 4.1","1.2.840.10008.1.2.4.104":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 2D Video","1.2.840.10008.1.2.4.105":"MPEG-4 AVC/H.264 High Profile / Level 4.2 For 3D Video","1.2.840.10008.1.2.4.106":"MPEG-4 AVC/H.264 Stereo High Profile / Level 4.2","1.2.840.10008.1.2.4.107":"HEVC/H.265 Main Profile / Level 5.1","1.2.840.10008.1.2.4.108":"HEVC/H.265 Main 10 Profile / Level 5.1","1.2.840.10008.1.2.5":"RLE Lossless","1.2.840.10008.1.2.6.1":"RFC 2557 MIME encapsulation (Retired)","1.2.840.10008.1.2.6.2":"XML Encoding (Retired)","1.2.840.10008.1.2.7.1":"SMPTE ST 2110-20 Uncompressed Progressive Active Video","1.2.840.10008.1.2.7.2":"SMPTE ST 2110-20 Uncompressed Interlaced Active Video","1.2.840.10008.1.2.7.3":"SMPTE ST 2110-30 PCM Digital Audio","1.2.840.10008.1.20":"Papyrus 3 Implicit VR Little Endian (Retired)"},X0="1.2.840.10008.1.2",ug="1.2.840.10008.1.2.1",W0="1.2.840.10008.1.2.2";class Ac{#e;#t;constructor(e,t){if(!e||e===void 0)throw new Error("Cannot create tag with no group.");if(e.length!==4)throw new Error("Cannot create tag with badly sized group: "+e);if(!t||t===void 0)throw new Error("Cannot create tag with no element.");if(t.length!==4)throw new Error("Cannot create tag with badly sized element: "+t);this.#e=e,this.#t=t}getGroup(){return this.#e}getElement(){return this.#t}toString(){return this.getKey()+": "+this.getNameFromDictionary()}equals(e){return e!=null&&this.#e===e.getGroup()&&this.#t===e.getElement()}getKey(){return this.#e+this.#t}getGroupName(){return HP[this.#e]}isWithVR(){return!(this.#e==="FFFE"&&(this.#t==="E000"||this.#t==="E00D"||this.#t==="E0DD"))}isPrivate(){return parseInt(this.#e,16)%2==1}#n(){let e;return E0[this.#e]!==void 0&&E0[this.#e][this.#t]!==void 0&&(e=E0[this.#e][this.#t]),e}getVrFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[0]),e}getMultiplicityFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=parseInt(t[1],10)),e}getNameFromDictionary(){let e;const t=this.#n();return t!==void 0&&(e=t[2]),e}}function p3(n){if(!n||n===void 0)throw new Error("Cannot create tag with no key.");if(n.length!==8)throw new Error("Cannot create tag with badly sized key: "+n);return new Ac(n.substring(0,4),n.substring(4,8))}function $P(n){return n.getKey()==="FFFEE00D"}function sb(n){return n.getKey()==="FFFEE0DD"}function lb(n){return["7FE00010","7FE00009","7FE00008"].includes(n.getKey())}function m3(n){const e=["7FE00010","7FE00009","7FE00008"];let t=!1;for(const i of e)if(n[i]!==void 0){t=!0;break}return t}function KP(n){if(n==null)return null;let e=null,t=null;const i=E0,a=Object.keys(i);let o,l=null,c=!1;for(let d=0,h=a.length;d<h;++d){e=a[d],l=Object.keys(i[e]);for(let f=0,m=l.length;f<m;++f)if(t=l[f],i[e][t][2]===n){c=!0;break}if(c)break}return c&&(o=new Ac(e,t)),o}function S3(n){return function(e,t){const i=p3(t);let a=i.getNameFromDictionary();a===void 0&&(a="x"+i.getKey());const o=n[t];for(const c in o)o[c]===void 0&&delete o[c];let l;if(o.vr==="SQ"){l={value:[]};for(let c=0;c<o.value.length;++c){const d=o.value[c];l.value.push(Object.keys(d).reduce(S3(d),{}))}}else l=o.value.length===1?o.value[0]:o.value;return e[a]=l,e}}function ZP(n){const e=structuredClone(n);return Object.keys(e).reduce(S3(e),{})}class Ja{vr;value;tag;vl;undefinedLength;startOffset;endOffset;items;constructor(e){this.vr=e}}function y3(n){return n!==void 0&&n.value!==void 0&&n.value.length!==0}function Bt(n,e){let t;return y3(n[e])&&(t=n[e].value[0]),t}function Ni(n,e){let t;return y3(n[e])&&(t=n[e].value),t}function yr(n,e,t){let i="";if(n===void 0)i+=" "+e+" is undefined,";else if(n.value===void 0)i+=" "+e+" has undefined value,";else if(n.value.length===0)i+=" "+e+" is empty,";else if(t!==void 0)for(let a=0;a<t.length;++a)n.value.includes(t[a])||(i+=" "+e+" does not contain "+t[a]+" (value: "+n.value+"),");return i}function ia(n){const e=n.byteLength,t=new Uint8Array(n.buffer,n.byteOffset,e),i=n.BYTES_PER_ELEMENT;let a;for(let o=0;o<e;o+=i)for(let l=o+i-1,c=o;l>c;l--,c++)a=t[c],t[c]=t[l],t[l]=a}class T1{#e;#t=!0;#n=function(){return new Int8Array(new Int16Array([1]).buffer)[0]>0}();#r;#i;constructor(e,t){this.#e=e,t!==void 0&&(this.#t=t),this.#r=this.#t!==this.#n,this.#i=new DataView(e)}readUint16(e){return this.#i.getUint16(e,this.#t)}readInt16(e){return this.#i.getInt16(e,this.#t)}readUint32(e){return this.#i.getUint32(e,this.#t)}readBigUint64(e){return this.#i.getBigUint64(e,this.#t)}readInt32(e){return this.#i.getInt32(e,this.#t)}readBigInt64(e){return this.#i.getBigInt64(e,this.#t)}readFloat32(e){return this.#i.getFloat32(e,this.#t)}readFloat64(e){return this.#i.getFloat64(e,this.#t)}readBinaryArray(e,t,i){const a=new Uint8Array(this.#e,e,t);let o;o=i!==void 0?i:8*a.length;const l=new Uint8Array(o);let c=0,d=0;for(let h=0;h<o;++h)c=h%8,d=Math.floor(h/8),l[h]=255*!!(a[d]&1<<c);return l}readUint8Array(e,t){return new Uint8Array(this.#e,e,t)}readInt8Array(e,t){return new Int8Array(this.#e,e,t)}readUint16Array(e,t){const i=Uint16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint16Array(this.#e,e,a),this.#r&&ia(o);else{o=new Uint16Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readUint16(l),l+=i}return o}readInt16Array(e,t){const i=Int16Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int16Array(this.#e,e,a),this.#r&&ia(o);else{o=new Int16Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readInt16(l),l+=i}return o}readUint32Array(e,t){const i=Uint32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Uint32Array(this.#e,e,a),this.#r&&ia(o);else{o=new Uint32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readUint32(l),l+=i}return o}readUint64Array(e,t){const i=BigUint64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigUint64Array(this.#e,e,a),this.#r&&ia(o);else{o=new BigUint64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readBigUint64(l),l+=i}return o}readInt32Array(e,t){const i=Int32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Int32Array(this.#e,e,a),this.#r&&ia(o);else{o=new Int32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readInt32(l),l+=i}return o}readInt64Array(e,t){const i=BigInt64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new BigInt64Array(this.#e,e,a),this.#r&&ia(o);else{o=new BigInt64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readBigInt64(l),l+=i}return o}readFloat32Array(e,t){const i=Float32Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float32Array(this.#e,e,a),this.#r&&ia(o);else{o=new Float32Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readFloat32(l),l+=i}return o}readFloat64Array(e,t){const i=Float64Array.BYTES_PER_ELEMENT,a=t/i;let o=null;if(e%i==0)o=new Float64Array(this.#e,e,a),this.#r&&ia(o);else{o=new Float64Array(a);let l=e;for(let c=0;c<a;++c)o[c]=this.readFloat64(l),l+=i}return o}readHex(e){const t=this.readUint16(e).toString(16);return"0000".substring(0,4-t.length)+t.toUpperCase()}}function JP(){return"0.35.1"}function cb(n){const e=n.split("-");let t=[];for(const i of e)t=t.concat(i.split("."));return t}function ub(n,e){let t=0;const i=cb(n),a=cb(e);for(let o=0;o<3&&(t=parseInt(i[o],10)-parseInt(a[o],10),t===0);++o);if(t===0){const l=i[4],c=a[4];t=l===void 0&&c===void 0?0:l===void 0&&c!==void 0?1:l!==void 0&&c===void 0?-1:parseInt(l,10)-parseInt(c,10)}return t}const eL=String.fromCharCode("u200B");class tL{decode(e){let t="";for(let i=0,a=e.length;i<a;++i)t+=String.fromCharCode(e[i]);return t}}function db(n){if(!n)return null;const e={L:"R",R:"L",A:"P",P:"A",H:"F",F:"H"};let t="";for(let i=0;i<n.length;i++){const a=e[n.substring(i,i+1)];a&&(t+=a)}return t}function nL(n){return n===X0}function iL(n){return n===W0}function up(n){return n==="1.2.840.10008.1.2.4.50"||n==="1.2.840.10008.1.2.4.51"}function dp(n){return n==="1.2.840.10008.1.2.4.57"||n==="1.2.840.10008.1.2.4.70"}function hp(n){return n.match(/1.2.840.10008.1.2.4.9/)!==null}function v3(n){return n==="1.2.840.10008.1.2.5"}function rL(n,e,t){let i=null;try{n===1||n===8?i=e===0?new Uint8Array(t):new Int8Array(t):n===16?i=e===0?new Uint16Array(t):new Int16Array(t):n===32&&(i=e===0?new Uint32Array(t):new Int32Array(t))}catch(a){if(a instanceof RangeError){const o=Math.floor(Math.log(t)/Math.log(2));De.error("Cannot allocate array of size: "+t+" (>2^"+o+").")}}return i}const hb="00280100",fb="00280103";class b3{#e={};#t;#n=new tL;#r=this.#n;#i(e){return this.#n.decode(e)}#a(e){return this.#r.decode(e)}getDefaultCharacterSet(){return this.#t}setDefaultCharacterSet(e){this.#t=e}setDecoderCharacterSet(e){this.#r=new TextDecoder(e)}getDicomElements(){return this.#e}safeGet(e){return Bt(this.#e,e)}#o(e,t){const i=e.readHex(t);t+=Uint16Array.BYTES_PER_ELEMENT;const a=e.readHex(t);return t+=Uint16Array.BYTES_PER_ELEMENT,{tag:new Ac(i,a),endOffset:t}}#s(e,t,i){const a={};let o=this.#d(e,t,i);if(t=o.endOffset,sb(o.tag))return{data:a,endOffset:o.endOffset,isSeqDelim:!0};if(a[o.tag.getKey()]={tag:o.tag,vr:"NONE",vl:o.vl,undefinedLength:o.undefinedLength},o.undefinedLength){let l=!1;for(;!l;)o=this.#d(e,t,i),t=o.endOffset,l=$P(o.tag),l||(a[o.tag.getKey()]=o)}else{const l=t;for(t-=o.vl;t<l;)o=this.#d(e,t,i),t=o.endOffset,a[o.tag.getKey()]=o}return{data:a,endOffset:t,isSeqDelim:!1}}#l(e,t,i){const a=[];let o=this.#d(e,t,i);const l=o.vl;t=o.endOffset;let c=!1;for(;!c;)o=this.#d(e,t,i),t=o.endOffset,c=sb(o.tag),c||(o.vr="OB",a.push(o));return{data:a,endOffset:t,offsetTableVl:l}}#d(e,t,i,a){const o=this.#o(e,t),l=o.tag;if(a!==void 0&&l.equals(a)){const y=new Ja("");return y.tag=l,y}t=o.endOffset;let c=null,d=!1;l.isWithVR()?i?(c=l.getVrFromDictionary(),c===void 0&&(c="UN"),d=!0):(c=this.#i(e.readUint8Array(t,2)),t+=2*Uint8Array.BYTES_PER_ELEMENT,d=YP(c),d&&(t+=2*Uint8Array.BYTES_PER_ELEMENT)):(c="NONE",d=!0),function(y){return Object.keys(ab).concat(["NONE","ox","xx","xs"]).includes(y)}(c)||(De.warn("Unknown VR: "+c+" (for tag "+l.getKey()+"), treating as 'UN'"),c="UN");let h=0;d?(h=e.readUint32(t),t+=Uint32Array.BYTES_PER_ELEMENT):(h=e.readUint16(t),t+=Uint16Array.BYTES_PER_ELEMENT);let f=!1;h===4294967295&&(f=!0,h=0),l.isPrivate()&&c==="UN"&&h===0&&(c="SQ");let m,v=t,p=v+h;if(lb(l)&&f){const y=this.#l(e,t,i);t=y.endOffset,v+=y.offsetTableVl,m=y.data,p=t,h=t-v}else if(c==="SQ"){let y;if(m=[],f){let b=!1;for(;!b;)y=this.#s(e,t,i),b=y.isSeqDelim,t=y.endOffset,b||m.push(y.data);p=t,h=t-v}else if(h!==0){const b=t+h;for(;t<b;)y=this.#s(e,t,i),m.push(y.data),t=y.endOffset;p=t,h=t-v}}const S=new Ja(c);return S.tag=l,S.vl=h,S.startOffset=v,S.endOffset=p,f&&(S.undefinedLength=f),m&&(S.items=m),S}#c(e,t,i){const a=e.tag,o=e.vl,l=e.vr,c=e.startOffset;let d,h;i!==void 0&&(d=i.bitsAllocated,h=i.pixelRepresentation);let f=null;const m=ab[l];if(lb(a))if(e.undefinedLength){f=[];for(let v=0;v<e.items.length;++v)f.push(this.#c(e.items[v],t,i));delete e.items}else if(d>8&&l==="OB"&&(De.warn("Reading DICOM pixel data with bitsAllocated>8 and OB VR, treating as OW"),e.vr="OW"),f=[],d===1)f.push(t.readBinaryArray(c,o,i.imageBufferSize));else if(d===8)h===0?f.push(t.readUint8Array(c,o)):f.push(t.readInt8Array(c,o));else if(d===16)h===0?f.push(t.readUint16Array(c,o)):f.push(t.readInt16Array(c,o));else if(d===32)f.push(t.readFloat32Array(c,o));else{if(d!==64)throw new Error("Unsupported bits allocated: "+d);f.push(t.readFloat64Array(c,o))}else if(m!==void 0)if(m==="Uint8")f=t.readUint8Array(c,o);else if(m==="Uint16")f=t.readUint16Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint32")f=t.readUint32Array(c,o),l[0]!=="O"&&(f=Array.from(f));else if(m==="Uint64")f=t.readUint64Array(c,o);else if(m==="Int16")f=Array.from(t.readInt16Array(c,o));else if(m==="Int32")f=Array.from(t.readInt32Array(c,o));else if(m==="Int64")f=t.readInt64Array(c,o);else if(m==="Float32")f=Array.from(t.readFloat32Array(c,o));else if(m==="Float64")f=Array.from(t.readFloat64Array(c,o));else{if(m!=="string")throw new Error("Unknown VR type: "+m);{const v=t.readUint8Array(c,o);f=WP(l)?this.#a(v):this.#i(v),f=function(p){let S=p;const y=p.length-1;return p[y]===eL&&(S=p.substring(0,y)),S=S.trim(),S}(f).split("\\")}}else if(l==="xx")f=Array.from(t.readUint16Array(c,o));else if(l==="ox")f=d===8?h===0?Array.from(t.readUint8Array(c,o)):Array.from(t.readInt8Array(c,o)):h===0?Array.from(t.readUint16Array(c,o)):Array.from(t.readInt16Array(c,o));else if(l==="xs")f=h===0?Array.from(t.readUint16Array(c,o)):Array.from(t.readInt16Array(c,o));else if(l==="AT"){const v=t.readUint16Array(c,o);f=[];for(let p=0,S=v.length;p<S;p+=2){const y=v[p].toString(16),b=v[p+1].toString(16);let w="(";w+="0000".substring(0,4-y.length)+y.toUpperCase(),w+=",",w+="0000".substring(0,4-b.length)+b.toUpperCase(),w+=")",f.push(w)}}else if(l==="SQ"){f=[];for(let v=0;v<e.items.length;++v){const p=e.items[v],S={},y=Object.keys(p);let b=d,w=h;for(let D=0;D<y.length;++D){let C=p[hb];C!==void 0&&C.value!==void 0&&(b=C.value[0]),C=p[fb],C!==void 0&&C.value!==void 0&&(w=C.value[0]);const x={bitsAllocated:b,pixelRepresentation:w},R=p[y[D]];R.value=this.#c(R,t,x),delete R.tag,delete R.vl,delete R.startOffset,delete R.endOffset,S[y[D]]=R}f.push(S)}delete e.items}else l==="NONE"||De.warn("Unknown VR: "+l+" (for tag "+e.tag.getKey()+")"),f=[];return f}#u(e,t,i){const a=Object.keys(e);for(let o=0;o<a.length;++o){const l=e[a[o]];l.value===void 0&&(l.value=this.#c(l,t,i)),delete l.tag,delete l.vl,delete l.startOffset,delete l.endOffset}}parse(e,t){let i=0,a="",o=null;const l=new T1(e);let c=new T1(e);i=128;const d=this.#i(l.readUint8Array(i,4));if(i+=4*Uint8Array.BYTES_PER_ELEMENT,d==="DICM"){o=this.#d(l,i,!1),o.value=this.#c(o,l),i=o.endOffset,this.#e[o.tag.getKey()]=o;const v=i+o.value[0];for(;i<v;)o=this.#d(l,i,!1),i=o.endOffset,this.#e[o.tag.getKey()]=o;if(o=this.#e["00020010"],o===void 0)throw new Error("Not a valid DICOM file (no TransferSyntaxUID found)");o.value=this.#c(o,l),a=o.value[0]}else{De.warn("No DICM prefix, trying to guess tansfer syntax."),o=this.#d(c,0,!1);const v=function(p){const S="0008",y=p.tag.getGroup();if(y!=="0800"&&y!==S)throw new Error("Not a valid DICOM file (no magic DICM word found and first element not in 0008 group)");const b=p.vr,w=b.charCodeAt(0),D=b.charCodeAt(1),C=!(w>=65&&w<=90&&D>=65&&D<=90);let x=null;if(y===S)x=C?X0:ug;else{if(C)throw new Error("Not a valid DICOM file (no magic DICM word foundand implicit VR big endian detected)");x=W0}const R=new Ja("UI");return R.tag=new Ac("0002","0010"),R.value=[x],R.vl=R.value[0].length,R.startOffset=p.startOffset,R.endOffset=R.startOffset+R.vl,R}(o);this.#e[v.tag.getKey()]=v,a=v.value[0],i=0}if(!function(v){return v===X0||v===ug||v===W0||up(v)||dp(v)||hp(v)||v3(v)}(a))throw new Error("Unsupported DICOM transfer syntax: '"+a+"' ("+function(v){let p="Unknown";return ob[v]!==void 0&&(p=ob[v]),p}(a)+")");let h=!1;nL(a)&&(h=!0),iL(a)&&(c=new T1(e,!1));let f,m=!1;for(;i<e.byteLength;){if(o=this.#d(c,i,h,t),t!==void 0&&o.tag.equals(t)){m=!0;break}i=o.endOffset;const v=o.tag.getKey();this.#e[v]===void 0?this.#e[v]=o:De.warn("Not saving duplicate tag: "+v)}if(isNaN(i))throw new Error("Problem while parsing, bad offset");if(m||e.byteLength===i||De.warn("Did not reach the end of the buffer: "+i+" != "+e.byteLength),m3(this.#e)){let v=0;o=this.#e[fb],o!==void 0?(o.value=this.#c(o,c),v=o.value[0]):De.warn("Reading DICOM pixel data with default pixelRepresentation.");let p=16;o=this.#e[hb],o!==void 0?(o.value=this.#c(o,c),p=o.value[0]):De.warn("Reading DICOM pixel data with default bitsAllocated.");let S,y,b=1;o=this.#e["00280008"],o!==void 0&&(o.value=this.#c(o,c),b=parseInt(o.value[0],10)),f={pixelRepresentation:v,bitsAllocated:p,numberOfFrames:b},o=this.#e["00280010"],o!==void 0&&(o.value=this.#c(o,c),S=parseInt(o.value[0],10)),o=this.#e["00280011"],o!==void 0&&(o.value=this.#c(o,c),y=parseInt(o.value[0],10)),S!==void 0&&y!==void 0&&(f.imageBufferSize=S*y*b)}if(this.#t!==void 0&&this.setDecoderCharacterSet(this.#t),o=this.#e["00080005"],o!==void 0){let v;o.value=this.#c(o,c),o.value.length===1?v=o.value[0]:(v=o.value[1],De.warn("Unsupported character set with code extensions: '"+v+"'.")),this.setDecoderCharacterSet(function(p){let S="utf-8";return p==="ISO_IR 100"?S="iso-8859-1":p==="ISO_IR 101"?S="iso-8859-2":p==="ISO_IR 109"?S="iso-8859-3":p==="ISO_IR 110"?S="iso-8859-4":p==="ISO_IR 144"?S="iso-8859-5":p==="ISO_IR 127"?S="iso-8859-6":p==="ISO_IR 126"?S="iso-8859-7":p==="ISO_IR 138"?S="iso-8859-8":p==="ISO_IR 148"?S="iso-8859-9":p==="ISO_IR 13"?S="shift-jis":p==="ISO_IR 166"?S="iso-8859-11":p==="ISO 2022 IR 87"?S="iso-2022-jp":p==="ISO 2022 IR 149"||p==="ISO 2022 IR 58"||(p==="ISO_IR 192"?S="utf-8":p==="GB18030"?S="gb18030":p==="GB2312"?S="gb2312":p==="GBK"&&(S="chinese")),S}(v))}if(this.#u(this.#e,c,f),o=this.#e["7FE00010"],o!==void 0&&o.undefinedLength){const v=f.numberOfFrames,p=o.value;if(p.length>1&&p.length>v){const S=p.length/v,y=[];let b=0;for(let w=0;w<v;++w){b=w*S;let D=0;for(let R=0;R<S;++R)D+=p[b+R].length;const C=new p[0].constructor(D);let x=0;for(let R=0;R<S;++R)C.set(p[b+R],x),x+=p[b+R].length;y[w]=C}o.value=y}}}}class aL{min;max;mean;stdDev;median;p25;p75;constructor(e,t,i,a){this.min=e,this.max=t,this.mean=i,this.stdDev=a}}function fp(n,e){return function(t){return t!=null&&(t.includes("median")||t.includes("p25")||t.includes("p75"))}(e)?function(t){const i=dg(t);return t.sort(function(a,o){return a-o}),i.median=w1(t,.5),i.p25=w1(t,.25),i.p75=w1(t,.75),i}(n):dg(n)}function dg(n){let e=n[0],t=e,i=0,a=0,o=0;const l=n.length;for(let f=0;f<l;++f)o=n[f],o<e?e=o:o>t&&(t=o),i+=o,a+=o*o;const c=i/l;let d=a/l-c*c;d<0&&(d=0);const h=Math.sqrt(d);return new aL(e,t,c,h)}function w1(n,e){if(n.length===0)throw new Error("Empty array provided for percentile calculation.");if(e<0||e>1)throw new Error("Invalid ratio provided for percentile calculation: "+e);if(e===0)return n[0];if(e===1)return n[n.length-1];const t=(n.length-1)*e,i=Math.floor(t),a=n[i];return a+(n[i+1]-a)*(t-i)}class ca{#e;#t;#n;#r={};#i;#a=Rd();#o=!1;constructor(e,t,i,a,o){this.#e=e,this.#t=t,this.#n=i,o!==void 0&&(this.#i=o,this.#r[o]=e),a!==void 0&&(this.#a=a)}getInitialTime(){return this.#i}getCurrentTotalNumberOfSlices(){const e=Object.keys(this.#r);if(e.length===0)return this.#e.length;let t=0;for(let i=0;i<e.length;++i)t+=this.#r[e[i]].length;return t}hasSlicesAtTime(e){return this.#r[e]!==void 0}getCurrentNumberOfSlicesBeforeTime(e){const t=Object.keys(this.#r);if(t.length===0)return;let i=0;for(let a=0;a<t.length;++a){const o=t[a];if(parseInt(o,10)===e)break;i+=this.#r[o].length}return i}getOrigin(){return this.#e[0]}getOrigins(){return this.#e}includesOrigin(e,t){for(let i=0;i<this.#e.length;++i)if(this.#e[i].isSimilar(e,t))return!0;return!1}getSize(e){let t=this.#t;if(e&&e!==void 0){let i=Sc([this.#t.get(0),this.#t.get(1),this.#t.get(2)],e);i=i.map(Math.abs),t=new Ar(i.concat(this.#t.getValues().slice(3)))}return t}#s(){const e=function(t){if(t.length<=1)return;const i=[];for(let l=0;l<t.length-1;++l){const c=t[l],d=t[l+1],h=c.getDistance(d);if(h===0)throw new Error("Zero slice spacing "+c.toString()+" "+d.toString());i.push(h)}const a=dg(i),o=Qi(a.mean,4);return a.stdDev>Ad&&De.warn("Varying slice spacing, value: "+o+" (mean: "+a.mean+", min: "+a.min+", max: "+a.max+", stdDev: "+a.stdDev+")"),o}(this.#e);if(e!==void 0){this.#n.get(2)!==1&&this.#n.get(2)!==e&&De.debug("Using geometric spacing "+e+" instead of tag spacing "+this.#n.get(2));const t=this.#n.getValues();t[2]=e,this.#n=new la(t)}}getSpacing(e){this.#o&&(this.#s(),this.#o=!1);let t=this.#n;if(e&&e!==void 0){let i=Sc([this.#n.get(0),this.#n.get(1),this.#n.get(2)],e);i=i.map(Math.abs),t=new la(i)}return t}getRealSpacing(){return this.getSpacing(this.#a.getInverse().asOneAndZeros())}getOrientation(){return this.#a}getSliceIndex(e,t){let i=this.#e;t!==void 0&&(i=this.#r[t]);const a=e.getClosest(i),o=i[a],l=e.minus(o);return new Vt(this.#a.get(0,2),this.#a.get(1,2),this.#a.get(2,2)).isCodirectional(l)?a+1:a}appendOrigin(e,t,i){const a=function(o){return o.equals(e)};if(i!==void 0){if(this.#r[i].find(a)!==void 0)throw new Error("Cannot append same time origin twice");this.#r[i].splice(t,0,e)}if(i===void 0||i===this.#i){if(this.#e.find(a)!==void 0)throw new Error("Cannot append same origin twice");this.#o=!0,this.#e.splice(t,0,e);const o=this.#t.getValues();o[2]+=1,this.#t=new Ar(o)}}appendFrame(e,t){this.#r[t]=[e];const i=this.#t.getValues(),a=this.#n.getValues();i.length===4?i[3]+=1:(i.push(2),a.push(1)),this.#t=new Ar(i),this.#n=new la(a)}toString(){return"Origin: "+this.getOrigin()+", Size: "+this.getSize()+", Spacing: "+this.getSpacing()+", Orientation: "+this.getOrientation()}equals(e){return e!==null&&this.getOrigin().equals(e.getOrigin())&&this.getSize().equals(e.getSize())&&this.getSpacing().equals(e.getSpacing())}isInBounds(e){return this.isIndexInBounds(this.worldToIndex(e))}isIndexInBounds(e,t){return this.getSize().isInBounds(e,t)}getRange(){const e=this.getSize().length(),t=new Array(e);t.fill(0);const i=new pt(t),a=new pt(this.getSize().getValues());return[this.indexToWorld(i),this.indexToWorld(a)]}indexToWorld(e){const t=this.getSpacing(),i=new Et(e.get(0)*t.get(0),e.get(1)*t.get(1),e.get(2)*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=e.getValues(),l=this.getOrigin();return o[0]=l.getX()+a.getX(),o[1]=l.getY()+a.getY(),o[2]=l.getZ()+a.getZ(),new Or(o)}pointToWorld(e){const t=this.getSpacing(),i=new Et(e.getX()*t.get(0),e.getY()*t.get(1),e.getZ()*t.get(2)),a=this.getOrientation().multiplyPoint3D(i),o=this.getOrigin();return new Et(o.getX()+a.getX(),o.getY()+a.getY(),o.getZ()+a.getZ())}worldToIndex(e){const t=this.getOrigin(),i=new Et(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=Math.floor(Qi(a.getX()/l.get(0),5)),o[1]=Math.floor(Qi(a.getY()/l.get(1),5)),o[2]=Math.floor(Qi(a.getZ()/l.get(2),5)),new pt(o)}worldToPoint(e){const t=this.getOrigin(),i=new Et(e.get(0)-t.getX(),e.get(1)-t.getY(),e.get(2)-t.getZ()),a=this.getOrientation().getInverse().multiplyPoint3D(i),o=e.getValues(),l=this.getSpacing();return o[0]=a.getX()/l.get(0),o[1]=a.getY()/l.get(1),o[2]=a.getZ()/l.get(2),new Et(o[0],o[1],o[2])}}function Sc(n,e){return e.getInverse().multiplyArray3D(n)}function gb(n,e){return e.multiplyArray3D(n)}const Di={TransferSyntax:"00020010",SOPClassUID:"00080016",Modality:"00080060",Rows:"00280010",Columns:"00280011",PixelSpacing:"00280030",ImagerPixelSpacing:"00181164",NominalScannedPixelSpacing:"00182010",PixelAspectRatio:"00280034",SpacingBetweenSlices:"00180088",RescaleType:"00281054",Units:"00541001",ImageOrientationPatient:"00200037",PhotometricInterpretation:"00280004",SamplesPerPixel:"00280002"};function hg(n){let e;const t=Bt(n,Di.Rows),i=Bt(n,Di.Columns);return t!==void 0&&i!==void 0&&(e=[i,t]),e}function C3(n){const e=Ni(n,Di.PixelSpacing);if(e===void 0||e.length!==2)return;const t=[parseFloat(e[1]),parseFloat(e[0])],i=Bt(n,Di.SpacingBetweenSlices);return i!==void 0&&t.push(parseFloat(i)),new la(t)}function pb(n){const e=Bt(n,Di.PhotometricInterpretation),t=Bt(n,Di.TransferSyntax);if(e!==void 0&&t!==void 0){let i=e.toUpperCase();(hp(t)||up(t)||dp(t))&&!gp(i)&&(i="RGB");let a=Bt(n,Di.SamplesPerPixel);return a===void 0&&(a=1),i==="RGB"&&a===1&&(i="PALETTE COLOR"),i}}function gp(n){return n!==void 0&&n.match(/MONOCHROME/)!==null}function yc(n){return("0"+n).slice(-2)}function x1(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0];let t=4,i=6;return e.length===10&&(t=5,i=8),{year:parseInt(e.substring(0,4),10),monthIndex:e.length>=t+2?parseInt(e.substring(t,t+2),10)-1:0,day:e.length===i+2?parseInt(e.substring(i,i+2),10):0}}function h0(n){if(n===void 0||n.value.length!==1)return;const e=n.value[0],t=parseInt(e.substring(0,2),10),i=e.length>=4?parseInt(e.substring(2,4),10):0,a=e.length>=6?parseInt(e.substring(4,6),10):0,o=e.length>=8?e.substring(7,10):0;return{hours:t,minutes:i,seconds:a,milliseconds:o===0?0:parseInt(o,10)*Math.pow(10,3-o.length)}}function fg(n){return{year:n.getFullYear().toString(),monthIndex:yc((n.getMonth()+1).toString()),day:yc(n.getDate().toString())}}function gg(n){return{hours:yc(n.getHours().toString()),minutes:yc(n.getMinutes().toString()),seconds:yc(n.getSeconds().toString())}}function pg(n){return n.year+n.monthIndex+n.day}function mg(n){return n.hours+n.minutes+n.seconds}const mb="00080016",Sb="00080060",yb="00280002",vb="00280100",bb={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",StudyDescription:"00081030",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};class oL{#e;#t;getWarning(){return this.#e}checkElements(e){if(this.#e=void 0,hg(e)===void 0)throw new Error("No image rows or columns in DICOM file");if(!m3(e))throw new Error("No pixel data in DICOM file");const t=Bt(e,Sb);if(t!==void 0&&t==="PT"){const a=pb(e);if((i=Bt(e,mb))!==void 0&&/^1\.2\.840\.10008\.5\.1\.4\.1\.1\.7/.test(i)||!gp(a))return this.#e;const o=function(l){let c="";const d={};let h;c+=yr(l["00280051"],"Corrected Image (00280051)",["ATTN","DECY"]),c+=yr(l["00541102"],"Decay Correction (00541102)",["START"]),c+=yr(l["00541001"],"Units (00541001)",["BQML"]);const f=l["00101030"],m=yr(f," PatientWeight (00101030)");if(m.length===0){const p=parseFloat(f.value[0]);isNaN(p)?c+=" PatientWeight is not a number":h=p}else c+=m;const v=function(p){let S,y="";const b=x1(p["00080021"]);let w,D,C;const x=p["00540016"];if(y+=yr(x,"RadiopharmaceuticalInformationSequence (00540016)"),x!==void 0){x.value.length!==1&&De.warn("Found more than 1 istopes in RadiopharmaceuticalInformation Sequence.");const U="RadionuclideTotalDose (00181074)",B=x.value[0]["00181074"];if(S=yr(B,U),S.length===0){const G=parseFloat(B.value[0]);isNaN(G)?y+=" TotalDose is not a number":w=G}else y+=S;const L="RadionuclideHalfLife (00181075)",P=x.value[0]["00181075"];if(S=yr(P,L),S.length===0){const G=parseFloat(P.value[0]);isNaN(G)?y+=" HalfLife is not a number":D=G}else y+=S;const A=x.value[0]["00181078"];let E,F;if(A===void 0)E=b,F=h0(x.value[0]["00181072"]);else{const G=function(H){if(H===void 0||H.value.length!==1)return;const Q=H.value[0].split("&")[0],Z=new Ja("DA");Z.value=[Q.substring(0,8)];const N=x1(Z),V=new Ja("TM");return V.value=[Q.substring(8)],{date:N,time:Q.length>=9?h0(V):void 0}}(A);E=G.date,F=G.time}F===void 0&&(F={hours:0,minutes:0,seconds:0,milliseconds:0}),C=new Date(E.year,E.monthIndex,E.day,F.hours,F.minutes,F.seconds,F.milliseconds)}const R=h0(p["00080031"]);let I=new Date(b.year,b.monthIndex,b.day,R.hours,R.minutes,R.seconds,R.milliseconds);const k=p["00080022"],_=p["00080032"];if(k!==void 0&&_!==void 0){const U=x1(k),B=h0(_),L=new Date(U.year,U.monthIndex,U.day,B.hours,B.minutes,B.seconds,B.milliseconds);if(I>L){const P="Series date/time is after Aquisition date/time (diff="+(I.getTime()-L.getTime()).toString()+"ms) ";De.debug(P);let A=0;const E="FrameReferenceTime (00541300)",F=p["00541300"];y+=yr(F,E),F!==void 0&&(A=F.value[0]);let G=0;const H="ActualFrameDuration (00181242)",Q=p["00181242"];if(y+=yr(Q,H),Q!==void 0&&(G=Q.value[0]),A>0&&G>0){G/=1e3,A/=1e3;const Z=Math.log(2)/D,N=Z*G,V=1/Z*Math.log(N/(1-Math.exp(-N)))-A;I=new Date(U.year,U.monthIndex,U.day,B.hours,B.minutes,B.seconds+V,B.milliseconds)}}}let M;if(I!==void 0&&C!==void 0&&w!==void 0&&D!==void 0){const U=(I.getTime()-C.getTime())/1e3;M=w*Math.pow(2,-U/D)}return{value:M,warning:y}}(l);return c+=v.warning,c.length!==0?d.warning="Cannot calculate PET SUV:"+c:d.value=1e3*h/v.value,d}(e);this.#t=o.value,this.#e=o.warning}var i;return this.#e}create(e,t,i){const a=function(Q){return Bt(e,Q)},o=function(Q){return Ni(e,Q)},l=hg(e),c=[l[0],l[1],1],d=a("00280008");if(d!==void 0){const Q=parseInt(d,10);Q>1&&c.push(Q)}const h=new Ar(c);let f=[1,1,1];const m=function(Q){let Z;const N=["PixelSpacing","ImagerPixelSpacing","NominalScannedPixelSpacing","PixelAspectRatio"];for(const V of N){const X=Ni(Q,Di[V]);if(X!==void 0&&X.length===2){Z=[parseFloat(X[1]),parseFloat(X[0])];break}}return Z}(e);m!==void 0&&(f=[m[0],m[1],1]);const v=new la(f),p=o("00200032");let S=new Array(0,0,0);p!==void 0&&(S=[parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2])]);const y=function(Q){const Z=Ni(Q,Di.ImageOrientationPatient);let N;return Z!==void 0&&(N=cp(Z.map(V=>parseFloat(V)))),N}(e),b=new Et(S[0],S[1],S[2]),w=void 0,D=new ca([b],h,v,y,w),C=a("00080018");let x=a(yb);x===void 0&&(x=1);const R=h.getTotalSize()*x;if(R!==t.length){if(De.warn("Badly sized pixel buffer: "+t.length+" != "+R),!(R<t.length))throw new Error("Underestimated buffer size, can't fix it...");t=t.slice(0,h.getTotalSize())}const I=new io(D,t,[C]),k=pb(e);k!==void 0&&I.setPhotometricInterpretation(k);const _=a("00280006");_!==void 0&&I.setPlanarConfiguration(_);let M=1;const U=a("00281053");if(U!==void 0){const Q=parseFloat(U);isNaN(Q)||(M=Q)}let B=0;const L=a("00281052");if(L!==void 0){const Q=parseFloat(L);isNaN(Q)||(B=Q)}let P=!1,A=1;this.#t!==void 0&&(P=!0,A=this.#t,De.info("Applying PET SUV calibration: "+A),M*=A,B*=A);const E=new lp(M,B);if(I.setRescaleSlopeAndIntercept(E),I.getPhotometricInterpretation()==="PALETTE COLOR"){const Q=function(Z){let N;const V=Ni(Z,"00281101");if(V!==void 0&&V.length===3){let X,ee,J;const ce=Z["00281201"],W=Z["00281202"],ne=Z["00281203"];if(V[2]===16){let se=!1,de=V[0];de===0&&(de=65536);const ve=ce.vl;if(ve!==2*de&&(se=!0,De.info("16bits lut but size is not double. desc: "+de+" vl: "+ve)),parseInt(Bt(Z,vb),10)===8&&(se=!0,De.info("Scaling 16bits color lut since bits allocated is 8.")),se){const Te=function(Me){return Me>>8};X=ce.value.map(Te),ee=W.value.map(Te),J=ne.value.map(Te)}}else if(V[2]===8){De.info("Scaling 16bits color lut since the lut descriptor is 8.");let se=ce.value.slice(0);X=Array.from(new Uint8Array(se.buffer)),se=W.value.slice(0),ee=Array.from(new Uint8Array(se.buffer)),se=ne.value.slice(0),J=Array.from(new Uint8Array(se.buffer))}N=new sp(X,ee,J)}return N}(e);Q!==void 0&&I.setPaletteColourMap(Q)}const F={numberOfFiles:i};F.TransferSyntaxUID=a("00020010"),F.MediaStorageSOPClassUID=a("00020002"),F.SOPClassUID=a(mb),F.Modality=a(Sb),F.ImageType=a("00080008"),F.SamplesPerPixel=a(yb),F.PhotometricInterpretation=a("00280004"),F.PixelRepresentation=a("00280103"),F.BitsAllocated=a(vb),F.BitsStored=a("00280101"),F.HighBit=a("00280102"),F.ImageOrientationPatient=o("00200037");const G=Object.keys(bb);for(const Q of G)F[Q]=a(bb[Q]);if(P)F.pixelUnit="SUV";else{const Q=function(Z){return function(N){let V;const X=["RescaleType","Units"];for(const ee of X)if(Bt(N,Di[ee])!==void 0)break;if(V===void 0){const ee=Bt(N,Di.Modality);ee!==void 0&&ee==="CT"&&(V="HU")}return V}(Z)}(e);Q!==void 0&&(F.pixelUnit=Q)}F.lengthUnit=m===void 0?"unit.pixel":"unit.mm";const H=function(Q,Z){let N;const V=Ni(Q,"00281050"),X=Ni(Q,"00281051");if(V!==void 0&&X!==void 0){N={};const ee=Ni(Q,"00281055");let J;for(let ce=0;ce<V.length;++ce){const W=parseFloat(V[ce]);let ne=parseFloat(X[ce]);W&&ne&&ne!==0&&(J="",ee!==void 0&&(J=ee[ce]),J===""&&(J="Default"+ce),ne*=Z,ne<1&&(ne=1),N[J]={wl:[new qn(W*Z,ne)],name:J}),ne===0&&De.warn("Zero window width found in DICOM.")}}return N}(e,A);return H!==void 0&&(F.windowPresets=H),F.VOILUTFunction=a("00281056"),I.setMeta(F),I}}let Cb=0;function sL(n){const e="."+new Date().toISOString().replace(/\D/g,"").substring(0,14);Cb+=1;const t="."+Cb;let i="1.2.826.0.1.3680043.9.7278.1.";const a=29+t.length+e.length,o=Math.min(n.length,64-a);if(o>1){let l="";for(let c=0;c<o;++c)l+=n.charCodeAt(c);i+=l.substring(0,o)}return i+=e+t,i}function Rc(n){const e=Object.keys(n),t={};for(const i of e){const a=KP(i);if(a===void 0)continue;const o=a.getVrFromDictionary();let l,c=!1;const d=n[i];if(o==="SQ"){const f=[];if(d.undefinedLength!==void 0&&(c=d.undefinedLength),Array.isArray(d.value))for(const m of d.value)f.push(Rc(m));else De.debug("Non array simpleTag SQ value");l=f}else l=Array.isArray(d)?d:[d];const h=new Ja(o);h.tag=a,h.value=l,c&&(h.undefinedLength=c),t[a.getKey()]=h}return t}const Db="00080100",Tb="00080102",wb="00080119",xb="00080120";class Oc{meaning;value;longValue;urnValue;schemeDesignator;constructor(e){this.meaning=e}toString(){return"("+this.value+", "+this.schemeDesignator+", '"+this.meaning+"')"}}function _0(n,e){return n!==void 0&&e!==void 0&&n.schemeDesignator===e.schemeDesignator&&n.value===e.value}function ts(n){const e=new Oc(n["00080104"].value[0]);if(n[Db]!==void 0)e.value=n[Db].value[0];else if(n[wb]!==void 0)e.longValue=n[wb].value[0];else{if(n[xb]===void 0)throw new Error("Invalid code with no value, no long value and no urn value.");e.urnValue=n[xb].value[0]}if(e.value!==void 0||e.longValue!==void 0){if(n[Tb]===void 0)throw new Error("No coding sheme designator when code value or long value is present");e.schemeDesignator=n[Tb].value[0]}return e}function fa(n){const e={};return n.value!==void 0?e.CodeValue=n.value:n.longValue!==void 0?e.LongCodeValue=n.longValue:n.urnValue!==void 0&&(e.URNCodeValue=n.urnValue),n.schemeDesignator!==void 0&&(e.CodingSchemeDesignator=n.schemeDesignator),e.CodeMeaning=n.meaning,e}const Ab={value:"111017",meaning:"CAD Processing and Findings Summary"},Rb={value:"111030",meaning:"Image Region"},Ob={value:"111059",meaning:"Single Image Finding"},lL={value:"111099",meaning:"Selected region"},cL={value:"111242",meaning:"All algorithms succeeded; with findings"},Pb={value:"112000",meaning:"Chest CAD Report"},Lb={value:"112020",meaning:"Response Evaluation"},uL={value:"112021",meaning:"Response Evaluation Method"},dL={value:"112022",meaning:"RECIST"},f0={value:"112039",meaning:"Tracking Identifier"},Ib={value:"112051",meaning:"Measurement of Response"},A1={value:"112040",meaning:"Tracking Unique Identifier"},Eb={value:"112048",meaning:"Current Response"},hL={value:"113076",meaning:"Segmentation"},fL={value:"121055",meaning:"Path"},_b={value:"121106",meaning:"Comment"},gL={value:"121322",meaning:"Source image for image processing operation"},pL={value:"121324",meaning:"Source Image"},g0={value:"122438",meaning:"Reference Points"},p0={value:"125007",meaning:"Measurement Group"},Mb={value:"125309",meaning:"Short Label"},R1={value:"126000",meaning:"Imaging Measurement Report"},Fb={value:"126010",meaning:"Imaging Measurements"},Ub={value:"128773",meaning:"Reference Geometry"},mL={1483009:"Angle",42798e3:"Area",103355008:"Width",103339001:"Long axis",103340004:"Short axis",131190003:"Radius",261665006:"Unknown",410668003:"Length",718499004:"Color"},SL={1:"No units",mm:"Millimeter",deg:"Degree - plane angle",cm2:"Square centimeter","cm2/ml":"Square centimeter per milliliter","/cm":"Per centimeter","g/ml":"Gram per milliliter","g/ml{SUVbw}":"Standardized Uptake Value body weight","mg/ml":"Milligram per milliliter","umol/ml":"Micromole per milliliter","Bq/ml":"Becquerels per milliliter","mg/min/ml":"Milligrams per minute per milliliter","umol/min/ml":"Micromole per minute per milliliter","ml/min/g":"Milliliter per minute per gram","ml/g":"Milliliter per gram","ml/min/ml":"Milliliter per minute per milliliter","ml/ml":"Milliliter per milliliter","%":"Percentage","[hnsf'U]":"Hounsfield unit","10*23/ml":"Electron density","{counts}":"Counts","{counts}/s":"Counts per second","{propcounts}":"Proportional to counts","{propcounts}/s":"Proportional to counts per second"};function Xe(n){const e=new Oc(n.meaning);return e.schemeDesignator="DCM",e.value=n.value,e}function $0(n,e){let t,i;return e==="SCT"?t=mL[n]:e==="UCUM"&&(t=SL[n]),t!==void 0&&(i=new Oc(t),i.schemeDesignator=e,i.value=n),i}function kb(){return $0("718499004","SCT")}const Sg={angle:{key:"1483009",scheme:"SCT"},length:{key:"410668003",scheme:"SCT"},surface:{key:"42798000",scheme:"SCT"},height:{key:"121207",scheme:"DCM"},width:{key:"103355008",scheme:"SCT"},radius:{key:"131190003",scheme:"SCT"},a:{key:"103339001",scheme:"SCT"},b:{key:"103340004",scheme:"SCT"},min:{key:"113051",scheme:"DCM"},max:{key:"113048",scheme:"DCM"},mean:{key:"113049",scheme:"DCM"},stddev:{key:"113061",scheme:"DCM"}},yg={"unit.mm":"mm","unit.cm2":"cm2","unit.degree":"deg",HU:"[hnsf'U]",MGML:"mg/ml",ED:"10*23/ml",PCT:"%",CNTS:"{counts}",NONE:"1",CM2:"cm2",CM2ML:"cm2/ml",PCNT:"%",CPS:"{counts}/s",BQML:"Bq/ml",MGMINML:"mg/min/ml",UMOLMINML:"umol/min/ml",MLMING:"ml/min/g",MLG:"ml/g","1CM":"/cm",UMOLML:"umol/ml",PROPCNTS:"{propcounts}",PROPCPS:"{propcounts}/s",MLMINML:"ml/min/ml",MLML:"ml/ml",GML:"g/ml",SUV:"g/ml{SUVbw}"};function D3(n){const e=yg[n];let t;return e!==void 0?t=$0(e,"UCUM"):e===void 0&&(t=$0("1","UCUM")),t}const Nb="00620005",qb="00620009",Bb="0062000C",Gb="0062000D",zb="00620003",Vb="0062000F",Qb="00620020";class yL{number;label;algorithmType;algorithmName;displayValue;displayRGBValue;propertyTypeCode;propertyCategoryCode;trackingUid;trackingId;constructor(e,t,i){this.number=e,this.label=t,this.algorithmType=i}}function vL(n){const e=new yL(n["00620004"].value[0],n[Nb]?n[Nb].value[0]:"n/a",n["00620008"].value[0]);if(n[qb]!==void 0&&(e.algorithmName=n[qb].value[0]),n[Bb]!==void 0)e.displayValue=n[Bb].value[0];else if(n[Gb]!==void 0){const i=n[Gb].value,a=function(o){return function(l){function c(m){let v=null;return v=m<=.0031308?12.92*m:1.055*Math.pow(m,.416666667)-.055,Math.min(1,Math.max(0,v))}const d=l.x/100,h=l.y/100,f=l.z/100;return{r:Math.round(255*c(3.2406*d-1.5372*h-.4986*f)),g:Math.round(255*c(-.9689*d+1.8758*h+.0415*f)),b:Math.round(255*c(.0557*d-.204*h+1.057*f))}}(function(l){function c(f){let m=null;return m=f>.206896552?Math.pow(f,3):.128418549*f-.017712903,m}const d=c3,h=(l.l+16)/116;return{x:d.x*c(h+l.a/500),y:d.y*c(h),z:d.z*c(h-l.b/200)}}(o))}({l:.001525902*(t={l:i[0],a:i[1],b:i[2]}).l,a:.003891051*t.a-128,b:.003891051*t.b-128});e.displayRGBValue=a}else De.warn("No recommended colour for segment, using default"),e.displayRGBValue=function(i){const a=[new vn(0,0,0),new vn(255,0,0),new vn(0,255,0),new vn(0,0,255),new vn(255,255,0),new vn(0,255,255),new vn(255,0,255),new vn(255,239,213),new vn(0,0,205),new vn(205,133,63),new vn(210,180,140),new vn(102,205,170),new vn(0,0,128),new vn(0,139,139),new vn(46,139,87),new vn(255,228,225)];let o;return o=i<a.length?a[i]:new vn(255*Math.random(),255*Math.random(),255*Math.random()),o}(e.number);var t;if(n[zb]===void 0)throw new Error("Missing Segmented Property Category Code Sequence.");if(e.propertyCategoryCode=ts(n[zb].value[0]),n[Vb]===void 0)throw new Error("Missing Segmented Property Type Code Sequence.");return e.propertyTypeCode=ts(n[Vb].value[0]),n[Qb]!==void 0&&(e.trackingId=n[Qb].value[0],e.trackingUid=n["00620021"].value[0]),e}function bL(n){let e=n.algorithmType;e===void 0&&(e="MANUAL");const t={SegmentNumber:n.number,SegmentLabel:n.label,SegmentAlgorithmType:e};if(e!=="MANUAL"&&n.algorithmName!==void 0&&(t.SegmentAlgorithmName=n.algorithmName),n.displayRGBValue){const i=MP(FP(n.displayRGBValue));t.RecommendedDisplayCIELabValue=[Math.round(i.l),Math.round(i.a),Math.round(i.b)]}else t.RecommendedDisplayGrayscaleValue=n.displayValue;return n.propertyCategoryCode&&(t.SegmentedPropertyCategoryCodeSequence={value:[fa(n.propertyCategoryCode)]}),n.propertyTypeCode&&(t.SegmentedPropertyTypeCodeSequence={value:[fa(n.propertyTypeCode)]}),n.trackingId&&(t.TrackingID=n.trackingId,t.TrackingUID=n.trackingUid),t}const Hb="00089124",jb="00082112",Yb="00081150",Xb="00081155",Wb="00209116",$b="00289110";class CL{dimIndex;imagePosPat;derivationImages;refSegmentNumber;imageOrientationPatient;spacing;constructor(e,t,i,a){this.dimIndex=e,this.imagePosPat=t,this.derivationImages=i,this.refSegmentNumber=a}}function DL(n){const e=[];if(n[Hb]!==void 0){const c=n[Hb].value;for(let d=0;d<c.length;++d){const h=[];if(c[d][jb]!==void 0){const f=c[d][jb].value;for(let m=0;m<f.length;++m){const v={};f[m][Yb]!==void 0&&(v.referencedSOPClassUID=f[m][Yb].value[0]),f[m][Xb]!==void 0&&(v.referencedSOPInstanceUID=f[m][Xb].value[0]),h.push(v)}}e.push({sourceImages:h})}}const t=n["00209111"].value[0]["00209157"].value,i=n["0062000A"].value,a=parseInt(i[0]["0062000B"].value[0],0),o=n["00209113"].value[0]["00200032"].value;for(let c=0;c<o.length;++c)o[c]=parseFloat(o[c]);const l=new CL(t,o,e,a);if(n[Wb]!==void 0){const c=n[Wb];if(c.value.length!==0){const d=c.value[0]["00200037"].value;d!==void 0&&(l.imageOrientationPatient=d)}}if(n[$b]!==void 0){const c=n[$b];if(c.value.length!==0){const d=C3(c.value[0]);d!==void 0&&(l.spacing=d)}else De.warn("No shared functional group pixel measure sequence items.")}return l}function TL(n){const e={FrameContentSequence:{value:[{DimensionIndexValues:n.dimIndex}]},PlanePositionSequence:{value:[{ImagePositionPatient:n.imagePosPat}]},SegmentIdentificationSequence:{value:[{ReferencedSegmentNumber:n.refSegmentNumber}]}};if(n.derivationImages!==void 0){const t=fa(Xe(gL)),i=fa(Xe(hL)),a=[];for(const o of n.derivationImages){const l=[];for(const c of o.sourceImages)l.push({PurposeOfReferenceCodeSequence:{value:[t]},ReferencedSOPClassUID:c.referencedSOPClassUID,ReferencedSOPInstanceUID:c.referencedSOPInstanceUID});a.push({DerivationCodeSequence:{value:[i]},SourceImageSequence:{value:l}})}e.DerivationImageSequence={value:a}}return e}const Kb="00209116",Zb="00289110",Jb={PatientName:"00100010",PatientID:"00100020",PatientBirthDate:"00100030",PatientSex:"00100040",StudyDate:"00080020",StudyTime:"00080030",StudyInstanceUID:"0020000D",StudyID:"00200010",ReferringPhysicianName:"00080090",SeriesDate:"00080021",SeriesTime:"00080031",SeriesInstanceUID:"0020000E",SeriesNumber:"00200011",FrameOfReferenceUID:"00200052",Manufacturer:"00080070",ManufacturerModelName:"00081090",DeviceSerialNumber:"00181000",SoftwareVersions:"00181020",LossyImageCompression:"00282110"};function wL(n,e){const t=n[e.tag];if(e.type===1||e.type===2){if(t===void 0)throw new Error("Missing or empty "+e.name)}else if(t===void 0)return;let i,a=!1;if(i=t.value.length===1?t.value[0]:t.value,Array.isArray(i))for(let o=0;o<e.enum.length;++o){if(!Array.isArray(e.enum[o]))throw new Error("Cannot compare array and non array tag value.");if(f3(e.enum[o],i)){a=!0;break}}else a=e.enum.includes(i);if(!a)throw new Error("Unsupported "+e.name+" value: "+i)}function xL(n,e,t){const i=n.getGeometry().getSize().getDimSize(2),a={};for(let o=0;o<i;++o){const l=t+o,c=n.getValueAtOffset(l);for(const d of e){const h=d.number-1;c===d.number&&(a[h]===void 0&&(a[h]=new Uint8Array(i)),a[h][o]=1)}}return a}const T3=[{name:"TransferSyntaxUID",tag:"00020010",type:"1",enum:[X0,ug,W0]},{name:"MediaStorageSOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"SOPClassUID",tag:"00020002",type:"1",enum:["1.2.840.10008.5.1.4.1.1.66.4"]},{name:"Modality",tag:"00080060",type:"1",enum:["SEG"]},{name:"SegmentationType",tag:"00620001",type:"1",enum:["BINARY"]},{name:"DimensionOrganizationType",tag:"00209311",type:"3",enum:["3D"]},{name:"ImageType",tag:"00080008",type:"1",enum:[["DERIVED","PRIMARY"]]},{name:"SamplesPerPixel",tag:"00280002",type:"1",enum:[1]},{name:"PhotometricInterpretation",tag:"00280004",type:"1",enum:["MONOCHROME2"]},{name:"PixelRepresentation",tag:"00280103",type:"1",enum:[0]},{name:"BitsAllocated",tag:"00280100",type:"1",enum:[1]},{name:"BitsStored",tag:"00280101",type:"1",enum:[1]},{name:"HighBit",tag:"00280102",type:"1",enum:[0]}];function w3(){const n={};for(const e of T3)n[e.name]=e.enum[0];return n}class vg{#e;getWarning(){return this.#e}checkElements(e){}create(e,t,i){const a=function(J){return Bt(e,J)},o=function(J){return Ni(e,J)};for(const J of T3)wL(e,J);const l=hg(e),c=new Ar([l[0],l[1],1]),d=c.getTotalSize();let h=a("00280008");if(h=h!==void 0?parseInt(h,10):1,h!==t.length/d)throw new Error("Buffer and numberOfFrames meta are not equal "+h+" "+t.length/d);const f=function(J){const ce=J["00209221"];if(ce===void 0||ce.value.length!==1)throw new Error("Unsupported dimension organization sequence length");const W=ce.value[0]["00209164"].value[0],ne=[],se=J["00209222"];if(se!==void 0){const de=se.value;if(de.length!==2)throw new Error("Unsupported dimension index sequence length");let ve;for(let Te=0;Te<de.length;++Te){const Me=de[Te]["00209164"].value[0];if(Me!==W)throw new Error("Dimension Index Sequence contains a unknown Dimension Organization");ve=de[Te]["00209165"].value[0];const q={DimensionOrganizationUID:Me,DimensionIndexPointer:ve};de[Te]["00209421"]!==void 0&&(q.DimensionDescriptionLabel=de[Te]["00209421"].value[0]),ne.push(q)}if(ve!=="(0020,0032)")throw new Error("Unsupported non image position as last index")}return{organizations:{value:[{DimensionOrganizationUID:W}]},indices:{value:ne}}}(e),m=o("00620002");if(m===void 0)throw new Error("Missing or empty segmentation sequence");const v=[],p=[0],S=[0],y=[0];for(let J=0;J<m.length;++J){const ce=vL(m[J]);ce.displayRGBValue!==void 0&&(p[ce.number]=ce.displayRGBValue.r,S[ce.number]=ce.displayRGBValue.g,y[ce.number]=ce.displayRGBValue.b),v.push(ce)}let b,w,D,C=!1;p.length>1&&(C=!0,b=new sp(p,S,y));const x=o("52009229");if(x!==void 0){const J=x[0];if(J[Kb]!==void 0){const ce=J[Kb];ce.value.length!==0?D=ce.value[0]["00200037"].value:De.warn("No shared functional group plane orientation sequence items.")}if(J[Zb]!==void 0){const ce=J[Zb];ce.value.length!==0?w=C3(ce.value[0]):De.warn("No shared functional group pixel measure sequence items.")}}const R=function(J,ce){return J.some(function(W){return ne=ce,se=W,JSON.stringify(ne)===JSON.stringify(se);var ne,se})},I=function(J,ce){return J.findIndex(function(W){return ce.equals(W)})},k=o("52009230");if(k===void 0)throw new Error("Missing or empty per frame functional sequence");if(h!==k.length)throw new Error("perFrameFuncGroupSequence meta and numberOfFrames are not equal.");const _=[];for(let J=0;J<k.length;++J)_.push(DL(k[J]));const M=[];for(let J=0;J<_.length;++J){if(R(M,_[J].imagePosPat)||M.push(_[J].imagePosPat),_[J].imageOrientationPatient!==void 0){if(D===void 0)D=_[J].imageOrientationPatient;else if(!f3(D,_[J].imageOrientationPatient))throw new Error("Unsupported multi orientation dicom seg.")}if(_[J].spacing!==void 0){if(w===void 0)w=_[J].spacing;else if(!w.equals(_[J].spacing))throw new Error("Unsupported multi resolution dicom seg.")}}if(w===void 0)throw new Error("No spacing found for DICOM SEG");if(w.length()!==3)throw new Error("Incomplete spacing found for DICOM SEG");if(D===void 0)throw new Error("No imageOrientationPatient found for DICOM SEG");const U=cp(D.map(J=>parseFloat(J)));if(U===void 0)throw new Error("Invalid imageOrientationPatient found for DICOM SEG");M.sort(function(J){const ce=J.getInverse();return function(W,ne){const se=ce.multiplyArray3D(W),de=ce.multiplyArray3D(ne);return se[2]-de[2]}}(U));const B=function(J){return new Et(J[0],J[1],J[2])},L=[];for(const J of M)L.push(B(J));let P;P=i!==void 0?this.#t(L,c,w,U,i.getGeometry().getOrigins()):this.#n(L,c,w,U);const A=P.getSize().get(2),E=function(J){return function(ce){return ce.number===J}},F=new t.constructor(d*A);F.fill(0);const G=P.getOrigins();let H,Q,Z;for(let J=0;J<_.length;++J){if(H=I(G,B(_[J].imagePosPat)),H===-1)throw new Error("Cannot find frame origin in mask origins");Q=d*J,Z=d*H;const ce=v.find(E(_[J].refSegmentNumber));for(let W=0;W<d;++W)t[Q+W]!==0&&(F[Z+W]=C?ce.number:ce.displayValue)}const N=[];for(let J=0;J<A;++J)N.push(J.toString());const V=new io(P,F,N);C&&(V.setPhotometricInterpretation("PALETTE COLOR"),V.setPaletteColourMap(b));const X=w3(),ee=Object.keys(Jb);for(const J of ee)X[J]=a(Jb[J]);return X.DimensionOrganizationSequence=f.organizations,X.DimensionIndexSequence=f.indices,X.custom={segments:v,frameInfos:_,SOPInstanceUID:a("00080018")},X.lengthUnit=i.getMeta().lengthUnit,X.numberOfFiles=A,V.setMeta(X),V}#t(e,t,i,a,o){const l=function(f,m){return f.findIndex(function(v){return m.isSimilar(v,1e-4)})},c=[];c.push(e[0]);let d=l(o,e[0]);if(d===-1)throw new Error("No index for first frame origin");for(let f=1;f<e.length;++f){const m=e[f],v=l(o,m);if(v===-1)throw new Error("No index for frame origin "+f);if(v!==d+1)for(let p=d+1;p<v;++p)c.push(o[p]);c.push(m),d=v}const h=new ca([e[0]],t,i,a);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}#n(e,t,i,a){De.warn("Guessing image geometry for DICOM SEG");const o=new ca([e[0]],t,i,a),l=function(f){let m=f>Ad;return m&&(m=f>.001,m?(m=f>.01,m||De.warn("Using larger+ real world epsilon in SEG pos pat adding")):De.warn("Using larger real world epsilon in SEG pos pat adding")),m},c=[];c.push(e[0]);let d=0;for(let f=1;f<e.length;++f){++d;let m=new pt([0,0,d]),v=o.indexToWorld(m).get3D();const p=e[f];let S=p.getDistance(v);const y=S;for(;l(S);)if(De.debug("Adding intermediate pos pats for DICOM seg at "+v.toString()),c.push(v),++d,m=new pt([0,0,d]),v=o.indexToWorld(m).get3D(),S=p.getDistance(v),S>y)throw new Error("Test distance is increasing when adding intermediate pos pats");c.push(p)}const h=new ca([e[0]],t,i,a);for(let f=1;f<c.length;++f)h.appendOrigin(c[f],f);return h}toDicom(e,t,i,a){const o=e.getMeta();t===void 0&&(t=o.segments);const l=e.getGeometry(),c=l.getSize();o.Rows=c.get(1),o.Columns=c.get(0);const d=new Date;o.ContentDate=pg(fg(d)),o.ContentTime=mg(gg(d)),i!==void 0&&(o.StudyInstanceUID=i.getMeta().StudyInstanceUID);const h=[];for(const R of t)h.push(bL(R));var f,m;o.SegmentSequence={value:h},o.SharedFunctionalGroupsSequence={value:[{PlaneOrientationSequence:{value:[(m=l.getOrientation(),{ImageOrientationPatient:[m.get(0,0),m.get(1,0),m.get(2,0),m.get(0,1),m.get(1,1),m.get(2,1)]})]},PixelMeasuresSequence:{value:[(f=l.getSpacing(),{SpacingBetweenSlices:f.get(2),PixelSpacing:[f.get(1),f.get(0)]})]}}]};const v=function(R,I){const k=R.getGeometry().getSize(),_=k.getDimSize(2),M={};for(let U=0;U<k.get(2);++U){const B=xL(R,I,U*_),L=Object.keys(B);for(const P of L)M[P]===void 0&&(M[P]={}),M[P][U]=B[P]}return M}(e,t),p=[],S=[],y=[];for(const R of t){const I=R.number,k=I-1;if(v[k]===void 0)continue;const _=Object.keys(v[k]);for(let M=_.length-1;M>=0;--M){const U=Number.parseInt(_[M],10);S.push(v[k][U]);const B=e.getGeometry().getOrigins()[U],L=[B.getX(),B.getY(),B.getZ()],P={dimIndex:[I,_.length-M],imagePosPat:L,refSegmentNumber:I};if(i!==void 0){const A=i.getGeometry().worldToIndex(new Or([B.getX(),B.getY(),B.getZ()]));P.derivationImages=[{sourceImages:[{referencedSOPInstanceUID:i.getImageUid(A),referencedSOPClassUID:i.getMeta().SOPClassUID}]}],y.push({ReferencedSOPInstanceUID:i.getImageUid(A),ReferencedSOPClassUID:i.getMeta().SOPClassUID})}p.push(P)}}o.NumberOfFrames=S.length.toString();const b=[];for(const R of p)b.push(TL(R));if(o.PerFrameFunctionalGroupsSequence={value:b},i!==void 0){const R=[];R.push({ReferencedInstanceSequence:{value:y},SeriesInstanceUID:i.getMeta().SeriesInstanceUID}),o.ReferencedSeriesSequence={value:R}}a!==void 0&&function(R,I){const k=Object.keys(I);for(const _ of k)R[_]!==void 0&&De.debug("Overwritting tag: "+_),R[_]=I[_]}(o,a);const w=Rc(o),D=c.getDimSize(2),C=S.length*D/8,x=new Ja("OB");return x.tag=new Ac("7FE0","0010"),x.vl=C,x.value=S,w["7FE00010"]=x,w}}class x3{poolSize;taskQueue;freeThreads;runningThreads;constructor(e){this.poolSize=e,this.taskQueue=[],this.freeThreads=[];for(let t=0;t<e;++t)this.freeThreads.push(new AL(this));this.runningThreads=[]}addWorkerTask(e){if(this.freeThreads.length===this.poolSize&&this.onworkstart({type:"work-start"}),this.freeThreads.length>0){const t=this.freeThreads.shift();this.runningThreads.push(t),t.run(e)}else this.taskQueue.push(e)}abort(){this.#e(),this.onabort({type:"work-abort"}),this.onworkend({type:"work-end"})}onTaskEnd(e){if(this.taskQueue.length>0){const t=this.taskQueue.shift();e.run(t)}else{e.stop(),this.freeThreads.push(e);for(let t=0;t<this.runningThreads.length;++t)this.runningThreads[t].getId()===e.getId()&&this.runningThreads.splice(t,1);this.freeThreads.length===this.poolSize&&(this.onwork({type:"work"}),this.onworkend({type:"work-end"}))}}handleWorkerError=e=>{this.#e(),this.onerror({error:e}),this.onworkend({type:"work-end"})};#e(){this.taskQueue=[];for(let e=0;e<this.runningThreads.length;++e)this.runningThreads[e].stop();this.runningThreads=[]}onworkstart(e){}onworkitem(e){}onwork(e){}onworkend(e){}onerror(e){}onabort(e){}}class AL{parentPool;id;runningTask;worker;constructor(e){this.parentPool=e,this.id=Math.random().toString(36).substring(2,15)}getId(){return this.id}run(e){this.runningTask=e,this.worker===void 0&&(this.worker=this.runningTask.getWorker(),this.worker.onmessage=this.onmessage,this.worker.onerror=this.onerror),this.worker.postMessage(this.runningTask.startMessage)}stop(){this.worker!==void 0&&(this.worker.terminate(),this.worker=void 0)}onmessage=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.onworkitem(e),this.parentPool.onTaskEnd(this)};onerror=e=>{e.itemNumber=this.runningTask.info.itemNumber,e.numberOfItems=this.runningTask.info.numberOfItems,e.index=this.runningTask.info.index,this.parentPool.handleWorkerError(e),this.stop()}}class kc{constructor(e,t){this.startMessage=e,this.info=t}getWorker(){}}class RL extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cn.u(391),Cn.b),{name:"labeling.worker",type:"module"})}}class OL{#e=new x3(1);constructor(){this.#e.onerror=e=>{console.error("Labeling failed!",e.error)}}run(e,t){this.#e.onworkitem=this.ondone;const i=new RL(function(a,o){const l=o.length(),c=Array(l).fill(0);for(let h=0;h<l;h++)c[h]=o.getDimSize(h);const d=Array(l).fill(0);for(let h=0;h<l;h++)d[h]=o.get(h);return{imageBuffer:a,unitVectors:c,sizes:d,totalSize:o.getTotalSize()}}(e,t),{});this.#e.addWorkerTask(i)}ondone(e){}}class io{#e;#t;#n;#r=new lp(1,0);#i=null;#a=!0;#o=!0;#s="MONOCHROME2";#l;#d=0;#c;#u={};#h=null;#f=null;#g=null;#m=new Kn;#p;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i,this.#p=null,this.#c=this.#t.length/this.#e.getSize().getTotalSize()}getImageUid(e){let t=this.#n[0];return this.#n.length!==1&&e!==void 0&&(t=this.#n[this.getSecondaryOffset(e)]),t}getOriginForImageUid(e){let t;const i=this.#n.indexOf(e);return i!==-1&&(t=this.getGeometry().getOrigins()[i]),t}includesImageUid(e){return this.#n.includes(e)}containsImageUids(e){return function(t,i){if(t===null||i===null||t===void 0||i===void 0||t.length===0||i.length===0||i.length>t.length)return!1;for(const a of i)if(!t.includes(a))return!1;return!0}(this.#n,e)}getGeometry(){return this.#e}getBuffer(){return this.#t}canQuantify(){return this.getNumberOfComponents()===1}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return gp(this.getPhotometricInterpretation())}canScroll(e){const t=this.getGeometry().getSize();let i=1;return this.#u.numberOfFiles!==void 0&&(i=this.#u.numberOfFiles),t.canScroll(e)||i!==1}#b(){return this.#e.getSize().getTotalSize(2)}getSecondaryOffset(e){return this.#e.getSize().indexToOffset(e,2)}getRescaleSlopeAndIntercept(e){let t=this.#r;if(!this.isConstantRSI()){if(e===void 0)throw new Error("Cannot get non constant RSI with empty slice index.");const i=this.getSecondaryOffset(e);this.#i[i]!==void 0?t=this.#i[i]:De.warn("undefined non constant rsi at "+i)}return t}#S(e){return this.#i[e]}setRescaleSlopeAndIntercept(e,t){if(this.#a=this.#a&&e.isID(),this.#o){if(!this.#r.equals(e))if(t===void 0)this.#r=e;else{this.#o=!1,this.#i=[];for(let i=0,a=this.#b();i<a;++i)this.#i.push(this.#r);this.#r=null,this.#i.splice(t,0,e)}}else{if(t===void 0)throw new Error("Cannot store non constant RSI with empty slice index.");this.#i.splice(t,0,e)}}isIdentityRSI(){return this.#a}isConstantRSI(){return this.#o}getPhotometricInterpretation(){return this.#s}setPhotometricInterpretation(e){this.#s=e}setPaletteColourMap(e){this.#l=e,this.#C({type:"imagecontentchange"})}getPaletteColourMap(){return this.#l}updatePaletteColourMap(e,t){this.#l.red[e]=t.r,this.#l.green[e]=t.g,this.#l.blue[e]=t.b,this.#C({type:"imagecontentchange"})}getPlanarConfiguration(){return this.#d}setPlanarConfiguration(e){this.#d=e}getNumberOfComponents(){return this.#c}getMeta(){return this.#u}setMeta(e){this.#u=e}getValueAtOffset(e){return this.#t[e]}getOffsets(e){let t;if(typeof e=="number"){if(this.#c!==1)throw new Error("Number of components is not 1 for getting single value.");t=[e]}else if(e.r!==void 0&&e.g!==void 0&&e.b!==void 0){if(this.#c!==3)throw new Error("Number of components is not 3 for getting RGB value.");t=[e.r,e.g,e.b]}const i=[];let a;for(let o=0;o<this.#t.length;o+=this.#c){a=!0;for(let l=0;l<this.#c;++l)if(this.#t[o+l]!==t[l]){a=!1;break}a&&i.push(o)}return i}hasValues(e){if(e===void 0||e.length===0)return[];const t=[];for(let h=0;h<e.length;++h)this.#c===1?t.push([e[h]]):this.#c===3&&t.push([e[h].r,e[h].g,e[h].b]);let i;this.#c===1?i=function(h,f){return h[0]===f[0]}:this.#c===3&&(i=function(h,f){return h[0]===f[0]&&h[1]===f[1]&&h[2]===f[2]});const a=function(h){return function(f){return i(f,h)}},o=new Array(e.length);o.fill(!1);const l=t.slice();let c,d;for(let h=0,f=this.#t.length;h<f;h+=this.#c){d=[];for(let m=0;m<l.length;++m){c=!0;for(let v=0;v<this.#c;++v)if(this.#t[h+v]!==l[m][v]){c=!1;break}c&&(o[t.findIndex(a(l[m]))]=!0,d.push(m))}for(let m=0;m<d.length;++m)l.splice(d[m],1);if(l.length===0)break}return o}clone(){const e=this.#t.slice(0),t=new io(this.getGeometry(),e,this.#n);if(this.isConstantRSI())t.setRescaleSlopeAndIntercept(this.getRescaleSlopeAndIntercept());else for(let i=0;i<this.#b();++i)t.setRescaleSlopeAndIntercept(this.#S(i),i);return t.setPhotometricInterpretation(this.getPhotometricInterpretation()),t.setPlanarConfiguration(this.getPlanarConfiguration()),t.setMeta(this.getMeta()),t}#y(e){let t=this.#t;if(this.#t=rL(8*this.#t.BYTES_PER_ELEMENT,this.#u.PixelRepresentation,e),this.#t===null)throw new Error("Cannot reallocate data for image.");this.#t.set(t),t=null}appendSlice(e){if(e===null)throw new Error("Cannot append null slice");const t=e.getGeometry().getSize();let i=this.#e.getSize();if(t.get(2)!==1)throw new Error("Cannot append more than one slice");if(i.get(0)!==t.get(0))throw new Error("Cannot append a slice with different number of columns");if(i.get(1)!==t.get(1))throw new Error("Cannot append a slice with different number of rows");if(!this.#e.getOrientation().isSimilar(e.getGeometry().getOrientation(),Ad))throw new Error("Cannot append a slice with different orientation");if(this.#s!==e.getPhotometricInterpretation())throw new Error("Cannot append a slice with different photometric interpretation");for(const D in this.#u)if(D!=="windowPresets"&&D!=="numberOfFiles"&&D!=="custom"&&D!=="ImageOrientationPatient"&&this.#u[D]!==e.getMeta()[D])throw new Error("Cannot append a slice with different "+D+": "+this.#u[D]+" != "+e.getMeta()[D]);const a=e.getDataRange(),o=this.getDataRange();this.#h={min:Math.min(a.min,o.min),max:Math.max(a.max,o.max)};const l=e.getRescaledDataRange(),c=this.getRescaledDataRange();this.#f={min:Math.min(l.min,c.min),max:Math.max(l.max,c.max)};const d=e.getGeometry().getInitialTime();let h=!1;d===void 0||this.#e.hasSlicesAtTime(d)||(this.appendFrame(d,e.getGeometry().getOrigin()),i=this.#e.getSize(),h=!0);const f=function(D,C){const x=C.getInitialTime(),R=[];return R.push(0),R.push(0),R.push(D.getSliceIndex(C.getOrigin(),x)),x!==void 0&&R.push(x),new pt(R)}(this.#e,e.getGeometry()),m=this.#c*i.getDimSize(2);if(this.#u.numberOfFiles===void 0)throw new Error("Missing number of files for buffer manipulation.");const v=m*this.#u.numberOfFiles;this.#t.length!==v&&this.#y(v);const p=f.get(2);let S=p;d!==void 0&&(S+=this.#e.getCurrentNumberOfSlicesBeforeTime(d));const y=S*m,b=this.#e.getCurrentTotalNumberOfSlices()*m;y<b&&this.#t.set(this.#t.subarray(y,b),y+m),this.#t.set(e.getBuffer(),y),h||this.#e.appendOrigin(e.getGeometry().getOrigin(),p,d),this.setRescaleSlopeAndIntercept(e.getRescaleSlopeAndIntercept(),S);const w=this.#n.length;if(this.#n.splice(S,0,e.getImageUid()),this.#u.windowPresets!==void 0){const D=this.#u.windowPresets,C=e.getMeta().windowPresets,x=Object.keys(C);let R=null;for(let I=0;I<x.length;++I){R=x[I];const k=C[R],_=D[R];if(_!==void 0){if((_.perslice===void 0||_.perslice===!1)&&!_.wl[0].equals(k.wl[0])){_.perslice=!0;for(let M=0;M<w-1;++M)_.wl.push(_.wl[0])}_.perslice!==void 0&&_.perslice===!0&&D[R].wl.splice(S,0,k.wl[0])}else D[R]=C[R]}}this.#C({type:"imagegeometrychange"})}appendFrameBuffer(e,t){const i=this.#e.getSize(),a=this.#c*i.getDimSize(2);if(this.#u.numberOfFiles===void 0)throw new Error("Missing number of files for frame buffer manipulation.");const o=a*this.#u.numberOfFiles;this.#t.length!==o&&this.#y(o),t>=this.#u.numberOfFiles?De.warn("Ignoring frame at index "+t+" (size: "+this.#u.numberOfFiles+")"):(this.#t.set(e,a*t),this.appendFrame(t,new Et(0,0,0)))}appendFrame(e,t){this.#e.appendFrame(t,e),this.#C({type:"appendframe"})}getDataRange(){return this.#h||(this.#h=this.calculateDataRange()),this.#h}getRescaledDataRange(){return this.#f||(this.#f=this.calculateRescaledDataRange()),this.#f}getHistogram(){if(!this.#g){const e=this.calculateHistogram();this.#h=e.dataRange,this.#f=e.rescaledDataRange,this.#g=e.histogram}return this.#g}addEventListener(e,t){this.#m.add(e,t)}removeEventListener(e,t){this.#m.remove(e,t)}#C=e=>{this.#m.fireEvent(e)};setAtOffsets(e,t){let i,a;if(typeof t=="number"){if(this.#c!==1)throw new Error("Number of components is not 1 for setting single value.");i=[t]}else if(t.r!==void 0&&t.g!==void 0&&t.b!==void 0){if(this.#c!==3)throw new Error("Number of components is not 3 for setting RGB value.");i=[t.r,t.g,t.b]}for(let o=0,l=e.length;o<l;++o){a=e[o];for(let c=0;c<this.#c;++c)this.#t[a+c]=i[c]}this.#C({type:"imagecontentchange"})}setAtOffsetsAndGetOriginals(e,t){const i=[];for(let a=0;a<e.length;++a){const o=e[a];let l=o[0],c=this.#t[l];const d=[];d.push({index:0,value:c});for(let h=0;h<o.length;++h){l=o[h];const f=this.#t[l];c!==f&&(d.push({index:h,value:f}),c=f),this.#t[l]=t}i.push(d)}return this.#C({type:"imagecontentchange"}),i}setAtOffsetsWithIterator(e,t){const i=Array.isArray(t);for(let a=0;a<e.length;++a){const o=e[a];let l;l=qP(i?t[a]:[{index:0,value:t}],o.length);let c=l.next();for(;!c.done;){const d=o[c.index];this.#t[d]=c.value,c=l.next()}}this.#C({type:"imagecontentchange"})}getValue(e,t,i,a){const o=new pt([e,t,i,a||0]);return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(o))}getValueAtIndex(e){return this.getValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValue(e,t,i,a){a===void 0&&(a=0);let o=this.getValue(e,t,i,a);if(!this.isIdentityRSI())if(this.isConstantRSI())o=this.getRescaleSlopeAndIntercept().apply(o);else{const l=new pt([e,t,i,a]);o=this.getRescaleSlopeAndIntercept(l).apply(o)}return o}getRescaledValueAtIndex(e){return this.getRescaledValueAtOffset(this.getGeometry().getSize().indexToOffset(e))}getRescaledValueAtOffset(e){let t=this.getValueAtOffset(e);if(!this.isIdentityRSI())if(this.isConstantRSI())t=this.getRescaleSlopeAndIntercept().apply(t);else{const i=this.getGeometry().getSize().offsetToIndex(e);t=this.getRescaleSlopeAndIntercept(i).apply(t)}return t}calculateDataRange(){let e=this.getValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()>=3&&(o=a.getDimSize(3));for(let l=0;l<o;++l)i=this.getValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}calculateRescaledDataRange(){if(this.isIdentityRSI())return this.getDataRange();if(this.isConstantRSI()){const e=this.getDataRange(),t=this.getRescaleSlopeAndIntercept().apply(e.min),i=this.getRescaleSlopeAndIntercept().apply(e.max);return{min:t<i?t:i,max:t>i?t:i}}{let e=this.getRescaledValueAtOffset(0),t=e,i=0;const a=this.getGeometry().getSize();let o=a.getTotalSize();a.length()===3&&(o=a.getDimSize(3));for(let l=0;l<o;++l)i=this.getRescaledValueAtOffset(l),i>t&&(t=i),i<e&&(e=i);return{min:e,max:t}}}calculateHistogram(){const e=this.getGeometry().getSize(),t=[];let i=this.getValueAtOffset(0),a=i,o=0,l=this.getRescaledValueAtOffset(0),c=l,d=0;for(let v=0,p=e.getTotalSize();v<p;++v)o=this.getValueAtOffset(v),o>a&&(a=o),o<i&&(i=o),d=this.getRescaledValueAtOffset(v),d>c&&(c=d),d<l&&(l=d),t[d]=(t[d]||0)+1;const h={min:i,max:a},f={min:l,max:c},m=[];for(let v=l;v<=c;++v)m.push([v,t[v]||0]);return{dataRange:h,rescaledDataRange:f,histogram:m}}convolute2D(e){if(e.length!==9)throw new Error("The convolution matrix does not have a length of 9; it has "+e.length);const t=this.clone(),i=t.getBuffer(),a=this.getGeometry().getSize(),o=a.getDimSize(2)*this.getNumberOfComponents();for(let l=0;l<a.get(2);++l)this.convoluteBuffer(e,i,l*o);return t}convoluteBuffer(e,t,i){const a=this.getGeometry().getSize(),o=a.get(0),l=a.get(1),c=this.getNumberOfComponents();let d=1,h=1;c===3&&(this.getPlanarConfiguration()===0?d=3:h=a.getDimSize(2));const f=[];f[0]=(-o-1)*d,f[1]=-o*d,f[2]=(1-o)*d,f[3]=-d,f[4]=0,f[5]=1*d,f[6]=(o-1)*d,f[7]=o*d,f[8]=(o+1)*d;const m=[];m[0]=f[4],m[1]=f[4],m[2]=f[5],m[3]=f[4],m[4]=f[4],m[5]=f[5],m[6]=f[7],m[7]=f[7],m[8]=f[8];const v=[];v[0]=f[1],v[1]=f[1],v[2]=f[2],v[3]=f[4],v[4]=f[4],v[5]=f[5],v[6]=f[7],v[7]=f[7],v[8]=f[8];const p=[];p[0]=f[1],p[1]=f[1],p[2]=f[2],p[3]=f[4],p[4]=f[4],p[5]=f[5],p[6]=f[4],p[7]=f[4],p[8]=f[5];const S=[];S[0]=f[3],S[1]=f[4],S[2]=f[5],S[3]=f[3],S[4]=f[4],S[5]=f[5],S[6]=f[6],S[7]=f[7],S[8]=f[8];const y=[];y[0]=f[0],y[1]=f[1],y[2]=f[2],y[3]=f[3],y[4]=f[4],y[5]=f[5],y[6]=f[3],y[7]=f[4],y[8]=f[5];const b=[];b[0]=f[3],b[1]=f[4],b[2]=f[4],b[3]=f[3],b[4]=f[4],b[5]=f[4],b[6]=f[6],b[7]=f[7],b[8]=f[7];const w=[];w[0]=f[0],w[1]=f[1],w[2]=f[1],w[3]=f[3],w[4]=f[4],w[5]=f[4],w[6]=f[6],w[7]=f[7],w[8]=f[7];const D=[];D[0]=f[0],D[1]=f[1],D[2]=f[1],D[3]=f[3],D[4]=f[4],D[5]=f[4],D[6]=f[3],D[7]=f[4],D[8]=f[4];let C=i,x=0,R=[];for(let I=0;I<c;++I){C+=I*h;for(let k=0;k<l;++k)for(let _=0;_<o;++_){R=f,_===0&&k===0?R=m:_===0&&k===l-1?R=p:_===o-1&&k===0?R=b:_===o-1&&k===l-1?R=D:_===0&&k!==l-1&&k!==0?R=v:_===o-1&&k!==l-1&&k!==0?R=w:_!==0&&_!==o-1&&k===0?R=S:_!==0&&_!==o-1&&k===l-1&&(R=y),x=0;for(let M=0;M<9;++M)x+=this.getValueAtOffset(C+R[M])*e[M];t[C]=x,C+=d}}}transform(e){const t=this.clone(),i=t.getBuffer();for(let a=0,o=i.length;a<o;++a)i[a]=e(t.getValueAtOffset(a));return t}compose(e,t){const i=this.clone(),a=i.getBuffer();for(let o=0,l=a.length;o<l;++o)a[o]=Math.floor(t(this.getValueAtOffset(o),e.getValueAtOffset(o)));return i}recalculateLabels(){if(this.#p===null){this.#p=new OL;const e=this.#e.getSpacing(),t=this.getMeta().lengthUnit;let i=1,a="unit.pixel";t==="unit.mm"&&(i=e.get(0)*e.get(1)*e.get(2)*.001,a="unit.ml"),this.#p.ondone=o=>{const l=o.data.labels;for(const d of l)d.centroid=this.#e.indexToWorld(new pt(d.centroidIndex)),d.volume=d.count*i,d.unit=a;const c=l.sort((d,h)=>h.volume-d.volume).sort((d,h)=>d.id-h.id);this.#C({type:"labelschanged",labels:c})}}this.#p.run(this.#t,this.#e.getSize())}}class A3{#e;#t;#n;#r;#i;constructor(e,t){this.#e=e,this.#t=e.getRealSpacing(),this.#n=e.getOrientation(),this.#r=t,this.#i=function(i,a){let o=i.asOneAndZeros().multiply(a);return i.asOneAndZeros().getAbs().isSimilar(d3().getAbs())&&(o=o.getAbs()),o}(this.#n,t)}getViewOrientation(){return this.#r}getTargetOrientation(){return this.#i}getOffset3DFromPlaneOffset(e){const t=new Vt(e.x,e.y,0),i=this.getTargetDeOrientedVector3D(t);return new Vt(i.getX()*this.#t.get(0),i.getY()*this.#t.get(1),i.getZ()*this.#t.get(2))}getPlaneOffsetFromOffset3D(e){const t=new Vt(e.x/this.#t.get(0),e.y/this.#t.get(1),e.z/this.#t.get(2)),i=this.getTargetOrientedVector3D(t);return{x:i.getX(),y:i.getY()}}getTargetOrientedVector3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.getInverse().multiplyVector3D(e)),t}getTargetDeOrientedVector3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.multiplyVector3D(e)),t}getTargetDeOrientedPoint3D(e){let t=e;return this.#i!==void 0&&(t=this.#i.multiplyPoint3D(e)),t}getImageOrientedVector3D(e){let t=e;if(this.#r!==void 0){const i=gb([e.getX(),e.getY(),e.getZ()],this.#r);t=new Vt(i[0],i[1],i[2])}return t}getImageOrientedPoint3D(e){let t=e;if(this.#r!==void 0){const i=gb([e.getX(),e.getY(),e.getZ()],this.#r);t=new Et(i[0],i[1],i[2])}return t}getImageDeOrientedVector3D(e){let t=e;if(this.#r!==void 0){const i=Sc([e.getX(),e.getY(),e.getZ()],this.#r);t=new Vt(i[0],i[1],i[2])}return t}getImageDeOrientedPoint3D(e){let t=e;if(this.#r!==void 0){const i=Sc([e.getX(),e.getY(),e.getZ()],this.#r);t=new Et(i[0],i[1],i[2])}return t}getPositionFromPlanePoint(e,t){const i=new Et(e.getX(),e.getY(),t),a=this.getImageOrientedPoint3D(i);return this.#e.pointToWorld(a)}getPlanePointFromPosition(e){const t=this.#e.worldToPoint(e);return this.getImageDeOrientedPoint3D(t)}getCosines(){return[(e=this.#i).get(0,0),e.get(1,0),e.get(2,0),e.get(0,1),e.get(1,1),e.get(2,1)];var e}getPlanePoints(e){const t=this.worldToIndex(e),i=this.indexToWorld(t),a=this.getPlanePointFromPosition(i),o=this.getPositionFromPlanePoint(new Ae(0,0),a.getZ()),l=this.#e.getOrigins(),c=l[o.getClosest(l)],d=o.getValues(),h=c.getValues(),f=this.getNativeScrollDimIndex();d[f]=h[f];const m=this.getCosines();return[new Et(d[0],d[1],d[2]),new Et(m[0],m[1],m[2]),new Et(m[3],m[4],m[5])]}worldToIndex(e){return this.#e.worldToIndex(e)}indexToWorld(e){return this.#e.indexToWorld(e)}isAquisitionOrientation(){return Y0(this.#r)}getTargetOrientedPositiveXYZ(e){const t=Sc([e.x,e.y,e.z],this.#i);return{x:t[0],y:t[1],z:t[2]}}getScrollDimIndex(){let e=null;return e=this.#r!==void 0?this.#r.getThirdColMajorDirection():2,e}getNativeScrollDimIndex(){let e=null;return e=this.#n!==void 0?this.#n.getThirdColMajorDirection():2,e}}class PL{#e;constructor(e){this.#e=e}getCurrentPosition(){return this.#e.getCurrentPosition()}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=this.#e.setCurrentPosition(e,t)),i}}class eC{#e;#t;#n;constructor(e){this.#e=new PL(e),this.#t=e.getImage().getGeometry(),this.#n=e.getScrollDimIndex()}getGeometry(){return this.#t}getScrollDimIndex(){return this.#n}getMaximumDimValue(e){return this.#t.getSize().get(e)-1}getMaximumScrollValue(){return this.getMaximumDimValue(this.#n)}getCurrentPosition(){return this.#e.getCurrentPosition()}getCurrentPositionDimValue(e){return this.getCurrentIndex().get(e)}getCurrentPositionScrollValue(){return this.getCurrentPositionDimValue(this.#n)}getCurrentPositionAtDimValue(e,t){const i=this.getCurrentIndex().getValues();return i[e]=t,this.#t.indexToWorld(new pt(i))}getCurrentPositionAtScrollValue(e){return this.getCurrentPositionAtDimValue(this.#n,e)}getCurrentIndex(){return this.#t.worldToIndex(this.getCurrentPosition())}setCurrentPosition(e,t){let i=!1;return e!==void 0&&(i=this.#e.setCurrentPosition(e,t)),i}setCurrentPositionSafe(e,t){let i=!1;return this.isPositionInBounds(e)&&(i=this.setCurrentPosition(e,t)),i}merge(e){if(this.#n!==e.getScrollDimIndex())throw new Error("Cannot merge helper of a view with different orientation");this.#t=function(t,i){const a=t.getOrientation();if(!a.isSimilar(i.getOrientation()))throw new Error("Cannot merge geometries with different orientation");const o=a.getInverse(),l=function(D,C){return D.map((x,R)=>Math.min(x,C[R]))},c=new la(l(t.getSpacing().getValues(),i.getSpacing().getValues())),d=function(D){return o.multiplyPoint3D(D.get3D())},h=t.getRange().map(d),f=i.getRange().map(d),m=l(h[0].getValues(),f[0].getValues()),v=(p=h[1].getValues(),S=f[1].getValues(),p.map((D,C)=>Math.max(D,S[C])));var p,S;const y=[];for(let D=0;D<m.length;++D)y.push(Math.round(Math.abs(v[D]-m[D])/c.get(D)));const b=new Ar(y),w=[];for(let D=0;D<b.get(2);++D){const C=m.slice();C[2]=m[2]+D*c.get(2);const x=new Et(C[0],C[1],C[2]);w.push(a.multiplyPoint3D(x))}return new ca(w,b,c,a)}(this.#t,e.getGeometry())}isPositionInBounds(e){const t=this.#t.worldToIndex(e),i=[this.#n];return t.length()===4&&i.push(3),this.#t.isIndexInBounds(t,i)}getIncrementPosition(e){const t=this.getCurrentIndex().next(e);return this.#t.indexToWorld(t)}getDecrementPosition(e){const t=this.getCurrentIndex().previous(e);return this.#t.indexToWorld(t)}incrementPosition(e){return this.setCurrentPositionSafe(this.getIncrementPosition(e))}decrementPosition(e){return this.setCurrentPositionSafe(this.getDecrementPosition(e))}incrementPositionAlongScroll(){return this.incrementPosition(this.#n)}decrementPositionAlongScroll(){return this.decrementPosition(this.#n)}}class LL{#e;#t;#n;#r;#i=!1;constructor(e){if(e.getImage()===void 0)throw new Error("View does not have an image, cannot setup controller");this.#e=e,this.#t=new A3(e.getImage().getGeometry(),e.getOrientation()),this.#n=new eC(e),e.getImage().getMeta().Modality==="SEG"&&(this.#i=!0)}getPlaneHelper(){return this.#t}isMask(){return this.#i}initialise(){this.resetWindowLevel(),this.resetPosition()}resetWindowLevel(){this.setWindowLevelPresetById(0)}resetPosition(){this.setCurrentPosition(this.getPositionFromPlanePoint(new Ae(0,0)))}getModality(){return this.#e.getImage().getMeta().Modality}getSopClassUid(){return this.#e.getImage().getMeta().SOPClassUID}getWindowLevelPresetsNames(){return this.#e.getWindowPresetsNames()}addWindowLevelPresets(e){return this.#e.addWindowPresets(e)}setWindowLevelPreset(e){this.#e.setWindowLevelPreset(e)}setWindowLevelPresetById(e){this.#e.setWindowLevelPresetById(e)}isPlaying(){return this.#r!==void 0}getPositionHelper(){return this.#n}getPositionHelperClone(){return new eC(this.#e)}getCurrentPosition(){return this.#n.getCurrentPosition()}getCurrentIndex(){return this.#n.getCurrentIndex()}getCurrentImageUid(){return this.#e.getCurrentImageUid()}getOriginForImageUid(e){return this.#e.getOriginForImageUid(e)}includesImageUid(e){return this.#e.includesImageUid(e)}getCurrentOrientedIndex(){let e=this.getCurrentIndex();if(this.#e.getOrientation()!==void 0){const t=this.#t.getImageDeOrientedVector3D(new Vt(e.get(0),e.get(1),e.get(2)));e=new pt([t.getX(),t.getY(),t.getZ()])}return e}getScrollDimIndex(){return this.#e.getScrollDimIndex()}getCurrentIndexScrollValue(){return this.getCurrentIndex().get(this.#e.getScrollDimIndex())}getOrigin(e){return this.#e.getOrigin(e)}isAquisitionOrientation(){return this.#e.isAquisitionOrientation()}getPlanePoints(e){return this.#t.getPlanePoints(e)}getCurrentScrollPosition(){const e=this.#e.getScrollDimIndex();return this.#e.getCurrentPosition().get(e)}generateImageData(e,t){this.#e.generateImageData(e,t)}setImage(e){this.#e.setImage(e)}get2DSpacing(){return this.#e.getImage().getGeometry().getSpacing(this.#e.getOrientation()).get2D()}getRescaledImageValue(e){const t=this.#e.getImage();if(!t.canQuantify())return;const i=t.getGeometry(),a=i.worldToIndex(e);let o;return i.isIndexInBounds(a)&&(o=t.getRescaledValueAtIndex(a)),o}getPixelUnit(){return this.#e.getImage().getMeta().pixelUnit}getLengthUnit(){return this.#e.getImage().getMeta().lengthUnit}#a(e,t,i,a){const o=C1(u3(e,t,i,a)),l=e.getGeometry().getSize(a).getValues();l[2]=1;const c=new Ar(l),d=e.getGeometry().getSpacing(a).getValues();d[2]=1;const h=new la(d),f=new Et(0,0,0),m=new ca([f],c,h);return new io(m,o)}getImageRegionValues(e,t,i){let a=this.#e.getImage();const o=this.#e.getOrientation();let l=i,c=!0;Y0(o)||(a=this.#a(a,l,c,o),l=new pt([0,0,0]),c=!1);const d=function(f,m,v,p,S){if(f.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+f.getNumberOfComponents());v===void 0&&(v=!1);let y=null;y=v?function(x){return f.getRescaledValueAtOffset(x)}:function(x){return f.getValueAtOffset(x)};const b=f.getGeometry().getSize();p===void 0&&(p=new Ae(0,0)),S===void 0&&(S=new Ae(b.get(0)-1,b.get(1)));const w=b.indexToOffset(m.getWithNew2D(p.getX(),p.getY())),D=b.indexToOffset(m.getWithNew2D(S.getX(),S.getY()-1)),C=Math.max(1,S.getX()-p.getX());return function(x,R,I,k,_,M){let U=R,B=0;return{next:function(){if(U<I){const L={value:x(U),done:!1,index:U};return B+=1,U+=1,B===_&&(B=0,U+=M),L}return{done:!0,index:I}}}}(y,w,D+1,0,C,b.get(0)-C)}(a,l,c,e,t);let h=[];return d&&(h=C1(d)),h}getImageVariableRegionValues(e,t){let i=this.#e.getImage();const a=this.#e.getOrientation();let o=t,l=!0;Y0(a)||(i=this.#a(i,o,l,a),o=new pt([0,0,0]),l=!1);const c=function(h,f,m,v){if(h.getNumberOfComponents()!==1)throw new Error("Unsupported number of components for region iterator: "+h.getNumberOfComponents());m===void 0&&(m=!1);let p=null;p=m?function(x){return h.getRescaledValueAtOffset(x)}:function(x){return h.getValueAtOffset(x)};const S=h.getGeometry().getSize(),y=[];let b,w=null,D=null,C=null;for(let x=0;x<v.length;++x){b=v[x];const R=b[1][0]-b[0][0];R!==0&&(C=x,w||(w=b[0]),y.push([b[0][0],R,S.get(0)-b[1][0]]))}if(C!==null&&(D=v[C][1]),y.length!==0)return function(x,R,I,k,_){let M=R,U=0,B=0;return{next:function(){if(M<I){const L={value:x(M),done:!1,index:M};return B+=1,M+=1,B===_[U][1]&&(B=0,M+=_[U][2],U+=1,U<_.length&&(M+=_[U][0])),L}return{done:!0,index:I}}}}(p,S.indexToOffset(f.getWithNew2D(w[0],w[1])),S.indexToOffset(f.getWithNew2D(D[0],D[1]))+1,0,y)}(i,o,l,e);let d=[];return c&&(d=C1(c)),d}canQuantifyImage(){return this.#e.getImage().canQuantify()}canWindowLevel(){return this.isMonochrome()}isMonochrome(){return this.#e.getImage().isMonochrome()}canScroll(){return this.#e.getImage().canScroll(this.#e.getOrientation())}getImageSize(){return this.#e.getImage().getGeometry().getSize(this.#e.getOrientation())}moreThanOne(e){return this.getImageSize().moreThanOne(e)}getImageWorldSize(){const e=this.#e.getImage().getGeometry(),t=e.getSize(this.#e.getOrientation()).get2D(),i=e.getSpacing(this.#e.getOrientation()).get2D();return{x:t.x*i.x,y:t.y*i.y}}getImageRescaledDataRange(){return this.#e.getImage().getRescaledDataRange()}equalImageMeta(e){const t=this.#e.getImage().getMeta(),i=Object.keys(e);for(let a=0;a<i.length;++a){const o=i[a];if(t[o]===void 0||t[o]!==e[o])return!1}return!0}isPositionInBounds(e){return this.#e.isPositionInBounds(e)}setCurrentPosition(e,t){return this.#e.setCurrentPosition(e,t)}getPositionFromPlanePoint(e,t){t===void 0&&(t=this.getCurrentIndexScrollValue());const i=new Et(e.getX(),e.getY(),t),a=this.#t.getImageOrientedPoint3D(i),o=this.#e.getImage().getGeometry().pointToWorld(a);return this.getCurrentPosition().mergeWith3D(o)}getPlanePositionFromPosition(e){const t=this.#e.getImage().getGeometry().worldToPoint(e),i=this.#t.getImageDeOrientedPoint3D(t);return new Ae(i.getX(),i.getY())}getIndexFromPosition(e){return this.#e.getImage().getGeometry().worldToIndex(e)}setCurrentIndex(e,t){return this.#e.setCurrentIndex(e,t)}getPlanePositionFromPlanePoint(e){const t=this.getCurrentIndexScrollValue(),i=new Et(e.getX(),e.getY(),t),a=this.#t.getTargetDeOrientedPoint3D(i),o=this.#e.getImage().getGeometry().getRealSpacing();return new Et(a.getX()*o.get(0),a.getY()*o.get(1),a.getZ()*o.get(2))}getOffset3DFromPlaneOffset(e){return this.#t.getOffset3DFromPlaneOffset(e)}play(){if(this.canScroll())if(this.#r===void 0){const e=this.#e.getImage(),t=e.getMeta().RecommendedDisplayFrameRate,i=this.#e.getPlaybackMilliseconds(t),a=e.getGeometry().getSize().canScroll3D();this.#r=window.setInterval(()=>{let o=!1;if(o=a?this.#n.incrementPositionAlongScroll():this.#n.incrementPosition(3),!o){const l=this.getCurrentIndex().getValues(),c=this.#e.getOrientation();a?l[c.getThirdColMajorDirection()]=0:l[3]=0;const d=new pt(l),h=this.#e.getImage().getGeometry();this.setCurrentPosition(h.indexToWorld(d))}},i)}else this.stop()}stop(){this.#r!==void 0&&(clearInterval(this.#r),this.#r=void 0)}getWindowLevel(){return this.#e.getWindowLevel()}getCurrentWindowPresetName(){return this.#e.getCurrentWindowPresetName()}setWindowLevel(e){this.#e.setWindowLevel(e)}getColourMap(){return this.#e.getColourMap()}setColourMap(e){this.#e.setColourMap(e)}setViewAlphaFunction(e){this.#e.setAlphaFunction(e)}bindImageAndLayer(e){const t=this.#e.getImage();t.addEventListener("imagecontentchange",e.onimagecontentchange),t.addEventListener("imagegeometrychange",e.onimagegeometrychange)}unbindImageAndLayer(e){const t=this.#e.getImage();t.removeEventListener("imagecontentchange",e.onimagecontentchange),t.removeEventListener("imagegeometrychange",e.onimagegeometrychange)}}const us=["mousedown","mousemove","mouseup","mouseout","wheel","dblclick","touchstart","touchmove","touchend"];function tC(n){let e=0,t=0;if(n.length!==0&&n[0].target!==void 0){let a=n[0].target.offsetParent;for(;a;)isNaN(a.offsetLeft)||(e+=a.offsetLeft),isNaN(a.offsetTop)||(t+=a.offsetTop),a=a.offsetParent}else De.debug("No touch target offset parent.");const i=[];for(let a=0;a<n.length;++a)i.push(new Ae(n[a].pageX-e,n[a].pageY-t));return i}function Un(n){let e=[];return n.targetTouches!==void 0&&n.targetTouches.length!==0?e=tC(n.targetTouches):n.changedTouches!==void 0&&n.changedTouches.length!==0&&(e=tC(n.changedTouches)),e}function on(n){return new Ae(n.offsetX,n.offsetY)}function nC(n,e){const t=document.createElement("canvas");t.width=n,t.height=e;const i=document.createElement("canvas");i.width=1,i.height=1;const a=t.getContext("2d"),o=i.getContext("2d");return a&&(a.fillRect(n-1,e-1,1,1),o.drawImage(t,n-1,e-1,1,1,0,0,1,1)),o&&o.getImageData(0,0,1,1).data[3]!==0}class Tn{#e;#t=null;#n=null;#r=null;#i=null;#a=!0;#o=null;#s;#l;#d=1;#c={x:1,y:1};#u={x:1,y:1};#h={x:1,y:1,z:1};#f={x:0,y:0};#g={x:0,y:0};#m={x:0,y:0};#p={x:0,y:0};#b={x:0,y:0};#S={x:0,y:0};#y=null;#C;#v=new Kn;#w=!1;#D;#T;constructor(e){this.#e=e,this.#e.className+=" viewLayer"}getDataId(){return this.#C}getScale(){return this.#c}getAbsoluteZoomOffset(){return{x:this.#p.x*this.#u.x,y:this.#p.y*this.#u.y}}setImageSmoothing(e){this.#w=e}setView(e,t){this.#C=t,e.addEventListener("wlchange",this.#P),e.addEventListener("colourmapchange",this.#R),e.addEventListener("positionchange",this.#L),e.addEventListener("alphafuncchange",this.#I);for(let i=0;i<cs.length;++i)e.addEventListener(cs[i],this.#x);this.#t=new LL(e),this.bindImage()}getViewController(){return this.#t}getImageData(){return this.#o}onimageset=e=>{this.#C===e.dataid&&(this.#t.setImage(e.value[0]),this.#A(this.#t.getImageSize().get2D()),this.#y=!0)};bindImage(){this.#t&&this.#t.bindImageAndLayer(this)}unbindImage(){this.#t&&this.#t.unbindImageAndLayer(this)}onimagecontentchange=e=>{this.#C===e.dataid&&(this.#a=this.#t.isPositionInBounds(),this.#y=!0,this.draw())};onimagegeometrychange=e=>{if(this.#C===e.dataid){const t=this.#t.getImageSize().get2D();if(this.#s.x!==t.x||this.#s.y!==t.y){if(this.#D!==void 0&&this.#T!==void 0){const i=this.#t.getOrigin(),a=this.#T.minus(i),o=this.#t.getOrigin(this.#t.getCurrentPosition()),l=this.#D.minus(o);this.setBaseOffset(a,l)}this.#A(t),this.#y=!0,this.draw()}}};getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#s}getImageWorldSize(){return this.#t.getImageWorldSize()}getOpacity(){return this.#d}setOpacity(e){if(e===this.#d)return;this.#d=Math.min(Math.max(e,0),1);const t={type:"opacitychange",value:[this.#d]};this.#x(t)}addFlipOffsetX(){this.#S.x+=this.#n.width/this.#c.x,this.#f.x+=this.#S.x}addFlipOffsetY(){this.#S.y+=this.#n.height/this.#c.y,this.#f.y+=this.#S.y}flipScaleX(){this.#h.x*=-1}flipScaleY(){this.#h.y*=-1}flipScaleZ(){this.#h.z*=-1}setScale(e,t){const i=this.#t.getPlaneHelper(),a=i.getTargetOrientedPositiveXYZ({x:e.x*this.#h.x,y:e.y*this.#h.y,z:e.z*this.#h.z}),o={x:this.#u.x*a.x,y:this.#u.y*a.y};if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:this.#f.x-this.#p.x,y:this.#f.y-this.#p.y};this.#p={x:0,y:0},this.#f=l}else if(t!==void 0){let l=i.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#g.x,y:l.y+this.#g.y};const c=P3(this.#f,this.#c,o,l),d={x:this.#p.x+c.x-this.#f.x,y:this.#p.y+c.y-this.#f.y};this.#p=d,this.#f=c}this.#c=o}initScale(e,t){const i=this.#t.getPlaneHelper().getTargetOrientedPositiveXYZ({x:e.x*this.#h.x,y:e.y*this.#h.y,z:e.z*this.#h.z}),a={x:this.#u.x*i.x,y:this.#u.y*i.y};this.#c=a,this.#p={x:t.x/this.#u.x,y:t.y/this.#u.y},this.#f={x:this.#f.x+this.#p.x,y:this.#f.y+this.#p.y}}setBaseOffset(e,t,i,a){const o=this.#t.getPlaneHelper(),l=o.getNativeScrollDimIndex(),c=o.getPlaneOffsetFromOffset3D({x:l===0?e.getX():t.getX(),y:l===1?e.getY():t.getY(),z:l===2?e.getZ():t.getZ()}),d=this.#g.x!==c.x||this.#g.y!==c.y;return i!==void 0&&a!==void 0&&(this.#D=i,this.#T=a),d&&(this.#f={x:this.#f.x-this.#g.x+c.x,y:this.#f.y-this.#g.y+c.y},this.#g=c),d}setOffset(e){const t=this.#t.getPlaneHelper().getPlaneOffsetFromOffset3D(e);this.#f={x:this.#f.x-this.#b.x+t.x,y:this.#f.y-this.#b.y+t.y},this.#b=t}displayToPlaneIndex(e){const t=this.displayToPlanePos(e);return new pt([Math.floor(t.getX()),Math.floor(t.getY())])}displayToPlaneScale(e){return new Ae(e.getX()/this.#c.x,e.getY()/this.#c.y)}displayToPlanePos(e){const t=this.displayToPlaneScale(e);return new Ae(t.getX()+this.#f.x,t.getY()+this.#f.y)}planePosToDisplay(e){let t=(e.getX()-this.#f.x+this.#g.x)*this.#c.x,i=(e.getY()-this.#f.y+this.#g.y)*this.#c.y;return(t<0||t>=this.#n.width)&&(t=void 0),(i<0||i>=this.#n.height)&&(i=void 0),new Ae(t,i)}displayToMainPlanePos(e){const t=this.displayToPlanePos(e);return new Ae(t.getX()-this.#g.x,t.getY()-this.#g.y)}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){if(!this.#a)return;let e={type:"renderstart",layerid:this.getId(),dataid:this.getDataId()};this.#x(e),this.#y&&this.#O(),this.#i.globalAlpha=this.#d,this.clear(),this.#i.setTransform(this.#c.x,0,0,this.#c.y,-1*this.#f.x*this.#c.x,-1*this.#f.y*this.#c.y),this.#i.imageSmoothingEnabled=this.#w,this.#i.drawImage(this.#r,0,0),e={type:"renderend",layerid:this.getId(),dataid:this.getDataId()},this.#x(e)}initialise(e,t,i){this.#l=t,this.#d=Math.min(Math.max(i,0),1),this.#n=document.createElement("canvas"),this.#e.appendChild(this.#n),this.#n.getContext?(this.#i=this.#n.getContext("2d"),this.#i?(this.#r=document.createElement("canvas"),this.#A(e),this.#y=!0):alert("Error: failed to get the 2D context.")):alert("Error: no canvas.getContext method.")}#A(e){if(!nC(e.x,e.y))throw new Error("Cannot create canvas with size "+e.x+", "+e.y);this.#s=e,this.#r.width=this.#s.x,this.#r.height=this.#s.y,this.#i.clearRect(0,0,this.#s.x,this.#s.y),this.#o=this.#i.createImageData(this.#s.x,this.#s.y)}fitToContainer(e,t,i){let a=!1;const o={x:t*this.#l.x,y:t*this.#l.y},l=o.x/this.#u.x,c=o.y/this.#u.y,d=e.x/(this.#n.width*l),h=e.y/(this.#n.height*c);if(this.#n.width!==e.x||this.#n.height!==e.y){if(!nC(e.x,e.y))throw new Error("Cannot resize canvas "+e.x+", "+e.y);this.#n.width=e.x,this.#n.height=e.y,a=!0}const f={x:this.#c.x*l,y:this.#c.y*c};this.#c.x===f.x&&this.#c.y===f.y||(this.#u=o,this.#c=f,a=!0);const m={x:i.x/o.x,y:i.y/o.y},v={x:e.x/o.x,y:e.y/o.y},p={x:this.#S.x!==0?v.x:0,y:this.#S.y!==0?v.y:0};if(this.#m.x!==m.x||this.#m.y!==m.y||this.#S.x!==p.x||this.#S.y!==p.y){const S={x:this.#p.x*d,y:this.#p.y*h};this.#f={x:this.#f.x+m.x-this.#m.x+p.x-this.#S.x+S.x-this.#p.x,y:this.#f.y+m.y-this.#m.y+p.y-this.#S.y+S.y-this.#p.y},this.#S=p,this.#m=m,this.#p=S,a=!0}a&&this.draw()}bindInteraction(){this.#e.style.pointerEvents="auto";const e=us;for(let t=0;t<e.length;++t){const i=e[t],a=i!=="wheel";this.#e.addEventListener(i,this.#x,{passive:a})}}unbindInteraction(){this.#e.style.pointerEvents="none";const e=us;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#x)}addEventListener(e,t){this.#v.add(e,t)}removeEventListener(e,t){this.#v.remove(e,t)}#x=e=>{e.srclayerid=this.getId(),e.dataid=this.#C,this.#v.fireEvent(e)};#O(){this.#t.generateImageData(this.#o),this.#r.getContext("2d").putImageData(this.#o,0,0),this.#y=!1}#P=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};#R=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};#L=e=>{if(e.skipGenerate===void 0||e.skipGenerate!==!0){let t=!0;if(e.valid!==void 0&&(t=e.valid),t){const i=[0,1,2],a=i.indexOf(this.#t.getScrollDimIndex());i.splice(a,1),e.diffDims.filter(function(o){return i.indexOf(o)===-1}).length===0&&this.#a||(this.#a=!0,this.#y=!0,this.draw())}else this.#a&&(this.#a=!1,this.clear())}};#I=e=>{e.skipGenerate!==void 0&&e.skipGenerate===!0||(this.#y=!0,this.draw())};setCurrentPosition(e,t){return this.#t.setCurrentPosition(e)}clear(){this.#i.save(),this.#i.setTransform(1,0,0,1,0,0),this.#i.clearRect(0,0,this.#n.width,this.#n.height),this.#i.restore()}}class vc{#e;#t={};#n=new Kn;#r;#i;constructor(e){this.#e=e!==void 0?e:[],this.#r=!0}getList(){return this.#e}getLength(){return this.#e.length}isEditable(){return this.#r}setEditable(e){this.#r=e,this.#a({type:"annotationgroupeditablechange",data:e})}getColour(){return this.#i}setColour(e){this.#i=e}add(e){this.#e.push(e),this.#a({type:"annotationadd",data:e})}update(e,t,i){const a=this.#e.findIndex(o=>o.trackingUid===e.trackingUid);a!==-1?((t.includes("mathShape")||t.includes("textExpr"))&&e.updateQuantification(),this.#e[a]=e,this.#a({type:"annotationupdate",data:e,keys:t,propagate:i})):De.warn("Cannot find annotation to update")}remove(e){const t=this.#e.findIndex(i=>i.trackingUid===e);if(t!==-1){const i=this.#e.splice(t,1)[0];this.#a({type:"annotationremove",data:i})}else De.warn("Cannot find annotation to remove")}setViewController(e){for(const t of this.#e)t.setViewController(e),t.updateQuantification()}find(e){return this.#e.find(t=>t.trackingUid===e)}getMeta(){return this.#t}hasMeta(e){return this.#t[e]!==void 0}getMetaValue(e){return this.#t[e]}setMetaValue(e,t){this.#t[e]=t}addEventListener(e,t){this.#n.add(e,t)}removeEventListener(e,t){this.#n.remove(e,t)}#a=e=>{this.#n.fireEvent(e)}}var iC,O1,Ee=(iC={default:function(){return DP}},O1={},Cn.d(O1,iC),O1);class M0{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getName(){return"AddAnnotation-"+this.#e.trackingUid}execute(){this.#t.addAnnotation(this.#e)}undo(){this.#t.removeAnnotation(this.#e.trackingUid)}}class pp{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getName(){return"RemoveAnnotation-"+this.#e.trackingUid}execute(){this.#t.removeAnnotation(this.#e.trackingUid)}undo(){this.#t.addAnnotation(this.#e)}}class eo{#e;#t;#n;#r;constructor(e,t,i,a){this.#e=e,this.#t=a,this.#n=t,this.#r=i}getName(){return"UpdateAnnotation-"+this.#e.trackingUid}execute(){const e=Object.keys(this.#r);for(const t of e)this.#e[t]=this.#r[t];this.#t.updateAnnotation(this.#e,e)}undo(){const e=Object.keys(this.#n);for(const t of e)this.#e[t]=this.#n[t];this.#t.updateAnnotation(this.#e,e)}}class IL{#e;getAnnotation(e){return this.#e.find(e)}getAnnotationGroup(){return this.#e}isAnnotationGroupEditable(){return this.#e.isEditable()}setAnnotationGroupEditable(e){this.#e.setEditable(e)}addAnnotation(e){this.#e.add(e)}updateAnnotation(e,t,i){this.#e.update(e,t,i)}removeAnnotation(e){this.#e.remove(e)}removeAnnotationWithCommand(e,t){const i=this.getAnnotation(e);if(i===void 0)return void De.warn("Cannot create remove command for undefined annotation: "+e);const a=new pp(i,this);t(a),a.execute()}updateAnnotationWithCommand(e,t,i,a){const o=this.getAnnotation(e);if(o===void 0)return void De.warn("Cannot create update command for undefined annotation: "+e);const l=new eo(o,t,i,this);a(l),l.execute()}removeAllAnnotationsWithCommand(e){for(const t of this.#e.getList())this.removeAnnotationWithCommand(t.trackingUid,e)}constructor(e){this.#e=e!==void 0?e:new vc}hasAnnotationMeta(e){return this.#e.hasMeta(e)}setAnnotationMeta(e,t){this.#e.setMetaValue(e,t)}}const ka={arrow:{"*":""},circle:{"*":"{surface}"},ellipse:{"*":"{surface}"},protractor:{"*":"{angle}"},rectangle:{"*":"{surface}"},roi:{"*":""},ruler:{"*":"{length}"}};function bg(n){return n.name()==="label"}function ua(n){return n.name()==="shape"}function R3(n){return n.name()==="position-group"}function m0(n){const e=n.getChildren(ua)[0];if(e instanceof Ee.default.Line)return e}function dt(n,e){const t=n.getChildren(function(i){return i.id()==="anchor"+e})[0];if(t instanceof Ee.default.Ellipse)return t}function P1(n){return function(e){return e.id()===n}}function Na(n,e,t,i){const a=i.applyZoomScale(6),o={x:Math.abs(a.x),y:Math.abs(a.y)};return new Ee.default.Ellipse({x:n,y:e,stroke:"#999",fill:"rgba(100,100,100,0.7",strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,radius:o,radiusX:o.x,radiusY:o.y,name:"anchor",id:t.toString(),dragOnTop:!1,draggable:!0,visible:!1})}function rC(n){return parseInt(n.substring(6),10)}class K0{#e=10;#t="Verdana";#n="#fff";#r="#ffff80";#i={x:1,y:1};#a={x:1,y:1};#o=2;#s={x:.25,y:.25};#l=.2;#d=3;getFontFamily(){return this.#t}getFontSize(){return this.#e}getStrokeWidth(){return this.#o}getTextColour(){return this.#n}getLineColour(){return this.#r}setLineColour(e){this.#r=e}setBaseScale(e){this.#i=e}setZoomScale(e){this.#a=e}getBaseScale(){return this.#i}getZoomScale(){return this.#a}scale(e){return e/this.#i.x}applyZoomScale(e){return{x:e/this.#a.x,y:e/this.#a.y}}applyZoomRatio(e){return e*this.#a.x/this.#a.y}getShadowOffset(){return this.#s}getTagOpacity(){return this.#l}getTextPadding(){return this.#d}getFontStr(){return"normal "+this.getFontSize()+"px sans-serif"}getLineHeight(){return this.getFontSize()+this.getFontSize()/5}getScaledFontSize(){return this.scale(this.getFontSize())}getScaledStrokeWidth(){return this.scale(this.getStrokeWidth())}getShadowLineColour(){return function(e){return .001172549*(t=_P(e)).r+.002301961*t.g+447059e-9*t.b<.5;var t}(this.getLineColour())?"#fff":"#000"}}class Ut{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getDeltaX(){return this.getEnd().getX()-this.getBegin().getX()}getDeltaY(){return this.getEnd().getY()-this.getBegin().getY()}getLength(){return Math.sqrt(this.getDeltaX()*this.getDeltaX()+this.getDeltaY()*this.getDeltaY())}getWorldLength(e){let t=null;if(e!==null){const i=this.getDeltaX()*e.x,a=this.getDeltaY()*e.y;t=Math.sqrt(i*i+a*a)}return t}getMidpoint(){return new Ae((this.getBegin().getX()+this.getEnd().getX())/2,(this.getBegin().getY()+this.getEnd().getY())/2)}getCentroid(){return this.getMidpoint()}getSlope(){return this.getDeltaY()/this.getDeltaX()}getIntercept(){return(this.getEnd().getX()*this.getBegin().getY()-this.getBegin().getX()*this.getEnd().getY())/this.getDeltaX()}getInclination(){return 180-180*Math.atan2(this.getDeltaY(),this.getDeltaX())/Math.PI}quantify(e){const t={},i=e.get2DSpacing(),a=this.getWorldLength(i);return a!==null&&(t.length={value:a,unit:e.getLengthUnit()}),t}}function Cg(n,e){const t=n.getDeltaX(),i=n.getDeltaY(),a=e.getDeltaX(),o=e.getDeltaY(),l=t*a+i*o,c=t*o-i*a;return 360-(180-180*Math.atan2(c,l)/Math.PI)}function L1(n,e){const t=n.getDeltaX(),i=n.getDeltaY();return t*e.getDeltaX()+i*e.getDeltaY()==0}function bi(n,e,t,i){i===void 0&&(i={x:1,y:1});const a=-i.x*i.x/(i.y*i.y*n.getSlope());return O3(a,e.getY()-a*e.getX(),e,t,i)}function aC(n,e,t,i){const a=O3(n.getSlope(),n.getIntercept(),n.getBegin(),e,i);let o;return o=function(l,c){const d=Math.min(c.getBegin().getX(),c.getEnd().getX()),h=Math.max(c.getBegin().getX(),c.getEnd().getX()),f=Math.min(c.getBegin().getY(),c.getEnd().getY()),m=Math.max(c.getBegin().getY(),c.getEnd().getY());return l.getX()>=d&&l.getX()<=h&&l.getY()>=f&&l.getY()<=m}(a.getBegin(),n)?a.getBegin():a.getEnd(),bi(n,o,t,i)}function O3(n,e,t,i,a){a===void 0&&(a={x:1,y:1});let o=0,l=0,c=0,d=0;if(mc(n,0,Ad))o=t.getX()-i/(2*a.x),l=t.getY(),c=t.getX()+i/(2*a.x),d=t.getY();else if(Math.abs(n)>1e6)o=t.getX(),l=t.getY()-i/(2*a.y),c=t.getX(),d=t.getY()+i/(2*a.y);else{const h=a.x*a.x,f=a.y*a.y,m=i/(2*Math.sqrt(h+f*n*n));o=t.getX()-m,l=n*o+e,c=t.getX()+m,d=n*c+e}return new Ut(new Ae(o,l),new Ae(c,d))}class Wa{#e;#t;constructor(e,t){this.#e=new Ae(Math.min(e.getX(),t.getX()),Math.min(e.getY(),t.getY())),this.#t=new Ae(Math.max(e.getX(),t.getX()),Math.max(e.getY(),t.getY()))}getBegin(){return this.#e}getEnd(){return this.#t}equals(e){return e!==null&&this.getBegin().equals(e.getBegin())&&this.getEnd().equals(e.getEnd())}getSurface(){const e=this.getBegin(),t=this.getEnd();return Math.abs(t.getX()-e.getX())*Math.abs(t.getY()-e.getY())}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRealWidth(){return this.getEnd().getX()-this.getBegin().getX()}getRealHeight(){return this.getEnd().getY()-this.getBegin().getY()}getWidth(){return Math.abs(this.getRealWidth())}getHeight(){return Math.abs(this.getRealHeight())}getRound(){return{min:new Ae(Math.round(this.getBegin().getX()),Math.round(this.getBegin().getY())),max:new Ae(Math.round(this.getEnd().getX()),Math.round(this.getEnd().getY()))}}getCentroid(){return new Ae(this.getBegin().getX()+this.getWidth()/2,this.getBegin().getY()+this.getHeight()/2)}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.width={value:this.getWidth()*o.x,unit:l},a.height={value:this.getHeight()*o.y,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound(),h=e.getImageRegionValues(d.min,d.max,t),f=e.getPixelUnit(),m=fp(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}return a}}class Ti{#e=[];constructor(e){e!==void 0&&(this.#e=e)}getPoint(e){return this.#e[e]}getPoints(){return this.#e}getLength(){return this.#e.length}addPoint(e){this.#e.push(e)}addPoints(e){this.#e=this.#e.concat(e)}getCentroid(){let e,t=0,i=0,a=0;for(let o=0;o<this.#e.length;++o){const l=this.#e[o];let c;c=o===this.#e.length-1?this.#e[0]:this.#e[o+1];const d=l.getX()*c.getY()-c.getX()*l.getY();t+=d,i+=(l.getX()+c.getX())*d,a+=(l.getY()+c.getY())*d}if(t!==0){const o=1/(3*t);e=new Ae(o*i,o*a)}return e}}class $a{#e;constructor(e){if(e.length>3)throw new Error("Too many points for a protractor");this.#e=e.slice(0,3)}getPoint(e){return this.#e[e]}getLength(){return this.#e.length}getCentroid(){return this.#e[1]}quantify(e,t){const i={};if(this.#e.length===3){let a=Cg(new Ut(this.#e[0],this.#e[1]),new Ut(this.#e[1],this.#e[2]));a>180&&(a=360-a),i.angle={value:a,unit:"unit.degree"}}return i}}class Ka{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getCenter(){return this.#e}getCentroid(){return this.#e}getA(){return this.#t}getB(){return this.#n}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getA()===e.getA()&&this.getB()===e.getB()}getSurface(){return Math.PI*this.getA()*this.getB()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getA(),a=this.getB(),o=i/a,l=Math.pow(a,2),c=t+a,d=[];for(let h=t-a;h<c;++h){const f=l-Math.pow(h-t,2);if(Math.abs(f)<1e-7)continue;const m=o*Math.sqrt(f);m<.5||d.push([[Math.round(e-m),Math.round(h)],[Math.round(e+m),Math.round(h)]])}return d}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.a={value:this.getA()*o.x,unit:l},a.b={value:this.getB()*o.y,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=fp(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}}return a}}function EL(n,e,t){const i=n.getValues(),a=i.slice(),o=[],l=e[0],c=e[1],d=l/c,h=Math.pow(c,2),f=t[0],m=t[1];for(let v=0;v<c;++v){const p=Math.round(d*Math.sqrt(h-Math.pow(v,2))),S=i[m]+v,y=i[m]-v;for(let b=0;b<p;++b){const w=i[f]+b,D=i[f]-b;a[f]=w,a[m]=S,o.push(new pt(a.slice())),y!==S&&(a[m]=y,o.push(new pt(a.slice()))),D!==w&&(a[f]=D,a[m]=S,o.push(new pt(a.slice())),y!==S&&(a[m]=y,o.push(new pt(a.slice()))))}}return o}class Za{#e;#t;constructor(e,t){this.#e=e,this.#t=t}getCenter(){return this.#e}getCentroid(){return this.#e}getRadius(){return this.#t}equals(e){return e!==null&&this.getCenter().equals(e.getCenter())&&this.getRadius()===e.getRadius()}getSurface(){return Math.PI*this.getRadius()*this.getRadius()}getWorldSurface(e){return function(t,i,a){let o=null;return i!==null&&a!==null&&(o=t*i*a),o}(this.getSurface(),e.x,e.y)}getRound(){const e=this.getCenter().getX(),t=this.getCenter().getY(),i=this.getRadius(),a=Math.pow(i,2),o=t+i,l=[];for(let c=t-i;c<o;++c){const d=a-Math.pow(c-t,2);if(Math.abs(d)<1e-7)continue;const h=Math.sqrt(d);h<.5||l.push([[Math.round(e-h),Math.round(c)],[Math.round(e+h),Math.round(c)]])}return l}quantify(e,t,i){const a={},o=e.get2DSpacing(),l=e.getLengthUnit();a.radius={value:this.getRadius()*o.x,unit:l};const c=this.getWorldSurface(o);if(c!==null&&(a.surface=l==="unit.mm"?{value:c/100,unit:"unit.cm2"}:{value:c,unit:l}),e.canQuantifyImage()){const d=this.getRound();if(d.length!==0){const h=e.getImageVariableRegionValues(d,t),f=e.getPixelUnit(),m=fp(h,i);a.min={value:m.min,unit:f},a.max={value:m.max,unit:f},a.mean={value:m.mean,unit:f},a.stdDev={value:m.stdDev,unit:f},m.median!==void 0&&(a.median={value:m.median,unit:f}),m.p25!==void 0&&(a.p25={value:m.p25,unit:f}),m.p75!==void 0&&(a.p75={value:m.p75,unit:f})}}return a}}class _L{#e=0;getSum(){return this.#e}add(e){this.#e+=function(t){return t.wheelDeltaY===void 0?-t.deltaY:t.wheelDeltaY>45?1:t.wheelDeltaY<-45?-1:-t.deltaY/60}(e)}clear(){this.#e=0}isTick(){return Math.abs(this.#e)>=1}}class cc{#e;#t=new _L;constructor(e){this.#e=e}wheel(e){this.#t.add(e);const t=this.#t.getSum()>=0;if(!this.#t.isTick())return;this.#t.clear(),e.preventDefault();const i=gt(e),a=this.#e.getLayerGroupByDivId(i.groupDivId),o=a.getPositionHelper();a.canScroll()?t?o.incrementPositionAlongScroll():o.decrementPositionAlongScroll():a.moreThanOne(3)&&(t?o.incrementPosition(3):o.decrementPosition(3))}}class ML{#e;#t;constructor(e,t){this.#e=e,this.#t=t}#n=null;#r=null;#i;#a;#o=!1;setShape(e,t,i){if(this.#r=e,this.#i=t,this.#a=i,this.#r){if(this.#d(),this.#n=i.getFactory(),this.#n===void 0)throw new Error("Could not find a factory to update shape.");this.#c()}}getShape(){return this.#r}getAnnotation(){return this.#a}isActive(){return this.#o}enable(){this.#o=!0,this.#r&&(this.#l(!0),this.#r.getLayer()&&this.#r.getLayer().draw())}disable(){this.#o=!1,this.#r&&(this.#l(!1),this.#r.getLayer()&&this.#r.getLayer().draw())}reset(){this.#r=void 0,this.#i=void 0,this.#a=void 0}resetAnchors(){this.#d(),this.#c(),this.#l(!0)}#s(e){this.#r&&this.#r.getParent()&&this.#r.getParent().find(".anchor").forEach(e)}#l(e){this.#s(function(t){t.visible(e)})}setAnchorsActive(e){let t=null;t=e?i=>{this.#u(i)}:i=>{this.#h(i)},this.#s(t)}#d(){this.#s(function(e){e.remove()})}#c(){if(!this.#r||!this.#r.getLayer())return;const e=this.#r.getParent(),t=this.#n.getAnchors(this.#r,this.#e.getStyle());for(let i=0;i<t.length;++i)this.#u(t[i]),e.add(t[i])}#u(e){let t;e.on("dragstart.edit",i=>{i.cancelBubble=!0,t={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints}}),e.on("dragmove.edit",i=>{const a=i.target;a instanceof Ee.default.Shape&&(function(o,l){const c=l.getParent();(function(d,h,f){d.x()<h.getX()?d.x(h.getX()):d.x()>f.getX()&&d.x(f.getX()),d.y()<h.getY()?d.y(h.getY()):d.y()>f.getY()&&d.y(f.getY())})(l,new Ae(-c.x(),-c.y()),new Ae(o.x-c.x(),o.y-c.y()))}(this.#i.getBaseSize(),a),this.#n.constrainAnchorMove!==void 0&&this.#n.constrainAnchorMove(a),this.#n.updateAnnotationOnAnchorMove(this.#a,a),this.#n.updateShapeGroupOnAnchorMove(this.#a,a,this.#e.getStyle()),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"),i.cancelBubble=!0)}),e.on("dragend.edit",i=>{const a={mathShape:this.#a.mathShape,referencePoints:this.#a.referencePoints},o=new eo(this.#a,t,a,this.#i.getDrawController());this.#e.addToUndoStack(o),this.#t({type:"annotationupdate",data:this.#a,dataid:this.#i.getDataId(),keys:Object.keys(a)}),t={mathShape:a.mathShape,referencePoints:a.referencePoints},i.cancelBubble=!0}),e.on("mousedown touchstart",i=>{i.target.moveToTop()}),e.on("mouseover.edit",i=>{const a=i.target;a instanceof Ee.default.Shape&&(a.stroke("#ddd"),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"))}),e.on("mouseout.edit",i=>{const a=i.target;a instanceof Ee.default.Shape&&(a.stroke("#999"),a.getLayer()?a.getLayer().draw():De.warn("No layer to draw the anchor!"))})}#h(e){e.off("dragstart.edit"),e.off("dragmove.edit"),e.off("dragend.edit"),e.off("mousedown touchstart"),e.off("mouseover.edit"),e.off("mouseout.edit")}}class FL{#e;constructor(){this.createTrashIcon()}createTrashIcon(){this.#e=new Ee.default.Group;const e=new Ee.default.Line({points:[-10,-10,10,10],stroke:"red"}),t=new Ee.default.Line({points:[10,-10,-10,10],stroke:"red"});this.#e.width(20),this.#e.height(20),this.#e.add(e),this.#e.add(t)}activate(e){const t=e.getKonvaStage(),i=t.scale(),a=e.getKonvaLayer(),o={x:1/i.x,y:1/i.y};this.#e.x(t.offset().x+t.width()/(2*i.x)),this.#e.y(t.offset().y+t.height()/(15*i.y)),this.#e.scale(o),a.add(this.#e),a.draw()}changeChildrenColourOnTrashHover(e,t,i){if(this.isOverTrash(e))return this.changeGroupChildrenColour(this.#e,"orange"),void this.changeGroupChildrenColour(t,"red");this.changeGroupChildrenColour(this.#e,"red"),this.changeGroupChildrenColour(t,i)}changeGroupChildrenColour(e,t){e.getChildren().forEach(function(i){i instanceof Ee.default.Shape&&i.stroke!==void 0&&i.stroke(t)})}remove(){this.#e.remove()}isOverTrash(e){const t=this.#e.width()*Math.abs(this.#e.scaleX())/2,i=this.#e.height()*Math.abs(this.#e.scaleY())/2;return Math.abs(e.x-this.#e.x())<t&&Math.abs(e.y-this.#e.y())<i}}class UL{#e;#t;#n;#r="pointer";#i;#a;#o;constructor(e,t){this.#e=e,this.#o=t,this.#t=new ML(e,t),this.#n=new FL}setEditorShape(e,t){const i=t.getDrawController();e&&e instanceof Ee.default.Shape&&e!==this.#t.getShape()&&i.isAnnotationGroupEditable()&&(this.#t.disable(),this.#t.setShape(e,t,t.getDrawController().getAnnotation(e.getParent().id())),this.#t.enable())}getEditorShapeGroup(){let e;if(!this.#t.isActive()||(e=this.#t.getShape().getParent(),e instanceof Ee.default.Group))return e}getEditorAnnotation(){let e;return this.#t.isActive()&&(e=this.#t.getAnnotation()),e}disableAndResetEditor(){this.#t.disable(),this.#t.reset()}#s(e,t){const i=t.getKonvaStage();return{x:i.offset().x+e.x/i.scale().x,y:i.offset().y+e.y/i.scale().y}}storeMouseOverCursor(e){this.#r=e}#l(){this.#i=document.body.style.cursor,document.body.style.cursor=this.#r,this.#a.opacity(.75)}onMouseOutShapeGroup(){this.#i!==void 0&&(document.body.style.cursor=this.#i,this.#i=void 0),this.#a!==void 0&&this.#a.opacity(1)}#d(e){e.on("mouseover",()=>{this.#a=e,this.#l()}),e.on("mouseout",()=>{this.onMouseOutShapeGroup(),this.#a=void 0})}#c(e){e.off("mouseover"),e.off("mouseout")}addShapeGroupListeners(e,t,i){this.#d(e),this.#u(e,t,i),this.#h(e,t,i),e.on("dblclick",()=>{const a=t.textExpr;(function(l,c){const d=prompt("Label",l.textExpr);d!==null&&(l.textExpr=d,c(l))})(t,l=>{const c=l.textExpr,d=new eo(l,{textExpr:a},{textExpr:c},i.getDrawController());this.#e.addToUndoStack(d),d.execute()})})}#u(e,t,i){const a=i.getKonvaLayer(),o=e.getChildren(ua)[0];if(!(o instanceof Ee.default.Shape))return;let l,c,d,h;o.draggable(!0),o.on("dragstart.draw",f=>{h=o.stroke(),l={x:o.x(),y:o.y()},c={x:f.target.x(),y:f.target.y()},d={mathShape:t.mathShape,referencePoints:t.referencePoints},this.#n.activate(i),this.#t.setAnchorsActive(!1),a.draw()}),o.on("dragmove.draw",f=>{const m=function(C,x){return{min:new Ae(0,0),max:new Ae(C.x-Math.abs(x.width()),C.y-Math.abs(x.height()))}}(i.getBaseSize(),o);if(m&&!function(C,x,R){const I=C.getClientRect({relativeTo:C.getParent()});return I.x>x.getX()&&I.x<R.getX()&&I.y>x.getY()&&I.y<R.getY()}(o,m.min,m.max))return o.x(c.x),void o.y(c.y);const v={x:f.target.x()-c.x,y:f.target.y()-c.y},p=e.getChildren(),S=t.labelPosition===void 0;for(const C of p)C===f.target||C.name()==="label"&&!S||C.name()==="connector"||C.move(v);c={x:f.target.x(),y:f.target.y()};const y=t.getFactory();if(y===void 0)throw new Error("Cannot follow drag move without factory");y.updateAnnotationOnTranslation(t,v),y.updateLabelContent(t,e,this.#e.getStyle()),y.updateConnector(e);const b=on(f.evt),w={x:b.getX(),y:b.getY()},D=this.#s(w,i);this.#n.changeChildrenColourOnTrashHover(D,e,h),a.draw()}),o.on("dragend.draw",f=>{if(this.#n.remove(),f===void 0||f.evt===void 0)return;const m=o.x(),v=o.y(),p=on(f.evt),S={x:p.getX(),y:p.getY()},y=this.#s(S,i);if(this.#n.isOverTrash(y)){e.x(l.x),e.y(l.y),this.#t.disable(),this.#t.reset(),this.#n.changeGroupChildrenColour(e,h),t.mathShape=d.mathShape,t.referencePoints=d.referencePoints;const b=new pp(t,i.getDrawController());this.#e.addToUndoStack(b),b.execute(),this.onMouseOutShapeGroup()}else{const b={x:m-l.x,y:v-l.y};if(b.x!==0||b.y!==0){const w={mathShape:t.mathShape,referencePoints:t.referencePoints},D=new eo(t,d,w,i.getDrawController());this.#e.addToUndoStack(D),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:Object.keys(w)}),d={mathShape:w.mathShape,referencePoints:w.referencePoints}}this.#t.setAnchorsActive(!0),this.#t.resetAnchors()}a.draw(),l={x:o.x(),y:o.y()}})}#h(e,t,i){const a=e.getChildren(bg)[0];if(!(a instanceof Ee.default.Label))return;let o,l;a.draggable(!0),a.on("dragstart.draw",()=>{o={x:a.x(),y:a.y()},l=t.labelPosition}),a.on("dragmove.draw",()=>{const c=t.getFactory();if(c===void 0)throw new Error("Cannot udpate connector without factory");c.updateConnector(e)}),a.on("dragend.draw",()=>{const c=a.x()-o.x,d=a.y()-o.y;if(c!==0||d!==0){const h=new Ae(a.x(),a.y());t.labelPosition=h;const f=new eo(t,{labelPosition:l},{labelPosition:h},i.getDrawController());this.#e.addToUndoStack(f),this.#o({type:"annotationupdate",data:t,dataid:i.getDataId(),keys:["labelPosition"]}),l=h}o={x:a.x(),y:a.y()}})}removeShapeListeners(e){this.#c(e),e.off("dblclick");const t=e.getChildren(ua)[0];t instanceof Ee.default.Shape&&(t.draggable(!1),t.off("dragstart.draw"),t.off("dragmove.draw"),t.off("dragend.draw"));const i=e.getChildren(bg)[0];i instanceof Ee.default.Label&&(i.draggable(!1),i.off("dragstart.draw"),i.off("dragend.draw"))}}class mp{meta;image;annotationGroup;buffer;constructor(e){this.meta=e}}class kL{#e={};#t=-1;#n=new Kn;getNextDataId(){return++this.#t,this.#t.toString()}getDataIds(){return Object.keys(this.#e)}reset(){this.#e={}}get(e){return this.#e[e]}getDataIdsFromSopUids(e){const t=[];if(e===void 0||e.length===0)return t;const i=Object.keys(this.#e);for(const a of i)this.#e[a].image!==void 0&&this.#e[a].image.containsImageUids(e)&&t.push(a);return t}getDataIdFromSeriesUid(e){let t;const i=Object.keys(this.#e);for(const a of i){const o=this.#e[a].image;if(o!==void 0&&e===o.getMeta().SeriesInstanceUID){t=a;break}}return t}setImage(e,t){this.#e[e].image=t,this.#r({type:"dataimageset",value:[t],dataid:e}),t.addEventListener("imagecontentchange",this.#i(e)),t.addEventListener("imagegeometrychange",this.#i(e))}add(e,t){if(this.#e[e]!==void 0)throw new Error("Data id already used in storage: "+e);let i;if(this.#e[e]=t,t.meta["00080060"]!==void 0&&(i=t.meta["00080060"].value[0]),i==="SEG"&&t.image===void 0){let a;const o=t.meta["00081115"];if(o!==void 0&&(a=o.value[0]["0020000E"].value[0]),a===void 0)throw new Error("Cannot create mask image: the DICOM seg does not have a referenced series UID");const l=this.getDataIdFromSeriesUid(a);if(l===void 0)throw new Error("Cannot create mask image: the DICOM seg referenced series is not loaded");const c=new vg;t.image=c.create(t.meta,t.buffer,this.#e[l].image)}this.#r({type:"dataadd",dataid:e}),t.image!==void 0&&(t.image.addEventListener("imagecontentchange",this.#i(e)),t.image.addEventListener("imagegeometrychange",this.#i(e))),t.annotationGroup!==void 0&&(t.annotationGroup.addEventListener("annotationadd",this.#i(e)),t.annotationGroup.addEventListener("annotationupdate",this.#i(e)),t.annotationGroup.addEventListener("annotationremove",this.#i(e)))}remove(e){if(this.#e[e]!==void 0){const t=this.#e[e].image;t!==void 0&&(t.removeEventListener("imagecontentchange",this.#i(e)),t.removeEventListener("imagegeometrychange",this.#i(e)));const i=this.#e[e].annotationGroup;i!==void 0&&(i.removeEventListener("annotationadd",this.#i(e)),i.removeEventListener("annotationupdate",this.#i(e)),i.removeEventListener("annotationremove",this.#i(e))),delete this.#e[e],this.#r({type:"dataremove",dataid:e})}}update(e,t){if(this.#e[e]===void 0)throw new Error("Cannot find data to update: "+e);const i=this.#e[e];i.image!==void 0&&t.image!==void 0&&i.image.appendSlice(t.image);let a="";a=t.meta["00020010"]!==void 0?"00200013":"imageUid",i.meta=function(o,l,c,d){const h={};if(!c)throw new Error("Cannot merge object with an undefined id key: "+c);if(!Object.prototype.hasOwnProperty.call(o,c))throw new Error("Id key not found in first object while merging: "+c+", obj: "+o);if(!Object.prototype.hasOwnProperty.call(l,c))throw new Error("Id key not found in second object while merging: "+c+", obj: "+l);let f=!1;if(Object.prototype.hasOwnProperty.call(o[c],"merged")&&o[c].merged&&(f=!0),!Object.prototype.hasOwnProperty.call(o[c],d))throw new Error("Id value not found in first object while merging: "+c+", valueKey: "+d+", ojb: "+o);if(!Object.prototype.hasOwnProperty.call(l[c],d))throw new Error("Id value not found in second object while merging: "+c+", valueKey: "+d+", ojb: "+l);let m=o[c][d];const v=l[c][d][0];if(h[c]=o[c],f){for(let b=0;b<m.length;++b)if(m[b]===v)throw new Error("The first object already contains id2: "+v+", id1: "+m);h[c][d].push(v)}else{if(m=m[0],m===v)throw new Error("Cannot merge object with same ids: "+m+", id2: "+v);h[c][d].push(v),h[c].merged=!0}const p=Object.keys(o),S=Object.keys(l).filter(function(b){return p.indexOf(b)<0}),y=p.concat(S);for(let b=0;b<y.length;++b){const w=y[b];if(w!==c){let D,C,x,R,I;if(Object.prototype.hasOwnProperty.call(o,w)&&(D=o[w],Object.prototype.hasOwnProperty.call(D,d)&&(C=D[d])),Object.prototype.hasOwnProperty.call(l,w)&&(x=l[w],Object.prototype.hasOwnProperty.call(x,d)&&(R=x[d])),D!==void 0?I=D:x!==void 0&&(I=x),!g3(C,R))if(f){if(Array.isArray(C)){I[d]={};for(let k=0;k<m.length;++k)I[d][m[k]]=C}else I[d]=C;I[d]===void 0&&(I[d]={}),I[d][v]=R}else{const k={};k[m]=C,k[v]=R,I[d]=k}h[w]=I}}return h}(i.meta,t.meta,a,"value"),this.#r({type:"dataupdate",dataid:e})}addEventListener(e,t){this.#n.add(e,t)}removeEventListener(e,t){this.#n.remove(e,t)}#r=e=>{this.#n.fireEvent(e)};#i(e){return t=>{t.dataid=e,this.#r(t)}}}const NL="No source image to create mask",oC="No source image to get offsets, ID: {0}",qL="No brush origins",BL="No mask defined when adding mask slices",GL="No created mask image",zL="No mask image for temporary draw command, ID: {0}",VL="No mask image to get offsets from",QL="No mask image for draw command, ID: {0}",sC="No mask ID to apply mask index",HL="No mask view layers",jL="No selected segment number",YL="Too many mask view layers: {0}",XL="More mask layers than expected",WL="Cannot display mask with no mask ID",$L="Cannot draw with no mask data ID",KL="Cannot draw with no offsets",ZL="Cannot draw with no colour list",JL="Cannot get mask layers with no mask ID",eI="Cannot get mask view controller: no mask ID",tI="Cannot get mask view controller: no mask layers",nI="Cannot find source data for an existing mask, ID: {0}",iI="Unsupported scroll index: {0}";function ra(n,...e){return n.replace(/{(\d+)}/g,(t,i)=>e[i]||"")}const F0="del",I1="add";function lC(n,e,t,i){return EL(n.worldToIndex(e),t,i)}class cC{mask;dataId;offsetsLists;mode;segmentNumber;srclayerid;originalValuesLists;isSilent}class uC{#e;#t;#n;#r;#i;#a;#o;#s;#l;#d;constructor(e){this.#e=e.mask,this.#t=e.dataId,this.#n=e.offsetsLists,this.#r=e.mode,this.#i=e.segmentNumber,this.#a=e.srclayerid,e.originalValuesLists!==void 0&&(this.#o=e.originalValuesLists),this.#s=e.isSilent??!1,this.#l=this.#r===F0?"brushremove":"brushdraw",this.#d=this.#l==="brushdraw"?"brushremove":"brushdraw"}getOriginalValuesLists(){return this.#o}getExecuteEvent(){const e=this.#l==="brushdraw"?this.#i:void 0;return new CustomEvent(this.#l,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}})}getName(){return"Draw-brush"}execute(){if(this.#i===void 0)return;let e=this.#i;this.#l==="brushremove"&&(e=0),this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,e):this.#e.setAtOffsetsWithIterator(this.#n,e),this.#s||this.onExecute(this.getExecuteEvent())}undo(){this.#o===void 0?this.#o=this.#e.setAtOffsetsAndGetOriginals(this.#n,0):this.#e.setAtOffsetsWithIterator(this.#n,this.#o);const e=this.#d==="brushdraw"?this.#i:void 0,t=new CustomEvent(this.#d,{detail:{segmentnumber:e,dataid:this.#t,srclayerid:this.#a}});this.onUndo(t)}onExecute(e){}onUndo(e){}}class rI extends EventTarget{#e;#t;constructor(e){super(),this.#e=e,this.#t=new cc(e)}#n=!1;#r;#i;#a=10;#o={min:1,max:20};#s=F0;#l;#d=0;#c;#u;#h;#f;#g=[];#m(e,t,i){const a=e.getSize().getValues();a[2]=1;const o=new Ar(a),l=new ca([t],o,e.getSpacing(),e.getOrientation()),c=new Uint8Array(o.getDimSize(2));c.fill(0),++this.#d;const d=[this.#d.toString()],h=new io(l,c,d);return h.setMeta(i),h.setPhotometricInterpretation("PALETTE COLOR"),h.setPaletteColourMap(new sp([0],[0],[0])),h}#p(e,t,i,a,o,l){const c=function(y,b){const w=b.sort(function(F,G){let H=0;const Q=F.get(2),Z=G.get(2);return Q!==void 0&&Z!==void 0&&(H=Q-Z),H}),D=w[0].get(2);if(D===void 0)return[];const C=new pt([0,0,D]),x=y.indexToWorld(C),R=w.at(-1).get(2);if(R===void 0)return[];const I=new pt([0,0,R]),k=y.indexToWorld(I),_=y.getOrigins(),M=.1*y.getSpacing().get(2),U=x.get3D().getClosest(_),B=_[U],L=x.get3D().getDistance(B);L>M&&De.warn("Large distance between origin and origin for first index: "+L);const P=k.get3D().getClosest(_),A=_[P],E=k.get3D().getDistance(A);return E>M&&De.warn("Large distance between origin and origin for last index: "+E),[U,P]}(e,lC(e,i,o,a));if(c===void 0||c.length===0)throw new Error(qL);const d=e.getOrigins(),h=t.getOrigins(),f=h[0].getClosest(d),m=h.at(-1).getClosest(d),v=[];if(c[0]<f)for(let y=f-1;y>=c[0];--y)v.push(y);if(c[1]>m)for(let y=m+1;y<=c[1];++y)v.push(y);const p=[];for(const y of v)p.push(d[y]);if(this.#r===void 0)throw new Error(BL);const S=this.#r.getMeta();for(const y of p)S.numberOfFiles+=1,this.#r.appendSlice(this.#m(t,y,l))}#b(e){const t=this.#R().getId();if(this.#i===void 0)throw new Error(sC);const i=this.#e.getData(this.#i);if(!i)throw new Error(ra(zL,this.#i));const a=new cC;a.mask=i.image,a.dataId=this.#i,a.offsetsLists=[e],a.mode=this.#s,a.segmentNumber=this.#l,a.srclayerid=t;const o=new uC(a);o.execute(),this.#h.push(e);const l=o.getOriginalValuesLists();l!==void 0&&this.#f.push(l[0])}#S(e,t){if(!t)throw new Error(ra(NL));const i=t.getGeometry(),a=i.worldToIndex(e).get(2);if(a===void 0)throw new Error("Z position is undefined");const o=new pt([0,0,a]),l=w3(),c=function(){const p="1.2.826.0.1.3680043.9.7278.1681051091011101.1";return{indices:{value:[{DimensionOrganizationUID:p,DimensionDescriptionLabel:"ReferencedSegmentNumber",DimensionIndexPointer:"(0062,000B)",FunctionalGroupPointer:"(0062,000A)"},{DimensionOrganizationUID:p,DimensionDescriptionLabel:"ImagePositionPatient",DimensionIndexPointer:"(0020,0032)",FunctionalGroupPointer:"(0020,9113)"}]},organizations:{value:[{DimensionOrganizationUID:p}]}}}();l.DimensionOrganizationSequence=c.organizations,l.DimensionIndexSequence=c.indices,l.PixelRepresentation=0,l.numberOfFiles=1;const d=t.getMeta();l.PatientID=d.PatientID,l.StudyInstanceUID=d.StudyInstanceUID,l.SeriesInstanceUID=d.SeriesInstanceUID;const h=[{referencedSOPClassUID:d.SOPClassUID,referencedSOPInstanceUID:t.getImageUid(o)}],f=[];f.push({ReferencedInstanceSequence:{value:h},SeriesInstanceUID:d.SeriesInstanceUID}),l.ReferencedSeriesSequence={value:f},l.custom={frameInfos:[{dimIndex:[1,1],refSegmentNumber:1,imagePosPat:d.ImageOrientationPatient,derivationImages:[{sourceImages:h}]}]},l.lengthUnit=t.getMeta().lengthUnit,this.#r=this.#m(i,i.getOrigins()[a],l);const m=Rc(l),v=new mp(m);return v.image=this.#r,this.#e.addData(v)}#y(e){const t=this.#e.getDataViewConfigs();let i;for(const a in t){const o=t[a].find(function(l){return l.divId===e});if(o!==void 0){i=o.orientation;break}}return i}#C(e){if(this.#i===void 0)throw new Error(WL);const t=new N3(e);t.orientation=this.#y(e),this.#e.addDataViewConfig(this.#i,t),this.#e.render(this.#i)}#v(e){let t;const i=e.custom.frameInfos;if(i.length===0)return t;const a=i[0].derivationImages;if(a===void 0||a.length===0)return t;const o=a[0].sourceImages;return o===void 0?t:o.length!==0?o[0].referencedSOPInstanceUID:void 0}#w(e){const t=e.getMeta(),i=this.#v(t);let a=[];i!=="undefined"&&(a=this.#e.getDataIdsFromSopUids([i]));let o="0";return a.length>0?o=a[0]:De.warn(ra(nI,i)),o}#D(e){if(this.#i===void 0)throw new Error(JL);const t=e.getViewLayersByDataId(this.#i);if(t.length===0)throw new Error(HL);return t.length!==1&&De.warn(ra(YL,t.length)),t[0]}#T(e){if(e===void 0)throw new Error(sC);const t=this.#e.getData(e);if(t===void 0)throw new Error(VL);return t.image}#A(e){const t=gt(e),i=new Ae(e.offsetX,e.offsetY),a=this.#e.getLayerGroupByDivId(t.groupDivId);if(a===void 0)throw new Error("No layergroup to get mask offsets");let o;if(this.#c=a,o=this.#i===void 0?a.getBaseViewLayer():a.getViewLayersByDataId(this.#i)[0],o===void 0)return[];const l=o.getViewController(),c=l.getCurrentPosition();let d,h,f,m;if(l.equalImageMeta({Modality:"SEG"})){this.#r=this.#T(this.#i);const x=this.#w(this.#r),R=this.#e.getData(x);if(!R)throw new Error(ra(oC,x));m=R.image;const I=a.getViewLayersByDataId(x)[0],k=I.getViewController(),_=I.displayToPlanePos(i);f=k.getPositionFromPlanePoint(_),d=o,h=l}else{const x=o.getDataId(),R=this.#e.getData(x);if(!R)throw new Error(ra(oC,x));m=R.image;const I=o.displayToPlanePos(i);if(f=l.getPositionFromPlanePoint(I),this.#i=this.#S(c,m),this.#r===void 0)throw new Error(GL);const k=a.getDivId(),_=k!==void 0;_&&this.#C(k),d=this.#D(a),h=d.getViewController(),_&&h.setCurrentPosition(c)}const v=m.getGeometry(),p=this.#r.getMeta(),S=this.#r.getGeometry(),y=l.get2DSpacing(),b=[Math.round(this.#a/y.x),Math.round(this.#a/y.y)];let w;const D=l.getScrollDimIndex();switch(D){case 0:w=[1,2];break;case 1:w=[0,2];break;case 2:w=[0,1];break;default:throw new Error(ra(iI,D))}this.#p(v,S,f,w,b,p);const C=d.displayToPlanePos(i);return function(x,R){const I=x.getSize(),k=[];for(const _ of R){const M=I.indexToOffset(_);M>=0&&k.push(M)}return k.sort(function(_,M){return _-M})}(S,lC(S,h.getPositionFromPlanePoint(C),b,w))}#x(e){const t=gt(e),i=this.#e.getLayerGroupByDivId(t.groupDivId);if(i===void 0)throw new Error("No layergroup to check black list");if(i.getActiveDrawLayer()===void 0){const a=i.getActiveViewLayer().getDataId(),o=this.#e.getData(a).image.getMeta().SeriesInstanceUID;if(this.#g.includes(o))return!0}return!1}mousedown=e=>{if(this.#x(e))return;if(this.#l===void 0)return void De.warn(jL);this.#n=!0,this.#u=new Ae(e.offsetX,e.offsetY),this.#h=[],this.#f=[],this.#O(e);const t=this.#A(e);t.length>0?this.#b(t):(this.#n=!1,this.#P(e))};#O(e){if(e.button===2){this.#s=F0;const t=new CustomEvent("erasingactivated");this.dispatchEvent(t)}}#P(e){if(e.button===2){this.#s=I1;const t=new CustomEvent("erasingdeactivated");this.dispatchEvent(t)}}mousemove=e=>{if(!this.#n||this.#u===void 0)return;const t=new Ae(e.offsetX,e.offsetY),i=Math.abs(t.getX()-this.#u.getX()),a=Math.abs(t.getY()-this.#u.getY());if(i>this.#a/2||a>this.#a/2){const o=this.#A(e);o.length>0&&this.#b(o),this.#u=t}};mouseup=e=>{if(this.#n){if(this.#n=!1,this.#P(e),this.#i===void 0)throw new Error($L);if(this.#h===void 0)throw new Error(KL);if(this.#f===void 0)throw new Error(ZL);this.#h.reverse(),this.#f.reverse();const t=this.#R().getId(),i=this.#e.getData(this.#i);if(!i)throw new Error(ra(QL,this.#i));const a=new cC;a.mask=i.image,a.dataId=this.#i,a.offsetsLists=this.#h,a.mode=this.#s,a.segmentNumber=this.#l,a.srclayerid=t,a.originalValuesLists=this.#f;const o=new uC(a);o.onExecute=l=>{this.dispatchEvent(l)},o.onUndo=l=>{this.dispatchEvent(l),this.#r.recalculateLabels()},this.#e.addToUndoStack(o),this.dispatchEvent(o.getExecuteEvent()),this.#r.recalculateLabels()}};mouseout=e=>{this.mouseup(e)};touchstart=e=>{this.mousedown(e)};touchmove=e=>{this.mousemove(e)};touchend=e=>{this.mouseup(e)};wheel=e=>{this.#t.wheel(e)};#R(){if(this.#i===void 0)throw new Error(eI);if(this.#c===void 0)throw new Error("No current layer group");const e=this.#c.getViewLayersByDataId(this.#i);if(e.length===0)throw new Error(tI);return e.length!==1&&De.warn(XL),e[0]}keydown=e=>{e.context="Brush",this.#e.onKeydown(e);const t=e.ctrlKey||e.altKey;!t&&e.key==="+"&&this.#a+1<this.#o.max?(this.#a+=1,De.debug("Brush size: "+this.#a)):!t&&e.key==="-"&&this.#a-1>=this.#o.min?(this.#a-=1,De.debug("Brush size: "+this.#a)):t||Number.isNaN(Number.parseInt(e.key,10))?t||e.key!=="a"?t||e.key!=="d"||(this.#s=F0,De.debug("Brush mode: "+this.#s)):(this.#s=I1,De.debug("Brush mode: "+this.#s)):this.#s=I1};activate(e){const t=function(i){let a=[];if(!i)return[];for(const o in i)if(i[o]){const l=i[o];if(Array.isArray(l)){const c=l.map(function(d){return d.divId});a=[...a,...c]}}return[...new Set(a)]}(this.#e.getDataViewConfigs());e?this.#L(t):this.#I(t)}#L(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",a=>{a.preventDefault(),a.stopPropagation()})}}#I(e){for(const t of e){const i=document.querySelector("#"+t);if(!i)return;i.addEventListener("contextmenu",a=>{})}}setFeatures(e){e.brushSizeRange!==void 0&&(this.#o=e.brushSizeRange),e.brushSize!==void 0&&e.brushSize>=this.#o.min&&e.brushSize<this.#o.max&&(this.#a=e.brushSize),e.brushMode!==void 0&&(this.#s=e.brushMode),e.createMask?this.#i=void 0:e.maskDataId!==void 0&&(this.#i=e.maskDataId),e.selectedSegmentNumber!==void 0&&(this.#l=e.selectedSegmentNumber),e.blacklist!==void 0&&(this.#g=e.blacklist)}init(){}getEventNames(){return["brushdraw","brushremove","erasingactivated","erasingdeactivated"]}getHelpKeys(){return{title:"tool.Brush.name",brief:"tool.Brush.brief",mouse:{mouse_click:"tool.Brush.mouse_click"},touch:{touch_click:"tool.Brush.touch_click"}}}}var S0=function(n){var e={};return Cn.d(e,n),e}({default:function(){return xP}});class tc{constructor(e,t){this.pointArray=e?e.slice():[],this.controlPointIndexArray=t?t.slice():[]}getPoint(e){return this.pointArray[e]}isControlPoint(e){const t=this.pointArray.indexOf(e);if(t!==-1)return this.controlPointIndexArray.indexOf(t)!==-1;throw new Error("Error: isControlPoint called with not in list point.")}getLength(){return this.pointArray.length}addPoint(e){this.pointArray.push(e)}addControlPoint(e){const t=this.pointArray.indexOf(e);if(t===-1)throw new Error("Cannot mark a non registered point as control point.");this.controlPointIndexArray.push(t)}addPoints(e){this.pointArray=this.pointArray.concat(e)}appenPath(e){const t=this.pointArray.length;this.pointArray=this.pointArray.concat(e.pointArray);const i=[];for(let a=0;a<e.controlPointIndexArray.length;++a)i[a]=e.controlPointIndexArray[a]+t;this.controlPointIndexArray=this.controlPointIndexArray.concat(i)}}class aI{constructor(e,t){this.bucketCount=1<<e,this.mask=this.bucketCount-1,this.size=0,this.loc=0,this.cost=t!==void 0?t:function(i){return i},this.buckets=this.buildArray(this.bucketCount)}push(e){const t=this.getBucket(e);e.next=this.buckets[t],this.buckets[t]=e,this.size++}pop(){if(this.size===0)throw new Error("Cannot pop, bucketQueue is empty.");for(;this.buckets[this.loc]===null;)this.loc=(this.loc+1)%this.bucketCount;const e=this.buckets[this.loc];return this.buckets[this.loc]=e.next,e.next=null,this.size--,e}remove(e){if(!e)return!1;const t=this.getBucket(e);let i=this.buckets[t];for(;i!==null&&(i.next===null||e.x!==i.next.x||e.y!==i.next.y);)i=i.next;return i!==null&&(i.next=i.next.next,this.size--,!0)}isEmpty(){return this.size===0}getBucket(e){return this.cost(e)&this.mask}buildArray(e){const t=new Array(e);for(let i=0;i<t.length;i++)t[i]=null;return t}}const oI=2/(3*Math.PI);function E1(n,e,t,i,a){const o=n[i][t],l=e[i][t];let c=Math.sqrt(o*o+l*l);c=Math.max(c,1e-100),a.x=o/c,a.y=l/c}class sI{constructor(){this.width=-1,this.height=-1,this.curPoint=null,this.searchGranBits=8,this.searchGran=1<<this.searchGranBits,this.pointsPerPost=500,this.greyscale=null,this.laplace=null,this.gradient=null,this.gradX=null,this.gradY=null,this.parents=null,this.working=!1,this.trained=!1,this.trainingPoints=null,this.edgeWidth=2,this.trainingLength=32,this.edgeGran=256,this.edgeTraining=null,this.gradPointsNeeded=32,this.gradGran=1024,this.gradTraining=null,this.insideGran=256,this.insideTraining=null,this.outsideGran=256,this.outsideTraining=null}getTrainingIdx(e,t){return Math.round((e-1)*t)}getTrainedEdge(e){return this.edgeTraining[this.getTrainingIdx(this.edgeGran,e)]}getTrainedGrad(e){return this.gradTraining[this.getTrainingIdx(this.gradGran,e)]}getTrainedInside(e){return this.insideTraining[this.getTrainingIdx(this.insideGran,e)]}getTrainedOutside(e){return this.outsideTraining[this.getTrainingIdx(this.outsideGran,e)]}setWorking(e){this.working=e}setDimensions(e,t){this.width=e,this.height=t}setData(e){if(this.width===-1||this.height===-1)throw new Error("Dimensions have not been set.");this.greyscale=function(i,a,o){const l={data:[]};for(let c=0;c<o;c++){l.data[c]=[];for(let d=0;d<a;d++){const h=4*(c*a+d);l.data[c][d]=(i[h]+i[h+1]+i[h+2])/765}}return l.dx=function(c,d){return c+1===this.data[d].length&&c--,this.data[d][c+1]-this.data[d][c]},l.dy=function(c,d){return d+1===this.data.length&&d--,this.data[d][c]-this.data[d+1][c]},l.gradMagnitude=function(c,d){const h=this.dx(c,d),f=this.dy(c,d);return Math.sqrt(h*h+f*f)},l.laplace=function(c,d){let h=-16*this.data[d][c];return h+=this.data[d-2][c],h+=this.data[d-1][c-1]+2*this.data[d-1][c]+this.data[d-1][c+1],h+=this.data[d][c-2]+2*this.data[d][c-1]+2*this.data[d][c+1]+this.data[d][c+2],h+=this.data[d+1][c-1]+2*this.data[d+1][c]+this.data[d+1][c+1],h+=this.data[d+2][c],h},l}(e,this.width,this.height),this.laplace=function(i){const a=[];a[0]=[],a[1]=[];for(let o=1;o<i.data.length;o++)a[0][o]=1,a[1][o]=1;for(let o=2;o<i.data.length-2;o++){a[o]=[],a[o][0]=1,a[o][1]=1;for(let l=2;l<i.data[o].length-2;l++)a[o][l]=i.laplace(l,o)>.33?0:1;a[o][i.data[o].length-2]=1,a[o][i.data[o].length-1]=1}a[i.data.length-2]=[],a[i.data.length-1]=[];for(let o=1;o<i.data.length;o++)a[i.data.length-2][o]=1,a[i.data.length-1][o]=1;return a}(this.greyscale),this.gradient=function(i){const a=[];let o=0,l=0,c=0;for(c=0;c<i.data.length-1;c++){for(a[c]=[],l=0;l<i.data[c].length-1;l++)a[c][l]=i.gradMagnitude(l,c),o=Math.max(a[c][l],o);a[c][i.data[c].length-1]=a[c][i.data.length-2]}a[i.data.length-1]=[];for(let d=0;d<a[0].length;d++)a[i.data.length-1][d]=a[i.data.length-2][d];for(c=0;c<a.length;c++)for(l=0;l<a[c].length;l++)a[c][l]=1-a[c][l]/o;return a}(this.greyscale),this.gradX=function(i){const a=[];for(let o=0;o<i.data.length;o++){a[o]=[];for(let l=0;l<i.data[o].length-1;l++)a[o][l]=i.dx(l,o);a[o][i.data[o].length-1]=a[o][i.data[o].length-2]}return a}(this.greyscale),this.gradY=function(i){const a=[];for(let o=0;o<i.data.length-1;o++){a[o]=[];for(let l=0;l<i.data[o].length;l++)a[o][l]=i.dy(l,o)}a[i.data.length-1]=[];for(let o=0;o<i.data[0].length;o++)a[i.data.length-1][o]=a[i.data.length-2][o];return a}(this.greyscale);const t=function(i,a,o,l){const c={inside:[],outside:[]},d={x:-1,y:-1};for(let h=0;h<a.length;h++){c.inside[h]=[],c.outside[h]=[];for(let f=0;f<a[h].length;f++){E1(a,o,f,h,d);let m=Math.round(f+i*d.y),v=Math.round(h-i*d.x),p=Math.round(f-i*d.y),S=Math.round(h+i*d.x);m=Math.max(Math.min(m,a[h].length-1),0),p=Math.max(Math.min(p,a[h].length-1),0),v=Math.max(Math.min(v,a.length-1),0),S=Math.max(Math.min(S,a.length-1),0),c.inside[h][f]=l.data[v][m],c.outside[h][f]=l.data[S][p]}}return c}(this.edgeWidth,this.gradX,this.gradY,this.greyscale);this.inside=t.inside,this.outside=t.outside,this.edgeTraining=[],this.gradTraining=[],this.insideTraining=[],this.outsideTraining=[]}findTrainingPoints(e){const t=[];if(this.parents!==null)for(let i=0;i<this.trainingLength&&e;i++)t.push(e),e=this.parents[e.y][e.x];return t}resetTraining(){this.trained=!1}doTraining(e){if(this.trainingPoints=this.findTrainingPoints(e),this.trainingPoints.length<8)return;const t=[];this.calculateTraining(t,this.edgeGran,this.greyscale,this.edgeTraining),this.calculateTraining(t,this.gradGran,this.gradient,this.gradTraining),this.calculateTraining(t,this.insideGran,this.inside,this.insideTraining),this.calculateTraining(t,this.outsideGran,this.outside,this.outsideTraining),this.trainingPoints.length<this.gradPointsNeeded&&this.addInStaticGrad(this.trainingPoints.length,this.gradPointsNeeded),this.trained=!0}calculateTraining(e,t,i,a){let o=0;for(e.length=t,o=0;o<t;o++)e[o]=0;let l=1;for(o=0;o<this.trainingPoints.length;o++){const c=this.trainingPoints[o],d=this.getTrainingIdx(t,i[c.y][c.x]);e[d]+=1,l=Math.max(l,e[d])}for(o=0;o<t;o++)e[o]=1-e[o]/l;(function(c,d){d[0]=.4*c[0]+.5*c[1]+.1*c[1],d[1]=.25*c[0]+.4*c[1]+.25*c[2]+.1*c[3];for(let f=2;f<c.length-2;f++)d[f]=.05*c[f-2]+.25*c[f-1]+.4*c[f]+.25*c[f+1]+.05*c[f+2];const h=c.length;d[h-2]=.25*c[h-1]+.4*c[h-2]+.25*c[h-3]+.1*c[h-4],d[h-1]=.4*c[h-1]+.5*c[h-2]+.1*c[h-3]})(e,a)}addInStaticGrad(e,t){for(let i=0;i<this.gradGran;i++)this.gradTraining[i]=Math.min(this.gradTraining[i],1-i*(t-e)/(t*this.gradGran))}gradDirection(e,t,i,a){return function(o,l,c,d,h,f){const m={x:-1,y:-1},v={x:-1,y:-1};E1(o,l,c,d,m),E1(o,l,h,f,v);let p=m.y*(h-c)-m.x*(f-d),S=v.y*(h-c)-v.x*(f-d);return p<0&&(p=-p,S=-S),c!==h&&d!==f&&(p*=Math.SQRT1_2,S*=Math.SQRT1_2),oI*(Math.acos(p)+Math.acos(S))}(this.gradX,this.gradY,e,t,i,a)}dist(e,t,i,a){let o=this.gradient[a][i];e!==i&&t!==a||(o*=Math.SQRT1_2);const l=this.laplace[a][i],c=this.gradDirection(e,t,i,a);return this.trained?.3*this.getTrainedGrad(o)+.3*l+.1*(c+this.getTrainedEdge(this.greyscale.data[t][e])+this.getTrainedInside(this.inside[t][e])+this.getTrainedOutside(this.outside[t][e])):.43*o+.43*l+.11*c}adj(e){const t=[],i=Math.max(e.x-1,0),a=Math.max(e.y-1,0),o=Math.min(e.x+1,this.greyscale.data[0].length-1),l=Math.min(e.y+1,this.greyscale.data.length-1);let c=0;for(let d=a;d<=l;d++)for(let h=i;h<=o;h++)h===e.x&&d===e.y||(t[c++]={x:h,y:d});return t}#e=e=>Math.round(this.searchGran*this.cost[e.y][e.x]);setPoint(e){this.setWorking(!0),this.curPoint=e;let t=0,i=0;for(this.visited=[],i=0;i<this.height;i++)for(this.visited[i]=[],t=0;t<this.width;t++)this.visited[i][t]=!1;for(this.parents=[],i=0;i<this.height;i++)this.parents[i]=[];for(this.cost=[],i=0;i<this.height;i++)for(this.cost[i]=[],t=0;t<this.width;t++)this.cost[i][t]=Number.MAX_VALUE;this.cost[e.y][e.x]=0,this.pq=new aI(this.searchGranBits,this.#e),this.pq.push(e)}doWork(){if(!this.working)return;this.timeout=null;let e=0;const t=[];for(;!this.pq.isEmpty()&&e<this.pointsPerPost;){const i=this.pq.pop();t.push(i),t.push(this.parents[i.y][i.x]),this.visited[i.y][i.x]=!0;const a=this.adj(i);for(let o=0;o<a.length;o++){const l=a[o],c=this.cost[i.y][i.x]+this.dist(i.x,i.y,l.x,l.y);c<this.cost[l.y][l.x]&&(this.cost[l.y][l.x]!==Number.MAX_VALUE&&this.pq.remove(l),this.cost[l.y][l.x]=c,this.parents[l.y][l.x]=i,this.pq.push(l))}e++}return t}}class qa{#e;constructor(e){this.#e=e}getPosition(e){let t=e.labelPosition;return t===void 0&&(t=this.#e(e)),t}create(e,t){const i=new Ee.default.Text({fontSize:t.getFontSize(),fontFamily:t.getFontFamily(),fill:e.colour,padding:t.getTextPadding(),shadowColor:t.getShadowLineColour(),shadowOffset:t.getShadowOffset(),name:"text"}),a=e.getText();i.setText(a);const o=t.applyZoomScale(1),l={x:2*o.x,y:2*o.y},c=this.getPosition(e),d=new Ee.default.Label({x:c.getX(),y:c.getY(),scale:l,visible:a.length!==0,name:"label"});return d.add(i),d.add(new Ee.default.Tag({fill:e.colour,opacity:t.getTagOpacity()})),d}updatePosition(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof Ee.default.Label))return;const a=this.getPosition(e);i.position({x:a.getX(),y:a.getY()})}getLabelAnchorsPosition(e){const t=e.x(),i=e.y(),a=e.width()*e.scale().x,o=e.height()*e.scale().y;return[new Ae(t+a/2,i),new Ae(t,i+o/2),new Ae(t+a/2,i+o),new Ae(t+a,i+o/2)]}getClosestPoints(e,t){let i=e[0].getDistance(t[0]),a=e[0],o=t[0];for(const l of e)for(const c of t){const d=l.getDistance(c);d<i&&(i=d,a=l,o=c)}return[a,o]}getConnector(e,t,i){const a=this.getLabelAnchorsPosition(t),o=this.getClosestPoints(e,a);return new Ee.default.Line({points:[o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()],stroke:t.getText().fill(),strokeWidth:i.getStrokeWidth(),strokeScaleEnabled:!1,visible:t.visible(),dash:[10,7],name:"connector"})}updateConnector(e,t){const i=e.getChildren(function(c){return c.name()==="label"})[0];if(!(i instanceof Ee.default.Label))return;const a=this.getLabelAnchorsPosition(i),o=this.getClosestPoints(t,a),l=e.getChildren(function(c){return c.name()==="connector"})[0];l instanceof Ee.default.Line&&l.points([o[0].getX(),o[0].getY(),o[1].getX(),o[1].getY()])}updateContent(e,t){const i=t.getChildren(function(o){return o.name()==="label"})[0];if(!(i instanceof Ee.default.Label))return;const a=e.getText();i.getText().setText(a),i.visible()&&i.visible(a.length!==0)}}class lI{#e=0;#t=0;getMin(){return this.#e}setMin(e){this.#e=e}getMax(){return this.#t}setMax(e){this.#t=e}getName(){return"Threshold"}#n=null;setOriginalImage(e){this.#n=e}getOriginalImage(){return this.#n}update(){const e=this.getOriginalImage(),t=e.getDataRange().min;return e.transform(i=>i<this.getMin()||i>this.getMax()?t:i)}}class cI{getName(){return"Sharpen"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){return this.getOriginalImage().convolute2D([0,-1,0,-1,5,-1,0,-1,0])}}class uI{getName(){return"Sobel"}#e=null;setOriginalImage(e){this.#e=e}getOriginalImage(){return this.#e}update(){const e=this.getOriginalImage(),t=e.convolute2D([1,0,-1,2,0,-2,1,0,-1]),i=e.convolute2D([1,2,1,0,0,0,-1,-2,-1]);return t.compose(i,function(a,o){return Math.sqrt(a*a+o*o)})}}class _1{#e;#t;#n;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i}getName(){return"Filter-"+this.#e.getName()}execute(){this.#n.setImage(this.#t,this.#e.update()),this.#n.render(this.#t);const e={type:"filterrun",id:this.getName(),dataId:this.#t};this.onExecute(e)}undo(){this.#n.setImage(this.#t,this.#e.getOriginalImage()),this.#n.render(this.#t);const e={type:"filterundo",id:this.getName(),dataid:this.#t};this.onUndo(e)}onExecute(e){}onUndo(e){}}const dI={},U0={},hI={WindowLevel:class{#e;#t=!1;#n;#r;#i=!0;constructor(n){this.#e=n,this.#r=new cc(n)}#a(n){let e;if(this.#i)e=n.getActiveViewLayer();else{const t=function(i){return i.getViewController().isMonochrome()};e=n.getViewLayersFromActive(t)[0]}return e}#o(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);i!==void 0&&i.getViewController().isMonochrome()&&(this.#t=!0,this.#n=n)}#s(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=this.#a(t);if(i===void 0)return;const a=i.getViewController(),o=n.getX()-this.#n.getX(),l=this.#n.getY()-n.getY(),c=a.getImageRescaledDataRange(),d=.001*(c.max-c.min),h=a.getWindowLevel().center,f=a.getWindowLevel().width,m=new qn(h+l*d,f+o*d);a.setWindowLevel(m),this.#n=n}#l(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=on(n),t=gt(n);this.#o(e,t.groupDivId)};mousemove=n=>{const e=on(n),t=gt(n);this.#s(e,t.groupDivId)};mouseup=n=>{this.#l()};mouseout=n=>{this.#l()};touchstart=n=>{const e=Un(n),t=gt(n);this.#o(e[0],t.groupDivId)};touchmove=n=>{const e=Un(n),t=gt(n);this.#s(e[0],t.groupDivId)};touchend=n=>{this.#l()};dblclick=n=>{const e=gt(n),t=on(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),a=this.#a(i);if(a===void 0)return;const o=a.displayToPlaneIndex(t),l=a.getViewController();if(!l.isMonochrome())return;const c=this.#e.getData(a.getDataId()).image,d=new qn(c.getRescaledValueAtIndex(l.getCurrentIndex().getWithNew2D(o.get(0),o.get(1))),l.getWindowLevel().width);l.setWindowLevel(d)};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="WindowLevel",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){n.strictViewLayer!==void 0&&(this.#i=n.strictViewLayer)}},Scroll:class{#e;#t=!1;#n;#r;#i;#a=!1;#o;constructor(n){this.#e=n,this.#r=new cc(n)}#s(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to do scroll");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#l(n,e){this.#h();const t=this.#e.getLayerGroupByDivId(e),i=this.#s(t);if(i===void 0)return void De.warn("No view layer to start scroll");const a=i.getViewController();a.isPlaying()&&a.stop();const o=i.displayToPlanePos(n),l=a.getPositionFromPlanePoint(o);a.setCurrentPosition(l),this.#t=!0,this.#n=n}#d(n,e){if(!this.#t)return void(this.#a&&this.#u(n,e));const t=this.#e.getLayerGroupByDivId(e),i=t.getPositionHelper(),a=n.getY()-this.#n.getY(),o=Math.abs(a)>15,l=n.getX()-this.#n.getX(),c=Math.abs(l)>15;o&&t.canScroll()?a>0?i.decrementPositionAlongScroll():i.incrementPositionAlongScroll():c&&t.moreThanOne(3)&&(l>0?i.incrementPosition(3):i.decrementPosition(3)),(c||o)&&(this.#n=n)}#c(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=on(n),t=gt(n);this.#l(e,t.groupDivId)};mousemove=n=>{const e=on(n),t=gt(n);this.#d(e,t.groupDivId)};mouseup=n=>{this.#c()};mouseout=n=>{this.#c(),this.#h()};touchstart=n=>{this.#i=setTimeout(()=>{this.dblclick(n)},500);const e=Un(n),t=gt(n);this.#l(e[0],t.groupDivId)};touchmove=n=>{this.#i!==null&&(clearTimeout(this.#i),this.#i=null);const e=Un(n),t=gt(n);this.#d(e[0],t.groupDivId)};touchend=n=>{this.#i!==null&&(clearTimeout(this.#i),this.#i=null),this.#c()};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="Scroll",this.#e.onKeydown(n)};dblclick=n=>{const e=gt(n),t=this.#e.getLayerGroupByDivId(e.groupDivId).getActiveViewLayer();t!==void 0&&t.getViewController().play()};#u(n,e){const t=this.#e.getLayerGroupByDivId(e);this.#o=e,t.showTooltip(n)}#h(){this.#o!==void 0&&(this.#e.getLayerGroupByDivId(this.#o).removeTooltipDiv(),this.#o=void 0)}activate(n){n||this.#h()}setFeatures(n){n.displayTooltip!==void 0&&(this.#a=n.displayTooltip)}init(){}},ZoomAndPan:class{#e;#t=!1;#n;#r;#i;#a;constructor(n){this.#e=n}#o(n){let e=n.getActiveViewLayer();if(e===void 0){const t=n.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to do zoom/pan");e=n.getViewLayerById(t.getReferenceLayerId())}return e}#s(n){this.#t=!0,this.#n=n,this.#r=!1}#l=n=>{this.#t=!0,this.#n=n[0],this.#r=!1,this.#i=new Ut(n[0],n[1]),this.#a=this.#i.getMidpoint()};#d(n,e){if(!this.#t)return;this.#r=!0;const t=n.getX()-this.#n.getX(),i=n.getY()-this.#n.getY(),a=this.#e.getLayerGroupByDivId(e),o=this.#o(a);if(o===void 0)return void De.warn("No view layer to update zoom/pan");const l=o.getViewController(),c=o.displayToPlaneScale(new Ae(t,i)),d=l.getOffset3DFromPlaneOffset({x:c.getX(),y:c.getY()});a.addTranslation({x:d.getX(),y:d.getY(),z:d.getZ()}),a.draw(),this.#n=n}#c=(n,e)=>{if(!this.#t)return;this.#r=!0;const t=new Ut(n[0],n[1]).getLength()/this.#i.getLength(),i=this.#e.getLayerGroupByDivId(e),a=i.getPositionHelper();if(t===1){const o=n[0].getY()-this.#n.getY();if(Math.abs(o)<15)return;i.canScroll()&&(o>0?a.incrementPositionAlongScroll():a.decrementPositionAlongScroll())}else{const o=(t-1)/10;if(Math.abs(o)%.1<=.05&&this.#a!==void 0){const l=this.#o(i);if(l===void 0)return void De.warn("No view layer to do touch zoom/pan");const c=l.getViewController(),d=l.displayToMainPlanePos(this.#a),h=c.getPlanePositionFromPlanePoint(d);i.addScale(o,h),i.draw()}}};#u(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#o(t);if(i===void 0)return void De.warn("No view layer to set current position");const a=i.getViewController(),o=i.displayToPlanePos(n),l=a.getPositionFromPlanePoint(o);a.setCurrentPosition(l)}#h(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=on(n);this.#s(e)};mousemove=n=>{const e=on(n),t=gt(n);this.#d(e,t.groupDivId)};mouseup=n=>{if(!this.#r){const e=on(n),t=gt(n);this.#u(e,t.groupDivId)}this.#h()};mouseout=n=>{this.#h()};touchstart=n=>{const e=Un(n);e.length===1?this.#s(e[0]):e.length===2&&this.#l(e)};touchmove=n=>{const e=Un(n),t=gt(n);e.length===1?this.#d(e[0],t.groupDivId):e.length===2&&this.#c(e,t.groupDivId)};touchend=n=>{if(!this.#r){const e=on(n),t=gt(n);this.#u(e,t.groupDivId)}this.#h()};wheel=n=>{n.preventDefault();const e=-n.deltaY/500,t=gt(n),i=on(n),a=this.#e.getLayerGroupByDivId(t.groupDivId),o=this.#o(a);if(o===void 0)return void De.warn("No view layer to do wheel zoom/pan");const l=o.getViewController(),c=o.displayToMainPlanePos(i),d=l.getPlanePositionFromPlanePoint(c);a.addScale(e,d),a.draw()};keydown=n=>{n.context="ZoomAndPan",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Opacity:class{#e;#t=!1;#n;#r;constructor(n){this.#e=n,this.#r=new cc(n)}#i(n){this.#t=!0,this.#n=n}#a(n,e){if(!this.#t)return;const t=n.getX()-this.#n.getX();if(Math.abs(t)>15){const i=this.#e.getLayerGroupByDivId(e).getActiveLayer(),a=i.getOpacity();i.setOpacity(a+t/200),i.draw(),this.#n=n}}#o(){this.#t&&(this.#t=!1)}mousedown=n=>{const e=on(n);this.#i(e)};mousemove=n=>{const e=on(n),t=gt(n);this.#a(e,t.groupDivId)};mouseup=n=>{this.#o()};mouseout=n=>{this.#o()};touchstart=n=>{const e=Un(n);this.#i(e[0])};touchmove=n=>{const e=Un(n),t=gt(n);this.#a(e[0],t.groupDivId)};touchend=n=>{this.#o()};wheel=n=>{this.#r.wheel(n)};keydown=n=>{n.context="Opacity",this.#e.onKeydown(n)};activate(n){}init(){}setFeatures(n){}},Draw:class{#e;#t;#n;#r=!1;#i=null;#a=null;#o=null;#s;#l=[];#d=null;#c=!0;#u;#h;#f;#g;#m;#p=!1;#b={};#S=!1;#y=[];constructor(n){this.#e=n,this.#t=new cc(n),this.#m=new UL(n,this.#_),this.#n=n.getStyle()}#C(n){let e=!0;if(this.#u!==void 0){const t=n.getActiveViewLayer().getDataId(),i=this.#e.getData(t).image.getMeta();e=this.#u(i)}return e}#v(n){let e=!0;if(this.#h!==void 0){const t=n.getDataId(),i=this.#e.getData(t).annotationGroup.getMeta();e=this.#h(i)}return e}#w(n){const e=n.getActiveViewLayer().getDataId(),t=this.#e.createAnnotationData(e);if(this.#f!==void 0)for(const a of this.#f)t.annotationGroup.setMetaValue(a.concept,a.value);this.#e.addAndRenderAnnotationData(t,n.getDivId(),e);const i=n.getActiveDrawLayer();return i.setShapeHandler(this.#m),n.setActiveLayerByDataId(i.getDataId()),i}#D(n,e){const t=this.#e.getLayerGroupByDivId(e);let i=t.getActiveDrawLayer();if(i===void 0){if(!this.#C(t))return void this.#_({type:"warn",message:"Cannot create draw layer, reference meta is invalid"});i=this.#w(t)}else if(!this.#v(i))return void this.#_({type:"warn",message:"Cannot create draw, data meta is invalid"});const a=i.getDrawController().getAnnotationGroup(),o=i.getKonvaStage();if(this.#n.setZoomScale(o.scale()),a.isEditable()){const l=o.getIntersection({x:n.getX(),y:n.getY()});l?this.#P(i,l):this.#A(t,n)}}#T(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());De.warn("No draw layer to do draw")}#A(n,e){this.#m.disableAndResetEditor(),this.#x();const t=this.#T(n);t!==void 0?(this.#d=t.displayToPlanePos(e),this.#l.push(this.#d)):De.warn("No view layer to start shape")}#x(){this.#r=!0,this.#a=new this.#i[this.#s],this.#l=[]}#O(){this.#r=!1,this.#l=[]}#P(n,e){let t=e.getParent();e instanceof Ee.default.Tag&&(t=t.getParent());const i=t.find(".shape")[0];i instanceof Ee.default.Shape&&(this.#_({type:"annotationselect",annotationid:t.id(),dataid:n.getDataId()}),this.#m.setEditorShape(i,n))}#R(n,e){const t=this.#e.getLayerGroupByDivId(e),i=this.#T(t);if(i===void 0)return void De.warn("No view layer to update shape");const a=i.displayToPlanePos(n);(Math.abs(a.getX()-this.#d.getX())>0||Math.abs(a.getY()-this.#d.getY())>0)&&(this.#S&&this.#l.pop(),this.#d=a,this.#S=!0,this.#l.push(this.#d),this.#I(this.#l,t))}#L(n){if(this.#l.length!==0){if(this.#l.length===this.#a.getNPoints()){const e=this.#e.getLayerGroupByDivId(n);this.#M(this.#l,e),this.#O()}this.#S=!1}else De.warn("Draw mouseup but no points...")}mousedown=n=>{if(this.#r)return;const e=on(n),t=gt(n);this.#D(e,t.groupDivId)};mousemove=n=>{if(!this.#r)return;const e=on(n),t=gt(n);this.#R(e,t.groupDivId)};mouseup=n=>{if(!this.#r)return;const e=gt(n);this.#L(e.groupDivId)};dblclick=n=>{if(this.#a&&this.#a.getNPoints()!==void 0||!this.#r)return;if(this.#l.length===0)return void De.warn("Draw dblclick but no points...");const e=gt(n),t=this.#e.getLayerGroupByDivId(e.groupDivId);this.#M(this.#l,t),this.#O()};touchstart=n=>{if(this.#r)return;const e=Un(n),t=gt(n);this.#D(e[0],t.groupDivId)};touchmove=n=>{if(!this.#r)return;const e=gt(n),t=Un(n),i=this.#e.getLayerGroupByDivId(e.groupDivId),a=this.#T(i);if(a===void 0)return void De.warn("No view layer to handle touch move");const o=a.displayToPlanePos(t[0]);(Math.abs(o.getX()-this.#d.getX())>0||Math.abs(o.getY()-this.#d.getY())>0)&&(this.#l.length!==1&&this.#l.pop(),this.#d=o,this.#l.push(this.#d),this.#l.length<this.#a.getNPoints()&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.#l.push(this.#d)},this.#a.getTimeout())),this.#I(this.#l,i))};touchend=n=>{this.dblclick(n)};wheel=n=>{this.#c&&this.#t.wheel(n)};keydown=n=>{this.#r||(n.context="Draw",this.#e.onKeydown(n));const e=this.#m.getEditorAnnotation();if((n.key==="Delete"||n.key==="Backspace")&&e!==void 0){const t=this.#e.getActiveLayerGroup().getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle key down");const i=t.getDrawController(),a=new pp(e,i);this.#e.addToUndoStack(a),a.execute(),this.#m.onMouseOutShapeGroup()}if(n.key==="Escape"&&this.#o!==null){const t=this.#o.getLayer();this.#o.destroy(),this.#o=null,this.#O(),t.draw()}};#I(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle new points");const i=t.getDrawController(),a=t.getKonvaLayer(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void De.warn("No view layer to handle new points");const l=o.getViewController();if(this.#p){const h=["#ffff80","#ff80ff","#80ffff","#80ff80","8080ff","ff8080"],f=t.getId(),m=f.substring(f.length-1),v=h[parseInt(m,10)-1];v!==void 0&&this.#n.setLineColour(v)}const c=new wr,d=i.getAnnotationGroup().getColour();c.colour=d!==void 0?d:this.#n.getLineColour(),c.init(l),this.#a.setAnnotationMathShape(c,n),this.#o=this.#a.createShapeGroup(c,this.#n),t.setLabelVisibility(this.#o),this.#o.getChildren(ua)[0].listening(!1),a.listening(!1),a.add(this.#o),a.draw()}#M(n,e){this.#o&&(this.#o.destroy(),this.#o=null);const t=e.getActiveDrawLayer();if(t===void 0)return void De.warn("No draw layer to handle final points");const i=t.getKonvaLayer(),a=t.getDrawController(),o=e.getViewLayerById(t.getReferenceLayerId());if(o===void 0)return void De.warn("No view layer to handle final points");const l=o.getViewController(),c=new wr,d=a.getAnnotationGroup().getColour();if(c.colour=d!==void 0?d:this.#n.getLineColour(),c.init(l),this.#g!==void 0)for(const f of this.#g)c.addMetaItem(f.concept,f.value);this.#a.setAnnotationMathShape(c,n);const h=new M0(c,a);this.#e.addToUndoStack(h),h.execute(),i.listening(!0)}#E(n){const e=n.getId();return this.#y[e]===void 0&&(this.#y[e]=()=>{n.activateCurrentPositionShapes(!0)}),this.#y[e]}#F(n,e){n.setShapeHandler(this.#m),n.activateCurrentPositionShapes(e),e?this.#e.addEventListener("positionchange",this.#E(n)):this.#e.removeEventListener("positionchange",this.#E(n))}activate(n){n||this.#m.onMouseOutShapeGroup();const e=this.#e.getDrawLayers();for(const t of e)t!==void 0&&this.#F(t,n);this.#e.addEventListener("drawlayeradd",t=>{const i=this.#e.getDrawLayers(function(a){return a.getId()===t.layerid});i.length===1&&this.#F(i[0],n)})}setOptions(n){this.#i=n}getOptionsType(){return"factory"}setFeatures(n){if(n.autoShapeColour!==void 0&&(this.#p=n.autoShapeColour),n.shapeColour!==void 0&&(this.#n.setLineColour(n.shapeColour),this.#p=!1),n.shapeName!==void 0){if(!this.hasShape(n.shapeName))throw new Error("Unknown shape: '"+n.shapeName+"'");this.#s=n.shapeName}n.mouseOverCursor!==void 0&&this.#m.storeMouseOverCursor(n.mouseOverCursor),n.withScroll!==void 0&&(this.#c=n.withScroll),n.refMetaValidator!==void 0&&(this.#u=n.refMetaValidator),n.drawMetaValidator!==void 0&&(this.#h=n.drawMetaValidator),n.annotationGroupMeta!==void 0&&(this.#f=n.annotationGroupMeta),n.annotationMeta!==void 0&&(this.#g=n.annotationMeta)}init(){}getEventNames(){return["annotationupdate","annotationselect","warn"]}addEventListener(n,e){this.#b[n]===void 0&&(this.#b[n]=[]),this.#b[n].push(e)}removeEventListener(n,e){if(this.#b[n]!==void 0)for(let t=0;t<this.#b[n].length;++t)this.#b[n][t]===e&&this.#b[n].splice(t,1)}#_=n=>{if(this.#b[n.type]!==void 0)for(let e=0;e<this.#b[n.type].length;++e)this.#b[n.type][e](n)};hasShape(n){return this.#i[n]!==void 0}},Brush:rI,Filter:class{#e;constructor(n){this.#e=n}#t=null;#n=0;#r=new Kn;activate(n){for(const e in this.#t)n?(this.#t[e].addEventListener("filterrun",this.#i),this.#t[e].addEventListener("filterundo",this.#i)):(this.#t[e].removeEventListener("filterrun",this.#i),this.#t[e].removeEventListener("filterundo",this.#i))}setOptions(n){this.#t={};for(const e in n)this.#t[e]=new n[e](this.#e)}getOptionsType(){return"instance"}init(){for(const n in this.#t)this.#t[n].init()}keydown=n=>{n.context="Filter",this.#e.onKeydown(n)};getEventNames(){return["filterrun","filterundo"]}addEventListener(n,e){this.#r.add(n,e)}removeEventListener(n,e){this.#r.remove(n,e)}#i=n=>{this.#r.fireEvent(n)};getSelectedFilter(){return this.#n}setFeatures(n){if(n.filterName!==void 0){if(!this.hasFilter(n.filterName))throw new Error("Unknown filter: '"+n.filterName+"'");this.#n&&this.#n.activate(!1),this.#n=this.#t[n.filterName],this.#n.activate(!0)}if(n.run!==void 0&&n.run){let e={};n.runArgs!==void 0&&(e=n.runArgs),this.getSelectedFilter().run(e)}}getFilterList(){return this.#t}hasFilter(n){return this.#t[n]}},Floodfill:class{#e;constructor(n){this.#e=n}#t=5;#n=0;#r=2e3;#i=null;#a=null;#o=10;#s=null;#l=!1;#d;#c;#u=null;#h=[];#f=!1;#g=new K0;setExtend(n){this.#f=n}getExtend(){return this.#f}#m(n){const e=n.getActiveDrawLayer();if(e!==void 0)return n.getViewLayerById(e.getReferenceLayerId());De.warn("No draw layer to do floodfill")}#p=(n,e)=>{const t=this.#e.getLayerGroupByDivId(e),i=this.#m(t);if(i===void 0)return void De.warn("No view layer to get index");const a=i.displayToPlaneIndex(n);return{x:a.get(0),y:a.get(1)}};#b(n,e,t){this.#h=[];const i={data:this.#i.data,width:this.#i.width,height:this.#i.height,bytes:4};this.#a=S0.default.floodFill(i,n.x,n.y,e),this.#a=S0.default.gaussBlurOnlyBorder(this.#a,this.#t);let a=S0.default.traceContours(this.#a);if(a=S0.default.simplifyContours(a,this.#n,this.#r),a.length>0&&a[0].points[0].x){if(t)return a[0].points;for(let o=0,l=a[0].points.length;o<l;o++)this.#h.push(new Ae(a[0].points[o].x,a[0].points[o].y));return this.#h}return[]}#S(n,e,t){if(this.#u=this.#b(n,e,!1),this.#u.length!==0){const i=t.getActiveDrawLayer();if(i===void 0)return De.warn("No draw layer to paint border"),!1;const a=i.getDrawController(),o=new Ti(this.#u);let l;if(this.#d===void 0){this.#d=new wr,this.#d.colour=this.#g.getLineColour();const c=t.getViewLayerById(i.getReferenceLayerId());if(c===void 0)return De.warn("No view layer to paint border"),!1;const d=c.getViewController();this.#d.init(d),this.#d.mathShape=o,l=new M0(this.#d,a)}else{const c=this.#d.mathShape;l=new eo(this.#d,{mathShape:c},{mathShape:o},a)}this.#e.addToUndoStack(l),l.execute()}return this.#u.length!==0}extend(n,e,t){if(!this.#c)throw"'initialpoint' not found. User must click before use extend!";const i=t.getPositionHelper(),a=this.#m(t);if(a===void 0)return void De.warn("No view layer to extend floodfill");const o=a.getViewController(),l=o.getCurrentIndex(),c=o.getImageSize(),d=this.#s||this.#o;for(let h=l.get(2),f=e||c.get(2);h<f&&this.#S(this.#c,d,t);h++)i.incrementPositionAlongScroll();o.setCurrentIndex(l);for(let h=l.get(2),f=n||0;h>f&&this.#S(this.#c,d,t);h--)i.decrementPositionAlongScroll();o.setCurrentIndex(l)}onThresholdChange(n){}#y(n,e){this.#d=void 0;const t=this.#e.getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();if(a===void 0){i=t.getActiveViewLayer();const o=i.getDataId(),l=this.#e.createAnnotationData(o);this.#e.addAndRenderAnnotationData(l,e,o),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}else if(i=t.getViewLayerById(a.getReferenceLayerId()),i===void 0)return void De.warn("No view layer to start floodfill");this.#i=i.getImageData(),this.#i?(this.#g.setZoomScale(a.getKonvaLayer().getAbsoluteScale()),this.#l=!0,this.#c=this.#p(n,e),this.#S(this.#c,this.#o,t),this.onThresholdChange(this.#o)):De.error("No image found")}#C(n,e){if(!this.#l)return;const t=this.#p(n,e);this.#s=Math.round(Math.sqrt(Math.pow(this.#c.x-t.x,2)+Math.pow(this.#c.y-t.y,2))/2),this.#s=this.#s<this.#o?this.#o:this.#s-this.#o,this.#S(this.#c,this.#s,this.#e.getLayerGroupByDivId(e)),this.onThresholdChange(this.#s)}#v(){this.#l&&(this.#l=!1)}mousedown=n=>{const e=on(n),t=gt(n);this.#y(e,t.groupDivId)};mousemove=n=>{const e=on(n),t=gt(n);this.#C(e,t.groupDivId)};mouseup=n=>{this.#v()};mouseout=n=>{this.#v()};touchstart=n=>{const e=Un(n),t=gt(n);this.#y(e[0],t.groupDivId)};touchmove=n=>{const e=Un(n),t=gt(n);this.#C(e[0],t.groupDivId)};touchend=n=>{this.#v()};keydown=n=>{n.context="Floodfill",this.#e.onKeydown(n)};activate(n){n&&(this.#g.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#g.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#g.setLineColour(n.shapeColour)}},Livewire:class{#e;constructor(n){this.#e=n}#t=!1;#n;#r;#i=new K0;#a=new tc;#o=new tc;#s=[];#l=5;#d(n){const e=n.get(1);for(let t=0;t<e;++t)this.#s[t]=[]}#c(){this.#a=new tc,this.#o=new tc}#u=new sI;#h(n,e){const t=this.#e.getLayerGroupByDivId(e);let i,a=t.getActiveDrawLayer();i=a===void 0?t.getActiveViewLayer():t.getViewLayerById(a.getReferenceLayerId());const o=i.getViewController().getImageSize();this.#u.setDimensions(o.get(0),o.get(1)),this.#u.setData(i.getImageData().data);const l=i.displayToPlaneIndex(n);if(this.#t){const c=Math.abs(l.get(0)-this.#n.getX()),d=Math.abs(l.get(1)-this.#n.getY());if(c<this.#l&&d<this.#l)this.#g();else{this.#a=this.#o,this.#d(o);const h={x:l.get(0),y:l.get(1)};this.#u.doTraining(h),this.#a.addControlPoint(this.#o.getPoint(0))}}else{if(this.#r=void 0,this.#t=!0,this.#n=new Ae(l.get(0),l.get(1)),this.#c(),this.#d(o),a===void 0){const h=i.getDataId(),f=this.#e.createAnnotationData(h);this.#e.addAndRenderAnnotationData(f,e,h),a=t.getActiveDrawLayer(),t.setActiveLayerByDataId(a.getDataId())}this.#i.setZoomScale(a.getKonvaLayer().getAbsoluteScale());const c={x:l.get(0),y:l.get(1)};this.#u.doTraining(c);const d=new Ae(l.get(0),l.get(1));this.#a.addPoint(d),this.#a.addControlPoint(d)}}#f(n,e){if(!this.#t)return;const t=this.#e.getLayerGroupByDivId(e),i=t.getActiveDrawLayer();if(i===void 0)return void De.warn("No draw layer to update livewire");const a=t.getViewLayerById(i.getReferenceLayerId());if(a===void 0)return void De.warn("No view layer to update livewire");const o=a.displayToPlaneIndex(n);let l={x:o.get(0),y:o.get(1)};this.#u.setPoint(l);let c=[],d=!1;for(;!this.#s[l.y][l.x]&&!d;)if(c=this.#u.doWork(),c.length===0)d=!0;else for(let v=0;v<c.length-1;v+=2){const p=c[v],S=c[v+1];this.#s[p.y][p.x]=S}for(this.#o=new tc,d=!1;l&&!d;)this.#o.addPoint(new Ae(l.x,l.y)),this.#s[l.y]&&this.#s[l.y][l.x]?l=this.#s[l.y][l.x]:d=!0;this.#o.appenPath(this.#a);const h=i.getDrawController(),f=new Ti(this.#o.pointArray);let m;if(this.#r===void 0){this.#r=new wr,this.#r.colour=this.#i.getLineColour();const v=a.getViewController();this.#r.init(v),this.#r.mathShape=f,m=new M0(this.#r,h)}else{const v=this.#r.mathShape;m=new eo(this.#r,{mathShape:v},{mathShape:f},h)}this.#e.addToUndoStack(m),m.execute()}#g(){this.#t=!1}mousedown=n=>{const e=on(n),t=gt(n);this.#h(e,t.groupDivId)};mousemove=n=>{const e=on(n),t=gt(n);this.#f(e,t.groupDivId)};mouseup(n){}mouseout=n=>{};dblclick=n=>{this.#g()};touchstart=n=>{const e=Un(n),t=gt(n);this.#h(e[0],t.groupDivId)};touchmove=n=>{const e=Un(n),t=gt(n);this.#f(e[0],t.groupDivId)};touchend=n=>{};keydown=n=>{n.context="Livewire",this.#e.onKeydown(n)};activate(n){n&&(this.#i.setBaseScale(this.#e.getBaseScale()),this.setFeatures({shapeColour:this.#i.getLineColour()}))}init(){}setFeatures(n){n.shapeColour!==void 0&&this.#i.setLineColour(n.shapeColour)}}},Dg={draw:{ArrowFactory:class{#e="arrow";#t=new qa(this.#d);static supports(n){return n instanceof Ae}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.referencePoints=[e[1]],n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const a=this.#l(n,e);for(const c of a)t.add(c);const o=this.#t.create(n,e);t.add(o);const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new Ae(a,o)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new Ae(e[0]+t,e[1]+i),new Ae(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ee.default.Group))return;const i=this.#s(t),a=dt(t,0),o=dt(t,1),l=new Ae(a.x()-i.x(),a.y()-i.y()),c=new Ae(o.x()-i.x(),o.y()-i.y());n.mathShape=l,n.referencePoints=[c],n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new Ut(t,i),o=a.getBegin(),l=new Ae(o.getX()+e.x,o.getY()+e.y),c=a.getEnd(),d=new Ae(c.getX()+e.x,c.getY()+e.y);n.mathShape=l,n.referencePoints=[d],n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return n[0]}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape;if(n.referencePoints===void 0||n.referencePoints.length===0)throw new Error("No reference point for arrow");const i=n.referencePoints[0],a=new Ut(t,i),o=new Ee.default.Line({points:[t.getX(),t.getY(),i.getX(),i.getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),l=bi(a,t,20,e.getZoomScale()),c=bi(a,i,20,e.getZoomScale());return o.hitFunc(function(d){d.beginPath(),d.moveTo(l.getBegin().getX(),l.getBegin().getY()),d.lineTo(l.getEnd().getX(),l.getEnd().getY()),d.lineTo(c.getEnd().getX(),c.getEnd().getY()),d.lineTo(c.getBegin().getX(),c.getBegin().getY()),d.closePath(),d.fillStrokeShape(o)}),o}#s(n){return m0(n)}#l(n,e){const t=n.mathShape,i=n.referencePoints[0],a=new Ut(t,i),o=aC(a,40,20,e.getZoomScale());return[new Ee.default.Line({points:[a.getBegin().getX(),a.getBegin().getY(),o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],fill:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,closed:!0,name:"shape-triangle"})]}#d(n){return n.mathShape}#c(n,e,t){const i=n.mathShape,a=n.referencePoints[0],o=new Ut(i,a),l=e.getParent();if(!(l instanceof Ee.default.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getX(),i.getY(),a.getX(),a.getY()]);const d=l.getChildren(function(S){return S.name()==="shape-triangle"})[0];if(!(d instanceof Ee.default.Line))return;const h=dt(l,0),f=dt(l,1);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;default:De.error("Unhandled anchor id: "+e.id())}const m=aC(o,40,20,t.getZoomScale());d.position({x:0,y:0}),d.points([o.getBegin().getX(),o.getBegin().getY(),m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]);const v=bi(o,i,20,t.getZoomScale()),p=bi(o,a,20,t.getZoomScale());c.hitFunc(function(S){S.beginPath(),S.moveTo(v.getBegin().getX(),v.getBegin().getY()),S.lineTo(v.getEnd().getX(),v.getEnd().getY()),S.lineTo(p.getEnd().getX(),p.getEnd().getY()),S.lineTo(p.getBegin().getX(),p.getBegin().getY()),S.closePath(),S.fillStrokeShape(c)})}#u(n,e){}#h(n,e){}},CircleFactory:class{#e="circle";#t=new qa(this.#l);static supports(n){return n instanceof Za}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radius()*Math.sqrt(2)/2;return[new Ae(e-i,t-i),new Ae(e+i,t-i),new Ae(e-i,t+i),new Ae(e+i,t+i)]}#r(n){const e=n.x(),t=n.y(),i=n.radius();return[new Ae(e-i,t),new Ae(e+i,t),new Ae(e,t+i),new Ae(e,t-i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Ee.default.Group))return;const t=dt(e,0),i=dt(e,1),a=dt(e,2),o=dt(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:De.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=new Ae(t.getCenter().getX(),t.getCenter().getY()),a=new Ae(e.x(),e.y()),o=i.getDistance(a);n.mathShape=new Za(i,o),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new Ae(i.getX()+e.x,i.getY()+e.y);n.mathShape=new Za(a,t.getRadius()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY()),i=Math.round(Math.sqrt(e*e+t*t));return new Za(n[0],i)}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape;return new Ee.default.Circle({x:t.getCenter().getX(),y:t.getCenter().getY(),radius:t.getRadius(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ua)[0];if(e instanceof Ee.default.Circle)return e}#l(n){const e=n.mathShape,t=e.getCenter(),i=e.getRadius();return new Ae(t.getX()-i,t.getY()+i)}#d(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getRadius(),l=e.getParent();if(!(l instanceof Ee.default.Group))return;this.#s(l).radius(o);const c=dt(l,0),d=dt(l,1),h=dt(l,2),f=dt(l,3),m=d.x()<c.x()?-1:1,v=f.y()<h.y()?1:-1;switch(e.id()){case"anchor0":c.x(e.x()),d.x(a.getX()+m*o),h.y(a.getY()+o),f.y(a.getY()-o);break;case"anchor1":d.x(e.x()),c.x(a.getX()-m*o),h.y(a.getY()+o),f.y(a.getY()-o);break;case"anchor2":h.y(e.y()),c.x(a.getX()-o),d.x(a.getX()+o),f.y(a.getY()-v*o);break;case"anchor3":f.y(e.y()),c.x(a.getX()-o),d.x(a.getX()+o),h.y(a.getY()+v*o);break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new Ee.default.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const d=l[c],h=d[0][0],f=d[0][1],m=d[1][0],v=new Ee.default.Rect({x:h-i,y:f-a,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n,e);e.add(i),i.moveToBottom()}}},EllipseFactory:class{#e="ellipse";#t=new qa(this.#l);static supports(n){return n instanceof Ka}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.radiusX()*Math.sqrt(2)/2,a=n.radiusY()*Math.sqrt(2)/2;return[new Ae(e-i,t-a),new Ae(e+i,t-a),new Ae(e-i,t+a),new Ae(e+i,t+a)]}#r(n){const e=n.x(),t=n.y(),i=n.radius();return[new Ae(e-i.x,t),new Ae(e+i.x,t),new Ae(e,t+i.y),new Ae(e,t-i.y)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){const e=n.getParent();if(!(e instanceof Ee.default.Group))return;const t=dt(e,0),i=dt(e,1),a=dt(e,2),o=dt(e,3);switch(n.id()){case"anchor0":t.y(i.y());break;case"anchor1":i.y(t.y());break;case"anchor2":a.x(o.x());break;case"anchor3":o.x(a.x());break;default:De.error("Unhandled anchor id: "+n.id())}}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=n.mathShape,i=t.getCenter();let a=t.getA(),o=t.getB();switch(e.id()){case"anchor0":a=i.getX()-e.x();break;case"anchor1":a=e.x()-i.getX();break;case"anchor2":o=e.y()-i.getY();break;case"anchor3":o=i.getY()-e.y();break;default:De.error("Unhandled anchor id: "+e.id())}n.mathShape=new Ka(i,Math.abs(a),Math.abs(o)),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getCenter(),a=new Ae(i.getX()+e.x,i.getY()+e.y);n.mathShape=new Ka(a,t.getA(),t.getB()),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){const e=Math.abs(n[0].getX()-n[1].getX()),t=Math.abs(n[0].getY()-n[1].getY());return new Ka(n[0],e,t)}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape,i=t.getCenter(),a={x:t.getA(),y:t.getB()};return new Ee.default.Ellipse({x:i.getX(),y:i.getY(),radius:a,radiusX:a.x,radiusY:a.y,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ua)[0];if(e instanceof Ee.default.Ellipse)return e}#l(n){const e=n.mathShape,t=e.getCenter();return new Ae(t.getX()-e.getA(),t.getY()+e.getB())}#d(n,e,t){const i=n.mathShape,a=i.getCenter(),o=i.getA(),l=i.getB(),c=e.getParent();if(!(c instanceof Ee.default.Group))return;this.#s(c).radius({x:o,y:l});const d=dt(c,0),h=dt(c,1),f=dt(c,2),m=dt(c,3),v=h.x()<d.x()?-1:1,p=m.y()<f.y()?1:-1;switch(e.id()){case"anchor0":d.x(e.x()),h.x(a.getX()+v*o),f.y(a.getY()+l),m.y(a.getY()-l);break;case"anchor1":h.x(e.x()),d.x(a.getX()-v*o),f.y(a.getY()+l),m.y(a.getY()-l);break;case"anchor2":f.y(e.y()),d.x(a.getX()-o),h.x(a.getX()+o),m.y(a.getY()-p*l);break;case"anchor3":m.y(e.y()),d.x(a.getX()-o),h.x(a.getX()+o),f.y(a.getY()+p*l);break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape;let i=0,a=0;e!==void 0&&(i=e.x(),a=e.y());const o=new Ee.default.Group;o.name("shadow");const l=t.getRound();for(let c=0;c<l.length;++c){const d=l[c],h=d[0][0],f=d[0][1],m=d[1][0],v=new Ee.default.Rect({x:h-i,y:f-a,width:m-h,height:1,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow-element"});o.add(v)}return o}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n,e);e.add(i),i.moveToBottom()}}},ProtractorFactory:class{#e="protractor";#t=new qa(this.#d);static supports(n){return n instanceof $a}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 3}getTimeout(){return 500}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=n.mathShape,i=new Ee.default.Group;i.name(this.getGroupName()),i.visible(!0),i.id(n.trackingUid);const a=this.#o(n,e);if(i.add(this.#o(n,e)),t.getLength()===this.getNPoints()){const o=this.#l(n,e);for(const d of o)i.add(d);const l=this.#t.create(n,e);i.add(this.#t.create(n,e));const c=this.#n(a);i.add(this.#t.getConnector(c,l,e))}return i}#n(n){const e=n.points(),t=n.x(),i=n.y();return[new Ae(e[2]+t,e[3]+i)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new Ae(e[0]+t,e[1]+i),new Ae(e[2]+t,e[3]+i),new Ae(e[4]+t,e[5]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ee.default.Group))return;const i=this.#s(t),a=dt(t,0),o=dt(t,1),l=dt(t,2),c=new Ae(a.x()-i.x(),a.y()-i.y()),d=new Ae(o.x()-i.x(),o.y()-i.y()),h=new Ae(l.x()-i.x(),l.y()-i.y());n.mathShape=new $a([c,d,h]),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<3;++a)i.push(new Ae(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new $a(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new $a(n)}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let o=0;o<t.getLength();++o)i.push(t.getPoint(o).getX()),i.push(t.getPoint(o).getY());const a=new Ee.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"});return t.getLength()===this.getNPoints()&&a.hitFunc(function(o){o.beginPath(),o.moveTo(t.getPoint(0).getX(),t.getPoint(0).getY()),o.lineTo(t.getPoint(1).getX(),t.getPoint(1).getY()),o.lineTo(t.getPoint(2).getX(),t.getPoint(2).getY()),o.closePath(),o.fillStrokeShape(a)}),a}#s(n){return m0(n)}#l(n,e){const t=n.mathShape,i=new Ut(t.getPoint(0),t.getPoint(1)),a=new Ut(t.getPoint(1),t.getPoint(2));let o=Cg(i,a),l=i.getInclination();o>180&&(o=360-o,l+=o);const c=33*Math.min(i.getLength(),a.getLength())/100;return[new Ee.default.Arc({innerRadius:c,outerRadius:c,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,angle:o,rotation:-l,x:t.getPoint(1).getX(),y:t.getPoint(1).getY(),name:"shape-arc"})]}#d(n){const e=n.mathShape,t=new Ut(e.getPoint(0),e.getPoint(1)),i=new Ut(e.getPoint(1),e.getPoint(2)),a=(t.getMidpoint().getX()+i.getMidpoint().getX())/2,o=(t.getMidpoint().getY()+i.getMidpoint().getY())/2;return new Ae(a,o)}#c(n,e,t){const i=n.mathShape,a=new Ut(i.getPoint(0),i.getPoint(1)),o=new Ut(i.getPoint(1),i.getPoint(2)),l=e.getParent();if(!(l instanceof Ee.default.Group))return;const c=this.#s(l);c.position({x:0,y:0}),c.points([i.getPoint(0).getX(),i.getPoint(0).getY(),i.getPoint(1).getX(),i.getPoint(1).getY(),i.getPoint(2).getX(),i.getPoint(2).getY()]);const d=l.getChildren(function(b){return b.name()==="shape-arc"})[0];if(!(d instanceof Ee.default.Arc))return;const h=dt(l,0),f=dt(l,1),m=dt(l,2);switch(e.id()){case"anchor0":h.x(e.x()),h.y(e.y());break;case"anchor1":f.x(e.x()),f.y(e.y());break;case"anchor2":m.x(e.x()),m.y(e.y())}let v=Cg(a,o),p=a.getInclination();v>180&&(v=360-v,p+=v);const S=33*Math.min(a.getLength(),o.getLength())/100;d.innerRadius(S),d.outerRadius(S),d.angle(v),d.rotation(-p);const y={x:f.x(),y:f.y()};d.position(y),c.hitFunc(function(b){b.beginPath(),b.moveTo(i.getPoint(0).getX(),i.getPoint(0).getY()),b.lineTo(i.getPoint(1).getX(),i.getPoint(1).getY()),b.lineTo(i.getPoint(2).getX(),i.getPoint(2).getY()),b.closePath(),b.fillStrokeShape(c)})}#u(n,e){}#h(n,e){}},RectangleFactory:class{#e="rectangle";#t=new qa(this.#l);static supports(n){return n instanceof Wa}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(i);const a=this.#t.create(n,e);t.add(a);const o=this.#n(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new Ae(e+i/2,t),new Ae(e,t+a/2),new Ae(e+i/2,t+a),new Ae(e+i,t+a/2)]}#r(n){const e=n.x(),t=n.y(),i=n.width(),a=n.height();return[new Ae(e,t),new Ae(e+i,t),new Ae(e+i,t+a),new Ae(e,t+a)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ee.default.Group))return;const i=dt(t,0),a=dt(t,2),o=new Ae(i.x(),i.y()),l=new Ae(a.x(),a.y());n.mathShape=new Wa(o,l),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new Ae(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new Ae(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Wa(a,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new Wa(n[0],n[1])}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape;return new Ee.default.Rect({x:t.getBegin().getX(),y:t.getBegin().getY(),width:t.getWidth(),height:t.getHeight(),stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"})}#s(n){const e=n.getChildren(ua)[0];if(e instanceof Ee.default.Rect)return e}#l(n){const e=n.mathShape;return new Ae(e.getBegin().getX(),e.getEnd().getY())}#d(n,e,t){const i=n.mathShape,a=i.getBegin(),o=e.getParent();if(!(o instanceof Ee.default.Group))return;const l=this.#s(o);l.position({x:a.getX(),y:a.getY()}),l.size({width:i.getWidth(),height:i.getHeight()});const c=dt(o,0),d=dt(o,1),h=dt(o,2),f=dt(o,3);switch(e.id()){case"anchor0":c.x(e.x()),c.y(e.y()),d.y(e.y()),f.x(e.x());break;case"anchor1":d.x(e.x()),d.y(e.y()),c.y(e.y()),h.x(e.x());break;case"anchor2":h.x(e.x()),h.y(e.y()),f.y(e.y()),d.x(e.x());break;case"anchor3":f.x(e.x()),f.y(e.y()),h.y(e.y()),c.x(e.x());break;default:De.error("Unhandled anchor id: "+e.id())}}#c(n,e){const t=n.mathShape.getRound(),i=t.max.getX()-t.min.getX(),a=t.max.getY()-t.min.getY();return new Ee.default.Rect({x:t.min.getX(),y:t.min.getY(),width:i,height:a,fill:n.colour,strokeWidth:0,strokeScaleEnabled:!1,opacity:.3,name:"shadow"})}#u(n,e){const t=e.getChildren(function(i){return i.name()==="shadow"})[0];if(t!==void 0){t.destroy();const i=this.#c(n);e.add(i),i.moveToBottom()}}},RoiFactory:class{#e="roi";#t=new qa(this.#l);static supports(n){return n instanceof Ti}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){}getTimeout(){return 100}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#t.create(n,e);t.add(this.#t.create(n,e));const o=this.#r(i);return t.add(this.#t.getConnector(o,a,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2)a.push(new Ae(e[o]+t,e[o+1]+i));return a}#r(n){const e=n.points(),t=n.x(),i=n.y(),a=[];for(let o=0;o<e.length;o+=2){const l=(o+2)%e.length,c=(e[o]+e[l])/2+t,d=(e[o+1]+e[l+1])/2+i;a.push(new Ae(c,d))}return a}getAnchors(n,e){const t=this.#n(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#d(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ee.default.Group))return;const i=this.#s(t),a=n.mathShape.getPoints().slice(),o=new Ae(e.x()-i.x(),e.y()-i.y());a[rC(e.id())]=o,n.mathShape=new Ti(a),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(new Ae(t.getPoint(a).getX()+e.x,t.getPoint(a).getY()+e.y));n.mathShape=new Ti(i),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#r(e);this.#t.updateConnector(n,t)}#i(n){return new Ti(n)}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape,i=[];for(let a=0;a<t.getLength();++a)i.push(t.getPoint(a).getX()),i.push(t.getPoint(a).getY());return new Ee.default.Line({points:i,stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape",closed:!0})}#s(n){return m0(n)}#l(n){const e=n.mathShape;return new Ae(e.getPoint(0).getX(),e.getPoint(0).getY())}#d(n,e,t){const i=e.getParent();if(!(i instanceof Ee.default.Group))return;const a=this.#s(i),o=a.points(),l=2*rC(e.id());o[l]=e.x()-a.x(),o[l+1]=e.y()-a.y(),a.points(o);const c=i.getChildren(function(d){return d.id()===e.id()})[0];c.x(e.x()),c.y(e.y())}#c(n,e){}#u(n,e){}},RulerFactory:class{#e="ruler";#t=new qa(this.#d);static supports(n){return n instanceof Ut}getName(){return this.#e}getGroupName(){return this.#e+"-group"}getNPoints(){return 2}getTimeout(){return 0}setAnnotationMathShape(n,e){n.mathShape=this.#i(e),n.setTextExpr(this.#a()),n.updateQuantification()}createShapeGroup(n,e){const t=new Ee.default.Group;t.name(this.getGroupName()),t.visible(!0),t.id(n.trackingUid);const i=this.#o(n,e);t.add(this.#o(n,e));const a=this.#l(n,e);for(const c of a)t.add(c);const o=this.#t.create(n,e);t.add(this.#t.create(n,e));const l=this.#n(i);return t.add(this.#t.getConnector(l,o,e)),t}#n(n){const e=n.points(),t=n.x(),i=n.y(),a=(e[0]+e[2])/2+t,o=(e[1]+e[3])/2+i;return[new Ae(a,o)]}#r(n){const e=n.points(),t=n.x(),i=n.y();return[new Ae(e[0]+t,e[1]+i),new Ae(e[2]+t,e[3]+i)]}getAnchors(n,e){const t=this.#r(n),i=[];for(let a=0;a<t.length;++a)i.push(Na(t[a].getX(),t[a].getY(),"anchor"+a,e));return i}constrainAnchorMove(n){}updateShapeGroupOnAnchorMove(n,e,t){const i=e.getParent();i instanceof Ee.default.Group&&(this.#c(n,e,t),this.updateLabelContent(n,i,t),n.labelPosition===void 0&&this.#t.updatePosition(n,i),this.updateConnector(i))}updateAnnotationOnAnchorMove(n,e){const t=e.getParent();if(!(t instanceof Ee.default.Group))return;const i=this.#s(t),a=dt(t,0),o=dt(t,1),l=new Ae(a.x()-i.x(),a.y()-i.y()),c=new Ae(o.x()-i.x(),o.y()-i.y());n.mathShape=new Ut(l,c),n.updateQuantification()}updateAnnotationOnTranslation(n,e){const t=n.mathShape,i=t.getBegin(),a=new Ae(i.getX()+e.x,i.getY()+e.y),o=t.getEnd(),l=new Ae(o.getX()+e.x,o.getY()+e.y);n.mathShape=new Ut(a,l),n.updateQuantification()}updateLabelContent(n,e,t){this.#t.updateContent(n,e)}updateConnector(n){const e=this.#s(n),t=this.#n(e);this.#t.updateConnector(n,t)}#i(n){return new Ut(n[0],n[1])}#a(){return ka[this.#e]}#o(n,e){const t=n.mathShape,i=new Ee.default.Line({points:[t.getBegin().getX(),t.getBegin().getY(),t.getEnd().getX(),t.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape"}),a=bi(t,t.getBegin(),20,e.getZoomScale()),o=bi(t,t.getEnd(),20,e.getZoomScale());return i.hitFunc(function(l){l.beginPath(),l.moveTo(a.getBegin().getX(),a.getBegin().getY()),l.lineTo(a.getEnd().getX(),a.getEnd().getY()),l.lineTo(o.getEnd().getX(),o.getEnd().getY()),l.lineTo(o.getBegin().getX(),o.getBegin().getY()),l.closePath(),l.fillStrokeShape(i)}),i}#s(n){return m0(n)}#l(n,e){const t=n.mathShape,i=bi(t,t.getBegin(),20,e.getZoomScale()),a=new Ee.default.Line({points:[i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick0"}),o=bi(t,t.getEnd(),20,e.getZoomScale());return[a,new Ee.default.Line({points:[o.getBegin().getX(),o.getBegin().getY(),o.getEnd().getX(),o.getEnd().getY()],stroke:n.colour,strokeWidth:e.getStrokeWidth(),strokeScaleEnabled:!1,name:"shape-tick1"})]}#d(n){const e=n.mathShape,t=e.getBegin(),i=e.getEnd();let a=t;return t.getY()<i.getY()&&(a=i),a}#c(n,e,t){const i=n.mathShape,a=e.getParent();if(!(a instanceof Ee.default.Group))return;const o=this.#s(a);o.position({x:0,y:0}),o.points([i.getBegin().getX(),i.getBegin().getY(),i.getEnd().getX(),i.getEnd().getY()]);const l=a.getChildren(function(v){return v.name()==="shape-tick0"})[0];if(!(l instanceof Ee.default.Line))return;const c=a.getChildren(function(v){return v.name()==="shape-tick1"})[0];if(!(c instanceof Ee.default.Line))return;const d=dt(a,0),h=dt(a,1);switch(e.id()){case"anchor0":d.x(e.x()),d.y(e.y());break;case"anchor1":h.x(e.x()),h.y(e.y());break;default:De.error("Unhandled anchor id: "+e.id())}const f=bi(i,i.getBegin(),20,t.getZoomScale());l.position({x:0,y:0}),l.points([f.getBegin().getX(),f.getBegin().getY(),f.getEnd().getX(),f.getEnd().getY()]);const m=bi(i,i.getEnd(),20,t.getZoomScale());c.position({x:0,y:0}),c.points([m.getBegin().getX(),m.getBegin().getY(),m.getEnd().getX(),m.getEnd().getY()]),o.hitFunc(function(v){v.beginPath(),v.moveTo(f.getBegin().getX(),f.getBegin().getY()),v.lineTo(f.getEnd().getX(),f.getEnd().getY()),v.lineTo(m.getEnd().getX(),m.getEnd().getY()),v.lineTo(m.getBegin().getX(),m.getBegin().getY()),v.closePath(),v.fillStrokeShape(o)})}#u(n,e){}#h(n,e){}}},filter:{Threshold:class{#e;constructor(n){this.#e=n}#t=new lI;#n=!0;#r=new Kn;activate(n){n&&(this.#n=!0)}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run threshod filter on.");if(this.#t.setMin(n.min),this.#t.setMax(n.max),this.#n){const t=this.#e.getData(n.dataId).image;this.#t.setOriginalImage(t),this.#n=!1}const e=new _1(this.#t,n.dataId,this.#e);e.onExecute=this.#i,e.onUndo=this.#i,e.execute(),this.#e.addToUndoStack(e)}addEventListener(n,e){this.#r.add(n,e)}removeEventListener(n,e){this.#r.remove(n,e)}#i=n=>{this.#r.fireEvent(n)}},Sobel:class{#e;constructor(n){this.#e=n}#t=new Kn;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sobel filter on.");const e=new uI,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new _1(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}},Sharpen:class{#e;constructor(n){this.#e=n}#t=new Kn;activate(n){}init(){}run(n){if(n.dataId===void 0)throw new Error("No dataId to run sharpen filter on.");const e=new cI,t=this.#e.getData(n.dataId).image;e.setOriginalImage(t);const i=new _1(e,n.dataId,this.#e);i.onExecute=this.#n,i.onUndo=this.#n,i.execute(),this.#e.addToUndoStack(i)}addEventListener(n,e){this.#t.add(n,e)}removeEventListener(n,e){this.#t.remove(n,e)}#n=n=>{this.#t.fireEvent(n)}}}};class wr{trackingId;trackingUid;referencedSopInstanceUID;referencedSopClassUID;referencedFrameNumber;mathShape;referencePoints;colour="#ffff80";quantification;textExpr="";labelPosition;planeOrigin;planePoints;#e;#t={};constructor(){this.trackingId=Math.random().toString(36).substring(2,15),this.trackingUid=sL("TrackingUniqueIdentifier")}getMetaConceptIds(){return Object.keys(this.#t)}getMetaItem(e){return this.#t[e]}addMetaItem(e,t){const i=e.value;this.#t[i]!==void 0&&De.warn("Overwriting annotation meta with id="+i),this.#t[e.value]={concept:e,value:t}}removeMetaItem(e){this.#t[e]!==void 0&&delete this.#t[e]}getOrientationName(){let e;return this.planePoints!==void 0&&(e=GP(this.planePoints[1].getValues().concat(this.planePoints[2].getValues()))),e}init(e){if(this.referencedSopInstanceUID!==void 0)return void De.debug("Cannot initialise annotation twice");this.#e=e;const t=e.getCurrentPosition();this.referencedSopInstanceUID=e.getCurrentImageUid(),this.referencedSopClassUID=e.getSopClassUid(),t.length()>3&&(this.referencedFrameNumber=t.get(3)),this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID),e.isAquisitionOrientation()||(this.planePoints=e.getPlanePoints(t))}canView(){return this.#e!==void 0}isCompatibleView(e){let t=!1;if(this.planePoints===void 0)e.isAquisitionOrientation()&&(t=!0);else{const i=e.getCosines(),a=new Et(i[0],i[1],i[2]),o=new Et(i[3],i[4],i[5]);a.equals(this.planePoints[1])&&o.equals(this.planePoints[2])&&(t=!0)}return t}setViewController(e){e.includesImageUid(this.referencedSopInstanceUID)?this.isCompatibleView(e.getPlaneHelper())&&(this.#e=e,this.planeOrigin=e.getOriginForImageUid(this.referencedSopInstanceUID)):De.warn("Cannot view annotation with reference UID: "+this.referencedSopInstanceUID)}#n(){let e;if(this.#e!==void 0){let t=this.planeOrigin;this.planePoints!==void 0&&(t=this.planePoints[0]);const i=[t.getX(),t.getY(),t.getZ()];this.referencedFrameNumber!==void 0&&i.push(this.referencedFrameNumber);const a=new Or(i);e=this.#e.getIndexFromPosition(a)}return e}getCentroid(){let e;if(this.#e!==void 0&&this.mathShape.getCentroid!==void 0&&this.mathShape.getCentroid()!==void 0){const t=this.#n(),i=this.#e.getScrollDimIndex(),a=t.getValues()[i],o=this.mathShape.getCentroid();if(e=this.#e.getPositionFromPlanePoint(o,a),this.referencedFrameNumber!==void 0){const l=e.getValues();l[3]=this.referencedFrameNumber,e=new Or(l)}}return e}setTextExpr(e){if(this.#e!==void 0){const t=this.#e.getModality();e[t]!==void 0?this.textExpr=e[t]:this.textExpr=e["*"]}else De.warn("Cannot set text expr without a view controller")}getText(){return function(e,t){let i="";if(e==null||(i=e,t==null))return i;const a=nb(e);for(let o=0;o<a.length;++o){const l=t[a[o]];if(l!=null&&l.value!==null&&l.value!==void 0){let c=l.value.toPrecision(4);l.unit!==null&&l.unit!==void 0&&l.unit.length!==0&&(l.unit!=="unit.degree"&&(c+=" "),c+=zP.t(l.unit));const d="{"+a[o]+"}";i=i.replace(d,c)}}return i}(this.textExpr,this.quantification)}updateQuantification(){this.#e!==void 0&&this.mathShape.quantify!==void 0&&(this.quantification=this.mathShape.quantify(this.#e,this.#n(),nb(this.textExpr)))}getFactory(){let e;if(this.mathShape===void 0)return e;if(U0.draw!==void 0)for(const t in U0.draw){const i=U0.draw[t];if(i.supports(this.mathShape)){e=new i;break}}if(e===void 0)for(const t in Dg.draw){const i=Dg.draw[t];if(i.supports(this.mathShape)){e=new i;break}}return e===void 0&&De.warn("No shape factory found for math shape"),e}}class y0{#e;#t=null;#n;#r;#i={x:1,y:1};#a={x:1,y:1,z:1};#o={x:0,y:0};#s={x:0,y:0};#l={x:0,y:0};#d={x:0,y:0};#c={x:0,y:0};#u;#h;#f;#g;#m;#p;#b=!0;constructor(e){this.#e=e,this.#e.className+=" drawLayer"}setShapeHandler(e){this.#p=e}getDataId(){return this.#f}getReferenceLayerId(){return this.#g}#S=new Kn;getKonvaStage(){return this.#t}getKonvaLayer(){return this.#t.getLayers()[0]}getDrawController(){return this.#u}setPlaneHelper(e){this.#h=e}getId(){return this.#e.id}removeFromDOM(){this.#e.remove()}getBaseSize(){return this.#n}getOpacity(){return this.#t.opacity()}setOpacity(e){this.#t.opacity(Math.min(Math.max(e,0),1))}addFlipOffsetX(){const e=this.#t.scale(),t=this.#t.size();this.#c.x+=t.width/e.x;const i=this.#t.offset();i.x+=this.#c.x,this.#t.offset(i)}addFlipOffsetY(){const e=this.#t.scale(),t=this.#t.size();this.#c.y+=t.height/e.y;const i=this.#t.offset();i.y+=this.#c.y,this.#t.offset(i)}flipScaleX(){this.#a.x*=-1}flipScaleY(){this.#a.y*=-1}flipScaleZ(){this.#a.z*=-1}setScale(e,t){const i=this.#h.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),a={x:this.#i.x*i.x,y:this.#i.y*i.y},o=this.#t.offset();if(Math.abs(e.x)===1&&Math.abs(e.y)===1&&Math.abs(e.z)===1){const l={x:o.x-this.#l.x,y:o.y-this.#l.y};this.#l={x:0,y:0},this.#t.offset(l)}else if(t!==void 0){let l=this.#h.getPlaneOffsetFromOffset3D({x:t.getX(),y:t.getY(),z:t.getZ()});l={x:l.x+this.#o.x,y:l.y+this.#o.y};const c=P3(o,this.#t.scale(),a,l),d={x:this.#l.x+c.x-o.x,y:this.#l.y+c.y-o.y};this.#l=d,this.#t.offset(c)}this.#t.scale(a),this.#L(a)}initScale(e,t){const i=this.#h.getTargetOrientedPositiveXYZ({x:e.x*this.#a.x,y:e.y*this.#a.y,z:e.z*this.#a.z}),a={x:this.#i.x*i.x,y:this.#i.y*i.y};this.#t.scale(a),this.#l={x:t.x/this.#i.x,y:t.y/this.#i.y};const o=this.#t.offset();this.#t.offset({x:o.x+this.#l.x,y:o.y+this.#l.y})}setOffset(e){const t=this.#h.getPlaneOffsetFromOffset3D(e),i=this.#t.offset();this.#t.offset({x:i.x-this.#d.x+t.x,y:i.y-this.#d.y+t.y}),this.#d=t}setBaseOffset(e,t){const i=this.#h.getNativeScrollDimIndex(),a=this.#h.getPlaneOffsetFromOffset3D({x:i===0?e.getX():t.getX(),y:i===1?e.getY():t.getY(),z:i===2?e.getZ():t.getZ()}),o=this.#o.x!==a.x||this.#o.y!==a.y;if(o){const l=this.#t.offset();this.#t.offset({x:l.x-this.#o.x+a.x,y:l.y-this.#o.y+a.y}),this.#o=a}return o}display(e){this.#e.style.display=e?"":"none"}isVisible(){return this.#e.style.display===""}draw(){this.#t.draw()}initialise(e,t,i){this.#n=e,this.#r=t,this.#g=i,this.#t=new Ee.default.Stage({container:this.#e,width:this.#n.x,height:this.#n.y,listening:!1}),this.#t.getContent().setAttribute("style","");const a=new Ee.default.Layer({listening:!1,visible:!0});this.#t.add(a)}setAnnotationGroup(e,t,i){if(this.#f=t,e.addEventListener("annotationadd",a=>{this.#w(a.data,!0),this.getKonvaLayer().draw()}),e.addEventListener("annotationupdate",a=>{this.#T(a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationremove",a=>{this.#D(a.data),this.getKonvaLayer().draw()}),e.addEventListener("annotationgroupeditablechange",a=>{this.activateCurrentPositionShapes(a.data)}),this.#u=new IL(e),e.getLength()!==0)for(const a of e.getList())this.#w(a,!1),i(new M0(a,this.getDrawController()))}activateCurrentPositionShapes(e){const t=this.getKonvaLayer();if(this.#t.listening(!1),this.#p!==void 0){this.#p.disableAndResetEditor();const a=t.getChildren();for(const o of a)o instanceof Ee.default.Group&&o.getChildren().forEach(l=>{l instanceof Ee.default.Group&&this.#p.removeShapeListeners(l)})}const i=this.getDrawController();if(e&&i.getAnnotationGroup().isEditable()){this.#t.listening(!0);const a=this.#O().getChildren();a.length!==0&&t.listening(!0),this.#p!==void 0&&a.forEach(o=>{if(o instanceof Ee.default.Group){const l=i.getAnnotation(o.id());this.#p.addShapeGroupListeners(o,l,this)}})}t.draw()}#y(e){let t,i;return e.planePoints!==void 0?t=e.planePoints:e.planeOrigin!==void 0&&(t=[e.planeOrigin]),t!==void 0&&(i=this.#C(t,e.referencedFrameNumber)),i}#C(e,t){let i="";for(const a of e)i.length!==0&&(i+="-"),i+=QP([Qi(a.getX(),2),Qi(a.getY(),2),Qi(a.getZ(),2)]);return t!==void 0&&(i+="-"+t),i}#v(e){let t;const i=this.#y(e),a=this.getKonvaLayer().getChildren(P1(i));if(a.length!==0){const o=a[0];if(!(o instanceof Ee.default.Group))return;const l=o.getChildren(P1(e.trackingUid));l.length!==0&&l[0]instanceof Ee.default.Group&&(t=l[0])}return t}#w(e,t){if(!e.canView()||!e.isCompatibleView(this.#h))return;const i=this.#y(e);let a=this.getKonvaLayer().getChildren(P1(i))[0];if(a===void 0&&(a=new Ee.default.Group({id:i,name:"position-group",visible:t}),this.getKonvaLayer().add(a)),!(a instanceof Ee.default.Group))return;const o=new K0,l=this.getKonvaStage();o.setZoomScale(l.scale());const c=e.getFactory();if(c===void 0)throw new Error("Cannot add an annotation draw without factory");const d=c.createShapeGroup(e,o);a.add(d),t&&this.#p!==void 0&&this.#p.addShapeGroupListeners(d,e,this),this.setLabelVisibility(d)}#D(e){const t=this.#v(e);return t instanceof Ee.default.Group?(t.remove(),!0):(De.debug("No shape group to remove"),!1)}#T(e){this.#D(e)&&this.#w(e,!0)}fitToContainer(e,t,i){const a={x:t*this.#r.x,y:t*this.#r.y},o=a.x/this.#i.x,l=a.y/this.#i.y,c=e.x/(this.#t.width()*o),d=e.y/(this.#t.height()*l);this.#t.width()===e.x&&this.#t.height()===e.y||(this.#t.width(e.x),this.#t.height(e.y));const h={x:this.#t.scale().x*o,y:this.#t.scale().y*l};this.#t.scale().x===h.x&&this.#t.scale().y===h.y||(this.#i=a,this.#t.scale(h),this.#L(h));const f={x:i.x/a.x,y:i.y/a.y},m={x:e.x/a.x,y:e.y/a.y},v={x:this.#c.x!==0?m.x:0,y:this.#c.y!==0?m.y:0};if(this.#s.x!==f.x||this.#s.y!==f.y||this.#c.x!==v.x||this.#c.y!==v.y){const p={x:this.#l.x*c,y:this.#l.y*d};this.#t.offset({x:this.#t.offset().x+f.x-this.#s.x+v.x-this.#c.x+p.x-this.#l.x,y:this.#t.offset().y+f.y-this.#s.y+v.y-this.#c.y+p.y-this.#l.y}),this.#c=v,this.#s=f,this.#l=p}}isAnnotationVisible(e){const t=this.#P(e);return t!==void 0&&t.isVisible()}setAnnotationVisibility(e,t){const i=this.#P(e);return i!==void 0&&(t===void 0&&(t=!i.isVisible()),i.visible(t),this.draw(),!0)}setLabelsVisibility(e){this.#b=e;const t=this.getKonvaLayer().getChildren();for(const i of t)if(i instanceof Ee.default.Group){const a=i.getChildren();for(const o of a)o instanceof Ee.default.Group&&this.#A(o,e)}}#A(e,t){const i=e.getChildren(bg)[0];if(i instanceof Ee.default.Label&&(t===void 0&&(t=!i.isVisible()),i.getText()!==void 0&&i.getText().text().length!==0)){i.visible(t);const a=e.getChildren(o=>o.className==="Line"&&o.name()==="connector")[0];a&&a.visible(t)}}setLabelVisibility(e){this.#A(e,this.#b)}deleteDraw(e,t){}deleteDraws(e){}getNumberOfDraws(){const e=this.getKonvaLayer().getChildren();let t=0;for(const i of e)i instanceof Ee.default.Group&&(t+=i.getChildren().length);return t}bindInteraction(){this.#t.listening(!0),this.#e.style.pointerEvents="auto";const e=us;for(let t=0;t<e.length;++t)this.#e.addEventListener(e[t],this.#R)}unbindInteraction(){this.#t.listening(!1),this.#e.style.pointerEvents="none";const e=us;for(let t=0;t<e.length;++t)this.#e.removeEventListener(e[t],this.#R)}setCurrentPosition(e,t){t===void 0&&(t=this.#h.worldToIndex(e));const i=this.#h.getPlanePoints(e);let a,o;a=this.#h.isAquisitionOrientation()?[i[0]]:i,e.length()>3&&(o=e.get(3));const l=this.#C(a,o);return this.#x(l),this.#R({type:"positionchange",value:[t.getValues(),e.getValues()],valid:!0}),!0}#x(e){this.#m=e;const t=this.getKonvaLayer().getChildren(R3);let i;for(let a=0,o=t.length;a<o;++a)i=!1,e!==void 0&&t[a].id()===e&&(i=!0),t[a].visible(i);this.getKonvaLayer().draw()}#O(){if(this.#m===void 0)return;const e=this.getKonvaLayer().getChildren(i=>i.id()===this.#m);let t;return e.length===1?e[0]instanceof Ee.default.Group&&(t=e[0]):e.length===0?(t=new Ee.default.Group,t.name("position-group"),t.id(this.#m),t.visible(!0),this.getKonvaLayer().add(t)):De.warn("Unexpected number of draw position groups"),t}#P(e){return this.getKonvaLayer().findOne("#"+e)}addEventListener(e,t){this.#S.add(e,t)}removeEventListener(e,t){this.#S.remove(e,t)}#R=e=>{e.srclayerid=this.getId(),e.dataid=this.#f,this.#S.fireEvent(e)};#L(e){const t=2/e.x,i=2/e.y,a=this.#t.find("Label");for(let o=0;o<a.length;++o)a[o].scale({x:t,y:i})}}function fI(n){const e=[0,0,0],t=n.split("#");for(const i of t){const a=i.split("-");e[a[0]]=a[1]}return e}function k0(n){const e=n.split("-layer-");return e.length!==2&&De.warn("Not the expected layer div id format..."),{groupDivId:e[0],layerIndex:e[1],layerId:n}}function gt(n){let e=null;const t=n.target.closest(".layer");return t&&t.id!==void 0&&(e=k0(t.id)),e}function P3(n,e,t,i){const a=(i.x-n.x)*e.x,o=(i.y-n.y)*e.y;return{x:i.x-a/t.x,y:i.y-o/t.y}}class gI{#e;#t=[];#n={x:1,y:1,z:1};#r={x:1,y:1,z:1};#i={x:0,y:0,z:0};#a=void 0;#o=new Kn;#s=!1;#l=[];#d;#c;#u=!1;#h;getPositionHelper(){if(this.#h===void 0){for(const e of this.#t)if(e instanceof Tn){const t=e.getViewController().getPositionHelperClone();this.#h===void 0?this.#h=t:this.#h.merge(t)}}return this.#h}constructor(e){this.#e=e}getShowCrosshair(){return this.#s}setShowCrosshair(e){this.#s=e,e?(this.addEventListener("offsetchange",this.#f),this.addEventListener("zoomchange",this.#f),this.#y()):(this.removeEventListener("offsetchange",this.#f),this.removeEventListener("zoomchange",this.#f),this.#C())}setImageSmoothing(e){this.#u=e;for(const t of this.#t)t instanceof Tn&&t.setImageSmoothing(e)}#f=e=>{this.#y()};getDivId(){let e;return this.#e!==null&&(e=this.#e.id),e}getScale(){return this.#n}getBaseScale(){return this.#r}getAddedScale(){return{x:this.#n.x/this.#r.x,y:this.#n.y/this.#r.y,z:this.#n.z/this.#r.z}}getOffset(){return this.#i}getNumberOfLayers(){let e=0;return this.#t.forEach(t=>{t!==void 0&&e++}),e}includes(e){if(e===void 0)return!1;for(const t of this.#t)if(t!==void 0&&t.getId()===e)return!0;return!1}getViewLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof Tn&&e(i)&&t.push(i);return t}getViewLayersFromActive(e){e===void 0&&(e=function(){return!0});let t=0;this.#a!==void 0&&(t=this.#a);const i=[];for(let o=t;o>=0;o--)i.push(o);for(let o=this.#t.length-1;o>t;o--)i.push(o);const a=[];for(const o of i){const l=this.#t[o];l instanceof Tn&&e(l)&&a.push(l)}return a}someViewLayer(e){let t=!1;for(const i of this.#t)if(i instanceof Tn&&e(i)){t=!0;break}return t}getDrawLayers(e){e===void 0&&(e=function(){return!0});const t=[];for(const i of this.#t)i instanceof y0&&e(i)&&t.push(i);return t}getNumberOfViewLayers(){let e=0;return this.#t.forEach(t=>{t!==void 0&&t instanceof Tn&&e++}),e}getActiveLayer(){let e;return this.#a!==void 0&&(e=this.#t[this.#a]),e}getActiveViewLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof Tn&&(e=t),e}getBaseViewLayer(){let e;for(const t of this.#t)if(t instanceof Tn){e=t;break}if(e!==void 0)return e;De.warn("No layer found")}getViewLayerById(e){const t=this.getViewLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getViewLayersByDataId(e){return this.getViewLayers(function(t){return t.getDataId()===e})}searchViewLayers(e){const t=structuredClone(e);let i;t.SOPInstanceUID!==void 0&&(i=t.SOPInstanceUID,delete t.SOPInstanceUID);const a=i!==void 0,o=Object.keys(t).length!==0,l=[];for(const c of this.#t)if(c instanceof Tn){let d=!1;o&&(d=c.getViewController().equalImageMeta(t));let h=!1;a&&(h=c.getViewController().includesImageUid(i));let f=!1;o&&a?f=d&&h:o?f=d:a&&(f=h),f&&l.push(c)}return l}getViewDataIndices(){const e=[];for(const t of this.#t)t instanceof Tn&&e.push(t.getDataId());return e}getActiveDrawLayer(){let e;const t=this.getActiveLayer();return t!==void 0&&t instanceof y0&&(e=t),e}getDrawLayerById(e){const t=this.getDrawLayers(function(a){return a.getId()===e});let i;return t.length===1&&(i=t[0]),i}getDrawLayersByDataId(e){return this.getDrawLayers(function(t){return t.getDataId()===e})}setActiveLayer(e){this.#a=e,this.#v({type:"activelayerchange",value:[this.#t[e]]})}setActiveLayerById(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):De.warn("No layer to set as active with id: "+e)}setActiveLayerByDataId(e){let t;for(let i=0;i<this.#t.length;++i)if(this.#t[i]!==void 0&&this.#t[i].getDataId()===e){t=i;break}t!==void 0?this.setActiveLayer(t):De.warn("No layer to set as active with dataId: "+e)}addViewLayer(){const e=this.#t.length,t=this.#S();this.#e.append(t);const i=new Tn(t);return i.setImageSmoothing(this.#u),this.#t.push(i),this.setActiveLayer(e),this.#g(i),this.#h=void 0,i}addDrawLayer(){this.#a=this.#t.length;const e=this.#S();this.#e.append(e);const t=new y0(e);return this.#t.push(t),this.#p(t),t}#g(e){e.addEventListener("positionchange",this.updateLayersToPositionChange);for(const t of cs)e.addEventListener(t,this.#v);e.addEventListener("renderstart",this.#v),e.addEventListener("renderend",this.#v)}#m(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange);for(const t of cs)e.removeEventListener(t,this.#v);e.removeEventListener("renderstart",this.#v),e.removeEventListener("renderend",this.#v),e.unbindImage()}#p(e){e.addEventListener("positionchange",this.updateLayersToPositionChange),e.addEventListener("positionchange",this.#v)}#b(e){e.removeEventListener("positionchange",this.updateLayersToPositionChange),e.removeEventListener("positionchange",this.#v)}#S(){const e=document.createElement("div");return e.id=this.getDivId()+"-layer-"+this.#t.length,e.className="layer",e.style.pointerEvents="none",e}empty(){for(const e of this.#t)e!==void 0&&this.removeLayer(e);this.#t=[],this.#C()}removeLayersByDataId(e){for(const t of this.#t)t!==void 0&&t.getDataId()===e&&this.removeLayer(t)}removeLayer(e){const t=this.#t.findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layer to remove");this.#a===t&&(this.#a=void 0),e instanceof Tn?this.#m(e):this.#b(e),this.#t[t]=void 0,this.#h=void 0,e.removeFromDOM(),this.#v({type:"layerremove",layerid:e.getId(),layergroupid:this.getDivId()})}#y(e){let t;e===void 0&&(e=this.#c),this.#C();for(const o of this.#t)if(o instanceof Tn){t=o;break}if(t===void 0)return void De.warn("No layer to show crosshair");const i=t.getViewController().getPlanePositionFromPosition(e),a=t.planePosToDisplay(i);if(a.getY()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-horizontal",o.className="horizontal",o.style.width=this.#e.offsetWidth+"px",o.style.left="0px",o.style.top=a.getY()+"px",this.#l.push(o),this.#e.appendChild(o)}if(a.getX()!==void 0){const o=document.createElement("hr");o.id=this.getDivId()+"-scroll-crosshair-vertical",o.className="vertical",o.style.width=this.#e.offsetHeight+"px",o.style.left=a.getX()+"px",o.style.top="0px",this.#l.push(o),this.#e.appendChild(o)}}#C(){for(const e of this.#l)e.remove();this.#l=[]}showTooltip(e){this.removeTooltipDiv();const t=this.getBaseViewLayer(),i=t.getViewController(),a=t.displayToPlanePos(e),o=i.getPositionFromPlanePoint(a),l=i.getRescaledImageValue(o);if(l!==void 0){const c=document.createElement("span");c.id="scroll-tooltip",c.style.left=e.getX()+10+"px",c.style.top=e.getY()+10+"px";let d=Qi(l,3).toString();i.getPixelUnit()!==void 0&&(d+=" "+i.getPixelUnit()),c.appendChild(document.createTextNode(d)),this.#d=c,this.#e.appendChild(c)}}removeTooltipDiv(){this.#d!==void 0&&(this.#d.remove(),this.#d=void 0)}isPositionInBounds(e){return this.someViewLayer(function(t){return t.getViewController().isPositionInBounds(e)})}canScroll(){return this.someViewLayer(function(e){return e.getViewController().canScroll()})}moreThanOne(e){return this.someViewLayer(function(t){return t.getViewController().moreThanOne(e)})}updateLayersToPositionChange=e=>{for(const c of this.#t)c!==void 0&&(c.removeEventListener("positionchange",this.updateLayersToPositionChange),c.removeEventListener("positionchange",this.#v));const t=new pt(e.value[0]),i=new Or(e.value[1]);this.#c=i,this.#s&&this.#y(i);const a={};let o,l;for(const c of this.#t){if(c===void 0)continue;let d=!1;if(c instanceof Tn){const f=c.getViewController(),m=f.getOrigin(),v=f.getOrigin(i);let p,S;if(l===void 0)o=m,l=v,p=new Vt(0,0,0),S=new Vt(0,0,0);else if(f.isPositionInBounds(i)&&v!==void 0){const y=o.minus(m);p=new Vt(y.getX(),y.getY(),y.getZ());const b=l.minus(v);S=new Vt(b.getX(),b.getY(),b.getZ())}p!==void 0&&S!==void 0&&(d=c.setBaseOffset(p,S,l,o),a[c.getId()]={scroll:p,plane:S})}if(c instanceof y0){const f=a[c.getReferenceLayerId()];f!==void 0&&(d=c.setBaseOffset(f.scroll,f.plane))}let h=!1;c.getId()!==e.srclayerid&&(h=c.setCurrentPosition(i,t)),!h&&d&&c.draw()}for(const c of this.#t)c!==void 0&&(c.addEventListener("positionchange",this.updateLayersToPositionChange),c.addEventListener("positionchange",this.#v))};getDivToWorldSizeRatio(){if(this.#e.offsetWidth===0&&this.#e.offsetHeight===0)throw new Error("Cannot fit to zero sized container with id '"+this.#e.id+"'.");const e=this.getMaxWorldSize();if(e!==void 0){if(this.#e.offsetHeight===0){const t=this.#e.offsetWidth/e.x,i=e.y*t;this.#e.style.height=i+"px"}return Math.min(this.#e.offsetWidth/e.x,this.#e.offsetHeight/e.y)}}fitToContainer(e){const t=this.getMaxWorldSize();if(t===void 0)return;const i={x:this.#e.offsetWidth,y:this.#e.offsetHeight},a={x:-.5*(i.x-Math.floor(t.x*e)),y:-.5*(i.y-Math.floor(t.y*e))};for(const o of this.#t)o!==void 0&&o.fitToContainer(i,e,a);this.#s&&this.#y()}getMaxWorldSize(){let e={x:0,y:0};for(const t of this.#t)if(t instanceof Tn){const i=t.getImageWorldSize();i.x>e.x&&(e.x=i.x),i.y>e.y&&(e.y=i.y)}return e.x===0&&e.y===0&&(e=void 0),e}flipScaleZ(){this.#r.z*=-1,this.setScale(this.#r)}addScale(e,t){const i={x:this.#n.x*(1+e),y:this.#n.y*(1+e),z:this.#n.z*(1+e)};this.setScale(i,t)}setScale(e,t){this.#n=e;for(const a of this.#t)a!==void 0&&a.setScale(this.#n,t);const i=[e.x,e.y,e.z];t!==void 0&&(i.push(t.getX()),i.push(t.getY()),i.push(t.getZ())),this.#v({type:"zoomchange",value:i})}addTranslation(e){this.setOffset({x:this.#i.x-e.x,y:this.#i.y-e.y,z:this.#i.z-e.z})}setOffset(e){this.#i=e;for(const t of this.#t)t!==void 0&&t.setOffset(this.#i);this.#v({type:"offsetchange",value:[this.#i.x,this.#i.y,this.#i.z]})}reset(){this.setScale(this.#r),this.setOffset({x:0,y:0,z:0})}resetZoomPan(){this.setScale(this.#r),this.setOffset({x:0,y:0,z:0})}resetViews(){let e=!0;for(const t of this.#t)if(t!==void 0&&t instanceof Tn){const i=t.getViewController();e&&(i.resetPosition(),e=!1),i.resetWindowLevel()}}draw(){for(const e of this.#t)e!==void 0&&e.draw()}display(e){for(const t of this.#t)t!==void 0&&t.display(e)}addEventListener(e,t){this.#o.add(e,t)}removeEventListener(e,t){this.#o.remove(e,t)}#v=e=>{this.#o.fireEvent(e)}}const dC={WindowLevelBinder:class{getEventType=function(){return"wlchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);if(t.length!==0){const i=t[0].getViewController();if(e.value.length===2){const a=new qn(e.value[0],e.value[1]);i.setWindowLevel(a)}e.value.length===3&&i.setWindowLevelPreset(e.value[2])}}}},PositionBinder:class{getEventType=function(){return"positionchange"};getCallback=function(n){return function(e){const t=e.value[1],i=n.getBaseViewLayer().getViewController(),a=i.getCurrentPosition(),o=a.length(),l=t.length;l!==o&&(l===o-1?t.push(a.get(o-1)):l===o+1&&t.pop()),i.setCurrentPosition(new Or(t))}}},ZoomBinder:class{getEventType=function(){return"zoomchange"};getCallback=function(n){return function(e){const t={x:e.value[0],y:e.value[1],z:e.value[2]};let i;e.value.length===6&&(i=new Et(e.value[3],e.value[4],e.value[5])),n.setScale(t,i),n.draw()}}},OffsetBinder:class{getEventType=function(){return"offsetchange"};getCallback=function(n){return function(e){n.setOffset({x:e.value[0],y:e.value[1],z:e.value[2]}),n.draw()}}},OpacityBinder:class{getEventType=function(){return"opacitychange"};getCallback=function(n){return function(e){if(e.dataid===void 0)return;const t=n.getViewLayersByDataId(e.dataid),i=n.getBaseViewLayer();t.length!==0&&i!==t[0]&&(t[0].setOpacity(e.value),t[0].draw())}}},ColourMapBinder:class{getEventType=function(){return"colourmapchange"};getCallback=function(n){return function(e){const t=n.getViewLayersByDataId(e.dataid);t.length!==0&&t[0].getViewController().setColourMap(e.value[0])}}}};class pI{#e=[];#t;#n=!1;#r=[];#i=null;getLayerGroup(e){return this.#e[e]}getNumberOfLayerGroups(){return this.#e.length}getActiveLayerGroup(){return this.getLayerGroup(this.#t)}setActiveLayerGroup(e){this.getLayerGroup(e)!==void 0?this.#t=e:De.warn("No layer group to set as active with index: "+e)}getViewLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayersByDataId(e));return t}getViewLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getViewLayers(e));return t}getDrawLayersByDataId(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayersByDataId(e));return t}getDrawLayers(e){let t=[];for(const i of this.#e)t=t.concat(i.getDrawLayers(e));return t}addLayerGroup(e){this.#t=this.#e.length;const t=new gI(e);t.setImageSmoothing(this.#n);const i=this.#i&&this.#i.length!==0;return i&&this.unbindLayerGroups(),this.#e.push(t),i&&this.bindLayerGroups(),t}getLayerGroupByDivId(e){return this.#e.find(function(t){return t.getDivId()===e})}setBinders(e){if(e==null)throw new Error("Cannot set null or undefined binders");this.#r.length!==0&&this.unbindLayerGroups(),this.#r=e.slice(),this.bindLayerGroups()}empty(){this.unbindLayerGroups();for(const e of this.#e)e.empty();this.#e=[],this.#t=void 0}removeLayersByDataId(e){for(const t of this.#e)t.removeLayersByDataId(e)}removeLayerGroup(e){const t=this.#e.findIndex(i=>i===e);if(t===-1)throw new Error("Cannot find layerGroup to remove");this.unbindLayerGroups(),e.empty(),this.#e.splice(t,1),this.#t===t&&(this.#t=void 0),this.bindLayerGroups()}reset(){for(const e of this.#e)e.reset()}resetZoomPan(){for(const e of this.#e)e.resetZoomPan()}resetViews(){for(const e of this.#e)e.resetViews()}draw(){for(const e of this.#e)e.draw()}fitToContainer(){let e;const t=[];for(let i=0;i<this.#e.length;++i){const a=this.#e[i].getDivToWorldSizeRatio();a!==void 0&&(t.push(i),(e===void 0||a<e)&&(e=a))}if(e!==void 0)for(let i=0;i<this.#e.length;++i)t.includes(i)&&this.#e[i].fitToContainer(e)}bindLayerGroups(){if(this.#e.length!==0&&this.#e.length!==1&&this.#r.length!==0){this.#i=new Array(this.#e.length);for(let e=0;e<this.#e.length;++e)for(let t=0;t<this.#r.length;++t)this.#o(e,this.#r[t])}}unbindLayerGroups(){if(this.#e.length!==0&&this.#e.length!==1&&this.#r.length!==0&&this.#i){for(let e=0;e<this.#e.length;++e)for(let t=0;t<this.#r.length;++t)this.#s(e,this.#r[t]);this.#i=null}}setImageSmoothing(e){this.#n=e;for(const t of this.#e)t.setImageSmoothing(e)}#a(e,t){this.#i[t]===void 0&&(this.#i[t]=[]);let i=this.#i[t].find(function(a){return a.binder===e});return i===void 0&&(i={binder:e,callback:a=>{this.#s(t,e),e.getCallback(this.#e[t])(a),this.#o(t,e)}},this.#i[t].push(i)),i.callback}#o(e,t){for(let i=0;i<this.#e.length;++i)i!==e&&this.#e[e].addEventListener(t.getEventType(),this.#a(t,i))}#s(e,t){for(let i=0;i<this.#e.length;++i)i!==e&&this.#e[e].removeEventListener(t.getEventType(),this.#a(t,i))}}class mI{#e;constructor(e){this.#e=e}fromJSON(e){const t=JSON.parse(e);let i=null;if(t.version==="0.1")i=this.#t(t);else if(t.version==="0.2")i=this.#n(t);else if(t.version==="0.3")i=this.#r(t);else if(t.version==="0.4")i=this.#i(t);else{if(t.version!=="0.5")throw new Error("Unknown state file format version: '"+t.version+"'.");i=this.#a(t)}return i}apply(e,t){const i=e.getActiveLayerGroup().getBaseViewLayer().getViewController(),a=new qn(t["window-center"],t["window-width"]);i.setWindowLevel(a);const o=e.getActiveLayerGroup().getBaseScale();let l=null,c=null;if(t.scaleCenter!==void 0){l={x:t.scale*o.x,y:t.scale*o.y,z:1};const d=t.scaleCenter.x-t.scaleCenter.x*t.scale,h=t.scaleCenter.y-t.scaleCenter.y*t.scale,f=d+t.translation.x*l.x,m=h+t.translation.y*l.y;c={x:-f/l.x,y:-m/l.y,z:0}}else l={x:t.scale.x*o.x,y:t.scale.y*o.y,z:o.z},c={x:t.offset.x,y:t.offset.y,z:0};e.getActiveLayerGroup().setScale(l),e.getActiveLayerGroup().setOffset(c),e.setDrawings(t.drawings,t.drawingsDetails,this.#e)}#t(e){const t=function(i){const a=[],o={};let l,c;for(let d=0,h=i.length;d<h;++d){a[d]=[];for(let f=0,m=i[d].length;f<m;++f){l=i[d][f];const v=[];for(let p=0,S=l.length;p<S;++p){c=Ee.default.Node.create(l[p]),c.visible(!0);let y={x:0,y:0};const b=c.getChildren(function(_){return _.name()==="shape"})[0];if(b.stroke(UP(b.stroke())),c.name()==="line-group"){c.name("ruler-group");const _=new Ee.default.Line({points:[b.points()[0],b.points()[1],b.points()[0],b.points()[1]],name:"shape-tick0"});c.add(_);const M=new Ee.default.Line({points:[b.points()[2],b.points()[3],b.points()[2],b.points()[3]],name:"shape-tick1"});c.add(M)}const w=c.getChildren(function(_){return _.name()==="arc"});w.length===1&&w[0].name("shape-arc");const D=c.getChildren(function(_){return _.name()==="text"});let C=new Ee.default.Text({name:"text",text:""});D.length===1?(y.x=D[0].x(),y.y=D[0].y(),D[0].remove(),C=D[0]):b.points().length!==0&&(y={x:b.points()[0],y:b.points()[1]});const x=new Ee.default.Label({x:y.x,y:y.y,name:"label"});x.add(C),x.add(new Ee.default.Tag),c.add(x),v.push(JSON.stringify(c.toObject()));let R=C.text();const I=R.length;let k=null;c.name()==="ruler-group"?(k={length:{value:parseFloat(R.substring(0,I-2)),unit:R.substring(-2)}},R="{length}"):c.name()==="ellipse-group"||c.name()==="rectangle-group"?(k={surface:{value:parseFloat(R.substring(0,I-3)),unit:R.substring(-3)}},R="{surface}"):c.name()!=="protractor-group"&&c.name()!=="rectangle-group"||(k={angle:{value:parseFloat(R.substring(0,I-1)),unit:R.substring(-1)}},R="{angle}"),o[c.id()]={textExpr:R,longText:"",quant:k}}a[d].push(v)}}return{drawings:a,drawingsDetails:o}}(e.drawings);return e.drawings=hC(t.drawings).toObject(),e.drawingsDetails=M1(t.drawingsDetails),(e=v0(e)).drawings=b0(e.drawings),e}#n(e){return e.drawings=hC(e.drawings).toObject(),e.drawingsDetails=M1(function(t){const i={},a=typeof t=="string"?JSON.parse(t):t;for(let o=0,l=a.length;o<l;++o)for(let c=0,d=a[o].length;c<d;++c)for(let h=0,f=a[o][c].length;h<f;++h){const m=a[o][c][h];i[m.id]={textExpr:m.textExpr,longText:m.longText,quant:m.quant}}return i}(e.drawingsDetails)),(e=v0(e)).drawings=b0(e.drawings),e}#r(e){return e.drawingsDetails=M1(e.drawingsDetails),(e=v0(e)).drawings=b0(e.drawings),e}#i(e){return(e=v0(e)).drawings=b0(e.drawings),e}#a(e){return e}}function hC(n){let e,t,i;const a=new Ee.default.Layer({listening:!1,visible:!0}),o=typeof n=="string"?JSON.parse(n):n;for(let c=0,d=o.length;c<d;++c)for(let h=0,f=o[c].length;h<f;++h)if(t=o[c][h],t.length!==0){i=new Ee.default.Group({id:(l=new pt([1,1,c,h]),"slice-"+l.get(2)+"_frame-"+(l.length()===4?l.get(3):0)),name:"position-group",visible:!1});for(let m=0,v=t.length;m<v;++m)e=Ee.default.Node.create(t[m]),e.draggable(!0),e.getChildren().forEach(function(p){p.draggable(!1)}),i.add(e);a.add(i)}var l;return a}function M1(n){const e={},t=Object.keys(n);for(let i=0,a=t.length;i<a;++i){const o=n[t[i]];e[t[i]]={meta:{textExpr:o.textExpr,longText:o.longText,quantification:o.quant}}}return e}function v0(n){const e=n.position;return n.position=[e.i,e.j,e.k],n}function b0(n){const e=n.children;for(let t=0,i=e.length;t<i;++t){const a=e[t],o=a.attrs.id.split("_"),l=parseInt(o[0].substring(6),10),c=parseInt(o[1].substring(6),10);let d="#2-";d+=l===0&&c!==0?c:l,a.attrs.id=d}return n}function nc(n){let e;return window.location.origin!=="null"&&(e=window.location.origin),new URL(n,e)}function fC(n){const e={};let t=null;if(n&&(t=n.indexOf("?"))!==-1){e.base=n.substring(0,t);let i=n.indexOf("#");i===-1&&(i=n.length);const a=n.substring(t+1,i);e.query=function(o){const l={};if(o){const c=o.split("&");for(let d=0;d<c.length;++d){const h=c[d].split("=");l[h[0]]?(l[h[0]]instanceof Array||(l[h[0]]=[l[h[0]]]),l[h[0]].push(h[1])):l[h[0]]=h[1]}}return l}(a)}return e}class gC extends EventTarget{#e=[];#t=0;getStackSize(){return this.#e.length}getCurrentStackIndex(){return this.#t}getCurrentCommand(){return this.#e[this.#t-1]}add(e){this.#e=this.#e.slice(0,this.#t),this.#e.push(e),++this.#t,this.dispatchEvent(new Event("undoadd"))}remove(e){let t=!1;const i=this.#e.findIndex(function(a){return a.getName()===e});return i!==-1&&(t=!0,this.dispatchEvent(new CustomEvent("undoremove",{detail:{commandName:e}})),this.#e.splice(i,1),--this.#t),t}undo(){this.#t>0&&(this.dispatchEvent(new Event("undo")),--this.#t,this.#e[this.#t].undo())}redo(){this.#t<this.#e.length&&(this.#e[this.#t].execute(),++this.#t,this.dispatchEvent(new Event("redo")))}}class SI{#e;#t=null;#n=[];#r={};constructor(e){this.#e=e}init(){for(const e in this.#e)this.#e[e].init();this.enableShortcuts(!0)}enableShortcuts(e){e?window.addEventListener("keydown",this.#l("window","keydown"),!0):window.removeEventListener("keydown",this.#l("window","keydown"),!0)}getToolList(){return this.#e}hasTool(e){return this.getToolList()[e]!==void 0}getSelectedTool(){return this.#t}getSelectedToolEventHandler(e){return this.getSelectedTool()[e]}setSelectedTool(e){if(!this.hasTool(e))throw new Error("Unknown tool: '"+e+"'");this.#t&&this.#t.activate(!1),this.#t=this.#e[e],this.#t.activate(!0)}setToolFeatures(e){this.getSelectedTool()&&this.getSelectedTool().setFeatures(e)}bindLayerGroup(e,t){const i=e.getDivId();e.addEventListener("activelayerchange",this.#a(i)),this.#i(i,t)}#i(e,t){this.#r[e]!==void 0&&this.#s(this.#r[e]),this.#r[e]=t,this.#o(t)}#a(e){return t=>{const i=t.value[0];i!==void 0&&this.#i(e,i)}}#o(e){e.bindInteraction();const t=us;for(let i=0;i<t.length;++i)e.addEventListener(t[i],this.#l(e.getId(),t[i]))}#s(e){e.unbindInteraction();const t=us;for(let i=0;i<t.length;++i)e.removeEventListener(t[i],this.#l(e.getId(),t[i]))}#l(e,t){if(this.#n[e]===void 0&&(this.#n[e]=[]),this.#n[e][t]===void 0){const i=a=>{if(this.#t){const o=this.#t[a.type];o&&o(a)}};this.#n[e][t]=i}return this.#n[e][t]}}class Sp{#e=[];#t=2;#n;constructor(e){this.#n=e}setNumberOfDimensions(e){this.#t=e}setNToLoad(e){for(let t=0;t<e;++t){this.#e[t]=[];for(let i=0;i<this.#t;++i)this.#e[t][i]=0}}onprogress=e=>{if(!e.lengthComputable||e.subindex===void 0||e.index===void 0)return;const t=100*e.loaded/e.total;this.#e[e.index][e.subindex]=t;let i=null;i=e.item!==void 0?e.item:{loaded:this.#r(e.index),total:100,source:e.source},this.#n({lengthComputable:!0,loaded:this.#i(),total:100,item:i})};#r(e){let t=0;for(let i=0;i<this.#t;++i)t+=this.#e[e][i];return t/this.#t}#i(){let e=0;const t=this.#e.length;for(let i=0;i<t;++i)e+=this.#r(i);return Math.round(e/t)}getMonoProgressHandler(e,t){return i=>{i.index=e,i.subindex=t,this.onprogress(i)}}getUndefinedMonoProgressHandler(e){return t=>{t.subindex=e,this.onprogress(t)}}}class pC{#e=null;#t=[];#n=null;#r=0;#i=0;#a;#o;getDefaultCharacterSet(){return this.#o}setDefaultCharacterSet(e){this.#o=e}#s(e){this.#e=e,this.#r=0,this.#i=0,this.#a=!1,this.#d(),this.#u()}#l(e){this.#t.push(e)}#d(){this.#t=[]}#c(e){this.#n=e}#u(){this.#n=null}#h=e=>{this.#r++,this.#r===this.#e.length&&this.onload({source:this.#e})};#f=e=>{this.#i++,this.#i===this.#e.length&&this.onloadend({source:this.#e})};#g(e,t){return i=>{i.source=t,e(i)}}load(e,t){this.onloadstart({source:e}),e.length===1&&(tb(e[0],"DICOMDIR")||tb(e[0],".dcmdir"))?this.#b(e[0],t):this.#p(e,t)}#m(e,t,i){return a=>{const o=a.target.status;o!==200&&o!==0?(this.onerror({source:t,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),this.#f()):e.load(a.target.response,t,i)}}#p(e,t){if(e===void 0||e.length===0)return;this.#s(e);const i=new Sp(this.onprogress);i.setNToLoad(e.length);const a=[];for(let m=0;m<ds.length;++m)a.push(new ds[m]);let o=e[0],l=null,c=!1;for(let m=0;m<a.length;++m)if(l=a[m],l.canLoadUrl(o,t)){c=!0,l.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),l.onprogress=i.getUndefinedMonoProgressHandler(1),l.onloaditem=this.onloaditem,l.onload=this.#h,l.onloadend=this.#f,l.onerror=this.onerror,l.onabort=this.onabort,this.#c(l);break}if(!c)throw new Error("No loader found for url: "+o);let d=0;const h=()=>{d<this.#t.length-1&&!this.#a&&(++d,this.#t[d].send(null))};for(let m=0;m<e.length;++m){if(o=e[m],!l.canLoadUrl(o,t))throw new Error("Input url of different type: "+o);const v=new XMLHttpRequest;if(v.open("GET",o,!0),t!==void 0){if(t.requestHeaders!==void 0){const b=t.requestHeaders;for(let w=0;w<b.length;++w)b[w].name!==void 0&&b[w].value!==void 0&&v.setRequestHeader(b[w].name,b[w].value)}t.withCredentials!==void 0&&(v.withCredentials=t.withCredentials)}v.onprogress=this.#g(i.getMonoProgressHandler(m,0),o),v.onload=this.#m(l,o,m),v.onloadend=h;const p=this.#g(this.onerror,o);v.onerror=b=>{this.#f(),p(b)};const S=this.#g(this.ontimeout,o);v.ontimeout=b=>{this.#f(),S(b)};const y=this.#g(this.onabort,o);v.onabort=b=>{this.#f(),y(b)},l.loadUrlAs()===1&&(v.responseType="arraybuffer"),this.#l(v)}let f=this.#t.length;t!==void 0&&t.batchSize!==void 0&&f!==0&&(f=Math.min(t.batchSize,this.#t.length));for(let m=0;m<f;++m)this.#a||(d=m,this.#t[d].send(null))}#b(e,t){const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=a=>{const o=a.target.status;if(o!==200&&o!==0)this.onerror({source:e,error:"GET "+a.target.responseURL+" "+a.target.status+" ("+a.target.statusText+")",target:a.target}),this.onloadend({});else{const l=function(h){const f=new b3;return f.parse(h),function(m){const v=m["00041220"];if(v===void 0||v.value===void 0)return void De.warn("No Directory Record Sequence found in DICOMDIR.");const p=v.value;if(p.length===0)return void De.warn("The Directory Record Sequence of the DICOMDIR is empty.");const S=[];let y=null,b=null;for(let w=0;w<p.length;++w){const D=p[w]["00041430"];if(D===void 0||D.value===void 0)continue;const C=D.value[0];if(C==="STUDY")b=[],S.push(b);else if(C==="SERIES")y=[],b.push(y);else if(C==="IMAGE"){const x=p[w]["00041500"];if(x===void 0||x.value===void 0)continue;const R=x.value;y.push(R.join("/"))}}return S}(f.getDicomElements())}(a.target.response)[0][0],c=e.split("/").slice(0,-1).join("/"),d=[];for(let h=0;h<l.length;++h)d.push(c+"/"+l[h]);this.#p(d,t)}},i.onerror=a=>{this.#g(this.onerror,e)(a),this.onloadend({})},i.onabort=a=>{this.#g(this.onabort,e)(a),this.onloadend({})},i.send(null)}abort(){this.#a=!0;for(let e=0;e<this.#t.length;++e)this.#t[e].readyState!==4&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}class yI extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cn.u(968),Cn.b),{name:"jpegbaseline.worker",type:"module"})}}class vI extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cn.u(112),Cn.b),{name:"jpegloss.worker",type:"module"})}}class bI extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cn.u(557),Cn.b),{name:"jpeg2000.worker",type:"module"})}}class CI extends kc{constructor(e,t){super(e,t)}getWorker(){return new Worker(new URL("./"+Cn.u(326),Cn.b),{name:"rle.worker",type:"module"})}}class DI{#e;#t;#n=!1;constructor(e){this.#e=e,this.#t=new x3(10)}decode(e,t,i){this.#n||(this.#n=!0,this.#t.onworkstart=this.ondecodestart,this.#t.onworkitem=this.ondecodeditem,this.#t.onwork=this.ondecoded,this.#t.onworkend=this.ondecodeend,this.#t.onerror=this.onerror,this.#t.onabort=this.onabort);const a={buffer:e,meta:t};let o;this.#e==="jpeg-baseline"?o=new yI(a,i):this.#e==="jpeg-lossless"?o=new vI(a,i):this.#e==="jpeg2000"?o=new bI(a,i):this.#e==="rle"&&(o=new CI(a,i)),o!==void 0&&this.#t.addWorkerTask(o)}abort(){this.#t.abort()}ondecodestart(e){}ondecodeditem(e){}ondecoded(e){}ondecodeend(e){}onerror(e){}onabort(e){}}const mC="0040A30A",SC="0040A161",yC="0040A162",vC="0040A163",bC="004008EA";class yp{numericValue;floatingPointValue;rationalNumeratorValue;rationalDenominatorValue;measurementUnitsCode;toString(){return this.numericValue+" "+this.measurementUnitsCode.toString()}}function TI(n){const e={};return n.measurementUnitsCode!==void 0&&(e.MeasurementUnitsCodeSequence={value:[fa(n.measurementUnitsCode)]}),n.floatingPointValue!==void 0&&(e.FloatingPointValue=n.floatingPointValue),n.rationalNumeratorValue!==void 0&&(e.RationalNumeratorValue=n.rationalNumeratorValue),n.rationalDenominatorValue!==void 0&&(e.RationalDenominatorValue=n.rationalDenominatorValue),n.numericValue!==void 0&&(e.NumericValue=n.numericValue),e}const CC="0040A300",DC="0040A301";class vp{measuredValue;numericValueQualifierCode;toString(){let e="";return this.measuredValue!==void 0&&(e+=this.measuredValue.toString()),this.numericValueQualifierCode!==void 0&&(e+=" "+this.numericValueQualifierCode.toString()),e}}function wI(n){const e={};return n.measuredValue!==void 0&&(e.MeasuredValueSequence={value:[TI(n.measuredValue)]}),n.numericValueQualifierCode!==void 0&&(e.NumericValueQualifierCodeSequence={value:[fa(n.numericValueQualifierCode)]}),e}const TC="00081150",wC="00081155";class L3{referencedSOPClassUID;referencedSOPInstanceUID;toString(){return this.referencedSOPInstanceUID+" (class: "+this.referencedSOPClassUID+")"}}function xC(n){const e=new L3;return n[TC]!==void 0&&(e.referencedSOPClassUID=n[TC].value[0]),n[wC]!==void 0&&(e.referencedSOPInstanceUID=n[wC].value[0]),e}function I3(n){const e={};return n.referencedSOPClassUID!==void 0&&(e.ReferencedSOPClassUID=n.referencedSOPClassUID),n.referencedSOPInstanceUID!==void 0&&(e.ReferencedSOPInstanceUID=n.referencedSOPInstanceUID),e}const AC="00081160",RC="00081199",OC="0062000B";class E3{referencedSOPSequence;referencedFrameNumber;referencedSegmentNumber;toString(){let e=this.referencedSOPSequence.toString();return this.referencedFrameNumber!==void 0&&(e+=", frame: "+this.referencedFrameNumber),e}}function xI(n){const e={};return n.referencedFrameNumber!==void 0&&(e.ReferencedFrameNumber=n.referencedFrameNumber),n.referencedSOPSequence!==void 0&&(e.ReferencedSOPSequence={value:[I3(n.referencedSOPSequence)]}),n.referencedSegmentNumber!==void 0&&(e.ReferencedSegmentNumber=n.referencedSegmentNumber),e}const PC="00480301",LC="00700022",IC="00700023",EC="0070031A",bp="POINT",C0="MULTIPOINT",uc="POLYLINE",_3="CIRCLE",M3="ELLIPSE";class Z0{graphicData;graphicType;pixelOriginInterpretation;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function AI(n){const e={};return n.pixelOriginInterpretation!==void 0&&(e.PixelOriginInterpretation=n.pixelOriginInterpretation),n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}function _C(n){const e=new Z0;if(n instanceof Ae)e.graphicData=[n.getX().toString(),n.getY().toString()],e.graphicType=bp;else if(n instanceof Ut)e.graphicData=[n.getBegin().getX().toString(),n.getBegin().getY().toString(),n.getEnd().getX().toString(),n.getEnd().getY().toString()],e.graphicType=uc;else if(n instanceof $a){e.graphicData=[];for(let t=0;t<3;++t)e.graphicData.push(n.getPoint(t).getX().toString()),e.graphicData.push(n.getPoint(t).getY().toString());e.graphicType=uc}else if(n instanceof Ti){e.graphicData=[];for(let i=0;i<n.getLength();++i)e.graphicData.push(n.getPoint(i).getX().toString()),e.graphicData.push(n.getPoint(i).getY().toString());const t=n.getPoint(0);e.graphicData.push(t.getX().toString()),e.graphicData.push(t.getY().toString()),e.graphicType=uc}else if(n instanceof Za){const t=n.getCenter(),i=new Ae(t.getX()+n.getRadius(),t.getY());e.graphicData=[t.getX().toString(),t.getY().toString(),i.getX().toString(),i.getY().toString()],e.graphicType=_3}else if(n instanceof Ka){const t=n.getCenter(),i=n.getA(),a=n.getB();e.graphicData=[(t.getX()-i).toString(),t.getY().toString(),(t.getX()+i).toString(),t.getY().toString(),t.getX().toString(),(t.getY()-a).toString(),t.getX().toString(),(t.getY()+a).toString()],e.graphicType=M3}else if(n instanceof Wa){const t=n.getBegin(),i=n.getEnd();e.graphicData=[t.getX().toString(),t.getY().toString(),t.getX().toString(),i.getY().toString(),i.getX().toString(),i.getY().toString(),i.getX().toString(),t.getY().toString(),t.getX().toString(),t.getY().toString()],e.graphicType=uc}return e}function D0(n){if(n.graphicData===void 0)return;const e=n.graphicData.length;if(e===0)throw new Error("No coordinates in scoord data");if(e%2!=0)throw new Error("Expecting even number of coordinates in scoord data");const t=[];for(let l=0;l<e;l+=2)t.push(new Ae(parseFloat(n.graphicData[l]),parseFloat(n.graphicData[l+1])));let i=!1;const a=t.length;if(a>2){const l=t[0],c=t[a-1];i=l.equals(c)}let o;if(n.graphicType===bp)t.length>1&&De.warn("Expecting 1 point for point, got "+a),o=t[0];else if(n.graphicType===_3){if(t.length<2)throw new Error("Expecting 2 points for circles, got "+a);t.length>2&&De.warn("Expecting 2 points for circles, got "+a);const l=t[0],c=t[1].getDistance(l);o=new Za(l,c)}else if(n.graphicType===M3){if(t.length<4)throw new Error("Expecting 4 points for ellipses, got "+a);t.length>4&&De.warn("Expecting 4 points for ellipses, got "+a);const l=t[0].getDistance(t[1])/2,c=t[2].getDistance(t[3])/2,d=new Ae(t[0].getX()+l,t[0].getY());o=new Ka(d,l,c)}else if(n.graphicType===uc)if(i)if(t.length===5){const l=new Ut(t[0],t[1]),c=new Ut(t[1],t[2]),d=new Ut(t[2],t[3]),h=new Ut(t[3],t[4]);o=L1(l,c)&&L1(c,d)&&L1(d,h)?new Wa(t[0],t[2]):new Ti(t.slice(0,-1))}else o=new Ti(t.slice(0,-1));else t.length===2?o=new Ut(t[0],t[1]):t.length===3&&(o=new $a([t[0],t[1],t[2]]));return o}const MC="00700022",FC="00700023",UC="30060024",kC="0070031A";class F3{graphicData;graphicType;referencedFrameofReferenceUID;fiducialUID;toString(){return this.graphicType+" {"+this.graphicData+"}"}}function RI(n){const e={};return n.graphicData!==void 0&&(e.GraphicData=n.graphicData),n.graphicType!==void 0&&(e.GraphicType=n.graphicType),n.referencedFrameofReferenceUID!==void 0&&(e.ReferencedFrameofReferenceUID=n.referencedFrameofReferenceUID),n.fiducialUID!==void 0&&(e.FiducialUID=n.fiducialUID),e}const qi={ReferencedSOPSequence:"00081199",RelationshipType:"0040A010",ValueType:"0040A040",ConceptNameCodeSequence:"0040A043",ConceptCodeSequence:"0040A168",ContentSequence:"0040A730",DateTime:"0040A120",Date:"0040A121",Time:"0040A122",UID:"0040A124",PersonName:"0040A123",TextValue:"0040A160",ContinuityOfContent:"0040A050",ContentTemplateSequence:"0040A504",MappingResource:"00080105",TemplateIdentifier:"0040DB00"},jt="CONTAINS",vr="HAS PROPERTIES",Ba="HAS OBS CONTEXT",Ga="INFERRED FROM",ic="SELECTED FROM",T0="HAS CONCEPT MOD",ci="TEXT",aa="NUM",Ci="CODE",w0="UIDREF",U3="COMPOSITE",Ha="IMAGE",Nn="SCOORD",J0="SCOORD3D",vi="CONTAINER",rc="SEPARATE",k3={TEXT:"TextValue",DATE:"Date",TIME:"Time",DATETIME:"DateTime",UIDREF:"UID",PNAME:"PersonName",CONTAINER:"ContinuityOfContent"};function F1(n){let e;const t=Bt(n,qi.ContentTemplateSequence);if(t!==void 0){const i=Bt(t,qi.MappingResource),a=Bt(t,qi.TemplateIdentifier);i!==void 0&&a!==void 0&&(e=i+"-"+a)}return e}class Mt{valueType;conceptNameCode;relationshipType;contentSequence=[];value;constructor(e){this.valueType=e}toString(e){e===void 0&&(e="");let t="";this.relationshipType!==void 0&&(t+="("+this.relationshipType+") "),t+=this.valueType+": ",this.conceptNameCode!==void 0&&(t+=this.conceptNameCode.toString()),t+=" = "+this.value.toString();for(const i of this.contentSequence)t+=`
`+e+"- "+i.toString(e+"  ");return t}hasHeader(e,t,i){return this.valueType===e&&_0(this.conceptNameCode,t)&&this.relationshipType===i}}function dc(n){let e=Bt(n,qi.ValueType);e===void 0&&(e="");const t=new Mt(e);t.relationshipType=Bt(n,qi.RelationshipType);const i=Bt(n,qi.ConceptNameCodeSequence);if(i!==void 0&&(t.conceptNameCode=ts(i)),e===Ci)t.value=ts(Bt(n,qi.ConceptCodeSequence));else if(e===aa)t.value=function(o){const l=new vp;return o[CC]!==void 0&&(l.measuredValue=function(c){const d=new yp;return c[mC]!==void 0&&(d.numericValue=parseFloat(c[mC].value[0])),c[SC]!==void 0&&(d.floatingPointValue=parseFloat(c[SC].value[0])),c[yC]!==void 0&&(d.rationalNumeratorValue=parseInt(c[yC].value[0],10)),c[vC]!==void 0&&(d.rationalDenominatorValue=parseInt(c[vC].value[0],10)),c[bC]!==void 0&&(d.measurementUnitsCode=ts(c[bC].value[0])),d}(o[CC].value[0])),o[DC]!==void 0&&(l.numericValueQualifierCode=ts(o[DC].value[0])),l}(n);else if(e===Ha)t.value=function(o){const l=new E3;return o[AC]!==void 0&&(l.referencedFrameNumber=o[AC].value[0]),o[RC]!==void 0&&(l.referencedSOPSequence=xC(o[RC].value[0])),o[OC]!==void 0&&(l.referencedSegmentNumber=o[OC].value[0]),l}(n);else if(e===U3)t.value=xC(Bt(n,qi.ReferencedSOPSequence));else if(e===Nn)t.value=function(o){const l=new Z0;return o[LC]!==void 0&&(l.graphicData=o[LC].value),o[IC]!==void 0&&(l.graphicType=o[IC].value[0]),o[PC]!==void 0&&(l.pixelOriginInterpretation=o[PC].value[0]),o[EC]!==void 0&&(l.fiducialUID=o[EC].value[0]),l}(n);else if(e===J0)t.value=function(o){const l=new F3;return o[MC]!==void 0&&(l.graphicData=o[MC].value),o[FC]!==void 0&&(l.graphicType=o[FC].value[0]),o[UC]!==void 0&&(l.referencedFrameofReferenceUID=o[UC].value[0]),o[kC]!==void 0&&(l.fiducialUID=o[kC].value[0]),l}(n);else{const o=k3[e];o!==void 0?t.value=Bt(n,qi[o]):console.warn("Unsupported input ValueType: "+e)}const a=Ni(n,qi.ContentSequence);if(a!==void 0)for(const o of a)t.contentSequence.push(dc(o));return t}function Tg(n){let e={};if(n.relationshipType!==void 0&&(e.RelationshipType=n.relationshipType),n.valueType!==void 0&&(e.ValueType=n.valueType),n.conceptNameCode!==void 0&&(e.ConceptNameCodeSequence={value:[fa(n.conceptNameCode)]}),n.valueType==="CODE")e.ConceptCodeSequence={value:[fa(n.value)]};else if(n.valueType===aa)e={...e,...wI(n.value)};else if(n.valueType===Ha)e={...e,...xI(n.value)};else if(n.valueType===U3)e={...e,...I3(n.value)};else if(n.valueType===Nn)e={...e,...AI(n.value)};else if(n.valueType===J0)e={...e,...RI(n.value)};else{const t=k3[n.valueType];t!==void 0?e[t]=n.value:console.warn("Unsupported output ValueType: "+n.valueType)}if(n.contentSequence.length!==0){e.ContentSequence={value:[]};for(const t of n.contentSequence)e.ContentSequence.value.push(Tg(t))}return e}function NC(n,e,t,i){const a=function(h){const f=Sg[h];let m;return f!==void 0&&(m=$0(f.key,f.scheme)),m}(n);if(a===void 0)return;let o=jt;i!==void 0&&(o=i);const l=new Mt(aa);l.relationshipType=o,l.conceptNameCode=a;const c=new yp;c.numericValue=e,c.measurementUnitsCode=D3(t);const d=new vp;return d.measuredValue=c,l.value=d,l}function qC(n,e){const t=Object.keys(e);for(const i of t)n[i]!==void 0&&De.debug("Overwritting tag: "+i),n[i]=e[i]}class OI{current;measure}class PI{annotationGroups;responseEvaluations;comment}class U1{#e;getWarning(){return this.#e}#t(e){const t=function(c){let d;return c.startsWith("1.2.826.0.1.3680043.9.7278.1")&&(d=c.substring(29).replace(".99","-beta")),d}(Bt(e,"00020012")),i=t!==void 0&&function(c){const d=ub(c,"0.34.0"),h=ub(c,"0.35.0-beta.21");return d>=0&&h<=0}(t),a=F1(e);let o;const l=dc(e);return l.conceptNameCode!==void 0&&(o=l.conceptNameCode.value),i&&a===void 0&&o===p0.value}#n(e){const t=F1(e)==="DCMR-1500";let i;const a=dc(e);a.conceptNameCode!==void 0&&(i=a.conceptNameCode.value);let o=!1;if(t&&i===R1.value){const l=a.contentSequence.find(this.#c);if(l!==void 0){const c=l.contentSequence.find(this.#u);if(c!==void 0){const d=c.contentSequence.find(this.#S),h=c.contentSequence.find(this.#v);d===void 0&&h===void 0||(o=!0)}}}return o}#r(e){return F1(e)==="DCMR-4100"}checkElements(e){return this.#e=void 0,this.#t(e)||this.#n(e)||this.#r(e)||(this.#e="Not a dwv supported annotation"),this.#e}#i(e,t){t.valueType===Ha&&t.relationshipType===ic&&(e.referencedSopClassUID=t.value.referencedSOPSequence.referencedSOPClassUID,e.referencedSopInstanceUID=t.value.referencedSOPSequence.referencedSOPInstanceUID,t.value.referencedFrameNumber!==void 0&&(e.referencedFrameNumber=parseInt(t.value.referencedFrameNumber,10)))}#a(e,t){t.hasHeader(w0,Xe(f0),vr)&&(e.trackingId=t.value,e.trackingUid=t.value)}#o(e,t){t.hasHeader(ci,Xe(f0),Ba)&&(e.trackingId=t.value),t.hasHeader(w0,Xe(A1),Ba)&&(e.trackingUid=t.value)}#s(e,t,i){i===void 0&&(i=!1);let a=T0;if(i&&(a=vr),t.hasHeader(ci,Xe(Mb),a)){e.textExpr=t.value;const o=t.contentSequence.find(function(l){return l.hasHeader(Nn,Xe(g0),vr)});o!==void 0&&(e.labelPosition=new Ae(o.value.graphicData[0],o.value.graphicData[1]))}if(t.hasHeader(ci,kb(),a)&&(e.colour=t.value),t.hasHeader(Nn,Xe(g0),a)&&t.value.graphicType===C0){const o=[];for(let l=0;l<t.value.graphicData.length;l+=2)o.push(new Ae(t.value.graphicData[l],t.value.graphicData[l+1]));e.referencePoints=o}if(t.hasHeader(J0,Xe(Ub),jt)&&t.value.graphicType===C0){const o=t.value.graphicData,l=[],c=Math.floor(o.length/3);for(let d=0;d<c;++d){const h=3*d;l.push(new Et(o[h],o[h+1],o[h+2]))}e.planePoints=l}this.#l(e,t),this.#d(e,t)}#l(e,t,i){let a;if(i===void 0&&(a=jt),t.valueType===aa&&t.relationshipType===a){const o=function(l){let c;for(const d in Sg){const h=Sg[d];if(h.scheme===l.schemeDesignator&&h.key===l.value){c=d;break}}return c}(t.conceptNameCode);if(o!==void 0){const l=t.value.measuredValue,c=function(d){let h;for(const f in yg){const m=yg[f];if(d.schemeDesignator==="UCUM"&&m===d.value){h=f;break}}return h}(l.measurementUnitsCode);e.quantification===void 0&&(e.quantification={}),e.quantification[o]={value:l.numericValue,unit:c}}}}#d(e,t){t.valueType!==Ci&&t.valueType!==ci||t.relationshipType!==jt||e.addMetaItem(t.conceptNameCode,t.value)}#c(e){return e.hasHeader(vi,Xe(Fb),jt)}#u(e){return e.hasHeader(vi,Xe(p0),jt)}#h(e){return e.hasHeader(Ci,Xe(Ob),Ga)}#f(e){return e.hasHeader(vi,Xe(Lb),vr)}#g(e){return e.hasHeader(ci,Xe(_b),jt)}#m(e){return e.hasHeader(Ci,Xe(Eb),jt)}#p(e){return e.hasHeader(aa,Xe(Ib),jt)}#b(e){return e.hasHeader(Ci,Xe(Ab),jt)}#S(e){return e.hasHeader(Nn,Xe(Rb),jt)}#y(e){return e.contentSequence.find(this.#S)!==void 0}#C(e){let t;const i=e.contentSequence.find(this.#S);if(i!==void 0){t=new wr,t.mathShape=D0(i.value);const a=i.contentSequence.find(function(o){return o.valueType===Ha&&o.relationshipType===ic});a!==void 0&&this.#i(t,a);for(const o of e.contentSequence)this.#o(t,o),this.#s(t,o)}return t}#v(e){let t;return e.valueType===aa&&e.relationshipType===jt&&(t=e.contentSequence.find(function(i){return i.valueType===Nn&&i.relationshipType===Ga})),t!==void 0}#w(e){let t;return e.valueType===aa&&e.relationshipType===vr&&(t=e.contentSequence.find(function(i){return i.valueType===Nn&&i.relationshipType===Ga})),t!==void 0}#D(e){return e.contentSequence.find(this.#v)!==void 0}#T(e){let t;const i=e.contentSequence.find(this.#v);if(i!==void 0){t=new wr;const a=i.contentSequence.find(function(l){return l.valueType===Nn&&l.relationshipType===Ga});t.mathShape=D0(a.value),t.mathShape instanceof Ae&&a.value.graphicData.length>=4&&(t.referencePoints=[new Ae(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(l){return l.valueType===Ha&&l.relationshipType===ic});o!==void 0&&this.#i(t,o)}if(t!==void 0)for(const a of e.contentSequence)this.#o(t,a),this.#l(t,i),this.#d(t,a);return t}#A(e){let t;const i=e.contentSequence.find(this.#w);if(i!==void 0){t=new wr;const a=i.contentSequence.find(function(l){return l.valueType===Nn&&l.relationshipType===Ga});t.mathShape=D0(a.value),t.mathShape instanceof Ae&&a.value.graphicData.length>=4&&(t.referencePoints=[new Ae(a.value.graphicData[2],a.value.graphicData[3])]);const o=a.contentSequence.find(function(l){return l.valueType===Ha&&l.relationshipType===ic});o!==void 0&&this.#i(t,o)}if(t!==void 0)for(const a of e.contentSequence)this.#o(t,a),this.#l(t,i,vr),this.#d(t,a);return t}#x(e){if(e.contentSequence.length===0)return;const t=e.contentSequence[0];let i=!1,a=!1;this.#u(t)&&(i=this.#y(t),a=this.#D(t));const o=[];let l,c=!1;for(const d of e.contentSequence)if(this.#u(d)){let h;c=!0,i?h=this.#C(d):a&&(h=this.#T(d)),h!==void 0&&o.push(h)}return c?o.length!==0?l=new vc(o):De.warn("No valid measurement groups in TID 1500 SR"):De.warn("No measurement groups in TID 1500 SR"),l}#O(e){const t=[];let i=!1;for(const o of e.contentSequence)if(this.#h(o)){i=!0;const l=this.#A(o);l!==void 0&&t.push(l)}const a=[];return i?t.length!==0?a.push(new vc(t)):De.warn("No valid measurement groups in TID 4100 SR"):De.warn("No image findings in TID 4100 SR"),a}#P(e){const t=new wr;t.mathShape=D0(e.value);for(const i of e.contentSequence)this.#i(t,i),this.#a(t,i),this.#s(t,i,!0);return t}#R(e){let t;e.valueType===vi&&_0(e.conceptNameCode,Xe(R1))||De.warn("Not the expected TID 1500 SR content header");const i=e.contentSequence.find(this.#c);return i!==void 0?t=this.#x(i):De.warn("No imaging measurements in TID 1500 SR"),t}#L(e){return e.valueType===vi&&_0(e.conceptNameCode,Xe(Pb))||De.warn("Not the expected TID 4100 SR content header"),e.contentSequence.find(this.#b)}#I(e){e.valueType===vi&&_0(e.conceptNameCode,Xe(p0))||console.warn("Not the expected dwv034 content header");const t=[];for(const i of e.contentSequence)i.valueType===Nn&&t.push(this.#P(i));return new vc(t)}#M(e,t){const i=function(l){return Bt(t,l)};e.setMetaValue("StudyInstanceUID",i("0020000D")),e.setMetaValue("StudyID",i("00200010")),e.setMetaValue("SeriesInstanceUID",i("0020000E")),e.setMetaValue("SeriesNumber",i("00200011")),e.setMetaValue("Modality",i("00080060")),e.setMetaValue("PatientName",i("00100010")),e.setMetaValue("PatientID",i("00100020")),e.setMetaValue("PatientBirthDate",i("00100030")),e.setMetaValue("PatientSex",i("00100040"));const a="0040A375",o=t[a];if(o!==void 0){const l=ZP({[a]:o});e.setMetaValue("CurrentRequestedProcedureEvidenceSequence",l.CurrentRequestedProcedureEvidenceSequence)}}create(e){const t=dc(e);let i,a;if(this.#n(e)?(a="TID 1500 SR",i=this.#R(t)):this.#t(e)&&(De.warn("DWV v0.34 annotation"),a="DWV v0.34 SR",i=this.#I(t)),this.#r(e)){a="TID 4100 SR";const o=this.createCADReport(e);o!==void 0&&(i=o.annotationGroups[0])}if(i===void 0)throw new Error("Cannot create annotation group from "+a);return this.#M(i,e),i}createCADReport(e){const t=dc(e),i=this.#L(t);if(i===void 0)return void De.warn("No CAD processing and Findings Summary in TID 4100 SR");let a=[];if(this.#r(e)&&(a=this.#O(i)),a===void 0)throw new Error("Cannot create annotation groups from TID 4100 SR");for(const d of a)this.#M(d,e);const o=[];let l;for(const d of i.contentSequence)if(this.#f(d)){const h=this.#B(d);h!==void 0&&o.push(h)}else this.#g(d)&&(l=d.value);const c=new PI;return c.annotationGroups=a,c.responseEvaluations=o,c.comment=l,c}#E(e){const t=new Mt(Ha);t.relationshipType=ic,t.conceptNameCode=Xe(pL);const i=new L3;i.referencedSOPClassUID=e.referencedSopClassUID,i.referencedSOPInstanceUID=e.referencedSopInstanceUID;const a=new E3;return a.referencedSOPSequence=i,e.referencedFrameNumber!==void 0&&(a.referencedFrameNumber=e.referencedFrameNumber.toString()),t.value=a,t}#F(e){const t=[],i=new Mt(ci);i.relationshipType=Ba,i.conceptNameCode=Xe(f0),i.value=e.trackingId,t.push(i);const a=new Mt(w0);if(a.relationshipType=Ba,a.conceptNameCode=Xe(A1),a.value=e.trackingUid,t.push(a),e.textExpr!==void 0&&e.textExpr.length!==0){const c=new Mt(ci);if(c.relationshipType=T0,c.conceptNameCode=Xe(Mb),c.value=e.textExpr,e.labelPosition!==void 0){const d=new Mt(Nn);d.relationshipType=vr,d.conceptNameCode=Xe(g0);const h=new Z0;h.graphicType=bp;const f=[e.labelPosition.getX().toString(),e.labelPosition.getY().toString()];h.graphicData=f,d.value=h;const m=this.#E(e);d.contentSequence=[m],c.contentSequence=[d]}t.push(c)}const o=new Mt(ci);if(o.relationshipType=T0,o.conceptNameCode=kb(),o.value=e.colour,t.push(o),e.referencePoints!==void 0){const c=new Mt(Nn);c.relationshipType=T0,c.conceptNameCode=Xe(g0);const d=new Z0;d.graphicType=C0;const h=[];for(const m of e.referencePoints)h.push(m.getX().toString()),h.push(m.getY().toString());d.graphicData=h,c.value=d;const f=this.#E(e);c.contentSequence=[f],t.push(c)}if(e.planePoints!==void 0){const c=new Mt(J0);c.relationshipType=jt,c.conceptNameCode=Xe(Ub);const d=new F3;d.graphicType=C0;const h=[];for(const m of e.planePoints)h.push(m.getX().toString()),h.push(m.getY().toString()),h.push(m.getZ().toString());d.graphicData=h,c.value=d;const f=this.#E(e);c.contentSequence=[f],t.push(c)}if(e.quantification!==void 0)for(const c in e.quantification){const d=NC(c,Qi(e.quantification[c].value,12),e.quantification[c].unit);d!==void 0&&t.push(d)}const l=e.getMetaConceptIds();for(const c of l){const d=e.getMetaItem(c);let h=ci;d.value instanceof Oc&&(h=Ci);const f=new Mt(h);f.relationshipType=jt,f.conceptNameCode=d.concept,f.value=d.value,t.push(f)}return t}#_(e){const t=new Mt(vi);t.relationshipType=jt,t.conceptNameCode=Xe(p0),t.value=rc;const i=new Mt(Nn);i.relationshipType=jt,i.conceptNameCode=Xe(Rb),i.value=_C(e.mathShape);const a=this.#E(e);return i.contentSequence=[a],t.contentSequence=[i].concat(this.#F(e)),t}#U(e){let t;if(e.getList().length!==0){const i=new Mt(vi);i.conceptNameCode=Xe(Fb),i.relationshipType=jt,i.value=rc;const a=[];for(const o of e.getList())a.push(this.#_(o));i.contentSequence=a,t=new Mt(vi),t.conceptNameCode=Xe(R1),t.value=rc,t.contentSequence=[i]}return t}toDicom(e,t){let i=e.getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=pg(fg(a)),i.ContentTime=mg(gg(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const h of e.getList()){const f={ReferencedSOPInstanceUID:h.referencedSopInstanceUID,ReferencedSOPClassUID:h.referencedSopClassUID},m=function(v){return v.ReferencedSOPInstanceUID===f.ReferencedSOPInstanceUID&&v.ReferencedSOPClassUID===f.ReferencedSOPClassUID};c.find(m)===void 0&&c.push(f)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"1500"}]};const d=this.#U(e);if(d===void 0)throw new Error("No annotation group SR content");return i={...i,...Tg(d)},t!==void 0&&qC(i,t),Rc(i)}#k(e){const t=new Mt(Ci);t.relationshipType=Ga,t.conceptNameCode=Xe(Ob),t.value=Xe(lL),t.contentSequence=[];const i=new Mt(ci);i.relationshipType=Ba,i.conceptNameCode=Xe(f0),i.value=e.trackingId,t.contentSequence.push(i);const a=new Mt(w0);if(a.relationshipType=Ba,a.conceptNameCode=Xe(A1),a.value=e.trackingUid,t.contentSequence.push(a),e.quantification!==void 0)for(const l in e.quantification){const c=NC(l,Qi(e.quantification[l].value,12),e.quantification[l].unit,vr);if(c!==void 0){const d=new Mt(Nn);d.relationshipType=Ga,d.conceptNameCode=Xe(fL),d.value=_C(e.mathShape);const h=this.#E(e);d.contentSequence=[h],c.contentSequence=[d],t.contentSequence.push(c)}}const o=e.getMetaConceptIds();for(const l of o){const c=e.getMetaItem(l);let d=ci;c.value instanceof Oc&&(d=Ci);const h=new Mt(d);h.relationshipType=jt,h.conceptNameCode=c.concept,h.value=c.value,t.contentSequence.push(h)}return t}#N(e,t){if(e.getList().length!==0)for(const i of e.getList())t.push(this.#k(i))}#q(e){const t=new Mt(vi);t.relationshipType=vr,t.conceptNameCode=Xe(Lb),t.value=rc,t.contentSequence=[];const i=new Mt(Ci);if(i.relationshipType=Ba,i.conceptNameCode=Xe(uL),i.value=Xe(dL),t.contentSequence.push(i),e!==void 0){if(e.current!==void 0){const a=new Mt(Ci);a.relationshipType=jt,a.conceptNameCode=Xe(Eb),a.value=e.current,t.contentSequence.push(a)}if(e.measure!==void 0){const a=new Mt(aa);a.relationshipType=jt,a.conceptNameCode=Xe(Ib);const o=new yp;o.numericValue=e.measure,o.measurementUnitsCode=D3("unit.mm");const l=new vp;l.measuredValue=o,a.value=l,t.contentSequence.push(a)}}return t}#B(e){let t,i,a;for(const o of e.contentSequence)this.#m(o)?t=o.value:this.#p(o)&&(i=o.value.measuredValue.numericValue);return t!==void 0&&(a=new OI,a.current=t,i!==void 0&&(a.measure=i)),a}toDicomCADReport(e,t){let i=e.annotationGroups[0].getMeta();i.TransferSyntaxUID="1.2.840.10008.1.2.1",i.SOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.MediaStorageSOPClassUID="1.2.840.10008.5.1.4.1.1.88.34",i.CompletionFlag="PARTIAL",i.VerificationFlag="UNVERIFIED";const a=new Date;i.ContentDate=pg(fg(a)),i.ContentTime=mg(gg(a));const o=i.CurrentRequestedProcedureEvidenceSequence.value[0].ReferencedSeriesSequence.value[0];let l=o.ReferencedSOPSequence;l===void 0&&(o.ReferencedSOPSequence={value:[]},l=o.ReferencedSOPSequence);const c=l.value;for(const f of e.annotationGroups)for(const m of f.getList()){const v={ReferencedSOPInstanceUID:m.referencedSopInstanceUID,ReferencedSOPClassUID:m.referencedSopClassUID},p=function(S){return S.ReferencedSOPInstanceUID===v.ReferencedSOPInstanceUID&&S.ReferencedSOPClassUID===v.ReferencedSOPClassUID};c.find(p)===void 0&&c.push(v)}i.ContentTemplateSequence={value:[{MappingResource:"DCMR",TemplateIdentifier:"4100"}]};const d=new Mt(Ci);d.relationshipType=jt,d.conceptNameCode=Xe(Ab),d.value=Xe(cL),d.contentSequence=[];for(const f of e.responseEvaluations){const m=this.#q(f);d.contentSequence.push(m)}for(const f of e.annotationGroups)this.#N(f,d.contentSequence);if(e.comment!==void 0){const f=new Mt(ci);f.relationshipType=jt,f.conceptNameCode=Xe(_b),f.value=e.comment,d.contentSequence.push(f)}const h=new Mt(vi);if(h.conceptNameCode=Xe(Pb),h.value=rc,h.contentSequence.push(d),h===void 0)throw new Error("No annotation group SR content");return i={...i,...Tg(h)},t!==void 0&&qC(i,t),Rc(i)}}class LI{#e;setOptions(e){this.#e=e}#t=null;#n=[];#r=[];#i=[];#a=[];#o(e){let t;const i=e["00080060"];if(i!==void 0){const a=i.value[0];a==="SEG"?t=new vg:a==="SR"&&(t=new U1)}return t===void 0&&(t=new oL),t}#s(e,t){const i=this.#n[e].getDicomElements(),a=this.#a[e];if(a===void 0)return!1;try{const o=new mp(i);a instanceof U1?a.checkElements(i)===void 0&&(o.annotationGroup=a.create(i)):a instanceof vg?o.buffer=this.#i[e]:o.image=a.create(i,this.#i[e],this.#e.numberOfFiles),this.onloaditem({data:o,source:t,warn:a.getWarning()})}catch(o){return this.onerror({error:o,source:t}),this.onloadend({source:t}),!1}return!0}#l(e,t){this.#s(e,t)&&this.onload({source:t}),this.onloadend({source:t})}#d(e,t){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:e,source:t}),this.#l(e,t)}#c(e,t,i){const a=this.#n[e],o={bitsAllocated:a.getDicomElements()["00280100"].value[0],isSigned:a.getDicomElements()["00280103"].value[0]===1},l=a.getDicomElements()["00280011"],c=a.getDicomElements()["00280010"];l!==void 0&&c!==void 0&&(o.sliceSize=l.value[0]*c.value[0]);const d=a.getDicomElements()["00280002"];d!==void 0&&(o.samplesPerPixel=d.value[0]);const h=a.getDicomElements()["00280006"];h!==void 0&&(o.planarConfiguration=h.value[0]);const f=t.length;this.#t===null&&(this.#t=new DI(i),this.#t.ondecodeditem=m=>{this.#u(m),m.itemNumber+1===m.numberOfItems&&(this.onload(m),this.onloadend(m))},this.#t.onerror=this.onerror,this.#t.onabort=this.onabort);for(let m=0;m<f;++m)this.#t.decode(t[m],o,{itemNumber:m,numberOfItems:f,index:e})}#u(e){this.onprogress({lengthComputable:!0,loaded:e.itemNumber+1,total:e.numberOfItems,index:e.index,source:origin});const t=e.index,i=e.data[0];if(e.numberOfItems!==1){if(this.#r[t]===void 0){this.#r[t]=i.length;const a=e.numberOfItems*this.#r[t];try{this.#i[t]=new i.constructor(a)}catch(o){if(o instanceof RangeError){const l=Math.floor(Math.log(a)/Math.log(2));De.error("Cannot allocate "+i.constructor.name+" of size: "+a+" (>2^"+l+") for decompressed data.")}return this.#t.abort(),this.onerror({error:o,source:origin}),void this.onloadend({source:origin})}}i.length!==this.#r[t]&&De.warn("Unsupported varying decompressed data size: "+i.length+" != "+this.#r[t]),this.#i[t].set(i,this.#r[t]*e.itemNumber)}else this.#i[t]=i;e.itemNumber===0&&this.#s(t,origin)}#h(e,t){this.#l(e,t)}#f(e,t){const i=this.#n[e].getDicomElements();let a=i["7FE00010"];a===void 0&&(a=i["7FE00008"]),a===void 0&&(a=i["7FE00009"]);const o=a.value;this.#i[e]=o[0];const l=function(c){let d;return hp(c)?d="jpeg2000":up(c)?d="jpeg-baseline":dp(c)?d="jpeg-lossless":v3(c)&&(d="rle"),d}(i["00020010"].value[0]);l!==void 0?this.#c(e,o,l):this.#d(e,t)}convert(e,t,i){this.onloadstart({source:t,index:i});const a=new b3;let o;this.#e.defaultCharacterSet!==void 0&&a.setDefaultCharacterSet(this.#e.defaultCharacterSet);try{a.parse(e),o=this.#o(a.getDicomElements()),o.checkElements(a.getDicomElements())}catch(l){return this.onerror({error:l,source:t}),void this.onloadend({source:t})}this.#n[i]=a,this.#a[i]=o,o instanceof U1?this.#h(i,t):this.#f(i,t)}abort(){this.#t&&this.#t.abort()}onloadstart(e){}onloaditem(e){}onprogress(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class wg{#e=null;#t=null;#n=0;#r=0;#i;getDefaultCharacterSet(){return this.#i}setDefaultCharacterSet(e){this.#i=e}#a(e){this.#e=e,this.#n=0,this.#r=0,this.#s()}#o(e){this.#t=e}#s(){this.#t=null}#l=e=>{this.#n++,this.#n===this.#e.length&&this.onload({source:this.#e})};#d=e=>{this.#r++,this.#r===this.#e.length&&this.onloadend({source:this.#e})};load(e){if(e===void 0||e.length===0)return;this.#a(e),this.onloadstart({source:e});const t=new Sp(this.onprogress);t.setNToLoad(e.length),t.setNumberOfDimensions(1);const i=[];for(let c=0;c<ds.length;++c)i.push(new ds[c]);let a=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadMemory(a)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(0),o.onloaditem=this.onloaditem,o.onload=this.#l,o.onloadend=this.#d,o.onerror=this.onerror,o.onabort=this.onabort,this.#o(o);break}if(!l)throw new Error("No loader found for data: "+a.filename);for(let c=0;c<e.length;++c){if(a=e[c],!o.canLoadMemory(a))throw new Error("Input data of different type: "+a.filename);o.load(a.data,a.filename,c)}}abort(){this.#t&&this.#t.isLoading()&&this.#t.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}function x0(n){return parseInt(n,36).toString()}function BC(n){const e=n.data.length,t=new Uint8Array(e/4*3);let i=0;for(let a=0;a<e;a+=4)t[i]=n.data[a],t[i+1]=n.data[a+1],t[i+2]=n.data[a+2],i+=3;return t}function GC(n,e,t,i,a,o){const l=new Ar([n,e,1]),c=new la([1,1,1]),d=new Et(0,0,t),h=new ca([d],l,c),f=new io(h,i,[o]);f.setPhotometricInterpretation("RGB");const m={BitsStored:8};return a!==void 0&&(m.numberOfFiles=a),f.setMeta(m),f}var II=function(n){var e={};return Cn.d(e,n),e}({default:function(){return OP}});const ds=[class{#e={};#t=!1;setOptions(n){this.#e=n}isLoading(){return this.#t}#n=new LI;load(n,e,t){this.#t||(this.#n.setOptions(this.#e),this.#n.onloadstart=this.onloadstart,this.#n.onprogress=this.onprogress,this.#n.onloaditem=this.onloaditem,this.#n.onload=this.onload,this.#n.onloadend=i=>{this.#t=!1,this.onloadend(i)},this.#n.onerror=i=>{i.source=e,this.onerror(i)},this.#n.onabort=this.onabort),this.#t=!0,this.#n.convert(n,e,t)}abort(){this.#t=!1,this.#n.abort()}canLoadFile(n){const e=na(n.name);return e===null||e==="dcm"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="dicom")return!0;if(e.requestHeaders!==void 0){const c=function(h){return h.name==="Accept"},d=e.requestHeaders.find(c);if(d!==void 0){const h="application/dicom";return Ua(d.value,h)&&d.value[h.length]!=="+"}}}const t=nc(n),i=na(t.pathname),a=i===null,o=i==="dcm",l=t.searchParams.get("contentType");return l!=null?l==="application/dicom":a||o}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/dicom"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Cr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.#e=!0,this.onloadstart({source:e});try{this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const i={data:n,source:e};this.onloaditem(i),this.onload(i)}catch(i){this.onerror({error:i,source:e})}finally{this.#e=!1,this.onloadend({source:e})}}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return na(n.name)==="json"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="json")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Ua(i.value,"application/json")||Ua(i.value,"application/dicom+json")}}return na(nc(n).pathname)==="json"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/json"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Cr.Text}loadUrlAs(){return 0}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}load(n,e,t){this.onloadstart({source:e}),this.#e=!0;const i=new wg;i.onprogress=a=>{a.loaded=50+a.loaded/2,a.index=t,this.onprogress(a)},i.onloaditem=this.onloaditem,i.onload=this.onload,i.onloadend=a=>{this.#e=!1,this.onloadend(a)},i.onerror=this.onerror,i.onabort=this.onabort,i.load(function(a){const o=new Uint8Array(a),l=[];if(o.length===0)return l;const c=rb(new Uint8Array([13,10,13,10]));let d=d0(o,c,0);if(d===void 0)throw new Error("Can't find the end of the first multipart header");const h=ib(o.slice(0,d)).split(`\r
`);let f;for(let S=0;S<h.length;++S)if(h[S][0]==="-"&&h[S][1]==="-"){f=h[S];break}if(f===void 0)throw new Error("Can't find the boundary between multi-parts");const m=rb(VP(f)),v=f.length;let p=d0(o,m,0);for(;d!==void 0;){const S={},y=ib(o.slice(p+v,d)).split(`\r
`);for(let D=0;D<y.length;++D){const C=y[D],x=C.indexOf(":");if(x!==-1){const R=C.substring(0,x).trim(),I=C.substring(x+1).trim();S[R]=I}}if(p=d0(o,m,d),p===void 0)break;const b=d+4,w=p-2;S.data=b<w?o.slice(b,w).buffer:new Uint8Array,l.push(S),d=d0(o,c,p+v)}return l}(n))}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return!1}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="multipart")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Ua(i.value,"multipart/related")}}return!1}canLoadMemory(n){return!1}loadFileAs(){return Cr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return!0}#t(n,e){let t=e;t&&t!=="jpg"||(t="jpeg");const i=new Blob([n],{type:"image/"+t});return window.URL.createObjectURL(i)}load(n,e,t){this.#e=!1;const i=new Image;if(i.onload=()=>{try{if(!this.#e){this.onprogress({lengthComputable:!0,loaded:100,total:100,index:t,source:e});const a=function(o,l,c){const d=o.width,h=o.height,f=document.createElement("canvas");f.width=d,f.height=h;const m=f.getContext("2d");m.drawImage(o,0,0);const v=m.getImageData(0,0,d,h),p={};let S;typeof l=="string"?(p.origin={value:l},S=x0(l)):(p.fileName={value:l.name},S=x0(l.name),p.fileType={value:l.type},p.fileLastModifiedDate={value:l.lastModified}),p.imageWidth={value:d},p.imageHeight={value:h};const y=c||0;p.imageUid={value:y},p.seriesUid={value:S};const b=GC(d,h,y,BC(v),1,y.toString()),w=b.getMeta();return w.SeriesInstanceUID=S,b.setMeta(w),{data:{image:b,meta:p},source:l}}(i,e,t);this.onloaditem(a),this.onload(a)}}catch(a){this.onerror({error:a,source:e})}finally{this.onloadend({source:e})}},typeof n=="string")i.src=n;else if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=this.#t(n,a)}}abort(){this.#e=!0,this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("image.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawimage")return!0;if(e.requestHeaders!==void 0){const l=function(d){return d.name==="Accept"},c=e.requestHeaders.find(l);if(c!==void 0)return Ua(c.value,"image/")}}const t=nc(n),i=na(t.pathname),a=i==="jpeg"||i==="jpg"||i==="png"||i==="gif",o=t.searchParams.get("contentType");return o!=null?o==="image/jpeg"||o==="image/png"||o==="image/gif":a}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return Cr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{setOptions(n){}isLoading(){return!0}#e(n,e){const t=new Uint8Array(n);let i="";for(let a=0;a<t.byteLength;++a)i+=String.fromCharCode(t[a]);return"data:video/"+e+";base64,"+window.btoa(i)}load(n,e,t){const i=document.createElement("video");if(typeof e=="string"){const a=e.split(".").pop().toLowerCase();i.src=this.#e(n,a)}else i.src=n;i.onloadedmetadata=a=>{try{(function(o,l,c,d,h,f,m){const v=o.videoWidth,p=o.videoHeight,S=Math.ceil(30*o.duration),y={};let b;typeof f=="string"?(y.origin={value:f},b=x0(f)):(y.fileName={value:f.name},b=x0(f.name),y.fileType={value:f.type},y.fileLastModifiedDate={value:f.lastModified}),y.imageWidth={value:v},y.imageHeight={value:p},y.numberOfFrames={value:S},y.imageUid={value:0},y.seriesUid={value:b};const w=document.createElement("canvas");w.width=v,w.height=p;const D=w.getContext("2d");o.addEventListener("seeked",function I(k){(function(){d({lengthComputable:!0,loaded:C,total:S,index:m,source:f}),D.drawImage(o,0,0);const _=BC(D.getImageData(0,0,v,p));if(C===0){x=GC(v,p,1,_,S,m.toString());const M=x.getMeta();M.SeriesInstanceUID=b,x.setMeta(M),l({data:{image:x,meta:y},source:f})}else x.appendFrameBuffer(_,C);++C})(),R+=1/30,R<=k.target.duration?this.currentTime=R:(c({source:f}),h({source:f}),o.removeEventListener("seeked",I))},!1);let C=0,x=null,R=0;o.currentTime=R})(a.target,this.onloaditem,this.onload,this.onprogress,this.onloadend,e,t)}catch(o){this.onerror({error:o,source:e}),this.onloadend({source:e})}}}abort(){this.onabort({}),this.onloadend({})}canLoadFile(n){return n.type!==void 0&&n.type.match("video.*")!==null}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="rawvideo")return!0;if(e.requestHeaders!==void 0){const i=function(o){return o.name==="Accept"},a=e.requestHeaders.find(i);if(a!==void 0)return Ua(a.value,"video/")}}const t=na(nc(n).pathname);return t==="mp4"||t==="ogg"||t==="webm"}canLoadMemory(n){if(n.filename!==void 0){const e=new File(["from memory"],n.filename);return this.canLoadFile(e)}return!1}loadFileAs(){return Cr.DataURL}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}},class{#e=!1;setOptions(n){}isLoading(){return this.#e}#t="";#n=[];#r=null;#i(n,e,t){this.#n.push({filename:this.#t,data:n});const i=100*this.#n.length/this.#r.length;if(this.onprogress({lengthComputable:!0,loaded:i/2,total:100,index:t,item:{loaded:i,total:100,source:e}}),this.#n.length<this.#r.length){const a=this.#n.length;this.#t=this.#r[a].name,this.#r[a].async("arrayBuffer").then(o=>{this.#i(o,e,t)})}else{const a=new wg;a.onprogress=o=>{o.loaded=50+o.loaded/2,o.index=t,this.onprogress(o)},a.onloaditem=this.onloaditem,a.onload=this.onload,a.onloadend=o=>{this.#e=!1,this.onloadend(o)},a.onerror=this.onerror,a.onabort=this.onabort,a.load(this.#n)}}load(n,e,t){this.onloadstart({source:e}),this.#e=!0,II.default.loadAsync(n).then(i=>{this.#n=[],this.#r=i.file(/.*\.dcm/);const a=this.#n.length;this.#t=this.#r[a].name,this.#r[a].async("arrayBuffer").then(o=>{this.#i(o,e,t)})})}abort(){this.#e=!1,this.onabort({}),this.onloadend({})}canLoadFile(n){return na(n.name)==="zip"}canLoadUrl(n,e){if(e!==void 0){if(e.forceLoader!==void 0&&e.forceLoader==="zip")return!0;if(e.requestHeaders!==void 0){const t=function(a){return a.name==="Accept"},i=e.requestHeaders.find(t);if(i!==void 0)return Ua(i.value,"application/zip")}}return na(nc(n).pathname)==="zip"}canLoadMemory(n){const e=n["Content-Type"];if(e!==void 0&&e.startsWith("application/zip"))return!0;if(n.filename!==void 0){const t=new File(["from memory"],n.filename);return this.canLoadFile(t)}return!1}loadFileAs(){return Cr.ArrayBuffer}loadUrlAs(){return 1}onloadstart(n){}onprogress(n){}onloaditem(n){}onload(n){}onloadend(n){}onerror(n){}onabort(n){}}],Cr={Text:0,ArrayBuffer:1,DataURL:2};class zC{#e=null;#t=[];#n=null;#r=0;#i=0;#a;getDefaultCharacterSet(){return this.#a}setDefaultCharacterSet(e){this.#a=e}#o(e){this.#e=e,this.#r=0,this.#i=0,this.#l(),this.#c()}#s(e){this.#t.push(e)}#l(){this.#t=[]}#d(e){this.#n=e}#c(){this.#n=null}#u=e=>{this.#r++,this.#r===this.#e.length&&this.onload({source:this.#e})};#h=e=>{this.#i++,this.#i===this.#e.length&&this.onloadend({source:this.#e})};#f(e,t){return i=>{i.source=t,e(i)}}#g(e,t,i){return a=>{e.load(a.target.result,t,i)}}load(e){if(e===void 0||e.length===0)return;this.#o(e),this.onloadstart({source:e});const t=new Sp(this.onprogress);t.setNToLoad(e.length);const i=[];for(let c=0;c<ds.length;++c)i.push(new ds[c]);let a=e[0],o=null,l=!1;for(let c=0;c<i.length;++c)if(o=i[c],o.canLoadFile(a)){l=!0,o.setOptions({numberOfFiles:e.length,defaultCharacterSet:this.getDefaultCharacterSet()}),o.onprogress=t.getUndefinedMonoProgressHandler(1),o.onloaditem=this.onloaditem,o.onload=this.#u,o.onloadend=this.#h,o.onerror=this.onerror,o.onabort=this.onabort,this.#d(o);break}if(!l)throw new Error("No loader found for file: "+a.name);for(let c=0;c<e.length;++c){if(a=e[c],!o.canLoadFile(a))throw new Error("Input file of different type: "+a);const d=new FileReader;this.#s(d),d.onprogress=this.#f(t.getMonoProgressHandler(c,0),a),d.onload=this.#g(o,a,c);const h=this.#f(this.onerror,a);d.onerror=m=>{this.#h(),h(m)};const f=this.#f(this.onabort,a);d.onabort=m=>{this.#h(),f(m)},o.loadFileAs()===Cr.Text?d.readAsText(a):o.loadFileAs()===Cr.DataURL?d.readAsDataURL(a):o.loadFileAs()===Cr.ArrayBuffer&&d.readAsArrayBuffer(a)}}abort(){for(let e=0;e<this.#t.length;++e)this.#t[e].readyState===1&&this.#t[e].abort();this.#n&&this.#n.isLoading()&&this.#n.abort()}onloadstart(e){}onprogress(e){}onloaditem(e){}onload(e){}onloadend(e){}onerror(e){}onabort(e){}}class EI{#e;#t={};constructor(e){this.#e=e}loadFiles(e,t){e[0].name.split(".").pop().toLowerCase()==="json"?this.#i(e[0],t):this.#n(e,t)}loadURLs(e,t,i){e[0].split(".").pop().toLowerCase()==="json"?this.#a(e[0],t,i):this.#r(e,t,i)}loadImageObject(e,t){const i=new wg;this.#o(e,i,"image",t)}getLoadingDataIds(){return Object.keys(this.#t)}abort(e){this.#t[e]!==void 0&&(this.#t[e].loader.abort(),delete this.#t[e])}#n(e,t){const i=new zC;i.setDefaultCharacterSet(this.#e),this.#o(e,i,"image",t)}#r(e,t,i){const a=new pC;a.setDefaultCharacterSet(this.#e),this.#o(e,a,"image",t,i)}#i(e,t){const i=new zC;this.#o([e],i,"state",t)}#a(e,t,i){const a=new pC;this.#o([e],a,"state",t,i)}#o(e,t,i,a,o){const l={loadtype:i,dataid:a};t.onloadstart=c=>{this.#t[a]={loader:t,isFirstItem:!0},this.#s(this.onloadstart,l)(c)},t.onprogress=this.#s(this.onprogress,l),t.onloaditem=c=>{const d={loadtype:i,dataid:a};this.#t[a]!==void 0&&(d.isfirstitem=this.#t[a].isFirstItem),this.#s(this.onloaditem,d)(c),this.#t[a]!==void 0&&this.#t[a].isFirstItem&&(this.#t[a].isFirstItem=!1)},t.onload=this.#s(this.onload,l),t.onloadend=c=>{delete this.#t[a],this.#s(this.onloadend,l)(c)},t.onerror=this.#s(this.onerror,l),t.onabort=this.#s(this.onabort,l),t.ontimeout!==void 0&&(t.ontimeout=this.#s(this.ontimeout,l));try{t.load(e,o)}catch(c){return this.onerror({error:c,dataid:a}),void this.onloadend({dataid:a})}}#s(e,t){return function(i){const a=Object.keys(t);for(let o=0;o<a.length;++o){const l=a[o];i[l]=t[l]}e(i)}}onloadstart(e){}onprogress(e){}onload(e){}onloaditem(e){}onloadend(e){}onerror(e){}ontimeout(e){}onabort(e){}}function _I(n){return function(e){return Number(e).toPrecision(n)}}function VC(n){let e="";for(let t=0;t<n;++t)t!==0&&(e+=", "),e+="{v"+t+"}";return e}function k1(n,e){let t=n;for(let i=0;i<e.length;++i)t=t.replace("{v"+i+"}",e[i]);return t}class MI{#e;#t;#n;#r=[];#i;#a=[];#o;#s=new Kn;constructor(e,t,i){this.#e=e,this.#t=t,this.#n=i;const a=Object.keys(this.#n);for(let o=0;o<a.length;++o){const l=this.#n[a[o]];for(let c=0;c<l.length;++c){const d=l[c].event;d!==void 0&&(this.#r.includes(d)||this.#r.push(d))}}this.addAppListeners()}reset(){this.#a=[],this.#o=void 0}addItemMeta(e){let t;if(e["00020010"]!==void 0)t=e["00080018"]!==void 0?e["00080018"].value[0]:e.length,this.#a[t]=function(i,a){const o=[];let l;const c=i["00080060"];if(c===void 0)return o;l=c.value[0];const d=a[l]||a["*"];if(!d)return o;for(let f=0;f<d.length;++f){const m=JSON.parse(JSON.stringify(d[f])),v=m.tags;if(v!==void 0&&v.length!==0){const p=[];for(let S=0;S<v.length;++S)i[v[S]]!==void 0?p.push(i[v[S]].value):p.push("");m.format!==void 0&&m.format!==null||(m.format=VC(p.length)),m.value=k1(m.format,p).trim()}o.push(m)}const h=i["00200020"];if(h!==void 0&&h.value.length===2){const f=h.value[0],m=h.value[1];o.push({pos:"cr",value:f,format:"{v0}"}),o.push({pos:"cl",value:db(f),format:"{v0}"}),o.push({pos:"bc",value:m,format:"{v0}"}),o.push({pos:"tc",value:db(m),format:"{v0}"})}return o}(e,this.#n);else{const i=Object.keys(e);for(let a=0;a<i.length;++a){const o=e[i[a]];if(i[a]==="imageUid"){t=o.value;break}}this.#a[t]=function(a,o){const l=[],c=o.DOM;if(!c)return l;const d=Object.keys(a);for(let h=0;h<c.length;++h){const f=JSON.parse(JSON.stringify(c[h])),m=f.tags;if(m!==void 0&&m.length!==0){const v=[];for(let p=0;p<m.length;++p)for(let S=0;S<d.length;++S)m[p]===d[S]&&v.push(a[d[S]].value);f.format!==void 0&&f.format!==null||(f.format=VC(v.length)),f.value=k1(f.format,v).trim()}l.push(f)}return l}(e,this.#n)}this.#o=t}#l=e=>{e.dataid===this.#t&&e.data!==void 0&&e.data.imageUid!==void 0&&this.#o!==e.data.imageUid&&(this.#o=e.data.imageUid,this.#d(e))};#d=e=>{if(e.dataid!==this.#t)return;const t=this.#a[this.#o];if(t!==void 0){for(let i=0;i<t.length;++i){let a;if(t[i].tags!==void 0)e.type==="positionchange"&&(a=t[i].value);else if(t[i].event!==void 0&&t[i].event===e.type){const o=t[i].format;let l=e.value;if(t[i].precision!==void 0){let c=null;c=t[i].precision==="round"?Math.round:_I(t[i].precision),l=l.map(c)}a=k1(o,l)}a!==void 0&&(t[i].value=a)}this.#c({type:"valuechange",data:t})}else console.warn("No slice overlay data for: "+this.#o)};isListening(){return this.#i}addAppListeners(){this.#e.addEventListener("positionchange",this.#l);for(let e=0;e<this.#r.length;++e)this.#e.addEventListener(this.#r[e],this.#d);this.#i=!0}removeAppListeners(){this.#e.removeEventListener("positionchange",this.#l);for(let e=0;e<this.#r.length;++e)this.#e.removeEventListener(this.#r[e],this.#d);this.#i=!1}addEventListener(e,t){this.#s.add(e,t)}removeEventListener(e,t){this.#s.remove(e,t)}#c(e){this.#s.fireEvent(e)}}class N3{divId;orientation;colourMap;opacity;wlPresetName;windowCenter;windowWidth;constructor(e){this.divId=e}}class FI{#e=null;#t=null;#n=null;#r=null;#i=null;#a=null;#o=new K0;#s={};#l=new Kn;getData(e){return this.#t.get(e)}getImage(e){let t;return this.getData(e)!==void 0&&(t=this.getData(e).image),t}setImage(e,t){this.#t.setImage(e,t)}addData(e){const t=this.#t.getNextDataId();return this.#t.add(t,e),t}getMetaData(e){let t;return this.#t.get(e)!==void 0&&(t=this.#t.get(e).meta),t}getDataIds(){return this.#t.getDataIds()}getDataIdsFromSopUids(e){return this.#t.getDataIdsFromSopUids(e)}canScroll(){return this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().canScroll()}canWindowLevel(){return this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().canWindowLevel()}getAddedScale(){return this.#i.getActiveLayerGroup().getAddedScale()}getBaseScale(){return this.#i.getActiveLayerGroup().getBaseScale()}getOffset(){return this.#i.getActiveLayerGroup().getOffset()}getToolboxController(){return this.#n}getActiveLayerGroup(){return this.#i.getActiveLayerGroup()}setActiveLayerGroup(e){this.#i.setActiveLayerGroup(e)}getViewLayersByDataId(e){return this.#i.getViewLayersByDataId(e)}getViewLayers(e){return this.#i.getViewLayers(e)}getDrawLayersByDataId(e){return this.#i.getDrawLayersByDataId(e)}getDrawLayers(e){return this.#i.getDrawLayers(e)}getLayerGroupByDivId(e){return this.#i.getLayerGroupByDivId(e)}getNumberOfLayerGroups(){return this.#i.getNumberOfLayerGroups()}getStyle(){return this.#o}addToUndoStack=e=>{this.#a!==null&&this.#a.add(e)};removeFromUndoStack=e=>{let t=!1;return this.#a!==null&&(t=this.#a.remove(e)),t};init(e){if(this.#e=e,this.#e.viewOnFirstLoadItem===void 0&&(this.#e.viewOnFirstLoadItem=!0),this.#e.dataViewConfigs===void 0&&(this.#e.dataViewConfigs={}),this.#e.rootDocument===void 0&&(this.#e.rootDocument=document),this.#a=new gC,this.#a.addEventListener("undoadd",this.#u),this.#a.addEventListener("undo",this.#u),this.#a.addEventListener("redo",this.#u),this.#e.tools!==void 0){const t={},i=Object.keys(this.#e.tools);for(let a=0;a<i.length;++a){const o=i[a];let l=hI[o];if(l===void 0&&(l=dI[o]),l!==void 0){if(t[o]=new l(this),t[o].addEventListener!==void 0){const d=t[o].getEventNames();for(let h=0;h<d.length;++h)t[o].addEventListener(d[h],this.#u)}const c=this.#e.tools[o];if(c.options!==void 0&&c.options.length!==0){let d,h="raw";if(t[o].getOptionsType!==void 0&&(h=t[o].getOptionsType()),h==="instance"||h==="factory"){d={};for(let f=0;f<c.options.length;++f){const m=c.options[f];let v=m;h==="factory"&&(v+="Factory");const p=o.charAt(0).toLowerCase()+o.slice(1);let S,y=U0[p];y!==void 0&&(S=y[v]),S===void 0&&(y=Dg[p],y!==void 0&&(S=y[v])),S!==void 0?d[m]=S:De.warn("Could not find option class for: "+m)}}else d=c.options;t[o].setOptions(d)}}else De.warn("Could not initialise unknown tool: "+o)}this.#n=new SI(t)}this.#r=new EI(this.#e.defaultCharacterSet),this.#r.onloadstart=this.#h,this.#r.onprogress=this.#f,this.#r.onloaditem=this.#g,this.#r.onload=this.#m,this.#r.onloadend=this.#p,this.#r.onerror=this.#b,this.#r.ontimeout=this.#S,this.#r.onabort=this.#y,this.#t=new kL,this.#t.addEventListener("dataadd",this.#u),this.#t.addEventListener("dataremove",this.#u),this.#t.addEventListener("dataimageset",this.#u),this.#t.addEventListener("dataupdate",this.#u),this.#t.addEventListener("imagecontentchange",this.#u),this.#t.addEventListener("imagegeometrychange",this.#u),this.#t.addEventListener("annotationadd",this.#u),this.#t.addEventListener("annotationupdate",this.#u),this.#t.addEventListener("annotationremove",this.#u),this.#t.addEventListener("annotationgroupeditablechange",this.#u),this.#i=new pI,this.#e.binders!==void 0&&this.#i.setBinders(this.#e.binders)}reset(){this.#i.empty(),this.#s={},this.#a&&(this.#a=new gC,this.#a.addEventListener("undoadd",this.#u),this.#a.addEventListener("undo",this.#u),this.#a.addEventListener("redo",this.#u))}resetLayout(){this.#i.reset(),this.#i.draw()}resetZoomPan(){this.#i.resetZoomPan(),this.#i.draw()}resetViews(){this.#i.resetViews()}addEventListener(e,t){this.#l.add(e,t)}removeEventListener(e,t){this.#l.remove(e,t)}loadFiles=e=>{if(e.length===0)return De.warn("Ignoring empty input file list."),"-1";const t=this.#t.getNextDataId();return this.#r.loadFiles(e,t),t};loadURLs=(e,t)=>{if(e.length===0)return De.warn("Ignoring empty input url list."),"-1";const i=this.#t.getNextDataId();return this.#r.loadURLs(e,i,t),i};loadFromUri=(e,t)=>{const i=function(o){const l=fC(o);return Object.keys(l).length===0?null:l.query}(e),a=()=>{this.removeEventListener("loadend",a),this.loadURLs([i.state])};i&&i.input!==void 0&&(i.state!==void 0&&this.addEventListener("loadend",a),function(o,l,c){o.type&&o.type==="manifest"?function(d,h){let f="";d.input[0]==="/"&&(f=window.location.protocol+"//"+window.location.host),f+=d.input;const m=new XMLHttpRequest;m.open("GET",decodeURIComponent(f),!0),m.responseType="document",m.onload=function(v){h(function(p,S){const y=[],b=p.getElementsByTagName("wado_query")[0].getAttribute("wadoURL")+"?requestType=WADO&contentType=application/dicom&",w=p.getElementsByTagName("Patient");w.length>1&&De.warn("More than one patient, loading first one.");const D=w[0].getElementsByTagName("Study");D.length>1&&De.warn("More than one study, loading first one.");const C=D[0].getAttribute("StudyInstanceUID"),x=D[0].getElementsByTagName("Series");x.length>1&&De.warn("More than one series, loading first one.");const R=x[0].getAttribute("SeriesInstanceUID"),I=x[0].getElementsByTagName("Instance");let k=I.length;S<k&&(k=S);for(let _=0;_<k;++_){const M=b+"&studyUID="+C+"&seriesUID="+R+"&objectUID="+I[_].getAttribute("SOPInstanceUID");y.push(M)}return y}(v.target.responseXML,d.nslices))},m.onerror=function(v){De.warn("RequestError while receiving manifest: "+v.target.status)},m.send(null)}(o,l):l(function(d,h){const f=[];let m="key";h&&(m=h);const v=decodeURIComponent(d),p=fC(v);if(Object.keys(p).length===0)f.push(v);else{const S=Object.keys(p.query);let y=null;for(let b=0;b<S.length;++b)if(p.query[S[b]]instanceof Array){y=S[b];break}if(y){const b=p.query[y];let w=p.base;w!==""&&y!=="file"&&(w+="?");let D,C=!1;for(let x=0;x<S.length;++x)S[x]!==y&&(C&&(w+="&"),w+=S[x]+"="+p.query[S[x]],C=!0);for(let x=0;x<b.length;++x)D=w,C&&(D+="&"),m==="key"&&(D+=y+"="),D+=b[x],f.push(D)}else f.push(v)}return f}(o.input,o.dwvReplaceMode),c)}(i,this.loadURLs,t))};loadImageObject=e=>{const t=this.#t.getNextDataId();return this.#r.loadImageObject(e,t),t};abortAllLoads(){const e=this.#r.getLoadingDataIds();for(const t of e)this.abortLoad(t)}abortLoad(e){this.#r.abort(e),this.#t.remove(e),this.#i.removeLayersByDataId(e)}fitToContainer(){this.#i.fitToContainer()}initWLDisplay(){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().initialise()}setImageSmoothing(e){this.#i.setImageSmoothing(e),this.#i.draw()}getViewConfigs(e,t){if(t===void 0&&(t=!1),this.#e.dataViewConfigs===null||this.#e.dataViewConfigs===void 0)throw new Error("No available data view configuration");let i=[];return this.#e.dataViewConfigs[e]!==void 0?i=this.#e.dataViewConfigs[e]:t||this.#e.dataViewConfigs["*"]===void 0||(i=this.#e.dataViewConfigs["*"]),i}getViewConfig(e,t,i){return this.getViewConfigs(e,i).find(function(a){return a.divId===t})}getDataViewConfigs(){return this.#e.dataViewConfigs}setDataViewConfigs(e){this.#i.empty(),this.#e.dataViewConfigs=e,this.#d(e)}addDataViewConfig(e,t){const i=this.#e.dataViewConfigs;if(i[e]===void 0&&(i[e]=[]),i[e].findIndex(function(a){return a.divId===t.divId})!==-1)throw new Error("Duplicate view config for data "+e+" and div "+t.divId);this.#e.dataViewConfigs[e].push(t),this.#i.getLayerGroupByDivId(t.divId)===void 0&&this.#c(t),this.#t.get(e)!==void 0&&this.render(e,[t])}removeDataViewConfig(e,t){const i=this.#e.dataViewConfigs;if(i[e]===void 0)return;const a=i[e].findIndex(function(l){return l.divId===t});if(a===-1)return;i[e].splice(a,1),i[e].length===0&&delete i[e];const o=this.#i.getLayerGroupByDivId(t);if(o!==void 0){const l=o.getViewLayersByDataId(e);l.length===1&&o.removeLayer(l[0]);const c=o.getDrawLayersByDataId(e);c.length===1&&o.removeLayer(c[0]),o.getNumberOfLayers()===0&&this.#i.removeLayerGroup(o)}}updateDataViewConfig(e,t,i){const a=this.#e.dataViewConfigs;if(a[e]===void 0)throw new Error("No config for dataId: "+e);const o=a[e].findIndex(function(d){return d.divId===t});if(o===-1)throw new Error("No config for dataId: "+e+" and divId: "+t);const l=a[e][o];for(const d in i)l[d]=i[d];const c=this.#i.getLayerGroupByDivId(l.divId);if(c!==void 0){const d=c.getViewLayersByDataId(e);d.length===1&&c.removeLayer(d[0]);const h=c.getDrawLayersByDataId(e);h.length===1&&c.removeLayer(h[0])}this.#t.get(e)!==void 0&&this.render(e,[l])}#d(e){const t=Object.keys(e),i=[];for(let a=0;a<t.length;++a){const o=e[t[a]];for(let l=0;l<o.length;++l){const c=o[l];i.includes(c.divId)||(this.#c(c),i.push(c.divId))}}}#c(e){const t=this.#e.rootDocument.getElementById(e.divId),i=this.#i.addLayerGroup(t);this.#C(i)}setLayerGroupsBinders(e){const t=[];for(let i=0;i<e.length;++i)dC[e[i]]!==void 0&&t.push(new dC[e[i]]);this.#i.setBinders(t)}render(e,t){if(e==null)throw new Error("Cannot render without data id");const i=this.getData(e).image!==void 0,a=this.getData(e).annotationGroup!==void 0;if(this.#i.getNumberOfLayerGroups()===0&&this.#d(this.#e.dataViewConfigs),t===void 0&&(t=this.getViewConfigs(e)),t.length!==0)for(let o=0;o<t.length;++o){const l=t[o],c=this.#i.getLayerGroupByDivId(l.divId);if(!c)throw new Error("No layer group for "+l.divId);this.#t.get(e)!==void 0&&(i&&c.getViewLayersByDataId(e).length===0?this.#v(e,l):a&&c.getDrawLayersByDataId(e).length===0&&this.addDrawLayer(e,l)),c.draw()}else De.info("Not rendering data: "+e+" (no data view config)")}zoom(e,t,i){const a=this.#i.getActiveLayerGroup(),o=a.getBaseViewLayer().getViewController().getCurrentScrollPosition(),l=new Et(t,i,o);a.addScale(e,l),a.draw()}translate(e,t){const i=this.#i.getActiveLayerGroup();i.addTranslation({x:e,y:t,z:0}),i.draw()}setOpacity(e){const t=this.#i.getActiveLayerGroup().getActiveViewLayer();t.setOpacity(e),t.draw()}setDrawings(e,t,i){const a=this.#i.getActiveLayerGroup().getBaseViewLayer(),o=a.getDataId(),l=this.getData(o),c=a.getViewController(),d=function(f,m,v){const p=[],S=Ee.default.Node.create(f).getChildren(R3);for(let y=0,b=S.length;y<b;++y){const w=S[y],D=w.getChildren();for(let C=0,x=D.length;C<x;++C){const R=new wr,I=new pt(fI(w.id()));R.referencedSopInstanceUID=v.getImageUid(I);const k=D[0];R.trackingId=k.id(),R.trackingUid=k.id();const _=k.getChildren(ua)[0];if(R.colour=_.stroke(),k.name()==="line-group"){const M=_.points();R.mathShape=new Ae(M[0],M[1]),R.referencePoints=[new Ae(M[2],M[3])]}else if(k.name()==="ruler-group"){const M=_.points();R.mathShape=new Ut(new Ae(M[0],M[1]),new Ae(M[2],M[3]))}else if(k.name()==="rectangle-group")R.mathShape=new Wa(new Ae(_.x(),_.y()),new Ae(_.x()+_.width(),_.y()+_.height()));else if(k.name()==="roi-group"){const M=_.points(),U=[];for(let B=0;B<M.length;B+=2)U.push(new Ae(M[B],M[B+1]));R.mathShape=new Ti(U)}else if(k.name()==="freeHand-group"){De.warn("Converting freehand into ROI shape");const M=_.points(),U=[];for(let B=0;B<M.length;B+=2)U.push(new Ae(M[B],M[B+1]));R.mathShape=new Ti(U)}else if(k.name()==="protractor-group"){const M=_.points();R.mathShape=new $a([new Ae(M[0],M[1]),new Ae(M[2],M[3]),new Ae(M[4],M[5])])}else if(k.name()==="ellipse-group"){const M=_.absolutePosition();R.mathShape=new Ka(new Ae(M.x,M.y),_.radiusX(),_.radiusY())}else if(k.name()==="circle-group"){const M=_.absolutePosition();R.mathShape=new Za(new Ae(M.x,M.y),_.radius())}if(m){const M=m[k.id()];R.textExpr=M.meta.textExpr,R.quantification=M.meta.quantification}p.push(R)}}return p}(e,t,l.image),h=this.createAnnotationData(o);for(const f of d)f.setViewController(c),h.annotationGroup.add(f);this.#t.add(i,h),this.render(i)}applyJsonState(e,t){const i=new mI(t);i.apply(this,i.fromJSON(e))}onResize=()=>{this.fitToContainer()};onKeydown=e=>{this.#u(e)};defaultOnKeydown=e=>{if(e.ctrlKey){if(e.shiftKey){const t=this.#i.getActiveLayerGroup(),i=t.getPositionHelper();e.key==="ArrowLeft"?t.moreThanOne(3)&&i.decrementPosition(3):e.key==="ArrowUp"?t.canScroll()&&i.incrementPositionAlongScroll():e.key==="ArrowRight"?t.moreThanOne(3)&&i.incrementPosition(3):e.key==="ArrowDown"&&t.canScroll()&&i.decrementPositionAlongScroll()}else if(e.key==="y")this.#a.redo();else if(e.key==="z")this.#a.undo();else if(e.key===" ")for(let t=0;t<this.#i.getNumberOfLayerGroups();++t)this.#i.getLayerGroup(t).setShowCrosshair(!this.#i.getLayerGroup(t).getShowCrosshair())}};resetDisplay(){this.resetLayout(),this.initWLDisplay()}resetZoom(){this.resetLayout()}setColourMap(e){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().setColourMap(e)}setWindowLevelPreset(e){this.#i.getActiveLayerGroup().getActiveViewLayer().getViewController().setWindowLevelPreset(e)}setTool(e){for(let t=0;t<this.#i.getNumberOfLayerGroups();++t){const i=this.#i.getLayerGroup(t),a=i.getActiveLayer();a!==void 0&&this.#n.bindLayerGroup(i,a)}this.#n.setSelectedTool(e)}setToolFeatures(e){this.#n.setToolFeatures(e)}undo(){this.#a.undo()}redo(){this.#a.redo()}getStackSize(){return this.#a.getStackSize()}getCurrentStackIndex(){return this.#a.getCurrentStackIndex()}getOverlayData(e){let t;return this.#s!==void 0&&(t=this.#s[e]),t}toggleOverlayListeners(e){const t=this.getOverlayData(e);t!==void 0&&(t.isListening()?t.removeAppListeners():t.addAppListeners())}createAnnotationData(e){const t=this.getData(e).image.getMeta(),i=new mp({});i.annotationGroup=new vc,i.annotationGroup.setMetaValue("Modality","SR");const a=["PatientName","PatientID","PatientBirthDate","PatientSex","StudyDate","StudyTime","StudyInstanceUID","StudyID","StudyDescription"];for(const o of a)i.annotationGroup.setMetaValue(o,t[o]);return i.annotationGroup.setMetaValue("CurrentRequestedProcedureEvidenceSequence",{value:[{ReferencedSeriesSequence:{value:[{SeriesInstanceUID:t.SeriesInstanceUID}]},StudyInstanceUID:t.StudyInstanceUID}]}),i}addAndRenderAnnotationData(e,t,i){const a=this.addData(e),o=this.getViewConfigs(i).find(c=>c.divId===t);if(o===void 0)throw new Error("No reference data view config for draw");const l=new N3(t);l.orientation=o.orientation,this.addDataViewConfig(a,l),this.render(a)}#u=e=>{let t=!0;e.propagate!==void 0&&(t=e.propagate,delete e.propagate),t&&this.#l.fireEvent(e)};#h=e=>{this.#e.overlayConfig!==void 0&&(this.#s[e.dataid]=new MI(this,e.dataid,this.#e.overlayConfig)),e.type="loadstart",this.#u(e)};#f=e=>{e.type="loadprogress",this.#u(e)};#g=e=>{let t;e.data===void 0&&De.error("Missing loaditem event data."),e.loadtype===void 0&&De.error("Missing loaditem event load type."),e.loadtype==="image"?t=e.data.meta:e.loadtype==="state"&&(t="state"),this.#u({type:"loaditem",data:t,source:e.source,loadtype:e.loadtype,dataid:e.dataid,isfirstitem:e.isfirstitem,warn:e.warn});const i=e.isfirstitem;e.loadtype==="image"?i?this.#t.add(e.dataid,e.data):this.#t.update(e.dataid,e.data):e.loadtype==="state"&&this.applyJsonState(e.data,e.dataid),this.#s!==void 0&&this.#s[e.dataid]!==void 0&&this.#s[e.dataid].addItemMeta(t),e.loadtype==="image"&&this.getViewConfigs(e.dataid).length!==0&&i&&this.#e.viewOnFirstLoadItem&&this.render(e.dataid)};#m=e=>{e.type="load",this.#u(e)};#p=e=>{e.type="loadend",this.#u(e)};#b=e=>{e.type===void 0&&(e.type="error"),this.#u(e)};#S=e=>{e.type===void 0&&(e.type="timeout"),this.#u(e)};#y=e=>{e.type===void 0&&(e.type="abort"),this.#u(e)};#C(e){e.addEventListener("zoomchange",this.#u),e.addEventListener("offsetchange",this.#u),e.addEventListener("layerremove",this.#u),e.addEventListener("renderstart",this.#u),e.addEventListener("renderend",this.#u);for(let t=0;t<cs.length;++t)e.addEventListener(cs[t],this.#u);e.addEventListener("wlchange",t=>{const i=k0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.windowCenter=void 0,a.windowWidth=void 0,a.wlPresetName=void 0,t.value.length===3&&(a.windowCenter=t.value[0],a.windowWidth=t.value[1],a.wlPresetName=t.value[2]))}),e.addEventListener("opacitychange",t=>{const i=k0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.opacity=t.value[0])}),e.addEventListener("colourmapchange",t=>{const i=k0(t.srclayerid).groupDivId,a=this.getViewConfig(t.dataid,i,!0);a!==void 0&&(a.colourMap=t.value[0])})}#v(e,t){const i=this.#t.get(e);if(!i)throw new Error("Cannot initialise layer with missing data, id: "+e);const a=this.#i.getLayerGroupByDivId(t.divId);if(!a)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const o=i.image.getGeometry();this.#i.unbindLayerGroups();const l=new NP().create(i.meta,i.image),c=eb(o.getOrientation(),J5(t.orientation));l.setOrientation(c),i.image.getMeta().Modality==="SEG"&&l.setAlphaFunction(function(b){return b===0?0:255});const d=a.getNumberOfViewLayers()===0;let h=1;t.opacity!==void 0?h=t.opacity:d||(h=.5);const f=a.addViewLayer();f.setView(l,e);const m=o.getSize(c).get2D(),v=o.getSpacing(c).get2D();f.initialise(m,v,h);const p=f.getViewController();if(t.wlPresetName!==void 0)p.setWindowLevelPreset(t.wlPresetName);else if(t.windowCenter!==void 0&&t.windowWidth!==void 0){const b=new qn(t.windowCenter,t.windowWidth);p.setWindowLevel(b)}t.colourMap!==void 0?p.setColourMap(t.colourMap):d||(i.image.getMeta().Modality==="PT"?p.setColourMap("hot"):p.setColourMap("rainbow")),this.#t.addEventListener("dataimageset",f.onimageset);const S=[p.getCurrentIndex().getValues(),p.getCurrentPosition().getValues()];a.updateLayersToPositionChange({value:S,srclayerid:f.getId()}),this.#i.fitToContainer(),f.setOffset(a.getOffset());const y=this.#D(o.getOrientation(),t.orientation);if(this.#T(y,f),d)f.setScale(a.getScale());else{const b=a.getBaseViewLayer();f.initScale(a.getScale(),b.getAbsoluteZoomOffset())}this.#i.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(a,f),this.#u({type:"viewlayeradd",layerid:f.getId(),layergroupid:a.getDivId(),dataid:e}),d&&this.#n&&this.#n.init()}#w(e,t){let i;const a=e.getMetaValue("CurrentRequestedProcedureEvidenceSequence");if(a!==void 0){const l=a.value[0],c=l?.ReferencedSeriesSequence,d=c?.value[0],h=d?.SeriesInstanceUID,f={SeriesInstanceUID:h},m=t.searchViewLayers(f);m.length!==0&&(i=m[0])}const o=e.getMetaValue("ReferencedSeriesSequence");if(o!==void 0){const l=o.value[0],c=l?.SeriesInstanceUID,d={SeriesInstanceUID:c},h=t.searchViewLayers(d);h.length!==0&&(i=h[0])}if(i===void 0)for(const l of e.getList()){const c={SOPInstanceUID:l.referencedSopInstanceUID,SOPClassUID:l.referencedSopClassUID},d=t.searchViewLayers(c);if(d.length!==0){i=d[0];break}}return i}addDrawLayer(e,t){const i=this.#i.getLayerGroupByDivId(t.divId);if(!i)throw new Error("Cannot initialise layer with missing group, id: "+t.divId);const a=this.#t.get(e);if(!a)throw new Error("Cannot initialise layer with missing data, id: "+e);const o=a.annotationGroup,l=this.#w(o,i);if(l===void 0)return void console.warn("No loaded data that matches the measurements reference series UID");const c=l.getDataId();this.#i.unbindLayerGroups();const d=l.getViewController();a.annotationGroup.setViewController(d);const h=this.#t.get(c);if(!h)throw new Error("Cannot initialise layer without reference data, id: "+c);const f=h.image.getGeometry(),m=eb(f.getOrientation(),J5(t.orientation)),v=f.getSize(m).get2D(),p=f.getSpacing(m).get2D(),S=i.addDrawLayer();S.initialise(v,p,l.getId());const y=new A3(f,m);S.setPlaneHelper(y);const b=[d.getCurrentIndex().getValues(),d.getCurrentPosition().getValues()];i.updateLayersToPositionChange({value:b,srclayerid:S.getId()}),this.#i.fitToContainer(),S.setOffset(i.getOffset());const w=this.#D(f.getOrientation(),t.orientation);this.#T(w,S),S.initScale(i.getScale(),l.getAbsoluteZoomOffset()),S.setAnnotationGroup(a.annotationGroup,e,this.addToUndoStack),S.setCurrentPosition(d.getCurrentPosition(),d.getCurrentIndex()),this.#i.bindLayerGroups(),this.#n&&this.#n.bindLayerGroup(i,S),this.#u({type:"drawlayeradd",layerid:S.getId(),layergroupid:i.getDivId(),dataid:e})}#D(e,t){const i=h3(e.asOneAndZeros());if(i===void 0)throw new Error("Unsupported undefined orientation code");const a=t===void 0,o=!a&&t===xr.Axial,l=!a&&t===xr.Coronal,c=!a&&t===xr.Sagittal,d={x:!1,y:!1},h={x:!1,y:!1,z:!1};return i==="LPS"?(l||c)&&(h.z=!0,d.y=!0):i==="LAI"?a||o?d.y=!0:l?h.z=!0:c&&(h.z=!0,d.x=!0):i==="RPI"?a||o?d.x=!0:l?(h.z=!0,d.x=!0):c&&(h.z=!0):i==="RAS"?(d.x=!0,d.y=!0,(l||c)&&(h.z=!0)):i==="LSA"?(d.y=!0,a||l?h.z=!0:o?h.y=!0:c&&(d.x=!0,h.y=!0,h.z=!0)):i==="RSP"?a||l?(d.x=!0,d.y=!0,h.x=!0,h.z=!0):o?(d.x=!0,h.x=!0):c&&(d.y=!0,h.z=!0):i==="RIA"?(d.x=!0,a||l?h.x=!0:o?(d.y=!0,h.x=!0,h.y=!0):c&&(h.y=!0)):i==="PSL"?(h.z=!0,(a||c||l)&&(d.y=!0)):i==="PIR"?(h.z=!0,(o||l)&&(d.x=!0)):i==="ASR"?(d.x=!0,d.y=!0,(a||c||l)&&(h.z=!0)):i==="AIL"?a||c?(d.x=!0,h.z=!0):o?d.y=!0:l&&(h.z=!0):i!=="LIP"&&De.warn("Unsupported orientation code: "+i+", display could be incorrect"),{scale:h,offset:d}}#T(e,t){e.offset.x&&t.addFlipOffsetX(),e.offset.y&&t.addFlipOffsetY(),e.scale.x&&t.flipScaleX(),e.scale.y&&t.flipScaleY(),e.scale.z&&t.flipScaleZ()}}const q3=Pr(re.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),ac="TagsTable",Dr={flex:`${ac}-flex`,spacer:`${ac}-spacer`,searchField:`${ac}-searchField`,slider:`${ac}-slider`,container:`${ac}-container`},UI=Fe("div")(({theme:n})=>({[`& .${Dr.flex}`]:{flex:1},[`& .${Dr.spacer}`]:{flex:"1 1 100%"},[`& .${Dr.searchField}`]:{width:"45%"},[`& .${Dr.slider}`]:{margin:20},[`&.${Dr.container}`]:{padding:10,overflow:"hidden"}}));class kI extends Bn.Component{constructor(e){super(e);const t=this.props.data;this.state={fullMetaData:t,searchfor:"",instanceNumber:0};const i=t["00200013"];if(typeof i<"u"){let a=i.value;typeof a=="string"&&(a=[a]),this.state.instanceNumbers=a.map(Number),this.state.instanceNumbers.sort((o,l)=>o-l),this.state.sliderMin=0,this.state.sliderMax=this.state.instanceNumbers.length-1,this.state.instanceNumber=this.state.instanceNumbers[this.state.sliderMin]}this.state.displayData=this.getMetaArray(this.state.instanceNumber),this.filterList=this.filterList.bind(this)}filterList(e,t){var i=e.toLowerCase(),a=this.getMetaArray(t),o=a.filter(function(l){for(var c in l)if(l.hasOwnProperty(c)){var d=l[c];if(typeof d<"u"&&(typeof d!="string"&&(d=d.toString()),d.toLowerCase().indexOf(i)!==-1))return!0}return!1});this.setState({searchfor:e,displayData:o})}getMetaArray(e){let t;return this.isDicomMeta(this.state.fullMetaData)?t=this.getDicomTagReducer(this.state.fullMetaData,e,""):t=this.getTagReducer(this.state.fullMetaData),Object.keys(this.state.fullMetaData).reduce(t,[])}isDicomMeta(e){return typeof e["00020010"]<"u"}getTagReducer(e){return function(t,i){return t.push({name:i,value:e[i].value}),t}}getDicomTagReducer(e,t,i){return(a,o)=>{const l=p3(o);let c=l.getNameFromDictionary();typeof c>"u"&&(c="x"+l.getKey());const d=c,h=e[o];let f=h.value;if(typeof f.slice>"u"&&typeof f[t]<"u"&&(f=f[t]),d==="InstanceNumber"&&(f=t),h.vr==="SQ"){a.push({name:(i?i+" ":"")+d,value:""});for(let m=0;m<f.length;++m){const v=f[m],S=Object.keys(v).reduce(this.getDicomTagReducer(v,t,i+"["+m+"]"),[]);a=a.concat(S)}}else h.vr[0]==="O"&&f.length>10&&(f=f.slice(0,10).toString()+"... (len:"+f.length+")"),a.push({name:(i?i+" ":"")+d,value:f.toString()});return a}}onSliderChange=e=>{const t=parseInt(e.target.value,10),i=this.state.instanceNumbers[t],a=this.getMetaArray(i);this.setState({instanceNumber:i,displayData:a}),this.filterList(this.state.searchfor,i)};onSearch=e=>{var t=e.target.value;this.filterList(t,this.state.instanceNumber)};render(){const{displayData:e,searchfor:t,sliderMin:i,sliderMax:a}=this.state;return re.jsxs(UI,{className:Dr.container,children:[re.jsxs(J4,{direction:"row",spacing:2,children:[re.jsx(xO,{id:"search",type:"search",value:t,className:Dr.searchField,onChange:this.onSearch,margin:"normal",size:"small",slotProps:{input:{startAdornment:re.jsx(S7,{position:"start",children:re.jsx(q3,{})})}}}),re.jsxs(uA,{width:300,display:"flex",alignItems:"center",children:[re.jsx(HR,{title:"Instance number",className:Dr.slider,marks:!0,min:i,max:a,onChange:this.onSliderChange}),re.jsx("div",{title:"Instante number",children:this.state.instanceNumber})]})]}),re.jsx(Uc,{sx:{width:"100%",overflow:"hidden"},children:re.jsx(lO,{sx:{maxHeight:400},children:re.jsxs(WR,{stickyHeader:!0,className:Dr.table,children:[re.jsx(fO,{children:re.jsxs(Qv,{children:[re.jsx(l0,{children:"Tag"}),re.jsx(l0,{children:"Value"})]})}),re.jsx(eO,{children:e.map((o,l)=>re.jsxs(Qv,{children:[re.jsx(l0,{children:o.name}),re.jsx(l0,{children:o.value})]},l))})]})})})]})}}const NI=Pr(re.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),qI=Pr(re.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),BI=Pr(re.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),GI=Pr(re.jsx("path",{d:"M12 22c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m1-17.93c3.94.49 7 3.85 7 7.93s-3.05 7.44-7 7.93z"})),zI=Pr(re.jsx("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1 9H9V9h10zm-4 4H9v-2h6zm4-8H9V5h10z"})),VI=Pr(re.jsx("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"})),QI=Pr([re.jsx("path",{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"},"0"),re.jsx("path",{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51m2.38 21.45c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48z"},"1")]),N1="DwvComponent",rs={appBar:`${N1}-appBar`,title:`${N1}-title`,iconSmall:`${N1}-iconSmall`},HI=Fe("div")(({theme:n})=>({[`& .${rs.appBar}`]:{position:"relative"},[`& .${rs.title}`]:{flex:"0 0 auto"},[`& .${rs.iconSmall}`]:{fontSize:20}})),jI=Bn.forwardRef((n,e)=>re.jsx(jA,{direction:"up",...n,ref:e}));class YI extends Bn.Component{constructor(e){super(e),this.state={versions:{dwv:JP(),react:Bn.version},tools:{Scroll:{},ZoomAndPan:{},WindowLevel:{},Draw:{options:["Ruler"]}},canScroll:!1,canWindowLevel:!1,selectedTool:"Select Tool",loadProgress:0,dataLoaded:!1,dwvApp:null,metaData:{},orientation:void 0,showDicomTags:!1,dropboxDivId:"dropBox",dropboxClassName:"dropBox",borderClassName:"dropBoxBorder",hoverClassName:"hover"}}render(){const{versions:e,tools:t,loadProgress:i,dataLoaded:a,metaData:o}=this.state,l=(d,h)=>{h&&this.onChangeTool(h)},c=Object.keys(t).map(d=>re.jsx(c0,{value:d,title:d,disabled:!a||!this.canRunTool(d),children:this.getToolIcon(d)},d));return re.jsxs(HI,{className:rs.root,id:"dwv",children:[re.jsx(I7,{variant:"determinate",value:i}),re.jsxs(J4,{direction:"row",spacing:1,padding:1,justifyContent:"center",flexWrap:"wrap",children:[re.jsx(_O,{size:"small",color:"primary",value:this.state.selectedTool,exclusive:!0,onChange:l,children:c}),re.jsx(c0,{size:"small",value:"reset",title:"Reset",disabled:!a,onChange:this.onReset,children:re.jsx(qI,{})}),re.jsx(c0,{size:"small",value:"toggleOrientation",title:"Toggle Orientation",disabled:!a,onClick:this.toggleOrientation,children:re.jsx(QI,{})}),re.jsx(c0,{size:"small",value:"tags",title:"Tags",disabled:!a,onClick:this.handleTagsDialogOpen,children:re.jsx(zI,{})}),re.jsxs(VA,{open:this.state.showDicomTags,onClose:this.handleTagsDialogClose,slots:{transition:jI},children:[re.jsx(Hx,{className:rs.appBar,position:"sticky",children:re.jsxs(SO,{children:[re.jsx(Ux,{color:"inherit",onClick:this.handleTagsDialogClose,"aria-label":"Close",children:re.jsx(NI,{})}),re.jsx(Q0,{variant:"h6",color:"inherit",className:rs.flex,children:"DICOM Tags"})]})}),re.jsx(kI,{data:o})]})]}),re.jsx("div",{id:"layerGroup0",className:"layerGroup",children:re.jsx("div",{id:"dropBox"})}),re.jsx("div",{children:re.jsx("p",{className:"legend",children:re.jsxs(Q0,{variant:"caption",children:["Powered by ",re.jsx(Rv,{href:"https://github.com/ivmartel/dwv",title:"dwv on github",color:"inherit",children:"dwv"})," ",e.dwv," and ",re.jsx(Rv,{href:"https://github.com/facebook/react",title:"react on github",color:"inherit",children:"React"})," ",e.react]})})})]})}componentDidMount(){const e=new FI;e.init({dataViewConfigs:{"*":[{divId:"layerGroup0"}]},tools:this.state.tools});let t=null,i=null,a=null,o=null;e.addEventListener("loadstart",()=>{t=0,i=0,a=0,o=!0,this.showDropbox(e,!1)}),e.addEventListener("loadprogress",l=>{this.setState({loadProgress:l.loaded})}),e.addEventListener("renderend",l=>{if(o){o=!1;const d=this.state.dwvApp.getViewLayersByDataId(l.dataid)[0].getViewController();d.canScroll()&&this.setState({canScroll:!0}),d.isMonochrome()&&this.setState({canWindowLevel:!0});let h="ZoomAndPan";d.canScroll()&&(h="Scroll"),this.onChangeTool(h)}}),e.addEventListener("load",l=>{this.setState({metaData:e.getMetaData(l.dataid)}),this.setState({loadProgress:100}),this.setState({dataLoaded:!0})}),e.addEventListener("loadend",()=>{i&&(this.setState({loadProgress:0}),alert("Received errors during load. Check log for details."),t||this.showDropbox(e,!0)),a&&(this.setState({loadProgress:0}),alert("Load was aborted."),this.showDropbox(e,!0))}),e.addEventListener("loaditem",()=>{++t}),e.addEventListener("loaderror",l=>{console.error(l.error),++i}),e.addEventListener("loadabort",()=>{++a}),e.addEventListener("keydown",l=>{e.defaultOnKeydown(l)}),window.addEventListener("resize",e.onResize),this.setState({dwvApp:e}),this.setupDropbox(e),e.loadFromUri(window.location.href)}getToolIcon=e=>{let t;return e==="Scroll"?t=re.jsx(BI,{}):e==="ZoomAndPan"?t=re.jsx(q3,{}):e==="WindowLevel"?t=re.jsx(GI,{}):e==="Draw"&&(t=re.jsx(VI,{})),t};onChangeTool=e=>{this.state.dwvApp&&(this.setState({selectedTool:e}),this.state.dwvApp.setTool(e),e==="Draw"?this.onChangeShape(this.state.tools.Draw.options[0]):this.state.dwvApp.getActiveLayerGroup()?.setActiveLayer(0))};canRunTool=e=>{let t;return e==="Scroll"?t=this.state.canScroll:e==="WindowLevel"?t=this.state.canWindowLevel:t=!0,t};toggleOrientation=()=>{typeof this.state.orientation<"u"?this.state.orientation==="axial"?this.state.orientation="coronal":this.state.orientation==="coronal"?this.state.orientation="sagittal":this.state.orientation==="sagittal"&&(this.state.orientation="axial"):this.state.orientation="coronal";const e={"*":[{divId:"layerGroup0",orientation:this.state.orientation}]};this.state.dwvApp.setDataViewConfigs(e);const t=this.state.dwvApp.getDataIds();for(const i of t)this.state.dwvApp.render(i)};onChangeShape=e=>{this.state.dwvApp&&this.state.dwvApp.setToolFeatures({shapeName:e})};onReset=()=>{this.state.dwvApp&&this.state.dwvApp.resetLayout()};handleTagsDialogOpen=()=>{this.setState({showDicomTags:!0})};handleTagsDialogClose=()=>{this.setState({showDicomTags:!1})};setupDropbox=e=>{this.showDropbox(e,!0)};defaultHandleDragEvent=e=>{e.stopPropagation(),e.preventDefault()};onBoxDragOver=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)===-1&&(t.className+=" "+this.state.hoverClassName)};onBoxDragLeave=e=>{this.defaultHandleDragEvent(e);const t=document.getElementById(this.state.dropboxDivId);t&&t.className.indexOf(this.state.hoverClassName)!==-1&&(t.className=t.className.replace(" "+this.state.hoverClassName,""))};onDrop=e=>{this.defaultHandleDragEvent(e),this.state.dwvApp.loadFiles(e.dataTransfer.files)};onInputFile=e=>{e.target&&e.target.files&&this.state.dwvApp.loadFiles(e.target.files)};showDropbox=(e,t)=>{const i=document.getElementById(this.state.dropboxDivId);if(!i)return;const a=document.getElementById("layerGroup0");if(t){if(i.className=this.state.dropboxClassName+" "+this.state.borderClassName,i.innerHTML===""){const o=document.createElement("p");o.appendChild(document.createTextNode("Drag and drop data here or "));const l=document.createElement("input");l.onchange=this.onInputFile,l.type="file",l.multiple=!0,l.id="input-file",l.style.display="none";const c=document.createElement("label");c.htmlFor="input-file";const d=document.createElement("a");d.appendChild(document.createTextNode("click here")),d.id="input-file-link",c.appendChild(d),o.appendChild(l),o.appendChild(c),i.appendChild(o)}i.setAttribute("style","display:initial"),a&&(a.removeEventListener("dragover",this.defaultHandleDragEvent),a.removeEventListener("dragleave",this.defaultHandleDragEvent),a.removeEventListener("drop",this.onDrop)),i.addEventListener("dragover",this.onBoxDragOver),i.addEventListener("dragleave",this.onBoxDragLeave),i.addEventListener("drop",this.onDrop)}else i.className=this.state.dropboxClassName,i.innerHTML="",i.setAttribute("style","display:none"),i.removeEventListener("dragover",this.onBoxDragOver),i.removeEventListener("dragleave",this.onBoxDragLeave),i.removeEventListener("drop",this.onDrop),a&&(a.addEventListener("dragover",this.defaultHandleDragEvent),a.addEventListener("dragleave",this.defaultHandleDragEvent),a.addEventListener("drop",this.onDrop))}}function XI(){const n=MO("(prefers-color-scheme: dark)"),e=md({typography:{useNextVariants:!0},palette:{primary:{main:c8[500]},secondary:{main:l8[500]},mode:n?"dark":"light"}});return re.jsxs(G9,{theme:e,children:[re.jsx(mA,{}),re.jsx("div",{className:"App",children:re.jsx(YI,{})})]})}s8.createRoot(document.getElementById("app")).render(re.jsx(K.StrictMode,{children:re.jsx(XI,{})}));
